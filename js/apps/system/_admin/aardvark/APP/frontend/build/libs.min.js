function snippetPopup(t){top.consoleRef=window.open("","myconsole","width=600,height=300,left=50,top=50,menubar=0,toolbar=0,location=0,status=0,scrollbars=1,resizable=1"),top.consoleRef.document.writeln("<html><head><title>Snippet :: Code View :: "+location.href+'</title></head><body bgcolor=white onLoad="self.focus()"><pre>'+t+"</pre></body></html>"),top.consoleRef.document.close()}function sh_isEmailAddress(t){return!/^mailto:/.test(t)&&-1!==t.indexOf("@")}function sh_setHref(t,e,n){var i=n.substring(t[e-2].pos,t[e-1].pos);2<=i.length&&"<"===i.charAt(0)&&">"===i.charAt(i.length-1)&&(i=i.substr(1,i.length-2)),sh_isEmailAddress(i)&&(i="mailto:"+i),t[e-2].node.href=i}function sh_konquerorExec(t){var e=[""];return e.index=t.length,e.input=t,e}function sh_highlightString(o,t){if(/Konqueror/.test(navigator.userAgent)&&!t.konquered){for(var e=0;e<t.length;e++)for(var n=0;n<t[e].length;n++){var i=t[e][n][0];"$"===i.source&&(i.exec=sh_konquerorExec)}t.konquered=!0}var a=document.createElement("a"),l=document.createElement("span"),c=[],h=0,u=[],d=0,f=null,r=function(t,e){var n=t.length;if(0!==n){if(!e){var i=u.length;if(0!==i){var r=u[i-1];r[3]||(e=r[1])}}var s;if(f!==e&&(f&&(c[h++]={pos:d},"sh_url"===f&&sh_setHref(c,h,o)),e))(s="sh_url"===e?a.cloneNode(!1):l.cloneNode(!1)).className=e,c[h++]={node:s,pos:d};d+=n,f=e}},s=/\r\n|\r|\n/g;s.lastIndex=0;for(var p=o.length;d<p;){var g,m,v=d,y=s.exec(o);null===y?m=g=p:(g=y.index,m=s.lastIndex);for(var b=o.substring(v,g),_=[];;){var w,x=d-v,A=u.length,C=t[w=0===A?0:u[A-1][2]],E=C.length,k=_[w];k||(k=_[w]=[]);for(var S=null,F=-1,T=0;T<E;T++){var D;if(T<k.length&&(null===k[T]||x<=k[T].index))D=k[T];else{var M=C[T][0];M.lastIndex=x,D=M.exec(b),k[T]=D}if(null!==D&&(null===S||D.index<S.index)&&(F=T,(S=D).index===x))break}if(null===S){r(b.substring(x),null);break}S.index>x&&r(b.substring(x,S.index),null);var P=C[F],L=P[1];if(L instanceof Array)for(var B=0;B<L.length;B++)r(S[B+1],L[B]);else r(S[0],L);switch(P[2]){case-1:break;case-2:u.pop();break;case-3:u.length=0;break;default:u.push(P)}}f&&(c[h++]={pos:d},"sh_url"===f&&sh_setHref(c,h,o),f=null),d=m}return c}function sh_getClasses(t){var e=[],n=t.className;if(n&&0<n.length)for(var i=n.split(" "),r=0;r<i.length;r++)0<i[r].length&&e.push(i[r]);return e}function sh_addClass(t,e){for(var n=sh_getClasses(t),i=0;i<n.length;i++)if(e.toLowerCase()===n[i].toLowerCase())return;n.push(e),t.className=n.join(" ")}function sh_extractTagsFromNodeList(t,e){for(var n=t.length,i=0;i<n;i++){var r=t.item(i);switch(r.nodeType){case 1:var s;if("br"===r.nodeName.toLowerCase())s=/MSIE/.test(navigator.userAgent)?"\r":"\n",e.text.push(s),e.pos++;else e.tags.push({node:r.cloneNode(!1),pos:e.pos}),sh_extractTagsFromNodeList(r.childNodes,e),e.tags.push({pos:e.pos});break;case 3:case 4:e.text.push(r.data),e.pos+=r.length}}}function sh_extractTags(t,e){var n={text:[]};return n.tags=e,n.pos=0,sh_extractTagsFromNodeList(t.childNodes,n),n.text.join("")}function sh_mergeTags(t,e){var n=t.length;if(0===n)return e;var i=e.length;if(0===i)return t;for(var r=[],s=0,o=0;s<n&&o<i;){var a=t[s],l=e[o];a.pos<=l.pos?(r.push(a),s++):(r.push(l),e[o+1].pos<=a.pos?(o++,r.push(e[o]),o++):(r.push({pos:a.pos}),e[o]={node:l.node.cloneNode(!1),pos:a.pos}))}for(;s<n;)r.push(t[s]),s++;for(;o<i;)r.push(e[o]),o++;return r}function sh_insertTags(t,e){for(var n=document,i=document.createDocumentFragment(),r=0,s=t.length,o=0,a=e.length,l=i;o<a||r<s;){var c,h;if(r<s?h=(c=t[r]).pos:h=a,h<=o){if(c.node){var u=c.node;l.appendChild(u),l=u}else l=l.parentNode;r++}else l.appendChild(n.createTextNode(e.substring(o,h))),o=h}return i}function sh_highlightElement(t,e){sh_addClass(t,"sh_sourceCode");for(var n=[],i=sh_extractTags(t,n),r=sh_insertTags(sh_mergeTags(n,sh_highlightString(i,e)),i);t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(r)}function sh_getXMLHttpRequest(){if(window.ActiveXObject)return new ActiveXObject("Msxml2.XMLHTTP");if(window.XMLHttpRequest)return new XMLHttpRequest;throw"No XMLHttpRequest implementation available"}function sh_load(language,element,prefix,suffix){if(language in sh_requests)sh_requests[language].push(element);else{sh_requests[language]=[element];var request=sh_getXMLHttpRequest(),url=prefix+"sh_"+language+suffix;request.open("GET",url,!0),request.onreadystatechange=function(){if(4===request.readyState)try{if(request.status&&200!==request.status)throw"HTTP error: status "+request.status;eval(request.responseText);for(var elements=sh_requests[language],i=0;i<elements.length;i++)sh_highlightElement(elements[i],sh_languages[language])}finally{request=null}},request.send(null)}}function sh_highlightDocument(t,e){for(var n=document.getElementsByTagName("pre"),i=0;i<n.length;i++){var r=n.item(i),s=r.className.toLowerCase(),o=s.replace(/sh_sourcecode/g,"");if(-1!=o.indexOf("sh_")&&(o=o.match(/(\bsh_)\w+\b/g)[0]),-1==s.indexOf("sh_sourcecode")&&"sh_"===o.substr(0,3)){var a=o.substring(3);if(a in sh_languages)sh_highlightElement(r,sh_languages[a]);else{if("string"!=typeof t||"string"!=typeof e){console.log('Found <pre> element with class="'+o+'", but no such language exists');continue}sh_load(a,r,t,e)}break}}}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(p,t){var e=[],h=e.slice,g=e.concat,a=e.push,r=e.indexOf,n={},i=n.toString,m=n.hasOwnProperty,s="".trim,v={},y=p.document,o="2.1.0",A=function(t,e){return new A.fn.init(t,e)},l=/^-ms-/,c=/-([\da-z])/gi,u=function(t,e){return e.toUpperCase()};function d(t){var e=t.length,n=A.type(t);return"function"!==n&&!A.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t))}A.fn=A.prototype={jquery:o,constructor:A,selector:"",length:0,toArray:function(){return h.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:h.call(this)},pushStack:function(t){var e=A.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return A.each(this,t,e)},map:function(n){return this.pushStack(A.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:a,sort:e.sort,splice:e.splice},A.extend=A.fn.extend=function(){var t,e,n,i,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||A.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=o[e],o!==(i=t[e])&&(c&&i&&(A.isPlainObject(i)||(r=A.isArray(i)))?(r?(r=!1,s=n&&A.isArray(n)?n:[]):s=n&&A.isPlainObject(n)?n:{},o[e]=A.extend(c,s,i)):void 0!==i&&(o[e]=i));return o},A.extend({expando:"jQuery"+(o+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===A.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return 0<=t-parseFloat(t)},isPlainObject:function(t){if("object"!==A.type(t)||t.nodeType||A.isWindow(t))return!1;try{if(t.constructor&&!m.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[i.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=A.trim(t))&&(1===t.indexOf("use strict")?((e=y.createElement("script")).text=t,y.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(l,"ms-").replace(c,u)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i=0,r=t.length,s=d(t);if(n){if(s)for(;i<r&&!1!==e.apply(t[i],n);i++);else for(i in t)if(!1===e.apply(t[i],n))break}else if(s)for(;i<r&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":s.call(t)},makeArray:function(t,e){var n=e||[];return null!=t&&(d(Object(t))?A.merge(n,"string"==typeof t?[t]:t):a.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:r.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,s=t.length,o=!n;r<s;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var i,r=0,s=t.length,o=[];if(d(t))for(;r<s;r++)null!=(i=e(t[r],r,n))&&o.push(i);else for(r in t)null!=(i=e(t[r],r,n))&&o.push(i);return g.apply([],o)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),A.isFunction(t)?(i=h.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(h.call(arguments)))}).guid=t.guid=t.guid||A.guid++,r):void 0},now:Date.now,support:v}),A.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var f=function(n){var t,p,_,s,i,g,w,c,h,m,x,r,v,y,o,a,b,A="sizzle"+-new Date,C=n.document,E=0,u=0,l=nt(),d=nt(),f=nt(),k=function(t,e){return t===e&&(h=!0),0},S="undefined",F={}.hasOwnProperty,e=[],T=e.pop,D=e.push,M=e.push,P=e.slice,L=e.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=R.replace("w","w#"),I="\\["+$+"*("+R+")"+$+"*(?:([*^$|!~]?=)"+$+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)"+$+"*\\]",N=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",z=new RegExp("^"+$+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$+"+$","g"),H=new RegExp("^"+$+"*,"+$+"*"),j=new RegExp("^"+$+"*([>+~]|"+$+")"+$+"*"),W=new RegExp("="+$+"*([^\\]'\"]*?)"+$+"*\\]","g"),V=new RegExp(N),U=new RegExp("^"+O+"$"),Y={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$+"*(even|odd|(([+-]|)(\\d*)n|)"+$+"*(?:([+-]|)"+$+"*(\\d+)|))"+$+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+$+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$+"*((?:-\\d)?\\d*)"+$+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,Q=/'|\\/g,J=new RegExp("\\\\([\\da-f]{1,6}"+$+"?|("+$+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{M.apply(e=P.call(C.childNodes),C.childNodes),e[C.childNodes.length].nodeType}catch(t){M={apply:e.length?function(t,e){D.apply(t,P.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function et(t,e,n,i){var r,s,o,a,l,c,h,u,d,f;if((e?e.ownerDocument||e:C)!==x&&m(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=(e=e||x).nodeType)&&9!==a)return[];if(v&&!i){if(r=K.exec(t))if(o=r[1]){if(9===a){if(!(s=e.getElementById(o))||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(o))&&b(e,s)&&s.id===o)return n.push(s),n}else{if(r[2])return M.apply(n,e.getElementsByTagName(t)),n;if((o=r[3])&&p.getElementsByClassName&&e.getElementsByClassName)return M.apply(n,e.getElementsByClassName(o)),n}if(p.qsa&&(!y||!y.test(t))){if(u=h=A,d=e,f=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=dt(t),(h=e.getAttribute("id"))?u=h.replace(Q,"\\$&"):e.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+ft(c[l]);d=X.test(t)&&ht(e.parentNode)||e,f=c.join(",")}if(f)try{return M.apply(n,d.querySelectorAll(f)),n}catch(t){}finally{h||e.removeAttribute("id")}}}return function(t,e,n,i){var r,s,o,a,l,c=dt(t);if(!i&&1===c.length){if(2<(s=c[0]=c[0].slice(0)).length&&"ID"===(o=s[0]).type&&p.getById&&9===e.nodeType&&v&&_.relative[s[1].type]){if(!(e=(_.find.ID(o.matches[0].replace(J,tt),e)||[])[0]))return n;t=t.slice(s.shift().value.length)}for(r=Y.needsContext.test(t)?0:s.length;r--&&(o=s[r],!_.relative[a=o.type]);)if((l=_.find[a])&&(i=l(o.matches[0].replace(J,tt),X.test(s[0].type)&&ht(e.parentNode)||e))){if(s.splice(r,1),!(t=i.length&&ft(s)))return M.apply(n,i),n;break}}return g(t,c)(i,e,!v,n,X.test(t)&&ht(e.parentNode)||e),n}(t.replace(z,"$1"),e,n,i)}function nt(){var i=[];return function t(e,n){return i.push(e+" ")>_.cacheLength&&delete t[i.shift()],t[e+" "]=n}}function it(t){return t[A]=!0,t}function rt(t){var e=x.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function st(t,e){for(var n=t.split("|"),i=t.length;i--;)_.attrHandle[n[i]]=e}function ot(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function at(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function lt(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function ct(o){return it(function(s){return s=+s,it(function(t,e){for(var n,i=o([],t.length,s),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function ht(t){return t&&typeof t.getElementsByTagName!==S&&t}for(t in p=et.support={},i=et.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},m=et.setDocument=function(t){var e,l=t?t.ownerDocument||t:C,n=l.defaultView;return l!==x&&9===l.nodeType&&l.documentElement?(r=(x=l).documentElement,v=!i(l),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){m()},!1):n.attachEvent&&n.attachEvent("onunload",function(){m()})),p.attributes=rt(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=rt(function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=G.test(l.getElementsByClassName)&&rt(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),p.getById=rt(function(t){return r.appendChild(t).id=A,!l.getElementsByName||!l.getElementsByName(A).length}),p.getById?(_.find.ID=function(t,e){if(typeof e.getElementById!==S&&v){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var n=t.replace(J,tt);return function(t){var e=typeof t.getAttributeNode!==S&&t.getAttributeNode("id");return e&&e.value===n}}),_.find.TAG=p.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==S?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},_.find.CLASS=p.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==S&&v?e.getElementsByClassName(t):void 0},o=[],y=[],(p.qsa=G.test(l.querySelectorAll))&&(rt(function(t){t.innerHTML="<select t=''><option selected=''></option></select>",t.querySelectorAll("[t^='']").length&&y.push("[*^$]="+$+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||y.push("\\["+$+"*(?:value|"+B+")"),t.querySelectorAll(":checked").length||y.push(":checked")}),rt(function(t){var e=l.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&y.push("name"+$+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||y.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),y.push(",.*:")})),(p.matchesSelector=G.test(a=r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&rt(function(t){p.disconnectedMatch=a.call(t,"div"),a.call(t,"[s!='']:x"),o.push("!=",N)}),y=y.length&&new RegExp(y.join("|")),o=o.length&&new RegExp(o.join("|")),e=G.test(r.compareDocumentPosition),b=e||G.test(r.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},k=e?function(t,e){if(t===e)return h=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument===C&&b(C,t)?-1:e===l||e.ownerDocument===C&&b(C,e)?1:c?L.call(c,t)-L.call(c,e):0:4&n?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,s=e.parentNode,o=[t],a=[e];if(!r||!s)return t===l?-1:e===l?1:r?-1:s?1:c?L.call(c,t)-L.call(c,e):0;if(r===s)return ot(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;o[i]===a[i];)i++;return i?ot(o[i],a[i]):o[i]===C?-1:a[i]===C?1:0},l):x},et.matches=function(t,e){return et(t,null,null,e)},et.matchesSelector=function(t,e){if((t.ownerDocument||t)!==x&&m(t),e=e.replace(W,"='$1']"),!(!p.matchesSelector||!v||o&&o.test(e)||y&&y.test(e)))try{var n=a.call(t,e);if(n||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<et(e,x,null,[t]).length},et.contains=function(t,e){return(t.ownerDocument||t)!==x&&m(t),b(t,e)},et.attr=function(t,e){(t.ownerDocument||t)!==x&&m(t);var n=_.attrHandle[e.toLowerCase()],i=n&&F.call(_.attrHandle,e.toLowerCase())?n(t,e,!v):void 0;return void 0!==i?i:p.attributes||!v?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},et.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},et.uniqueSort=function(t){var e,n=[],i=0,r=0;if(h=!p.detectDuplicates,c=!p.sortStable&&t.slice(0),t.sort(k),h){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return c=null,t},s=et.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=s(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=s(e);return n},(_=et.selectors={cacheLength:50,createPseudo:it,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||et.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&et.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]&&void 0!==t[4]?t[2]=t[4]:n&&V.test(n)&&(e=dt(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=l[t+" "];return e||(e=new RegExp("(^|"+$+")"+t+"("+$+"|$)"))&&l(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==S&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=et.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,t,e,p,g){var m="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===t;return 1===p&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,r,s,o,a,l,c=m!==v?"nextSibling":"previousSibling",h=t.parentNode,u=y&&t.nodeName.toLowerCase(),d=!n&&!y;if(h){if(m){for(;c;){for(s=t;s=s[c];)if(y?s.nodeName.toLowerCase()===u:1===s.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?h.firstChild:h.lastChild],v&&d){for(a=(i=(r=h[A]||(h[A]={}))[f]||[])[0]===E&&i[1],o=i[0]===E&&i[2],s=a&&h.childNodes[a];s=++a&&s&&s[c]||(o=a=0)||l.pop();)if(1===s.nodeType&&++o&&s===t){r[f]=[E,a,o];break}}else if(d&&(i=(t[A]||(t[A]={}))[f])&&i[0]===E)o=i[1];else for(;(s=++a&&s&&s[c]||(o=a=0)||l.pop())&&((y?s.nodeName.toLowerCase()!==u:1!==s.nodeType)||!++o||(d&&((s[A]||(s[A]={}))[f]=[E,o]),s!==t)););return(o-=g)===p||o%p==0&&0<=o/p}}},PSEUDO:function(t,s){var e,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||et.error("unsupported pseudo: "+t);return o[A]?o(s):1<o.length?(e=[t,t,"",s],_.setFilters.hasOwnProperty(t.toLowerCase())?it(function(t,e){for(var n,i=o(t,s),r=i.length;r--;)t[n=L.call(t,i[r])]=!(e[n]=i[r])}):function(t){return o(t,0,e)}):o}},pseudos:{not:it(function(t){var i=[],r=[],a=g(t.replace(z,"$1"));return a[A]?it(function(t,e,n,i){for(var r,s=a(t,null,i,[]),o=t.length;o--;)(r=s[o])&&(t[o]=!(e[o]=r))}):function(t,e,n){return i[0]=t,a(i,null,n,r),!r.pop()}}),has:it(function(e){return function(t){return 0<et(e,t).length}}),contains:it(function(e){return function(t){return-1<(t.textContent||t.innerText||s(t)).indexOf(e)}}),lang:it(function(n){return U.test(n||"")||et.error("unsupported lang: "+n),n=n.replace(J,tt).toLowerCase(),function(t){var e;do{if(e=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===r},focus:function(t){return t===x.activeElement&&(!x.hasFocus||x.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ct(function(){return[0]}),last:ct(function(t,e){return[e-1]}),eq:ct(function(t,e,n){return[n<0?n+e:n]}),even:ct(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ct(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ct(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:ct(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[t]=at(t);for(t in{submit:!0,reset:!0})_.pseudos[t]=lt(t);function ut(){}function dt(t,e){var n,i,r,s,o,a,l,c=d[t+" "];if(c)return e?0:c.slice(0);for(o=t,a=[],l=_.preFilter;o;){for(s in(!n||(i=H.exec(o)))&&(i&&(o=o.slice(i[0].length)||o),a.push(r=[])),n=!1,(i=j.exec(o))&&(n=i.shift(),r.push({value:n,type:i[0].replace(z," ")}),o=o.slice(n.length)),_.filter)!(i=Y[s].exec(o))||l[s]&&!(i=l[s](i))||(n=i.shift(),r.push({value:n,type:s,matches:i}),o=o.slice(n.length));if(!n)break}return e?o.length:o?et.error(t):d(t,a).slice(0)}function ft(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function pt(o,t,e){var a=t.dir,l=e&&"parentNode"===a,c=u++;return t.first?function(t,e,n){for(;t=t[a];)if(1===t.nodeType||l)return o(t,e,n)}:function(t,e,n){var i,r,s=[E,c];if(n){for(;t=t[a];)if((1===t.nodeType||l)&&o(t,e,n))return!0}else for(;t=t[a];)if(1===t.nodeType||l){if((i=(r=t[A]||(t[A]={}))[a])&&i[0]===E&&i[1]===c)return s[2]=i[2];if((r[a]=s)[2]=o(t,e,n))return!0}}}function gt(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function mt(t,e,n,i,r){for(var s,o=[],a=0,l=t.length,c=null!=e;a<l;a++)(s=t[a])&&(!n||n(s,i,r))&&(o.push(s),c&&e.push(a));return o}function vt(f,p,g,m,v,t){return m&&!m[A]&&(m=vt(m)),v&&!v[A]&&(v=vt(v,t)),it(function(t,e,n,i){var r,s,o,a=[],l=[],c=e.length,h=t||function(t,e,n){for(var i=0,r=e.length;i<r;i++)et(t,e[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),u=!f||!t&&p?h:mt(h,a,f,n,i),d=g?v||(t?f:c||m)?[]:e:u;if(g&&g(u,d,n,i),m)for(r=mt(d,l),m(r,[],n,i),s=r.length;s--;)(o=r[s])&&(d[l[s]]=!(u[l[s]]=o));if(t){if(v||f){if(v){for(r=[],s=d.length;s--;)(o=d[s])&&r.push(u[s]=o);v(null,d=[],r,i)}for(s=d.length;s--;)(o=d[s])&&-1<(r=v?L.call(t,o):a[s])&&(t[r]=!(e[r]=o))}}else d=mt(d===e?d.splice(c,d.length):d),v?v(null,e,d,i):M.apply(e,d)})}function yt(t){for(var i,e,n,r=t.length,s=_.relative[t[0].type],o=s||_.relative[" "],a=s?1:0,l=pt(function(t){return t===i},o,!0),c=pt(function(t){return-1<L.call(i,t)},o,!0),h=[function(t,e,n){return!s&&(n||e!==w)||((i=e).nodeType?l(t,e,n):c(t,e,n))}];a<r;a++)if(e=_.relative[t[a].type])h=[pt(gt(h),e)];else{if((e=_.filter[t[a].type].apply(null,t[a].matches))[A]){for(n=++a;n<r&&!_.relative[t[n].type];n++);return vt(1<a&&gt(h),1<a&&ft(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(z,"$1"),e,a<n&&yt(t.slice(a,n)),n<r&&yt(t=t.slice(n)),n<r&&ft(t))}h.push(e)}return gt(h)}return ut.prototype=_.filters=_.pseudos,_.setFilters=new ut,g=et.compile=function(t,e){var n,m,v,y,b,i,r=[],s=[],o=f[t+" "];if(!o){for(e||(e=dt(t)),n=e.length;n--;)(o=yt(e[n]))[A]?r.push(o):s.push(o);o=f(t,(m=s,y=0<(v=r).length,b=0<m.length,i=function(t,e,n,i,r){var s,o,a,l=0,c="0",h=t&&[],u=[],d=w,f=t||b&&_.find.TAG("*",r),p=E+=null==d?1:Math.random()||.1,g=f.length;for(r&&(w=e!==x&&e);c!==g&&null!=(s=f[c]);c++){if(b&&s){for(o=0;a=m[o++];)if(a(s,e,n)){i.push(s);break}r&&(E=p)}y&&((s=!a&&s)&&l--,t&&h.push(s))}if(l+=c,y&&c!==l){for(o=0;a=v[o++];)a(h,u,e,n);if(t){if(0<l)for(;c--;)h[c]||u[c]||(u[c]=T.call(i));u=mt(u)}M.apply(i,u),r&&!t&&0<u.length&&1<l+v.length&&et.uniqueSort(i)}return r&&(E=p,w=d),h},y?it(i):i))}return o},p.sortStable=A.split("").sort(k).join("")===A,p.detectDuplicates=!!h,m(),p.sortDetached=rt(function(t){return 1&t.compareDocumentPosition(x.createElement("div"))}),rt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||st("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&rt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||st("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),rt(function(t){return null==t.getAttribute("disabled")})||st(B,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),et}(p);A.find=f,A.expr=f.selectors,A.expr[":"]=A.expr.pseudos,A.unique=f.uniqueSort,A.text=f.getText,A.isXMLDoc=f.isXML,A.contains=f.contains;var b=A.expr.match.needsContext,_=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(t,n,i){if(A.isFunction(n))return A.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return A.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(w.test(n))return A.filter(n,t,i);n=A.filter(n,t)}return A.grep(t,function(t){return 0<=r.call(n,t)!==i})}A.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?A.find.matchesSelector(i,t)?[i]:[]:A.find.matches(t,A.grep(e,function(t){return 1===t.nodeType}))},A.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(A(t).filter(function(){for(e=0;e<n;e++)if(A.contains(r[e],this))return!0}));for(e=0;e<n;e++)A.find(t,r[e],i);return(i=this.pushStack(1<n?A.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(x(this,t||[],!1))},not:function(t){return this.pushStack(x(this,t||[],!0))},is:function(t){return!!x(this,"string"==typeof t&&b.test(t)?A(t):t||[],!1).length}});var C,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(A.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:E.exec(t))||!n[1]&&e)return!e||e.jquery?(e||C).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof A?e[0]:e,A.merge(this,A.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:y,!0)),_.test(n[1])&&A.isPlainObject(e))for(n in e)A.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(i=y.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):A.isFunction(t)?void 0!==C.ready?C.ready(t):t(A):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),A.makeArray(t,this))}).prototype=A.fn,C=A(y);var k=/^(?:parents|prev(?:Until|All))/,S={children:!0,contents:!0,next:!0,prev:!0};function F(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}A.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&A(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),A.fn.extend({has:function(t){var e=A(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(A.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,s=[],o=b.test(t)||"string"!=typeof t?A(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&A.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(1<s.length?A.unique(s):s)},index:function(t){return t?"string"==typeof t?r.call(A(t),this[0]):r.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(A.unique(A.merge(this.get(),A(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),A.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return A.dir(t,"parentNode")},parentsUntil:function(t,e,n){return A.dir(t,"parentNode",n)},next:function(t){return F(t,"nextSibling")},prev:function(t){return F(t,"previousSibling")},nextAll:function(t){return A.dir(t,"nextSibling")},prevAll:function(t){return A.dir(t,"previousSibling")},nextUntil:function(t,e,n){return A.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return A.dir(t,"previousSibling",n)},siblings:function(t){return A.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return A.sibling(t.firstChild)},contents:function(t){return t.contentDocument||A.merge([],t.childNodes)}},function(i,r){A.fn[i]=function(t,e){var n=A.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=A.filter(e,n)),1<this.length&&(S[i]||A.unique(n),k.test(i)&&n.reverse()),this.pushStack(n)}});var T,D=/\S+/g,M={};function P(){y.removeEventListener("DOMContentLoaded",P,!1),p.removeEventListener("load",P,!1),A.ready()}A.Callbacks=function(r){var t,n;r="string"==typeof r?M[r]||(n=M[t=r]={},A.each(t.match(D)||[],function(t,e){n[e]=!0}),n):A.extend({},r);var e,i,s,o,a,l,c=[],h=!r.once&&[],u=function(t){for(e=r.memory&&t,i=!0,l=o||0,o=0,a=c.length,s=!0;c&&l<a;l++)if(!1===c[l].apply(t[0],t[1])&&r.stopOnFalse){e=!1;break}s=!1,c&&(h?h.length&&u(h.shift()):e?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;!function i(t){A.each(t,function(t,e){var n=A.type(e);"function"===n?r.unique&&d.has(e)||c.push(e):e&&e.length&&"string"!==n&&i(e)})}(arguments),s?a=c.length:e&&(o=t,u(e))}return this},remove:function(){return c&&A.each(arguments,function(t,e){for(var n;-1<(n=A.inArray(e,c,n));)c.splice(n,1),s&&(n<=a&&a--,n<=l&&l--)}),this},has:function(t){return t?-1<A.inArray(t,c):!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=h=e=void 0,this},disabled:function(){return!c},lock:function(){return h=void 0,e||d.disable(),this},locked:function(){return!h},fireWith:function(t,e){return!c||i&&!h||(e=[t,(e=e||[]).slice?e.slice():e],s?h.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},A.extend({Deferred:function(t){var s=[["resolve","done",A.Callbacks("once memory"),"resolved"],["reject","fail",A.Callbacks("once memory"),"rejected"],["notify","progress",A.Callbacks("memory")]],r="pending",o={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var r=arguments;return A.Deferred(function(i){A.each(s,function(t,e){var n=A.isFunction(r[t])&&r[t];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&A.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[e[0]+"With"](this===o?i.promise():this,n?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?A.extend(t,o):o}},a={};return o.pipe=o.then,A.each(s,function(t,e){var n=e[2],i=e[3];o[e[1]]=n.add,i&&n.add(function(){r=i},s[1^t][2].disable,s[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?o:this,arguments),this},a[e[0]+"With"]=n.fireWith}),o.promise(a),t&&t.call(a,a),a},when:function(t){var r,e,n,i=0,s=h.call(arguments),o=s.length,a=1!==o||t&&A.isFunction(t.promise)?o:0,l=1===a?t:A.Deferred(),c=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?h.call(arguments):t,i===r?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(1<o)for(r=new Array(o),e=new Array(o),n=new Array(o);i<o;i++)s[i]&&A.isFunction(s[i].promise)?s[i].promise().done(c(i,n,s)).fail(l.reject).progress(c(i,e,r)):--a;return a||l.resolveWith(n,s),l.promise()}}),A.fn.ready=function(t){return A.ready.promise().done(t),this},A.extend({isReady:!1,readyWait:1,holdReady:function(t){t?A.readyWait++:A.ready(!0)},ready:function(t){(!0===t?--A.readyWait:A.isReady)||((A.isReady=!0)!==t&&0<--A.readyWait||(T.resolveWith(y,[A]),A.fn.trigger&&A(y).trigger("ready").off("ready")))}}),A.ready.promise=function(t){return T||(T=A.Deferred(),"complete"===y.readyState?setTimeout(A.ready):(y.addEventListener("DOMContentLoaded",P,!1),p.addEventListener("load",P,!1))),T.promise(t)},A.ready.promise();var L=A.access=function(t,e,n,i,r,s,o){var a=0,l=t.length,c=null==n;if("object"===A.type(n))for(a in r=!0,n)A.access(t,e,a,n[a],!0,s,o);else if(void 0!==i&&(r=!0,A.isFunction(i)||(o=!0),c&&(o?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(A(t),n)})),e))for(;a<l;a++)e(t[a],n,o?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):s};function B(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=A.expando+Math.random()}A.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},B.uid=1,B.accepts=A.acceptData,B.prototype={key:function(e){if(!B.accepts(e))return 0;var n={},i=e[this.expando];if(!i){i=B.uid++;try{n[this.expando]={value:i},Object.defineProperties(e,n)}catch(t){n[this.expando]=i,A.extend(e,n)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,n){var i,r=this.key(t),s=this.cache[r];if("string"==typeof e)s[e]=n;else if(A.isEmptyObject(s))A.extend(this.cache[r],e);else for(i in e)s[i]=e[i];return s},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,A.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,s=this.key(t),o=this.cache[s];if(void 0===e)this.cache[s]={};else{A.isArray(e)?i=e.concat(e.map(A.camelCase)):(r=A.camelCase(e),e in o?i=[e,r]:i=(i=r)in o?[i]:i.match(D)||[]),n=i.length;for(;n--;)delete o[i[n]]}},hasData:function(t){return!A.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var $=new B,R=new B,O=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,I=/([A-Z])/g;function N(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(I,"-$1").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:O.test(n)?A.parseJSON(n):n)}catch(t){}R.set(t,e,n)}else n=void 0;return n}A.extend({hasData:function(t){return R.hasData(t)||$.hasData(t)},data:function(t,e,n){return R.access(t,e,n)},removeData:function(t,e){R.remove(t,e)},_data:function(t,e,n){return $.access(t,e,n)},_removeData:function(t,e){$.remove(t,e)}}),A.fn.extend({data:function(i,t){var e,n,r,s=this[0],o=s&&s.attributes;if(void 0===i){if(this.length&&(r=R.get(s),1===s.nodeType&&!$.get(s,"hasDataAttrs"))){for(e=o.length;e--;)0===(n=o[e].name).indexOf("data-")&&(n=A.camelCase(n.slice(5)),N(s,n,r[n]));$.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof i?this.each(function(){R.set(this,i)}):L(this,function(e){var t,n=A.camelCase(i);if(s&&void 0===e){if(void 0!==(t=R.get(s,i)))return t;if(void 0!==(t=R.get(s,n)))return t;if(void 0!==(t=N(s,n,void 0)))return t}else this.each(function(){var t=R.get(this,n);R.set(this,n,e),-1!==i.indexOf("-")&&void 0!==t&&R.set(this,i,e)})},null,t,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){R.remove(this,t)})}}),A.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=$.get(t,e),n&&(!i||A.isArray(n)?i=$.access(t,e,A.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=A.queue(t,e),i=n.length,r=n.shift(),s=A._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete s.stop,r.call(t,function(){A.dequeue(t,e)},s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return $.get(t,n)||$.access(t,n,{empty:A.Callbacks("once memory").add(function(){$.remove(t,[e+"queue",n])})})}}),A.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?A.queue(this[0],e):void 0===n?this:this.each(function(){var t=A.queue(this,e,n);A._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&A.dequeue(this,e)})},dequeue:function(t){return this.each(function(){A.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=A.Deferred(),s=this,o=this.length,a=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=$.get(s[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var z,H=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,j=["Top","Right","Bottom","Left"],W=function(t,e){return t=e||t,"none"===A.css(t,"display")||!A.contains(t.ownerDocument,t)},V=/^(?:checkbox|radio)$/i;(z=y.createDocumentFragment().appendChild(y.createElement("div"))).innerHTML="<input type='radio' checked='checked' name='t'/>",v.checkClone=z.cloneNode(!0).cloneNode(!0).lastChild.checked,z.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!z.cloneNode(!0).lastChild.defaultValue;var U="undefined";v.focusinBubbles="onfocusin"in p;var Y=/^key/,q=/^(?:mouse|contextmenu)|click/,Z=/^(?:focusinfocus|focusoutblur)$/,G=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function X(){return!1}function Q(){try{return y.activeElement}catch(t){}}A.event={global:{},add:function(e,t,n,i,r){var s,o,a,l,c,h,u,d,f,p,g,m=$.get(e);if(m)for(n.handler&&(n=(s=n).handler,r=s.selector),n.guid||(n.guid=A.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof A!==U&&A.event.triggered!==t.type?A.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(D)||[""]).length;c--;)f=g=(a=G.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(u=A.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=A.event.special[f]||{},h=A.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&A.expr.match.needsContext.test(r),namespace:p.join(".")},s),(d=l[f])||((d=l[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,p,o)||e.addEventListener&&e.addEventListener(f,o,!1)),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),A.event.global[f]=!0)},remove:function(t,e,n,i,r){var s,o,a,l,c,h,u,d,f,p,g,m=$.hasData(t)&&$.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(D)||[""]).length;c--;)if(f=g=(a=G.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(u=A.event.special[f]||{},d=l[f=(i?u.delegateType:u.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)h=d[s],!r&&g!==h.origType||n&&n.guid!==h.guid||a&&!a.test(h.namespace)||i&&i!==h.selector&&("**"!==i||!h.selector)||(d.splice(s,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(t,h));o&&!d.length&&(u.teardown&&!1!==u.teardown.call(t,p,m.handle)||A.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)A.event.remove(t,f+e[c],n,i,!0);A.isEmptyObject(l)&&(delete m.handle,$.remove(t,"events"))}},trigger:function(t,e,n,i){var r,s,o,a,l,c,h,u=[n||y],d=m.call(t,"type")?t.type:t,f=m.call(t,"namespace")?t.namespace.split("."):[];if(s=o=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!Z.test(d+A.event.triggered)&&(0<=d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),l=d.indexOf(":")<0&&"on"+d,(t=t[A.expando]?t:new A.Event(d,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:A.makeArray(e,[t]),h=A.event.special[d]||{},i||!h.trigger||!1!==h.trigger.apply(n,e))){if(!i&&!h.noBubble&&!A.isWindow(n)){for(a=h.delegateType||d,Z.test(a+d)||(s=s.parentNode);s;s=s.parentNode)u.push(s),o=s;o===(n.ownerDocument||y)&&u.push(o.defaultView||o.parentWindow||p)}for(r=0;(s=u[r++])&&!t.isPropagationStopped();)t.type=1<r?a:h.bindType||d,(c=($.get(s,"events")||{})[t.type]&&$.get(s,"handle"))&&c.apply(s,e),(c=l&&s[l])&&c.apply&&A.acceptData(s)&&(t.result=c.apply(s,e),!1===t.result&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(u.pop(),e)||!A.acceptData(n)||l&&A.isFunction(n[d])&&!A.isWindow(n)&&((o=n[l])&&(n[l]=null),n[A.event.triggered=d](),A.event.triggered=void 0,o&&(n[l]=o)),t.result}},dispatch:function(t){t=A.event.fix(t);var e,n,i,r,s,o=[],a=h.call(arguments),l=($.get(this,"events")||{})[t.type]||[],c=A.event.special[t.type]||{};if((a[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(o=A.event.handlers.call(this,t,l),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,void 0!==(i=((A.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,s,o=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==t.type){for(i=[],n=0;n<a;n++)void 0===i[r=(s=e[n]).selector+" "]&&(i[r]=s.needsContext?0<=A(r,this).index(l):A.find(r,this,null,[l]).length),i[r]&&i.push(s);i.length&&o.push({elem:l,handlers:i})}return a<e.length&&o.push({elem:this,handlers:e.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,s=e.button;return null==t.pageX&&null!=e.clientX&&(i=(n=t.target.ownerDocument||y).documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[A.expando])return t;var e,n,i,r=t.type,s=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=q.test(r)?this.mouseHooks:Y.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,t=new A.Event(s),e=i.length;e--;)t[n=i[e]]=s[n];return t.target||(t.target=y),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==Q()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===Q()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&A.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return A.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=A.extend(new A.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?A.event.trigger(r,null,e):A.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},A.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},A.Event=function(t,e){return this instanceof A.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.getPreventDefault&&t.getPreventDefault()?K:X):this.type=t,e&&A.extend(this,e),this.timeStamp=t&&t.timeStamp||A.now(),void(this[A.expando]=!0)):new A.Event(t,e)},A.Event.prototype={isDefaultPrevented:X,isPropagationStopped:X,isImmediatePropagationStopped:X,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=K,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=K,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()}},A.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,r){A.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return(!n||n!==this&&!A.contains(this,n))&&(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=r),e}}}),v.focusinBubbles||A.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(t){A.event.simulate(i,t.target,A.event.fix(t),!0)};A.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=$.access(t,i);e||t.addEventListener(n,r,!0),$.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=$.access(t,i)-1;e?$.access(t,i,e):(t.removeEventListener(n,r,!0),$.remove(t,i))}}}),A.fn.extend({on:function(t,e,n,i,r){var s,o;if("object"==typeof t){for(o in"string"!=typeof e&&(n=n||e,e=void 0),t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=X;else if(!i)return this;return 1===r&&(s=i,(i=function(t){return A().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=A.guid++)),this.each(function(){A.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,A(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(!1===e||"function"==typeof e)&&(n=e,e=void 0),!1===n&&(n=X),this.each(function(){A.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){A.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?A.event.trigger(t,e,n,!0):void 0}});var J=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,tt=/<([\w:]+)/,et=/<|&#?\w+;/,nt=/<(?:script|style|link)/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^$|\/(?:java|ecma)script/i,st=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,at={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function lt(t,e){return A.nodeName(t,"table")&&A.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function ct(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function ht(t){var e=st.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function ut(t,e){for(var n=0,i=t.length;n<i;n++)$.set(t[n],"globalEval",!e||$.get(e[n],"globalEval"))}function dt(t,e){var n,i,r,s,o,a,l,c;if(1===e.nodeType){if($.hasData(t)&&(s=$.access(t),o=$.set(e,s),c=s.events))for(r in delete o.handle,o.events={},c)for(n=0,i=c[r].length;n<i;n++)A.event.add(e,r,c[r][n]);R.hasData(t)&&(a=R.access(t),l=A.extend({},a),R.set(e,l))}}function ft(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&A.nodeName(t,e)?A.merge([t],n):n}at.optgroup=at.option,at.tbody=at.tfoot=at.colgroup=at.caption=at.thead,at.th=at.td,A.extend({clone:function(t,e,n){var i,r,s,o,a,l,c,h=t.cloneNode(!0),u=A.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||A.isXMLDoc(t)))for(o=ft(h),i=0,r=(s=ft(t)).length;i<r;i++)a=s[i],l=o[i],void 0,"input"===(c=l.nodeName.toLowerCase())&&V.test(a.type)?l.checked=a.checked:("input"===c||"textarea"===c)&&(l.defaultValue=a.defaultValue);if(e)if(n)for(s=s||ft(t),o=o||ft(h),i=0,r=s.length;i<r;i++)dt(s[i],o[i]);else dt(t,h);return 0<(o=ft(h,"script")).length&&ut(o,!u&&ft(t,"script")),h},buildFragment:function(t,e,n,i){for(var r,s,o,a,l,c,h=e.createDocumentFragment(),u=[],d=0,f=t.length;d<f;d++)if((r=t[d])||0===r)if("object"===A.type(r))A.merge(u,r.nodeType?[r]:r);else if(et.test(r)){for(s=s||h.appendChild(e.createElement("div")),o=(tt.exec(r)||["",""])[1].toLowerCase(),a=at[o]||at._default,s.innerHTML=a[1]+r.replace(J,"<$1></$2>")+a[2],c=a[0];c--;)s=s.lastChild;A.merge(u,s.childNodes),(s=h.firstChild).textContent=""}else u.push(e.createTextNode(r));for(h.textContent="",d=0;r=u[d++];)if((!i||-1===A.inArray(r,i))&&(l=A.contains(r.ownerDocument,r),s=ft(h.appendChild(r),"script"),l&&ut(s),n))for(c=0;r=s[c++];)rt.test(r.type||"")&&n.push(r);return h},cleanData:function(t){for(var e,n,i,r,s,o,a=A.event.special,l=0;void 0!==(n=t[l]);l++){if(A.acceptData(n)&&((s=n[$.expando])&&(e=$.cache[s]))){if((i=Object.keys(e.events||{})).length)for(o=0;void 0!==(r=i[o]);o++)a[r]?A.event.remove(n,r):A.removeEvent(n,r,e.handle);$.cache[s]&&delete $.cache[s]}delete R.cache[n[R.expando]]}}}),A.fn.extend({text:function(t){return L(this,function(t){return void 0===t?A.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||lt(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=lt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?A.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||A.cleanData(ft(n)),n.parentNode&&(e&&A.contains(n.ownerDocument,n)&&ut(ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(A.cleanData(ft(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return A.clone(this,t,e)})},html:function(t){return L(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!nt.test(t)&&!at[(tt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(J,"<$1></$2>");try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(A.cleanData(ft(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,A.cleanData(ft(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(n,i){n=g.apply([],n);var t,e,r,s,o,a,l=0,c=this.length,h=this,u=c-1,d=n[0],f=A.isFunction(d);if(f||1<c&&"string"==typeof d&&!v.checkClone&&it.test(d))return this.each(function(t){var e=h.eq(t);f&&(n[0]=d.call(this,t,e.html())),e.domManip(n,i)});if(c&&(e=(t=A.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===t.childNodes.length&&(t=e),e)){for(s=(r=A.map(ft(t,"script"),ct)).length;l<c;l++)o=t,l!==u&&(o=A.clone(o,!0,!0),s&&A.merge(r,ft(o,"script"))),i.call(this[l],o,l);if(s)for(a=r[r.length-1].ownerDocument,A.map(r,ht),l=0;l<s;l++)o=r[l],rt.test(o.type||"")&&!$.access(o,"globalEval")&&A.contains(a,o)&&(o.src?A._evalUrl&&A._evalUrl(o.src):A.globalEval(o.textContent.replace(ot,"")))}return this}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,o){A.fn[t]=function(t){for(var e,n=[],i=A(t),r=i.length-1,s=0;s<=r;s++)e=s===r?this:this.clone(!0),A(i[s])[o](e),a.apply(n,e.get());return this.pushStack(n)}});var pt,gt={};function mt(t,e){var n=A(e.createElement(t)).appendTo(e.body),i=p.getDefaultComputedStyle?p.getDefaultComputedStyle(n[0]).display:A.css(n[0],"display");return n.detach(),i}function vt(t){var e=y,n=gt[t];return n||("none"!==(n=mt(t,e))&&n||((e=(pt=(pt||A("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=mt(t,e),pt.detach()),gt[t]=n),n}var yt=/^margin/,bt=new RegExp("^("+H+")(?!px)[a-z%]+$","i"),_t=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};function wt(t,e,n){var i,r,s,o,a=t.style;return(n=n||_t(t))&&(o=n.getPropertyValue(e)||n[e]),n&&(""!==o||A.contains(t.ownerDocument,t)||(o=A.style(t,e)),bt.test(o)&&yt.test(e)&&(i=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=i,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function xt(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}!function(){var e,n,i=y.documentElement,r=y.createElement("div"),s=y.createElement("div");function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",i.appendChild(r);var t=p.getComputedStyle(s,null);e="1%"!==t.top,n="4px"===t.width,i.removeChild(r)}s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===s.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(s),p.getComputedStyle&&A.extend(v,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==n&&t(),n},reliableMarginRight:function(){var t,e=s.appendChild(y.createElement("div"));return e.style.cssText=s.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",e.style.marginRight=e.style.width="0",s.style.width="1px",i.appendChild(r),t=!parseFloat(p.getComputedStyle(e,null).marginRight),i.removeChild(r),s.innerHTML="",t}})}(),A.swap=function(t,e,n,i){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];for(s in r=n.apply(t,i||[]),e)t.style[s]=o[s];return r};var At=/^(none|table(?!-c[ea]).+)/,Ct=new RegExp("^("+H+")(.*)$","i"),Et=new RegExp("^([+-])=("+H+")","i"),kt={position:"absolute",visibility:"hidden",display:"block"},St={letterSpacing:0,fontWeight:400},Ft=["Webkit","O","Moz","ms"];function Tt(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=Ft.length;r--;)if((e=Ft[r]+n)in t)return e;return i}function Dt(t,e,n){var i=Ct.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function Mt(t,e,n,i,r){for(var s=n===(i?"border":"content")?4:"width"===e?1:0,o=0;s<4;s+=2)"margin"===n&&(o+=A.css(t,n+j[s],!0,r)),i?("content"===n&&(o-=A.css(t,"padding"+j[s],!0,r)),"margin"!==n&&(o-=A.css(t,"border"+j[s]+"Width",!0,r))):(o+=A.css(t,"padding"+j[s],!0,r),"padding"!==n&&(o+=A.css(t,"border"+j[s]+"Width",!0,r)));return o}function Pt(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,s=_t(t),o="border-box"===A.css(t,"boxSizing",!1,s);if(r<=0||null==r){if(((r=wt(t,e,s))<0||null==r)&&(r=t.style[e]),bt.test(r))return r;i=o&&(v.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+Mt(t,e,n||(o?"border":"content"),i,s)+"px"}function Lt(t,e){for(var n,i,r,s=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(s[o]=$.get(i,"olddisplay"),n=i.style.display,e?(s[o]||"none"!==n||(i.style.display=""),""===i.style.display&&W(i)&&(s[o]=$.access(i,"olddisplay",vt(i.nodeName)))):s[o]||(r=W(i),(n&&"none"!==n||!r)&&$.set(i,"olddisplay",r?n:A.css(i,"display"))));for(o=0;o<a;o++)(i=t[o]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?s[o]||"":"none"));return t}function Bt(t,e,n,i,r){return new Bt.prototype.init(t,e,n,i,r)}A.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=wt(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=A.camelCase(e),l=t.style;return e=A.cssProps[a]||(A.cssProps[a]=Tt(l,a)),o=A.cssHooks[e]||A.cssHooks[a],void 0===n?o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:l[e]:("string"===(s=typeof n)&&(r=Et.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(A.css(t,e)),s="number"),void(null!=n&&n==n&&("number"!==s||A.cssNumber[a]||(n+="px"),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(l[e]="",l[e]=n))))}},css:function(t,e,n,i){var r,s,o,a=A.camelCase(e);return e=A.cssProps[a]||(A.cssProps[a]=Tt(t.style,a)),(o=A.cssHooks[e]||A.cssHooks[a])&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=wt(t,e,i)),"normal"===r&&e in St&&(r=St[e]),""===n||n?(s=parseFloat(r),!0===n||A.isNumeric(s)?s||0:r):r}}),A.each(["height","width"],function(t,r){A.cssHooks[r]={get:function(t,e,n){return e?0===t.offsetWidth&&At.test(A.css(t,"display"))?A.swap(t,kt,function(){return Pt(t,r,n)}):Pt(t,r,n):void 0},set:function(t,e,n){var i=n&&_t(t);return Dt(0,e,n?Mt(t,r,n,"border-box"===A.css(t,"boxSizing",!1,i),i):0)}}}),A.cssHooks.marginRight=xt(v.reliableMarginRight,function(t,e){return e?A.swap(t,{display:"inline-block"},wt,[t,"marginRight"]):void 0}),A.each({margin:"",padding:"",border:"Width"},function(r,s){A.cssHooks[r+s]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+j[e]+s]=i[e]||i[e-2]||i[0];return n}},yt.test(r)||(A.cssHooks[r+s].set=Dt)}),A.fn.extend({css:function(t,e){return L(this,function(t,e,n){var i,r,s={},o=0;if(A.isArray(e)){for(i=_t(t),r=e.length;o<r;o++)s[e[o]]=A.css(t,e[o],!1,i);return s}return void 0!==n?A.style(t,e,n):A.css(t,e)},t,e,1<arguments.length)},show:function(){return Lt(this,!0)},hide:function(){return Lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){W(this)?A(this).show():A(this).hide()})}}),((A.Tween=Bt).prototype={constructor:Bt,init:function(t,e,n,i,r,s){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(A.cssNumber[n]?"":"px")},cur:function(){var t=Bt.propHooks[this.prop];return t&&t.get?t.get(this):Bt.propHooks._default.get(this)},run:function(t){var e,n=Bt.propHooks[this.prop];return this.pos=e=this.options.duration?A.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Bt.propHooks._default.set(this),this}}).init.prototype=Bt.prototype,(Bt.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=A.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){A.fx.step[t.prop]?A.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[A.cssProps[t.prop]]||A.cssHooks[t.prop])?A.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}}).scrollTop=Bt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},A.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},A.fx=Bt.prototype.init,A.fx.step={};var $t,Rt,Ot,It,Nt,zt=/^(?:toggle|show|hide)$/,Ht=new RegExp("^(?:([+-])=|)("+H+")([a-z%]*)$","i"),jt=/queueHooks$/,Wt=[function(e,t,n){var i,r,s,o,a,l,c,h=this,u={},d=e.style,f=e.nodeType&&W(e),p=$.get(e,"fxshow");for(i in n.queue||(null==(a=A._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,A.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"none"===(c=A.css(e,"display"))&&(c=vt(e.nodeName)),"inline"===c&&"none"===A.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(r=t[i],zt.exec(r)){if(delete t[i],s=s||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;f=!0}u[i]=p&&p[i]||A.style(e,i)}if(!A.isEmptyObject(u))for(i in p?"hidden"in p&&(f=p.hidden):p=$.access(e,"fxshow",{}),s&&(p.hidden=!f),f?A(e).show():h.done(function(){A(e).hide()}),h.done(function(){var t;for(t in $.remove(e,"fxshow"),u)A.style(e,t,u[t])}),u)o=qt(f?p[i]:0,i,h),i in p||(p[i]=o.start,f&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}],Vt={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=Ht.exec(e),s=r&&r[3]||(A.cssNumber[t]?"":"px"),o=(A.cssNumber[t]||"px"!==s&&+i)&&Ht.exec(A.css(n.elem,t)),a=1,l=20;if(o&&o[3]!==s)for(s=s||o[3],r=r||[],o=+i||1;o/=a=a||".5",A.style(n.elem,t,o+s),a!==(a=n.cur()/i)&&1!==a&&--l;);return r&&(o=n.start=+o||+i||0,n.unit=s,n.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]};function Ut(){return setTimeout(function(){$t=void 0}),$t=A.now()}function Yt(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=j[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function qt(t,e,n){for(var i,r=(Vt[e]||[]).concat(Vt["*"]),s=0,o=r.length;s<o;s++)if(i=r[s].call(n,e,t))return i}function Zt(s,t,e){var n,o,i=0,r=Wt.length,a=A.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=$t||Ut(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return a.notifyWith(s,[c,n,e]),n<1&&r?e:(a.resolveWith(s,[c]),!1)},c=a.promise({elem:s,props:A.extend({},t),opts:A.extend(!0,{specialEasing:{}},e),originalProperties:t,originalOptions:e,startTime:$t||Ut(),duration:e.duration,tweens:[],createTween:function(t,e){var n=A.Tween(s,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;e<n;e++)c.tweens[e].run(1);return t?a.resolveWith(s,[c,t]):a.rejectWith(s,[c,t]),this}}),h=c.props;for(function(t,e){var n,i,r,s,o;for(n in t)if(r=e[i=A.camelCase(n)],s=t[n],A.isArray(s)&&(r=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),(o=A.cssHooks[i])&&"expand"in o)for(n in s=o.expand(s),delete t[i],s)n in t||(t[n]=s[n],e[n]=r);else e[i]=r}(h,c.opts.specialEasing);i<r;i++)if(n=Wt[i].call(c,s,h,c.opts))return n;return A.map(h,qt,c),A.isFunction(c.opts.start)&&c.opts.start.call(s,c),A.fx.timer(A.extend(l,{elem:s,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}A.Animation=A.extend(Zt,{tweener:function(t,e){A.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;i<r;i++)n=t[i],Vt[n]=Vt[n]||[],Vt[n].unshift(e)},prefilter:function(t,e){e?Wt.unshift(t):Wt.push(t)}}),A.speed=function(t,e,n){var i=t&&"object"==typeof t?A.extend({},t):{complete:n||!n&&e||A.isFunction(t)&&t,duration:t,easing:n&&e||e&&!A.isFunction(e)&&e};return i.duration=A.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in A.fx.speeds?A.fx.speeds[i.duration]:A.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){A.isFunction(i.old)&&i.old.call(this),i.queue&&A.dequeue(this,i.queue)},i},A.fn.extend({fadeTo:function(t,e,n,i){return this.filter(W).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=A.isEmptyObject(e),s=A.speed(t,n,i),o=function(){var t=Zt(this,A.extend({},e),s);(r||$.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(r,t,s){var o=function(t){var e=t.stop;delete t.stop,e(s)};return"string"!=typeof r&&(s=t,t=r,r=void 0),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=A.timers,i=$.get(this);if(e)i[e]&&i[e].stop&&o(i[e]);else for(e in i)i[e]&&i[e].stop&&jt.test(e)&&o(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(s),t=!1,n.splice(e,1));(t||!s)&&A.dequeue(this,r)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var t,e=$.get(this),n=e[o+"queue"],i=e[o+"queueHooks"],r=A.timers,s=n?n.length:0;for(e.finish=!0,A.queue(this,o,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===o&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),A.each(["toggle","show","hide"],function(t,i){var r=A.fn[i];A.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(Yt(i,!0),t,e,n)}}),A.each({slideDown:Yt("show"),slideUp:Yt("hide"),slideToggle:Yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){A.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),A.timers=[],A.fx.tick=function(){var t,e=0,n=A.timers;for($t=A.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||A.fx.stop(),$t=void 0},A.fx.timer=function(t){A.timers.push(t),t()?A.fx.start():A.timers.pop()},A.fx.interval=13,A.fx.start=function(){Rt||(Rt=setInterval(A.fx.tick,A.fx.interval))},A.fx.stop=function(){clearInterval(Rt),Rt=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(i,t){return i=A.fx&&A.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=setTimeout(t,i);e.stop=function(){clearTimeout(n)}})},Ot=y.createElement("input"),It=y.createElement("select"),Nt=It.appendChild(y.createElement("option")),Ot.type="checkbox",v.checkOn=""!==Ot.value,v.optSelected=Nt.selected,It.disabled=!0,v.optDisabled=!Nt.disabled,(Ot=y.createElement("input")).value="t",Ot.type="radio",v.radioValue="t"===Ot.value;var Gt,Kt=A.expr.attrHandle;A.fn.extend({attr:function(t,e){return L(this,A.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){A.removeAttr(this,t)})}}),A.extend({attr:function(t,e,n){var i,r,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===U?A.prop(t,e,n):(1===s&&A.isXMLDoc(t)||(e=e.toLowerCase(),i=A.attrHooks[e]||(A.expr.match.bool.test(e)?Gt:void 0)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=A.find.attr(t,e))?void 0:r:null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void A.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,s=e&&e.match(D);if(s&&1===t.nodeType)for(;n=s[r++];)i=A.propFix[n]||n,A.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&A.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),Gt={set:function(t,e,n){return!1===e?A.removeAttr(t,n):t.setAttribute(n,n),n}},A.each(A.expr.match.bool.source.match(/\w+/g),function(t,e){var s=Kt[e]||A.find.attr;Kt[e]=function(t,e,n){var i,r;return n||(r=Kt[e],Kt[e]=i,i=null!=s(t,e,n)?e.toLowerCase():null,Kt[e]=r),i}});var Xt=/^(?:input|select|textarea|button)$/i;A.fn.extend({prop:function(t,e){return L(this,A.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[A.propFix[t]||t]})}}),A.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var i,r,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return(1!==s||!A.isXMLDoc(t))&&(e=A.propFix[e]||e,r=A.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||Xt.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),v.optSelected||(A.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){A.propFix[this.toLowerCase()]=this});var Qt=/[\t\r\n\f]/g;A.fn.extend({addClass:function(e){var t,n,i,r,s,o,a="string"==typeof e&&e,l=0,c=this.length;if(A.isFunction(e))return this.each(function(t){A(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(D)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Qt," "):" ")){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=A.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,i,r,s,o,a=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(A.isFunction(e))return this.each(function(t){A(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(D)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Qt," "):"")){for(s=0;r=t[s++];)for(;0<=i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");o=e?A.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(r,e){var s=typeof r;return"boolean"==typeof e&&"string"===s?e?this.addClass(r):this.removeClass(r):this.each(A.isFunction(r)?function(t){A(this).toggleClass(r.call(this,t,this.className,e),e)}:function(){if("string"===s)for(var t,e=0,n=A(this),i=r.match(D)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else(s===U||"boolean"===s)&&(this.className&&$.set(this,"__className__",this.className),this.className=this.className||!1===r?"":$.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Qt," ").indexOf(e))return!0;return!1}});var Jt=/\r/g;A.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=A.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,A(this).val()):n)?e="":"number"==typeof e?e+="":A.isArray(e)&&(e=A.map(e,function(t){return null==t?"":t+""})),(i=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):e?(i=A.valHooks[e.type]||A.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(Jt,""):null==t?"":t:void 0}}),A.extend({valHooks:{select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,s="select-one"===t.type||r<0,o=s?null:[],a=s?r+1:i.length,l=r<0?a:s?r:0;l<a;l++)if(!(!(n=i[l]).selected&&l!==r||(v.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&A.nodeName(n.parentNode,"optgroup"))){if(e=A(n).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,s=A.makeArray(e),o=r.length;o--;)((i=r[o]).selected=0<=A.inArray(A(i).val(),s))&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),A.each(["radio","checkbox"],function(){A.valHooks[this]={set:function(t,e){return A.isArray(e)?t.checked=0<=A.inArray(A(t).val(),e):void 0}},v.checkOn||(A.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),A.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){A.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),A.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var te=A.now(),ee=/\?/;A.parseJSON=function(t){return JSON.parse(t+"")},A.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&A.error("Invalid XML: "+t),e};var ne,ie,re=/#.*$/,se=/([?&])_=[^&]*/,oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,ae=/^(?:GET|HEAD)$/,le=/^\/\//,ce=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,he={},ue={},de="*/".concat("*");try{ie=location.href}catch(t){(ie=y.createElement("a")).href="",ie=ie.href}function fe(s){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(D)||[];if(A.isFunction(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(s[n]=s[n]||[]).unshift(e)):(s[n]=s[n]||[]).push(e)}}function pe(e,r,s,o){var a={},l=e===ue;function c(t){var i;return a[t]=!0,A.each(e[t]||[],function(t,e){var n=e(r,s,o);return"string"!=typeof n||l||a[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),c(n),!1)}),i}return c(r.dataTypes[0])||!a["*"]&&c("*")}function ge(t,e){var n,i,r=A.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&A.extend(!0,t,i),t}ne=ce.exec(ie.toLowerCase())||[],A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ie,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ne[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":de,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":A.parseJSON,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ge(ge(t,A.ajaxSettings),e):ge(A.ajaxSettings,t)},ajaxPrefilter:fe(he),ajaxTransport:fe(ue),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var h,u,d,n,f,i,p,r,g=A.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?A(m):A.event,y=A.Deferred(),b=A.Callbacks("once memory"),_=g.statusCode||{},s={},o={},w=0,a="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!n)for(n={};e=oe.exec(d);)n[e[1].toLowerCase()]=e[2];e=n[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?d:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=o[n]=o[n]||t,s[t]=e),this},overrideMimeType:function(t){return w||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)_[e]=[_[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||a;return h&&h.abort(e),l(0,e),this}};if(y.promise(x).complete=b.add,x.success=x.done,x.error=x.fail,g.url=((t||g.url||ie)+"").replace(re,"").replace(le,ne[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=A.trim(g.dataType||"*").toLowerCase().match(D)||[""],null==g.crossDomain&&(i=ce.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===ne[1]&&i[2]===ne[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(ne[3]||("http:"===ne[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=A.param(g.data,g.traditional)),pe(he,g,e,x),2===w)return x;for(r in(p=g.global)&&0==A.active++&&A.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!ae.test(g.type),u=g.url,g.hasContent||(g.data&&(u=g.url+=(ee.test(u)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=se.test(u)?u.replace(se,"$1_="+te++):u+(ee.test(u)?"&":"?")+"_="+te++)),g.ifModified&&(A.lastModified[u]&&x.setRequestHeader("If-Modified-Since",A.lastModified[u]),A.etag[u]&&x.setRequestHeader("If-None-Match",A.etag[u])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&x.setRequestHeader("Content-Type",g.contentType),x.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+de+"; q=0.01":""):g.accepts["*"]),g.headers)x.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(m,x,g)||2===w))return x.abort();for(r in a="abort",{success:1,error:1,complete:1})x[r](g[r]);if(h=pe(ue,g,e,x)){x.readyState=1,p&&v.trigger("ajaxSend",[x,g]),g.async&&0<g.timeout&&(f=setTimeout(function(){x.abort("timeout")},g.timeout));try{w=1,h.send(s,l)}catch(t){if(!(w<2))throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,n,i){var r,s,o,a,l,c=e;2!==w&&(w=2,f&&clearTimeout(f),h=void 0,d=i||"",x.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(a=function(t,e,n){for(var i,r,s,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)s=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}return s?(s!==l[0]&&l.unshift(s),n[s]):void 0}(g,x,n)),a=function(t,e,n,i){var r,s,o,a,l,c={},h=t.dataTypes.slice();if(h[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(s=h.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=h.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=c[l+" "+s]||c["* "+s]))for(r in c)if((a=r.split(" "))[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[r]:!0!==c[r]&&(s=a[0],h.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(g,a,x,r),r?(g.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(A.lastModified[u]=l),(l=x.getResponseHeader("etag"))&&(A.etag[u]=l)),204===t||"HEAD"===g.type?c="nocontent":304===t?c="notmodified":(c=a.state,s=a.data,r=!(o=a.error))):(o=c,(t||!c)&&(c="error",t<0&&(t=0))),x.status=t,x.statusText=(e||c)+"",r?y.resolveWith(m,[s,c,x]):y.rejectWith(m,[x,c,o]),x.statusCode(_),_=void 0,p&&v.trigger(r?"ajaxSuccess":"ajaxError",[x,g,r?s:o]),b.fireWith(m,[x,c]),p&&(v.trigger("ajaxComplete",[x,g]),--A.active||A.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,n){return A.get(t,e,n,"json")},getScript:function(t,e){return A.get(t,void 0,e,"script")}}),A.each(["get","post"],function(t,r){A[r]=function(t,e,n,i){return A.isFunction(e)&&(i=i||n,n=e,e=void 0),A.ajax({url:t,type:r,dataType:i,data:e,success:n})}}),A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){A.fn[e]=function(t){return this.on(e,t)}}),A._evalUrl=function(t){return A.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},A.fn.extend({wrapAll:function(e){var t;return A.isFunction(e)?this.each(function(t){A(this).wrapAll(e.call(this,t))}):(this[0]&&(t=A(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(n){return this.each(A.isFunction(n)?function(t){A(this).wrapInner(n.call(this,t))}:function(){var t=A(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=A.isFunction(e);return this.each(function(t){A(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){A.nodeName(this,"body")||A(this).replaceWith(this.childNodes)}).end()}}),A.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},A.expr.filters.visible=function(t){return!A.expr.filters.hidden(t)};var me=/%20/g,ve=/\[\]$/,ye=/\r?\n/g,be=/^(?:submit|button|image|reset|file)$/i,_e=/^(?:input|select|textarea|keygen)/i;function we(n,t,i,r){var e;if(A.isArray(t))A.each(t,function(t,e){i||ve.test(n)?r(n,e):we(n+"["+("object"==typeof e?t:"")+"]",e,i,r)});else if(i||"object"!==A.type(t))r(n,t);else for(e in t)we(n+"["+e+"]",t[e],i,r)}A.param=function(t,e){var n,i=[],r=function(t,e){e=A.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=A.ajaxSettings&&A.ajaxSettings.traditional),A.isArray(t)||t.jquery&&!A.isPlainObject(t))A.each(t,function(){r(this.name,this.value)});else for(n in t)we(n,t[n],e,r);return i.join("&").replace(me,"+")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=A.prop(this,"elements");return t?A.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!A(this).is(":disabled")&&_e.test(this.nodeName)&&!be.test(t)&&(this.checked||!V.test(t))}).map(function(t,e){var n=A(this).val();return null==n?null:A.isArray(n)?A.map(n,function(t){return{name:e.name,value:t.replace(ye,"\r\n")}}):{name:e.name,value:n.replace(ye,"\r\n")}}).get()}}),A.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var xe=0,Ae={},Ce={0:200,1223:204},Ee=A.ajaxSettings.xhr();p.ActiveXObject&&A(p).on("unload",function(){for(var t in Ae)Ae[t]()}),v.cors=!!Ee&&"withCredentials"in Ee,v.ajax=Ee=!!Ee,A.ajaxTransport(function(s){var o;return v.cors||Ee&&!s.crossDomain?{send:function(t,e){var n,i=s.xhr(),r=++xe;if(i.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(n in s.xhrFields)i[n]=s.xhrFields[n];for(n in s.mimeType&&i.overrideMimeType&&i.overrideMimeType(s.mimeType),s.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);o=function(t){return function(){o&&(delete Ae[r],o=i.onload=i.onerror=null,"abort"===t?i.abort():"error"===t?e(i.status,i.statusText):e(Ce[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=o(),i.onerror=o("error"),o=Ae[r]=o("abort"),i.send(s.hasContent&&s.data||null)},abort:function(){o&&o()}}:void 0}),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return A.globalEval(t),t}}}),A.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),A.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(t,e){i=A("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),y.head.appendChild(i[0])},abort:function(){r&&r()}}});var ke=[],Se=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ke.pop()||A.expando+"_"+te++;return this[t]=!0,t}}),A.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,s,o=!1!==t.jsonp&&(Se.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Se.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=A.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Se,"$1"+i):!1!==t.jsonp&&(t.url+=(ee.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||A.error(i+" was not called"),s[0]},t.dataTypes[0]="json",r=p[i],p[i]=function(){s=arguments},n.always(function(){p[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,ke.push(i)),s&&A.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),A.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||y;var i=_.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=A.buildFragment([t],e,r),r&&r.length&&A(r).remove(),A.merge([],i.childNodes))};var Fe=A.fn.load;A.fn.load=function(t,e,n){if("string"!=typeof t&&Fe)return Fe.apply(this,arguments);var i,r,s,o=this,a=t.indexOf(" ");return 0<=a&&(i=t.slice(a),t=t.slice(0,a)),A.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<o.length&&A.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){s=arguments,o.html(i?A("<div>").append(A.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){o.each(n,s||[t.responseText,e,t])}),this},A.expr.filters.animated=function(e){return A.grep(A.timers,function(t){return e===t.elem}).length};var Te=p.document.documentElement;function De(t){return A.isWindow(t)?t:9===t.nodeType&&t.defaultView}A.offset={setOffset:function(t,e,n){var i,r,s,o,a,l,c=A.css(t,"position"),h=A(t),u={};"static"===c&&(t.style.position="relative"),a=h.offset(),s=A.css(t,"top"),l=A.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<(s+l).indexOf("auto")?(o=(i=h.position()).top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),A.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(u.top=e.top-a.top+o),null!=e.left&&(u.left=e.left-a.left+r),"using"in e?e.using.call(t,u):h.css(u)}},A.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){A.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},s=i&&i.ownerDocument;return s?(t=s.documentElement,A.contains(t,i)?(typeof i.getBoundingClientRect!==U&&(r=i.getBoundingClientRect()),n=De(s),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===A.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),A.nodeName(t[0],"html")||(i=t.offset()),i.top+=A.css(t[0],"borderTopWidth",!0),i.left+=A.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-A.css(n,"marginTop",!0),left:e.left-i.left-A.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Te;t&&!A.nodeName(t,"html")&&"static"===A.css(t,"position");)t=t.offsetParent;return t||Te})}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var s="pageYOffset"===r;A.fn[e]=function(t){return L(this,function(t,e,n){var i=De(t);return void 0===n?i?i[r]:t[e]:void(i?i.scrollTo(s?p.pageXOffset:n,s?n:p.pageYOffset):t[e]=n)},e,t,arguments.length,null)}}),A.each(["top","left"],function(t,n){A.cssHooks[n]=xt(v.pixelPosition,function(t,e){return e?(e=wt(t,n),bt.test(e)?A(t).position()[n]+"px":e):void 0})}),A.each({Height:"height",Width:"width"},function(s,o){A.each({padding:"inner"+s,content:o,"":"outer"+s},function(i,t){A.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return L(this,function(t,e,n){var i;return A.isWindow(t)?t.document.documentElement["client"+s]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+s],i["scroll"+s],t.body["offset"+s],i["offset"+s],i["client"+s])):void 0===n?A.css(t,e,r):A.style(t,e,n,r)},o,n?t:void 0,n,null)}})}),A.fn.size=function(){return this.length},A.fn.andSelf=A.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return A});var Me=p.jQuery,Pe=p.$;return A.noConflict=function(t){return p.$===A&&(p.$=Pe),t&&p.jQuery===A&&(p.jQuery=Me),A},typeof t===U&&(p.jQuery=p.$=A),A}),function(){function t(a){return function(t,e,n,i){e=b(e,i,4);var r=!k(t)&&y.keys(t),s=(r||t).length,o=0<a?0:s-1;return arguments.length<3&&(n=t[r?r[o]:o],o+=a),function(t,e,n,i,r,s){for(;0<=r&&r<s;r+=a){var o=i?i[r]:r;n=e(n,t[o],o,t)}return n}(t,e,n,r,o,s)}}function e(s){return function(t,e,n){e=_(e,n);for(var i=E(t),r=0<s?0:i-1;0<=r&&r<i;r+=s)if(e(t[r],r,t))return r;return-1}}function n(s,o,a){return function(t,e,n){var i=0,r=E(t);if("number"==typeof n)0<s?i=0<=n?n:Math.max(n+r,i):r=0<=n?Math.min(n+1,r):n+r+1;else if(a&&n&&r)return t[n=a(t,e)]===e?n:-1;if(e!=e)return 0<=(n=o(h.call(t,i,r),y.isNaN))?n+i:-1;for(n=0<s?i:r-1;0<=n&&n<r;n+=s)if(t[n]===e)return n;return-1}}function i(t,e){var n=M.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||a,s="constructor";for(y.has(t,s)&&!y.contains(e,s)&&e.push(s);n--;)(s=M[n])in t&&t[s]!==r[s]&&!y.contains(e,s)&&e.push(s)}var r=this,s=r._,o=Array.prototype,a=Object.prototype,l=Function.prototype,c=o.push,h=o.slice,u=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(r,s,t){if(void 0===s)return r;switch(null==t?3:t){case 1:return function(t){return r.call(s,t)};case 2:return function(t,e){return r.call(s,t,e)};case 3:return function(t,e,n){return r.call(s,t,e,n)};case 4:return function(t,e,n,i){return r.call(s,t,e,n,i)}}return function(){return r.apply(s,arguments)}},_=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return _(t,e,1/0)};var w=function(l,c){return function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var i=arguments[n],r=l(i),s=r.length,o=0;o<s;o++){var a=r[o];c&&void 0!==t[a]||(t[a]=i[a])}return t}},x=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},A=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,E=A("length"),k=function(t){var e=E(t);return"number"==typeof e&&0<=e&&e<=C};y.each=y.forEach=function(t,e,n){var i,r;if(e=b(e,n),k(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var s=y.keys(t);for(i=0,r=s.length;i<r;i++)e(t[s[i]],s[i],t)}return t},y.map=y.collect=function(t,e,n){e=_(e,n);for(var i=!k(t)&&y.keys(t),r=(i||t).length,s=Array(r),o=0;o<r;o++){var a=i?i[o]:o;s[o]=e(t[a],a,t)}return s},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;return void 0!==(i=k(t)?y.findIndex(t,e,n):y.findKey(t,e,n))&&-1!==i?t[i]:void 0},y.filter=y.select=function(t,i,e){var r=[];return i=_(i,e),y.each(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(_(e)),n)},y.every=y.all=function(t,e,n){e=_(e,n);for(var i=!k(t)&&y.keys(t),r=(i||t).length,s=0;s<r;s++){var o=i?i[s]:s;if(!e(t[o],o,t))return!1}return!0},y.some=y.any=function(t,e,n){e=_(e,n);for(var i=!k(t)&&y.keys(t),r=(i||t).length,s=0;s<r;s++){var o=i?i[s]:s;if(e(t[o],o,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return k(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),0<=y.indexOf(t,e,n)},y.invoke=function(t,n){var i=h.call(arguments,2),r=y.isFunction(n);return y.map(t,function(t){var e=r?n:t[n];return null==e?e:e.apply(t,i)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,i,e){var n,r,s=-1/0,o=-1/0;if(null==i&&null!=t)for(var a=0,l=(t=k(t)?t:y.values(t)).length;a<l;a++)n=t[a],s<n&&(s=n);else i=_(i,e),y.each(t,function(t,e,n){r=i(t,e,n),(o<r||r===-1/0&&s===-1/0)&&(s=t,o=r)});return s},y.min=function(t,i,e){var n,r,s=1/0,o=1/0;if(null==i&&null!=t)for(var a=0,l=(t=k(t)?t:y.values(t)).length;a<l;a++)(n=t[a])<s&&(s=n);else i=_(i,e),y.each(t,function(t,e,n){((r=i(t,e,n))<o||1/0===r&&1/0===s)&&(s=t,o=r)});return s},y.shuffle=function(t){for(var e,n=k(t)?t:y.values(t),i=n.length,r=Array(i),s=0;s<i;s++)(e=y.random(0,s))!==s&&(r[s]=r[e]),r[e]=n[s];return r},y.sample=function(t,e,n){return null==e||n?(k(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,i,e){return i=_(i,e),y.pluck(y.map(t,function(t,e,n){return{value:t,index:e,criteria:i(t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var S=function(o){return function(i,r,t){var s={};return r=_(r,t),y.each(i,function(t,e){var n=r(t,e,i);o(s,t,n)}),s}};y.groupBy=S(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=S(function(t,e,n){t[n]=e}),y.countBy=S(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?h.call(t):k(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:k(t)?t.length:y.keys(t).length},y.partition=function(t,i,e){i=_(i,e);var r=[],s=[];return y.each(t,function(t,e,n){(i(t,e,n)?r:s).push(t)}),[r,s]},y.first=y.head=y.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return h.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return h.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var F=function(t,e,n,i){for(var r=[],s=0,o=i||0,a=E(t);o<a;o++){var l=t[o];if(k(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=F(l,e,n));var c=0,h=l.length;for(r.length+=h;c<h;)r[s++]=l[c++]}else n||(r[s++]=l)}return r};y.flatten=function(t,e){return F(t,e,!1)},y.without=function(t){return y.difference(t,h.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=_(n,i));for(var r=[],s=[],o=0,a=E(t);o<a;o++){var l=t[o],c=n?n(l,o,t):l;e?(o&&s===c||r.push(l),s=c):n?y.contains(s,c)||(s.push(c),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(F(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=E(t);i<r;i++){var s=t[i];if(!y.contains(e,s)){for(var o=1;o<n&&y.contains(arguments[o],s);o++);o===n&&e.push(s)}}return e},y.difference=function(t){var e=F(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,E).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=E(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){for(var r=(n=_(n,i,1))(e),s=0,o=E(t);s<o;){var a=Math.floor((s+o)/2);n(t[a])<r?s=a+1:o=a}return s},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),s=0;s<i;s++,t+=n)r[s]=t;return r};var T=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var s=x(t.prototype),o=t.apply(s,r);return y.isObject(o)?o:s};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,h.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),i=function(){return T(t,i,e,this,n.concat(h.call(arguments)))};return i},y.partial=function(r){var s=h.call(arguments,1),o=function(){for(var t=0,e=s.length,n=Array(e),i=0;i<e;i++)n[i]=s[i]===y?arguments[t++]:s[i];for(;t<arguments.length;)n.push(arguments[t++]);return T(r,o,this,this,n)};return o},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=y.bind(t[n],t);return t},y.memoize=function(i,r){var s=function(t){var e=s.cache,n=""+(r?r.apply(this,arguments):t);return y.has(e,n)||(e[n]=i.apply(this,arguments)),e[n]};return s.cache={},s},y.delay=function(t,e){var n=h.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(n,i,r){var s,o,a,l=null,c=0;r||(r={});var h=function(){c=!1===r.leading?0:y.now(),l=null,a=n.apply(s,o),l||(s=o=null)};return function(){var t=y.now();c||!1!==r.leading||(c=t);var e=i-(t-c);return s=this,o=arguments,e<=0||i<e?(l&&(clearTimeout(l),l=null),c=t,a=n.apply(s,o),l||(s=o=null)):l||!1===r.trailing||(l=setTimeout(h,e)),a}},y.debounce=function(e,n,i){var r,s,o,a,l,c=function(){var t=y.now()-a;t<n&&0<=t?r=setTimeout(c,n-t):(r=null,i||(l=e.apply(o,s),r||(o=s=null)))};return function(){o=this,s=arguments,a=y.now();var t=i&&!r;return r||(r=setTimeout(c,n)),t&&(l=e.apply(o,s),o=s=null),l}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var n=arguments,i=n.length-1;return function(){for(var t=i,e=n[i].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},y.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},y.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return D&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return D&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=_(e,n);for(var i,r=y.keys(t),s=r.length,o={},a=0;a<s;a++)o[i=r[a]]=e(t[i],i,t);return o},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(t,e,n){e=_(e,n);for(var i,r=y.keys(t),s=0,o=r.length;s<o;s++)if(e(t[i=r[s]],i,t))return i},y.pick=function(t,e,n){var i,r,s={},o=t;if(null==o)return s;y.isFunction(e)?(r=y.allKeys(o),i=b(e,n)):(r=F(arguments,!1,!1,1),i=function(t,e,n){return e in n},o=Object(o));for(var a=0,l=r.length;a<l;a++){var c=r[a],h=o[c];i(h,c,o)&&(s[c]=h)}return s},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(F(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=w(y.allKeys,!0),y.create=function(t,e){var n=x(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),s=0;s<i;s++){var o=n[s];if(e[o]!==r[o]||!(o in r))return!1}return!0};var P=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=u.call(t);if(r!==u.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var s="[object Array]"===r;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(y.isFunction(o)&&o instanceof o&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),s){if((l=t.length)!==e.length)return!1;for(;l--;)if(!P(t[l],e[l],n,i))return!1}else{var c,h=y.keys(t);if(l=h.length,y.keys(e).length!==l)return!1;for(;l--;)if(c=h[l],!y.has(e,c)||!P(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return P(t,e)},y.isEmpty=function(t){return null==t||(k(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=f||function(t){return"[object Array]"===u.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&d.call(t,e)},y.noConflict=function(){return r._=s,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=A,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=y.invert(L),$=function(e){var n=function(t){return e[t]},t="(?:"+y.keys(e).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,n):t}};y.escape=$(L),y.unescape=$(B),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var R=0;y.uniqueId=function(t){var e=++R+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\u2028|\u2029/g,z=function(t){return"\\"+I[t]};y.template=function(s,t,e){!t&&e&&(t=e),t=y.defaults({},t,y.templateSettings);var n=RegExp([(t.escape||O).source,(t.interpolate||O).source,(t.evaluate||O).source].join("|")+"|$","g"),o=0,a="__p+='";s.replace(n,function(t,e,n,i,r){return a+=s.slice(o,r).replace(N,z),o=r+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var i=new Function(t.variable||"obj","_",a)}catch(t){throw t.source=a,t}var r=function(t){return i.call(this,t,y)},l=t.variable||"obj";return r.source="function("+l+"){\n"+a+"}",r},y.chain=function(t){var e=y(t);return e._chain=!0,e};var H=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(n){y.each(y.functions(n),function(t){var e=y[t]=n[t];y.prototype[t]=function(){var t=[this._wrapped];return c.apply(t,arguments),H(this,e.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=o[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],H(this,t)}}),y.each(["concat","join","slice"],function(t){var e=o[t];y.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(i){var r="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,n){r.Backbone=i(r,n,t,e)});else if("undefined"!=typeof exports){var t,e=require("underscore");try{t=require("jquery")}catch(t){}i(r,exports,e,t)}else r.Backbone=i(r,{},r._,r.jQuery||r.Zepto||r.ender||r.$)}(function(t,l,w,e){var n=t.Backbone,s=Array.prototype.slice;l.VERSION="1.3.3",l.$=e,l.noConflict=function(){return t.Backbone=n,this},l.emulateHTTP=!1,l.emulateJSON=!1;var i=function(n,t,i){w.each(t,function(t,e){w[e]&&(n.prototype[e]=function(t,i,r){switch(t){case 1:return function(){return w[i](this[r])};case 2:return function(t){return w[i](this[r],t)};case 3:return function(t,e){return w[i](this[r],o(t,this),e)};case 4:return function(t,e,n){return w[i](this[r],o(t,this),e,n)};default:return function(){var t=s.call(arguments);return t.unshift(this[r]),w[i].apply(w,t)}}}(t,e,i))})},o=function(e,t){return w.isFunction(e)?e:w.isObject(e)&&!t._isModel(e)?r(e):w.isString(e)?function(t){return t.get(e)}:e},r=function(t){var e=w.matches(t);return function(t){return e(t.attributes)}},a=l.Events={},c=/\s+/,h=function(t,e,n,i,r){var s,o=0;if(n&&"object"==typeof n){void 0!==i&&"context"in r&&void 0===r.context&&(r.context=i);for(s=w.keys(n);o<s.length;o++)e=h(t,e,s[o],n[s[o]],r)}else if(n&&c.test(n))for(s=n.split(c);o<s.length;o++)e=t(e,s[o],i,r);else e=t(e,n,i,r);return e};a.on=function(t,e,n){return u(this,t,e,n)};var u=function(t,e,n,i,r){(t._events=h(d,t._events||{},e,n,{context:i,ctx:t,listening:r}),r)&&((t._listeners||(t._listeners={}))[r.id]=r);return t};a.listenTo=function(t,e,n){if(!t)return this;var i=t._listenId||(t._listenId=w.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),s=r[i];if(!s){var o=this._listenId||(this._listenId=w.uniqueId("l"));s=r[i]={obj:t,objId:i,id:o,listeningTo:r,count:0}}return u(t,e,n,this,s),this};var d=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),s=i.context,o=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:s,ctx:s||o,listening:a})}return t};a.off=function(t,e,n){return this._events&&(this._events=h(f,this._events,t,e,{context:n,listeners:this._listeners})),this},a.stopListening=function(t,e,n){var i=this._listeningTo;if(!i)return this;for(var r=t?[t._listenId]:w.keys(i),s=0;s<r.length;s++){var o=i[r[s]];if(!o)break;o.obj.off(e,n,this)}return this};var f=function(t,e,n,i){if(t){var r,s=0,o=i.context,a=i.listeners;if(e||n||o){for(var l=e?[e]:w.keys(t);s<l.length;s++){var c=t[e=l[s]];if(!c)break;for(var h=[],u=0;u<c.length;u++){var d=c[u];n&&n!==d.callback&&n!==d.callback._callback||o&&o!==d.context?h.push(d):(r=d.listening)&&0==--r.count&&(delete a[r.id],delete r.listeningTo[r.objId])}h.length?t[e]=h:delete t[e]}return t}for(var f=w.keys(a);s<f.length;s++)delete a[(r=a[f[s]]).id],delete r.listeningTo[r.objId]}};a.once=function(t,e,n){var i=h(p,{},t,e,w.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(i,e,n)},a.listenToOnce=function(t,e,n){var i=h(p,{},e,n,w.bind(this.stopListening,this,t));return this.listenTo(t,i)};var p=function(t,e,n,i){if(n){var r=t[e]=w.once(function(){i(e,r),n.apply(this,arguments)});r._callback=n}return t};a.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return h(g,this._events,t,void 0,n),this};var g=function(t,e,n,i){if(t){var r=t[e],s=t.all;r&&s&&(s=s.slice()),r&&m(r,i),s&&m(s,[e].concat(i))}return t},m=function(t,e){var n,i=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};a.bind=a.on,a.unbind=a.off,w.extend(l,a);var v=l.Model=function(t,e){var n=t||{};e||(e={}),this.cid=w.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var i=w.result(this,"defaults");n=w.defaults(w.extend({},i,n),i),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};w.extend(v.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return w.clone(this.attributes)},sync:function(){return l.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return w.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!w.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var i;if("object"==typeof t?(i=t,n=e):(i={})[t]=e,n||(n={}),!this._validate(i,n))return!1;var r=n.unset,s=n.silent,o=[],a=this._changing;this._changing=!0,a||(this._previousAttributes=w.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,h=this._previousAttributes;for(var u in i)e=i[u],w.isEqual(l[u],e)||o.push(u),w.isEqual(h[u],e)?delete c[u]:c[u]=e,r?delete l[u]:l[u]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!s){o.length&&(this._pending=n);for(var d=0;d<o.length;d++)this.trigger("change:"+o[d],this,l[o[d]],n)}if(a)return this;if(!s)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,w.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,w.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!w.isEmpty(this.changed):w.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&w.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var i in t){var r=t[i];w.isEqual(e[i],r)||(n[i]=r)}return!!w.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return w.clone(this._previousAttributes)},fetch:function(n){n=w.extend({parse:!0},n);var i=this,r=n.success;return n.success=function(t){var e=n.parse?i.parse(t,n):t;if(!i.set(e,n))return!1;r&&r.call(n.context,i,t,n),i.trigger("sync",i,t,n)},O(this,n),this.sync("read",this,n)},save:function(t,e,n){var i;null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e;var r=(n=w.extend({validate:!0,parse:!0},n)).wait;if(i&&!r){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;var s=this,o=n.success,a=this.attributes;n.success=function(t){s.attributes=a;var e=n.parse?s.parse(t,n):t;if(r&&(e=w.extend({},i,e)),e&&!s.set(e,n))return!1;o&&o.call(n.context,s,t,n),s.trigger("sync",s,t,n)},O(this,n),i&&r&&(this.attributes=w.extend({},a,i));var l=this.isNew()?"create":n.patch?"patch":"update";"patch"!==l||n.attrs||(n.attrs=i);var c=this.sync(l,this,n);return this.attributes=a,c},destroy:function(e){e=e?w.clone(e):{};var n=this,i=e.success,r=e.wait,s=function(){n.stopListening(),n.trigger("destroy",n,n.collection,e)},t=!(e.success=function(t){r&&s(),i&&i.call(e.context,n,t,e),n.isNew()||n.trigger("sync",n,t,e)});return this.isNew()?w.defer(e.success):(O(this,e),t=this.sync("delete",this,e)),r||s(),t},url:function(){var t=w.result(this,"urlRoot")||w.result(this.collection,"url")||R();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},w.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=w.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,w.extend(e,{validationError:n})),!1)}});i(v,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var y=l.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,w.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1},A=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),s=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;i<s;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+s+n]=r[i]};w.extend(y.prototype,a,{model:v,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return l.sync.apply(this,arguments)},add:function(t,e){return this.set(t,w.extend({merge:!1},e,b))},remove:function(t,e){e=w.extend({},e);var n=!w.isArray(t);t=n?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),n?i[0]:i},set:function(t,e){if(null!=t){(e=w.extend({},x,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!w.isArray(t);t=n?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var r,s,o=[],a=[],l=[],c=[],h={},u=e.add,d=e.merge,f=e.remove,p=!1,g=this.comparator&&null==i&&!1!==e.sort,m=w.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){r=t[s];var v=this.get(r);if(v){if(d&&r!==v){var y=this._isModel(r)?r.attributes:r;e.parse&&(y=v.parse(y,e)),v.set(y,e),l.push(v),g&&!p&&(p=v.hasChanged(m))}h[v.cid]||(h[v.cid]=!0,o.push(v)),t[s]=v}else u&&(r=t[s]=this._prepareModel(r,e))&&(a.push(r),this._addReference(r,e),h[r.cid]=!0,o.push(r))}if(f){for(s=0;s<this.length;s++)h[(r=this.models[s]).cid]||c.push(r);c.length&&this._removeModels(c,e)}var b=!1,_=!g&&u&&f;if(o.length&&_?(b=this.length!==o.length||w.some(this.models,function(t,e){return t!==o[e]}),this.models.length=0,A(this.models,o,0),this.length=this.models.length):a.length&&(g&&(p=!0),A(this.models,a,null==i?this.length:i),this.length=this.models.length),p&&this.sort({silent:!0}),!e.silent){for(s=0;s<a.length;s++)null!=i&&(e.index=i+s),(r=a[s]).trigger("add",r,this,e);(p||b)&&this.trigger("sort",this,e),(a.length||c.length||l.length)&&(e.changes={added:a,removed:c,merged:l},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?w.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,w.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,w.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,w.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return w.isFunction(e)&&(e=w.bind(e,this)),1===n||w.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(n){var i=(n=w.extend({parse:!0},n)).success,r=this;return n.success=function(t){var e=n.reset?"reset":"set";r[e](t,n),i&&i.call(n.context,r,t,n),r.trigger("sync",r,t,n)},O(this,n),this.sync("read",this,n)},create:function(t,e){var i=(e=e?w.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,s=e.success;return e.success=function(t,e,n){i&&r.add(t,n),s&&s.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;var n=new(((e=e?w.clone(e):{}).collection=this).model)(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var s=this.indexOf(r);this.models.splice(s,1),this.length--,delete this._byId[r.cid];var o=this.modelId(r.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=s,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof v},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);r!==s&&(null!=r&&delete this._byId[r],null!=s&&(this._byId[s]=e))}}this.trigger.apply(this,arguments)}});i(y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var _=l.View=function(t){this.cid=w.uniqueId("view"),w.extend(this,w.pick(t,E)),this._ensureElement(),this.initialize.apply(this,arguments)},C=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];w.extend(_.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof l.$?t:l.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=w.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(w.isFunction(n)||(n=this[n]),n){var i=e.match(C);this.delegate(i[1],i[2],w.bind(n,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(w.result(this,"el"));else{var t=w.extend({},w.result(this,"attributes"));this.id&&(t.id=w.result(this,"id")),this.className&&(t.class=w.result(this,"className")),this.setElement(this._createElement(w.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),l.sync=function(t,e,i){var n=k[t];w.defaults(i||(i={}),{emulateHTTP:l.emulateHTTP,emulateJSON:l.emulateJSON});var r={type:n,dataType:"json"};if(i.url||(r.url=w.result(e,"url")||R()),null!=i.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(r.contentType="application/json",r.data=JSON.stringify(i.attrs||e.toJSON(i))),i.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),i.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){r.type="POST",i.emulateJSON&&(r.data._method=n);var s=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",n),s)return s.apply(this,arguments)}}"GET"===r.type||i.emulateJSON||(r.processData=!1);var o=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,o&&o.call(i.context,t,e,n)};var a=i.xhr=l.ajax(w.extend(r,i));return e.trigger("request",e,a,i),a};var k={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};l.ajax=function(){return l.$.ajax.apply(l.$,arguments)};var S=l.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},F=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,D=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;w.extend(S.prototype,a,{initialize:function(){},route:function(n,i,r){w.isRegExp(n)||(n=this._routeToRegExp(n)),w.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var s=this;return l.history.route(n,function(t){var e=s._extractParameters(n,t);!1!==s.execute(r,e,i)&&(s.trigger.apply(s,["route:"+i].concat(e)),s.trigger("route",i,e),l.history.trigger("route",s,i,e))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,e){return l.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=w.result(this,"routes");for(var t,e=w.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(M,"\\$&").replace(F,"(?:$1)?").replace(T,function(t,e){return e?t:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return w.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var P=l.History=function(){this.handlers=[],this.checkUrl=w.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,$=/#.*$/;P.started=!1,w.extend(P.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(L,"")},start:function(t){if(P.started)throw new Error("Backbone.history has already been started");if(P.started=!0,this.options=w.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(B,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,i=n.insertBefore(this.iframe,n.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var r=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),P.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),w.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(t,e){if(!P.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace($,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),l.history=new P;v.extend=y.extend=S.extend=_.extend=P.extend=function(t,e){var n,i=this;return n=t&&w.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},w.extend(n,i,e),n.prototype=w.create(i.prototype,t),(n.prototype.constructor=n).__super__=i.prototype,n};var R=function(){throw new Error('A "url" property or function must be specified')},O=function(e,n){var i=n.error;n.error=function(t){i&&i.call(n.context,e,t,n),e.trigger("error",e,t,n)}};return l}),function(e){"use strict";e(function(){var t;e.support.transition=(t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}())&&{end:t}})}(window.jQuery),function(s){"use strict";var e='[data-dismiss="alert"]',i=function(t){s(t).on("click",e,this.close)};i.prototype.close=function(t){var e,n=s(this),i=n.attr("data-target");function r(){e.trigger("closed").remove()}i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),e=s(i),t&&t.preventDefault(),e.length||(e=n.hasClass("alert")?n:n.parent()),e.trigger(t=s.Event("close")),t.isDefaultPrevented()||(e.removeClass("in"),s.support.transition&&e.hasClass("fade")?e.on(s.support.transition.end,r):r())};var t=s.fn.alert;s.fn.alert=function(n){return this.each(function(){var t=s(this),e=t.data("alert");e||t.data("alert",e=new i(this)),"string"==typeof n&&e[n].call(t)})},s.fn.alert.Constructor=i,s.fn.alert.noConflict=function(){return s.fn.alert=t,this},s(document).on("click.alert.data-api",e,i.prototype.close)}(window.jQuery),function(r){"use strict";var s=function(t,e){this.$element=r(t),this.options=r.extend({},r.fn.button.defaults,e)};s.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";t+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},s.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var t=r.fn.button;r.fn.button=function(i){return this.each(function(){var t=r(this),e=t.data("button"),n="object"==typeof i&&i;e||t.data("button",e=new s(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})},r.fn.button.defaults={loadingText:"loading..."},r.fn.button.Constructor=s,r.fn.button.noConflict=function(){return r.fn.button=t,this},r(document).on("click.button.data-api","[data-toggle^=button]",function(t){var e=r(t.target);e.hasClass("btn")||(e=e.closest(".btn")),e.button("toggle")})}(window.jQuery),function(c){"use strict";var s=function(t,e){this.$element=c(t),this.options=e,"hover"==this.options.pause&&this.$element.on("mouseenter",c.proxy(this.pause,this)).on("mouseleave",c.proxy(this.cycle,this))};s.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(c.proxy(this.next,this),this.options.interval)),this},to:function(t){var e=this.$element.find(".item.active"),n=e.parent().children(),i=n.index(e),r=this;if(!(t>n.length-1||t<0))return this.sliding?this.$element.one("slid",function(){r.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",c(n[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&c.support.transition.end&&(this.$element.trigger(c.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,e){var n,i=this.$element.find(".item.active"),r=e||i[t](),s=this.interval,o="next"==t?"left":"right",a="next"==t?"first":"last",l=this;if(this.sliding=!0,s&&this.pause(),r=r.length?r:this.$element.find(".item")[a](),n=c.Event("slide",{relatedTarget:r[0]}),!r.hasClass("active")){if(c.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(n),n.isDefaultPrevented())return;r.addClass(t),r[0].offsetWidth,i.addClass(o),r.addClass(o),this.$element.one(c.support.transition.end,function(){r.removeClass([t,o].join(" ")).addClass("active"),i.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(n),n.isDefaultPrevented())return;i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}};var t=c.fn.carousel;c.fn.carousel=function(r){return this.each(function(){var t=c(this),e=t.data("carousel"),n=c.extend({},c.fn.carousel.defaults,"object"==typeof r&&r),i="string"==typeof r?r:n.slide;e||t.data("carousel",e=new s(this,n)),"number"==typeof r?e.to(r):i?e[i]():n.interval&&e.cycle()})},c.fn.carousel.defaults={interval:5e3,pause:"hover"},c.fn.carousel.Constructor=s,c.fn.carousel.noConflict=function(){return c.fn.carousel=t,this},c(document).on("click.carousel.data-api","[data-slide]",function(t){var e,n=c(this),i=c(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")),r=c.extend({},i.data(),n.data());i.carousel(r),t.preventDefault()})}(window.jQuery),function(s){"use strict";var r=function(t,e){this.$element=s(t),this.options=s.extend({},s.fn.collapse.defaults,e),this.options.parent&&(this.$parent=s(this.options.parent)),this.options.toggle&&this.toggle()};r.prototype={constructor:r,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var t,e,n,i;if(!this.transitioning){if(t=this.dimension(),e=s.camelCase(["scroll",t].join("-")),(n=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&n.length){if((i=n.data("collapse"))&&i.transitioning)return;n.collapse("hide"),i||n.data("collapse",null)}this.$element[t](0),this.transition("addClass",s.Event("show"),"shown"),s.support.transition&&this.$element[t](this.$element[0][e])}},hide:function(){var t;this.transitioning||(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",s.Event("hide"),"hidden"),this.$element[t](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(t,e,n){var i=this,r=function(){"show"==e.type&&i.reset(),i.transitioning=0,i.$element.trigger(n)};this.$element.trigger(e),e.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),s.support.transition&&this.$element.hasClass("collapse")?this.$element.one(s.support.transition.end,r):r())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var t=s.fn.collapse;s.fn.collapse=function(i){return this.each(function(){var t=s(this),e=t.data("collapse"),n="object"==typeof i&&i;e||t.data("collapse",e=new r(this,n)),"string"==typeof i&&e[i]()})},s.fn.collapse.defaults={toggle:!0},s.fn.collapse.Constructor=r,s.fn.collapse.noConflict=function(){return s.fn.collapse=t,this},s(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var e,n=s(this),i=n.attr("data-target")||t.preventDefault()||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),r=s(i).data("collapse")?"toggle":n.data();n[s(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),s(i).collapse(r)})}(window.jQuery),function(o){"use strict";var t="[data-toggle=dropdown]",i=function(t){var e=o(t).on("click.dropdown.data-api",this.toggle);o("html").on("click.dropdown.data-api",function(){e.parent().removeClass("open")})};function r(){o(t).each(function(){a(o(this)).removeClass("open")})}function a(t){var e,n=t.attr("data-target");return n||(n=(n=t.attr("href"))&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),(e=o(n)).length||(e=t.parent()),e}i.prototype={constructor:i,toggle:function(t){var e,n,i=o(this);if(!i.is(".disabled, :disabled"))return n=(e=a(i)).hasClass("open"),r(),n||e.toggleClass("open"),i.focus(),!1},keydown:function(t){var e,n,i,r,s;if(/(38|40|27)/.test(t.keyCode)&&(e=o(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(!(r=(i=a(e)).hasClass("open"))||r&&27==t.keyCode)return e.click();(n=o("[role=menu] li:not(.divider):visible a",i)).length&&(s=n.index(n.filter(":focus")),38==t.keyCode&&0<s&&s--,40==t.keyCode&&s<n.length-1&&s++,~s||(s=0),n.eq(s).focus())}}};var e=o.fn.dropdown;o.fn.dropdown=function(n){return this.each(function(){var t=o(this),e=t.data("dropdown");e||t.data("dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})},o.fn.dropdown.Constructor=i,o.fn.dropdown.noConflict=function(){return o.fn.dropdown=e,this},o(document).on("click.dropdown.data-api touchstart.dropdown.data-api",r).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,i.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",i.prototype.keydown)}(window.jQuery),function(s){"use strict";var r=function(t,e){this.options=e,this.$element=s(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",s.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};r.prototype={constructor:r,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,t=s.Event("show");this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var t=s.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),t&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),t?e.$element.one(s.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=s.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),s(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),s.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;s(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,e=setTimeout(function(){t.$element.off(s.support.transition.end),t.hideModal()},500);this.$element.one(s.support.transition.end,function(){clearTimeout(e),t.hideModal()})},hideModal:function(t){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=s.support.transition&&e;this.$backdrop=s('<div class="modal-backdrop '+e+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?s.proxy(this.$element[0].focus,this.$element[0]):s.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),n?this.$backdrop.one(s.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),s.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(s.support.transition.end,s.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}};var t=s.fn.modal;s.fn.modal=function(i){return this.each(function(){var t=s(this),e=t.data("modal"),n=s.extend({},s.fn.modal.defaults,t.data(),"object"==typeof i&&i);e||t.data("modal",e=new r(this,n)),"string"==typeof i?e[i]():n.show&&e.show()})},s.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},s.fn.modal.Constructor=r,s.fn.modal.noConflict=function(){return s.fn.modal=t,this},s(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var e=s(this),n=e.attr("href"),i=s(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("modal")?"toggle":s.extend({remote:!/#/.test(n)&&n},i.data(),e.data());t.preventDefault(),i.modal(r).one("hide",function(){e.focus()})})}(window.jQuery),function(s){"use strict";var r=function(t,e){this.init("tooltip",t,e)};r.prototype={constructor:r,init:function(t,e,n){var i,r;this.type=t,this.$element=s(e),this.options=this.getOptions(n),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,s.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(i="hover"==this.options.trigger?"mouseenter":"focus",r="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,s.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,s.proxy(this.leave,this))),this.options.selector?this._options=s.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return(t=s.extend({},s.fn[this.type].defaults,t,this.$element.data())).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var e=s(t.currentTarget)[this.type](this._options).data(this.type);if(!e.options.delay||!e.options.delay.show)return e.show();clearTimeout(this.timeout),e.hoverState="in",this.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)},leave:function(t){var e=s(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!e.options.delay||!e.options.delay.hide)return e.hide();e.hoverState="out",this.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)},show:function(){var t,e,n,i,r,s,o;if(this.hasContent()&&this.enabled){switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(s),t.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),n=this.getPosition(e),i=t[0].offsetWidth,r=t[0].offsetHeight,e?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":o={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":o={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":o={top:n.top+n.height/2-r/2,left:n.left+n.width}}t.offset(o).addClass(s).addClass("in")}},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var t,e=this.tip();return e.removeClass("in"),s.support.transition&&this.$tip.hasClass("fade")?(t=setTimeout(function(){e.off(s.support.transition.end).detach()},500),e.one(s.support.transition.end,function(){clearTimeout(t),e.detach()})):e.detach(),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return s.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.$tip=this.$tip||s(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var e=s(t.currentTarget)[this.type](this._options).data(this.type);e[e.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var t=s.fn.tooltip;s.fn.tooltip=function(i){return this.each(function(){var t=s(this),e=t.data("tooltip"),n="object"==typeof i&&i;e||t.data("tooltip",e=new r(this,n)),"string"==typeof i&&e[i]()})},s.fn.tooltip.Constructor=r,s.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1},s.fn.tooltip.noConflict=function(){return s.fn.tooltip=t,this}}(window.jQuery),function(r){"use strict";var s=function(t,e){this.init("popover",t,e)};s.prototype=r.extend({},r.fn.tooltip.Constructor.prototype,{constructor:s,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},tip:function(){return this.$tip||(this.$tip=r(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var t=r.fn.popover;r.fn.popover=function(i){return this.each(function(){var t=r(this),e=t.data("popover"),n="object"==typeof i&&i;e||t.data("popover",e=new s(this,n)),"string"==typeof i&&e[i]()})},r.fn.popover.Constructor=s,r.fn.popover.defaults=r.extend({},r.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}),r.fn.popover.noConflict=function(){return r.fn.popover=t,this}}(window.jQuery),function(s){"use strict";function r(t,e){var n,i=s.proxy(this.process,this),r=s(t).is("body")?s(window):s(t);this.options=s.extend({},s.fn.scrollspy.defaults,e),this.$scrollElement=r.on("scroll.scroll-spy.data-api",i),this.selector=(this.options.target||(n=s(t).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=s("body"),this.refresh(),this.process()}r.prototype={constructor:r,refresh:function(){var i=this;this.offsets=s([]),this.targets=s([]),this.$body.find(this.selector).map(function(){var t=s(this),e=t.data("target")||t.attr("href"),n=/^#\w/.test(e)&&s(e);return n&&n.length&&[[n.position().top+i.$scrollElement.scrollTop(),e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),i=this.offsets,r=this.targets,s=this.activeTarget;if(n<=e)return s!=(t=r.last()[0])&&this.activate(t);for(t=i.length;t--;)s!=r[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(r[t])},activate:function(t){var e,n;this.activeTarget=t,s(this.selector).parent(".active").removeClass("active"),n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',(e=s(n).parent("li").addClass("active")).parent(".dropdown-menu").length&&(e=e.closest("li.dropdown").addClass("active")),e.trigger("activate")}};var t=s.fn.scrollspy;s.fn.scrollspy=function(i){return this.each(function(){var t=s(this),e=t.data("scrollspy"),n="object"==typeof i&&i;e||t.data("scrollspy",e=new r(this,n)),"string"==typeof i&&e[i]()})},s.fn.scrollspy.Constructor=r,s.fn.scrollspy.defaults={offset:10},s.fn.scrollspy.noConflict=function(){return s.fn.scrollspy=t,this},s(window).on("load",function(){s('[data-spy="scroll"]').each(function(){var t=s(this);t.scrollspy(t.data())})})}(window.jQuery),function(o){"use strict";var i=function(t){this.element=o(t)};i.prototype={constructor:i,show:function(){var t,e,n,i=this.element,r=i.closest("ul:not(.dropdown-menu)"),s=i.attr("data-target");s||(s=(s=i.attr("href"))&&s.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(t=r.find(".active:last a")[0],n=o.Event("show",{relatedTarget:t}),i.trigger(n),n.isDefaultPrevented()||(e=o(s),this.activate(i.parent("li"),r),this.activate(e,e.parent(),function(){i.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,e,n){var i=e.find("> .active"),r=n&&o.support.transition&&i.hasClass("fade");function s(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}r?i.one(o.support.transition.end,s):s(),i.removeClass("in")}};var t=o.fn.tab;o.fn.tab=function(n){return this.each(function(){var t=o(this),e=t.data("tab");e||t.data("tab",e=new i(this)),"string"==typeof n&&e[n]()})},o.fn.tab.Constructor=i,o.fn.tab.noConflict=function(){return o.fn.tab=t,this},o(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),o(this).tab("show")})}(window.jQuery),function(r){"use strict";var s=function(t,e){this.$element=r(t),this.options=r.extend({},r.fn.typeahead.defaults,e),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=r(this.options.menu),this.shown=!1,this.listen()};s.prototype={constructor:s,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var t=r.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=r.isFunction(this.source)?this.source(this.query,r.proxy(this.process,this)):this.source)?this.process(e):this},process:function(t){var e=this;return t=r.grep(t,function(t){return e.matcher(t)}),(t=this.sorter(t)).length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],i=[],r=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?i.push(e):r.push(e):n.push(e);return n.concat(i,r)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(t){var n=this;return(t=r(t).map(function(t,e){return(t=r(n.options.item).attr("data-value",e)).find("a").html(n.highlighter(e)),t[0]})).first().addClass("active"),this.$menu.html(t),this},next:function(t){var e=this.$menu.find(".active").removeClass("active").next();e.length||(e=r(this.$menu.find("li")[0])),e.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active").prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("blur",r.proxy(this.blur,this)).on("keypress",r.proxy(this.keypress,this)).on("keyup",r.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",r.proxy(this.keydown,this)),this.$menu.on("click",r.proxy(this.click,this)).on("mouseenter","li",r.proxy(this.mouseenter,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~r.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},blur:function(t){var e=this;setTimeout(function(){e.hide()},150)},click:function(t){t.stopPropagation(),t.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),r(t.currentTarget).addClass("active")}};var t=r.fn.typeahead;r.fn.typeahead=function(i){return this.each(function(){var t=r(this),e=t.data("typeahead"),n="object"==typeof i&&i;e||t.data("typeahead",e=new s(this,n)),"string"==typeof i&&e[i]()})},r.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},r.fn.typeahead.Constructor=s,r.fn.typeahead.noConflict=function(){return r.fn.typeahead=t,this},r(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var e=r(this);e.data("typeahead")||(t.preventDefault(),e.typeahead(e.data()))})}(window.jQuery),function(a){"use strict";var r=function(t,e){this.options=a.extend({},a.fn.affix.defaults,e),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(t),this.checkPosition()};r.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,e=a(document).height(),n=this.$window.scrollTop(),i=this.$element.offset(),r=this.options.offset,s=r.bottom,o=r.top;"object"!=typeof r&&(s=o=r),"function"==typeof o&&(o=r.top()),"function"==typeof s&&(s=r.bottom()),t=!(null!=this.unpin&&n+this.unpin<=i.top)&&(null!=s&&i.top+this.$element.height()>=e-s?"bottom":null!=o&&n<=o&&"top"),this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?i.top-n:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(t?"-"+t:"")))}};var t=a.fn.affix;a.fn.affix=function(i){return this.each(function(){var t=a(this),e=t.data("affix"),n="object"==typeof i&&i;e||t.data("affix",e=new r(this,n)),"string"==typeof i&&e[i]()})},a.fn.affix.Constructor=r,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=t,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var t=a(this),e=t.data();e.offset=e.offset||{},e.offsetBottom&&(e.offset.bottom=e.offsetBottom),e.offsetTop&&(e.offset.top=e.offsetTop),t.affix(e)})})}(window.jQuery),function(){function a(t){return t&&(t.ownerDocument||t.document||t).documentElement}function L(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function o(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function c(t){return null===t?NaN:+t}function h(t){return!isNaN(t)}function t(s){return{left:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;s(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;0<s(t[r],e)?i=r:n=r+1}return n}}}function l(t){return t.length}function e(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function y(){this._=Object.create(null)}function n(t){return(t+="")===rs||t[0]===ss?ss+t:t}function i(t){return(t+="")[0]===ss?t.slice(1):t}function r(t){return n(t)in this._}function s(t){return(t=n(t))in this._&&delete this._[t]}function u(){var t=[];for(var e in this._)t.push(i(e));return t}function d(){var t=0;for(var e in this._)++t;return t}function f(){for(var t in this._)return!1;return!0}function p(){this._=Object.create(null)}function B(t){return t}function g(e,n,i){return function(){var t=i.apply(n,arguments);return t===n?e:t}}function m(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=os.length;n<i;++n){var r=os[n]+e;if(r in t)return r}}function v(){}function b(){}function _(r){function t(){for(var t,e=s,n=-1,i=e.length;++n<i;)(t=e[n].on)&&t.apply(this,arguments);return r}var s=[],o=new y;return t.on=function(t,e){var n,i=o.get(t);return arguments.length<2?i&&i.on:(i&&(i.on=null,s=s.slice(0,n=s.indexOf(i)).concat(s.slice(n+1)),o.remove(t)),e&&s.push(o.set(t,{on:e})),r)},t}function $(){qr.event.preventDefault()}function w(){for(var t,e=qr.event;t=e.sourceEvent;)e=t;return e}function R(r){for(var s=new b,t=0,e=arguments.length;++t<e;)s[arguments[t]]=_(s);return s.of=function(n,i){return function(t){try{var e=t.sourceEvent=qr.event;t.target=r,qr.event=t,s[t.type].apply(n,i)}finally{qr.event=e}}},s}function x(t){return ls(t,ds),t}function A(t){return"function"==typeof t?t:function(){return cs(t,this)}}function C(t){return"function"==typeof t?t:function(){return hs(t,this)}}function E(e,n){return e=qr.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function k(t){return t.trim().replace(/\s+/g," ")}function S(t){return new RegExp("(?:^|\\s+)"+qr.requote(t)+"(?:\\s+|$)","g")}function F(t){return(t+"").trim().split(/^|\s+/)}function T(n,i){var r=(n=F(n).map(D)).length;return"function"==typeof i?function(){for(var t=-1,e=i.apply(this,arguments);++t<r;)n[t](this,e)}:function(){for(var t=-1;++t<r;)n[t](this,i)}}function D(i){var r=S(i);return function(t,e){if(n=t.classList)return e?n.add(i):n.remove(i);var n=t.getAttribute("class")||"";e?(r.lastIndex=0,r.test(n)||t.setAttribute("class",k(n+" "+i))):t.setAttribute("class",k(n.replace(r," ")))}}function M(e,n,i){return null==n?function(){this.style.removeProperty(e)}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}:function(){this.style.setProperty(e,n,i)}}function P(e,n){return null==n?function(){delete this[e]}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}:function(){this[e]=n}}function O(n){return"function"==typeof n?n:(n=qr.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var t=this.ownerDocument,e=this.namespaceURI;return e===fs&&t.documentElement.namespaceURI===fs?t.createElement(n):t.createElementNS(e,n)}}function I(){var t=this.parentNode;t&&t.removeChild(this)}function N(t){return{__data__:t}}function z(t){return function(){return us(this,t)}}function H(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,s=t[n],o=0,a=s.length;o<a;o++)(r=s[o])&&e(r,o,n);return t}function j(t){return ls(t,gs),t}function W(r,e,n){function i(){var t=this[s];t&&(this.removeEventListener(r,t,t.$),delete this[s])}var s="__on"+r,t=r.indexOf("."),o=V;0<t&&(r=r.slice(0,t));var a=ms.get(r);return a&&(r=a,o=U),t?e?function(){var t=o(e,Gr(arguments));i.call(this),this.addEventListener(r,this[s]=t,t.$=n),t._=e}:i:e?v:function(){var t,e=new RegExp("^__on([^.]+)"+qr.requote(r)+"$");for(var n in this)if(t=n.match(e)){var i=this[n];this.removeEventListener(t[1],i,i.$),delete this[n]}}}function V(n,i){return function(t){var e=qr.event;qr.event=t,i[0]=this.__data__;try{n.apply(this,i)}finally{qr.event=e}}}function U(t,e){var n=V(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function Y(t){var n=".dragsuppress-"+ ++ys,i="click"+n,r=qr.select(L(t)).on("touchmove"+n,$).on("dragstart"+n,$).on("selectstart"+n,$);if(null==vs&&(vs=!("onselectstart"in t)&&m(t.style,"userSelect")),vs){var s=a(t).style,o=s[vs];s[vs]="none"}return function(t){if(r.on(n,null),vs&&(s[vs]=o),t){var e=function(){r.on(i,null)};r.on(i,function(){$(),e()},!0),setTimeout(e,0)}}}function q(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(bs<0){var r=L(t);if(r.scrollX||r.scrollY){var s=(n=qr.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();bs=!(s.f||s.e),n.remove()}}return bs?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function Z(){return qr.event.changedTouches[0].identifier}function G(t){return 0<t?1:t<0?-1:0}function K(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function X(t){return 1<t?0:t<-1?xs:Math.acos(t)}function Q(t){return 1<t?Es:t<-1?-Es:Math.asin(t)}function J(t){return((t=Math.exp(t))+1/t)/2}function tt(t){return(t=Math.sin(t/2))*t}function et(){}function nt(t,e,n){return this instanceof nt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof nt?new nt(t.h,t.s,t.l):mt(""+t,vt,nt):new nt(t,e,n)}function it(t,e,n){function i(t){return Math.round(255*(360<(e=t)?e-=360:e<0&&(e+=360),e<60?r+(s-r)*e/60:e<180?s:e<240?r+(s-r)*(240-e)/60:r));var e}var r,s;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,r=2*(n=n<0?0:1<n?1:n)-(s=n<=.5?n*(1+e):n+e-n*e),new dt(i(t+120),i(t),i(t-120))}function rt(t,e,n){return this instanceof rt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof rt?new rt(t.h,t.c,t.l):lt(t instanceof ot?t.l:(t=yt((t=qr.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new rt(t,e,n)}function st(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ot(n,Math.cos(t*=ks)*e,Math.sin(t)*e)}function ot(t,e,n){return this instanceof ot?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ot?new ot(t.l,t.a,t.b):t instanceof rt?st(t.h,t.c,t.l):yt((t=dt(t)).r,t.g,t.b):new ot(t,e,n)}function at(t,e,n){var i=(t+16)/116,r=i+e/500,s=i-n/200;return new dt(ut(3.2404542*(r=ct(r)*$s)-1.5371385*(i=ct(i)*Rs)-.4985314*(s=ct(s)*Os)),ut(-.969266*r+1.8760108*i+.041556*s),ut(.0556434*r-.2040259*i+1.0572252*s))}function lt(t,e,n){return 0<t?new rt(Math.atan2(n,e)*Ss,Math.sqrt(e*e+n*n),t):new rt(NaN,NaN,t)}function ct(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function ht(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function ut(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function dt(t,e,n){return this instanceof dt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof dt?new dt(t.r,t.g,t.b):mt(""+t,dt,it):new dt(t,e,n)}function ft(t){return new dt(t>>16,t>>8&255,255&t)}function pt(t){return ft(t)+""}function gt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function mt(t,e,n){var i,r,s,o=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(_t(r[0]),_t(r[1]),_t(r[2]))}return(s=zs.get(t))?e(s.r,s.g,s.b):(null==t||"#"!==t.charAt(0)||isNaN(s=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&s)>>4,o|=o>>4,a=240&s,a|=a>>4,l=15&s,l|=l<<4):7===t.length&&(o=(16711680&s)>>16,a=(65280&s)>>8,l=255&s)),e(o,a,l))}function vt(t,e,n){var i,r,s=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),a=o-s,l=(o+s)/2;return a?(r=l<.5?a/(o+s):a/(2-o-s),i=t==o?(e-n)/a+(e<n?6:0):e==o?(n-t)/a+2:(t-e)/a+4,i*=60):(i=NaN,r=0<l&&l<1?0:i),new nt(i,r,l)}function yt(t,e,n){var i=ht((.4124564*(t=bt(t))+.3575761*(e=bt(e))+.1804375*(n=bt(n)))/$s),r=ht((.2126729*t+.7151522*e+.072175*n)/Rs);return ot(116*r-16,500*(i-r),200*(r-ht((.0193339*t+.119192*e+.9503041*n)/Os)))}function bt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _t(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function wt(t){return"function"==typeof t?t:function(){return t}}function xt(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),At(t,e,i,n)}}function At(r,s,o,t){function e(){var t,e,n,i=h.status;if(!i&&((n=(e=h).responseType)&&"text"!==n?e.response:e.responseText)||200<=i&&i<300||304===i){try{t=o.call(a,h)}catch(t){return void l.error.call(a,t)}l.load.call(a,t)}else l.error.call(a,h)}var n,a={},l=qr.dispatch("beforesend","progress","load","error"),c={},h=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in h||!/^(http(s)?:)?\/\//.test(r)||(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=e:h.onreadystatechange=function(){3<h.readyState&&e()},h.onprogress=function(t){var e=qr.event;qr.event=t;try{l.progress.call(a,h)}finally{qr.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c[t]:(null==e?delete c[t]:c[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(s=null==t?null:t+"",a):s},a.responseType=function(t){return arguments.length?(u=t,a):u},a.response=function(t){return o=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(Gr(arguments)))}}),a.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),h.open(t,r,!0),null==s||"accept"in c||(c.accept=s+",*/*"),h.setRequestHeader)for(var i in c)h.setRequestHeader(i,c[i]);return null!=s&&h.overrideMimeType&&h.overrideMimeType(s),null!=u&&(h.responseType=u),null!=n&&a.on("error",n).on("load",function(t){n(null,t)}),l.beforesend.call(a,h),h.send(null==e?null:e),a},a.abort=function(){return h.abort(),a},qr.rebind(a,l,"on"),null==t?a:a.get(1===(n=t).length?function(t,e){n(null==t?e:null)}:n)}function Ct(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return js?js.n=r:Hs=r,js=r,Ws||(Vs=clearTimeout(Vs),Ws=1,Us(Et)),r}function Et(){var t=kt(),e=St()-t;24<e?(isFinite(e)&&(clearTimeout(Vs),Vs=setTimeout(Et,e)),Ws=0):(Ws=1,Us(Et))}function kt(){for(var t=Date.now(),e=Hs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function St(){for(var t,e=Hs,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:Hs=e.n;return js=t,n}function Ft(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Tt(t){return t+""}function Dt(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Mt(i,s,o){function t(t){var e=i(t),n=r(e,1);return t-e<n-t?e:n}function a(t){return s(t=i(new Ks(t-1)),1),t}function r(t,e){return s(t=new Ks(+t),e),t}function l(t,e,n){var i=a(t),r=[];if(1<n)for(;i<e;)o(i)%n||r.push(new Date(+i)),s(i,1);else for(;i<e;)r.push(new Date(+i)),s(i,1);return r}(i.floor=i).round=t,i.ceil=a,i.offset=r,i.range=l;var e=i.utc=Pt(i);return(e.floor=e).round=Pt(t),e.ceil=Pt(a),e.offset=Pt(r),e.range=function(t,e,n){try{var i=new(Ks=Dt);return i._=t,l(i,e,n)}finally{Ks=Date}},i}function Pt(i){return function(t,e){try{var n=new(Ks=Dt);return n._=t,i(n,e)._}finally{Ks=Date}}}function Lt(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",s=r.length;return i+(s<n?new Array(n-s+1).join(e)+r:r)}function Bt(t){return new RegExp("^(?:"+t.map(qr.requote).join("|")+")","i")}function $t(t){for(var e=new y,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Rt(t,e,n){Js.lastIndex=0;var i=Js.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Ot(t,e,n){Js.lastIndex=0;var i=Js.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function It(t,e,n){Js.lastIndex=0;var i=Js.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Nt(t,e,n){Js.lastIndex=0;var i=Js.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function zt(t,e,n){Js.lastIndex=0;var i,r=Js.exec(e.slice(n,n+2));return r?(t.y=(i=+r[0])+(68<i?1900:2e3),n+r[0].length):-1}function Ht(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function jt(t,e,n){Js.lastIndex=0;var i=Js.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Wt(t,e,n){Js.lastIndex=0;var i=Js.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Vt(t,e,n){Js.lastIndex=0;var i=Js.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function Ut(t,e,n){Js.lastIndex=0;var i=Js.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Yt(t,e,n){Js.lastIndex=0;var i=Js.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function qt(t,e,n){Js.lastIndex=0;var i=Js.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Zt(t,e,n){Js.lastIndex=0;var i=Js.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Gt(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",i=is(e)/60|0,r=is(e)%60;return n+Lt(i,"0",2)+Lt(r,"0",2)}function Kt(t,e,n){to.lastIndex=0;var i=to.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Xt(i){for(var t=i.length,e=-1;++e<t;)i[e][0]=this(i[e][0]);return function(t){for(var e=0,n=i[e];!n[1](t);)n=i[++e];return n[0](t)}}function Qt(){}function Jt(t,e,n){var i=n.s=t+e,r=i-t,s=i-r;n.t=t-s+(e-r)}function te(t,e){t&&ro.hasOwnProperty(t.type)&&ro[t.type](t,e)}function ee(t,e,n){var i,r=-1,s=t.length-n;for(e.lineStart();++r<s;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function ne(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)ee(t[n],e,1);e.polygonEnd()}function ie(){function n(t,e){e=e*ks/2+xs/4;var n=(t*=ks)-h,i=0<=n?1:-1,r=i*n,s=Math.cos(e),o=Math.sin(e),a=d*o,l=u*s+a*Math.cos(r),c=a*i*Math.sin(r);oo.add(Math.atan2(c,l)),h=t,u=s,d=o}var i,r,h,u,d;ao.point=function(t,e){ao.point=n,h=(i=t)*ks,u=Math.cos(e=(r=e)*ks/2+xs/4),d=Math.sin(e)},ao.lineEnd=function(){n(i,r)}}function re(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function se(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function oe(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ae(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function le(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ce(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function he(t){return[Math.atan2(t[1],t[0]),Q(t[2])]}function ue(t,e){return is(t[0]-e[0])<_s&&is(t[1]-e[1])<_s}function de(t,e){t*=ks;var n=Math.cos(e*=ks);fe(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function fe(t,e,n){ho+=(t-ho)/++lo,uo+=(e-uo)/lo,fo+=(n-fo)/lo}function pe(){function i(t,e){t*=ks;var n=Math.cos(e*=ks),i=n*Math.cos(t),r=n*Math.sin(t),s=Math.sin(e),o=Math.atan2(Math.sqrt((o=l*s-c*r)*o+(o=c*i-a*s)*o+(o=a*r-l*i)*o),a*i+l*r+c*s);co+=o,po+=o*(a+(a=i)),go+=o*(l+(l=r)),mo+=o*(c+(c=s)),fe(a,l,c)}var a,l,c;_o.point=function(t,e){t*=ks;var n=Math.cos(e*=ks);a=n*Math.cos(t),l=n*Math.sin(t),c=Math.sin(e),_o.point=i,fe(a,l,c)}}function ge(){_o.point=de}function me(){function i(t,e){t*=ks;var n=Math.cos(e*=ks),i=n*Math.cos(t),r=n*Math.sin(t),s=Math.sin(e),o=p*s-g*r,a=g*i-f*s,l=f*r-p*i,c=Math.sqrt(o*o+a*a+l*l),h=f*i+p*r+g*s,u=c&&-X(h)/c,d=Math.atan2(c,h);vo+=u*o,yo+=u*a,bo+=u*l,co+=d,po+=d*(f+(f=i)),go+=d*(p+(p=r)),mo+=d*(g+(g=s)),fe(f,p,g)}var r,s,f,p,g;_o.point=function(t,e){r=t,s=e,_o.point=i,t*=ks;var n=Math.cos(e*=ks);f=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),fe(f,p,g)},_o.lineEnd=function(){i(r,s),_o.lineEnd=ge,_o.point=de}}function ve(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function ye(){return!0}function be(t,e,n,i,a){var l=[],c=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(ue(n,i)){a.lineStart();for(var r=0;r<e;++r)a.point((n=t[r])[0],n[1]);return void a.lineEnd()}var s=new we(n,t,null,!0),o=new we(n,null,s,!1);s.o=o,l.push(s),c.push(o),o=new we(i,null,s=new we(i,t,null,!1),!0),s.o=o,l.push(s),c.push(o)}}),c.sort(e),_e(l),_e(c),l.length){for(var r=0,s=n,o=c.length;r<o;++r)c[r].e=s=!s;for(var h,u,d=l[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;h=f.z,a.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(r=0,o=h.length;r<o;++r)a.point((u=h[r])[0],u[1]);else i(f.x,f.n.x,1,a);f=f.n}else{if(p)for(r=(h=f.p.z).length-1;0<=r;--r)a.point((u=h[r])[0],u[1]);else i(f.x,f.p.x,-1,a);f=f.p}h=(f=f.o).z,p=!p}while(!f.v);a.lineEnd()}}}function _e(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function we(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function xe(y,b,_,w){return function(i,o){function e(t,e){var n=i(t,e);y(t=n[0],e=n[1])&&o.point(t,e)}function t(t,e){var n=i(t,e);d.point(n[0],n[1])}function n(){p.point=t,d.lineStart()}function r(){p.point=e,d.lineEnd()}function a(t,e){u.push([t,e]);var n=i(t,e);m.point(n[0],n[1])}function s(){m.lineStart(),u=[]}function l(){a(u[0][0],u[0][1]),m.lineEnd();var t,e=m.clean(),n=g.buffer(),i=n.length;if(u.pop(),h.push(u),u=null,i)if(1&e){var r,s=-1;if(0<(i=(t=n[0]).length-1)){for(v||(o.polygonStart(),v=!0),o.lineStart();++s<i;)o.point((r=t[s])[0],r[1]);o.lineEnd()}}else 1<i&&2&e&&n.push(n.pop().concat(n.shift())),c.push(n.filter(Ae))}var c,h,u,d=b(o),f=i.invert(w[0],w[1]),p={point:e,lineStart:n,lineEnd:r,polygonStart:function(){p.point=a,p.lineStart=s,p.lineEnd=l,c=[],h=[]},polygonEnd:function(){p.point=e,p.lineStart=n,p.lineEnd=r,c=qr.merge(c);var t=function(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],s=0,o=0;oo.reset();for(var a=0,l=e.length;a<l;++a){var c=e[a],h=c.length;if(h)for(var u=c[0],d=u[0],f=u[1]/2+xs/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===h&&(m=0);var v=(t=c[m])[0],y=t[1]/2+xs/4,b=Math.sin(y),_=Math.cos(y),w=v-d,x=0<=w?1:-1,A=x*w,C=xs<A,E=p*b;if(oo.add(Math.atan2(E*x*Math.sin(A),g*_+E*Math.cos(A))),s+=C?w+x*As:w,C^n<=d^n<=v){var k=oe(re(u),re(t));ce(k);var S=oe(r,k);ce(S);var F=(C^0<=w?-1:1)*Q(S[2]);(F<i||i===F&&(k[0]||k[1]))&&(o+=C^0<=w?1:-1)}if(!m++)break;d=v,p=b,g=_,u=t}}return(s<-_s||s<_s&&oo<0)^1&o}(f,h);c.length?(v||(o.polygonStart(),v=!0),be(c,Ee,t,_,o)):t&&(v||(o.polygonStart(),v=!0),o.lineStart(),_(null,null,1,o),o.lineEnd()),v&&(o.polygonEnd(),v=!1),c=h=null},sphere:function(){o.polygonStart(),o.lineStart(),_(null,null,1,o),o.lineEnd(),o.polygonEnd()}},g=Ce(),m=b(g),v=!1;return p}}function Ae(t){return 1<t.length}function Ce(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:v,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Ee(t,e){return((t=t.x)[0]<0?t[1]-Es-_s:Es-t[1])-((e=e.x)[0]<0?e[1]-Es-_s:Es-e[1])}function ke(h,u,d,f){return function(t){var e,n=t.a,i=t.b,r=n.x,s=n.y,o=0,a=1,l=i.x-r,c=i.y-s;if(e=h-r,l||!(0<e)){if(e/=l,l<0){if(e<o)return;e<a&&(a=e)}else if(0<l){if(a<e)return;o<e&&(o=e)}if(e=d-r,l||!(e<0)){if(e/=l,l<0){if(a<e)return;o<e&&(o=e)}else if(0<l){if(e<o)return;e<a&&(a=e)}if(e=u-s,c||!(0<e)){if(e/=c,c<0){if(e<o)return;e<a&&(a=e)}else if(0<c){if(a<e)return;o<e&&(o=e)}if(e=f-s,c||!(e<0)){if(e/=c,c<0){if(a<e)return;o<e&&(o=e)}else if(0<c){if(e<o)return;e<a&&(a=e)}return 0<o&&(t.a={x:r+o*l,y:s+o*c}),a<1&&(t.b={x:r+a*l,y:s+a*c}),t}}}}}}function Se(_,w,x,A){function C(t,e){return is(t[0]-_)<_s?0<e?0:3:is(t[0]-x)<_s?0<e?2:1:is(t[1]-w)<_s?0<e?1:0:0<e?3:2}function E(t,e){return k(t.x,e.x)}function k(t,e){var n=C(t,1),i=C(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){function i(t,e,n,i){var r=0,s=0;if(null==t||(r=C(t,n))!==(s=C(e,n))||k(t,e)<0^0<n)for(;i.point(0===r||3===r?_:x,1<r?A:w),(r=(r+n+4)%4)!==s;);else i.point(e[0],e[1])}function s(t,e){return _<=t&&t<=x&&w<=e&&e<=A}function t(t,e){s(t,e)&&r.point(t,e)}function e(t,e){var n=s(t=Math.max(-xo,Math.min(xo,t)),e=Math.max(-xo,Math.min(xo,e)));if(h&&a.push([t,e]),g)l=t,c=e,g=!1,(u=n)&&(r.lineStart(),r.point(t,e));else if(n&&p)r.point(t,e);else{var i={a:{x:d,y:f},b:{x:t,y:e}};y(i)?(p||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),m=!1):n&&(r.lineStart(),r.point(t,e),m=!1)}d=t,f=e,p=n}var o,h,a,l,c,u,d,f,p,g,m,v=r,n=Ce(),y=ke(_,w,x,A),b={point:t,lineStart:function(){b.point=e,h&&h.push(a=[]),p=!(g=!0),d=f=NaN},lineEnd:function(){o&&(e(l,c),u&&p&&n.rejoin(),o.push(n.buffer())),b.point=t,p&&r.lineEnd()},polygonStart:function(){r=n,o=[],h=[],m=!0},polygonEnd:function(){r=v,o=qr.merge(o);var t=function(t){for(var e=0,n=h.length,i=t[1],r=0;r<n;++r)for(var s,o=1,a=h[r],l=a.length,c=a[0];o<l;++o)s=a[o],c[1]<=i?s[1]>i&&0<K(c,s,t)&&++e:s[1]<=i&&K(c,s,t)<0&&--e,c=s;return 0!==e}([_,A]),e=m&&t,n=o.length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),i(null,null,1,r),r.lineEnd()),n&&be(o,E,t,i,r),r.polygonEnd()),o=h=a=null}};return b}}function Fe(t){var e=0,n=xs/3,i=je(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*xs/180,n=t[1]*xs/180):[e/xs*180,n/xs*180]},r}function Te(t,e){function n(t,e){var n=Math.sqrt(s-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,s=1+i*(2*r-i),o=Math.sqrt(s)/r;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,Q((s-(t*t+n*n)*r*r)/(2*r))]},n}function De(){function n(t,e){Co+=o*t-s*e,s=t,o=e}var i,r,s,o;To.point=function(t,e){To.point=n,i=s=t,r=o=e},To.lineEnd=function(){n(i,r)}}function Me(){function t(t,e){o.push("M",t,",",e,s)}function e(t,e){o.push("M",t,",",e),a.point=n}function n(t,e){o.push("L",t,",",e)}function i(){a.point=t}function r(){o.push("Z")}var s=Pe(4.5),o=[],a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=r},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(t){return s=Pe(t),a},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return a}function Pe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Le(t,e){ho+=t,uo+=e,++fo}function Be(){function n(t,e){var n=t-s,i=e-o,r=Math.sqrt(n*n+i*i);po+=r*(s+t)/2,go+=r*(o+e)/2,mo+=r,Le(s=t,o=e)}var s,o;Mo.point=function(t,e){Mo.point=n,Le(s=t,o=e)}}function $e(){Mo.point=Le}function Re(){function n(t,e){var n=t-s,i=e-o,r=Math.sqrt(n*n+i*i);po+=r*(s+t)/2,go+=r*(o+e)/2,mo+=r,vo+=(r=o*t-s*e)*(s+t),yo+=r*(o+e),bo+=3*r,Le(s=t,o=e)}var i,r,s,o;Mo.point=function(t,e){Mo.point=n,Le(i=s=t,r=o=e)},Mo.lineEnd=function(){n(i,r)}}function Oe(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,As)}function e(t,e){n.moveTo(t,e),a.point=i}function i(t,e){n.lineTo(t,e)}function r(){a.point=t}function s(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:r,polygonStart:function(){a.lineEnd=s},polygonEnd:function(){a.lineEnd=r,a.point=t},pointRadius:function(t){return o=t,a},result:v};return a}function Ie(T){function e(t){return(w?function(r){function t(t,e){t=T(t,e),r.point(t[0],t[1])}function e(){g=NaN,_.point=n,r.lineStart()}function n(t,e){var n=re([t,e]),i=T(t,e);D(g,m,p,v,y,b,g=i[0],m=i[1],p=t,v=n[0],y=n[1],b=n[2],w,r),r.point(g,m)}function i(){_.point=t,r.lineEnd()}function s(){e(),_.point=o,_.lineEnd=a}function o(t,e){n(l=t,e),c=g,h=m,u=v,d=y,f=b,_.point=n}function a(){D(g,m,p,v,y,b,c,h,l,u,d,f,w,r),(_.lineEnd=i)()}var l,c,h,u,d,f,p,g,m,v,y,b,_={point:t,lineStart:e,lineEnd:i,polygonStart:function(){r.polygonStart(),_.lineStart=s},polygonEnd:function(){r.polygonEnd(),_.lineStart=e}};return _}:function(n){return ze(n,function(t,e){t=T(t,e),n.point(t[0],t[1])})})(t)}function D(t,e,n,i,r,s,o,a,l,c,h,u,d,f){var p=o-t,g=a-e,m=p*p+g*g;if(4*M<m&&d--){var v=i+c,y=r+h,b=s+u,_=Math.sqrt(v*v+y*y+b*b),w=Math.asin(b/=_),x=is(is(b)-1)<_s||is(n-l)<_s?(n+l)/2:Math.atan2(y,v),A=T(x,w),C=A[0],E=A[1],k=C-t,S=E-e,F=g*k-p*S;(M<F*F/m||.3<is((p*k+g*S)/m-.5)||i*c+r*h+s*u<P)&&(D(t,e,n,i,r,s,C,E,x,v/=_,y/=_,b,d,f),f.point(C,E),D(C,E,x,v,y,b,o,a,l,c,h,u,d,f))}}var M=.5,P=Math.cos(30*ks),w=16;return e.precision=function(t){return arguments.length?(w=0<(M=t*t)&&16,e):Math.sqrt(M)},e}function Ne(t){this.stream=t}function ze(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function He(t){return je(function(){return t})()}function je(t){function e(t){return[(t=a(t[0]*ks,t[1]*ks))[0]*d+l,c-t[1]*d]}function n(t){return(t=a.invert((t[0]-l)/d,(c-t[1])/d))&&[t[0]*Ss,t[1]*Ss]}function i(){a=ve(o=Ye(v,y,b),s);var t=s(g,m);return l=f-t[0]*d,c=p+t[1]*d,r()}function r(){return h&&(h.valid=!1,h=null),e}var s,o,a,l,c,h,u=Ie(function(t,e){return[(t=s(t,e))[0]*d+l,c-t[1]*d]}),d=150,f=480,p=250,g=0,m=0,v=0,y=0,b=0,_=wo,w=B,x=null,A=null;return e.stream=function(t){return h&&(h.valid=!1),(h=We(_(o,u(w(t))))).valid=!0,h},e.clipAngle=function(t){return arguments.length?(_=null==t?(x=t,wo):function(r){function f(t,e){return Math.cos(t)*Math.cos(e)>k}function p(t,e,n){var i=[1,0,0],r=oe(re(t),re(e)),s=se(r,r),o=r[0],a=s-o*o;if(!a)return!n&&t;var l=k*s/a,c=-k*o/a,h=oe(i,r),u=le(i,l);ae(u,le(r,c));var d=h,f=se(u,d),p=se(d,d),g=f*f-p*(se(u,u)-1);if(!(g<0)){var m=Math.sqrt(g),v=le(d,(-f-m)/p);if(ae(v,u),v=he(v),!n)return v;var y,b=t[0],_=e[0],w=t[1],x=e[1];_<b&&(y=b,b=_,_=y);var A=_-b,C=is(A-xs)<_s;if(!C&&x<w&&(y=w,w=x,x=y),C||A<_s?C?0<w+x^v[1]<(is(v[0]-b)<_s?w:x):w<=v[1]&&v[1]<=x:xs<A^(b<=v[0]&&v[0]<=_)){var E=le(d,(-f+m)/p);return ae(E,u),[v,he(E)]}}}function g(t,e){var n=m?r:xs-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}var k=Math.cos(r),m=0<k,v=is(k)>_s;return xe(f,function(a){var l,c,h,u,d;return{lineStart:function(){u=h=!1,d=1},point:function(t,e){var n,i=[t,e],r=f(t,e),s=m?r?0:g(t,e):r?g(t+(t<0?xs:-xs),e):0;if(!l&&(u=h=r)&&a.lineStart(),r!==h&&(n=p(l,i),(ue(l,n)||ue(i,n))&&(i[0]+=_s,i[1]+=_s,r=f(i[0],i[1]))),r!==h)d=0,r?(a.lineStart(),n=p(i,l),a.point(n[0],n[1])):(n=p(l,i),a.point(n[0],n[1]),a.lineEnd()),l=n;else if(v&&l&&m^r){var o;s&c||!(o=p(i,l,!0))||(d=0,m?(a.lineStart(),a.point(o[0][0],o[0][1]),a.point(o[1][0],o[1][1]),a.lineEnd()):(a.point(o[1][0],o[1][1]),a.lineEnd(),a.lineStart(),a.point(o[0][0],o[0][1])))}!r||l&&ue(l,i)||a.point(i[0],i[1]),l=i,h=r,c=s},lineEnd:function(){h&&a.lineEnd(),l=null},clean:function(){return d|(u&&h)<<1}}},Ke(r,6*ks),m?[0,-r]:[-xs,r-xs])}((x=+t)*ks),r()):x},e.clipExtent=function(t){return arguments.length?(w=(A=t)?Se(t[0][0],t[0][1],t[1][0],t[1][1]):B,r()):A},e.scale=function(t){return arguments.length?(d=+t,i()):d},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],i()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*ks,m=t[1]%360*ks,i()):[g*Ss,m*Ss]},e.rotate=function(t){return arguments.length?(v=t[0]%360*ks,y=t[1]%360*ks,b=2<t.length?t[2]%360*ks:0,i()):[v*Ss,y*Ss,b*Ss]},qr.rebind(e,u,"precision"),function(){return s=t.apply(this,arguments),e.invert=s.invert&&n,i()}}function We(n){return ze(n,function(t,e){n.point(t*ks,e*ks)})}function Ve(t,e){return[t,e]}function Ue(t,e){return[xs<t?t-As:t<-xs?t+As:t,e]}function Ye(t,e,n){return t?e||n?ve(Ze(t),Ge(e,n)):Ze(t):e||n?Ge(e,n):Ue}function qe(n){return function(t,e){return[xs<(t+=n)?t-As:t<-xs?t+As:t,e]}}function Ze(t){var e=qe(t);return e.invert=qe(-t),e}function Ge(t,e){function n(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,s=Math.sin(e),o=s*a+i*l;return[Math.atan2(r*c-o*h,i*a-s*l),Q(o*c+r*h)]}var a=Math.cos(t),l=Math.sin(t),c=Math.cos(e),h=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,s=Math.sin(e),o=s*c-r*h;return[Math.atan2(r*c+s*h,i*a+o*l),Q(o*a-i*l)]},n}function Ke(a,l){var c=Math.cos(a),h=Math.sin(a);return function(t,e,n,i){var r=n*l;null!=t?(t=Xe(c,t),e=Xe(c,e),(0<n?t<e:e<t)&&(t+=n*As)):(t=a+n*As,e=a-.5*r);for(var s,o=t;0<n?e<o:o<e;o-=r)i.point((s=he([c,-h*Math.cos(o),-h*Math.sin(o)]))[0],s[1])}}function Xe(t,e){var n=re(e);n[0]-=t,ce(n);var i=X(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-_s)%(2*Math.PI)}function Qe(t,e,n){var i=qr.range(t,e-_s,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function Je(t,e,n){var i=qr.range(t,e-_s,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function tn(t){return t.source}function en(t){return t.target}function nn(s,o){function t(t,e){var n=Math.cos(t),i=Math.cos(e),r=s(n*i);return[r*i*Math.sin(t),r*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),i=o(n),r=Math.sin(i),s=Math.cos(i);return[Math.atan2(t*r,n*s),Math.asin(n&&e*r/n)]},t}function rn(t,e){function n(t,e){0<o?e<-Es+_s&&(e=-Es+_s):Es-_s<e&&(e=Es-_s);var n=o/Math.pow(r(e),s);return[n*Math.sin(s*t),o-n*Math.cos(s*t)]}var i=Math.cos(t),r=function(t){return Math.tan(xs/4+t/2)},s=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),o=i*Math.pow(r(t),s)/s;return s?(n.invert=function(t,e){var n=o-e,i=G(s)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/s,2*Math.atan(Math.pow(o/i,1/s))-Es]},n):on}function sn(t,e){function n(t,e){var n=s-e;return[n*Math.sin(r*t),s-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),s=i/r+t;return is(r)<_s?Ve:(n.invert=function(t,e){var n=s-e;return[Math.atan2(t,n)/r,s-G(r)*Math.sqrt(t*t+n*n)]},n)}function on(t,e){return[t,Math.log(Math.tan(xs/4+e/2))]}function an(t){var r,s=He(t),o=s.scale,a=s.translate,l=s.clipExtent;return s.scale=function(){var t=o.apply(s,arguments);return t===s?r?s.clipExtent(null):s:t},s.translate=function(){var t=a.apply(s,arguments);return t===s?r?s.clipExtent(null):s:t},s.clipExtent=function(t){var e=l.apply(s,arguments);if(e===s){if(r=null==t){var n=xs*o(),i=a();l([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else r&&(e=null);return e},s.clipExtent(null)}function ln(t,e){return[Math.log(Math.tan(xs/4+e/2)),-t]}function cn(t){return t[0]}function hn(t){return t[1]}function un(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;1<i&&K(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function dn(t,e){return t[0]-e[0]||t[1]-e[1]}function fn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function pn(t,e,n,i){var r=t[0],s=n[0],o=e[0]-r,a=i[0]-s,l=t[1],c=n[1],h=e[1]-l,u=i[1]-c,d=(a*(l-c)-u*(r-s))/(u*o-a*h);return[r+d*o,l+d*h]}function gn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function mn(){Bn(this),this.edge=this.site=this.circle=null}function vn(t){var e=Uo.pop()||new mn;return e.site=t,e}function yn(t){Sn(t),jo.remove(t),Uo.push(t),Bn(t)}function bn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},s=t.P,o=t.N,a=[t];yn(t);for(var l=s;l.circle&&is(n-l.circle.x)<_s&&is(i-l.circle.cy)<_s;)s=l.P,a.unshift(l),yn(l),l=s;a.unshift(l),Sn(l);for(var c=o;c.circle&&is(n-c.circle.x)<_s&&is(i-c.circle.cy)<_s;)o=c.N,a.push(c),yn(c),c=o;a.push(c),Sn(c);var h,u=a.length;for(h=1;h<u;++h)c=a[h],l=a[h-1],Mn(c.edge,l.site,c.site,r);l=a[0],(c=a[u-1]).edge=Dn(l.site,c.site,null,r),kn(l),kn(c)}function _n(t){for(var e,n,i,r,s=t.x,o=t.y,a=jo._;a;)if(i=wn(a,o)-s,_s<i)a=a.L;else{if(r=s-xn(a,o),!(_s<r)){-_s<i?(e=a.P,n=a):-_s<r?n=(e=a).N:e=n=a;break}if(!a.R){e=a;break}a=a.R}var l=vn(t);if(jo.insert(e,l),e||n){if(e===n)return Sn(e),n=vn(e.site),jo.insert(l,n),l.edge=n.edge=Dn(e.site,l.site),kn(e),void kn(n);if(!n)return void(l.edge=Dn(e.site,l.site));Sn(e),Sn(n);var c=e.site,h=c.x,u=c.y,d=t.x-h,f=t.y-u,p=n.site,g=p.x-h,m=p.y-u,v=2*(d*m-f*g),y=d*d+f*f,b=g*g+m*m,_={x:(m*y-f*b)/v+h,y:(d*b-g*y)/v+u};Mn(n.edge,c,p,_),l.edge=Dn(c,t,null,_),n.edge=Dn(t,p,null,_),kn(e),kn(n)}}function wn(t,e){var n=t.site,i=n.x,r=n.y,s=r-e;if(!s)return i;var o=t.P;if(!o)return-1/0;var a=(n=o.site).x,l=n.y,c=l-e;if(!c)return a;var h=a-i,u=1/s-1/c,d=h/c;return u?(-d+Math.sqrt(d*d-2*u*(h*h/(-2*c)-l+c/2+r-s/2)))/u+i:(i+a)/2}function xn(t,e){var n=t.N;if(n)return wn(n,e);var i=t.site;return i.y===e?i.x:1/0}function An(t){this.site=t,this.edges=[]}function Cn(t,e){return e.angle-t.angle}function En(){Bn(this),this.x=this.y=this.arc=this.site=this.cy=null}function kn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,s=n.site;if(i!==s){var o=r.x,a=r.y,l=i.x-o,c=i.y-a,h=s.x-o,u=2*(l*(m=s.y-a)-c*h);if(!(-ws<=u)){var d=l*l+c*c,f=h*h+m*m,p=(m*d-c*f)/u,g=(l*f-h*d)/u,m=g+a,v=Yo.pop()||new En;v.arc=t,v.site=r,v.x=p+o,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var y=null,b=Vo._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Vo.insert(y,v),y||(Wo=v)}}}}function Sn(t){var e=t.circle;e&&(e.P||(Wo=e.N),Vo.remove(e),Yo.push(e),Bn(e),t.circle=null)}function Fn(t,e){var n=t.b;if(n)return!0;var i,r,s=t.a,o=e[0][0],a=e[1][0],l=e[0][1],c=e[1][1],h=t.l,u=t.r,d=h.x,f=h.y,p=u.x,g=u.y,m=(d+p)/2,v=(f+g)/2;if(g===f){if(m<o||a<=m)return;if(p<d){if(s){if(s.y>=c)return}else s={x:m,y:l};n={x:m,y:c}}else{if(s){if(s.y<l)return}else s={x:m,y:c};n={x:m,y:l}}}else if(r=v-(i=(d-p)/(g-f))*m,i<-1||1<i)if(p<d){if(s){if(s.y>=c)return}else s={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else{if(s){if(s.y<l)return}else s={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else if(f<g){if(s){if(s.x>=a)return}else s={x:o,y:i*o+r};n={x:a,y:i*a+r}}else{if(s){if(s.x<o)return}else s={x:a,y:i*a+r};n={x:o,y:i*o+r}}return t.a=s,t.b=n,!0}function Tn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Dn(t,e,n,i){var r=new Tn(t,e);return zo.push(r),n&&Mn(r,t,e,n),i&&Mn(r,e,t,i),Ho[t.i].edges.push(new Pn(r,t,e)),Ho[e.i].edges.push(new Pn(r,e,t)),r}function Mn(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function Pn(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Ln(){this._=null}function Bn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function $n(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Rn(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function On(t){for(;t.L;)t=t.L;return t}function In(t,e){var n,i,r,s=t.sort(Nn).pop();for(zo=[],Ho=new Array(t.length),jo=new Ln,Vo=new Ln;;)if(r=Wo,s&&(!r||s.y<r.y||s.y===r.y&&s.x<r.x))(s.x!==n||s.y!==i)&&(Ho[s.i]=new An(s),_n(s),n=s.x,i=s.y),s=t.pop();else{if(!r)break;bn(r.arc)}e&&(function(t){for(var e,n=zo,i=ke(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Fn(e=n[r],t)||!i(e)||is(e.a.x-e.b.x)<_s&&is(e.a.y-e.b.y)<_s)&&(e.a=e.b=null,n.splice(r,1))}(e),function(t){for(var e,n,i,r,s,o,a,l,c,h,u=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],g=Ho,m=g.length;m--;)if((s=g[m])&&s.prepare())for(l=(a=s.edges).length,o=0;o<l;)i=(h=a[o].end()).x,r=h.y,e=(c=a[++o%l].start()).x,n=c.y,(is(i-e)>_s||is(r-n)>_s)&&(a.splice(o,0,new Pn((v=s.site,y=h,b=is(i-u)<_s&&_s<p-r?{x:u,y:is(e-u)<_s?n:p}:is(r-p)<_s&&_s<d-i?{x:is(n-p)<_s?e:d,y:p}:is(i-d)<_s&&_s<r-f?{x:d,y:is(e-d)<_s?n:f}:is(r-f)<_s&&_s<i-u?{x:is(n-f)<_s?e:u,y:f}:null,_=void 0,(_=new Tn(v,null)).a=y,_.b=b,zo.push(_),_),s.site,null)),++l);var v,y,b,_}(e));var o={cells:Ho,edges:zo};return jo=Vo=zo=Ho=null,o}function Nn(t,e){return e.y-t.y||e.x-t.x}function zn(t){return t.x}function Hn(t){return t.y}function jn(t,e){t=qr.rgb(t),e=qr.rgb(e);var n=t.r,i=t.g,r=t.b,s=e.r-n,o=e.g-i,a=e.b-r;return function(t){return"#"+gt(Math.round(n+s*t))+gt(Math.round(i+o*t))+gt(Math.round(r+a*t))}}function Wn(t,e){var n,i={},r={};for(n in t)n in e?i[n]=Yn(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function Vn(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function Un(t,i){var e,n,r,s=Zo.lastIndex=Go.lastIndex=0,o=-1,a=[],l=[];for(t+="",i+="";(e=Zo.exec(t))&&(n=Go.exec(i));)(r=n.index)>s&&(r=i.slice(s,r),a[o]?a[o]+=r:a[++o]=r),(e=e[0])===(n=n[0])?a[o]?a[o]+=n:a[++o]=n:(a[++o]=null,l.push({i:o,x:Vn(e,n)})),s=Go.lastIndex;return s<i.length&&(r=i.slice(s),a[o]?a[o]+=r:a[++o]=r),a.length<2?l[0]?(i=l[0].x,function(t){return i(t)+""}):function(){return i}:(i=l.length,function(t){for(var e,n=0;n<i;++n)a[(e=l[n]).i]=e.x(t);return a.join("")})}function Yn(t,e){for(var n,i=qr.interpolators.length;0<=--i&&!(n=qr.interpolators[i](t,e)););return n}function qn(t,e){var n,i=[],r=[],s=t.length,o=e.length,a=Math.min(t.length,e.length);for(n=0;n<a;++n)i.push(Yn(t[n],e[n]));for(;n<s;++n)r[n]=t[n];for(;n<o;++n)r[n]=e[n];return function(t){for(n=0;n<a;++n)r[n]=i[n](t);return r}}function Zn(e){return function(t){return 1-e(1-t)}}function Gn(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Kn(t){return t*t}function Xn(t){return t*t*t}function Qn(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Jn(t){return 1-Math.cos(t*Es)}function ti(t){return Math.pow(2,10*(t-1))}function ei(t){return 1-Math.sqrt(1-t*t)}function ni(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function ii(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function ri(t){var e,n,i,r=[t.a,t.b],s=[t.c,t.d],o=oi(r),a=si(r,s),l=oi(((e=s)[0]+=(i=-a)*(n=r)[0],e[1]+=i*n[1],e))||0;r[0]*s[1]<s[0]*r[1]&&(r[0]*=-1,r[1]*=-1,o*=-1,a*=-1),this.rotate=(o?Math.atan2(r[1],r[0]):Math.atan2(-s[0],s[1]))*Ss,this.translate=[t.e,t.f],this.scale=[o,l],this.skew=l?Math.atan2(a,l)*Ss:0}function si(t,e){return t[0]*e[0]+t[1]*e[1]}function oi(t){var e=Math.sqrt(si(t,t));return e&&(t[0]/=e,t[1]/=e),e}function ai(t){return t.length?t.pop()+",":""}function li(t,e){var n,i,r,s,o,a,l,c,h=[],u=[];return t=qr.transform(t),e=qr.transform(e),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:Vn(t[0],e[0])},{i:r-2,x:Vn(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,h,u),o=t.rotate,a=e.rotate,l=h,c=u,o!==a?(180<o-a?a+=360:180<a-o&&(o+=360),c.push({i:l.push(ai(l)+"rotate(",null,")")-2,x:Vn(o,a)})):a&&l.push(ai(l)+"rotate("+a+")"),n=t.skew,i=e.skew,r=h,s=u,n!==i?s.push({i:r.push(ai(r)+"skewX(",null,")")-2,x:Vn(n,i)}):i&&r.push(ai(r)+"skewX("+i+")"),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(ai(n)+"scale(",null,",",null,")");i.push({i:r-4,x:Vn(t[0],e[0])},{i:r-2,x:Vn(t[1],e[1])})}else(1!==e[0]||1!==e[1])&&n.push(ai(n)+"scale("+e+")")}(t.scale,e.scale,h,u),t=e=null,function(t){for(var e,n=-1,i=u.length;++n<i;)h[(e=u[n]).i]=e.x(t);return h.join("")}}function ci(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function hi(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function ui(t){for(var e=t.source,n=t.target,i=function(t,e){if(t===e)return t;for(var n=di(t),i=di(e),r=n.pop(),s=i.pop(),o=null;r===s;)o=r,r=n.pop(),s=i.pop();return o}(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var s=r.length;n!==i;)r.splice(s,0,n),n=n.parent;return r}function di(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function fi(t){t.fixed|=2}function pi(t){t.fixed&=-7}function gi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function mi(t){t.fixed&=-5}function vi(t,e){return qr.rebind(t,e,"sort","children","value"),(t.nodes=t).links=Ai,t}function yi(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;0<=--i;)n.push(r[i])}function bi(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(s=t.children)&&(r=s.length))for(var r,s,o=-1;++o<r;)n.push(s[o]);for(;null!=(t=i.pop());)e(t)}function _i(t){return t.children}function wi(t){return t.value}function xi(t,e){return e.value-t.value}function Ai(t){return qr.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function Ci(t){return t.x}function Ei(t){return t.y}function ki(t,e,n){t.y0=e,t.y=n}function Si(t){return qr.range(t.length)}function Fi(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function Ti(t){for(var e,n=1,i=0,r=t[0][1],s=t.length;n<s;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function Di(t){return t.reduce(Mi,0)}function Mi(t,e){return t+e[1]}function Pi(t,e){return Li(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Li(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,s=[];++n<=e;)s[n]=r*n+i;return s}function Bi(t){return[qr.min(t),qr.max(t)]}function $i(t,e){return t.value-e.value}function Ri(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Oi(t,e){(t._pack_next=e)._pack_prev=t}function Ii(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return n*n+i*i<.999*r*r}function Ni(t){function e(t){h=Math.min(t.x-t.r,h),u=Math.max(t.x+t.r,u),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(c=n.length)){var n,i,r,s,o,a,l,c,h=1/0,u=-1/0,d=1/0,f=-1/0;if(n.forEach(zi),(i=n[0]).x=-i.r,i.y=0,e(i),1<c&&((r=n[1]).x=r.r,r.y=0,e(r),2<c))for(ji(i,r,s=n[2]),e(s),Ri(i,s),Ri(i._pack_prev=s,r),r=i._pack_next,o=3;o<c;o++){ji(i,r,s=n[o]);var p=0,g=1,m=1;for(a=r._pack_next;a!==r;a=a._pack_next,g++)if(Ii(a,s)){p=1;break}if(1==p)for(l=i._pack_prev;l!==a._pack_prev&&!Ii(l,s);l=l._pack_prev,m++);p?(g<m||g==m&&r.r<i.r?Oi(i,r=a):Oi(i=l,r),o--):(Ri(i,s),e(r=s))}var v=(h+u)/2,y=(d+f)/2,b=0;for(o=0;o<c;o++)(s=n[o]).x-=v,s.y-=y,b=Math.max(b,s.r+Math.sqrt(s.x*s.x+s.y*s.y));t.r=b,n.forEach(Hi)}}function zi(t){t._pack_next=t._pack_prev=t}function Hi(t){delete t._pack_next,delete t._pack_prev}function ji(t,e,n){var i=t.r+n.r,r=e.x-t.x,s=e.y-t.y;if(i&&(r||s)){var o=e.r+n.r,a=r*r+s*s,l=.5+((i*=i)-(o*=o))/(2*a),c=Math.sqrt(Math.max(0,2*o*(i+a)-(i-=a)*i-o*o))/(2*a);n.x=t.x+l*r+c*s,n.y=t.y+l*s-c*r}else n.x=t.x+i,n.y=t.y}function Wi(t,e){return t.parent==e.parent?1:2}function Vi(t){var e=t.children;return e.length?e[0]:t.t}function Ui(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Yi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function qi(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],s=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),s<0&&(i+=s/2,s=0),{x:n,y:i,dx:r,dy:s}}function Zi(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Gi(t){return t.rangeExtent?t.rangeExtent():Zi(t.range())}function Ki(t,e,n,i){var r=n(t[0],t[1]),s=i(e[0],e[1]);return function(t){return s(r(t))}}function Xi(t,e){var n,i=0,r=t.length-1,s=t[i],o=t[r];return o<s&&(n=i,i=r,r=n,n=s,s=o,o=n),t[i]=e.floor(s),t[r]=e.ceil(o),t}function Qi(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:oa}function Ji(n,t,e,i){var r=[],s=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)r.push(e(n[o-1],n[o])),s.push(i(t[o-1],t[o]));return function(t){var e=qr.bisect(n,t,1,a)-1;return s[e](r[e](t))}}function tr(t,e){return qr.rebind(t,e,"range","rangeRound","interpolate","clamp")}function er(t,e){return Xi(t,Qi(nr(t,e)[2])),Xi(t,Qi(nr(t,e)[2])),t}function nr(t,e){null==e&&(e=10);var n=Zi(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),s=e/i*r;return s<=.15?r*=10:s<=.35?r*=5:s<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function ir(t,e){return qr.range.apply(qr,nr(t,e))}function rr(t,e,n){var i,r,s,o=nr(t,e);if(n){var a=qs.exec(n);if(a.shift(),"s"===a[8]){var l=qr.formatPrefix(Math.max(is(o[0]),is(o[1])));return a[7]||(a[7]="."+sr(l.scale(o[2]))),a[8]="f",n=qr.format(a.join("")),function(t){return n(l.scale(t))+l.symbol}}a[7]||(a[7]="."+(i=a[8],s=sr((r=o)[2]),i in aa?Math.abs(s-sr(Math.max(is(r[0]),is(r[1]))))+ +("e"!==i):s-2*("%"===i))),n=a.join("")}else n=",."+sr(o[2])+"f";return qr.format(n)}function sr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function or(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ar(){return 0}function lr(t){return t.innerRadius}function cr(t){return t.outerRadius}function hr(t){return t.startAngle}function ur(t){return t.endAngle}function dr(t){return t&&t.padAngle}function fr(t,e,n,i){return 0<(t-n)*e-(e-i)*t?0:1}function pr(t,e,n,i,r){var s=t[0]-e[0],o=t[1]-e[1],a=(r?i:-i)/Math.sqrt(s*s+o*o),l=a*o,c=-a*s,h=t[0]+l,u=t[1]+c,d=e[0]+l,f=e[1]+c,p=(h+d)/2,g=(u+f)/2,m=d-h,v=f-u,y=m*m+v*v,b=n-i,_=h*f-d*u,w=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-_*_)),x=(_*v-m*w)/y,A=(-_*m-v*w)/y,C=(_*v+m*w)/y,E=(-_*m+v*w)/y,k=x-p,S=A-g,F=C-p,T=E-g;return F*F+T*T<k*k+S*S&&(x=C,A=E),[[x-l,A-c],[x*n/b,A*n/b]]}function gr(c){function e(t){function e(){i.push("M",f(c(r),p))}for(var n,i=[],r=[],s=-1,o=t.length,a=wt(h),l=wt(u);++s<o;)d.call(this,n=t[s],s)?r.push([+a.call(this,n,s),+l.call(this,n,s)]):r.length&&(e(),r=[]);return r.length&&e(),i.length?i.join(""):null}var h=cn,u=hn,d=ye,f=mr,n=f.key,p=.7;return e.x=function(t){return arguments.length?(h=t,e):h},e.y=function(t){return arguments.length?(u=t,e):u},e.defined=function(t){return arguments.length?(d=t,e):d},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?f=t:(f=ga.get(t)||mr).key,e):n},e.tension=function(t){return arguments.length?(p=t,e):p},e}function mr(t){return 1<t.length?t.join("L"):t+"Z"}function vr(t){return t.join("L")+"Z"}function yr(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function br(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function _r(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return mr(t);var n=t.length!=e.length,i="",r=t[0],s=t[1],o=e[0],a=o,l=1;if(n&&(i+="Q"+(s[0]-2*o[0]/3)+","+(s[1]-2*o[1]/3)+","+s[0]+","+s[1],r=t[1],l=2),1<e.length){a=e[1],s=t[l],l++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(s[0]-a[0])+","+(s[1]-a[1])+","+s[0]+","+s[1];for(var c=2;c<e.length;c++,l++)s=t[l],a=e[c],i+="S"+(s[0]-a[0])+","+(s[1]-a[1])+","+s[0]+","+s[1]}if(n){var h=t[l];i+="Q"+(s[0]+2*a[0]/3)+","+(s[1]+2*a[1]/3)+","+h[0]+","+h[1]}return i}function wr(t,e){for(var n,i=[],r=(1-e)/2,s=t[0],o=t[1],a=1,l=t.length;++a<l;)n=s,s=o,o=t[a],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function xr(t){if(t.length<3)return mr(t);var e=1,n=t.length,i=t[0],r=i[0],s=i[1],o=[r,r,r,(i=t[1])[0]],a=[s,s,s,i[1]],l=[r,",",s,"L",Ar(ya,o),",",Ar(ya,a)];for(t.push(t[n-1]);++e<=n;)i=t[e],o.shift(),o.push(i[0]),a.shift(),a.push(i[1]),Cr(l,o,a);return t.pop(),l.push("L",i),l.join("")}function Ar(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Cr(t,e,n){t.push("C",Ar(ma,e),",",Ar(ma,n),",",Ar(va,e),",",Ar(va,n),",",Ar(ya,e),",",Ar(ya,n))}function Er(t,e){return(e[1]-t[1])/(e[0]-t[0])}function kr(t){for(var e,n,i,r,s=[],o=function(t){for(var e=0,n=t.length-1,i=[],r=t[0],s=t[1],o=i[0]=Er(r,s);++e<n;)i[e]=(o+(o=Er(r=s,s=t[e+1])))/2;return i[e]=o,i}(t),a=-1,l=t.length-1;++a<l;)e=Er(t[a],t[a+1]),is(e)<_s?o[a]=o[a+1]=0:9<(r=(n=o[a]/e)*n+(i=o[a+1]/e)*i)&&(r=3*e/Math.sqrt(r),o[a]=r*n,o[a+1]=r*i);for(a=-1;++a<=l;)r=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),s.push([r||0,o[a]*r||0]);return s}function Sr(t){for(var e,n,i,r=-1,s=t.length;++r<s;)n=(e=t[r])[0],i=e[1]-Es,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Fr(p){function e(t){function e(){s.push("M",_(p(a),A),x,w(p(o.reverse()),A),"Z")}for(var n,i,r,s=[],o=[],a=[],l=-1,c=t.length,h=wt(g),u=wt(v),d=g===m?function(){return i}:wt(m),f=v===y?function(){return r}:wt(y);++l<c;)b.call(this,n=t[l],l)?(o.push([i=+h.call(this,n,l),r=+u.call(this,n,l)]),a.push([+d.call(this,n,l),+f.call(this,n,l)])):o.length&&(e(),o=[],a=[]);return o.length&&e(),s.length?s.join(""):null}var g=cn,m=cn,v=0,y=hn,b=ye,_=mr,n=_.key,w=_,x="L",A=.7;return e.x=function(t){return arguments.length?(g=m=t,e):m},e.x0=function(t){return arguments.length?(g=t,e):g},e.x1=function(t){return arguments.length?(m=t,e):m},e.y=function(t){return arguments.length?(v=y=t,e):y},e.y0=function(t){return arguments.length?(v=t,e):v},e.y1=function(t){return arguments.length?(y=t,e):y},e.defined=function(t){return arguments.length?(b=t,e):b},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?_=t:(_=ga.get(t)||mr).key,w=_.reverse||_,x=_.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(A=t,e):A},e}function Tr(t){return t.radius}function Dr(t){return[t.x,t.y]}function Mr(){return 64}function Pr(){return"circle"}function Lr(t){var e=Math.sqrt(t/xs);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Br(i){return function(){var t,e,n;(t=this[i])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[i],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function $r(t,e,n){return ls(t,Ea),t.namespace=e,t.id=n,t}function Rr(t,i,r,s){var o=t.id,a=t.namespace;return H(t,"function"==typeof r?function(t,e,n){t[a][o].tween.set(i,s(r.call(t,t.__data__,e,n)))}:(r=s(r),function(t){t[a][o].tween.set(i,r)}))}function Or(t){return null==t&&(t=""),function(){this.textContent=t}}function Ir(t){return null==t?"__transition__":"__transition_"+t+"__"}function Nr(s,o,r,a,t){function n(t){var e=p.active,n=p[e];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[e],n.event&&n.event.interrupt.call(s,s.__data__,n.index)),p)if(+i<a){var r=p[i];r.timer.c=null,r.timer.t=NaN,--p.count,delete p[i]}h.c=l,Ct(function(){return h.c&&l(t||1)&&(h.c=null,h.t=NaN),1},0,c),p.active=a,g.event&&g.event.start.call(s,s.__data__,o),f=[],g.tween.forEach(function(t,e){(e=e.call(s,s.__data__,o))&&f.push(e)}),d=g.ease,u=g.duration}function l(t){for(var e=t/u,n=d(e),i=f.length;0<i;)f[--i].call(s,n);return 1<=e?(g.event&&g.event.end.call(s,s.__data__,o),--p.count?delete p[a]:delete s[r],1):void 0}var c,h,u,d,f,p=s[r]||(s[r]={active:0,count:0}),g=p[a];g||(c=t.time,h=Ct(function(t){var e=g.delay;return h.t=e+c,e<=t?n(t-e):void(h.c=n)},0,c),g=p[a]={tween:new y,time:c,timer:h,delay:t.delay,duration:t.duration,ease:t.ease,index:o},t=null,++p.count)}function zr(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:i(t))+",0)"})}function Hr(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:i(t))+")"})}function jr(t){return t.toISOString()}function Wr(e,r,t){function o(t){return e(t)}function a(t,e){var n=(t[1]-t[0])/e,i=qr.bisect(Ba,n);return i==Ba.length?[r.year,nr(t.map(function(t){return t/31536e6}),e)[2]]:i?r[n/Ba[i-1]<Ba[i]/n?i-1:i]:[Oa,nr(t,e)[2]]}return o.invert=function(t){return Vr(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain(t),o):e.domain().map(Vr)},o.nice=function(e,n){function i(t){return!isNaN(t)&&!e.range(t,Vr(+t+1),n).length}var t=o.domain(),r=Zi(t),s=null==e?a(r,10):"number"==typeof e&&a(r,e);return s&&(e=s[0],n=s[1]),o.domain(Xi(t,1<n?{floor:function(t){for(;i(t=e.floor(t));)t=Vr(t-1);return t},ceil:function(t){for(;i(t=e.ceil(t));)t=Vr(+t+1);return t}}:e))},o.ticks=function(t,e){var n=Zi(o.domain()),i=null==t?a(n,10):"number"==typeof t?a(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],Vr(+n[1]+1),e<1?1:e)},o.tickFormat=function(){return t},o.copy=function(){return Wr(e.copy(),r,t)},tr(o,e)}function Vr(t){return new Date(t)}function Ur(t){return JSON.parse(t.responseText)}function Yr(t){var e=Kr.createRange();return e.selectNode(Kr.body),e.createContextualFragment(t.responseText)}var qr={version:"3.5.16"},Zr=[].slice,Gr=function(t){return Zr.call(t)},Kr=this.document;if(Kr)try{Gr(Kr.documentElement.childNodes)[0].nodeType}catch(t){Gr=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),Kr)try{Kr.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var Xr=this.Element.prototype,Qr=Xr.setAttribute,Jr=Xr.setAttributeNS,ts=this.CSSStyleDeclaration.prototype,es=ts.setProperty;Xr.setAttribute=function(t,e){Qr.call(this,t,e+"")},Xr.setAttributeNS=function(t,e,n){Jr.call(this,t,e,n+"")},ts.setProperty=function(t,e,n){es.call(this,t,e+"",n)}}qr.ascending=o,qr.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},qr.min=function(t,e){var n,i,r=-1,s=t.length;if(1===arguments.length){for(;++r<s;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<s;)null!=(i=t[r])&&i<n&&(n=i)}else{for(;++r<s;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<s;)null!=(i=e.call(t,t[r],r))&&i<n&&(n=i)}return n},qr.max=function(t,e){var n,i,r=-1,s=t.length;if(1===arguments.length){for(;++r<s;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<s;)null!=(i=t[r])&&n<i&&(n=i)}else{for(;++r<s;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<s;)null!=(i=e.call(t,t[r],r))&&n<i&&(n=i)}return n},qr.extent=function(t,e){var n,i,r,s=-1,o=t.length;if(1===arguments.length){for(;++s<o;)if(null!=(i=t[s])&&i<=i){n=r=i;break}for(;++s<o;)null!=(i=t[s])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++s<o;)if(null!=(i=e.call(t,t[s],s))&&i<=i){n=r=i;break}for(;++s<o;)null!=(i=e.call(t,t[s],s))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},qr.sum=function(t,e){var n,i=0,r=t.length,s=-1;if(1===arguments.length)for(;++s<r;)h(n=+t[s])&&(i+=n);else for(;++s<r;)h(n=+e.call(t,t[s],s))&&(i+=n);return i},qr.mean=function(t,e){var n,i=0,r=t.length,s=-1,o=r;if(1===arguments.length)for(;++s<r;)h(n=c(t[s]))?i+=n:--o;else for(;++s<r;)h(n=c(e.call(t,t[s],s)))?i+=n:--o;return o?i/o:void 0},qr.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],s=n-i;return s?r+s*(t[i]-r):r},qr.median=function(t,e){var n,i=[],r=t.length,s=-1;if(1===arguments.length)for(;++s<r;)h(n=c(t[s]))&&i.push(n);else for(;++s<r;)h(n=c(e.call(t,t[s],s)))&&i.push(n);return i.length?qr.quantile(i.sort(o),.5):void 0},qr.variance=function(t,e){var n,i,r=t.length,s=0,o=0,a=-1,l=0;if(1===arguments.length)for(;++a<r;)h(n=c(t[a]))&&(o+=(i=n-s)*(n-(s+=i/++l)));else for(;++a<r;)h(n=c(e.call(t,t[a],a)))&&(o+=(i=n-s)*(n-(s+=i/++l)));return 1<l?o/(l-1):void 0},qr.deviation=function(){var t=qr.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ns=t(o);qr.bisectLeft=ns.left,qr.bisect=qr.bisectRight=ns.right,qr.bisector=function(n){return t(1===n.length?function(t,e){return o(n(t),e)}:n)},qr.shuffle=function(t,e,n){(s=arguments.length)<3&&(n=t.length,s<2&&(e=0));for(var i,r,s=n-e;s;)r=Math.random()*s--|0,i=t[s+e],t[s+e]=t[r+e],t[r+e]=i;return t},qr.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},qr.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},qr.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=qr.min(t,l),i=new Array(n);++e<n;)for(var r,s=-1,o=i[e]=new Array(r);++s<r;)o[s]=t[s][e];return i},qr.zip=function(){return qr.transpose(arguments)},qr.keys=function(t){var e=[];for(var n in t)e.push(n);return e},qr.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},qr.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},qr.merge=function(t){for(var e,n,i,r=t.length,s=-1,o=0;++s<r;)o+=t[s].length;for(n=new Array(o);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--o]=i[e];return n};var is=Math.abs;qr.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],s=function(t){for(var e=1;t*e%1;)e*=10;return e}(is(n)),o=-1;if(t*=s,e*=s,(n*=s)<0)for(;(i=t+n*++o)>e;)r.push(i/s);else for(;(i=t+n*++o)<e;)r.push(i/s);return r},qr.map=function(t,e){var n=new y;if(t instanceof y)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,s=t.length;if(1===arguments.length)for(;++r<s;)n.set(r,t[r]);else for(;++r<s;)n.set(e.call(t,i=t[r],r),i)}else for(var o in t)n.set(o,t[o]);return n};var rs="__proto__",ss="\0";e(y,{has:r,get:function(t){return this._[n(t)]},set:function(t,e){return this._[n(t)]=e},remove:s,keys:u,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:i(e),value:this._[e]});return t},size:d,empty:f,forEach:function(t){for(var e in this._)t.call(this,i(e),this._[e])}}),qr.nest=function(){function u(n,t,i){if(i>=g.length)return f?f.call(p,t):d?t.sort(d):t;for(var e,r,s,o,a=-1,l=t.length,c=g[i++],h=new y;++a<l;)(o=h.get(e=c(r=t[a])))?o.push(r):h.set(e,[r]);return n?(r=n(),s=function(t,e){r.set(t,u(n,e,i))}):(r={},s=function(t,e){r[t]=u(n,e,i)}),h.forEach(s),r}var d,f,p={},g=[],e=[];return p.map=function(t,e){return u(e,t,0)},p.entries=function(t){return function n(t,i){if(i>=g.length)return t;var r=[],s=e[i++];return t.forEach(function(t,e){r.push({key:t,values:n(e,i)})}),s?r.sort(function(t,e){return s(t.key,e.key)}):r}(u(qr.map,t,0),0)},p.key=function(t){return g.push(t),p},p.sortKeys=function(t){return e[g.length-1]=t,p},p.sortValues=function(t){return d=t,p},p.rollup=function(t){return f=t,p},p},qr.set=function(t){var e=new p;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},e(p,{has:r,add:function(t){return this._[n(t+="")]=!0,t},remove:s,values:u,size:d,empty:f,forEach:function(t){for(var e in this._)t.call(this,i(e))}}),qr.behavior={},qr.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=g(t,e,e[n]);return t};var os=["webkit","ms","moz","Moz","o","O"];qr.dispatch=function(){for(var t=new b,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=_(t);return t},b.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(0<=n&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},qr.event=null,qr.requote=function(t){return t.replace(as,"\\$&")};var as=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ls={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},cs=function(t,e){return e.querySelector(t)},hs=function(t,e){return e.querySelectorAll(t)},us=function(t,e){var n=t.matches||t[m(t,"matchesSelector")];return(us=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(cs=function(t,e){return Sizzle(t,e)[0]||null},hs=Sizzle,us=Sizzle.matchesSelector),qr.selection=function(){return qr.select(Kr.documentElement)};var ds=qr.selection.prototype=[];ds.select=function(t){var e,n,i,r,s=[];t=A(t);for(var o=-1,a=this.length;++o<a;){s.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return x(s)},ds.selectAll=function(t){var e,n,i=[];t=C(t);for(var r=-1,s=this.length;++r<s;)for(var o=this[r],a=-1,l=o.length;++a<l;)(n=o[a])&&(i.push(e=Gr(t.call(n,n.__data__,a,r))),e.parentNode=n);return x(i)};var fs="http://www.w3.org/1999/xhtml",ps={svg:"http://www.w3.org/2000/svg",xhtml:fs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};qr.ns={prefix:ps,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),ps.hasOwnProperty(n)?{space:ps[n],local:t}:t}},ds.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=qr.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(E(e,t[e]));return this}return this.each(E(t,e))},ds.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=F(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!S(t[r]).test(e))return!1;return!0}for(e in t)this.each(T(e,t[e]));return this}return this.each(T(t,e))},ds.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(M(n,t[n],e));return this}if(i<2){var r=this.node();return L(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(M(t,e,n))},ds.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(P(e,t[e]));return this}return this.each(P(t,e))},ds.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},ds.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},ds.append=function(t){return t=O(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ds.insert=function(t,e){return t=O(t),e=A(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},ds.remove=function(){return this.each(I)},ds.data=function(t,p){function e(t,e){var n,i,r,s=t.length,o=e.length,a=Math.min(s,o),l=new Array(o),c=new Array(o),h=new Array(s);if(p){var u,d=new y,f=new Array(s);for(n=-1;++n<s;)(i=t[n])&&(d.has(u=p.call(i,i.__data__,n))?h[n]=i:d.set(u,i),f[n]=u);for(n=-1;++n<o;)(i=d.get(u=p.call(e,r=e[n],n)))?!0!==i&&((l[n]=i).__data__=r):c[n]=N(r),d.set(u,!0);for(n=-1;++n<s;)n in f&&!0!==d.get(f[n])&&(h[n]=t[n])}else{for(n=-1;++n<a;)i=t[n],r=e[n],i?(i.__data__=r,l[n]=i):c[n]=N(r);for(;n<o;++n)c[n]=N(e[n]);for(;n<s;++n)h[n]=t[n]}c.update=l,c.parentNode=l.parentNode=h.parentNode=t.parentNode,g.push(c),m.push(l),v.push(h)}var n,i,r=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(n=this[0]).length);++r<s;)(i=n[r])&&(t[r]=i.__data__);return t}var g=j([]),m=x([]),v=x([]);if("function"==typeof t)for(;++r<s;)e(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<s;)e(n=this[r],t);return m.enter=function(){return g},m.exit=function(){return v},m},ds.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ds.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=z(t));for(var s=0,o=this.length;s<o;s++){r.push(e=[]),e.parentNode=(n=this[s]).parentNode;for(var a=0,l=n.length;a<l;a++)(i=n[a])&&t.call(i,i.__data__,a,s)&&e.push(i)}return x(r)},ds.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,s=i[r];0<=--r;)(n=i[r])&&(s&&s!==n.nextSibling&&s.parentNode.insertBefore(n,s),s=n);return this},ds.sort=function(t){t=function(n){return arguments.length||(n=o),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},ds.each=function(i){return H(this,function(t,e,n){i.call(t,t.__data__,e,n)})},ds.call=function(t){var e=Gr(arguments);return t.apply(e[0]=this,e),this},ds.empty=function(){return!this.node()},ds.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var s=n[i];if(s)return s}return null},ds.size=function(){var t=0;return H(this,function(){++t}),t};var gs=[];qr.selection.enter=j,(qr.selection.enter.prototype=gs).append=ds.append,gs.empty=ds.empty,gs.node=ds.node,gs.call=ds.call,gs.size=ds.size,gs.select=function(t){for(var e,n,i,r,s,o=[],a=-1,l=this.length;++a<l;){i=(r=this[a]).update,o.push(e=[]),e.parentNode=r.parentNode;for(var c=-1,h=r.length;++c<h;)(s=r[c])?(e.push(i[c]=n=t.call(r.parentNode,s.__data__,c,a)),n.__data__=s.__data__):e.push(null)}return x(o)},gs.insert=function(t,e){return arguments.length<2&&(o=this,e=function(t,e,n){var i,r=o[n].update,s=r.length;for(n!=l&&(l=n,a=0),a<=e&&(a=e+1);!(i=r[a])&&++a<s;);return i}),ds.insert.call(this,t,e);var o,a,l},qr.select=function(t){var e;return"string"==typeof t?(e=[cs(t,Kr)]).parentNode=Kr.documentElement:(e=[t]).parentNode=a(t),x([e])},qr.selectAll=function(t){var e;return"string"==typeof t?(e=Gr(hs(t,Kr))).parentNode=Kr.documentElement:(e=Gr(t)).parentNode=null,x([e])},ds.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(W(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(W(t,e,n))};var ms=qr.map({mouseenter:"mouseover",mouseleave:"mouseout"});Kr&&ms.forEach(function(t){"on"+t in Kr&&ms.remove(t)});var vs,ys=0;qr.mouse=function(t){return q(t,w())};var bs=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;qr.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=w().changedTouches),e)for(var i,r=0,s=e.length;r<s;++r)if((i=e[r]).identifier===n)return q(t,i)},qr.behavior.drag=function(){function e(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function t(h,u,d,f,p){return function(){var i,t=qr.event.target.correspondingElement||qr.event.target,r=this.parentNode,s=g.of(this,arguments),o=0,a=h(),e=".drag"+(null==a?"":"-"+a),n=qr.select(d(t)).on(f+e,function(){var t,e,n=u(r,a);n&&(t=n[0]-c[0],e=n[1]-c[1],o|=t|e,s({type:"drag",x:(c=n)[0]+i[0],y:n[1]+i[1],dx:t,dy:e}))}).on(p+e,function(){u(r,a)&&(n.on(f+e,null).on(p+e,null),l(o),s({type:"dragend"}))}),l=Y(t),c=u(r,a);m?i=[(i=m.apply(this,arguments)).x-c[0],i.y-c[1]]:i=[0,0],s({type:"dragstart"})}}var g=R(e,"drag","dragstart","dragend"),m=null,n=t(v,qr.mouse,L,"mousemove","mouseup"),i=t(Z,qr.touch,B,"touchmove","touchend");return e.origin=function(t){return arguments.length?(m=t,e):m},qr.rebind(e,g,"on")},qr.touches=function(n,t){return arguments.length<2&&(t=w().touches),t?Gr(t).map(function(t){var e=q(n,t);return e.identifier=t.identifier,e}):[]};var _s=1e-6,ws=_s*_s,xs=Math.PI,As=2*xs,Cs=As-_s,Es=xs/2,ks=xs/180,Ss=180/xs,Fs=Math.SQRT2;qr.interpolateZoom=function(t,e){var n,o,a=t[0],l=t[1],c=t[2],i=e[0],r=e[1],s=e[2],h=i-a,u=r-l,d=h*h+u*u;if(d<ws)o=Math.log(s/c)/Fs,n=function(t){return[a+t*h,l+t*u,c*Math.exp(Fs*t*o)]};else{var f=Math.sqrt(d),p=(s*s-c*c+4*d)/(2*c*2*f),g=(s*s-c*c-4*d)/(2*s*2*f),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);o=(v-m)/Fs,n=function(t){var e,n,i=t*o,r=J(m),s=c/(2*f)*(r*(n=Fs*i+m,((n=Math.exp(2*n))-1)/(n+1))-(e=m,((e=Math.exp(e))-1/e)/2));return[a+s*h,l+s*u,c*r/J(Fs*i+m)]}}return n.duration=1e3*o,n},qr.behavior.zoom=function(){function r(t){t.on(T,E).on(Ds+".zoom",n).on("dblclick.zoom",i).on(M,k)}function a(t){return[(t[0]-F.x)/F.k,(t[1]-F.y)/F.k]}function _(t){F.k=Math.max(m[0],Math.min(m[1],t))}function w(t,e){var n;e=[(n=e)[0]*F.k+F.x,n[1]*F.k+F.y],F.x+=t[0]-e[0],F.y+=t[1]-e[1]}function x(t,e,n,i){t.__chart__={x:F.x,y:F.y,k:F.k},_(Math.pow(2,i)),w(c=e,n),t=qr.select(t),0<v&&(t=t.transition().duration(v)),t.call(r.event)}function e(){d&&d.domain(u.range().map(function(t){return(t-F.x)/F.k}).map(u.invert)),p&&p.domain(f.range().map(function(t){return(t-F.y)/F.k}).map(f.invert))}function l(t){y++||t({type:"zoomstart"})}function A(t){e(),t({type:"zoom",scale:F.k,translate:[F.x,F.y]})}function C(t){--y||(t({type:"zoomend"}),c=null)}function E(){var t=this,e=P.of(t,arguments),n=0,i=qr.select(L(t)).on(b,function(){n=1,w(qr.mouse(t),r),A(e)}).on(D,function(){i.on(b,null).on(D,null),s(n),C(e)}),r=a(qr.mouse(t)),s=Y(t);Ca.call(t),l(e)}function k(){function h(){var t=qr.touches(f);return c=F.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=a(t))}),t}function t(){var t=qr.event.target;qr.select(t).on(v,u).on(y,d),b.push(t);for(var e=qr.event.changedTouches,n=0,i=e.length;n<i;++n)g[e[n].identifier]=null;var r=h(),s=Date.now();if(1===r.length){if(s-S<500){var o=r[0];x(f,o,g[o.identifier],Math.floor(Math.log(F.k)/Math.LN2)+1),$()}S=s}else if(1<r.length){o=r[0];var a=r[1],l=o[0]-a[0],c=o[1]-a[1];m=l*l+c*c}}function u(){var t,e,n,i,r=qr.touches(f);Ca.call(f);for(var s=0,o=r.length;s<o;++s,i=null)if(n=r[s],i=g[n.identifier]){if(e)break;t=n,e=i}if(i){var a=(a=n[0]-t[0])*a+(a=n[1]-t[1])*a,l=m&&Math.sqrt(a/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],_(l*c)}S=null,w(t,e),A(p)}function d(){if(qr.event.touches.length){for(var t=qr.event.changedTouches,e=0,n=t.length;e<n;++e)delete g[t[e].identifier];for(var i in g)return void h()}qr.selectAll(b).on(r,null),s.on(T,E).on(M,k),o(),C(p)}var c,f=this,p=P.of(f,arguments),g={},m=0,r=".zoom-"+qr.event.changedTouches[0].identifier,v="touchmove"+r,y="touchend"+r,b=[],s=qr.select(f),o=Y(f);t(),l(p),s.on(T,null).on(M,t)}function n(){var t=P.of(this,arguments);h?clearTimeout(h):(Ca.call(this),s=a(c=o||qr.mouse(this)),l(t)),h=setTimeout(function(){h=null,C(t)},50),$(),_(Math.pow(2,.002*Ts())*F.k),w(c,s),A(t)}function i(){var t=qr.mouse(this),e=Math.log(F.k)/Math.LN2;x(this,t,a(t),qr.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var s,c,o,h,S,u,d,f,p,F={x:0,y:0,k:1},g=[960,500],m=Ms,v=250,y=0,T="mousedown.zoom",b="mousemove.zoom",D="mouseup.zoom",M="touchstart.zoom",P=R(r,"zoomstart","zoom","zoomend");return Ds||(Ds="onwheel"in Kr?(Ts=function(){return-qr.event.deltaY*(qr.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Kr?(Ts=function(){return qr.event.wheelDelta},"mousewheel"):(Ts=function(){return-qr.event.detail},"MozMousePixelScroll")),r.event=function(t){t.each(function(){var a=P.of(this,arguments),e=F;xa?qr.select(this).transition().each("start.zoom",function(){F=this.__chart__||{x:0,y:0,k:1},l(a)}).tween("zoom:zoom",function(){var i=g[0],t=g[1],r=c?c[0]:i/2,s=c?c[1]:t/2,o=qr.interpolateZoom([(r-F.x)/F.k,(s-F.y)/F.k,i/F.k],[(r-e.x)/e.k,(s-e.y)/e.k,i/e.k]);return function(t){var e=o(t),n=i/e[2];this.__chart__=F={x:r-e[0]*n,y:s-e[1]*n,k:n},A(a)}}).each("interrupt.zoom",function(){C(a)}).each("end.zoom",function(){C(a)}):(this.__chart__=F,l(a),A(a),C(a))})},r.translate=function(t){return arguments.length?(F={x:+t[0],y:+t[1],k:F.k},e(),r):[F.x,F.y]},r.scale=function(t){return arguments.length?(F={x:F.x,y:F.y,k:null},_(+t),e(),r):F.k},r.scaleExtent=function(t){return arguments.length?(m=null==t?Ms:[+t[0],+t[1]],r):m},r.center=function(t){return arguments.length?(o=t&&[+t[0],+t[1]],r):o},r.size=function(t){return arguments.length?(g=t&&[+t[0],+t[1]],r):g},r.duration=function(t){return arguments.length?(v=+t,r):v},r.x=function(t){return arguments.length?(u=(d=t).copy(),F={x:0,y:0,k:1},r):d},r.y=function(t){return arguments.length?(f=(p=t).copy(),F={x:0,y:0,k:1},r):p},qr.rebind(r,P,"on")};var Ts,Ds,Ms=[0,1/0];(qr.color=et).prototype.toString=function(){return this.rgb()+""};var Ps=(qr.hsl=nt).prototype=new et;Ps.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new nt(this.h,this.s,this.l/t)},Ps.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new nt(this.h,this.s,t*this.l)},Ps.rgb=function(){return it(this.h,this.s,this.l)};var Ls=(qr.hcl=rt).prototype=new et;Ls.brighter=function(t){return new rt(this.h,this.c,Math.min(100,this.l+Bs*(arguments.length?t:1)))},Ls.darker=function(t){return new rt(this.h,this.c,Math.max(0,this.l-Bs*(arguments.length?t:1)))},Ls.rgb=function(){return st(this.h,this.c,this.l).rgb()},qr.lab=ot;var Bs=18,$s=.95047,Rs=1,Os=1.08883,Is=ot.prototype=new et;Is.brighter=function(t){return new ot(Math.min(100,this.l+Bs*(arguments.length?t:1)),this.a,this.b)},Is.darker=function(t){return new ot(Math.max(0,this.l-Bs*(arguments.length?t:1)),this.a,this.b)},Is.rgb=function(){return at(this.l,this.a,this.b)};var Ns=(qr.rgb=dt).prototype=new et;Ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b;return e||n||i?(e&&e<30&&(e=30),n&&n<30&&(n=30),i&&i<30&&(i=30),new dt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new dt(30,30,30)},Ns.darker=function(t){return new dt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},Ns.hsl=function(){return vt(this.r,this.g,this.b)},Ns.toString=function(){return"#"+gt(this.r)+gt(this.g)+gt(this.b)};var zs=qr.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});zs.forEach(function(t,e){zs.set(t,ft(e))}),qr.functor=wt,qr.xhr=xt(B),qr.dsv=function(r,s){function o(t,e,n){arguments.length<3&&(n=e,e=null);var i=At(t,s,null==e?a:l(e),n);return i.row=function(t){return arguments.length?i.response(null==(e=t)?a:l(t)):e},i}function a(t){return o.parse(t.responseText)}function l(e){return function(t){return o.parse(t.responseText,e)}}function e(t){return t.map(c).join(r)}function c(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+r+"\n]"),d=r.charCodeAt(0);return o.parse=function(t,i){var r;return o.parseRows(t,function(t,e){if(r)return r(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=i?function(t,e){return i(n(t),e)}:n})},o.parseRows=function(r,t){function e(){if(l<=c)return a;if(s)return s=!1,o;var t=c;if(34===r.charCodeAt(t)){for(var e=t;e++<l;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return c=e+2,13===(n=r.charCodeAt(e+1))?(s=!0,10===r.charCodeAt(e+2)&&++c):10===n&&(s=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;c<l;){var n,i=1;if(10===(n=r.charCodeAt(c++)))s=!0;else if(13===n)s=!0,10===r.charCodeAt(c)&&(++c,++i);else if(n!==d)continue;return r.slice(t,c-i)}return r.slice(t)}for(var n,s,o={},a={},i=[],l=r.length,c=0,h=0;(n=e())!==a;){for(var u=[];n!==o&&n!==a;)u.push(n),n=e();t&&null==(u=t(u,h++))||i.push(u)}return i},o.format=function(t){if(Array.isArray(t[0]))return o.formatRows(t);var n=new p,i=[];return t.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(c).join(r)].concat(t.map(function(e){return i.map(function(t){return c(e[t])}).join(r)})).join("\n")},o.formatRows=function(t){return t.map(e).join("\n")},o},qr.csv=qr.dsv(",","text/csv"),qr.tsv=qr.dsv("\t","text/tab-separated-values");var Hs,js,Ws,Vs,Us=this[m(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};qr.timer=function(){Ct.apply(this,arguments)},qr.timer.flush=function(){kt(),St()},qr.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ys=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*is(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}});qr.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=qr.round(t,Ft(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ys[8+n/3]};var qs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Zs=qr.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=qr.round(t,Ft(t,e))).toFixed(Math.max(0,Math.min(20,Ft(t*(1+1e-15),e))))}}),Gs=qr.time={},Ks=Date;Dt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Xs.setUTCDate.apply(this._,arguments)},setDay:function(){Xs.setUTCDay.apply(this._,arguments)},setFullYear:function(){Xs.setUTCFullYear.apply(this._,arguments)},setHours:function(){Xs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Xs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Xs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Xs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Xs.setUTCSeconds.apply(this._,arguments)},setTime:function(){Xs.setTime.apply(this._,arguments)}};var Xs=Date.prototype;Gs.year=Mt(function(t){return(t=Gs.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Gs.years=Gs.year.range,Gs.years.utc=Gs.year.utc.range,Gs.day=Mt(function(t){var e=new Ks(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Gs.days=Gs.day.range,Gs.days.utc=Gs.day.utc.range,Gs.dayOfYear=function(t){var e=Gs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=Gs[t]=Mt(function(t){return(t=Gs.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=Gs.year(t).getDay();return Math.floor((Gs.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});Gs[t+"s"]=e.range,Gs[t+"s"].utc=e.utc.range,Gs[t+"OfYear"]=function(t){var e=Gs.year(t).getDay();return Math.floor((Gs.dayOfYear(t)+(e+n)%7)/7)}}),Gs.week=Gs.sunday,Gs.weeks=Gs.sunday.range,Gs.weeks.utc=Gs.sunday.utc.range,Gs.weekOfYear=Gs.sundayOfYear;var Qs={"-":"",_:" ",0:"0"},Js=/^\s*\d+/,to=/^%/;qr.locale=function(t){return{numberFormat:(e=t,C=e.decimal,a=e.thousands,l=e.grouping,i=e.currency,E=l&&a?function(t,e){for(var n=t.length,i=[],r=0,s=l[0],o=0;0<n&&0<s&&(e<o+s+1&&(s=Math.max(1,e-o)),i.push(t.substring(n-=s,n+s)),!((o+=s+1)>e));)s=l[r=(r+1)%l.length];return i.reverse().join(a)}:B,function(t){var e=qs.exec(t),h=e[1]||" ",u=e[2]||">",d=e[3]||"-",n=e[4]||"",f=e[5],p=+e[6],g=e[7],m=e[8],v=e[9],y=1,b="",_="",w=!1,x=!0;switch(m&&(m=+m.substring(1)),(f||"0"===h&&"="===u)&&(f=h="0",u="="),v){case"n":g=!0,v="g";break;case"%":y=100,_="%",v="f";break;case"p":y=100,_="%",v="r";break;case"b":case"o":case"x":case"X":"#"===n&&(b="0"+v.toLowerCase());case"c":x=!1;case"d":w=!0,m=0;break;case"s":y=-1,v="r"}"$"===n&&(b=i[0],_=i[1]),"r"!=v||m||(v="g"),null!=m&&("g"==v?m=Math.max(1,Math.min(21,m)):("e"==v||"f"==v)&&(m=Math.max(0,Math.min(20,m)))),v=Zs.get(v)||Tt;var A=f&&g;return function(t){var e=_;if(w&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===d?"":d;if(y<0){var i=qr.formatPrefix(t,m);t=i.scale(t),e=i.symbol+_}else t*=y;var r,s,o=(t=v(t,m)).lastIndexOf(".");if(o<0){var a=x?t.lastIndexOf("e"):-1;a<0?(r=t,s=""):(r=t.substring(0,a),s=t.substring(a))}else r=t.substring(0,o),s=C+t.substring(o+1);!f&&g&&(r=E(r,1/0));var l=b.length+r.length+s.length+(A?0:n.length),c=l<p?new Array(l=p-l+1).join(h):"";return A&&(r=E(c+r,c.length?p-s.length:1/0)),n+=b,t=r+s,("<"===u?n+t+c:">"===u?c+n+t:"^"===u?c.substring(0,l>>=1)+n+t+c.substring(l):n+(A?t:c+t))+e}}),timeFormat:function(t){function i(a){function t(t){for(var e,n,i,r=[],s=-1,o=0;++s<l;)37===a.charCodeAt(s)&&(r.push(a.slice(o,s)),null!=(n=Qs[e=a.charAt(++s)])&&(e=a.charAt(++s)),(i=_[e])&&(e=i(t,null==n?"e"===e?" ":"0":n)),r.push(e),o=s+1);return r.push(a.slice(o,s)),r.join("")}var l=a.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(r(e,a,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&Ks!==Dt,i=new(n?Dt:Ks);return"j"in e?i.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?i._:i},t.toString=function(){return a},t}function r(t,e,n,i){for(var r,s,o,a=0,l=e.length,c=n.length;a<l;){if(c<=i)return-1;if(37===(r=e.charCodeAt(a++))){if(o=e.charAt(a++),!(s=w[o in Qs?e.charAt(a++):o])||(i=s(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}var e=t.dateTime,n=t.date,s=t.time,o=t.periods,a=t.days,l=t.shortDays,c=t.months,h=t.shortMonths;i.multi=(i.utc=function(t){function e(t){try{var e=new(Ks=Dt);return e._=t,n(e)}finally{Ks=Date}}var n=i(t);return e.parse=function(t){try{Ks=Dt;var e=n.parse(t);return e&&e._}finally{Ks=Date}},e.toString=n.toString,e}).multi=Xt;var u=qr.map(),d=Bt(a),f=$t(a),p=Bt(l),g=$t(l),m=Bt(c),v=$t(c),y=Bt(h),b=$t(h);o.forEach(function(t,e){u.set(t.toLowerCase(),e)});var _={a:function(t){return l[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return h[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:i(e),d:function(t,e){return Lt(t.getDate(),e,2)},e:function(t,e){return Lt(t.getDate(),e,2)},H:function(t,e){return Lt(t.getHours(),e,2)},I:function(t,e){return Lt(t.getHours()%12||12,e,2)},j:function(t,e){return Lt(1+Gs.dayOfYear(t),e,3)},L:function(t,e){return Lt(t.getMilliseconds(),e,3)},m:function(t,e){return Lt(t.getMonth()+1,e,2)},M:function(t,e){return Lt(t.getMinutes(),e,2)},p:function(t){return o[+(12<=t.getHours())]},S:function(t,e){return Lt(t.getSeconds(),e,2)},U:function(t,e){return Lt(Gs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Lt(Gs.mondayOfYear(t),e,2)},x:i(n),X:i(s),y:function(t,e){return Lt(t.getFullYear()%100,e,2)},Y:function(t,e){return Lt(t.getFullYear()%1e4,e,4)},Z:Gt,"%":function(){return"%"}},w={a:function(t,e,n){p.lastIndex=0;var i=p.exec(e.slice(n));return i?(t.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){d.lastIndex=0;var i=d.exec(e.slice(n));return i?(t.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){y.lastIndex=0;var i=y.exec(e.slice(n));return i?(t.m=b.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){m.lastIndex=0;var i=m.exec(e.slice(n));return i?(t.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,e,n){return r(t,_.c.toString(),e,n)},d:Wt,e:Wt,H:Ut,I:Ut,j:Vt,L:Zt,m:jt,M:Yt,p:function(t,e,n){var i=u.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:qt,U:Ot,w:Rt,W:It,x:function(t,e,n){return r(t,_.x.toString(),e,n)},X:function(t,e,n){return r(t,_.X.toString(),e,n)},y:zt,Y:Nt,Z:Ht,"%":Kt};return i}(t)};var e,C,a,l,i,E};var eo=qr.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});qr.format=eo.numberFormat,qr.geo={},Qt.prototype={s:0,t:0,add:function(t){Jt(t,this.t,no),Jt(no.s,this.s,this),this.s?this.t+=no.t:this.s=no.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var no=new Qt;qr.geo.stream=function(t,e){t&&io.hasOwnProperty(t.type)?io[t.type](t,e):te(t,e)};var io={Feature:function(t,e){te(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)te(n[i].geometry,e)}},ro={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){ee(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)ee(n[i],e,0)},Polygon:function(t,e){ne(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)ne(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)te(n[i],e)}};qr.geo.area=function(t){return so=0,qr.geo.stream(t,ao),so};var so,oo=new Qt,ao={sphere:function(){so+=4*xs},point:v,lineStart:v,lineEnd:v,polygonStart:function(){oo.reset(),ao.lineStart=ie},polygonEnd:function(){var t=2*oo;so+=t<0?4*xs+t:t,ao.lineStart=ao.lineEnd=ao.point=v}};qr.geo.bounds=function(){function h(t,e){b.push(_=[d=t,p=t]),e<f&&(f=e),g<e&&(g=e)}function i(t,e){var n=re([t*ks,e*ks]);if(v){var i=oe(v,n),r=oe([i[1],-i[0],0],i);ce(r),r=he(r);var s=t-m,o=0<s?1:-1,a=r[0]*Ss*o,l=180<is(s);if(l^(o*m<a&&a<o*t)){var c=r[1]*Ss;g<c&&(g=c)}else if(l^(o*m<(a=(a+360)%360-180)&&a<o*t)){(c=-r[1]*Ss)<f&&(f=c)}else e<f&&(f=e),g<e&&(g=e);l?t<m?u(d,t)>u(d,p)&&(p=t):u(t,p)>u(d,p)&&(d=t):d<=p?(t<d&&(d=t),p<t&&(p=t)):m<t?u(d,t)>u(d,p)&&(p=t):u(t,p)>u(d,p)&&(d=t)}else h(t,e);v=n,m=t}function t(){w.point=i}function e(){_[0]=d,_[1]=p,w.point=h,v=null}function n(t,e){if(v){var n=t-m;y+=180<is(n)?n+(0<n?360:-360):n}else o=t,a=e;ao.point(t,e),i(t,e)}function r(){ao.lineStart()}function s(){n(o,a),ao.lineEnd(),is(y)>_s&&(d=-(p=180)),_[0]=d,_[1]=p,v=null}function u(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var d,f,p,g,m,o,a,v,y,b,_,w={point:h,lineStart:t,lineEnd:e,polygonStart:function(){w.point=n,w.lineStart=r,w.lineEnd=s,y=0,ao.polygonStart()},polygonEnd:function(){ao.polygonEnd(),w.point=h,w.lineStart=t,w.lineEnd=e,oo<0?(d=-(p=180),f=-(g=90)):_s<y?g=90:y<-_s&&(f=-90),_[0]=d,_[1]=p}};return function(t){if(g=p=-(d=f=1/0),b=[],qr.geo.stream(t,w),s=b.length){b.sort(l);for(var e=1,n=[a=b[0]];e<s;++e)c((r=b[e])[0],a)||c(r[1],a)?(u(a[0],r[1])>u(a[0],a[1])&&(a[1]=r[1]),u(r[0],a[1])>u(a[0],a[1])&&(a[0]=r[0])):n.push(a=r);for(var i,r,s,o=-1/0,a=(e=0,n[s=n.length-1]);e<=s;a=r,++e)r=n[e],(i=u(a[1],r[0]))>o&&(o=i,d=r[0],p=a[1])}return b=_=null,d===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[d,f],[p,g]]}}(),qr.geo.centroid=function(t){lo=co=ho=uo=fo=po=go=mo=vo=yo=bo=0,qr.geo.stream(t,_o);var e=vo,n=yo,i=bo,r=e*e+n*n+i*i;return r<ws&&(e=po,n=go,i=mo,co<_s&&(e=ho,n=uo,i=fo),(r=e*e+n*n+i*i)<ws)?[NaN,NaN]:[Math.atan2(n,e)*Ss,Q(i/Math.sqrt(r))*Ss]};var lo,co,ho,uo,fo,po,go,mo,vo,yo,bo,_o={sphere:v,point:de,lineStart:pe,lineEnd:ge,polygonStart:function(){_o.lineStart=me},polygonEnd:function(){_o.lineStart=pe}},wo=xe(ye,function(u){var d,f=NaN,p=NaN,g=NaN;return{lineStart:function(){u.lineStart(),d=1},point:function(t,e){var n,i,r,s,o,a,l,c=0<t?xs:-xs,h=is(t-f);is(h-xs)<_s?(u.point(f,p=0<(p+e)/2?Es:-Es),u.point(g,p),u.lineEnd(),u.lineStart(),u.point(c,p),u.point(t,p),d=0):g!==c&&xs<=h&&(is(f-g)<_s&&(f-=g*_s),is(t-c)<_s&&(t-=c*_s),n=f,i=p,r=t,s=e,l=Math.sin(n-r),p=is(l)>_s?Math.atan((Math.sin(i)*(a=Math.cos(s))*Math.sin(r)-Math.sin(s)*(o=Math.cos(i))*Math.sin(n))/(o*a*l)):(i+s)/2,u.point(g,p),u.lineEnd(),u.lineStart(),u.point(c,p),d=0),u.point(f=t,p=e),g=c},lineEnd:function(){u.lineEnd(),f=p=NaN},clean:function(){return 2-d}}},function(t,e,n,i){var r;if(null==t)r=n*Es,i.point(-xs,r),i.point(0,r),i.point(xs,r),i.point(xs,0),i.point(xs,-r),i.point(0,-r),i.point(-xs,-r),i.point(-xs,0),i.point(-xs,r);else if(is(t[0]-e[0])>_s){var s=t[0]<e[0]?xs:-xs;r=n*s/2,i.point(-s,r),i.point(0,r),i.point(s,r)}else i.point(e[0],e[1])},[-xs,-xs/2]),xo=1e9;qr.geo.clipExtent=function(){var e,n,i,r,s,o,a={stream:function(t){return s&&(s.valid=!1),(s=o(t)).valid=!0,s},extent:function(t){return arguments.length?(o=Se(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),s&&(s.valid=!1,s=null),a):[[e,n],[i,r]]}};return a.extent([[0,0],[960,500]])},(qr.geo.conicEqualArea=function(){return Fe(Te)}).raw=Te,qr.geo.albers=function(){return qr.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},qr.geo.albersUsa=function(){function r(t){var e=t[0],n=t[1];return i=null,s(e,n),i||(o(e,n),i)||a(e,n),i}var i,s,o,a,l=qr.geo.albers(),c=qr.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=qr.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){i=[t,e]}};return r.invert=function(t){var e=l.scale(),n=l.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?c:.166<=r&&r<.234&&-.214<=i&&i<-.115?h:l).invert(t)},r.stream=function(t){var n=l.stream(t),i=c.stream(t),r=h.stream(t);return{point:function(t,e){n.point(t,e),i.point(t,e),r.point(t,e)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},r.precision=function(t){return arguments.length?(l.precision(t),c.precision(t),h.precision(t),r):l.precision()},r.scale=function(t){return arguments.length?(l.scale(t),c.scale(.35*t),h.scale(t),r.translate(l.translate())):l.scale()},r.translate=function(t){if(!arguments.length)return l.translate();var e=l.scale(),n=+t[0],i=+t[1];return s=l.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(u).point,o=c.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+_s,i+.12*e+_s],[n-.214*e-_s,i+.234*e-_s]]).stream(u).point,a=h.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+_s,i+.166*e+_s],[n-.115*e-_s,i+.234*e-_s]]).stream(u).point,r},r.scale(1070)};var Ao,Co,Eo,ko,So,Fo,To={point:v,lineStart:v,lineEnd:v,polygonStart:function(){Co=0,To.lineStart=De},polygonEnd:function(){To.lineStart=To.lineEnd=To.point=v,Ao+=is(Co/2)}},Do={point:function(t,e){t<Eo&&(Eo=t),So<t&&(So=t),e<ko&&(ko=e),Fo<e&&(Fo=e)},lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v},Mo={point:Le,lineStart:Be,lineEnd:$e,polygonStart:function(){Mo.lineStart=Re},polygonEnd:function(){Mo.point=Le,Mo.lineStart=Be,Mo.lineEnd=$e}};qr.geo.path=function(){function e(t){return t&&("function"==typeof l&&o.pointRadius(+l.apply(this,arguments)),a&&a.valid||(a=s(o)),qr.geo.stream(t,a)),o.result()}function i(){return a=null,e}var r,n,s,o,a,l=4.5;return e.area=function(t){return Ao=0,qr.geo.stream(t,s(To)),Ao},e.centroid=function(t){return ho=uo=fo=po=go=mo=vo=yo=bo=0,qr.geo.stream(t,s(Mo)),bo?[vo/bo,yo/bo]:mo?[po/mo,go/mo]:fo?[ho/fo,uo/fo]:[NaN,NaN]},e.bounds=function(t){return So=Fo=-(Eo=ko=1/0),qr.geo.stream(t,s(Do)),[[Eo,ko],[So,Fo]]},e.projection=function(t){return arguments.length?(s=(r=t)?t.stream||(n=t,e=Ie(function(t,e){return n([t*Ss,e*Ss])}),function(t){return We(e(t))}):B,i()):r;var n,e},e.context=function(t){return arguments.length?(o=null==(n=t)?new Me:new Oe(t),"function"!=typeof l&&o.pointRadius(l),i()):n},e.pointRadius=function(t){return arguments.length?(l="function"==typeof t?t:(o.pointRadius(+t),+t),e):l},e.projection(qr.geo.albersUsa()).context(null)},qr.geo.transform=function(i){return{stream:function(t){var e=new Ne(t);for(var n in i)e[n]=i[n];return e}}},Ne.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},qr.geo.projection=He,qr.geo.projectionMutator=je,(qr.geo.equirectangular=function(){return He(Ve)}).raw=Ve.invert=Ve,qr.geo.rotation=function(e){function t(t){return(t=e(t[0]*ks,t[1]*ks))[0]*=Ss,t[1]*=Ss,t}return e=Ye(e[0]%360*ks,e[1]*ks,2<e.length?e[2]*ks:0),t.invert=function(t){return(t=e.invert(t[0]*ks,t[1]*ks))[0]*=Ss,t[1]*=Ss,t},t},Ue.invert=Ve,qr.geo.circle=function(){function e(){var t="function"==typeof s?s.apply(this,arguments):s,n=Ye(-t[0]*ks,-t[1]*ks,0).invert,i=[];return r(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Ss,t[1]*=Ss}}),{type:"Polygon",coordinates:[i]}}var n,r,s=[0,0],i=6;return e.origin=function(t){return arguments.length?(s=t,e):s},e.angle=function(t){return arguments.length?(r=Ke((n=+t)*ks,i*ks),e):n},e.precision=function(t){return arguments.length?(r=Ke(n*ks,(i=+t)*ks),e):i},e.angle(90)},qr.geo.distance=function(t,e){var n,i=(e[0]-t[0])*ks,r=t[1]*ks,s=e[1]*ks,o=Math.sin(i),a=Math.cos(i),l=Math.sin(r),c=Math.cos(r),h=Math.sin(s),u=Math.cos(s);return Math.atan2(Math.sqrt((n=u*o)*n+(n=c*h-l*u*a)*n),l*h+c*u*a)},qr.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return qr.range(Math.ceil(s/m)*m,r,m).map(d).concat(qr.range(Math.ceil(c/v)*v,l,v).map(f)).concat(qr.range(Math.ceil(i/p)*p,n,p).filter(function(t){return is(t%m)>_s}).map(h)).concat(qr.range(Math.ceil(a/g)*g,o,g).filter(function(t){return is(t%v)>_s}).map(u))}var n,i,r,s,o,a,l,c,h,u,d,f,p=10,g=p,m=90,v=360,y=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[d(s).concat(f(l).slice(1),d(r).reverse().slice(1),f(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(s=+t[0][0],r=+t[1][0],c=+t[0][1],l=+t[1][1],r<s&&(t=s,s=r,r=t),l<c&&(t=c,c=l,l=t),e.precision(y)):[[s,c],[r,l]]},e.minorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],a=+t[0][1],o=+t[1][1],n<i&&(t=i,i=n,n=t),o<a&&(t=a,a=o,o=t),e.precision(y)):[[i,a],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(y=+t,h=Qe(a,o,90),u=Je(i,n,y),d=Qe(c,l,90),f=Je(s,r,y),e):y},e.majorExtent([[-180,-90+_s],[180,90-_s]]).minorExtent([[-180,-80-_s],[180,80+_s]])},qr.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),i||s.apply(this,arguments)]}}var n,i,r=tn,s=en;return e.distance=function(){return qr.geo.distance(n||r.apply(this,arguments),i||s.apply(this,arguments))},e.source=function(t){return arguments.length?(n="function"==typeof(r=t)?null:t,e):r},e.target=function(t){return arguments.length?(i="function"==typeof(s=t)?null:t,e):s},e.precision=function(){return arguments.length?e:0},e},qr.geo.interpolate=function(t,e){return n=t[0]*ks,i=t[1]*ks,r=e[0]*ks,s=e[1]*ks,o=Math.cos(i),a=Math.sin(i),l=Math.cos(s),c=Math.sin(s),h=o*Math.cos(n),u=o*Math.sin(n),d=l*Math.cos(r),f=l*Math.sin(r),p=2*Math.asin(Math.sqrt(tt(s-i)+o*l*tt(r-n))),g=1/Math.sin(p),(m=p?function(t){var e=Math.sin(t*=p)*g,n=Math.sin(p-t)*g,i=n*h+e*d,r=n*u+e*f,s=n*a+e*c;return[Math.atan2(r,i)*Ss,Math.atan2(s,Math.sqrt(i*i+r*r))*Ss]}:function(){return[n*Ss,i*Ss]}).distance=p,m;var n,i,r,s,o,a,l,c,h,u,d,f,p,g,m},qr.geo.length=function(t){return Po=0,qr.geo.stream(t,Lo),Po};var Po,Lo={sphere:v,point:v,lineStart:function(){function n(t,e){var n=Math.sin(e*=ks),i=Math.cos(e),r=is((t*=ks)-o),s=Math.cos(r);Po+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=l*n-a*i*s)*r),a*n+l*i*s),o=t,a=n,l=i}var o,a,l;Lo.point=function(t,e){o=t*ks,a=Math.sin(e*=ks),l=Math.cos(e),Lo.point=n},Lo.lineEnd=function(){Lo.point=Lo.lineEnd=v}},lineEnd:v,polygonStart:v,polygonEnd:v},Bo=nn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(qr.geo.azimuthalEqualArea=function(){return He(Bo)}).raw=Bo;var $o=nn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},B);(qr.geo.azimuthalEquidistant=function(){return He($o)}).raw=$o,(qr.geo.conicConformal=function(){return Fe(rn)}).raw=rn,(qr.geo.conicEquidistant=function(){return Fe(sn)}).raw=sn;var Ro=nn(function(t){return 1/t},Math.atan);(qr.geo.gnomonic=function(){return He(Ro)}).raw=Ro,on.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Es]},(qr.geo.mercator=function(){return an(on)}).raw=on;var Oo=nn(function(){return 1},Math.asin);(qr.geo.orthographic=function(){return He(Oo)}).raw=Oo;var Io=nn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(qr.geo.stereographic=function(){return He(Io)}).raw=Io,ln.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Es]},(qr.geo.transverseMercator=function(){var t=an(ln),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=ln,qr.geom={},qr.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,n=wt(d),i=wt(f),r=t.length,s=[],o=[];for(e=0;e<r;e++)s.push([+n.call(this,t[e],e),+i.call(this,t[e],e),e]);for(s.sort(dn),e=0;e<r;e++)o.push([s[e][0],-s[e][1]]);var a=un(s),l=un(o),c=l[0]===a[0],h=l[l.length-1]===a[a.length-1],u=[];for(e=a.length-1;0<=e;--e)u.push(t[s[a[e]][2]]);for(e=+c;e<l.length-h;++e)u.push(t[s[l[e]][2]]);return u}var d=cn,f=hn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(d=t,e):d},e.y=function(t){return arguments.length?(f=t,e):f},e)},qr.geom.polygon=function(t){return ls(t,No),t};var No=qr.geom.polygon.prototype=[];No.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},No.centroid=function(t){var e,n,i=-1,r=this.length,s=0,o=0,a=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=a,a=this[i],n=e[0]*a[1]-a[0]*e[1],s+=(e[0]+a[0])*n,o+=(e[1]+a[1])*n;return[s*t,o*t]},No.clip=function(t){for(var e,n,i,r,s,o,a=gn(t),l=-1,c=this.length-gn(this),h=this[c-1];++l<c;){for(e=t.slice(),t.length=0,r=this[l],s=e[(i=e.length-a)-1],n=-1;++n<i;)fn(o=e[n],h,r)?(fn(s,h,r)||t.push(pn(s,o,h,r)),t.push(o)):fn(s,h,r)&&t.push(pn(s,o,h,r)),s=o;a&&t.push(t[0]),h=r}return t};var zo,Ho,jo,Wo,Vo,Uo=[],Yo=[];An.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Cn),e.length},Pn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ln.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=On(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&($n(this,n),n=(t=n).U),n.C=!1,i.C=!0,Rn(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Rn(this,n),n=(t=n).U),n.C=!1,i.C=!0,$n(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,s=t.L,o=t.R;if(n=s?o?On(o):s:o,r?r.L===t?r.L=n:r.R=n:this._=n,s&&o?(i=n.C,n.C=t.C,((n.L=s).U=n)!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,(n.R=o).U=n):(n.U=r,t=(r=n).R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,$n(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Rn(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,$n(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,Rn(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,$n(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Rn(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}},qr.geom.voronoi=function(t){function e(r){var s=new Array(r.length),o=h[0][0],a=h[0][1],l=h[1][0],c=h[1][1];return In(n(r),h).cells.forEach(function(t,e){var n=t.edges,i=t.site;(s[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):i.x>=o&&i.x<=l&&i.y>=a&&i.y<=c?[[o,c],[l,c],[l,a],[o,a]]:[]).point=r[e]}),s}function n(t){return t.map(function(t,e){return{x:Math.round(s(t,e)/_s)*_s,y:Math.round(o(t,e)/_s)*_s,i:e}})}var i=cn,r=hn,s=i,o=r,h=qo;return t?e(t):(e.links=function(e){return In(n(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},e.triangles=function(d){var f=[];return In(n(d)).cells.forEach(function(t,e){for(var n,i=t.site,r=t.edges.sort(Cn),s=-1,o=r.length,a=r[o-1].edge,l=a.l===i?a.r:a.l;++s<o;)a,n=l,l=(a=r[s].edge).l===i?a.r:a.l,e<n.i&&e<l.i&&(h=n,u=l,((c=i).x-u.x)*(h.y-c.y)-(c.x-h.x)*(u.y-c.y)<0)&&f.push([d[e],d[n.i],d[l.i]]);var c,h,u}),f},e.x=function(t){return arguments.length?(s=wt(i=t),e):i},e.y=function(t){return arguments.length?(o=wt(r=t),e):r},e.clipExtent=function(t){return arguments.length?(h=null==t?qo:t,e):h===qo?null:h},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):h===qo?null:h&&h[1]},e)};var qo=[[-1e6,-1e6],[1e6,1e6]];qr.geom.delaunay=function(t){return qr.geom.voronoi().triangles(t)},qr.geom.quadtree=function(t,y,b,_,w){function e(t){function f(t,e,n,i,r,s,o,a){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(is(l-n)+is(c-i)<.01)u(t,e,n,i,r,s,o,a);else{var h=t.point;t.x=t.y=t.point=null,u(t,h,l,c,r,s,o,a),u(t,e,n,i,r,s,o,a)}else t.x=n,t.y=i,t.point=e}else u(t,e,n,i,r,s,o,a)}function u(t,e,n,i,r,s,o,a){var l=.5*(r+o),c=.5*(s+a),h=l<=n,u=c<=i,d=u<<1|h;t.leaf=!1,h?r=l:o=l,u?s=c:a=c,f(t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,i,r,s,o,a)}var e,n,i,r,s,o,a,l,c,h=wt(A),d=wt(E);if(null!=y)o=y,a=b,l=_,c=w;else if(l=c=-(o=a=1/0),n=[],i=[],s=t.length,x)for(r=0;r<s;++r)(e=t[r]).x<o&&(o=e.x),e.y<a&&(a=e.y),e.x>l&&(l=e.x),e.y>c&&(c=e.y),n.push(e.x),i.push(e.y);else for(r=0;r<s;++r){var p=+h(e=t[r],r),g=+d(e,r);p<o&&(o=p),g<a&&(a=g),l<p&&(l=p),c<g&&(c=g),n.push(p),i.push(g)}var m=l-o,v=c-a;v<m?c=a+m:l=o+v;var C={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){f(C,t,+h(t,++r),+d(t,r),o,a,l,c)}};if(C.visit=function(t){!function t(e,n,i,r,s,o){if(!e(n,i,r,s,o)){var a=.5*(i+s),l=.5*(r+o),c=n.nodes;c[0]&&t(e,c[0],i,r,a,l),c[1]&&t(e,c[1],a,r,s,l),c[2]&&t(e,c[2],i,l,a,o),c[3]&&t(e,c[3],a,l,s,o)}}(t,C,o,a,l,c)},C.find=function(t){return e=C,m=t[0],v=t[1],A=1/0,function t(e,n,i,r,s){if(!(_<n||w<i||r<y||s<b)){if(o=e.point){var o,a=m-e.x,l=v-e.y,c=a*a+l*l;if(c<A){var h=Math.sqrt(A=c);y=m-h,b=v-h,_=m+h,w=v+h,x=o}}for(var u=e.nodes,d=.5*(n+r),f=.5*(i+s),p=(f<=v)<<1|d<=m,g=p+4;p<g;++p)if(e=u[3&p])switch(3&p){case 0:t(e,n,i,d,f);break;case 1:t(e,d,i,r,f);break;case 2:t(e,n,f,d,s);break;case 3:t(e,d,f,r,s)}}}(e,y=o,b=a,_=l,w=c),x;var e,m,v,y,b,_,w,x,A},r=-1,null==y){for(;++r<s;)f(C,t[r],n[r],i[r],o,a,l,c);--r}else t.forEach(C.add);return n=i=t=e=null,C}var x,A=cn,E=hn;return(x=arguments.length)?(A=zn,E=Hn,3===x&&(w=b,_=y,b=y=0),e(t)):(e.x=function(t){return arguments.length?(A=t,e):A},e.y=function(t){return arguments.length?(E=t,e):E},e.extent=function(t){return arguments.length?(null==t?y=b=_=w=null:(y=+t[0][0],b=+t[0][1],_=+t[1][0],w=+t[1][1]),e):null==y?null:[[y,b],[_,w]]},e.size=function(t){return arguments.length?(null==t?y=b=_=w=null:(y=b=0,_=+t[0],w=+t[1]),e):null==y?null:[_-y,w-b]},e)},qr.interpolateRgb=jn,qr.interpolateObject=Wn,qr.interpolateNumber=Vn,qr.interpolateString=Un;var Zo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Go=new RegExp(Zo.source,"g");qr.interpolate=Yn,qr.interpolators=[function(t,e){var n=typeof e;return("string"===n?zs.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?jn:Un:e instanceof et?jn:Array.isArray(e)?qn:"object"===n&&isNaN(e)?Wn:Vn)(t,e)}],qr.interpolateArray=qn;var Ko=function(){return B},Xo=qr.map({linear:Ko,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return Kn},cubic:function(){return Xn},sin:function(){return Jn},exp:function(){return ti},circle:function(){return ei},elastic:function(e,n){var i;return arguments.length<2&&(n=.45),arguments.length?i=n/As*Math.asin(1/e):(e=1,i=n/4),function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-i)*As/n)}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},bounce:function(){return ni}}),Qo=qr.map({in:B,out:Zn,"in-out":Gn,"out-in":function(t){return Gn(Zn(t))}});qr.ease=function(t){var e,n=t.indexOf("-"),i=0<=n?t.slice(0,n):t,r=0<=n?t.slice(n+1):"in";return i=Xo.get(i)||Ko,r=Qo.get(r)||B,e=r(i.apply(null,Zr.call(arguments,1))),function(t){return t<=0?0:1<=t?1:e(t)}},qr.interpolateHcl=function(t,e){t=qr.hcl(t),e=qr.hcl(e);var n=t.h,i=t.c,r=t.l,s=e.h-n,o=e.c-i,a=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.c:i),isNaN(s)?(s=0,n=isNaN(n)?e.h:n):180<s?s-=360:s<-180&&(s+=360),function(t){return st(n+s*t,i+o*t,r+a*t)+""}},qr.interpolateHsl=function(t,e){t=qr.hsl(t),e=qr.hsl(e);var n=t.h,i=t.s,r=t.l,s=e.h-n,o=e.s-i,a=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.s:i),isNaN(s)?(s=0,n=isNaN(n)?e.h:n):180<s?s-=360:s<-180&&(s+=360),function(t){return it(n+s*t,i+o*t,r+a*t)+""}},qr.interpolateLab=function(t,e){t=qr.lab(t),e=qr.lab(e);var n=t.l,i=t.a,r=t.b,s=e.l-n,o=e.a-i,a=e.b-r;return function(t){return at(n+s*t,i+o*t,r+a*t)+""}},qr.interpolateRound=ii,qr.transform=function(t){var n=Kr.createElementNS(qr.ns.prefix.svg,"g");return(qr.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new ri(e?e.matrix:Jo)})(t)},ri.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Jo={a:1,b:0,c:0,d:1,e:0,f:0};qr.interpolateTransform=li,qr.layout={},qr.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(ui(t[n]));return e}},qr.layout.chord=function(){function t(){var t,e,n,i,r,s={},o=[],a=qr.range(_),l=[];for(v=[],y=[],t=0,i=-1;++i<_;){for(e=0,r=-1;++r<_;)e+=b[i][r];o.push(e),l.push(qr.range(_)),t+=e}for(w&&a.sort(function(t,e){return w(o[t],o[e])}),x&&l.forEach(function(t,n){t.sort(function(t,e){return x(b[n][t],b[n][e])})}),t=(As-C*_)/t,e=0,i=-1;++i<_;){for(n=e,r=-1;++r<_;){var c=a[i],h=l[c][r],u=b[c][h],d=e,f=e+=u*t;s[c+"-"+h]={index:c,subindex:h,startAngle:d,endAngle:f,value:u}}y[c]={index:c,startAngle:n,endAngle:e,value:o[c]},e+=C}for(i=-1;++i<_;)for(r=i-1;++r<_;){var p=s[i+"-"+r],g=s[r+"-"+i];(p.value||g.value)&&v.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}A&&m()}function m(){v.sort(function(t,e){return A((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var v,y,b,_,w,x,A,e={},C=0;return e.matrix=function(t){return arguments.length?(_=(b=t)&&b.length,v=y=null,e):b},e.padding=function(t){return arguments.length?(C=t,v=y=null,e):C},e.sortGroups=function(t){return arguments.length?(w=t,v=y=null,e):w},e.sortSubgroups=function(t){return arguments.length?(x=t,v=null,e):x},e.sortChords=function(t){return arguments.length?(A=t,v&&m(),e):A},e.chords=function(){return v||t(),v},e.groups=function(){return y||t(),y},e},qr.layout.force=function(){function u(c){return function(t,e,n,i){if(t.point!==c){var r=t.cx-c.x,s=t.cy-c.y,o=i-e,a=r*r+s*s;if(o*o/x<a){if(a<h){var l=t.charge/a;c.px-=r*l,c.py-=s*l}return!0}if(t.point&&a&&a<h){l=t.pointCharge/a;c.px-=r*l,c.py-=s*l}}return!t.charge}}function t(t){t.px=qr.event.x,t.py=qr.event.y,r.resume()}var d,e,f,p,g,m,r={},v=qr.dispatch("start","tick","end"),y=[1,1],b=.9,s=ta,o=ea,_=-30,h=na,w=.1,x=.64,A=[],C=[];return r.tick=function(){if((f*=.99)<.005)return d=null,v.end({type:"end",alpha:f=0}),!0;var t,e,n,i,r,s,o,a,l,c=A.length,h=C.length;for(e=0;e<h;++e)i=(n=C[e]).source,(s=(a=(r=n.target).x-i.x)*a+(l=r.y-i.y)*l)&&(a*=s=f*g[e]*((s=Math.sqrt(s))-p[e])/s,l*=s,r.x-=a*(o=i.weight+r.weight?i.weight/(i.weight+r.weight):.5),r.y-=l*o,i.x+=a*(o=1-o),i.y+=l*o);if((o=f*w)&&(a=y[0]/2,l=y[1]/2,e=-1,o))for(;++e<c;)(n=A[e]).x+=(a-n.x)*o,n.y+=(l-n.y)*o;if(_)for(function t(e,n,i){var r=0,s=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,l=a.length,c=-1;++c<l;)null!=(o=a[c])&&(t(o,n,i),e.charge+=o.charge,r+=o.charge*o.cx,s+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var h=n*i[e.point.index];e.charge+=e.pointCharge=h,r+=h*e.point.x,s+=h*e.point.y}e.cx=r/e.charge,e.cy=s/e.charge}(t=qr.geom.quadtree(A),f,m),e=-1;++e<c;)(n=A[e]).fixed||t.visit(u(n));for(e=-1;++e<c;)(n=A[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*b,n.y-=(n.py-(n.py=n.y))*b);v.tick({type:"tick",alpha:f})},r.nodes=function(t){return arguments.length?(A=t,r):A},r.links=function(t){return arguments.length?(C=t,r):C},r.size=function(t){return arguments.length?(y=t,r):y},r.linkDistance=function(t){return arguments.length?(s="function"==typeof t?t:+t,r):s},r.distance=r.linkDistance,r.linkStrength=function(t){return arguments.length?(o="function"==typeof t?t:+t,r):o},r.friction=function(t){return arguments.length?(b=+t,r):b},r.charge=function(t){return arguments.length?(_="function"==typeof t?t:+t,r):_},r.chargeDistance=function(t){return arguments.length?(h=t*t,r):Math.sqrt(h)},r.gravity=function(t){return arguments.length?(w=+t,r):w},r.theta=function(t){return arguments.length?(x=t*t,r):Math.sqrt(x)},r.alpha=function(t){return arguments.length?(t=+t,f?0<t?f=t:(d.c=null,d.t=NaN,d=null,v.end({type:"end",alpha:f=0})):0<t&&(v.start({type:"start",alpha:f=t}),d=Ct(r.tick)),r):f},r.start=function(){function t(t,e){if(!l){for(l=new Array(c),s=0;s<c;++s)l[s]=[];for(s=0;s<h;++s){var n=C[s];l[n.source.index].push(n.target),l[n.target.index].push(n.source)}}for(var i,r=l[a],s=-1,o=r.length;++s<o;)if(!isNaN(i=r[s][t]))return i;return Math.random()*e}var a,l,e,c=A.length,h=C.length,n=y[0],i=y[1];for(a=0;a<c;++a)(e=A[a]).index=a,e.weight=0;for(a=0;a<h;++a)"number"==typeof(e=C[a]).source&&(e.source=A[e.source]),"number"==typeof e.target&&(e.target=A[e.target]),++e.source.weight,++e.target.weight;for(a=0;a<c;++a)e=A[a],isNaN(e.x)&&(e.x=t("x",n)),isNaN(e.y)&&(e.y=t("y",i)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof s)for(a=0;a<h;++a)p[a]=+s.call(this,C[a],a);else for(a=0;a<h;++a)p[a]=s;if(g=[],"function"==typeof o)for(a=0;a<h;++a)g[a]=+o.call(this,C[a],a);else for(a=0;a<h;++a)g[a]=o;if(m=[],"function"==typeof _)for(a=0;a<c;++a)m[a]=+_.call(this,A[a],a);else for(a=0;a<c;++a)m[a]=_;return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){return e||(e=qr.behavior.drag().origin(B).on("dragstart.force",fi).on("drag.force",t).on("dragend.force",pi)),arguments.length?void this.on("mouseover.force",gi).on("mouseout.force",mi).call(e):e},qr.rebind(r,v,"on")};var ta=20,ea=1,na=1/0;qr.layout.hierarchy=function(){function a(t){var e,n=[t],i=[];for(t.depth=0;null!=(e=n.pop());)if(i.push(e),(s=c.call(a,e,e.depth))&&(r=s.length)){for(var r,s,o;0<=--r;)n.push(o=s[r]),o.parent=e,o.depth=e.depth+1;h&&(e.value=0),e.children=s}else h&&(e.value=+h.call(a,e,e.depth)||0),delete e.children;return bi(t,function(t){var e,n;l&&(e=t.children)&&e.sort(l),h&&(n=t.parent)&&(n.value+=t.value)}),i}var l=xi,c=_i,h=wi;return a.sort=function(t){return arguments.length?(l=t,a):l},a.children=function(t){return arguments.length?(c=t,a):c},a.value=function(t){return arguments.length?(h=t,a):h},a.revalue=function(t){return h&&(yi(t,function(t){t.children&&(t.value=0)}),bi(t,function(t){var e;t.children||(t.value=+h.call(a,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},a},qr.layout.partition=function(){function e(t,e){var n=i.call(this,t,e);return function t(e,n,i,r){var s=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,s&&(o=s.length)){var o,a,l,c=-1;for(i=e.value?i/e.value:0;++c<o;)t(a=s[c],n,l=a.value*i,r),n+=l}}(n[0],0,r[0],r[1]/function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,s=-1;++s<r;)i=Math.max(i,t(n[s]));return 1+i}(n[0])),n}var i=qr.layout.hierarchy(),r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},vi(e,i)},qr.layout.pie=function(){function d(n){var e,t=n.length,i=n.map(function(t,e){return+f.call(d,t,e)}),r=+("function"==typeof g?g.apply(this,arguments):g),s=("function"==typeof m?m.apply(this,arguments):m)-r,o=Math.min(Math.abs(s)/t,+("function"==typeof v?v.apply(this,arguments):v)),a=o*(s<0?-1:1),l=qr.sum(i),c=l?(s-t*a)/l:0,h=qr.range(t),u=[];return null!=p&&h.sort(p===ia?function(t,e){return i[e]-i[t]}:function(t,e){return p(n[t],n[e])}),h.forEach(function(t){u[t]={data:n[t],value:e=i[t],startAngle:r,endAngle:r+=e*c+a,padAngle:o}}),u}var f=Number,p=ia,g=0,m=As,v=0;return d.value=function(t){return arguments.length?(f=t,d):f},d.sort=function(t){return arguments.length?(p=t,d):p},d.startAngle=function(t){return arguments.length?(g=t,d):g},d.endAngle=function(t){return arguments.length?(m=t,d):m},d.padAngle=function(t){return arguments.length?(v=t,d):v},d};var ia={};qr.layout.stack=function(){function u(t,e){if(!(s=t.length))return t;var n=t.map(function(t,e){return d.call(u,t,e)}),i=n.map(function(t){return t.map(function(t,e){return[m.call(u,t,e),v.call(u,t,e)]})}),r=f.call(u,i,e);n=qr.permute(n,r),i=qr.permute(i,r);var s,o,a,l,c=p.call(u,i,e),h=n[0].length;for(a=0;a<h;++a)for(g.call(u,n[0][a],l=c[a],i[0][a][1]),o=1;o<s;++o)g.call(u,n[o][a],l+=i[o-1][a][1],i[o][a][1]);return t}var d=B,f=Si,p=Fi,g=ki,m=Ci,v=Ei;return u.values=function(t){return arguments.length?(d=t,u):d},u.order=function(t){return arguments.length?(f="function"==typeof t?t:ra.get(t)||Si,u):f},u.offset=function(t){return arguments.length?(p="function"==typeof t?t:sa.get(t)||Fi,u):p},u.x=function(t){return arguments.length?(m=t,u):m},u.y=function(t){return arguments.length?(v=t,u):v},u.out=function(t){return arguments.length?(g=t,u):g},u};var ra=qr.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(Ti),s=t.map(Di),o=qr.range(i).sort(function(t,e){return r[t]-r[e]}),a=0,l=0,c=[],h=[];for(e=0;e<i;++e)n=o[e],a<l?(a+=s[n],c.push(n)):(l+=s[n],h.push(n));return h.reverse().concat(c)},reverse:function(t){return qr.range(t.length).reverse()},default:Si}),sa=qr.map({silhouette:function(t){var e,n,i,r=t.length,s=t[0].length,o=[],a=0,l=[];for(n=0;n<s;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];a<i&&(a=i),o.push(i)}for(n=0;n<s;++n)l[n]=(a-o[n])/2;return l},wiggle:function(t){var e,n,i,r,s,o,a,l,c,h=t.length,u=t[0],d=u.length,f=[];for(f[0]=l=c=0,n=1;n<d;++n){for(r=e=0;e<h;++e)r+=t[e][n][1];for(s=e=0,a=u[n][0]-u[n-1][0];e<h;++e){for(i=0,o=(t[e][n][1]-t[e][n-1][1])/(2*a);i<e;++i)o+=(t[i][n][1]-t[i][n-1][1])/a;s+=o*t[e][n][1]}f[n]=l-=r?s/r*a:0,l<c&&(c=l)}for(n=0;n<d;++n)f[n]-=c;return f},expand:function(t){var e,n,i,r=t.length,s=t[0].length,o=1/r,a=[];for(n=0;n<s;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=o}for(n=0;n<s;++n)a[n]=0;return a},zero:Fi});qr.layout.histogram=function(){function n(t,e){for(var n,i,r=[],s=t.map(d,this),o=f.call(this,s,e),a=p.call(this,o,s,e),l=(e=-1,s.length),c=a.length-1,h=u?1:1/l;++e<c;)(n=r[e]=[]).dx=a[e+1]-(n.x=a[e]),n.y=0;if(0<c)for(e=-1;++e<l;)(i=s[e])>=o[0]&&i<=o[1]&&((n=r[qr.bisect(a,i,1,c)-1]).y+=h,n.push(t[e]));return r}var u=!0,d=Number,f=Bi,p=Pi;return n.value=function(t){return arguments.length?(d=t,n):d},n.range=function(t){return arguments.length?(f=wt(t),n):f},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return Li(t,e)}:wt(e),n):p},n.frequency=function(t){return arguments.length?(u=!!t,n):u},n},qr.layout.pack=function(){function e(t,e){var n=c.call(this,t,e),i=n[0],r=u[0],s=u[1],o=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(i.x=i.y=0,bi(i,function(t){t.r=+o(t.value)}),bi(i,Ni),h){var a=h*(l?1:Math.max(2*i.r/r,2*i.r/s))/2;bi(i,function(t){t.r+=a}),bi(i,Ni),bi(i,function(t){t.r-=a})}return function t(e,n,i,r){var s=e.children;if(e.x=n+=r*e.x,e.y=i+=r*e.y,e.r*=r,s)for(var o=-1,a=s.length;++o<a;)t(s[o],n,i,r)}(i,r/2,s/2,l?1:1/Math.max(2*i.r/r,2*i.r/s)),n}var l,c=qr.layout.hierarchy().sort($i),h=0,u=[1,1];return e.size=function(t){return arguments.length?(u=t,e):u},e.radius=function(t){return arguments.length?(l=null==t||"function"==typeof t?t:+t,e):l},e.padding=function(t){return arguments.length?(h=+t,e):h},vi(e,c)},qr.layout.tree=function(){function e(t,e){var n=p.call(this,t,e),i=n[0],r=function(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,s=e.children,o=0,a=s.length;o<a;++o)i.push((s[o]=r={_:s[o],parent:e,children:(r=s[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}(i);if(bi(r,u),r.parent.m=-r.z,yi(r,d),m)yi(i,f);else{var s=i,o=i,a=i;yi(i,function(t){t.x<s.x&&(s=t),t.x>o.x&&(o=t),t.depth>a.depth&&(a=t)});var l=b(s,o)/2-s.x,c=g[0]/(o.x+b(o,s)/2+l),h=g[1]/(a.depth||1);yi(i,function(t){t.x=(t.x+l)*c,t.y=t.depth*h})}return n}function u(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){!function(t){for(var e,n=0,i=0,r=t.children,s=r.length;0<=--s;)(e=r[s]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+b(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+b(t._,i._));t.parent.A=function(t,e,n){if(e){for(var i,r=t,s=t,o=e,a=r.parent.children[0],l=r.m,c=s.m,h=o.m,u=a.m;o=Ui(o),r=Vi(r),o&&r;)a=Vi(a),(s=Ui(s)).a=t,0<(i=o.z+h-r.z-l+b(o._,r._))&&(v=t,y=n,d=(m=o).a.parent===v.parent?m.a:y,void 0,g=(p=i)/((f=t).i-d.i),f.c-=g,f.s+=p,d.c+=g,f.z+=p,f.m+=p,l+=i,c+=i),h+=o.m,l+=r.m,u+=a.m,c+=s.m;o&&!Ui(s)&&(s.t=o,s.m+=h-c),r&&!Vi(a)&&(a.t=r,a.m+=l-u,n=t)}var d,f,p,g;var m,v,y;return n}(t,i,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function f(t){t.x*=g[0],t.y=t.depth*g[1]}var p=qr.layout.hierarchy().sort(null).value(null),b=Wi,g=[1,1],m=null;return e.separation=function(t){return arguments.length?(b=t,e):b},e.size=function(t){return arguments.length?(m=null==(g=t)?f:null,e):m?null:g},e.nodeSize=function(t){return arguments.length?(m=null==(g=t)?null:f,e):m?g:null},vi(e,p)},qr.layout.cluster=function(){function e(t,e){var r,n=h.call(this,t,e),i=n[0],s=0;bi(i,function(t){var e,n,i=t.children;i&&i.length?(t.x=(n=i).reduce(function(t,e){return t+e.x},0)/n.length,t.y=(e=i,1+qr.max(e,function(t){return t.y}))):(t.x=r?s+=u(t,r):0,t.y=0,r=t)});var o=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(i),a=function t(e){var n,i=e.children;return i&&(n=i.length)?t(i[n-1]):e}(i),l=o.x-u(o,a)/2,c=a.x+u(a,o)/2;return bi(i,f?function(t){t.x=(t.x-i.x)*d[0],t.y=(i.y-t.y)*d[1]}:function(t){t.x=(t.x-l)/(c-l)*d[0],t.y=(1-(i.y?t.y/i.y:1))*d[1]}),n}var h=qr.layout.hierarchy().sort(null).value(null),u=Wi,d=[1,1],f=!1;return e.separation=function(t){return arguments.length?(u=t,e):u},e.size=function(t){return arguments.length?(f=null==(d=t),e):f?null:d},e.nodeSize=function(t){return arguments.length?(f=null!=(d=t),e):f?d:null},vi(e,h)},qr.layout.treemap=function(){function h(t,e){for(var n,i,r=-1,s=t.length;++r<s;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function u(t){var e=t.children;if(e&&e.length){var n,i,r,s=g(t),o=[],a=e.slice(),l=1/0,c="slice"===m?s.dx:"dice"===m?s.dy:"slice-dice"===m?1&t.depth?s.dy:s.dx:Math.min(s.dx,s.dy);for(h(a,s.dx*s.dy/t.value),o.area=0;0<(r=a.length);)o.push(n=a[r-1]),o.area+=n.area,"squarify"!==m||(i=d(o,c))<=l?(a.pop(),l=i):(o.area-=o.pop().area,f(o,c,s,!1),c=Math.min(s.dx,s.dy),o.length=o.area=0,l=1/0);o.length&&(f(o,c,s,!0),o.length=o.area=0),e.forEach(u)}}function o(t){var e=t.children;if(e&&e.length){var n,i=g(t),r=e.slice(),s=[];for(h(r,i.dx*i.dy/t.value),s.area=0;n=r.pop();)s.push(n),s.area+=n.area,null!=n.z&&(f(s,n.z?i.dx:i.dy,i,!r.length),s.length=s.area=0);e.forEach(o)}}function d(t,e){for(var n,i=t.area,r=0,s=1/0,o=-1,a=t.length;++o<a;)(n=t[o].area)&&(n<s&&(s=n),r<n&&(r=n));return e*=e,(i*=i)?Math.max(e*r*v/i,i/(e*s*v)):1/0}function f(t,e,n,i){var r,s=-1,o=t.length,a=n.x,l=n.y,c=e?p(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++s<o;)(r=t[s]).x=a,r.y=l,r.dy=c,a+=r.dx=Math.min(n.x+n.dx-a,c?p(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-a,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++s<o;)(r=t[s]).x=a,r.y=l,r.dx=c,l+=r.dy=Math.min(n.y+n.dy-l,c?p(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function i(t){var e=r||s(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=a[0],n.dy=a[1]):n.dx=n.dy=0,r&&s.revalue(n),h([n],n.dx*n.dy/n.value),(r?o:u)(n),c&&(r=e),e}var r,s=qr.layout.hierarchy(),p=Math.round,a=[1,1],l=null,g=Yi,c=!1,m="squarify",v=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(a=t,i):a},i.padding=function(n){function t(t){return qi(t,n)}return arguments.length?(g=null==(l=n)?Yi:"function"==(e=typeof n)?function(t){var e=n.call(i,t,t.depth);return null==e?Yi(t):qi(t,"number"==typeof e?[e,e,e,e]:e)}:("number"===e&&(n=[n,n,n,n]),t),i):l;var e},i.round=function(t){return arguments.length?(p=t?Math.round:Number,i):p!=Number},i.sticky=function(t){return arguments.length?(c=t,r=null,i):c},i.ratio=function(t){return arguments.length?(v=t,i):v},i.mode=function(t){return arguments.length?(m=t+"",i):m},vi(i,s)},qr.random={normal:function(i,r){var t=arguments.length;return t<2&&(r=1),t<1&&(i=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return i+r*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=qr.random.normal.apply(qr,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=qr.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},qr.scale={};var oa={floor:B,ceil:B};qr.scale.linear=function(){return function t(n,i,r,s){function e(){var t=2<Math.min(n.length,i.length)?Ji:Ki,e=s?hi:ci;return a=t(n,i,e,r),l=t(i,n,e,Yn),o}function o(t){return a(t)}var a,l;return o.invert=function(t){return l(t)},o.domain=function(t){return arguments.length?(n=t.map(Number),e()):n},o.range=function(t){return arguments.length?(i=t,e()):i},o.rangeRound=function(t){return o.range(t).interpolate(ii)},o.clamp=function(t){return arguments.length?(s=t,e()):s},o.interpolate=function(t){return arguments.length?(r=t,e()):r},o.ticks=function(t){return ir(n,t)},o.tickFormat=function(t,e){return rr(n,t,e)},o.nice=function(t){return er(n,t),e()},o.copy=function(){return t(n,i,r,s)},e()}([0,1],[0,1],Yn,!1)};var aa={s:1,g:1,p:1,r:1,e:1};qr.scale.log=function(){return function t(e,l,c,h){function u(t){return(c?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(l)}function d(t){return c?Math.pow(l,t):-Math.pow(l,-t)}function r(t){return e(u(t))}return r.invert=function(t){return d(e.invert(t))},r.domain=function(t){return arguments.length?(c=0<=t[0],e.domain((h=t.map(Number)).map(u)),r):h},r.base=function(t){return arguments.length?(l=+t,e.domain(h.map(u)),r):l},r.nice=function(){var t=Xi(h.map(u),c?Math:ca);return e.domain(t),h=t.map(d),r},r.ticks=function(){var t=Zi(h),e=[],n=t[0],i=t[1],r=Math.floor(u(n)),s=Math.ceil(u(i)),o=l%1?2:l;if(isFinite(s-r)){if(c){for(;r<s;r++)for(var a=1;a<o;a++)e.push(d(r)*a);e.push(d(r))}else for(e.push(d(r));r++<s;)for(a=o-1;0<a;a--)e.push(d(r)*a);for(r=0;e[r]<n;r++);for(s=e.length;e[s-1]>i;s--);e=e.slice(r,s)}return e},r.tickFormat=function(t,n){if(!arguments.length)return la;arguments.length<2?n=la:"function"!=typeof n&&(n=qr.format(n));var i=Math.max(1,l*t/r.ticks().length);return function(t){var e=t/d(Math.round(u(t)));return e*l<l-.5&&(e*=l),e<=i?n(t):""}},r.copy=function(){return t(e.copy(),l,c,h)},tr(r,e)}(qr.scale.linear().domain([0,1]),10,!0,[1,10])};var la=qr.format(".0e"),ca={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};qr.scale.pow=function(){return function t(e,n,i){function r(t){return e(s(t))}var s=or(n),o=or(1/n);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(s)),r):i},r.ticks=function(t){return ir(i,t)},r.tickFormat=function(t,e){return rr(i,t,e)},r.nice=function(t){return r.domain(er(i,t))},r.exponent=function(t){return arguments.length?(s=or(n=t),o=or(1/n),e.domain(i.map(s)),r):n},r.copy=function(){return t(e.copy(),n,i)},tr(r,e)}(qr.scale.linear(),1,[0,1])},qr.scale.sqrt=function(){return qr.scale.pow().exponent(.5)},qr.scale.ordinal=function(){return function t(a,l){function c(t){return u[((r.get(t)||("range"===l.t?r.set(t,a.push(t)):NaN))-1)%u.length]}function h(e,n){return qr.range(a.length).map(function(t){return e+n*t})}var r,u,d;return c.domain=function(t){if(!arguments.length)return a;a=[],r=new y;for(var e,n=-1,i=t.length;++n<i;)r.has(e=t[n])||r.set(e,a.push(e));return c[l.t].apply(c,l.a)},c.range=function(t){return arguments.length?(u=t,d=0,l={t:"range",a:arguments},c):u},c.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=a.length<2?(n=(n+i)/2,0):(i-n)/(a.length-1+e);return u=h(n+r*e/2,r),d=0,l={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=a.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(a.length-1+e)|0;return u=h(n+Math.round(r*e/2+(i-n-(a.length-1+e)*r)/2),r),d=0,l={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],s=(t[1-i]-r)/(a.length-e+2*n);return u=h(r+s*n,s),i&&u.reverse(),d=s*(1-e),l={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],s=t[1-i],o=Math.floor((s-r)/(a.length-e+2*n));return u=h(r+Math.round((s-r-(a.length-e)*o)/2),o),i&&u.reverse(),d=Math.round(o*(1-e)),l={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return d},c.rangeExtent=function(){return Zi(l.a[0])},c.copy=function(){return t(a,l)},c.domain(a)}([],{t:"range",a:[[]]})},qr.scale.category10=function(){return qr.scale.ordinal().range(ha)},qr.scale.category20=function(){return qr.scale.ordinal().range(ua)},qr.scale.category20b=function(){return qr.scale.ordinal().range(da)},qr.scale.category20c=function(){return qr.scale.ordinal().range(fa)};var ha=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(pt),ua=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(pt),da=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(pt),fa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(pt);qr.scale.quantile=function(){return function t(n,i){function e(){var t=0,e=i.length;for(s=[];++t<e;)s[t-1]=qr.quantile(n,t/e);return r}function r(t){return isNaN(t=+t)?void 0:i[qr.bisect(s,t)]}var s;return r.domain=function(t){return arguments.length?(n=t.map(c).filter(h).sort(o),e()):n},r.range=function(t){return arguments.length?(i=t,e()):i},r.quantiles=function(){return s},r.invertExtent=function(t){return(t=i.indexOf(t))<0?[NaN,NaN]:[0<t?s[t-1]:n[0],t<s.length?s[t]:n[n.length-1]]},r.copy=function(){return t(n,i)},e()}([],[])},qr.scale.quantize=function(){return function t(e,n,i){function r(t){return i[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function s(){return o=i.length/(n-e),a=i.length-1,r}var o,a;return r.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]},r.range=function(t){return arguments.length?(i=t,s()):i},r.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/o+e,t+1/o]},r.copy=function(){return t(e,n,i)},s()}(0,1,[0,1])},qr.scale.threshold=function(){return function t(e,n){function i(t){return t<=t?n[qr.bisect(e,t)]:void 0}return i.domain=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=t,i):n},i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},i.copy=function(){return t(e,n)},i}([.5],[0,1])},qr.scale.identity=function(){return function t(n){function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n},e.ticks=function(t){return ir(n,t)},e.tickFormat=function(t,e){return rr(n,t,e)},e.copy=function(){return t(n)},e}([0,1])},qr.svg={},qr.svg.arc=function(){function e(){var t=Math.max(0,+N.apply(this,arguments)),e=Math.max(0,+z.apply(this,arguments)),n=W.apply(this,arguments)-Es,i=V.apply(this,arguments)-Es,r=Math.abs(i-n),s=i<n?0:1;if(e<t&&(o=e,e=t,t=o),Cs<=r)return I(e,s)+(t?I(t,1-s):"")+"Z";var o,a,l,c,h,u,d,f,p,g,m,v,y=0,b=0,_=[];if((c=(+U.apply(this,arguments)||0)/2)&&(l=j===pa?Math.sqrt(t*t+e*e):+j.apply(this,arguments),s||(b*=-1),e&&(b=Q(l/e*Math.sin(c))),t&&(y=Q(l/t*Math.sin(c)))),e){h=e*Math.cos(n+b),u=e*Math.sin(n+b),d=e*Math.cos(i-b),f=e*Math.sin(i-b);var w=Math.abs(i-n-2*b)<=xs?0:1;if(b&&fr(h,u,d,f)===s^w){var x=(n+i)/2;h=e*Math.cos(x),u=e*Math.sin(x),d=f=null}}else h=u=0;if(t){p=t*Math.cos(i-y),g=t*Math.sin(i-y),m=t*Math.cos(n+y),v=t*Math.sin(n+y);var A=Math.abs(n-i+2*y)<=xs?0:1;if(y&&fr(p,g,m,v)===1-s^A){var C=(n+i)/2;p=t*Math.cos(C),g=t*Math.sin(C),m=v=null}}else p=g=0;if(_s<r&&.001<(o=Math.min(Math.abs(e-t)/2,+H.apply(this,arguments)))){a=t<e^s?0:1;var E=o,k=o;if(r<xs){var S=null==m?[p,g]:null==d?[h,u]:pn([h,u],[m,v],[d,f],[p,g]),F=h-S[0],T=u-S[1],D=d-S[0],M=f-S[1],P=1/Math.sin(Math.acos((F*D+T*M)/(Math.sqrt(F*F+T*T)*Math.sqrt(D*D+M*M)))/2),L=Math.sqrt(S[0]*S[0]+S[1]*S[1]);k=Math.min(o,(t-L)/(P-1)),E=Math.min(o,(e-L)/(P+1))}if(null!=d){var B=pr(null==m?[p,g]:[m,v],[h,u],e,E,s),$=pr([d,f],[p,g],e,E,s);o===E?_.push("M",B[0],"A",E,",",E," 0 0,",a," ",B[1],"A",e,",",e," 0 ",1-s^fr(B[1][0],B[1][1],$[1][0],$[1][1]),",",s," ",$[1],"A",E,",",E," 0 0,",a," ",$[0]):_.push("M",B[0],"A",E,",",E," 0 1,",a," ",$[0])}else _.push("M",h,",",u);if(null!=m){var R=pr([h,u],[m,v],t,-k,s),O=pr([p,g],null==d?[h,u]:[d,f],t,-k,s);o===k?_.push("L",O[0],"A",k,",",k," 0 0,",a," ",O[1],"A",t,",",t," 0 ",s^fr(O[1][0],O[1][1],R[1][0],R[1][1]),",",1-s," ",R[1],"A",k,",",k," 0 0,",a," ",R[0]):_.push("L",O[0],"A",k,",",k," 0 0,",a," ",R[0])}else _.push("L",p,",",g)}else _.push("M",h,",",u),null!=d&&_.push("A",e,",",e," 0 ",w,",",s," ",d,",",f),_.push("L",p,",",g),null!=m&&_.push("A",t,",",t," 0 ",A,",",1-s," ",m,",",v);return _.push("Z"),_.join("")}function I(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var N=lr,z=cr,H=ar,j=pa,W=hr,V=ur,U=dr;return e.innerRadius=function(t){return arguments.length?(N=wt(t),e):N},e.outerRadius=function(t){return arguments.length?(z=wt(t),e):z},e.cornerRadius=function(t){return arguments.length?(H=wt(t),e):H},e.padRadius=function(t){return arguments.length?(j=t==pa?pa:wt(t),e):j},e.startAngle=function(t){return arguments.length?(W=wt(t),e):W},e.endAngle=function(t){return arguments.length?(V=wt(t),e):V},e.padAngle=function(t){return arguments.length?(U=wt(t),e):U},e.centroid=function(){var t=(+N.apply(this,arguments)+ +z.apply(this,arguments))/2,e=(+W.apply(this,arguments)+ +V.apply(this,arguments))/2-Es;return[Math.cos(e)*t,Math.sin(e)*t]},e};var pa="auto";qr.svg.line=function(){return gr(B)};var ga=qr.map({linear:mr,"linear-closed":vr,step:function(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return 1<n&&r.push("H",i[0]),r.join("")},"step-before":yr,"step-after":br,basis:xr,"basis-open":function(t){if(t.length<4)return mr(t);for(var e,n=[],i=-1,r=t.length,s=[0],o=[0];++i<3;)e=t[i],s.push(e[0]),o.push(e[1]);for(n.push(Ar(ya,s)+","+Ar(ya,o)),--i;++i<r;)e=t[i],s.shift(),s.push(e[0]),o.shift(),o.push(e[1]),Cr(n,s,o);return n.join("")},"basis-closed":function(t){for(var e,n,i=-1,r=t.length,s=r+4,o=[],a=[];++i<4;)n=t[i%r],o.push(n[0]),a.push(n[1]);for(e=[Ar(ya,o),",",Ar(ya,a)],--i;++i<s;)n=t[i%r],o.shift(),o.push(n[0]),a.shift(),a.push(n[1]),Cr(e,o,a);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,r,s=t[0][0],o=t[0][1],a=t[n][0]-s,l=t[n][1]-o,c=-1;++c<=n;)r=c/n,(i=t[c])[0]=e*i[0]+(1-e)*(s+r*a),i[1]=e*i[1]+(1-e)*(o+r*l);return xr(t)},cardinal:function(t,e){return t.length<3?mr(t):t[0]+_r(t,wr(t,e))},"cardinal-open":function(t,e){return t.length<4?mr(t):t[1]+_r(t.slice(1,-1),wr(t,e))},"cardinal-closed":function(t,e){return t.length<3?vr(t):t[0]+_r((t.push(t[0]),t),wr([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?mr(t):t[0]+_r(t,kr(t))}});ga.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var ma=[0,2/3,1/3,0],va=[0,1/3,2/3,0],ya=[0,1/6,2/3,1/6];qr.svg.line.radial=function(){var t=gr(Sr);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(yr.reverse=br).reverse=yr,qr.svg.area=function(){return Fr(B)},qr.svg.area.radial=function(){var t=Fr(Sr);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},qr.svg.chord=function(){function e(t,e){var n,i,r=o(this,c,t,e),s=o(this,h,t,e);return"M"+r.p0+a(r.r,r.p1,r.a1-r.a0)+(i=s,(n=r).a0==i.a0&&n.a1==i.a1?l(r.r,r.p1,r.r,r.p0):l(r.r,r.p1,s.r,s.p0)+a(s.r,s.p1,s.a1-s.a0)+l(s.r,s.p1,r.r,r.p0))+"Z"}function o(t,e,n,i){var r=e.call(t,n,i),s=u.call(t,r,i),o=d.call(t,r,i)-Es,a=f.call(t,r,i)-Es;return{r:s,a0:o,a1:a,p0:[s*Math.cos(o),s*Math.sin(o)],p1:[s*Math.cos(a),s*Math.sin(a)]}}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(xs<n)+",1 "+e}function l(t,e,n,i){return"Q 0,0 "+i}var c=tn,h=en,u=Tr,d=hr,f=ur;return e.radius=function(t){return arguments.length?(u=wt(t),e):u},e.source=function(t){return arguments.length?(c=wt(t),e):c},e.target=function(t){return arguments.length?(h=wt(t),e):h},e.startAngle=function(t){return arguments.length?(d=wt(t),e):d},e.endAngle=function(t){return arguments.length?(f=wt(t),e):f},e},qr.svg.diagonal=function(){function e(t,e){var n=o.call(this,t,e),i=a.call(this,t,e),r=(n.y+i.y)/2,s=[n,{x:n.x,y:r},{x:i.x,y:r},i];return"M"+(s=s.map(l))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var o=tn,a=en,l=Dr;return e.source=function(t){return arguments.length?(o=wt(t),e):o},e.target=function(t){return arguments.length?(a=wt(t),e):a},e.projection=function(t){return arguments.length?(l=t,e):l},e},qr.svg.diagonal.radial=function(){var t=qr.svg.diagonal(),e=Dr,n=t.projection;return t.projection=function(t){return arguments.length?n((i=e=t,function(){var t=i.apply(this,arguments),e=t[0],n=t[1]-Es;return[e*Math.cos(n),e*Math.sin(n)]})):e;var i},t},qr.svg.symbol=function(){function e(t,e){return(ba.get(n.call(this,t,e))||Lr)(i.call(this,t,e))}var n=Pr,i=Mr;return e.type=function(t){return arguments.length?(n=wt(t),e):n},e.size=function(t){return arguments.length?(i=wt(t),e):i},e};var ba=qr.map({circle:Lr,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*wa)),n=e*wa;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/_a),n=e*_a/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/_a),n=e*_a/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});qr.svg.symbolTypes=ba.keys();var _a=Math.sqrt(3),wa=Math.tan(30*ks);ds.transition=function(t){for(var e,n,i=xa||++ka,r=Ir(t),s=[],o=Aa||{time:Date.now(),ease:Qn,delay:0,duration:250},a=-1,l=this.length;++a<l;){s.push(e=[]);for(var c=this[a],h=-1,u=c.length;++h<u;)(n=c[h])&&Nr(n,h,r,i,o),e.push(n)}return $r(s,r,i)},ds.interrupt=function(t){return this.each(null==t?Ca:Br(Ir(t)))};var xa,Aa,Ca=Br(Ir()),Ea=[],ka=0;Ea.call=ds.call,Ea.empty=ds.empty,Ea.node=ds.node,Ea.size=ds.size,qr.transition=function(t,e){return t&&t.transition?xa?t.transition(e):t:qr.selection().transition(t)},(qr.transition.prototype=Ea).select=function(t){var e,n,i,r=this.id,s=this.namespace,o=[];t=A(t);for(var a=-1,l=this.length;++a<l;){o.push(e=[]);for(var c=this[a],h=-1,u=c.length;++h<u;)(i=c[h])&&(n=t.call(i,i.__data__,h,a))?("__data__"in i&&(n.__data__=i.__data__),Nr(n,h,s,r,i[s][r]),e.push(n)):e.push(null)}return $r(o,s,r)},Ea.selectAll=function(t){var e,n,i,r,s,o=this.id,a=this.namespace,l=[];t=C(t);for(var c=-1,h=this.length;++c<h;)for(var u=this[c],d=-1,f=u.length;++d<f;)if(i=u[d]){s=i[a][o],n=t.call(i,i.__data__,d,c),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&Nr(r,p,a,o,s),e.push(r)}return $r(l,a,o)},Ea.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=z(t));for(var r=0,s=this.length;r<s;r++){i.push(e=[]);for(var o,a=0,l=(o=this[r]).length;a<l;a++)(n=o[a])&&t.call(n,n.__data__,a,r)&&e.push(n)}return $r(i,this.namespace,this.id)},Ea.tween=function(e,n){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(e):H(this,null==n?function(t){t[r][i].tween.remove(e)}:function(t){t[r][i].tween.set(e,n)})},Ea.attr=function(t,e){function i(){this.removeAttribute(o)}function r(){this.removeAttributeNS(o.space,o.local)}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var s="transform"==t?li:Yn,o=qr.ns.qualify(t);return Rr(this,"attr."+t,e,o.local?function(n){return null==n?r:(n+="",function(){var e,t=this.getAttributeNS(o.space,o.local);return t!==n&&(e=s(t,n),function(t){this.setAttributeNS(o.space,o.local,e(t))})})}:function(n){return null==n?i:(n+="",function(){var e,t=this.getAttribute(o);return t!==n&&(e=s(t,n),function(t){this.setAttribute(o,e(t))})})})},Ea.attrTween=function(t,i){var r=qr.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,e){var n=i.call(this,t,e,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}:function(t,e){var n=i.call(this,t,e,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}})},Ea.style=function(i,t,r){function e(){this.style.removeProperty(i)}var n=arguments.length;if(n<3){if("string"!=typeof i){for(r in n<2&&(t=""),i)this.style(r,i[r],t);return this}r=""}return Rr(this,"style."+i,t,function(n){return null==n?e:(n+="",function(){var e,t=L(this).getComputedStyle(this,null).getPropertyValue(i);return t!==n&&(e=Yn(t,n),function(t){this.style.setProperty(i,e(t),r)})})})},Ea.styleTween=function(i,r,s){return arguments.length<3&&(s=""),this.tween("style."+i,function(t,e){var n=r.call(this,t,e,L(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(t){this.style.setProperty(i,n(t),s)}})},Ea.text=function(t){return Rr(this,"text",t,Or)},Ea.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Ea.ease=function(e){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof e&&(e=qr.ease.apply(qr,arguments)),H(this,function(t){t[i][n].ease=e}))},Ea.delay=function(i){var r=this.id,s=this.namespace;return arguments.length<1?this.node()[s][r].delay:H(this,"function"==typeof i?function(t,e,n){t[s][r].delay=+i.call(t,t.__data__,e,n)}:(i=+i,function(t){t[s][r].delay=i}))},Ea.duration=function(i){var r=this.id,s=this.namespace;return arguments.length<1?this.node()[s][r].duration:H(this,"function"==typeof i?function(t,e,n){t[s][r].duration=Math.max(1,i.call(t,t.__data__,e,n))}:(i=Math.max(1,i),function(t){t[s][r].duration=i}))},Ea.each=function(i,n){var r=this.id,s=this.namespace;if(arguments.length<2){var t=Aa,e=xa;try{xa=r,H(this,function(t,e,n){Aa=t[s][r],i.call(t,t.__data__,e,n)})}finally{Aa=t,xa=e}}else H(this,function(t){var e=t[s][r];(e.event||(e.event=qr.dispatch("start","end","interrupt"))).on(i,n)});return this},Ea.transition=function(){for(var t,e,n,i=this.id,r=++ka,s=this.namespace,o=[],a=0,l=this.length;a<l;a++){o.push(t=[]);for(var c,h=0,u=(c=this[a]).length;h<u;h++)(e=c[h])&&Nr(e,h,s,r,{time:(n=e[s][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return $r(o,s,r)},qr.svg.axis=function(){function n(t){t.each(function(){var t,e=qr.select(this),n=this.__chart__||S,i=this.__chart__=S.copy(),r=null==L?i.ticks?i.ticks.apply(i,P):i.domain():L,s=null==k?i.tickFormat?i.tickFormat.apply(i,P):B:k,o=e.selectAll(".tick").data(r,i),a=o.enter().insert("g",".domain").attr("class","tick").style("opacity",_s),l=qr.transition(o.exit()).style("opacity",_s).remove(),c=qr.transition(o.order()).style("opacity",1),h=Math.max(T,0)+M,u=Gi(i),d=e.selectAll(".domain").data([0]),f=(d.enter().append("path").attr("class","domain"),qr.transition(d));a.append("line"),a.append("text");var p,g,m,v,y=a.select("line"),b=c.select("line"),_=o.select("text").text(s),w=a.select("text"),x=c.select("text"),A="top"===F||"left"===F?-1:1;if("bottom"===F||"top"===F?(t=zr,p="x",m="y",g="x2",v="y2",_.attr("dy",A<0?"0em":".71em").style("text-anchor","middle"),f.attr("d","M"+u[0]+","+A*D+"V0H"+u[1]+"V"+A*D)):(t=Hr,p="y",m="x",g="y2",v="x2",_.attr("dy",".32em").style("text-anchor",A<0?"end":"start"),f.attr("d","M"+A*D+","+u[0]+"H0V"+u[1]+"H"+A*D)),y.attr(v,A*T),w.attr(m,A*h),b.attr(g,0).attr(v,A*T),x.attr(p,0).attr(m,A*h),i.rangeBand){var C=i,E=C.rangeBand()/2;n=i=function(t){return C(t)+E}}else n.rangeBand?n=i:l.call(t,i,n);a.call(t,n,i),c.call(t,i,i)})}var k,S=qr.scale.linear(),F=Sa,T=6,D=6,M=3,P=[10],L=null;return n.scale=function(t){return arguments.length?(S=t,n):S},n.orient=function(t){return arguments.length?(F=t in Fa?t+"":Sa,n):F},n.ticks=function(){return arguments.length?(P=Gr(arguments),n):P},n.tickValues=function(t){return arguments.length?(L=t,n):L},n.tickFormat=function(t){return arguments.length?(k=t,n):k},n.tickSize=function(t){var e=arguments.length;return e?(T=+t,D=+arguments[e-1],n):T},n.innerTickSize=function(t){return arguments.length?(T=+t,n):T},n.outerTickSize=function(t){return arguments.length?(D=+t,n):D},n.tickPadding=function(t){return arguments.length?(M=+t,n):M},n.tickSubdivide=function(){return arguments.length&&n},n};var Sa="bottom",Fa={top:1,right:1,bottom:1,left:1};qr.svg.brush=function(){function y(t){t.each(function(){var t=qr.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(a,B);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ta[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",y.empty()?"none":null);var i,r=qr.transition(t),s=qr.transition(e);E&&(i=Gi(E),s.attr("x",i[0]).attr("width",i[1]-i[0]),_(r)),k&&(i=Gi(k),s.attr("y",i[0]).attr("height",i[1]-i[0]),w(r)),b(r)})}function b(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+S[+/e$/.test(t)]+","+F[+/^s/.test(t)]+")"})}function _(t){t.select(".extent").attr("x",S[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",S[1]-S[0])}function w(t){t.select(".extent").attr("y",F[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",F[1]-F[0])}function o(){function t(){var t=qr.mouse(r),e=!1;i&&(t[0]+=i[0],t[1]+=i[1]),d||(qr.event.altKey?(u||(u=[(S[0]+S[1])/2,(F[0]+F[1])/2]),p[0]=S[+(t[0]<u[0])],p[1]=F[+(t[1]<u[1])]):u=null),c&&n(t,E,0)&&(_(a),e=!0),h&&n(t,k,1)&&(w(a),e=!0),e&&(b(a),o({type:"brush",mode:d?"move":"resize"}))}function n(t,e,n){var i,r,s=Gi(e),o=s[0],a=s[1],l=p[n],c=n?F:S,h=c[1]-c[0];return d&&(o-=l,a-=h+l),i=(n?D:T)?Math.max(o,Math.min(a,t[n])):t[n],d?r=(i+=l)+h:(u&&(l=Math.max(o,Math.min(a,2*u[n]-i))),l<i?(r=i,i=l):r=l),c[0]!=i||c[1]!=r?(n?A=null:x=null,c[0]=i,c[1]=r,!0):void 0}function e(){t(),a.style("pointer-events","all").selectAll(".resize").style("display",y.empty()?"none":null),qr.select("body").style("cursor",null),g.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),f(),o({type:"brushend"})}var u,i,r=this,s=qr.select(qr.event.target),o=C.of(r,arguments),a=qr.select(r),l=s.datum(),c=!/^(n|s)$/.test(l)&&E,h=!/^(e|w)$/.test(l)&&k,d=s.classed("extent"),f=Y(r),p=qr.mouse(r),g=qr.select(L(r)).on("keydown.brush",function(){32==qr.event.keyCode&&(d||(u=null,p[0]-=S[1],p[1]-=F[1],d=2),$())}).on("keyup.brush",function(){32==qr.event.keyCode&&2==d&&(p[0]+=S[1],p[1]+=F[1],d=0,$())});if(qr.event.changedTouches?g.on("touchmove.brush",t).on("touchend.brush",e):g.on("mousemove.brush",t).on("mouseup.brush",e),a.interrupt().selectAll("*").interrupt(),d)p[0]=S[0]-p[0],p[1]=F[0]-p[1];else if(l){var m=+/w$/.test(l),v=+/^n/.test(l);i=[S[1-m]-p[0],F[1-v]-p[1]],p[0]=S[m],p[1]=F[v]}else qr.event.altKey&&(u=p.slice());a.style("pointer-events","none").selectAll(".resize").style("display",null),qr.select("body").style("cursor",s.style("cursor")),o({type:"brushstart"}),t()}var x,A,C=R(y,"brushstart","brush","brushend"),E=null,k=null,S=[0,0],F=[0,0],T=!0,D=!0,a=Da[0];return y.event=function(t){t.each(function(){var i=C.of(this,arguments),r={x:S,y:F,i:x,j:A},t=this.__chart__||r;this.__chart__=r,xa?qr.select(this).transition().each("start.brush",function(){x=t.i,A=t.j,S=t.x,F=t.y,i({type:"brushstart"})}).tween("brush:brush",function(){var e=qn(S,r.x),n=qn(F,r.y);return x=A=null,function(t){S=r.x=e(t),F=r.y=n(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){x=r.i,A=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},y.x=function(t){return arguments.length?(a=Da[!(E=t)<<1|!k],y):E},y.y=function(t){return arguments.length?(a=Da[!E<<1|!(k=t)],y):k},y.clamp=function(t){return arguments.length?(E&&k?(T=!!t[0],D=!!t[1]):E?T=!!t:k&&(D=!!t),y):E&&k?[T,D]:E?T:k?D:null},y.extent=function(t){var e,n,i,r,s;return arguments.length?(E&&(e=t[0],n=t[1],k&&(e=e[0],n=n[0]),x=[e,n],E.invert&&(e=E(e),n=E(n)),n<e&&(s=e,e=n,n=s),(e!=S[0]||n!=S[1])&&(S=[e,n])),k&&(i=t[0],r=t[1],E&&(i=i[1],r=r[1]),A=[i,r],k.invert&&(i=k(i),r=k(r)),r<i&&(s=i,i=r,r=s),(i!=F[0]||r!=F[1])&&(F=[i,r])),y):(E&&(x?(e=x[0],n=x[1]):(e=S[0],n=S[1],E.invert&&(e=E.invert(e),n=E.invert(n)),n<e&&(s=e,e=n,n=s))),k&&(A?(i=A[0],r=A[1]):(i=F[0],r=F[1],k.invert&&(i=k.invert(i),r=k.invert(r)),r<i&&(s=i,i=r,r=s))),E&&k?[[e,i],[n,r]]:E?[e,n]:k&&[i,r])},y.clear=function(){return y.empty()||(S=[0,0],F=[0,0],x=A=null),y},y.empty=function(){return!!E&&S[0]==S[1]||!!k&&F[0]==F[1]},qr.rebind(y,C,"on")};var Ta={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Da=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ma=Gs.format=eo.timeFormat,Pa=Ma.utc,La=Pa("%Y-%m-%dT%H:%M:%S.%LZ");Ma.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?jr:La,jr.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},jr.toString=La.toString,Gs.second=Mt(function(t){return new Ks(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Gs.seconds=Gs.second.range,Gs.seconds.utc=Gs.second.utc.range,Gs.minute=Mt(function(t){return new Ks(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Gs.minutes=Gs.minute.range,Gs.minutes.utc=Gs.minute.utc.range,Gs.hour=Mt(function(t){var e=t.getTimezoneOffset()/60;return new Ks(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Gs.hours=Gs.hour.range,Gs.hours.utc=Gs.hour.utc.range,Gs.month=Mt(function(t){return(t=Gs.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Gs.months=Gs.month.range,Gs.months.utc=Gs.month.utc.range;var Ba=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],$a=[[Gs.second,1],[Gs.second,5],[Gs.second,15],[Gs.second,30],[Gs.minute,1],[Gs.minute,5],[Gs.minute,15],[Gs.minute,30],[Gs.hour,1],[Gs.hour,3],[Gs.hour,6],[Gs.hour,12],[Gs.day,1],[Gs.day,2],[Gs.week,1],[Gs.month,1],[Gs.month,3],[Gs.year,1]],Ra=Ma.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",ye]]),Oa={range:function(t,e,n){return qr.range(Math.ceil(t/n)*n,+e,n).map(Vr)},floor:B,ceil:B};$a.year=Gs.year,Gs.scale=function(){return Wr(qr.scale.linear(),$a,Ra)};var Ia=$a.map(function(t){return[t[0].utc,t[1]]}),Na=Pa.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",ye]]);Ia.year=Gs.year.utc,Gs.scale.utc=function(){return Wr(qr.scale.linear(),Ia,Na)},qr.text=xt(function(t){return t.responseText}),qr.json=function(t,e){return At(t,"application/json",Ur,e)},qr.html=function(t,e){return At(t,"text/html",Yr,e)},qr.xml=xt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=qr,define(qr)):"object"==typeof module&&module.exports?module.exports=qr:this.d3=qr}(),function(){var pt={dev:!1};pt.tooltip=pt.tooltip||{},pt.utils=pt.utils||{},pt.models=pt.models||{},pt.charts={},pt.logs={},pt.dom={},"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3")),pt.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),pt.dev&&(pt.dispatch.on("render_start",function(t){pt.logs.startTime=+new Date}),pt.dispatch.on("render_end",function(t){pt.logs.endTime=+new Date,pt.logs.totalTime=pt.logs.endTime-pt.logs.startTime,pt.log("total",pt.logs.totalTime)})),pt.log=function(){if(pt.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(pt.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){Function.prototype.bind.call(console.log,console).apply(console,arguments)}return arguments[arguments.length-1]},pt.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},pt.render=function(i){i=i||1,pt.render.active=!0,pt.dispatch.render_start();var r=function(){for(var t,e,n=0;n<i&&(e=pt.render.queue[n]);n++)t=e.generate(),typeof e.callback==typeof Function&&e.callback(t);pt.render.queue.splice(0,n),pt.render.queue.length?setTimeout(r):(pt.dispatch.render_end(),pt.render.active=!1)};setTimeout(r)},pt.render.active=!1,pt.render.queue=[],pt.addGraph=function(t){typeof t==typeof Function&&(t={generate:t,callback:arguments[1]}),pt.render.queue.push(t),pt.render.active||pt.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=pt),"undefined"!=typeof window&&(window.nv=pt),pt.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},pt.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},pt.interactiveGuideline=function(){"use strict";function l(t){t.each(function(t){function e(){var t=d3.event.clientX-this.getBoundingClientRect().left,e=d3.event.clientY-this.getBoundingClientRect().top,n=!0,i=!1;if(g&&(t=d3.event.offsetX,e=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(n=!1),d3.event.target.className.baseVal.match("nv-legend")&&(i=!0)),n&&(t-=c.left,e-=c.top),"mouseout"===d3.event.type||t<0||e<0||o<t||a<e||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||i){if(g&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(p.nvPointerEventsClass)))return;return u.elementMouseout({mouseX:t,mouseY:e}),l.renderGuideLine(null),void p.hidden(!0)}p.hidden(!1);var r=void 0;if("function"==typeof h.rangeBands){var s=d3.bisect(h.range(),t)-1;if(!(h.range()[s]+h.rangeBand()>=t))return u.elementMouseout({mouseX:t,mouseY:e}),l.renderGuideLine(null),void p.hidden(!0);r=h.domain()[d3.bisect(h.range(),t)-1]}else r=h.invert(t);u.elementMousemove({mouseX:t,mouseY:e,pointXValue:r}),"dblclick"===d3.event.type&&u.elementDblclick({mouseX:t,mouseY:e,pointXValue:r}),"click"===d3.event.type&&u.elementClick({mouseX:t,mouseY:e,pointXValue:r}),"mousedown"===d3.event.type&&u.elementMouseDown({mouseX:t,mouseY:e,pointXValue:r}),"mouseup"===d3.event.type&&u.elementMouseUp({mouseX:t,mouseY:e,pointXValue:r})}var n=d3.select(this),o=r||960,a=s||400,i=n.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([t]);i.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),f&&(f.on("touchmove",e).on("mousemove",e,!0).on("mouseout",e,!0).on("mousedown",e,!0).on("mouseup",e,!0).on("dblclick",e).on("click",e),l.guideLine=null,l.renderGuideLine=function(e){d&&(l.guideLine&&l.guideLine.attr("x1")===e||pt.dom.write(function(){var t=i.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[pt.utils.NaNtoZero(e)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",a).attr("y2",0),t.exit().remove()}))})})}var c={left:0,top:0},r=null,s=null,h=d3.scale.linear(),u=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),d=!0,f=null,p=pt.models.tooltip(),g=window.ActiveXObject;return p.duration(0).hideDelay(0).hidden(!1),l.dispatch=u,l.tooltip=p,l.margin=function(t){return arguments.length?(c.top=void 0!==t.top?t.top:c.top,c.left=void 0!==t.left?t.left:c.left,l):c},l.width=function(t){return arguments.length?(r=t,l):r},l.height=function(t){return arguments.length?(s=t,l):s},l.xScale=function(t){return arguments.length?(h=t,l):h},l.showGuideLine=function(t){return arguments.length?(d=t,l):d},l.svgContainer=function(t){return arguments.length?(f=t,l):f},l},pt.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var i;i="function"!=typeof n?function(t){return t.x}:n;var r=d3.bisector(function(t,e){return i(t)-e}).left,s=d3.max([0,r(t,e)-1]),o=i(t[s]);if(void 0===o&&(o=s),o===e)return s;var a=d3.min([s+1,t.length-1]),l=i(t[a]);return void 0===l&&(l=a),Math.abs(l-e)>=Math.abs(o-e)?s:a},pt.nearestValueIndex=function(t,i,r){"use strict";var s=1/0,o=null;return t.forEach(function(t,e){var n=Math.abs(i-t);null!=t&&n<=s&&n<r&&(s=n,o=e)}),o},pt.models.tooltip=function(){"use strict";function e(){return o&&t(i)?(pt.dom.write(function(){d&&d.node()||((d=d3.select(document.body).selectAll("#"+n).data([1])).enter().append("div").attr("class","nvtooltip "+(s||"xy-tooltip")).attr("id",n).style("top",0).style("left",0).style("opacity",0).style("position","absolute").selectAll("div, table, td, tr").classed(g,!0).classed(g,!0),d.exit().remove());var t=b(i,d.node());t&&(d.node().innerHTML=t),w()}),e):void 0}var n="nvtooltip-"+Math.floor(1e5*Math.random()),i=null,l="w",c=25,r=0,s=null,h=!0,u=200,d=null,f={left:null,top:null},o=!0,p=100,a=!0,g="nv-pointer-events-none",m=function(t,e,n){return t},v=function(t){return t},y=function(t,e){return t},b=function(t,e){if(null===t)return"";var n=d3.select(document.createElement("table"));a&&n.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(v(t.value));var i=n.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});i.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),i.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return y(t.key,e)}),i.append("td").classed("value",!0).html(function(t,e){return m(t.value,e,t)}),i.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+d3.format("%")(t.percent)+")"}),i.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var r=n.node().outerHTML;return void 0!==t.footer&&(r+="<div class='footer'>"+t.footer+"</div>"),r},_=function(){var t={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},t=function(t){if(t&&t.series){if(pt.utils.isArray(t.series))return!0;if(pt.utils.isObject(t.series))return t.series=[t.series],!0}return!1},w=function(){pt.dom.read(function(){var t=_(),e=function(t){var e,n,i,r=d.node().offsetHeight,s=d.node().offsetWidth,o=document.documentElement.clientWidth,a=document.documentElement.clientHeight;switch(l){case"e":e=-s-c,n=-r/2,t.left+e<0&&(e=c),(i=t.top+n)<0&&(n-=i),(i=t.top+n+r)>a&&(n-=i-a);break;case"w":e=c,n=-r/2,t.left+e+s>o&&(e=-s-c),(i=t.top+n)<0&&(n-=i),(i=t.top+n+r)>a&&(n-=i-a);break;case"n":e=-s/2-5,n=c,t.top+n+r>a&&(n=-r-c),(i=t.left+e)<0&&(e-=i),(i=t.left+e+s)>o&&(e-=i-o);break;case"s":e=-s/2,n=-r-c,t.top+n<0&&(n=c),(i=t.left+e)<0&&(e-=i),(i=t.left+e+s)>o&&(e-=i-o);break;case"center":e=-s/2,n=-r/2;break;default:n=e=0}return{left:e,top:n}}(t),n=t.left+e.left,i=t.top+e.top;if(h)d.interrupt().transition().delay(u).duration(0).style("opacity",0);else{var r="translate("+f.left+"px, "+f.top+"px)",s="translate("+Math.round(n)+"px, "+Math.round(i)+"px)",o=d3.interpolateString(r,s),a=d.style("opacity")<.1;d.interrupt().transition().duration(a?0:p).styleTween("transform",function(t){return o},"important").styleTween("-webkit-transform",function(t){return o}).style("-ms-transform",s).style("opacity",1)}f.left=n,f.top=i})};return e.nvPointerEventsClass=g,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{duration:{get:function(){return p},set:function(t){p=t}},gravity:{get:function(){return l},set:function(t){l=t}},distance:{get:function(){return c},set:function(t){c=t}},snapDistance:{get:function(){return r},set:function(t){r=t}},classes:{get:function(){return s},set:function(t){s=t}},enabled:{get:function(){return o},set:function(t){o=t}},hideDelay:{get:function(){return u},set:function(t){u=t}},contentGenerator:{get:function(){return b},set:function(t){b=t}},valueFormatter:{get:function(){return m},set:function(t){m=t}},headerFormatter:{get:function(){return v},set:function(t){v=t}},keyFormatter:{get:function(){return y},set:function(t){y=t}},headerEnabled:{get:function(){return a},set:function(t){a=t}},position:{get:function(){return _},set:function(t){_=t}},chartContainer:{get:function(){return document.body},set:function(t){pt.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){pt.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){pt.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return h},set:function(t){h!=t&&(h=!!t,e())}},data:{get:function(){return i},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),i=t}},node:{get:function(){return d.node()},set:function(t){}},id:{get:function(){return n},set:function(t){}}}),pt.utils.initOptions(e),e},pt.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight):document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),t},pt.utils.isArray=Array.isArray,pt.utils.isObject=function(t){return null!==t&&"object"==typeof t},pt.utils.isFunction=function(t){return"function"==typeof t},pt.utils.isDate=function(t){return"[object Date]"===toString.call(t)},pt.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},pt.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):pt.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},pt.utils.getColor=function(t){if(void 0===t)return pt.utils.defaultColor();if(pt.utils.isArray(t)){var i=d3.scale.ordinal().range(t);return function(t,e){var n=void 0===e?t:e;return t.color||i(n)}}return t},pt.utils.defaultColor=function(){return pt.utils.getColor(d3.scale.category20().range())},pt.utils.customTheme=function(i,r,s){r=r||function(t){return t.key};var o=(s=s||d3.scale.category20().range()).length;return function(t,e){var n=r(t);return pt.utils.isFunction(i[n])?i[n]():void 0!==i[n]?i[n]:(o||(o=s.length),s[o-=1])}},pt.utils.pjax=function(n,i){var t=function(t){d3.html(t,function(t){var e=d3.select(i).node();e.parentNode.replaceChild(d3.select(t).select(i).node(),e),pt.utils.pjax(n,i)})};d3.selectAll(n).on("click",function(){history.pushState(this.href,this.textContent,this.href),t(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&t(d3.event.state)})},pt.utils.calcApproxTextWidth=function(t){if(pt.utils.isFunction(t.style)&&pt.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return pt.utils.NaNtoZero(n*e*.5)}return 0},pt.utils.NaNtoZero=function(t){return!pt.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-1/0?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},pt.utils.renderWatch=function(t,e){if(!(this instanceof pt.utils.renderWatch))return new pt.utils.renderWatch(t,e);var s=void 0!==e?e:250,o=[],a=this;this.models=function(t){return(t=[].slice.call(arguments,0)).forEach(function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",function(t){e.__rendered=!0,a.renderEnd("model")}),o.indexOf(t)<0&&o.push(t)}),this},this.reset=function(t){void 0!==t&&(s=t),o=[]},this.transition=function(n,i,t){if(t=1<(i=1<arguments.length?[].slice.call(arguments,1):[]).length?i.pop():void 0!==s?s:250,n.__rendered=!1,o.indexOf(n)<0&&o.push(n),0===t)return n.__rendered=!0,n.delay=function(){return this},n.duration=function(){return this},n;0===n.length?n.__rendered=!0:n.every(function(t){return!t.length})?n.__rendered=!0:n.__rendered=!1;var r=0;return n.transition().duration(t).each(function(){++r}).each("end",function(t,e){0==--r&&(n.__rendered=!0,a.renderEnd.apply(this,i))})},this.renderEnd=function(){o.every(function(t){return t.__rendered})&&(o.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},pt.utils.deepExtend=function(s){(1<arguments.length?[].slice.call(arguments,1):[]).forEach(function(t){for(var e in t){var n=pt.utils.isArray(s[e]),i=pt.utils.isObject(s[e]),r=pt.utils.isObject(t[e]);i&&!n&&r?pt.utils.deepExtend(s[e],t[e]):s[e]=t[e]}})},pt.utils.state=function(){if(!(this instanceof pt.utils.state))return new pt.utils.state;var n={},e=function(){},i=function(){return{}},r=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return i=t,this},this.setter=function(n,i){return i||(i=function(){}),e=function(t,e){n(t),e&&i()},this},this.init=function(t){r=r||{},pt.utils.deepExtend(r,t)};this.update=function(){r&&(e(r,!1),r=null),function(){var t=i();if(JSON.stringify(t)===JSON.stringify(n))return!1;for(var e in t)void 0===n[e]&&(n[e]={}),n[e]=t[e],!0;return!0}.call(this)&&this.dispatch.change(n)}},pt.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){pt.utils.isFunction(this[t])&&this[t](e)}.bind(this)),this},pt.utils.calcTicksX=function(t,e){for(var n=1,i=0;i<e.length;i+=1){var r=e[i]&&e[i].values?e[i].values.length:0;n=n<r?r:n}return pt.log("Requested number of ticks: ",t),pt.log("Calculated max values to be: ",n),t=(t=n<t?t=n-1:t)<1?1:t,t=Math.floor(t),pt.log("Calculating tick count as: ",t),t},pt.utils.calcTicksY=function(t,e){return pt.utils.calcTicksX(t,e)},pt.utils.initOption=function(e,n){e._calls&&e._calls[n]?e[n]=e._calls[n]:(e[n]=function(t){return arguments.length?(e._overrides[n]=!0,e._options[n]=t,e):e._options[n]},e["_"+n]=function(t){return arguments.length?(e._overrides[n]||(e._options[n]=t),e):e._options[n]})},pt.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});for(var i in e=e.concat(n))pt.utils.initOption(t,e[i])},pt.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),t._d3options=(t._d3options||[]).filter(function(t,e,n){return n.indexOf(t)===e}),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},pt.utils.arrayUnique=function(n){return n.sort().filter(function(t,e){return!e||t!=n[e-1]})},pt.utils.symbolMap=d3.map(),pt.utils.symbol=function(){function e(t,e){var n=r.call(this,t,e),i=s.call(this,t,e);return-1!==d3.svg.symbolTypes.indexOf(n)?d3.svg.symbol().type(n).size(i)():pt.utils.symbolMap.get(n)(i)}var r,s=64;return e.type=function(t){return arguments.length?(r=d3.functor(t),e):r},e.size=function(t){return arguments.length?(s=d3.functor(t),e):s},e},pt.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),i=Object.getOwnPropertyNames(e._calls||{}),r=e._inherited||[],s=e._d3options||[],o=n.concat(i).concat(r).concat(s);o.unshift(e),o.unshift(t),d3.rebind.apply(this,o),t._inherited=pt.utils.arrayUnique(n.concat(i).concat(r).concat(n).concat(t._inherited||[])),t._d3options=pt.utils.arrayUnique(s.concat(t._d3options||[]))},pt.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},pt.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},pt.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},pt.utils.availableHeight=function(t,e,n){return Math.max(0,pt.utils.sanitizeHeight(t,e)-n.top-n.bottom)},pt.utils.availableWidth=function(t,e,n){return Math.max(0,pt.utils.sanitizeWidth(t,e)-n.left-n.right)},pt.utils.noData=function(t,e){var n=t.options(),i=n.margin(),r=n.noData(),s=null==r?["No Data Available."]:[r],o=pt.utils.availableHeight(null,e,i),a=pt.utils.availableWidth(null,e,i),l=i.left+a/2,c=i.top+o/2;e.selectAll("g").remove();var h=e.selectAll(".nv-noData").data(s);h.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),h.attr("x",l).attr("y",c).text(function(t){return t})},pt.utils.wrapTicks=function(t,l){t.each(function(){for(var t,e=d3.select(this),n=e.text().split(/\s+/).reverse(),i=[],r=0,s=e.attr("y"),o=parseFloat(e.attr("dy")),a=e.text(null).append("tspan").attr("x",0).attr("y",s).attr("dy",o+"em");t=n.pop();)i.push(t),a.text(i.join(" ")),a.node().getComputedTextLength()>l&&(i.pop(),a.text(i.join(" ")),i=[t],a=e.append("tspan").attr("x",0).attr("y",s).attr("dy",1.1*++r+o+"em").text(t))})},pt.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!pt.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},pt.utils.pointIsInArc=function(t,e,n){var i=n.innerRadius()(e),r=n.outerRadius()(e),s=n.startAngle()(e),o=n.endAngle()(e),a=t.x*t.x+t.y*t.y,l=Math.atan2(t.x,-t.y);return l=l<0?l+2*Math.PI:l,i*i<=a&&a<=r*r&&s<=l&&l<=o},pt.models.axis=function(){"use strict";function e(t){return D.reset(),t.each(function(t){var e=d3.select(this);pt.utils.initSVG(e);var n=e.selectAll("g.nv-wrap.nv-axis").data([t]),i=(n.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),n.select("g"));null!==k?m.ticks(k):("top"==m.orient()||"bottom"==m.orient())&&m.ticks(Math.abs(v.range()[1]-v.range()[0])/100),i.watchTransition(D,"axis").call(m),T=T||m.scale();var r=m.tickFormat();null==r&&(r=T.tickFormat());var s,o,a,l=i.selectAll("text.nv-axislabel").data([_||null]);switch(l.exit().remove(),void 0!==F&&i.selectAll("g").select("text").style("font-size",F),m.orient()){case"top":l.enter().append("text").attr("class","nv-axislabel"),a=0,1===v.range().length?a=E?2*v.range()[0]+v.rangeBand():0:2===v.range().length?a=E?v.range()[0]+v.range()[1]+v.rangeBand():v.range()[1]:2<v.range().length&&(a=v.range()[v.range().length-1]+(v.range()[1]-v.range()[0])),l.attr("text-anchor","middle").attr("y",0).attr("x",a/2),w&&((o=n.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),o.exit().remove(),o.attr("transform",function(t,e){return"translate("+pt.utils.NaNtoZero(v(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-m.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=(g||r)(t);return(""+n).match("NaN")?"":n}),o.watchTransition(D,"min-max top").attr("transform",function(t,e){return"translate("+pt.utils.NaNtoZero(v.range()[e])+",0)"}));break;case"bottom":s=S+36;var c=30,h=0,u=i.selectAll("g").select("text"),d="";if(x%360){u.attr("transform",""),u.each(function(t,e){var n=this.getBoundingClientRect(),i=n.width;h=n.height,c<i&&(c=i)}),d="rotate("+x+" 0,"+(h/2+m.tickPadding())+")";var f=Math.abs(Math.sin(x*Math.PI/180));s=(f?f*c:c)+30,u.attr("transform",d).style("text-anchor",0<x%360?"start":"end")}else C?u.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}):u.attr("transform","translate(0,0)");l.enter().append("text").attr("class","nv-axislabel"),a=0,1===v.range().length?a=E?2*v.range()[0]+v.rangeBand():0:2===v.range().length?a=E?v.range()[0]+v.range()[1]+v.rangeBand():v.range()[1]:2<v.range().length&&(a=v.range()[v.range().length-1]+(v.range()[1]-v.range()[0])),l.attr("text-anchor","middle").attr("y",s).attr("x",a/2),w&&((o=n.selectAll("g.nv-axisMaxMin").data([v.domain()[0],v.domain()[v.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),o.exit().remove(),o.attr("transform",function(t,e){return"translate("+pt.utils.NaNtoZero(v(t)+(E?v.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",m.tickPadding()).attr("transform",d).style("text-anchor",x?0<x%360?"start":"end":"middle").text(function(t,e){var n=(g||r)(t);return(""+n).match("NaN")?"":n}),o.watchTransition(D,"min-max bottom").attr("transform",function(t,e){return"translate("+pt.utils.NaNtoZero(v(t)+(E?v.rangeBand()/2:0))+",0)"}));break;case"right":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",A?"middle":"begin").attr("transform",A?"rotate(90)":"").attr("y",A?12-Math.max(y.right,b)-(S||0):-10).attr("x",A?d3.max(v.range())/2:m.tickPadding()),w&&((o=n.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),o.exit().remove(),o.attr("transform",function(t,e){return"translate(0,"+pt.utils.NaNtoZero(v(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",m.tickPadding()).style("text-anchor","start").text(function(t,e){var n=(g||r)(t);return(""+n).match("NaN")?"":n}),o.watchTransition(D,"min-max right").attr("transform",function(t,e){return"translate(0,"+pt.utils.NaNtoZero(v.range()[e])+")"}).select("text").style("opacity",1));break;case"left":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",A?"middle":"end").attr("transform",A?"rotate(-90)":"").attr("y",A?25-Math.max(y.left,b)-(S||0):-10).attr("x",A?-d3.max(v.range())/2:-m.tickPadding()),w&&((o=n.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),o.exit().remove(),o.attr("transform",function(t,e){return"translate(0,"+pt.utils.NaNtoZero(T(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-m.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=(g||r)(t);return(""+n).match("NaN")?"":n}),o.watchTransition(D,"min-max right").attr("transform",function(t,e){return"translate(0,"+pt.utils.NaNtoZero(v.range()[e])+")"}).select("text").style("opacity",1))}if(l.text(function(t){return t}),!w||"left"!==m.orient()&&"right"!==m.orient()||(i.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(v(t)<v.range()[1]+10||v(t)>v.range()[0]-10)&&((1e-10<t||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),v.domain()[0]==v.domain()[1]&&0==v.domain()[0]&&n.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),w&&("top"===m.orient()||"bottom"===m.orient())){var p=[];n.selectAll("g.nv-axisMaxMin").each(function(e,n){try{n?p.push(v(e)-this.getBoundingClientRect().width-4):p.push(v(e)+this.getBoundingClientRect().width+4)}catch(t){n?p.push(v(e)-4):p.push(v(e)+4)}}),i.selectAll("g").each(function(t,e){(v(t)<p[0]||v(t)>p[1])&&(1e-10<t||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}i.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),T=v.copy()}),D.renderEnd("axis immediate"),e}var g,m=d3.svg.axis(),v=d3.scale.linear(),y={top:0,right:0,bottom:0,left:0},b=75,n=60,_=null,w=!0,x=0,A=!0,C=!1,E=!1,k=null,S=0,F=void 0,i=250,t=d3.dispatch("renderEnd");m.scale(v).orient("bottom").tickFormat(function(t){return t});var T,D=pt.utils.renderWatch(t,i);return e.axis=m,e.dispatch=t,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{axisLabelDistance:{get:function(){return S},set:function(t){S=t}},staggerLabels:{get:function(){return C},set:function(t){C=t}},rotateLabels:{get:function(){return x},set:function(t){x=t}},rotateYLabel:{get:function(){return A},set:function(t){A=t}},showMaxMin:{get:function(){return w},set:function(t){w=t}},axisLabel:{get:function(){return _},set:function(t){_=t}},height:{get:function(){return n},set:function(t){n=t}},ticks:{get:function(){return k},set:function(t){k=t}},width:{get:function(){return b},set:function(t){b=t}},fontSize:{get:function(){return F},set:function(t){F=t}},tickFormatMaxMin:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return y},set:function(t){y.top=void 0!==t.top?t.top:y.top,y.right=void 0!==t.right?t.right:y.right,y.bottom=void 0!==t.bottom?t.bottom:y.bottom,y.left=void 0!==t.left?t.left:y.left}},duration:{get:function(){return i},set:function(t){i=t,D.reset(i)}},scale:{get:function(){return v},set:function(t){v=t,m.scale(v),E="function"==typeof v.rangeBands,pt.utils.inheritOptionsD3(e,v,["domain","range","rangeBand","rangeBands"])}}}),pt.utils.initOptions(e),pt.utils.inheritOptionsD3(e,m,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),pt.utils.inheritOptionsD3(e,v,["domain","range","rangeBand","rangeBands"]),e},pt.models.boxPlot=function(){"use strict";function e(t){return N.reset(),t.each(function(n){var t=b-y.left-y.right,e=_-y.top-y.bottom;$=d3.select(this),pt.utils.initSVG($),w.domain(d||n.map(function(t,e){return A(t,e)})).rangeBands(f||[0,t],.1);var i=[];if(!p){var a=[];n.forEach(function(t,e){var n=C(t),i=k(t),r=S(t),s=F(t),o=D(t);o&&o.forEach(function(t,e){a.push(M(t,e,void 0))}),r&&a.push(r),n&&a.push(n),i&&a.push(i),s&&a.push(s)}),i=[d3.min(a),d3.max(a)]}x.domain(p||i),x.range(g||[e,0]),m=m||w,v=v||x.copy().range([x(0),x(0)]);var r=$.selectAll("g.nv-wrap").data([n]);r.enter().append("g").attr("class","nvd3 nv-wrap"),r.attr("transform","translate("+y.left+","+y.top+")");var s=r.selectAll(".nv-boxplot").data(function(t){return t}),o=s.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);s.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(w(A(t,e))+.05*w.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),s.watchTransition(N,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*O/n.length}).attr("transform",function(t,e){return"translate("+(w(A(t,e))+.05*w.rangeBand())+", 0)"}),s.exit().remove(),o.each(function(n,i){var r=d3.select(this);[S,F].forEach(function(t){if(void 0!==t(n)&&null!==t(n)){var e=t===S?"low":"high";r.append("line").style("stroke",T(n)||B(n,i)).attr("class","nv-boxplot-whisker nv-boxplot-"+e),r.append("line").style("stroke",T(n)||B(n,i)).attr("class","nv-boxplot-tick nv-boxplot-"+e)}})});var l=function(){return null===I?.9*w.rangeBand():Math.min(75,.9*w.rangeBand())},c=function(){return.45*w.rangeBand()-l()/2},h=function(){return.45*w.rangeBand()+l()/2};[S,F].forEach(function(n){var t=n===S?"low":"high",i=n===S?C:k;s.select("line.nv-boxplot-whisker.nv-boxplot-"+t).watchTransition(N,"nv-boxplot: boxplots").attr("x1",.45*w.rangeBand()).attr("y1",function(t,e){return x(n(t))}).attr("x2",.45*w.rangeBand()).attr("y2",function(t,e){return x(i(t))}),s.select("line.nv-boxplot-tick.nv-boxplot-"+t).watchTransition(N,"nv-boxplot: boxplots").attr("x1",c).attr("y1",function(t,e){return x(n(t))}).attr("x2",h).attr("y2",function(t,e){return x(n(t))})}),[S,F].forEach(function(i){var t=i===S?"low":"high";o.selectAll(".nv-boxplot-"+t).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),R.elementMouseover({series:{key:i(t),color:T(t)||B(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),R.elementMouseout({series:{key:i(t),color:T(t)||B(t,n)},e:d3.event})}).on("mousemove",function(t,e){R.elementMousemove({e:d3.event})})}),o.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),R.elementMouseover({key:A(t),value:A(t),series:[{key:"Q3",value:k(t),color:T(t)||B(t,e)},{key:"Q2",value:E(t),color:T(t)||B(t,e)},{key:"Q1",value:C(t),color:T(t)||B(t,e)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),R.elementMouseout({key:A(t),value:A(t),series:[{key:"Q3",value:k(t),color:T(t)||B(t,e)},{key:"Q2",value:E(t),color:T(t)||B(t,e)},{key:"Q1",value:C(t),color:T(t)||B(t,e)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){R.elementMousemove({e:d3.event})}),s.select("rect.nv-boxplot-box").watchTransition(N,"nv-boxplot: boxes").attr("y",function(t,e){return x(k(t))}).attr("width",l).attr("x",c).attr("height",function(t,e){return Math.abs(x(k(t))-x(C(t)))||1}).style("fill",function(t,e){return T(t)||B(t,e)}).style("stroke",function(t,e){return T(t)||B(t,e)}),o.append("line").attr("class","nv-boxplot-median"),s.select("line.nv-boxplot-median").watchTransition(N,"nv-boxplot: boxplots line").attr("x1",c).attr("y1",function(t,e){return x(E(t))}).attr("x2",h).attr("y2",function(t,e){return x(E(t))});var u=s.selectAll(".nv-boxplot-outlier").data(function(t){return D(t)||[]});u.enter().append("circle").style("fill",function(t,e,n){return L(t,e,n)||B(t,n)}).style("stroke",function(t,e,n){return L(t,e,n)||B(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),R.elementMouseover({series:{key:P(t,e,n),color:L(t,e,n)||B(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),R.elementMouseout({series:{key:P(t,e,n),color:L(t,e,n)||B(t,n)},e:d3.event})}).on("mousemove",function(t,e){R.elementMousemove({e:d3.event})}),u.attr("class","nv-boxplot-outlier"),u.watchTransition(N,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*w.rangeBand()).attr("cy",function(t,e,n){return x(M(t,e,n))}).attr("r","3"),u.exit().remove(),m=w.copy(),v=x.copy()}),N.renderEnd("nv-boxplot immediate"),e}var d,f,p,g,m,v,y={top:0,right:0,bottom:0,left:0},b=960,_=500,n=Math.floor(1e4*Math.random()),w=d3.scale.ordinal(),x=d3.scale.linear(),A=function(t){return t.label},C=function(t){return t.values.Q1},E=function(t){return t.values.Q2},k=function(t){return t.values.Q3},S=function(t){return t.values.whisker_low},F=function(t){return t.values.whisker_high},T=function(t){return t.color},D=function(t){return t.values.outliers},M=function(t,e,n){return t},P=function(t,e,n){return t},L=function(t,e,n){},B=pt.utils.defaultColor(),$=null,R=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),O=250,I=null,N=pt.utils.renderWatch(R,O);return e.dispatch=R,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return _},set:function(t){_=t}},maxBoxWidth:{get:function(){return I},set:function(t){I=t}},x:{get:function(){return A},set:function(t){A=t}},q1:{get:function(){return C},set:function(t){C=t}},q2:{get:function(){return E},set:function(t){E=t}},q3:{get:function(){return k},set:function(t){k=t}},wl:{get:function(){return S},set:function(t){S=t}},wh:{get:function(){return F},set:function(t){F=t}},itemColor:{get:function(){return T},set:function(t){T=t}},outliers:{get:function(){return D},set:function(t){D=t}},outlierValue:{get:function(){return M},set:function(t){M=t}},outlierLabel:{get:function(){return P},set:function(t){P=t}},outlierColor:{get:function(){return L},set:function(t){L=t}},xScale:{get:function(){return w},set:function(t){w=t}},yScale:{get:function(){return x},set:function(t){x=t}},xDomain:{get:function(){return d},set:function(t){d=t}},yDomain:{get:function(){return p},set:function(t){p=t}},xRange:{get:function(){return f},set:function(t){f=t}},yRange:{get:function(){return g},set:function(t){g=t}},id:{get:function(){return n},set:function(t){n=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return y},set:function(t){y.top=void 0!==t.top?t.top:y.top,y.right=void 0!==t.right?t.right:y.right,y.bottom=void 0!==t.bottom?t.bottom:y.bottom,y.left=void 0!==t.left?t.left:y.left}},color:{get:function(){return B},set:function(t){B=pt.utils.getColor(t)}},duration:{get:function(){return O},set:function(t){O=t,N.reset(O)}}}),pt.utils.initOptions(e),e},pt.models.boxPlotChart=function(){"use strict";function h(t){return i.reset(),i.models(f),b&&i.models(p),_&&i.models(g),t.each(function(t){var e=d3.select(this);pt.utils.initSVG(e);var n=(v||parseInt(e.style("width"))||960)-m.left-m.right,i=(y||parseInt(e.style("height"))||400)-m.top-m.bottom;if(h.update=function(){C.beforeUpdate(),e.transition().duration(E).call(h)},h.container=this,!t||!t.length){var r=e.selectAll(".nv-noData").data([A]);return r.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),r.attr("x",m.left+n/2).attr("y",m.top+i/2).text(function(t){return t}),h}e.selectAll(".nv-noData").remove(),u=f.xScale(),d=f.yScale().clamp(!0);var s=e.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([t]),o=s.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),a=o.append("defs"),l=s.select("g");if(o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),o.append("g").attr("class","nv-barsWrap"),l.attr("transform","translate("+m.left+","+m.top+")"),w&&l.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),f.width(n).height(i),l.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(f),a.append("clipPath").attr("id","nv-x-label-clip-"+f.id()).append("rect"),l.select("#nv-x-label-clip-"+f.id()+" rect").attr("width",u.rangeBand()*(x?2:1)).attr("height",16).attr("x",-u.rangeBand()/(x?1:2)),b){p.scale(u).ticks(pt.utils.calcTicksX(n/100,t)).tickSize(-i,0),l.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),l.select(".nv-x.nv-axis").call(p);var c=l.select(".nv-x.nv-axis").selectAll("g");x&&c.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}_&&(g.scale(d).ticks(Math.floor(i/36)).tickSize(-n,0),l.select(".nv-y.nv-axis").call(g)),l.select(".nv-zeroLine line").attr("x1",0).attr("x2",n).attr("y1",d(0)).attr("y2",d(0))}),i.renderEnd("nv-boxplot chart immediate"),h}var u,d,f=pt.models.boxPlot(),p=pt.models.axis(),g=pt.models.axis(),m={top:15,right:10,bottom:50,left:60},v=null,y=null,e=pt.utils.getColor(),b=!0,_=!0,w=!1,x=!1,n=pt.models.tooltip(),A="No Data Available.",C=d3.dispatch("beforeUpdate","renderEnd"),E=250;p.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),g.orient(w?"right":"left").tickFormat(d3.format(",.1f")),n.duration(0);var i=pt.utils.renderWatch(C,E);return f.dispatch.on("elementMouseover.tooltip",function(t){n.data(t).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(t){n.data(t).hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(t){n()}),h.dispatch=C,h.boxplot=f,h.xAxis=p,h.yAxis=g,h.tooltip=n,h.options=pt.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},staggerLabels:{get:function(){return x},set:function(t){x=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},tooltipContent:{get:function(){return n},set:function(t){n=t}},noData:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return m},set:function(t){m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},duration:{get:function(){return E},set:function(t){E=t,i.reset(E),f.duration(E),p.duration(E),g.duration(E)}},color:{get:function(){return e},set:function(t){e=pt.utils.getColor(t),f.color(e)}},rightAlignYAxis:{get:function(){return w},set:function(t){w=t,g.orient(t?"right":"left")}}}),pt.utils.inheritOptions(h,f),pt.utils.initOptions(h),h},pt.models.bullet=function(){"use strict";function C(t,r){var s=t.slice();t.sort(function(t,e){var n=s.indexOf(t),i=s.indexOf(e);return d3.descending(r[n],r[i])})}function e(t){return t.each(function(t,e){var n=R-E.left-E.right,i=O-E.top-E.bottom;I=d3.select(this),pt.utils.initSVG(I);var r=S.call(this,t,e).slice(),s=F.call(this,t,e).slice(),o=T.call(this,t,e).slice(),a=D.call(this,t,e).slice(),l=M.call(this,t,e).slice(),c=P.call(this,t,e).slice(),h=L.call(this,t,e).slice(),u=B.call(this,t,e).slice();C(l,r),C(c,s),C(h,o),C(u,a),r.sort(d3.descending),s.sort(d3.descending),o.sort(d3.descending),a.sort(d3.descending);var d,f=d3.scale.linear().domain(d3.extent(d3.merge([$,r]))).range(k?[n,0]:[0,n]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(f.range()),this.__chart__=f;for(var p=(d3.min(r),d3.max(r),r[1],I.selectAll("g.nv-wrap.nv-bullet").data([t])),g=p.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),m=p.select("g"),v=(e=0,r.length);e<v;e++){var y="nv-range nv-range"+e;e<=2&&(y=y+" nv-range"+j[e]),g.append("rect").attr("class",y)}g.append("rect").attr("class","nv-measure"),p.attr("transform","translate("+E.left+","+E.top+")");var b=function(t){return f(t<0?t:0)};for(e=0,v=r.length;e<v;e++){var _=r[e];m.select("rect.nv-range"+e).datum(_).attr("height",i).transition().duration(W).attr("width",(d=_,Math.abs(f(d)-f(0)))).attr("x",b(_))}m.select("rect.nv-measure").style("fill",N).attr("height",i/3).attr("y",i/3).on("mouseover",function(){z.elementMouseover({value:a[0],label:u[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){z.elementMousemove({value:a[0],label:u[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){z.elementMouseout({value:a[0],label:u[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(W).attr("width",a<0?f(0)-f(a[0]):f(a[0])-f(0)).attr("x",b(a));var w=i/6,x=s.map(function(t,e){return{value:t,label:c[e]}});g.selectAll("path.nv-markerTriangle").data(x).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+w+"L"+w+","+-w+" "+-w+","+-w+"Z").on("mouseover",function(t){z.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[f(t.value),i/2]})}).on("mousemove",function(t){z.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){z.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),m.selectAll("path.nv-markerTriangle").data(x).transition().duration(W).attr("transform",function(t){return"translate("+f(t.value)+","+i/2+")"});var A=o.map(function(t,e){return{value:t,label:h[e]}});g.selectAll("line.nv-markerLine").data(A).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return f(t.value)}).attr("y1","2").attr("x2",function(t){return f(t.value)}).attr("y2",i-2).on("mouseover",function(t){z.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[f(t.value),i/2]})}).on("mousemove",function(t){z.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){z.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),m.selectAll("line.nv-markerLine").data(A).transition().duration(W).attr("x1",function(t){return f(t.value)}).attr("x2",function(t){return f(t.value)}),p.selectAll(".nv-range").on("mouseover",function(t,e){var n=l[e]||H[e];z.elementMouseover({value:t,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){z.elementMousemove({value:a[0],label:u[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){var n=l[e]||H[e];z.elementMouseout({value:t,label:n,color:d3.select(this).style("fill")})})}),e}var E={top:0,right:0,bottom:0,left:0},n="left",k=!1,S=function(t){return t.ranges},F=function(t){return t.markers?t.markers:[]},T=function(t){return t.markerLines?t.markerLines:[0]},D=function(t){return t.measures},M=function(t){return t.rangeLabels?t.rangeLabels:[]},P=function(t){return t.markerLabels?t.markerLabels:[]},L=function(t){return t.markerLineLabels?t.markerLineLabels:[]},B=function(t){return t.measureLabels?t.measureLabels:[]},$=[0],R=380,O=30,I=null,i=null,N=pt.utils.getColor(["#1f77b4"]),z=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),H=["Maximum","Mean","Minimum"],j=["Max","Avg","Min"],W=1e3;return e.dispatch=z,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return S},set:function(t){S=t}},markers:{get:function(){return F},set:function(t){F=t}},measures:{get:function(){return D},set:function(t){D=t}},forceX:{get:function(){return $},set:function(t){$=t}},width:{get:function(){return R},set:function(t){R=t}},height:{get:function(){return O},set:function(t){O=t}},tickFormat:{get:function(){return i},set:function(t){i=t}},duration:{get:function(){return W},set:function(t){W=t}},margin:{get:function(){return E},set:function(t){E.top=void 0!==t.top?t.top:E.top,E.right=void 0!==t.right?t.right:E.right,E.bottom=void 0!==t.bottom?t.bottom:E.bottom,E.left=void 0!==t.left?t.left:E.left}},orient:{get:function(){return n},set:function(t){k="right"==(n=t)||"bottom"==n}},color:{get:function(){return N},set:function(t){N=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.bulletChart=function(){"use strict";function _(b){return b.each(function(t,e){var n=d3.select(this);pt.utils.initSVG(n);var i=pt.utils.availableWidth(S,n,A),r=F-A.top-A.bottom;if(_.update=function(){_(b)},_.container=this,!t||!C.call(this,t,e))return pt.utils.noData(_,n),_;n.selectAll(".nv-noData").remove();var s=C.call(this,t,e).slice().sort(d3.descending),o=E.call(this,t,e).slice().sort(d3.descending),a=k.call(this,t,e).slice().sort(d3.descending),l=n.selectAll("g.nv-wrap.nv-bulletChart").data([t]),c=l.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),h=l.select("g");c.append("g").attr("class","nv-bulletWrap"),c.append("g").attr("class","nv-titles"),l.attr("transform","translate("+A.left+","+A.top+")");var u=d3.scale.linear().domain([0,Math.max(s[0],o[0]||0,a[0])]).range(x?[i,0]:[0,i]),d=this.__chart__||d3.scale.linear().domain([0,1/0]).range(u.range());this.__chart__=u;var f=c.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(F-A.top-A.bottom)/2+")");f.append("text").attr("class","nv-title").text(function(t){return t.title}),f.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),w.width(i).height(r);var p=h.select(".nv-bulletWrap");d3.transition(p).call(w);var g=T||u.tickFormat(i/100),m=h.selectAll("g.nv-tick").data(u.ticks(D||i/50),function(t){return this.textContent||g(t)}),v=m.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+d(t)+",0)"}).style("opacity",1e-6);v.append("line").attr("y1",r).attr("y2",7*r/6),v.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*r/6).text(g);var y=d3.transition(m).transition().duration(w.duration()).attr("transform",function(t){return"translate("+u(t)+",0)"}).style("opacity",1);y.select("line").attr("y1",r).attr("y2",7*r/6),y.select("text").attr("y",7*r/6),d3.transition(m.exit()).transition().duration(w.duration()).attr("transform",function(t){return"translate("+u(t)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),_}var w=pt.models.bullet(),e=pt.models.tooltip(),n="left",x=!1,A={top:5,right:40,bottom:20,left:120},C=function(t){return t.ranges},E=function(t){return t.markers?t.markers:[]},k=function(t){return t.measures},S=null,F=55,T=null,D=null,i=null,t=d3.dispatch();return e.duration(0).headerEnabled(!1),w.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)}),w.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),w.dispatch.on("elementMousemove.tooltip",function(t){e()}),_.bullet=w,_.dispatch=t,_.tooltip=e,_.options=pt.utils.optionsFunc.bind(_),_._options=Object.create({},{ranges:{get:function(){return C},set:function(t){C=t}},markers:{get:function(){return E},set:function(t){E=t}},measures:{get:function(){return k},set:function(t){k=t}},width:{get:function(){return S},set:function(t){S=t}},height:{get:function(){return F},set:function(t){F=t}},tickFormat:{get:function(){return T},set:function(t){T=t}},ticks:{get:function(){return D},set:function(t){D=t}},noData:{get:function(){return i},set:function(t){i=t}},margin:{get:function(){return A},set:function(t){A.top=void 0!==t.top?t.top:A.top,A.right=void 0!==t.right?t.right:A.right,A.bottom=void 0!==t.bottom?t.bottom:A.bottom,A.left=void 0!==t.left?t.left:A.left}},orient:{get:function(){return n},set:function(t){x="right"==(n=t)||"bottom"==n}}}),pt.utils.inheritOptions(_,w),pt.utils.initOptions(_),_},pt.models.candlestickBar=function(){"use strict";function n(t){return t.each(function(t){u=d3.select(this);var e=pt.utils.availableWidth(v,u,m),n=pt.utils.availableHeight(y,u,m);pt.utils.initSVG(u);var i=e/t[0].values.length*.45;_.domain(d||d3.extent(t[0].values.map(x).concat(F))),D?_.range(p||[.5*e/t[0].values.length,e*(t[0].values.length-.5)/t[0].values.length]):_.range(p||[5+i/2,e-i/2-5]),w.domain(f||[d3.min(t[0].values.map(S).concat(T)),d3.max(t[0].values.map(k).concat(T))]).range(g||[n,0]),_.domain()[0]===_.domain()[1]&&(_.domain()[0]?_.domain([_.domain()[0]-.01*_.domain()[0],_.domain()[1]+.01*_.domain()[1]]):_.domain([-1,1])),w.domain()[0]===w.domain()[1]&&(w.domain()[0]?w.domain([w.domain()[0]+.01*w.domain()[0],w.domain()[1]-.01*w.domain()[1]]):w.domain([-1,1]));var r=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([t[0].values]),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),o=s.append("defs"),a=s.append("g"),l=r.select("g");a.append("g").attr("class","nv-ticks"),r.attr("transform","translate("+m.left+","+m.top+")"),u.on("click",function(t,e){P.chartClick({data:t,index:e,pos:d3.event,id:b})}),o.append("clipPath").attr("id","nv-chart-clip-path-"+b).append("rect"),r.select("#nv-chart-clip-path-"+b+" rect").attr("width",e).attr("height",n),l.attr("clip-path",M?"url(#nv-chart-clip-path-"+b+")":"");var c=r.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});c.exit().remove();var h=c.enter().append("g");c.attr("class",function(t,e,n){return(C(t,e)>E(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),h.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+_(x(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return w(k(t,e))}).attr("x2",0).attr("y2",function(t,e){return w(S(t,e))}),h.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(_(x(t,e))-i/2)+","+(w(A(t,e))-(C(t,e)>E(t,e)?w(E(t,e))-w(C(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",i).attr("height",function(t,e){var n=C(t,e),i=E(t,e);return i<n?w(i)-w(n):w(n)-w(i)}),c.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+_(x(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return w(k(t,e))}).attr("x2",0).attr("y2",function(t,e){return w(S(t,e))}),c.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(_(x(t,e))-i/2)+","+(w(A(t,e))-(C(t,e)>E(t,e)?w(E(t,e))-w(C(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",i).attr("height",function(t,e){var n=C(t,e),i=E(t,e);return i<n?w(i)-w(n):w(n)-w(i)})}),n}var u,d,f,p,g,m={top:0,right:0,bottom:0,left:0},v=null,y=null,b=Math.floor(1e4*Math.random()),_=d3.scale.linear(),w=d3.scale.linear(),x=function(t){return t.x},A=function(t){return t.y},C=function(t){return t.open},E=function(t){return t.close},k=function(t){return t.high},S=function(t){return t.low},F=[],T=[],D=!1,M=!0,e=pt.utils.defaultColor(),i=!1,P=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return n.highlightPoint=function(t,e){n.clearHighlights(),u.select(".nv-candlestickBar .nv-tick-0-"+t).classed("hover",e)},n.clearHighlights=function(){u.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},n.dispatch=P,n.options=pt.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},xScale:{get:function(){return _},set:function(t){_=t}},yScale:{get:function(){return w},set:function(t){w=t}},xDomain:{get:function(){return d},set:function(t){d=t}},yDomain:{get:function(){return f},set:function(t){f=t}},xRange:{get:function(){return p},set:function(t){p=t}},yRange:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return F},set:function(t){F=t}},forceY:{get:function(){return T},set:function(t){T=t}},padData:{get:function(){return D},set:function(t){D=t}},clipEdge:{get:function(){return M},set:function(t){M=t}},id:{get:function(){return b},set:function(t){b=t}},interactive:{get:function(){return i},set:function(t){i=t}},x:{get:function(){return x},set:function(t){x=t}},y:{get:function(){return A},set:function(t){A=t}},open:{get:function(){return C()},set:function(t){C=t}},close:{get:function(){return E()},set:function(t){E=t}},high:{get:function(){return k},set:function(t){k=t}},low:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return m},set:function(t){m.top=null!=t.top?t.top:m.top,m.right=null!=t.right?t.right:m.right,m.bottom=null!=t.bottom?t.bottom:m.bottom,m.left=null!=t.left?t.left:m.left}},color:{get:function(){return e},set:function(t){e=pt.utils.getColor(t)}}}),pt.utils.initOptions(n),n},pt.models.cumulativeLineChart=function(){"use strict";function _(t){return i.reset(),i.models(C),R&&i.models(E),O&&i.models(k),t.each(function(c){function n(){b.data([X]);var t=_.duration();_.duration(0),_.update(),_.duration(t)}var t=d3.select(this);pt.utils.initSVG(t),t.classed("nv-chart-"+j,!0);var e,i=pt.utils.availableWidth(L,t,D),r=pt.utils.availableHeight(B,t,D);if(_.update=function(){0===q?t.call(_):t.transition().duration(q).call(_)},_.container=this,W.setter(J(c),_.update).getter(Q(c)).update(),W.disabled=c.map(function(t){return!!t.disabled}),!V)for(e in V={},W)W[e]instanceof Array?V[e]=W[e].slice(0):V[e]=W[e];var s=d3.behavior.drag().on("dragstart",function(t,e){d3.select(_.container).style("cursor","ew-resize")}).on("drag",function(t,e){X.x=d3.event.x,X.i=Math.round(K.invert(X.x)),n()}).on("dragend",function(t,e){d3.select(_.container).style("cursor","auto"),W.index=X.i,Y.stateChange(W)});if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return pt.utils.noData(_,t),_;t.selectAll(".nv-noData").remove(),x=C.xScale(),A=C.yScale(),K.domain([0,c[0].values.length-1]).range([0,i]).clamp(!0);var o,a;o=X.i,a=c,tt||(tt=C.y()),c=a.map(function(t,e){if(!t.values)return t;var n=t.values[o];if(null==n)return t;var i=tt(n,o);return Math.abs(i)<1e-5&&!Z?t.tempDisabled=!0:(t.tempDisabled=!1,t.values=t.values.map(function(t,e){return t.display={y:(tt(t,e)-i)/i},t})),t});void 0===G&&(G=w(c)),H?C.yDomain(null):(C.yDomain(G),C.clipEdge(!0));var l=z?"none":"all",h=t.selectAll("g.nv-wrap.nv-cumulativeLine").data([c]),u=h.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),d=h.select("g");if(u.append("g").attr("class","nv-interactive"),u.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),u.append("g").attr("class","nv-y nv-axis"),u.append("g").attr("class","nv-background"),u.append("g").attr("class","nv-linesWrap").style("pointer-events",l),u.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),u.append("g").attr("class","nv-legendWrap"),u.append("g").attr("class","nv-controlsWrap"),$?(S.width(i),d.select(".nv-legendWrap").datum(c).call(S),M||S.height()===D.top||(D.top=S.height(),r=pt.utils.availableHeight(B,t,D)),d.select(".nv-legendWrap").attr("transform","translate(0,"+-D.top+")")):d.select(".nv-legendWrap").selectAll("*").remove(),N){var f=[{key:"Re-scale y-axis",disabled:!H}];F.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),d.select(".nv-controlsWrap").datum(f).attr("transform","translate(0,"+-D.top+")").call(F)}else d.select(".nv-controlsWrap").selectAll("*").remove();h.attr("transform","translate("+D.left+","+D.top+")"),I&&d.select(".nv-y.nv-axis").attr("transform","translate("+i+",0)");var p=c.filter(function(t){return t.tempDisabled});h.select(".tempDisabled").remove(),p.length&&h.append("text").attr("class","tempDisabled").attr("x",i/2).attr("y","-.71em").style("text-anchor","end").text(p.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),z&&(T.width(i).height(r).margin({left:D.left,top:D.top}).svgContainer(t).xScale(x),h.select(".nv-interactive").call(T)),u.select(".nv-background").append("rect"),d.select(".nv-background rect").attr("width",i).attr("height",r),C.y(function(t){return t.display.y}).width(i).height(r).color(c.map(function(t,e){return t.color||P(t,e)}).filter(function(t,e){return!c[e].disabled&&!c[e].tempDisabled}));var g=d.select(".nv-linesWrap").datum(c.filter(function(t){return!t.disabled&&!t.tempDisabled}));g.call(C),c.forEach(function(t,e){t.seriesIndex=e});var m=c.filter(function(t){return!t.disabled&&!!U(t)}),v=d.select(".nv-avgLinesWrap").selectAll("line").data(m,function(t){return t.key}),y=function(t){var e=A(U(t));return e<0?0:r<e?r:e};v.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return C.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",i).attr("y1",y).attr("y2",y),v.style("stroke-opacity",function(t){var e=A(U(t));return e<0||r<e?0:1}).attr("x1",0).attr("x2",i).attr("y1",y).attr("y2",y),v.exit().remove();var b=g.selectAll(".nv-indexLine").data([X]);b.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(s),b.attr("transform",function(t){return"translate("+K(t.i)+",0)"}).attr("height",r),R&&(E.scale(x)._ticks(pt.utils.calcTicksX(i/70,c)).tickSize(-r,0),d.select(".nv-x.nv-axis").attr("transform","translate(0,"+A.range()[0]+")"),d.select(".nv-x.nv-axis").call(E)),O&&(k.scale(A)._ticks(pt.utils.calcTicksY(r/36,c)).tickSize(-i,0),d.select(".nv-y.nv-axis").call(k)),d.select(".nv-background rect").on("click",function(){X.x=d3.mouse(this)[0],X.i=Math.round(K.invert(X.x)),W.index=X.i,Y.stateChange(W),n()}),C.dispatch.on("elementClick",function(t){X.i=t.pointIndex,X.x=K(X.i),W.index=X.i,Y.stateChange(W),n()}),F.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,H=!t.disabled,(W.rescaleY=H)||(G=w(c)),Y.stateChange(W),_.update()}),S.dispatch.on("stateChange",function(t){for(var e in t)W[e]=t[e];Y.stateChange(W),_.update()}),T.dispatch.on("elementMousemove",function(i){C.clearHighlights();var r,s,o,a=[];if(c.filter(function(t,e){return t.seriesIndex=e,!(t.disabled||t.tempDisabled)}).forEach(function(t,e){s=pt.interactiveBisect(t.values,i.pointXValue,_.x()),C.highlightPoint(e,s,!0);var n=t.values[s];void 0!==n&&(void 0===r&&(r=n),void 0===o&&(o=_.xScale()(_.x()(n,s))),a.push({key:t.key,value:_.y()(n,s),color:P(t,t.seriesIndex)}))}),2<a.length){var t=_.yScale().invert(i.mouseY),e=.03*Math.abs(_.yScale().domain()[0]-_.yScale().domain()[1]),n=pt.nearestValueIndex(a.map(function(t){return t.value}),t,e);null!==n&&(a[n].highlight=!0)}var l=E.tickFormat()(_.x()(r,s),s);T.tooltip.valueFormatter(function(t,e){return k.tickFormat()(t)}).data({value:l,series:a})(),T.renderGuideLine(o)}),T.dispatch.on("elementMouseout",function(t){C.clearHighlights()}),Y.on("changeState",function(n){void 0!==n.disabled&&(c.forEach(function(t,e){t.disabled=n.disabled[e]}),W.disabled=n.disabled),void 0!==n.index&&(X.i=n.index,X.x=K(X.i),W.index=n.index,b.data([X])),void 0!==n.rescaleY&&(H=n.rescaleY),_.update()})}),i.renderEnd("cumulativeLineChart immediate"),_}function w(t){var e=t.filter(function(t){return!(t.disabled||t.tempDisabled)}).map(function(t,e){return d3.extent(t.values,function(t){return t.display.y})});return[d3.min(e,function(t){return t[0]}),d3.max(e,function(t){return t[1]})]}var x,A,C=pt.models.line(),E=pt.models.axis(),k=pt.models.axis(),S=pt.models.legend(),F=pt.models.legend(),T=pt.interactiveGuideline(),n=pt.models.tooltip(),D={top:30,right:30,bottom:50,left:60},M=null,P=pt.utils.defaultColor(),L=null,B=null,$=!0,R=!0,O=!0,I=!1,N=!0,z=!1,H=!0,j=C.id(),W=pt.utils.state(),V=null,e=null,U=function(t){return t.average},Y=d3.dispatch("stateChange","changeState","renderEnd"),q=250,Z=!1;W.index=0,W.rescaleY=H,E.orient("bottom").tickPadding(7),k.orient(I?"right":"left"),n.valueFormatter(function(t,e){return k.tickFormat()(t,e)}).headerFormatter(function(t,e){return E.tickFormat()(t,e)}),F.updateState(!1);var G,K=d3.scale.linear(),X={i:0,x:0},i=pt.utils.renderWatch(Y,q),Q=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:X.i,rescaleY:H}}},J=function(t){return function(n){void 0!==n.index&&(X.i=n.index),void 0!==n.rescaleY&&(H=n.rescaleY),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};C.dispatch.on("elementMouseover.tooltip",function(t){var e={x:_.x()(t.point),y:_.y()(t.point),color:t.point.color};t.point=e,n.data(t).hidden(!1)}),C.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)});var tt=null;return _.dispatch=Y,_.lines=C,_.legend=S,_.controls=F,_.xAxis=E,_.yAxis=k,_.interactiveLayer=T,_.state=W,_.tooltip=n,_.options=pt.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return L},set:function(t){L=t}},height:{get:function(){return B},set:function(t){B=t}},showControls:{get:function(){return N},set:function(t){N=t}},showLegend:{get:function(){return $},set:function(t){$=t}},average:{get:function(){return U},set:function(t){U=t}},defaultState:{get:function(){return V},set:function(t){V=t}},noData:{get:function(){return e},set:function(t){e=t}},showXAxis:{get:function(){return R},set:function(t){R=t}},showYAxis:{get:function(){return O},set:function(t){O=t}},noErrorCheck:{get:function(){return Z},set:function(t){Z=t}},rescaleY:{get:function(){return H},set:function(t){H=t,_.state.rescaleY=t}},margin:{get:function(){return D},set:function(t){void 0!==t.top&&(D.top=t.top,M=t.top),D.right=void 0!==t.right?t.right:D.right,D.bottom=void 0!==t.bottom?t.bottom:D.bottom,D.left=void 0!==t.left?t.left:D.left}},color:{get:function(){return P},set:function(t){P=pt.utils.getColor(t),S.color(P)}},useInteractiveGuideline:{get:function(){return z},set:function(t){!0===(z=t)&&(_.interactive(!1),_.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return I},set:function(t){I=t,k.orient(t?"right":"left")}},duration:{get:function(){return q},set:function(t){q=t,C.duration(q),E.duration(q),k.duration(q),i.reset(q)}}}),pt.utils.inheritOptions(_,C),pt.utils.initOptions(_),_},pt.models.discreteBar=function(){"use strict";function e(t){return T.reset(),t.each(function(t){var e=v-m.left-m.right,n=y-m.top-m.bottom;c=d3.select(this),pt.utils.initSVG(c),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var i=h&&u?[]:t.map(function(t){return t.values.map(function(t,e){return{x:w(t,e),y:x(t,e),y0:t.y0}})});b.domain(h||d3.merge(i).map(function(t){return t.x})).rangeBands(d||[0,e],.1),_.domain(u||d3.extent(d3.merge(i).map(function(t){return t.y}).concat(A))),E?_.range(f||[n-(_.domain()[0]<0?12:0),0<_.domain()[1]?12:0]):_.range(f||[n,0]),p=p||b,g=g||_.copy().range([_(0),_(0)]);var r=c.selectAll("g.nv-wrap.nv-discretebar").data([t]),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");r.select("g"),s.append("g").attr("class","nv-groups"),r.attr("transform","translate("+m.left+","+m.top+")");var o=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});o.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),o.exit().watchTransition(T,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),o.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),o.watchTransition(T,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var a=o.selectAll("g.nv-bar").data(function(t){return t.values});a.exit().remove();var l=a.enter().append("g").attr("transform",function(t,e,n){return"translate("+(b(w(t,e))+.05*b.rangeBand())+", "+_(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),S.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),S.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){S.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){S.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){S.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});l.append("rect").attr("height",0).attr("width",.9*b.rangeBand()/t.length),E?(l.append("text").attr("text-anchor","middle"),a.select("text").text(function(t,e){return k(x(t,e))}).watchTransition(T,"discreteBar: bars text").attr("x",.9*b.rangeBand()/2).attr("y",function(t,e){return x(t,e)<0?_(x(t,e))-_(0)+12:-4})):a.selectAll("text").remove(),a.attr("class",function(t,e){return x(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||C(t,e)}).style("stroke",function(t,e){return t.color||C(t,e)}).select("rect").attr("class",F).watchTransition(T,"discreteBar: bars rect").attr("width",.9*b.rangeBand()/t.length),a.watchTransition(T,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(b(w(t,e))+.05*b.rangeBand())+", "+(x(t,e)<0?_(0):_(0)-_(x(t,e))<1?_(0)-1:_(x(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(_(x(t,e))-_(0)),1)}),p=b.copy(),g=_.copy()}),T.renderEnd("discreteBar immediate"),e}var c,h,u,d,f,p,g,m={top:0,right:0,bottom:0,left:0},v=960,y=500,n=Math.floor(1e4*Math.random()),b=d3.scale.ordinal(),_=d3.scale.linear(),w=function(t){return t.x},x=function(t){return t.y},A=[0],C=pt.utils.defaultColor(),E=!1,k=d3.format(",.2f"),S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F="discreteBar",i=250,T=pt.utils.renderWatch(S,i);return e.dispatch=S,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return A},set:function(t){A=t}},showValues:{get:function(){return E},set:function(t){E=t}},x:{get:function(){return w},set:function(t){w=t}},y:{get:function(){return x},set:function(t){x=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return _},set:function(t){_=t}},xDomain:{get:function(){return h},set:function(t){h=t}},yDomain:{get:function(){return u},set:function(t){u=t}},xRange:{get:function(){return d},set:function(t){d=t}},yRange:{get:function(){return f},set:function(t){f=t}},valueFormat:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return n},set:function(t){n=t}},rectClass:{get:function(){return F},set:function(t){F=t}},margin:{get:function(){return m},set:function(t){m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},color:{get:function(){return C},set:function(t){C=pt.utils.getColor(t)}},duration:{get:function(){return i},set:function(t){i=t,T.reset(i)}}}),pt.utils.initOptions(e),e},pt.models.discreteBarChart=function(){"use strict";function c(t){return r.reset(),r.models(d),w&&r.models(f),x&&r.models(p),t.each(function(t){var e=d3.select(this);pt.utils.initSVG(e);var n=pt.utils.availableWidth(y,e,m),i=pt.utils.availableHeight(b,e,m);if(c.update=function(){S.beforeUpdate(),e.transition().duration(F).call(c)},c.container=this,!(t&&t.length&&t.filter(function(t){return t.values.length}).length))return pt.utils.noData(c,e),c;e.selectAll(".nv-noData").remove(),h=d.xScale(),u=d.yScale().clamp(!0);var r=e.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([t]),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),o=s.append("defs"),a=r.select("g");if(s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),s.append("g").attr("class","nv-barsWrap"),s.append("g").attr("class","nv-legendWrap"),a.attr("transform","translate("+m.left+","+m.top+")"),_?(g.width(n),a.select(".nv-legendWrap").datum(t).call(g),v||g.height()===m.top||(m.top=g.height(),i=pt.utils.availableHeight(b,e,m)),r.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")):a.select(".nv-legendWrap").selectAll("*").remove(),A&&a.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),d.width(n).height(i),a.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(d),o.append("clipPath").attr("id","nv-x-label-clip-"+d.id()).append("rect"),a.select("#nv-x-label-clip-"+d.id()+" rect").attr("width",h.rangeBand()*(C?2:1)).attr("height",16).attr("x",-h.rangeBand()/(C?1:2)),w){f.scale(h)._ticks(pt.utils.calcTicksX(n/100,t)).tickSize(-i,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+(u.range()[0]+(d.showValues()&&u.domain()[0]<0?16:0))+")"),a.select(".nv-x.nv-axis").call(f);var l=a.select(".nv-x.nv-axis").selectAll("g");C&&l.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),k&&l.selectAll(".tick text").attr("transform","rotate("+k+" 0,0)").style("text-anchor",0<k?"start":"end"),E&&a.selectAll(".tick text").call(pt.utils.wrapTicks,c.xAxis.rangeBand())}x&&(p.scale(u)._ticks(pt.utils.calcTicksY(i/36,t)).tickSize(-n,0),a.select(".nv-y.nv-axis").call(p)),a.select(".nv-zeroLine line").attr("x1",0).attr("x2",A?-n:n).attr("y1",u(0)).attr("y2",u(0))}),r.renderEnd("discreteBar chart immediate"),c}var h,u,d=pt.models.discreteBar(),f=pt.models.axis(),p=pt.models.axis(),g=pt.models.legend(),e=pt.models.tooltip(),m={top:15,right:10,bottom:50,left:60},v=null,y=null,b=null,n=pt.utils.getColor(),_=!1,w=!0,x=!0,A=!1,C=!1,E=!1,k=0,i=null,S=d3.dispatch("beforeUpdate","renderEnd"),F=250;f.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),p.orient(A?"right":"left").tickFormat(d3.format(",.1f")),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return p.tickFormat()(t,e)}).keyFormatter(function(t,e){return f.tickFormat()(t,e)});var r=pt.utils.renderWatch(S,F);return d.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:c.x()(t.data),value:c.y()(t.data),color:t.color},e.data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(t){e()}),c.dispatch=S,c.discretebar=d,c.legend=g,c.xAxis=f,c.yAxis=p,c.tooltip=e,c.options=pt.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return b},set:function(t){b=t}},showLegend:{get:function(){return _},set:function(t){_=t}},staggerLabels:{get:function(){return C},set:function(t){C=t}},rotateLabels:{get:function(){return k},set:function(t){k=t}},wrapLabels:{get:function(){return E},set:function(t){E=!!t}},showXAxis:{get:function(){return w},set:function(t){w=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},noData:{get:function(){return i},set:function(t){i=t}},margin:{get:function(){return m},set:function(t){void 0!==t.top&&(m.top=t.top,v=t.top),m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},duration:{get:function(){return F},set:function(t){F=t,r.reset(F),d.duration(F),f.duration(F),p.duration(F)}},color:{get:function(){return n},set:function(t){n=pt.utils.getColor(t),d.color(n),g.color(n)}},rightAlignYAxis:{get:function(){return A},set:function(t){A=t,p.orient(t?"right":"left")}}}),pt.utils.inheritOptions(c,d),pt.utils.initOptions(c),c},pt.models.distribution=function(){"use strict";function e(t){return p.reset(),t.each(function(t){var e=("x"===h?(l.left,l.right):(l.top,l.bottom),"x"==h?"y":"x"),n=d3.select(this);pt.utils.initSVG(n),a=a||f;var i=n.selectAll("g.nv-distribution").data([t]),r=(i.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),i.select("g"));i.attr("transform","translate("+l.left+","+l.top+")");var s=r.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});s.enter().append("g"),s.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return d(t,e)});var o=s.selectAll("line.nv-dist"+h).data(function(t){return t.values});o.enter().append("line").attr(h+"1",function(t,e){return a(u(t,e))}).attr(h+"2",function(t,e){return a(u(t,e))}),p.transition(s.exit().selectAll("line.nv-dist"+h),"dist exit").attr(h+"1",function(t,e){return f(u(t,e))}).attr(h+"2",function(t,e){return f(u(t,e))}).style("stroke-opacity",0).remove(),o.attr("class",function(t,e){return"nv-dist"+h+" nv-dist"+h+"-"+e}).attr(e+"1",0).attr(e+"2",c),p.transition(o,"dist").attr(h+"1",function(t,e){return f(u(t,e))}).attr(h+"2",function(t,e){return f(u(t,e))}),a=f.copy()}),p.renderEnd("distribution immediate"),e}var a,l={top:0,right:0,bottom:0,left:0},n=400,c=8,h="x",u=function(t){return t[h]},d=pt.utils.defaultColor(),f=d3.scale.linear(),i=250,t=d3.dispatch("renderEnd"),p=pt.utils.renderWatch(t,i);return e.options=pt.utils.optionsFunc.bind(e),e.dispatch=t,e.margin=function(t){return arguments.length?(l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left,e):l},e.width=function(t){return arguments.length?(n=t,e):n},e.axis=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(c=t,e):c},e.getData=function(t){return arguments.length?(u=d3.functor(t),e):u},e.scale=function(t){return arguments.length?(f=t,e):f},e.color=function(t){return arguments.length?(d=pt.utils.getColor(t),e):d},e.duration=function(t){return arguments.length?(i=t,p.reset(i),e):i},e},pt.models.distroPlot=function(){"use strict";function w(t,e){void 0===e&&(e="scott");var n,i,r=(n=t.sort(d3.ascending),i=(d3.quantile(n,.75)-d3.quantile(n,.25))/1.349,d3.min([d3.deviation(n),i])),s=t.length;return"scott"===e?Math.pow(1.059*r*s,-.2):Math.pow(.9*r*s,-.2)}function a(t){function n(n,i){var t,e=n.map(function(t){return U&&rt.add(U(t)),F(t)}).sort(d3.ascending),r=d3.quantile(e,.25),s=d3.quantile(e,.75),o=s-r,a=s+1.5*o,l=r-1.5*o,c={iqr:d3.max([d3.min(e),d3.min(e.filter(function(t){return l<t}))]),minmax:d3.min(e),stddev:d3.mean(e)-d3.deviation(e)},h={iqr:d3.min([d3.max(e),d3.max(e.filter(function(t){return t<a}))]),minmax:d3.max(e),stddev:d3.mean(e)+d3.deviation(e)},u=d3.median(e),d=d3.mean(e),f=[];(void 0!==d3.beeswarm?(f=d3.beeswarm().data(n.map(function(t){return F(t)})).radius(J+1).orientation("vertical").side("symmetric").distributeOn(function(t){return S(t)}).arrange()).map(function(t,e){t.key=i,t.object_constancy=n[e].object_constancy,t.isOutlier=t.datum<c.iqr||t.datum>h.iqr,t.isOutlierStdDev=t.datum<c.stddev||t.datum>h.stddev,t.randX=Math.random()*Z*(1==Math.floor(2*Math.random())?1:-1)}):e.forEach(function(t,e){f.push({object_constancy:t.object_constancy,datum:t,key:i,isOutlier:t<c.iqr||h.iqr<t,isOutlierStdDev:t<c.stddev||h.stddev<t,randX:Math.random()*Z*(1==Math.floor(2*Math.random())?1:-1)})}),isNaN(parseFloat(K)))&&(t=-1!=["scott","silverman"].indexOf(K)?w(e,K):w(e));var p,g,m,v=(m=t,p=function(t){return Math.abs(t/=m)<=1?.75*(1-t*t)/m:0},g=S.ticks(Q),function(n){return g.map(function(e){var t=d3.mean(n,function(t){return p(e-t)});return{x:e,y:t}})}),y=X?function(t,n){if(n[0]===n[1])return t;var e=t.reduce(function(t,e){return e.x>=n[0]&&e.x<=n[1]&&t.push(e),t},[]);return n[0]<e[0].x&&e.unshift({x:n[0],y:e[0].y}),n[1]>e[e.length-1].x&&e.push({x:n[1],y:e[e.length-1].y}),e}(v(e),d3.extent(e)):v(e),b=d3.scale.linear().domain([0,d3.max(y,function(t){return t.y})]).clamp(!0);st.push(b);var _={count:e.length,num_outlier:f.filter(function(t){return t.isOutlier}).length,sum:d3.sum(e),mean:d,q1:r,q2:u,q3:s,wl:c,wu:h,iqr:o,min:d3.min(e),max:d3.max(e),dev:d3.deviation(e),observations:f,key:i,kde:y,notch:1.57*o/Math.sqrt(e.length)};return U&&ot.push({key:i,values:_}),_}var i;if(t.forEach(function(t,e){t.object_constancy=e+"_"+F(t)+"_"+u(t)}),U){rt=d3.set();var e=d3.nest().key(function(t){return u(t)}).key(function(t){return U(t)}).rollup(function(t){return n(t,u(t[0]))}).entries(t);rt=rt.values();for(var r=e.map(function(t){return t.key}),s=[],o=0;o<r.length;o++)for(var a=0;a<rt.length;a++)s.push(r[o]+"_"+rt[a]);rt=s,i=[],e.forEach(function(e){e.values.forEach(function(t){t.key=e.key+"_"+t.key}),i.push.apply(i,e.values)})}else i=d3.nest().key(function(t){return u(t)}).rollup(function(t,e){return n(t)}).entries(t);return i}function l(t){return"iqr"==i&&t.isOutlier||"stddev"==i&&t.isOutlierStdDev}function e(t){return at.reset(),t.each(function(t){_=C-A.left-A.right,x=E-A.top-A.bottom,et=d3.select(this),pt.utils.initSVG(et),S.domain(v||d3.extent(t.map(function(t){return F(t)}))).nice().range(y||[x,0]),void 0===b&&(b=a(t)),k.rangeBands(h||[0,_],.1).domain(c||U&&!G?rt:b.map(function(t){return t.key}));var e=et.selectAll("g.nv-wrap").data([b]);e.enter().append("g").attr("class","nvd3 nv-wrap"),e.watchTransition(at,"nv-wrap: wrap").attr("transform","translate("+A.left+","+A.top+")");var s,u=e.selectAll(".nv-distroplot-x-group").data(function(t){return t});u.each(function(t,e){d3.select(this).selectAll("line.nv-distroplot-middle").datum(t)}),s=u.enter().append("g").attr("class","nv-distroplot-x-group").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).style("fill",function(t,e){return T(t)||tt(t,e)}).style("stroke",function(t,e){return T(t)||tt(t,e)}),u.exit().remove();var n=function(){return k.rangeBand()},d=function(){return d3.min([it,.9*n()])},f=function(){return d()/2},p=function(){return f()-d()/2},g=function(){return f()-d()/5},i=function(){return f()+d()/5};s.attr("transform",function(t){return"translate("+(k(t.key)+.5*(n()-d()))+", 0)"}),u.watchTransition(at,"nv-distroplot-x-group: distroplots").style("stroke-opacity",1).style("fill-opacity",.5).attr("transform",function(t){return"translate("+(k(t.key)+.5*(n()-d()))+", 0)"}),st.map(function(t){t.range([d()/2,0])}),m||(q=!1,j||(j="random")),s.each(function(t,e){var n=d3.select(this);[R,O].forEach(function(t){var e=t===R?"low":"high";n.append("line").style("opacity",function(){return W?"1":"0"}).attr("class","nv-distroplot-whisker nv-distroplot-"+e),n.append("line").style("opacity",function(){return W?"0":"1"}).attr("class","nv-distroplot-tick nv-distroplot-"+e)})}),[R,O].forEach(function(n){var t=n===R?"low":"high",e=n===R?D:P;u.select("line.nv-distroplot-whisker.nv-distroplot-"+t).watchTransition(at,"nv-distroplot-x-group: distroplots").attr("x1",f()).attr("y1",function(t){return S("violin"!=m?n(t):M(t))}).attr("x2",f()).attr("y2",function(t){return S("box"==m?e(t):M(t))}).style("opacity",function(){return W?"0":"1"}),u.select("line.nv-distroplot-tick.nv-distroplot-"+t).watchTransition(at,"nv-distroplot-x-group: distroplots").attr("x1",function(t){return"violin"!=m?g():f()}).attr("y1",function(t,e){return S("violin"!=m?n(t):M(t))}).attr("x2",function(t){return"violin"!=m?i():f()}).attr("y2",function(t,e){return S("violin"!=m?n(t):M(t))}).style("opacity",function(){return W?"0":"1"})}),[R,O].forEach(function(i){var r=i===R?"low":"high";s.selectAll(".nv-distroplot-"+r).on("mouseover",function(t,e,n){d3.select(this.parentNode).selectAll("line.nv-distroplot-"+r).classed("hover",!0),nt.elementMouseover({value:"low"==r?"Lower whisker":"Upper whisker",series:{key:i(t).toFixed(2),color:T(t)||tt(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this.parentNode).selectAll("line.nv-distroplot-"+r).classed("hover",!1),nt.elementMouseout({value:"low"==r?"Lower whisker":"Upper whisker",series:{key:i(t).toFixed(2),color:T(t)||tt(t,n)},e:d3.event})}).on("mousemove",function(t,e){nt.elementMousemove({e:d3.event})})}),s.each(function(t,e){var n=d3.select(this);["left","right"].forEach(function(e){["line","area"].forEach(function(t){n.append("path").attr("class","nv-distribution-"+t+" nv-distribution-"+e).attr("transform","rotate(90,0,0)   translate(0,"+("left"==e?-d():0)+")"+("left"==e?"":" scale(1,-1)"))})}),s.selectAll(".nv-distribution-line").style("fill","none"),s.selectAll(".nv-distribution-area").style("stroke","none").style("opacity",.7)}),u.each(function(t,e){var n,i,r,s,o,a=d3.select(this),l="box"==m?(n=p(),i=g(),r=f(),s=t,o="mean"==Y?$(s):M(s),V?[{x:r,y:S(D(s))},{x:n,y:S(D(s))},{x:n,y:S(L(s))},{x:i,y:S(o)},{x:n,y:S(B(s))},{x:n,y:S(P(s))},{x:r,y:S(P(s))}]:[{x:r,y:S(D(s))},{x:n,y:S(D(s))},{x:n,y:S(o)},{x:n,y:S(o)},{x:n,y:S(o)},{x:n,y:S(P(s))},{x:r,y:S(P(s))}]):t.values.kde;a.selectAll("path").datum(l);var c=st[e],h="box"==m?"linear":"basis";"box"==m||"violin"==m?["left","right"].forEach(function(t){u.selectAll(".nv-distribution-line.nv-distribution-"+t).attr("d",d3.svg.line().x(function(t){return"box"==m?t.y:S(t.x)}).y(function(t){return"box"==m?t.x:c(t.y)}).interpolate(h)).attr("transform","rotate(90,0,0)   translate(0,"+("left"==t?-d():0)+")"+("left"==t?"":" scale(1,-1)")).style("opacity",m?"1":"0"),u.selectAll(".nv-distribution-area.nv-distribution-"+t).attr("d",d3.svg.area().x(function(t){return"box"==m?t.y:S(t.x)}).y(function(t){return"box"==m?t.x:c(t.y)}).y0(d()/2).interpolate(h)).attr("transform","rotate(90,0,0)   translate(0,"+("left"==t?-d():0)+")"+("left"==t?"":" scale(1,-1)")).style("opacity",m?"1":"0")}):(u.selectAll(".nv-distribution-area").watchTransition(at,"nv-distribution-area: distroplots").style("opacity",m?"1":"0"),u.selectAll(".nv-distribution-line").watchTransition(at,"nv-distribution-line: distroplots").style("opacity",m?"1":"0"))}),u.selectAll("path").on("mouseover",function(t,e,n){t=d3.select(this.parentNode).datum(),d3.select(this).classed("hover",!0),nt.elementMouseover({key:t.key,value:"Group "+t.key+" stats",series:[{key:"max",value:N(t).toFixed(2),color:T(t)||tt(t,n)},{key:"Q3",value:P(t).toFixed(2),color:T(t)||tt(t,n)},{key:"Q2",value:M(t).toFixed(2),color:T(t)||tt(t,n)},{key:"Q1",value:D(t).toFixed(2),color:T(t)||tt(t,n)},{key:"min",value:I(t).toFixed(2),color:T(t)||tt(t,n)},{key:"mean",value:$(t).toFixed(2),color:T(t)||tt(t,n)},{key:"std. dev.",value:z(t).toFixed(2),color:T(t)||tt(t,n)},{key:"count",value:t.values.count,color:T(t)||tt(t,n)},{key:"num. outliers",value:t.values.num_outlier,color:T(t)||tt(t,n)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),t=d3.select(this.parentNode).datum(),nt.elementMouseout({key:t.key,value:"Group "+t.key+" stats",series:[{key:"max",value:N(t).toFixed(2),color:T(t)||tt(t,n)},{key:"Q3",value:P(t).toFixed(2),color:T(t)||tt(t,n)},{key:"Q2",value:M(t).toFixed(2),color:T(t)||tt(t,n)},{key:"Q1",value:D(t).toFixed(2),color:T(t)||tt(t,n)},{key:"min",value:I(t).toFixed(2),color:T(t)||tt(t,n)},{key:"mean",value:$(t).toFixed(2),color:T(t)||tt(t,n)},{key:"std. dev.",value:z(t).toFixed(2),color:T(t)||tt(t,n)},{key:"count",value:t.values.count,color:T(t)||tt(t,n)},{key:"num. outliers",value:t.values.num_outlier,color:T(t)||tt(t,n)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){nt.elementMousemove({e:d3.event})}),s.append("line").attr("class",function(t){return"nv-distroplot-middle"}),u.selectAll("line.nv-distroplot-middle").watchTransition(at,"nv-distroplot-x-group: distroplots line").attr("x1",V?g:"violin"!=m?p:g()).attr("y1",function(t,e,n){return S("mean"==Y?$(t):M(t))}).attr("x2",V?i:"violin"!=m?function(){return f()+d()/2}:i()).attr("y2",function(t,e){return S("mean"==Y?$(t):M(t))}).style("opacity",Y?"1":"0"),u.selectAll(".nv-distroplot-middle").on("mouseover",function(t,e,n){if(0!=d3.select(this).style("opacity")){var i=d3.select(this.parentNode).style("fill");d3.select(this).classed("hover",!0),nt.elementMouseover({value:"mean"==Y?"Mean":"Median",series:{key:"mean"==Y?$(t).toFixed(2):M(t).toFixed(2),color:i},e:d3.event})}}).on("mouseout",function(t,e,n){if(0!=d3.select(this).style("opacity")){d3.select(this).classed("hover",!1);var i=d3.select(this.parentNode).style("fill");nt.elementMouseout({value:"mean"==Y?"Mean":"Median",series:{key:"mean"==Y?$(t).toFixed(2):M(t).toFixed(2),color:i},e:d3.event})}}).on("mousemove",function(t,e){nt.elementMousemove({e:d3.event})});var r=u.selectAll("g.nv-distroplot-observation").data(function(t){return H(t)},function(t){return t.object_constancy}),o=r.enter().append("g").attr("class","nv-distroplot-observation");o.append("circle").style({opacity:0}),o.append("line").style("stroke-width",1).style({stroke:d3.rgb(85,85,85),opacity:0}),r.exit().remove(),r.attr("class",function(t){return"nv-distroplot-observation "+(l(t)&&"box"==m?"nv-distroplot-outlier":"nv-distroplot-non-outlier")}),"line"==j?u.selectAll("g.nv-distroplot-observation line").watchTransition(at,"nv-distrolot-x-group: nv-distoplot-observation").attr("x1",g()+d()/4).attr("x2",i()-d()/4).attr("y1",function(t){return S(t.datum)}).attr("y2",function(t){return S(t.datum)}):(u.selectAll("g.nv-distroplot-observation circle").watchTransition(at,"nv-distroplot: nv-distroplot-observation").attr("cy",function(t){return S(t.datum)}).attr("r",J),u.selectAll("g.nv-distroplot-observation circle").watchTransition(at,"nv-distroplot: nv-distroplot-observation").attr("cx",function(t){return"swarm"==j?t.x+d()/2:"random"==j?d()/2+t.randX*d()/2:d()/2})),!1!==j&&(q?(u.selectAll(".nv-distroplot-outlier "+("line"==j?"line":"circle")).watchTransition(at,"nv-distroplot: nv-distroplot-observation").style("opacity",1),u.selectAll(".nv-distroplot-non-outlier "+("line"==j?"line":"circle")).watchTransition(at,"nv-distroplot: nv-distroplot-observation").style("opacity",0)):u.selectAll("line"==j?"line":"circle").watchTransition(at,"nv-distroplot: nv-distroplot-observation").style("opacity",1)),u.selectAll(".nv-distroplot-observation"+("line"==j?" circle":" line")).watchTransition(at,"nv-distroplot: nv-distoplot-observation").style("opacity",0),u.selectAll(".nv-distroplot-observation").on("mouseover",function(t,e,n){var i=d3.select(this);if(!q||"box"!=m||l(t)){var r=d3.select(this.parentNode).style("fill");i.classed("hover",!0),nt.elementMouseover({value:"box"==m&&l(t)?"Outlier":"Observation",series:{key:t.datum.toFixed(2),color:r},e:d3.event})}}).on("mouseout",function(t,e,n){var i=d3.select(this),r=d3.select(this.parentNode).style("fill");i.classed("hover",!1),nt.elementMouseout({value:"box"==m&&l(t)?"Outlier":"Observation",series:{key:t.datum.toFixed(2),color:r},e:d3.event})}).on("mousemove",function(t,e){nt.elementMousemove({e:d3.event})})}),at.renderEnd("nv-distroplot-x-group immediate"),e}var m,c,h,v,y,b,_,x,A={top:0,right:0,bottom:0,left:0},C=960,E=500,n=Math.floor(1e4*Math.random()),k=d3.scale.ordinal(),S=d3.scale.linear(),u=function(t){return t.label},F=function(t){return t.value},T=function(t){return t.color},D=function(t){return t.values.q1},M=function(t){return t.values.q2},P=function(t){return t.values.q3},L=function(t){return("mean"==Y?$(t):M(t))-t.values.notch},B=function(t){return("mean"==Y?$(t):M(t))+t.values.notch},$=function(t){return t.values.mean},R=function(t){return t.values.wl[i]},O=function(t){return t.values.wu[i]},I=function(t){return t.values.min},N=function(t){return t.values.max},z=function(t){return t.values.dev},H=function(t){return t.values.observations},j=!1,i="iqr",W=!1,V=!1,U=!1,Y=!1,q=!0,Z=.7,G=!0,K="scott",X=!0,Q=50,J=3,tt=pt.utils.defaultColor(),et=null,nt=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),r=250,it=null,rt=d3.set(),st=[],ot=[],at=pt.utils.renderWatch(nt,r);return e.dispatch=nt,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return E},set:function(t){E=t}},maxBoxWidth:{get:function(){return it},set:function(t){it=t}},x:{get:function(){return u},set:function(t){u=t}},y:{get:function(){return F},set:function(t){F=t}},plotType:{get:function(){return m},set:function(t){m=t}},observationType:{get:function(){return j},set:function(t){j=t}},whiskerDef:{get:function(){return i},set:function(t){i=t}},notchBox:{get:function(){return V},set:function(t){V=t}},hideWhiskers:{get:function(){return W},set:function(t){W=t}},colorGroup:{get:function(){return U},set:function(t){U=t}},centralTendency:{get:function(){return Y},set:function(t){Y=t}},bandwidth:{get:function(){return K},set:function(t){K=t}},clampViolin:{get:function(){return X},set:function(t){X=t}},resolution:{get:function(){return Q},set:function(t){Q=t}},xScale:{get:function(){return k},set:function(t){k=t}},yScale:{get:function(){return S},set:function(t){S=t}},showOnlyOutliers:{get:function(){return q},set:function(t){q=t}},jitter:{get:function(){return Z},set:function(t){Z=t}},squash:{get:function(){return G},set:function(t){G=t}},pointSize:{get:function(){return J},set:function(t){J=t}},xDomain:{get:function(){return c},set:function(t){c=t}},yDomain:{get:function(){return v},set:function(t){v=t}},xRange:{get:function(){return h},set:function(t){h=t}},yRange:{get:function(){return y},set:function(t){y=t}},recalcData:{get:function(){b=a(et.datum())}},itemColor:{get:function(){return T},set:function(t){T=t}},id:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return A},set:function(t){A.top=void 0!==t.top?t.top:A.top,A.right=void 0!==t.right?t.right:A.right,A.bottom=void 0!==t.bottom?t.bottom:A.bottom,A.left=void 0!==t.left?t.left:A.left}},color:{get:function(){return tt},set:function(t){tt=pt.utils.getColor(t)}},duration:{get:function(){return r},set:function(t){r=t,at.reset(r)}}}),pt.utils.initOptions(e),e},pt.models.distroPlotChart=function(){"use strict";function c(t){return!function(t,e){if(t.length!==e.length)return!1;for(var n=t.length;n--;)if("object_constancy"in t[n]&&delete t[n].object_constancy,"object_constancy"in e[n]&&delete e[n].object_constancy,!i(t[n],e[n]))return!1;return!0}(t,P)&&(P=JSON.parse(JSON.stringify(t)),!0)}function i(t,e){var n=Object.getOwnPropertyNames(t),i=Object.getOwnPropertyNames(e);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var s=n[r];if(t[s]!==e[s])return!1}return!0}function h(t){return L.reset(),L.models(f),b&&L.models(p),_&&L.models(g),t.each(function(e){var n=d3.select(this);pt.utils.initSVG(n);var t=(v||parseInt(n.style("width"))||960)-m.left-m.right,i=(y||parseInt(n.style("height"))||400)-m.top-m.bottom;if(void 0===P&&(P=JSON.parse(JSON.stringify(e))),h.update=function(){C.beforeUpdate();var t=f.options();(k!==t.colorGroup()||S!==t.x()||F!==t.y()||D!==t.bandwidth()||T!==t.resolution()||M!==t.clampViolin()||c(e))&&f.recalcData(),n.transition().duration(E).call(h)},h.container=this,"function"!=typeof d3.beeswarm&&"swarm"==h.options().observationType())return m.left,A='Please include the library https://github.com/Kcnarf/d3-beeswarm to use "swarm".',pt.utils.noData(h,n),h;if(!e||!e.length)return pt.utils.noData(h,n),h;n.selectAll(".nv-noData").remove(),u=f.xScale(),d=f.yScale().clamp(!0);var r=n.selectAll("g.nv-wrap.nv-distroPlot").data([e]),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-distroPlot").append("g"),o=s.append("defs"),a=r.select("g");if(s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),s.append("g").attr("class","nv-distroWrap"),s.attr("transform","translate("+m.left+","+m.top+")"),a.watchTransition(L,"nv-wrap: wrap").attr("transform","translate("+m.left+","+m.top+")"),w&&a.select(".nv-y.nv-axis").attr("transform","translate("+t+",0)"),f.width(t).height(i),a.select(".nv-distroWrap").datum(e).transition().call(f),o.append("clipPath").attr("id","nv-x-label-clip-"+f.id()).append("rect"),a.select("#nv-x-label-clip-"+f.id()+" rect").attr("width",u.rangeBand()*(x?2:1)).attr("height",16).attr("x",-u.rangeBand()/(x?1:2)),b){p.scale(u).ticks(pt.utils.calcTicksX(t/100,e)).tickSize(-i,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),a.select(".nv-x.nv-axis").call(p);var l=a.select(".nv-x.nv-axis").selectAll("g");x&&l.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}_&&(g.scale(d).ticks(Math.floor(i/36)).tickSize(-t,0),a.select(".nv-y.nv-axis").call(g)),a.select(".nv-zeroLine line").attr("x1",0).attr("x2",t).attr("y1",d(0)).attr("y2",d(0)),k=f.options().colorGroup(),S=f.options().x(),F=f.options().y(),D=f.options().bandwidth(),T=f.options().resolution(),M=f.options().clampViolin()}),L.renderEnd("nv-distroplot chart immediate"),h}var u,d,f=pt.models.distroPlot(),p=pt.models.axis(),g=pt.models.axis(),m={top:25,right:10,bottom:40,left:60},v=null,y=null,e=pt.utils.getColor(),b=!0,_=!0,w=!1,x=!1,n=!1,r=!1,s=pt.models.tooltip(),A="No Data Available.",C=d3.dispatch("stateChange","beforeUpdate","renderEnd"),E=500;p.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),g.orient(w?"right":"left").tickFormat(d3.format(",.1f")),s.duration(0);var k,S,F,T,D,M,P,L=pt.utils.renderWatch(C,E);return m.top,f.dispatch.on("elementMouseover.tooltip",function(t){s.data(t).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(t){s.data(t).hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(t){s()}),h.dispatch=C,h.distroplot=f,h.xAxis=p,h.yAxis=g,h.tooltip=s,h.options=pt.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},staggerLabels:{get:function(){return x},set:function(t){x=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},tooltipContent:{get:function(){return s},set:function(t){s=t}},noData:{get:function(){return A},set:function(t){A=t}},defaultState:{get:function(){return defaultState},set:function(t){defaultState=t}},margin:{get:function(){return m},set:function(t){m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},duration:{get:function(){return E},set:function(t){E=t,L.reset(E),f.duration(E),p.duration(E),g.duration(E)}},color:{get:function(){return e},set:function(t){e=pt.utils.getColor(t),f.color(e)}},rightAlignYAxis:{get:function(){return w},set:function(t){w=t,g.orient(t?"right":"left")}},xLabel:{get:function(){return n},set:function(t){n=t,p.axisLabel(n)}},yLabel:{get:function(){return r},set:function(t){r=t,g.axisLabel(r)}}}),pt.utils.inheritOptions(h,f),pt.utils.initOptions(h),h},pt.models.focus=function(d){"use strict";function f(t){return e.reset(),e.models(d),A&&e.models(m),C&&e.models(v),t.each(function(n){function t(t){k=y.empty()?null:y.extent();var e=y.empty()?p.domain():y.extent();F.brush({extent:e,brush:y}),y.empty()||y.extent(k),c.data([y.empty()?p.domain():k]).each(function(t,e){var n=p(t[0])-p.range()[0],i=r-p(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",p(t[1])).attr("width",i<0?0:i)}),t&&F.onBrush(e)}var e=d3.select(this);pt.utils.initSVG(e);var r=pt.utils.availableWidth(w,e,b),s=x-b.top-b.bottom;f.update=function(){0===S?e.call(f):e.transition().duration(S).call(f)},f.container=this,p=d.xScale(),g=d.yScale();var i=e.selectAll("g.nv-focus").data([n]),o=i.enter().append("g").attr("class","nvd3 nv-focus").append("g"),a=i.select("g");i.attr("transform","translate("+b.left+","+b.top+")"),o.append("g").attr("class","nv-background").append("rect"),o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),o.append("g").attr("class","nv-contentWrap"),o.append("g").attr("class","nv-brushBackground"),o.append("g").attr("class","nv-x nv-brush"),E&&a.select(".nv-y.nv-axis").attr("transform","translate("+r+",0)"),a.select(".nv-background rect").attr("width",r).attr("height",s),d.width(r).height(s).color(n.map(function(t,e){return t.color||_(t,e)}).filter(function(t,e){return!n[e].disabled}));var l=a.select(".nv-contentWrap").datum(n.filter(function(t){return!t.disabled}));d3.transition(l).call(d),y.x(p).on("brush",function(){t(T)}),y.on("brushend",function(){T||F.onBrush(y.empty()?p.domain():y.extent())}),k&&y.extent(k);var c=a.select(".nv-brushBackground").selectAll("g").data([k||y.extent()]),h=c.enter().append("g");h.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",s),h.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",s);var u=a.select(".nv-x.nv-brush").call(y);u.selectAll("rect").attr("height",s),u.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=s/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),t(!0),a.select(".nv-background rect").attr("width",r).attr("height",s),A&&(m.scale(p)._ticks(pt.utils.calcTicksX(r/100,n)).tickSize(-s,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")"),d3.transition(a.select(".nv-x.nv-axis")).call(m)),C&&(v.scale(g)._ticks(pt.utils.calcTicksY(s/36,n)).tickSize(-r,0),d3.transition(a.select(".nv-y.nv-axis")).call(v)),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")")}),e.renderEnd("focus immediate"),f}d=d||pt.models.line();var p,g,m=pt.models.axis(),v=pt.models.axis(),y=d3.svg.brush(),b={top:10,right:0,bottom:30,left:0},_=pt.utils.defaultColor(),w=null,x=70,A=!0,C=!1,E=!1,k=null,S=250,F=d3.dispatch("brush","onBrush","renderEnd"),T=!0;d.interactive(!1),d.pointActive(function(t){return!1});var e=pt.utils.renderWatch(F,S);return f.dispatch=F,f.content=d,f.brush=y,f.xAxis=m,f.yAxis=v,f.options=pt.utils.optionsFunc.bind(f),f._options=Object.create({},{width:{get:function(){return w},set:function(t){w=t}},height:{get:function(){return x},set:function(t){x=t}},showXAxis:{get:function(){return A},set:function(t){A=t}},showYAxis:{get:function(){return C},set:function(t){C=t}},brushExtent:{get:function(){return k},set:function(t){k=t}},syncBrushing:{get:function(){return T},set:function(t){T=t}},margin:{get:function(){return b},set:function(t){b.top=void 0!==t.top?t.top:b.top,b.right=void 0!==t.right?t.right:b.right,b.bottom=void 0!==t.bottom?t.bottom:b.bottom,b.left=void 0!==t.left?t.left:b.left}},duration:{get:function(){return S},set:function(t){S=t,e.reset(S),d.duration(S),m.duration(S),v.duration(S)}},color:{get:function(){return _},set:function(t){_=pt.utils.getColor(t),d.color(_)}},interpolate:{get:function(){return d.interpolate()},set:function(t){d.interpolate(t)}},xTickFormat:{get:function(){return m.tickFormat()},set:function(t){m.tickFormat(t)}},yTickFormat:{get:function(){return v.tickFormat()},set:function(t){v.tickFormat(t)}},x:{get:function(){return d.x()},set:function(t){d.x(t)}},y:{get:function(){return d.y()},set:function(t){d.y(t)}},rightAlignYAxis:{get:function(){return E},set:function(t){E=t,v.orient(E?"right":"left")}}}),pt.utils.inheritOptions(f,d),pt.utils.initOptions(f),f},pt.models.forceDirectedGraph=function(){"use strict";function a(t){return r.reset(),t.each(function(t){u=d3.select(this),pt.utils.initSVG(u);var e=pt.utils.availableWidth(c,u,l),n=pt.utils.availableHeight(h,u,l);if(u.attr("width",e).attr("height",n),!(t&&t.links&&t.nodes))return pt.utils.noData(a,u),a;u.selectAll(".nv-noData").remove(),u.selectAll("*").remove();var i=new Set;t.nodes.forEach(function(t){Object.keys(t).forEach(function(t){i.add(t)})});var r=d3.layout.force().nodes(t.nodes).links(t.links).size([e,n]).linkStrength(p).friction(g).linkDistance(m).charge(v).gravity(y).theta(b).alpha(_).start(),s=u.selectAll(".link").data(t.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),o=u.selectAll(".node").data(t.nodes).enter().append("g").attr("class","nv-force-node").call(r.drag);o.append("circle").attr("r",w).style("fill",function(t){return d(t)}).on("mouseover",function(e){u.select(".nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.py),u.select(".nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.px);var n=d(e);e.series=[],i.forEach(function(t){e.series.push({color:n,key:t,value:e[t]})}),f.data(e).hidden(!1)}).on("mouseout",function(t){f.hidden(!0)}),f.headerFormatter(function(t){return"Node"}),A(s),x(o),r.on("tick",function(){s.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),o.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),a}var l={top:2,right:0,bottom:2,left:0},c=400,h=32,u=null,t=d3.dispatch("renderEnd"),d=pt.utils.getColor(["#000"]),f=pt.models.tooltip(),e=null,p=.1,g=.9,m=30,v=-120,y=.1,b=.8,_=.1,w=5,x=function(t){},A=function(t){},n=d3.functor(0),i=d3.functor(0),r=pt.utils.renderWatch(t);return a.options=pt.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return h},set:function(t){h=t}},linkStrength:{get:function(){return p},set:function(t){p=t}},friction:{get:function(){return g},set:function(t){g=t}},linkDist:{get:function(){return m},set:function(t){m=t}},charge:{get:function(){return v},set:function(t){v=t}},gravity:{get:function(){return y},set:function(t){y=t}},theta:{get:function(){return b},set:function(t){b=t}},alpha:{get:function(){return _},set:function(t){_=t}},radius:{get:function(){return w},set:function(t){w=t}},x:{get:function(){return n},set:function(t){n=d3.functor(t)}},y:{get:function(){return i},set:function(t){i=d3.functor(t)}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},color:{get:function(){return d},set:function(t){d=pt.utils.getColor(t)}},noData:{get:function(){return e},set:function(t){e=t}},nodeExtras:{get:function(){return x},set:function(t){x=t}},linkExtras:{get:function(){return A},set:function(t){A=t}}}),a.dispatch=t,a.tooltip=f,pt.utils.initOptions(a),a},pt.models.furiousLegend=function(){"use strict";function e(t){function x(t,e){return"furious"!=I?"#000":R?t.disengaged?T(t,e):"#fff":R?void 0:t.disabled?T(t,e):"#fff"}function A(t,e){return R&&"furious"==I?t.disengaged?"#fff":T(t,e):t.disabled?"#fff":T(t,e)}return t.each(function(t){var e=E-C.left-C.right,n=d3.select(this);pt.utils.initSVG(n);var i=n.selectAll("g.nv-legend").data([t]),r=(i.enter().append("g").attr("class","nvd3 nv-legend").append("g"),i.select("g"));i.attr("transform","translate("+C.left+","+C.top+")");var s,o=r.selectAll(".nv-series").data(function(t){return"furious"!=I?t:t.filter(function(t){return!!R||!t.disengaged})}),a=o.enter().append("g").attr("class","nv-series");if("classic"==I)a.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),s=o.select("circle");else if("furious"==I){a.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),s=o.select("rect"),a.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),o.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",x(t,e))})}a.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var l,c=o.select("text.nv-legend-text");switch(o.on("mouseover",function(t,e){O.legendMouseover(t,e)}).on("mouseout",function(t,e){O.legendMouseout(t,e)}).on("click",function(t,e){O.legendClick(t,e);var n=o.data();if(B){if("classic"==I)$?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==I)if(R)t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!R){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}O.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=I||!R)&&(O.legendDblclick(t,e),B)){var n=o.data();n.forEach(function(t){t.disabled=!0,"furious"==I&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==I&&(t.userDisabled=t.disabled),O.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),o.classed("nv-disabled",function(t){return t.userDisabled}),o.exit().remove(),c.attr("fill",x).text(function(t){return F(S(t))}),I){case"furious":l=23;break;case"classic":l=20}if(M){var h=[];o.each(function(t,e){var n,i;if(F(S(t))&&F(S(t)).length>D){var r=F(S(t)).substring(0,D);n=d3.select(this).select("text").text(r+"..."),d3.select(this).append("svg:title").text(F(S(t)))}else n=d3.select(this).select("text");try{if((i=n.node().getComputedTextLength())<=0)throw Error()}catch(t){i=pt.utils.calcApproxTextWidth(n)}h.push(i+P)});for(var u=0,d=0,f=[];d<e&&u<h.length;)f[u]=h[u],d+=h[u++];for(0===u&&(u=1);e<d&&1<u;){f=[],u--;for(var p=0;p<h.length;p++)h[p]>(f[p%u]||0)&&(f[p%u]=h[p]);d=f.reduce(function(t,e,n,i){return t+e})}for(var g=[],m=0,v=0;m<u;m++)g[m]=v,v+=f[m];o.attr("transform",function(t,e){return"translate("+g[e%u]+","+(5+Math.floor(e/u)*l)+")"}),L?r.attr("transform","translate("+(E-C.right-d)+","+C.top+")"):r.attr("transform","translate(0,"+C.top+")"),k=C.top+C.bottom+Math.ceil(h.length/u)*l}else{var y,b=5,_=5,w=0;o.attr("transform",function(t,e){var n=d3.select(this).select("text").node().getComputedTextLength()+P;return y=_,E<C.left+C.right+y+n&&(_=y=5,b+=l),w<(_+=n)&&(w=_),"translate("+y+","+b+")"}),r.attr("transform","translate("+(E-C.right-w)+","+C.top+")"),k=C.top+C.bottom+b+15}"furious"==I&&s.attr("width",function(t,e){return c[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),s.style("fill",A).style("stroke",function(t,e){return t.color||T(t,e)})}),e}var C={top:5,right:0,bottom:5,left:0},E=400,k=20,S=function(t){return t.key},F=function(t){return t},T=pt.utils.getColor(),D=20,M=!0,P=28,L=!0,B=!0,$=!1,R=!1,O=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),I="classic";return e.dispatch=O,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return E},set:function(t){E=t}},height:{get:function(){return k},set:function(t){k=t}},key:{get:function(){return S},set:function(t){S=t}},keyFormatter:{get:function(){return F},set:function(t){F=t}},align:{get:function(){return M},set:function(t){M=t}},rightAlign:{get:function(){return L},set:function(t){L=t}},maxKeyLength:{get:function(){return D},set:function(t){D=t}},padding:{get:function(){return P},set:function(t){P=t}},updateState:{get:function(){return B},set:function(t){B=t}},radioButtonMode:{get:function(){return $},set:function(t){$=t}},expanded:{get:function(){return R},set:function(t){R=t}},vers:{get:function(){return I},set:function(t){I=t}},margin:{get:function(){return C},set:function(t){C.top=void 0!==t.top?t.top:C.top,C.right=void 0!==t.right?t.right:C.right,C.bottom=void 0!==t.bottom?t.bottom:C.bottom,C.left=void 0!==t.left?t.left:C.left}},color:{get:function(){return T},set:function(t){T=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.heatMap=function(){"use strict";function h(t){var e=d3.median(t),n=t.map(function(t){return Math.abs(t-e)});return d3.median(n)}function f(t){var e=V?ht(t):N(t);return p()&&!isNaN(e)||void 0!==e?R(e):s}function p(){return"number"==typeof nt[0]}function e(t){var n,i;if(-1!=["centerRow","robustCenterRow","centerScaleRow","robustCenterScaleRow","centerColumn","robustCenterColumn","centerScaleColumn","robustCenterScaleColumn","centerAll","robustCenterAll","centerScaleAll","robustCenterScaleAll"].indexOf(V)){var r=(Object.keys(tt),Object.keys(et),!!V.includes("Scale")),e=V.includes("robust")?"median":"mean",s=V.includes("Row")?"row":V.includes("Column")?"col":null,o=(n=s,i={},t.forEach(function(t,e){"row"==n?(ct(t)in i||(i[ct(t)]=[]),i[ct(t)].push(N(t))):"col"==n?(lt(t)in i||(i[lt(t)]=[]),i[lt(t)].push(N(t))):null==n&&(0 in i||(i[0]=[]),i[0].push(N(t)))}),i),a={},l={};for(var c in o)a[c]="mean"==e?d3.mean(o[c]):d3.median(o[c]),r&&(l[c]="mean"==e?d3.deviation(o[c]):h(o[c]));t.forEach(function(t,e){if(p()){if("row"==s)var n=ct(t);else if("col"==s)n=lt(t);else if(null==s)n=0;var i=N(t)-a[n];t._cellPos.norm=r?i/l[n]:i}else t._cellPos.norm=N(t)})}else V=!1;return t}function g(t){tt={},et={},nt=[],it=[],rt=[],st=[];var a,l=[],c={},h=0,u=0,d=0;t.forEach(function(t){var e,n,i,r=O(t),s=I(t),o=N(t);r in tt||(tt[r]=h,h++,c[r]={},"function"==typeof C&&it.push(C(t))),s in et||(et[s]=u,u++,c[r][s]={},"function"==typeof E&&rt.push(E(t))),-1==nt.indexOf(o)&&nt.push(o),t._cellPos={idx:d,ix:tt[r],iy:et[s]},d++,e=st,n=a=[r,s],i=JSON.stringify(n),e.some(function(t){return JSON.stringify(t)===i})?-1==l.indexOf(r+s)&&(l.push(r+s),console.warn("The row/column position "+r+"/"+s+" has multiple values; ensure each cell has only a single value.")):(st.push(a),c[r][s]=t)}),nt=nt.sort();var r=[];return Object.keys(et).forEach(function(i){Object.keys(tt).forEach(function(t){var e=c[t][i];if(e)r.push(e);else{var n={idx:d,ix:tt[t],iy:et[i]};d++,r.push({_cellPos:n})}})}),V?e(r):r}function m(){d3.selectAll(".cell-hover").classed("cell-hover",!1),d3.selectAll(".no-hover").classed("no-hover",!1),d3.selectAll(".row-hover").classed("row-hover",!1),d3.selectAll(".column-hover").classed("column-hover",!1)}function v(n){return Object.keys(n).sort(function(t,e){return n[t]-n[e]})}function y(e,n){return Object.keys(e).filter(function(t){return e[t]===n})[0]}function n(t){return ot.reset(),t.each(function(t){F=g(t);var o=P-M.left-M.right,a=L-M.top-M.bottom;D=o/Object.keys(tt).length,T=H?D/H:a/Object.keys(et).length,H&&(a=T*Object.keys(et).length-M.top-M.bottom),b=d3.select(this),pt.utils.initSVG(b),B.domain(_||v(tt)).rangeBands(x||[0,o-W/2]),$.domain(w||v(et)).rangeBands(A||[0,a-W/2]),(R=p()?d3.scale.quantize():d3.scale.ordinal()).domain(S||(p()?V?d3.extent(F,function(t){return ht(t)}):d3.extent(nt):p()?void 0:nt)).range(k||at);var e=b.selectAll("g.nv-heatMapWrap").data([F]),n=e.enter().append("g").attr("class","nvd3 nv-heatMapWrap");n.append("g").attr("class","cellWrap"),e.watchTransition(ot,"nv-wrap: heatMapWrap").attr("transform","translate("+M.left+","+M.top+")");var i=(n.append("g").attr("class","cellGrid").style("opacity",1e-6),e.select(".cellGrid").selectAll(".gridLines.verticalGrid").data(Object.values(tt).concat([Object.values(tt).length])));i.enter().append("line").attr("class","gridLines verticalGrid"),i.exit().remove();var r=e.select(".cellGrid").selectAll(".gridLines.horizontalGrid").data(Object.values(et).concat([Object.values(et).length]));r.enter().append("line").attr("class","gridLines horizontalGrid"),r.exit().remove();var s=e.select(".cellWrap").selectAll(".nv-cell").data(function(t){return t},function(t){return ut(t)}),l=(n.append("g").attr("class","xMetaWrap").attr("transform",function(){return"translate(0,"+(-K()-W-Z)+")"}),e.select(".xMetaWrap").selectAll(".x-meta").data(it)),c=(l.enter().append("rect").attr("class","x-meta meta").attr("width",D-W).attr("height",K()).attr("transform","translate(0,0)").attr("fill",function(t){return Y(t)}),n.append("g").attr("class","yMetaWrap").attr("transform",function(t,e){return"translate("+(-X()-W-Z)+",0)"}),e.select(".yMetaWrap").selectAll(".y-meta").data(rt));c.enter().append("rect").attr("class","y-meta meta").attr("width",X()).attr("height",T-W).attr("transform",function(t,e){return"translate(0,0)"}).attr("fill",function(t,e){return q(t)}),l.exit().remove(),c.exit().remove();var h=s.enter().append("g").style("opacity",1e-6).attr("transform",function(t){return"translate(0,"+ct(t)*T+")"}).attr("data-row",function(t){return ct(t)}).attr("data-column",function(t){return lt(t)});h.append("rect"),h.append("text").attr("text-anchor","middle").attr("dy",4).attr("class","cell-text"),s.selectAll("rect").watchTransition(ot,"heatMap: rect").attr("width",D-W).attr("height",T-W).attr("rx",j).attr("ry",j).style("stroke",function(t){return f(t)}),s.attr("class",function(t){return isNaN(N(t))?"nv-cell cell-missing":"nv-cell"}).watchTransition(ot,"heatMap: cells").style({opacity:1,fill:function(t){return f(t)}}).attr("transform",function(t){return"translate("+lt(t)*D+","+ct(t)*T+")"}).attr("class",function(t){return isNaN(N(t))?"nv-cell cell-missing":"nv-cell"}),s.exit().remove(),s.selectAll("text").watchTransition(ot,"heatMap: cells text").text(function(t){return J(t)}).attr("x",function(t){return(D-W)/2}).attr("y",function(t){return(T-W)/2}).style("fill",function(t){return function(t){if(U){var e=d3.rgb(t);return 128<=(299*e.r+587*e.g+114*e.b)/1e3?"#404040":"#EDEDED"}return"black"}(f(t))}).style("opacity",function(){return z?1:0}),e.selectAll(".verticalGrid").watchTransition(ot,"heatMap: gridLines").attr("y1",0).attr("y2",a-W).attr("x1",function(t){return t*D-W/2}).attr("x2",function(t){return t*D-W/2});var u=Object.keys(et).length;e.selectAll(".horizontalGrid").watchTransition(ot,"heatMap: gridLines").attr("x1",function(t){return 0==t||t==u?-W:0}).attr("x2",function(t){return 0==t||t==u?o:o-W}).attr("y1",function(t){return t*T-W/2}).attr("y2",function(t){return t*T-W/2}),e.select(".cellGrid").watchTransition(ot,"heatMap: gridLines").style({"stroke-width":W,opacity:function(){return Q?1:1e-6}});var d=(e.selectAll(".x-meta"),e.selectAll(".y-meta"),e.selectAll(".meta"));l.watchTransition(ot,"heatMap: xMetaRect").attr("width",D-W).attr("height",K()).attr("transform",function(t,e){return"translate("+e*D+",0)"}),c.watchTransition(ot,"heatMap: yMetaRect").attr("width",X()).attr("height",T-W).attr("transform",function(t,e){return"translate(0,"+e*T+")"}),e.select(".xMetaWrap").watchTransition(ot,"heatMap: xMetaWrap").attr("transform",function(t,e){return"translate(0,"+(-K()-W-Z)+")"}).style("opacity",function(){return!1!==C?1:0}),e.select(".yMetaWrap").watchTransition(ot,"heatMap: yMetaWrap").attr("transform",function(t,e){return"translate("+(-X()-W-Z)+",0)"}).style("opacity",function(){return!1!==E?1:0}),s.on("mouseover",function(t,e){var n=ut(t),i=lt(t),r=ct(t);d3.selectAll(".nv-cell").each(function(t){n==ut(t)?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1)),i==lt(t)&&(d3.select(this).classed("no-hover",!1),d3.select(this).classed("column-hover",!0)),r==ct(t)&&(d3.select(this).classed("no-hover",!1),d3.select(this).classed("row-hover",!0))}),d3.selectAll(".x-meta").each(function(t,e){e==i?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1))}),d3.selectAll(".y-meta").each(function(t,e){e==r?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1))}),G.elementMouseover({value:y(tt,i)+" & "+y(et,r),series:{value:J(t),color:d3.select(this).select("rect").style("fill")},e:d3.event})}).on("mouseout",function(t,e){var n=(d3.select(this).select("rect").node().getBBox(),d3.mouse(d3.select(".nv-heatMap").node())),i=n[0],r=n[1];(o<=i+W||a<=r+W||i<0||r<0)&&(m(),G.elementMouseout({e:d3.event}))}).on("mousemove",function(t,e){G.elementMousemove({e:d3.event})}),d.on("mouseover",function(t,e){var n=-1!=d3.select(this).attr("class").indexOf("x-meta");d3.selectAll(".nv-cell").each(function(t){n&&e==lt(t)?(d3.select(this).classed("column-hover",!0),d3.select(this).classed("no-hover",!1)):n||e-it.length!=ct(t)?(d3.select(this).classed("no-hover",!0),d3.select(this).classed("column-hover",!1),d3.select(this).classed("row-hover",!1)):(d3.select(this).classed("row-hover",!0),d3.select(this).classed("no-hover",!1)),d3.select(this).classed("cell-hover",!1)}),d3.selectAll(".meta").classed("no-hover",!0),d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1),G.elementMouseover({value:n?"Column meta":"Row meta",series:{value:t,color:d3.select(this).style("fill")}})}).on("mouseout",function(t,e){var n=-1!=d3.select(this).attr("class").indexOf("x-meta"),i=(d3.select(this).node().getBBox(),d3.mouse(d3.select(n?".xMetaWrap":".yMetaWrap").node())),r=i[0],s=i[1];(s<0||r<0||n&&o<=r+W||!n&&a<=s+W)&&(m(),G.elementMouseout({e:d3.event}))}).on("mousemove",function(t,e){G.elementMousemove({e:d3.event})})}),ot.renderEnd("heatMap immediate"),n}var b,_,w,x,A,C,E,k,S,F,T,D,M={top:0,right:0,bottom:0,left:0},P=960,L=500,i=Math.floor(1e4*Math.random()),B=d3.scale.ordinal(),$=d3.scale.ordinal(),R=!1,O=function(t){return t.x},I=function(t){return t.y},N=function(t){return t.value},z=!0,r=function(t){return"number"==typeof t?t.toFixed(0):t},H=!1,j=2,W=4,V=!1,U=!0,Y=pt.utils.defaultColor(),q=pt.utils.defaultColor(),s="#bcbcbc",o="",Z=5,G=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),a=250,K=function(t){return T/3},X=function(t){return D/3},Q=!1,J=function(t){var e=r(V?ht(t):N(t));return p()&&!isNaN(e)||void 0!==e?e:o},tt={},et={},nt=[],it=[],rt=[],st=[],ot=pt.utils.renderWatch(G,a),at=["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],l=function(t){return t._cellPos},lt=function(t){return l(t).ix},ct=function(t){return l(t).iy},ht=function(t){return l(t).norm},ut=function(t){return l(t).idx};return n.dispatch=G,n.options=pt.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return P},set:function(t){P=t}},height:{get:function(){return L},set:function(t){L=t}},showCellValues:{get:function(){return z},set:function(t){z=t}},x:{get:function(){return O},set:function(t){O=t}},y:{get:function(){return I},set:function(t){I=t}},cellValue:{get:function(){return N},set:function(t){N=t}},missingDataColor:{get:function(){return s},set:function(t){s=t}},missingDataLabel:{get:function(){return o},set:function(t){o=t}},xScale:{get:function(){return B},set:function(t){B=t}},yScale:{get:function(){return $},set:function(t){$=t}},colorScale:{get:function(){return R},set:function(t){R=t}},xDomain:{get:function(){return _},set:function(t){_=t}},yDomain:{get:function(){return w},set:function(t){w=t}},xRange:{get:function(){return x},set:function(t){x=t}},yRange:{get:function(){return A},set:function(t){A=t}},colorRange:{get:function(){return k},set:function(t){k=t}},colorDomain:{get:function(){return S},set:function(t){S=t}},xMeta:{get:function(){return C},set:function(t){C=t}},yMeta:{get:function(){return E},set:function(t){E=t}},xMetaColorScale:{get:function(){return color},set:function(t){color=pt.utils.getColor(t)}},yMetaColorScale:{get:function(){return color},set:function(t){color=pt.utils.getColor(t)}},cellAspectRatio:{get:function(){return H},set:function(t){H=t}},cellRadius:{get:function(){return j},set:function(t){j=t}},cellHeight:{get:function(){return T}},cellWidth:{get:function(){return D}},normalize:{get:function(){return V},set:function(t){V=t}},cellBorderWidth:{get:function(){return W},set:function(t){W=t}},highContrastText:{get:function(){return U},set:function(t){U=t}},cellValueFormat:{get:function(){return r},set:function(t){r=t}},id:{get:function(){return i},set:function(t){i=t}},metaOffset:{get:function(){return Z},set:function(t){Z=t}},xMetaHeight:{get:function(){return K},set:function(t){K=t}},yMetaWidth:{get:function(){return X},set:function(t){X=t}},showGrid:{get:function(){return Q},set:function(t){Q=t}},margin:{get:function(){return M},set:function(t){M.top=void 0!==t.top?t.top:M.top,M.right=void 0!==t.right?t.right:M.right,M.bottom=void 0!==t.bottom?t.bottom:M.bottom,M.left=void 0!==t.left?t.left:M.left}},duration:{get:function(){return a},set:function(t){a=t,ot.reset(a)}}}),pt.utils.initOptions(n),n},pt.models.heatMapChart=function(){"use strict";function g(t){return B.reset(),B.models(y),B.models(_),B.models(w),t.each(function(t){var e=d3.select(this);pt.utils.initSVG(e);var n=pt.utils.availableWidth(A,e,x),i=pt.utils.availableHeight(C,e,x);if(g.update=function(){P.beforeUpdate(),e.transition().duration(L).call(g)},g.container=this,!t||!t.length)return pt.utils.noData(g,e),g;e.selectAll(".nv-noData").remove(),m=y.xScale(),v=y.yScale();var r=e.selectAll("g.nv-wrap").data([t]),s=r.enter().append("g").attr("class","nvd3 nv-wrap").append("g"),o=r.select("g");s.append("g").attr("class","nv-heatMap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),o.attr("transform","translate("+x.left+","+x.top+")"),y.width(n).height(i),o.select(".nv-heatMap").datum(t.filter(function(t){return!t.disabled})).transition().call(y),y.cellAspectRatio()&&(i=y.cellHeight()*v.domain().length,y.height(i)),_.scale(m)._ticks(pt.utils.calcTicksX(n/100,t)).tickSize(-i,0);var a=o.select(".nv-x.nv-axis");a.call(_).watchTransition(B,"heatMap: axisX").selectAll(".tick").style("opacity",function(){return S?1:0}),a.selectAll("g").selectAll(".tick text").attr("transform",function(t,e,n){return"translate(0, "+(k?n%2==0?"5":"17":"0")+") rotate("+(0!=M?M:"0")+" 0,0)"}).style("text-anchor",0<M?"start":M<0?"end":"middle");var l=-5;if("function"==typeof y.xMeta()&&(a.selectAll("text").style("text-anchor","middle"),l=-y.xMetaHeight()()/2-y.metaOffset()+3),"bottom"==D){if(a.watchTransition(B,"heatMap: axisX").attr("transform","translate(0,"+(i-l)+")"),!1!==y.xMeta()){var c=i+y.metaOffset()+y.cellBorderWidth();o.select(".xMetaWrap").watchTransition(B,"heatMap: xMetaWrap").attr("transform",function(t,e){return"translate(0,"+c+")"})}}else a.watchTransition(B,"heatMap: axisX").attr("transform","translate(0,"+l+")");w.scale(v)._ticks(pt.utils.calcTicksY(i/36,t)).tickSize(-n,0);var h=o.select(".nv-y.nv-axis");h.call(w).watchTransition(B,"heatMap: axisY").selectAll(".tick").style("opacity",function(){return F?1:0});var u=-5;if("function"==typeof y.yMeta()&&(h.selectAll("text").style("text-anchor","middle"),u=-y.yMetaWidth()()/2-y.metaOffset()),"right"==T){if(h.attr("transform","translate("+(n-u)+",0)"),!1!==y.yMeta()){c=n+y.metaOffset()+y.cellBorderWidth();o.select(".yMetaWrap").watchTransition(B,"heatMap: yMetaWrap").attr("transform",function(t,e){return"translate("+c+",0)"})}}else h.attr("transform","translate("+u+",0)");var d=o.select(".nv-legendWrap");b.width(n).color(y.colorScale().range());var f,p=(f=y.colorScale(),"string"==typeof f.domain()[0]?f.domain():f.range().map(function(t){var e=f.invertExtent(t);return null===e[0]&&(e[0]=f.domain()[0]),null===e[1]&&(e[1]=f.domain()[1]),e})).map(function(t){return Array.isArray(t)?{key:t[0].toFixed(1)+" - "+t[1].toFixed(1)}:{key:t}});d.datum(p).call(b).attr("transform","translate(0,"+("top"==D?i:-30)+")"),d.watchTransition(B,"heatMap: nv-legendWrap").style("opacity",function(){return E?1:0})}),d3.selectAll(".nv-axis").selectAll("line").style("stroke-opacity",0),d3.select(".nv-y").select("path.domain").remove(),B.renderEnd("heatMap chart immediate"),g}var m,v,y=pt.models.heatMap(),b=pt.models.legend(),e=(pt.models.legend(),pt.models.legend(),pt.models.tooltip()),_=pt.models.axis(),w=pt.models.axis(),x={top:20,right:10,bottom:50,left:60},A=null,C=null,E=(pt.utils.getColor(),!0),k=!1,S=!0,F=!0,T="left",D="top",M=0,n=null,P=d3.dispatch("beforeUpdate","renderEnd"),L=250;_.orient(D).showMaxMin(!1).tickFormat(function(t){return t}),w.orient(T).showMaxMin(!1).tickFormat(function(t){return t}),e.duration(0).headerEnabled(!0).keyFormatter(function(t,e){return _.tickFormat()(t,e)});var B=pt.utils.renderWatch(P,L);return y.dispatch.on("elementMouseover.tooltip",function(t){e.data(t).hidden(!1)}),y.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),y.dispatch.on("elementMousemove.tooltip",function(t){e()}),g.dispatch=P,g.heatMap=y,g.legend=b,g.xAxis=_,g.yAxis=w,g.tooltip=e,g.options=pt.utils.optionsFunc.bind(g),g._options=Object.create({},{width:{get:function(){return A},set:function(t){A=t}},height:{get:function(){return C},set:function(t){C=t}},showLegend:{get:function(){return E},set:function(t){E=t}},noData:{get:function(){return n},set:function(t){n=t}},showXAxis:{get:function(){return S},set:function(t){S=t}},showYAxis:{get:function(){return F},set:function(t){F=t}},staggerLabels:{get:function(){return k},set:function(t){k=t}},rotateLabels:{get:function(){return M},set:function(t){M=t}},margin:{get:function(){return x},set:function(t){void 0!==t.top&&(x.top=t.top,t.top),x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left}},duration:{get:function(){return L},set:function(t){L=t,B.reset(L),y.duration(L),_.duration(L),w.duration(L)}},alignYAxis:{get:function(){return T},set:function(t){T=t,w.orient(t)}},alignXAxis:{get:function(){return D},set:function(t){D=t,_.orient(t)}}}),pt.utils.inheritOptions(g,y),pt.utils.initOptions(g),g},pt.models.historicalBar=function(){"use strict";function e(t){return t.each(function(n){T.reset(),v=d3.select(this);var i=pt.utils.availableWidth(p,v,f),t=pt.utils.availableHeight(g,v,f);pt.utils.initSVG(v),y.domain(c||d3.extent(n[0].values.map(_).concat(x))),C?y.range(u||[.5*i/n[0].values.length,i*(n[0].values.length-.5)/n[0].values.length]):y.range(u||[0,i]),b.domain(h||d3.extent(n[0].values.map(w).concat(A))).range(d||[t,0]),y.domain()[0]===y.domain()[1]&&(y.domain()[0]?y.domain([y.domain()[0]-.01*y.domain()[0],y.domain()[1]+.01*y.domain()[1]]):y.domain([-1,1])),b.domain()[0]===b.domain()[1]&&(b.domain()[0]?b.domain([b.domain()[0]+.01*b.domain()[0],b.domain()[1]-.01*b.domain()[1]]):b.domain([-1,1]));var e=v.selectAll("g.nv-wrap.nv-historicalBar-"+m).data([n[0].values]),r=e.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+m),s=r.append("defs"),o=r.append("g"),a=e.select("g");o.append("g").attr("class","nv-bars"),e.attr("transform","translate("+f.left+","+f.top+")"),v.on("click",function(t,e){S.chartClick({data:t,index:e,pos:d3.event,id:m})}),s.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),e.select("#nv-chart-clip-path-"+m+" rect").attr("width",i).attr("height",t),a.attr("clip-path",E?"url(#nv-chart-clip-path-"+m+")":"");var l=e.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return _(t,e)});l.exit().remove(),l.enter().append("rect").attr("x",0).attr("y",function(t,e){return pt.utils.NaNtoZero(b(Math.max(0,w(t,e))))}).attr("height",function(t,e){return pt.utils.NaNtoZero(Math.abs(b(w(t,e))-b(0)))}).attr("transform",function(t,e){return"translate("+(y(_(t,e))-i/n[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){F&&(d3.select(this).classed("hover",!0),S.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mouseout",function(t,e){F&&(d3.select(this).classed("hover",!1),S.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mousemove",function(t,e){F&&S.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){if(F){S.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}}).on("dblclick",function(t,e){F&&(S.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),l.attr("fill",function(t,e){return k(t,e)}).attr("class",function(t,e,n){return(w(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(T,"bars").attr("transform",function(t,e){return"translate("+(y(_(t,e))-i/n[0].values.length*.45)+",0)"}).attr("width",i/n[0].values.length*.9),l.watchTransition(T,"bars").attr("y",function(t,e){var n=w(t,e)<0?b(0):b(0)-b(w(t,e))<1?b(0)-1:b(w(t,e));return pt.utils.NaNtoZero(n)}).attr("height",function(t,e){return pt.utils.NaNtoZero(Math.max(Math.abs(b(w(t,e))-b(0)),1))})}),T.renderEnd("historicalBar immediate"),e}var c,h,u,d,f={top:0,right:0,bottom:0,left:0},p=null,g=null,m=Math.floor(1e4*Math.random()),v=null,y=d3.scale.linear(),b=d3.scale.linear(),_=function(t){return t.x},w=function(t){return t.y},x=[],A=[0],C=!1,E=!0,k=pt.utils.defaultColor(),S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F=!0,T=pt.utils.renderWatch(S,0);return e.highlightPoint=function(t,e){v.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){v.select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=S,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return x},set:function(t){x=t}},forceY:{get:function(){return A},set:function(t){A=t}},padData:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return _},set:function(t){_=t}},y:{get:function(){return w},set:function(t){w=t}},xScale:{get:function(){return y},set:function(t){y=t}},yScale:{get:function(){return b},set:function(t){b=t}},xDomain:{get:function(){return c},set:function(t){c=t}},yDomain:{get:function(){return h},set:function(t){h=t}},xRange:{get:function(){return u},set:function(t){u=t}},yRange:{get:function(){return d},set:function(t){d=t}},clipEdge:{get:function(){return E},set:function(t){E=t}},id:{get:function(){return m},set:function(t){m=t}},interactive:{get:function(){return F},set:function(t){F=t}},margin:{get:function(){return f},set:function(t){f.top=void 0!==t.top?t.top:f.top,f.right=void 0!==t.right?t.right:f.right,f.bottom=void 0!==t.bottom?t.bottom:f.bottom,f.left=void 0!==t.left?t.left:f.left}},color:{get:function(){return k},set:function(t){k=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.historicalBarChart=function(t){"use strict";function c(a){return a.each(function(l){M.reset(),M.models(d),A&&M.models(f),C&&M.models(p);var t=d3.select(this);pt.utils.initSVG(t);var e,n=pt.utils.availableWidth(_,t,v),i=pt.utils.availableHeight(w,t,v);if(c.update=function(){t.transition().duration(D).call(c)},c.container=this,S.disabled=l.map(function(t){return!!t.disabled}),!F)for(e in F={},S)S[e]instanceof Array?F[e]=S[e].slice(0):F[e]=S[e];if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return pt.utils.noData(c,t),c;t.selectAll(".nv-noData").remove(),h=d.xScale(),u=d.yScale();var r=t.selectAll("g.nv-wrap.nv-historicalBarChart").data([l]),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),o=r.select("g");s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-barsWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-interactive"),x?(g.width(n),o.select(".nv-legendWrap").datum(l).call(g),y||g.height()===v.top||(v.top=g.height(),i=pt.utils.availableHeight(w,t,v)),r.select(".nv-legendWrap").attr("transform","translate(0,"+-v.top+")")):o.select(".nv-legendWrap").selectAll("*").remove(),r.attr("transform","translate("+v.left+","+v.top+")"),E&&o.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),k&&(m.width(n).height(i).margin({left:v.left,top:v.top}).svgContainer(t).xScale(h),r.select(".nv-interactive").call(m)),d.width(n).height(i).color(l.map(function(t,e){return t.color||b(t,e)}).filter(function(t,e){return!l[e].disabled})),o.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled})).transition().call(d),A&&(f.scale(h)._ticks(pt.utils.calcTicksX(n/100,l)).tickSize(-i,0),o.select(".nv-x.nv-axis").attr("transform","translate(0,"+u.range()[0]+")"),o.select(".nv-x.nv-axis").transition().call(f)),C&&(p.scale(u)._ticks(pt.utils.calcTicksY(i/36,l)).tickSize(-n,0),o.select(".nv-y.nv-axis").transition().call(p)),m.dispatch.on("elementMousemove",function(i){d.clearHighlights();var r,s,o,a=[];l.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){s=pt.interactiveBisect(t.values,i.pointXValue,c.x()),d.highlightPoint(s,!0);var n=t.values[s];void 0!==n&&(void 0===r&&(r=n),void 0===o&&(o=c.xScale()(c.x()(n,s))),a.push({key:t.key,value:c.y()(n,s),color:b(t,t.seriesIndex),data:t.values[s]}))});var t=f.tickFormat()(c.x()(r,s));m.tooltip.valueFormatter(function(t,e){return p.tickFormat()(t)}).data({value:t,index:s,series:a})(),m.renderGuideLine(o)}),m.dispatch.on("elementMouseout",function(t){T.tooltipHide(),d.clearHighlights()}),g.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,l.filter(function(t){return!t.disabled}).length||l.map(function(t){return t.disabled=!1,r.selectAll(".nv-series").classed("disabled",!1),t}),S.disabled=l.map(function(t){return!!t.disabled}),T.stateChange(S),a.transition().call(c)}),g.dispatch.on("legendDblclick",function(t){l.forEach(function(t){t.disabled=!0}),t.disabled=!1,S.disabled=l.map(function(t){return!!t.disabled}),T.stateChange(S),c.update()}),T.on("changeState",function(n){void 0!==n.disabled&&(l.forEach(function(t,e){t.disabled=n.disabled[e]}),S.disabled=n.disabled),c.update()})}),M.renderEnd("historicalBarChart immediate"),c}var h,u,d=t||pt.models.historicalBar(),f=pt.models.axis(),p=pt.models.axis(),g=pt.models.legend(),m=pt.interactiveGuideline(),e=pt.models.tooltip(),v={top:30,right:90,bottom:50,left:90},y=null,b=pt.utils.defaultColor(),_=null,w=null,x=!1,A=!0,C=!0,E=!1,k=!1,S={},F=null,n=null,T=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),D=250;f.orient("bottom").tickPadding(7),p.orient(E?"right":"left"),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return p.tickFormat()(t,e)}).headerFormatter(function(t,e){return f.tickFormat()(t,e)});var M=pt.utils.renderWatch(T,0);return d.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:c.x()(t.data),value:c.y()(t.data),color:t.color},e.data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(t){e()}),c.dispatch=T,c.bars=d,c.legend=g,c.xAxis=f,c.yAxis=p,c.interactiveLayer=m,c.tooltip=e,c.options=pt.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return _},set:function(t){_=t}},height:{get:function(){return w},set:function(t){w=t}},showLegend:{get:function(){return x},set:function(t){x=t}},showXAxis:{get:function(){return A},set:function(t){A=t}},showYAxis:{get:function(){return C},set:function(t){C=t}},defaultState:{get:function(){return F},set:function(t){F=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return v},set:function(t){void 0!==t.top&&(v.top=t.top,y=t.top),v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},color:{get:function(){return b},set:function(t){b=pt.utils.getColor(t),g.color(b),d.color(b)}},duration:{get:function(){return D},set:function(t){D=t,M.reset(D),p.duration(D),f.duration(D)}},rightAlignYAxis:{get:function(){return E},set:function(t){E=t,p.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return k},set:function(t){!0===(k=t)&&c.interactive(!1)}}}),pt.utils.inheritOptions(c,d),pt.utils.initOptions(c),c},pt.models.ohlcBarChart=function(){var n=pt.models.historicalBarChart(pt.models.ohlcBar());return n.useInteractiveGuideline(!0),n.interactiveLayer.tooltip.contentGenerator(function(t){var e=t.series[0].data;return'<h3 style="color: #'+(e.open<e.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+n.yAxis.tickFormat()(e.open)+"</td></tr><tr><td>close:</td><td>"+n.yAxis.tickFormat()(e.close)+"</td></tr><tr><td>high</td><td>"+n.yAxis.tickFormat()(e.high)+"</td></tr><tr><td>low:</td><td>"+n.yAxis.tickFormat()(e.low)+"</td></tr></table>"}),n},pt.models.candlestickBarChart=function(){var n=pt.models.historicalBarChart(pt.models.candlestickBar());return n.useInteractiveGuideline(!0),n.interactiveLayer.tooltip.contentGenerator(function(t){var e=t.series[0].data;return'<h3 style="color: #'+(e.open<e.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+n.yAxis.tickFormat()(e.open)+"</td></tr><tr><td>close:</td><td>"+n.yAxis.tickFormat()(e.close)+"</td></tr><tr><td>high</td><td>"+n.yAxis.tickFormat()(e.high)+"</td></tr><tr><td>low:</td><td>"+n.yAxis.tickFormat()(e.low)+"</td></tr></table>"}),n},pt.models.legend=function(){"use strict";function e(t){function A(t,e){return"furious"!=z?"#000":I?t.disengaged?"#000":"#fff":I?void 0:(t.color||(t.color=n(t,e)),t.disabled?t.color:"#fff")}function C(t,e){return I&&"furious"==z&&t.disengaged?"#eee":t.color||n(t,e)}function E(t,e){return I&&"furious"==z?1:t.disabled?0:1}return t.each(function(t){var e=S-k.left-k.right,n=d3.select(this);pt.utils.initSVG(n);var i=n.selectAll("g.nv-legend").data([t]),r=i.enter().append("g").attr("class","nvd3 nv-legend").append("g"),s=i.select("g");B?i.attr("transform","translate("+-k.right+","+k.top+")"):i.attr("transform","translate("+k.left+","+k.top+")");var o,a,l=s.selectAll(".nv-series").data(function(t){return"furious"!=z?t:t.filter(function(t){return!!I||!t.disengaged})}),c=l.enter().append("g").attr("class","nv-series");switch(z){case"furious":a=23;break;case"classic":a=20}if("classic"==z)c.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),o=l.select(".nv-legend-symbol");else if("furious"==z){c.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),o=l.select(".nv-legend-symbol"),c.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),l.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",A(t,e))})}c.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var h=l.select("text.nv-legend-text");l.on("mouseover",function(t,e){N.legendMouseover(t,e)}).on("mouseout",function(t,e){N.legendMouseout(t,e)}).on("click",function(t,e){N.legendClick(t,e);var n=l.data();if($){if("classic"==z)O?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==z)if(I)t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!I){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}N.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(R){if("furious"==z&&I)return;if(N.legendDblclick(t,e),$){var n=l.data();n.forEach(function(t){t.disabled=!0,"furious"==z&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==z&&(t.userDisabled=t.disabled),N.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}}),l.classed("nv-disabled",function(t){return t.userDisabled}),l.exit().remove(),h.attr("fill",A).text(function(t){return D(T(t))});var u=0;if(P){var d=[];l.each(function(t,e){var n,i;if(D(T(t))&&D(T(t)).length>M){var r=D(T(t)).substring(0,M);n=d3.select(this).select("text").text(r+"..."),d3.select(this).append("svg:title").text(D(T(t)))}else n=d3.select(this).select("text");try{if((i=n.node().getComputedTextLength())<=0)throw Error()}catch(t){i=pt.utils.calcApproxTextWidth(n)}d.push(i+L)});var f=0,p=[];for(u=0;u<e&&f<d.length;)p[f]=d[f],u+=d[f++];for(0===f&&(f=1);e<u&&1<f;){p=[],f--;for(var g=0;g<d.length;g++)d[g]>(p[g%f]||0)&&(p[g%f]=d[g]);u=p.reduce(function(t,e,n,i){return t+e})}for(var m=[],v=0,y=0;v<f;v++)m[v]=y,y+=p[v];l.attr("transform",function(t,e){return"translate("+m[e%f]+","+(5+Math.floor(e/f)*a)+")"}),B?s.attr("transform","translate("+(S-k.right-u)+","+k.top+")"):s.attr("transform","translate(0,"+k.top+")"),F=k.top+k.bottom+Math.ceil(d.length/f)*a}else{var b,_=5,w=5,x=0;l.attr("transform",function(t,e){var n=d3.select(this).select("text").node().getComputedTextLength()+L;return b=w,S<k.left+k.right+b+n&&(w=b=5,_+=a),x<(w+=n)&&(x=w),u<b+x&&(u=b+x),"translate("+b+","+_+")"}),s.attr("transform","translate("+(S-k.right-x)+","+k.top+")"),F=k.top+k.bottom+_+15}"furious"==z&&(o.attr("width",function(t,e){return h[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),r.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),s.select(".nv-legend-bg").transition().duration(300).attr("x",-a).attr("width",u+a-12).attr("height",F+10).attr("y",-k.top-10).attr("opacity",I?1:0));o.style("fill",C).style("fill-opacity",E).style("stroke",C)}),e}var k={top:5,right:0,bottom:5,left:0},S=400,F=20,T=function(t){return t.key},D=function(t){return t},n=pt.utils.getColor(),M=20,P=!0,L=32,B=!0,$=!0,R=!0,O=!1,I=!1,N=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),z="classic";return e.dispatch=N,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return S},set:function(t){S=t}},height:{get:function(){return F},set:function(t){F=t}},key:{get:function(){return T},set:function(t){T=t}},keyFormatter:{get:function(){return D},set:function(t){D=t}},align:{get:function(){return P},set:function(t){P=t}},maxKeyLength:{get:function(){return M},set:function(t){M=t}},rightAlign:{get:function(){return B},set:function(t){B=t}},padding:{get:function(){return L},set:function(t){L=t}},updateState:{get:function(){return $},set:function(t){$=t}},enableDoubleClick:{get:function(){return R},set:function(t){R=t}},radioButtonMode:{get:function(){return O},set:function(t){O=t}},expanded:{get:function(){return I},set:function(t){I=t}},vers:{get:function(){return z},set:function(t){z=t}},margin:{get:function(){return k},set:function(t){k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},color:{get:function(){return n},set:function(t){n=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.line=function(){"use strict";function e(t){return T.reset(),T.models(p),t.each(function(t){y=d3.select(this);var e=pt.utils.availableWidth(m,y,g),n=pt.utils.availableHeight(v,y,g);pt.utils.initSVG(y),d=p.xScale(),f=p.yScale(),S=S||d,F=F||f;var i=y.selectAll("g.nv-wrap.nv-line").data([t]),r=i.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),s=r.append("defs"),o=r.append("g"),a=i.select("g");o.append("g").attr("class","nv-groups"),o.append("g").attr("class","nv-scatterWrap"),i.attr("transform","translate("+g.left+","+g.top+")"),p.width(e).height(n);var l=i.select(".nv-scatterWrap");l.call(p),s.append("clipPath").attr("id","nv-edge-clip-"+p.id()).append("rect"),i.select("#nv-edge-clip-"+p.id()+" rect").attr("width",e).attr("height",0<n?n:0),a.attr("clip-path",E?"url(#nv-edge-clip-"+p.id()+")":""),l.attr("clip-path",E?"url(#nv-edge-clip-"+p.id()+")":"");var c=i.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});c.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||b}).style("fill-opacity",1e-6),c.exit().remove(),c.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return _(t,e)}).style("stroke",function(t,e){return _(t,e)}),c.watchTransition(T,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var h=c.selectAll("path.nv-area").data(function(t){return C(t)?[t]:[]});h.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(k).defined(A).x(function(t,e){return pt.utils.NaNtoZero(S(w(t,e)))}).y0(function(t,e){return pt.utils.NaNtoZero(F(x(t,e)))}).y1(function(t,e){return F(f.domain()[0]<=0?0<=f.domain()[1]?0:f.domain()[1]:f.domain()[0])}).apply(this,[t.values])}),c.exit().selectAll("path.nv-area").remove(),h.watchTransition(T,"line: areaPaths").attr("d",function(t){return d3.svg.area().interpolate(k).defined(A).x(function(t,e){return pt.utils.NaNtoZero(d(w(t,e)))}).y0(function(t,e){return pt.utils.NaNtoZero(f(x(t,e)))}).y1(function(t,e){return f(f.domain()[0]<=0?0<=f.domain()[1]?0:f.domain()[1]:f.domain()[0])}).apply(this,[t.values])});var u=c.selectAll("path.nv-line").data(function(t){return[t.values]});u.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(k).defined(A).x(function(t,e){return pt.utils.NaNtoZero(S(w(t,e)))}).y(function(t,e){return pt.utils.NaNtoZero(F(x(t,e)))})),u.watchTransition(T,"line: linePaths").attr("d",d3.svg.line().interpolate(k).defined(A).x(function(t,e){return pt.utils.NaNtoZero(d(w(t,e)))}).y(function(t,e){return pt.utils.NaNtoZero(f(x(t,e)))})),S=d.copy(),F=f.copy()}),T.renderEnd("line immediate"),e}var d,f,p=pt.models.scatter(),g={top:0,right:0,bottom:0,left:0},m=960,v=500,y=null,b=1.5,_=pt.utils.defaultColor(),w=function(t){return t.x},x=function(t){return t.y},A=function(t,e){return!isNaN(x(t,e))&&null!==x(t,e)},C=function(t){return t.area},E=!1,k="linear",n=250,t=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");p.pointSize(16).pointDomain([16,256]);var S,F,T=pt.utils.renderWatch(t,n);return e.dispatch=t,(e.scatter=p).dispatch.on("elementClick",function(){t.elementClick.apply(this,arguments)}),p.dispatch.on("elementMouseover",function(){t.elementMouseover.apply(this,arguments)}),p.dispatch.on("elementMouseout",function(){t.elementMouseout.apply(this,arguments)}),e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return v},set:function(t){v=t}},defined:{get:function(){return A},set:function(t){A=t}},interpolate:{get:function(){return k},set:function(t){k=t}},clipEdge:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},duration:{get:function(){return n},set:function(t){n=t,T.reset(n),p.duration(n)}},isArea:{get:function(){return C},set:function(t){C=d3.functor(t)}},x:{get:function(){return w},set:function(t){w=t,p.x(t)}},y:{get:function(){return x},set:function(t){x=t,p.y(t)}},color:{get:function(){return _},set:function(t){_=pt.utils.getColor(t),p.color(_)}}}),pt.utils.inheritOptions(e,p),pt.utils.initOptions(e),e},pt.models.lineChart=function(){"use strict";function p(t){return i.reset(),i.models(v),D&&i.models(y),M&&i.models(b),t.each(function(i){function t(){D&&h.select(".nv-focus .nv-x.nv-axis").transition().duration(I).call(y)}function e(){M&&h.select(".nv-focus .nv-y.nv-axis").transition().duration(I).call(b)}function n(n){h.select(".nv-focus .nv-linesWrap").datum(i.filter(function(t){return!t.disabled}).map(function(t,e){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return v.x()(t,e)>=n[0]&&v.x()(t,e)<=n[1]}),disableTooltip:t.disableTooltip}})).transition().duration(I).call(v),t(),e()}var r=d3.select(this);pt.utils.initSVG(r);var s,o=pt.utils.availableWidth(k,r,A),a=pt.utils.availableHeight(S,r,A)-(B?x.height():0);if(p.update=function(){0===I?r.call(p):r.transition().duration(I).call(p)},p.container=this,$.setter(z(i),p.update).getter(N(i)).update(),$.disabled=i.map(function(t){return!!t.disabled}),!R)for(s in R={},$)$[s]instanceof Array?R[s]=$[s].slice(0):R[s]=$[s];if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return pt.utils.noData(p,r),p;r.selectAll(".nv-noData").remove(),x.dispatch.on("onBrush",function(t){n(t)}),g=v.xScale(),m=v.yScale();var l=r.selectAll("g.nv-wrap.nv-lineChart").data([i]),c=l.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),h=l.select("g");c.append("g").attr("class","nv-legendWrap");var u=c.append("g").attr("class","nv-focus");u.append("g").attr("class","nv-background").append("rect"),u.append("g").attr("class","nv-x nv-axis"),u.append("g").attr("class","nv-y nv-axis"),u.append("g").attr("class","nv-linesWrap"),u.append("g").attr("class","nv-interactive"),c.append("g").attr("class","nv-focusWrap"),F?(_.width(o),h.select(".nv-legendWrap").datum(i).call(_),"bottom"===T?(A.bottom=y.height()+_.height(),a=pt.utils.availableHeight(S,r,A),h.select(".nv-legendWrap").attr("transform","translate(0,"+(a+y.height())+")")):"top"===T&&(C||_.height()===A.top||(A.top=_.height(),a=pt.utils.availableHeight(S,r,A)-(B?x.height():0)),l.select(".nv-legendWrap").attr("transform","translate(0,"+-A.top+")"))):h.select(".nv-legendWrap").selectAll("*").remove(),l.attr("transform","translate("+A.left+","+A.top+")"),P&&h.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),L&&(w.width(o).height(a).margin({left:A.left,top:A.top}).svgContainer(r).xScale(g),l.select(".nv-interactive").call(w)),h.select(".nv-focus .nv-background rect").attr("width",o).attr("height",a),v.width(o).height(a).color(i.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!i[e].disabled}));var d=h.select(".nv-linesWrap").datum(i.filter(function(t){return!t.disabled}));if(D&&y.scale(g)._ticks(pt.utils.calcTicksX(o/100,i)).tickSize(-a,0),M&&b.scale(m)._ticks(pt.utils.calcTicksY(a/36,i)).tickSize(-o,0),h.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+a+")"),B||null!==x.brush.extent()){x.width(o),h.select(".nv-focusWrap").style("display",B?"initial":"none").attr("transform","translate(0,"+(a+A.bottom+x.margin().top)+")").call(x);var f=x.brush.empty()?x.xDomain():x.brush.extent();null!==f&&n(f)}else d.transition().call(v),t(),e();_.dispatch.on("stateChange",function(t){for(var e in t)$[e]=t[e];O.stateChange($),p.update()}),w.dispatch.on("elementMousemove",function(o){v.clearHighlights();var a,l,c,h=[];if(i.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(t,e){var n=null!==x.brush.extent()?x.brush.empty()?x.xScale().domain():x.brush.extent():g.domain(),i=t.values.filter(function(t,e){return n[0]<=n[1]?v.x()(t,e)>=n[0]&&v.x()(t,e)<=n[1]:v.x()(t,e)>=n[1]&&v.x()(t,e)<=n[0]});if(0<i.length){var r=i[l=pt.interactiveBisect(i,o.pointXValue,v.x())],s=p.y()(r,l);if(null!==s&&v.highlightPoint(e,t.values.indexOf(r),!0),void 0===r)return;void 0===a&&(a=r),void 0===c&&(c=p.xScale()(p.x()(r,l))),h.push({key:t.key,value:s,color:E(t,t.seriesIndex),data:r})}}),2<h.length){var t=p.yScale().invert(o.mouseY),e=.03*Math.abs(p.yScale().domain()[0]-p.yScale().domain()[1]),n=pt.nearestValueIndex(h.map(function(t){return t.value}),t,e);null!==n&&(h[n].highlight=!0)}void 0!==l&&(w.tooltip.valueFormatter(w.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":b.tickFormat()(t)}).data({value:p.x()(a,l),index:l,series:h})(),w.renderGuideLine(c))}),w.dispatch.on("elementClick",function(r){var s,o=[];i.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t){var e=pt.interactiveBisect(t.values,r.pointXValue,p.x()),n=t.values[e];if(void 0!==n){void 0===s&&(s=p.xScale()(p.x()(n,e)));var i=p.yScale()(p.y()(n,e));o.push({point:n,pointIndex:e,pos:[s,i],seriesIndex:t.seriesIndex,series:t})}}),v.dispatch.elementClick(o)}),w.dispatch.on("elementMouseout",function(t){v.clearHighlights()}),O.on("changeState",function(n){void 0!==n.disabled&&i.length===n.disabled.length&&(i.forEach(function(t,e){t.disabled=n.disabled[e]}),$.disabled=n.disabled),p.update()})}),i.renderEnd("lineChart immediate"),p}var g,m,v=pt.models.line(),y=pt.models.axis(),b=pt.models.axis(),_=pt.models.legend(),w=pt.interactiveGuideline(),e=pt.models.tooltip(),x=pt.models.focus(pt.models.line()),A={top:30,right:20,bottom:50,left:60},C=null,E=pt.utils.defaultColor(),k=null,S=null,F=!0,T="top",D=!0,M=!0,P=!1,L=!1,B=!1,$=pt.utils.state(),R=null,n=null,O=d3.dispatch("stateChange","changeState","renderEnd"),I=250;y.orient("bottom").tickPadding(7),b.orient(P?"right":"left"),v.clipEdge(!0).duration(0),e.valueFormatter(function(t,e){return b.tickFormat()(t,e)}).headerFormatter(function(t,e){return y.tickFormat()(t,e)}),w.tooltip.valueFormatter(function(t,e){return b.tickFormat()(t,e)}).headerFormatter(function(t,e){return y.tickFormat()(t,e)});var i=pt.utils.renderWatch(O,I),N=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},z=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return v.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||e.data(t).hidden(!1)}),v.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),p.dispatch=O,p.lines=v,p.legend=_,p.focus=x,p.xAxis=y,p.x2Axis=x.xAxis,p.yAxis=b,p.y2Axis=x.yAxis,p.interactiveLayer=w,p.tooltip=e,p.state=$,p.dispatch=O,p.options=pt.utils.optionsFunc.bind(p),p._options=Object.create({},{width:{get:function(){return k},set:function(t){k=t}},height:{get:function(){return S},set:function(t){S=t}},showLegend:{get:function(){return F},set:function(t){F=t}},legendPosition:{get:function(){return T},set:function(t){T=t}},showXAxis:{get:function(){return D},set:function(t){D=t}},showYAxis:{get:function(){return M},set:function(t){M=t}},defaultState:{get:function(){return R},set:function(t){R=t}},noData:{get:function(){return n},set:function(t){n=t}},focusEnable:{get:function(){return B},set:function(t){B=t}},focusHeight:{get:function(){return x.height()},set:function(t){x.height(t)}},focusShowAxisX:{get:function(){return x.showXAxis()},set:function(t){x.showXAxis(t)}},focusShowAxisY:{get:function(){return x.showYAxis()},set:function(t){x.showYAxis(t)}},brushExtent:{get:function(){return x.brushExtent()},set:function(t){x.brushExtent(t)}},focusMargin:{get:function(){return x.margin},set:function(t){void 0!==t.top&&(A.top=t.top,C=t.top),x.margin.right=void 0!==t.right?t.right:x.margin.right,x.margin.bottom=void 0!==t.bottom?t.bottom:x.margin.bottom,x.margin.left=void 0!==t.left?t.left:x.margin.left}},margin:{get:function(){return A},set:function(t){A.top=void 0!==t.top?t.top:A.top,A.right=void 0!==t.right?t.right:A.right,A.bottom=void 0!==t.bottom?t.bottom:A.bottom,A.left=void 0!==t.left?t.left:A.left}},duration:{get:function(){return I},set:function(t){I=t,i.reset(I),v.duration(I),x.duration(I),y.duration(I),b.duration(I)}},color:{get:function(){return E},set:function(t){E=pt.utils.getColor(t),_.color(E),v.color(E),x.color(E)}},interpolate:{get:function(){return v.interpolate()},set:function(t){v.interpolate(t),x.interpolate(t)}},xTickFormat:{get:function(){return y.tickFormat()},set:function(t){y.tickFormat(t),x.xTickFormat(t)}},yTickFormat:{get:function(){return b.tickFormat()},set:function(t){b.tickFormat(t),x.yTickFormat(t)}},x:{get:function(){return v.x()},set:function(t){v.x(t),x.x(t)}},y:{get:function(){return v.y()},set:function(t){v.y(t),x.y(t)}},rightAlignYAxis:{get:function(){return P},set:function(t){P=t,b.orient(P?"right":"left")}},useInteractiveGuideline:{get:function(){return L},set:function(t){(L=t)&&(v.interactive(!1),v.useVoronoi(!1))}}}),pt.utils.inheritOptions(p,v),pt.utils.initOptions(p),p},pt.models.lineWithFocusChart=function(){return pt.models.lineChart().margin({bottom:30}).focusEnable(!0)},pt.models.linePlusBarChart=function(){"use strict";function A(t){return t.each(function(o){function t(){nt=j.empty()?null:j.extent(),C=j.empty()?k.domain():j.extent(),it.brush({extent:C,brush:j}),j.empty()||j.extent(nt),_.data([j.empty()?k.domain():nt]).each(function(t,e){var n=k(t[0])-k.range()[0],i=k.range()[1]-k(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",k(t[1])).attr("width",i<0?0:i)}),L.width(a).height(l).color(o.map(function(t,e){return t.color||K(t,e)}).filter(function(t,e){return!o[e].disabled&&o[e].bar})),M.width(a).height(l).color(o.map(function(t,e){return t.color||K(t,e)}).filter(function(t,e){return!o[e].disabled&&!o[e].bar}));var t=f.select(".nv-focus .nv-barsWrap").datum(c.length?c.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return L.x()(t,e)>=C[0]&&L.x()(t,e)<=C[1]})}}):[{values:[]}]),e=f.select(".nv-focus .nv-linesWrap").datum(dt(h)?[{values:[]}]:h.filter(function(t){return!t.disabled}).map(function(t,e){return{area:t.area,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,key:t.key,values:t.values.filter(function(t,e){return M.x()(t,e)>=C[0]&&M.x()(t,e)<=C[1]})}}));E=c.length&&!ct?L.xScale():M.xScale(),$.scale(E)._ticks(pt.utils.calcTicksX(a/100,o)).tickSize(-l,0),$.domain([Math.ceil(C[0]),Math.floor(C[1])]),f.select(".nv-x.nv-axis").transition().duration(rt).call($),t.transition().duration(rt).call(L),e.transition().duration(rt).call(M),f.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+S.range()[0]+")"),O.scale(S)._ticks(pt.utils.calcTicksY(l/36,o)).tickSize(-a,0),I.scale(F)._ticks(pt.utils.calcTicksY(l/36,o)),ct?I.tickSize(h.length?0:-a,0):I.tickSize(c.length?0:-a,0);var n=c.length?1:0,i=h.length&&!dt(h)?1:0,r=ct?i:n,s=ct?n:i;f.select(".nv-focus .nv-y1.nv-axis").style("opacity",r),f.select(".nv-focus .nv-y2.nv-axis").style("opacity",s).attr("transform","translate("+E.range()[1]+",0)"),f.select(".nv-focus .nv-y1.nv-axis").transition().duration(rt).call(O),f.select(".nv-focus .nv-y2.nv-axis").transition().duration(rt).call(I)}var e=d3.select(this);pt.utils.initSVG(e);var n,a=pt.utils.availableWidth(Y,e,W),l=pt.utils.availableHeight(q,e,W)-(Q?et:0),r=et-U.top-U.bottom;if(A.update=function(){e.transition().duration(rt).call(A)},A.container=this,st.setter(ut(o),A.update).getter(ht(o)).update(),st.disabled=o.map(function(t){return!!t.disabled}),!ot)for(n in ot={},st)st[n]instanceof Array?ot[n]=st[n].slice(0):ot[n]=st[n];if(!(o&&o.length&&o.filter(function(t){return t.values.length}).length))return pt.utils.noData(A,e),A;e.selectAll(".nv-noData").remove();var c=o.filter(function(t){return!t.disabled&&t.bar}),h=o.filter(function(t){return!t.bar});E=c.length&&!ct?L.xScale():M.xScale(),k=R.scale(),S=ct?M.yScale():L.yScale(),F=ct?L.yScale():M.yScale(),T=ct?P.yScale():B.yScale(),D=ct?B.yScale():P.yScale();var i=o.filter(function(t){return!t.disabled&&(ct?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:Z(t,e),y:G(t,e)}})}),s=o.filter(function(t){return!t.disabled&&(ct?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:Z(t,e),y:G(t,e)}})});E.range([0,a]),k.domain(d3.extent(d3.merge(i.concat(s)),function(t){return t.x})).range([0,a]);var u=e.selectAll("g.nv-wrap.nv-linePlusBar").data([o]),d=u.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),f=u.select("g");d.append("g").attr("class","nv-legendWrap");var p=d.append("g").attr("class","nv-focus");p.append("g").attr("class","nv-x nv-axis"),p.append("g").attr("class","nv-y1 nv-axis"),p.append("g").attr("class","nv-y2 nv-axis"),p.append("g").attr("class","nv-barsWrap"),p.append("g").attr("class","nv-linesWrap");var g=d.append("g").attr("class","nv-context");if(g.append("g").attr("class","nv-x nv-axis"),g.append("g").attr("class","nv-y1 nv-axis"),g.append("g").attr("class","nv-y2 nv-axis"),g.append("g").attr("class","nv-barsWrap"),g.append("g").attr("class","nv-linesWrap"),g.append("g").attr("class","nv-brushBackground"),g.append("g").attr("class","nv-x nv-brush"),X){var m=H.align()?a/2:a,v=H.align()?m:0;H.width(m),f.select(".nv-legendWrap").datum(o.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=ct?t.originalKey+(t.bar?lt:at):t.originalKey+(t.bar?at:lt),t})).call(H),V||H.height()===W.top||(W.top=H.height(),l=pt.utils.availableHeight(q,e,W)-et),f.select(".nv-legendWrap").attr("transform","translate("+v+","+-W.top+")")}else f.select(".nv-legendWrap").selectAll("*").remove();u.attr("transform","translate("+W.left+","+W.top+")"),f.select(".nv-context").style("display",Q?"initial":"none"),B.width(a).height(r).color(o.map(function(t,e){return t.color||K(t,e)}).filter(function(t,e){return!o[e].disabled&&o[e].bar})),P.width(a).height(r).color(o.map(function(t,e){return t.color||K(t,e)}).filter(function(t,e){return!o[e].disabled&&!o[e].bar}));var y=f.select(".nv-context .nv-barsWrap").datum(c.length?c:[{values:[]}]),b=f.select(".nv-context .nv-linesWrap").datum(dt(h)?[{values:[]}]:h.filter(function(t){return!t.disabled}));f.select(".nv-context").attr("transform","translate(0,"+(l+W.bottom+U.top)+")"),y.transition().call(B),b.transition().call(P),tt&&(R._ticks(pt.utils.calcTicksX(a/100,o)).tickSize(-r,0),f.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+T.range()[0]+")"),f.select(".nv-context .nv-x.nv-axis").transition().call(R)),J&&(N.scale(T)._ticks(r/36).tickSize(-a,0),z.scale(D)._ticks(r/36).tickSize(c.length?0:-a,0),f.select(".nv-context .nv-y3.nv-axis").style("opacity",c.length?1:0).attr("transform","translate(0,"+k.range()[0]+")"),f.select(".nv-context .nv-y2.nv-axis").style("opacity",h.length?1:0).attr("transform","translate("+k.range()[1]+",0)"),f.select(".nv-context .nv-y1.nv-axis").transition().call(N),f.select(".nv-context .nv-y2.nv-axis").transition().call(z)),j.x(k).on("brush",t),nt&&j.extent(nt);var _=f.select(".nv-brushBackground").selectAll("g").data([nt||j.extent()]),w=_.enter().append("g");w.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",r),w.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",r);var x=f.select(".nv-x.nv-brush").call(j);x.selectAll("rect").attr("height",r),x.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=r/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),H.dispatch.on("stateChange",function(t){for(var e in t)st[e]=t[e];it.stateChange(st),A.update()}),it.on("changeState",function(n){void 0!==n.disabled&&(o.forEach(function(t,e){t.disabled=n.disabled[e]}),st.disabled=n.disabled),A.update()}),t()}),A}var C,E,k,S,F,T,D,M=pt.models.line(),P=pt.models.line(),L=pt.models.historicalBar(),B=pt.models.historicalBar(),$=pt.models.axis(),R=pt.models.axis(),O=pt.models.axis(),I=pt.models.axis(),N=pt.models.axis(),z=pt.models.axis(),H=pt.models.legend(),j=d3.svg.brush(),e=pt.models.tooltip(),W={top:30,right:30,bottom:30,left:60},V=null,U={top:0,right:30,bottom:20,left:60},Y=null,q=null,Z=function(t){return t.x},G=function(t){return t.y},K=pt.utils.defaultColor(),X=!0,Q=!0,J=!1,tt=!0,et=50,nt=null,n=null,it=d3.dispatch("brush","stateChange","changeState"),rt=0,st=pt.utils.state(),ot=null,at=" (left axis)",lt=" (right axis)",ct=!1;M.clipEdge(!0),P.interactive(!1),P.pointActive(function(t){return!1}),$.orient("bottom").tickPadding(5),O.orient("left"),I.orient("right"),R.orient("bottom").tickPadding(5),N.orient("left"),z.orient("right"),e.headerEnabled(!0).headerFormatter(function(t,e){return $.tickFormat()(t,e)});var ht=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},ut=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},dt=function(t){return t.every(function(t){return t.disabled})};return M.dispatch.on("elementMouseover.tooltip",function(t){e.duration(100).valueFormatter(function(t,e){return(ct?{main:O,focus:N}:{main:I,focus:z}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),M.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),L.dispatch.on("elementMouseover.tooltip",function(t){t.value=A.x()(t.data),t.series={value:A.y()(t.data),color:t.color},e.duration(0).valueFormatter(function(t,e){return(ct?{main:I,focus:z}:{main:O,focus:N}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),L.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),L.dispatch.on("elementMousemove.tooltip",function(t){e()}),A.dispatch=it,A.legend=H,A.lines=M,A.lines2=P,A.bars=L,A.bars2=B,A.xAxis=$,A.x2Axis=R,A.y1Axis=O,A.y2Axis=I,A.y3Axis=N,A.y4Axis=z,A.tooltip=e,A.options=pt.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return Y},set:function(t){Y=t}},height:{get:function(){return q},set:function(t){q=t}},showLegend:{get:function(){return X},set:function(t){X=t}},brushExtent:{get:function(){return nt},set:function(t){nt=t}},noData:{get:function(){return n},set:function(t){n=t}},focusEnable:{get:function(){return Q},set:function(t){Q=t}},focusHeight:{get:function(){return et},set:function(t){et=t}},focusShowAxisX:{get:function(){return tt},set:function(t){tt=t}},focusShowAxisY:{get:function(){return J},set:function(t){J=t}},legendLeftAxisHint:{get:function(){return at},set:function(t){at=t}},legendRightAxisHint:{get:function(){return lt},set:function(t){lt=t}},margin:{get:function(){return W},set:function(t){void 0!==t.top&&(W.top=t.top,V=t.top),W.right=void 0!==t.right?t.right:W.right,W.bottom=void 0!==t.bottom?t.bottom:W.bottom,W.left=void 0!==t.left?t.left:W.left}},focusMargin:{get:function(){return U},set:function(t){U.top=void 0!==t.top?t.top:U.top,U.right=void 0!==t.right?t.right:U.right,U.bottom=void 0!==t.bottom?t.bottom:U.bottom,U.left=void 0!==t.left?t.left:U.left}},duration:{get:function(){return rt},set:function(t){rt=t}},color:{get:function(){return K},set:function(t){K=pt.utils.getColor(t),H.color(K)}},x:{get:function(){return Z},set:function(t){Z=t,M.x(t),P.x(t),L.x(t),B.x(t)}},y:{get:function(){return G},set:function(t){G=t,M.y(t),P.y(t),L.y(t),B.y(t)}},switchYAxisOrder:{get:function(){return ct},set:function(t){if(ct!==t){var e=O;O=I,I=e;var n=N;N=z,z=n}ct=t,O.orient("left"),I.orient("right"),N.orient("left"),z.orient("right")}}}),pt.utils.inheritOptions(A,M),pt.utils.initOptions(A),A},pt.models.multiBar=function(){"use strict";function e(t){return j.reset(),t.each(function(o){var t=A-x.left-x.right,e=C-x.top-x.bottom;F=d3.select(this),pt.utils.initSVG(F);var r=0;if(R&&o.length&&(R=[{values:o[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),L){var i=d3.layout.stack().offset(B).values(function(t){return t.values}).y(D)(!o.length&&R?R:o);i.forEach(function(t,n){t.nonStackable?(o[n].nonStackableSeries=r++,i[n]=o[n]):0<n&&i[n-1].nonStackable&&i[n].values.map(function(t,e){t.y0-=i[n-1].values[e].y,t.y1=t.y0+t.y})}),o=i}o.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),L&&0<o.length&&o[0].values.map(function(t,i){var r=0,s=0;o.map(function(t,e){if(!o[e].nonStackable){var n=t.values[i];n.size=Math.abs(n.y),n.y<0?(n.y1=s,s-=n.size):(n.y1=n.size+r,r+=n.size)}})});var n=m&&v?[]:o.map(function(t,n){return t.values.map(function(t,e){return{x:T(t,e),y:D(t,e),y0:t.y0,y1:t.y1,idx:n}})});E.domain(m||d3.merge(n).map(function(t){return t.x})).rangeBands(y||[0,t],N),k.domain(v||d3.extent(d3.merge(n).map(function(t){var e=t.y;return L&&!o[t.idx].nonStackable&&(e=0<t.y?t.y1:t.y1+t.y),e}).concat(M))).range(b||[e,0]),E.domain()[0]===E.domain()[1]&&(E.domain()[0]?E.domain([E.domain()[0]-.01*E.domain()[0],E.domain()[1]+.01*E.domain()[1]]):E.domain([-1,1])),k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]+.01*k.domain()[0],k.domain()[1]-.01*k.domain()[1]]):k.domain([-1,1])),_=_||E,w=w||k;var s=F.selectAll("g.nv-wrap.nv-multibar").data([o]),a=s.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),l=a.append("defs"),c=a.append("g"),h=s.select("g");c.append("g").attr("class","nv-groups"),s.attr("transform","translate("+x.left+","+x.top+")"),l.append("clipPath").attr("id","nv-edge-clip-"+S).append("rect"),s.select("#nv-edge-clip-"+S+" rect").attr("width",t).attr("height",e),h.attr("clip-path",P?"url(#nv-edge-clip-"+S+")":"");var u=s.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});u.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var d=j.transition(u.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,I)).attr("y",function(t,e,n){var i=w(0)||0;return L&&o[t.series]&&!o[t.series].nonStackable&&(i=w(t.y0)),i}).attr("height",0).remove();d.delay&&d.delay(function(t,e){return e*(I/(W+1))-e}),u.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return $(t,e)}).style("stroke",function(t,e){return $(t,e)}),u.style("stroke-opacity",1).style("fill-opacity",z);var f=u.selectAll("rect.nv-bar").data(function(t){return R&&!o.length?R.values:t.values});f.exit().remove(),f.enter().append("rect").attr("class",function(t,e){return D(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return L&&!o[n].nonStackable?0:n*E.rangeBand()/o.length}).attr("y",function(t,e,n){return w(L&&!o[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return E.rangeBand()/(L&&!o[n].nonStackable?1:o.length)}).attr("transform",function(t,e){return"translate("+E(T(t,e))+",0)"}),f.style("fill",function(t,e,n){return $(t,n,e)}).style("stroke",function(t,e,n){return $(t,n,e)}).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),H.elementMouseover({data:t,index:e,series:o[n],color:d3.select(this).style("fill")})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),H.elementMouseout({data:t,index:e,series:o[n],color:d3.select(this).style("fill")})}).on("mousemove",function(t,e,n){H.elementMousemove({data:t,index:e,series:o[n],color:d3.select(this).style("fill")})}).on("click",function(t,e,n){H.elementClick({data:t,index:e,series:o[n],color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e,n){H.elementDblClick({data:t,index:e,series:o[n],color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),f.attr("class",function(t,e){return D(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+E(T(t,e))+",0)"}),O&&(g||(g=o.map(function(){return!0})),f.style("fill",function(t,e,n){return d3.rgb(O(t,e)).darker(g.map(function(t,e){return e}).filter(function(t,e){return!g[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(O(t,e)).darker(g.map(function(t,e){return e}).filter(function(t,e){return!g[e]})[n]).toString()}));var p=f.watchTransition(j,"multibar",Math.min(250,I)).delay(function(t,e){return e*I/o[0].values.length});L?p.attr("y",function(t,e,n){return o[n].nonStackable?D(t,e)<0?k(0):k(0)-k(D(t,e))<-1?k(0)-1:k(D(t,e))||0:k(t.y1)}).attr("height",function(t,e,n){return o[n].nonStackable?Math.max(Math.abs(k(D(t,e))-k(0)),0)||0:Math.max(Math.abs(k(t.y+t.y0)-k(t.y0)),0)}).attr("x",function(t,e,n){var i=0;return o[n].nonStackable&&(i=t.series*E.rangeBand()/o.length,o.length!==r&&(i=o[n].nonStackableSeries*E.rangeBand()/(2*r))),i}).attr("width",function(t,e,n){if(o[n].nonStackable){var i=E.rangeBand()/r;return o.length!==r&&(i=E.rangeBand()/(2*r)),i}return E.rangeBand()}):p.attr("x",function(t,e){return t.series*E.rangeBand()/o.length}).attr("width",E.rangeBand()/o.length).attr("y",function(t,e){return D(t,e)<0?k(0):k(0)-k(D(t,e))<1?k(0)-1:k(D(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(k(D(t,e))-k(0)),1)||0}),_=E.copy(),w=k.copy(),o[0]&&o[0].values&&(W=o[0].values.length)}),j.renderEnd("multibar immediate"),e}var g,m,v,y,b,_,w,x={top:0,right:0,bottom:0,left:0},A=960,C=500,E=d3.scale.ordinal(),k=d3.scale.linear(),S=Math.floor(1e4*Math.random()),F=null,T=function(t){return t.x},D=function(t){return t.y},M=[0],P=!0,L=!1,B="zero",$=pt.utils.defaultColor(),R=!1,O=null,I=500,N=.1,z=.75,H=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),j=pt.utils.renderWatch(H,I),W=0;return e.dispatch=H,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return A},set:function(t){A=t}},height:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return T},set:function(t){T=t}},y:{get:function(){return D},set:function(t){D=t}},xScale:{get:function(){return E},set:function(t){E=t}},yScale:{get:function(){return k},set:function(t){k=t}},xDomain:{get:function(){return m},set:function(t){m=t}},yDomain:{get:function(){return v},set:function(t){v=t}},xRange:{get:function(){return y},set:function(t){y=t}},yRange:{get:function(){return b},set:function(t){b=t}},forceY:{get:function(){return M},set:function(t){M=t}},stacked:{get:function(){return L},set:function(t){L=t}},stackOffset:{get:function(){return B},set:function(t){B=t}},clipEdge:{get:function(){return P},set:function(t){P=t}},disabled:{get:function(){return g},set:function(t){g=t}},id:{get:function(){return S},set:function(t){S=t}},hideable:{get:function(){return R},set:function(t){R=t}},groupSpacing:{get:function(){return N},set:function(t){N=t}},fillOpacity:{get:function(){return z},set:function(t){z=t}},margin:{get:function(){return x},set:function(t){x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left}},duration:{get:function(){return I},set:function(t){I=t,j.reset(I)}},color:{get:function(){return $},set:function(t){$=pt.utils.getColor(t)}},barColor:{get:function(){return O},set:function(t){O=t?pt.utils.getColor(t):null}}}),pt.utils.initOptions(e),e},pt.models.multiBarChart=function(){"use strict";function d(t){return n.reset(),n.models(g),M&&n.models(m),P&&n.models(v),t.each(function(c){var t=d3.select(this);pt.utils.initSVG(t);var e,n=pt.utils.availableWidth(C,t,x),i=pt.utils.availableHeight(E,t,x);if(d.update=function(){0===j?t.call(d):t.transition().duration(j).call(d)},d.container=this,I.setter(Y(c),d.update).getter(U(c)).update(),I.disabled=c.map(function(t){return!!t.disabled}),!N)for(e in N={},I)I[e]instanceof Array?N[e]=I[e].slice(0):N[e]=I[e];if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return pt.utils.noData(d,t),d;t.selectAll(".nv-noData").remove(),f=g.xScale(),p=g.yScale();var r=t.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([c]),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),o=r.select("g");if(s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-barsWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-controlsWrap"),s.append("g").attr("class","nv-interactive"),T?"bottom"===D?(b.width(n-x.right),o.select(".nv-legendWrap").datum(c).call(b),x.bottom=m.height()+b.height(),i=pt.utils.availableHeight(E,t,x),o.select(".nv-legendWrap").attr("transform","translate(0,"+(i+m.height())+")")):(b.width(n-H()),o.select(".nv-legendWrap").datum(c).call(b),A||b.height()===x.top||(x.top=b.height(),i=pt.utils.availableHeight(E,t,x)),o.select(".nv-legendWrap").attr("transform","translate("+H()+","+-x.top+")")):o.select(".nv-legendWrap").selectAll("*").remove(),S){var a=[{key:F.grouped||"Grouped",disabled:g.stacked()},{key:F.stacked||"Stacked",disabled:!g.stacked()}];_.width(H()).color(["#444","#444","#444"]),o.select(".nv-controlsWrap").datum(a).attr("transform","translate(0,"+-x.top+")").call(_)}else o.select(".nv-controlsWrap").selectAll("*").remove();if(r.attr("transform","translate("+x.left+","+x.top+")"),L&&o.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),g.disabled(c.map(function(t){return t.disabled})).width(n).height(i).color(c.map(function(t,e){return t.color||k(t,e)}).filter(function(t,e){return!c[e].disabled})),o.select(".nv-barsWrap").datum(c.filter(function(t){return!t.disabled})).call(g),M){m.scale(f)._ticks(pt.utils.calcTicksX(n/100,c)).tickSize(-i,0),o.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")"),o.select(".nv-x.nv-axis").call(m);var l=o.select(".nv-x.nv-axis > g").selectAll("g");if(l.selectAll("line, text").style("opacity",1),$){var h=function(t,e){return"translate("+t+","+e+")"};l.selectAll("text").attr("transform",function(t,e,n){return h(0,n%2==0?5:17)});var u=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;o.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return h(0,0===e||u%2!=0?17:5)})}R&&o.selectAll(".tick text").call(pt.utils.wrapTicks,d.xAxis.rangeBand()),B&&l.filter(function(t,e){return e%Math.ceil(c[0].values.length/(n/100))!=0}).selectAll("text, line").style("opacity",0),O&&l.selectAll(".tick text").attr("transform","rotate("+O+" 0,0)").style("text-anchor",0<O?"start":"end"),o.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}P&&(v.scale(p)._ticks(pt.utils.calcTicksY(i/36,c)).tickSize(-n,0),o.select(".nv-y.nv-axis").call(v)),W&&(y.width(n).height(i).margin({left:x.left,top:x.top}).svgContainer(t).xScale(f),r.select(".nv-interactive").call(y)),b.dispatch.on("stateChange",function(t){for(var e in t)I[e]=t[e];z.stateChange(I),d.update()}),_.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(a=a.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case F.grouped:g.stacked(!1);break;case"Stacked":case F.stacked:g.stacked(!0)}I.stacked=g.stacked(),z.stateChange(I),d.update()}}),z.on("changeState",function(n){void 0!==n.disabled&&(c.forEach(function(t,e){t.disabled=n.disabled[e]}),I.disabled=n.disabled),void 0!==n.stacked&&(g.stacked(n.stacked),I.stacked=n.stacked,V=n.stacked),d.update()}),W?(y.dispatch.on("elementMousemove",function(i){if(null!=i.pointXValue){var r,s,o,a,l=[];c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){s=f.domain().indexOf(i.pointXValue);var n=t.values[s];void 0!==n&&(a=n.x,void 0===r&&(r=n),void 0===o&&(o=i.mouseX),l.push({key:t.key,value:d.y()(n,s),color:k(t,t.seriesIndex),data:t.values[s]}))}),y.tooltip.data({value:a,index:s,series:l})(),y.renderGuideLine(o)}}),y.dispatch.on("elementMouseout",function(t){y.tooltip.hidden(!0)})):(g.dispatch.on("elementMouseover.tooltip",function(t){t.value=d.x()(t.data),t.series={key:t.data.key,value:d.y()(t.data),color:t.color},w.data(t).hidden(!1)}),g.dispatch.on("elementMouseout.tooltip",function(t){w.hidden(!0)}),g.dispatch.on("elementMousemove.tooltip",function(t){w()}))}),n.renderEnd("multibarchart immediate"),d}var f,p,g=pt.models.multiBar(),m=pt.models.axis(),v=pt.models.axis(),y=pt.interactiveGuideline(),b=pt.models.legend(),_=pt.models.legend(),w=pt.models.tooltip(),x={top:30,right:20,bottom:50,left:60},A=null,C=null,E=null,k=pt.utils.defaultColor(),S=!0,F={},T=!0,D=null,M=!0,P=!0,L=!1,B=!0,$=!1,R=!1,O=0,I=pt.utils.state(),N=null,e=null,z=d3.dispatch("stateChange","changeState","renderEnd"),H=function(){return S?180:0},j=250,W=!1;I.stacked=!1,g.stacked(!1),m.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),v.orient(L?"right":"left").tickFormat(d3.format(",.1f")),w.duration(0).valueFormatter(function(t,e){return v.tickFormat()(t,e)}).headerFormatter(function(t,e){return m.tickFormat()(t,e)}),y.tooltip.valueFormatter(function(t,e){return null==t?"N/A":v.tickFormat()(t,e)}).headerFormatter(function(t,e){return m.tickFormat()(t,e)}),y.tooltip.valueFormatter(function(t,e){return null==t?"N/A":v.tickFormat()(t,e)}).headerFormatter(function(t,e){return m.tickFormat()(t,e)}),y.tooltip.duration(0).valueFormatter(function(t,e){return v.tickFormat()(t,e)}).headerFormatter(function(t,e){return m.tickFormat()(t,e)}),_.updateState(!1);var n=pt.utils.renderWatch(z),V=!1,U=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:V}}},Y=function(t){return function(n){void 0!==n.stacked&&(V=n.stacked),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return d.dispatch=z,d.multibar=g,d.legend=b,d.controls=_,d.xAxis=m,d.yAxis=v,d.state=I,d.tooltip=w,d.interactiveLayer=y,d.options=pt.utils.optionsFunc.bind(d),d._options=Object.create({},{width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return E},set:function(t){E=t}},showLegend:{get:function(){return T},set:function(t){T=t}},legendPosition:{get:function(){return D},set:function(t){D=t}},showControls:{get:function(){return S},set:function(t){S=t}},controlLabels:{get:function(){return F},set:function(t){F=t}},showXAxis:{get:function(){return M},set:function(t){M=t}},showYAxis:{get:function(){return P},set:function(t){P=t}},defaultState:{get:function(){return N},set:function(t){N=t}},noData:{get:function(){return e},set:function(t){e=t}},reduceXTicks:{get:function(){return B},set:function(t){B=t}},rotateLabels:{get:function(){return O},set:function(t){O=t}},staggerLabels:{get:function(){return $},set:function(t){$=t}},wrapLabels:{get:function(){return R},set:function(t){R=!!t}},margin:{get:function(){return x},set:function(t){void 0!==t.top&&(x.top=t.top,A=t.top),x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left}},duration:{get:function(){return j},set:function(t){j=t,g.duration(j),m.duration(j),v.duration(j),n.reset(j)}},color:{get:function(){return k},set:function(t){k=pt.utils.getColor(t),b.color(k)}},rightAlignYAxis:{get:function(){return L},set:function(t){L=t,v.orient(L?"right":"left")}},useInteractiveGuideline:{get:function(){return W},set:function(t){W=t}},barColor:{get:function(){return g.barColor},set:function(t){g.barColor(t),b.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),pt.utils.inheritOptions(d,g),pt.utils.initOptions(d),d},pt.models.multiBarHorizontal=function(){"use strict";function e(t){return O.reset(),t.each(function(s){var t=y-v.left-v.right,e=b-v.top-v.bottom;_=d3.select(this),pt.utils.initSVG(_),T&&(s=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(C)(s)),s.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),T&&s[0].values.map(function(t,n){var i=0,r=0;s.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=r-e.size,r-=e.size):(e.y1=i,i+=e.size)})});var n=u&&d?[]:s.map(function(t){return t.values.map(function(t,e){return{x:A(t,e),y:C(t,e),y0:t.y0,y1:t.y1}})});w.domain(u||d3.merge(n).map(function(t){return t.x})).rangeBands(f||[0,e],L),x.domain(d||d3.extent(d3.merge(n).map(function(t){return T?0<t.y?t.y1+t.y:t.y1:t.y}).concat(k))),D&&!T?x.range(p||[x.domain()[0]<0?P:0,t-(0<x.domain()[1]?P:0)]):x.range(p||[0,t]),g=g||w,m=m||d3.scale.linear().domain(x.domain()).range([x(0),x(0)]);var i=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([s]),r=i.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),o=(r.append("defs"),r.append("g"));i.select("g"),o.append("g").attr("class","nv-groups"),i.attr("transform","translate("+v.left+","+v.top+")");var a=i.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});a.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),a.exit().watchTransition(O,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),a.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return S(t,e)}).style("stroke",function(t,e){return S(t,e)}),a.watchTransition(O,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",B);var l=a.selectAll("g.nv-bar").data(function(t){return t.values});l.exit().remove();var c=l.enter().append("g").attr("transform",function(t,e,n){return"translate("+m(T?t.y0:0)+","+(T?0:n*w.rangeBand()/s.length+w(A(t,e)))+")"});c.append("rect").attr("width",0).attr("height",w.rangeBand()/(T?1:s.length)),l.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),R.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),R.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){R.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){R.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){R.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){R.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),E(s[0],0)&&(c.append("polyline"),l.select("polyline").attr("fill","none").attr("points",function(e,n){var t=E(e,n),i=.8*w.rangeBand()/(2*(T?1:s.length));return[[(t=(t=t.length?t:[-Math.abs(t),Math.abs(t)]).map(function(t){return x(t+(C(e,n)<0?0:C(e,n)))-x(0)}))[0],-i],[t[0],i],[t[0],0],[t[1],0],[t[1],-i],[t[1],i]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,e){return"translate(0, "+w.rangeBand()/(2*(T?1:s.length))+")"})),c.append("text"),D&&!T?(l.select("text").attr("text-anchor",function(t,e){return C(t,e)<0?"end":"start"}).attr("y",w.rangeBand()/(2*s.length)).attr("dy",".32em").text(function(t,e){var n=$(C(t,e)),i=E(t,e);return void 0===i?n:i.length?n+"+"+$(Math.abs(i[1]))+"-"+$(Math.abs(i[0])):n+"±"+$(Math.abs(i))}),l.watchTransition(O,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return C(t,e)<0?-4:x(C(t,e))-x(0)+4})):l.selectAll("text").text(""),M&&!T?(c.append("text").classed("nv-bar-label",!0),l.select("text.nv-bar-label").attr("text-anchor",function(t,e){return C(t,e)<0?"start":"end"}).attr("y",w.rangeBand()/(2*s.length)).attr("dy",".32em").text(function(t,e){return A(t,e)}),l.watchTransition(O,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return C(t,e)<0?x(0)-x(C(t,e))+4:-4})):l.selectAll("text.nv-bar-label").text(""),l.attr("class",function(t,e){return C(t,e)<0?"nv-bar negative":"nv-bar positive"}),F&&(h||(h=s.map(function(){return!0})),l.style("fill",function(t,e,n){return d3.rgb(F(t,e)).darker(h.map(function(t,e){return e}).filter(function(t,e){return!h[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(F(t,e)).darker(h.map(function(t,e){return e}).filter(function(t,e){return!h[e]})[n]).toString()})),T?l.watchTransition(O,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+x(t.y1)+","+w(A(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(x(C(t,e)+t.y0)-x(t.y0))||0}).attr("height",w.rangeBand()):l.watchTransition(O,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+x(C(t,e)<0?C(t,e):0)+","+(t.series*w.rangeBand()/s.length+w(A(t,e)))+")"}).select("rect").attr("height",w.rangeBand()/s.length).attr("width",function(t,e){return Math.max(Math.abs(x(C(t,e))-x(0)),1)||0}),g=w.copy(),m=x.copy()}),O.renderEnd("multibarHorizontal immediate"),e}var h,u,d,f,p,g,m,v={top:0,right:0,bottom:0,left:0},y=960,b=500,n=Math.floor(1e4*Math.random()),_=null,w=d3.scale.ordinal(),x=d3.scale.linear(),A=function(t){return t.x},C=function(t){return t.y},E=function(t){return t.yErr},k=[0],S=pt.utils.defaultColor(),F=null,T=!1,D=!1,M=!1,P=60,L=.1,B=.75,$=d3.format(",.2f"),i=250,R=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),O=pt.utils.renderWatch(R,i);return e.dispatch=R,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return A},set:function(t){A=t}},y:{get:function(){return C},set:function(t){C=t}},yErr:{get:function(){return E},set:function(t){E=t}},xScale:{get:function(){return w},set:function(t){w=t}},yScale:{get:function(){return x},set:function(t){x=t}},xDomain:{get:function(){return u},set:function(t){u=t}},yDomain:{get:function(){return d},set:function(t){d=t}},xRange:{get:function(){return f},set:function(t){f=t}},yRange:{get:function(){return p},set:function(t){p=t}},forceY:{get:function(){return k},set:function(t){k=t}},stacked:{get:function(){return T},set:function(t){T=t}},showValues:{get:function(){return D},set:function(t){D=t}},disabled:{get:function(){return h},set:function(t){h=t}},id:{get:function(){return n},set:function(t){n=t}},valueFormat:{get:function(){return $},set:function(t){$=t}},valuePadding:{get:function(){return P},set:function(t){P=t}},groupSpacing:{get:function(){return L},set:function(t){L=t}},fillOpacity:{get:function(){return B},set:function(t){B=t}},margin:{get:function(){return v},set:function(t){v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},duration:{get:function(){return i},set:function(t){i=t,O.reset(i)}},color:{get:function(){return S},set:function(t){S=pt.utils.getColor(t)}},barColor:{get:function(){return F},set:function(t){F=t?pt.utils.getColor(t):null}}}),pt.utils.initOptions(e),e},pt.models.multiBarHorizontalChart=function(){"use strict";function c(t){return i.reset(),i.models(d),S&&i.models(f),F&&i.models(p),t.each(function(i){var t=d3.select(this);pt.utils.initSVG(t);var e,n=pt.utils.availableWidth(b,t,v),r=pt.utils.availableHeight(_,t,v);if(c.update=function(){t.transition().duration(B).call(c)},c.container=this,T=d.stacked(),D.setter(R(i),c.update).getter($(i)).update(),D.disabled=i.map(function(t){return!!t.disabled}),!M)for(e in M={},D)D[e]instanceof Array?M[e]=D[e].slice(0):M[e]=D[e];if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return pt.utils.noData(c,t),c;t.selectAll(".nv-noData").remove(),h=d.xScale(),u=d.yScale().clamp(!0);var s=t.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([i]),o=s.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),a=s.select("g");if(o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-controlsWrap"),E?(g.width(n-L()),a.select(".nv-legendWrap").datum(i).call(g),"bottom"===k?(v.bottom=f.height()+g.height(),r=pt.utils.availableHeight(_,t,v),a.select(".nv-legendWrap").attr("transform","translate("+L()+","+(r+f.height())+")")):"top"===k&&(y||g.height()===v.top||(v.top=g.height(),r=pt.utils.availableHeight(_,t,v)),a.select(".nv-legendWrap").attr("transform","translate("+L()+","+-v.top+")"))):a.select(".nv-legendWrap").selectAll("*").remove(),x){var l=[{key:C.grouped||"Grouped",disabled:d.stacked()},{key:C.stacked||"Stacked",disabled:!d.stacked()}];m.width(L()).color(["#444","#444","#444"]),"bottom"===A?(v.bottom=f.height()+g.height(),r=pt.utils.availableHeight(_,t,v),a.select(".nv-controlsWrap").datum(l).attr("transform","translate(0,"+(r+f.height())+")").call(m)):"top"===A&&a.select(".nv-controlsWrap").datum(l).attr("transform","translate(0,"+-v.top+")").call(m)}else a.select(".nv-controlsWrap").selectAll("*").remove();(s.attr("transform","translate("+v.left+","+v.top+")"),d.disabled(i.map(function(t){return t.disabled})).width(n).height(r).color(i.map(function(t,e){return t.color||w(t,e)}).filter(function(t,e){return!i[e].disabled})),a.select(".nv-barsWrap").datum(i.filter(function(t){return!t.disabled})).transition().call(d),S)&&(f.scale(h)._ticks(pt.utils.calcTicksY(r/24,i)).tickSize(-n,0),a.select(".nv-x.nv-axis").call(f),a.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));F&&(p.scale(u)._ticks(pt.utils.calcTicksX(n/100,i)).tickSize(-r,0),a.select(".nv-y.nv-axis").attr("transform","translate(0,"+r+")"),a.select(".nv-y.nv-axis").call(p)),a.select(".nv-zeroLine line").attr("x1",u(0)).attr("x2",u(0)).attr("y1",0).attr("y2",-r),g.dispatch.on("stateChange",function(t){for(var e in t)D[e]=t[e];P.stateChange(D),c.update()}),m.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(l=l.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case C.grouped:d.stacked(!1);break;case"Stacked":case C.stacked:d.stacked(!0)}D.stacked=d.stacked(),P.stateChange(D),T=d.stacked(),c.update()}}),P.on("changeState",function(n){void 0!==n.disabled&&(i.forEach(function(t,e){t.disabled=n.disabled[e]}),D.disabled=n.disabled),void 0!==n.stacked&&(d.stacked(n.stacked),D.stacked=n.stacked,T=n.stacked),c.update()})}),i.renderEnd("multibar horizontal chart immediate"),c}var h,u,d=pt.models.multiBarHorizontal(),f=pt.models.axis(),p=pt.models.axis(),g=pt.models.legend().height(30),m=pt.models.legend().height(30),e=pt.models.tooltip(),v={top:30,right:20,bottom:50,left:60},y=null,b=null,_=null,w=pt.utils.defaultColor(),x=!0,A="top",C={},E=!0,k="top",S=!0,F=!0,T=!1,D=pt.utils.state(),M=null,n=null,P=d3.dispatch("stateChange","changeState","renderEnd"),L=function(){return x?180:0},B=250;D.stacked=!1,d.stacked(T),f.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),p.orient("bottom").tickFormat(d3.format(",.1f")),e.duration(0).valueFormatter(function(t,e){return p.tickFormat()(t,e)}).headerFormatter(function(t,e){return f.tickFormat()(t,e)}),m.updateState(!1);var $=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:T}}},R=function(t){return function(n){void 0!==n.stacked&&(T=n.stacked),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},i=pt.utils.renderWatch(P,B);return d.dispatch.on("elementMouseover.tooltip",function(t){t.value=c.x()(t.data),t.series={key:t.data.key,value:c.y()(t.data),color:t.color},e.data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(t){e()}),c.dispatch=P,c.multibar=d,c.legend=g,c.controls=m,c.xAxis=f,c.yAxis=p,c.state=D,c.tooltip=e,c.options=pt.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return _},set:function(t){_=t}},showLegend:{get:function(){return E},set:function(t){E=t}},legendPosition:{get:function(){return k},set:function(t){k=t}},controlsPosition:{get:function(){return A},set:function(t){A=t}},showControls:{get:function(){return x},set:function(t){x=t}},controlLabels:{get:function(){return C},set:function(t){C=t}},showXAxis:{get:function(){return S},set:function(t){S=t}},showYAxis:{get:function(){return F},set:function(t){F=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return v},set:function(t){void 0!==t.top&&(v.top=t.top,y=t.top),v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},duration:{get:function(){return B},set:function(t){B=t,i.reset(B),d.duration(B),f.duration(B),p.duration(B)}},color:{get:function(){return w},set:function(t){w=pt.utils.getColor(t),g.color(w)}},barColor:{get:function(){return d.barColor},set:function(t){d.barColor(t),g.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),pt.utils.inheritOptions(c,d),pt.utils.initOptions(c),c},pt.models.multiChart=function(){"use strict";function $(t){return t.each(function(n){function t(t){var n=2===t.series.yAxis?ct:lt;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},ut.duration(0).headerFormatter(function(t,e){return at.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function e(t){var n=2===t.series.yAxis?ct:lt;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},ut.duration(100).headerFormatter(function(t,e){return at.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function i(t){var n=2===t.series.yAxis?ct:lt;t.point.x=st.x()(t.point),t.point.y=st.y()(t.point),ut.duration(0).headerFormatter(function(t,e){return at.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function r(t){var n=2===t.series.yAxis?ct:lt;t.value=it.x()(t.data),t.series={value:it.y()(t.data),color:t.color,key:t.data.key},ut.duration(0).headerFormatter(function(t,e){return at.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function s(){for(var t=0,e=dt.length;t<e;t++){var n=dt[t];try{n.clearHighlights()}catch(t){}}}var o=d3.select(this);pt.utils.initSVG(o),$.update=function(){o.transition().call($)},$.container=this;var a=pt.utils.availableWidth(H,o,I),l=pt.utils.availableHeight(j,o,I),c=n.filter(function(t){return"line"==t.type&&1==t.yAxis}),h=n.filter(function(t){return"line"==t.type&&2==t.yAxis}),u=n.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),d=n.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),f=n.filter(function(t){return"bar"==t.type&&1==t.yAxis}),p=n.filter(function(t){return"bar"==t.type&&2==t.yAxis}),g=n.filter(function(t){return"area"==t.type&&1==t.yAxis}),m=n.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(n&&n.length&&n.filter(function(t){return t.values.length}).length))return pt.utils.noData($,o),$;o.selectAll(".nv-noData").remove();var v=n.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:V(t),y:U(t)}})}),y=n.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:V(t),y:U(t)}})});K.domain(d3.extent(d3.merge(v.concat(y)),function(t){return t.x})).range([0,a]);var b=o.selectAll("g.wrap.multiChart").data([n]),_=b.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");_.append("g").attr("class","nv-x nv-axis"),_.append("g").attr("class","nv-y1 nv-axis"),_.append("g").attr("class","nv-y2 nv-axis"),_.append("g").attr("class","stack1Wrap"),_.append("g").attr("class","stack2Wrap"),_.append("g").attr("class","bars1Wrap"),_.append("g").attr("class","bars2Wrap"),_.append("g").attr("class","scatters1Wrap"),_.append("g").attr("class","scatters2Wrap"),_.append("g").attr("class","lines1Wrap"),_.append("g").attr("class","lines2Wrap"),_.append("g").attr("class","legendWrap"),_.append("g").attr("class","nv-interactive");var w=b.select("g"),x=n.map(function(t,e){return n[e].color||z(t,e)});if(W){var A=ht.align()?a/2:a,C=ht.align()?A:0;ht.width(A),ht.color(x),w.select(".legendWrap").datum(n.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":G),t})).call(ht),N||ht.height()===I.top||(I.top=ht.height(),l=pt.utils.availableHeight(j,o,I)),w.select(".legendWrap").attr("transform","translate("+C+","+-I.top+")")}else w.select(".legendWrap").selectAll("*").remove();J.width(a).height(l).interpolate(Y).color(x.filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"line"==n[e].type})),tt.width(a).height(l).interpolate(Y).color(x.filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"line"==n[e].type})),et.width(a).height(l).color(x.filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"scatter"==n[e].type})),nt.width(a).height(l).color(x.filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"scatter"==n[e].type})),it.width(a).height(l).color(x.filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"bar"==n[e].type})),rt.width(a).height(l).color(x.filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"bar"==n[e].type})),st.width(a).height(l).interpolate(Y).color(x.filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"area"==n[e].type})),ot.width(a).height(l).interpolate(Y).color(x.filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"area"==n[e].type})),w.attr("transform","translate("+I.left+","+I.top+")");var E=w.select(".lines1Wrap").datum(c.filter(function(t){return!t.disabled})),k=w.select(".scatters1Wrap").datum(u.filter(function(t){return!t.disabled})),S=w.select(".bars1Wrap").datum(f.filter(function(t){return!t.disabled})),F=w.select(".stack1Wrap").datum(g.filter(function(t){return!t.disabled})),T=w.select(".lines2Wrap").datum(h.filter(function(t){return!t.disabled})),D=w.select(".scatters2Wrap").datum(d.filter(function(t){return!t.disabled})),M=w.select(".bars2Wrap").datum(p.filter(function(t){return!t.disabled})),P=w.select(".stack2Wrap").datum(m.filter(function(t){return!t.disabled})),L=[];it.stacked()&&f.length&&(0<(L=f.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length&&(L=L.reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})})));f.length&&L.push({x:0,y:0});var B=[];rt.stacked()&&p.length&&(0<(B=p.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length&&(B=B.reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})})));p.length&&B.push({x:0,y:0}),X.domain(R||d3.extent(d3.merge(v).concat(L),function(t){return t.y})).range([0,l]),Q.domain(O||d3.extent(d3.merge(y).concat(B),function(t){return t.y})).range([0,l]),J.yDomain(X.domain()),et.yDomain(X.domain()),it.yDomain(X.domain()),st.yDomain(X.domain()),tt.yDomain(Q.domain()),nt.yDomain(Q.domain()),rt.yDomain(Q.domain()),ot.yDomain(Q.domain()),g.length&&d3.transition(F).call(st),m.length&&d3.transition(P).call(ot),f.length&&d3.transition(S).call(it),p.length&&d3.transition(M).call(rt),c.length&&d3.transition(E).call(J),h.length&&d3.transition(T).call(tt),u.length&&d3.transition(k).call(et),d.length&&d3.transition(D).call(nt),at._ticks(pt.utils.calcTicksX(a/100,n)).tickSize(-l,0),w.select(".nv-x.nv-axis").attr("transform","translate(0,"+l+")"),d3.transition(w.select(".nv-x.nv-axis")).call(at),lt._ticks(pt.utils.calcTicksY(l/36,n)).tickSize(-a,0),d3.transition(w.select(".nv-y1.nv-axis")).call(lt),ct._ticks(pt.utils.calcTicksY(l/36,n)).tickSize(-a,0),d3.transition(w.select(".nv-y2.nv-axis")).call(ct),w.select(".nv-y1.nv-axis").classed("nv-disabled",!v.length).attr("transform","translate("+K.range()[0]+",0)"),w.select(".nv-y2.nv-axis").classed("nv-disabled",!y.length).attr("transform","translate("+K.range()[1]+",0)"),ht.dispatch.on("stateChange",function(t){$.update()}),Z&&(q.width(a).height(l).margin({left:I.left,top:I.top}).svgContainer(o).xScale(K),b.select(".nv-interactive").call(q)),Z?(q.dispatch.on("elementMousemove",function(o){s();var a,l,c,h=[];n.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){var n=K.domain(),i=t.values.filter(function(t,e){return $.x()(t,e)>=n[0]&&$.x()(t,e)<=n[1]}),r=i[l=pt.interactiveBisect(i,o.pointXValue,$.x())],s=$.y()(r,l);null!==s&&function(t,e,n){for(var i=0,r=dt.length;i<r;i++){var s=dt[i];try{s.highlightPoint(t,e,n)}catch(t){}}}(e,l,!0),void 0!==r&&(void 0===a&&(a=r),void 0===c&&(c=K($.x()(r,l))),h.push({key:t.key,value:s,color:z(t,t.seriesIndex),data:r,yAxis:2==t.yAxis?ct:lt}))});q.tooltip.headerFormatter(function(t,e){return at.tickFormat()(t,e)}).valueFormatter(q.tooltip.valueFormatter()||function(t,e){var n=h[e].yAxis;return null==t?"N/A":n.tickFormat()(t)}).data({value:$.x()(a,l),index:l,series:h})(),q.renderGuideLine(c)}),q.dispatch.on("elementMouseout",function(t){s()})):(J.dispatch.on("elementMouseover.tooltip",t),tt.dispatch.on("elementMouseover.tooltip",t),J.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),tt.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),et.dispatch.on("elementMouseover.tooltip",e),nt.dispatch.on("elementMouseover.tooltip",e),et.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),nt.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),st.dispatch.on("elementMouseover.tooltip",i),ot.dispatch.on("elementMouseover.tooltip",i),st.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),ot.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),it.dispatch.on("elementMouseover.tooltip",r),rt.dispatch.on("elementMouseover.tooltip",r),it.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),rt.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),it.dispatch.on("elementMousemove.tooltip",function(t){ut()}),rt.dispatch.on("elementMousemove.tooltip",function(t){ut()}))}),$}var R,O,I={top:30,right:20,bottom:50,left:60},N=null,z=pt.utils.defaultColor(),H=null,j=null,W=!0,e=null,V=function(t){return t.x},U=function(t){return t.y},Y="linear",n=!0,q=pt.interactiveGuideline(),Z=!1,G=" (right axis)",i=250,K=d3.scale.linear(),X=d3.scale.linear(),Q=d3.scale.linear(),J=pt.models.line().yScale(X).duration(i),tt=pt.models.line().yScale(Q).duration(i),et=pt.models.scatter().yScale(X).duration(i),nt=pt.models.scatter().yScale(Q).duration(i),it=pt.models.multiBar().stacked(!1).yScale(X).duration(i),rt=pt.models.multiBar().stacked(!1).yScale(Q).duration(i),st=pt.models.stackedArea().yScale(X).duration(i),ot=pt.models.stackedArea().yScale(Q).duration(i),at=pt.models.axis().scale(K).orient("bottom").tickPadding(5).duration(i),lt=pt.models.axis().scale(X).orient("left").duration(i),ct=pt.models.axis().scale(Q).orient("right").duration(i),ht=pt.models.legend().height(30),ut=pt.models.tooltip(),t=d3.dispatch(),dt=[J,tt,et,nt,it,rt,st,ot];return $.dispatch=t,$.legend=ht,$.lines1=J,$.lines2=tt,$.scatters1=et,$.scatters2=nt,$.bars1=it,$.bars2=rt,$.stack1=st,$.stack2=ot,$.xAxis=at,$.yAxis1=lt,$.yAxis2=ct,$.tooltip=ut,$.interactiveLayer=q,$.options=pt.utils.optionsFunc.bind($),$._options=Object.create({},{width:{get:function(){return H},set:function(t){H=t}},height:{get:function(){return j},set:function(t){j=t}},showLegend:{get:function(){return W},set:function(t){W=t}},xScale:{get:function(){return K},set:function(t){K=t,at.scale(K)}},yDomain1:{get:function(){return R},set:function(t){R=t}},yDomain2:{get:function(){return O},set:function(t){O=t}},noData:{get:function(){return e},set:function(t){e=t}},interpolate:{get:function(){return Y},set:function(t){Y=t}},legendRightAxisHint:{get:function(){return G},set:function(t){G=t}},margin:{get:function(){return I},set:function(t){void 0!==t.top&&(I.top=t.top,N=t.top),I.right=void 0!==t.right?t.right:I.right,I.bottom=void 0!==t.bottom?t.bottom:I.bottom,I.left=void 0!==t.left?t.left:I.left}},color:{get:function(){return z},set:function(t){z=pt.utils.getColor(t)}},x:{get:function(){return V},set:function(t){V=t,J.x(t),tt.x(t),et.x(t),nt.x(t),it.x(t),rt.x(t),st.x(t),ot.x(t)}},y:{get:function(){return U},set:function(t){U=t,J.y(t),tt.y(t),et.y(t),nt.y(t),st.y(t),ot.y(t),it.y(t),rt.y(t)}},useVoronoi:{get:function(){return n},set:function(t){n=t,J.useVoronoi(t),tt.useVoronoi(t),st.useVoronoi(t),ot.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return Z},set:function(t){(Z=t)&&(J.interactive(!1),J.useVoronoi(!1),tt.interactive(!1),tt.useVoronoi(!1),st.interactive(!1),st.useVoronoi(!1),ot.interactive(!1),ot.useVoronoi(!1),et.interactive(!1),nt.interactive(!1))}},duration:{get:function(){return i},set:function(t){i=t,[J,tt,st,ot,et,nt,at,lt,ct].forEach(function(t){t.duration(i)})}}}),pt.utils.initOptions($),$},pt.models.ohlcBar=function(){"use strict";function n(t){return t.each(function(i){y=d3.select(this);var r=pt.utils.availableWidth(g,y,p),t=pt.utils.availableHeight(m,y,p);pt.utils.initSVG(y);var n=r/i[0].values.length*.9;b.domain(h||d3.extent(i[0].values.map(w).concat(S))),T?b.range(d||[.5*r/i[0].values.length,r*(i[0].values.length-.5)/i[0].values.length]):b.range(d||[5+n/2,r-n/2-5]),_.domain(u||[d3.min(i[0].values.map(k).concat(F)),d3.max(i[0].values.map(E).concat(F))]).range(f||[t,0]),b.domain()[0]===b.domain()[1]&&(b.domain()[0]?b.domain([b.domain()[0]-.01*b.domain()[0],b.domain()[1]+.01*b.domain()[1]]):b.domain([-1,1])),_.domain()[0]===_.domain()[1]&&(_.domain()[0]?_.domain([_.domain()[0]+.01*_.domain()[0],_.domain()[1]-.01*_.domain()[1]]):_.domain([-1,1]));var e=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([i[0].values]),s=e.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),o=s.append("defs"),a=s.append("g"),l=e.select("g");a.append("g").attr("class","nv-ticks"),e.attr("transform","translate("+p.left+","+p.top+")"),y.on("click",function(t,e){P.chartClick({data:t,index:e,pos:d3.event,id:v})}),o.append("clipPath").attr("id","nv-chart-clip-path-"+v).append("rect"),e.select("#nv-chart-clip-path-"+v+" rect").attr("width",r).attr("height",t),l.attr("clip-path",D?"url(#nv-chart-clip-path-"+v+")":"");var c=e.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});c.exit().remove(),c.enter().append("path").attr("class",function(t,e,n){return(A(t,e)>C(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(_(A(t,e))-_(E(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(_(k(t,e))-_(A(t,e)))+"l0,"+(_(C(t,e))-_(k(t,e)))+"l"+n/2+",0l"+-n/2+",0z"}).attr("transform",function(t,e){return"translate("+b(w(t,e))+","+_(E(t,e))+")"}).attr("fill",function(t,e){return M[0]}).attr("stroke",function(t,e){return M[0]}).attr("x",0).attr("y",function(t,e){return _(Math.max(0,x(t,e)))}).attr("height",function(t,e){return Math.abs(_(x(t,e))-_(0))}),c.attr("class",function(t,e,n){return(A(t,e)>C(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(c).attr("transform",function(t,e){return"translate("+b(w(t,e))+","+_(E(t,e))+")"}).attr("d",function(t,e){var n=r/i[0].values.length*.9;return"m0,0l0,"+(_(A(t,e))-_(E(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(_(k(t,e))-_(A(t,e)))+"l0,"+(_(C(t,e))-_(k(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),n}var h,u,d,f,p={top:0,right:0,bottom:0,left:0},g=null,m=null,v=Math.floor(1e4*Math.random()),y=null,b=d3.scale.linear(),_=d3.scale.linear(),w=function(t){return t.x},x=function(t){return t.y},A=function(t){return t.open},C=function(t){return t.close},E=function(t){return t.high},k=function(t){return t.low},S=[],F=[],T=!1,D=!0,M=pt.utils.defaultColor(),e=!1,P=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return n.highlightPoint=function(t,e){n.clearHighlights(),y.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},n.clearHighlights=function(){y.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},n.dispatch=P,n.options=pt.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return _},set:function(t){_=t}},xDomain:{get:function(){return h},set:function(t){h=t}},yDomain:{get:function(){return u},set:function(t){u=t}},xRange:{get:function(){return d},set:function(t){d=t}},yRange:{get:function(){return f},set:function(t){f=t}},forceX:{get:function(){return S},set:function(t){S=t}},forceY:{get:function(){return F},set:function(t){F=t}},padData:{get:function(){return T},set:function(t){T=t}},clipEdge:{get:function(){return D},set:function(t){D=t}},id:{get:function(){return v},set:function(t){v=t}},interactive:{get:function(){return e},set:function(t){e=t}},x:{get:function(){return w},set:function(t){w=t}},y:{get:function(){return x},set:function(t){x=t}},open:{get:function(){return A()},set:function(t){A=t}},close:{get:function(){return C()},set:function(t){C=t}},high:{get:function(){return E},set:function(t){E=t}},low:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return p},set:function(t){p.top=null!=t.top?t.top:p.top,p.right=null!=t.right?t.right:p.right,p.bottom=null!=t.bottom?t.bottom:p.bottom,p.left=null!=t.left?t.left:p.left}},color:{get:function(){return M},set:function(t){M=pt.utils.getColor(t)}}}),pt.utils.initOptions(n),n},pt.models.parallelCoordinates=function(){"use strict";function e(t){return n.reset(),t.each(function(t){function n(s){return q(I.map(function(t){if(isNaN(s.values[t.key])||isNaN(parseFloat(s.values[t.key]))||d){var e=$[t.key].domain(),n=$[t.key].range(),i=e[0]-(e[1]-e[0])/9;if(U.indexOf(t.key)<0){var r=d3.scale.linear().domain([i,e[1]]).range([L-12,n[1]]);$[t.key].brush.y(r),U.push(t.key)}if(isNaN(s.values[t.key])||isNaN(parseFloat(s.values[t.key])))return[B(t.key),$[t.key](i)]}return void 0!==v&&(0<U.length||d?(v.style("display","inline"),y.style("display","inline")):(v.style("display","none"),y.style("display","none"))),[B(t.key),$[t.key](s.values[t.key])]}))}function e(n){j.forEach(function(t){var e=$[t.dimension].brush.y().domain();t.hasOnlyNaN&&(t.extent[1]=($[t.dimension].domain()[1]-e[0])*(t.extent[1]-t.extent[0])/(u[t.dimension]-t.extent[0])+e[0]),t.hasNaN&&(t.extent[0]=e[0]),n&&$[t.dimension].brush.extent(t.extent)}),F.select(".nv-brushBackground").each(function(t){d3.select(this).call($[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),i()}function o(){!1===z&&e(z=!0)}function a(){A=N.filter(function(t){return!$[t].brush.empty()}),C=A.map(function(t){return $[t].brush.extent()}),j=[],A.forEach(function(t,e){j[e]={dimension:t,extent:C[e],hasNaN:!1,hasOnlyNaN:!1}}),W=[],k.style("display",function(n){var t=A.every(function(t,e){return!(!isNaN(n.values[t])&&!isNaN(parseFloat(n.values[t]))||C[e][0]!=$[t].brush.y().domain()[0])||C[e][0]<=n.values[t]&&n.values[t]<=C[e][1]&&!isNaN(parseFloat(n.values[t]))});return t&&W.push(n),t?null:"none"}),i(),G.brush({filters:j,active:W})}function l(){var t=0<A.length;j.forEach(function(t){t.extent[0]===$[t.dimension].brush.y().domain()[0]&&0<=U.indexOf(t.dimension)&&(t.hasNaN=!0),t.extent[1]<$[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),G.brushEnd(W,t)}function i(){F.select(".nv-axis").each(function(e,t){var n=j.filter(function(t){return t.dimension==e.key});f[e.key]=$[e.key].domain(),0!=n.length&&z&&(f[e.key]=[],n[0].extent[1]>$[e.key].domain()[0]&&(f[e.key]=[n[0].extent[1]]),n[0].extent[0]>=$[e.key].domain()[0]&&f[e.key].push(n[0].extent[0])),d3.select(this).call(Z.scale($[e.key]).tickFormat(e.format).tickValues(f[e.key]))})}function r(t){var e=V[t];return null==e?B(t):e}var s=d3.select(this);if(P=pt.utils.availableWidth(D,s,T),L=pt.utils.availableHeight(M,s,T),pt.utils.initSVG(s),void 0===t[0].values){var c=[];t.forEach(function(e){var n={};Object.keys(e).forEach(function(t){"name"!==t&&(n[t]=e[t])}),c.push({key:e.name,values:n})}),t=c}var h=t.map(function(t){return t.values});0===W.length&&(W=t),N=O.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),I=O.filter(function(t){return!t.disabled}),B.rangePoints([0,P],1).domain(I.map(function(t){return t.key}));var u={},d=!1,f=[];N.forEach(function(e){var t=d3.extent(h,function(t){return+t[e]}),n=t[0],i=t[1],r=!1;(isNaN(n)||isNaN(i))&&(r=!0,i=n=0),n===i&&(n-=1,i+=1);var s=j.filter(function(t){return t.dimension==e});0!==s.length&&(r?(n=$[e].domain()[0],i=$[e].domain()[1]):!s[0].hasOnlyNaN&&z?(n=n>s[0].extent[0]?s[0].extent[0]:n,i=i<s[0].extent[1]?s[0].extent[1]:i):s[0].hasNaN&&(i=i<s[0].extent[1]?s[0].extent[1]:i,u[e]=$[e].domain()[1],d=!0)),$[e]=d3.scale.linear().domain([n,i]).range([.9*(L-12),0]),U=[],$[e].brush=d3.svg.brush().y($[e]).on("brushstart",o).on("brush",a).on("brushend",l)});var p=s.selectAll("g.nv-wrap.nv-parallelCoordinates").data([t]),g=p.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),m=p.select("g");g.append("g").attr("class","nv-parallelCoordinates background"),g.append("g").attr("class","nv-parallelCoordinates foreground"),g.append("g").attr("class","nv-parallelCoordinates missingValuesline"),p.attr("transform","translate("+T.left+","+T.top+")"),q.interpolate("cardinal").tension(Y),Z.orient("left");var v,y,b=d3.behavior.drag().on("dragstart",function(t){V[t.key]=this.parentNode.__origin__=B(t.key),S.attr("visibility","hidden")}).on("drag",function(t){V[t.key]=Math.min(P,Math.max(0,this.parentNode.__origin__+=d3.event.x)),k.attr("d",n),I.sort(function(t,e){return r(t.key)-r(e.key)}),I.forEach(function(t,e){return t.currentPosition=e}),B.domain(I.map(function(t){return t.key})),F.attr("transform",function(t){return"translate("+r(t.key)+")"})}).on("dragend",function(t,e){delete this.parentNode.__origin__,delete V[t.key],d3.select(this.parentNode).attr("transform","translate("+B(t.key)+")"),k.attr("d",n),S.attr("d",n).attr("visibility",null),G.dimensionsOrder(I)}),_=B.range()[1]-B.range()[0];if(_=isNaN(_)?B.range()[0]:_,!isNaN(_)){var w=[0+_/2,L-12,P-_/2,L-12];(v=p.select(".missingValuesline").selectAll("line").data([w])).enter().append("line"),v.exit().remove(),v.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),(y=p.select(".missingValuesline").selectAll("text").data([R])).append("text").data([R]),y.enter().append("text"),y.exit().remove(),y.attr("y",L).attr("x",P-92-_/2).text(function(t){return t})}(S=p.select(".background").selectAll("path").data(t)).enter().append("path"),S.exit().remove(),S.attr("d",n),(k=p.select(".foreground").selectAll("path").data(t)).enter().append("path"),k.exit().remove(),k.attr("d",n).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||H(t,e)}),k.on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),G.elementMouseover({label:t.name,color:t.color||H(t,e),values:t.values,dimensions:I})}),k.on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),G.elementMouseout({label:t.name,index:e})}),k.on("mousemove",function(t,e){G.elementMousemove()}),k.on("click",function(t){G.elementClick({id:t.id})});var x=(F=m.selectAll(".dimension").data(I)).enter().append("g").attr("class","nv-parallelCoordinates dimension");F.attr("transform",function(t){return"translate("+B(t.key)+",0)"}),x.append("g").attr("class","nv-axis"),x.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){G.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){G.elementMouseout({label:t.tooltip})}).on("mousemove",function(t,e){G.elementMousemove()}).call(b),x.append("g").attr("class","nv-brushBackground"),F.exit().remove(),F.select(".nv-label").text(function(t){return t.key}),e(z);var A=N.filter(function(t){return!$[t].brush.empty()}),C=A.map(function(t){return $[t].brush.extent()}),E=W.slice(0);W=[],k.style("display",function(n){var t=A.every(function(t,e){return!(!isNaN(n.values[t])&&!isNaN(parseFloat(n.values[t]))||C[e][0]!=$[t].brush.y().domain()[0])||C[e][0]<=n.values[t]&&n.values[t]<=C[e][1]&&!isNaN(parseFloat(n.values[t]))});return t&&W.push(n),t?null:"none"}),(0<j.length||!pt.utils.arrayEquals(W,E))&&G.activeChanged(W)}),e}var k,S,F,T={top:30,right:0,bottom:10,left:0},D=null,M=null,P=null,L=null,B=d3.scale.ordinal(),$={},R="undefined values",O=[],I=[],N=[],z=!0,H=pt.utils.defaultColor(),j=[],W=[],V=[],U=[],Y=1,q=d3.svg.line(),Z=d3.svg.axis(),G=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),n=pt.utils.renderWatch(G);return e.dispatch=G,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return D},set:function(t){D=t}},height:{get:function(){return M},set:function(t){M=t}},dimensionData:{get:function(){return O},set:function(t){O=t}},displayBrush:{get:function(){return z},set:function(t){z=t}},filters:{get:function(){return j},set:function(t){j=t}},active:{get:function(){return W},set:function(t){W=t}},lineTension:{get:function(){return Y},set:function(t){Y=t}},undefinedValuesLabel:{get:function(){return R},set:function(t){R=t}},dimensions:{get:function(){return O.map(function(t){return t.key})},set:function(t){pt.deprecated("dimensions","use dimensionData instead"),0===O.length?t.forEach(function(t){O.push({key:t})}):t.forEach(function(t,e){O[e].key=t})}},dimensionNames:{get:function(){return O.map(function(t){return t.key})},set:function(t){pt.deprecated("dimensionNames","use dimensionData instead"),N=[],0===O.length?t.forEach(function(t){O.push({key:t})}):t.forEach(function(t,e){O[e].key=t})}},dimensionFormats:{get:function(){return O.map(function(t){return t.format})},set:function(t){pt.deprecated("dimensionFormats","use dimensionData instead"),0===O.length?t.forEach(function(t){O.push({format:t})}):t.forEach(function(t,e){O[e].format=t})}},margin:{get:function(){return T},set:function(t){T.top=void 0!==t.top?t.top:T.top,T.right=void 0!==t.right?t.right:T.right,T.bottom=void 0!==t.bottom?t.bottom:T.bottom,T.left=void 0!==t.left?t.left:T.left}},color:{get:function(){return H},set:function(t){H=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.parallelCoordinatesChart=function(){"use strict";function l(t){return r.reset(),r.models(c),t.each(function(t){var e=d3.select(this);pt.utils.initSVG(e);var n,i=pt.utils.availableWidth(f,e,u),r=pt.utils.availableHeight(p,e,u);if(l.update=function(){e.call(l)},l.container=this,m.setter(x(v),l.update).getter(w(v)).update(),m.disabled=v.map(function(t){return!!t.disabled}),(v=v.map(function(t){return t.disabled=!!t.disabled,t})).forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!b)for(n in b={},m)m[n]instanceof Array?b[n]=m[n].slice(0):b[n]=m[n];if(!t||!t.length)return pt.utils.noData(l,e),l;e.selectAll(".nv-noData").remove();var s=e.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([t]),o=s.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),a=s.select("g");o.append("g").attr("class","nv-parallelCoordinatesWrap"),o.append("g").attr("class","nv-legendWrap"),a.select("rect").attr("width",i).attr("height",0<r?r:0),g?(h.width(i).color(function(t){return"rgb(188,190,192)"}),a.select(".nv-legendWrap").datum(v.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(h),d||h.height()===u.top||(u.top=h.height(),r=pt.utils.availableHeight(p,e,u)),s.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-u.top+")")):a.select(".nv-legendWrap").selectAll("*").remove(),s.attr("transform","translate("+u.left+","+u.top+")"),c.width(i).height(r).dimensionData(v).displayBrush(y),a.select(".nv-parallelCoordinatesWrap ").datum(t).transition().call(c),c.dispatch.on("brushEnd",function(t,e){e?(y=!0,_.brushEnd(t)):y=!1}),h.dispatch.on("stateChange",function(t){for(var e in t)m[e]=t[e];_.stateChange(m),l.update()}),c.dispatch.on("dimensionsOrder",function(t){v.sort(function(t,e){return t.currentPosition-e.currentPosition});var n=!1;v.forEach(function(t,e){t.currentPosition=e,t.currentPosition!==t.originalPosition&&(n=!0)}),_.dimensionsOrder(v,n)}),_.on("changeState",function(n){void 0!==n.disabled&&(v.forEach(function(t,e){t.disabled=n.disabled[e]}),m.disabled=n.disabled),l.update()})}),r.renderEnd("parraleleCoordinateChart immediate"),l}var c=pt.models.parallelCoordinates(),h=pt.models.legend(),e=pt.models.tooltip(),u=(pt.models.tooltip(),{top:0,right:0,bottom:0,left:0}),d=null,f=null,p=null,g=!0,n=pt.utils.defaultColor(),m=pt.utils.state(),v=[],y=!0,b=null,i=null,s="undefined",_=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),r=pt.utils.renderWatch(_),w=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},x=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return e.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),c.dispatch.on("elementMouseover.tooltip",function(i){var r={key:i.label,color:i.color,series:[]};i.values&&(Object.keys(i.values).forEach(function(e){var t,n=i.dimensions.filter(function(t){return t.key===e})[0];n&&(t=isNaN(i.values[e])||isNaN(parseFloat(i.values[e]))?s:n.format(i.values[e]),r.series.push({idx:n.currentPosition,key:e,value:t,color:n.color}))}),r.series.sort(function(t,e){return t.idx-e.idx})),e.data(r).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(){e()}),l.dispatch=_,l.parallelCoordinates=c,l.legend=h,l.tooltip=e,l.options=pt.utils.optionsFunc.bind(l),l._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},defaultState:{get:function(){return b},set:function(t){b=t}},dimensionData:{get:function(){return v},set:function(t){v=t}},displayBrush:{get:function(){return y},set:function(t){y=t}},noData:{get:function(){return i},set:function(t){i=t}},nanValue:{get:function(){return s},set:function(t){s=t}},margin:{get:function(){return u},set:function(t){void 0!==t.top&&(u.top=t.top,d=t.top),u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},color:{get:function(){return n},set:function(t){n=pt.utils.getColor(t),h.color(n),c.color(n)}}}),pt.utils.inheritOptions(l,c),pt.utils.initOptions(l),l},pt.models.pie=function(){"use strict";function e(t){return Q.reset(),t.each(function(t){var e=C-A.left-A.right,n=E-A.top-A.bottom,o=Math.min(e,n)/2,a=[],i=[];if(T=d3.select(this),0===Z.length)for(var r=o-o/10,s=Y*o,l=0;l<t[0].length;l++)a.push(r),i.push(s);else N?(a=Z.map(function(t){return(t.outer-t.outer/10)*o}),i=Z.map(function(t){return(t.inner-t.inner/10)*o}),Y=d3.min(Z.map(function(t){return t.inner-t.inner/10}))):(a=Z.map(function(t){return t.outer*o}),i=Z.map(function(t){return t.inner*o}),Y=d3.min(Z.map(function(t){return t.inner})));pt.utils.initSVG(T);var c=T.selectAll(".nv-wrap.nv-pie").data(t),h=c.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+F).append("g"),u=c.select("g"),d=h.append("g").attr("class","nv-pie");h.append("g").attr("class","nv-pieLabels"),c.attr("transform","translate("+A.left+","+A.top+")"),u.select(".nv-pie").attr("transform","translate("+e/2+","+n/2+")"),u.select(".nv-pieLabels").attr("transform","translate("+e/2+","+n/2+")"),T.on("click",function(t,e){G.chartClick({data:t,index:e,pos:d3.event,id:F})}),K=[],X=[];for(l=0;l<t[0].length;l++){var f=d3.svg.arc().outerRadius(a[l]),p=d3.svg.arc().outerRadius(a[l]+5);!1!==j&&(f.startAngle(j),p.startAngle(j)),!1!==V&&(f.endAngle(V),p.endAngle(V)),O&&(f.innerRadius(i[l]),p.innerRadius(i[l])),f.cornerRadius&&U&&(f.cornerRadius(U),p.cornerRadius(U)),K.push(f),X.push(p)}var g=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:S(t)});g.padAngle&&W&&g.padAngle(W),O&&I&&(d.append("text").attr("class","nv-pie-title"),c.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return I}).style("font-size",Math.min(e,n)*Y*2/(I.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+z+")"}));var m=c.select(".nv-pie").selectAll(".nv-slice").data(g),v=c.select(".nv-pieLabels").selectAll(".nv-label").data(g);m.exit().remove(),v.exit().remove();var y=m.enter().append("g");if(y.attr("class","nv-slice"),y.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),N&&d3.select(this).select("path").transition().duration(70).attr("d",X[e]),G.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),y.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),N&&d3.select(this).select("path").transition().duration(50).attr("d",K[e]),G.elementMouseout({data:t.data,index:e})}),y.on("mousemove",function(t,e){G.elementMousemove({data:t.data,index:e})}),y.on("click",function(t,e){G.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this})}),y.on("dblclick",function(t,e){G.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),m.attr("fill",function(t,e){return D(t.data,e)}),m.attr("stroke",function(t,e){return D(t.data,e)}),y.append("path").each(function(t){this._current=t}),m.select("path").transition().duration(q).attr("d",function(t,e){return K[e](t)}).attrTween("d",function(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,O||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return K[e](n(t))}}),P){var b=[];for(l=0;l<t[0].length;l++)b.push(K[l]),L?O&&(b[l]=d3.svg.arc().outerRadius(K[l].outerRadius()),!1!==j&&b[l].startAngle(j),!1!==V&&b[l].endAngle(V)):O||b[l].innerRadius(0);v.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t,e){if(H){t.outerRadius=a[e]+10,t.innerRadius=a[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+b[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=o+10,t.innerRadius=o+15,"translate("+b[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",H?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var _={},w=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},x=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};v.watchTransition(Q,"pie labels").attr("transform",function(t,e){if(H){t.outerRadius=a[e]+10,t.innerRadius=a[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+b[e].centroid(t)+") rotate("+n+")"}t.outerRadius=o+10,t.innerRadius=o+15;var i=b[e].centroid(t),r=x(t);if(t.value&&$<=r){var s=w(i);_[s]&&(i[1]-=14),_[w(i)]=!0}return"translate("+i+")"}),v.select(".nv-label text").style("text-anchor",function(t,e){return H?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=x(t),i="";if(!t.value||n<$)return"";if("function"==typeof B)i=B(t,e,{key:k(t.data),value:S(t.data),percent:M(n)});else switch(B){case"key":i=k(t.data);break;case"value":i=M(S(t.data));break;case"percent":i=d3.format("%")(n)}return i}),R&&v.each(function(t,e){if(this.getBBox){var n=this.getBBox(),i=b[e].centroid(t),r={x:i[0]+n.x,y:i[1]+n.y},s={x:r.x+n.width,y:r.y},o={x:r.x,y:r.y+n.height},a={x:r.x+n.width,y:r.y+n.height};t.visible=pt.utils.pointIsInArc(r,t,f)&&pt.utils.pointIsInArc(s,t,f)&&pt.utils.pointIsInArc(o,t,f)&&pt.utils.pointIsInArc(a,t,f)}}).style("display",function(t){return t.visible?null:"none"})}}),Q.renderEnd("pie immediate"),e}var A={top:0,right:0,bottom:0,left:0},C=500,E=500,k=function(t){return t.x},S=function(t){return t.y},F=Math.floor(1e4*Math.random()),T=null,D=pt.utils.defaultColor(),M=d3.format(",.2f"),P=!0,L=!1,B="key",$=.02,R=!1,O=!1,I=!1,N=!0,z=0,H=!1,j=!1,W=!1,V=!1,U=0,Y=.5,q=250,Z=[],G=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),K=[],X=[],Q=pt.utils.renderWatch(G);return e.dispatch=G,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{arcsRadius:{get:function(){return Z},set:function(t){Z=t}},width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return E},set:function(t){E=t}},showLabels:{get:function(){return P},set:function(t){P=t}},title:{get:function(){return I},set:function(t){I=t}},titleOffset:{get:function(){return z},set:function(t){z=t}},labelThreshold:{get:function(){return $},set:function(t){$=t}},hideOverlapLabels:{get:function(){return R},set:function(t){R=t}},valueFormat:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return F},set:function(t){F=t}},endAngle:{get:function(){return V},set:function(t){V=t}},startAngle:{get:function(){return j},set:function(t){j=t}},padAngle:{get:function(){return W},set:function(t){W=t}},cornerRadius:{get:function(){return U},set:function(t){U=t}},donutRatio:{get:function(){return Y},set:function(t){Y=t}},labelsOutside:{get:function(){return L},set:function(t){L=t}},labelSunbeamLayout:{get:function(){return H},set:function(t){H=t}},donut:{get:function(){return O},set:function(t){O=t}},growOnHover:{get:function(){return N},set:function(t){N=t}},pieLabelsOutside:{get:function(){return L},set:function(t){L=t,pt.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return L},set:function(t){L=t,pt.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return M},set:function(t){M=t,pt.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return A},set:function(t){A.top=void 0!==t.top?t.top:A.top,A.right=void 0!==t.right?t.right:A.right,A.bottom=void 0!==t.bottom?t.bottom:A.bottom,A.left=void 0!==t.left?t.left:A.left}},duration:{get:function(){return q},set:function(t){q=t,Q.reset(q)}},y:{get:function(){return S},set:function(t){S=d3.functor(t)}},color:{get:function(){return D},set:function(t){D=pt.utils.getColor(t)}},labelType:{get:function(){return B},set:function(t){B=t||"key"}}}),pt.utils.initOptions(e),e},pt.models.pieChart=function(){"use strict";function h(t){return o.reset(),o.models(u),t.each(function(t){var e=d3.select(this);pt.utils.initSVG(e);var n,i=pt.utils.availableWidth(g,e,f),r=pt.utils.availableHeight(m,e,f);if(h.update=function(){e.transition().call(h)},h.container=this,b.setter(A(t),h.update).getter(x(t)).update(),b.disabled=t.map(function(t){return!!t.disabled}),!_)for(n in _={},b)b[n]instanceof Array?_[n]=b[n].slice(0):_[n]=b[n];if(!t||!t.length)return pt.utils.noData(h,e),h;e.selectAll(".nv-noData").remove();var s=e.selectAll("g.nv-wrap.nv-pieChart").data([t]),o=s.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),a=s.select("g");if(o.append("g").attr("class","nv-pieWrap"),o.append("g").attr("class","nv-legendWrap"),v)if("top"===y)d.width(i).key(u.x()),s.select(".nv-legendWrap").datum(t).call(d),p||d.height()===f.top||(f.top=d.height(),r=pt.utils.availableHeight(m,e,f)),s.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")");else if("right"===y){var l=pt.models.legend().width();i/2<l&&(l=i/2),d.height(r).key(u.x()),d.width(l),i-=d.width(),s.select(".nv-legendWrap").datum(t).call(d).attr("transform","translate("+i+",0)")}else"bottom"===y&&(d.width(i).key(u.x()),s.select(".nv-legendWrap").datum(t).call(d),f.bottom=d.height(),r=pt.utils.availableHeight(m,e,f),s.select(".nv-legendWrap").attr("transform","translate(0,"+r+")"));else a.select(".nv-legendWrap").selectAll("*").remove();s.attr("transform","translate("+f.left+","+f.top+")"),u.width(i).height(r);var c=a.select(".nv-pieWrap").datum([t]);d3.transition(c).call(u),d.dispatch.on("stateChange",function(t){for(var e in t)b[e]=t[e];w.stateChange(b),h.update()}),w.on("changeState",function(n){void 0!==n.disabled&&(t.forEach(function(t,e){t.disabled=n.disabled[e]}),b.disabled=n.disabled),h.update()})}),o.renderEnd("pieChart immediate"),h}var u=pt.models.pie(),d=pt.models.legend(),e=pt.models.tooltip(),f={top:30,right:20,bottom:20,left:20},p=null,g=null,m=null,n=!1,v=!0,y="top",i=pt.utils.defaultColor(),b=pt.utils.state(),_=null,r=null,s=250,w=d3.dispatch("stateChange","changeState","renderEnd");e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return u.valueFormat()(t,e)});var o=pt.utils.renderWatch(w),x=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},A=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return u.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:h.x()(t.data),value:h.y()(t.data),color:t.color,percent:t.percent},n||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),u.dispatch.on("elementMousemove.tooltip",function(t){e()}),h.legend=d,h.dispatch=w,h.pie=u,h.tooltip=e,h.options=pt.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return m},set:function(t){m=t}},noData:{get:function(){return r},set:function(t){r=t}},showTooltipPercent:{get:function(){return n},set:function(t){n=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return _},set:function(t){_=t}},color:{get:function(){return i},set:function(t){i=t,d.color(i),u.color(i)}},duration:{get:function(){return s},set:function(t){s=t,o.reset(s),u.duration(s)}},margin:{get:function(){return f},set:function(t){void 0!==t.top&&(f.top=t.top,p=t.top),f.right=void 0!==t.right?t.right:f.right,f.bottom=void 0!==t.bottom?t.bottom:f.bottom,f.left=void 0!==t.left?t.left:f.left}}}),pt.utils.inheritOptions(h,u),pt.utils.initOptions(h),h},pt.models.sankey=function(){"use strict";function e(){for(var e,t=d,n=0;t.length&&n<d.length;)e=[],t.forEach(function(t){t.x=n,t.dx=s,t.sourceLinks.forEach(function(t){e.indexOf(t.target)<0&&e.push(t.target)})}),t=e,++n;var i,r;o&&(r=n,d.forEach(function(t){t.sourceLinks.length||(t.x=r-1)})),i=(u[0]-s)/(n-1),d.forEach(function(t){t.x*=i})}function l(){function e(t,e){return t.source.y-e.source.y}function n(t,e){return t.target.y-e.target.y}d.forEach(function(t){t.sourceLinks.sort(n),t.targetLinks.sort(e)}),d.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function c(t){return t.value}var t={},s=24,h=8,u=[1,1],d=[],f=[],o=!0,n=function(t){d.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),f.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=d[t.source]),"number"==typeof n&&(n=t.target=d[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)}),d.forEach(function(t){t.value=Math.max(d3.sum(t.sourceLinks,c),d3.sum(t.targetLinks,c))}),e(),function(t){function e(n){function i(t){return(t.source.y+t.sy+t.dy/2)*t.value}s.forEach(function(t,e){t.forEach(function(t){if(t.targetLinks.length){var e=d3.sum(t.targetLinks,i)/d3.sum(t.targetLinks,c);t.y+=(e-p(t))*n}})})}function n(n){function i(t){return(t.target.y+t.ty+t.dy/2)*t.value}s.slice().reverse().forEach(function(t){t.forEach(function(t){if(t.sourceLinks.length){var e=d3.sum(t.sourceLinks,i)/d3.sum(t.sourceLinks,c);t.y+=(e-p(t))*n}})})}function i(){s.forEach(function(t){var e,n,i,r=0,s=t.length;for(t.sort(o),i=0;i<s;++i)0<(n=r-(e=t[i]).y)&&(e.y+=n),r=e.y+e.dy+h;if(0<(n=r-h-u[1]))for(r=e.y-=n,i=s-2;0<=i;--i)0<(n=(e=t[i]).y+e.dy+h-r)&&(e.y-=n),r=e.y})}function o(t,e){return t.y-e.y}var r,s=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(d).map(function(t){return t.values});r=d3.min(s,function(t){return(u[1]-(t.length-1)*h)/d3.sum(t,c)}),s.forEach(function(t){t.forEach(function(t,e){t.y=e,t.dy=t.value*r})}),f.forEach(function(t){t.dy=t.value*r}),i(),l();for(var a=1;0<t;--t)n(a*=.99),i(),l(),e(a),i(),l()}(t)},i=function(){function e(t){var e=t.source.x+t.source.dx,n=t.target.x,i=d3.interpolateNumber(e,n),r=i(l),s=i(1-l),o=t.source.y+t.sy+t.dy/2,a=t.target.y+t.ty+t.dy/2;return"M"+e+","+o+"C"+r+","+o+" "+s+","+a+" "+n+","+a}var l=.5;return e.curvature=function(t){return arguments.length?(l=+t,e):l},e},p=function(t){return t.y+t.dy/2};return t.options=pt.utils.optionsFunc.bind(t),t._options=Object.create({},{nodeWidth:{get:function(){return s},set:function(t){s=+t}},nodePadding:{get:function(){return h},set:function(t){h=t}},nodes:{get:function(){return d},set:function(t){d=t}},links:{get:function(){return f},set:function(t){f=t}},size:{get:function(){return u},set:function(t){u=t}},sinksRight:{get:function(){return o},set:function(t){o=t}},layout:{get:function(){n(32)},set:function(t){n(t)}},relayout:{get:function(){l()},set:function(t){}},center:{get:function(){return p()},set:function(t){"function"==typeof t&&(p=t)}},link:{get:function(){return i()},set:function(t){return"function"==typeof t&&(i=t),i()}}}),pt.utils.initOptions(t),t},pt.models.sankeyChart=function(){"use strict";function t(l){return l.each(function(t){var e={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},n=!1,i=!1;if(0<=("object"==typeof t.nodes&&t.nodes.length)&&0<=("object"==typeof t.links&&t.links.length)&&(n=!0),t.nodes&&0<t.nodes.length&&t.links&&0<t.links.length&&(i=!0),!n)return console.error("NVD3 Sankey chart error:","invalid data format for",t),console.info("Valid data format is: ",e,JSON.stringify(e)),b(l,"Error loading chart, data is invalid"),!1;if(!i)return b(l,"No data available"),!1;var r=l.append("svg").attr("width",h).attr("height",u).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");c.nodeWidth(d).nodePadding(f).size([h,u]);var s=c.link();c.nodes(t.nodes).links(t.links).layout(32).center(p);var o=r.append("g").selectAll(".link").data(t.links).enter().append("path").attr("class","link").attr("d",s).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy});o.append("title").text(g);var a=r.append("g").selectAll(".node").data(t.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.behavior.drag().origin(function(t){return t}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(u-t.dy,d3.event.y)))+")"),c.relayout(),o.attr("d",s)}));a.append("rect").attr("height",function(t){return t.dy}).attr("width",c.nodeWidth()).style("fill",m).style("stroke",v).append("title").text(y),a.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(t){return t.name}).filter(function(t){return t.x<h/2}).attr("x",6+c.nodeWidth()).attr("text-anchor","start")}),t}var e={top:5,right:0,bottom:5,left:0},c=pt.models.sankey(),h=600,u=400,d=36,f=40,n="units",p=void 0,i=d3.format(",.0f"),r=function(t){return i(t)+" "+n},s=d3.scale.category20(),g=function(t){return t.source.name+" → "+t.target.name+"\n"+r(t.value)},m=function(t){return t.color=s(t.name.replace(/ .*/,""))},v=function(t){return d3.rgb(t.color).darker(2)},y=function(t){return t.name+"\n"+r(t.value)},b=function(t,e){t.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(e)};return t.options=pt.utils.optionsFunc.bind(t),t._options=Object.create({},{units:{get:function(){return n},set:function(t){n=t}},width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return u},set:function(t){u=t}},format:{get:function(){return r},set:function(t){r=t}},linkTitle:{get:function(){return g},set:function(t){g=t}},nodeWidth:{get:function(){return d},set:function(t){d=t}},nodePadding:{get:function(){return f},set:function(t){f=t}},center:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},nodeStyle:{get:function(){return{}},set:function(t){m=void 0!==t.fillColor?t.fillColor:m,v=void 0!==t.strokeColor?t.strokeColor:v,y=void 0!==t.title?t.title:y}}}),pt.utils.initOptions(t),t},pt.models.scatter=function(){"use strict";function y(t){var e;e=t[0].series+":"+t[1],delete l[e]}function b(t){var e,n,i,r,s,o=(s=(r=t)[0].series+":"+r[1],l[s]=l[s]||{}),a=!1;for(e=1;e<arguments.length;e+=2)n=arguments[e],i=arguments[e+1](t[0],t[1]),o[n]===i&&o.hasOwnProperty(n)||(o[n]=i,a=!0);return a}function _(t){return dt.reset(),t.each(function(l){function t(){if(ut=!1,!Y)return!1;if($.selectAll(".nv-point.hover").classed("hover",!1),h.select(".nv-point-paths").selectAll("path").remove(),!0===lt){var n=d3.merge(l.map(function(t,r){return t.values.map(function(t,e){var n=N(t,e),i=z(t,e);return[pt.utils.NaNtoZero(R(n))+1e-4*Math.random(),pt.utils.NaNtoZero(O(i))+1e-4*Math.random(),r,e,t]}).filter(function(t,e){return q(t[4],e)})}));if(0==n.length)return!1;n.length<3&&(n.push([R.range()[0]-20,O.range()[0]-20,null,null]),n.push([R.range()[1]+20,O.range()[1]+20,null,null]),n.push([R.range()[0]-20,O.range()[0]+20,null,null]),n.push([R.range()[1]+20,O.range()[1]-20,null,null]));var i=d3.geom.polygon([[-10,-10],[-10,M+10],[D+10,M+10],[D+10,-10]]);n=n.sort(function(t,e){return t[0]-e[0]||t[1]-e[1]});for(var t=0;t<n.length-1;)Math.abs(n[t][0]-n[t+1][0])<1e-4&&Math.abs(n[t][1]-n[t+1][1])<1e-4?n.splice(t+1,1):t++;var e=d3.geom.voronoi(n).map(function(t,e){return 0===t.length?null:{data:i.clip(t),series:n[e][2],point:n[e][3]}}),r=h.select(".nv-point-paths").selectAll("path").data(e),s=r.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+B+"-"+e+")"});if(Q&&s.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),X)h.select(".nv-point-clips").selectAll("*").remove(),h.select(".nv-point-clips").selectAll("clipPath").data(n).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+B+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",J);var o=function(t,e,n){if(ut)return 0;var i=l[e.series];if(void 0!==i){var r=i.values[e.point];r.color=P(i,e.series),r.x=N(r),r.y=z(r);var s=$.node().getBoundingClientRect(),o=window.pageYOffset||document.documentElement.scrollTop,a=window.pageXOffset||document.documentElement.scrollLeft;n({point:r,series:i,pos:{left:R(N(r,e.point))+s.left+a+T.left+10,top:O(z(r,e.point))+s.top+o+T.top+10},relativePos:[R(N(r,e.point))+T.left,O(z(r,e.point))+T.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:t})}};r.on("click",function(t){o(this,t,at.elementClick)}).on("dblclick",function(t){o(this,t,at.elementDblClick)}).on("mouseover",function(t){o(this,t,at.elementMouseover)}).on("mouseout",function(t,e){o(this,t,at.elementMouseout)})}else h.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(ut||!l[t[0].series])return 0;var n=l[t[0].series],i=n.values[e];at.elementClick({point:i,series:n,pos:[R(N(i,e))+T.left,O(z(i,e))+T.top],relativePos:[R(N(i,e))+T.left,O(z(i,e))+T.top],seriesIndex:t[0].series,pointIndex:e,event:d3.event,element:this})}).on("dblclick",function(t,e){if(ut||!l[t[0].series])return 0;var n=l[t[0].series],i=n.values[e];at.elementDblClick({point:i,series:n,pos:[R(N(i,e))+T.left,O(z(i,e))+T.top],relativePos:[R(N(i,e))+T.left,O(z(i,e))+T.top],seriesIndex:t[0].series,pointIndex:e})}).on("mouseover",function(t,e){if(ut||!l[t[0].series])return 0;var n=l[t[0].series],i=n.values[e];at.elementMouseover({point:i,series:n,pos:[R(N(i,e))+T.left,O(z(i,e))+T.top],relativePos:[R(N(i,e))+T.left,O(z(i,e))+T.top],seriesIndex:t[0].series,pointIndex:e,color:P(t[0],e)})}).on("mouseout",function(t,e){if(ut||!l[t[0].series])return 0;var n=l[t[0].series],i=n.values[e];at.elementMouseout({point:i,series:n,pos:[R(N(i,e))+T.left,O(z(i,e))+T.top],relativePos:[R(N(i,e))+T.left,O(z(i,e))+T.top],seriesIndex:t[0].series,pointIndex:e,color:P(t[0],e)})})}$=d3.select(this);var e=pt.utils.availableWidth(D,$,T),n=pt.utils.availableHeight(M,$,T);pt.utils.initSVG($),l.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var i="function"==typeof _.yScale().base,r=tt&&et&&rt?[]:d3.merge(l.map(function(t){return t.values.map(function(t,e){return{x:N(t,e),y:z(t,e),size:H(t,e)}})}));if(R.domain(tt||d3.extent(r.map(function(t){return t.x}).concat(W))),Z&&l[0]?R.range(nt||[(e*G+e)/(2*l[0].values.length),e-e*(1+G)/(2*l[0].values.length)]):R.range(nt||[0,e]),i){var s=d3.min(r.map(function(t){return 0!==t.y?t.y:void 0}));O.clamp(!0).domain(et||d3.extent(r.map(function(t){return 0!==t.y?t.y:.1*s}).concat(V))).range(it||[n,0])}else O.domain(et||d3.extent(r.map(function(t){return t.y}).concat(V))).range(it||[n,0]);I.domain(rt||d3.extent(r.map(function(t){return t.size}).concat(U))).range(st||ft),ot=R.domain()[0]===R.domain()[1]||O.domain()[0]===O.domain()[1],R.domain()[0]===R.domain()[1]&&(R.domain()[0]?R.domain([R.domain()[0]-.01*R.domain()[0],R.domain()[1]+.01*R.domain()[1]]):R.domain([-1,1])),O.domain()[0]===O.domain()[1]&&(O.domain()[0]?O.domain([O.domain()[0]-.01*O.domain()[0],O.domain()[1]+.01*O.domain()[1]]):O.domain([-1,1])),isNaN(R.domain()[0])&&R.domain([-1,1]),isNaN(O.domain()[0])&&O.domain([-1,1]),w=w||R,x=x||O,A=A||I;var o=R(1)!==w(1)||O(1)!==x(1)||I(1)!==A(1);S=S||M;var a=(k=k||D)!==D||S!==M,c=(C=C||[])[0]!==R.domain()[0]||C[1]!==R.domain()[1];C=R.domain(),E=E||[],c=c||E[0]!==O.domain()[0]||E[1]!==O.domain()[1],E=O.domain();var h=$.selectAll("g.nv-wrap.nv-scatter").data([l]),u=h.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+B),d=u.append("defs"),f=u.append("g"),p=h.select("g");h.classed("nv-single-point",ot),f.append("g").attr("class","nv-groups"),f.append("g").attr("class","nv-point-paths"),u.append("g").attr("class","nv-point-clips"),h.attr("transform","translate("+T.left+","+T.top+")"),d.append("clipPath").attr("id","nv-edge-clip-"+B).append("rect").attr("transform","translate( -10, -10)"),h.select("#nv-edge-clip-"+B+" rect").attr("width",e+20).attr("height",0<n?n+20:0),p.attr("clip-path",K?"url(#nv-edge-clip-"+B+")":""),ut=!0;var g=h.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});g.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),g.exit().remove(),g.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!Y).classed("hover",function(t){return t.hover}),g.watchTransition(dt,"scatter: groups").style("fill",function(t,e){return P(t,e)}).style("stroke",function(t,e){return t.pointBorderColor||L||P(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var m=g.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return q(t[0],e)})});if(m.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t){return"translate("+pt.utils.NaNtoZero(w(N(t[0],t[1])))+","+pt.utils.NaNtoZero(x(z(t[0],t[1])))+")"}).attr("d",pt.utils.symbol().type(function(t){return j(t[0])}).size(function(t){return I(H(t[0],t[1]))})),m.exit().each(y).remove(),g.exit().selectAll("path.nv-point").watchTransition(dt,"scatter exit").attr("transform",function(t){return"translate("+pt.utils.NaNtoZero(R(N(t[0],t[1])))+","+pt.utils.NaNtoZero(O(z(t[0],t[1])))+")"}).remove(),m.filter(function(t){return b(t,"x",N,"y",z)||o||a||c}).watchTransition(dt,"scatter points").attr("transform",function(t){return"translate("+pt.utils.NaNtoZero(R(N(t[0],t[1])))+","+pt.utils.NaNtoZero(O(z(t[0],t[1])))+")"}),m.filter(function(t){return b(t,"shape",j,"size",H)||o||a||c}).watchTransition(dt,"scatter points").attr("d",pt.utils.symbol().type(function(t){return j(t[0])}).size(function(t){return I(H(t[0],t[1]))})),ht){var v=g.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return q(t[0],e)})});v.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(t){return"translate("+(pt.utils.NaNtoZero(w(N(t[0],t[1])))+Math.sqrt(I(H(t[0],t[1]))/Math.PI)+2)+","+pt.utils.NaNtoZero(x(z(t[0],t[1])))+")"}).text(function(t,e){return t[0].label}),v.exit().remove(),g.exit().selectAll("path.nv-label").watchTransition(dt,"scatter exit").attr("transform",function(t){return"translate("+(pt.utils.NaNtoZero(R(N(t[0],t[1])))+Math.sqrt(I(H(t[0],t[1]))/Math.PI)+2)+","+pt.utils.NaNtoZero(O(z(t[0],t[1])))+")"}).remove(),v.each(function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),v.watchTransition(dt,"scatter labels").text(function(t,e){return t[0].label}).attr("transform",function(t){return"translate("+(pt.utils.NaNtoZero(R(N(t[0],t[1])))+Math.sqrt(I(H(t[0],t[1]))/Math.PI)+2)+","+pt.utils.NaNtoZero(O(z(t[0],t[1])))+")"})}ct?(clearTimeout(F),F=setTimeout(t,ct)):t(),w=R.copy(),x=O.copy(),A=I.copy(),k=D,S=M}),dt.renderEnd("scatter immediate"),_}var w,x,A,C,E,k,S,F,T={top:0,right:0,bottom:0,left:0},D=null,M=null,P=pt.utils.defaultColor(),L=null,B=Math.floor(1e5*Math.random()),$=null,R=d3.scale.linear(),O=d3.scale.linear(),I=d3.scale.linear(),N=function(t){return t.x},z=function(t){return t.y},H=function(t){return t.size||1},j=function(t){return t.shape||"circle"},W=[],V=[],U=[],Y=!0,q=function(t){return!t.notActive},Z=!1,G=.1,K=!1,X=!0,Q=!1,J=function(){return 25},tt=null,et=null,nt=null,it=null,rt=null,st=null,ot=!1,at=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),lt=!0,e=250,ct=300,ht=!1,ut=!1,dt=pt.utils.renderWatch(at,e),ft=[16,256],l={};return _.dispatch=at,_.options=pt.utils.optionsFunc.bind(_),_._calls=new function(){this.clearHighlights=function(){return pt.dom.write(function(){$.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){pt.dom.write(function(){$.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},at.on("elementMouseover.point",function(t){Y&&_._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),at.on("elementMouseout.point",function(t){Y&&_._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),_._options=Object.create({},{width:{get:function(){return D},set:function(t){D=t}},height:{get:function(){return M},set:function(t){M=t}},xScale:{get:function(){return R},set:function(t){R=t}},yScale:{get:function(){return O},set:function(t){O=t}},pointScale:{get:function(){return I},set:function(t){I=t}},xDomain:{get:function(){return tt},set:function(t){tt=t}},yDomain:{get:function(){return et},set:function(t){et=t}},pointDomain:{get:function(){return rt},set:function(t){rt=t}},xRange:{get:function(){return nt},set:function(t){nt=t}},yRange:{get:function(){return it},set:function(t){it=t}},pointRange:{get:function(){return st},set:function(t){st=t}},forceX:{get:function(){return W},set:function(t){W=t}},forceY:{get:function(){return V},set:function(t){V=t}},forcePoint:{get:function(){return U},set:function(t){U=t}},interactive:{get:function(){return Y},set:function(t){Y=t}},pointActive:{get:function(){return q},set:function(t){q=t}},padDataOuter:{get:function(){return G},set:function(t){G=t}},padData:{get:function(){return Z},set:function(t){Z=t}},clipEdge:{get:function(){return K},set:function(t){K=t}},clipVoronoi:{get:function(){return X},set:function(t){X=t}},clipRadius:{get:function(){return J},set:function(t){J=t}},showVoronoi:{get:function(){return Q},set:function(t){Q=t}},id:{get:function(){return B},set:function(t){B=t}},interactiveUpdateDelay:{get:function(){return ct},set:function(t){ct=t}},showLabels:{get:function(){return ht},set:function(t){ht=t}},pointBorderColor:{get:function(){return L},set:function(t){L=t}},x:{get:function(){return N},set:function(t){N=d3.functor(t)}},y:{get:function(){return z},set:function(t){z=d3.functor(t)}},pointSize:{get:function(){return H},set:function(t){H=d3.functor(t)}},pointShape:{get:function(){return j},set:function(t){j=d3.functor(t)}},margin:{get:function(){return T},set:function(t){T.top=void 0!==t.top?t.top:T.top,T.right=void 0!==t.right?t.right:T.right,T.bottom=void 0!==t.bottom?t.bottom:T.bottom,T.left=void 0!==t.left?t.left:T.left}},duration:{get:function(){return e},set:function(t){e=t,dt.reset(e)}},color:{get:function(){return P},set:function(t){P=pt.utils.getColor(t)}},useVoronoi:{get:function(){return lt},set:function(t){!1===(lt=t)&&(X=!1)}}}),pt.utils.initOptions(_),_},pt.models.scatterChart=function(){"use strict";function h(t){return O.reset(),O.models(u),T&&O.models(d),D&&O.models(f),k&&O.models(g),S&&O.models(m),t.each(function(i){x=d3.select(this),pt.utils.initSVG(x);var t,e=pt.utils.availableWidth(_,x,y),n=pt.utils.availableHeight(w,x,y);if(h.update=function(){0===$?x.call(h):x.transition().duration($).call(h)},h.container=this,P.setter(N(i),h.update).getter(I(i)).update(),P.disabled=i.map(function(t){return!!t.disabled}),!L)for(t in L={},P)P[t]instanceof Array?L[t]=P[t].slice(0):L[t]=P[t];if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return pt.utils.noData(h,x),O.renderEnd("scatter immediate"),h;x.selectAll(".nv-noData").remove(),C=u.xScale(),E=u.yScale();var r=x.selectAll("g.nv-wrap.nv-scatterChart").data([i]),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+u.id()).append("g"),o=r.select("g");if(s.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-scatterWrap"),s.append("g").attr("class","nv-regressionLinesWrap"),s.append("g").attr("class","nv-distWrap"),s.append("g").attr("class","nv-legendWrap"),M&&o.select(".nv-y.nv-axis").attr("transform","translate("+e+",0)"),F){var a=e;p.width(a),r.select(".nv-legendWrap").datum(i).call(p),b||p.height()===y.top||(y.top=p.height(),n=pt.utils.availableHeight(w,x,y)),r.select(".nv-legendWrap").attr("transform","translate(0,"+-y.top+")")}else o.select(".nv-legendWrap").selectAll("*").remove();r.attr("transform","translate("+y.left+","+y.top+")"),u.width(e).height(n).color(i.map(function(t,e){return t.color=t.color||A(t,e),t.color}).filter(function(t,e){return!i[e].disabled})).showLabels(R),r.select(".nv-scatterWrap").datum(i.filter(function(t){return!t.disabled})).call(u),r.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+u.id()+")");var l=r.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});l.enter().append("g").attr("class","nv-regLines");var c=l.selectAll(".nv-regLine").data(function(t){return[t]});c.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),c.filter(function(t){return t.intercept&&t.slope}).watchTransition(O,"scatterPlusLineChart: regline").attr("x1",C.range()[0]).attr("x2",C.range()[1]).attr("y1",function(t,e){return E(C.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return E(C.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return A(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),T&&(d.scale(C)._ticks(pt.utils.calcTicksX(e/100,i)).tickSize(-n,0),o.select(".nv-x.nv-axis").attr("transform","translate(0,"+E.range()[0]+")").call(d)),D&&(f.scale(E)._ticks(pt.utils.calcTicksY(n/36,i)).tickSize(-e,0),o.select(".nv-y.nv-axis").call(f)),g.getData(u.x()).scale(C).width(e).color(i.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!i[e].disabled})),s.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),o.select(".nv-distributionX").attr("transform","translate(0,"+E.range()[0]+")").datum(i.filter(function(t){return!t.disabled})).call(g).style("opacity",function(){return k?"1":"1e-6"}).watchTransition(O,"scatterPlusLineChart").style("opacity",function(){return k?"1":"1e-6"}),m.getData(u.y()).scale(E).width(n).color(i.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!i[e].disabled})),s.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),o.select(".nv-distributionY").attr("transform","translate("+(M?e:-m.size())+",0)").datum(i.filter(function(t){return!t.disabled})).call(m).style("opacity",function(){return S?"1":"1e-6"}).watchTransition(O,"scatterPlusLineChart").style("opacity",function(){return S?"1":"1e-6"}),p.dispatch.on("stateChange",function(t){for(var e in t)P[e]=t[e];B.stateChange(P),h.update()}),B.on("changeState",function(n){void 0!==n.disabled&&(i.forEach(function(t,e){t.disabled=n.disabled[e]}),P.disabled=n.disabled),h.update()}),u.dispatch.on("elementMouseout.tooltip",function(t){v.hidden(!0),x.select(".nv-chart-"+u.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),x.select(".nv-chart-"+u.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",m.size())}),u.dispatch.on("elementMouseover.tooltip",function(t){x.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-n),x.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+g.size()),v.data(t).hidden(!1)}),C.copy(),E.copy()}),O.renderEnd("scatter with line immediate"),h}var u=pt.models.scatter(),d=pt.models.axis(),f=pt.models.axis(),p=pt.models.legend(),g=pt.models.distribution(),m=pt.models.distribution(),v=pt.models.tooltip(),y={top:30,right:20,bottom:50,left:75},b=null,_=null,w=null,x=null,A=pt.utils.defaultColor(),C=u.xScale(),E=u.yScale(),k=!1,S=!1,F=!0,T=!0,D=!0,M=!1,P=pt.utils.state(),L=null,B=d3.dispatch("stateChange","changeState","renderEnd"),e=null,$=250,R=!1;u.xScale(C).yScale(E),d.orient("bottom").tickPadding(10),f.orient(M?"right":"left").tickPadding(10),g.axis("x"),m.axis("y"),v.headerFormatter(function(t,e){return d.tickFormat()(t,e)}).valueFormatter(function(t,e){return f.tickFormat()(t,e)});var O=pt.utils.renderWatch(B,$),I=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},N=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return h.dispatch=B,h.scatter=u,h.legend=p,h.xAxis=d,h.yAxis=f,h.distX=g,h.distY=m,h.tooltip=v,h.options=pt.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return _},set:function(t){_=t}},height:{get:function(){return w},set:function(t){w=t}},container:{get:function(){return x},set:function(t){x=t}},showDistX:{get:function(){return k},set:function(t){k=t}},showDistY:{get:function(){return S},set:function(t){S=t}},showLegend:{get:function(){return F},set:function(t){F=t}},showXAxis:{get:function(){return T},set:function(t){T=t}},showYAxis:{get:function(){return D},set:function(t){D=t}},defaultState:{get:function(){return L},set:function(t){L=t}},noData:{get:function(){return e},set:function(t){e=t}},duration:{get:function(){return $},set:function(t){$=t}},showLabels:{get:function(){return R},set:function(t){R=t}},margin:{get:function(){return y},set:function(t){void 0!==t.top&&(y.top=t.top,b=t.top),y.right=void 0!==t.right?t.right:y.right,y.bottom=void 0!==t.bottom?t.bottom:y.bottom,y.left=void 0!==t.left?t.left:y.left}},rightAlignYAxis:{get:function(){return M},set:function(t){M=t,f.orient(t?"right":"left")}},color:{get:function(){return A},set:function(t){A=pt.utils.getColor(t),p.color(A),g.color(A),m.color(A)}}}),pt.utils.inheritOptions(h,u),pt.utils.initOptions(h),h},pt.models.sparkline=function(){"use strict";function e(t){return i.reset(),t.each(function(t){var e=u-h.left-h.right,n=d-h.top-h.bottom;f=d3.select(this),pt.utils.initSVG(f),p.domain(o||d3.extent(t,m)).range(l||[0,e]),g.domain(a||d3.extent(t,v)).range(c||[n,0]);var i=f.selectAll("g.nv-wrap.nv-sparkline").data([t]);i.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),i.select("g"),i.attr("transform","translate("+h.left+","+h.top+")");var r=i.selectAll("path").data(function(t){return[t]});r.enter().append("path"),r.exit().remove(),r.style("stroke",function(t,e){return t.color||y(t,e)}).attr("d",d3.svg.line().x(function(t,e){return p(m(t,e))}).y(function(t,e){return g(v(t,e))}));var s=i.selectAll("circle.nv-point").data(function(n){function t(t){if(-1!=t){var e=n[t];return e.pointIndex=t,e}return null}var e=n.map(function(t,e){return v(t,e)}),i=t(e.lastIndexOf(g.domain()[1])),r=t(e.indexOf(g.domain()[0])),s=t(e.length-1);return[b?r:null,b?i:null,_?s:null].filter(function(t){return null!=t})});s.enter().append("circle"),s.exit().remove(),s.attr("cx",function(t,e){return p(m(t,t.pointIndex))}).attr("cy",function(t,e){return g(v(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return m(t,t.pointIndex)==p.domain()[1]?"nv-point nv-currentValue":v(t,t.pointIndex)==g.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),i.renderEnd("sparkline immediate"),e}var o,a,l,c,h={top:2,right:0,bottom:2,left:0},u=400,d=32,f=null,n=!0,p=d3.scale.linear(),g=d3.scale.linear(),m=function(t){return t.x},v=function(t){return t.y},y=pt.utils.getColor(["#000"]),b=!0,_=!0,t=d3.dispatch("renderEnd"),i=pt.utils.renderWatch(t);return e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return o},set:function(t){o=t}},yDomain:{get:function(){return a},set:function(t){a=t}},xRange:{get:function(){return l},set:function(t){l=t}},yRange:{get:function(){return c},set:function(t){c=t}},xScale:{get:function(){return p},set:function(t){p=t}},yScale:{get:function(){return g},set:function(t){g=t}},animate:{get:function(){return n},set:function(t){n=t}},showMinMaxPoints:{get:function(){return b},set:function(t){b=t}},showCurrentPoint:{get:function(){return _},set:function(t){_=t}},x:{get:function(){return m},set:function(t){m=d3.functor(t)}},y:{get:function(){return v},set:function(t){v=d3.functor(t)}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}},color:{get:function(){return y},set:function(t){y=pt.utils.getColor(t)}}}),e.dispatch=t,pt.utils.initOptions(e),e},pt.models.sparklinePlus=function(){"use strict";function u(t){return n.reset(),n.models(p),t.each(function(n){function e(){if(!b){var t=l.selectAll(".nv-hoverValue").data(y),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+d(p.x()(n[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),y.length&&(e.append("line").attr("x1",0).attr("y1",-g.top).attr("x2",0).attr("y2",r),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-g.top).attr("text-anchor","end").attr("dy",".9em"),l.select(".nv-hoverValue .nv-xValue").text(_(p.x()(n[y[0]],y[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-g.top).attr("text-anchor","start").attr("dy",".9em"),l.select(".nv-hoverValue .nv-yValue").text(w(p.y()(n[y[0]],y[0]))))}}var t=d3.select(this);pt.utils.initSVG(t);var i=pt.utils.availableWidth(m,t,g),r=pt.utils.availableHeight(v,t,g);if(u.update=function(){t.call(u)},u.container=this,!n||!n.length)return pt.utils.noData(u,t),u;t.selectAll(".nv-noData").remove();var s=p.y()(n[n.length-1],n.length-1);d=p.xScale(),f=p.yScale();var o=t.selectAll("g.nv-wrap.nv-sparklineplus").data([n]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),l=o.select("g");a.append("g").attr("class","nv-sparklineWrap"),a.append("g").attr("class","nv-valueWrap"),a.append("g").attr("class","nv-hoverArea"),o.attr("transform","translate("+g.left+","+g.top+")");var c=l.select(".nv-sparklineWrap");if(p.width(i).height(r),c.call(p),x){var h=l.select(".nv-valueWrap").selectAll(".nv-currentValue").data([s]);h.enter().append("text").attr("class","nv-currentValue").attr("dx",C?-8:8).attr("dy",".9em").style("text-anchor",C?"end":"start"),h.attr("x",i+(C?g.right:0)).attr("y",A?function(t){return f(t)}:0).style("fill",p.color()(n[n.length-1],n.length-1)).text(w(s))}a.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!b){var t=d3.mouse(this)[0]-g.left;y=[function(t,e){for(var n=Math.abs(p.x()(t[0],0)-e),i=0,r=0;r<t.length;r++)Math.abs(p.x()(t[r],r)-e)<n&&(n=Math.abs(p.x()(t[r],r)-e),i=r);return i}(n,Math.round(d.invert(t)))],e()}}).on("click",function(){b=!b}).on("mouseout",function(){y=[],e()}),l.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-g.left+","+-g.top+")"}).attr("width",i+g.left+g.right).attr("height",r+g.top)}),n.renderEnd("sparklinePlus immediate"),u}var d,f,p=pt.models.sparkline(),g={top:15,right:100,bottom:10,left:50},m=null,v=null,y=[],b=!1,_=d3.format(",r"),w=d3.format(",.2f"),x=!0,A=!0,C=!1,e=null,t=d3.dispatch("renderEnd"),n=pt.utils.renderWatch(t);return u.dispatch=t,u.sparkline=p,u.options=pt.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return v},set:function(t){v=t}},xTickFormat:{get:function(){return _},set:function(t){_=t}},yTickFormat:{get:function(){return w},set:function(t){w=t}},showLastValue:{get:function(){return x},set:function(t){x=t}},alignValue:{get:function(){return A},set:function(t){A=t}},rightAlignValue:{get:function(){return C},set:function(t){C=t}},noData:{get:function(){return e},set:function(t){e=t}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}}}),pt.utils.inheritOptions(u,p),pt.utils.initOptions(u),u},pt.models.stackedArea=function(){"use strict";function f(t){return M.reset(),M.models(T),t.each(function(t){var e=v-m.left-m.right,n=y-m.top-m.bottom;w=d3.select(this),pt.utils.initSVG(w),p=T.xScale(),g=T.yScale();var a=t;t.forEach(function(t,n){t.seriesIndex=n,t.values=t.values.map(function(t,e){return t.index=e,t.seriesIndex=n,t})});var i=t.filter(function(t){return!t.disabled});t=d3.layout.stack().order(k).offset(E).values(function(t){return t.values}).x(x).y(A).out(function(t,e,n){t.display={y:n,y0:e}})(i);var r=w.selectAll("g.nv-wrap.nv-stackedarea").data([t]),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),o=s.append("defs"),l=s.append("g"),c=r.select("g");l.append("g").attr("class","nv-areaWrap"),l.append("g").attr("class","nv-scatterWrap"),r.attr("transform","translate("+m.left+","+m.top+")"),0==T.forceY().length&&T.forceY().push(0),T.width(e).height(n).x(x).y(function(t){return void 0!==t.display?t.display.y+t.display.y0:void 0}).color(t.map(function(t,e){return t.color=t.color||b(t,t.seriesIndex),t.color})),c.select(".nv-scatterWrap").datum(t).call(T),o.append("clipPath").attr("id","nv-edge-clip-"+_).append("rect"),r.select("#nv-edge-clip-"+_+" rect").attr("width",e).attr("height",n),c.attr("clip-path",F?"url(#nv-edge-clip-"+_+")":"");var h=d3.svg.area().defined(C).x(function(t,e){return p(x(t,e))}).y0(function(t){return g(t.display.y0)}).y1(function(t){return g(t.display.y+t.display.y0)}).interpolate(S),u=d3.svg.area().defined(C).x(function(t,e){return p(x(t,e))}).y0(function(t){return g(t.display.y0)}).y1(function(t){return g(t.display.y0)}),d=c.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});d.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return u(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),D.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),D.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),D.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),d.exit().remove(),d.style("fill",function(t,e){return t.color||b(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||b(t,t.seriesIndex)}),d.watchTransition(M,"stackedArea path").attr("d",function(t,e){return h(t.values,e)}),T.dispatch.on("elementMouseover.area",function(t){c.select(".nv-chart-"+_+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),T.dispatch.on("elementMouseout.area",function(t){c.select(".nv-chart-"+_+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),f.d3_stackedOffset_stackPercent=function(t){var e,n,i,r=t.length,s=t[0].length,o=[];for(n=0;n<s;++n){for(i=e=0;e<a.length;e++)i+=A(a[e].values[n]);if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=0}for(n=0;n<s;++n)o[n]=0;return o}}),M.renderEnd("stackedArea immediate"),f}var p,g,m={top:0,right:0,bottom:0,left:0},v=960,y=500,b=pt.utils.defaultColor(),_=Math.floor(1e5*Math.random()),w=null,x=function(t){return t.x},A=function(t){return t.y},C=function(t,e){return!isNaN(A(t,e))&&null!==A(t,e)},e="stack",E="zero",k="default",S="linear",F=!1,T=pt.models.scatter(),n=250,D=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");T.pointSize(2.2).pointDomain([2.2,2.2]);var M=pt.utils.renderWatch(D,n);return f.dispatch=D,(f.scatter=T).dispatch.on("elementClick",function(){D.elementClick.apply(this,arguments)}),T.dispatch.on("elementMouseover",function(){D.elementMouseover.apply(this,arguments)}),T.dispatch.on("elementMouseout",function(){D.elementMouseout.apply(this,arguments)}),f.interpolate=function(t){return arguments.length?(S=t,f):S},f.duration=function(t){return arguments.length?(n=t,M.reset(n),T.duration(n),f):n},f.dispatch=D,f.scatter=T,f.options=pt.utils.optionsFunc.bind(f),f._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},defined:{get:function(){return C},set:function(t){C=t}},clipEdge:{get:function(){return F},set:function(t){F=t}},offset:{get:function(){return E},set:function(t){E=t}},order:{get:function(){return k},set:function(t){k=t}},interpolate:{get:function(){return S},set:function(t){S=t}},x:{get:function(){return x},set:function(t){x=d3.functor(t)}},y:{get:function(){return A},set:function(t){A=d3.functor(t)}},margin:{get:function(){return m},set:function(t){m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},color:{get:function(){return b},set:function(t){b=pt.utils.getColor(t)}},style:{get:function(){return e},set:function(t){switch(e=t){case"stack":f.offset("zero"),f.order("default");break;case"stream":f.offset("wiggle"),f.order("inside-out");break;case"stream-center":f.offset("silhouette"),f.order("inside-out");break;case"expand":f.offset("expand"),f.order("default");break;case"stack_percent":f.offset(f.d3_stackedOffset_stackPercent),f.order("default")}}},duration:{get:function(){return n},set:function(t){n=t,M.reset(n),T.duration(n)}}}),pt.utils.inheritOptions(f,T),pt.utils.initOptions(f),f},pt.models.stackedAreaChart=function(){"use strict";function _(t){return i.reset(),i.models(A),I&&i.models(C),N&&i.models(E),t.each(function(p){function t(){I&&c.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o+")").transition().duration(X).call(C)}function e(){if(N){if("expand"===A.style()||"stack_percent"===A.style()){var t=E.tickFormat();Q&&t===nt||(Q=t),E.tickFormat(nt)}else Q&&(E.tickFormat(Q),Q=null);c.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(E)}}function n(n){c.select(".nv-focus .nv-stackedWrap").datum(p.filter(function(t){return!t.disabled}).map(function(t,e){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return A.x()(t,e)>=n[0]&&A.x()(t,e)<=n[1]}),disableTooltip:t.disableTooltip}})).transition().duration(X).call(A),t(),e()}var i=d3.select(this);pt.utils.initSVG(i);var r,s=pt.utils.availableWidth(P,i,D),o=pt.utils.availableHeight(L,i,D)-(H?T.height():0);if(_.update=function(){i.transition().duration(X).call(_)},_.container=this,U.setter(et(p),_.update).getter(tt(p)).update(),U.disabled=p.map(function(t){return!!t.disabled}),!Y)for(r in Y={},U)U[r]instanceof Array?Y[r]=U[r].slice(0):Y[r]=U[r];if(!(p&&p.length&&p.filter(function(t){return t.values.length}).length))return pt.utils.noData(_,i),_;i.selectAll(".nv-noData").remove(),w=A.xScale(),x=A.yScale();var a=i.selectAll("g.nv-wrap.nv-stackedAreaChart").data([p]),l=a.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),c=a.select("g");l.append("g").attr("class","nv-legendWrap"),l.append("g").attr("class","nv-controlsWrap");var h=l.append("g").attr("class","nv-focus");if(h.append("g").attr("class","nv-background").append("rect"),h.append("g").attr("class","nv-x nv-axis"),h.append("g").attr("class","nv-y nv-axis"),h.append("g").attr("class","nv-stackedWrap"),h.append("g").attr("class","nv-interactive"),l.append("g").attr("class","nv-focusWrap"),R){var u=$&&"top"===O?s-Z:s;if(k.width(u),c.select(".nv-legendWrap").datum(p).call(k),"bottom"===O){var d=C.height();D.bottom=Math.max(k.height()+d,D.bottom);var f=(o=pt.utils.availableHeight(L,i,D)-(H?T.height():0))+d;c.select(".nv-legendWrap").attr("transform","translate(0,"+f+")")}else"top"===O&&(M||D.top==k.height()||(D.top=k.height(),o=pt.utils.availableHeight(L,i,D)-(H?T.height():0)),c.select(".nv-legendWrap").attr("transform","translate("+(s-u)+","+-D.top+")"))}else c.select(".nv-legendWrap").selectAll("*").remove();if($){var g=[{key:K.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=A.style(),style:"stack"},{key:K.stream||"Stream",metaKey:"Stream",disabled:"stream"!=A.style(),style:"stream"},{key:K.stream_center||"Stream Center",metaKey:"Stream_Center",disabled:"stream_center"!=A.style(),style:"stream-center"},{key:K.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=A.style(),style:"expand"},{key:K.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=A.style(),style:"stack_percent"}];Z=G.length/3*260,g=g.filter(function(t){return-1!==G.indexOf(t.metaKey)}),S.width(Z).color(["#444","#444","#444"]),c.select(".nv-controlsWrap").datum(g).call(S);var m=Math.max(S.height(),R&&"top"===O?k.height():0);D.top!=m&&(D.top=m,o=pt.utils.availableHeight(L,i,D)-(H?T.height():0)),c.select(".nv-controlsWrap").attr("transform","translate(0,"+-D.top+")")}else c.select(".nv-controlsWrap").selectAll("*").remove();a.attr("transform","translate("+D.left+","+D.top+")"),z&&c.select(".nv-y.nv-axis").attr("transform","translate("+s+",0)"),j&&(F.width(s).height(o).margin({left:D.left,top:D.top}).svgContainer(i).xScale(w),a.select(".nv-interactive").call(F)),c.select(".nv-focus .nv-background rect").attr("width",s).attr("height",o),A.width(s).height(o).color(p.map(function(t,e){return t.color||B(t,e)}).filter(function(t,e){return!p[e].disabled}));var v,y=c.select(".nv-focus .nv-stackedWrap").datum(p.filter(function(t){return!t.disabled}));(I&&C.scale(w)._ticks(pt.utils.calcTicksX(s/100,p)).tickSize(-o,0),N)&&(v="wiggle"===A.offset()?0:pt.utils.calcTicksY(o/36,p),E.scale(x)._ticks(v).tickSize(-s,0));if(H){T.width(s),c.select(".nv-focusWrap").attr("transform","translate(0,"+(o+D.bottom+T.margin().top)+")").datum(p.filter(function(t){return!t.disabled})).call(T);var b=T.brush.empty()?T.xDomain():T.brush.extent();null!==b&&n(b)}else y.transition().call(A),t(),e();A.dispatch.on("areaClick.toggle",function(n){1===p.filter(function(t){return!t.disabled}).length?p.forEach(function(t){t.disabled=!1}):p.forEach(function(t,e){t.disabled=e!=n.seriesIndex}),U.disabled=p.map(function(t){return!!t.disabled}),q.stateChange(U),_.update()}),k.dispatch.on("stateChange",function(t){for(var e in t)U[e]=t[e];q.stateChange(U),_.update()}),S.dispatch.on("legendClick",function(t,e){t.disabled&&(g=g.map(function(t){return t.disabled=!0,t}),t.disabled=!1,A.style(t.style),U.style=A.style(),q.stateChange(U),_.update())}),F.dispatch.on("elementMousemove",function(s){A.clearHighlights();var o,a,l,c=[],h=0,u=!0,d=!1;if(p.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){a=pt.interactiveBisect(t.values,s.pointXValue,_.x());var n=t.values[a],i=_.y()(n,a);if(null!=i&&0<i&&(A.highlightPoint(e,a,!0),d=!0),e!==p.length-1||d||A.highlightPoint(e,a,!0),void 0!==n){void 0===o&&(o=n),void 0===l&&(l=_.xScale()(_.x()(n,a)));var r="expand"==A.style()?n.display.y:_.y()(n,a);c.push({key:t.key,value:r,color:B(t,t.seriesIndex),point:n}),W&&"expand"!=A.style()&&null!=r&&(h+=r,u=!1)}}),c.reverse(),2<c.length){var r=_.yScale().invert(s.mouseY),f=null;c.forEach(function(t,e){r=Math.abs(r);var n=Math.abs(t.point.display.y0),i=Math.abs(t.point.display.y);return n<=r&&r<=i+n?void(f=e):void 0}),null!=f&&(c[f].highlight=!0)}W&&"expand"!=A.style()&&2<=c.length&&!u&&c.push({key:V,value:h,total:!0});var t=_.x()(o,a),e=F.tooltip.valueFormatter();"expand"===A.style()||"stack_percent"===A.style()?(J||(J=e),e=d3.format(".1%")):J&&(e=J,J=null),F.tooltip.valueFormatter(e).data({value:t,series:c})(),F.renderGuideLine(l)}),F.dispatch.on("elementMouseout",function(t){A.clearHighlights()}),T.dispatch.on("onBrush",function(t){n(t)}),q.on("changeState",function(n){void 0!==n.disabled&&p.length===n.disabled.length&&(p.forEach(function(t,e){t.disabled=n.disabled[e]}),U.disabled=n.disabled),void 0!==n.style&&(A.style(n.style),n.style),_.update()})}),i.renderEnd("stacked Area chart immediate"),_}var w,x,A=pt.models.stackedArea(),C=pt.models.axis(),E=pt.models.axis(),k=pt.models.legend(),S=pt.models.legend(),F=pt.interactiveGuideline(),e=pt.models.tooltip(),T=pt.models.focus(pt.models.stackedArea()),D={top:10,right:25,bottom:50,left:60},M=null,P=null,L=null,B=pt.utils.defaultColor(),$=!0,R=!0,O="top",I=!0,N=!0,z=!1,H=!1,j=!1,W=!0,V="TOTAL",U=pt.utils.state(),Y=null,n=null,q=d3.dispatch("stateChange","changeState","renderEnd"),Z=250,G=["Stacked","Stream","Expanded"],K={},X=250;U.style=A.style(),C.orient("bottom").tickPadding(7),E.orient(z?"right":"left"),e.headerFormatter(function(t,e){return C.tickFormat()(t,e)}).valueFormatter(function(t,e){return E.tickFormat()(t,e)}),F.tooltip.headerFormatter(function(t,e){return C.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":E.tickFormat()(t,e)});var Q=null,J=null;S.updateState(!1);var i=pt.utils.renderWatch(q),tt=(A.style(),function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:A.style()}}}),et=function(t){return function(n){void 0!==n.style&&n.style,void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},nt=d3.format("%");return A.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=A.x()(t.point),t.point.y=A.y()(t.point),e.data(t).hidden(!1)}),A.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),_.dispatch=q,_.stacked=A,_.legend=k,_.controls=S,_.xAxis=C,_.x2Axis=T.xAxis,_.yAxis=E,_.y2Axis=T.yAxis,_.interactiveLayer=F,_.tooltip=e,_.focus=T,_.dispatch=q,_.options=pt.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return P},set:function(t){P=t}},height:{get:function(){return L},set:function(t){L=t}},showLegend:{get:function(){return R},set:function(t){R=t}},legendPosition:{get:function(){return O},set:function(t){O=t}},showXAxis:{get:function(){return I},set:function(t){I=t}},showYAxis:{get:function(){return N},set:function(t){N=t}},defaultState:{get:function(){return Y},set:function(t){Y=t}},noData:{get:function(){return n},set:function(t){n=t}},showControls:{get:function(){return $},set:function(t){$=t}},controlLabels:{get:function(){return K},set:function(t){K=t}},controlOptions:{get:function(){return G},set:function(t){G=t}},showTotalInTooltip:{get:function(){return W},set:function(t){W=t}},totalLabel:{get:function(){return V},set:function(t){V=t}},focusEnable:{get:function(){return H},set:function(t){H=t}},focusHeight:{get:function(){return T.height()},set:function(t){T.height(t)}},brushExtent:{get:function(){return T.brushExtent()},set:function(t){T.brushExtent(t)}},margin:{get:function(){return D},set:function(t){void 0!==t.top&&(D.top=t.top,M=t.top),D.right=void 0!==t.right?t.right:D.right,D.bottom=void 0!==t.bottom?t.bottom:D.bottom,D.left=void 0!==t.left?t.left:D.left}},focusMargin:{get:function(){return T.margin},set:function(t){T.margin.top=void 0!==t.top?t.top:T.margin.top,T.margin.right=void 0!==t.right?t.right:T.margin.right,T.margin.bottom=void 0!==t.bottom?t.bottom:T.margin.bottom,T.margin.left=void 0!==t.left?t.left:T.margin.left}},duration:{get:function(){return X},set:function(t){X=t,i.reset(X),A.duration(X),C.duration(X),E.duration(X)}},color:{get:function(){return B},set:function(t){B=pt.utils.getColor(t),k.color(B),A.color(B),T.color(B)}},x:{get:function(){return A.x()},set:function(t){A.x(t),T.x(t)}},y:{get:function(){return A.y()},set:function(t){A.y(t),T.y(t)}},rightAlignYAxis:{get:function(){return z},set:function(t){z=t,E.orient(z?"right":"left")}},useInteractiveGuideline:{get:function(){return j},set:function(t){j=!!t,_.interactive(!t),_.useVoronoi(!t),A.scatter.interactive(!t)}}}),pt.utils.inheritOptions(_,A),pt.utils.initOptions(_),_},pt.models.stackedAreaWithFocusChart=function(){return pt.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},pt.models.sunburst=function(){"use strict";function s(t){return 90<o(t)?180:0}function o(t){return(Math.max(0,Math.min(2*Math.PI,T(t.x)))+Math.max(0,Math.min(2*Math.PI,T(t.x+t.dx))))/2*(180/Math.PI)-90}function a(t){var e=Math.max(0,Math.min(2*Math.PI,T(t.x))),n=Math.max(0,Math.min(2*Math.PI,T(t.x+t.dx)));return i<n-e}function n(e,t){var n=d3.interpolate(T.domain(),[h.x,h.x+h.dx]),i=d3.interpolate(D.domain(),[h.y,1]),r=d3.interpolate(D.range(),[h.y?20:0,f]);return 0===t?function(){return L(e)}:function(t){return T.domain(n(t)),D.domain(i(t)).range(r(t)),L(e)}}function r(n){var i=d3.interpolate({x:n.x0,dx:n.dx0,y:n.y0,dy:n.dy0},n);return function(t){var e=i(t);return n.x0=e.x,n.dx0=e.dx,n.y0=e.y,n.dy0=e.dy,L(e)}}function l(t){t.forEach(function(t){var e=E(t),n=P[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),function(t){var e=E(t);P[e]||(P[e]={});var n=P[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}(t)})}function c(r){var t=_.selectAll("text"),e=_.selectAll("path");t.transition().attr("opacity",0),h=r,e.transition().duration(S).attrTween("d",n).each("end",function(i){i.x>=r.x&&i.x<r.x+r.dx&&i.depth>=r.depth&&d3.select(this.parentNode).select("text").transition().duration(S).text(function(t){return A(t)}).attr("opacity",function(t){return a(t)?1:0}).attr("transform",function(){var t=this.getBBox().width;if(0===i.depth)return"translate("+t/2*-1+",0)";if(i.depth===r.depth)return"translate("+(D(i.y)+5)+",0)";var e=o(i),n=s(i);return 0===n?"rotate("+e+")translate("+(D(i.y)+5)+",0)":"rotate("+e+")translate("+(D(i.y)+t+5)+",0)rotate("+n+")"})})}function e(t){return B.reset(),t.each(function(t){_=d3.select(this),u=pt.utils.availableWidth(g,_,p),d=pt.utils.availableHeight(m,_,p),f=Math.min(u,d)/2,D.range([0,f]);var e=_.select("g.nvd3.nv-wrap.nv-sunburst");e[0][0]?e.attr("transform","translate("+(u/2+p.left+p.right)+","+(d/2+p.top+p.bottom)+")"):e=_.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+b).attr("transform","translate("+(u/2+p.left+p.right)+","+(d/2+p.top+p.bottom)+")"),_.on("click",function(t,e){F.chartClick({data:t,index:e,pos:d3.event,id:b})}),M.value(y[v]||y.count);var n=M.nodes(t[0]).reverse();l(n);var i=e.selectAll(".arc-container").data(n,E);i.enter().append("g").attr("class","arc-container").append("path").attr("d",L).style("fill",function(t){return t.color?t.color:w(k?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",function(t,e){c(t),F.elementClick({data:t,index:e})}).on("mouseover",function(t,e){var n,i;d3.select(this).classed("hover",!0).style("opacity",.8),F.elementMouseover({data:t,color:d3.select(this).style("fill"),percent:(n=t,i=Math.max(0,Math.min(2*Math.PI,T(n.x))),(Math.max(0,Math.min(2*Math.PI,T(n.x+n.dx)))-i)/(2*Math.PI))})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("opacity",1),F.elementMouseout({data:t})}).on("mousemove",function(t,e){F.elementMousemove({data:t})}),i.each(function(t){d3.select(this).select("path").transition().duration(S).attrTween("d",r)}),x&&(i.selectAll("text").remove(),i.append("text").text(function(t){return A(t)}).transition().duration(S).attr("opacity",function(t){return a(t)?1:0}).attr("transform",function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=o(t),i=s(t);return 0===i?"rotate("+n+")translate("+(D(t.y)+5)+",0)":"rotate("+n+")translate("+(D(t.y)+e+5)+",0)rotate("+i+")"})),c(n[n.length-1]),i.exit().transition().duration(S).attr("opacity",0).each("end",function(t){var e=E(t);P[e]=void 0}).remove()}),B.renderEnd("sunburst immediate"),e}var h,u,d,f,p={top:0,right:0,bottom:0,left:0},g=600,m=600,v="count",y={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},b=Math.floor(1e4*Math.random()),_=null,w=pt.utils.defaultColor(),x=!1,A=function(t){return"count"===v?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},i=.02,C=function(t,e){return t.name>e.name},E=function(t,e){return void 0!==t.parent?t.name+"-"+t.parent.name+"-"+e:t.name},k=!0,S=500,F=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),T=d3.scale.linear().range([0,2*Math.PI]),D=d3.scale.sqrt(),M=d3.layout.partition().sort(C),P={},L=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,T(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,T(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,D(t.y))}).outerRadius(function(t){return Math.max(0,D(t.y+t.dy))}),B=pt.utils.renderWatch(F);return e.dispatch=F,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return m},set:function(t){m=t}},mode:{get:function(){return v},set:function(t){v=t}},id:{get:function(){return b},set:function(t){b=t}},duration:{get:function(){return S},set:function(t){S=t}},groupColorByParent:{get:function(){return k},set:function(t){k=!!t}},showLabels:{get:function(){return x},set:function(t){x=!!t}},labelFormat:{get:function(){return A},set:function(t){A=t}},labelThreshold:{get:function(){return i},set:function(t){i=t}},sort:{get:function(){return C},set:function(t){C=t}},key:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return p},set:function(t){p.top=null!=t.top?t.top:p.top,p.right=null!=t.right?t.right:p.right,p.bottom=null!=t.bottom?t.bottom:p.bottom,p.left=null!=t.left?t.left:p.left}},color:{get:function(){return w},set:function(t){w=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.sunburstChart=function(){"use strict";function r(t){return d.reset(),d.models(s),t.each(function(t){var e=d3.select(this);pt.utils.initSVG(e);var n=pt.utils.availableWidth(a,e,o),i=pt.utils.availableHeight(l,e,o);return r.update=function(){0===u?e.call(r):e.transition().duration(u).call(r)},r.container=e,t&&t.length?(e.selectAll(".nv-noData").remove(),s.width(n).height(i).margin(o),void e.call(s)):(pt.utils.noData(r,e),r)}),d.renderEnd("sunburstChart immediate"),r}var s=pt.models.sunburst(),e=pt.models.tooltip(),o={top:30,right:20,bottom:20,left:20},a=null,l=null,n=pt.utils.defaultColor(),i=!1,c=(Math.round(1e5*Math.random()),null),h=null,u=250,t=d3.dispatch("stateChange","changeState","renderEnd"),d=pt.utils.renderWatch(t);return e.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),s.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},i||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),s.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),s.dispatch.on("elementMousemove.tooltip",function(t){e()}),r.dispatch=t,r.sunburst=s,r.tooltip=e,r.options=pt.utils.optionsFunc.bind(r),r._options=Object.create({},{noData:{get:function(){return h},set:function(t){h=t}},defaultState:{get:function(){return c},set:function(t){c=t}},showTooltipPercent:{get:function(){return i},set:function(t){i=t}},color:{get:function(){return n},set:function(t){n=t,s.color(n)}},duration:{get:function(){return u},set:function(t){u=t,d.reset(u),s.duration(u)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left,s.margin(o)}}}),pt.utils.inheritOptions(r,s),pt.utils.initOptions(r),r},pt.version="1.8.6-dev"}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Dygraph=t()}}(function(){return function s(o,a,l){function c(e,t){if(!a[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(h)return h(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[e]={exports:{}};o[e][0].call(r.exports,function(t){return c(o[e][1][t]||t)},r,r.exports,s,o,a,l)}return a[e].exports}for(var h="function"==typeof require&&require,t=0;t<l.length;t++)c(l[t]);return c}({1:[function(t,e,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(h===setTimeout)return setTimeout(e,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function o(){g&&f&&(g=!1,f.length?p=f.concat(p):m=-1,p.length&&a())}function a(){if(!g){var t=s(o);g=!0;for(var e=p.length;e;){for(f=p,p=[];++m<e;)f&&f[m].run();m=-1,e=p.length}f=null,g=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var h,u,d=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(t){h=i}try{u="function"==typeof clearTimeout?clearTimeout:r}catch(t){u=r}}();var f,p=[],g=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new l(t,e)),1!==p.length||g||s(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=t("./bars"),s=(i=r)&&i.__esModule?i:{default:i},o=function(){};(o.prototype=new s.default).extractSeries=function(t,e,n){for(var i,r,s,o=[],a=n.get("logscale"),l=0;l<t.length;l++)i=t[l][0],s=t[l][e],a&&null!==s&&(s[0]<=0||s[1]<=0||s[2]<=0)&&(s=null),null!==s?null===(r=s[1])||isNaN(r)?o.push([i,r,[r,r]]):o.push([i,r,[s[0],s[2]]]):o.push([i,null,[null,null]]);return o},o.prototype.rollingAverage=function(t,e,n){e=Math.min(e,t.length);var i,r,s,o,a,l,c,h=[];for(l=a=s=o=r=0;l<t.length;l++){if(i=t[l][1],c=t[l][2],h[l]=t[l],null===i||isNaN(i)||(r+=c[0],o+=i,s+=c[1],a+=1),0<=l-e){var u=t[l-e];null===u[1]||isNaN(u[1])||(r-=u[2][0],o-=u[1],s-=u[2][1],a-=1)}h[l]=a?[t[l][0],1*o/a,[1*r/a,1*s/a]]:[t[l][0],null,[null,null]]}return h},n.default=o,e.exports=n.default},{"./bars":5}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=t("./bars"),s=(i=r)&&i.__esModule?i:{default:i},o=function(){};(o.prototype=new s.default).extractSeries=function(t,e,n){for(var i,r,s,o,a=[],l=n.get("sigma"),c=n.get("logscale"),h=0;h<t.length;h++)i=t[h][0],o=t[h][e],c&&null!==o&&(o[0]<=0||o[0]-l*o[1]<=0)&&(o=null),null!==o?null===(r=o[0])||isNaN(r)?a.push([i,r,[r,r,r]]):(s=l*o[1],a.push([i,r,[r-s,r+s,o[1]]])):a.push([i,null,[null,null,null]]);return a},o.prototype.rollingAverage=function(t,e,n){e=Math.min(e,t.length);var i,r,s,o,a,l,c,h,u,d=[],f=n.get("sigma");for(i=0;i<t.length;i++){for(l=h=a=0,r=Math.max(0,i-e+1);r<i+1;r++)null===(s=t[r][1])||isNaN(s)||(l++,a+=s,h+=Math.pow(t[r][2][2],2));l?(c=Math.sqrt(h)/l,u=a/l,d[i]=[t[i][0],u,[u-f*c,u+f*c]]):(o=1==e?t[i][1]:null,d[i]=[t[i][0],o,[o,o]])}return d},n.default=o,e.exports=n.default},{"./bars":5}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=t("./bars"),s=(i=r)&&i.__esModule?i:{default:i},o=function(){};(o.prototype=new s.default).extractSeries=function(t,e,n){for(var i,r,s,o,a,l,c,h=[],u=n.get("sigma"),d=n.get("logscale"),f=0;f<t.length;f++)i=t[f][0],s=t[f][e],d&&null!==s&&(s[0]<=0||s[1]<=0)&&(s=null),null!==s?(o=s[0],a=s[1],null===o||isNaN(o)?h.push([i,o,[o,o,o,a]]):(l=a?o/a:0,c=100*(a?u*Math.sqrt(l*(1-l)/a):1),r=100*l,h.push([i,r,[r-c,r+c,o,a]]))):h.push([i,null,[null,null,null,null]]);return h},o.prototype.rollingAverage=function(t,e,n){e=Math.min(e,t.length);var i,r,s,o,a=[],l=n.get("sigma"),c=n.get("wilsonInterval"),h=0,u=0;for(s=0;s<t.length;s++){h+=t[s][2][2],u+=t[s][2][3],0<=s-e&&(h-=t[s-e][2][2],u-=t[s-e][2][3]);var d=t[s][0],f=u?h/u:0;if(c)if(u){var p=f<0?0:f,g=u,m=l*Math.sqrt(p*(1-p)/g+l*l/(4*g*g)),v=1+l*l/u;i=(p+l*l/(2*u)-m)/v,r=(p+l*l/(2*u)+m)/v,a[s]=[d,100*p,[100*i,100*r]]}else a[s]=[d,0,[0,0]];else o=u?l*Math.sqrt(f*(1-f)/u):1,a[s]=[d,100*f,[100*(f-o),100*(f+o)]]}return a},n.default=o,e.exports=n.default},{"./bars":5}],5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var s=i(t("./datahandler")),o=i(t("../dygraph-layout")),r=function(){s.default.call(this)};(r.prototype=new s.default).extractSeries=function(t,e,n){},r.prototype.rollingAverage=function(t,e,n){},r.prototype.onPointsCreated_=function(t,e){for(var n=0;n<t.length;++n){var i=t[n],r=e[n];r.y_top=NaN,r.y_bottom=NaN,r.yval_minus=s.default.parseFloat(i[2][0]),r.yval_plus=s.default.parseFloat(i[2][1])}},r.prototype.getExtremeYValues=function(t,e,n){for(var i,r=null,s=null,o=t.length-1,a=0;a<=o;a++)if(null!==(i=t[a][1])&&!isNaN(i)){var l=t[a][2][0],c=t[a][2][1];i<l&&(l=i),c<i&&(c=i),(null===s||s<c)&&(s=c),(null===r||l<r)&&(r=l)}return[r,s]},r.prototype.onLineEvaluated=function(t,e,n){for(var i,r=0;r<t.length;r++)(i=t[r]).y_top=o.default.calcYNormal_(e,i.yval_minus,n),i.y_bottom=o.default.calcYNormal_(e,i.yval_plus,n)},n.default=r,e.exports=n.default},{"../dygraph-layout":13,"./datahandler":6}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){},c=i;c.X=0,c.Y=1,c.EXTRAS=2,c.prototype.extractSeries=function(t,e,n){},c.prototype.seriesToPoints=function(t,e,n){for(var i=[],r=0;r<t.length;++r){var s=t[r],o=s[1],a=null===o?null:c.parseFloat(o),l={x:NaN,y:NaN,xval:c.parseFloat(s[0]),yval:a,name:e,idx:r+n};i.push(l)}return this.onPointsCreated_(t,i),i},c.prototype.onPointsCreated_=function(t,e){},c.prototype.rollingAverage=function(t,e,n){},c.prototype.getExtremeYValues=function(t,e,n){},c.prototype.onLineEvaluated=function(t,e,n){},c.parseFloat=function(t){return null===t?NaN:t},n.default=i,e.exports=n.default},{}],7:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var r=i((i(t("./datahandler")),t("./default"))),s=function(){};(s.prototype=new r.default).extractSeries=function(t,e,n){for(var i,r,s,o,a,l=[],c=n.get("logscale"),h=0;h<t.length;h++)i=t[h][0],s=t[h][e],c&&null!==s&&(s[0]<=0||s[1]<=0)&&(s=null),null!==s?(o=s[0],a=s[1],null===o||isNaN(o)?l.push([i,o,[o,a]]):(r=100*(a?o/a:0),l.push([i,r,[o,a]]))):l.push([i,null,[null,null]]);return l},s.prototype.rollingAverage=function(t,e,n){e=Math.min(e,t.length);var i,r=[],s=0,o=0;for(i=0;i<t.length;i++){s+=t[i][2][0],o+=t[i][2][1],0<=i-e&&(s-=t[i-e][2][0],o-=t[i-e][2][1]);var a=t[i][0],l=o?s/o:0;r[i]=[a,100*l]}return r},n.default=s,e.exports=n.default},{"./datahandler":6,"./default":8}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=t("./datahandler"),s=(i=r)&&i.__esModule?i:{default:i},o=function(){};(o.prototype=new s.default).extractSeries=function(t,e,n){for(var i=[],r=n.get("logscale"),s=0;s<t.length;s++){var o=t[s][0],a=t[s][e];r&&a<=0&&(a=null),i.push([o,a])}return i},o.prototype.rollingAverage=function(t,e,n){var i,r,s,o,a,l=[];if(1==(e=Math.min(e,t.length)))return t;for(i=0;i<t.length;i++){for(a=o=0,r=Math.max(0,i-e+1);r<i+1;r++)null===(s=t[r][1])||isNaN(s)||(a++,o+=t[r][1]);l[i]=a?[t[i][0],o/a]:[t[i][0],null]}return l},o.prototype.getExtremeYValues=function(t,e,n){for(var i,r=null,s=null,o=t.length-1,a=0;a<=o;a++)null===(i=t[a][1])||isNaN(i)||((null===s||s<i)&&(s=i),(null===r||i<r)&&(r=i));return[r,s]},n.default=o,e.exports=n.default},{"./datahandler":6}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,L=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./dygraph-utils")),r=t("./dygraph"),B=(i=r)&&i.__esModule?i:{default:i},$=function(t,e,n,i){if(this.dygraph_=t,this.layout=i,this.element=e,this.elementContext=n,this.height=t.height_,this.width=t.width_,!L.isCanvasSupported(this.element))throw"Canvas is not supported.";this.area=i.getPlotArea();var r=this.dygraph_.canvas_ctx_;r.beginPath(),r.rect(this.area.x,this.area.y,this.area.w,this.area.h),r.clip(),(r=this.dygraph_.hidden_ctx_).beginPath(),r.rect(this.area.x,this.area.y,this.area.w,this.area.h),r.clip()};$.prototype.clear=function(){this.elementContext.clearRect(0,0,this.width,this.height)},$.prototype.render=function(){this._updatePoints(),this._renderLineChart()},$._getIteratorPredicate=function(t){return t?$._predicateThatSkipsEmptyPoints:null},$._predicateThatSkipsEmptyPoints=function(t,e){return null!==t[e].yval},$._drawStyledLine=function(t,e,n,i,r,s,o){var a=t.dygraph,l=a.getBooleanOption("stepPlot",t.setName);L.isArrayLike(i)||(i=null);var c=a.getBooleanOption("drawGapEdgePoints",t.setName),h=t.points,u=t.setName,d=L.createIterator(h,0,h.length,$._getIteratorPredicate(a.getBooleanOption("connectSeparatedPoints",u))),f=i&&2<=i.length,p=t.drawingContext;p.save(),f&&p.setLineDash&&p.setLineDash(i);var g=$._drawSeries(t,d,n,o,r,c,l,e);$._drawPointsOnLine(t,g,s,e,o),f&&p.setLineDash&&p.setLineDash([]),p.restore()},$._drawSeries=function(t,e,n,i,r,s,o,a){var l,c,h=null,u=null,d=null,f=[],p=!0,g=t.drawingContext;g.beginPath(),g.strokeStyle=a,g.lineWidth=n;for(var m=e.array_,v=e.end_,y=e.predicate_,b=e.start_;b<v;b++){if(c=m[b],y){for(;b<v&&!y(m,b);)b++;if(b==v)break;c=m[b]}if(null===c.canvasy||c.canvasy!=c.canvasy)o&&null!==h&&(g.moveTo(h,u),g.lineTo(c.canvasx,u)),h=u=null;else{if(l=!1,s||null===h){e.nextIdx_=b,e.next();var _=null===(d=e.hasNext?e.peek.canvasy:null)||d!=d;l=null===h&&_,s&&(!p&&null===h||e.hasNext&&_)&&(l=!0)}null!==h?n&&(o&&(g.moveTo(h,u),g.lineTo(c.canvasx,u)),g.lineTo(c.canvasx,c.canvasy)):g.moveTo(c.canvasx,c.canvasy),(r||l)&&f.push([c.canvasx,c.canvasy,c.idx]),h=c.canvasx,u=c.canvasy}p=!1}return g.stroke(),f},$._drawPointsOnLine=function(t,e,n,i,r){for(var s=t.drawingContext,o=0;o<e.length;o++){var a=e[o];s.save(),n.call(t.dygraph,t.dygraph,t.setName,s,a[0],a[1],i,r,a[2]),s.restore()}},$.prototype._updatePoints=function(){for(var t=this.layout.points,e=t.length;e--;)for(var n=t[e],i=n.length;i--;){var r=n[i];r.canvasx=this.area.w*r.x+this.area.x,r.canvasy=this.area.h*r.y+this.area.y}},$.prototype._renderLineChart=function(t,e){var n,i,r=e||this.elementContext,s=this.layout.points,o=this.layout.setNames;this.colors=this.dygraph_.colorsMap_;var a=this.dygraph_.getOption("plotter"),l=a;L.isArrayLike(l)||(l=[l]);var c={};for(n=0;n<o.length;n++){i=o[n];var h=this.dygraph_.getOption("plotter",i);h!=a&&(c[i]=h)}for(n=0;n<l.length;n++)for(var u=l[n],d=n==l.length-1,f=0;f<s.length;f++)if(i=o[f],!t||i==t){var p=s[f],g=u;if(i in c){if(!d)continue;g=c[i]}var m=this.colors[i],v=this.dygraph_.getOption("strokeWidth",i);r.save(),r.strokeStyle=m,r.lineWidth=v,g({points:p,setName:i,drawingContext:r,color:m,strokeWidth:v,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(i),plotArea:this.area,seriesIndex:f,seriesCount:s.length,singleSeriesName:t,allSeriesPoints:s}),r.restore()}},$._Plotters={linePlotter:function(t){$._linePlotter(t)},fillPlotter:function(t){$._fillPlotter(t)},errorPlotter:function(t){$._errorPlotter(t)}},$._linePlotter=function(t){var e=t.dygraph,n=t.setName,i=t.strokeWidth,r=e.getNumericOption("strokeBorderWidth",n),s=e.getOption("drawPointCallback",n)||L.Circles.DEFAULT,o=e.getOption("strokePattern",n),a=e.getBooleanOption("drawPoints",n),l=e.getNumericOption("pointSize",n);r&&i&&$._drawStyledLine(t,e.getOption("strokeBorderColor",n),i+2*r,o,a,s,l),$._drawStyledLine(t,t.color,i,o,a,s,l)},$._errorPlotter=function(t){var e=t.dygraph,n=t.setName;if(e.getBooleanOption("errorBars")||e.getBooleanOption("customBars")){e.getBooleanOption("fillGraph",n)&&console.warn("Can't use fillGraph option with error bars");var i,r=t.drawingContext,s=t.color,o=e.getNumericOption("fillAlpha",n),a=e.getBooleanOption("stepPlot",n),l=t.points,c=L.createIterator(l,0,l.length,$._getIteratorPredicate(e.getBooleanOption("connectSeparatedPoints",n))),h=NaN,u=NaN,d=[-1,-1],f=L.toRGB_(s),p="rgba("+f.r+","+f.g+","+f.b+","+o+")";r.fillStyle=p,r.beginPath();for(var g=function(t){return null==t||isNaN(t)};c.hasNext;){var m=c.next();!a&&g(m.y)||a&&!isNaN(u)&&g(u)?h=NaN:(i=[m.y_bottom,m.y_top],a&&(u=m.y),isNaN(i[0])&&(i[0]=m.y),isNaN(i[1])&&(i[1]=m.y),i[0]=t.plotArea.h*i[0]+t.plotArea.y,i[1]=t.plotArea.h*i[1]+t.plotArea.y,isNaN(h)||(a?(r.moveTo(h,d[0]),r.lineTo(m.canvasx,d[0]),r.lineTo(m.canvasx,d[1])):(r.moveTo(h,d[0]),r.lineTo(m.canvasx,i[0]),r.lineTo(m.canvasx,i[1])),r.lineTo(h,d[1]),r.closePath()),d=i,h=m.canvasx)}r.fill()}},$._fastCanvasProxy=function(r){var h=[],s=null,o=null,a=0,l=function(t){!function(t){if(!(h.length<=1)){for(var e=h.length-1;0<e;e--)if(2==(o=h[e])[0]){var n=h[e-1];n[1]==o[1]&&n[2]==o[2]&&h.splice(e,1)}for(e=0;e<h.length-1;)2==(o=h[e])[0]&&2==h[e+1][0]?h.splice(e,1):e++;if(2<h.length&&!t){var i=0;2==h[0][0]&&i++;var r=null,s=null;for(e=i;e<h.length;e++){var o;if(1==(o=h[e])[0])if(null===r&&null===s)s=r=e;else{var a=o[2];a<h[r][2]?r=e:a>h[s][2]&&(s=e)}}var l=h[r],c=h[s];h.splice(i,h.length-i),r<s?(h.push(l),h.push(c)):(s<r&&h.push(c),h.push(l))}}}(t);for(var e=0,n=h.length;e<n;e++){var i=h[e];1==i[0]?r.lineTo(i[1],i[2]):2==i[0]&&r.moveTo(i[1],i[2])}h.length&&(o=h[h.length-1][1]),a+=h.length,h=[]},n=function(t,e,n){var i=Math.round(e);null!==s&&i==s||(l(1<s-o||1<i-s),s=i);h.push([t,e,n])};return{moveTo:function(t,e){n(2,t,e)},lineTo:function(t,e){n(1,t,e)},stroke:function(){l(!0),r.stroke()},fill:function(){l(!0),r.fill()},beginPath:function(){l(!0),r.beginPath()},closePath:function(){l(!0),r.closePath()},_count:function(){return a}}},$._fillPlotter=function(t){if(!t.singleSeriesName&&0===t.seriesIndex){for(var e=t.dygraph,n=e.getLabels().slice(1),i=n.length;0<=i;i--)e.visibility()[i]||n.splice(i,1);if(function(){for(var t=0;t<n.length;t++)if(e.getBooleanOption("fillGraph",n[t]))return!0;return!1}())for(var r,s,o=t.plotArea,a=t.allSeriesPoints,l=a.length,c=e.getBooleanOption("stackedGraph"),h=e.getColors(),u={},d=function(t,e,n,i){if(t.lineTo(e,n),c)for(var r=i.length-1;0<=r;r--){var s=i[r];t.lineTo(s[0],s[1])}},f=l-1;0<=f;f--){var p=t.drawingContext,g=n[f];if(e.getBooleanOption("fillGraph",g)){var m=e.getNumericOption("fillAlpha",g),v=e.getBooleanOption("stepPlot",g),y=h[f],b=e.axisPropertiesForSeries(g),_=1+b.minyval*b.yscale;_<0?_=0:1<_&&(_=1),_=o.h*_+o.y;var w,x=a[f],A=L.createIterator(x,0,x.length,$._getIteratorPredicate(e.getBooleanOption("connectSeparatedPoints",g))),C=NaN,E=[-1,-1],k=L.toRGB_(y),S="rgba("+k.r+","+k.g+","+k.b+","+m+")";p.fillStyle=S,p.beginPath();var F,T=!0;(x.length>2*e.width_||B.default.FORCE_FAST_PROXY)&&(p=$._fastCanvasProxy(p));for(var D,M=[];A.hasNext;)if(D=A.next(),L.isOK(D.y)||v){if(c){if(!T&&F==D.xval)continue;var P;T=!1,F=D.xval,P=void 0===(r=u[D.canvasx])?_:s?r[0]:r,w=[D.canvasy,P],v?-1===E[0]?u[D.canvasx]=[D.canvasy,_]:u[D.canvasx]=[D.canvasy,E[0]]:u[D.canvasx]=D.canvasy}else w=isNaN(D.canvasy)&&v?[o.y+o.h,_]:[D.canvasy,_];isNaN(C)?(p.moveTo(D.canvasx,w[1]),p.lineTo(D.canvasx,w[0])):(v&&p.lineTo(D.canvasx,E[0]),p.lineTo(D.canvasx,w[0]),c&&(M.push([C,E[1]]),s&&r?M.push([D.canvasx,r[1]]):M.push([D.canvasx,w[1]]))),E=w,C=D.canvasx}else d(p,C,E[1],M),M=[],C=NaN,null===D.y_stacked||isNaN(D.y_stacked)||(u[D.canvasx]=o.h*D.y_stacked+o.y);s=v,w&&D&&(d(p,D.canvasx,w[1],M),M=[]),p.fill()}}}},n.default=$,e.exports=n.default},{"./dygraph":18,"./dygraph-utils":17}],10:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(n,"__esModule",{value:!0});var s=r(t("./dygraph-tickers")),o=i(t("./dygraph-interaction-model")),a=i(t("./dygraph-canvas")),l=r(t("./dygraph-utils")),c={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,highlightSeriesBackgroundColor:"rgb(255, 255, 255)",labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:void 0,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelWidth:50,gridLineColor:"rgb(128,128,128)",interactionModel:o.default.defaultModel,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillGradientColor:"white",rangeSelectorPlotFillColor:"#A7B1C4",rangeSelectorBackgroundStrokeColor:"gray",rangeSelectorBackgroundLineWidth:1,rangeSelectorPlotLineWidth:1.5,rangeSelectorForegroundStrokeColor:"black",rangeSelectorForegroundLineWidth:1,rangeSelectorAlpha:.6,showInRangeSelector:null,plotter:[a.default._fillPlotter,a.default._errorPlotter,a.default._linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:l.dateAxisLabelFormatter,valueFormatter:l.dateValueFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:s.dateTicker},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:l.numberValueFormatter,axisLabelFormatter:l.numberAxisLabelFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:s.numericTicks},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:l.numberValueFormatter,axisLabelFormatter:l.numberAxisLabelFormatter,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:s.numericTicks}}};n.default=c,e.exports=n.default},{"./dygraph-canvas":9,"./dygraph-interaction-model":12,"./dygraph-tickers":16,"./dygraph-utils":17}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=t("./dygraph"),s=(i=r)&&i.__esModule?i:{default:i},o=function(t){this.container=t};o.prototype.draw=function(t,e){this.container.innerHTML="",void 0!==this.date_graph&&this.date_graph.destroy(),this.date_graph=new s.default(this.container,t,e)},o.prototype.setSelection=function(t){var e=!1;t.length&&(e=t[0].row),this.date_graph.setSelection(e)},o.prototype.getSelection=function(){var t=[],e=this.date_graph.getSelection();if(e<0)return t;for(var n=this.date_graph.layout_.points,i=0;i<n.length;++i)t.push({row:e,column:i+1});return t},n.default=o,e.exports=n.default},{"./dygraph":18}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var w=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./dygraph-utils")),h={maybeTreatMouseOpAsClick:function(t,e,n){n.dragEndX=w.dragGetX_(t,n),n.dragEndY=w.dragGetY_(t,n);var i=Math.abs(n.dragEndX-n.dragStartX),r=Math.abs(n.dragEndY-n.dragStartY);i<2&&r<2&&void 0!==e.lastx_&&-1!=e.lastx_&&h.treatMouseOpAsClick(e,t,n),n.regionWidth=i,n.regionHeight=r},startPan:function(t,e,n){var i,r;n.isPanning=!0;var s=e.xAxisRange();if(e.getOptionForAxis("logscale","x")?(n.initialLeftmostDate=w.log10(s[0]),n.dateRange=w.log10(s[1])-w.log10(s[0])):(n.initialLeftmostDate=s[0],n.dateRange=s[1]-s[0]),n.xUnitsPerPixel=n.dateRange/(e.plotter_.area.w-1),e.getNumericOption("panEdgeFraction")){var o=e.width_*e.getNumericOption("panEdgeFraction"),a=e.xAxisExtremes(),l=e.toDomXCoord(a[0])-o,c=e.toDomXCoord(a[1])+o,h=e.toDataXCoord(l),u=e.toDataXCoord(c);n.boundedDates=[h,u];var d=[],f=e.height_*e.getNumericOption("panEdgeFraction");for(i=0;i<e.axes_.length;i++){var p=(r=e.axes_[i]).extremeRange,g=e.toDomYCoord(p[0],i)+f,m=e.toDomYCoord(p[1],i)-f,v=e.toDataYCoord(g,i),y=e.toDataYCoord(m,i);d[i]=[v,y]}n.boundedValues=d}for(n.is2DPan=!1,n.axes=[],i=0;i<e.axes_.length;i++){r=e.axes_[i];var b={},_=e.yAxisRange(i);e.attributes_.getForAxis("logscale",i)?(b.initialTopValue=w.log10(_[1]),b.dragValueRange=w.log10(_[1])-w.log10(_[0])):(b.initialTopValue=_[1],b.dragValueRange=_[1]-_[0]),b.unitsPerPixel=b.dragValueRange/(e.plotter_.area.h-1),n.axes.push(b),r.valueRange&&(n.is2DPan=!0)}},movePan:function(t,e,n){n.dragEndX=w.dragGetX_(t,n),n.dragEndY=w.dragGetY_(t,n);var i=n.initialLeftmostDate-(n.dragEndX-n.dragStartX)*n.xUnitsPerPixel;n.boundedDates&&(i=Math.max(i,n.boundedDates[0]));var r=i+n.dateRange;if(n.boundedDates&&r>n.boundedDates[1]&&(r=(i-=r-n.boundedDates[1])+n.dateRange),e.getOptionForAxis("logscale","x")?e.dateWindow_=[Math.pow(w.LOG_SCALE,i),Math.pow(w.LOG_SCALE,r)]:e.dateWindow_=[i,r],n.is2DPan)for(var s=n.dragEndY-n.dragStartY,o=0;o<e.axes_.length;o++){var a=e.axes_[o],l=n.axes[o],c=s*l.unitsPerPixel,h=n.boundedValues?n.boundedValues[o]:null,u=l.initialTopValue+c;h&&(u=Math.min(u,h[1]));var d=u-l.dragValueRange;h&&d<h[0]&&(d=(u-=d-h[0])-l.dragValueRange),e.attributes_.getForAxis("logscale",o)?a.valueRange=[Math.pow(w.LOG_SCALE,d),Math.pow(w.LOG_SCALE,u)]:a.valueRange=[d,u]}e.drawGraph_(!1)}};h.endPan=h.maybeTreatMouseOpAsClick,h.startZoom=function(t,e,n){n.isZooming=!0,n.zoomMoved=!1},h.moveZoom=function(t,e,n){n.zoomMoved=!0,n.dragEndX=w.dragGetX_(t,n),n.dragEndY=w.dragGetY_(t,n);var i=Math.abs(n.dragStartX-n.dragEndX),r=Math.abs(n.dragStartY-n.dragEndY);n.dragDirection=i<r/2?w.VERTICAL:w.HORIZONTAL,e.drawZoomRect_(n.dragDirection,n.dragStartX,n.dragEndX,n.dragStartY,n.dragEndY,n.prevDragDirection,n.prevEndX,n.prevEndY),n.prevEndX=n.dragEndX,n.prevEndY=n.dragEndY,n.prevDragDirection=n.dragDirection},h.treatMouseOpAsClick=function(t,e,n){for(var i=t.getFunctionOption("clickCallback"),r=t.getFunctionOption("pointClickCallback"),s=null,o=-1,a=Number.MAX_VALUE,l=0;l<t.selPoints_.length;l++){var c=t.selPoints_[l],h=Math.pow(c.canvasx-n.dragEndX,2)+Math.pow(c.canvasy-n.dragEndY,2);!isNaN(h)&&(-1==o||h<a)&&(a=h,o=l)}var u=t.getNumericOption("highlightCircleSize")+2;if(a<=u*u&&(s=t.selPoints_[o]),s){var d={cancelable:!0,point:s,canvasx:n.dragEndX,canvasy:n.dragEndY};if(t.cascadeEvents_("pointClick",d))return;r&&r.call(t,e,s)}d={cancelable:!0,xval:t.lastx_,pts:t.selPoints_,canvasx:n.dragEndX,canvasy:n.dragEndY};t.cascadeEvents_("click",d)||i&&i.call(t,e,t.lastx_,t.selPoints_)},h.endZoom=function(t,e,n){e.clearZoomRect_(),n.isZooming=!1,h.maybeTreatMouseOpAsClick(t,e,n);var i=e.getArea();if(10<=n.regionWidth&&n.dragDirection==w.HORIZONTAL){var r=Math.min(n.dragStartX,n.dragEndX),s=Math.max(n.dragStartX,n.dragEndX);(r=Math.max(r,i.x))<(s=Math.min(s,i.x+i.w))&&e.doZoomX_(r,s),n.cancelNextDblclick=!0}else if(10<=n.regionHeight&&n.dragDirection==w.VERTICAL){var o=Math.min(n.dragStartY,n.dragEndY),a=Math.max(n.dragStartY,n.dragEndY);(o=Math.max(o,i.y))<(a=Math.min(a,i.y+i.h))&&e.doZoomY_(o,a),n.cancelNextDblclick=!0}n.dragStartX=null,n.dragStartY=null},h.startTouch=function(t,e,n){t.preventDefault(),1<t.touches.length&&(n.startTimeForDoubleTapMs=null);for(var i=[],r=0;r<t.touches.length;r++){var s=t.touches[r];i.push({pageX:s.pageX,pageY:s.pageY,dataX:e.toDataXCoord(s.pageX),dataY:e.toDataYCoord(s.pageY)})}if(1==(n.initialTouches=i).length)n.initialPinchCenter=i[0],n.touchDirections={x:!0,y:!0};else if(2<=i.length){n.initialPinchCenter={pageX:.5*(i[0].pageX+i[1].pageX),pageY:.5*(i[0].pageY+i[1].pageY),dataX:.5*(i[0].dataX+i[1].dataX),dataY:.5*(i[0].dataY+i[1].dataY)};var o=180/Math.PI*Math.atan2(n.initialPinchCenter.pageY-i[0].pageY,i[0].pageX-n.initialPinchCenter.pageX);90<(o=Math.abs(o))&&(o=90-o),n.touchDirections={x:o<67.5,y:22.5<o}}n.initialRange={x:e.xAxisRange(),y:e.yAxisRange()}},h.moveTouch=function(t,e,n){n.startTimeForDoubleTapMs=null;var i,r=[];for(i=0;i<t.touches.length;i++){var s=t.touches[i];r.push({pageX:s.pageX,pageY:s.pageY})}var o,a,l,c=n.initialTouches,h=n.initialPinchCenter,u={pageX:(o=1==r.length?r[0]:{pageX:.5*(r[0].pageX+r[1].pageX),pageY:.5*(r[0].pageY+r[1].pageY)}).pageX-h.pageX,pageY:o.pageY-h.pageY},d=n.initialRange.x[1]-n.initialRange.x[0],f=n.initialRange.y[0]-n.initialRange.y[1];if(u.dataX=u.pageX/e.plotter_.area.w*d,u.dataY=u.pageY/e.plotter_.area.h*f,1==r.length)l=a=1;else if(2<=r.length){var p=c[1].pageX-h.pageX;a=(r[1].pageX-o.pageX)/p;var g=c[1].pageY-h.pageY;l=(r[1].pageY-o.pageY)/g}a=Math.min(8,Math.max(.125,a)),l=Math.min(8,Math.max(.125,l));var m=!1;if(n.touchDirections.x&&(e.dateWindow_=[h.dataX-u.dataX+(n.initialRange.x[0]-h.dataX)/a,h.dataX-u.dataX+(n.initialRange.x[1]-h.dataX)/a],m=!0),n.touchDirections.y)for(i=0;i<1;i++){var v=e.axes_[i];e.attributes_.getForAxis("logscale",i)||(v.valueRange=[h.dataY-u.dataY+(n.initialRange.y[0]-h.dataY)/l,h.dataY-u.dataY+(n.initialRange.y[1]-h.dataY)/l],m=!0)}if(e.drawGraph_(!1),m&&1<r.length&&e.getFunctionOption("zoomCallback")){var y=e.xAxisRange();e.getFunctionOption("zoomCallback").call(e,y[0],y[1],e.yAxisRanges())}},h.endTouch=function(t,e,n){if(0!==t.touches.length)h.startTouch(t,e,n);else if(1==t.changedTouches.length){var i=(new Date).getTime(),r=t.changedTouches[0];n.startTimeForDoubleTapMs&&i-n.startTimeForDoubleTapMs<500&&n.doubleTapX&&Math.abs(n.doubleTapX-r.screenX)<50&&n.doubleTapY&&Math.abs(n.doubleTapY-r.screenY)<50?e.resetZoom():(n.startTimeForDoubleTapMs=i,n.doubleTapX=r.screenX,n.doubleTapY=r.screenY)}};var u=function(t,e,n){return t<e?e-t:n<t?t-n:0};h.defaultModel={mousedown:function(t,l,c){if(!t.button||2!=t.button){c.initializeMouseDown(t,l,c),t.altKey||t.shiftKey?h.startPan(t,l,c):h.startZoom(t,l,c);var n=function(t){var e,n,i,r,s,o,a;c.isZooming?(e=t,n=l,i=w.findPos(n.canvas_),r={left:i.x,right:i.x+n.canvas_.offsetWidth,top:i.y,bottom:i.y+n.canvas_.offsetHeight},s={x:w.pageX(e),y:w.pageY(e)},o=u(s.x,r.left,r.right),a=u(s.y,r.top,r.bottom),Math.max(o,a)<100?h.moveZoom(t,l,c):null!==c.dragEndX&&(c.dragEndX=null,c.dragEndY=null,l.clearZoomRect_())):c.isPanning&&h.movePan(t,l,c)};l.addAndTrackEvent(document,"mousemove",n),l.addAndTrackEvent(document,"mouseup",function t(e){c.isZooming?null!==c.dragEndX?h.endZoom(e,l,c):h.maybeTreatMouseOpAsClick(e,l,c):c.isPanning&&h.endPan(e,l,c),w.removeEvent(document,"mousemove",n),w.removeEvent(document,"mouseup",t),c.destroy()})}},willDestroyContextMyself:!0,touchstart:function(t,e,n){h.startTouch(t,e,n)},touchmove:function(t,e,n){h.moveTouch(t,e,n)},touchend:function(t,e,n){h.endTouch(t,e,n)},dblclick:function(t,e,n){if(n.cancelNextDblclick)n.cancelNextDblclick=!1;else{var i={canvasx:n.dragEndX,canvasy:n.dragEndY,cancelable:!0};e.cascadeEvents_("dblclick",i)||t.altKey||t.shiftKey||e.resetZoom()}}},h.nonInteractiveModel_={mousedown:function(t,e,n){n.initializeMouseDown(t,e,n)},mouseup:h.maybeTreatMouseOpAsClick},h.dragIsPanInteractionModel={mousedown:function(t,e,n){n.initializeMouseDown(t,e,n),h.startPan(t,e,n)},mousemove:function(t,e,n){n.isPanning&&h.movePan(t,e,n)},mouseup:function(t,e,n){n.isPanning&&h.endPan(t,e,n)}},n.default=h,e.exports=n.default},{"./dygraph-utils":17}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./dygraph-utils")),u=function(t){this.dygraph_=t,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};u.prototype.addDataset=function(t,e){this.points.push(e),this.setNames.push(t)},u.prototype.getPlotArea=function(){return this.area_},u.prototype.computePlotArea=function(){var n={x:0,y:0};n.w=this.dygraph_.width_-n.x-this.dygraph_.getOption("rightGap"),n.h=this.dygraph_.height_;var t={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(t){var e={x:n.x,y:n.y,w:t,h:n.h};return n.x+=t,n.w-=t,e},reserveSpaceRight:function(t){var e={x:n.x+n.w-t,y:n.y,w:t,h:n.h};return n.w-=t,e},reserveSpaceTop:function(t){var e={x:n.x,y:n.y,w:n.w,h:t};return n.y+=t,n.h-=t,e},reserveSpaceBottom:function(t){var e={x:n.x,y:n.y+n.h-t,w:n.w,h:t};return n.h-=t,e},chartRect:function(){return{x:n.x,y:n.y,w:n.w,h:n.h}}};this.dygraph_.cascadeEvents_("layout",t),this.area_=n},u.prototype.setAnnotations=function(t){this.annotations=[];for(var e=this.dygraph_.getOption("xValueParser")||function(t){return t},n=0;n<t.length;n++){var i={};if(!t[n].xval&&void 0===t[n].x)return void console.error("Annotations must have an 'x' property");if(t[n].icon&&(!t[n].hasOwnProperty("width")||!t[n].hasOwnProperty("height")))return void console.error("Must set width and height when setting annotation.icon property");r.update(i,t[n]),i.xval||(i.xval=e(i.x)),this.annotations.push(i)}},u.prototype.setXTicks=function(t){this.xTicks_=t},u.prototype.setYAxes=function(t){this.yAxes_=t},u.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()},u.prototype._evaluateLimits=function(){var t=this.dygraph_.xAxisRange();this._xAxis.minval=t[0],this._xAxis.maxval=t[1];var e=t[1]-t[0];this._xAxis.scale=0!==e?1/e:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=r.log10(this._xAxis.maxval)-r.log10(this._xAxis.minval),this._xAxis.xlogscale=0!==this._xAxis.xlogrange?1/this._xAxis.xlogrange:1);for(var n=0;n<this.yAxes_.length;n++){var i=this.yAxes_[n];i.minyval=i.computedValueRange[0],i.maxyval=i.computedValueRange[1],i.yrange=i.maxyval-i.minyval,i.yscale=0!==i.yrange?1/i.yrange:1,this.dygraph_.getOption("logscale")&&(i.ylogrange=r.log10(i.maxyval)-r.log10(i.minyval),i.ylogscale=0!==i.ylogrange?1/i.ylogrange:1,isFinite(i.ylogrange)&&!isNaN(i.ylogrange)||console.error("axis "+n+" of graph at "+i.g+" can't be displayed in log scale for range ["+i.minyval+" - "+i.maxyval+"]"))}},u.calcXNormal_=function(t,e,n){return n?(r.log10(t)-r.log10(e.minval))*e.xlogscale:(t-e.minval)*e.scale},u.calcYNormal_=function(t,e,n){if(n){var i=1-(r.log10(e)-r.log10(t.minyval))*t.ylogscale;return isFinite(i)?i:NaN}return 1-(e-t.minyval)*t.yscale},u.prototype._evaluateLineCharts=function(){for(var t=this.dygraph_.getOption("stackedGraph"),e=this.dygraph_.getOptionForAxis("logscale","x"),n=0;n<this.points.length;n++){for(var i=this.points[n],r=this.setNames[n],s=this.dygraph_.getOption("connectSeparatedPoints",r),o=this.dygraph_.axisPropertiesForSeries(r),a=this.dygraph_.attributes_.getForSeries("logscale",r),l=0;l<i.length;l++){var c=i[l];c.x=u.calcXNormal_(c.xval,this._xAxis,e);var h=c.yval;t&&(c.y_stacked=u.calcYNormal_(o,c.yval_stacked,a),null===h||isNaN(h)||(h=c.yval_stacked)),null===h&&(h=NaN,s||(c.yval=NaN)),c.y=u.calcYNormal_(o,h,a)}this.dygraph_.dataHandler_.onLineEvaluated(i,o,a)}},u.prototype._evaluateLineTicks=function(){var t,e,n,i,r,s;for(this.xticks=[],t=0;t<this.xTicks_.length;t++)n=(e=this.xTicks_[t]).label,r=(s=!("label_v"in e))?e.v:e.label_v,0<=(i=this.dygraph_.toPercentXCoord(r))&&i<1&&this.xticks.push({pos:i,label:n,has_tick:s});for(this.yticks=[],t=0;t<this.yAxes_.length;t++)for(var o=this.yAxes_[t],a=0;a<o.ticks.length;a++)n=(e=o.ticks[a]).label,r=(s=!("label_v"in e))?e.v:e.label_v,0<(i=this.dygraph_.toPercentYCoord(r,t))&&i<=1&&this.yticks.push({axis:t,pos:i,label:n,has_tick:s})},u.prototype._evaluateAnnotations=function(){var t,e={};for(t=0;t<this.annotations.length;t++){var n=this.annotations[t];e[n.xval+","+n.series]=n}if(this.annotated_points=[],this.annotations&&this.annotations.length)for(var i=0;i<this.points.length;i++){var r=this.points[i];for(t=0;t<r.length;t++){var s=r[t],o=s.xval+","+s.name;o in e&&(s.annotation=e[o],this.annotated_points.push(s))}}},u.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]},n.default=u,e.exports=n.default},{"./dygraph-utils":17}],14:[function(t,e,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=null,e.exports=n.default}).call(this,t("_process"))},{_process:1}],15:[function(n,i,r){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("./dygraph-utils")),l=e(n("./dygraph-default-attrs")),c=(e(n("./dygraph-options-reference")),function(t){this.dygraph_=t,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()});c.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1},c.axisToIndex_=function(t){if("string"==typeof t){if(c.AXIS_STRING_MAPPINGS_.hasOwnProperty(t))return c.AXIS_STRING_MAPPINGS_[t];throw"Unknown axis : "+t}if("number"==typeof t){if(0===t||1===t)return t;throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(t)throw"Unknown axis : "+t;return 0},c.prototype.reparseSeries=function(){var t=this.get("labels");if(t){this.labels_=t.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};for(var e=this.user_.series||{},n=0;n<this.labels_.length;n++){var i=this.labels_[n],r=e[i]||{},s=c.axisToIndex_(r.axis);this.series_[i]={idx:n,yAxis:s,options:r},this.yAxes_[s]?this.yAxes_[s].series.push(i):this.yAxes_[s]={series:[i],options:{}}}var o=this.user_.axes||{};a.update(this.yAxes_[0].options,o.y||{}),1<this.yAxes_.length&&a.update(this.yAxes_[1].options,o.y2||{}),a.update(this.xAxis_.options,o.x||{})}},c.prototype.get=function(t){var e=this.getGlobalUser_(t);return null!==e?e:this.getGlobalDefault_(t)},c.prototype.getGlobalUser_=function(t){return this.user_.hasOwnProperty(t)?this.user_[t]:null},c.prototype.getGlobalDefault_=function(t){return this.global_.hasOwnProperty(t)?this.global_[t]:l.default.hasOwnProperty(t)?l.default[t]:null},c.prototype.getForAxis=function(t,e){var n,i;if("number"==typeof e)i=0===(n=e)?"y":"y2";else{if("y1"==e&&(e="y"),"y"==e)n=0;else if("y2"==e)n=1;else{if("x"!=e)throw"Unknown axis "+e;n=-1}i=e}var r=-1==n?this.xAxis_:this.yAxes_[n];if(r){var s=r.options;if(s.hasOwnProperty(t))return s[t]}if("x"!==e||"logscale"!==t){var o=this.getGlobalUser_(t);if(null!==o)return o}var a=l.default.axes[i];return a.hasOwnProperty(t)?a[t]:this.getGlobalDefault_(t)},c.prototype.getForSeries=function(t,e){if(e===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(t))return this.highlightSeries_[t];if(!this.series_.hasOwnProperty(e))throw"Unknown series: "+e;var n=this.series_[e],i=n.options;return i.hasOwnProperty(t)?i[t]:this.getForAxis(t,n.yAxis)},c.prototype.numAxes=function(){return this.yAxes_.length},c.prototype.axisForSeries=function(t){return this.series_[t].yAxis},c.prototype.axisOptions=function(t){return this.yAxes_[t].options},c.prototype.seriesForAxis=function(t){return this.yAxes_[t].series},c.prototype.seriesNames=function(){return this.labels_},r.default=c,i.exports=r.default}).call(this,n("_process"))},{"./dygraph-default-attrs":10,"./dygraph-options-reference":14,"./dygraph-utils":17,_process:1}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var T=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./dygraph-utils"));n.numericLinearTicks=function(t,e,n,i,r,s){return o(t,e,n,function(t){return"logscale"!==t&&i(t)},r,s)};var o=function(t,e,n,i,r,s){var o,a,l,c,h=i("pixelsPerLabel"),u=[];if(s)for(o=0;o<s.length;o++)u.push({v:s[o]});else{if(i("logscale")){c=Math.floor(n/h);var d=T.binarySearch(t,D,1),f=T.binarySearch(e,D,-1);-1==d&&(d=0),-1==f&&(f=D.length-1);var p=null;if(c/4<=f-d){for(var g=f;d<=g;g--){var m=D[g],v=Math.log(m/t)/Math.log(e/t)*n,y={v:m};null===p?p={tickValue:m,pixel_coord:v}:Math.abs(v-p.pixel_coord)>=h?p={tickValue:m,pixel_coord:v}:y.label="",u.push(y)}u.reverse()}}if(0===u.length){var b,_;i("labelsKMG2")?(b=[1,2,4,8,16,32,64,128,256],_=16):(b=[1,2,5,10,20,50,100],_=10);var w,x,A,C=Math.ceil(n/h),E=Math.abs(e-t)/C,k=Math.floor(Math.log(E)/Math.log(_)),S=Math.pow(_,k);for(a=0;a<b.length&&(w=S*b[a],x=Math.floor(t/w)*w,A=Math.ceil(e/w)*w,!(h<n/(c=Math.abs(A-x)/w)));a++);for(A<x&&(w*=-1),o=0;o<=c;o++)l=x+o*w,u.push({v:l})}}var F=i("axisLabelFormatter");for(o=0;o<u.length;o++)void 0===u[o].label&&(u[o].label=F.call(r,u[o].v,0,i,r));return u};n.numericTicks=o;n.dateTicker=function(t,e,n,i,r,s){var o=a(t,e,n,i);return 0<=o?c(t,e,o,i,r):[]};var v={MILLISECONDLY:0,TWO_MILLISECONDLY:1,FIVE_MILLISECONDLY:2,TEN_MILLISECONDLY:3,FIFTY_MILLISECONDLY:4,HUNDRED_MILLISECONDLY:5,FIVE_HUNDRED_MILLISECONDLY:6,SECONDLY:7,TWO_SECONDLY:8,FIVE_SECONDLY:9,TEN_SECONDLY:10,THIRTY_SECONDLY:11,MINUTELY:12,TWO_MINUTELY:13,FIVE_MINUTELY:14,TEN_MINUTELY:15,THIRTY_MINUTELY:16,HOURLY:17,TWO_HOURLY:18,SIX_HOURLY:19,DAILY:20,TWO_DAILY:21,WEEKLY:22,MONTHLY:23,QUARTERLY:24,BIANNUAL:25,ANNUAL:26,DECADAL:27,CENTENNIAL:28,NUM_GRANULARITIES:29};n.Granularity=v;var y=0,b=1,_=2,w=3,x=4,A=5,C=6,E=7,k=[];k[v.MILLISECONDLY]={datefield:C,step:1,spacing:1},k[v.TWO_MILLISECONDLY]={datefield:C,step:2,spacing:2},k[v.FIVE_MILLISECONDLY]={datefield:C,step:5,spacing:5},k[v.TEN_MILLISECONDLY]={datefield:C,step:10,spacing:10},k[v.FIFTY_MILLISECONDLY]={datefield:C,step:50,spacing:50},k[v.HUNDRED_MILLISECONDLY]={datefield:C,step:100,spacing:100},k[v.FIVE_HUNDRED_MILLISECONDLY]={datefield:C,step:500,spacing:500},k[v.SECONDLY]={datefield:A,step:1,spacing:1e3},k[v.TWO_SECONDLY]={datefield:A,step:2,spacing:2e3},k[v.FIVE_SECONDLY]={datefield:A,step:5,spacing:5e3},k[v.TEN_SECONDLY]={datefield:A,step:10,spacing:1e4},k[v.THIRTY_SECONDLY]={datefield:A,step:30,spacing:3e4},k[v.MINUTELY]={datefield:x,step:1,spacing:6e4},k[v.TWO_MINUTELY]={datefield:x,step:2,spacing:12e4},k[v.FIVE_MINUTELY]={datefield:x,step:5,spacing:3e5},k[v.TEN_MINUTELY]={datefield:x,step:10,spacing:6e5},k[v.THIRTY_MINUTELY]={datefield:x,step:30,spacing:18e5},k[v.HOURLY]={datefield:w,step:1,spacing:36e5},k[v.TWO_HOURLY]={datefield:w,step:2,spacing:72e5},k[v.SIX_HOURLY]={datefield:w,step:6,spacing:216e5},k[v.DAILY]={datefield:_,step:1,spacing:864e5},k[v.TWO_DAILY]={datefield:_,step:2,spacing:1728e5},k[v.WEEKLY]={datefield:_,step:7,spacing:6048e5},k[v.MONTHLY]={datefield:b,step:1,spacing:2629817280},k[v.QUARTERLY]={datefield:b,step:3,spacing:216e5*365.2524},k[v.BIANNUAL]={datefield:b,step:6,spacing:432e5*365.2524},k[v.ANNUAL]={datefield:y,step:1,spacing:864e5*365.2524},k[v.DECADAL]={datefield:y,step:10,spacing:315578073600},k[v.CENTENNIAL]={datefield:y,step:100,spacing:3155780736e3};var D=function(){for(var t=[],e=-39;e<=39;e++)for(var n=Math.pow(10,e),i=1;i<=9;i++){var r=n*i;t.push(r)}return t}(),a=function(t,e,n,i){for(var r=i("pixelsPerLabel"),s=0;s<v.NUM_GRANULARITIES;s++)if(n/l(t,e,s)>=r)return s;return-1},l=function(t,e,n){var i=k[n].spacing;return Math.round(1*(e-t)/i)},c=function(t,e,n,i,r){var s=i("axisLabelFormatter"),o=i("labelsUTC")?T.DateAccessorsUTC:T.DateAccessorsLocal,a=k[n].datefield,l=k[n].step,c=k[n].spacing,h=new Date(t),u=[];u[y]=o.getFullYear(h),u[b]=o.getMonth(h),u[_]=o.getDate(h),u[w]=o.getHours(h),u[x]=o.getMinutes(h),u[A]=o.getSeconds(h),u[C]=o.getMilliseconds(h);var d=u[a]%l;n==v.WEEKLY&&(d=o.getDay(h)),u[a]-=d;for(var f=a+1;f<E;f++)u[f]=f===_?1:0;var p=[],g=o.makeDate.apply(null,u),m=g.getTime();if(n<=v.HOURLY)for(m<t&&(m+=c,g=new Date(m));m<=e;)p.push({v:m,label:s.call(r,g,n,i,r)}),m+=c,g=new Date(m);else for(m<t&&(u[a]+=l,m=(g=o.makeDate.apply(null,u)).getTime());m<=e;)(v.DAILY<=n||o.getHours(g)%l==0)&&p.push({v:m,label:s.call(r,g,n,i,r)}),u[a]+=l,m=(g=o.makeDate.apply(null,u)).getTime();return p};n.getDateAxis=c},{"./dygraph-utils":17}],17:[function(t,e,n){"use strict";function i(t){return!t.pageX||t.pageX<0?0:t.pageX}function r(t){return!t.pageY||t.pageY<0?0:t.pageY}function g(t,e){var n=Math.min(Math.max(1,e||2),21);return Math.abs(t)<.001&&0!==t?t.toExponential(n-1):t.toPrecision(n)}function d(t){return t<10?"0"+t:""+t}function f(t,e,n,i){var r=d(t)+":"+d(e);if(n&&(r+=":"+d(n),i)){var s=""+i;r+="."+("000"+s).substring(s.length)}return r}function s(t,e){var n=e?_:b,i=new Date(t),r=n.getFullYear(i),s=n.getMonth(i),o=n.getDate(i),a=n.getHours(i),l=n.getMinutes(i),c=n.getSeconds(i),h=n.getMilliseconds(i),u=""+r+"/"+d(s+1)+"/"+d(o);return 3600*a+60*l+c+.001*h&&(u+=" "+f(a,l,c,h)),u}function m(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function o(t){return new Date(t).getTime()}function a(t){var e=typeof t;return("object"==e||"function"==e&&"function"==typeof t.item)&&null!==t&&"number"==typeof t.length&&3!==t.nodeType}function l(t,e,n,i){e=e||0,n=n||t.length,this.hasNext=!0,this.peek=null,this.start_=e,this.array_=t,this.predicate_=i,this.end_=Math.min(t.length,e+n),this.nextIdx_=e-1,this.next()}function v(t,e){return e<0?1/Math.pow(t,-e):Math.pow(t,e)}function c(t){var e=C.exec(t);if(!e)return null;var n=parseInt(e[1],10),i=parseInt(e[2],10),r=parseInt(e[3],10);return e[4]?{r:n,g:i,b:r,a:parseFloat(e[4])}:{r:n,g:i,b:r}}function h(t,e){var n=e("sigFigs");if(null!==n)return g(t,n);var i,r=e("digitsAfterDecimal"),s=e("maxNumberWidth"),o=e("labelsKMB"),a=e("labelsKMG2");if(i=0!==t&&(Math.abs(t)>=Math.pow(10,s)||Math.abs(t)<Math.pow(10,-r))?t.toExponential(r):""+m(t,r),o||a){var l,c=[],h=[];o&&(l=1e3,c=E),a&&(o&&console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),l=1024,c=k,h=S);for(var u=Math.abs(t),d=v(l,c.length),f=c.length-1;0<=f;f--,d/=l)if(d<=u){i=m(t/d,r)+c[f];break}if(a){var p=String(t.toExponential()).split("e-");2===p.length&&3<=p[1]&&p[1]<=24&&(i=0<p[1]%3?m(p[0]/v(10,p[1]%3),r):Number(p[0]).toFixed(2),i+=h[Math.floor(p[1]/3)-1])}}return i}Object.defineProperty(n,"__esModule",{value:!0}),n.removeEvent=function(t,e,n){t.removeEventListener(e,n,!1)},n.cancelEvent=function(t){return(t=t||window.event).stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1},n.hsvToRGB=function(t,e,n){var i,r,s;if(0===e)s=r=i=n;else{var o=Math.floor(6*t),a=6*t-o,l=n*(1-e),c=n*(1-e*a),h=n*(1-e*(1-a));switch(o){case 1:i=c,r=n,s=l;break;case 2:i=l,r=n,s=h;break;case 3:i=l,r=c,s=n;break;case 4:i=h,r=l,s=n;break;case 5:i=n,r=l,s=c;break;case 6:case 0:i=n,r=h,s=l}}return"rgb("+(i=Math.floor(255*i+.5))+","+(r=Math.floor(255*r+.5))+","+(s=Math.floor(255*s+.5))+")"},n.findPos=function(t){var e=t.getBoundingClientRect(),n=window,i=document.documentElement;return{x:e.left+(n.pageXOffset||i.scrollLeft),y:e.top+(n.pageYOffset||i.scrollTop)}},n.pageX=i,n.pageY=r,n.dragGetX_=function(t,e){return i(t)-e.px},n.dragGetY_=function(t,e){return r(t)-e.py},n.isOK=function(t){return!!t&&!isNaN(t)},n.isValidPoint=function(t,e){return!!t&&null!==t.yval&&null!==t.x&&void 0!==t.x&&null!==t.y&&void 0!==t.y&&!(isNaN(t.x)||!e&&isNaN(t.y))},n.floatFormat=g,n.zeropad=d,n.hmsString_=f,n.dateString_=s,n.round_=m,n.binarySearch=function(t,e,n,i,r){for(var s=!0;s;){var o=t,a=e,l=n,c=i,h=r;if(s=!1,null!=c&&null!=h||(c=0,h=a.length-1),h<c)return-1;null!=l||(l=0);var u,d=function(t){return 0<=t&&t<a.length},f=parseInt((c+h)/2,10),p=a[f];if(p==o)return f;if(o<p){if(0<l&&d(u=f-1)&&a[u]<o)return f;t=o,e=a,n=l,i=c,r=f-1,s=!0,d=f=p=u=void 0}else{if(!(p<o))return-1;if(l<0&&d(u=f+1)&&a[u]>o)return f;t=o,e=a,n=l,i=f+1,r=h,s=!0,d=f=p=u=void 0}}},n.dateParser=function(t){var e,n;if((-1==t.search("-")||-1!=t.search("T")||-1!=t.search("Z"))&&(n=o(t))&&!isNaN(n))return n;if(-1!=t.search("-")){for(e=t.replace("-","/","g");-1!=e.search("-");)e=e.replace("-","/");n=o(e)}else n=8==t.length?o(e=t.substr(0,4)+"/"+t.substr(4,2)+"/"+t.substr(6,2)):o(t);return n&&!isNaN(n)||console.error("Couldn't parse "+t+" as a date"),n},n.dateStrToMillis=o,n.update=function(t,e){if(null!=e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},n.updateDeep=function t(e,n){if(null!=n)for(var i in n)n.hasOwnProperty(i)&&(null===n[i]?e[i]=null:a(n[i])?e[i]=n[i].slice():(r=n[i],("object"==typeof Node?r instanceof Node:"object"==typeof r&&"number"==typeof r.nodeType&&"string"==typeof r.nodeName)||"object"!=typeof n[i]?e[i]=n[i]:("object"==typeof e[i]&&null!==e[i]||(e[i]={}),t(e[i],n[i]))));var r;return e},n.isArrayLike=a,n.isDateLike=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},n.clone=function t(e){for(var n=[],i=0;i<e.length;i++)a(e[i])?n.push(t(e[i])):n.push(e[i]);return n},n.createCanvas=function(){return document.createElement("canvas")},n.getContextPixelRatio=function(t){try{var e=window.devicePixelRatio,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return void 0!==e?e/n:1}catch(t){return 1}},n.Iterator=l,n.createIterator=function(t,e,n,i){return new l(t,e,n,i)},n.repeatAndCleanup=function(i,t,r,s){var o,a=0,l=(new Date).getTime();if(i(a),1!=t){var c=t-1;!function n(){t<=a||w.call(window,function(){var t=(new Date).getTime()-l;o=a;var e=(a=Math.floor(t/r))-o;c<a+e||c<=a?(i(c),s()):(0!==e&&i(a),n())})}()}else s()},n.isPixelChangingOptionList=function(t,e){var n={};if(t)for(var i=1;i<t.length;i++)n[t[i]]=!0;var r=function(t){for(var e in t)if(t.hasOwnProperty(e)&&!x[e])return!0;return!1};for(var s in e)if(e.hasOwnProperty(s))if("highlightSeriesOpts"==s||n[s]&&!e.series){if(r(e[s]))return!0}else if("series"==s||"axes"==s){var o=e[s];for(var a in o)if(o.hasOwnProperty(a)&&r(o[a]))return!0}else if(!x[s])return!0;return!1},n.detectLineDelimiter=function(t){for(var e=0;e<t.length;e++){var n=t.charAt(e);if("\r"===n)return e+1<t.length&&"\n"===t.charAt(e+1)?"\r\n":n;if("\n"===n)return e+1<t.length&&"\r"===t.charAt(e+1)?"\n\r":n}return null},n.isNodeContainedBy=function(t,e){if(null===e||null===t)return!1;for(var n=t;n&&n!==e;)n=n.parentNode;return n===e},n.pow=v,n.toRGB_=function(t){var e=c(t);if(e)return e;var n=document.createElement("div");n.style.backgroundColor=t,n.style.visibility="hidden",document.body.appendChild(n);var i=window.getComputedStyle(n,null).backgroundColor;return document.body.removeChild(n),c(i)},n.isCanvasSupported=function(t){try{(t||document.createElement("canvas")).getContext("2d")}catch(t){return!1}return!0},n.parseFloat_=function(t,e,n){var i=parseFloat(t);if(!isNaN(i))return i;if(/^ *$/.test(t))return null;if(/^ *nan *$/i.test(t))return NaN;var r="Unable to parse '"+t+"' as a number";return void 0!==n&&void 0!==e&&(r+=" on line "+(1+(e||0))+" ('"+n+"') of CSV."),console.error(r),null},n.numberValueFormatter=h,n.numberAxisLabelFormatter=function(t,e,n){return h.call(this,t,n)},n.dateAxisLabelFormatter=function(t,e,n){var i=n("labelsUTC")?_:b,r=i.getFullYear(t),s=i.getMonth(t),o=i.getDate(t),a=i.getHours(t),l=i.getMinutes(t),c=i.getSeconds(t),h=i.getMilliseconds(t);if(e>=p.Granularity.DECADAL)return""+r;if(e>=p.Granularity.MONTHLY)return F[s]+"&#160;"+r;if(0===3600*a+60*l+c+.001*h||e>=p.Granularity.DAILY)return d(o)+"&#160;"+F[s];if(e<p.Granularity.SECONDLY){var u=""+h;return d(c)+"."+("000"+u).substring(u.length)}return e>p.Granularity.MINUTELY?f(a,l,c,0):f(a,l,c,h)},n.dateValueFormatter=function(t,e){return s(t,e("labelsUTC"))};var p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./dygraph-tickers"));n.LOG_SCALE=10;var u=Math.log(10);n.LN_TEN=u;var y=function(t){return Math.log(t)/u};n.log10=y;n.logRangeFraction=function(t,e,n){var i=y(t),r=i+n*(y(e)-i);return Math.pow(10,r)};n.DOTTED_LINE=[2,2];n.DASHED_LINE=[7,3];n.DOT_DASH_LINE=[7,2,2,2],n.HORIZONTAL=1,n.VERTICAL=2;n.getContext=function(t){return t.getContext("2d")};n.addEvent=function(t,e,n){t.addEventListener(e,n,!1)};var b={getFullYear:function(t){return t.getFullYear()},getMonth:function(t){return t.getMonth()},getDate:function(t){return t.getDate()},getHours:function(t){return t.getHours()},getMinutes:function(t){return t.getMinutes()},getSeconds:function(t){return t.getSeconds()},getMilliseconds:function(t){return t.getMilliseconds()},getDay:function(t){return t.getDay()},makeDate:function(t,e,n,i,r,s,o){return new Date(t,e,n,i,r,s,o)}};n.DateAccessorsLocal=b;var _={getFullYear:function(t){return t.getUTCFullYear()},getMonth:function(t){return t.getUTCMonth()},getDate:function(t){return t.getUTCDate()},getHours:function(t){return t.getUTCHours()},getMinutes:function(t){return t.getUTCMinutes()},getSeconds:function(t){return t.getUTCSeconds()},getMilliseconds:function(t){return t.getUTCMilliseconds()},getDay:function(t){return t.getUTCDay()},makeDate:function(t,e,n,i,r,s,o){return new Date(Date.UTC(t,e,n,i,r,s,o))}};n.DateAccessorsUTC=_,l.prototype.next=function(){if(!this.hasNext)return null;for(var t=this.peek,e=this.nextIdx_+1,n=!1;e<this.end_;){if(!this.predicate_||this.predicate_(this.array_,e)){this.peek=this.array_[e],n=!0;break}e++}return this.nextIdx_=e,n||(this.hasNext=!1,this.peek=null),t};var w=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};n.requestAnimFrame=w;var x={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,labelsDiv:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotFillGradientColor:!0,rangeSelectorPlotStrokeColor:!0,rangeSelectorBackgroundStrokeColor:!0,rangeSelectorBackgroundLineWidth:!0,rangeSelectorPlotLineWidth:!0,rangeSelectorForegroundStrokeColor:!0,rangeSelectorForegroundLineWidth:!0,rangeSelectorAlpha:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0},A={DEFAULT:function(t,e,n,i,r,s,o){n.beginPath(),n.fillStyle=s,n.arc(i,r,o,0,2*Math.PI,!1),n.fill()}};n.Circles=A;var C=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/,E=["K","M","B","T","Q"],k=["k","M","G","T","P","E","Z","Y"],S=["m","u","n","p","f","a","z","y"],F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},{"./dygraph-tickers":16}],18:[function(E,k,S){(function(t){"use strict";function e(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(S,"__esModule",{value:!0});var p=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(E("./dygraph-layout")),s=n(E("./dygraph-canvas")),f=n(E("./dygraph-options")),i=n(E("./dygraph-interaction-model")),b=e(E("./dygraph-tickers")),B=e(E("./dygraph-utils")),g=n(E("./dygraph-default-attrs")),o=n((n(E("./dygraph-options-reference")),E("./iframe-tarp"))),a=n(E("./datahandler/default")),l=n(E("./datahandler/bars-error")),c=n(E("./datahandler/bars-custom")),h=n(E("./datahandler/default-fractions")),u=n(E("./datahandler/bars-fractions")),d=n(E("./datahandler/bars")),m=n(E("./plugins/annotations")),v=n(E("./plugins/axes")),y=n(E("./plugins/chart-labels")),_=n(E("./plugins/grid")),w=n(E("./plugins/legend")),x=n(E("./plugins/range-selector")),A=n(E("./dygraph-gviz")),C=function(t,e,n){this.__init__(t,e,n)};C.NAME="Dygraph",C.VERSION="2.1.0",C.DEFAULT_ROLL_PERIOD=1,C.DEFAULT_WIDTH=480,C.DEFAULT_HEIGHT=320,C.ANIMATION_STEPS=12,C.ANIMATION_DURATION=200,C.Plotters=s.default._Plotters,C.addedAnnotationCSS=!1,C.prototype.__init__=function(t,e,n){if(this.is_initial_draw_=!0,this.readyFns_=[],null!=n||(n={}),n=C.copyUserAttrs_(n),"string"==typeof t&&(t=document.getElementById(t)),!t)throw new Error("Constructing dygraph with a non-existent div!");this.maindiv_=t,this.file_=e,this.rollPeriod_=n.rollPeriod||C.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=n.fractions||!1,this.dateWindow_=n.dateWindow||null,this.annotations_=[],(t.innerHTML="")===t.style.width&&n.width&&(t.style.width=n.width+"px"),""===t.style.height&&n.height&&(t.style.height=n.height+"px"),""===t.style.height&&0===t.clientHeight&&(t.style.height=C.DEFAULT_HEIGHT+"px",""===t.style.width&&(t.style.width=C.DEFAULT_WIDTH+"px")),this.width_=t.clientWidth||n.width||0,this.height_=t.clientHeight||n.height||0,n.stackedGraph&&(n.fillGraph=!0),this.user_attrs_={},B.update(this.user_attrs_,n),this.attrs_={},B.updateDeep(this.attrs_,g.default),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new f.default(this),this.createInterface_(),this.plugins_=[];for(var i=C.PLUGINS.concat(this.getOption("plugins")),r=0;r<i.length;r++){var s,o=i[r],a={plugin:s=void 0!==o.activate?o:new o,events:{},options:{},pluginOptions:{}},l=s.activate(this);for(var c in l)l.hasOwnProperty(c)&&(a.events[c]=l[c]);this.plugins_.push(a)}for(r=0;r<this.plugins_.length;r++){var h=this.plugins_[r];for(var c in h.events)if(h.events.hasOwnProperty(c)){var u=h.events[c],d=[h.plugin,u];c in this.eventListeners_?this.eventListeners_[c].push(d):this.eventListeners_[c]=[d]}}this.createDragInterface_(),this.start_()},C.prototype.cascadeEvents_=function(t,e){if(!(t in this.eventListeners_))return!1;var n={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!n.cancelable)throw"Cannot call preventDefault on non-cancelable event.";n.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){n.propagationStopped=!0}};B.update(n,e);var i=this.eventListeners_[t];if(i)for(var r=i.length-1;0<=r;r--){var s=i[r][0];if(i[r][1].call(s,n),n.propagationStopped)break}return n.defaultPrevented},C.prototype.getPluginInstance_=function(t){for(var e=0;e<this.plugins_.length;e++){var n=this.plugins_[e];if(n.plugin instanceof t)return n.plugin}return null},C.prototype.isZoomed=function(t){var e=!!this.dateWindow_;if("x"===t)return e;var n=0<=this.axes_.map(function(t){return!!t.valueRange}).indexOf(!0);if(null==t)return e||n;if("y"===t)return n;throw new Error("axis parameter is ["+t+"] must be null, 'x' or 'y'.")},C.prototype.toString=function(){var t=this.maindiv_;return"[Dygraph "+(t&&t.id?t.id:t)+"]"},C.prototype.attr_=function(t,e){return e?this.attributes_.getForSeries(t,e):this.attributes_.get(t)},C.prototype.getOption=function(t,e){return this.attr_(t,e)},C.prototype.getNumericOption=function(t,e){return this.getOption(t,e)},C.prototype.getStringOption=function(t,e){return this.getOption(t,e)},C.prototype.getBooleanOption=function(t,e){return this.getOption(t,e)},C.prototype.getFunctionOption=function(t,e){return this.getOption(t,e)},C.prototype.getOptionForAxis=function(t,e){return this.attributes_.getForAxis(t,e)},C.prototype.optionsViewForAxis_=function(n){var i=this;return function(t){var e=i.user_attrs_.axes;return e&&e[n]&&e[n].hasOwnProperty(t)?e[n][t]:("x"!==n||"logscale"!==t)&&(void 0!==i.user_attrs_[t]?i.user_attrs_[t]:(e=i.attrs_.axes)&&e[n]&&e[n].hasOwnProperty(t)?e[n][t]:"y"==n&&i.axes_[0].hasOwnProperty(t)?i.axes_[0][t]:"y2"==n&&i.axes_[1].hasOwnProperty(t)?i.axes_[1][t]:i.attr_(t))}},C.prototype.rollPeriod=function(){return this.rollPeriod_},C.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()},C.prototype.xAxisExtremes=function(){var t=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(0===this.numRows())return[0-t,1+t];var e=this.rawData_[0][0],n=this.rawData_[this.rawData_.length-1][0];if(t){var i=n-e;e-=i*t,n+=i*t}return[e,n]},C.prototype.yAxisExtremes=function(){var t=this.gatherDatasets_(this.rolledSeries_,null).extremes,e=this.axes_;this.computeYAxisRanges_(t);var n=this.axes_;return this.axes_=e,n.map(function(t){return t.extremeRange})},C.prototype.yAxisRange=function(t){if(void 0===t&&(t=0),t<0||t>=this.axes_.length)return null;var e=this.axes_[t];return[e.computedValueRange[0],e.computedValueRange[1]]},C.prototype.yAxisRanges=function(){for(var t=[],e=0;e<this.axes_.length;e++)t.push(this.yAxisRange(e));return t},C.prototype.toDomCoords=function(t,e,n){return[this.toDomXCoord(t),this.toDomYCoord(e,n)]},C.prototype.toDomXCoord=function(t){if(null===t)return null;var e=this.plotter_.area,n=this.xAxisRange();return e.x+(t-n[0])/(n[1]-n[0])*e.w},C.prototype.toDomYCoord=function(t,e){var n=this.toPercentYCoord(t,e);if(null===n)return null;var i=this.plotter_.area;return i.y+n*i.h},C.prototype.toDataCoords=function(t,e,n){return[this.toDataXCoord(t),this.toDataYCoord(e,n)]},C.prototype.toDataXCoord=function(t){if(null===t)return null;var e=this.plotter_.area,n=this.xAxisRange();if(this.attributes_.getForAxis("logscale","x")){var i=(t-e.x)/e.w;return B.logRangeFraction(n[0],n[1],i)}return n[0]+(t-e.x)/e.w*(n[1]-n[0])},C.prototype.toDataYCoord=function(t,e){if(null===t)return null;var n=this.plotter_.area,i=this.yAxisRange(e);if(void 0===e&&(e=0),this.attributes_.getForAxis("logscale",e)){var r=(t-n.y)/n.h;return B.logRangeFraction(i[1],i[0],r)}return i[0]+(n.y+n.h-t)/n.h*(i[1]-i[0])},C.prototype.toPercentYCoord=function(t,e){if(null===t)return null;void 0===e&&(e=0);var n,i=this.yAxisRange(e);if(this.attributes_.getForAxis("logscale",e)){var r=B.log10(i[0]),s=B.log10(i[1]);n=(s-B.log10(t))/(s-r)}else n=(i[1]-t)/(i[1]-i[0]);return n},C.prototype.toPercentXCoord=function(t){if(null===t)return null;var e,n=this.xAxisRange();if(!0===this.attributes_.getForAxis("logscale","x")){var i=B.log10(n[0]),r=B.log10(n[1]);e=(B.log10(t)-i)/(r-i)}else e=(t-n[0])/(n[1]-n[0]);return e},C.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0},C.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0},C.prototype.getValue=function(t,e){return t<0||t>this.rawData_.length?null:e<0||e>this.rawData_[t].length?null:this.rawData_[t][e]},C.prototype.createInterface_=function(){var t=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",t.appendChild(this.graphDiv),this.canvas_=B.createCanvas(),this.canvas_.style.position="absolute",this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=B.getContext(this.canvas_),this.hidden_ctx_=B.getContext(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new r.default(this);var i=this;this.mouseMoveHandler_=function(t){i.mouseMove_(t)},this.mouseOutHandler_=function(t){var e=t.target||t.fromElement,n=t.relatedTarget||t.toElement;B.isNodeContainedBy(e,i.graphDiv)&&!B.isNodeContainedBy(n,i.graphDiv)&&i.mouseOut_(t)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeHandler_||(this.resizeHandler_=function(t){i.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_))},C.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var t=this.getNumericOption("pixelRatio"),e=t||B.getContextPixelRatio(this.canvas_ctx_);this.canvas_.width=this.width_*e,this.canvas_.height=this.height_*e,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",1!==e&&this.canvas_ctx_.scale(e,e);var n=t||B.getContextPixelRatio(this.hidden_ctx_);this.hidden_.width=this.width_*n,this.hidden_.height=this.height_*n,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",1!==n&&this.hidden_ctx_.scale(n,n)},C.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var t=this.plugins_.length-1;0<=t;t--){var e=this.plugins_.pop();e.plugin.destroy&&e.plugin.destroy()}this.removeTrackedEvents_(),B.removeEvent(window,"mouseout",this.mouseOutHandler_),B.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),B.removeEvent(window,"resize",this.resizeHandler_),this.resizeHandler_=null,function t(e){for(;e.hasChildNodes();)t(e.firstChild),e.removeChild(e.firstChild)}(this.maindiv_);var n=function(t){for(var e in t)"object"==typeof t[e]&&(t[e]=null)};n(this.layout_),n(this.plotter_),n(this)},C.prototype.createPlotKitCanvas_=function(t){var e=B.createCanvas();return e.style.position="absolute",e.style.top=t.style.top,e.style.left=t.style.left,e.width=this.width_,e.height=this.height_,e.style.width=this.width_+"px",e.style.height=this.height_+"px",e},C.prototype.createMouseEventElement_=function(){return this.canvas_},C.prototype.setColors_=function(){var t=this.getLabels(),e=t.length-1;this.colors_=[],this.colorsMap_={};for(var n=this.getNumericOption("colorSaturation")||1,i=this.getNumericOption("colorValue")||.5,r=Math.ceil(e/2),s=this.getOption("colors"),o=this.visibility(),a=0;a<e;a++)if(o[a]){var l=t[a+1],c=this.attributes_.getForSeries("color",l);if(!c)if(s)c=s[a%s.length];else{var h=1*(a%2?r+(a+1)/2:Math.ceil((a+1)/2))/(1+e);c=B.hsvToRGB(h,n,i)}this.colors_.push(c),this.colorsMap_[l]=c}},C.prototype.getColors=function(){return this.colors_},C.prototype.getPropertiesForSeries=function(t){for(var e=-1,n=this.getLabels(),i=1;i<n.length;i++)if(n[i]==t){e=i;break}return-1==e?null:{name:t,column:e,visible:this.visibility()[e-1],color:this.colorsMap_[t],axis:1+this.attributes_.axisForSeries(t)}},C.prototype.createRollInterface_=function(){var t=this,e=this.roller_;e||(this.roller_=e=document.createElement("input"),e.type="text",e.style.display="none",e.className="dygraph-roller",this.graphDiv.appendChild(e));var n=this.getBooleanOption("showRoller")?"block":"none",i=this.getArea(),r={top:i.y+i.h-25+"px",left:i.x+1+"px",display:n};e.size="2",e.value=this.rollPeriod_,B.update(e.style,r),e.onchange=function(){return t.adjustRoll(e.value)}},C.prototype.createDragInterface_=function(){var n={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new o.default,initializeMouseDown:function(t,e,n){t.preventDefault?t.preventDefault():(t.returnValue=!1,t.cancelBubble=!0);var i=B.findPos(e.canvas_);n.px=i.x,n.py=i.y,n.dragStartX=B.dragGetX_(t,n),n.dragStartY=B.dragGetY_(t,n),n.cancelNextDblclick=!1,n.tarp.cover()},destroy:function(){var t=this;if((t.isZooming||t.isPanning)&&(t.isZooming=!1,t.dragStartX=null,t.dragStartY=null),t.isPanning){t.isPanning=!1,t.draggingDate=null,t.dateRange=null;for(var e=0;e<i.axes_.length;e++)delete i.axes_[e].draggingValue,delete i.axes_[e].dragValueRange}t.tarp.uncover()}},t=this.getOption("interactionModel"),i=this;for(var e in t)t.hasOwnProperty(e)&&this.addAndTrackEvent(this.mouseEventElement_,e,function(e){return function(t){e(t,i,n)}}(t[e]));if(!t.willDestroyContextMyself){this.addAndTrackEvent(document,"mouseup",function(t){n.destroy()})}},C.prototype.drawZoomRect_=function(t,e,n,i,r,s,o,a){var l=this.canvas_ctx_;s==B.HORIZONTAL?l.clearRect(Math.min(e,o),this.layout_.getPlotArea().y,Math.abs(e-o),this.layout_.getPlotArea().h):s==B.VERTICAL&&l.clearRect(this.layout_.getPlotArea().x,Math.min(i,a),this.layout_.getPlotArea().w,Math.abs(i-a)),t==B.HORIZONTAL?n&&e&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(Math.min(e,n),this.layout_.getPlotArea().y,Math.abs(n-e),this.layout_.getPlotArea().h)):t==B.VERTICAL&&r&&i&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(this.layout_.getPlotArea().x,Math.min(i,r),this.layout_.getPlotArea().w,Math.abs(r-i)))},C.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)},C.prototype.doZoomX_=function(t,e){this.currentZoomRectArgs_=null;var n=this.toDataXCoord(t),i=this.toDataXCoord(e);this.doZoomXDates_(n,i)},C.prototype.doZoomXDates_=function(t,e){var n=this,i=this.xAxisRange(),r=[t,e],s=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(i,r,null,null,function(){s&&s.call(n,t,e,n.yAxisRanges())})},C.prototype.doZoomY_=function(t,e){var r=this;this.currentZoomRectArgs_=null;for(var n=this.yAxisRanges(),i=[],s=0;s<this.axes_.length;s++){var o=this.toDataYCoord(t,s),a=this.toDataYCoord(e,s);i.push([a,o])}var l=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(null,null,n,i,function(){if(l){var t=r.xAxisRange(),e=p(t,2),n=e[0],i=e[1];l.call(r,n,i,r.yAxisRanges())}})},C.zoomAnimationFunction=function(t,e){return(1-Math.pow(1.5,-t))/(1-Math.pow(1.5,-e))},C.prototype.resetZoom=function(){var t=this,e=this.isZoomed("x"),n=this.isZoomed("y"),i=e||n;if(this.clearSelection(),i){var r=this.xAxisExtremes(),s=p(r,2),o=s[0],a=s[1],l=this.getBooleanOption("animatedZooms"),c=this.getFunctionOption("zoomCallback");if(!l)return this.dateWindow_=null,this.axes_.forEach(function(t){t.valueRange&&delete t.valueRange}),this.drawGraph_(),void(c&&c.call(this,o,a,this.yAxisRanges()));var h=null,u=null,d=null,f=null;e&&(h=this.xAxisRange(),u=[o,a]),n&&(d=this.yAxisRanges(),f=this.yAxisExtremes()),this.doAnimatedZoom(h,u,d,f,function(){t.dateWindow_=null,t.axes_.forEach(function(t){t.valueRange&&delete t.valueRange}),c&&c.call(t,o,a,t.yAxisRanges())})}},C.prototype.doAnimatedZoom=function(t,e,n,i,r){var s,o,a=this,l=this.getBooleanOption("animatedZooms")?C.ANIMATION_STEPS:1,c=[],h=[];if(null!==t&&null!==e)for(s=1;s<=l;s++)o=C.zoomAnimationFunction(s,l),c[s-1]=[t[0]*(1-o)+o*e[0],t[1]*(1-o)+o*e[1]];if(null!==n&&null!==i)for(s=1;s<=l;s++){o=C.zoomAnimationFunction(s,l);for(var u=[],d=0;d<this.axes_.length;d++)u.push([n[d][0]*(1-o)+o*i[d][0],n[d][1]*(1-o)+o*i[d][1]]);h[s-1]=u}B.repeatAndCleanup(function(t){if(h.length)for(var e=0;e<a.axes_.length;e++){var n=h[t][e];a.axes_[e].valueRange=[n[0],n[1]]}c.length&&(a.dateWindow_=c[t]),a.drawGraph_()},l,C.ANIMATION_DURATION/l,r)},C.prototype.getArea=function(){return this.plotter_.area},C.prototype.eventToDomCoords=function(t){if(t.offsetX&&t.offsetY)return[t.offsetX,t.offsetY];var e=B.findPos(this.mouseEventElement_);return[B.pageX(t)-e.x,B.pageY(t)-e.y]},C.prototype.findClosestRow=function(t){for(var e=1/0,n=-1,i=this.layout_.points,r=0;r<i.length;r++)for(var s=i[r],o=s.length,a=0;a<o;a++){var l=s[a];if(B.isValidPoint(l,!0)){var c=Math.abs(l.canvasx-t);c<e&&(e=c,n=l.idx)}}return n},C.prototype.findClosestPoint=function(t,e){for(var n,i,r,s,o,a,l,c=1/0,h=this.layout_.points.length-1;0<=h;--h)for(var u=this.layout_.points[h],d=0;d<u.length;++d)s=u[d],B.isValidPoint(s)&&((n=(i=s.canvasx-t)*i+(r=s.canvasy-e)*r)<c&&(c=n,a=h,l=(o=s).idx));return{row:l,seriesName:this.layout_.setNames[a],point:o}},C.prototype.findStackedPoint=function(t,e){for(var n,i,r=this.findClosestRow(t),s=0;s<this.layout_.points.length;++s){var o=r-this.getLeftBoundary_(s),a=this.layout_.points[s];if(!(o>=a.length)){var l=a[o];if(B.isValidPoint(l)){var c=l.canvasy;if(t>l.canvasx&&o+1<a.length){var h=a[o+1];if(B.isValidPoint(h))if(0<(u=h.canvasx-l.canvasx))c+=(t-l.canvasx)/u*(h.canvasy-l.canvasy)}else if(t<l.canvasx&&0<o){var u,d=a[o-1];if(B.isValidPoint(d))if(0<(u=l.canvasx-d.canvasx))c+=(l.canvasx-t)/u*(d.canvasy-l.canvasy)}(0===s||c<e)&&(n=l,i=s)}}}return{row:r,seriesName:this.layout_.setNames[i],point:n}},C.prototype.mouseMove_=function(t){var e=this.layout_.points;if(null!=e){var n=this.eventToDomCoords(t),i=n[0],r=n[1],s=!1;if(this.getOption("highlightSeriesOpts")&&!this.isSeriesLocked()){var o;o=this.getBooleanOption("stackedGraph")?this.findStackedPoint(i,r):this.findClosestPoint(i,r),s=this.setSelection(o.row,o.seriesName)}else{var a=this.findClosestRow(i);s=this.setSelection(a)}var l=this.getFunctionOption("highlightCallback");l&&s&&l.call(this,t,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}},C.prototype.getLeftBoundary_=function(t){if(this.boundaryIds_[t])return this.boundaryIds_[t][0];for(var e=0;e<this.boundaryIds_.length;e++)if(void 0!==this.boundaryIds_[e])return this.boundaryIds_[e][0];return 0},C.prototype.animateSelection_=function(e){void 0===this.fadeLevel&&(this.fadeLevel=0),void 0===this.animateId&&(this.animateId=0);var t=this.fadeLevel,n=e<0?t:10-t;if(n<=0)this.fadeLevel&&this.updateSelection_(1);else{var i=++this.animateId,r=this;B.repeatAndCleanup(function(t){r.animateId==i&&(r.fadeLevel+=e,0===r.fadeLevel?r.clearSelection():r.updateSelection_(r.fadeLevel/10))},n,30,function(){0!==r.fadeLevel&&e<0&&(r.fadeLevel=0,r.clearSelection())})}},C.prototype.updateSelection_=function(t){this.cascadeEvents_("select",{selectedRow:-1===this.lastRow_?void 0:this.lastRow_,selectedX:-1===this.lastx_?void 0:this.lastx_,selectedPoints:this.selPoints_});var e,n=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){n.clearRect(0,0,this.width_,this.height_);var i=1-this.getNumericOption("highlightSeriesBackgroundAlpha"),r=B.toRGB_(this.getOption("highlightSeriesBackgroundColor"));if(i){if(void 0===t)return void this.animateSelection_(1);i*=t,n.fillStyle="rgba("+r.r+","+r.g+","+r.b+","+i+")",n.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,n)}else if(0<=this.previousVerticalX_){var s=0,o=this.attr_("labels");for(e=1;e<o.length;e++){var a=this.getNumericOption("highlightCircleSize",o[e]);s<a&&(s=a)}var l=this.previousVerticalX_;n.clearRect(l-s-1,0,2*s+2,this.height_)}if(0<this.selPoints_.length){var c=this.selPoints_[0].canvasx;for(n.save(),e=0;e<this.selPoints_.length;e++){var h=this.selPoints_[e];if(!isNaN(h.canvasy)){var u=this.getNumericOption("highlightCircleSize",h.name),d=this.getFunctionOption("drawHighlightPointCallback",h.name),f=this.plotter_.colors[h.name];d||(d=B.Circles.DEFAULT),n.lineWidth=this.getNumericOption("strokeWidth",h.name),n.strokeStyle=f,n.fillStyle=f,d.call(this,this,h.name,n,c,h.canvasy,f,u,h.idx)}}n.restore(),this.previousVerticalX_=c}},C.prototype.setSelection=function(t,e,n){var i=!(this.selPoints_=[]);if(!1!==t&&0<=t){t!=this.lastRow_&&(i=!0),this.lastRow_=t;for(var r=0;r<this.layout_.points.length;++r){var s=this.layout_.points[r],o=t-this.getLeftBoundary_(r);if(0<=o&&o<s.length&&s[o].idx==t)null!==(l=s[o]).yval&&this.selPoints_.push(l);else for(var a=0;a<s.length;++a){var l;if((l=s[a]).idx==t){null!==l.yval&&this.selPoints_.push(l);break}}}}else 0<=this.lastRow_&&(i=!0),this.lastRow_=-1;return this.selPoints_.length?this.lastx_=this.selPoints_[0].xval:this.lastx_=-1,void 0!==e&&(this.highlightSet_!==e&&(i=!0),this.highlightSet_=e),void 0!==n&&(this.lockedSet_=n),i&&this.updateSelection_(void 0),i},C.prototype.mouseOut_=function(t){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,t),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()},C.prototype.clearSelection=function(){this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel?this.animateSelection_(-1):(this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=-1,this.lastRow_=-1,this.highlightSet_=null)},C.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1)return-1;for(var t=0;t<this.layout_.points.length;t++)for(var e=this.layout_.points[t],n=0;n<e.length;n++)if(e[n].x==this.selPoints_[0].x)return e[n].idx;return-1},C.prototype.getHighlightSeries=function(){return this.highlightSet_},C.prototype.isSeriesLocked=function(){return this.lockedSet_},C.prototype.loadedEvent_=function(t){this.rawData_=this.parseCSV_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_()},C.prototype.addXTicks_=function(){var t;t=this.dateWindow_?[this.dateWindow_[0],this.dateWindow_[1]]:this.xAxisExtremes();var e=this.optionsViewForAxis_("x"),n=e("ticker")(t[0],t[1],this.plotter_.area.w,e,this);this.layout_.setXTicks(n)},C.prototype.getHandlerClass_=function(){return this.attr_("dataHandler")?this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?u.default:h.default:this.getBooleanOption("customBars")?c.default:this.getBooleanOption("errorBars")?l.default:a.default},C.prototype.predraw_=function(){var t=new Date;this.dataHandler_=new(this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new s.default(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var e=1;e<this.numColumns();e++){var n=this.dataHandler_.extractSeries(this.rawData_,e,this.attributes_);1<this.rollPeriod_&&(n=this.dataHandler_.rollingAverage(n,this.rollPeriod_,this.attributes_)),this.rolledSeries_.push(n)}this.drawGraph_();var i=new Date;this.drawingTimeMs_=i-t},C.PointType=void 0,C.stackPoints_=function(n,t,e,i){for(var r=null,s=null,o=null,a=-1,l=0;l<n.length;++l){var c=n[l],h=c.xval;void 0===t[h]&&(t[h]=0);var u=c.yval;isNaN(u)||null===u?"none"==i?u=0:(function(t){if(!(l<=a))for(var e=l;e<n.length;++e)if(o=null,!isNaN(n[e].yval)&&null!==n[e].yval){o=n[a=e];break}}(),u=s&&o&&"none"!=i?s.yval+(o.yval-s.yval)*((h-s.xval)/(o.xval-s.xval)):s&&"all"==i?s.yval:o&&"all"==i?o.yval:0):s=c;var d=t[h];r!=h&&(d+=u,t[h]=d),r=h,(c.yval_stacked=d)>e[1]&&(e[1]=d),d<e[0]&&(e[0]=d)}},C.prototype.gatherDatasets_=function(t,e){var n,i,r,s,o,a,l=[],c=[],h=[],u={};for(n=t.length-1;1<=n;n--)if(this.visibility()[n-1]){if(e){a=t[n];var d=e[0],f=e[1];for(s=r=null,i=0;i<a.length;i++)a[i][0]>=d&&null===r&&(r=i),a[i][0]<=f&&(s=i);null===r&&(r=0);for(var p=r,g=!0;g&&0<p;)g=null===a[--p][1];null===s&&(s=a.length-1);var m=s;for(g=!0;g&&m<a.length-1;)g=null===a[++m][1];p!==r&&(r=p),m!==s&&(s=m),l[n-1]=[r,s],a=a.slice(r,s+1)}else a=t[n],l[n-1]=[0,a.length-1];var v=this.attr_("labels")[n],y=this.dataHandler_.getExtremeYValues(a,e,this.getBooleanOption("stepPlot",v)),b=this.dataHandler_.seriesToPoints(a,v,l[n-1][0]);this.getBooleanOption("stackedGraph")&&(void 0===h[o=this.attributes_.axisForSeries(v)]&&(h[o]=[]),C.stackPoints_(b,h[o],y,this.getBooleanOption("stackedGraphNaNFill"))),u[v]=y,c[n]=b}return{points:c,extremes:u,boundaryIds:l}},C.prototype.drawGraph_=function(){var t=new Date,e=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=.5*this.getNumericOption("highlightCircleSize");var n=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),i=n.points,r=n.extremes;this.boundaryIds_=n.boundaryIds,this.setIndexByName_={};for(var s=this.attr_("labels"),o=0,a=1;a<i.length;a++)this.visibility()[a-1]&&(this.layout_.addDataset(s[a],i[a]),this.datasetIndex_[a]=o++);for(a=0;a<s.length;a++)this.setIndexByName_[s[a]]=a;if(this.computeYAxisRanges_(r),this.layout_.setYAxes(this.axes_),this.addXTicks_(),this.layout_.evaluate(),this.renderGraph_(e),this.getStringOption("timingName")){var l=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(l-t)+"ms")}},C.prototype.renderGraph_=function(t){this.cascadeEvents_("clearChart"),this.plotter_.clear();var e=this.getFunctionOption("underlayCallback");e&&e.call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var n={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",n),this.plotter_.render(),this.cascadeEvents_("didDrawChart",n),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_);var i=this.getFunctionOption("drawCallback");if(null!==i&&i.call(this,this,t),t)for(this.readyFired_=!0;0<this.readyFns_.length;){this.readyFns_.pop()(this)}},C.prototype.computeYAxes_=function(){var t,e,n;for(this.axes_=[],t=0;t<this.attributes_.numAxes();t++)e={g:this},B.update(e,this.attributes_.axisOptions(t)),this.axes_[t]=e;for(t=0;t<this.axes_.length;t++)if(0===t)(n=(e=this.optionsViewForAxis_("y"+(t?"2":"")))("valueRange"))&&(this.axes_[t].valueRange=n);else{var i=this.user_attrs_.axes;i&&i.y2&&(n=i.y2.valueRange)&&(this.axes_[t].valueRange=n)}},C.prototype.numAxes=function(){return this.attributes_.numAxes()},C.prototype.axisPropertiesForSeries=function(t){return this.axes_[this.attributes_.axisForSeries(t)]},C.prototype.computeYAxisRanges_=function(t){for(var e,n,i,r,s,o=function(t){return isNaN(parseFloat(t))},a=this.attributes_.numAxes(),l=0;l<a;l++){var c=this.axes_[l],h=this.attributes_.getForAxis("logscale",l),u=this.attributes_.getForAxis("includeZero",l),d=this.attributes_.getForAxis("independentTicks",l);i=this.attributes_.seriesForAxis(l),e=!0,r=.1;var f=this.getNumericOption("yRangePad");if(null!==f&&(e=!1,r=f/this.plotter_.area.h),0===i.length)c.extremeRange=[0,1];else{for(var p,g,m=1/0,v=-1/0,y=0;y<i.length;y++)t.hasOwnProperty(i[y])&&(null!==(p=t[i[y]][0])&&(m=Math.min(p,m)),null!==(g=t[i[y]][1])&&(v=Math.max(g,v)));u&&!h&&(0<m&&(m=0),v<0&&(v=0)),m==1/0&&(m=0),v==-1/0&&(v=1),0===(n=v-m)&&(0!==v?n=Math.abs(v):n=v=1);var b=v,_=m;e&&(h?(b=v+r*n,_=m):((_=m-r*n)<0&&0<=m&&(_=0),0<(b=v+r*n)&&v<=0&&(b=0))),c.extremeRange=[_,b]}if(c.valueRange){var w=o(c.valueRange[0])?c.extremeRange[0]:c.valueRange[0],x=o(c.valueRange[1])?c.extremeRange[1]:c.valueRange[1];c.computedValueRange=[w,x]}else c.computedValueRange=c.extremeRange;if(!e)if(h){w=c.computedValueRange[0],x=c.computedValueRange[1];var A=r/(2*r-1),C=(r-1)/(2*r-1);c.computedValueRange[0]=B.logRangeFraction(w,x,A),c.computedValueRange[1]=B.logRangeFraction(w,x,C)}else w=c.computedValueRange[0],n=(x=c.computedValueRange[1])-w,c.computedValueRange[0]=w-n*r,c.computedValueRange[1]=x+n*r;if(d){c.independentTicks=d;var E=(k=this.optionsViewForAxis_("y"+(l?"2":"")))("ticker");c.ticks=E(c.computedValueRange[0],c.computedValueRange[1],this.plotter_.area.h,k,this),s||(s=c)}}if(void 0===s)throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.';for(l=0;l<a;l++){if(!(c=this.axes_[l]).independentTicks){E=(k=this.optionsViewForAxis_("y"+(l?"2":"")))("ticker");for(var k,S=s.ticks,F=s.computedValueRange[1]-s.computedValueRange[0],T=c.computedValueRange[1]-c.computedValueRange[0],D=[],M=0;M<S.length;M++){var P=(S[M].v-s.computedValueRange[0])/F,L=c.computedValueRange[0]+P*T;D.push(L)}c.ticks=E(c.computedValueRange[0],c.computedValueRange[1],this.plotter_.area.h,k,this,D)}}},C.prototype.detectTypeFromString_=function(t){var e=!1,n=t.indexOf("-");0<n&&"e"!=t[n-1]&&"E"!=t[n-1]||0<=t.indexOf("/")||isNaN(parseFloat(t))?e=!0:8==t.length&&"19700101"<t&&t<"20371231"&&(e=!0),this.setXAxisOptions_(e)},C.prototype.setXAxisOptions_=function(t){t?(this.attrs_.xValueParser=B.dateParser,this.attrs_.axes.x.valueFormatter=B.dateValueFormatter,this.attrs_.axes.x.ticker=b.dateTicker,this.attrs_.axes.x.axisLabelFormatter=B.dateAxisLabelFormatter):(this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=b.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)},C.prototype.parseCSV_=function(t){var e,n,i=[],r=B.detectLineDelimiter(t),s=t.split(r||"\n"),o=this.getStringOption("delimiter");-1==s[0].indexOf(o)&&0<=s[0].indexOf("\t")&&(o="\t");var a=0;"labels"in this.user_attrs_||(a=1,this.attrs_.labels=s[0].split(o),this.attributes_.reparseSeries());for(var l,c=!1,h=this.attr_("labels").length,u=!1,d=a;d<s.length;d++){var f=s[d];if(0!==f.length&&"#"!=f[0]){var p=f.split(o);if(!(p.length<2)){var g=[];if(c||(this.detectTypeFromString_(p[0]),l=this.getFunctionOption("xValueParser"),c=!0),g[0]=l(p[0],this),this.fractions_)for(n=1;n<p.length;n++)2!=(e=p[n].split("/")).length?(console.error('Expected fractional "num/den" values in CSV data but found a value \''+p[n]+"' on line "+(1+d)+" ('"+f+"') which is not of this form."),g[n]=[0,0]):g[n]=[B.parseFloat_(e[0],d,f),B.parseFloat_(e[1],d,f)];else if(this.getBooleanOption("errorBars"))for(p.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+d)+" has an odd number of values ("+(p.length-1)+"): '"+f+"'"),n=1;n<p.length;n+=2)g[(n+1)/2]=[B.parseFloat_(p[n],d,f),B.parseFloat_(p[n+1],d,f)];else if(this.getBooleanOption("customBars"))for(n=1;n<p.length;n++){var m=p[n];/^ *$/.test(m)?g[n]=[null,null,null]:3==(e=m.split(";")).length?g[n]=[B.parseFloat_(e[0],d,f),B.parseFloat_(e[1],d,f),B.parseFloat_(e[2],d,f)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+m+'" on line '+(1+d))}else for(n=1;n<p.length;n++)g[n]=B.parseFloat_(p[n],d,f);if(0<i.length&&g[0]<i[i.length-1][0]&&(u=!0),g.length!=h&&console.error("Number of columns in line "+d+" ("+g.length+") does not agree with number of labels ("+h+") "+f),0===d&&this.attr_("labels")){var v=!0;for(n=0;v&&n<g.length;n++)g[n]&&(v=!1);if(v){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+f+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}i.push(g)}}}return u&&(console.warn("CSV is out of order; order it correctly to speed loading."),i.sort(function(t,e){return t[0]-e[0]})),i},C.prototype.parseArray_=function(t){if(0===t.length)return console.error("Can't plot empty data set"),null;if(0===t[0].length)return console.error("Data set cannot contain an empty row"),null;var e;if(function(t){var e=t[0],n=e[0];if("number"!=typeof n&&!B.isDateLike(n))throw new Error("Expected number or date but got "+typeof n+": "+n+".");for(var i=1;i<e.length;i++){var r=e[i];if(null!=r&&"number"!=typeof r&&!B.isArrayLike(r))throw new Error("Expected number or array but got "+typeof r+": "+r+".")}}(t),null===this.attr_("labels")){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],e=1;e<t[0].length;e++)this.attrs_.labels.push("Y"+e);this.attributes_.reparseSeries()}else{var n=this.attr_("labels");if(n.length!=t[0].length)return console.error("Mismatch between number of labels ("+n+") and number of columns in array ("+t[0].length+")"),null}if(B.isDateLike(t[0][0])){this.attrs_.axes.x.valueFormatter=B.dateValueFormatter,this.attrs_.axes.x.ticker=b.dateTicker,this.attrs_.axes.x.axisLabelFormatter=B.dateAxisLabelFormatter;var i=B.clone(t);for(e=0;e<t.length;e++){if(0===i[e].length)return console.error("Row "+(1+e)+" of data is empty"),null;if(null===i[e][0]||"function"!=typeof i[e][0].getTime||isNaN(i[e][0].getTime()))return console.error("x value in row "+(1+e)+" is not a Date"),null;i[e][0]=i[e][0].getTime()}return i}return this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=b.numericTicks,this.attrs_.axes.x.axisLabelFormatter=B.numberAxisLabelFormatter,t},C.prototype.parseDataTable_=function(t){var e=t.getNumberOfColumns(),n=t.getNumberOfRows(),i=t.getColumnType(0);if("date"==i||"datetime"==i)this.attrs_.xValueParser=B.dateParser,this.attrs_.axes.x.valueFormatter=B.dateValueFormatter,this.attrs_.axes.x.ticker=b.dateTicker,this.attrs_.axes.x.axisLabelFormatter=B.dateAxisLabelFormatter;else{if("number"!=i)throw new Error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+i+"')");this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=b.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}var r,s,o=[],a={},l=!1;for(r=1;r<e;r++){var c=t.getColumnType(r);if("number"==c)o.push(r);else{if("string"!=c||!this.getBooleanOption("displayAnnotations"))throw new Error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true");var h=o[o.length-1];a.hasOwnProperty(h)?a[h].push(r):a[h]=[r],l=!0}}var u=[t.getColumnLabel(0)];for(r=0;r<o.length;r++)u.push(t.getColumnLabel(o[r])),this.getBooleanOption("errorBars")&&(r+=1);e=(this.attrs_.labels=u).length;var d=[],f=!1,p=[];for(r=0;r<n;r++){var g=[];if(void 0!==t.getValue(r,0)&&null!==t.getValue(r,0)){if("date"==i||"datetime"==i?g.push(t.getValue(r,0).getTime()):g.push(t.getValue(r,0)),this.getBooleanOption("errorBars"))for(s=0;s<e-1;s++)g.push([t.getValue(r,1+2*s),t.getValue(r,2+2*s)]);else{for(s=0;s<o.length;s++){var m=o[s];if(g.push(t.getValue(r,m)),l&&a.hasOwnProperty(m)&&null!==t.getValue(r,a[m][0])){var v={};v.series=t.getColumnLabel(m),v.xval=g[0],v.shortText=function(t){var e=String.fromCharCode(65+t%26);for(t=Math.floor(t/26);0<t;)e=String.fromCharCode(65+(t-1)%26)+e.toLowerCase(),t=Math.floor((t-1)/26);return e}(p.length),v.text="";for(var y=0;y<a[m].length;y++)y&&(v.text+="\n"),v.text+=t.getValue(r,a[m][y]);p.push(v)}}for(s=0;s<g.length;s++)isFinite(g[s])||(g[s]=null)}0<d.length&&g[0]<d[d.length-1][0]&&(f=!0),d.push(g)}else console.warn("Ignoring row "+r+" of DataTable because of undefined or null first column.")}f&&(console.warn("DataTable is out of order; order it correctly to speed loading."),d.sort(function(t,e){return t[0]-e[0]})),this.rawData_=d,0<p.length&&this.setAnnotations(p,!0),this.attributes_.reparseSeries()},C.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})},C.prototype.start_=function(){var t=this.file_;if("function"==typeof t&&(t=t()),B.isArrayLike(t))this.rawData_=this.parseArray_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("object"==typeof t&&"function"==typeof t.getColumnRange)this.parseDataTable_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("string"==typeof t){if(B.detectLineDelimiter(t))this.loadedEvent_(t);else{var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var n=this;e.onreadystatechange=function(){4==e.readyState&&(200!==e.status&&0!==e.status||n.loadedEvent_(e.responseText))},e.open("GET",t,!0),e.send(null)}}else console.error("Unknown data format: "+typeof t)},C.prototype.updateOptions=function(t,e){void 0===e&&(e=!1);var n=t.file,i=C.copyUserAttrs_(t);"rollPeriod"in i&&(this.rollPeriod_=i.rollPeriod),"dateWindow"in i&&(this.dateWindow_=i.dateWindow);var r=B.isPixelChangingOptionList(this.attr_("labels"),i);B.updateDeep(this.user_attrs_,i),this.attributes_.reparseSeries(),n?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=n,e||this.start_()):e||(r?this.predraw_():this.renderGraph_(!1))},C.copyUserAttrs_=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&"file"!=n&&t.hasOwnProperty(n)&&(e[n]=t[n]);return e},C.prototype.resize=function(t,e){if(!this.resize_lock){this.resize_lock=!0,null===t!=(null===e)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),t=e=null);var n=this.width_,i=this.height_;t?(this.maindiv_.style.width=t+"px",this.maindiv_.style.height=e+"px",this.width_=t,this.height_=e):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight),n==this.width_&&i==this.height_||(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}},C.prototype.adjustRoll=function(t){this.rollPeriod_=t,this.predraw_()},C.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.getOption("visibility")},C.prototype.setVisibility=function(t,e){var n=this.visibility(),i=!1;if(Array.isArray(t)||(null!==t&&"object"==typeof t?i=!0:t=[t]),i)for(var r in t)t.hasOwnProperty(r)&&(r<0||r>=n.length?console.warn("Invalid series number in setVisibility: "+r):n[r]=t[r]);else for(r=0;r<t.length;r++)"boolean"==typeof t[r]?r>=n.length?console.warn("Invalid series number in setVisibility: "+r):n[r]=t[r]:t[r]<0||t[r]>=n.length?console.warn("Invalid series number in setVisibility: "+t[r]):n[t[r]]=e;this.predraw_()},C.prototype.size=function(){return{width:this.width_,height:this.height_}},C.prototype.setAnnotations=function(t,e){this.annotations_=t,this.layout_?(this.layout_.setAnnotations(this.annotations_),e||this.predraw_()):console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html")},C.prototype.annotations=function(){return this.annotations_},C.prototype.getLabels=function(){var t=this.attr_("labels");return t?t.slice():null},C.prototype.indexFromSetName=function(t){return this.setIndexByName_[t]},C.prototype.getRowForX=function(t){for(var e=0,n=this.numRows()-1;e<=n;){var i=n+e>>1,r=this.getValue(i,0);if(r<t)e=i+1;else if(t<r)n=i-1;else{if(e==i)return i;n=i}}return null},C.prototype.ready=function(t){this.is_initial_draw_?this.readyFns_.push(t):t.call(this,this)},C.prototype.addAndTrackEvent=function(t,e,n){B.addEvent(t,e,n),this.registeredEvents_.push({elem:t,type:e,fn:n})},C.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_)for(var t=0;t<this.registeredEvents_.length;t++){var e=this.registeredEvents_[t];B.removeEvent(e.elem,e.type,e.fn)}this.registeredEvents_=[]},C.PLUGINS=[w.default,v.default,x.default,y.default,m.default,_.default],C.GVizChart=A.default,C.DASHED_LINE=B.DASHED_LINE,C.DOT_DASH_LINE=B.DOT_DASH_LINE,C.dateAxisLabelFormatter=B.dateAxisLabelFormatter,C.toRGB_=B.toRGB_,C.findPos=B.findPos,C.pageX=B.pageX,C.pageY=B.pageY,C.dateString_=B.dateString_,C.defaultInteractionModel=i.default.defaultModel,C.nonInteractiveModel=C.nonInteractiveModel_=i.default.nonInteractiveModel_,C.Circles=B.Circles,C.Plugins={Legend:w.default,Axes:v.default,Annotations:m.default,ChartLabels:y.default,Grid:_.default,RangeSelector:x.default},C.DataHandlers={DefaultHandler:a.default,BarsHandler:d.default,CustomBarsHandler:c.default,DefaultFractionHandler:h.default,ErrorBarsHandler:l.default,FractionsBarsHandler:u.default},C.startPan=i.default.startPan,C.startZoom=i.default.startZoom,C.movePan=i.default.movePan,C.moveZoom=i.default.moveZoom,C.endPan=i.default.endPan,C.endZoom=i.default.endZoom,C.numericLinearTicks=b.numericLinearTicks,C.numericTicks=b.numericTicks,C.dateTicker=b.dateTicker,C.Granularity=b.Granularity,C.getDateAxis=b.getDateAxis,C.floatFormat=B.floatFormat,S.default=C,k.exports=S.default}).call(this,E("_process"))},{"./datahandler/bars":5,"./datahandler/bars-custom":2,"./datahandler/bars-error":3,"./datahandler/bars-fractions":4,"./datahandler/default":8,"./datahandler/default-fractions":7,"./dygraph-canvas":9,"./dygraph-default-attrs":10,"./dygraph-gviz":11,"./dygraph-interaction-model":12,"./dygraph-layout":13,"./dygraph-options":15,"./dygraph-options-reference":14,"./dygraph-tickers":16,"./dygraph-utils":17,"./iframe-tarp":19,"./plugins/annotations":20,"./plugins/axes":21,"./plugins/chart-labels":22,"./plugins/grid":23,"./plugins/legend":24,"./plugins/range-selector":25,_process:1}],19:[function(t,e,n){"use strict";function i(){this.tarps=[]}Object.defineProperty(n,"__esModule",{value:!0});var c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./dygraph-utils"));i.prototype.cover=function(){for(var t=document.getElementsByTagName("iframe"),e=0;e<t.length;e++){var n=t[e],i=c.findPos(n),r=i.x,s=i.y,o=n.offsetWidth,a=n.offsetHeight,l=document.createElement("div");l.style.position="absolute",l.style.left=r+"px",l.style.top=s+"px",l.style.width=o+"px",l.style.height=a+"px",l.style.zIndex=999,document.body.appendChild(l),this.tarps.push(l)}},i.prototype.uncover=function(){for(var t=0;t<this.tarps.length;t++)this.tarps[t].parentNode.removeChild(this.tarps[t]);this.tarps=[]},n.default=i,e.exports=n.default},{"./dygraph-utils":17}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){this.annotations_=[]};i.prototype.toString=function(){return"Annotations Plugin"},i.prototype.activate=function(t){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}},i.prototype.detachLabels=function(){for(var t=0;t<this.annotations_.length;t++){var e=this.annotations_[t];e.parentNode&&e.parentNode.removeChild(e),this.annotations_[t]=null}this.annotations_=[]},i.prototype.clearChart=function(t){this.detachLabels()},i.prototype.didDrawChart=function(t){var s=t.dygraph,e=s.layout_.annotated_points;if(e&&0!==e.length)for(var n=t.canvas.parentNode,i=function(n,i,r){return function(t){var e=r.annotation;e.hasOwnProperty(n)?e[n](e,r,s,t):s.getOption(i)&&s.getOption(i)(e,r,s,t)}},r=t.dygraph.getArea(),o={},a=0;a<e.length;a++){var l=e[a];if(!(l.canvasx<r.x||l.canvasx>r.x+r.w||l.canvasy<r.y||l.canvasy>r.y+r.h)){var c=l.annotation,h=6;c.hasOwnProperty("tickHeight")&&(h=c.tickHeight);var u=document.createElement("div");u.style.fontSize=s.getOption("axisLabelFontSize")+"px";var d="dygraph-annotation";c.hasOwnProperty("icon")||(d+=" dygraphDefaultAnnotation dygraph-default-annotation"),c.hasOwnProperty("cssClass")&&(d+=" "+c.cssClass),u.className=d;var f=c.hasOwnProperty("width")?c.width:16,p=c.hasOwnProperty("height")?c.height:16;if(c.hasOwnProperty("icon")){var g=document.createElement("img");g.src=c.icon,g.width=f,g.height=p,u.appendChild(g)}else l.annotation.hasOwnProperty("shortText")&&u.appendChild(document.createTextNode(l.annotation.shortText));var m=l.canvasx-f/2;u.style.left=m+"px";var v=0;if(c.attachAtBottom){var y=r.y+r.h-p-h;o[m]?y-=o[m]:o[m]=0,o[m]+=h+p,v=y}else v=l.canvasy-p-h;u.style.top=v+"px",u.style.width=f+"px",u.style.height=p+"px",u.title=l.annotation.text,u.style.color=s.colorsMap_[l.name],u.style.borderColor=s.colorsMap_[l.name],c.div=u,s.addAndTrackEvent(u,"click",i("clickHandler","annotationClickHandler",l)),s.addAndTrackEvent(u,"mouseover",i("mouseOverHandler","annotationMouseOverHandler",l)),s.addAndTrackEvent(u,"mouseout",i("mouseOutHandler","annotationMouseOutHandler",l)),s.addAndTrackEvent(u,"dblclick",i("dblClickHandler","annotationDblClickHandler",l)),n.appendChild(u),this.annotations_.push(u);var b=t.drawingContext;if(b.save(),b.strokeStyle=c.hasOwnProperty("tickColor")?c.tickColor:s.colorsMap_[l.name],b.lineWidth=c.hasOwnProperty("tickWidth")?c.tickWidth:s.getOption("strokeWidth"),b.beginPath(),c.attachAtBottom){y=v+p;b.moveTo(l.canvasx,y),b.lineTo(l.canvasx,y+h)}else b.moveTo(l.canvasx,l.canvasy),b.lineTo(l.canvasx,l.canvasy-2-h);b.closePath(),b.stroke(),b.restore()}}},i.prototype.destroy=function(){this.detachLabels()},n.default=i,e.exports=n.default},{}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var k=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../dygraph-utils")),i=function(){this.xlabels_=[],this.ylabels_=[]};i.prototype.toString=function(){return"Axes Plugin"},i.prototype.activate=function(t){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}},i.prototype.layout=function(t){var e,n=t.dygraph;if(n.getOptionForAxis("drawAxis","y")){var i=n.getOptionForAxis("axisLabelWidth","y")+2*n.getOptionForAxis("axisTickSize","y");t.reserveSpaceLeft(i)}n.getOptionForAxis("drawAxis","x")&&(e=n.getOption("xAxisHeight")?n.getOption("xAxisHeight"):n.getOptionForAxis("axisLabelFontSize","x")+2*n.getOptionForAxis("axisTickSize","x"),t.reserveSpaceBottom(e));if(2==n.numAxes()){if(n.getOptionForAxis("drawAxis","y2")){i=n.getOptionForAxis("axisLabelWidth","y2")+2*n.getOptionForAxis("axisTickSize","y2");t.reserveSpaceRight(i)}}else 2<n.numAxes()&&n.error("Only two y-axes are supported at this time. (Trying to use "+n.numAxes()+")")},i.prototype.detachLabels=function(){function t(t){for(var e=0;e<t.length;e++){var n=t[e];n.parentNode&&n.parentNode.removeChild(n)}}t(this.xlabels_),t(this.ylabels_),this.xlabels_=[],this.ylabels_=[]},i.prototype.clearChart=function(t){this.detachLabels()},i.prototype.willDrawChart=function(t){function e(t){return Math.round(t)+.5}function n(t){return Math.round(t)-.5}var s=this,i=t.dygraph;if(i.getOptionForAxis("drawAxis","x")||i.getOptionForAxis("drawAxis","y")||i.getOptionForAxis("drawAxis","y2")){var o,a,l,r=t.drawingContext,c=t.canvas.parentNode,h=i.width_,u=i.height_,d=function(t){return{position:"absolute",fontSize:i.getOptionForAxis("axisLabelFontSize",t)+"px",width:i.getOptionForAxis("axisLabelWidth",t)+"px"}},f={x:d("x"),y:d("y"),y2:d("y2")},p=function(t,e,n){var i=document.createElement("div"),r=f["y2"==n?"y2":e];k.update(i.style,r);var s=document.createElement("div");return s.className="dygraph-axis-label dygraph-axis-label-"+e+(n?" dygraph-axis-label-"+n:""),s.innerHTML=t,i.appendChild(s),i};r.save();var g=i.layout_,m=t.dygraph.plotter_.area,v=function(e){return function(t){return i.getOptionForAxis(t,e)}};if(i.getOptionForAxis("drawAxis","y")){if(g.yticks&&0<g.yticks.length){var y=i.numAxes(),b=[v("y"),v("y2")];g.yticks.forEach(function(t){if(void 0!==t.label){a=m.x;var e="y1",n=b[0];1==t.axis&&(a=m.x+m.w,e="y2",n=b[1]);var i=n("axisLabelFontSize");l=m.y+t.pos*m.h,o=p(t.label,"y",2==y?e:null);var r=l-i/2;r<0&&(r=0),u<r+i+3?o.style.bottom="0":o.style.top=r+"px",0===t.axis?(o.style.left=m.x-n("axisLabelWidth")-n("axisTickSize")+"px",o.style.textAlign="right"):1==t.axis&&(o.style.left=m.x+m.w+n("axisTickSize")+"px",o.style.textAlign="left"),o.style.width=n("axisLabelWidth")+"px",c.appendChild(o),s.ylabels_.push(o)}});var _=this.ylabels_[0],w=i.getOptionForAxis("axisLabelFontSize","y");parseInt(_.style.top,10)+w>u-w&&(_.style.top=parseInt(_.style.top,10)-w/2+"px")}var x;if(i.getOption("drawAxesAtZero"))(1<(E=i.toPercentXCoord(0))||E<0||isNaN(E))&&(E=0),x=e(m.x+E*m.w);else x=e(m.x);r.strokeStyle=i.getOptionForAxis("axisLineColor","y"),r.lineWidth=i.getOptionForAxis("axisLineWidth","y"),r.beginPath(),r.moveTo(x,n(m.y)),r.lineTo(x,n(m.y+m.h)),r.closePath(),r.stroke(),2==i.numAxes()&&(r.strokeStyle=i.getOptionForAxis("axisLineColor","y2"),r.lineWidth=i.getOptionForAxis("axisLineWidth","y2"),r.beginPath(),r.moveTo(n(m.x+m.w),n(m.y)),r.lineTo(n(m.x+m.w),n(m.y+m.h)),r.closePath(),r.stroke())}if(i.getOptionForAxis("drawAxis","x")){if(g.xticks){var A=v("x");g.xticks.forEach(function(t){if(void 0!==t.label){a=m.x+t.pos*m.w,l=m.y+m.h,(o=p(t.label,"x")).style.textAlign="center",o.style.top=l+A("axisTickSize")+"px";var e=a-A("axisLabelWidth")/2;e+A("axisLabelWidth")>h&&(e=h-A("axisLabelWidth"),o.style.textAlign="right"),e<0&&(e=0,o.style.textAlign="left"),o.style.left=e+"px",o.style.width=A("axisLabelWidth")+"px",c.appendChild(o),s.xlabels_.push(o)}})}var C,E;if(r.strokeStyle=i.getOptionForAxis("axisLineColor","x"),r.lineWidth=i.getOptionForAxis("axisLineWidth","x"),r.beginPath(),i.getOption("drawAxesAtZero"))(1<(E=i.toPercentYCoord(0,0))||E<0)&&(E=1),C=n(m.y+E*m.h);else C=n(m.y+m.h);r.moveTo(e(m.x),C),r.lineTo(e(m.x+m.w),C),r.closePath(),r.stroke()}r.restore()}},n.default=i,e.exports=n.default},{"../dygraph-utils":17}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};i.prototype.toString=function(){return"ChartLabels Plugin"},i.prototype.activate=function(t){return{layout:this.layout,didDrawChart:this.didDrawChart}};var l=function(t){var e=document.createElement("div");return e.style.position="absolute",e.style.left=t.x+"px",e.style.top=t.y+"px",e.style.width=t.w+"px",e.style.height=t.h+"px",e};i.prototype.detachLabels_=function(){for(var t=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var c=function(t,e,n,i,r){var s=document.createElement("div");s.style.position="absolute",s.style.left=1==n?"0px":e.x+"px",s.style.top=e.y+"px",s.style.width=e.w+"px",s.style.height=e.h+"px",s.style.fontSize=t.getOption("yLabelWidth")-2+"px";var o=document.createElement("div");o.style.position="absolute",o.style.width=e.h+"px",o.style.height=e.w+"px",o.style.top=e.h/2-e.w/2+"px",o.style.left=e.w/2-e.h/2+"px",o.className="dygraph-label-rotate-"+(1==n?"right":"left");var a=document.createElement("div");return a.className=i,a.innerHTML=r,o.appendChild(a),s.appendChild(o),s};i.prototype.layout=function(t){this.detachLabels_();var e=t.dygraph,n=t.chart_div;if(e.getOption("title")){var i=t.reserveSpaceTop(e.getOption("titleHeight"));this.title_div_=l(i),this.title_div_.style.fontSize=e.getOption("titleHeight")-8+"px",(r=document.createElement("div")).className="dygraph-label dygraph-title",r.innerHTML=e.getOption("title"),this.title_div_.appendChild(r),n.appendChild(this.title_div_)}if(e.getOption("xlabel")){var r,s=t.reserveSpaceBottom(e.getOption("xLabelHeight"));this.xlabel_div_=l(s),this.xlabel_div_.style.fontSize=e.getOption("xLabelHeight")-2+"px",(r=document.createElement("div")).className="dygraph-label dygraph-xlabel",r.innerHTML=e.getOption("xlabel"),this.xlabel_div_.appendChild(r),n.appendChild(this.xlabel_div_)}if(e.getOption("ylabel")){var o=t.reserveSpaceLeft(0);this.ylabel_div_=c(e,o,1,"dygraph-label dygraph-ylabel",e.getOption("ylabel")),n.appendChild(this.ylabel_div_)}if(e.getOption("y2label")&&2==e.numAxes()){var a=t.reserveSpaceRight(0);this.y2label_div_=c(e,a,2,"dygraph-label dygraph-y2label",e.getOption("y2label")),n.appendChild(this.y2label_div_)}},i.prototype.didDrawChart=function(t){var e=t.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=e.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=e.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=e.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=e.getOption("y2label"))},i.prototype.clearChart=function(){},i.prototype.destroy=function(){this.detachLabels_()},n.default=i,e.exports=n.default},{}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){};i.prototype.toString=function(){return"Gridline Plugin"},i.prototype.activate=function(t){return{willDrawChart:this.willDrawChart}},i.prototype.willDrawChart=function(t){function n(t){return Math.round(t)+.5}function i(t){return Math.round(t)-.5}var r,s,e,o=t.dygraph,a=t.drawingContext,l=o.layout_,c=t.dygraph.plotter_.area;if(o.getOptionForAxis("drawGrid","y")){for(var h=["y","y2"],u=[],d=[],f=[],p=[],g=[],m=0;m<h.length;m++)f[m]=o.getOptionForAxis("drawGrid",h[m]),f[m]&&(u[m]=o.getOptionForAxis("gridLineColor",h[m]),d[m]=o.getOptionForAxis("gridLineWidth",h[m]),g[m]=o.getOptionForAxis("gridLinePattern",h[m]),p[m]=g[m]&&2<=g[m].length);e=l.yticks,a.save(),e.forEach(function(t){if(t.has_tick){var e=t.axis;f[e]&&(a.save(),p[e]&&a.setLineDash&&a.setLineDash(g[e]),a.strokeStyle=u[e],a.lineWidth=d[e],r=n(c.x),s=i(c.y+t.pos*c.h),a.beginPath(),a.moveTo(r,s),a.lineTo(r+c.w,s),a.stroke(),a.restore())}}),a.restore()}if(o.getOptionForAxis("drawGrid","x")){e=l.xticks,a.save();g=o.getOptionForAxis("gridLinePattern","x");(p=g&&2<=g.length)&&a.setLineDash&&a.setLineDash(g),a.strokeStyle=o.getOptionForAxis("gridLineColor","x"),a.lineWidth=o.getOptionForAxis("gridLineWidth","x"),e.forEach(function(t){t.has_tick&&(r=n(c.x+t.pos*c.w),s=i(c.y+c.h),a.beginPath(),a.moveTo(r,s),a.lineTo(r,c.y),a.closePath(),a.stroke())}),p&&a.setLineDash&&a.setLineDash([]),a.restore()}},i.prototype.destroy=function(){},n.default=i,e.exports=n.default},{}],24:[function(t,e,n){"use strict";function w(t,e,n){if(!t||t.length<=1)return'<div class="dygraph-legend-line" style="border-bottom-color: '+e+';"></div>';var i,r,s,o,a=0,l=0,c=[];for(i=0;i<=t.length;i++)a+=t[i%t.length];if(1<(o=Math.floor(n/(a-t[0])))){for(i=0;i<t.length;i++)c[i]=t[i]/n;l=c.length}else{for(o=1,i=0;i<t.length;i++)c[i]=t[i]/a;l=c.length+1}var h="";for(r=0;r<o;r++)for(i=0;i<l;i+=2)s=c[i%c.length],h+='<div class="dygraph-legend-dash" style="margin-right: '+(i<t.length?c[(i+1)%c.length]:0)+"em; padding-left: "+s+'em;"></div>';return h}Object.defineProperty(n,"__esModule",{value:!0});var x=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../dygraph-utils")),A=function(){this.legend_div_=null,this.is_generated_div_=!1};A.prototype.toString=function(){return"Legend Plugin"},A.prototype.activate=function(t){var e,n=t.getOption("labelsDiv");return n&&null!==n?e="string"==typeof n||n instanceof String?document.getElementById(n):n:((e=document.createElement("div")).className="dygraph-legend",t.graphDiv.appendChild(e),this.is_generated_div_=!0),this.legend_div_=e,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};A.prototype.select=function(t){var e=t.selectedX,n=t.selectedPoints,i=t.selectedRow,r=t.dygraph.getOption("legend");if("never"!==r){if("follow"===r){var s=t.dygraph.plotter_.area,o=this.legend_div_.offsetWidth,a=t.dygraph.getOptionForAxis("axisLabelWidth","y"),l=n[0].x*s.w+50,c=n[0].y*s.h-50;l+o+1>s.w&&(l=l-100-o-(a-s.x)),t.dygraph.graphDiv.appendChild(this.legend_div_),this.legend_div_.style.left=a+l+"px",this.legend_div_.style.top=c+"px"}var h=A.generateLegendHTML(t.dygraph,e,n,this.one_em_width_,i);this.legend_div_.innerHTML=h,this.legend_div_.style.display=""}else this.legend_div_.style.display="none"},A.prototype.deselect=function(t){"always"!==t.dygraph.getOption("legend")&&(this.legend_div_.style.display="none");var e=function(t){var e=document.createElement("span");e.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),t.appendChild(e);var n=e.offsetWidth;return t.removeChild(e),n}(this.legend_div_);this.one_em_width_=e;var n=A.generateLegendHTML(t.dygraph,void 0,void 0,e,null);this.legend_div_.innerHTML=n},A.prototype.didDrawChart=function(t){this.deselect(t)},A.prototype.predraw=function(t){if(this.is_generated_div_){t.dygraph.graphDiv.appendChild(this.legend_div_);var e=t.dygraph.getArea(),n=this.legend_div_.offsetWidth;this.legend_div_.style.left=e.x+e.w-n-1+"px",this.legend_div_.style.top=e.y+"px"}},A.prototype.destroy=function(){this.legend_div_=null},A.generateLegendHTML=function(t,e,n,i,r){var s,o={dygraph:t,x:e,series:[]},a={},l=t.getLabels();if(l)for(var c=1;c<l.length;c++){var h=t.getPropertiesForSeries(l[c]),u={dashHTML:w(t.getOption("strokePattern",l[c]),h.color,i),label:l[c],labelHTML:(s=l[c],s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),isVisible:h.visible,color:h.color};o.series.push(u),a[l[c]]=u}if(void 0!==e){var d=t.optionsViewForAxis_("x"),f=d("valueFormatter");o.xHTML=f.call(t,e,d,l[0],t,r,0);var p=[],g=t.numAxes();for(c=0;c<g;c++)p[c]=t.optionsViewForAxis_("y"+(c?1+c:""));var m=t.getOption("labelsShowZeroValues"),v=t.getHighlightSeries();for(c=0;c<n.length;c++){var y=n[c];if((u=a[y.name]).y=y.yval,0===y.yval&&!m||isNaN(y.canvasy))u.isVisible=!1;else{var b=p[(h=t.getPropertiesForSeries(y.name)).axis-1],_=b("valueFormatter").call(t,y.yval,b,y.name,t,r,l.indexOf(y.name));x.update(u,{yHTML:_}),y.name==v&&(u.isHighlighted=!0)}}}return(t.getOption("legendFormatter")||A.defaultFormatter).call(t,o)},A.defaultFormatter=function(t){var e=t.dygraph;if(!0!==e.getOption("showLabelsOnHighlight"))return"";var n,i=e.getOption("labelsSeparateLines");if(void 0===t.x){if("always"!=e.getOption("legend"))return"";n="";for(var r=0;r<t.series.length;r++){(s=t.series[r]).isVisible&&(""!==n&&(n+=i?"<br/>":" "),n+="<span style='font-weight: bold; color: "+s.color+";'>"+s.dashHTML+" "+s.labelHTML+"</span>")}return n}n=t.xHTML+":";for(r=0;r<t.series.length;r++){var s;(s=t.series[r]).isVisible&&(i&&(n+="<br>"),n+="<span"+(s.isHighlighted?' class="highlight"':"")+"> <b><span style='color: "+s.color+";'>"+s.labelHTML+"</span></b>:&#160;"+s.yHTML+"</span>")}return n},n.default=A,e.exports=n.default},{"../dygraph-utils":17}],25:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var C=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../dygraph-utils")),A=i(t("../dygraph-interaction-model")),E=i(t("../iframe-tarp")),r=function(){this.hasTouchInterface_="undefined"!=typeof TouchEvent,this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};r.prototype.toString=function(){return"RangeSelector Plugin"},r.prototype.activate=function(t){return this.dygraph_=t,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}},r.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null},r.prototype.getOption_=function(t,e){return this.dygraph_.getOption(t,e)},r.prototype.setDefaultOption_=function(t,e){this.dygraph_.attrs_[t]=e},r.prototype.createInterface_=function(){this.createCanvases_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()},r.prototype.addToGraph_=function(){var t=this.graphDiv_=this.dygraph_.graphDiv;t.appendChild(this.bgcanvas_),t.appendChild(this.fgcanvas_),t.appendChild(this.leftZoomHandle_),t.appendChild(this.rightZoomHandle_)},r.prototype.removeFromGraph_=function(){var t=this.graphDiv_;t.removeChild(this.bgcanvas_),t.removeChild(this.fgcanvas_),t.removeChild(this.leftZoomHandle_),t.removeChild(this.rightZoomHandle_),this.graphDiv_=null},r.prototype.reserveSpace_=function(t){this.getOption_("showRangeSelector")&&t.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)},r.prototype.renderStaticLayer_=function(){this.updateVisibility_()&&(this.resize_(),this.drawStaticLayer_())},r.prototype.renderInteractiveLayer_=function(){this.updateVisibility_()&&!this.isChangingRange_&&(this.placeZoomHandles_(),this.drawInteractiveLayer_())},r.prototype.updateVisibility_=function(){var t=this.getOption_("showRangeSelector");if(t)this.interfaceCreated_?this.graphDiv_&&this.graphDiv_.parentNode||this.addToGraph_():this.createInterface_();else if(this.graphDiv_){this.removeFromGraph_();var e=this.dygraph_;setTimeout(function(){e.width_=0,e.resize()},1)}return t},r.prototype.resize_=function(){function t(t,e,n,i){var r=i||C.getContextPixelRatio(e);t.style.top=n.y+"px",t.style.left=n.x+"px",t.width=n.w*r,t.height=n.h*r,t.style.width=n.w+"px",t.style.height=n.h+"px",1!=r&&e.scale(r,r)}var e=this.dygraph_.layout_.getPlotArea(),n=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(n=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:e.x,y:e.y+e.h+n+4,w:e.w,h:this.getOption_("rangeSelectorHeight")};var i=this.dygraph_.getNumericOption("pixelRatio");t(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_,i),t(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_,i)},r.prototype.createCanvases_=function(){this.bgcanvas_=C.createCanvas(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=C.getContext(this.bgcanvas_),this.fgcanvas_=C.createCanvas(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=C.getContext(this.fgcanvas_)},r.prototype.createZoomHandles_=function(){var t=new Image;t.className="dygraph-rangesel-zoomhandle",t.style.position="absolute",t.style.zIndex=10,t.style.visibility="hidden",t.style.cursor="col-resize",t.width=9,t.height=16,t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII=",this.isMobileDevice_&&(t.width*=2,t.height*=2),this.leftZoomHandle_=t,this.rightZoomHandle_=t.cloneNode(!1)},r.prototype.initInteraction_=function(){var n,e,i,r,s,o,a,l,c,h,t,u,d,f,p=this,g=document,m=0,v=null,y=!1,b=!1,_=!this.isMobileDevice_,w=new E.default;n=function(t){var e=p.dygraph_.xAxisExtremes(),n=(e[1]-e[0])/p.canvasRect_.w;return[e[0]+(t.leftHandlePos-p.canvasRect_.x)*n,e[0]+(t.rightHandlePos-p.canvasRect_.x)*n]},e=function(t){return C.cancelEvent(t),y=!0,m=t.clientX,v=t.target?t.target:t.srcElement,"mousedown"!==t.type&&"dragstart"!==t.type||(C.addEvent(g,"mousemove",i),C.addEvent(g,"mouseup",r)),p.fgcanvas_.style.cursor="col-resize",w.cover(),!0},i=function(t){if(!y)return!1;C.cancelEvent(t);var e=t.clientX-m;if(Math.abs(e)<4)return!0;m=t.clientX;var n,i=p.getZoomHandleStatus_();v==p.leftZoomHandle_?(n=i.leftHandlePos+e,n=Math.min(n,i.rightHandlePos-v.width-3),n=Math.max(n,p.canvasRect_.x)):(n=i.rightHandlePos+e,n=Math.min(n,p.canvasRect_.x+p.canvasRect_.w),n=Math.max(n,i.leftHandlePos+v.width+3));var r=v.width/2;return v.style.left=n-r+"px",p.drawInteractiveLayer_(),_&&s(),!0},r=function(t){return!!y&&(y=!1,w.uncover(),C.removeEvent(g,"mousemove",i),C.removeEvent(g,"mouseup",r),p.fgcanvas_.style.cursor="default",_||s(),!0)},s=function(){try{var t=p.getZoomHandleStatus_();if(p.isChangingRange_=!0,t.isZoomed){var e=n(t);p.dygraph_.doZoomXDates_(e[0],e[1])}else p.dygraph_.resetZoom()}finally{p.isChangingRange_=!1}},o=function(t){var e=p.leftZoomHandle_.getBoundingClientRect(),n=e.left+e.width/2,i=(e=p.rightZoomHandle_.getBoundingClientRect()).left+e.width/2;return t.clientX>n&&t.clientX<i},a=function(t){return!(b||!o(t)||!p.getZoomHandleStatus_().isZoomed||(C.cancelEvent(t),b=!0,m=t.clientX,"mousedown"===t.type&&(C.addEvent(g,"mousemove",l),C.addEvent(g,"mouseup",c)),0))},l=function(t){if(!b)return!1;C.cancelEvent(t);var e=t.clientX-m;if(Math.abs(e)<4)return!0;m=t.clientX;var n=p.getZoomHandleStatus_(),i=n.leftHandlePos,r=n.rightHandlePos,s=r-i;i+e<=p.canvasRect_.x?r=(i=p.canvasRect_.x)+s:r+e>=p.canvasRect_.x+p.canvasRect_.w?i=(r=p.canvasRect_.x+p.canvasRect_.w)-s:(i+=e,r+=e);var o=p.leftZoomHandle_.width/2;return p.leftZoomHandle_.style.left=i-o+"px",p.rightZoomHandle_.style.left=r-o+"px",p.drawInteractiveLayer_(),_&&h(),!0},c=function(t){return!!b&&(b=!1,C.removeEvent(g,"mousemove",l),C.removeEvent(g,"mouseup",c),_||h(),!0)},h=function(){try{p.isChangingRange_=!0,p.dygraph_.dateWindow_=n(p.getZoomHandleStatus_()),p.dygraph_.drawGraph_(!1)}finally{p.isChangingRange_=!1}},t=function(t){if(!y&&!b){var e=o(t)?"move":"default";e!=p.fgcanvas_.style.cursor&&(p.fgcanvas_.style.cursor=e)}},u=function(t){"touchstart"==t.type&&1==t.targetTouches.length?e(t.targetTouches[0])&&C.cancelEvent(t):"touchmove"==t.type&&1==t.targetTouches.length?i(t.targetTouches[0])&&C.cancelEvent(t):r(t)},d=function(t){"touchstart"==t.type&&1==t.targetTouches.length?a(t.targetTouches[0])&&C.cancelEvent(t):"touchmove"==t.type&&1==t.targetTouches.length?l(t.targetTouches[0])&&C.cancelEvent(t):c(t)},f=function(t,e){for(var n=["touchstart","touchend","touchmove","touchcancel"],i=0;i<n.length;i++)p.dygraph_.addAndTrackEvent(t,n[i],e)},this.setDefaultOption_("interactionModel",A.default.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",1e-4);var x=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,x,e),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,x,e),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",a),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",t),this.hasTouchInterface_&&(f(this.leftZoomHandle_,u),f(this.rightZoomHandle_,u),f(this.fgcanvas_,d))},r.prototype.drawStaticLayer_=function(){var t=this.bgcanvas_ctx_;t.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(t){console.warn(t)}this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorBackgroundLineWidth"),t.strokeStyle=this.getOption_("rangeSelectorBackgroundStrokeColor"),t.beginPath(),t.moveTo(.5,.5),t.lineTo(.5,this.canvasRect_.h-.5),t.lineTo(this.canvasRect_.w-.5,this.canvasRect_.h-.5),t.lineTo(this.canvasRect_.w-.5,.5),t.stroke()},r.prototype.drawMiniPlot_=function(){var t=this.getOption_("rangeSelectorPlotFillColor"),e=this.getOption_("rangeSelectorPlotFillGradientColor"),n=this.getOption_("rangeSelectorPlotStrokeColor");if(t||n){var i=this.getOption_("stepPlot"),r=this.computeCombinedSeriesAndLimits_(),s=r.yMax-r.yMin,o=this.bgcanvas_ctx_,a=this.dygraph_.xAxisExtremes(),l=Math.max(a[1]-a[0],1e-30),c=(this.canvasRect_.w-.5)/l,h=(this.canvasRect_.h-.5)/s,u=this.canvasRect_.w-.5,d=this.canvasRect_.h-.5,f=null,p=null;o.beginPath(),o.moveTo(.5,d);for(var g=0;g<r.data.length;g++){var m=r.data[g],v=null!==m[0]?(m[0]-a[0])*c:NaN,y=null!==m[1]?d-(m[1]-r.yMin)*h:NaN;(i||null===f||Math.round(v)!=Math.round(f))&&(isFinite(v)&&isFinite(y)?(null===f?o.lineTo(v,d):i&&o.lineTo(v,p),o.lineTo(v,y),f=v,p=y):(null!==f&&(i?(o.lineTo(v,p),o.lineTo(v,d)):o.lineTo(f,d)),f=p=null))}if(o.lineTo(u,d),o.closePath(),t){var b=this.bgcanvas_ctx_.createLinearGradient(0,0,0,d);e&&b.addColorStop(0,e),b.addColorStop(1,t),this.bgcanvas_ctx_.fillStyle=b,o.fill()}n&&(this.bgcanvas_ctx_.strokeStyle=n,this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorPlotLineWidth"),o.stroke())}},r.prototype.computeCombinedSeriesAndLimits_=function(){var t,e=this.dygraph_,n=this.getOption_("logscale"),i=e.numColumns(),r=e.getLabels(),s=new Array(i),o=!1,a=e.visibility(),l=[];for(t=1;t<i;t++){var c=this.getOption_("showInRangeSelector",r[t]);l.push(c),null!==c&&(o=!0)}if(o)for(t=1;t<i;t++)s[t]=l[t-1];else for(t=1;t<i;t++)s[t]=a[t-1];var h=[],u=e.dataHandler_,d=e.attributes_;for(t=1;t<e.numColumns();t++)if(s[t]){var f=u.extractSeries(e.rawData_,t,d);1<e.rollPeriod()&&(f=u.rollingAverage(f,e.rollPeriod(),d)),h.push(f)}var p=[];for(t=0;t<h[0].length;t++){for(var g=0,m=0,v=0;v<h.length;v++){var y=h[v][t][1];null===y||isNaN(y)||(m++,g+=y)}p.push([h[0][t][0],g/m])}var b=Number.MAX_VALUE,_=-Number.MAX_VALUE;for(t=0;t<p.length;t++){var w=p[t][1];null!==w&&isFinite(w)&&(!n||0<w)&&(b=Math.min(b,w),_=Math.max(_,w))}if(n)for(_=C.log10(_),_+=.25*_,b=C.log10(b),t=0;t<p.length;t++)p[t][1]=C.log10(p[t][1]);else{var x,A=_-b;_+=x=A<=Number.MIN_VALUE?.25*_:.25*A,b-=x}return{data:p,yMin:b,yMax:_}},r.prototype.placeZoomHandles_=function(){var t=this.dygraph_.xAxisExtremes(),e=this.dygraph_.xAxisRange(),n=t[1]-t[0],i=Math.max(0,(e[0]-t[0])/n),r=Math.max(0,(t[1]-e[1])/n),s=this.canvasRect_.x+this.canvasRect_.w*i,o=this.canvasRect_.x+this.canvasRect_.w*(1-r),a=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),l=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=s-l+"px",this.leftZoomHandle_.style.top=a+"px",this.rightZoomHandle_.style.left=o-l+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"},r.prototype.drawInteractiveLayer_=function(){var t=this.fgcanvas_ctx_;t.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var e=this.canvasRect_.w-1,n=this.canvasRect_.h-1,i=this.getZoomHandleStatus_();if(t.strokeStyle=this.getOption_("rangeSelectorForegroundStrokeColor"),t.lineWidth=this.getOption_("rangeSelectorForegroundLineWidth"),i.isZoomed){var r=Math.max(1,i.leftHandlePos-this.canvasRect_.x),s=Math.min(e,i.rightHandlePos-this.canvasRect_.x);t.fillStyle="rgba(240, 240, 240, "+this.getOption_("rangeSelectorAlpha").toString()+")",t.fillRect(0,0,r,this.canvasRect_.h),t.fillRect(s,0,this.canvasRect_.w-s,this.canvasRect_.h),t.beginPath(),t.moveTo(1,1),t.lineTo(r,1),t.lineTo(r,n),t.lineTo(s,n),t.lineTo(s,1),t.lineTo(e,1),t.stroke()}else t.beginPath(),t.moveTo(1,1),t.lineTo(1,n),t.lineTo(e,n),t.lineTo(e,1),t.stroke()},r.prototype.getZoomHandleStatus_=function(){var t=this.leftZoomHandle_.width/2,e=parseFloat(this.leftZoomHandle_.style.left)+t,n=parseFloat(this.rightZoomHandle_.style.left)+t;return{leftHandlePos:e,rightHandlePos:n,isZoomed:e-1>this.canvasRect_.x||n+1<this.canvasRect_.x+this.canvasRect_.w}},n.default=r,e.exports=n.default},{"../dygraph-interaction-model":12,"../dygraph-utils":17,"../iframe-tarp":19}]},{},[18])(18)}),function(a,t){function i(t,e){var n,i,r,s=t.nodeName.toLowerCase();return"area"===s?(i=(n=t.parentNode).name,!(!t.href||!i||"map"!==n.nodeName.toLowerCase())&&(!!(r=a("img[usemap=#"+i+"]")[0])&&o(r))):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s&&t.href||e)&&o(t)}function o(t){return a.expr.filters.visible(t)&&!a(t).parents().andSelf().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e,n,r=0,s=/^ui-id-\d+$/;a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(e,n){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){a(t).focus(),n&&n.call(t)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?a(document):t},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,n,i=a(this[0]);i.length&&i[0]!==document;){if(("absolute"===(e=i.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(e){return function(t){return!!a.data(t,e)}}):function(t,e,n){return!!a.data(t,n[3])},focusable:function(t){return i(t,!isNaN(a.attr(t,"tabindex")))},tabbable:function(t){var e=a.attr(t,"tabindex"),n=isNaN(e);return(n||0<=e)&&i(t,!n)}}),a(function(){var t=document.body,e=t.appendChild(e=document.createElement("div"));e.offsetHeight,a.extend(e.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=100===e.offsetHeight,a.support.selectstart="onselectstart"in e,t.removeChild(e).style.display="none"}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(t,n){function i(t,e,n,i){return a.each(r,function(){e-=parseFloat(a.css(t,"padding"+this))||0,n&&(e-=parseFloat(a.css(t,"border"+this+"Width"))||0),i&&(e-=parseFloat(a.css(t,"margin"+this))||0)}),e}var r="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),o={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each(function(){a(this).css(s,i(this,t)+"px")})},a.fn["outer"+n]=function(t,e){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){a(this).css(s,i(this,t,!0,e)+"px")})}}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=(n=a.fn.removeData,function(t){return arguments.length?n.call(this,a.camelCase(t)):n.call(this)})),e=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[],a.ui.ie=!!e.length,a.ui.ie6=6===parseFloat(e[1],10),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(t,e,n){var i,r=a.ui[t].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([e,n[i]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},contains:a.contains,hasScroll:function(t,e){if("hidden"===a(t).css("overflow"))return!1;var n=e&&"left"===e?"scrollLeft":"scrollTop",i=!1;return 0<t[n]||(t[n]=1,i=0<t[n],t[n]=0,i)},isOverAxis:function(t,e,n){return e<t&&t<e+n},isOver:function(t,e,n,i,r,s){return a.ui.isOverAxis(t,n,r)&&a.ui.isOverAxis(e,i,s)}}))}(jQuery),function(h,a){var n=0,l=Array.prototype.slice,i=h.cleanData;h.cleanData=function(t){for(var e,n=0;null!=(e=t[n]);n++)try{h(e).triggerHandler("remove")}catch(t){}i(t)},h.widget=function(t,n,o){var e,i,r,s,a=t.split(".")[0];t=t.split(".")[1],e=a+"-"+t,o||(o=n,n=h.Widget),h.expr[":"][e.toLowerCase()]=function(t){return!!h.data(t,e)},h[a]=h[a]||{},i=h[a][t],r=h[a][t]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},h.extend(r,i,{version:o.version,_proto:h.extend({},o),_childConstructors:[]}),(s=new n).options=h.widget.extend({},s.options),h.each(o,function(e,i){var r,s;h.isFunction(i)&&(o[e]=(r=function(){return n.prototype[e].apply(this,arguments)},s=function(t){return n.prototype[e].apply(this,t)},function(){var t,e=this._super,n=this._superApply;return this._super=r,this._superApply=s,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}))}),r.prototype=h.widget.extend(s,{widgetEventPrefix:i?s.widgetEventPrefix:t},o,{constructor:r,namespace:a,widgetName:t,widgetBaseClass:e,widgetFullName:e}),i?(h.each(i._childConstructors,function(t,e){var n=e.prototype;h.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete i._childConstructors):n._childConstructors.push(r),h.widget.bridge(t,r)},h.widget.extend=function(t){for(var e,n,i=l.call(arguments,1),r=0,s=i.length;r<s;r++)for(e in i[r])n=i[r][e],i[r].hasOwnProperty(e)&&n!==a&&(h.isPlainObject(n)?t[e]=h.isPlainObject(t[e])?h.widget.extend({},t[e],n):h.widget.extend({},n):t[e]=n);return t},h.widget.bridge=function(s,e){var o=e.prototype.widgetFullName||s;h.fn[s]=function(n){var t="string"==typeof n,i=l.call(arguments,1),r=this;return n=!t&&i.length?h.widget.extend.apply(null,[n].concat(i)):n,t?this.each(function(){var t,e=h.data(this,o);return e?h.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&t!==a?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:h.error("no such method '"+n+"' for "+s+" widget instance"):h.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var t=h.data(this,o);t?t.option(n||{})._init():h.data(this,o,new e(n,this))}),r}},h.Widget=function(){},h.Widget._childConstructors=[],h.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=h(e||this.defaultElement||this)[0],this.element=h(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=h.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=h(),this.hoverable=h(),this.focusable=h(),e!==this&&(h.data(e,this.widgetName,this),h.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=h(e.style?e.ownerDocument:e.document||e),this.window=h(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:h.noop,_getCreateEventData:h.noop,_create:h.noop,_init:h.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(h.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:h.noop,widget:function(){return this.element},option:function(t,e){var n,i,r,s=t;if(0===arguments.length)return h.widget.extend({},this.options);if("string"==typeof t)if(s={},t=(n=t.split(".")).shift(),n.length){for(i=s[t]=h.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(t=n.pop(),e===a)return i[t]===a?null:i[t];i[t]=e}else{if(e===a)return this.options[t]===a?null:this.options[t];s[t]=e}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(o,a,t){var l,c=this;"boolean"!=typeof o&&(t=a,a=o,o=!1),t?(a=l=h(a),this.bindings=this.bindings.add(a)):(t=a,a=this.element,l=this.widget()),h.each(t,function(t,e){function n(){return o||!0!==c.options.disabled&&!h(this).hasClass("ui-state-disabled")?("string"==typeof e?c[e]:e).apply(c,arguments):void 0}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||h.guid++);var i=t.match(/^(\w+)\s*(.*)$/),r=i[1]+c.eventNamespace,s=i[2];s?l.delegate(s,r,n):a.bind(r,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){h(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){h(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){h(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){h(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,n){var i,r,s=this.options[t];if(n=n||{},(e=h.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],r=e.originalEvent)for(i in r)i in e||(e[i]=r[i]);return this.element.trigger(e,n),!(h.isFunction(s)&&!1===s.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},h.each({show:"fadeIn",hide:"fadeOut"},function(s,o){h.Widget.prototype["_"+s]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,r=t?!0===t||"number"==typeof t?o:t.effect||o:s;"number"==typeof(t=t||{})&&(t={duration:t}),i=!h.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&h.effects&&(h.effects.effect[r]||!1!==h.uiBackCompat&&h.effects[r])?e[s](t):r!==s&&e[r]?e[r](t.duration,t.easing,n):e.queue(function(t){h(this)[s](),n&&n.call(e[0]),t()})}}),!1!==h.uiBackCompat&&(h.Widget.prototype._getCreateOptions=function(){return h.metadata&&h.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(r,t){var s=!1;r(document).mouseup(function(t){s=!1}),r.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(t){return!0===r.data(t.target,e.widgetName+".preventClickEvent")?(r.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&r(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!s){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,n=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&r(t.target).closest(this.options.cancel).length;return n&&!i&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?t.preventDefault():(!0===r.data(t.target,this.widgetName+".preventClickEvent")&&r.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},r(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),s=!0)),!0}},_mouseMove:function(t){return!r.ui.ie||9<=document.documentMode||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return r(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&r.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(t){return this.mouseDelayMet},_mouseStart:function(t){},_mouseDrag:function(t){},_mouseStop:function(t){},_mouseCapture:function(t){return!0}})}(jQuery),function(x,t){function A(t,e,n){return[parseInt(t[0],10)*(h.test(t[0])?e/100:1),parseInt(t[1],10)*(h.test(t[1])?n/100:1)]}function C(t,e){return parseInt(x.css(t,e),10)||0}x.ui=x.ui||{};var r,i,s,E=Math.max,k=Math.abs,S=Math.round,o=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+%?/,c=/^\w+/,h=/%$/,e=x.fn.position;x.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,e,n=x("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return x("body").append(n),t=i.offsetWidth,n.css("overflow","scroll"),t===(e=i.offsetWidth)&&(e=n[0].clientWidth),n.remove(),r=t-e},getScrollInfo:function(t){var e=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),i="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth,r="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:i?x.position.scrollbarWidth():0,height:r?x.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=x(t||window),n=x.isWindow(e[0]);return{element:e,isWindow:n,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:n?e.width():e.outerWidth(),height:n?e.height():e.outerHeight()}}},x.fn.position=function(u){if(!u||!u.of)return e.apply(this,arguments);u=x.extend({},u);var d,f,p,g,m,v=x(u.of),y=x.position.getWithinInfo(u.within),b=x.position.getScrollInfo(y),t=v[0],_=(u.collision||"flip").split(" "),w={};return 9===t.nodeType?(f=v.width(),p=v.height(),g={top:0,left:0}):x.isWindow(t)?(f=v.width(),p=v.height(),g={top:v.scrollTop(),left:v.scrollLeft()}):t.preventDefault?(u.at="left top",f=p=0,g={top:t.pageY,left:t.pageX}):(f=v.outerWidth(),p=v.outerHeight(),g=v.offset()),m=x.extend({},g),x.each(["my","at"],function(){var t,e,n=(u[this]||"").split(" ");1===n.length&&(n=o.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",t=l.exec(n[0]),e=l.exec(n[1]),w[this]=[t?t[0]:0,e?e[0]:0],u[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===u.at[0]?m.left+=f:"center"===u.at[0]&&(m.left+=f/2),"bottom"===u.at[1]?m.top+=p:"center"===u.at[1]&&(m.top+=p/2),d=A(w.at,f,p),m.left+=d[0],m.top+=d[1],this.each(function(){var n,t,o=x(this),a=o.outerWidth(),l=o.outerHeight(),e=C(this,"marginLeft"),i=C(this,"marginTop"),r=a+e+C(this,"marginRight")+b.width,s=l+i+C(this,"marginBottom")+b.height,c=x.extend({},m),h=A(w.my,o.outerWidth(),o.outerHeight());"right"===u.my[0]?c.left-=a:"center"===u.my[0]&&(c.left-=a/2),"bottom"===u.my[1]?c.top-=l:"center"===u.my[1]&&(c.top-=l/2),c.left+=h[0],c.top+=h[1],x.support.offsetFractions||(c.left=S(c.left),c.top=S(c.top)),n={marginLeft:e,marginTop:i},x.each(["left","top"],function(t,e){x.ui.position[_[t]]&&x.ui.position[_[t]][e](c,{targetWidth:f,targetHeight:p,elemWidth:a,elemHeight:l,collisionPosition:n,collisionWidth:r,collisionHeight:s,offset:[d[0]+h[0],d[1]+h[1]],my:u.my,at:u.at,within:y,elem:o})}),x.fn.bgiframe&&o.bgiframe(),u.using&&(t=function(t){var e=g.left-c.left,n=e+f-a,i=g.top-c.top,r=i+p-l,s={target:{element:v,left:g.left,top:g.top,width:f,height:p},element:{element:o,left:c.left,top:c.top,width:a,height:l},horizontal:n<0?"left":0<e?"right":"center",vertical:r<0?"top":0<i?"bottom":"middle"};f<a&&k(e+n)<f&&(s.horizontal="center"),p<l&&k(i+r)<p&&(s.vertical="middle"),E(k(e),k(n))>E(k(i),k(r))?s.important="horizontal":s.important="vertical",u.using.call(this,t,s)}),o.offset(x.extend(c,{using:t}))})},x.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,o=t.left-e.collisionPosition.marginLeft,a=r-o,l=o+e.collisionWidth-s-r;e.collisionWidth>s?0<a&&l<=0?(n=t.left+a+e.collisionWidth-s-r,t.left+=a-n):t.left=0<l&&a<=0?r:l<a?r+s-e.collisionWidth:r:0<a?t.left+=a:0<l?t.left-=l:t.left=E(t.left-o,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,s=e.within.height,o=t.top-e.collisionPosition.marginTop,a=r-o,l=o+e.collisionHeight-s-r;e.collisionHeight>s?0<a&&l<=0?(n=t.top+a+e.collisionHeight-s-r,t.top+=a-n):t.top=0<l&&a<=0?r:l<a?r+s-e.collisionHeight:r:0<a?t.top+=a:0<l?t.top-=l:t.top=E(t.top-o,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,s=r.offset.left+r.scrollLeft,o=r.width,a=r.isWindow?r.scrollLeft:r.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-a,h=l+e.collisionWidth-o-a,u="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((n=t.left+u+d+f+e.collisionWidth-o-s)<0||n<k(c))&&(t.left+=u+d+f):0<h&&((0<(i=t.left-e.collisionPosition.marginLeft+u+d+f-a)||k(i)<h)&&(t.left+=u+d+f))},top:function(t,e){var n,i,r=e.within,s=r.offset.top+r.scrollTop,o=r.height,a=r.isWindow?r.scrollTop:r.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-a,h=l+e.collisionHeight-o-a,u="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?(i=t.top+u+d+f+e.collisionHeight-o-s,t.top+u+d+f>c&&(i<0||i<k(c))&&(t.top+=u+d+f)):0<h&&(n=t.top-e.collisionPosition.marginTop+u+d+f-a,t.top+u+d+f>h&&(0<n||k(n)<h)&&(t.top+=u+d+f))}},flipfit:{left:function(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}},function(){var t,e,n,i,r,s=document.getElementsByTagName("body")[0],o=document.createElement("div");for(r in t=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&x.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)t.style[r]=n[r];t.appendChild(o),(e=s||document.documentElement).insertBefore(t,e.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",i=x(o).offset().left,x.support.offsetFractions=10<i&&i<11,t.innerHTML="",e.removeChild(t)}(),!1!==x.uiBackCompat&&(i=jQuery,s=i.fn.position,i.fn.position=function(t){if(!t||!t.offset)return s.call(this,t);var e=t.offset.split(" "),n=t.at.split(" ");return 1===e.length&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),1===n.length&&(/left|center|right/.test(n[0])?n[1]="center":(n[1]=n[0],n[0]="center")),s.call(this,i.extend(t,{at:n[0]+e[0]+" "+n[1]+e[1],offset:void 0}))})}(jQuery),function(b,t){b.widget("ui.draggable",b.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||b(t.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(t),!!this.handle&&(b(!0===e.iframeFix?"iframe":e.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(b(this).offset()).appendTo("body")}),!0))},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),e.containment&&this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!e.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,e){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!e){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),b.ui.ddmanager&&b.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(e=b.ui.ddmanager.drop(this,t)),this.dropped&&(e=this.dropped,this.dropped=!1);for(var n=this.element[0],i=!1;n&&(n=n.parentNode);)n==document&&(i=!0);if(!i&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!e||"valid"==this.options.revert&&e||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var r=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==r._trigger("stop",t)&&r._clear()})}else!1!==this._trigger("stop",t)&&this._clear();return!1},_mouseUp:function(t){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,t),b.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var e=!this.options.handle||!b(this.options.handle,this.element).length;return b(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(e=!0)}),e},_createHelper:function(t){var e=this.options,n=b.isFunction(e.helper)?b(e.helper.apply(this.element[0],[t])):"clone"==e.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"==e.appendTo?this.element[0].parentNode:e.appendTo),n[0]==this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),b.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=["document"==t.containment?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:b(window).scrollLeft())+b("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:b(window).scrollTop())+(b("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var e=b(t.containment),n=e[0];if(!n)return;var i=(e.offset(),"hidden"!=b(n).css("overflow"));this.containment=[(parseInt(b(n).css("borderLeftWidth"),10)||0)+(parseInt(b(n).css("paddingLeft"),10)||0),(parseInt(b(n).css("borderTopWidth"),10)||0)+(parseInt(b(n).css("paddingTop"),10)||0),(i?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(b(n).css("borderLeftWidth"),10)||0)-(parseInt(b(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(i?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(b(n).css("borderTopWidth"),10)||0)-(parseInt(b(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=e}},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"==t?1:-1,i=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(t){var e=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(n[0].tagName),r=t.pageX,s=t.pageY;if(this.originalPosition){var o;if(this.containment){if(this.relative_container){var a=this.relative_container.offset();o=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]}else o=this.containment;t.pageX-this.offset.click.left<o[0]&&(r=o[0]+this.offset.click.left),t.pageY-this.offset.click.top<o[1]&&(s=o[1]+this.offset.click.top),t.pageX-this.offset.click.left>o[2]&&(r=o[2]+this.offset.click.left),t.pageY-this.offset.click.top>o[3]&&(s=o[3]+this.offset.click.top)}if(e.grid){var l=e.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;s=o&&(l-this.offset.click.top<o[1]||l-this.offset.click.top>o[3])?l-this.offset.click.top<o[1]?l+e.grid[1]:l-e.grid[1]:l;var c=e.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;r=o&&(c-this.offset.click.left<o[0]||c-this.offset.click.left>o[2])?c-this.offset.click.left<o[0]?c+e.grid[0]:c-e.grid[0]:c}}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:n.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,e,n){return n=n||this._uiHash(),b.ui.plugin.call(this,t,[e,n]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,t,e,n)},plugins:{},_uiHash:function(t){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),b.ui.plugin.add("draggable","connectToSortable",{start:function(e,t){var n=b(this).data("draggable"),i=n.options,r=b.extend({},t,{item:n.element});n.sortables=[],b(i.connectToSortable).each(function(){var t=b.data(this,"sortable");t&&!t.options.disabled&&(n.sortables.push({instance:t,shouldRevert:t.options.revert}),t.refreshPositions(),t._trigger("activate",e,r))})},stop:function(t,e){var n=b(this).data("draggable"),i=b.extend({},e,{item:n.element});b.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(i,r){var s=b(this).data("draggable"),o=this;b.each(s.sortables,function(t){var e=!1,n=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,b.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!=n&&this.instance._intersectsWith(this.instance.containerCache)&&b.ui.contains(n.instance.element[0],this.instance.element[0])&&(e=!1),e})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(o).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return r.helper[0]},i.target=this.instance.currentItem[0],this.instance._mouseCapture(i,!0),this.instance._mouseStart(i,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",i),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(i)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",i,this.instance._uiHash(this.instance)),this.instance._mouseStop(i,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",i),s.dropped=!1)})}}),b.ui.plugin.add("draggable","cursor",{start:function(t,e){var n=b("body"),i=b(this).data("draggable").options;n.css("cursor")&&(i._cursor=n.css("cursor")),n.css("cursor",i.cursor)},stop:function(t,e){var n=b(this).data("draggable").options;n._cursor&&b("body").css("cursor",n._cursor)}}),b.ui.plugin.add("draggable","opacity",{start:function(t,e){var n=b(e.helper),i=b(this).data("draggable").options;n.css("opacity")&&(i._opacity=n.css("opacity")),n.css("opacity",i.opacity)},stop:function(t,e){var n=b(this).data("draggable").options;n._opacity&&b(e.helper).css("opacity",n._opacity)}}),b.ui.plugin.add("draggable","scroll",{start:function(t,e){var n=b(this).data("draggable");n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset())},drag:function(t,e){var n=b(this).data("draggable"),i=n.options,r=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(i.axis&&"x"==i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"==i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"==i.axis||(t.pageY-b(document).scrollTop()<i.scrollSensitivity?r=b(document).scrollTop(b(document).scrollTop()-i.scrollSpeed):b(window).height()-(t.pageY-b(document).scrollTop())<i.scrollSensitivity&&(r=b(document).scrollTop(b(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"==i.axis||(t.pageX-b(document).scrollLeft()<i.scrollSensitivity?r=b(document).scrollLeft(b(document).scrollLeft()-i.scrollSpeed):b(window).width()-(t.pageX-b(document).scrollLeft())<i.scrollSensitivity&&(r=b(document).scrollLeft(b(document).scrollLeft()+i.scrollSpeed)))),!1!==r&&b.ui.ddmanager&&!i.dropBehaviour&&b.ui.ddmanager.prepareOffsets(n,t)}}),b.ui.plugin.add("draggable","snap",{start:function(t,e){var n=b(this).data("draggable"),i=n.options;n.snapElements=[],b(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var t=b(this),e=t.offset();this!=n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e){for(var n=b(this).data("draggable"),i=n.options,r=i.snapTolerance,s=e.offset.left,o=s+n.helperProportions.width,a=e.offset.top,l=a+n.helperProportions.height,c=n.snapElements.length-1;0<=c;c--){var h=n.snapElements[c].left,u=h+n.snapElements[c].width,d=n.snapElements[c].top,f=d+n.snapElements[c].height;if(h-r<s&&s<u+r&&d-r<a&&a<f+r||h-r<s&&s<u+r&&d-r<l&&l<f+r||h-r<o&&o<u+r&&d-r<a&&a<f+r||h-r<o&&o<u+r&&d-r<l&&l<f+r){if("inner"!=i.snapMode){var p=Math.abs(d-l)<=r,g=Math.abs(f-a)<=r,m=Math.abs(h-o)<=r,v=Math.abs(u-s)<=r;p&&(e.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top-n.margins.top),g&&(e.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),m&&(e.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),v&&(e.position.left=n._convertPositionTo("relative",{top:0,left:u}).left-n.margins.left)}var y=p||g||m||v;if("outer"!=i.snapMode){p=Math.abs(d-a)<=r,g=Math.abs(f-l)<=r,m=Math.abs(h-s)<=r,v=Math.abs(u-o)<=r;p&&(e.position.top=n._convertPositionTo("relative",{top:d,left:0}).top-n.margins.top),g&&(e.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),m&&(e.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),v&&(e.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[c].snapping&&(p||g||m||v||y)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,b.extend(n._uiHash(),{snapItem:n.snapElements[c].item})),n.snapElements[c].snapping=p||g||m||v||y}else n.snapElements[c].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,b.extend(n._uiHash(),{snapItem:n.snapElements[c].item})),n.snapElements[c].snapping=!1}}}),b.ui.plugin.add("draggable","stack",{start:function(t,e){var n=b(this).data("draggable").options,i=b.makeArray(b(n.stack)).sort(function(t,e){return(parseInt(b(t).css("zIndex"),10)||0)-(parseInt(b(e).css("zIndex"),10)||0)});if(i.length){var r=parseInt(i[0].style.zIndex)||0;b(i).each(function(t){this.style.zIndex=r+t}),this[0].style.zIndex=r+i.length}}}),b.ui.plugin.add("draggable","zIndex",{start:function(t,e){var n=b(e.helper),i=b(this).data("draggable").options;n.css("zIndex")&&(i._zIndex=n.css("zIndex")),n.css("zIndex",i.zIndex)},stop:function(t,e){var n=b(this).data("draggable").options;n._zIndex&&b(e.helper).css("zIndex",n._zIndex)}})}(jQuery),function(f,t){f.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,e=t.accept;this.isover=0,this.isout=1,this.accept=f.isFunction(e)?e:function(t){return t.is(e)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},f.ui.ddmanager.droppables[t.scope]=f.ui.ddmanager.droppables[t.scope]||[],f.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=f.ui.ddmanager.droppables[this.options.scope],e=0;e<t.length;e++)t[e]==this&&t.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,e){"accept"==t&&(this.accept=f.isFunction(e)?e:function(t){return t.is(e)}),f.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var e=f.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=f.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=f.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!=this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=f.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!=this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(e)))},_drop:function(t,e){var n=e||f.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return!1;var i=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=f.data(this,"droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope==n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&f.ui.intersect(n,f.extend(t,{offset:t.element.offset()}),t.options.tolerance)?!(i=!0):void 0}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),f.ui.intersect=function(t,e,n){if(!e.offset)return!1;var i=(t.positionAbs||t.position.absolute).left,r=i+t.helperProportions.width,s=(t.positionAbs||t.position.absolute).top,o=s+t.helperProportions.height,a=e.offset.left,l=a+e.proportions.width,c=e.offset.top,h=c+e.proportions.height;switch(n){case"fit":return a<=i&&r<=l&&c<=s&&o<=h;case"intersect":return a<i+t.helperProportions.width/2&&r-t.helperProportions.width/2<l&&c<s+t.helperProportions.height/2&&o-t.helperProportions.height/2<h;case"pointer":var u=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,d=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top;return f.ui.isOver(d,u,c,a,e.proportions.height,e.proportions.width);case"touch":return(c<=s&&s<=h||c<=o&&o<=h||s<c&&h<o)&&(a<=i&&i<=l||a<=r&&r<=l||i<a&&l<r);default:return!1}},f.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var n=f.ui.ddmanager.droppables[t.options.scope]||[],i=e?e.type:null,r=(t.currentItem||t.element).find(":data(droppable)").andSelf();t:for(var s=0;s<n.length;s++)if(!(n[s].options.disabled||t&&!n[s].accept.call(n[s].element[0],t.currentItem||t.element))){for(var o=0;o<r.length;o++)if(r[o]==n[s].element[0]){n[s].proportions.height=0;continue t}n[s].visible="none"!=n[s].element.css("display"),n[s].visible&&("mousedown"==i&&n[s]._activate.call(n[s],e),n[s].offset=n[s].element.offset(),n[s].proportions={width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight})}},drop:function(t,e){var n=!1;return f.each(f.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&f.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,e)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,e)))}),n},dragStart:function(t,e){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||f.ui.ddmanager.prepareOffsets(t,e)})},drag:function(s,o){s.options.refreshPositions&&f.ui.ddmanager.prepareOffsets(s,o),f.each(f.ui.ddmanager.droppables[s.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t=f.ui.intersect(s,this,this.options.tolerance),e=t||1!=this.isover?t&&0==this.isover?"isover":null:"isout";if(e){var n;if(this.options.greedy){var i=this.options.scope,r=this.element.parents(":data(droppable)").filter(function(){return f.data(this,"droppable").options.scope===i});r.length&&((n=f.data(r[0],"droppable")).greedyChild="isover"==e?1:0)}n&&"isover"==e&&(n.isover=0,n.isout=1,n._out.call(n,o)),this[e]=1,this["isout"==e?"isover":"isout"]=0,this["isover"==e?"_over":"_out"].call(this,o),n&&"isout"==e&&(n.isout=0,n.isover=1,n._over.call(n,o))}}})},dragStop:function(t,e){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||f.ui.ddmanager.prepareOffsets(t,e)}}}(jQuery),function(p,t){p.widget("ui.resizable",p.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var e=this,t=this.options;if(this.element.addClass("ui-resizable"),p.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(p('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(p(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var i=0;i<n.length;i++){var r=p.trim(n[i]),s=p('<div class="ui-resizable-handle '+("ui-resizable-"+r)+'"></div>');s.css({zIndex:t.zIndex}),"se"==r&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(s)}}this._renderAxis=function(t){for(var e in t=t||this.element,this.handles){if(this.handles[e].constructor==String&&(this.handles[e]=p(this.handles[e],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n,i=p(this.handles[e],this.element);n=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth();var r=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join("");t.css(r,n),this._proportionallyResize()}p(this.handles[e]).length}},this._renderAxis(this.element),this._handles=p(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!e.resizing){if(this.className)var t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=t&&t[1]?t[1]:"se"}}),t.autoHide&&(this._handles.hide(),p(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(p(this).removeClass("ui-resizable-autohide"),e._handles.show())}).mouseleave(function(){t.disabled||e.resizing||(p(this).addClass("ui-resizable-autohide"),e._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){p(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var e=this.element;this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var e=!1;for(var n in this.handles)p(this.handles[n])[0]==t.target&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(t){var e=this.options,n=this.element.position(),i=this.element;this.resizing=!0,this.documentScroll={top:p(document).scrollTop(),left:p(document).scrollLeft()},(i.is(".ui-draggable")||/absolute/.test(i.css("position")))&&i.css({position:"absolute",top:n.top,left:n.left}),this._renderProxy();var r=g(this.helper.css("left")),s=g(this.helper.css("top"));e.containment&&(r+=p(e.containment).scrollLeft()||0,s+=p(e.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:s},this.size=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:r,top:s},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1;var o=p(".ui-resizable-"+this.axis).css("cursor");return p("body").css("cursor","auto"==o?this.axis+"-resize":o),i.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e=this.helper,n=(this.options,this.originalMousePosition),i=this.axis,r=t.pageX-n.left||0,s=t.pageY-n.top||0,o=this._change[i];if(!o)return!1;var a=o.apply(this,[t,r,s]);return this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(a=this._updateRatio(a,t)),a=this._respectSize(a,t),this._propagate("resize",t),e.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(a),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var e=this.options,n=this;if(this._helper){var i=this._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),s=r&&p.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height,o=r?0:n.sizeDiff.width,a={width:n.helper.width()-o,height:n.helper.height()-s},l=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;e.animate||this.element.css(p.extend(a,{top:c,left:l})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!e.animate&&this._proportionallyResize()}return p("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,i,r,s,o=this.options;s={minWidth:f(o.minWidth)?o.minWidth:0,maxWidth:f(o.maxWidth)?o.maxWidth:1/0,minHeight:f(o.minHeight)?o.minHeight:0,maxHeight:f(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,i=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),i>s.minHeight&&(s.minHeight=i),n<s.maxWidth&&(s.maxWidth=n),r<s.maxHeight&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(t){this.options,this.offset=this.helper.offset(),f(t.left)&&(this.position.left=t.left),f(t.top)&&(this.position.top=t.top),f(t.height)&&(this.size.height=t.height),f(t.width)&&(this.size.width=t.width)},_updateRatio:function(t,e){var n=(this.options,this.position),i=this.size,r=this.axis;return f(t.height)?t.width=t.height*this.aspectRatio:f(t.width)&&(t.height=t.width/this.aspectRatio),"sw"==r&&(t.left=n.left+(i.width-t.width),t.top=null),"nw"==r&&(t.top=n.top+(i.height-t.height),t.left=n.left+(i.width-t.width)),t},_respectSize:function(t,e){var n=(this.helper,this._vBoundaries),i=(this._aspectRatio||e.shiftKey,this.axis),r=f(t.width)&&n.maxWidth&&n.maxWidth<t.width,s=f(t.height)&&n.maxHeight&&n.maxHeight<t.height,o=f(t.width)&&n.minWidth&&n.minWidth>t.width,a=f(t.height)&&n.minHeight&&n.minHeight>t.height;o&&(t.width=n.minWidth),a&&(t.height=n.minHeight),r&&(t.width=n.maxWidth),s&&(t.height=n.maxHeight);var l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,h=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);o&&h&&(t.left=l-n.minWidth),r&&h&&(t.left=l-n.maxWidth),a&&u&&(t.top=c-n.minHeight),s&&u&&(t.top=c-n.maxHeight);var d=!t.width&&!t.height;return d&&!t.left&&t.top?t.top=null:d&&!t.top&&t.left&&(t.left=null),t},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var t=this.helper||this.element,e=0;e<this._proportionallyResizeElements.length;e++){var n=this._proportionallyResizeElements[e];if(!this.borderDif){var i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],r=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];this.borderDif=p.map(i,function(t,e){return(parseInt(t,10)||0)+(parseInt(r[e],10)||0)})}n.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,e=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||p('<div style="overflow:hidden;"></div>');var n=p.ui.ie6?1:0,i=p.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-n+"px",top:this.elementOffset.top-n+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(t,e,n){return{width:this.originalSize.width+e}},w:function(t,e,n){var i=(this.options,this.originalSize);return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,n){var i=(this.options,this.originalSize);return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(t,e,n){return p.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},sw:function(t,e,n){return p.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,n]))},ne:function(t,e,n){return p.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},nw:function(t,e,n){return p.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,n]))}},_propagate:function(t,e){p.ui.plugin.call(this,t,[e,this.ui()]),"resize"!=t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),p.ui.plugin.add("resizable","alsoResize",{start:function(t,e){var n=p(this).data("resizable").options,i=function(t){p(t).each(function(){var t=p(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?i(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],i(n.alsoResize)):p.each(n.alsoResize,function(t){i(t)})},resize:function(t,s){var e=p(this).data("resizable"),n=e.options,i=e.originalSize,r=e.originalPosition,o={height:e.size.height-i.height||0,width:e.size.width-i.width||0,top:e.position.top-r.top||0,left:e.position.left-r.left||0},a=function(t,n){p(t).each(function(){var t=p(this),i=p(this).data("resizable-alsoresize"),r={},e=n&&n.length?n:t.parents(s.originalElement[0]).length?["width","height"]:["width","height","top","left"];p.each(e,function(t,e){var n=(i[e]||0)+(o[e]||0);n&&0<=n&&(r[e]=n||null)}),t.css(r)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?a(n.alsoResize):p.each(n.alsoResize,function(t,e){a(t,e)})},stop:function(t,e){p(this).removeData("resizable-alsoresize")}}),p.ui.plugin.add("resizable","animate",{stop:function(e,t){var n=p(this).data("resizable"),i=n.options,r=n._proportionallyResizeElements,s=r.length&&/textarea/i.test(r[0].nodeName),o=s&&p.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,a=s?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-o},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,h=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(p.extend(l,h&&c?{top:h,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var t={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&p(r[0]).css({width:t.width,height:t.height}),n._updateCache(t),n._propagate("resize",e)}})}}),p.ui.plugin.add("resizable","containment",{start:function(t,e){var n=p(this).data("resizable"),i=n.options,r=n.element,s=i.containment,o=s instanceof p?s.get(0):/parent/.test(s)?r.parent().get(0):s;if(o)if(n.containerElement=p(o),/document/.test(s)||s==document)n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:p(document),left:0,top:0,width:p(document).width(),height:p(document).height()||document.body.parentNode.scrollHeight};else{var a=p(o),l=[];p(["Top","Right","Left","Bottom"]).each(function(t,e){l[t]=g(a.css("padding"+e))}),n.containerOffset=a.offset(),n.containerPosition=a.position(),n.containerSize={height:a.innerHeight()-l[3],width:a.innerWidth()-l[1]};var c=n.containerOffset,h=n.containerSize.height,u=n.containerSize.width,d=p.ui.hasScroll(o,"left")?o.scrollWidth:u,f=p.ui.hasScroll(o)?o.scrollHeight:h;n.parentData={element:o,left:c.left,top:c.top,width:d,height:f}}},resize:function(t,e){var n=p(this).data("resizable"),i=n.options,r=(n.containerSize,n.containerOffset),s=(n.size,n.position),o=n._aspectRatio||t.shiftKey,a={top:0,left:0},l=n.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(a=r),s.left<(n._helper?r.left:0)&&(n.size.width=n.size.width+(n._helper?n.position.left-r.left:n.position.left-a.left),o&&(n.size.height=n.size.width/n.aspectRatio),n.position.left=i.helper?r.left:0),s.top<(n._helper?r.top:0)&&(n.size.height=n.size.height+(n._helper?n.position.top-r.top:n.position.top),o&&(n.size.width=n.size.height*n.aspectRatio),n.position.top=n._helper?r.top:0),n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top;var c=Math.abs((n._helper,n.offset.left-a.left+n.sizeDiff.width)),h=Math.abs((n._helper?n.offset.top-a.top:n.offset.top-r.top)+n.sizeDiff.height),u=n.containerElement.get(0)==n.element.parent().get(0),d=/relative|absolute/.test(n.containerElement.css("position"));u&&d&&(c-=n.parentData.left),c+n.size.width>=n.parentData.width&&(n.size.width=n.parentData.width-c,o&&(n.size.height=n.size.width/n.aspectRatio)),h+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-h,o&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(t,e){var n=p(this).data("resizable"),i=n.options,r=(n.position,n.containerOffset),s=n.containerPosition,o=n.containerElement,a=p(n.helper),l=a.offset(),c=a.outerWidth()-n.sizeDiff.width,h=a.outerHeight()-n.sizeDiff.height;n._helper&&!i.animate&&/relative/.test(o.css("position"))&&p(this).css({left:l.left-s.left-r.left,width:c,height:h}),n._helper&&!i.animate&&/static/.test(o.css("position"))&&p(this).css({left:l.left-s.left-r.left,width:c,height:h})}}),p.ui.plugin.add("resizable","ghost",{start:function(t,e){var n=p(this).data("resizable"),i=n.options,r=n.size;n.ghost=n.originalElement.clone(),n.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),n.ghost.appendTo(n.helper)},resize:function(t,e){var n=p(this).data("resizable");n.options,n.ghost&&n.ghost.css({position:"relative",height:n.size.height,width:n.size.width})},stop:function(t,e){var n=p(this).data("resizable");n.options,n.ghost&&n.helper&&n.helper.get(0).removeChild(n.ghost.get(0))}}),p.ui.plugin.add("resizable","grid",{resize:function(t,e){var n=p(this).data("resizable"),i=n.options,r=n.size,s=n.originalSize,o=n.originalPosition,a=n.axis;i._aspectRatio||t.shiftKey,i.grid="number"==typeof i.grid?[i.grid,i.grid]:i.grid;var l=Math.round((r.width-s.width)/(i.grid[0]||1))*(i.grid[0]||1),c=Math.round((r.height-s.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(a)?(n.size.width=s.width+l,n.size.height=s.height+c):/^(ne)$/.test(a)?(n.size.width=s.width+l,n.size.height=s.height+c,n.position.top=o.top-c):(/^(sw)$/.test(a)?(n.size.width=s.width+l,n.size.height=s.height+c):(n.size.width=s.width+l,n.size.height=s.height+c,n.position.top=o.top-c),n.position.left=o.left-l)}});var g=function(t){return parseInt(t,10)||0},f=function(t){return!isNaN(parseInt(t,10))}}(jQuery),function(c,t){c.widget("ui.selectable",c.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t,e=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=c(e.options.filter,e.element[0])).addClass("ui-selectee"),t.each(function(){var t=c(this),e=t.offset();c.data(this,"selectable-item",{element:this,$element:t,left:e.left,top:e.top,right:e.left+t.outerWidth(),bottom:e.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=c("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(n){var i=this;if(this.opos=[n.pageX,n.pageY],!this.options.disabled){var t=this.options;this.selectees=c(t.filter,this.element[0]),this._trigger("start",n),c(t.appendTo).append(this.helper),this.helper.css({left:n.clientX,top:n.clientY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=c.data(this,"selectable-item");t.startselected=!0,n.metaKey||n.ctrlKey||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))}),c(n.target).parents().andSelf().each(function(){var t=c.data(this,"selectable-item");if(t){var e=!n.metaKey&&!n.ctrlKey||!t.$element.hasClass("ui-selected");return t.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?i._trigger("selecting",n,{selecting:t.element}):i._trigger("unselecting",n,{unselecting:t.element}),!1}})}},_mouseDrag:function(n){var i=this;if(this.dragged=!0,!this.options.disabled){var r=this.options,s=this.opos[0],o=this.opos[1],a=n.pageX,l=n.pageY;if(a<s){var t=a;a=s,s=t}if(l<o){t=l;l=o,o=t}return this.helper.css({left:s,top:o,width:a-s,height:l-o}),this.selectees.each(function(){var t=c.data(this,"selectable-item");if(t&&t.element!=i.element[0]){var e=!1;"touch"==r.tolerance?e=!(t.left>a||t.right<s||t.top>l||t.bottom<o):"fit"==r.tolerance&&(e=t.left>s&&t.right<a&&t.top>o&&t.bottom<l),e?(t.selected&&(t.$element.removeClass("ui-selected"),t.selected=!1),t.unselecting&&(t.$element.removeClass("ui-unselecting"),t.unselecting=!1),t.selecting||(t.$element.addClass("ui-selecting"),t.selecting=!0,i._trigger("selecting",n,{selecting:t.element}))):(t.selecting&&((n.metaKey||n.ctrlKey)&&t.startselected?(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.$element.addClass("ui-selected"),t.selected=!0):(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.startselected&&(t.$element.addClass("ui-unselecting"),t.unselecting=!0),i._trigger("unselecting",n,{unselecting:t.element}))),t.selected&&(n.metaKey||n.ctrlKey||t.startselected||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))))}}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,this.options,c(".ui-unselecting",this.element[0]).each(function(){var t=c.data(this,"selectable-item");t.$element.removeClass("ui-unselecting"),t.unselecting=!1,t.startselected=!1,n._trigger("unselected",e,{unselected:t.element})}),c(".ui-selecting",this.element[0]).each(function(){var t=c.data(this,"selectable-item");t.$element.removeClass("ui-selecting").addClass("ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,n._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(d,t){d.widget("ui.sortable",d.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,e){"disabled"===t?(this.options[t]=e,this.widget().toggleClass("ui-sortable-disabled",!!e)):d.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,e){var n=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var i=null;if(d(t.target).parents().each(function(){return d.data(this,n.widgetName+"-item")==n?(i=d(this),!1):void 0}),d.data(t.target,n.widgetName+"-item")==n&&(i=d(t.target)),!i)return!1;if(this.options.handle&&!e){var r=!1;if(d(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(r=!0)}),!r)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,e,n){var i=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(d("body").css("cursor")&&(this._storedCursor=d("body").css("cursor")),d("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(var r=this.containers.length-1;0<=r;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return d.ui.ddmanager&&(d.ui.ddmanager.current=this),d.ui.ddmanager&&!i.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var e=this.options,n=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+e.scrollSpeed:t.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+e.scrollSpeed:t.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(t.pageY-d(document).scrollTop()<e.scrollSensitivity?n=d(document).scrollTop(d(document).scrollTop()-e.scrollSpeed):d(window).height()-(t.pageY-d(document).scrollTop())<e.scrollSensitivity&&(n=d(document).scrollTop(d(document).scrollTop()+e.scrollSpeed)),t.pageX-d(document).scrollLeft()<e.scrollSensitivity?n=d(document).scrollLeft(d(document).scrollLeft()-e.scrollSpeed):d(window).width()-(t.pageX-d(document).scrollLeft())<e.scrollSensitivity&&(n=d(document).scrollLeft(d(document).scrollLeft()+e.scrollSpeed))),!1!==n&&d.ui.ddmanager&&!e.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var i=this.items.length-1;0<=i;i--){var r=this.items[i],s=r.item[0],o=this._intersectsWithPointer(r);if(o&&r.instance===this.currentContainer&&s!=this.currentItem[0]&&this.placeholder[1==o?"next":"prev"]()[0]!=s&&!d.contains(this.placeholder[0],s)&&("semi-dynamic"!=this.options.type||!d.contains(this.element[0],s))){if(this.direction=1==o?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),d.ui.ddmanager&&d.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,t),this.options.revert){var n=this,i=this.placeholder.offset();this.reverting=!0,d(this.helper).animate({left:i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),d.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},d(t).each(function(){var t=(d(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);t&&n.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e.each(function(){n.push(d(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,s=t.left,o=s+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,h=this.offset.click.left,u=a<i+c&&i+c<l&&s<e+h&&e+h<o;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?u:s<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!i&&(this.floating?s&&"right"==s||"down"==r?2:1:r&&("down"==r?2:1))},_intersectsWithSides:function(t){var e=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"==r&&n||"left"==r&&!n:i&&("down"==i&&e||"up"==i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor==String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e=[],n=[],i=this._connectWith();if(i&&t)for(var r=i.length-1;0<=r;r--)for(var s=d(i[r]),o=s.length-1;0<=o;o--){var a=d.data(s[o],this.widgetName);a&&a!=this&&!a.options.disabled&&n.push([d.isFunction(a.options.items)?a.options.items.call(a.element):d(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}n.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(r=n.length-1;0<=r;r--)n[r][0].each(function(){e.push(this)});return d(e)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,function(t){for(var e=0;e<n.length;e++)if(n[e]==t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e=this.items,n=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):d(this.options.items,this.element),this]],i=this._connectWith();if(i&&this.ready)for(var r=i.length-1;0<=r;r--)for(var s=d(i[r]),o=s.length-1;0<=o;o--){var a=d.data(s[o],this.widgetName);a&&a!=this&&!a.options.disabled&&(n.push([d.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):d(a.options.items,a.element),a]),this.containers.push(a))}for(r=n.length-1;0<=r;r--)for(var l=n[r][1],c=n[r][0],h=(o=0,c.length);o<h;o++){var u=d(c[o]);u.data(this.widgetName+"-item",l),e.push({item:u,instance:l,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var e=this.items.length-1;0<=e;e--){var n=this.items[e];if(n.instance==this.currentContainer||!this.currentContainer||n.item[0]==this.currentItem[0]){var i=this.options.toleranceElement?d(this.options.toleranceElement,n.item):n.item;t||(n.width=i.outerWidth(),n.height=i.outerHeight());var r=i.offset();n.left=r.left,n.top=r.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--){r=this.containers[e].element.offset();this.containers[e].containerCache.left=r.left,this.containers[e].containerCache.top=r.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}return this},_createPlaceholder:function(n){var i=(n=n||this).options;if(!i.placeholder||i.placeholder.constructor==String){var r=i.placeholder;i.placeholder={element:function(){var t=d(document.createElement(n.currentItem[0].nodeName)).addClass(r||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(t.style.visibility="hidden"),t},update:function(t,e){(!r||i.forcePlaceholderSize)&&(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}}n.placeholder=d(i.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),i.placeholder.update(n,n.placeholder)},_contactContainers:function(t){for(var e=null,n=null,i=this.containers.length-1;0<=i;i--)if(!d.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(e&&d.contains(this.containers[i].element[0],e.element[0]))continue;e=this.containers[i],n=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(e)if(1===this.containers.length)this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1;else{for(var r=1e4,s=null,o=this.containers[n].floating?"left":"top",a=this.containers[n].floating?"width":"height",l=this.positionAbs[o]+this.offset.click[o],c=this.items.length-1;0<=c;c--)if(d.contains(this.containers[n].element[0],this.items[c].item[0])&&this.items[c].item[0]!=this.currentItem[0]){var h=this.items[c].item.offset()[o],u=!1;Math.abs(h-l)>Math.abs(h+this.items[c][a]-l)&&(u=!0,h+=this.items[c][a]),Math.abs(h-l)<r&&(r=Math.abs(h-l),s=this.items[c],this.direction=u?"up":"down")}if(!s&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[n],s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[n].element,!0),this._trigger("change",t,this._uiHash()),this.containers[n]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(t){var e=this.options,n=d.isFunction(e.helper)?d(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"==e.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||d("parent"!=e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==n[0].style.width||e.forceHelperSize)&&n.width(this.currentItem.width()),(""==n[0].style.height||e.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),d.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&d.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(d("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var e=d(t.containment)[0],n=d(t.containment).offset(),i="hidden"!=d(e).css("overflow");this.containment=[n.left+(parseInt(d(e).css("borderLeftWidth"),10)||0)+(parseInt(d(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(d(e).css("borderTopWidth"),10)||0)+(parseInt(d(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(d(e).css("borderLeftWidth"),10)||0)-(parseInt(d(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(d(e).css("borderTopWidth"),10)||0)-(parseInt(d(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"==t?1:-1,i=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(t){var e=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(n[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var r=t.pageX,s=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),e.grid)){var o=this.originalPageY+Math.round((s-this.originalPageY)/e.grid[1])*e.grid[1];s=this.containment&&(o-this.offset.click.top<this.containment[1]||o-this.offset.click.top>this.containment[3])?o-this.offset.click.top<this.containment[1]?o+e.grid[1]:o-e.grid[1]:o;var a=this.originalPageX+Math.round((r-this.originalPageX)/e.grid[0])*e.grid[0];r=this.containment&&(a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2])?a-this.offset.click.left<this.containment[0]?a+e.grid[0]:a-e.grid[0]:a}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:n.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:n.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r==this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)("auto"==this._storedCSS[i]||"static"==this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(i=this.containers.length-1;0<=i;i--)e||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedCursor&&d("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",t,this._uiHash());for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return!(this.fromOutside=!1)},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||d([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})}(jQuery),function(c,t){var e=0,d={},f={};d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="hide",f.height=f.paddingTop=f.paddingBottom=f.borderTopWidth=f.borderBottomWidth="show",c.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var s=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e),t=this.options;this.prevShow=this.prevHide=c(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(t.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),t.active<0&&(t.active+=this.headers.length),this.active=this._findActive(t.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(t){var e=c(this),n=e.attr("id"),i=e.next(),r=i.attr("id");n||(n=s+"-header-"+t,e.attr("id",n)),r||(r=s+"-panel-"+t,i.attr("id",r)),e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(t.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():c()}},_createIcons:function(){var t=this.options.icons;t&&(c("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=c.ui.keyCode,n=this.headers.length,i=this.headers.index(t.target),r=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:r=this.headers[(i+1)%n];break;case e.LEFT:case e.UP:r=this.headers[(i-1+n)%n];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:r=this.headers[0];break;case e.END:r=this.headers[n-1]}r&&(c(t.target).attr("tabIndex",-1),c(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===c.ui.keyCode.UP&&t.ctrlKey&&c(t.currentTarget).prev().focus()},refresh:function(){var n,t,e=this.options.heightStyle,i=this.element.parent();"fill"===e?(c.support.minHeight||(t=i.css("overflow"),i.css("overflow","hidden")),n=i.height(),this.element.siblings(":visible").each(function(){var t=c(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),t&&i.css("overflow",t),this.headers.each(function(){n-=c(this).outerHeight(!0)}),this.headers.next().each(function(){c(this).height(Math.max(0,n-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.headers.next().each(function(){n=Math.max(n,c(this).css("height","").height())}).height(n))},_activate:function(t){var e=this._findActive(t)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:c.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):c()},_setupEvents:function(t){var n={};t&&(c.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._on(this.headers,n))},_eventHandler:function(t){var e=this.options,n=this.active,i=c(t.currentTarget),r=i[0]===n[0],s=r&&e.collapsible,o=s?c():i.next(),a=n.next(),l={oldHeader:n,oldPanel:a,newHeader:s?c():i,newPanel:o};t.preventDefault(),r&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!s&&this.headers.index(i),this.active=r?c():i,this._toggle(l),n.removeClass("ui-accordion-header-active ui-state-active"),e.icons&&n.children(".ui-accordion-header-icon").removeClass(e.icons.activeHeader).addClass(e.icons.header),r||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),e.icons&&i.children(".ui-accordion-header-icon").removeClass(e.icons.header).addClass(e.icons.activeHeader),i.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=n,this.options.animate?this._animate(e,n,t):(n.hide(),e.show(),this._toggleComplete(t)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),e.length&&n.length?n.prev().attr("tabIndex",-1):e.length&&this.headers.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1),e.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,n,e){var i,r,s,o=this,a=0,l=t.length&&(!n.length||t.index()<n.index()),c=this.options.animate||{},h=l&&c.down||c,u=function(){o._toggleComplete(e)};return"number"==typeof h&&(s=h),"string"==typeof h&&(r=h),r=r||h.easing||c.easing,s=s||h.duration||c.duration,n.length?t.length?(i=t.show().outerHeight(),n.animate(d,{duration:s,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(f,{duration:s,easing:r,complete:u,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?a+=e.now:"content"!==o.options.heightStyle&&(e.now=Math.round(i-n.outerHeight()-a),a=0)}})):n.animate(d,s,r,u):t.animate(f,s,r,u)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),!1!==c.uiBackCompat&&(function(r,t){r.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var s=t._create;t._create=function(){if(this.options.navigation){var e=this,t=this.element.find(this.options.header),n=t.next(),i=t.add(n).find("a").filter(this.options.navigationFilter)[0];i&&t.add(n).each(function(t){return r.contains(this,i)?(e.options.active=Math.floor(t/2),!1):void 0})}s.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(t,e){t.extend(e.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var n=e._create,i=e._setOption;t.extend(e,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),n.call(this)},_setOption:function(t){("autoHeight"===t||"clearStyle"===t||"fillSpace"===t)&&(this.options.heightStyle=this._mergeHeightStyle()),i.apply(this,arguments)},_mergeHeightStyle:function(){var t=this.options;return t.fillSpace?"fill":t.clearStyle?"content":t.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(t,e){t.extend(e.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var n=e._createIcons;e._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(t,e){e.activate=e._activate;var n=e._findActive;e._findActive=function(t){return-1===t&&(t=!1),t&&"number"!=typeof t&&(-1===(t=this.headers.index(this.headers.filter(t)))&&(t=!1)),n.call(this,t)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(t,e){t.extend(e.options,{change:null,changestart:null});var r=e._trigger;e._trigger=function(t,e,n){var i=r.apply(this,arguments);return!!i&&("beforeActivate"===t?i=r.call(this,"changestart",e,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel}):"activate"===t&&(i=r.call(this,"change",e,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel})),i)}}(jQuery,jQuery.ui.accordion.prototype),function(t,e){t.extend(e.options,{animate:null,animated:"slide"});var n=e._create;e._create=function(){var t=this.options;null===t.animate&&(t.animated?"slide"===t.animated?t.animate=300:"bounceslide"===t.animated?t.animate={duration:200,down:{easing:"easeOutBounce",duration:1e3}}:t.animate=t.animated:t.animate=!1),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(s,t){var i=0;s.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var n,i,r;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))i=r=n=!0;else{i=r=n=!1;var e=s.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:n=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:n=!0,this._move("nextPage",t);break;case e.UP:n=!0,this._keyEvent("previous",t);break;case e.DOWN:n=!0,this._keyEvent("next",t);break;case e.ENTER:case e.NUMPAD_ENTER:this.menu.active&&(n=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(t),t.preventDefault());break;default:i=!0,this._searchTimeout(t)}}},keypress:function(t){if(n)return n=!1,void t.preventDefault();if(!i){var e=s.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){return r?(r=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=s("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:s(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];s(t.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(t){t.target===e.element[0]||t.target===n||s.contains(n,t.target)||e.close()})})},menufocus:function(t,e){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){s(t.target).trigger(t.originalEvent)});var n=e.item.data("ui-autocomplete-item")||e.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item")||e.item.data("item.autocomplete"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=s("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),s.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this.document.find(e||"body")[0]),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var n,i,r=this;s.isArray(this.options.source)?(n=this.options.source,this.source=function(t,e){e(s.ui.autocomplete.filter(n,t.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,e){r.xhr&&r.xhr.abort(),r.xhr=s.ajax({url:i,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=this,n=++i;return function(t){n===i&&e.__response(t),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:s.map(t,function(t){return"string"==typeof t?{label:t,value:t}:s.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var e=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(e,t),this.menu.refresh(),e.show(),this._resizeMenu(),e.position(s.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,t){var i=this;s.each(t,function(t,e){i._renderItemData(n,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return s("<li>").append(s("<a>").text(e.label)).appendTo(t)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),s.extend(s.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var n=new RegExp(s.ui.autocomplete.escapeRegex(e),"i");return s.grep(t,function(t){return n.test(t.label||t.value||t)})}}),s.widget("ui.autocomplete",s.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(s,t){var o,a,l,c,h="ui-button ui-widget ui-state-default ui-corner-all",u="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",d=function(){var t=s(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},f=function(t){var e=t.name,n=t.form,i=s([]);return e&&(i=n?s(n).find("[name='"+e+"']"):s("[name='"+e+"']",t.ownerDocument).filter(function(){return!this.form})),i};s.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,d),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,t="checkbox"===this.type||"radio"===this.type,i=t?"":"ui-state-active",r="ui-state-focus";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(h).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===o&&s(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||s(this).removeClass(i)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass(r)}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass(r)}),t&&(this.element.bind("change"+this.eventNamespace,function(){c||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){n.disabled||(c=!1,a=t.pageX,l=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){n.disabled||(a!==t.pageX||l!==t.pageY)&&(c=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!n.disabled&&!c&&(s(this).toggleClass("ui-state-active"),void e.buttonElement.attr("aria-pressed",e.element[0].checked))}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled||c)return!1;s(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var t=e.element[0];f(t).not(t).map(function(){return s(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!n.disabled&&(s(this).addClass("ui-state-active"),o=this,void e.document.one("mouseup",function(){o=null}))}).bind("mouseup"+this.eventNamespace,function(){return!n.disabled&&void s(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return!n.disabled&&void((t.keyCode===s.ui.keyCode.SPACE||t.keyCode===s.ui.keyCode.ENTER)&&s(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace,function(){s(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===s.ui.keyCode.SPACE&&s(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(h+" ui-state-hover ui-state-active  "+u).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?f(this.element[0]).each(function(){s(this).is(":checked")?s(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):s(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(u),e=s("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,i=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(i?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",s.trim(e)))):r.push("ui-button-text-only"),t.addClass(r.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),s.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return s(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return s(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(e,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(e,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?t.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(t,e){for(var n in $.extend(t,e),e)(null==e[n]||e[n]==undefined)&&(t[n]=e[n]);return t}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(t){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(t,i){var e=$(t);i.append=$([]),i.trigger=$([]),e.hasClass(this.markerClassName)||(this._attachments(e,i),e.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(t,e,n){i.settings[e]=n}).bind("getData.datepicker",function(t,e){return this._get(i,e)}),this._autoSize(i),$.data(t,PROP_NAME,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var n=this._get(e,"appendText"),i=this._get(e,"isRTL");e.append&&e.append.remove(),n&&(e.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),t[i?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove();var r=this._get(e,"showOn");if(("focus"==r||"both"==r)&&t.focus(this._showDatepicker),"button"==r||"both"==r){var s=this._get(e,"buttonText"),o=this._get(e,"buttonImage");e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==o?s:$("<img/>").attr({src:o,alt:s,title:s}))),t[i?"before":"after"](e.trigger),e.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==t[0]?$.datepicker._hideDatepicker():($.datepicker._datepickerShowing&&$.datepicker._lastInput!=t[0]&&$.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])),!1})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e=new Date(2009,11,20),n=this._get(t,"dateFormat");if(n.match(/[DM]/)){var i=function(t){for(var e=0,n=0,i=0;i<t.length;i++)t[i].length>e&&(e=t[i].length,n=i);return n};e.setMonth(i(this._get(t,n.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(i(this._get(t,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}t.input.attr("size",this._formatDate(t,e).length)}},_inlineDatepicker:function(t,i){var e=$(t);e.hasClass(this.markerClassName)||(e.addClass(this.markerClassName).append(i.dpDiv).bind("setData.datepicker",function(t,e,n){i.settings[e]=n}).bind("getData.datepicker",function(t,e){return this._get(i,e)}),$.data(t,PROP_NAME,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,n,i,r){var s=this._dialogInst;if(!s){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),(s=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],PROP_NAME,s)}if(extendRemove(s.settings,i||{}),e=e&&e.constructor==Date?this._formatDate(s,e):e,this._dialogInput.val(e),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,!this._pos){var a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[a/2-100+c,l/2-150+h]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,s),this},_destroyDatepicker:function(t){var e=$(t),n=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var i=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),"input"==i?(n.append.remove(),n.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==i||"span"==i)&&e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==i||"span"==i){var r=t.children("."+this._inlineClass);r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==i||"span"==i){var r=t.children("."+this._inlineClass);r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]==t)return!0;return!1},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,n){var i=this._getInst(t);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?$.extend({},$.datepicker._defaults):i?"all"==e?$.extend({},i.settings):this._get(i,e):null;var r=e||{};if("string"==typeof e&&((r={})[e]=n),i){this._curInst==i&&this._hideDatepicker();var s=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(i,"min"),a=this._getMinMaxDate(i,"max");extendRemove(i.settings,r),null!==o&&r.dateFormat!==undefined&&r.minDate===undefined&&(i.settings.minDate=this._formatDate(i,o)),null!==a&&r.dateFormat!==undefined&&r.maxDate===undefined&&(i.settings.maxDate=this._formatDate(i,a)),this._attachments($(t),i),this._autoSize(i),this._setDate(i,s),this._updateAlternate(i),this._updateDatepicker(i)}},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(t){var e=$.datepicker._getInst(t.target),n=!0,i=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var r=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv);r[0]&&$.datepicker._selectDay(t.target,e.selectedMonth,e.selectedYear,r[0]);var s=$.datepicker._get(e,"onSelect");if(s){var o=$.datepicker._formatDate(e);s.apply(e.input?e.input[0]:null,[o,e])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),n=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),n=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,i?1:-1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),n=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,i?-1:1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),n=t.ctrlKey||t.metaKey;break;default:n=!1}else 36==t.keyCode&&t.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e=$.datepicker._getInst(t.target);if($.datepicker._get(e,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),i=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||i<" "||!n||-1<n.indexOf(i)}},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!=e.lastVal)try{$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e))&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(t){$.datepicker.log(t)}return!0},_showDatepicker:function(t){if("input"!=(t=t.target||t).nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),!$.datepicker._isDisabledDatepicker(t)&&$.datepicker._lastInput!=t){var n=$.datepicker._getInst(t);$.datepicker._curInst&&$.datepicker._curInst!=n&&($.datepicker._curInst.dpDiv.stop(!0,!0),n&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var e=$.datepicker._get(n,"beforeShow"),i=e?e.apply(t,[t,n]):{};if(!1!==i){extendRemove(n.settings,i),n.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(n),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight);var r=!1;$(t).parents().each(function(){return!(r|="fixed"==$(this).css("position"))});var s={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(n),s=$.datepicker._checkOffset(n,s,r),n.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":r?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),!n.inline){var o=$.datepicker._get(n,"showAnim"),a=$.datepicker._get(n,"duration"),l=function(){var t=n.dpDiv.find("iframe.ui-datepicker-cover");if(t.length){var e=$.datepicker._getBorders(n.dpDiv);t.css({left:-e[0],top:-e[1],width:n.dpDiv.outerWidth(),height:n.dpDiv.outerHeight()})}};n.dpDiv.zIndex($(t).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[o]||$.effects[o])?n.dpDiv.show(o,$.datepicker._get(n,"showOptions"),a,l):n.dpDiv[o||"show"](o?a:null,l),o&&a||l(),n.input.is(":visible")&&!n.input.is(":disabled")&&n.input.focus(),$.datepicker._curInst=n}}}},_updateDatepicker:function(t){this.maxRows=4;var e=$.datepicker._getBorders(t.dpDiv);(instActive=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n=t.dpDiv.find("iframe.ui-datepicker-cover");n.length&&n.css({left:-e[0],top:-e[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i=this._getNumberOfMonths(t),r=i[1];if(t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<r&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),t.dpDiv[(1!=i[0]||1!=i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==$.datepicker._curInst&&$.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml){var s=t.yearshtml;setTimeout(function(){s===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),s=t.yearshtml=null},0)}},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(t,e,n){var i=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return e.left-=this._get(t,"isRTL")?i-s:0,e.left-=n&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=n&&e.top==t.input.offset().top+o?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+i>a&&i<a?Math.abs(e.left+i-a):0),e.top-=Math.min(e.top,e.top+r>l&&r<l?Math.abs(r+o):0),e},_findPos:function(t){for(var e=this._getInst(t),n=this._get(e,"isRTL");t&&("hidden"==t.type||1!=t.nodeType||$.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];var i=$(t).offset();return[i.left,i.top]},_hideDatepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._datepickerShowing){var n=this._get(e,"showAnim"),i=this._get(e,"duration"),r=function(){$.datepicker._tidyDialog(e)};$.effects&&($.effects.effect[n]||$.effects[n])?e.dpDiv.hide(n,$.datepicker._get(e,"showOptions"),i,r):e.dpDiv["slideDown"==n?"slideUp":"fadeIn"==n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1;var s=this._get(e,"onClose");s&&s.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),n=$.datepicker._getInst(e[0]);(e[0].id!=$.datepicker._mainDivId&&0==e.parents("#"+$.datepicker._mainDivId).length&&!e.hasClass($.datepicker.markerClassName)&&!e.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||e.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,n){var i=$(t),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,e+("M"==n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var e=$(t),n=this._getInst(e[0]);if(this._get(n,"gotoCurrent")&&n.currentDay)n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear;else{var i=new Date;n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()}this._notifyChange(n),this._adjustDate(e)},_selectMonthYear:function(t,e,n){var i=$(t),r=this._getInst(i[0]);r["selected"+("M"==n?"Month":"Year")]=r["draw"+("M"==n?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(t,e,n,i){var r=$(t);if(!$(i).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(r[0])){var s=this._getInst(r[0]);s.selectedDay=s.currentDay=$("a",i).html(),s.selectedMonth=s.currentMonth=e,s.selectedYear=s.currentYear=n,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))}},_clearDate:function(t){var e=$(t);this._getInst(e[0]),this._selectDate(e,"")},_selectDate:function(t,e){var n=$(t),i=this._getInst(n[0]);e=null!=e?e:this._formatDate(i),i.input&&i.input.val(e),this._updateAlternate(i);var r=this._get(i,"onSelect");r?r.apply(i.input?i.input[0]:null,[e,i]):i.input&&i.input.trigger("change"),i.inline?this._updateDatepicker(i):(this._hideDatepicker(),this._lastInput=i.input[0],"object"!=typeof i.input[0]&&i.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e=this._get(t,"altField");if(e){var n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t));$(e).each(function(){$(this).val(r)})}},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1},parseDate:function(n,s,t){if(null==n||null==s)throw"Invalid arguments";if(""==(s="object"==typeof s?s.toString():s+""))return null;var e=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff;e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10);for(var i=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,r=(t?t.dayNames:null)||this._defaults.dayNames,o=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,a=(t?t.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,h=-1,u=-1,d=!1,f=function(t){var e=y+1<n.length&&n.charAt(y+1)==t;return e&&y++,e},p=function(t){var e=f(t),n=new RegExp("^\\d{1,"+("@"==t?14:"!"==t?20:"y"==t&&e?4:"o"==t?3:2)+"}"),i=s.substring(v).match(n);if(!i)throw"Missing number at position "+v;return v+=i[0].length,parseInt(i[0],10)},g=function(t,e,n){var i=$.map(f(t)?n:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)}),r=-1;if($.each(i,function(t,e){var n=e[1];return s.substr(v,n.length).toLowerCase()==n.toLowerCase()?(r=e[0],v+=n.length,!1):void 0}),-1!=r)return r+1;throw"Unknown name at position "+v},m=function(){if(s.charAt(v)!=n.charAt(y))throw"Unexpected literal at position "+v;v++},v=0,y=0;y<n.length;y++)if(d)"'"!=n.charAt(y)||f("'")?m():d=!1;else switch(n.charAt(y)){case"d":h=p("d");break;case"D":g("D",i,r);break;case"o":u=p("o");break;case"m":c=p("m");break;case"M":c=g("M",o,a);break;case"y":l=p("y");break;case"@":l=(b=new Date(p("@"))).getFullYear(),c=b.getMonth()+1,h=b.getDate();break;case"!":var b;l=(b=new Date((p("!")-this._ticksTo1970)/1e4)).getFullYear(),c=b.getMonth()+1,h=b.getDate();break;case"'":f("'")?m():d=!0;break;default:m()}if(v<s.length){var _=s.substr(v);if(!/^\s+/.test(_))throw"Extra/unparsed characters found in date: "+_}if(-1==l?l=(new Date).getFullYear():l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=e?0:-100)),-1<u)for(c=1,h=u;;){var w=this._getDaysInMonth(l,c-1);if(h<=w)break;c++,h-=w}if((b=this._daylightSavingAdjust(new Date(l,c-1,h))).getFullYear()!=l||b.getMonth()+1!=c||b.getDate()!=h)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(n,t,e){if(!t)return"";var i=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,r=(e?e.dayNames:null)||this._defaults.dayNames,s=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,o=(e?e.monthNames:null)||this._defaults.monthNames,a=function(t){var e=d+1<n.length&&n.charAt(d+1)==t;return e&&d++,e},l=function(t,e,n){var i=""+e;if(a(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return a(t)?i[e]:n[e]},h="",u=!1;if(t)for(var d=0;d<n.length;d++)if(u)"'"!=n.charAt(d)||a("'")?h+=n.charAt(d):u=!1;else switch(n.charAt(d)){case"d":h+=l("d",t.getDate(),2);break;case"D":h+=c("D",t.getDay(),i,r);break;case"o":h+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=l("m",t.getMonth()+1,2);break;case"M":h+=c("M",t.getMonth(),s,o);break;case"y":h+=a("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":a("'")?h+="'":u=!0;break;default:h+=n.charAt(d)}return h},_possibleChars:function(n){for(var t="",e=!1,i=function(t){var e=r+1<n.length&&n.charAt(r+1)==t;return e&&r++,e},r=0;r<n.length;r++)if(e)"'"!=n.charAt(r)||i("'")?t+=n.charAt(r):e=!1;else switch(n.charAt(r)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":i("'")?t+="'":e=!0;break;default:t+=n.charAt(r)}return t},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!=t.lastVal){var n,i,r=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null;n=i=this._getDefaultDate(t);var o=this._getFormatConfig(t);try{n=this.parseDate(r,s,o)||i}catch(t){this.log(t),s=e?"":s}t.selectedDay=n.getDate(),t.drawMonth=t.selectedMonth=n.getMonth(),t.drawYear=t.selectedYear=n.getFullYear(),t.currentDay=s?n.getDate():0,t.currentMonth=s?n.getMonth():0,t.currentYear=s?n.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(a,t,e){var n,i,r=null==t||""===t?e:"string"==typeof t?function(t){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),t,$.datepicker._getFormatConfig(a))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,n=e.getFullYear(),i=e.getMonth(),r=e.getDate(),s=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,o=s.exec(t);o;){switch(o[2]||"d"){case"d":case"D":r+=parseInt(o[1],10);break;case"w":case"W":r+=7*parseInt(o[1],10);break;case"m":case"M":i+=parseInt(o[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(o[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(n,i))}o=s.exec(t)}return new Date(n,i,r)}(t):"number"==typeof t?isNaN(t)?e:(n=t,(i=new Date).setDate(i.getDate()+n),i):new Date(t.getTime());return(r=r&&"Invalid Date"==r.toString()?e:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,s=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),r==t.selectedMonth&&s==t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""==t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-e,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+e,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()));var n=this._get(t,"isRTL"),i=this._get(t,"showButtonPanel"),r=this._get(t,"hideIfNoPrevNext"),s=this._get(t,"navigationAsDateFormat"),o=this._getNumberOfMonths(t),a=this._get(t,"showCurrentAtPos"),l=this._get(t,"stepMonths"),c=1!=o[0]||1!=o[1],h=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(t,"min"),d=this._getMinMaxDate(t,"max"),f=t.drawMonth-a,p=t.drawYear;if(f<0&&(f+=12,p--),d){var g=this._daylightSavingAdjust(new Date(d.getFullYear(),d.getMonth()-o[0]*o[1]+1,d.getDate()));for(g=u&&g<u?u:g;this._daylightSavingAdjust(new Date(p,f,1))>g;)--f<0&&(f=11,p--)}t.drawMonth=f,t.drawYear=p;var m=this._get(t,"prevText");m=s?this.formatDate(m,this._daylightSavingAdjust(new Date(p,f-l,1)),this._getFormatConfig(t)):m;var v=this._canAdjustMonth(t,-1,p,f)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":r?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",y=this._get(t,"nextText");y=s?this.formatDate(y,this._daylightSavingAdjust(new Date(p,f+l,1)),this._getFormatConfig(t)):y;var b=this._canAdjustMonth(t,1,p,f)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>":r?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>",_=this._get(t,"currentText"),w=this._get(t,"gotoCurrent")&&t.currentDay?h:e;_=s?this.formatDate(_,w,this._getFormatConfig(t)):_;var x=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(t,"closeText")+"</button>",A=i?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?x:"")+(this._isInRange(t,w)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+_+"</button>":"")+(n?"":x)+"</div>":"",C=parseInt(this._get(t,"firstDay"),10);C=isNaN(C)?0:C;for(var E=this._get(t,"showWeek"),k=this._get(t,"dayNames"),S=(this._get(t,"dayNamesShort"),this._get(t,"dayNamesMin")),F=this._get(t,"monthNames"),T=this._get(t,"monthNamesShort"),D=this._get(t,"beforeShowDay"),M=this._get(t,"showOtherMonths"),P=this._get(t,"selectOtherMonths"),L=(this._get(t,"calculateWeek")||this.iso8601Week,this._getDefaultDate(t)),B="",R=0;R<o[0];R++){var O="";this.maxRows=4;for(var I=0;I<o[1];I++){var N=this._daylightSavingAdjust(new Date(p,f,t.selectedDay)),z=" ui-corner-all",H="";if(c){if(H+='<div class="ui-datepicker-group',1<o[1])switch(I){case 0:H+=" ui-datepicker-group-first",z=" ui-corner-"+(n?"right":"left");break;case o[1]-1:H+=" ui-datepicker-group-last",z=" ui-corner-"+(n?"left":"right");break;default:H+=" ui-datepicker-group-middle",z=""}H+='">'}H+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+z+'">'+(/all|left/.test(z)&&0==R?n?b:v:"")+(/all|right/.test(z)&&0==R?n?v:b:"")+this._generateMonthYearHeader(t,f,p,u,d,0<R||0<I,F,T)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var j=E?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"</th>":"",W=0;W<7;W++){var V=(W+C)%7;j+="<th"+(5<=(W+C+6)%7?' class="ui-datepicker-week-end"':"")+'><span title="'+k[V]+'">'+S[V]+"</span></th>"}H+=j+"</tr></thead><tbody>";var U=this._getDaysInMonth(p,f);p==t.selectedYear&&f==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,U));var Y=(this._getFirstDayOfMonth(p,f)-C+7)%7,q=Math.ceil((Y+U)/7),Z=c&&this.maxRows>q?this.maxRows:q;this.maxRows=Z;for(var G=this._daylightSavingAdjust(new Date(p,f,1-Y)),K=0;K<Z;K++){H+="<tr>";var X=E?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(G)+"</td>":"";for(W=0;W<7;W++){var Q=D?D.apply(t.input?t.input[0]:null,[G]):[!0,""],J=G.getMonth()!=f,tt=J&&!P||!Q[0]||u&&G<u||d&&d<G;X+='<td class="'+(5<=(W+C+6)%7?" ui-datepicker-week-end":"")+(J?" ui-datepicker-other-month":"")+(G.getTime()==N.getTime()&&f==t.selectedMonth&&t._keyEvent||L.getTime()==G.getTime()&&L.getTime()==N.getTime()?" "+this._dayOverClass:"")+(tt?" "+this._unselectableClass+" ui-state-disabled":"")+(J&&!M?"":" "+Q[1]+(G.getTime()==h.getTime()?" "+this._currentClass:"")+(G.getTime()==e.getTime()?" ui-datepicker-today":""))+'"'+(J&&!M||!Q[2]?"":' title="'+Q[2]+'"')+(tt?"":' data-handler="selectDay" data-event="click" data-month="'+G.getMonth()+'" data-year="'+G.getFullYear()+'"')+">"+(J&&!M?"&#xa0;":tt?'<span class="ui-state-default">'+G.getDate()+"</span>":'<a class="ui-state-default'+(G.getTime()==e.getTime()?" ui-state-highlight":"")+(G.getTime()==h.getTime()?" ui-state-active":"")+(J?" ui-priority-secondary":"")+'" href="#">'+G.getDate()+"</a>")+"</td>",G.setDate(G.getDate()+1),G=this._daylightSavingAdjust(G)}H+=X+"</tr>"}11<++f&&(f=0,p++),O+=H+="</tbody></table>"+(c?"</div>"+(0<o[0]&&I==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}B+=O}return B+=A+($.ui.ie6&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),t._keyEvent=!1,B},_generateMonthYearHeader:function(t,e,n,i,r,s,o,a){var l=this._get(t,"changeMonth"),c=this._get(t,"changeYear"),h=this._get(t,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',d="";if(s||!l)d+='<span class="ui-datepicker-month">'+o[e]+"</span>";else{var f=i&&i.getFullYear()==n,p=r&&r.getFullYear()==n;d+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;g<12;g++)(!f||g>=i.getMonth())&&(!p||g<=r.getMonth())&&(d+='<option value="'+g+'"'+(g==e?' selected="selected"':"")+">"+a[g]+"</option>");d+="</select>"}if(h||(u+=d+(!s&&l&&c?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!c)u+='<span class="ui-datepicker-year">'+n+"</span>";else{var m=this._get(t,"yearRange").split(":"),v=(new Date).getFullYear(),y=function(t){var e=t.match(/c[+-].*/)?n+parseInt(t.substring(1),10):t.match(/[+-].*/)?v+parseInt(t,10):parseInt(t,10);return isNaN(e)?v:e},b=y(m[0]),_=Math.max(b,y(m[1]||""));for(b=i?Math.max(b,i.getFullYear()):b,_=r?Math.min(_,r.getFullYear()):_,t.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';b<=_;b++)t.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>";t.yearshtml+="</select>",u+=t.yearshtml,t.yearshtml=null}return u+=this._get(t,"yearSuffix"),h&&(u+=(!s&&l&&c?"":"&#xa0;")+d),u+"</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"==n?e:0),r=t.drawMonth+("M"==n?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"==n?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,s)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),("M"==n||"Y"==n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&i<r?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max");return(!n||e.getTime()>=n.getTime())&&(!i||e.getTime()<=i.getTime())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!=t&&"getDate"!=t&&"widget"!=t?"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)}):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(l,t){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",s={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},o={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};l.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=l(this).css(t).offset().top;e<0&&l(this).css("top",t.top-e)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var r,t,e,n,i,s=this,o=this.options,a=o.title||"&#160;";r=(this.uiDialog=l("<div>")).addClass(c+o.dialogClass).css({display:"none",outline:0,zIndex:o.zIndex}).attr("tabIndex",-1).keydown(function(t){o.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===l.ui.keyCode.ESCAPE&&(s.close(t),t.preventDefault())}).mousedown(function(t){s.moveToTop(!1,t)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(r),t=(this.uiDialogTitlebar=l("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){r.focus()}).prependTo(r),e=l("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(t){t.preventDefault(),s.close(t)}).appendTo(t),(this.uiDialogTitlebarCloseText=l("<span>")).addClass("ui-icon ui-icon-closethick").text(o.closeText).appendTo(e),n=l("<span>").uniqueId().addClass("ui-dialog-title").html(a).prependTo(t),i=(this.uiDialogButtonPane=l("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=l("<div>")).addClass("ui-dialog-buttonset").appendTo(i),r.attr({role:"dialog","aria-labelledby":n.attr("id")}),t.find("*").add(t).disableSelection(),this._hoverable(e),this._focusable(e),o.draggable&&l.fn.draggable&&this._makeDraggable(),o.resizable&&l.fn.resizable&&this._makeResizable(),this._createButtons(o.buttons),this._isOpen=!1,l.fn.bgiframe&&r.bgiframe(),this._on(r,{keydown:function(t){if(o.modal&&t.keyCode===l.ui.keyCode.TAB){var e=l(":tabbable",r),n=e.filter(":first"),i=e.filter(":last");return t.target!==i[0]||t.shiftKey?t.target===n[0]&&t.shiftKey?(i.focus(1),!1):void 0:(n.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var t,e=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var e,n,i=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}):(this.uiDialog.hide(),this._trigger("close",t)),l.ui.dialog.overlay.resize(),this.options.modal&&(e=0,l(".ui-dialog").each(function(){this!==i.uiDialog[0]&&(n=l(this).css("z-index"),isNaN(n)||(e=Math.max(e,n)))}),l.ui.dialog.maxZ=e),this},isOpen:function(){return this._isOpen},moveToTop:function(t,e){var n,i=this.options;return i.modal&&!t||!i.stack&&!i.modal?this._trigger("focus",e):(i.zIndex>l.ui.dialog.maxZ&&(l.ui.dialog.maxZ=i.zIndex),this.overlay&&(l.ui.dialog.maxZ+=1,l.ui.dialog.overlay.maxZ=l.ui.dialog.maxZ,this.overlay.$el.css("z-index",l.ui.dialog.overlay.maxZ)),n={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},l.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",l.ui.dialog.maxZ),this.element.attr(n),this._trigger("focus",e),this)},open:function(){if(!this._isOpen){var t,e=this.options,n=this.uiDialog;return this._size(),this._position(e.position),n.show(e.show),this.overlay=e.modal?new l.ui.dialog.overlay(this):null,this.moveToTop(!0),(t=this.element.find(":tabbable")).length||((t=this.uiDialogButtonPane.find(":tabbable")).length||(t=n)),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(t){var r=this,e=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof t&&null!==t&&l.each(t,function(){return!(e=!0)}),e?(l.each(t,function(t,e){var n,i;e=l.isFunction(e)?{click:e,text:t}:e,e=l.extend({type:"button"},e),i=e.click,e.click=function(){i.apply(r.element[0],arguments)},n=l("<button></button>",e).appendTo(r.uiButtonSet),l.fn.button&&n.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function n(t){return{position:t.position,offset:t.offset}}var i=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){l(this).addClass("ui-dialog-dragging"),i._trigger("dragStart",t,n(e))},drag:function(t,e){i._trigger("drag",t,n(e))},stop:function(t,e){r.position=[e.position.left-i.document.scrollLeft(),e.position.top-i.document.scrollTop()],l(this).removeClass("ui-dialog-dragging"),i._trigger("dragStop",t,n(e)),l.ui.dialog.overlay.resize()}})},_makeResizable:function(t){function n(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}t=void 0===t?this.options.resizable:t;var i=this,r=this.options,e=this.uiDialog.css("position"),s="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:s,start:function(t,e){l(this).addClass("ui-dialog-resizing"),i._trigger("resizeStart",t,n(e))},resize:function(t,e){i._trigger("resize",t,n(e))},stop:function(t,e){l(this).removeClass("ui-dialog-resizing"),r.height=l(this).height(),r.width=l(this).width(),i._trigger("resizeStop",t,n(e)),l.ui.dialog.overlay.resize()}}).css("position",e).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(t){var e,n=[],i=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(1===(n=t.split?t.split(" "):[t[0],t[1]]).length&&(n[1]=n[0]),l.each(["left","top"],function(t,e){+n[t]===n[t]&&(i[t]=n[t],n[t]=e)}),t={my:n[0]+(i[0]<0?i[0]:"+"+i[0])+" "+n[1]+(i[1]<0?i[1]:"+"+i[1]),at:n.join(" ")}),t=l.extend({},l.ui.dialog.prototype.options.position,t)):t=l.ui.dialog.prototype.options.position,(e=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(t),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i={},r=!1;l.each(t,function(t,e){n._setOption(t,e),t in s&&(r=!0),t in o&&(i[t]=e)}),r&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(t,e){var n,i,r=this.uiDialog;switch(t){case"buttons":this._createButtons(e);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+e);break;case"dialogClass":r.removeClass(this.options.dialogClass).addClass(c+e);break;case"disabled":e?r.addClass("ui-dialog-disabled"):r.removeClass("ui-dialog-disabled");break;case"draggable":(n=r.is(":data(draggable)"))&&!e&&r.draggable("destroy"),!n&&e&&this._makeDraggable();break;case"position":this._position(e);break;case"resizable":(i=r.is(":data(resizable)"))&&!e&&r.resizable("destroy"),i&&"string"==typeof e&&r.resizable("option","handles",e),i||!1===e||this._makeResizable(e);break;case"title":l(".ui-dialog-title",this.uiDialogTitlebar).html(""+(e||"&#160;"))}this._super(t,e)},_size:function(){var t,e,n,i=this.options,r=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),"auto"===i.height?l.support.minHeight?this.element.css({minHeight:e,height:"auto"}):(this.uiDialog.show(),n=this.element.css("height","auto").height(),r||this.uiDialog.hide(),this.element.height(Math.max(n,e))):this.element.height(Math.max(i.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),l.extend(l.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(t){var e=t.attr("id");return e||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(t){this.$el=l.ui.dialog.overlay.create(t)}}),l.extend(l.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:l.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(t){return t+".dialog-overlay"}).join(" "),create:function(n){0===this.instances.length&&(setTimeout(function(){l.ui.dialog.overlay.instances.length&&l(document).bind(l.ui.dialog.overlay.events,function(t){return!(l(t.target).zIndex()<l.ui.dialog.overlay.maxZ)&&void 0})},1),l(window).bind("resize.dialog-overlay",l.ui.dialog.overlay.resize));var i=this.oldInstances.pop()||l("<div>").addClass("ui-widget-overlay");return l(document).bind("keydown.dialog-overlay",function(t){var e=l.ui.dialog.overlay.instances;0!==e.length&&e[e.length-1]===i&&n.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===l.ui.keyCode.ESCAPE&&(n.close(t),t.preventDefault())}),i.appendTo(document.body).css({width:this.width(),height:this.height()}),l.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var e=l.inArray(t,this.instances),n=0;-1!==e&&this.oldInstances.push(this.instances.splice(e,1)[0]),0===this.instances.length&&l([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),l.each(this.instances,function(){n=Math.max(n,this.css("z-index"))}),this.maxZ=n},height:function(){var t;return l.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))<Math.max(document.documentElement.offsetHeight,document.body.offsetHeight)?l(window).height()+"px":t+"px":l(document).height()+"px"},width:function(){var t;return l.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))<Math.max(document.documentElement.offsetWidth,document.body.offsetWidth)?l(window).width()+"px":t+"px":l(document).width()+"px"},resize:function(){var t=l([]);l.each(l.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:l.ui.dialog.overlay.width(),height:l.ui.dialog.overlay.height()})}}),l.extend(l.ui.dialog.overlay.prototype,{destroy:function(){l.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(l,t){var n=!1;l.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,l.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(t){var e=l(t.target).closest(".ui-menu-item");!n&&e.not(".ui-state-disabled").length&&(n=!0,this.select(t),e.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var e=l(t.currentTarget);e.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,e)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,n)},blur:function(t){this._delay(function(){l.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){l(t.target).closest(".ui-menu").length||this.collapseAll(t),n=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=l(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function e(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,i,r,s,o,a=!0;switch(t.keyCode){case l.ui.keyCode.PAGE_UP:this.previousPage(t);break;case l.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case l.ui.keyCode.HOME:this._move("first","first",t);break;case l.ui.keyCode.END:this._move("last","last",t);break;case l.ui.keyCode.UP:this.previous(t);break;case l.ui.keyCode.DOWN:this.next(t);break;case l.ui.keyCode.LEFT:this.collapse(t);break;case l.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case l.ui.keyCode.ENTER:case l.ui.keyCode.SPACE:this._activate(t);break;case l.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,i=this.previousFilter||"",r=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),r===i?s=!0:r=i+r,o=new RegExp("^"+e(r),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(l(this).children("a").text())}),(n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(t.keyCode),o=new RegExp("^"+e(r),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(l(this).children("a").text())})),n.length?(this.focus(t,n),1<n.length?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}a&&t.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,i=this.options.icons.submenu,e=this.element.find(this.options.menus);e.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=l(this),e=t.prev("a"),n=l("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);e.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",e.attr("id"))}),(t=e.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=l(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!l.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,n,i,r,s,o;this._hasScroll()&&(e=parseFloat(l.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(l.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-n,r=this.activeMenu.scrollTop(),s=this.activeMenu.height(),o=t.height(),i<0?this.activeMenu.scrollTop(r+i):s<i+o&&this.activeMenu.scrollTop(r+i-s+o))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=l.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var t=n?this.element:l(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this.activeMenu=t},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(n,i)},nextPage:function(t){var e,n,i;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(e=l(this)).offset().top-n-i<0}),this.focus(t,e)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var e,n,i;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=l(this)).offset().top-n+i}),this.focus(t,e)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||l(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)}})}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this._value():(this._setOption("value",t),this)},_setOption:function(t,e){"value"===t&&(this.options.value=e,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(t,e)},_value:function(){var t=this.options.value;return"number"!=typeof t&&(t=0),Math.min(this.options.max,Math.max(this.min,t))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var t=this.value(),e=this._percentage();this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),this.valueDiv.toggle(t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(e.toFixed(0)+"%"),this.element.attr("aria-valuenow",t)}})}(jQuery),function(h,t){h.widget("ui.slider",h.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t,e,n=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=h([]),n.range&&(!0===n.range&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=h("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:""))),e=n.values&&n.values.length||1,t=i.length;t<e;t++)r.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=i.add(h(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(t){t.preventDefault()}).mouseenter(function(){n.disabled||h(this).addClass("ui-state-hover")}).mouseleave(function(){h(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?h(this).blur():(h(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),h(this).addClass("ui-state-focus"))}).blur(function(){h(this).removeClass("ui-state-focus")}),this.handles.each(function(t){h(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(t){var e,n,i,r=h(t.target).data("ui-slider-handle-index");switch(t.keyCode){case h.ui.keyCode.HOME:case h.ui.keyCode.END:case h.ui.keyCode.PAGE_UP:case h.ui.keyCode.PAGE_DOWN:case h.ui.keyCode.UP:case h.ui.keyCode.RIGHT:case h.ui.keyCode.DOWN:case h.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,h(t.target).addClass("ui-state-active"),!1===this._start(t,r)))return}switch(i=this.options.step,e=n=this.options.values&&this.options.values.length?this.values(r):this.value(),t.keyCode){case h.ui.keyCode.HOME:n=this._valueMin();break;case h.ui.keyCode.END:n=this._valueMax();break;case h.ui.keyCode.PAGE_UP:n=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/5);break;case h.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/5);break;case h.ui.keyCode.UP:case h.ui.keyCode.RIGHT:if(e===this._valueMax())return;n=this._trimAlignValue(e+i);break;case h.ui.keyCode.DOWN:case h.ui.keyCode.LEFT:if(e===this._valueMin())return;n=this._trimAlignValue(e-i)}this._slide(t,r,n)},keyup:function(t){var e=h(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),h(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var e,n,i,r,s,o,a,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(n-l.values(t));e<i&&(i=e,r=h(this),s=t)}),!0===c.range&&this.values(1)===c.min&&(s+=1,r=h(this.handles[s])),!1!==this._start(t,s)&&(this._mouseSliding=!0,this._handleIndex=s,r.addClass("ui-state-active").focus(),o=r.offset(),a=!h(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:t.pageX-o.left-r.width()/2,top:t.pageY-o.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,s;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),1<(i=n/e)&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),s=this._valueMin()+i*r,this._trimAlignValue(s)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,r,s;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i<n||1===e&&n<i)&&(n=i),n!==this.values(e)&&((r=this.values())[e]=n,s=this._trigger("slide",t,{handle:this.handles[e],value:n,values:r}),i=this.values(e?0:1),!1!==s&&this.values(e,n,!0))):n!==this.value()&&(!1!==(s=this._trigger("slide",t,{handle:this.handles[e],value:n}))&&this.value(n))},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var n,i,r;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!h.isArray(t))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,i=t,r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(i[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,e){var n,i=0;switch(h.isArray(this.options.values)&&(i=this.options.values.length),h.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":e?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<i;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var t=this.options.value;return this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],this._trimAlignValue(e);for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=0<n?e:-e),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,n,t,i,r,s=this.options.range,o=this.options,a=this,l=!this._animateOff&&o.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(t){n=(a.values(t)-a._valueMin())/(a._valueMax()-a._valueMin())*100,c["horizontal"===a.orientation?"left":"bottom"]=n+"%",h(this).stop(1,1)[l?"animate":"css"](c,o.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===t&&a.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},o.animate),1===t&&a.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:o.animate})):(0===t&&a.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},o.animate),1===t&&a.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:o.animate}))),e=n}):(t=this.value(),i=this._valueMin(),r=this._valueMax(),n=r!==i?(t-i)/(r-i)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,o.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},o.animate),"max"===s&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:o.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},o.animate),"max"===s&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:o.animate}))}})}(jQuery),function(s){function e(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}s.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i={},r=this.element;return s.each(["min","max","step"],function(t,e){var n=r.attr(e);void 0!==n&&n.length&&(i[e]=n)}),i},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){function e(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),e.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,e.call(this)}),!1!==this._start(t)&&this._repeat(null,s(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return s(t.currentTarget).hasClass("ui-state-active")?!1!==this._start(t)&&void this._repeat(null,s(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&0<t.height()&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(t){var e=this.options,n=s.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,e.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?s.isFunction(e)?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var n=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(n))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var n;""!==t&&(null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._spin((t||1)*this.options.step)},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._spin((t||1)*-this.options.step)},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void e(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(c,l){function n(){return++t}function h(t){return 1<t.hash.length&&t.href.replace(e,"")===location.href.replace(e,"").replace(/\s/g,"%20")}var i,t=0,e=/#.*$/;c.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,t=this.options,n=t.active,i=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){c(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){c(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===n&&(i&&this.tabs.each(function(t,e){return c(e).attr("aria-controls")===i?(n=t,!1):void 0}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===n||-1===n)&&(n=!!this.tabs.length&&0)),!1!==n&&(-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!t.collapsible&&0)),t.active=n,!t.collapsible&&!1===t.active&&this.anchors.length&&(t.active=0),c.isArray(t.disabled)&&(t.disabled=c.unique(t.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=c(),this._refresh(),this.active.length&&this.load(t.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):c()}},_tabKeydown:function(t){var e=c(this.document[0].activeElement).closest("li"),n=this.tabs.index(e),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:n++;break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:i=!1,n--;break;case c.ui.keyCode.END:n=this.anchors.length-1;break;case c.ui.keyCode.HOME:n=0;break;case c.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case c.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),t.ctrlKey||(e.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===c.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===c.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===c.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){for(var n=this.tabs.length-1;-1!==c.inArray((n<t&&(t=0),t<0&&(t=n),t),this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+n()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=c.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!c.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=c()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=c()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return c("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=c(),this.anchors.each(function(t,e){var n,i,r,s=c(e).uniqueId().attr("id"),o=c(e).closest("li"),a=o.attr("aria-controls");h(e)?(n=e.hash,i=l.element.find(l._sanitizeSelector(n))):(n="#"+(r=l._tabId(o)),(i=l.element.find(n)).length||(i=l._createPanel(r)).insertAfter(l.panels[t-1]||l.tablist),i.attr("aria-live","polite")),i.length&&(l.panels=l.panels.add(i)),a&&o.data("ui-tabs-aria-controls",a),o.attr({"aria-controls":n.substring(1),"aria-labelledby":s}),i.attr("aria-labelledby",s)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return c("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){c.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var e,n=0;e=this.tabs[n];n++)!0===t||-1!==c.inArray(n,t)?c(e).addClass("ui-state-disabled").attr("aria-disabled","true"):c(e).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(t){t.preventDefault()}};t&&c.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,e,i=this.element.parent();"fill"===t?(c.support.minHeight||(e=i.css("overflow"),i.css("overflow","hidden")),n=i.height(),this.element.siblings(":visible").each(function(){var t=c(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),e&&i.css("overflow",e),this.element.children().not(this.panels).each(function(){n-=c(this).outerHeight(!0)}),this.panels.each(function(){c(this).height(Math.max(0,n-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,c(this).height("").height())}).height(n))},_eventHandler:function(t){var e=this.options,n=this.active,i=c(t.currentTarget).closest("li"),r=i[0]===n[0],s=r&&e.collapsible,o=s?c():this._getPanelForTab(i),a=n.length?this._getPanelForTab(n):c(),l={oldTab:n,oldPanel:a,newTab:s?c():i,newPanel:o};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||r&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!s&&this.tabs.index(i),this.active=r?c():i,this.xhr&&this.xhr.abort(),a.length||o.length||c.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,l))},_toggle:function(t,e){function n(){r.running=!1,r._trigger("activate",t,e)}function i(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&r.options.show?r._show(s,r.options.show,n):(s.show(),n())}var r=this,s=e.newPanel,o=e.oldPanel;this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),i()),o.attr({"aria-expanded":"false","aria-hidden":"true"}),e.oldTab.attr("aria-selected","false"),s.length&&o.length?e.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr({"aria-expanded":"true","aria-hidden":"false"}),e.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var e,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),e=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:c.noop}))},_findActive:function(t){return!1===t?c():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){c.data(this,"ui-tabs-destroy")?c(this).remove():c(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=c(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var t=this.options.disabled;!1!==t&&(n===l?t=!1:(n=this._getIndex(n),t=c.isArray(t)?c.map(t,function(t){return t!==n?t:null}):c.map(this.tabs,function(t,e){return e!==n?e:null})),this._setupDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(t===l)e=!0;else{if(t=this._getIndex(t),-1!==c.inArray(t,e))return;e=c.isArray(e)?c.merge([t],e).sort():[t]}this._setupDisabled(e)}},load:function(t,e){t=this._getIndex(t);var n=this,i=this.tabs.eq(t),r=i.find(".ui-tabs-anchor"),s=this._getPanelForTab(i),o={tab:i,panel:s};h(r[0])||(this.xhr=c.ajax(this._ajaxSettings(r,e,o)),this.xhr&&"canceled"!==this.xhr.statusText&&(i.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){s.html(t),n._trigger("load",e,o)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href"),beforeSend:function(t,e){return r._trigger("beforeLoad",n,c.extend({jqXHR:t,ajaxSettings:e},i))}}},_getPanelForTab:function(t){var e=c(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),!1!==c.uiBackCompat&&(c.ui.tabs.prototype._ui=function(t,e){return{tab:t,panel:e,index:this.anchors.index(t)}},c.widget("ui.tabs",c.ui.tabs,{url:function(t,e){this.anchors.eq(t).attr("href",e)}}),c.widget("ui.tabs",c.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var n=this;this._on({tabsbeforeload:function(t,e){return c.data(e.tab[0],"cache.tabs")?void t.preventDefault():void e.jqXHR.success(function(){n.options.cache&&c.data(e.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(t,e,n){var i=this.options.ajaxOptions;return c.extend({},i,{error:function(t,e){try{i.error(t,e,n.tab.closest("li").index(),n.tab[0])}catch(t){}}},this._superApply(arguments))},_setOption:function(t,e){"cache"===t&&!1===e&&this.anchors.removeData("cache.tabs"),this._super(t,e)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(t){this.anchors.eq(t).removeData("cache.tabs"),this._superApply(arguments)}}),c.widget("ui.tabs",c.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),c.widget("ui.tabs",c.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(t,e){if(t.target===this.element[0]&&this.options.spinner){var n=e.tab.find("span"),i=n.html();n.html(this.options.spinner),e.jqXHR.complete(function(){n.html(i)})}}})}}),c.widget("ui.tabs",c.ui.tabs,{options:{enable:null,disable:null},enable:function(t){var e,n=this.options;(t&&!0===n.disabled||c.isArray(n.disabled)&&-1!==c.inArray(t,n.disabled))&&(e=!0),this._superApply(arguments),e&&this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t]))},disable:function(t){var e,n=this.options;(t&&!1===n.disabled||c.isArray(n.disabled)&&-1===c.inArray(t,n.disabled))&&(e=!0),this._superApply(arguments),e&&this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))}}),c.widget("ui.tabs",c.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(t,e,n){n===l&&(n=this.anchors.length);var i,r,s=this.options,o=c(s.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,e)),a=t.indexOf("#")?this._tabId(o):t.replace("#","");return o.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),o.attr("aria-controls",a),i=n>=this.tabs.length,(r=this.element.find("#"+a)).length||(r=this._createPanel(a),i?0<n?r.insertAfter(this.panels.eq(-1)):r.appendTo(this.element):r.insertBefore(this.panels[n])),r.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),i?o.appendTo(this.tablist):o.insertBefore(this.tabs[n]),s.disabled=c.map(s.disabled,function(t){return n<=t?++t:t}),this.refresh(),1===this.tabs.length&&!1===s.active&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[n],this.panels[n])),this},remove:function(e){e=this._getIndex(e);var t=this.options,n=this.tabs.eq(e).remove(),i=this._getPanelForTab(n).remove();return n.hasClass("ui-tabs-active")&&2<this.anchors.length&&this._activate(e+(e+1<this.anchors.length?1:-1)),t.disabled=c.map(c.grep(t.disabled,function(t){return t!==e}),function(t){return e<=t?--t:t}),this.refresh(),this._trigger("remove",null,this._ui(n.find("a")[0],i[0])),this}}),c.widget("ui.tabs",c.ui.tabs,{length:function(){return this.anchors.length}}),c.widget("ui.tabs",c.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(t){var e=t.is("li")?t.find("a[href]"):t;return e=e[0],c(e).closest("li").attr("aria-controls")||e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+n()}}),c.widget("ui.tabs",c.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(t){return c(this.options.panelTemplate).attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),c.widget("ui.tabs",c.ui.tabs,{_create:function(){var t=this.options;null===t.active&&t.selected!==l&&(t.active=-1!==t.selected&&t.selected),this._super(),t.selected=t.active,!1===t.selected&&(t.selected=-1)},_setOption:function(t,e){if("selected"!==t)return this._super(t,e);var n=this.options;this._super("active",-1!==e&&e),n.selected=n.active,!1===n.selected&&(n.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,!1===this.options.selected&&(this.options.selected=-1)}}),c.widget("ui.tabs",c.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),!1!==this.options.active&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(t,e,n){var i,r,s=this._superApply(arguments);return!!s&&("beforeActivate"===t?(i=n.newTab.length?n.newTab:n.oldTab,r=n.newPanel.length?n.newPanel:n.oldPanel,s=this._super("select",e,{tab:i.find(".ui-tabs-anchor")[0],panel:r[0],index:i.closest("li").index()})):"activate"===t&&n.newTab.length&&(s=this._super("show",e,{tab:n.newTab.find(".ui-tabs-anchor")[0],panel:n.newPanel[0],index:n.newTab.closest("li").index()})),s)}}),c.widget("ui.tabs",c.ui.tabs,{select:function(t){if(-1===(t=this._getIndex(t))){if(!this.options.collapsible||-1===this.options.selected)return;t=this.options.selected}this.anchors.eq(t).trigger(this.options.event+this.eventNamespace)}}),i=0,c.widget("ui.tabs",c.ui.tabs,{options:{cookie:null},_create:function(){var t,e=this.options;null==e.active&&e.cookie&&(-1===(t=parseInt(this._cookie(),10))&&(t=!1),e.active=t),this._super()},_cookie:function(t){var e=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++i)];return arguments.length&&(e.push(!1===t?-1:t),e.push(this.options.cookie)),c.cookie.apply(null,e)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}}),c.widget("ui.tabs",c.ui.tabs,{_trigger:function(t,e,n){var i=c.extend({},n);return"load"===t&&(i.panel=i.panel[0],i.tab=i.tab.find(".ui-tabs-anchor")[0]),this._super(t,e,i)}}),c.widget("ui.tabs",c.ui.tabs,{options:{fx:null},_getFx:function(){var t,e,n=this.options.fx;return n&&(c.isArray(n)?(t=n[0],e=n[1]):t=e=n),n?{show:e,hide:t}:null},_toggle:function(t,e){function n(){r.running=!1,r._trigger("activate",t,e)}function i(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&a.show?s.animate(a.show,a.show.duration,function(){n()}):(s.show(),n())}var r=this,s=e.newPanel,o=e.oldPanel,a=this._getFx();return a?(r.running=!0,void(o.length&&a.hide?o.animate(a.hide,a.hide.duration,function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),i()))):this._super(t,e)}}))}(jQuery),function(u){var i=0;u.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return u(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,e){var n=this;return"disabled"===t?(this[e?"_disable":"_enable"](),void(this.options[t]=e)):(this._super(t,e),void("content"===t&&u.each(this.tooltips,function(t,e){n._updateContent(e)})))},_disable:function(){var i=this;u.each(this.tooltips,function(t,e){var n=u.Event("blur");n.target=n.currentTarget=e[0],i.close(n,!0)}),this.element.find(this.options.items).andSelf().each(function(){var t=u(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var t=u(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,e=u(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=u(this);e.data("ui-tooltip-open")&&((t=u.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),e.attr("title")&&(e.uniqueId(),n.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._updateContent(e,t))},_updateContent:function(e,n){var t,i=this.options.content,r=this,s=n?n.type:null;return"string"==typeof i?this._open(n,e,i):void((t=i.call(e[0],function(t){e.data("ui-tooltip-open")&&r._delay(function(){n&&(n.type=s),this._open(n,e,t)})}))&&this._open(n,e,t))},_open:function(t,n,e){function i(t){h.of=t,r.is(":hidden")||r.position(h)}var r,s,o,a,l,c,h=u.extend({},this.options.position);if(e){if((r=this._find(n)).length)return void r.find(".ui-tooltip-content").html(e);n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),a=n,l=r.attr("id"),(c=(a.attr("aria-describedby")||"").split(/\s+/)).push(l),a.data("ui-tooltip-id",l).attr("aria-describedby",u.trim(c.join(" "))),r.find(".ui-tooltip-content").html(e),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:i}),i(t)):r.position(u.extend({of:n},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(o=setInterval(function(){r.is(":visible")&&(i(h.of),clearInterval(o))},u.fx.interval)),this._trigger("open",t,{tooltip:r}),s={keyup:function(t){if(t.keyCode===u.ui.keyCode.ESCAPE){var e=u.Event(t);e.currentTarget=n[0],this.close(e,!0)}},remove:function(){this._removeTooltip(r)}},t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,n,s)}},close:function(t){var e,n,i,r,s=this,o=u(t?t.currentTarget:this.element),a=this._find(o);this.closing||(o.data("ui-tooltip-title")&&o.attr("title",o.data("ui-tooltip-title")),n=(e=o).data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),-1!==(r=u.inArray(n,i))&&i.splice(r,1),e.removeData("ui-tooltip-id"),(i=u.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby"),a.stop(!0),this._hide(a,this.options.hide,function(){s._removeTooltip(u(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&u.each(this.parents,function(t,e){u(e.element).attr("title",e.title),delete s.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:a}),this.closing=!1)},_tooltip:function(t){var e="ui-tooltip-"+i++,n=u("<div>").attr({id:e,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return u("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),u.fn.bgiframe&&n.bgiframe(),this.tooltips[e]=t,n},_find:function(t){var e=t.data("ui-tooltip-id");return e?u("#"+e):u()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var i=this;u.each(this.tooltips,function(t,e){var n=u.Event("blur");n.target=n.currentTarget=e[0],i.close(n,!0),u("#"+t).remove(),e.data("ui-tooltip-title")&&(e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))})}})}(jQuery),jQuery.effects||function(y,t){var n,a=!1!==y.uiBackCompat,s="ui-effects-";y.effects={effect:{}},function(h,u){function d(t,e,n){var i=m[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:t<0?0:i.max<t?i.max:t)}function a(o){var a=p(),l=a._rgba=[];return o=o.toLowerCase(),v(e,function(t,e){var n,i=e.re.exec(o),r=i&&e.parse(i),s=e.space||"rgba";return r?(n=a[s](r),a[g[s].cache]=n[g[s].cache],l=a._rgba=n._rgba,!1):void 0}),l.length?("0,0,0,0"===l.join()&&h.extend(l,c.transparent),a):c[o]}function l(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var c,t="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),f=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],p=h.Color=function(t,e,n,i){return new h.Color.fn.parse(t,e,n,i)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},o=p.support={},n=h("<p>")[0],v=h.each;n.style.cssText="background-color:rgba(1,1,1,.5)",o.rgba=-1<n.style.backgroundColor.indexOf("rgba"),v(g,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),p.fn=h.extend(p.prototype,{parse:function(r,t,e,n){if(r===u)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=h(r).css(t),t=u);var s=this,i=h.type(r),o=this._rgba=[];return t!==u&&(r=[r,t,e,n],i="array"),"string"===i?this.parse(a(r)||c._default):"array"===i?(v(g.rgba.props,function(t,e){o[e.idx]=d(r[e.idx],e)}),this):"object"===i?(v(g,r instanceof p?function(t,e){r[e.cache]&&(s[e.cache]=r[e.cache].slice())}:function(t,n){var i=n.cache;v(n.props,function(t,e){if(!s[i]&&n.to){if("alpha"===t||null==r[t])return;s[i]=n.to(s._rgba)}s[i][e.idx]=d(r[t],e,!0)}),s[i]&&y.inArray(null,s[i].slice(0,3))<0&&(s[i][3]=1,n.from&&(s._rgba=n.from(s[i])))}),this):void 0},is:function(t){var r=p(t),s=!0,o=this;return v(g,function(t,e){var n,i=r[e.cache];return i&&(n=o[e.cache]||e.to&&e.to(o._rgba)||[],v(e.props,function(t,e){return null!=i[e.idx]?s=i[e.idx]===n[e.idx]:void 0})),s}),s},_space:function(){var n=[],i=this;return v(g,function(t,e){i[e.cache]&&n.push(t)}),n.pop()},transition:function(t,o){var a=p(t),e=a._space(),n=g[e],i=0===this.alpha()?p("transparent"):this,l=i[n.cache]||n.to(i._rgba),c=l.slice();return a=a[n.cache],v(n.props,function(t,e){var n=e.idx,i=l[n],r=a[n],s=m[e.type]||{};null!==r&&(null===i?c[n]=r:(s.mod&&(r-i>s.mod/2?i+=s.mod:i-r>s.mod/2&&(i-=s.mod)),c[n]=d((r-i)*o+i,e)))}),this[e](c)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),n=e.pop(),i=p(t)._rgba;return p(h.map(e,function(t,e){return(1-n)*i[e]+n*t}))},toRgbaString:function(){var t="rgba(",e=h.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=h.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),n=e.pop();return t&&e.push(~~(255*n)),"#"+h.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,g.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,s=t[2]/255,o=t[3],a=Math.max(i,r,s),l=Math.min(i,r,s),c=a-l,h=a+l,u=.5*h;return e=l===a?0:i===a?60*(r-s)/c+360:r===a?60*(s-i)/c+120:60*(i-r)/c+240,n=0===u||1===u?u:u<=.5?c/h:c/(2-h),[Math.round(e)%360,n,u,null==o?1:o]},g.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;return[Math.round(255*l(o,s,e+1/3)),Math.round(255*l(o,s,e)),Math.round(255*l(o,s,e-1/3)),r]},v(g,function(l,t){var n=t.props,o=t.cache,a=t.to,c=t.from;p.fn[l]=function(t){if(a&&!this[o]&&(this[o]=a(this._rgba)),t===u)return this[o].slice();var e,i=h.type(t),r="array"===i||"object"===i?t:arguments,s=this[o].slice();return v(n,function(t,e){var n=r["object"===i?t:e.idx];null==n&&(n=s[e.idx]),s[e.idx]=d(n,e)}),c?((e=p(c(s)))[o]=s,e):p(s)},v(n,function(o,a){p.fn[o]||(p.fn[o]=function(t){var e,n=h.type(t),i="alpha"===o?this._hsla?"hsla":"rgba":l,r=this[i](),s=r[a.idx];return"undefined"===n?s:("function"===n&&(t=t.call(this,s),n=h.type(t)),null==t&&a.empty?this:("string"===n&&((e=f.exec(t))&&(t=s+parseFloat(e[2])*("+"===e[1]?1:-1))),r[a.idx]=t,this[i](r)))})})}),v(t,function(t,s){h.cssHooks[s]={set:function(t,e){var n,i,r="";if("string"!==h.type(e)||(n=a(e))){if(e=p(n||e),!o.rgba&&1!==e._rgba[3]){for(i="backgroundColor"===s?t.parentNode:t;(""===r||"transparent"===r)&&i&&i.style;)try{r=h.css(i,"backgroundColor"),i=i.parentNode}catch(t){}e=e.blend(r&&"transparent"!==r?r:"_default")}e=e.toRgbaString()}try{t.style[s]=e}catch(t){}}},h.fx.step[s]=function(t){t.colorInit||(t.start=p(t.elem,s),t.end=p(t.end),t.colorInit=!0),h.cssHooks[s].set(t.elem,t.start.transition(t.end,t.pos))}}),h.cssHooks.borderColor={expand:function(n){var i={};return v(["Top","Right","Bottom","Left"],function(t,e){i["border"+e+"Color"]=n}),i}},c=h.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function o(){var t,e,n=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,i={};if(n&&n.length&&n[0]&&n[n[0]])for(e=n.length;e--;)"string"==typeof n[t=n[e]]&&(i[y.camelCase(t)]=n[t]);else for(t in n)"string"==typeof n[t]&&(i[t]=n[t]);return i}var a=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};y.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){y.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,e,t.end),t.setAttr=!0)}}),y.effects.animateClass=function(r,t,e,n){var s=y.speed(t,e,n);return this.queue(function(){var t,n=y(this),e=n.attr("class")||"",i=s.children?n.find("*").andSelf():n;i=i.map(function(){return{el:y(this),start:o.call(this)}}),(t=function(){y.each(a,function(t,e){r[e]&&n[e+"Class"](r[e])})})(),i=i.map(function(){return this.end=o.call(this.el[0]),this.diff=function(t,e){var n,i,r={};for(n in e)i=e[n],t[n]!==i&&(l[n]||(y.fx.step[n]||!isNaN(parseFloat(i)))&&(r[n]=i));return r}(this.start,this.end),this}),n.attr("class",e),i=i.map(function(){var t=this,e=y.Deferred(),n=jQuery.extend({},s,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,n),e.promise()}),y.when.apply(y,i.get()).done(function(){t(),y.each(arguments,function(){var e=this.el;y.each(this.diff,function(t){e.css(t,"")})}),s.complete.call(n[0])})})},y.fn.extend({_addClass:y.fn.addClass,addClass:function(t,e,n,i){return e?y.effects.animateClass.call(this,{add:t},e,n,i):this._addClass(t)},_removeClass:y.fn.removeClass,removeClass:function(t,e,n,i){return e?y.effects.animateClass.call(this,{remove:t},e,n,i):this._removeClass(t)},_toggleClass:y.fn.toggleClass,toggleClass:function(t,e,n,i,r){return"boolean"==typeof e||void 0===e?n?y.effects.animateClass.call(this,e?{add:t}:{remove:t},n,i,r):this._toggleClass(t,e):y.effects.animateClass.call(this,{toggle:t},e,n,i)},switchClass:function(t,e,n,i,r){return y.effects.animateClass.call(this,{add:e,remove:t},n,i,r)}})}(),function(){function r(t,e,n,i){return y.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),y.isFunction(e)&&(i=e,n=null,e={}),("number"==typeof e||y.fx.speeds[e])&&(i=n,n=e,e={}),y.isFunction(n)&&(i=n,n=null),e&&y.extend(t,e),n=n||e.duration,t.duration=y.fx.off?0:"number"==typeof n?n:n in y.fx.speeds?y.fx.speeds[n]:y.fx.speeds._default,t.complete=i||e.complete,t}function n(t){return!(t&&"number"!=typeof t&&!y.fx.speeds[t])||"string"==typeof t&&!y.effects.effect[t]&&(!a||!y.effects[t])}y.extend(y.effects,{version:"1.9.2",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data(s+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i;for(i=0;i<e.length;i++)null!==e[i]&&(void 0===(n=t.data(s+e[i]))&&(n=""),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},t=y("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return n.wrap(t),(n[0]===r||y.contains(n[0],r))&&y(r).focus(),t=n.parent(),"static"===n.css("position")?(t.css({position:"relative"}),n.css({position:"relative"})):(y.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),y.each(["top","left","bottom","right"],function(t,e){i[e]=n.css(e),isNaN(parseInt(i[e],10))&&(i[e]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(e),t.css(i).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===e||y.contains(t[0],e))&&y(e).focus()),t},setTransition:function(i,t,r,s){return s=s||{},y.each(t,function(t,e){var n=i.cssUnit(e);0<n[0]&&(s[e]=n[0]*r+n[1])}),s}}),y.fn.extend({effect:function(){function t(t){function e(){y.isFunction(i)&&i.call(n[0]),y.isFunction(t)&&t()}var n=y(this),i=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?e():o.call(n[0],s,e)}var s=r.apply(this,arguments),e=s.mode,n=s.queue,o=y.effects.effect[s.effect],i=!o&&a&&y.effects[s.effect];return y.fx.off||!o&&!i?e?this[e](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):o?!1===n?this.each(t):this.queue(n||"fx",t):i.call(this,{options:s,duration:s.duration,callback:s.complete,mode:s.mode})},_show:y.fn.show,show:function(t){if(n(t))return this._show.apply(this,arguments);var e=r.apply(this,arguments);return e.mode="show",this.effect.call(this,e)},_hide:y.fn.hide,hide:function(t){if(n(t))return this._hide.apply(this,arguments);var e=r.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)},__toggle:y.fn.toggle,toggle:function(t){if(n(t)||"boolean"==typeof t||y.isFunction(t))return this.__toggle.apply(this,arguments);var e=r.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)},cssUnit:function(t){var n=this.css(t),i=[];return y.each(["em","px","%","pt"],function(t,e){0<n.indexOf(e)&&(i=[parseFloat(n),e])}),i}})}(),n={},y.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){n[t]=function(t){return Math.pow(t,e+2)}}),y.extend(n,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),y.each(n,function(t,e){y.easing["easeIn"+t]=e,y.easing["easeOut"+t]=function(t){return 1-e(1-t)},y.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}})}(jQuery),function(g,t){var m=/up|down|vertical/,v=/up|left|vertical|horizontal/;g.effects.effect.blind=function(t,e){var n,i,r,s=g(this),o=["position","top","bottom","left","right","height","width"],a=g.effects.setMode(s,t.mode||"hide"),l=t.direction||"up",c=m.test(l),h=c?"height":"width",u=c?"top":"left",d=v.test(l),f={},p="show"===a;s.parent().is(".ui-effects-wrapper")?g.effects.save(s.parent(),o):g.effects.save(s,o),s.show(),i=(n=g.effects.createWrapper(s).css({overflow:"hidden"}))[h](),r=parseFloat(n.css(u))||0,f[h]=p?i:0,d||(s.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),f[u]=p?r:i+r),p&&(n.css(h,0),d||n.css(u,r+i)),n.animate(f,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===a&&s.hide(),g.effects.restore(s,o),g.effects.removeWrapper(s),e()}})}}(jQuery),function(_,t){_.effects.effect.bounce=function(t,e){var n,i,r,s=_(this),o=["position","top","bottom","left","right","height","width"],a=_.effects.setMode(s,t.mode||"effect"),l="hide"===a,c="show"===a,h=t.direction||"up",u=t.distance,d=t.times||5,f=2*d+(c||l?1:0),p=t.duration/f,g=t.easing,m="up"===h||"down"===h?"top":"left",v="up"===h||"left"===h,y=s.queue(),b=y.length;for((c||l)&&o.push("opacity"),_.effects.save(s,o),s.show(),_.effects.createWrapper(s),u||(u=s["top"===m?"outerHeight":"outerWidth"]()/3),c&&((r={opacity:1})[m]=0,s.css("opacity",0).css(m,v?2*-u:2*u).animate(r,p,g)),l&&(u/=Math.pow(2,d-1)),n=(r={})[m]=0;n<d;n++)(i={})[m]=(v?"-=":"+=")+u,s.animate(i,p,g).animate(r,p,g),u=l?2*u:u/2;l&&((i={opacity:0})[m]=(v?"-=":"+=")+u,s.animate(i,p,g)),s.queue(function(){l&&s.hide(),_.effects.restore(s,o),_.effects.removeWrapper(s),e()}),1<b&&y.splice.apply(y,[1,0].concat(y.splice(b,f+1))),s.dequeue()}}(jQuery),function(d,t){d.effects.effect.clip=function(t,e){var n,i,r,s=d(this),o=["position","top","bottom","left","right","height","width"],a="show"===d.effects.setMode(s,t.mode||"hide"),l="vertical"===(t.direction||"vertical"),c=l?"height":"width",h=l?"top":"left",u={};d.effects.save(s,o),s.show(),n=d.effects.createWrapper(s).css({overflow:"hidden"}),r=(i="IMG"===s[0].tagName?n:s)[c](),a&&(i.css(c,0),i.css(h,r/2)),u[c]=a?r:0,u[h]=a?0:r/2,i.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){a||s.hide(),d.effects.restore(s,o),d.effects.removeWrapper(s),e()}})}}(jQuery),function(u,t){u.effects.effect.drop=function(t,e){var n,i=u(this),r=["position","top","bottom","left","right","opacity","height","width"],s=u.effects.setMode(i,t.mode||"hide"),o="show"===s,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"pos":"neg",h={opacity:o?1:0};u.effects.save(i,r),i.show(),u.effects.createWrapper(i),n=t.distance||i["top"===l?"outerHeight":"outerWidth"](!0)/2,o&&i.css("opacity",0).css(l,"pos"===c?-n:n),h[l]=(o?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+n,i.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&i.hide(),u.effects.restore(i,r),u.effects.removeWrapper(i),e()}})}}(jQuery),function(v,t){v.effects.effect.explode=function(t,e){function n(){m.push(this),m.length===c*h&&(u.css({visibility:"visible"}),v(m).remove(),d||u.hide(),e())}var i,r,s,o,a,l,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=c,u=v(this),d="show"===v.effects.setMode(u,t.mode||"hide"),f=u.show().css("visibility","hidden").offset(),p=Math.ceil(u.outerWidth()/h),g=Math.ceil(u.outerHeight()/c),m=[];for(i=0;i<c;i++)for(o=f.top+i*g,l=i-(c-1)/2,r=0;r<h;r++)s=f.left+r*p,a=r-(h-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*p,top:-i*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:g,left:s+(d?a*p:0),top:o+(d?l*g:0),opacity:d?0:1}).animate({left:s+(d?0:a*p),top:o+(d?0:l*g),opacity:d?1:0},t.duration||500,t.easing,n)}}(jQuery),function(r,t){r.effects.effect.fade=function(t,e){var n=r(this),i=r.effects.setMode(n,t.mode||"toggle");n.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:e})}}(jQuery),function(v,t){v.effects.effect.fold=function(t,e){var n,i,r=v(this),s=["position","top","bottom","left","right","height","width"],o=v.effects.setMode(r,t.mode||"hide"),a="show"===o,l="hide"===o,c=t.size||15,h=/([0-9]+)%/.exec(c),u=!!t.horizFirst,d=a!==u,f=d?["width","height"]:["height","width"],p=t.duration/2,g={},m={};v.effects.save(r,s),r.show(),n=v.effects.createWrapper(r).css({overflow:"hidden"}),i=d?[n.width(),n.height()]:[n.height(),n.width()],h&&(c=parseInt(h[1],10)/100*i[l?0:1]),a&&n.css(u?{height:0,width:c}:{height:c,width:0}),g[f[0]]=a?i[0]:c,m[f[1]]=a?i[1]:0,n.animate(g,p,t.easing).animate(m,p,t.easing,function(){l&&r.hide(),v.effects.restore(r,s),v.effects.removeWrapper(r),e()})}}(jQuery),function(o,t){o.effects.effect.highlight=function(t,e){var n=o(this),i=["backgroundImage","backgroundColor","opacity"],r=o.effects.setMode(n,t.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===r&&(s.opacity=0),o.effects.save(n,i),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),o.effects.restore(n,i),e()}})}}(jQuery),function(f,t){f.effects.effect.pulsate=function(t,e){var n,i=f(this),r=f.effects.setMode(i,t.mode||"show"),s="show"===r,o="hide"===r,a=s||"hide"===r,l=2*(t.times||5)+(a?1:0),c=t.duration/l,h=0,u=i.queue(),d=u.length;for((s||!i.is(":visible"))&&(i.css("opacity",0).show(),h=1),n=1;n<l;n++)i.animate({opacity:h},c,t.easing),h=1-h;i.animate({opacity:h},c,t.easing),i.queue(function(){o&&i.hide(),e()}),1<d&&u.splice.apply(u,[1,0].concat(u.splice(d,l+1))),i.dequeue()}}(jQuery),function(y,t){y.effects.effect.puff=function(t,e){var n=y(this),i=y.effects.setMode(n,t.mode||"hide"),r="hide"===i,s=parseInt(t.percent,10)||150,o=s/100,a={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};y.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:e,percent:r?s:100,from:r?a:{height:a.height*o,width:a.width*o,outerHeight:a.outerHeight*o,outerWidth:a.outerWidth*o}}),n.effect(t)},y.effects.effect.scale=function(t,e){var n=y(this),i=y.extend(!0,{},t),r=y.effects.setMode(n,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===r?0:100),o=t.direction||"both",a=t.origin,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c="horizontal"!==o?s/100:1,h="vertical"!==o?s/100:1;i.effect="size",i.queue=!1,i.complete=e,"effect"!==r&&(i.origin=a||["middle","center"],i.restore=!0),i.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:l),i.to={height:l.height*c,width:l.width*h,outerHeight:l.outerHeight*c,outerWidth:l.outerWidth*h},i.fade&&("show"===r&&(i.from.opacity=0,i.to.opacity=1),"hide"===r&&(i.from.opacity=1,i.to.opacity=0)),n.effect(i)},y.effects.effect.size=function(s,t){var e,n,o,a=y(this),i=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],r=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=y.effects.setMode(a,s.mode||"effect"),d=s.restore||"effect"!==u,f=s.scale||"both",p=s.origin||["middle","center"],g=a.css("position"),m=d?i:["position","top","bottom","left","right","overflow","opacity"],v={height:0,width:0,outerHeight:0,outerWidth:0};"show"===u&&a.show(),e={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===s.mode&&"show"===u?(a.from=s.to||v,a.to=s.from||e):(a.from=s.from||("show"===u?v:e),a.to=s.to||("hide"===u?v:e)),o={from:{y:a.from.height/e.height,x:a.from.width/e.width},to:{y:a.to.height/e.height,x:a.to.width/e.width}},("box"===f||"both"===f)&&(o.from.y!==o.to.y&&(m=m.concat(c),a.from=y.effects.setTransition(a,c,o.from.y,a.from),a.to=y.effects.setTransition(a,c,o.to.y,a.to)),o.from.x!==o.to.x&&(m=m.concat(h),a.from=y.effects.setTransition(a,h,o.from.x,a.from),a.to=y.effects.setTransition(a,h,o.to.x,a.to))),("content"===f||"both"===f)&&o.from.y!==o.to.y&&(m=m.concat(r).concat(l),a.from=y.effects.setTransition(a,r,o.from.y,a.from),a.to=y.effects.setTransition(a,r,o.to.y,a.to)),y.effects.save(a,m),a.show(),y.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),p&&(n=y.effects.getBaseline(p,e),a.from.top=(e.outerHeight-a.outerHeight())*n.y,a.from.left=(e.outerWidth-a.outerWidth())*n.x,a.to.top=(e.outerHeight-a.to.outerHeight)*n.y,a.to.left=(e.outerWidth-a.to.outerWidth)*n.x),a.css(a.from),("content"===f||"both"===f)&&(c=c.concat(["marginTop","marginBottom"]).concat(r),h=h.concat(["marginLeft","marginRight"]),l=i.concat(c).concat(h),a.find("*[width]").each(function(){var t=y(this),e=t.height(),n=t.width(),i=t.outerHeight(),r=t.outerWidth();d&&y.effects.save(t,l),t.from={height:e*o.from.y,width:n*o.from.x,outerHeight:i*o.from.y,outerWidth:r*o.from.x},t.to={height:e*o.to.y,width:n*o.to.x,outerHeight:e*o.to.y,outerWidth:n*o.to.x},o.from.y!==o.to.y&&(t.from=y.effects.setTransition(t,c,o.from.y,t.from),t.to=y.effects.setTransition(t,c,o.to.y,t.to)),o.from.x!==o.to.x&&(t.from=y.effects.setTransition(t,h,o.from.x,t.from),t.to=y.effects.setTransition(t,h,o.to.x,t.to)),t.css(t.from),t.animate(t.to,s.duration,s.easing,function(){d&&y.effects.restore(t,l)})})),a.animate(a.to,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===u&&a.hide(),y.effects.restore(a,m),d||("static"===g?a.css({position:"relative",top:a.to.top,left:a.to.left}):y.each(["top","left"],function(r,t){a.css(t,function(t,e){var n=parseInt(e,10),i=r?a.to.left:a.to.top;return"auto"===e?i+"px":n+i+"px"})})),y.effects.removeWrapper(a),t()}})}}(jQuery),function(y,t){y.effects.effect.shake=function(t,e){var n,i=y(this),r=["position","top","bottom","left","right","height","width"],s=y.effects.setMode(i,t.mode||"effect"),o=t.direction||"left",a=t.distance||20,l=t.times||3,c=2*l+1,h=Math.round(t.duration/c),u="up"===o||"down"===o?"top":"left",d="up"===o||"left"===o,f={},p={},g={},m=i.queue(),v=m.length;for(y.effects.save(i,r),i.show(),y.effects.createWrapper(i),f[u]=(d?"-=":"+=")+a,p[u]=(d?"+=":"-=")+2*a,g[u]=(d?"-=":"+=")+2*a,i.animate(f,h,t.easing),n=1;n<l;n++)i.animate(p,h,t.easing).animate(g,h,t.easing);i.animate(p,h,t.easing).animate(f,h/2,t.easing).queue(function(){"hide"===s&&i.hide(),y.effects.restore(i,r),y.effects.removeWrapper(i),e()}),1<v&&m.splice.apply(m,[1,0].concat(m.splice(v,c+1))),i.dequeue()}}(jQuery),function(u,t){u.effects.effect.slide=function(t,e){var n,i=u(this),r=["position","top","bottom","left","right","width","height"],s=u.effects.setMode(i,t.mode||"show"),o="show"===s,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a,h={};u.effects.save(i,r),i.show(),n=t.distance||i["top"===l?"outerHeight":"outerWidth"](!0),u.effects.createWrapper(i).css({overflow:"hidden"}),o&&i.css(l,c?isNaN(n)?"-"+n:-n:n),h[l]=(o?c?"+=":"-=":c?"-=":"+=")+n,i.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&i.hide(),u.effects.restore(i,r),u.effects.removeWrapper(i),e()}})}}(jQuery),function(d,t){d.effects.effect.transfer=function(t,e){var n=d(this),i=d(t.to),r="fixed"===i.css("position"),s=d("body"),o=r?s.scrollTop():0,a=r?s.scrollLeft():0,l=i.offset(),c={top:l.top-o,left:l.left-a,height:i.innerHeight(),width:i.innerWidth()},h=n.offset(),u=d('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:h.top-o,left:h.left-a,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){u.remove(),e()})}}(jQuery),function(F){window.log=function(){log.history=log.history||[],log.history.push(arguments),this.console&&console.log(Array.prototype.slice.call(arguments))},F.fn.snippet=function(E,t){"object"==typeof E&&(t=E),"string"==typeof E&&(E=E.toLowerCase());var k={style:"random",showNum:!0,transparent:!1,collapse:!1,menu:!0,showMsg:"Expand Code",hideMsg:"Collapse Code",clipboard:"",startCollapsed:!0,startText:!1,box:"",boxColor:"",boxFill:""},S=["acid","berries-dark","berries-light","bipolar","blacknblue","bright","contrast","darkblue","darkness","desert","dull","easter","emacs","golden","greenlcd","ide-anjuta","ide-codewarrior","ide-devcpp","ide-eclipse","ide-kdev","ide-msvcpp","kwrite","matlab","navy","nedit","neon","night","pablo","peachpuff","print","rand01","the","typical","vampire","vim","vim-dark","whatis","whitengrey","zellner"];return t&&F.extend(k,t),this.each(function(){var t=k.style.toLowerCase();if("random"==k.style){var e=Math.floor(Math.random()*S.length);t=S[e]}var n=F(this),i=this.nodeName.toLowerCase();if("pre"!=i){var r="Snippet Error: Sorry, Snippet only formats '<pre>' elements. '<"+i+">' elements are currently unsupported.";return console.log(r),!1}if(null==n.data("orgHtml")||null==n.data("orgHtml")){var s=n.html();n.data("orgHtml",s)}if(n.parent().hasClass("snippet-wrap")){if(n.parent().attr("class","sh_"+t+" snippet-wrap"),n.parents(".snippet-container").find(".snippet-reveal").attr("class","sh_"+t+" snippet-wrap snippet-reveal"),n.find("li.box, li.box-top, li.box-mid, li.box-bot").removeAttr("style").removeAttr("class"),n.find("li .box-sp").remove(),k.transparent){var o={"background-color":"transparent","box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none"};n.css(o),n.next(".snippet-textonly").css(o),n.parents(".snippet-container").find(".snippet-hide pre").css(o)}else{o={"background-color":"","box-shadow":"","-moz-box-shadow":"","-webkit-box-shadow":""};n.css(o),n.next(".snippet-textonly").css(o),n.parents(".snippet-container").find(".snippet-reveal pre").css(o)}var a;if(k.showNum){if((a=n.find("li").eq(0).parent()).hasClass("snippet-no-num"))a.wrap("<ol class='snippet-num'></ol>"),n.find("li").eq(0).unwrap()}else if((a=n.find("li").eq(0).parent()).hasClass("snippet-num"))a.wrap("<ul class='snippet-no-num'></ul>"),n.find("li").eq(0).unwrap();if(""!=k.box){for(var l="<span class='box-sp'>&nbsp;</span>",c=k.box.split(","),h=0;h<c.length;h++){if(-1==(x=c[h]).indexOf("-"))x=parseFloat(x)-1,n.find("li").eq(x).addClass("box").prepend(l);else if((A=parseFloat(x.split("-")[0])-1)<(C=parseFloat(x.split("-")[1])-1)){n.find("li").eq(A).addClass("box box-top").prepend(l),n.find("li").eq(C).addClass("box box-bot").prepend(l);for(var u=A+1;u<C;u++)n.find("li").eq(u).addClass("box box-mid").prepend(l)}else A==C&&n.find("li").eq(A).addClass("box").prepend(l)}""!=k.boxColor&&n.find("li.box").css("border-color",k.boxColor),""!=k.boxFill&&n.find("li.box").addClass("box-bg").css("background-color",k.boxFill),F.browser.webkit&&(n.find(".snippet-num li.box").css("margin-left","-3.3em"),n.find(".snippet-num li .box-sp").css("width","21px"))}sh_highlightDocument(),k.menu?n.prev(".snippet-menu").find("pre,.snippet-clipboard").show():n.prev(".snippet-menu").find("pre,.snippet-clipboard").hide()}else{if("string"!=typeof E){if(0<n.attr("class").length)var d=' class="'+n.attr("class")+'"';else d="";if(0<n.attr("id").length)var f=' id="'+n.attr("id")+'"';else f="";r="Snippet Error: You must specify a language on inital usage of Snippet. Reference <pre"+d+f+">";return console.log(r),!1}var p;if(n.addClass("sh_"+E).addClass("snippet-formatted").wrap("<div class='snippet-container' style='"+n.attr("style")+";'><div class='sh_"+t+" snippet-wrap'></div></div>"),n.removeAttr("style"),sh_highlightDocument(),k.showNum)for(p="<ol class='snippet-num'><li>"+(p=(p=n.html()).replace(/\n/g,"</li><li>"))+"</li></ol>";-1!=p.indexOf("<li></li></ol>");)p=p.replace("<li></li></ol>","</ol>");else for(p="<ul class='snippet-no-num'><li>"+(p=(p=n.html()).replace(/\n/g,"</li><li>"))+"</li></ul>";-1!=p.indexOf("<li></li></ul>");)p=p.replace("<li></li></ul>","</ul>");for(p=p.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),n.html(p);""==n.find("li").eq(0).html();)n.find("li").eq(0).remove();n.find("li").each(function(){F(this).html().length<2&&(""==F(this).html().replace(/\s/g,"")&&(F.browser.opera?F(this).html("&nbsp;"):F(this).html("<span style='display:none;'>&nbsp;</span>")))});var g="<pre class='snippet-textonly sh_sourceCode' style='display:none;'>"+n.data("orgHtml")+"</pre>";if(n.parent().append(g),n.parent().prepend("<div class='snippet-menu sh_sourceCode' style='display:none;'><pre><a class='snippet-copy' href='#'>copy</a><a class='snippet-text' href='#'>text</a><a class='snippet-window' href='#'>pop-up</a></pre></div>"),n.parent().hover(function(){F(this).find(".snippet-menu").fadeIn("fast")},function(){F(this).find(".snippet-menu").fadeOut("fast")}),""!=k.clipboard&&0!=k.clipboard){var m=n.parent().find("a.snippet-copy");m.show(),m.parents(".snippet-menu").show();var v=n.parents(".snippet-wrap").find(".snippet-textonly").text();ZeroClipboard.setMoviePath(k.clipboard);var y=new ZeroClipboard.Client;y.setText(v),y.glue(m[0],m.parents(".snippet-menu")[0]),y.addEventListener("complete",function(t,e){500<e.length&&(e=e.substr(0,500)+"...\n\n("+(e.length-500)+" characters not shown)"),alert("Copied text to clipboard:\n\n "+e)}),m.parents(".snippet-menu").hide()}else n.parent().find("a.snippet-copy").hide();if(n.parent().find("a.snippet-text").click(function(){var t=F(this).parents(".snippet-wrap").find(".snippet-formatted"),e=F(this).parents(".snippet-wrap").find(".snippet-textonly");return t.toggle(),e.toggle(),e.is(":visible")?F(this).html("html"):F(this).html("text"),F(this).blur(),!1}),n.parent().find("a.snippet-window").click(function(){return snippetPopup(F(this).parents(".snippet-wrap").find(".snippet-textonly").html()),F(this).blur(),!1}),k.menu||n.prev(".snippet-menu").find("pre,.snippet-clipboard").hide(),k.collapse){var b="<div class='snippet-reveal "+n.parent().attr("class")+"'><pre class='sh_sourceCode'><a href='#' class='snippet-toggle'>"+k.showMsg+"</a></pre></div>",_="<div class='sh_sourceCode snippet-hide'><pre><a href='#' class='snippet-revealed snippet-toggle'>"+k.hideMsg+"</a></pre></div>";n.parents(".snippet-container").append(b),n.parent().append(_);var w=n.parents(".snippet-container");k.startCollapsed?(w.find(".snippet-reveal").show(),w.find(".snippet-wrap").eq(0).hide()):(w.find(".snippet-reveal").hide(),w.find(".snippet-wrap").eq(0).show()),w.find("a.snippet-toggle").click(function(){return w.find(".snippet-wrap").toggle(),!1})}if(k.transparent){o={"background-color":"transparent","box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none"};n.css(o),n.next(".snippet-textonly").css(o),n.parents(".snippet-container").find(".snippet-reveal pre").css(o)}if(k.startText&&(n.hide(),n.next(".snippet-textonly").show(),n.parent().find(".snippet-text").html("html")),""!=k.box){for(l="<span class='box-sp'>&nbsp;</span>",c=k.box.split(","),h=0;h<c.length;h++){var x,A,C;if(-1==(x=c[h]).indexOf("-"))x=parseFloat(x)-1,n.find("li").eq(x).addClass("box").prepend(l);else if((A=parseFloat(x.split("-")[0])-1)<(C=parseFloat(x.split("-")[1])-1)){n.find("li").eq(A).addClass("box box-top").prepend(l),n.find("li").eq(C).addClass("box box-bot").prepend(l);for(u=A+1;u<C;u++)n.find("li").eq(u).addClass("box box-mid").prepend(l)}else A==C&&n.find("li").eq(A).addClass("box").prepend(l)}""!=k.boxColor&&n.find("li.box").css("border-color",k.boxColor),""!=k.boxFill&&n.find("li.box, li.box-top, li.box-mid, li.box-bot").addClass("box-bg").css("background-color",k.boxFill),F.browser.webkit&&(n.find(".snippet-num li.box").css("margin-left","-3.3em"),n.find(".snippet-num li .box-sp").css("width","21px"))}n.parents(".snippet-container").find("a").addClass("sh_url")}})}}(jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(t){return"string"==typeof t&&(t=document.getElementById(t)),t.addClass||(t.hide=function(){this.style.display="none"},t.show=function(){this.style.display=""},t.addClass=function(t){this.removeClass(t),this.className+=" "+t},t.removeClass=function(t){for(var e=this.className.split(/\s+/),n=-1,i=0;i<e.length;i++)e[i]==t&&(n=i,i=e.length);return-1<n&&(e.splice(n,1),this.className=e.join(" ")),this},t.hasClass=function(t){return!!this.className.match(new RegExp("\\s*"+t+"\\s*"))}),t},setMoviePath:function(t){this.moviePath=t},dispatch:function(t,e,n){var i=this.clients[t];i&&i.receiveEvent(e,n)},register:function(t,e){this.clients[t]=e},getDOMObjectPosition:function(t,e){for(var n={left:0,top:0,width:t.width?t.width:t.offsetWidth,height:t.height?t.height:t.offsetHeight};t&&t!=e;)n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent;return n},Client:function(t){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),t&&this.glue(t)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(t,e,n){this.domElement=ZeroClipboard.$(t);var i=99;this.domElement.style.zIndex&&(i=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof e?e=ZeroClipboard.$(e):void 0===e&&(e=document.getElementsByTagName("body")[0]);var r=ZeroClipboard.getDOMObjectPosition(this.domElement,e);this.div=document.createElement("div"),this.div.className="snippet-clipboard";var s=this.div.style;if(s.position="absolute",s.left=r.left+"px",s.top=r.top+"px",s.width=r.width+"px",s.height=r.height+"px",s.zIndex=i,"object"==typeof n)for(addedStyle in n)s[addedStyle]=n[addedStyle];e.appendChild(this.div),this.div.innerHTML=this.getHTML(r.width,r.height)},getHTML:function(t,e){var n="",i="id="+this.id+"&width="+t+"&height="+e;navigator.userAgent.match(/MSIE/)?n+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+(location.href.match(/^https/i)?"https://":"http://")+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+t+'" height="'+e+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+i+'"/><param name="wmode" value="transparent"/></object>':n+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+t+'" height="'+e+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+i+'" wmode="transparent" />';return n},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var t=document.getElementsByTagName("body")[0];try{t.removeChild(this.div)}catch(t){}this.domElement=null,this.div=null}},reposition:function(t){if(t&&(this.domElement=ZeroClipboard.$(t),this.domElement||this.hide()),this.domElement&&this.div){var e=ZeroClipboard.getDOMObjectPosition(this.domElement),n=this.div.style;n.left=e.left+"px",n.top=e.top+"px"}},setText:function(t){this.clipText=t,this.ready&&this.movie.setText(t)},addEventListener:function(t,e){t=t.toString().toLowerCase().replace(/^on/,""),this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)},setHandCursor:function(t){this.handCursorEnabled=t,this.ready&&this.movie.setHandCursor(t)},setCSSEffects:function(t){this.cssEffects=!!t},receiveEvent:function(t,e){switch(t=t.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var n=this;return void setTimeout(function(){n.receiveEvent("load",null)},1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){n=this;return setTimeout(function(){n.receiveEvent("load",null)},100),void(this.ready=!0)}this.ready=!0;try{this.movie.setText(this.clipText)}catch(t){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(t){}break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[t])for(var i=0,r=this.handlers[t].length;i<r;i++){var s=this.handlers[t][i];"function"==typeof s?s(this,e):"object"==typeof s&&2==s.length?s[0][s[1]](this,e):"string"==typeof s&&window[s](this,e)}}},this.sh_languages||(this.sh_languages={});var sh_requests={},sliceTransform,sliceTransformCustomization,colorpalette;this.sh_languages||(this.sh_languages={}),sh_languages.c=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",10,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",13],[/'/g,"sh_string",14],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",11],[/"/g,"sh_string",12],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.cpp=[[[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",10,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",13],[/'/g,"sh_string",14],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",11],[/"/g,"sh_string",12],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.csharp=[[[/\b(?:using)\b/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))(?:[FfDdMmUulL]+)?\b/g,"sh_number",-1],[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:abstract|event|new|struct|as|explicit|null|switch|base|extern|this|false|operator|throw|break|finally|out|true|fixed|override|try|case|params|typeof|catch|for|private|foreach|protected|checked|goto|public|unchecked|class|if|readonly|unsafe|const|implicit|ref|continue|in|return|virtual|default|interface|sealed|volatile|delegate|internal|do|is|sizeof|while|lock|stackalloc|else|static|enum|namespace|get|partial|set|value|where|yield)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",10,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",13],[/'/g,"sh_string",14],[/\b(?:bool|byte|sbyte|char|decimal|double|float|int|uint|long|ulong|object|short|ushort|string|void)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",11],[/"/g,"sh_string",12],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.css=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(?:\.|#)[A-Za-z0-9_]+/g,"sh_selector",-1],[/\{/g,"sh_cbracket",10,1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\}/g,"sh_cbracket",-2],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/[A-Za-z0-9_-]+[ \t]*:/g,"sh_property",-1],[/[.%A-Za-z0-9_-]+/g,"sh_value",-1],[/#(?:[A-Za-z0-9_]+)/g,"sh_string",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.flex=[[[/^%\{/g,"sh_preproc",1,1],[/^%[sx]/g,"sh_preproc",16,1],[/^%option/g,"sh_preproc",17,1],[/^%(?:array|pointer|[aceknopr])/g,"sh_preproc",-1],[/[A-Za-z_][A-Za-z0-9_-]*/g,"sh_preproc",19,1],[/^%%/g,"sh_preproc",20,1]],[[/^%\}/g,"sh_preproc",-2],[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",11,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",14],[/'/g,"sh_string",15],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",3,1],[/<!DOCTYPE/g,"sh_preproc",5,1],[/<!--/g,"sh_comment",6],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",7,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",7,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",4]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",4]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",6]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",4]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",3,1],[/<!DOCTYPE/g,"sh_preproc",5,1],[/<!--/g,"sh_comment",6],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",7,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",7,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",12],[/"/g,"sh_string",13],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/$/g,null,-2],[/[A-Za-z_][A-Za-z0-9_-]*/g,"sh_function",-1]],[[/$/g,null,-2],[/[A-Za-z_][A-Za-z0-9_-]*/g,"sh_keyword",-1],[/"/g,"sh_string",18],[/=/g,"sh_symbol",-1]],[[/$/g,null,-2],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\{[A-Za-z_][A-Za-z0-9_-]*\}/g,"sh_type",-1],[/"/g,"sh_string",13],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/^%%/g,"sh_preproc",21,1],[/<[A-Za-z_][A-Za-z0-9_-]*>/g,"sh_function",-1],[/"/g,"sh_string",13],[/\\./g,"sh_preproc",-1],[/\{[A-Za-z_][A-Za-z0-9_-]*\}/g,"sh_type",-1],[/\/\*/g,"sh_comment",22],[/\{/g,"sh_cbracket",23,1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",11,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",14],[/'/g,"sh_string",15],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/\*\//g,"sh_comment",-2],[/\/\*/g,"sh_comment",22]],[[/\}/g,"sh_cbracket",-2],[/\{/g,"sh_cbracket",23,1],[/\$./g,"sh_variable",-1],[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",11,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",14],[/'/g,"sh_string",15],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.html=[[[/<\?xml/g,"sh_preproc",1,1],[/<!DOCTYPE/g,"sh_preproc",3,1],[/<!--/g,"sh_comment",4],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",5,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",5,1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",4]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]]],this.sh_languages||(this.sh_languages={}),sh_languages.java=[[[/\b(?:import|package)\b/g,"sh_preproc",-1],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/(\b(?:class|interface))([ \t]+)([$A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:abstract|assert|break|case|catch|class|const|continue|default|do|else|extends|false|final|finally|for|goto|if|implements|instanceof|interface|native|new|null|private|protected|public|return|static|strictfp|super|switch|synchronized|throw|throws|true|this|transient|try|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:int|byte|boolean|char|long|float|double|short|void)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.javascript=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b(?:abstract|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|final|finally|for|function|goto|if|implements|in|instanceof|interface|native|new|null|private|protected|prototype|public|return|static|super|switch|synchronized|throw|throws|this|transient|true|try|typeof|var|volatile|while|with)\b/g,"sh_keyword",-1],[/(\+\+|--|\)|\])(\s*)(\/=?(?![*\/]))/g,["sh_symbol","sh_normal","sh_symbol"],-1],[/(0x[A-Fa-f0-9]+|(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?)(\s*)(\/(?![*\/]))/g,["sh_number","sh_normal","sh_symbol"],-1],[/([A-Za-z$_][A-Za-z0-9$_]*\s*)(\/=?(?![*\/]))/g,["sh_normal","sh_symbol"],-1],[/\/(?:\\.|[^*\\\/])(?:\\.|[^\\\/])*\/[gim]*/g,"sh_regexp",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/\b(?:Math|Infinity|NaN|undefined|arguments)\b/g,"sh_predef_var",-1],[/\b(?:Array|Boolean|Date|Error|EvalError|Function|Number|Object|RangeError|ReferenceError|RegExp|String|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt)\b/g,"sh_predef_func",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.javascript_dom=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b(?:abstract|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|final|finally|for|function|goto|if|implements|in|instanceof|interface|native|new|null|private|protected|prototype|public|return|static|super|switch|synchronized|throw|throws|this|transient|true|try|typeof|var|volatile|while|with)\b/g,"sh_keyword",-1],[/(\+\+|--|\)|\])(\s*)(\/=?(?![*\/]))/g,["sh_symbol","sh_normal","sh_symbol"],-1],[/(0x[A-Fa-f0-9]+|(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?)(\s*)(\/(?![*\/]))/g,["sh_number","sh_normal","sh_symbol"],-1],[/([A-Za-z$_][A-Za-z0-9$_]*\s*)(\/=?(?![*\/]))/g,["sh_normal","sh_symbol"],-1],[/\/(?:\\.|[^*\\\/])(?:\\.|[^\\\/])*\/[gim]*/g,"sh_regexp",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/\b(?:Math|Infinity|NaN|undefined|arguments)\b/g,"sh_predef_var",-1],[/\b(?:Array|Boolean|Date|Error|EvalError|Function|Number|Object|RangeError|ReferenceError|RegExp|String|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt)\b/g,"sh_predef_func",-1],[/\b(?:applicationCache|closed|Components|content|controllers|crypto|defaultStatus|dialogArguments|directories|document|frameElement|frames|fullScreen|globalStorage|history|innerHeight|innerWidth|length|location|locationbar|menubar|name|navigator|opener|outerHeight|outerWidth|pageXOffset|pageYOffset|parent|personalbar|pkcs11|returnValue|screen|availTop|availLeft|availHeight|availWidth|colorDepth|height|left|pixelDepth|top|width|screenX|screenY|scrollbars|scrollMaxX|scrollMaxY|scrollX|scrollY|self|sessionStorage|sidebar|status|statusbar|toolbar|top|window)\b/g,"sh_predef_var",-1],[/\b(?:alert|addEventListener|atob|back|blur|btoa|captureEvents|clearInterval|clearTimeout|close|confirm|dump|escape|find|focus|forward|getAttention|getComputedStyle|getSelection|home|moveBy|moveTo|open|openDialog|postMessage|print|prompt|releaseEvents|removeEventListener|resizeBy|resizeTo|scroll|scrollBy|scrollByLines|scrollByPages|scrollTo|setInterval|setTimeout|showModalDialog|sizeToContent|stop|unescape|updateCommands|onabort|onbeforeunload|onblur|onchange|onclick|onclose|oncontextmenu|ondragdrop|onerror|onfocus|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onpaint|onreset|onresize|onscroll|onselect|onsubmit|onunload)\b/g,"sh_predef_func",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.perl=[[[/\b(?:import)\b/g,"sh_preproc",-1],[/(s)(\{(?:\\\}|[^}])*\}\{(?:\\\}|[^}])*\})([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(s)(\((?:\\\)|[^)])*\)\((?:\\\)|[^)])*\))([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(s)(\[(?:\\\]|[^\]])*\]\[(?:\\\]|[^\]])*\])([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(s)(<.*><.*>)([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(q(?:q?))(\{(?:\\\}|[^}])*\})/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))(\((?:\\\)|[^)])*\))/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))(\[(?:\\\]|[^\]])*\])/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))(<.*>)/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))([^A-Za-z0-9 \t])(.*\2)/g,["sh_keyword","sh_string","sh_string"],-1],[/(s)([^A-Za-z0-9 \t])(.*\2.*\2)([ixsmogce]*(?=[ \t]*(?:\)|;)))/g,["sh_keyword","sh_regexp","sh_regexp","sh_keyword"],-1],[/(s)([^A-Za-z0-9 \t])(.*\2[ \t]*)([^A-Za-z0-9 \t])(.*\4)([ixsmogce]*(?=[ \t]*(?:\)|;)))/g,["sh_keyword","sh_regexp","sh_regexp","sh_regexp","sh_regexp","sh_keyword"],-1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/(?:m|qr)(?=\{)/g,"sh_keyword",2],[/(?:m|qr)(?=#)/g,"sh_keyword",4],[/(?:m|qr)(?=\|)/g,"sh_keyword",6],[/(?:m|qr)(?=@)/g,"sh_keyword",8],[/(?:m|qr)(?=<)/g,"sh_keyword",10],[/(?:m|qr)(?=\[)/g,"sh_keyword",12],[/(?:m|qr)(?=\\)/g,"sh_keyword",14],[/(?:m|qr)(?=\/)/g,"sh_keyword",16],[/"/g,"sh_string",18],[/'/g,"sh_string",19],[/</g,"sh_string",20],[/\/[^\n]*\//g,"sh_string",-1],[/\b(?:chomp|chop|chr|crypt|hex|i|index|lc|lcfirst|length|oct|ord|pack|q|qq|reverse|rindex|sprintf|substr|tr|uc|ucfirst|m|s|g|qw|abs|atan2|cos|exp|hex|int|log|oct|rand|sin|sqrt|srand|my|local|our|delete|each|exists|keys|values|pack|read|syscall|sysread|syswrite|unpack|vec|undef|unless|return|length|grep|sort|caller|continue|dump|eval|exit|goto|last|next|redo|sub|wantarray|pop|push|shift|splice|unshift|split|switch|join|defined|foreach|last|chop|chomp|bless|dbmclose|dbmopen|ref|tie|tied|untie|while|next|map|eq|die|cmp|lc|uc|and|do|if|else|elsif|for|use|require|package|import|chdir|chmod|chown|chroot|fcntl|glob|ioctl|link|lstat|mkdir|open|opendir|readlink|rename|rmdir|stat|symlink|umask|unlink|utime|binmode|close|closedir|dbmclose|dbmopen|die|eof|fileno|flock|format|getc|print|printf|read|readdir|rewinddir|seek|seekdir|select|syscall|sysread|sysseek|syswrite|tell|telldir|truncate|warn|write|alarm|exec|fork|getpgrp|getppid|getpriority|kill|pipe|qx|setpgrp|setpriority|sleep|system|times|x|wait|waitpid)\b/g,"sh_keyword",-1],[/^\=(?:head1|head2|item)/g,"sh_comment",21],[/(?:\$[#]?|@|%)[\/A-Za-z0-9_]+/g,"sh_variable",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/\{/g,"sh_regexp",3]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\{|\\\}|\}/g,"sh_regexp",-3]],[[/#/g,"sh_regexp",5]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\#|#/g,"sh_regexp",-3]],[[/\|/g,"sh_regexp",7]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\||\|/g,"sh_regexp",-3]],[[/@/g,"sh_regexp",9]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\@|@/g,"sh_regexp",-3]],[[/</g,"sh_regexp",11]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\<|\\>|>/g,"sh_regexp",-3]],[[/\[/g,"sh_regexp",13]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\]|\]/g,"sh_regexp",-3]],[[/\\/g,"sh_regexp",15]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\\|\\/g,"sh_regexp",-3]],[[/\//g,"sh_regexp",17]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\/|\//g,"sh_regexp",-3]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/\=cut/g,"sh_comment",-2]]],this.sh_languages||(this.sh_languages={}),sh_languages.php=[[[/\b(?:include|include_once|require|require_once)\b/g,"sh_preproc",-1],[/\/\//g,"sh_comment",1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",2],[/'/g,"sh_string",3],[/\b(?:and|or|xor|__FILE__|exception|php_user_filter|__LINE__|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|each|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|for|foreach|function|global|if|isset|list|new|old_function|print|return|static|switch|unset|use|var|while|__FUNCTION__|__CLASS__|__METHOD__)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",4],[/\/\//g,"sh_comment",1],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(?:\$[#]?|@|%)[A-Za-z0-9_]+/g,"sh_variable",-1],[/<\?php|~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",5,1],[/<!DOCTYPE/g,"sh_preproc",6,1],[/<!--/g,"sh_comment",7],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",8,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",8,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",7]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",5,1],[/<!DOCTYPE/g,"sh_preproc",6,1],[/<!--/g,"sh_comment",7],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",8,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",8,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.python=[[[/\b(?:import|from)\b/g,"sh_preproc",-1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/\b(?:and|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|global|if|in|is|lambda|not|or|pass|print|raise|return|try|while)\b/g,"sh_keyword",-1],[/^(?:[\s]*'{3})/g,"sh_comment",2],[/^(?:[\s]*\"{3})/g,"sh_comment",3],[/^(?:[\s]*'(?:[^\\']|\\.)*'[\s]*|[\s]*\"(?:[^\\\"]|\\.)*\"[\s]*)$/g,"sh_comment",-1],[/(?:[\s]*'{3})/g,"sh_string",4],[/(?:[\s]*\"{3})/g,"sh_string",5],[/"/g,"sh_string",6],[/'/g,"sh_string",7],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\||\{|\}/g,"sh_symbol",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/(?:'{3})/g,"sh_comment",-2]],[[/(?:\"{3})/g,"sh_comment",-2]],[[/(?:'{3})/g,"sh_string",-2]],[[/(?:\"{3})/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]]],this.sh_languages||(this.sh_languages={}),sh_languages.ruby=[[[/\b(?:require)\b/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",1],[/'/g,"sh_string",2],[/</g,"sh_string",3],[/\/[^\n]*\//g,"sh_regexp",-1],[/(%r)(\{(?:\\\}|#\{[A-Za-z0-9]+\}|[^}])*\})/g,["sh_symbol","sh_regexp"],-1],[/\b(?:alias|begin|BEGIN|break|case|defined|do|else|elsif|end|END|ensure|for|if|in|include|loop|next|raise|redo|rescue|retry|return|super|then|undef|unless|until|when|while|yield|false|nil|self|true|__FILE__|__LINE__|and|not|or|def|class|module|catch|fail|load|throw)\b/g,"sh_keyword",-1],[/(?:^\=begin)/g,"sh_comment",4],[/(?:\$[#]?|@@|@)(?:[A-Za-z0-9_]+|'|\"|\/)/g,"sh_type",-1],[/[A-Za-z0-9]+(?:\?|!)/g,"sh_normal",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/(#)(\{)/g,["sh_symbol","sh_cbracket"],-1],[/#/g,"sh_comment",5],[/\{|\}/g,"sh_cbracket",-1]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/^(?:\=end)/g,"sh_comment",-2]],[[/$/g,null,-2]]],this.sh_languages||(this.sh_languages={}),sh_languages.sql=[[[/\b(?:VARCHAR|TINYINT|TEXT|DATE|SMALLINT|MEDIUMINT|INT|BIGINT|FLOAT|DOUBLE|DECIMAL|DATETIME|TIMESTAMP|TIME|YEAR|UNSIGNED|CHAR|TINYBLOB|TINYTEXT|BLOB|MEDIUMBLOB|MEDIUMTEXT|LONGBLOB|LONGTEXT|ENUM|BOOL|BINARY|VARBINARY)\b/gi,"sh_type",-1],[/\b(?:ALL|ASC|AS|ALTER|AND|ADD|AUTO_INCREMENT|BETWEEN|BINARY|BOTH|BY|BOOLEAN|CHANGE|CHECK|COLUMNS|COLUMN|CROSS|CREATE|DATABASES|DATABASE|DATA|DELAYED|DESCRIBE|DESC|DISTINCT|DELETE|DROP|DEFAULT|ENCLOSED|ESCAPED|EXISTS|EXPLAIN|FIELDS|FIELD|FLUSH|FOR|FOREIGN|FUNCTION|FROM|GROUP|GRANT|HAVING|IGNORE|INDEX|INFILE|INSERT|INNER|INTO|IDENTIFIED|IN|IS|IF|JOIN|KEYS|KILL|KEY|LEADING|LIKE|LIMIT|LINES|LOAD|LOCAL|LOCK|LOW_PRIORITY|LEFT|LANGUAGE|MODIFY|NATURAL|NOT|NULL|NEXTVAL|OPTIMIZE|OPTION|OPTIONALLY|ORDER|OUTFILE|OR|OUTER|ON|PROCEDURE|PROCEDURAL|PRIMARY|READ|REFERENCES|REGEXP|RENAME|REPLACE|RETURN|REVOKE|RLIKE|RIGHT|SHOW|SONAME|STATUS|STRAIGHT_JOIN|SELECT|SETVAL|SET|TABLES|TERMINATED|TO|TRAILING|TRUNCATE|TABLE|TEMPORARY|TRIGGER|TRUSTED|UNIQUE|UNLOCK|USE|USING|UPDATE|VALUES|VARIABLES|VIEW|WITH|WRITE|WHERE|ZEROFILL|TYPE|XOR)\b/gi,"sh_keyword",-1],[/"/g,"sh_string",1],[/'/g,"sh_string",2],[/`/g,"sh_string",3],[/#/g,"sh_comment",4],[/\/\/\//g,"sh_comment",5],[/\/\//g,"sh_comment",4],[/\/\*\*/g,"sh_comment",11],[/\/\*/g,"sh_comment",12],[/--/g,"sh_comment",4],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/`/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/$/g,null,-2]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",6,1],[/<!DOCTYPE/g,"sh_preproc",8,1],[/<!--/g,"sh_comment",9],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",10,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",10,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",7]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",7]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",9]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",7]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",6,1],[/<!DOCTYPE/g,"sh_preproc",8,1],[/<!--/g,"sh_comment",9],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",10,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",10,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.url=[[{regex:/(?:<?)[A-Za-z0-9_\.\/\-_]+@[A-Za-z0-9_\.\/\-_]+(?:>?)/g,style:"sh_url"},{regex:/(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_]+(?:>?)/g,style:"sh_url"}]],this.sh_languages||(this.sh_languages={}),sh_languages.xml=[[[/<\?xml/g,"sh_preproc",1,1],[/<!DOCTYPE/g,"sh_preproc",3,1],[/<!--/g,"sh_comment",4],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",5,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",4]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]]],function(h){function t(t){if("string"==typeof t.data&&(t.data={keys:t.data}),t.data&&t.data.keys&&"string"==typeof t.data.keys){var a=t.handler,l=t.data.keys.toLowerCase().split(" "),c=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"];t.handler=function(n){if(this===n.target||!(/textarea|select/i.test(n.target.nodeName)||-1<h.inArray(n.target.type,c))){var i=h.hotkeys.specialKeys[n.keyCode],t=String.fromCharCode(n.which).toLowerCase(),r="",e={};h.each(["alt","ctrl","meta","shift"],function(t,e){n[e+"Key"]&&i!==e&&(r+=e+"+")}),r=r.replace("alt+ctrl+meta+shift","hyper"),i&&(e[r+i]=!0),t&&(e[r+t]=!0,e[r+h.hotkeys.shiftNums[t]]=!0,"shift+"===r&&(e[h.hotkeys.shiftNums[t]]=!0));for(var s=0,o=l.length;s<o;s++)if(e[l[s]])return a.apply(this,arguments)}}}}h.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},h.each(["keydown","keyup","keypress"],function(){h.event.special[this]={add:t}})}(this.jQuery),function(f){f.contextMenu={shadow:!0,shadowOffset:0,shadowOffsetX:5,shadowOffsetY:5,shadowWidthAdjust:-3,shadowHeightAdjust:-3,shadowOpacity:.2,shadowClass:"context-menu-shadow",shadowColor:"black",offsetX:0,offsetY:0,appendTo:"body",direction:"down",constrainToScreen:!0,showTransition:"show",hideTransition:"hide",showSpeed:null,hideSpeed:null,showCallback:null,hideCallback:null,className:"context-menu",itemClassName:"context-menu-item",itemHoverClassName:"context-menu-item-hover",disabledItemClassName:"context-menu-item-disabled",disabledItemHoverClassName:"context-menu-item-disabled-hover",separatorClassName:"context-menu-separator",innerDivClassName:"context-menu-item-inner",themePrefix:"context-menu-theme-",theme:"default",separator:"context-menu-separator",target:null,menu:null,shadowObj:null,bgiframe:null,shown:!1,useIframe:!1,create:function(t,e){var n=f.extend({},this,e);return"string"==typeof t?n.menu=f(t):"function"==typeof t?n.menuFunction=t:n.menu=n.createMenu(t,n),n.menu&&(n.menu.css({display:"none"}),f(n.appendTo).append(n.menu)),n.shadow&&(n.createShadow(n),n.shadowOffset&&(n.shadowOffsetX=n.shadowOffsetY=n.shadowOffset)),f("body").bind("contextmenu",function(){n.hide()}),n},createIframe:function(){return f('<iframe frameborder="0" tabindex="-1" src="javascript:false" style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=0);"/>')},createMenu:function(t,n){var i=n.className;f.each(n.theme.split(","),function(t,e){i+=" "+n.themePrefix+e});for(var e=f("<table cellspacing=0 cellpadding=0></table>").click(function(){return n.hide(),!1}),r=f("<tr></tr>"),s=f("<td></td>"),o=f('<div class="'+i+'"></div>'),a=0;a<t.length;a++){if(t[a]==f.contextMenu.separator)o.append(n.createSeparator());else for(var l in t[a])o.append(n.createMenuItem(l,t[a][l]))}return n.useIframe&&s.append(n.createIframe()),e.append(r.append(s.append(o))),e},createMenuItem:function(t,e){var n=this;"function"==typeof e&&(e={onclick:e});var i=f.extend({onclick:function(){},className:"",hoverClassName:n.itemHoverClassName,icon:"",disabled:!1,title:"",hoverItem:n.hoverItem,hoverItemOut:n.hoverItemOut},e),r=i.icon?"background-image:url("+i.icon+");":"",s=f('<div class="'+n.itemClassName+" "+i.className+(i.disabled?" "+n.disabledItemClassName:"")+'" title="'+i.title+'"></div>').click(function(t){return!n.isItemDisabled(this)&&i.onclick.call(n.target,this,n,t)}).hover(function(){i.hoverItem.call(this,n.isItemDisabled(this)?n.disabledItemHoverClassName:i.hoverClassName)},function(){i.hoverItemOut.call(this,n.isItemDisabled(this)?n.disabledItemHoverClassName:i.hoverClassName)}),o=f('<div class="'+n.innerDivClassName+'" style="'+r+'">'+t+"</div>");return s.append(o),s},createSeparator:function(){return f('<div class="'+this.separatorClassName+'"></div>')},isItemDisabled:function(t){return f(t).is("."+this.disabledItemClassName)},hoverItem:function(t){f(this).addClass(t)},hoverItemOut:function(t){f(this).removeClass(t)},createShadow:function(t){t.shadowObj=f('<div class="'+t.shadowClass+'"></div>').css({display:"none",position:"absolute",zIndex:9998,opacity:t.shadowOpacity,backgroundColor:t.shadowColor}),f(t.appendTo).append(t.shadowObj)},showShadow:function(t,e,n){var i=this;i.shadow&&i.shadowObj.css({width:i.menu.width()+i.shadowWidthAdjust+"px",height:i.menu.height()+i.shadowHeightAdjust+"px",top:e+i.shadowOffsetY+"px",left:t+i.shadowOffsetX+"px"}).addClass(i.shadowClass)[i.showTransition](i.showSpeed)},beforeShow:function(){return!0},show:function(t,e){var n=this,i=e.pageX,r=e.pageY;if(n.target=t,!1!==n.beforeShow()){n.menuFunction&&(n.menu&&f(n.menu).remove(),n.menu=n.createMenu(n.menuFunction(n,t),n),n.menu.css({display:"none"}),f(n.appendTo).append(n.menu));var s=n.menu;i+=n.offsetX,r+=n.offsetY;var o=n.getPosition(i,r,n,e);n.showShadow(o.x,o.y,e),n.useIframe&&s.find("iframe").css({width:s.width()+n.shadowOffsetX+n.shadowWidthAdjust,height:s.height()+n.shadowOffsetY+n.shadowHeightAdjust}),s.css({top:o.y+"px",left:o.x+"px",position:"absolute",zIndex:9999})[n.showTransition](n.showSpeed,n.showCallback?function(){n.showCallback.call(n)}:null),n.shown=!0}},getPosition:function(t,e,n,i){var r=t+n.offsetX,s=e+n.offsetY,o=f(n.menu).height(),a=f(n.menu).width(),l=n.direction;if(n.constrainToScreen){var c=f(window),h=c.height(),u=c.width();"down"==l&&s+o-c.scrollTop()>h&&(l="up");var d=r+a-c.scrollLeft();u<d&&(r-=d-u)}return"up"==l&&(s-=o),{x:r,y:s}},hide:function(){var t=this;t.shown&&(t.iframe&&f(t.iframe).hide(),t.menu&&t.menu[t.hideTransition](t.hideSpeed,t.hideCallback?function(){t.hideCallback.call(t)}:null),t.shadow&&t.shadowObj[t.hideTransition](t.hideSpeed)),t.shown=!1}},f.fn.contextMenu=function(t,e){var n=f.contextMenu.create(t,e);return this.each(function(){f(this).bind("contextmenu",function(t){return n.show(this,t),!1})})}}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(L){"use strict";function n(t){var e=t.data;t.isDefaultPrevented()||(t.preventDefault(),L(t.target).ajaxSubmit(e))}function i(t){var e=t.target,n=L(e);if(!n.is("[type=submit],[type=image]")){var i=n.closest("[type=submit]");if(0===i.length)return;e=i[0]}var r=this;if("image"==(r.clk=e).type)if(void 0!==t.offsetX)r.clk_x=t.offsetX,r.clk_y=t.offsetY;else if("function"==typeof L.fn.offset){var s=n.offset();r.clk_x=t.pageX-s.left,r.clk_y=t.pageY-s.top}else r.clk_x=t.pageX-e.offsetLeft,r.clk_y=t.pageY-e.offsetTop;setTimeout(function(){r.clk=r.clk_x=r.clk_y=null},100)}function B(){if(L.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var b={};b.fileapi=void 0!==L("<input type='file'/>").get(0).files,b.formdata=void 0!==window.FormData;var $=!!L.fn.prop;L.fn.attr2=function(){if(!$)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},L.fn.ajaxSubmit=function(T){function t(t){function h(e){var n=null;try{e.contentWindow&&(n=e.contentWindow.document)}catch(t){B("cannot get iframe.contentWindow document: "+t)}if(n)return n;try{n=e.contentDocument?e.contentDocument:e.document}catch(t){B("cannot get iframe.contentDocument: "+t),n=e.document}return n}function e(){var t=M.attr2("target"),e=M.attr2("action"),n=M.attr("enctype")||M.attr("encoding")||"multipart/form-data";a.setAttribute("target",s),(!D||/post/i.test(D))&&a.setAttribute("method","POST"),e!=d.url&&a.setAttribute("action",d.url),d.skipEncodingOverride||D&&!/post/i.test(D)||M.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(y=setTimeout(function(){v=!0,u(_)},d.timeout));var i=[];try{if(d.extraData)for(var r in d.extraData)d.extraData.hasOwnProperty(r)&&(L.isPlainObject(d.extraData[r])&&d.extraData[r].hasOwnProperty("name")&&d.extraData[r].hasOwnProperty("value")?i.push(L('<input type="hidden" name="'+d.extraData[r].name+'">').val(d.extraData[r].value).appendTo(a)[0]):i.push(L('<input type="hidden" name="'+r+'">').val(d.extraData[r]).appendTo(a)[0]));d.iframeTarget||p.appendTo("body"),g.attachEvent?g.attachEvent("onload",u):g.addEventListener("load",u,!1),setTimeout(function t(){try{var e=h(g).readyState;B("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(t){B("Server abort: ",t," (",t.name,")"),u(w),y&&clearTimeout(y),y=void 0}},15);try{a.submit()}catch(t){document.createElement("form").submit.apply(a)}}finally{a.setAttribute("action",e),a.setAttribute("enctype",n),t?a.setAttribute("target",t):M.removeAttr("target"),L(i).remove()}}function u(t){if(!m.aborted&&!C){if((A=h(g))||(B("cannot access response document"),t=w),t===_&&m)return m.abort("timeout"),void b.reject(m,"timeout");if(t==w&&m)return m.abort("server abort"),void b.reject(m,"error","server abort");if(A&&A.location.href!=d.iframeSrc||v){g.detachEvent?g.detachEvent("onload",u):g.removeEventListener("load",u,!1);var e,n="success";try{if(v)throw"timeout";var i="xml"==d.dataType||A.XMLDocument||L.isXMLDoc(A);if(B("isXml="+i),!i&&window.opera&&(null===A.body||!A.body.innerHTML)&&--E)return B("requeing onLoad callback, DOM not available"),void setTimeout(u,250);var r=A.body?A.body:A.documentElement;m.responseText=r?r.innerHTML:null,m.responseXML=A.XMLDocument?A.XMLDocument:A,i&&(d.dataType="xml"),m.getResponseHeader=function(t){return{"content-type":d.dataType}[t.toLowerCase()]},r&&(m.status=Number(r.getAttribute("status"))||m.status,m.statusText=r.getAttribute("statusText")||m.statusText);var s=(d.dataType||"").toLowerCase(),o=/(json|script|text)/.test(s);if(o||d.textarea){var a=A.getElementsByTagName("textarea")[0];if(a)m.responseText=a.value,m.status=Number(a.getAttribute("status"))||m.status,m.statusText=a.getAttribute("statusText")||m.statusText;else if(o){var l=A.getElementsByTagName("pre")[0],c=A.getElementsByTagName("body")[0];l?m.responseText=l.textContent?l.textContent:l.innerText:c&&(m.responseText=c.textContent?c.textContent:c.innerText)}}else"xml"==s&&!m.responseXML&&m.responseText&&(m.responseXML=k(m.responseText));try{x=F(m,s,d)}catch(t){n="parsererror",m.error=e=t||n}}catch(t){B("error caught: ",t),n="error",m.error=e=t||n}m.aborted&&(B("upload aborted"),n=null),m.status&&(n=200<=m.status&&m.status<300||304===m.status?"success":"error"),"success"===n?(d.success&&d.success.call(d.context,x,"success",m),b.resolve(m.responseText,"success",m),f&&L.event.trigger("ajaxSuccess",[m,d])):n&&(void 0===e&&(e=m.statusText),d.error&&d.error.call(d.context,m,n,e),b.reject(m,"error",e),f&&L.event.trigger("ajaxError",[m,d,e])),f&&L.event.trigger("ajaxComplete",[m,d]),f&&!--L.active&&L.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,m,n),C=!0,d.timeout&&clearTimeout(y),setTimeout(function(){d.iframeTarget?p.attr("src",d.iframeSrc):p.remove(),m.responseXML=null},100)}}}var n,i,d,f,s,p,g,m,r,o,v,y,a=M[0],b=L.Deferred();if(b.abort=function(t){m.abort(t)},t)for(i=0;i<P.length;i++)n=L(P[i]),$?n.prop("disabled",!1):n.removeAttr("disabled");if((d=L.extend(!0,{},L.ajaxSettings,T)).context=d.context||d,s="jqFormIO"+(new Date).getTime(),d.iframeTarget?(o=(p=L(d.iframeTarget)).attr2("name"))?s=o:p.attr2("name",s):(p=L('<iframe name="'+s+'" src="'+d.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),g=p[0],m={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var e="timeout"===t?"timeout":"aborted";B("aborting upload... "+e),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(t){}p.attr("src",d.iframeSrc),m.error=e,d.error&&d.error.call(d.context,m,e,t),f&&L.event.trigger("ajaxError",[m,d,e]),d.complete&&d.complete.call(d.context,m,e)}},(f=d.global)&&0==L.active++&&L.event.trigger("ajaxStart"),f&&L.event.trigger("ajaxSend",[m,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,m,d))return d.global&&L.active--,b.reject(),b;if(m.aborted)return b.reject(),b;(r=a.clk)&&((o=r.name)&&!r.disabled&&(d.extraData=d.extraData||{},d.extraData[o]=r.value,"image"==r.type&&(d.extraData[o+".x"]=a.clk_x,d.extraData[o+".y"]=a.clk_y)));var _=1,w=2,l=L("meta[name=csrf-token]").attr("content"),c=L("meta[name=csrf-param]").attr("content");c&&l&&(d.extraData=d.extraData||{},d.extraData[c]=l),d.forceSync?e():setTimeout(e,10);var x,A,C,E=50,k=L.parseXML||function(t,e){return window.ActiveXObject?((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},S=L.parseJSON||function(t){return window.eval("("+t+")")},F=function(t,e,n){var i=t.getResponseHeader("content-type")||"",r="xml"===e||!e&&0<=i.indexOf("xml"),s=r?t.responseXML:t.responseText;return r&&"parsererror"===s.documentElement.nodeName&&L.error&&L.error("parsererror"),n&&n.dataFilter&&(s=n.dataFilter(s,e)),"string"==typeof s&&("json"===e||!e&&0<=i.indexOf("json")?s=S(s):("script"===e||!e&&0<=i.indexOf("javascript"))&&L.globalEval(s)),s};return b}if(!this.length)return B("ajaxSubmit: skipping submit process - no element selected"),this;var D,e,n,M=this;"function"==typeof T?T={success:T}:void 0===T&&(T={}),D=T.type||this.attr2("method"),(n=(n="string"==typeof(e=T.url||this.attr2("action"))?L.trim(e):"")||window.location.href||"")&&(n=(n.match(/^([^#]+)/)||[])[1]),T=L.extend(!0,{url:n,success:L.ajaxSettings.success,type:D||L.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},T);var i={};if(this.trigger("form-pre-serialize",[this,T,i]),i.veto)return B("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(T.beforeSerialize&&!1===T.beforeSerialize(this,T))return B("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var r=T.traditional;void 0===r&&(r=L.ajaxSettings.traditional);var s,P=[],o=this.formToArray(T.semantic,P);if(T.data&&(T.extraData=T.data,s=L.param(T.data,r)),T.beforeSubmit&&!1===T.beforeSubmit(o,this,T))return B("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[o,this,T,i]),i.veto)return B("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var a=L.param(o,r);s&&(a=a?a+"&"+s:s),"GET"==T.type.toUpperCase()?(T.url+=(0<=T.url.indexOf("?")?"&":"?")+a,T.data=null):T.data=a;var l=[];if(T.resetForm&&l.push(function(){M.resetForm()}),T.clearForm&&l.push(function(){M.clearForm(T.includeHidden)}),!T.dataType&&T.target){var c=T.success||function(){};l.push(function(t){var e=T.replaceTarget?"replaceWith":"html";L(T.target)[e](t).each(c,arguments)})}else T.success&&l.push(T.success);if(T.success=function(t,e,n){for(var i=T.context||this,r=0,s=l.length;r<s;r++)l[r].apply(i,[t,e,n||M,M])},T.error){var h=T.error;T.error=function(t,e,n){var i=T.context||this;h.apply(i,[t,e,n,M])}}if(T.complete){var u=T.complete;T.complete=function(t,e){var n=T.context||this;u.apply(n,[t,e,M])}}var d=0<L("input[type=file]:enabled",this).filter(function(){return""!==L(this).val()}).length,f="multipart/form-data",p=M.attr("enctype")==f||M.attr("encoding")==f,g=b.fileapi&&b.formdata;B("fileAPI :"+g);var m,v=(d||p)&&!g;!1!==T.iframe&&(T.iframe||v)?T.closeKeepAlive?L.get(T.closeKeepAlive,function(){m=t(o)}):m=t(o):m=(d||p)&&g?function(t){for(var n=new FormData,e=0;e<t.length;e++)n.append(t[e].name,t[e].value);if(T.extraData){var i=function(t){var e,n,i=L.param(t,T.traditional).split("&"),r=i.length,s=[];for(e=0;e<r;e++)i[e]=i[e].replace(/\+/g," "),n=i[e].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}(T.extraData);for(e=0;e<i.length;e++)i[e]&&n.append(i[e][0],i[e][1])}T.data=null;var r=L.extend(!0,{},L.ajaxSettings,T,{contentType:!1,processData:!1,cache:!1,type:D||"POST"});T.uploadProgress&&(r.xhr=function(){var t=L.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(t){var e=0,n=t.loaded||t.position,i=t.total;t.lengthComputable&&(e=Math.ceil(n/i*100)),T.uploadProgress(t,n,i,e)},!1),t}),r.data=null;var s=r.beforeSend;return r.beforeSend=function(t,e){T.formData?e.data=T.formData:e.data=n,s&&s.call(this,t,e)},L.ajax(r)}(o):L.ajax(T),M.removeData("jqxhr").data("jqxhr",m);for(var y=0;y<P.length;y++)P[y]=null;return this.trigger("form-submit-notify",[this,T]),this},L.fn.ajaxForm=function(t){if((t=t||{}).delegation=t.delegation&&L.isFunction(L.fn.on),!t.delegation&&0===this.length){var e={s:this.selector,c:this.context};return!L.isReady&&e.s?(B("DOM not ready, queuing ajaxForm"),L(function(){L(e.s,e.c).ajaxForm(t)})):B("terminating; zero elements found by selector"+(L.isReady?"":" (DOM not ready)")),this}return t.delegation?(L(document).off("submit.form-plugin",this.selector,n).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,t,n).on("click.form-plugin",this.selector,t,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",t,n).bind("click.form-plugin",t,i)},L.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},L.fn.formToArray=function(t,e){var n=[];if(0===this.length)return n;var i,r,s,o,a,l,c,h,u=this[0],d=this.attr("id"),f=t?u.getElementsByTagName("*"):u.elements;if(f&&!/MSIE [678]/.test(navigator.userAgent)&&(f=L(f).get()),d&&((i=L(':input[form="'+d+'"]').get()).length&&(f=(f||[]).concat(i))),!f||!f.length)return n;for(r=0,c=f.length;r<c;r++)if((o=(l=f[r]).name)&&!l.disabled)if(t&&u.clk&&"image"==l.type)u.clk==l&&(n.push({name:o,value:L(l).val(),type:l.type}),n.push({name:o+".x",value:u.clk_x},{name:o+".y",value:u.clk_y}));else if((a=L.fieldValue(l,!0))&&a.constructor==Array)for(e&&e.push(l),s=0,h=a.length;s<h;s++)n.push({name:o,value:a[s]});else if(b.fileapi&&"file"==l.type){e&&e.push(l);var p=l.files;if(p.length)for(s=0;s<p.length;s++)n.push({name:o,value:p[s],type:l.type});else n.push({name:o,value:"",type:l.type})}else null!=a&&(e&&e.push(l),n.push({name:o,value:a,type:l.type,required:l.required}));if(!t&&u.clk){var g=L(u.clk),m=g[0];(o=m.name)&&!m.disabled&&"image"==m.type&&(n.push({name:o,value:g.val()}),n.push({name:o+".x",value:u.clk_x},{name:o+".y",value:u.clk_y}))}return n},L.fn.formSerialize=function(t){return L.param(this.formToArray(t))},L.fn.fieldSerialize=function(r){var s=[];return this.each(function(){var t=this.name;if(t){var e=L.fieldValue(this,r);if(e&&e.constructor==Array)for(var n=0,i=e.length;n<i;n++)s.push({name:t,value:e[n]});else null!=e&&s.push({name:this.name,value:e})}}),L.param(s)},L.fn.fieldValue=function(t){for(var e=[],n=0,i=this.length;n<i;n++){var r=this[n],s=L.fieldValue(r,t);null==s||s.constructor==Array&&!s.length||(s.constructor==Array?L.merge(e,s):e.push(s))}return e},L.fieldValue=function(t,e){var n=t.name,i=t.type,r=t.tagName.toLowerCase();if(void 0===e&&(e=!0),e&&(!n||t.disabled||"reset"==i||"button"==i||("checkbox"==i||"radio"==i)&&!t.checked||("submit"==i||"image"==i)&&t.form&&t.form.clk!=t||"select"==r&&-1==t.selectedIndex))return null;if("select"==r){var s=t.selectedIndex;if(s<0)return null;for(var o=[],a=t.options,l="select-one"==i,c=l?s+1:a.length,h=l?s:0;h<c;h++){var u=a[h];if(u.selected){var d=u.value;if(d||(d=u.attributes&&u.attributes.value&&!u.attributes.value.specified?u.text:u.value),l)return d;o.push(d)}}return o}return L(t).val()},L.fn.clearForm=function(t){return this.each(function(){L("input,select,textarea",this).clearFields(t)})},L.fn.clearFields=L.fn.clearInputs=function(n){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,e=this.tagName.toLowerCase();i.test(t)||"textarea"==e?this.value="":"checkbox"==t||"radio"==t?this.checked=!1:"select"==e?this.selectedIndex=-1:"file"==t?/MSIE/.test(navigator.userAgent)?L(this).replaceWith(L(this).clone(!0)):L(this).val(""):n&&(!0===n&&/hidden/.test(t)||"string"==typeof n&&L(this).is(n))&&(this.value="")})},L.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},L.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},L.fn.selected=function(n){return void 0===n&&(n=!0),this.each(function(){var t=this.type;if("checkbox"==t||"radio"==t)this.checked=n;else if("option"==this.tagName.toLowerCase()){var e=L(this).parent("select");n&&e[0]&&"select-one"==e[0].type&&e.find("option").selected(!1),this.selected=n}})},L.fn.ajaxSubmit.debug=!1}),function(_){var w={};w.fileapi=void 0!==_("<input type='file'/>").get(0).files,w.formdata=void 0!==window.FormData,_.fn.uploadFile=function(t){function p(t){var e="",n=t/1024;1024<parseInt(n)?e=(n/1024).toFixed(2)+" MB":e=n.toFixed(2)+" KB";return e}function g(t){var e,n,i=[],r=(i="string"==jQuery.type(t)?t.split("&"):_.param(t).split("&")).length,s=[];for(e=0;e<r;e++)i[e]=i[e].replace(/\+/g," "),n=i[e].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}function f(t,e,n){for(var i=0;i<n.length;i++)if(m(e,t,n[i].name))if(-1!=t.maxFileSize&&n[i].size>t.maxFileSize)t.showError&&_("<div style='color:red;'><b>"+n[i].name+"</b> "+t.sizeErrorStr+p(t.maxFileSize)+"</div>").appendTo(e.errorLog);else{var r=t,s=new FormData,o=t.fileName.replace("[]","");s.append(o,n[i]);var a=t.formData;if(a)for(var l=g(a),c=0;c<l.length;c++)l[c]&&s.append(l[c][0],l[c][1]);r.fileData=s;var h,u=new v(e,t);h=t.showFileCounter?e.fileCounter+t.fileCounterStyle+n[i].name:n[i].name,u.filename.html(h);var d=_("<form style='display:block; position:absolute;left: 150px;' class='"+e.formGroup+"' method='"+t.method+"' action='"+t.url+"' enctype='"+t.enctype+"'></form>");d.appendTo("body");var f=[];f.push(n[i].name),y(d,r,u,f,e),e.fileCounter++}else t.showError&&_("<div style='color:red;'><b>"+n[i].name+"</b> "+t.extErrorStr+t.allowedTypes+"</div>").appendTo(e.errorLog)}function m(t,e,n){var i=e.allowedTypes.toLowerCase().split(","),r=n.split(".").pop().toLowerCase();return!("*"!=e.allowedTypes&&jQuery.inArray(r,i)<0)}function v(t,e){return this.statusbar=_("<div class='ajax-file-upload-statusbar'></div>"),this.filename=_("<div class='ajax-file-upload-filename'></div>").appendTo(this.statusbar),this.progressDiv=_("<div class='ajax-file-upload-progress'>").appendTo(this.statusbar).hide(),this.progressbar=_("<div class='ajax-file-upload-bar "+t.formGroup+"'></div>").appendTo(this.progressDiv),this.abort=_("<div class='ajax-file-upload-red "+t.formGroup+"'>"+e.abortStr+"</div>").appendTo(this.statusbar).hide(),this.cancel=_("<div class='ajax-file-upload-red'>"+e.cancelStr+"</div>").appendTo(this.statusbar).hide(),this.done=_("<div class='ajax-file-upload-green'>"+e.doneStr+"</div>").appendTo(this.statusbar).hide(),this.del=_("<div class='ajax-file-upload-red'>"+e.deletelStr+"</div>").appendTo(this.statusbar).hide(),t.errorLog.after(this.statusbar),this}function y(o,a,l,c,h){var t={cache:!1,contentType:!1,processData:!1,forceSync:!1,data:a.formData,formData:a.fileData,dataType:a.returnType,beforeSubmit:function(t,e,n){if(0!=a.onSubmit.call(this,c)){var i=a.dynamicFormData();if(i){var r=g(i);if(r)for(var s=0;s<r.length;s++)r[s]&&(null!=a.fileData?n.formData.append(r[s][0],r[s][1]):n.data[r[s][0]]=r[s][1])}return h.tCounter+=c.length,u.afterUploadAll&&!b&&(b=!0,function t(){0!=d.sCounter&&d.sCounter+d.fCounter==d.tCounter?(u.afterUploadAll(d),b=!1):window.setTimeout(t,100)}()),!0}return l.statusbar.append("<div style='color:red;'>"+a.uploadErrorStr+"</div>"),l.cancel.show(),o.remove(),l.cancel.click(function(){l.statusbar.remove()}),!1},beforeSend:function(t,e){l.progressDiv.show(),l.cancel.hide(),l.done.hide(),a.showAbort&&(l.abort.show(),l.abort.click(function(){t.abort()})),w.formdata?l.progressbar.width("1%"):l.progressbar.width("5%")},uploadProgress:function(t,e,n,i){98<i&&(i=98);var r=i+"%";1<i&&l.progressbar.width(r),a.showProgress&&(l.progressbar.html(r),l.progressbar.css("text-align","center"))},success:function(t,e,n){h.responses.push(t),l.progressbar.width("100%"),a.showProgress&&(l.progressbar.html("100%"),l.progressbar.css("text-align","center")),l.abort.hide(),a.onSuccess.call(this,c,t,n),a.showStatusAfterSuccess?(a.showDone?(l.done.show(),l.done.click(function(){l.statusbar.hide("slow"),l.statusbar.remove()})):l.done.hide(),a.showDelete?(l.del.show(),l.del.click(function(){a.deleteCallback&&a.deleteCallback.call(this,t,l)})):l.del.hide()):(l.statusbar.hide("slow"),l.statusbar.remove()),o.remove(),h.sCounter+=c.length},error:function(t,e,n){l.abort.hide(),"abort"==t.statusText?l.statusbar.hide("slow"):(a.onError.call(this,c,e,n),a.showStatusAfterError?(l.progressDiv.hide(),l.statusbar.append("<span style='color:red;'>ERROR: "+n+"</span>")):(l.statusbar.hide(),l.statusbar.remove())),o.remove(),h.fCounter+=c.length}};a.autoSubmit?o.ajaxSubmit(t):(a.showCancel&&(l.cancel.show(),l.cancel.click(function(){o.remove(),l.statusbar.remove()})),o.ajaxForm(t))}var u=_.extend({url:"",method:"POST",enctype:"multipart/form-data",formData:null,returnType:null,allowedTypes:"*",fileName:"file",formData:{},dynamicFormData:function(){return{}},maxFileSize:-1,multiple:!0,dragDrop:!0,autoSubmit:!0,showCancel:!0,showAbort:!0,showDone:!0,showDelete:!1,showError:!0,showStatusAfterSuccess:!0,showStatusAfterError:!0,showFileCounter:!0,fileCounterStyle:"). ",showProgress:!1,onSelect:function(t){return!0},onSubmit:function(t,e){},onSuccess:function(t,e,n){},onError:function(t,e,n){},deleteCallback:!1,afterUploadAll:!1,uploadButtonClass:"ajax-file-upload",dragDropStr:"<span><b>Drag &amp; Drop Files</b></span>",abortStr:"Abort",cancelStr:"Cancel",deletelStr:"Delete",doneStr:"Done",multiDragErrorStr:"Multiple File Drag &amp; Drop is not allowed.",extErrorStr:"is not allowed. Allowed extensions: ",sizeErrorStr:"is not allowed. Allowed Max size: ",uploadErrorStr:"Upload is not allowed"},t);this.fileCounter=1,this.fCounter=0,this.sCounter=0,this.tCounter=0;var s="ajax-file-upload-"+(new Date).getTime();this.formGroup=s,this.hide(),this.errorLog=_("<div></div>"),this.after(this.errorLog),this.responses=[],w.formdata||(u.dragDrop=!1);var d=this,o=_("<div>"+_(this).html()+"</div>");_(o).addClass(u.uploadButtonClass),function t(){if(_.fn.ajaxForm){if(u.dragDrop){var e=_('<div class="ajax-upload-dragdrop" style="vertical-align:top;"></div>');_(d).before(e),_(e).append(o),_(e).append(_(u.dragDropStr)),n=d,i=u,(r=e).on("dragenter",function(t){t.stopPropagation(),t.preventDefault(),_(this).css("border","2px solid #A5A5C7")}),r.on("dragover",function(t){t.stopPropagation(),t.preventDefault()}),r.on("drop",function(t){_(this).css("border","2px dotted #A5A5C7"),t.preventDefault(),n.errorLog.html("");var e=t.originalEvent.dataTransfer.files;return!i.multiple&&1<e.length?void(i.showError&&_("<div style='color:red;'>"+i.multiDragErrorStr+"</div>").appendTo(n.errorLog)):void(0!=i.onSelect(e)&&f(i,n,e))}),_(document).on("dragenter",function(t){t.stopPropagation(),t.preventDefault()}),_(document).on("dragover",function(t){t.stopPropagation(),t.preventDefault(),r.css("border","2px dotted #A5A5C7")}),_(document).on("drop",function(t){t.stopPropagation(),t.preventDefault(),r.css("border","2px dotted #A5A5C7")})}else _(d).before(o);!function a(l,c,h,u){var t="ajax-upload-id-"+(new Date).getTime(),d=_("<form method='"+h.method+"' action='"+h.url+"' enctype='"+h.enctype+"'></form>"),e="<input type='file' id='"+t+"' name='"+h.fileName+"'/>";h.multiple&&(h.fileName.indexOf("[]")!=h.fileName.length-2&&(h.fileName+="[]"),e="<input type='file' id='"+t+"' name='"+h.fileName+"' multiple/>");var n=_(e).appendTo(d);n.change(function(){l.errorLog.html("");var t=(h.allowedTypes.toLowerCase().split(","),[]);if(this.files){for(s=0;s<this.files.length;s++)t.push(this.files[s].name);if(0==h.onSelect(this.files))return}else{var e=_(this).val(),n=[];if(t.push(e),!m(0,h,e))return void(h.showError&&_("<div style='color:red;'><b>"+e+"</b> "+h.extErrorStr+h.allowedTypes+"</div>").appendTo(l.errorLog));if(n.push({name:e,size:"NA"}),0==h.onSelect(n))return}if(u.unbind("click"),d.hide(),a(l,c,h,u),d.addClass(c),w.fileapi&&w.formdata){d.removeClass(c);var i=this.files;f(h,l,i)}else{for(var r="",s=0;s<t.length;s++)r+=h.showFileCounter?l.fileCounter+h.fileCounterStyle+t[s]+"<br>":t[s]+"<br>",l.fileCounter++;var o=new v(l,h);o.filename.html(r),y(d,h,o,t,l)}}),d.css({margin:0,padding:0});var i=_(u).width()+10;10==i&&(i=120);var r=u.height()+10;10==r&&(r=35),u.css({position:"relative",overflow:"hidden",cursor:"default"}),n.css({position:"absolute",cursor:"pointer",top:"0px",width:i,height:r,left:"0px","z-index":"100",opacity:"0.0",filter:"alpha(opacity=0)","-ms-filter":"alpha(opacity=0)","-khtml-opacity":"0.0","-moz-opacity":"0.0"}),d.appendTo(u)}(d,s,u,o)}else window.setTimeout(t,10);var n,i,r}(),this.startUpload=function(){_("."+this.formGroup).each(function(t,e){_(this).is("form")&&_(this).submit()})},this.stopUpload=function(){_(".ajax-file-upload-red").each(function(t,e){_(this).hasClass(d.formGroup)&&_(this).click()})};var b=!(this.getResponses=function(){return this.responses});return this}}(jQuery),function(f){f.fn.textfill=function(t){function c(){d.debug&&"undefined"!=typeof console&&void 0!==console.debug&&console.debug.apply(console,arguments)}function h(t,e,n,i,r,s){function o(t,e){var n=" / ";return e<t?n=" > ":t==e&&(n=" = "),n}c("[TextFill] "+t+" { font-size: "+e.css("font-size")+",Height: "+e.height()+"px "+o(e.height(),n)+n+"px,Width: "+e.width()+o(e.width(),i)+i+",minFontPixels: "+r+"px, maxFontPixels: "+s+"px }")}function u(t,e,n,i,r,s,o,a){for(h(t,e,r,s,o,a);o<a-1;){var l=Math.floor((o+a)/2);if(e.css("font-size",l),n.call(e)<=i){if(o=l,n.call(e)==i)break}else a=l;h(t,e,r,s,o,a)}return e.css("font-size",a),n.call(e)<=i&&h(t+"* ",e,r,s,o=a,a),o}var d=f.extend({debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1},t);return c("[TextFill] Start Debug"),this.each(function(){var t=f(d.innerTag+":visible:first",this),e=d.explicitHeight||f(this).height(),n=d.explicitWidth||f(this).width(),i=t.css("font-size"),r=parseFloat(t.css("line-height"))/parseFloat(i);c("[TextFill] Inner text: "+t.text()),c("[TextFill] All options: ",d),c("[TextFill] Maximum sizes: { Height: "+e+"px, Width: "+n+"px }");var s=d.minFontPixels,o=d.maxFontPixels<=0?e:d.maxFontPixels,a=void 0;d.widthOnly||(a=u("Height",t,f.fn.height,e,e,n,s,o));var l=u("Width",t,f.fn.width,n,e,n,s,o);d.widthOnly?(t.css({"font-size":l,"white-space":"nowrap"}),d.changeLineHeight&&t.parent().css("line-height",r*l+"px")):(s=Math.min(a,l),t.css("font-size",s),d.changeLineHeight&&t.parent().css("line-height",r*s+"px")),c("[TextFill] Finished { Old font-size: "+i+", New font-size: "+t.css("font-size")+" }"),t.width()>n||t.height()>e&&!d.widthOnly?(t.css("font-size",i),d.fail&&d.fail(this),c("[TextFill] Failure { Current Width: "+t.width()+", Maximum Width: "+n+", Current Height: "+t.height()+", Maximum Height: "+e+" }")):d.success?d.success(this):d.callback&&(function(){"undefined"!=typeof console&&void 0!==console.warn&&console.warn.apply(console,arguments)}("callback is deprecated, use success, instead"),d.callback(this))}),d.complete&&d.complete(this),c("[TextFill] End Debug"),this}}(window.jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(r){"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e});var n={init:function(t){return this.options=r.extend({},r.noty.defaults,t),this.options.layout=this.options.custom?r.noty.layouts.inline:r.noty.layouts[this.options.layout],r.noty.themes[this.options.theme]?this.options.theme=r.noty.themes[this.options.theme]:t.themeClassName=this.options.theme,delete t.layout,delete t.theme,this.options=r.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random()),this.options=r.extend({},this.options,t),this._build(),this},_build:function(){var t=r('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);if(t.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?r(this.options.layout.parent.object).css(this.options.layout.parent.css).append(t):t,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type),this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var e=r("<div/>").addClass("noty_buttons");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(e):this.$bar.append(e);var i=this;r.each(this.options.buttons,function(t,e){var n=r("<button/>").addClass(e.addClass?e.addClass:"gray").html(e.text).attr("id",e.id?e.id:"button-"+t).attr("title",e.title).appendTo(i.$bar.find(".noty_buttons")).on("click",function(t){r.isFunction(e.onClick)&&e.onClick.call(n,i,t)})})}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),r.noty.store[this.options.id]=this},show:function(){var e=this;return e.options.custom?e.options.custom.find(e.options.layout.container.selector).append(e.$bar):r(e.options.layout.container.selector).append(e.$bar),e.options.theme&&e.options.theme.style&&e.options.theme.style.apply(e),"function"===r.type(e.options.layout.css)?this.options.layout.css.apply(e.$bar):e.$bar.css(this.options.layout.css||{}),e.$bar.addClass(e.options.layout.addClass),e.options.layout.container.style.apply(r(e.options.layout.container.selector),[e.options.within]),e.showing=!0,e.options.theme&&e.options.theme.style&&e.options.theme.callback.onShow.apply(this),-1<r.inArray("click",e.options.closeWith)&&e.$bar.css("cursor","pointer").one("click",function(t){e.stopPropagation(t),e.options.callback.onCloseClick&&e.options.callback.onCloseClick.apply(e),e.close()}),-1<r.inArray("hover",e.options.closeWith)&&e.$bar.one("mouseenter",function(){e.close()}),-1<r.inArray("button",e.options.closeWith)&&e.$closeButton.one("click",function(t){e.stopPropagation(t),e.close()}),-1==r.inArray("button",e.options.closeWith)&&e.$closeButton.remove(),e.options.callback.onShow&&e.options.callback.onShow.apply(e),"string"==typeof e.options.animation.open?(e.$bar.css("height",e.$bar.innerHeight()),e.$bar.on("click",function(t){e.wasClicked=!0}),e.$bar.show().addClass(e.options.animation.open).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.options.callback.afterShow&&e.options.callback.afterShow.apply(e),e.showing=!1,e.shown=!0,e.hasOwnProperty("wasClicked")&&(e.$bar.off("click",function(t){e.wasClicked=!0}),e.close())})):e.$bar.animate(e.options.animation.open,e.options.animation.speed,e.options.animation.easing,function(){e.options.callback.afterShow&&e.options.callback.afterShow.apply(e),e.showing=!1,e.shown=!0}),e.options.timeout&&e.$bar.delay(e.options.timeout).promise().done(function(){e.close()}),this},close:function(){if(!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var n=this;if(this.showing)return void n.$bar.queue(function(){n.close.apply(n)});if(!this.shown&&!this.showing){var i=[];return r.each(r.noty.queue,function(t,e){e.options.id!=n.options.id&&i.push(e)}),void(r.noty.queue=i)}n.$bar.addClass("i-am-closing-now"),n.options.callback.onClose&&n.options.callback.onClose.apply(n),"string"==typeof n.options.animation.close?n.$bar.addClass(n.options.animation.close).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n.options.callback.afterClose&&n.options.callback.afterClose.apply(n),n.closeCleanUp()}):n.$bar.clearQueue().stop().animate(n.options.animation.close,n.options.animation.speed,n.options.animation.easing,function(){n.options.callback.afterClose&&n.options.callback.afterClose.apply(n)}).promise().done(function(){n.closeCleanUp()})}},closeCleanUp:function(){var t=this;t.options.modal&&(r.notyRenderer.setModalCount(-1),0==r.notyRenderer.getModalCount()&&r(".noty_modal").fadeOut(t.options.animation.fadeSpeed,function(){r(this).remove()})),r.notyRenderer.setLayoutCountFor(t,-1),0==r.notyRenderer.getLayoutCountFor(t)&&r(t.options.layout.container.selector).remove(),void 0!==t.$bar&&null!==t.$bar&&("string"==typeof t.options.animation.close?(t.$bar.css("transition","all 100ms ease").css("border",0).css("margin",0).height(0),t.$bar.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){t.$bar.remove(),t.$bar=null,t.closed=!0,t.options.theme.callback&&t.options.theme.callback.onClose&&t.options.theme.callback.onClose.apply(t)})):(t.$bar.remove(),t.$bar=null,t.closed=!0)),delete r.noty.store[t.options.id],t.options.theme.callback&&t.options.theme.callback.onClose&&t.options.theme.callback.onClose.apply(t),t.options.dismissQueue||(r.noty.ontap=!0,r.notyRenderer.render()),0<t.options.maxVisible&&t.options.dismissQueue&&r.notyRenderer.render()},setText:function(t){return this.closed||(this.options.text=t,this.$bar.find(".noty_text").html(t)),this},setType:function(t){return this.closed||(this.options.type=t,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(t){if(!this.closed){var e=this;this.options.timeout=t,e.$bar.delay(e.options.timeout).promise().done(function(){e.close()})}return this},stopPropagation:function(t){void 0!==(t=t||window.event).stopPropagation?t.stopPropagation():t.cancelBubble=!0},closed:!1,showing:!1,shown:!1};r.notyRenderer={},r.notyRenderer.init=function(t){var e=Object.create(n).init(t);return e.options.killer&&r.noty.closeAll(),e.options.force?r.noty.queue.unshift(e):r.noty.queue.push(e),r.notyRenderer.render(),"object"==r.noty.returns?e:e.options.id},r.notyRenderer.render=function(){var t=r.noty.queue[0];"object"===r.type(t)?t.options.dismissQueue?0<t.options.maxVisible?r(t.options.layout.container.selector+" > li").length<t.options.maxVisible&&r.notyRenderer.show(r.noty.queue.shift()):r.notyRenderer.show(r.noty.queue.shift()):r.noty.ontap&&(r.notyRenderer.show(r.noty.queue.shift()),r.noty.ontap=!1):r.noty.ontap=!0},r.notyRenderer.show=function(t){t.options.modal&&(r.notyRenderer.createModalFor(t),r.notyRenderer.setModalCount(1)),t.options.custom?0==t.options.custom.find(t.options.layout.container.selector).length?t.options.custom.append(r(t.options.layout.container.object).addClass("i-am-new")):t.options.custom.find(t.options.layout.container.selector).removeClass("i-am-new"):0==r(t.options.layout.container.selector).length?r("body").append(r(t.options.layout.container.object).addClass("i-am-new")):r(t.options.layout.container.selector).removeClass("i-am-new"),r.notyRenderer.setLayoutCountFor(t,1),t.show()},r.notyRenderer.createModalFor=function(t){if(0==r(".noty_modal").length){var e=r("<div/>").addClass("noty_modal").addClass(t.options.theme).data("noty_modal_count",0);t.options.theme.modal&&t.options.theme.modal.css&&e.css(t.options.theme.modal.css),e.prependTo(r("body")).fadeIn(t.options.animation.fadeSpeed),-1<r.inArray("backdrop",t.options.closeWith)&&e.on("click",function(t){r.noty.closeAll()})}},r.notyRenderer.getLayoutCountFor=function(t){return r(t.options.layout.container.selector).data("noty_layout_count")||0},r.notyRenderer.setLayoutCountFor=function(t,e){return r(t.options.layout.container.selector).data("noty_layout_count",r.notyRenderer.getLayoutCountFor(t)+e)},r.notyRenderer.getModalCount=function(){return r(".noty_modal").data("noty_modal_count")||0},r.notyRenderer.setModalCount=function(t){return r(".noty_modal").data("noty_modal_count",r.notyRenderer.getModalCount()+t)},r.fn.noty=function(t){return t.custom=r(this),r.notyRenderer.init(t)},r.noty={},r.noty.queue=[],r.noty.ontap=!0,r.noty.layouts={},r.noty.themes={},r.noty.returns="object",r.noty.store={},r.noty.get=function(t){return!!r.noty.store.hasOwnProperty(t)&&r.noty.store[t]},r.noty.close=function(t){return!!r.noty.get(t)&&r.noty.get(t).close()},r.noty.setText=function(t,e){return!!r.noty.get(t)&&r.noty.get(t).setText(e)},r.noty.setType=function(t,e){return!!r.noty.get(t)&&r.noty.get(t).setType(e)},r.noty.clearQueue=function(){r.noty.queue=[]},r.noty.closeAll=function(){r.noty.clearQueue(),r.each(r.noty.store,function(t,e){e.close()})};var t=window.alert;return r.noty.consumeAlert=function(e){window.alert=function(t){e?e.text=t:e={text:t},r.notyRenderer.init(e)}},r.noty.stopConsumeAlert=function(){window.alert=t},r.noty.defaults={layout:"top",theme:"defaultTheme",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500,fadeSpeed:"fast"},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},r(window).on("resize",function(){r.each(r.noty.layouts,function(t,e){e.container.style.apply(r(e.container.selector))})}),window.noty=function(t){return r.notyRenderer.init(t)},r.noty.layouts.bottom={name:"bottom",options:{},container:{object:'<ul id="noty_bottom_layout_container" />',selector:"ul#noty_bottom_layout_container",style:function(){r(this).css({bottom:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},r.noty.layouts.bottomCenter={name:"bottomCenter",options:{},container:{object:'<ul id="noty_bottomCenter_layout_container" />',selector:"ul#noty_bottomCenter_layout_container",style:function(){r(this).css({bottom:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),r(this).css({left:(r(window).width()-r(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},r.noty.layouts.bottomLeft={name:"bottomLeft",options:{},container:{object:'<ul id="noty_bottomLeft_layout_container" />',selector:"ul#noty_bottomLeft_layout_container",style:function(){r(this).css({bottom:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&r(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},r.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){r(this).css({bottom:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&r(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},r.noty.layouts.center={name:"center",options:{},container:{object:'<ul id="noty_center_layout_container" />',selector:"ul#noty_center_layout_container",style:function(){r(this).css({position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var t=r(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");r("body").append(t),t.find(".i-am-closing-now").remove(),t.find("li").css("display","block");var e=t.height();t.remove(),r(this).hasClass("i-am-new")?r(this).css({left:(r(window).width()-r(this).outerWidth(!1))/2+"px",top:(r(window).height()-e)/2+"px"}):r(this).animate({left:(r(window).width()-r(this).outerWidth(!1))/2+"px",top:(r(window).height()-e)/2+"px"},500)}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},r.noty.layouts.centerLeft={name:"centerLeft",options:{},container:{object:'<ul id="noty_centerLeft_layout_container" />',selector:"ul#noty_centerLeft_layout_container",style:function(){r(this).css({left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var t=r(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");r("body").append(t),t.find(".i-am-closing-now").remove(),t.find("li").css("display","block");var e=t.height();t.remove(),r(this).hasClass("i-am-new")?r(this).css({top:(r(window).height()-e)/2+"px"}):r(this).animate({top:(r(window).height()-e)/2+"px"},500),window.innerWidth<600&&r(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},r.noty.layouts.centerRight={name:"centerRight",options:{},container:{object:'<ul id="noty_centerRight_layout_container" />',selector:"ul#noty_centerRight_layout_container",style:function(){r(this).css({right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var t=r(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");r("body").append(t),t.find(".i-am-closing-now").remove(),t.find("li").css("display","block");var e=t.height();t.remove(),r(this).hasClass("i-am-new")?r(this).css({top:(r(window).height()-e)/2+"px"}):r(this).animate({top:(r(window).height()-e)/2+"px"},500),window.innerWidth<600&&r(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},r.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul class="noty_inline_layout_container" />',selector:"ul.noty_inline_layout_container",style:function(){r(this).css({width:"100%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},r.noty.layouts.top={name:"top",options:{},container:{object:'<ul id="noty_top_layout_container" />',selector:"ul#noty_top_layout_container",style:function(){r(this).css({top:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},r.noty.layouts.topCenter={name:"topCenter",options:{},container:{object:'<ul id="noty_topCenter_layout_container" />',selector:"ul#noty_topCenter_layout_container",style:function(){r(this).css({top:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),r(this).css({left:(r(window).width()-r(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},r.noty.layouts.topLeft={name:"topLeft",options:{},container:{object:'<ul id="noty_topLeft_layout_container" />',selector:"ul#noty_topLeft_layout_container",style:function(){r(this).css({top:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&r(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},r.noty.layouts.topRight={name:"topRight",options:{},container:{object:'<ul id="noty_topRight_layout_container" />',selector:"ul#noty_topRight_layout_container",style:function(){r(this).css({top:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&r(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},r.noty.themes.bootstrapTheme={name:"bootstrapTheme",modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){var t=this.options.layout.container.selector;switch(r(t).addClass("list-group"),this.$closeButton.append('<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>'),this.$closeButton.addClass("close"),this.$bar.addClass("list-group-item").css("padding","0px"),this.options.type){case"alert":case"notification":this.$bar.addClass("list-group-item-info");break;case"warning":this.$bar.addClass("list-group-item-warning");break;case"error":this.$bar.addClass("list-group-item-danger");break;case"information":this.$bar.addClass("list-group-item-info");break;case"success":this.$bar.addClass("list-group-item-success")}this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"})},callback:{onShow:function(){},onClose:function(){}}},r.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var t=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":r(t).css({borderRadius:"0px 0px 0px 0px"}),r(t).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":r(t).css({borderRadius:"0px 0px 0px 0px"}),r(t).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),r(t).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":r(t).css({borderRadius:"0px 0px 0px 0px"}),r(t).first().css({borderRadius:"5px 5px 0px 0px"})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAQAAAClM0ndAAAAhklEQVR4AdXO0QrCMBBE0bttkk38/w8WRERpdyjzVOc+HxhIHqJGMQcFFkpYRQotLLSw0IJ5aBdovruMYDA/kT8plF9ZKLFQcgF18hDj1SbQOMlCA4kao0iiXmah7qBWPdxpohsgVZyj7e5I9KcID+EhiDI5gxBYKLBQYKHAQoGFAoEks/YEGHYKB7hFxf0AAAAASUVORK5CYII=') repeat-x scroll left top #fff"}),this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){r(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){r(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){r.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){r.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}},r.noty.themes.relax={name:"relax",helpers:{},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",margin:"4px 0",borderRadius:"2px"}),this.$message.css({fontSize:"14px",lineHeight:"16px",textAlign:"center",padding:"10px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){r(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){r(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",borderTop:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",borderBottom:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#dedede",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"#FF8181",borderColor:"#e25353",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#78C5E7",borderColor:"#3badd6",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"#BCF5BC",borderColor:"#7cdd77",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){},onClose:function(){}}},window.noty}),function(r){void 0===r.fn.each2&&r.extend(r.fn,{each2:function(t){for(var e=r([0]),n=-1,i=this.length;++n<i&&(e.context=e[0]=this[n])&&!1!==t.call(e[0],n,e););return this}})}(jQuery),function(w,y){"use strict";function o(t){var e,n,i,r;if(!t||t.length<1)return t;for(e="",n=0,i=t.length;n<i;n++)r=t.charAt(n),e+=F[r]||r;return e}function d(t,e){for(var n=0,i=e.length;n<i;n+=1)if(f(t,e[n]))return n;return-1}function f(t,e){return t===e||t!==y&&e!==y&&(null!==t&&null!==e&&(t.constructor===String?t+""==e+"":e.constructor===String&&e+""==t+""))}function r(t,e){var n,i,r;if(null===t||t.length<1)return[];for(i=0,r=(n=t.split(e)).length;i<r;i+=1)n[i]=w.trim(n[i]);return n}function s(t){return t.outerWidth(!1)-t.width()}function p(e){var n="keyup-change-value";e.on("keydown",function(){w.data(e,n)===y&&w.data(e,n,e.val())}),e.on("keyup",function(){var t=w.data(e,n);t!==y&&e.val()!==t&&(w.removeData(e,n),e.trigger("keyup-change"))})}function g(e,n,i){var r;return i=i||y,function(){var t=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,t)},e)}}function m(t){t.preventDefault(),t.stopPropagation()}function v(t,e,n){var i,r,s=[];(i=t.attr("class"))&&w((i=""+i).split(" ")).each2(function(){0===this.indexOf("select2-")&&s.push(this)}),(i=e.attr("class"))&&w((i=""+i).split(" ")).each2(function(){0!==this.indexOf("select2-")&&((r=n(this))&&s.push(r))}),t.attr("class",s.join(" "))}function a(t,e,n,i){var r=o(t.toUpperCase()).indexOf(o(e.toUpperCase())),s=e.length;return r<0?void n.push(i(t)):(n.push(i(t.substring(0,r))),n.push("<span class='select2-match'>"),n.push(i(t.substring(r,r+s))),n.push("</span>"),void n.push(i(t.substring(r+s,t.length))))}function t(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function i(o){var t,a=null,e=o.quietMillis||100,l=o.url,c=this;return function(s){window.clearTimeout(t),t=window.setTimeout(function(){var t=o.data,e=l,n=o.transport||w.fn.select2.ajaxDefaults.transport,i={type:o.type||"GET",cache:o.cache||!1,jsonpCallback:o.jsonpCallback||y,dataType:o.dataType||"json"},r=w.extend({},w.fn.select2.ajaxDefaults.params,i);t=t?t.call(c,s.term,s.page,s.context):null,e="function"==typeof e?e.call(c,s.term,s.page,s.context):e,a&&a.abort(),o.params&&(w.isFunction(o.params)?w.extend(r,o.params.call(c)):w.extend(r,o.params)),w.extend(r,{url:e,dataType:o.dataType,data:t,success:function(t){var e=o.results(t,s.page);s.callback(e)}}),a=n.call(c,r)},e)}}function l(t){var e,n,i=t,a=function(t){return""+t.text};w.isArray(i)&&(i={results:n=i}),!1===w.isFunction(i)&&(n=i,i=function(){return n});var r=i();return r.text&&(a=r.text,w.isFunction(a)||(e=r.text,a=function(t){return t[e]})),function(r){var s,o=r.term,n={results:[]};return""===o?void r.callback(i()):(s=function(t,e){var n,i;if((t=t[0]).children){for(i in n={},t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.children=[],w(t.children).each2(function(t,e){s(e,n.children)}),(n.children.length||r.matcher(o,a(n),t))&&e.push(n)}else r.matcher(o,a(t),t)&&e.push(t)},w(i().results).each2(function(t,e){s(e,n.results)}),void r.callback(n))}}function c(t){var e=w.isFunction(t);return function(n){var i=n.term,r={results:[]};w(e?t():t).each(function(){var t=this.text!==y,e=t?this.text:this;(""===i||n.matcher(i,e))&&r.results.push(t?this:{id:this,text:this})}),n.callback(r)}}function b(t,e){if(w.isFunction(t))return!0;if(!t)return!1;throw new Error(e+" must be a function or a falsy value")}function x(t){return w.isFunction(t)?t():t}function e(t,e){var n=function(){};return((n.prototype=new t).constructor=n).prototype.parent=t.prototype,n.prototype=w.extend(n.prototype,e),n}if(window.Select2===y){var n,h,u,_,A,C,E,k={x:0,y:0},S={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case S.LEFT:case S.RIGHT:case S.UP:case S.DOWN:return!0}return!1},isControl:function(t){switch(t.which){case S.SHIFT:case S.CTRL:case S.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return 112<=(t=t.which?t.which:t)&&t<=123}},F={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"};C=w(document),T=1,_=function(){return T++},C.on("mousemove",function(t){k.x=t.pageX,k.y=t.pageY}),n=e(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(t){var s,e,n,i,r,o,a,l,c=".select2-results";this.opts=t=this.prepareOpts(t),this.id=t.id,t.element.data("select2")!==y&&null!==t.element.data("select2")&&t.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(t.element.attr("id")||"autogen"+_()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=(l=!(o=function(){return t.element.closest("body")}),function(){return!1===l&&(a=o(),l=!0),a}),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",t.element.attr("style")),this.container.css(x(t.containerCss)),this.container.addClass(x(t.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(t.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=s=this.container.find(c),this.search=e=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),this.results.on("mousemove",function(t){var e=k;(e===y||e.x!==t.pageX||e.y!==t.pageY)&&w(t.target).trigger("mousemove-filtered",t)}),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",c,this.bind(this.highlightUnderEvent)),n=80,i=this.results,r=g(n,function(t){i.trigger("scroll-debounced",t)}),i.on("scroll",function(t){0<=d(t.target,i.get())&&r(t)}),this.dropdown.on("scroll-debounced",c,this.bind(this.loadMoreIfNeeded)),w(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),w(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),w.fn.mousewheel&&s.mousewheel(function(t,e,n,i){var r=s.scrollTop();0<i&&r-i<=0?(s.scrollTop(0),m(t)):i<0&&s.get(0).scrollHeight-s.scrollTop()+i<=s.height()&&(s.scrollTop(s.get(0).scrollHeight-s.height()),m(t))}),p(e),e.on("keyup-change input paste",this.bind(this.updateResults)),e.on("focus",function(){e.addClass("select2-focused")}),e.on("blur",function(){e.removeClass("select2-focused")}),this.dropdown.on("mouseup",c,this.bind(function(t){0<w(t.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(t){t.stopPropagation()}),w.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==t.maximumInputLength&&this.search.attr("maxlength",t.maximumInputLength);var h=t.element.prop("disabled");h===y&&(h=!1),this.enable(!h);var u=t.element.prop("readonly");u===y&&(u=!1),this.readonly(u),E=E||function(){var t=w("<div class='select2-measure-scrollbar'></div>");t.appendTo("body");var e={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),e}(),this.autofocus=t.element.prop("autofocus"),t.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=y},destroy:function(){var t=this.opts.element,e=t.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),e!==y&&(e.container.remove(),e.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:f(t.attr("locked"),"locked")||f(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(m){var o,t,e,n,v=this;if("select"===(o=m.element).get(0).tagName.toLowerCase()&&(this.select=t=m.element),t&&w.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in m)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),"function"!=typeof(m=w.extend({},{populateResults:function(t,e,f){var p,g=this.opts.id;(p=function(t,e,n){var i,r,s,o,a,l,c,h,u,d;for(i=0,r=(t=m.sortResults(t,e,f)).length;i<r;i+=1)o=!(a=!0===(s=t[i]).disabled)&&g(s)!==y,l=s.children&&0<s.children.length,(c=w("<li></li>")).addClass("select2-results-dept-"+n),c.addClass("select2-result"),c.addClass(o?"select2-result-selectable":"select2-result-unselectable"),a&&c.addClass("select2-disabled"),l&&c.addClass("select2-result-with-children"),c.addClass(v.opts.formatResultCssClass(s)),(h=w(document.createElement("div"))).addClass("select2-result-label"),(d=m.formatResult(s,h,f,v.opts.escapeMarkup))!==y&&h.html(d),c.append(h),l&&((u=w("<ul></ul>")).addClass("select2-result-sub"),p(s.children,u,n+1),c.append(u)),c.data("select2-data",s),e.append(c)})(e,t,0)}},w.fn.select2.defaults,m)).id&&(e=m.id,m.id=function(t){return t[e]}),w.isArray(m.element.data("select2Tags"))){if("tags"in m)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+m.element.attr("id");m.tags=m.element.data("select2Tags")}if(t?(m.query=this.bind(function(i){var t,e,r,n={results:[],more:!1},s=i.term;r=function(t,e){var n;t.is("option")?i.matcher(s,t.text(),t)&&e.push(v.optionToData(t)):t.is("optgroup")&&(n=v.optionToData(t),t.children().each2(function(t,e){r(e,n.children)}),0<n.children.length&&e.push(n))},t=o.children(),this.getPlaceholder()!==y&&0<t.length&&((e=this.getPlaceholderOption())&&(t=t.not(e))),t.each2(function(t,e){r(e,n.results)}),i.callback(n)}),m.id=function(t){return t.id},m.formatResultCssClass=function(t){return t.css}):"query"in m||("ajax"in m?((n=m.element.data("ajax-url"))&&0<n.length&&(m.ajax.url=n),m.query=i.call(m.element,m.ajax)):"data"in m?m.query=l(m.data):"tags"in m&&(m.query=c(m.tags),m.createSearchChoice===y&&(m.createSearchChoice=function(t){return{id:w.trim(t),text:w.trim(t)}}),m.initSelection===y&&(m.initSelection=function(t,e){var n=[];w(r(t.val(),m.separator)).each(function(){var t={id:this,text:this},e=m.tags;w.isFunction(e)&&(e=e()),w(e).each(function(){return f(this.id,t.id)?(t=this,!1):void 0}),n.push(t)}),e(n)}))),"function"!=typeof m.query)throw"query function not defined for Select2 "+m.element.attr("id");return m},monitorSource:function(){var e,t,n=this.opts.element;n.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),e=this.bind(function(){var t=n.prop("disabled");t===y&&(t=!1),this.enable(!t);var e=n.prop("readonly");e===y&&(e=!1),this.readonly(e),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(x(this.opts.containerCssClass)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(this.opts.dropdownCssClass))}),n.on("propertychange.select2",e),this.mutationCallback===y&&(this.mutationCallback=function(t){t.forEach(e)}),(t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==y&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new t(this.mutationCallback),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var e=w.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(e),!e.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=w.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===y&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){return t===y&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,e,n,i,r,s=this.dropdown,o=this.container.offset(),a=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=s.outerHeight(!1),h=w(window),u=h.width(),d=h.height(),f=h.scrollLeft()+u,p=h.scrollTop()+d,g=o.top+a,m=o.left,v=g+c<=p,y=o.top-c>=this.body().scrollTop(),b=s.outerWidth(!1),_=m+b<=f;s.hasClass("select2-drop-above")?(e=!0,!y&&v&&(e=!(n=!0))):(e=!1,!v&&y&&(e=n=!0)),n&&(s.hide(),o=this.container.offset(),a=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=s.outerHeight(!1),f=h.scrollLeft()+u,p=h.scrollTop()+d,g=o.top+a,_=(m=o.left)+(b=s.outerWidth(!1))<=f,s.show()),this.opts.dropdownAutoWidth?(r=w(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),l<(b=s.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:E.width))?l=b:b=l,_=m+b<=f):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(g-=(t=this.body().offset()).top,m-=t.left),_||(m=o.left+l-b),i={left:m,width:l},e?(i.bottom=d-o.top,i.top="auto",this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(i.top=g,i.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),i=w.extend(i,x(this.opts.dropdownCss)),s.css(i)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=w.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){var t,e=this.containerId,n="scroll."+e,i="resize."+e,r="orientationchange."+e;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),0==(t=w("#select2-drop-mask")).length&&((t=w(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(t){var e,n=w("#select2-drop");0<n.length&&((e=n.data("select2")).opts.selectOnBlur&&e.selectHighlighted({noFocus:!0}),e.close({focus:!0}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),w("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){w(this).on(i+" "+n+" "+r,function(){s.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,e="scroll."+t,n="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){w(this).off(e).off(n).off(i)}),this.clearDropdownAlignmentPreference(),w("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(w.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return x(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,e,n,i,r,s,o,a=this.results;if(!((e=this.highlight())<0)){if(0==e)return void a.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=(n=w(t[e])).offset().top+n.outerHeight(!0),e===t.length-1&&(0<(o=a.find("li.select2-more-results")).length&&(i=o.offset().top+o.outerHeight(!0))),(r=a.offset().top+a.outerHeight(!0))<i&&a.scrollTop(a.scrollTop()+(i-r)),(s=n.offset().top-a.offset().top)<0&&"none"!=n.css("display")&&a.scrollTop(a.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(t){for(var e=this.findHighlightableChoices(),n=this.highlight();-1<n&&n<e.length;){var i=w(e[n+=t]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var e,n,i=this.findHighlightableChoices();return 0===arguments.length?d(i.filter(".select2-highlighted")[0],i.get()):(t>=i.length&&(t=i.length-1),t<0&&(t=0),this.removeHighlight(),(e=w(i[t])).addClass("select2-highlighted"),this.ensureHighlightVisible(),void((n=e.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var e=w(t.target).closest(".select2-result-selectable");if(0<e.length&&!e.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(e))}else 0==e.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,r=this,s=this.search.val(),o=this.context;0!==n.length&&(n.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:i,context:o,matcher:this.opts.matcher,callback:this.bind(function(t){r.opened()&&(r.opts.populateResults.call(this,e,t.results,{term:s,page:i,context:o}),r.postprocessResults(t,!1,!1),!0===t.more?(n.detach().appendTo(e).text(r.opts.formatLoadMore(i+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i,r.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})})))},tokenize:function(){},updateResults:function(n){function i(){o.removeClass("select2-active"),c.positionDropdown()}function r(t){a.html(t),i()}var t,e,s,o=this.search,a=this.results,l=this.opts,c=this,h=o.val(),u=w.data(this.container,"select2-last-term");if((!0===n||!u||!f(h,u))&&(w.data(this.container,"select2-last-term",h),!0===n||!1!==this.showSearchInput&&this.opened())){s=++this.queryCount;var d=this.getMaximumSelectionSize();if(1<=d&&(t=this.data(),w.isArray(t)&&t.length>=d&&b(l.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+l.formatSelectionTooBig(d)+"</li>");if(o.val().length<l.minimumInputLength)return b(l.formatInputTooShort,"formatInputTooShort")?r("<li class='select2-no-results'>"+l.formatInputTooShort(o.val(),l.minimumInputLength)+"</li>"):r(""),void(n&&this.showSearch&&this.showSearch(!0));if(l.maximumInputLength&&o.val().length>l.maximumInputLength)return void(b(l.formatInputTooLong,"formatInputTooLong")?r("<li class='select2-no-results'>"+l.formatInputTooLong(o.val(),l.maximumInputLength)+"</li>"):r(""));l.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+l.formatSearching()+"</li>"),o.addClass("select2-active"),this.removeHighlight(),(e=this.tokenize())!=y&&null!=e&&o.val(e),this.resultsPage=1,l.query({element:l.element,term:o.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(t){var e;if(s==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=t.context===y?null:t.context,this.opts.createSearchChoice&&""!==o.val()&&((e=this.opts.createSearchChoice.call(c,o.val(),t.results))!==y&&null!==e&&c.id(e)!==y&&null!==c.id(e)&&0===w(t.results).filter(function(){return f(c.id(this),c.id(e))}).length&&t.results.unshift(e)),0===t.results.length&&b(l.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+l.formatNoMatches(o.val())+"</li>");a.empty(),c.opts.populateResults.call(this,a,t.results,{term:o.val(),page:this.resultsPage,context:null}),!0===t.more&&b(l.formatLoadMore,"formatLoadMore")&&(a.append("<li class='select2-more-results'>"+c.opts.escapeMarkup(l.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){c.loadMoreIfNeeded()},10)),this.postprocessResults(t,n),i(),this.opts.element.trigger({type:"select2-loaded",items:t})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var i;(i=this.search)[0]!==document.activeElement&&window.setTimeout(function(){var t,e=i[0],n=i.val().length;i.focus(),i.is(":visible")&&e===document.activeElement&&(e.setSelectionRange?e.setSelectionRange(n,n):e.createTextRange&&((t=e.createTextRange()).collapse(!1),t.select()))},0)},selectHighlighted:function(t){var e=this.highlight(),n=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");n?(this.highlight(e),this.onSelect(n,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==y?t.text():y)},getPlaceholderOption:function(){if(this.select){var t=this.select.children("option").first();if(this.opts.placeholderOption!==y)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.text()&&""===t.val())return t}},initContainerWidth:function(){var t=function(){var t,e,n,i,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((t=this.opts.element.attr("style"))!==y)for(i=0,r=(e=t.split(";")).length;i<r;i+=1)if(null!==(n=e[i].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&1<=n.length)return n[1];return"resolve"===this.opts.width?0<(t=this.opts.element.css("width")).indexOf("%")?t:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return w.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==t&&this.container.css("width",t)}}),h=e(n,{createContainer:function(){return w(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,e,n;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.search.focus(),(t=this.search.get(0)).createTextRange?((e=t.createTextRange()).collapse(!1),e.select()):t.setSelectionRange&&(n=this.search.val().length,t.setSelectionRange(n,n)),""===this.search.val()&&this.nextSearchTerm!=y&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(w.Event("select2-open"))},close:function(t){this.opened()&&(this.parent.close.apply(this,arguments),t=t||{focus:!0},this.focusser.removeAttr("disabled"),t.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){w("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,e=this.container,n=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=e.find(".select2-choice"),this.focusser=e.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+_()),w("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){if(t.which===S.PAGE_UP||t.which===S.PAGE_DOWN)return void m(t);switch(t.which){case S.UP:case S.DOWN:return this.moveHighlight(t.which===S.UP?-1:1),void m(t);case S.ENTER:return this.selectHighlighted(),void m(t);case S.TAB:return void this.selectHighlighted({noFocus:!0});case S.ESC:return this.cancel(t),void m(t)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==S.TAB&&!S.isControl(t)&&!S.isFunctionKey(t)&&t.which!==S.ESC){if(!1===this.opts.openOnEnter&&t.which===S.ENTER)return void m(t);if(t.which==S.DOWN||t.which==S.UP||t.which==S.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void m(t)}return t.which==S.DELETE||t.which==S.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(t)):void 0}})),p(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(0<=this.opts.minimumResultsForSearch){if(t.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(t){var e;this.isInterfaceEnabled()&&(this.clear(),(e=t).preventDefault(),e.stopImmediatePropagation(),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(w.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(t)})),n.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(t){m(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(w.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(w.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(w.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");if(e){var n=w.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(t){t!==y&&null!==t&&(e.updateSelection(t),e.close(),e.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var t;return!!this.getPlaceholder()&&((t=this.getPlaceholderOption())!==y&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===y||null===this.opts.element.val())},prepareOpts:function(){var o=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===o.element.get(0).tagName.toLowerCase()?o.initSelection=function(t,e){var n=t.find("option").filter(function(){return this.selected});e(i.optionToData(n))}:"data"in o&&(o.initSelection=o.initSelection||function(t,e){var r=t.val(),s=null;o.query({matcher:function(t,e,n){var i=f(r,o.id(n));return i&&(s=n),i},callback:w.isFunction(e)?function(){e(s)}:w.noop})}),o},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===y?y:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==y){if(this.select&&this.getPlaceholderOption()===y)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,n){var i=0,r=this;if(this.findHighlightableChoices().each2(function(t,e){return f(r.id(e.data("select2-data")),r.opts.element.val())?(i=t,!1):void 0}),!1!==n&&(!0===e&&0<=i?this.highlight(i):this.highlight(0)),!0===e){var s=this.opts.minimumResultsForSearch;0<=s&&this.showSearch(function n(t){var i=0;return w.each(t,function(t,e){e.children?i+=n(e.children):i++}),i}(t.results)>=s)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),w(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(t,e){if(this.triggerSelect(t)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||this.focusser.focus(),f(n,this.id(t))||this.triggerChange({added:t,removed:i})}},updateSelection:function(t){var e,n,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),i.empty(),null!==t&&(e=this.opts.formatSelection(t,i,this.opts.escapeMarkup)),e!==y&&i.append(e),(n=this.opts.formatSelectionCssClass(t,i))!==y&&i.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==y&&this.container.addClass("select2-allowclear")},val:function(){var t,e=!1,n=null,i=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],1<arguments.length&&(e=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return n=i.optionToData(e),!1}),this.updateSelection(n),this.setPlaceholder(),e&&this.triggerChange({added:n,removed:r});else{if(!t&&0!==t)return void this.clear(e);if(this.opts.initSelection===y)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){i.opts.element.val(t?i.id(t):""),i.updateSelection(t),i.setPlaceholder(),e&&i.triggerChange({added:t,removed:r})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var e,n=!1;return 0===arguments.length?((e=this.selection.data("select2-data"))==y&&(e=null),e):(1<arguments.length&&(n=arguments[1]),void(t?(e=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:e})):this.clear(n)))}}),u=e(n,{createContainer:function(){return w(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var l=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===l.element.get(0).tagName.toLowerCase()?l.initSelection=function(t,e){var n=[];t.find("option").filter(function(){return this.selected}).each2(function(t,e){n.push(i.optionToData(e))}),e(n)}:"data"in l&&(l.initSelection=l.initSelection||function(t,s){var o=r(t.val(),l.separator),a=[];l.query({matcher:function(t,e,n){var i=w.grep(o,function(t){return f(t,l.id(n))}).length;return i&&a.push(n),i},callback:w.isFunction(s)?function(){for(var t=[],e=0;e<o.length;e++)for(var n=o[e],i=0;i<a.length;i++){var r=a[i];if(f(n,l.id(r))){t.push(r),a.splice(i,1);break}}s(t)}:w.noop})}),l},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){w("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var o,t=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=o=this.container.find(t);var e=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){e.search[0].focus(),e.selectChoice(w(this))}),this.search.attr("id","s2id_autogen"+_()),w("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var e=o.find(".select2-search-choice-focus"),n=e.prev(".select2-search-choice:not(.select2-locked)"),i=e.next(".select2-search-choice:not(.select2-locked)"),r=function(t){var e=0,n=0;if("selectionStart"in(t=w(t)[0]))e=t.selectionStart,n=t.selectionEnd-e;else if("selection"in document){t.focus();var i=document.selection.createRange();n=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),e=i.text.length-n}return{offset:e,length:n}}(this.search);if(e.length&&(t.which==S.LEFT||t.which==S.RIGHT||t.which==S.BACKSPACE||t.which==S.DELETE||t.which==S.ENTER)){var s=e;return t.which==S.LEFT&&n.length?s=n:t.which==S.RIGHT?s=i.length?i:null:t.which===S.BACKSPACE?(this.unselect(e.first()),this.search.width(10),s=n.length?n:i):t.which==S.DELETE?(this.unselect(e.first()),this.search.width(10),s=i.length?i:null):t.which==S.ENTER&&(s=null),this.selectChoice(s),m(t),void(s&&s.length||this.open())}if((t.which===S.BACKSPACE&&1==this.keydowns||t.which==S.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(o.find(".select2-search-choice:not(.select2-locked)").last()),void m(t);if(this.selectChoice(null),this.opened())switch(t.which){case S.UP:case S.DOWN:return this.moveHighlight(t.which===S.UP?-1:1),void m(t);case S.ENTER:return this.selectHighlighted(),void m(t);case S.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case S.ESC:return this.cancel(t),void m(t)}if(t.which!==S.TAB&&!S.isControl(t)&&!S.isFunctionKey(t)&&t.which!==S.BACKSPACE&&t.which!==S.ESC){if(t.which===S.ENTER){if(!1===this.opts.openOnEnter)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===S.PAGE_UP||t.which===S.PAGE_DOWN)&&m(t),t.which===S.ENTER&&m(t)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(w.Event("select2-blur"))})),this.container.on("click",t,this.bind(function(t){this.isInterfaceEnabled()&&(0<w(t.target).closest(".select2-search-choice").length||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(w.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",t,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(w.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(t){t!==y&&null!==t&&(e.updateSelection(t),e.close(),e.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),e=this.getMaxSearchWidth();t!==y&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(t).addClass("select2-default"),this.search.width(0<e?e:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(w.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var e=[],n=[],i=this;w(t).each(function(){d(i.id(this),e)<0&&(e.push(i.id(this)),n.push(this))}),t=n,this.selection.find(".select2-search-choice").remove(),w(t).each(function(){i.addSelectedChoice(this)}),i.postprocessResults()},tokenize:function(){var t=this.search.val();null!=(t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts))&&t!=y&&(this.search.val(t),0<t.length&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var e,n,i=!t.locked,r=w("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=w("<li class='select2-search-choice select2-locked'><div></div></li>"),o=i?r:s,a=this.id(t),l=this.getVal();(e=this.opts.formatSelection(t,o.find("div"),this.opts.escapeMarkup))!=y&&o.find("div").replaceWith("<div>"+e+"</div>"),(n=this.opts.formatSelectionCssClass(t,o.find("div")))!=y&&o.addClass(n),i&&o.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(w(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(w(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),m(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),o.data("select2-data",t),o.insertBefore(this.searchContainer),l.push(a),this.setVal(l)},unselect:function(t){var e,n,i=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(e=t.data("select2-data")){for(;0<=(n=d(this.id(e),i));)i.splice(n,1),this.setVal(i),this.select&&this.postprocessResults();var r=w.Event("select2-removing");r.val=this.id(e),r.choice=e,this.opts.element.trigger(r),r.isDefaultPrevented()||(t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))}},postprocessResults:function(t,e,n){var i=this.getVal(),r=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),o=this;r.each2(function(t,e){0<=d(o.id(e.data("select2-data")),i)&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&!1!==n&&o.highlight(0),!this.opts.createSearchChoice&&0<!r.filter(".select2-result:not(.select2-selected)").length&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&b(o.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+o.opts.formatNoMatches(o.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-s(this.search)},resizeSearch:function(){var t,e,n,i,r=s(this.search);t=function(t){if(!A){var e=t[0].currentStyle||window.getComputedStyle(t[0],null);(A=w(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:e.fontSize,fontFamily:e.fontFamily,fontStyle:e.fontStyle,fontWeight:e.fontWeight,letterSpacing:e.letterSpacing,textTransform:e.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),w("body").append(A)}return A.text(t.val()),A.width()}(this.search)+10,e=this.search.offset().left,(i=(n=this.selection.width())-(e-this.selection.offset().left)-r)<t&&(i=n-r),i<40&&(i=n-r),i<=0&&(i=t),this.search.width(Math.floor(i))},getVal:function(){var t;return this.select?null===(t=this.select.val())?[]:t:r(t=this.opts.element.val(),this.opts.separator)},setVal:function(t){var e;this.select?this.select.val(t):(e=[],w(t).each(function(){d(this,e)<0&&e.push(this)}),this.opts.element.val(0===e.length?"":e.join(this.opts.separator)))},buildChangeDetails:function(t,e){e=e.slice(0),t=t.slice(0);for(var n=0;n<e.length;n++)for(var i=0;i<t.length;i++)f(this.opts.id(e[n]),this.opts.id(t[i]))&&(e.splice(n,1),0<n&&n--,t.splice(i,1),i--);return{added:e,removed:t}},val:function(t,n){var i,r=this;if(0===arguments.length)return this.getVal();if((i=this.data()).length||(i=[]),!t&&0!==t)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:i}));if(this.setVal(t),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===y)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var e=w.map(t,r.id);r.setVal(e),r.updateSelection(t),r.clearSearch(),n&&r.triggerChange(r.buildChangeDetails(i,r.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],e=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(e.opts.id(w(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,e){var n,i,r=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return w(this).data("select2-data")}).get():(i=this.data(),t||(t=[]),n=w.map(t,function(t){return r.opts.id(t)}),this.setVal(n),this.updateSelection(t),this.clearSearch(),void(e&&this.triggerChange(this.buildChangeDetails(i,this.data()))))}}),w.fn.select2=function(){var t,e,n,i,r,s=Array.prototype.slice.call(arguments,0),o=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],a=["opened","isFocused","container","dropdown"],l=["val","data"],c={search:"externalSearch"};return this.each(function(){if(0===s.length||"object"==typeof s[0])(t=0===s.length?{}:w.extend({},s[0])).element=w(this),"select"===t.element.get(0).tagName.toLowerCase()?r=t.element.prop("multiple"):(r=t.multiple||!1,"tags"in t&&(t.multiple=r=!0)),(e=r?new u:new h).init(t);else{if("string"!=typeof s[0])throw"Invalid arguments to select2 plugin: "+s;if(d(s[0],o)<0)throw"Unknown method: "+s[0];if(i=y,(e=w(this).data("select2"))===y)return;if("container"===(n=s[0])?i=e.container:"dropdown"===n?i=e.dropdown:(c[n]&&(n=c[n]),i=e[n].apply(e,s.slice(1))),0<=d(s[0],a)||d(s[0],l)&&1==s.length)return!1}}),i===y?this:i},w.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,i){var r=[];return a(t.text,n.term,r,i),r.join("")},formatSelection:function(t,e,n){return t?n(t.text):y},sortResults:function(t){return t},formatResultCssClass:function(){return y},formatSelectionCssClass:function(){return y},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return 0<=o(""+e).toUpperCase().indexOf(o(""+t).toUpperCase())},separator:",",tokenSeparators:[],tokenizer:function(t,e,n,i){var r,s,o,a,l,c=t,h=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return y;for(;;){for(s=-1,o=0,a=i.tokenSeparators.length;o<a&&(l=i.tokenSeparators[o],!(0<=(s=t.indexOf(l))));o++);if(s<0)break;if(r=t.substring(0,s),t=t.substring(s+l.length),0<r.length&&(r=i.createSearchChoice.call(this,r,e))!==y&&null!==r&&i.id(r)!==y&&null!==i.id(r)){for(h=!1,o=0,a=e.length;o<a;o++)if(f(i.id(r),i.id(e[o]))){h=!0;break}h||n(r)}}return c!==t?t:void 0},escapeMarkup:t,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return y}},w.fn.select2.ajaxDefaults={transport:w.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:i,local:l,tags:c},util:{debounce:g,markMatch:a,escapeMarkup:t,stripDiacritics:o},class:{abstract:n,single:h,multi:u}}}var T}(jQuery),function(e,n){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(t){return e.Bloodhound=n(t)}):"object"==typeof exports?module.exports=n(require("jquery")):e.Bloodhound=n(jQuery)}(this,function(f){var p=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:f.isArray,isFunction:f.isFunction,isObject:f.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(t){return t instanceof f},toStr:function(t){return p.isUndefined(t)||null===t?"":t+""},bind:f.proxy,each:function(t,n){f.each(t,function(t,e){return n(e,t)})},map:f.map,filter:f.grep,every:function(n,i){var r=!0;return n?(f.each(n,function(t,e){return!!(r=i.call(null,e,t,n))&&void 0}),!!r):r},some:function(n,i){var r=!1;return n?(f.each(n,function(t,e){return!(r=i.call(null,e,t,n))&&void 0}),!!r):r},mixin:f.extend,identity:function(t){return t},clone:function(t){return f.extend(!0,{},t)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(t){return f.isFunction(t)?t:function(){return String(t)}},defer:function(t){setTimeout(t,0)},debounce:function(r,s,o){var a,l;return function(){var t,e,n=this,i=arguments;return t=function(){a=null,o||(l=r.apply(n,i))},e=o&&!a,clearTimeout(a),a=setTimeout(t,s),e&&(l=r.apply(n,i)),l}},throttle:function(n,i){var r,s,o,a,l,c;return l=0,c=function(){l=new Date,o=null,a=n.apply(r,s)},function(){var t=new Date,e=i-(t-l);return r=this,s=arguments,e<=0?(clearTimeout(o),o=null,l=t,a=n.apply(r,s)):o||(o=setTimeout(c,e)),a}},stringify:function(t){return p.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){return(t=p.toStr(t))?t.split(/\s+/):[]}function e(t){return(t=p.toStr(t))?t.split(/\W+/):[]}function n(i){return function(t){return t=p.isArray(t)?t:[].slice.call(arguments,0),function(e){var n=[];return p.each(t,function(t){n=n.concat(i(p.toStr(e[t])))}),n}}}return{nonword:e,whitespace:t,obj:{nonword:n(e),whitespace:n(t)}}}(),i=function(){"use strict";function t(t){this.maxSize=p.isNumber(t)?t:100,this.reset(),this.maxSize<=0&&(this.set=this.get=f.noop)}function e(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return p.mixin(t.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new e}}),p.mixin(e.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),t}(),e=function(){"use strict";function t(t,e){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+p.escapeRegExChars(this.prefix)),this.ls=e||s,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(t){return JSON.stringify(p.isUndefined(t)?null:t)}function n(t){return f.parseJSON(t)}var s;try{(s=window.localStorage).setItem("~~~","!"),s.removeItem("~~~")}catch(t){s=null}return p.mixin(t.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=p.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),n(this.ls.getItem(this._prefix(t)))},set:function(t,e,n){return p.isNumber(n)?this._safeSet(this._ttlKey(t),r(i()+n)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(e))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=function(t){var e,n,i=[],r=s.length;for(e=0;e<r;e++)(n=s.key(e)).match(t)&&i.push(n.replace(t,""));return i}(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var e=n(this.ls.getItem(this._ttlKey(t)));return!!(p.isNumber(e)&&i()>e)}}),t}(),r=function(){"use strict";function t(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new i(0):e}var a=0,l={},c=6,e=new i(10);return t.setMaxPendingRequests=function(t){c=t},t.resetCache=function(){e.reset()},p.mixin(t.prototype,{_fingerprint:function(t){return(t=t||{}).url+t.type+f.param(t.data||{})},_get:function(t,e){function n(t){e(null,t),o._cache.set(r,t)}function i(){e(!0)}var r,s,o=this;r=this._fingerprint(t),this.cancelled||r!==this.lastReq||((s=l[r])?s.done(n).fail(i):a<c?(a++,l[r]=this._send(t).done(n).fail(i).always(function(){a--,delete l[r],o.onDeckRequestArgs&&(o._get.apply(o,o.onDeckRequestArgs),o.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,e){var n,i;e=e||f.noop,t=p.isString(t)?{url:t}:t||{},i=this._fingerprint(t),this.cancelled=!1,this.lastReq=i,(n=this._cache.get(i))?e(null,n):this._get(t,e)},cancel:function(){this.cancelled=!0}}),t}(),s=window.SearchIndex=function(){"use strict";function t(t){(t=t||{}).datumTokenizer&&t.queryTokenizer||f.error("datumTokenizer and queryTokenizer are both required"),this.identify=t.identify||p.stringify,this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}function n(t){return t=p.filter(t,function(t){return!!t}),p.map(t,function(t){return t.toLowerCase()})}function o(){var t={};return t[l]=[],t[a]={},t}var a="c",l="i";return p.mixin(t.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var s=this;t=p.isArray(t)?t:[t],p.each(t,function(t){var r,e;s.datums[r=s.identify(t)]=t,e=n(s.datumTokenizer(t)),p.each(e,function(t){var e,n,i;for(e=s.trie,n=t.split("");i=n.shift();)(e=e[a][i]||(e[a][i]=o()))[l].push(r)})})},get:function(t){var e=this;return p.map(t,function(t){return e.datums[t]})},search:function(t){var e,s,o=this;return e=n(this.queryTokenizer(t)),p.each(e,function(t){var e,n,i,r;if(s&&0===s.length)return!1;for(e=o.trie,n=t.split("");e&&(i=n.shift());)e=e[a][i];return e&&0===n.length?(r=e[l].slice(0),void(s=s?function(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();for(var s=t.length,o=e.length;n<s&&i<o;)t[n]<e[i]?n++:(t[n]>e[i]||(r.push(t[n]),n++),i++);return r}(s,r):r)):!(s=[])}),s?p.map(function(t){for(var e={},n=[],i=0,r=t.length;i<r;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}(s),function(t){return o.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=o()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),t}(),o=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new e(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},p.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(e){var t,n=this;e&&(t=this.prepare(this._settings()),this.transport(t).fail(function(){e(!0)}).done(function(t){e(null,n.transform(t))}))},clear:function(){return this.storage.clear(),this}}),t}(),a=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new r({cache:t.cache,limiter:t.limiter,transport:t.transport})}return p.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,n){var e,i=this;if(n)return t=t||"",e=this.prepare(t,this._settings()),this.transport.get(e,function(t,e){n(t?[]:i.transform(e))})},cancelLastRequest:function(){this.transport.cancel()}}),t}(),l=function(){"use strict";function s(t){var e,n,i,r,s,o,a,l,c,h,u;if(t)return e={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:p.identity,transport:null},t=p.isString(t)?{url:t}:t,!(t=p.mixin(e,t)).url&&f.error("remote requires url to be set"),t.transform=t.filter||t.transform,t.prepare=(c=(l=t).prepare,h=l.replace,u=l.wildcard,c||(c=h?function(t,e){return e.url=h(e.url,t),e}:l.wildcard?function(t,e){return e.url=e.url.replace(u,encodeURIComponent(t)),e}:function(t,e){return e})),t.limiter=(i=(n=t).limiter,r=n.rateLimitBy,s=n.rateLimitWait,i||(i=/^throttle$/i.test(r)?(a=s,function(t){return p.throttle(t,a)}):(o=s,function(t){return p.debounce(t,o)})),i),t.transport=t.transport?d(t.transport):f.ajax,delete t.replace,delete t.wildcard,delete t.rateLimitBy,delete t.rateLimitWait,t}function d(n){return function(t){var e=f.Deferred();return n(t,function(t){p.defer(function(){e.resolve(t)})},function(t){p.defer(function(){e.reject(t)})}),e}}return function(t){var e,n,i,r;return e={initialize:!0,identify:p.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(t=p.mixin(e,t||{})).datumTokenizer&&f.error("datumTokenizer is required"),!t.queryTokenizer&&f.error("queryTokenizer is required"),n=t.sorter,t.sorter=n?function(t){return t.sort(n)}:p.identity,t.local=p.isFunction(t.local)?t.local():t.local,t.prefetch=(i=t.prefetch)?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:p.identity,transform:p.identity,transport:null},i=p.isString(i)?{url:i}:i,!(i=p.mixin(r,i)).url&&f.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint="0.11.1"+i.thumbprint,i.transport=i.transport?d(i.transport):f.ajax,i):null,t.remote=s(t.remote),t}}();return function(){"use strict";function t(t){t=l(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new a(t.remote):null,this.prefetch=t.prefetch?new o(t.prefetch):null,this.index=new s({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var e;return e=window&&window.Bloodhound,t.noConflict=function(){return window&&(window.Bloodhound=e),t},t.tokenizers=n,p.mixin(t.prototype,{__ttAdapter:function(){var i=this;return this.remote?function(t,e,n){return i.search(t,e,n)}:function(t,e){return i.search(t,e)}},_loadPrefetch:function(){var n,t,i=this;return n=f.Deferred(),this.prefetch?(t=this.prefetch.fromCache())?(this.index.bootstrap(t),n.resolve()):this.prefetch.fromNetwork(function(t,e){return t?n.reject():(i.add(e),i.prefetch.store(i.index.serialize()),void n.resolve())}):n.resolve(),n.promise()},_initialize:function(){var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){t.add(t.local)}),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=p.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,e,i){var r,s=this;return r=this.sorter(this.index.search(t)),e(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,function(t){var n=[];p.each(t,function(e){!p.some(r,function(t){return s.identify(e)===s.identify(t)})&&n.push(e)}),i&&i(n)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return r.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),t}()}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(b){var _=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:b.isArray,isFunction:b.isFunction,isObject:b.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(t){return t instanceof b},toStr:function(t){return _.isUndefined(t)||null===t?"":t+""},bind:b.proxy,each:function(t,n){b.each(t,function(t,e){return n(e,t)})},map:b.map,filter:b.grep,every:function(n,i){var r=!0;return n?(b.each(n,function(t,e){return!!(r=i.call(null,e,t,n))&&void 0}),!!r):r},some:function(n,i){var r=!1;return n?(b.each(n,function(t,e){return!(r=i.call(null,e,t,n))&&void 0}),!!r):r},mixin:b.extend,identity:function(t){return t},clone:function(t){return b.extend(!0,{},t)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(t){return b.isFunction(t)?t:function(){return String(t)}},defer:function(t){setTimeout(t,0)},debounce:function(r,s,o){var a,l;return function(){var t,e,n=this,i=arguments;return t=function(){a=null,o||(l=r.apply(n,i))},e=o&&!a,clearTimeout(a),a=setTimeout(t,s),e&&(l=r.apply(n,i)),l}},throttle:function(n,i){var r,s,o,a,l,c;return l=0,c=function(){l=new Date,o=null,a=n.apply(r,s)},function(){var t=new Date,e=i-(t-l);return r=this,s=arguments,e<=0?(clearTimeout(o),o=null,l=t,a=n.apply(r,s)):o||(o=setTimeout(c,e)),a}},stringify:function(t){return _.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";var a={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(t){var e,n,i,r,s,o;return n=_.mixin({},a,t),{css:(e={css:(o={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}},_.isMsie()&&_.mixin(o.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),o),classes:n,html:(s=n,{wrapper:'<span class="'+s.wrapper+'"></span>',menu:'<div class="'+s.menu+'"></div>'}),selectors:(i=n,r={},_.each(i,function(t,e){r[e]="."+t}),r)}).css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(t){_.mixin(t,e)}}}}(),w=function(){"use strict";function t(t){t&&t.el||b.error("EventBus initialized without el"),this.$el=b(t.el)}var n;return"typeahead:",n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},_.mixin(t.prototype,{_trigger:function(t,e){var n;return n=b.Event("typeahead:"+t),(e=e||[]).unshift(n),this.$el.trigger.apply(this.$el,e),n},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=n[t])&&this._trigger(e,[].slice.call(arguments,1))}}),t}(),e=function(){"use strict";function i(t,e,n,i){var r;if(!n)return this;for(e=e.split(a),n=i?function(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function o(i,r,s){return function(){for(var t,e=0,n=i.length;!t&&e<n;e+=1)t=!1===i[e].apply(r,s);return!t}}var a=/\s+/,l=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)};return{onSync:function(t,e,n){return i.call(this,"sync",t,e,n)},onAsync:function(t,e,n){return i.call(this,"async",t,e,n)},off:function(t){var e;if(!this._callbacks)return this;for(t=t.split(a);e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var e,n,i,r,s;if(!this._callbacks)return this;for(t=t.split(a),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=o(n.sync,this,[e].concat(i)),s=o(n.async,this,[e].concat(i)),r()&&l(s);return this}}}(),l=function(o){"use strict";var t={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){var s;(r=_.mixin({},t,r)).node&&r.pattern&&(r.pattern=_.isArray(r.pattern)?r.pattern:[r.pattern],s=function(t,e,n){for(var i,r=[],s=0,o=t.length;s<o;s++)r.push(_.escapeRegExChars(t[s]));return i=n?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",e?new RegExp(i):new RegExp(i,"i")}(r.pattern,r.caseSensitive,r.wordsOnly),function t(e,n){for(var i,r=0;r<e.childNodes.length;r++)3===(i=e.childNodes[r]).nodeType?r+=n(i)?1:0:t(i,n)}(r.node,function(t){var e,n,i;return(e=s.exec(t.data))&&(i=o.createElement(r.tagName),r.className&&(i.className=r.className),(n=t.splitText(e.index)).splitText(e[0].length),i.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(i,n)),!!e}))}}(window.document),x=function(){"use strict";function o(t,e){var n;(t=t||{}).input||b.error("input is missing"),e.mixin(this),this.$hint=b(t.hint),this.$input=b(t.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=(n=this.$input,b('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:n.css("font-family"),fontSize:n.css("font-size"),fontStyle:n.css("font-style"),fontVariant:n.css("font-variant"),fontWeight:n.css("font-weight"),wordSpacing:n.css("word-spacing"),letterSpacing:n.css("letter-spacing"),textIndent:n.css("text-indent"),textRendering:n.css("text-rendering"),textTransform:n.css("text-transform")}).insertAfter(n)),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=_.noop)}function i(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},o.normalizeQuery=function(t){return _.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},_.mixin(o.prototype,e,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=s[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!i(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!i(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i,r,s;r=t,s=this.query,i=!!(n=o.normalizeQuery(r)===o.normalizeQuery(s))&&this.query.length!==t.length,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,e,n,i,r=this;return t=_.bind(this._onBlur,this),e=_.bind(this._onFocus,this),n=_.bind(this._onKeydown,this),i=_.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",e).on("keydown.tt",n),!_.isMsie()||9<_.isMsie()?this.$input.on("input.tt",i):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){s[t.which||t.keyCode]||_.defer(_.bind(r._onInput,r,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,n;return t=this.$input.val().length,e=this.$input[0].selectionStart,_.isNumber(e)?e===t:!document.selection||((n=document.selection.createRange()).moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=b("<div>")}}),o}(),r=function(){"use strict";function t(t,e){var n,i,r,s;(t=t||{}).templates=t.templates||{},t.templates.notFound=t.templates.notFound||t.templates.empty,t.source||b.error("missing source"),t.node||b.error("missing node"),t.name&&(s=t.name,!/^[_a-zA-Z0-9-]+$/.test(s))&&b.error("invalid dataset name: "+t.name),e.mixin(this),this.highlight=!!t.highlight,this.name=t.name||a(),this.limit=t.limit||5,this.displayFn=(r=(r=t.display||t.displayKey)||_.stringify,_.isFunction(r)?r:function(t){return t[r]}),this.templates=(n=t.templates,i=this.displayFn,{notFound:n.notFound&&_.templatify(n.notFound),pending:n.pending&&_.templatify(n.pending),header:n.header&&_.templatify(n.header),footer:n.footer&&_.templatify(n.footer),suggestion:n.suggestion||function(t){return b("<div>").text(i(t))}}),this.source=t.source.__ttAdapter?t.source.__ttAdapter():t.source,this.async=_.isUndefined(t.async)?2<this.source.length:!!t.async,this._resetLastSuggestion(),this.$el=b(t.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}var o,a;return o={val:"tt-selectable-display",obj:"tt-selectable-object"},a=_.getIdGenerator(),t.extractData=function(t){var e=b(t);return e.data(o.obj)?{val:e.data(o.val)||"",obj:e.data(o.obj)||null}:null},_.mixin(t.prototype,e,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,t){var r,s=this;return r=document.createDocumentFragment(),_.each(t,function(t){var e,n;n=s._injectQuery(i,t),e=b(s.templates.suggestion(n)).data(o.obj,t).data(o.val,s.displayFn(t)).addClass(s.classes.suggestion+" "+s.classes.selectable),r.appendChild(e[0])}),this.highlight&&l({className:this.classes.highlight,node:r,pattern:i}),b(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=b()},_injectQuery:function(t,e){return _.isObject(e)?_.mixin({_query:t},e):e},update:function(e){function t(t){r||(r=!0,t=(t||[]).slice(0,n.limit),s=t.length,n._overwrite(e,t),s<n.limit&&n.async&&n.trigger("asyncRequested",e))}var n=this,i=!1,r=!1,s=0;this.cancel(),this.cancel=function(){i=!0,n.cancel=b.noop,n.async&&n.trigger("asyncCanceled",e)},this.source(e,t,function(t){t=t||[],!i&&s<n.limit&&(n.cancel=b.noop,s+=t.length,n._append(e,t.slice(0,n.limit-s)),n.async&&n.trigger("asyncReceived",e))}),!r&&t([])},cancel:b.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=b("<div>")}}),t}(),A=function(){"use strict";function t(t,n){var i=this;(t=t||{}).node||b.error("node is required"),n.mixin(this),this.$node=b(t.node),this.query=null,this.datasets=_.map(t.datasets,function(t){var e=i.$node.find(t.node).first();return t.node=e.length?e:b("<div>").appendTo(i.$node),new r(t,n)})}return _.mixin(t.prototype,e,{_onSelectableClick:function(t){this.trigger("selectableClicked",b(t.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return _.every(this.datasets,function(t){return t.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(i+e):r<n&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,e=this;return t=_.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),_.each(this.datasets,function(t){t.onSync("asyncRequested",e._propagate,e).onSync("asyncCanceled",e._propagate,e).onSync("asyncReceived",e._propagate,e).onSync("rendered",e._onRendered,e).onSync("cleared",e._onCleared,e)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i;return n=this.getActiveSelectable(),e=this._getSelectables(),-1===(i=(i=((i=(n?e.index(n):-1)+t)+1)%(e.length+1)-1)<-1?e.length-1:i)?null:e.eq(i)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?r.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(e){var t=e!==this.query;return t&&(this.query=e,_.each(this.datasets,function(t){t.update(e)})),t},empty:function(){_.each(this.datasets,function(t){t.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=b("<div>"),_.each(this.datasets,function(t){t.destroy()})}}),t}(),C=function(){"use strict";function t(){A.apply(this,[].slice.call(arguments,0))}var e=A.prototype;return _.mixin(t.prototype,A.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),e.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),e.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),e.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),E=function(){"use strict";function t(t,e){var n,i,r,s,o,a,l,c,h,u,d;(t=t||{}).input||b.error("missing input"),t.menu||b.error("missing menu"),t.eventBus||b.error("missing event bus"),e.mixin(this),this.eventBus=t.eventBus,this.minLength=_.isNumber(t.minLength)?t.minLength:1,this.input=t.input,this.menu=t.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),n=f(this,"activate","open","_onFocused"),i=f(this,"deactivate","_onBlurred"),r=f(this,"isActive","isOpen","_onEnterKeyed"),s=f(this,"isActive","isOpen","_onTabKeyed"),o=f(this,"isActive","_onEscKeyed"),a=f(this,"isActive","open","_onUpKeyed"),l=f(this,"isActive","open","_onDownKeyed"),c=f(this,"isActive","isOpen","_onLeftKeyed"),h=f(this,"isActive","isOpen","_onRightKeyed"),u=f(this,"_openIfActive","_onQueryChanged"),d=f(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",n,this).onSync("blurred",i,this).onSync("enterKeyed",r,this).onSync("tabKeyed",s,this).onSync("escKeyed",o,this).onSync("upKeyed",a,this).onSync("downKeyed",l,this).onSync("leftKeyed",c,this).onSync("rightKeyed",h,this).onSync("queryChanged",u,this).onSync("whitespaceChanged",d,this).onSync("langDirChanged",this._onLangDirChanged,this)}function f(n){var t=[].slice.call(arguments,1);return function(){var e=[].slice.call(arguments);_.each(t,function(t){return n[t].apply(n,e)})}}return _.mixin(t.prototype,{_hacks:function(){var r,s;r=this.input.$input||b("<div>"),s=this.menu.$node||b("<div>"),r.on("blur.tt",function(t){var e,n,i;e=document.activeElement,n=s.is(e),i=0<s.has(e).length,_.isMsie()&&(n||i)&&(t.preventDefault(),t.stopImmediatePropagation(),_.defer(function(){r.focus()}))}),s.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=_.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,e,n,i,r,s;t=this.menu.getTopSelectable(),e=this.menu.getSelectableData(t),n=this.input.getInputValue(),!e||_.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(i=x.normalizeQuery(n),r=_.escapeRegExChars(i),(s=new RegExp("^(?:"+r+")(.+$)","i").exec(e.val))&&this.input.setHint(n+s[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(_.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,n;return e=this.input.getQuery(),!(!((n=this.menu.getSelectableData(t))&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(t){var e,n,i,r;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),r=(i=this.menu.getSelectableData(n))?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),t}();!function(){"use strict";function i(t,n){t.each(function(){var t,e=b(this);(t=e.data(y.typeahead))&&n(t,e)})}function v(t){var e;return(e=_.isJQuery(t)||_.isElement(t)?b(t).first():[]).length?e:null}var t,y,e;t=b.fn.typeahead,y={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},e={initialize:function(p,g){var m;return g=_.isArray(g)?g:[].slice.call(arguments,1),m=n((p=p||{}).classNames),this.each(function(){var t,e,n,i,r,s,o,a,l,c,h,u,d,f;_.each(g,function(t){t.highlight=!!p.highlight}),t=b(this),e=b(m.html.wrapper),n=v(p.hint),i=v(p.menu),r=!1!==p.hint&&!n,s=!1!==p.menu&&!i,r&&(d=m,n=(u=t).clone().addClass(d.classes.hint).removeData().css(d.css.hint).css((f=u,{backgroundAttachment:f.css("background-attachment"),backgroundClip:f.css("background-clip"),backgroundColor:f.css("background-color"),backgroundImage:f.css("background-image"),backgroundOrigin:f.css("background-origin"),backgroundPosition:f.css("background-position"),backgroundRepeat:f.css("background-repeat"),backgroundSize:f.css("background-size")})).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})),s&&(i=b(m.html.menu).css(m.css.menu)),n&&n.val(""),t=function(t,e){t.data(y.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}(t,m),(r||s)&&(e.css(m.css.wrapper),t.css(r?m.css.input:m.css.inputWithNoHint),t.wrap(e).parent().prepend(r?n:null).append(s?i:null)),h=s?C:A,o=new w({el:t}),a=new x({hint:n,input:t},m),l=new h({node:i,datasets:g},m),c=new E({input:a,menu:l,eventBus:o,minLength:p.minLength},m),t.data(y.www,m),t.data(y.typeahead,c)})},isEnabled:function(){var e;return i(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return i(this,function(t){t.enable()}),this},disable:function(){return i(this,function(t){t.disable()}),this},isActive:function(){var e;return i(this.first(),function(t){e=t.isActive()}),e},activate:function(){return i(this,function(t){t.activate()}),this},deactivate:function(){return i(this,function(t){t.deactivate()}),this},isOpen:function(){var e;return i(this.first(),function(t){e=t.isOpen()}),e},open:function(){return i(this,function(t){t.open()}),this},close:function(){return i(this,function(t){t.close()}),this},select:function(t){var e=!1,n=b(t);return i(this.first(),function(t){e=t.select(n)}),e},autocomplete:function(t){var e=!1,n=b(t);return i(this.first(),function(t){e=t.autocomplete(n)}),e},moveCursor:function(e){var n=!1;return i(this.first(),function(t){n=t.moveCursor(e)}),n},val:function(e){var n;return arguments.length?(i(this,function(t){t.setVal(e)}),this):(i(this.first(),function(t){n=t.getVal()}),n)},destroy:function(){return i(this,function(t,e){var n,i,r;i=(n=e).data(y.www),r=n.parent().filter(i.selectors.wrapper),_.each(n.data(y.attrs),function(t,e){_.isUndefined(t)?n.removeAttr(e):n.attr(e,t)}),n.removeData(y.typeahead).removeData(y.www).removeData(y.attr).removeClass(i.classes.input),r.length&&(n.detach().insertAfter(r),r.remove()),t.destroy()}),this}},b.fn.typeahead=function(t){return e[t]?e[t].apply(this,[].slice.call(arguments,1)):e.initialize.apply(this,arguments)},b.fn.typeahead.noConflict=function(){return b.fn.typeahead=t,this}}()}),function(){function e(t){this._value=t}function C(t,e,n,i){var r,s,o=Math.pow(10,e);return s=(n(t*o)/o).toFixed(e),i&&(r=new RegExp("0{1,"+i+"}$"),s=s.replace(r,"")),s}function n(t,e,n){var i,r,s,o,a,l,c,h,u,d,f,p,g,m,v,y,b,_;return-1<e.indexOf("$")?(d=t,p=n,v=(f=e).indexOf("$"),y=f.indexOf("("),b=f.indexOf("-"),_="",-1<f.indexOf(" $")?(_=" ",f=f.replace(" $","")):-1<f.indexOf("$ ")?(_=" ",f=f.replace("$ ","")):f=f.replace("$",""),m=w(d._value,f,p),v<=1?-1<m.indexOf("(")||-1<m.indexOf("-")?(m=m.split(""),g=1,(v<y||v<b)&&(g=0),m.splice(g,0,E[k].currency.symbol+_),m=m.join("")):m=E[k].currency.symbol+_+m:-1<m.indexOf(")")?((m=m.split("")).splice(-1,0,_+E[k].currency.symbol),m=m.join("")):m=m+_+E[k].currency.symbol,m):-1<e.indexOf("%")?(a=e,l=n,h="",u=100*t._value,-1<a.indexOf(" %")?(h=" ",a=a.replace(" %","")):a=a.replace("%",""),-1<(c=w(u,a,l)).indexOf(")")?((c=c.split("")).splice(-1,0,h+"%"),c=c.join("")):c=c+h+"%",c):-1<e.indexOf(":")?(i=t,r=Math.floor(i._value/60/60),s=Math.floor((i._value-60*r*60)/60),o=Math.round(i._value-60*r*60-60*s),r+":"+(s<10?"0"+s:s)+":"+(o<10?"0"+o:o)):w(t._value,e,n)}function i(t,e){var n,i,r,s,o,a,l,c=e,h=["KB","MB","GB","TB","PB","EB","ZB","YB"],u=!1;if(-1<e.indexOf(":"))t._value=(a=e.split(":"),l=0,3===a.length?(l+=60*Number(a[0])*60,l+=60*Number(a[1]),l+=Number(a[2])):2===a.length&&(l+=60*Number(a[0]),l+=Number(a[1])),Number(l));else if(e===S)t._value=0;else{for("."!==E[k].delimiters.decimal&&(e=e.replace(/\./g,"").replace(E[k].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+E[k].abbreviations.thousand+"(?:\\)|(\\"+E[k].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+E[k].abbreviations.million+"(?:\\)|(\\"+E[k].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+E[k].abbreviations.billion+"(?:\\)|(\\"+E[k].currency.symbol+")?(?:\\))?)?$"),s=new RegExp("[^a-zA-Z]"+E[k].abbreviations.trillion+"(?:\\)|(\\"+E[k].currency.symbol+")?(?:\\))?)?$"),o=0;o<=h.length&&!(u=-1<e.indexOf(h[o])&&Math.pow(1024,o+1));o++);t._value=(u||1)*(c.match(n)?Math.pow(10,3):1)*(c.match(i)?Math.pow(10,6):1)*(c.match(r)?Math.pow(10,9):1)*(c.match(s)?Math.pow(10,12):1)*(-1<e.indexOf("%")?.01:1)*((e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1)*Number(e.replace(/[^0-9\.]+/g,"")),t._value=u?Math.ceil(t._value):t._value}return t._value}function w(t,e,n){var i,r,s,o,a,l,c=!1,h=!1,u=!1,d="",f=!1,p=!1,g=!1,m=!1,v=!1,y="",b="",_=Math.abs(t),w=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],x="",A=!1;if(0===t&&null!==S)return S;if(-1<e.indexOf("(")?(c=!0,e=e.slice(1,-1)):-1<e.indexOf("+")&&(h=!0,e=e.replace(/\+/g,"")),-1<e.indexOf("a")&&(f=0<=e.indexOf("aK"),p=0<=e.indexOf("aM"),g=0<=e.indexOf("aB"),m=0<=e.indexOf("aT"),v=f||p||g||m,-1<e.indexOf(" a")?(d=" ",e=e.replace(" a","")):e=e.replace("a",""),_>=Math.pow(10,12)&&!v||m?(d+=E[k].abbreviations.trillion,t/=Math.pow(10,12)):_<Math.pow(10,12)&&_>=Math.pow(10,9)&&!v||g?(d+=E[k].abbreviations.billion,t/=Math.pow(10,9)):_<Math.pow(10,9)&&_>=Math.pow(10,6)&&!v||p?(d+=E[k].abbreviations.million,t/=Math.pow(10,6)):(_<Math.pow(10,6)&&_>=Math.pow(10,3)&&!v||f)&&(d+=E[k].abbreviations.thousand,t/=Math.pow(10,3))),-1<e.indexOf("b"))for(-1<e.indexOf(" b")?(y=" ",e=e.replace(" b","")):e=e.replace("b",""),s=0;s<=w.length;s++)if(i=Math.pow(1024,s),r=Math.pow(1024,s+1),i<=t&&t<r){y+=w[s],0<i&&(t/=i);break}return-1<e.indexOf("o")&&(-1<e.indexOf(" o")?(b=" ",e=e.replace(" o","")):e=e.replace("o",""),b+=E[k].ordinal(t)),-1<e.indexOf("[.]")&&(u=!0,e=e.replace("[.]",".")),o=t.toString().split(".")[0],a=e.split(".")[1],l=e.indexOf(","),a?(-1<a.indexOf("[")?x=C(t,(a=(a=a.replace("]","")).split("["))[0].length+a[1].length,n,a[1].length):x=C(t,a.length,n),o=x.split(".")[0],x=x.split(".")[1].length?E[k].delimiters.decimal+x.split(".")[1]:"",u&&0===Number(x.slice(1))&&(x="")):o=C(t,null,n),-1<o.indexOf("-")&&(o=o.slice(1),A=!0),-1<l&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+E[k].delimiters.thousands)),0===e.indexOf(".")&&(o=""),(c&&A?"(":"")+(!c&&A?"-":"")+(!A&&h?"+":"")+o+x+(b||"")+(d||"")+(y||"")+(c&&A?")":"")}function r(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)}function s(){return Array.prototype.slice.call(arguments).reduce(function(t,e){var n=r(t),i=r(e);return i<n?n:i},-1/0)}var o,E={},k="en",S=null,a="0,0",t="undefined"!=typeof module&&module.exports;(o=function(t){return o.isNumeral(t)?t=t.value():0===t||void 0===t?t=0:Number(t)||(t=o.fn.unformat(t)),new e(Number(t))}).version="1.5.3",o.isNumeral=function(t){return t instanceof e},o.language=function(t,e){if(!t)return k;if(t&&!e){if(!E[t])throw new Error("Unknown language : "+t);k=t}return(e||!E[t])&&(n=e,E[t]=n),o;var n},o.languageData=function(t){if(!t)return E[k];if(!E[t])throw new Error("Unknown language : "+t);return E[t]},o.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),o.zeroFormat=function(t){S="string"==typeof t?t:null},o.defaultFormat=function(t){a="string"==typeof t?t:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,i,r=this.length>>>0,s=!1;for(1<arguments.length&&(i=e,s=!0),n=0;n<r;++n)this.hasOwnProperty(n)&&(s?i=t(i,this[n],n,this):(i=this[n],s=!0));if(!s)throw new TypeError("Reduce of empty array with no initial value");return i}),o.fn=e.prototype={clone:function(){return o(this)},format:function(t,e){return n(this,t||a,void 0!==e?e:Math.round)},unformat:function(t){return"[object Number]"===Object.prototype.toString.call(t)?t:i(this,t||a)},value:function(){return this._value},valueOf:function(){return this._value},set:function(t){return this._value=Number(t),this},add:function(t){var n=s.call(null,this._value,t);return this._value=[this._value,t].reduce(function(t,e){return t+n*e},0)/n,this},subtract:function(t){var n=s.call(null,this._value,t);return this._value=[t].reduce(function(t,e){return t-n*e},this._value*n)/n,this},multiply:function(t){return this._value=[this._value,t].reduce(function(t,e){var n=s(t,e);return t*n*e*n/(n*n)},1),this},divide:function(t){return this._value=[this._value,t].reduce(function(t,e){var n=s(t,e);return t*n/(e*n)}),this},difference:function(t){return Math.abs(o(this._value).subtract(t).value())}},t&&(module.exports=o),"undefined"==typeof ender&&(this.numeral=o),"function"==typeof define&&define.amd&&define([],function(){return o})}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function m(){return Yt.apply(null,arguments)}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function c(t){return void 0===t}function h(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function d(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var n in e)v(e,n)&&(t[n]=e[n]);return v(e,"toString")&&(t.toString=e.toString),v(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,n,i){return pt(t,e,n,i,!0).utc()}function y(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=y(t),n=qt.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function b(t){var e=p(NaN);return null!=t?f(y(e),t):y(e).userInvalidated=!0,e}function _(t,e){var n,i,r;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=y(e)),c(e._locale)||(t._locale=e._locale),0<Zt.length)for(n=0;n<Zt.length;n++)c(r=e[i=Zt[n]])||(t[i]=r);return t}function w(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Gt&&(Gt=!0,m.updateOffset(this),Gt=!1)}function x(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function A(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function C(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=A(e)),n}function o(t,e,n){var i,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&C(t[i])!==C(e[i]))&&o++;return o+s}function E(t){!1===m.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function t(r,s){var o=!0;return f(function(){if(null!=m.deprecationHandler&&m.deprecationHandler(null,r),o){for(var t,e=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var i in t+="\n["+n+"] ",arguments[0])t+=i+": "+arguments[0][i]+", ";t=t.slice(0,-2)}else t=arguments[n];e.push(t)}E(r+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),o=!1}return s.apply(this,arguments)},s)}function s(t,e){null!=m.deprecationHandler&&m.deprecationHandler(t,e),Kt[t]||(E(e),Kt[t]=!0)}function k(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function r(t,e){var n,i=f({},t);for(n in e)v(e,n)&&(l(t[n])&&l(e[n])?(i[n]={},f(i[n],t[n]),f(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)v(t,n)&&!v(e,n)&&l(t[n])&&(i[n]=f({},i[n]));return i}function S(t){null!=t&&this.set(t)}function e(t,e){var n=t.toLowerCase();Qt[n]=Qt[n+"s"]=Qt[e]=t}function F(t){return"string"==typeof t?Qt[t]||Qt[t.toLowerCase()]:void 0}function T(t){var e,n,i={};for(n in t)v(t,n)&&((e=F(n))&&(i[e]=t[n]));return i}function n(t,e){Jt[t]=e}function i(e,n){return function(t){return null!=t?(M(this,e,t),m.updateOffset(this,n),this):D(this,e)}}function D(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function M(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function P(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function L(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(ie[t]=r),e&&(ie[e[0]]=function(){return P(r.apply(this,arguments),e[1],e[2])}),n&&(ie[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function B(t,e){return t.isValid()?(e=$(e,t.localeData()),ne[e]=ne[e]||function(i){var t,r,e,s=i.match(te);for(t=0,r=s.length;t<r;t++)ie[s[t]]?s[t]=ie[s[t]]:s[t]=(e=s[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,n="";for(e=0;e<r;e++)n+=k(s[e])?s[e].call(t,i):s[e];return n}}(e),ne[e](t)):t.localeData().invalidDate()}function $(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(ee.lastIndex=0;0<=i&&ee.test(t);)t=t.replace(ee,n),ee.lastIndex=0,i-=1;return t}function R(t,n,i){_e[t]=k(n)?n:function(t,e){return t&&i?i:n}}function O(t,e){return v(_e,t)?_e[t](e._strict,e._locale):new RegExp(I(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})))}function I(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function N(t,n){var e,i=n;for("string"==typeof t&&(t=[t]),h(n)&&(i=function(t,e){e[n]=C(t)}),e=0;e<t.length;e++)we[t[e]]=i}function z(t,r){N(t,function(t,e,n,i){n._w=n._w||{},r(t,n._w,n,i)})}function H(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function j(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=C(e);else if(!h(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),H(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function W(t){return null!=t?(j(this,t),m.updateOffset(this,!0),this):D(this,"Month")}function V(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],s=[];for(e=0;e<12;e++)n=p([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),s.sort(t),e=0;e<12;e++)i[e]=I(i[e]),r[e]=I(r[e]);for(e=0;e<24;e++)s[e]=I(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function U(t){return Y(t)?366:365}function Y(t){return t%4==0&&t%100!=0||t%400==0}function q(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Z(t,e,n){var i=7+e-n;return-((7+q(t,0,i).getUTCDay()-e)%7)+i-1}function G(t,e,n,i,r){var s,o,a=1+7*(e-1)+(7+n-i)%7+Z(t,i,r);return a<=0?o=U(s=t-1)+a:a>U(t)?(s=t+1,o=a-U(t)):(s=t,o=a),{year:s,dayOfYear:o}}function K(t,e,n){var i,r,s=Z(t.year(),e,n),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?i=o+X(r=t.year()-1,e,n):o>X(t.year(),e,n)?(i=o-X(t.year(),e,n),r=t.year()+1):(r=t.year(),i=o),{week:i,year:r}}function X(t,e,n){var i=Z(t,e,n),r=Z(t+1,e,n);return(U(t)-i+r)/7}function Q(){function t(t,e){return e.length-t.length}var e,n,i,r,s,o=[],a=[],l=[],c=[];for(e=0;e<7;e++)n=p([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),s=this.weekdays(n,""),o.push(i),a.push(r),l.push(s),c.push(i),c.push(r),c.push(s);for(o.sort(t),a.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)a[e]=I(a[e]),l[e]=I(l[e]),c[e]=I(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function J(){return this.hours()%12||12}function tt(t,e){L(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function et(t,e){return e._meridiemParse}function nt(t){return t?t.toLowerCase().replace("_","-"):t}function it(t){var e=null;if(!qe[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Ve._abbr,require("./locale/"+t),rt(e)}catch(t){}return qe[t]}function rt(t,e){var n;return t&&((n=c(e)?ot(t):st(t,e))&&(Ve=n)),Ve._abbr}function st(t,e){if(null!==e){var n=Ye;if(e.abbr=t,null!=qe[t])s("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=qe[t]._config;else if(null!=e.parentLocale){if(null==qe[e.parentLocale])return Ze[e.parentLocale]||(Ze[e.parentLocale]=[]),Ze[e.parentLocale].push({name:t,config:e}),null;n=qe[e.parentLocale]._config}return qe[t]=new S(r(n,e)),Ze[t]&&Ze[t].forEach(function(t){st(t.name,t.config)}),rt(t),qe[t]}return delete qe[t],null}function ot(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ve;if(!a(t)){if(e=it(t))return e;t=[t]}return function(t){for(var e,n,i,r,s=0;s<t.length;){for(e=(r=nt(t[s]).split("-")).length,n=(n=nt(t[s+1]))?n.split("-"):null;0<e;){if(i=it(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&o(r,n,!0)>=e-1)break;e--}s++}return null}(t)}function at(t){var e,n=t._a;return n&&-2===y(t).overflow&&(e=n[Ae]<0||11<n[Ae]?Ae:n[Ce]<1||n[Ce]>H(n[xe],n[Ae])?Ce:n[Ee]<0||24<n[Ee]||24===n[Ee]&&(0!==n[ke]||0!==n[Se]||0!==n[Fe])?Ee:n[ke]<0||59<n[ke]?ke:n[Se]<0||59<n[Se]?Se:n[Fe]<0||999<n[Fe]?Fe:-1,y(t)._overflowDayOfYear&&(e<xe||Ce<e)&&(e=Ce),y(t)._overflowWeeks&&-1===e&&(e=Te),y(t)._overflowWeekday&&-1===e&&(e=De),y(t).overflow=e),t}function lt(t){var e,n,i,r,s,o,a=t._i,l=Ge.exec(a)||Ke.exec(a);if(l){for(y(t).iso=!0,e=0,n=Qe.length;e<n;e++)if(Qe[e][1].exec(l[1])){r=Qe[e][0],i=!1!==Qe[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Je.length;e<n;e++)if(Je[e][1].exec(l[3])){s=(l[2]||" ")+Je[e][0];break}if(null==s)return void(t._isValid=!1)}if(!i&&null!=s)return void(t._isValid=!1);if(l[4]){if(!Xe.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),dt(t)}else t._isValid=!1}function ct(t){var e,n,i,r,s,o,a,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(e=t._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=en.exec(e)){if(i=n[1]?"ddd"+(5===n[1].length?", ":" "):"",r="D MMM "+(10<n[2].length?"YYYY ":"YY "),s="HH:mm"+(n[4]?":ss":""),n[1]){var c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==c)return y(t).weekdayMismatch=!0,void(t._isValid=!1)}switch(n[5].length){case 2:0===a?o=" +0000":o=((a="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(n[5][1].toUpperCase())-12)<0?" -":" +")+(""+a).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:o=l[n[5]];break;default:o=l[" GMT"]}n[5]=o,t._i=n.splice(1).join("")," ZZ",t._f=i+r+s+" ZZ",dt(t),y(t).rfc2822=!0}else t._isValid=!1}function ht(t,e,n){return null!=t?t:null!=e?e:n}function ut(t){var e,n,i,r,s,o,a=[];if(!t._d){for(s=t,o=void 0,o=new Date(m.now()),i=s._useUTC?[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()]:[o.getFullYear(),o.getMonth(),o.getDate()],t._w&&null==t._a[Ce]&&null==t._a[Ae]&&function(t){var e,n,i,r,s,o,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,o=4,n=ht(e.GG,t._a[xe],K(gt(),1,4).year),i=ht(e.W,1),((r=ht(e.E,1))<1||7<r)&&(l=!0);else{s=t._locale._week.dow,o=t._locale._week.doy;var c=K(gt(),s,o);n=ht(e.gg,t._a[xe],c.year),i=ht(e.w,c.week),null!=e.d?((r=e.d)<0||6<r)&&(l=!0):null!=e.e?(r=e.e+s,(e.e<0||6<e.e)&&(l=!0)):r=s}i<1||i>X(n,s,o)?y(t)._overflowWeeks=!0:null!=l?y(t)._overflowWeekday=!0:(a=G(n,i,r,s,o),t._a[xe]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(r=ht(t._a[xe],i[xe]),(t._dayOfYear>U(r)||0===t._dayOfYear)&&(y(t)._overflowDayOfYear=!0),n=q(r,0,t._dayOfYear),t._a[Ae]=n.getUTCMonth(),t._a[Ce]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=i[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Ee]&&0===t._a[ke]&&0===t._a[Se]&&0===t._a[Fe]&&(t._nextDay=!0,t._a[Ee]=0),t._d=(t._useUTC?q:function(t,e,n,i,r,s,o){var a=new Date(t,e,n,i,r,s,o);return t<100&&0<=t&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ee]=24)}}function dt(t){if(t._f!==m.ISO_8601)if(t._f!==m.RFC_2822){t._a=[],y(t).empty=!0;var e,n,i,r,s,o,a,l,c,h,u,d,f=""+t._i,p=f.length,g=0;for(i=$(t._f,t._locale).match(te)||[],e=0;e<i.length;e++)r=i[e],(n=(f.match(O(r,t))||[])[0])&&(0<(s=f.substr(0,f.indexOf(n))).length&&y(t).unusedInput.push(s),f=f.slice(f.indexOf(n)+n.length),g+=n.length),ie[r]?(n?y(t).empty=!1:y(t).unusedTokens.push(r),o=r,l=t,null!=(a=n)&&v(we,o)&&we[o](a,l._a,l,o)):t._strict&&!n&&y(t).unusedTokens.push(r);y(t).charsLeftOver=p-g,0<f.length&&y(t).unusedInput.push(f),t._a[Ee]<=12&&!0===y(t).bigHour&&0<t._a[Ee]&&(y(t).bigHour=void 0),y(t).parsedDateParts=t._a.slice(0),y(t).meridiem=t._meridiem,t._a[Ee]=(c=t._locale,h=t._a[Ee],null==(u=t._meridiem)?h:null!=c.meridiemHour?c.meridiemHour(h,u):(null!=c.isPM&&((d=c.isPM(u))&&h<12&&(h+=12),d||12!==h||(h=0)),h)),ut(t),at(t)}else ct(t);else lt(t)}function ft(t){var e,n,i,r,s=t._i,o=t._f;return t._locale=t._locale||ot(t._l),null===s||void 0===o&&""===s?b({nullInput:!0}):("string"==typeof s&&(t._i=s=t._locale.preparse(s)),x(s)?new w(at(s)):(u(s)?t._d=s:a(o)?function(t){var e,n,i,r,s;if(0===t._f.length)return y(t).invalidFormat=!0,t._d=new Date(NaN);for(r=0;r<t._f.length;r++)s=0,e=_({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],dt(e),g(e)&&(s+=y(e).charsLeftOver,s+=10*y(e).unusedTokens.length,y(e).score=s,(null==i||s<i)&&(i=s,n=e));f(t,n||e)}(t):o?dt(t):c(n=(e=t)._i)?e._d=new Date(m.now()):u(n)?e._d=new Date(n.valueOf()):"string"==typeof n?(i=e,null!==(r=tn.exec(i._i))?i._d=new Date(+r[1]):(lt(i),!1===i._isValid&&(delete i._isValid,ct(i),!1===i._isValid&&(delete i._isValid,m.createFromInputFallback(i))))):a(n)?(e._a=d(n.slice(0),function(t){return parseInt(t,10)}),ut(e)):l(n)?function(t){if(!t._d){var e=T(t._i);t._a=d([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ut(t)}}(e):h(n)?e._d=new Date(n):m.createFromInputFallback(e),g(t)||(t._d=null),t))}function pt(t,e,n,i,r){var s,o={};return!0!==n&&!1!==n||(i=n,n=void 0),(l(t)&&function(t){var e;for(e in t)return!1;return!0}(t)||a(t)&&0===t.length)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,(s=new w(at(ft(o))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function gt(t,e,n,i){return pt(t,e,n,i,!1)}function mt(t,e){var n,i;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return gt();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function vt(t){var e=T(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,h=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===sn.indexOf(e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<sn.length;++i)if(t[sn[i]]){if(n)return!1;parseFloat(t[sn[i]])!==C(t[sn[i]])&&(n=!0)}return!0}(e),this._milliseconds=+h+1e3*c+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=ot(),this._bubble()}function yt(t){return t instanceof vt}function bt(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function _t(t,n){L(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+P(~~(t/60),2)+n+P(~~t%60,2)})}function wt(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(on)||["-",0,0],r=60*i[1]+C(i[2]);return 0===r?0:"+"===i[0]?r:-r}function xt(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(x(t)||u(t)?t.valueOf():gt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),m.updateOffset(n,!1),n):gt(t).local()}function At(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ct(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Et(t,e){var n,i,r,s,o,a,l=t,c=null;return yt(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:h(t)?(l={},e?l[e]=t:l.milliseconds=t):(c=an.exec(t))?(n="-"===c[1]?-1:1,l={y:0,d:C(c[Ce])*n,h:C(c[Ee])*n,m:C(c[ke])*n,s:C(c[Se])*n,ms:C(bt(1e3*c[Fe]))*n}):(c=ln.exec(t))?(n="-"===c[1]?-1:1,l={y:kt(c[2],n),M:kt(c[3],n),w:kt(c[4],n),d:kt(c[5],n),h:kt(c[6],n),m:kt(c[7],n),s:kt(c[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(s=gt(l.from),o=gt(l.to),r=s.isValid()&&o.isValid()?(o=xt(o,s),s.isBefore(o)?a=St(s,o):((a=St(o,s)).milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0},(l={}).ms=r.milliseconds,l.M=r.months),i=new vt(l),yt(t)&&v(t,"_locale")&&(i._locale=t._locale),i}function kt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function St(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ft(i,r){return function(t,e){var n;return null===e||isNaN(+e)||(s(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Tt(this,Et(t="string"==typeof t?+t:t,e),i),this}}function Tt(t,e,n,i){var r=e._milliseconds,s=bt(e._days),o=bt(e._months);t.isValid()&&(i=null==i||i,r&&t._d.setTime(t._d.valueOf()+r*n),s&&M(t,"Date",D(t,"Date")+s*n),o&&j(t,D(t,"Month")+o*n),i&&m.updateOffset(t,s||o))}function Dt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ot(t))&&(this._locale=e),this)}function Mt(){return this._locale}function Pt(t,e){L(0,[t,t.length],0,e)}function Lt(t,e,n,i,r){var s;return null==t?K(this,i,r).year:((s=X(t,i,r))<e&&(e=s),function(t,e,n,i,r){var s=G(t,e,n,i,r),o=q(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,t,e,n,i,r))}function Bt(t,e){e[Fe]=C(1e3*("0."+t))}function $t(t){return t}function Rt(t,e,n,i){var r=ot(),s=p().set(i,e);return r[n](s,t)}function Ot(t,e,n){if(h(t)&&(e=t,t=void 0),t=t||"",null!=e)return Rt(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Rt(t,i,n,"month");return r}function It(t,e,n,i){"boolean"==typeof t||(n=e=t,t=!1),h(e)&&(n=e,e=void 0),e=e||"";var r=ot(),s=t?r._week.dow:0;if(null!=n)return Rt(e,(n+s)%7,i,"day");var o,a=[];for(o=0;o<7;o++)a[o]=Rt(e,(o+s)%7,i,"day");return a}function Nt(t,e,n,i){var r=Et(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function zt(t){return t<0?Math.floor(t):Math.ceil(t)}function Ht(t){return 4800*t/146097}function jt(t){return 146097*t/4800}function Wt(t){return function(){return this.as(t)}}function Vt(t){return function(){return this.isValid()?this._data[t]:NaN}}function Ut(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=On(this._milliseconds)/1e3,i=On(this._days),r=On(this._months);e=A((t=A(n/60))/60),n%=60,t%=60;var s=A(r/12),o=r%=12,a=i,l=e,c=t,h=n,u=this.asSeconds();return u?(u<0?"-":"")+"P"+(s?s+"Y":"")+(o?o+"M":"")+(a?a+"D":"")+(l||c||h?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var Yt,qt=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},Zt=m.momentProperties=[],Gt=!1,Kt={};m.suppressDeprecationWarnings=!1,m.deprecationHandler=null;var Xt=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)v(t,e)&&n.push(e);return n},Qt={},Jt={},te=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ee=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ne={},ie={},re=/\d/,se=/\d\d/,oe=/\d{3}/,ae=/\d{4}/,le=/[+-]?\d{6}/,ce=/\d\d?/,he=/\d\d\d\d?/,ue=/\d\d\d\d\d\d?/,de=/\d{1,3}/,fe=/\d{1,4}/,pe=/[+-]?\d{1,6}/,ge=/\d+/,me=/[+-]?\d+/,ve=/Z|[+-]\d\d:?\d\d/gi,ye=/Z|[+-]\d\d(?::?\d\d)?/gi,be=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_e={},we={},xe=0,Ae=1,Ce=2,Ee=3,ke=4,Se=5,Fe=6,Te=7,De=8,Me=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),L("MMMM",0,0,function(t){return this.localeData().months(this,t)}),e("month","M"),n("month",8),R("M",ce),R("MM",ce,se),R("MMM",function(t,e){return e.monthsShortRegex(t)}),R("MMMM",function(t,e){return e.monthsRegex(t)}),N(["M","MM"],function(t,e){e[Ae]=C(t)-1}),N(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Ae]=r:y(n).invalidMonth=t});var Pe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Le="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Be="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),$e=be,Re=be;L("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),e("year","y"),n("year",1),R("Y",me),R("YY",ce,se),R("YYYY",fe,ae),R("YYYYY",pe,le),R("YYYYYY",pe,le),N(["YYYYY","YYYYYY"],xe),N("YYYY",function(t,e){e[xe]=2===t.length?m.parseTwoDigitYear(t):C(t)}),N("YY",function(t,e){e[xe]=m.parseTwoDigitYear(t)}),N("Y",function(t,e){e[xe]=parseInt(t,10)}),m.parseTwoDigitYear=function(t){return C(t)+(68<C(t)?1900:2e3)};var Oe=i("FullYear",!0);L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),e("week","w"),e("isoWeek","W"),n("week",5),n("isoWeek",5),R("w",ce),R("ww",ce,se),R("W",ce),R("WW",ce,se),z(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=C(t)});L("d",0,"do","day"),L("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),L("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),L("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),e("day","d"),e("weekday","e"),e("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),R("d",ce),R("e",ce),R("E",ce),R("dd",function(t,e){return e.weekdaysMinRegex(t)}),R("ddd",function(t,e){return e.weekdaysShortRegex(t)}),R("dddd",function(t,e){return e.weekdaysRegex(t)}),z(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:y(n).invalidWeekday=t}),z(["d","e","E"],function(t,e,n,i){e[i]=C(t)});var Ie="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ne="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),He=be,je=be,We=be;L("H",["HH",2],0,"hour"),L("h",["hh",2],0,J),L("k",["kk",2],0,function(){return this.hours()||24}),L("hmm",0,0,function(){return""+J.apply(this)+P(this.minutes(),2)}),L("hmmss",0,0,function(){return""+J.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)}),tt("a",!0),tt("A",!1),e("hour","h"),n("hour",13),R("a",et),R("A",et),R("H",ce),R("h",ce),R("k",ce),R("HH",ce,se),R("hh",ce,se),R("kk",ce,se),R("hmm",he),R("hmmss",ue),R("Hmm",he),R("Hmmss",ue),N(["H","HH"],Ee),N(["k","kk"],function(t,e,n){var i=C(t);e[Ee]=24===i?0:i}),N(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),N(["h","hh"],function(t,e,n){e[Ee]=C(t),y(n).bigHour=!0}),N("hmm",function(t,e,n){var i=t.length-2;e[Ee]=C(t.substr(0,i)),e[ke]=C(t.substr(i)),y(n).bigHour=!0}),N("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Ee]=C(t.substr(0,i)),e[ke]=C(t.substr(i,2)),e[Se]=C(t.substr(r)),y(n).bigHour=!0}),N("Hmm",function(t,e,n){var i=t.length-2;e[Ee]=C(t.substr(0,i)),e[ke]=C(t.substr(i))}),N("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Ee]=C(t.substr(0,i)),e[ke]=C(t.substr(i,2)),e[Se]=C(t.substr(r))});var Ve,Ue=i("Hours",!0),Ye={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Le,monthsShort:Be,week:{dow:0,doy:6},weekdays:Ie,weekdaysMin:ze,weekdaysShort:Ne,meridiemParse:/[ap]\.?m?\.?/i},qe={},Ze={},Ge=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ke=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Xe=/Z|[+-]\d\d(?::?\d\d)?/,Qe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Je=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],tn=/^\/?Date\((\-?\d+)/i,en=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;m.createFromInputFallback=t("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),m.ISO_8601=function(){},m.RFC_2822=function(){};var nn=t("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=gt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:b()}),rn=t("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=gt.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:b()}),sn=["year","quarter","month","week","day","hour","minute","second","millisecond"];_t("Z",":"),_t("ZZ",""),R("Z",ye),R("ZZ",ye),N(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=wt(ye,t)});var on=/([\+\-]|\d\d)/gi;m.updateOffset=function(){};var an=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ln=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Et.fn=vt.prototype,Et.invalid=function(){return Et(NaN)};var cn=Ft(1,"add"),hn=Ft(-1,"subtract");m.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",m.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var un=t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Pt("gggg","weekYear"),Pt("ggggg","weekYear"),Pt("GGGG","isoWeekYear"),Pt("GGGGG","isoWeekYear"),e("weekYear","gg"),e("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),R("G",me),R("g",me),R("GG",ce,se),R("gg",ce,se),R("GGGG",fe,ae),R("gggg",fe,ae),R("GGGGG",pe,le),R("ggggg",pe,le),z(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=C(t)}),z(["gg","GG"],function(t,e,n,i){e[i]=m.parseTwoDigitYear(t)}),L("Q",0,"Qo","quarter"),e("quarter","Q"),n("quarter",7),R("Q",re),N("Q",function(t,e){e[Ae]=3*(C(t)-1)}),L("D",["DD",2],"Do","date"),e("date","D"),n("date",9),R("D",ce),R("DD",ce,se),R("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),N(["D","DD"],Ce),N("Do",function(t,e){e[Ce]=C(t.match(ce)[0])});var dn=i("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),e("dayOfYear","DDD"),n("dayOfYear",4),R("DDD",de),R("DDDD",oe),N(["DDD","DDDD"],function(t,e,n){n._dayOfYear=C(t)}),L("m",["mm",2],0,"minute"),e("minute","m"),n("minute",14),R("m",ce),R("mm",ce,se),N(["m","mm"],ke);var fn=i("Minutes",!1);L("s",["ss",2],0,"second"),e("second","s"),n("second",15),R("s",ce),R("ss",ce,se),N(["s","ss"],Se);var pn,gn=i("Seconds",!1);for(L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),e("millisecond","ms"),n("millisecond",16),R("S",de,re),R("SS",de,se),R("SSS",de,oe),pn="SSSS";pn.length<=9;pn+="S")R(pn,ge);for(pn="S";pn.length<=9;pn+="S")N(pn,Bt);var mn=i("Milliseconds",!1);L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var vn=w.prototype;vn.add=cn,vn.calendar=function(t,e){var n=t||gt(),i=xt(n,this).startOf("day"),r=m.calendarFormat(this,i)||"sameElse",s=e&&(k(e[r])?e[r].call(this,n):e[r]);return this.format(s||this.localeData().calendar(r,this,gt(n)))},vn.clone=function(){return new w(this)},vn.diff=function(t,e,n){var i,r,s,o,a,l,c,h,u,d;return this.isValid()&&(i=xt(t,this)).isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=F(e))||"month"===e||"quarter"===e?(a=this,u=12*((l=i).year()-a.year())+(l.month()-a.month()),d=a.clone().add(u,"months"),l-d<0?(c=a.clone().add(u-1,"months"),h=(l-d)/(d-c)):(c=a.clone().add(u+1,"months"),h=(l-d)/(c-d)),o=-(u+h)||0,"quarter"===e?o/=3:"year"===e&&(o/=12)):(s=this-i,o="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-r)/864e5:"week"===e?(s-r)/6048e5:s),n?o:A(o)):NaN},vn.endOf=function(t){return void 0===(t=F(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},vn.format=function(t){t||(t=this.isUtc()?m.defaultFormatUtc:m.defaultFormat);var e=B(this,t);return this.localeData().postformat(e)},vn.from=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||gt(t).isValid())?Et({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},vn.fromNow=function(t){return this.from(gt(),t)},vn.to=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||gt(t).isValid())?Et({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},vn.toNow=function(t){return this.to(gt(),t)},vn.get=function(t){return k(this[t=F(t)])?this[t]():this},vn.invalidAt=function(){return y(this).overflow},vn.isAfter=function(t,e){var n=x(t)?t:gt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(c(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},vn.isBefore=function(t,e){var n=x(t)?t:gt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(c(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},vn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},vn.isSame=function(t,e){var n,i=x(t)?t:gt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=F(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},vn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},vn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},vn.isValid=function(){return g(this)},vn.lang=un,vn.locale=Dt,vn.localeData=Mt,vn.max=rn,vn.min=nn,vn.parsingFlags=function(){return f({},y(this))},vn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:Jt[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=T(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(k(this[t=F(t)]))return this[t](e);return this},vn.startOf=function(t){switch(t=F(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},vn.subtract=hn,vn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},vn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},vn.toDate=function(){return new Date(this.valueOf())},vn.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||9999<t.year()?B(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):k(Date.prototype.toISOString)?this.toDate().toISOString():B(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},vn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},vn.toJSON=function(){return this.isValid()?this.toISOString():null},vn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},vn.unix=function(){return Math.floor(this.valueOf()/1e3)},vn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},vn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},vn.year=Oe,vn.isLeapYear=function(){return Y(this.year())},vn.weekYear=function(t){return Lt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},vn.isoWeekYear=function(t){return Lt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},vn.quarter=vn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},vn.month=W,vn.daysInMonth=function(){return H(this.year(),this.month())},vn.week=vn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},vn.isoWeek=vn.isoWeeks=function(t){var e=K(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},vn.weeksInYear=function(){var t=this.localeData()._week;return X(this.year(),t.dow,t.doy)},vn.isoWeeksInYear=function(){return X(this.year(),1,4)},vn.date=dn,vn.day=vn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},vn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},vn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=(n=t,i=this.localeData(),"string"==typeof n?i.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?e:e-7)}var n,i;return this.day()||7},vn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},vn.hour=vn.hours=Ue,vn.minute=vn.minutes=fn,vn.second=vn.seconds=gn,vn.millisecond=vn.milliseconds=mn,vn.utcOffset=function(t,e,n){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=wt(ye,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=At(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?Tt(this,Et(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,m.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:At(this)},vn.utc=function(t){return this.utcOffset(0,t)},vn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(At(this),"m")),this},vn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=wt(ve,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},vn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?gt(t).utcOffset():0,(this.utcOffset()-t)%60==0)},vn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},vn.isLocal=function(){return!!this.isValid()&&!this._isUTC},vn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},vn.isUtc=Ct,vn.isUTC=Ct,vn.zoneAbbr=function(){return this._isUTC?"UTC":""},vn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},vn.dates=t("dates accessor is deprecated. Use date instead.",dn),vn.months=t("months accessor is deprecated. Use month instead",W),vn.years=t("years accessor is deprecated. Use year instead",Oe),vn.zone=t("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),vn.isDSTShifted=t("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t={};if(_(t,this),(t=ft(t))._a){var e=t._isUTC?p(t._a):gt(t._a);this._isDSTShifted=this.isValid()&&0<o(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var yn=S.prototype;yn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return k(i)?i.call(e,n):i},yn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},yn.invalidDate=function(){return this._invalidDate},yn.ordinal=function(t){return this._ordinal.replace("%d",t)},yn.preparse=$t,yn.postformat=$t,yn.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return k(r)?r(t,e,n,i):r.replace(/%d/i,t)},yn.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return k(n)?n(e):n.replace(/%s/i,e)},yn.set=function(t){var e,n;for(n in t)k(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yn.months=function(t,e){return t?a(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Pe).test(e)?"format":"standalone"][t.month()]:a(this._months)?this._months:this._months.standalone},yn.monthsShort=function(t,e){return t?a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Pe.test(e)?"format":"standalone"][t.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yn.monthsParse=function(t,e,n){var i,r,s;if(this._monthsParseExact)return function(t,e,n){var i,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?-1!==(r="MMM"===e?Me.call(this._shortMonthsParse,o):Me.call(this._longMonthsParse,o))?r:null:"MMM"===e?-1!==(r=Me.call(this._shortMonthsParse,o))?r:-1!==(r=Me.call(this._longMonthsParse,o))?r:null:-1!==(r=Me.call(this._longMonthsParse,o))?r:-1!==(r=Me.call(this._shortMonthsParse,o))?r:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},yn.monthsRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||V.call(this),t?this._monthsStrictRegex:this._monthsRegex):(v(this,"_monthsRegex")||(this._monthsRegex=Re),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},yn.monthsShortRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||V.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(v(this,"_monthsShortRegex")||(this._monthsShortRegex=$e),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},yn.week=function(t){return K(t,this._week.dow,this._week.doy).week},yn.firstDayOfYear=function(){return this._week.doy},yn.firstDayOfWeek=function(){return this._week.dow},yn.weekdays=function(t,e){return t?a(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:a(this._weekdays)?this._weekdays:this._weekdays.standalone},yn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},yn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},yn.weekdaysParse=function(t,e,n){var i,r,s;if(this._weekdaysParseExact)return function(t,e,n){var i,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?-1!==(r="dddd"===e?Me.call(this._weekdaysParse,o):"ddd"===e?Me.call(this._shortWeekdaysParse,o):Me.call(this._minWeekdaysParse,o))?r:null:"dddd"===e?-1!==(r=Me.call(this._weekdaysParse,o))?r:-1!==(r=Me.call(this._shortWeekdaysParse,o))?r:-1!==(r=Me.call(this._minWeekdaysParse,o))?r:null:"ddd"===e?-1!==(r=Me.call(this._shortWeekdaysParse,o))?r:-1!==(r=Me.call(this._weekdaysParse,o))?r:-1!==(r=Me.call(this._minWeekdaysParse,o))?r:null:-1!==(r=Me.call(this._minWeekdaysParse,o))?r:-1!==(r=Me.call(this._weekdaysParse,o))?r:-1!==(r=Me.call(this._shortWeekdaysParse,o))?r:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},yn.weekdaysRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Q.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(v(this,"_weekdaysRegex")||(this._weekdaysRegex=He),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},yn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Q.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(v(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=je),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Q.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(v(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=We),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},yn.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},rt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===C(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),m.lang=t("moment.lang is deprecated. Use moment.locale instead.",rt),m.langData=t("moment.langData is deprecated. Use moment.localeData instead.",ot);var bn=Math.abs,_n=Wt("ms"),wn=Wt("s"),xn=Wt("m"),An=Wt("h"),Cn=Wt("d"),En=Wt("w"),kn=Wt("M"),Sn=Wt("y"),Fn=Vt("milliseconds"),Tn=Vt("seconds"),Dn=Vt("minutes"),Mn=Vt("hours"),Pn=Vt("days"),Ln=Vt("months"),Bn=Vt("years"),$n=Math.round,Rn={ss:44,s:45,m:45,h:22,d:26,M:11},On=Math.abs,In=vt.prototype;return In.isValid=function(){return this._isValid},In.abs=function(){var t=this._data;return this._milliseconds=bn(this._milliseconds),this._days=bn(this._days),this._months=bn(this._months),t.milliseconds=bn(t.milliseconds),t.seconds=bn(t.seconds),t.minutes=bn(t.minutes),t.hours=bn(t.hours),t.months=bn(t.months),t.years=bn(t.years),this},In.add=function(t,e){return Nt(this,t,e,1)},In.subtract=function(t,e){return Nt(this,t,e,-1)},In.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=F(t))||"year"===t)return e=this._days+i/864e5,n=this._months+Ht(e),"month"===t?n:n/12;switch(e=this._days+Math.round(jt(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},In.asMilliseconds=_n,In.asSeconds=wn,In.asMinutes=xn,In.asHours=An,In.asDays=Cn,In.asWeeks=En,In.asMonths=kn,In.asYears=Sn,In.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN},In._bubble=function(){var t,e,n,i,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return 0<=s&&0<=o&&0<=a||s<=0&&o<=0&&a<=0||(s+=864e5*zt(jt(a)+o),a=o=0),l.milliseconds=s%1e3,t=A(s/1e3),l.seconds=t%60,e=A(t/60),l.minutes=e%60,n=A(e/60),l.hours=n%24,a+=r=A(Ht(o+=A(n/24))),o-=zt(jt(r)),i=A(a/12),a%=12,l.days=o,l.months=a,l.years=i,this},In.get=function(t){return t=F(t),this.isValid()?this[t+"s"]():NaN},In.milliseconds=Fn,In.seconds=Tn,In.minutes=Dn,In.hours=Mn,In.days=Pn,In.weeks=function(){return A(this.days()/7)},In.months=Ln,In.years=Bn,In.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,i,r,s,o,a,l,c,h,u,d=this.localeData(),f=(n=!t,i=d,r=Et(e=this).abs(),s=$n(r.as("s")),o=$n(r.as("m")),a=$n(r.as("h")),l=$n(r.as("d")),c=$n(r.as("M")),h=$n(r.as("y")),(u=s<=Rn.ss&&["s",s]||s<Rn.s&&["ss",s]||o<=1&&["m"]||o<Rn.m&&["mm",o]||a<=1&&["h"]||a<Rn.h&&["hh",a]||l<=1&&["d"]||l<Rn.d&&["dd",l]||c<=1&&["M"]||c<Rn.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=n,u[3]=0<+e,u[4]=i,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,u));return t&&(f=d.pastFuture(+this,f)),d.postformat(f)},In.toISOString=Ut,In.toString=Ut,In.toJSON=Ut,In.locale=Dt,In.localeData=Mt,In.toIsoString=t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ut),In.lang=un,L("X",0,0,"unix"),L("x",0,0,"valueOf"),R("x",me),R("X",/[+-]?\d+(\.\d{1,3})?/),N("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),N("x",function(t,e,n){n._d=new Date(C(t))}),m.version="2.18.1",Yt=gt,m.fn=vn,m.min=function(){return mt("isBefore",[].slice.call(arguments,0))},m.max=function(){return mt("isAfter",[].slice.call(arguments,0))},m.now=function(){return Date.now?Date.now():+new Date},m.utc=p,m.unix=function(t){return gt(1e3*t)},m.months=function(t,e){return Ot(t,e,"months")},m.isDate=u,m.locale=rt,m.invalid=b,m.duration=Et,m.isMoment=x,m.weekdays=function(t,e,n){return It(t,e,n,"weekdays")},m.parseZone=function(){return gt.apply(null,arguments).parseZone()},m.localeData=ot,m.isDuration=yt,m.monthsShort=function(t,e){return Ot(t,e,"monthsShort")},m.weekdaysMin=function(t,e,n){return It(t,e,n,"weekdaysMin")},m.defineLocale=st,m.updateLocale=function(t,e){if(null!=e){var n,i=Ye;null!=qe[t]&&(i=qe[t]._config),(n=new S(e=r(i,e))).parentLocale=qe[t],qe[t]=n,rt(t)}else null!=qe[t]&&(null!=qe[t].parentLocale?qe[t]=qe[t].parentLocale:null!=qe[t]&&delete qe[t]);return qe[t]},m.locales=function(){return Xt(qe)},m.weekdaysShort=function(t,e,n){return It(t,e,n,"weekdaysShort")},m.normalizeUnits=F,m.relativeTimeRounding=function(t){return void 0===t?$n:"function"==typeof t&&($n=t,!0)},m.relativeTimeThreshold=function(t,e){return void 0!==Rn[t]&&(void 0===e?Rn[t]:(Rn[t]=e,"s"===t&&(Rn.ss=e-1),!0))},m.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},m.prototype=vn,m}),function(t,e){if("object"==typeof exports){var n=e();"object"==typeof module&&module&&module.exports&&(exports=module.exports=n),exports.randomColor=n}else"function"==typeof define&&define.amd?define([],e):t.randomColor=e()}(this,function(){var s=null,a={};t("monochrome",null,[[0,0],[100,0]]),t("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),t("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),t("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),t("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),t("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),t("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),t("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var o=function(t){if(void 0!==(t=t||{}).seed&&null!==t.seed&&t.seed===parseInt(t.seed,10))s=t.seed;else if("string"==typeof t.seed)s=function(t){for(var e=0,n=0;n!==t.length&&!(e>=Number.MAX_SAFE_INTEGER);n++)e+=t.charCodeAt(n);return e}(t.seed);else{if(void 0!==t.seed&&null!==t.seed)throw new TypeError("The seed value must be an integer or string");s=null}var e,n;if(null!==t.count&&void 0!==t.count){var i=t.count,r=[];for(t.count=null;i>r.length;)s&&t.seed&&(t.seed+=1),r.push(o(t));return t.count=i,r}return function(t,e){switch(e.format){case"hsvArray":return t;case"hslArray":return u(t);case"hsl":var n=u(t);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var i=u(t),r=e.alpha||Math.random();return"hsla("+i[0]+", "+i[1]+"%, "+i[2]+"%, "+r+")";case"rgbArray":return c(t);case"rgb":var s=c(t);return"rgb("+s.join(", ")+")";case"rgba":var o=c(t),r=e.alpha||Math.random();return"rgba("+o.join(", ")+", "+r+")";default:return function(t){var e=c(t);function n(t){var e=t.toString(16);return 1==e.length?"0"+e:e}return"#"+n(e[0])+n(e[1])+n(e[2])}(t)}}([e=function(t){var e=l(function(t){if("number"==typeof parseInt(t)){var e=parseInt(t);if(e<360&&0<e)return[e,e]}if("string"==typeof t)if(a[t]){var n=a[t];if(n.hueRange)return n.hueRange}else if(t.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var i=function(t){t=3===(t=t.replace(/^#/,"")).length?t.replace(/(.)/g,"$1$1"):t;var e=parseInt(t.substr(0,2),16)/255,n=parseInt(t.substr(2,2),16)/255,i=parseInt(t.substr(4,2),16)/255,r=Math.max(e,n,i),s=r-Math.min(e,n,i),o=r?s/r:0;switch(r){case e:return[(n-i)/s%6*60||0,o,r];case n:return[60*((i-e)/s+2)||0,o,r];case i:return[60*((e-n)/s+4)||0,o,r]}}(t)[0];return[i,i]}return[0,360]}(t.hue));e<0&&(e=360+e);return e}(t),n=function(t,e){if("monochrome"===e.hue)return 0;if("random"===e.luminosity)return l([0,100]);var n=(s=t,h(s).saturationRange),i=n[0],r=n[1];var s;switch(e.luminosity){case"bright":i=55;break;case"dark":i=r-10;break;case"light":r=55}return l([i,r])}(e,t),function(t,e,n){var i=function(t,e){for(var n=h(t).lowerBounds,i=0;i<n.length-1;i++){var r=n[i][0],s=n[i][1],o=n[i+1][0],a=n[i+1][1];if(r<=e&&e<=o){var l=(a-s)/(o-r),c=s-l*r;return l*e+c}}return 0}(t,e),r=100;switch(n.luminosity){case"dark":r=i+20;break;case"light":i=(r+i)/2;break;case"random":i=0,r=100}return l([i,r])}(e,n,t)],t)};function h(t){for(var e in 334<=t&&t<=360&&(t-=360),a){var n=a[e];if(n.hueRange&&t>=n.hueRange[0]&&t<=n.hueRange[1])return a[e]}return"Color not found"}function l(t){if(null===s)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var e=t[1]||1,n=t[0]||0,i=(s=(9301*s+49297)%233280)/233280;return Math.floor(n+i*(e-n))}function t(t,e,n){var i=n[0][0],r=n[n.length-1][0],s=n[n.length-1][1],o=n[0][1];a[t]={hueRange:e,lowerBounds:n,saturationRange:[i,r],brightnessRange:[s,o]}}function c(t){var e=t[0];0===e&&(e=1),360===e&&(e=359),e/=360;var n=t[1]/100,i=t[2]/100,r=Math.floor(6*e),s=6*e-r,o=i*(1-n),a=i*(1-s*n),l=i*(1-(1-s)*n),c=256,h=256,u=256;switch(r){case 0:c=i,h=l,u=o;break;case 1:c=a,h=i,u=o;break;case 2:c=o,h=i,u=l;break;case 3:c=o,h=a,u=i;break;case 4:c=l,h=o,u=i;break;case 5:c=i,h=o,u=a}return[Math.floor(255*c),Math.floor(255*h),Math.floor(255*u)]}function u(t){var e=t[0],n=t[1]/100,i=t[2]/100,r=(2-n)*i;return[e,Math.round(n*i/(r<1?r:2-r)*1e4)/100,r/2*100]}return o}),function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var r={};i.m=n,i.c=r,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e,n){"use strict";n(2),n(1)},function(t,e,n){"use strict";var i,s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),o=n(3),a=(i=o)&&i.__esModule?i:{default:i},l=function(){function c(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),"addEventListener"in window&&!/MSIE 9/i.test(navigator.userAgent)&&!window.operamini){if(this.defaultSettings={html:!1,position:"top",animation:"shift",animateFill:!0,arrow:!1,delay:0,hideDelay:0,trigger:"mouseenter focus",duration:400,hideDuration:400,interactive:!1,theme:"dark",offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,popperOptions:{}},this.settings=this._applyGlobalSettings(e),this.classNames={popper:"tippy-popper",tooltip:"tippy-tooltip",content:"tippy-tooltip-content"},this.tooltippedEls=t instanceof Element?[t]:[].slice.call(document.querySelectorAll(t)),c.bus||(c.bus={refs:[],tooltippedEls:[],poppers:[],listeners:{}}),!c.bus.listeners.touchstart){c.bus.listeners.touchstart=!0;window.addEventListener("touchstart",function t(){c.touchUser=!0,document.body.classList.add("tippy-touch"),window.removeEventListener("touchstart",t)})}this._createTooltips(),c.bus.listeners.click||this._handleDocumentClick()}}return r(c,[{key:"_closest",value:function(t,e){if(!Element.prototype.matches)if(t.matchesSelector)Element.prototype.matches=Element.prototype.matchesSelector;else if(t.webkitMatchesSelector)Element.prototype.matches=Element.prototype.webkitMatchesSelector;else if(t.mozMatchesSelector)Element.prototype.matches=Element.prototype.mozMatchesSelector;else{if(!t.msMatchesSelector)return t;Element.prototype.matches=Element.prototype.msMatchesSelector}return Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}}),t.closest(e)}},{key:"_applyGlobalSettings",value:function(t){return"function"!=typeof Object.assign&&(Object.assign=function(t,e){for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n}),this.callbacks={beforeShown:t.beforeShown||new Function,shown:t.shown||new Function,beforeHidden:t.beforeHidden||new Function,hidden:t.hidden||new Function},Object.assign(this.defaultSettings,t)}},{key:"_hideAllPoppers",value:function(){var e=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;c.bus.refs.forEach(function(t){document.body.contains(t.popper)&&(n?t.popper!==n.popper&&e.hide(t.popper,t.settings.hideDuration):e.hide(t.popper,t.settings.hideDuration))})}},{key:"_handleDocumentClick",value:function(){var l=this,r=function(t){var e,n,i,r,s=-1,o=-1,a=(e=t,n=l._closest(e,"[data-tooltipped]"),i=l._closest(e,"."+l.classNames.popper),r={},n?(r.type="tooltippedEl",r.target=n):i?(r.type="popper",r.target=i):r=null,r);return a&&("tooltippedEl"===a.type?s=c.bus.tooltippedEls.indexOf(a.target):"popper"===a.type&&(o=c.bus.poppers.indexOf(a.target))),{tooltippedElIndex:s,popperIndex:o}},t=function(t){var e=r(t.target),n=-1!==e.tooltippedElIndex;if(-1===e.popperIndex||!c.bus.refs[e.popperIndex].settings.interactive){if(n){var i=c.bus.refs[e.tooltippedElIndex];if(!i.settings.multiple&&(-1!==i.settings.trigger.indexOf("click")||c.touchUser))return l._hideAllPoppers(i);if(!i.settings.hideOnClick||-1!==i.settings.trigger.indexOf("click"))return}l._hideAllPoppers()}};c.bus.listeners.click=t,document.addEventListener("click",t)}},{key:"_createPopperInstance",value:function(t,e,n){var i=s({placement:n.position},n.popperOptions||{},{modifiers:s({},n.popperOptions?n.popperOptions.modifiers:{},{offset:s({offset:parseInt(n.offset)},n.popperOptions&&n.popperOptions.modifiers?n.popperOptions.modifiers.offset:{})})});document.body.appendChild(e);var r=new a.default(t,e,i);return r.disableEventListeners(),document.body.removeChild(e),r}},{key:"_createPopperElement",value:function(t,e){var n=document.createElement("div");n.setAttribute("class",this.classNames.popper);var i=document.createElement("div");if(i.setAttribute("class",this.classNames.tooltip+" "+e.theme+" leave"),i.setAttribute("data-animation",e.animation),e.arrow){var r=document.createElement("div");r.setAttribute("x-arrow",""),i.appendChild(r)}if(e.animateFill){i.setAttribute("data-animatefill","");var s=document.createElement("div");s.setAttribute("class","leave"),s.setAttribute("x-circle",""),i.appendChild(s)}e.inertia&&i.setAttribute("data-inertia","");var o=document.createElement("div");return o.setAttribute("class",this.classNames.content),e.html?(o.innerHTML=document.getElementById(e.html.replace("#","")).innerHTML,n.classList.add("html-template"),n.setAttribute("tabindex","0"),i.setAttribute("data-template-id",e.html)):o.innerHTML=t,i.appendChild(o),n.appendChild(i),n}},{key:"_applyIndividualSettings",value:function(t){var e=t.getAttribute("data-html")||this.settings.html;e&&"false"!==e||(e=!1);var n=t.getAttribute("data-position")||this.settings.position,i=t.getAttribute("data-animation")||this.settings.animation,r=t.getAttribute("data-animatefill")||this.settings.animateFill;"false"===r&&(r=!1);var s=t.getAttribute("data-arrow")||this.settings.arrow;s&&"false"!==s?r=!1:s=!1;var o=t.getAttribute("data-trigger")||this.settings.trigger;o&&(o=o.trim().split(" "));var a=t.getAttribute("data-theme")||this.settings.theme;a&&(a+="-theme");var l=parseInt(t.getAttribute("data-delay"));l||0===l||(l=this.settings.delay);var c=parseInt(t.getAttribute("data-hidedelay"));c||0===c||(c=this.settings.hideDelay);var h=parseInt(t.getAttribute("data-duration"));h||0===h||(h=this.settings.duration);var u=parseInt(t.getAttribute("data-hideduration"));u||0===u||(u=this.settings.hideDuration);var d=t.getAttribute("data-interactive")||this.settings.interactive;"false"===d&&(d=!1);var f=parseInt(t.getAttribute("data-offset"));f||0===f||(f=this.settings.offset);var p=t.getAttribute("data-hideonclick")||this.settings.hideOnClick;"false"===p&&(p=!1);var g=t.getAttribute("data-multiple")||this.settings.multiple;"false"===g&&(g=!1);var m=t.getAttribute("data-followcursor")||this.settings.followCursor;"false"===m&&(m=!1);var v=t.getAttribute("data-inertia")||this.settings.inertia;return"false"===v&&(v=!1),{html:e,position:n,animation:i,animateFill:r,arrow:s,delay:l,hideDelay:c,trigger:o,duration:h,hideDuration:u,interactive:d,theme:a,offset:f,hideOnClick:p,multiple:g,followCursor:m,inertia:v,popperOptions:this.settings.popperOptions}}},{key:"_getEventListenerMethods",value:function(n,i,r){var s=this,o=function(){if(r.hideDelay){var t=setTimeout(function(){return s.hide(i,r.hideDuration)},r.hideDelay);i.setAttribute("data-hidedelay",t)}else s.hide(i,r.hideDuration)};return{handleTrigger:function(t){if(r.interactive&&t.target.classList.add("active"),"click"===t.type&&"visible"===i.style.visibility&&r.hideOnClick)return o();!function(){if(r.delay){var t=setTimeout(function(){return s.show(i,r.duration)},r.delay);i.setAttribute("data-delay",t)}else s.show(i,r.duration)}()},handleMouseleave:function(t){if(r.interactive){document.addEventListener("mousemove",function t(e){s._closest(e.target,"."+s.classNames.popper)!==i&&s._closest(e.target,"[data-tooltipped]")!==n&&-1===r.trigger.indexOf("click")&&(document.removeEventListener("mousemove",t),n.classList.remove("active"),o())})}else o()},handleBlur:function(t){!c.touchUser&&t.relatedTarget&&(s._closest(t.relatedTarget,"."+s.classNames.popper)||o())}}}},{key:"_createTrigger",value:function(t,e,n,i){if("manual"!==t)return e.addEventListener(t,n.handleTrigger),i.push({event:t,method:n.handleTrigger}),"mouseenter"===t&&(e.addEventListener("mouseleave",n.handleMouseleave),i.push({event:"mouseleave",method:n.handleMouseleave})),"focus"===t&&(e.addEventListener("blur",n.handleBlur),i.push({event:"blur",method:n.handleBlur})),i}},{key:"_pushIntoTippyBus",value:function(t){c.bus.refs.push(t),c.bus.tooltippedEls.push(t.tooltippedEl),c.bus.poppers.push(t.popper)}},{key:"_createTooltips",value:function(){var a=this;this.tooltippedEls.forEach(function(e){var t=a._applyIndividualSettings(e),n=e.getAttribute("title");if(null!==n&&""!==n||t.html){e.setAttribute("data-tooltipped",""),e.setAttribute("data-original-title",n||"html"),e.removeAttribute("title");var i=a._createPopperElement(n,t),r=a._createPopperInstance(e,i,t),s=a._getEventListenerMethods(e,i,t),o=[];t.trigger.forEach(function(t){o=a._createTrigger(t,e,s,o)||[]}),a._pushIntoTippyBus({tooltippedEl:e,popper:i,settings:t,listeners:o,instance:r})}})}},{key:"_followCursor",value:function(t){var e=c.bus.refs[c.bus.tooltippedEls.indexOf(this)],n=e.settings.position,i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,r=Math.round(e.popper.offsetWidth/2),s=Math.round(e.popper.offsetHeight/2),o=t.clientX-r,a=t.clientY+i-50;"left"===n?(o=t.clientX-2*r-10,a=t.clientY+i-s):"right"===n?(o=t.clientX+15,a=t.clientY+i-s):"bottom"===n&&(a=t.clientY+i+15),e.popper.style.WebkitTransform="translate3d("+o+"px, "+a+"px, 0)",e.popper.style.transform="translate3d("+o+"px, "+a+"px, 0)"}},{key:"getPopperElement",value:function(t){try{return c.bus.refs[c.bus.tooltippedEls.indexOf(t)].popper}catch(t){throw new Error("[Tippy error]: Element does not exist in any Tippy instances")}}},{key:"show",value:function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.defaultSettings.duration;if(clearTimeout(t.getAttribute("data-hidedelay")),"visible"!==t.style.visibility){this.callbacks.beforeShown(),t.style.visibility="visible";var i=c.bus.refs[c.bus.poppers.indexOf(t)],r=t.querySelector("."+this.classNames.tooltip),s=t.querySelector("[x-circle]");if(t.querySelector("[x-arrow]"),document.body.appendChild(t),i.settings.followCursor&&!c.touchUser?i.hasFollowCursorListener||(i.hasFollowCursorListener=!0,i.tooltippedEl.addEventListener("mousemove",this._followCursor)):(i.instance.update(),i.instance.enableEventListeners()),getComputedStyle(r).opacity,r.style.WebkitTransitionDuration=n+"ms",r.style.transitionDuration=n+"ms",r.classList.add("enter"),r.classList.remove("leave"),s){var o=getComputedStyle(s);o.transform||o.WebkitTransform,o.transform,s.style.WebkitTransitionDuration=n+"ms",s.style.transitionDuration=n+"ms",s.classList.add("enter"),s.classList.remove("leave")}clearTimeout(i.showTimeout),i.showTimeout=setTimeout(function(){"hidden"!==t.style.visibility&&(-1!==i.settings.trigger.indexOf("click")&&t.focus(),e.callbacks.shown())},n)}}},{key:"hide",value:function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.settings.hideDuration;if(clearTimeout(t.getAttribute("data-delay")),document.body.contains(t)){this.callbacks.beforeHidden(),t.style.visibility="hidden";var i=c.bus.refs[c.bus.poppers.indexOf(t)],r=t.querySelector("."+this.classNames.tooltip),s=t.querySelector("[x-circle]");i.tooltippedEl.classList.remove("active"),r.classList.add("leave"),r.classList.remove("enter"),s&&(s.classList.add("leave"),s.classList.remove("enter")),n===this.defaultSettings.hideDuration?r.style.transitionDuration?n=parseInt(r.style.transitionDuration.replace("ms","")):r.style.WebkitTransitionDuration&&(n=parseInt(r.style.WebkitTransitionDuration.replace("ms",""))):(r.style.WebkitTransitionDuration=n+"ms",r.style.transitionDuration=n+"ms",s&&(s.style.WebkitTransitionDuration=n+"ms",s.style.transitionDuration=n+"ms")),i.settings.html&&-1!==i.settings.trigger.indexOf("click")&&i.tooltippedEl.focus();clearTimeout(i.hideTimeout),i.hideTimeout=setTimeout(function(){"visible"!==t.style.visibility&&(i.hasFollowCursorListener&&(i.tooltippedEl.removeEventListener("mousemove",e._followCursor),i.hasFollowCursorListener=!1),document.body.contains(t)&&document.body.removeChild(t),i.instance.disableEventListeners(),e.callbacks.hidden())},n)}}},{key:"destroy",value:function(t){var e=c.bus.poppers.indexOf(t),n=c.bus.refs[e];n.listeners.forEach(function(t){return n.tooltippedEl.removeEventListener(t.event,t.method)}),n.instance.destroy(),c.bus.poppers.splice(e,1),c.bus.tooltippedEls.splice(e,1),c.bus.refs.splice(e,1)}}]),c}();window.Tippy=l,t.exports=l},function(t,e){},function(t,e,n){t.exports=function(){"use strict";function g(t){var e=t.offsetParent,n=e&&e.nodeName;return n&&"BODY"!==n&&"HTML"!==n?e:window.document.documentElement}function u(t,e){if(1!==t.nodeType)return[];var n=window.getComputedStyle(t,null);return e?n[e]:n}function m(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function v(t){if(!t||-1!==["HTML","BODY","#document"].indexOf(t.nodeName))return window.document.body;var e=u(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll)/.test(n+r+i)?t:v(m(t))}function y(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===u(t,"position")||y(m(t)))}function b(t){return y(g(t))?"fixed":"absolute"}function h(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return Number(t["border"+n+"Width"].split("px")[0])+Number(t["border"+i+"Width"].split("px")[0])}function d(t){var e=-1!==navigator.appVersion.indexOf("MSIE 10"),n=void 0;if(e)try{n=t.getBoundingClientRect()}catch(t){n={}}else n=t.getBoundingClientRect();var i={left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.right-n.left,height:n.bottom-n.top};if("HTML"===t.nodeName&&e){var r=window.document.documentElement,s=r.scrollTop,o=r.scrollLeft;i.top-=s,i.bottom-=s,i.left-=o,i.right-=o}var a=n.width-(t.clientWidth||n.right-n.left),l=n.height-(t.clientHeight||n.bottom-n.top);if(a||l){var c=u(t);a-=h(c,"x"),l-=h(c,"y")}return i.right-=a,i.width-=a,i.bottom-=l,i.height-=l,i}function o(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var r=window.document.documentElement;return(window.document.scrollingElement||r)[n]}return t[n]}function f(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=o(e,"top"),r=o(e,"left"),s=n?-1:1;return t.top+=i*s,t.bottom+=i*s,t.left+=r*s,t.right+=r*s,t}function _(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=v(e),s=d(t),o=d(e),a={top:s.top-o.top,left:s.left-o.left,bottom:s.top-o.top+s.height,right:s.left-o.left+s.width,width:s.width,height:s.height};n&&!i?a=f(a,r,!0):g(t).contains(r)&&"BODY"!==r.nodeName&&(a=f(a,e));var l=u(e),c=Number(l.borderTopWidth.split("px")[0]),h=Number(l.borderLeftWidth.split("px")[0]);return a.top-=c,a.bottom-=c,a.left-=h,a.right-=h,a}function w(){var t=window.document.body,e=window.document.documentElement;return{height:Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight),width:Math.max(t.scrollWidth,t.offsetWidth,e.clientWidth,e.scrollWidth,e.offsetWidth)}}function x(t){var e=void 0;if("HTML"===t.nodeName){var n=w();e={width:n.width,height:n.height,left:0,top:0}}else e={width:t.offsetWidth,height:t.offsetHeight,left:t.offsetLeft,top:t.offsetTop};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function A(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top",n=v(t),i=o(n,e);return-1===["BODY","HTML"].indexOf(n.nodeName)?i+A(m(n),e):i}function a(t,e,n){var i={top:0,left:0},r=g(t);if("viewport"===n){var s=function t(e){var n=x(e);if("HTML"!==e.nodeName){var i=g(e),r=t(i);return{width:n.offsetWidth,height:n.offsetHeight,left:n.left+r.left,top:n.top+r.top,right:n.right-r.right,bottom:n.bottom-r.bottom}}return n}(r),o=s.left,a=s.top,l=window.document.documentElement,c=l.clientWidth,h=l.clientHeight;"fixed"===b(t)?(i.right=c,i.bottom=h):i={top:0-a,right:c-o+A(t,"left"),bottom:h-a+A(t,"top"),left:0-o}}else{var u=void 0;if("BODY"===(u="scrollParent"===n?v(m(t)):"window"===n?window.document.body:n).nodeName){var d=w(),f=d.height,p=d.width;i.right=p,i.bottom=f}else i=_(u,r,y(t))}return i.left+=e,i.top+=e,i.right-=e,i.bottom-=e,i}function l(t,e,n){if(-1===t.indexOf("auto"))return t;var i=a(n,0,"scrollParent"),r={top:e.top-i.top,right:i.right-e.right,bottom:i.bottom-e.bottom,left:e.left-i.left},s=Object.keys(r).sort(function(t,e){return r[e]-r[t]})[0],o=t.split("-")[1];return s+(o?"-"+o:"")}function r(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function i(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=r(t,function(t){return t[e]===n});return t.indexOf(i)}function C(t){return W({},t,{right:t.left+t.width,bottom:t.top+t.height})}function p(t){var e=window.getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),i=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function E(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function k(t,e,n,i){i=i.split("-")[0];var r=p(e),s={position:t,width:r.width,height:r.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",l=o?"left":"top",c=o?"height":"width",h=o?"width":"height";return s[a]=n[a]+n[c]/2-r[c]/2,s[l]=i===l?n[l]-r[h]:n[E(l)],s}function c(t,e,n){var i="fixed"===t.position,r=t.isParentTransformed;return _(n,g(i&&r?n:e),i,r)}function S(t){for(var e=[!1,"ms","webkit","moz","o"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length-1;i++){var r=e[i],s=r?""+r+n:t;if(void 0!==window.document.body.style[s])return s}return null}function F(t){return t&&"[object Function]"==={}.toString.call(t)}function t(t,n){return t.some(function(t){var e=t.name;return t.enabled&&e===n})}function T(t,e,n){var i=r(t,function(t){return t.name===e});return!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order})}function s(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function D(t){return"BODY"!==t.nodeName&&("none"!==u(t,"transform")||(m(t)?D(m(t)):t))}function e(t,e){return window.removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function M(t,e,n){return(void 0===n?t:t.slice(0,i(t,"name",n))).forEach(function(t){t.enabled&&F(t.function)&&(e=t.function(e,t))}),e}function P(e,n){Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})}function L(n,i){Object.keys(i).forEach(function(t){var e="";-1!==["width","height","top","right","bottom","left"].indexOf(t)&&s(i[t])&&(e="px"),n.style[t]=i[t]+e})}function n(t,e,n,i){n.updateBound=i,window.addEventListener("resize",n.updateBound,{passive:!0});var r=v(t);return function t(e,n,i,r){var s="BODY"===e.nodeName,o=s?window:e;o.addEventListener(n,i,{passive:!0}),s||t(v(o.parentNode),n,i,r),r.push(o)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}for(var B=["native code","[object MutationObserverConstructor]"],$=function(e){return B.some(function(t){return-1<(e||"").toString().indexOf(t)})},R="undefined"!=typeof window,O=["Edge","Trident","Firefox"],I=0,N=0;N<O.length;N+=1)if(R&&0<=navigator.userAgent.indexOf(O[N])){I=1;break}var z=R&&$(window.MutationObserver)?function(t){var e=!1,n=0,i=document.createElement("span");return new MutationObserver(function(){t(),e=!1}).observe(i,{attributes:!0}),function(){e||(e=!0,i.setAttribute("x-index",n),n+=1)}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},I))}},H=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),j=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},V={computeAutoPlacement:l,debounce:z,findIndex:i,getBordersSize:h,getBoundaries:a,getBoundingClientRect:d,getClientRect:C,getOffsetParent:g,getOffsetRect:x,getOffsetRectRelativeToCustomParent:_,getOuterSizes:p,getParentNode:m,getPopperOffsets:k,getPosition:b,getReferenceOffsets:c,getScroll:o,getScrollParent:v,getStyleComputedProperty:u,getSupportedPropertyName:S,getTotalScroll:A,getWindowSizes:w,includeScroll:f,isFixed:y,isFunction:F,isModifierEnabled:t,isModifierRequired:T,isNative:$,isNumeric:s,isTransformed:D,removeEventListeners:e,runModifiers:M,setAttributes:P,setStyles:L,setupEventListeners:n},U={placement:"bottom",eventsEnabled:!0,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,function:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets.reference,s=C(t.offsets.popper),o=-1!==["bottom","top"].indexOf(n),a=o?"left":"top",l=o?"width":"height",c={start:j({},a,r[a]),end:j({},a,r[a]+r[l]-s[l])};t.offsets.popper=W({},s,c[i])}return t}},offset:{order:200,enabled:!0,function:function(l,t){var c=l.placement,e=l.offsets.popper,n=void 0;return n=s(t.offset)?[t.offset,0]:(n=t.offset.split(" ")).map(function(t,e){var n=t.match(/(\d*\.?\d*)(.*)/),i=+n[1],r=n[2],s=-1!==c.indexOf("right")||-1!==c.indexOf("left");1===e&&(s=!s);var o=s?"height":"width";if(0===r.indexOf("%")){var a=void 0;switch(r){case"%p":a=l.offsets.popper;break;case"%":case"$r":default:a=l.offsets.reference}return C(a)[o]/100*i}return"vh"===r||"vw"===r?("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i:"px"===r?+i:+t}),-1!==l.placement.indexOf("left")?(e.top+=n[0],e.left-=n[1]||0):-1!==l.placement.indexOf("right")?(e.top+=n[0],e.left+=n[1]||0):-1!==l.placement.indexOf("top")?(e.left+=n[0],e.top-=n[1]||0):-1!==l.placement.indexOf("bottom")&&(e.left+=n[0],e.top+=n[1]||0),l},offset:0},preventOverflow:{order:300,enabled:!0,function:function(t,i){var e=i.boundariesElement||g(t.instance.popper),r=a(t.instance.popper,i.padding,e);i.boundaries=r;var n=i.priority,s=C(t.offsets.popper),o={primary:function(t){var e=s[t];return s[t]<r[t]&&!i.escapeWithReference&&(e=Math.max(s[t],r[t])),j({},t,e)},secondary:function(t){var e="right"===t?"left":"top",n=s[e];return s[t]>r[t]&&!i.escapeWithReference&&(n=Math.min(s[e],r[t]-("right"===t?s.width:s.height))),j({},e,n)}};return n.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";s=W({},s,o[e](t))}),t.offsets.popper=s,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,function:function(t){var e=C(t.offsets.popper),n=t.offsets.reference,i=t.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(i),o=s?"right":"bottom",a=s?"left":"top",l=s?"width":"height";return e[o]<r(n[a])&&(t.offsets.popper[a]=r(n[a])-e[l]),e[a]>r(n[o])&&(t.offsets.popper[a]=r(n[o])),t}},arrow:{order:500,enabled:!0,function:function(t,e){if(!T(t.instance.modifiers,"arrow","keepTogether"))return console.warn("WARNING: `keepTogether` modifier is required by arrow modifier in order to work, be sure to include it before `arrow`!"),t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],r=C(t.offsets.popper),s=t.offsets.reference,o=-1!==["left","right"].indexOf(i),a=o?"height":"width",l=o?"top":"left",c=o?"left":"top",h=o?"bottom":"right",u=p(n)[a];s[h]-u<r[l]&&(t.offsets.popper[l]-=r[l]-(s[h]-u)),s[l]+u>r[h]&&(t.offsets.popper[l]+=s[l]+u-r[h]);var d=s[l]+s[a]/2-u/2-C(t.offsets.popper)[l];return d=Math.max(Math.min(r[a]-u,d),0),t.arrowElement=n,t.offsets.arrow={},t.offsets.arrow[l]=d,t.offsets.arrow[c]="",t},element:"[x-arrow]"},flip:{order:600,enabled:!0,function:function(p,g){if(t(p.instance.modifiers,"inner"))return p;if(p.flipped&&p.placement===p.originalPlacement)return p;var m=a(p.instance.popper,g.padding,g.boundariesElement),v=p.placement.split("-")[0],y=E(v),b=p.placement.split("-")[1]||"",_=[];return(_="flip"===g.behavior?[v,y]:g.behavior).forEach(function(t,e){if(v!==t||_.length===e+1)return p;v=p.placement.split("-")[0],y=E(v);var n,i=C(p.offsets.popper),r=p.offsets.reference,s=Math.floor,o="left"===v&&s(i.right)>s(r.left)||"right"===v&&s(i.left)<s(r.right)||"top"===v&&s(i.bottom)>s(r.top)||"bottom"===v&&s(i.top)<s(r.bottom),a=s(i.left)<s(m.left),l=s(i.right)>s(m.right),c=s(i.top)<s(m.top),h=s(i.bottom)>s(m.bottom),u="left"===v&&a||"right"===v&&l||"top"===v&&c||"bottom"===v&&h,d=-1!==["top","bottom"].indexOf(v),f=!!g.flipVariations&&(d&&"start"===b&&a||d&&"end"===b&&l||!d&&"start"===b&&c||!d&&"end"===b&&h);(o||u||f)&&(p.flipped=!0,(o||u)&&(v=_[e+1]),f&&(b="end"===(n=b)?"start":"start"===n?"end":n),p.placement=v+(b?"-"+b:""),p.offsets.popper=k(p.instance.state.position,p.instance.popper,p.offsets.reference,p.placement),p=M(p.instance.modifiers,p,"flip"))}),p},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,function:function(t){var e=t.placement,n=e.split("-")[0],i=C(t.offsets.popper),r=C(t.offsets.reference),s=-1!==["left","right"].indexOf(n),o=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=r[e]-(o?i[s?"width":"height"]:0),t.placement=E(e),t.offsets.popper=C(i),t}},hide:{order:800,enabled:!0,function:function(t){if(!T(t.instance.modifiers,"hide","preventOverflow"))return console.warn("WARNING: preventOverflow modifier is required by hide modifier in order to work, be sure to include it before hide!"),t;var e=t.offsets.reference,n=r(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},applyStyle:{order:900,enabled:!0,gpuAcceleration:!0,function:function(t,e){var n={position:t.offsets.popper.position},i={"x-placement":t.placement},r=Math.round(t.offsets.popper.left),s=Math.round(t.offsets.popper.top),o=S("transform");return e.gpuAcceleration&&o?(n[o]="translate3d("+r+"px, "+s+"px, 0)",n.top=0,n.left=0,n.willChange="transform"):(n.left=r,n.top=s,n.willChange="top, left"),L(t.instance.popper,W({},n,t.styles)),P(t.instance.popper,W({},i,t.attributes)),t.offsets.arrow&&L(t.arrowElement,t.offsets.arrow),t},onLoad:function(t,e,n,i,r){var s=c(r,e,t);return n.placement=l(n.placement,s,e),e.setAttribute("x-placement",n.placement),n}}}},Y=function(){function s(t,e){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,s),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=z(this.update.bind(this)),this.options=W({},s.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t.jquery?t[0]:t,this.popper=e.jquery?e[0]:e,this.modifiers=Object.keys(s.Defaults.modifiers).map(function(t){return W({name:t},s.Defaults.modifiers[t])}),this.modifiers=this.modifiers.map(function(t){var e=i.modifiers&&i.modifiers[t.name]||{};return W({},t,e)}),i.modifiers&&(this.options.modifiers=W({},s.Defaults.modifiers,i.modifiers),Object.keys(i.modifiers).forEach(function(t){if(void 0===s.Defaults.modifiers[t]){var e=i.modifiers[t];e.name=t,n.modifiers.push(e)}})),this.state.position=b(this.reference),this.modifiers=this.modifiers.sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&F(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)}),this.state.isParentTransformed=D(this.popper.parentNode),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return H(s,[{key:"update",value:function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},attributes:{},flipped:!1,offsets:{}};this.state.position=b(this.reference),L(this.popper,{position:this.state.position}),t.offsets.reference=c(this.state,this.popper,this.reference),t.placement=l(this.options.placement,t.offsets.reference,this.popper),t.originalPlacement=this.options.placement,t.offsets.popper=k(this.state,this.popper,t.offsets.reference,t.placement),t=M(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}},{key:"destroy",value:function(){return this.state.isDestroyed=!0,t(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[S("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}},{key:"enableEventListeners",value:function(){this.state.eventsEnabled||(this.state=n(this.reference,this.options,this.state,this.scheduleUpdate))}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=e(this.reference,this.state))}}]),s}();return Y.Utils=V,Y.placements=["auto","auto-start","auto-end","top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],Y.Defaults=U,Y}()},function(t,e,n){t.exports=n(0)}]),function(l){"use strict";var c={},h=function(t){var e,n,i,r,s;h.classes.dispatcher.extend(this);var o=this,a=t||{};if("string"==typeof a||a instanceof HTMLElement?a={renderers:[a]}:"[object Array]"===Object.prototype.toString.call(a)&&(a={renderers:a}),r=a.renderers||a.renderer||a.container,a.renderers&&0!==a.renderers.length||("string"==typeof r||r instanceof HTMLElement||"object"==typeof r&&"container"in r)&&(a.renderers=[r]),a.id){if(c[a.id])throw'sigma: Instance "'+a.id+'" already exists.';Object.defineProperty(this,"id",{value:a.id})}else{for(s=0;c[s];)s++;Object.defineProperty(this,"id",{value:""+s})}for((c[this.id]=this).settings=new h.classes.configurable(h.settings,a.settings||{}),Object.defineProperty(this,"graph",{value:new h.classes.graph(this.settings),configurable:!0}),Object.defineProperty(this,"middlewares",{value:[],configurable:!0}),Object.defineProperty(this,"cameras",{value:{},configurable:!0}),Object.defineProperty(this,"renderers",{value:{},configurable:!0}),Object.defineProperty(this,"renderersPerCamera",{value:{},configurable:!0}),Object.defineProperty(this,"cameraFrames",{value:{},configurable:!0}),Object.defineProperty(this,"camera",{get:function(){return this.cameras[0]}}),Object.defineProperty(this,"events",{value:["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","doubleClickNode","doubleClickNodes","rightClickNode","rightClickNodes","overNode","overNodes","outNode","outNodes","downNode","downNodes","upNode","upNodes"],configurable:!0}),this._handler=function(t){var e,n={};for(e in t.data)n[e]=t.data[e];n.renderer=t.target,this.dispatchEvent(t.type,n)}.bind(this),e=0,n=(i=a.renderers||[]).length;e<n;e++)this.addRenderer(i[e]);for(e=0,n=(i=a.middlewares||[]).length;e<n;e++)this.middlewares.push("string"==typeof i[e]?h.middlewares[i[e]]:i[e]);"object"==typeof a.graph&&a.graph&&(this.graph.read(a.graph),this.refresh()),window.addEventListener("resize",function(){o.settings&&o.refresh()})};if(h.prototype.addCamera=function(t){var e,n=this;if(!arguments.length){for(t=0;this.cameras[""+t];)t++;t=""+t}if(this.cameras[t])throw'sigma.addCamera: The camera "'+t+'" already exists.';return e=new h.classes.camera(t,this.graph,this.settings),(this.cameras[t]=e).quadtree=new h.classes.quad,h.classes.edgequad!==l&&(e.edgequadtree=new h.classes.edgequad),e.bind("coordinatesUpdated",function(){n.renderCamera(e,e.isAnimated)}),this.renderersPerCamera[t]=[],e},h.prototype.killCamera=function(t){if(!(t="string"==typeof t?this.cameras[t]:t))throw"sigma.killCamera: The camera is undefined.";var e,n=this.renderersPerCamera[t.id];for(e=n.length-1;0<=e;e--)this.killRenderer(n[e]);return delete this.renderersPerCamera[t.id],delete this.cameraFrames[t.id],delete this.cameras[t.id],t.kill&&t.kill(),this},h.prototype.addRenderer=function(t){var e,n,i,r,s=t||{};if("string"==typeof s?s={container:document.getElementById(s)}:s instanceof HTMLElement&&(s={container:s}),"string"==typeof s.container&&(s.container=document.getElementById(s.container)),"id"in s)e=s.id;else{for(e=0;this.renderers[""+e];)e++;e=""+e}if(this.renderers[e])throw'sigma.addRenderer: The renderer "'+e+'" already exists.';if(n=(n="function"==typeof s.type?s.type:h.renderers[s.type])||h.renderers.def,i="camera"in s?s.camera instanceof h.classes.camera?s.camera:this.cameras[s.camera]||this.addCamera(s.camera):this.addCamera(),this.cameras[i.id]!==i)throw"sigma.addRenderer: The camera is not properly referenced.";return r=new n(this.graph,i,this.settings,s),this.renderers[e]=r,Object.defineProperty(r,"id",{value:e}),r.bind&&r.bind(["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","clickEdge","clickEdges","doubleClickNode","doubleClickNodes","doubleClickEdge","doubleClickEdges","rightClickNode","rightClickNodes","rightClickEdge","rightClickEdges","overNode","overNodes","overEdge","overEdges","outNode","outNodes","outEdge","outEdges","downNode","downNodes","downEdge","downEdges","upNode","upNodes","upEdge","upEdges"],this._handler),this.renderersPerCamera[i.id].push(r),r},h.prototype.killRenderer=function(t){if(!(t="string"==typeof t?this.renderers[t]:t))throw"sigma.killRenderer: The renderer is undefined.";var e=this.renderersPerCamera[t.camera.id],n=e.indexOf(t);return 0<=n&&e.splice(n,1),t.kill&&t.kill(),delete this.renderers[t.id],this},h.prototype.refresh=function(t){var e,n,i,r,s,o,a=0;for(t=t||{},e=0,n=(r=this.middlewares||[]).length;e<n;e++)r[e].call(this,0===e?"":"tmp"+a+":",e===n-1?"ready:":"tmp"+ ++a+":");for(i in this.cameras)(s=this.cameras[i]).settings("autoRescale")&&this.renderersPerCamera[s.id]&&this.renderersPerCamera[s.id].length?h.middlewares.rescale.call(this,r.length?"ready:":"",s.readPrefix,{width:this.renderersPerCamera[s.id][0].width,height:this.renderersPerCamera[s.id][0].height}):h.middlewares.copy.call(this,r.length?"ready:":"",s.readPrefix),t.skipIndexation||(o=h.utils.getBoundaries(this.graph,s.readPrefix),s.quadtree.index(this.graph.nodes(),{prefix:s.readPrefix,bounds:{x:o.minX,y:o.minY,width:o.maxX-o.minX,height:o.maxY-o.minY}}),s.edgequadtree!==l&&s.settings("drawEdges")&&s.settings("enableEdgeHovering")&&s.edgequadtree.index(this.graph,{prefix:s.readPrefix,bounds:{x:o.minX,y:o.minY,width:o.maxX-o.minX,height:o.maxY-o.minY}}));for(e=0,n=(r=Object.keys(this.renderers)).length;e<n;e++)if(this.renderers[r[e]].process)if(this.settings("skipErrors"))try{this.renderers[r[e]].process()}catch(t){console.log('Warning: The renderer "'+r[e]+'" crashed on ".process()"')}else this.renderers[r[e]].process();return this.render(),this},h.prototype.render=function(){var e,t,n;for(e=0,t=(n=Object.keys(this.renderers)).length;e<t;e++)if(this.settings("skipErrors"))try{this.renderers[n[e]].render()}catch(t){this.settings("verbose")&&console.log('Warning: The renderer "'+n[e]+'" crashed on ".render()"')}else this.renderers[n[e]].render();return this},h.prototype.renderCamera=function(t,e){var n,i,r,s=this;if(e)for(n=0,i=(r=this.renderersPerCamera[t.id]).length;n<i;n++)if(this.settings("skipErrors"))try{r[n].render()}catch(t){this.settings("verbose")&&console.log('Warning: The renderer "'+r[n].id+'" crashed on ".render()"')}else r[n].render();else if(!this.cameraFrames[t.id]){for(n=0,i=(r=this.renderersPerCamera[t.id]).length;n<i;n++)if(this.settings("skipErrors"))try{r[n].render()}catch(t){this.settings("verbose")&&console.log('Warning: The renderer "'+r[n].id+'" crashed on ".render()"')}else r[n].render();this.cameraFrames[t.id]=requestAnimationFrame(function(){delete s.cameraFrames[t.id]})}return this},h.prototype.kill=function(){var t;for(t in this.dispatchEvent("kill"),this.graph.kill(),delete this.middlewares,this.renderers)this.killRenderer(this.renderers[t]);for(t in this.cameras)this.killCamera(this.cameras[t]);for(t in delete this.renderers,delete this.cameras,this)this.hasOwnProperty(t)&&delete this[t];delete c[this.id]},h.instances=function(t){return arguments.length?c[t]:h.utils.extend({},c)},h.version="1.1.0",void 0!==this.sigma)throw"An object called sigma is already in the global scope.";this.sigma=h}.call(this),function(t){"use strict";function o(t,e){var n,i,r,s,o,a,l=Array.isArray(t)?t:t.split(/ /);for(e=void 0===e?{}:e,n=0,r=l.length;n!==r;n+=1)if(a=l[n],A[a])for(o={type:a,data:e||{}},i=0,s=A[a].length;i!==s;i+=1)try{A[a][i].handler(o)}catch(t){}}function i(){var t,e,n,i,r=!1,s=f(),o=y.shift();if(n=o.job(),s=f()-s,o.done++,o.time+=s,o.currentTime+=s,o.weightTime=o.currentTime/(o.weight||1),o.averageTime=o.time/o.done,!(i=o.count?o.count<=o.done:!n)){for(t=0,e=y.length;t<e;t++)if(y[t].weightTime>o.weightTime){y.splice(t,0,o),r=!0;break}r||y.push(o)}return i?o:null}function r(t){var e=y.length;(v[t.id]=t).status="running",e&&(t.weightTime=y[e-1].weightTime,t.currentTime=t.weightTime*(t.weight||1)),t.startTime=f(),o("jobStarted",u(t)),y.push(t)}function a(){var t,e,n;for(t in m)(e=m[t]).after?b[t]=e:r(e),delete m[t];for(g=!!y.length;y.length&&f()-p<x.frameDuration;)if(n=i())for(t in l(n.id),b)b[t].after===n.id&&(r(b[t]),delete b[t]);g?(p=f(),o("enterFrame"),setTimeout(a,0)):o("stop")}function l(t){var e,n,i,r,s=!1;if(Array.isArray(t))for(e=0,n=t.length;e<n;e++)l(t[e]);else{if("string"!=typeof t)throw new Error("[conrad.killJob] Wrong arguments.");for(e=0,n=(i=[v,b,m]).length;e<n;e++)t in i[e]&&(r=i[e][t],x.history&&(r.status="done",_.push(r)),o("jobEnded",u(r)),delete i[e][t],"function"==typeof r.end&&r.end(),s=!0);for(e=0,n=(i=y).length;e<n;e++)if(i[e].id===t){i.splice(e,1);break}if(!s)throw new Error('[conrad.killJob] Job "'+t+'" not found.')}return this}function c(t){var e=m[t]||v[t]||b[t];return e?h(e):null}function h(){var t,e,n={};for(t=arguments.length-1;0<=t;t--)for(e in arguments[t])n[e]=arguments[t][e];return n}function u(t){var e,n,i;if(!t)return t;if(Array.isArray(t))for(e=[],n=0,i=t.length;n<i;n++)e.push(u(t[n]));else if("object"==typeof t)for(n in e={},t)e[n]=u(t[n]);else e=t;return e}function d(t){var e,n=[];for(e in t)n.push(t[e]);return n}function f(){return Date.now?Date.now():(new Date).getTime()}if(t.conrad)throw new Error("conrad already exists");var p,g=!1,m={},v={},y=[],b={},_=[],w=!1,x={frameDuration:20,history:!0},A=Object.create(null);Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var e={hasJob:c,addJob:function t(e,n){var i,r,s;if(Array.isArray(e)){for(w=!0,i=0,r=e.length;i<r;i++)t(e[i].id,h(e[i],n));w=!1,g||(p=f(),o("start"),a())}else if("object"==typeof e)if("string"==typeof e.id)t(e.id,e);else{for(i in w=!0,e)"function"==typeof e[i]?t(i,h({job:e[i]},n)):t(i,h(e[i],n));w=!1,g||(p=f(),o("start"),a())}else{if("string"!=typeof e)throw new Error("[conrad.addJob] Wrong arguments.");if(c(e))throw new Error('[conrad.addJob] Job with id "'+e+'" already exists.');if("function"==typeof n)s={id:e,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0,job:n};else{if("object"!=typeof n)throw new Error("[conrad.addJob] Wrong arguments.");s=h({id:e,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0},n)}o("jobAdded",u(m[e]=s)),g||w||(p=f(),o("start"),a())}return this},killJob:l,killAll:function(){var t,e=h(m,v,b);if(x.history)for(t in e)e[t].status="done",_.push(e[t]),"function"==typeof e[t].end&&e[t].end();return m={},b={},v={},y=[],g=!1,this},settings:function(){var t;if("string"==typeof a1&&1===arguments.length)return x[a1];for(var e in t="object"==typeof a1&&1===arguments.length&&a1||{},"string"==typeof a1&&(t[a1]=a2),t)void 0!==t[e]?x[e]=t[e]:delete x[e];return this},getStats:function(t,e){var n,i,r,s,o,a,l;if(!arguments.length){for(i in o=[],m)o.push(m[i]);for(i in b)o.push(b[i]);for(i in v)o.push(v[i]);o=o.concat(_)}if("string"==typeof t)switch(t){case"waiting":o=d(b);break;case"running":o=d(v);break;case"done":o=_;break;default:a=t}if(t instanceof RegExp&&(a=t),!a&&("string"==typeof e||e instanceof RegExp)&&(a=e),a){if(l="string"==typeof a,o instanceof Array)n=o;else if("object"==typeof o)for(i in n=[],o)n=n.concat(o[i]);else{for(i in n=[],m)n.push(m[i]);for(i in b)n.push(b[i]);for(i in v)n.push(v[i]);n=n.concat(_)}for(o=[],r=0,s=n.length;r<s;r++)(l?n[r].id===a:n[r].id.match(a))&&o.push(n[r])}return u(o)},isRunning:function(){return g},clearHistory:function(){return _=[],this},bind:function t(e,n){var i,r,s,o;if(arguments.length)if(1===arguments.length&&Object(e)===e)for(e in e)t(e,e[e]);else if(1<arguments.length)for(i=0,r=(o=Array.isArray(e)?e:e.split(/ /)).length;i!==r;i+=1)s=o[i],A[s]||(A[s]=[]),A[s].push({handler:n})},unbind:function(t,e){var n,i,r,s,o,a,l=Array.isArray(t)?t:t.split(/ /);if(arguments.length)if(e)for(n=0,i=l.length;n!==i;n+=1){if(a=l[n],A[a]){for(o=[],r=0,s=A[a].length;r!==s;r+=1)A[a][r].handler!==e&&o.push(A[a][r]);A[a]=o}A[a]&&0===A[a].length&&delete A[a]}else for(n=0,i=l.length;n!==i;n+=1)delete A[l[n]];else A=Object.create(null)},version:"0.1.0"};"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.conrad=e),t.conrad=e}(this),function(n){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";var t,e=this;sigma.utils=sigma.utils||{},sigma.utils.extend=function(){var t,e,n={};for(t=arguments.length-1;0<=t;t--)for(e in arguments[t])n[e]=arguments[t][e];return n},sigma.utils.dateNow=function(){return Date.now?Date.now():(new Date).getTime()},sigma.utils.pkg=function(t){return(t||"").split(".").reduce(function(t,e){return e in t?t[e]:t[e]={}},e)},sigma.utils.id=(t=0,function(){return++t});var o={};sigma.utils.floatColor=function(t){if(o[t])return o[t];var e=t,n=0,i=0,r=0;"#"===t[0]?3===(t=t.slice(1)).length?(n=parseInt(t.charAt(0)+t.charAt(0),16),i=parseInt(t.charAt(1)+t.charAt(1),16),r=parseInt(t.charAt(2)+t.charAt(2),16)):(n=parseInt(t.charAt(0)+t.charAt(1),16),i=parseInt(t.charAt(2)+t.charAt(3),16),r=parseInt(t.charAt(4)+t.charAt(5),16)):t.match(/^ *rgba? *\(/)&&(n=+(t=t.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/))[1],i=+t[2],r=+t[3]);var s=256*n*256+256*i+r;return o[e]=s},sigma.utils.zoomTo=function(t,e,n,i,r){var s,o,a,l=t.settings;(o=Math.max(l("zoomMin"),Math.min(l("zoomMax"),t.ratio*i)))!==t.ratio&&(a={x:e*(1-(i=o/t.ratio))+t.x,y:n*(1-i)+t.y,ratio:o},r&&r.duration?(s=sigma.misc.animation.killAll(t),r=sigma.utils.extend(r,{easing:s?"quadraticOut":"quadraticInOut"}),sigma.misc.animation.camera(t,a,r)):(t.goTo(a),r&&r.onComplete&&r.onComplete()))},sigma.utils.getQuadraticControlPoint=function(t,e,n,i){return{x:(t+n)/2+(i-e)/4,y:(e+i)/2+(t-n)/4}},sigma.utils.getPointOnQuadraticCurve=function(t,e,n,i,r,s,o){return{x:Math.pow(1-t,2)*e+2*(1-t)*t*s+Math.pow(t,2)*i,y:Math.pow(1-t,2)*n+2*(1-t)*t*o+Math.pow(t,2)*r}},sigma.utils.getPointOnBezierCurve=function(t,e,n,i,r,s,o,a,l){var c=Math.pow(1-t,3),h=3*t*Math.pow(1-t,2),u=3*Math.pow(t,2)*(1-t),d=Math.pow(t,3);return{x:c*e+h*s+u*a+d*i,y:c*n+h*o+u*l+d*r}},sigma.utils.getSelfLoopControlPoints=function(t,e,n){return{x1:t-7*n,y1:e,x2:t,y2:e+7*n}},sigma.utils.getDistance=function(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))},sigma.utils.getCircleIntersection=function(t,e,n,i,r,s){var o,a,l,c,h,u,d,f,p;return a=i-t,l=r-e,!(n+s<(c=Math.sqrt(l*l+a*a)))&&(!(c<Math.abs(n-s))&&(p=e+l*(o=(n*n-s*s+c*c)/(2*c))/c,{xi:(f=t+a*o/c)+(u=(h=Math.sqrt(n*n-o*o))/c*-l),xi_prime:f-u,yi:p+(d=a*(h/c)),yi_prime:p-d}))},sigma.utils.isPointOnSegment=function(t,e,n,i,r,s,o){return Math.abs((e-i)*(r-n)-(t-n)*(s-i))/sigma.utils.getDistance(n,i,r,s)<o&&Math.min(n,r)<=t&&t<=Math.max(n,r)&&Math.min(i,s)<=e&&e<=Math.max(i,s)},sigma.utils.isPointOnQuadraticCurve=function(t,e,n,i,r,s,o,a,l){var c=sigma.utils.getDistance(n,i,r,s);if(Math.abs(t-n)>c||Math.abs(e-i)>c)return!1;for(var h,u=.5,d=sigma.utils.getDistance(t,e,n,i)<sigma.utils.getDistance(t,e,r,s)?-.01:.01,f=100,p=sigma.utils.getPointOnQuadraticCurve(u,n,i,r,s,o,a),g=sigma.utils.getDistance(t,e,p.x,p.y);0<f--&&0<=u&&u<=1&&l<g&&(.001<d||d<-.001);)h=g,p=sigma.utils.getPointOnQuadraticCurve(u,n,i,r,s,o,a),h<(g=sigma.utils.getDistance(t,e,p.x,p.y))?u+=d=-d/2:u+d<0||1<u+d?(d/=2,g=h):u+=d;return g<l},sigma.utils.isPointOnBezierCurve=function(t,e,n,i,r,s,o,a,l,c,h){var u=sigma.utils.getDistance(n,i,o,a);if(Math.abs(t-n)>u||Math.abs(e-i)>u)return!1;for(var d,f=.5,p=sigma.utils.getDistance(t,e,n,i)<sigma.utils.getDistance(t,e,r,s)?-.01:.01,g=100,m=sigma.utils.getPointOnBezierCurve(f,n,i,r,s,o,a,l,c),v=sigma.utils.getDistance(t,e,m.x,m.y);0<g--&&0<=f&&f<=1&&h<v&&(.001<p||p<-.001);)d=v,m=sigma.utils.getPointOnBezierCurve(f,n,i,r,s,o,a,l,c),d<(v=sigma.utils.getDistance(t,e,m.x,m.y))?f+=p=-p/2:f+p<0||1<f+p?(p/=2,v=d):f+=p;return v<h},sigma.utils.getX=function(t){return t.offsetX!==n&&t.offsetX||t.layerX!==n&&t.layerX||t.clientX!==n&&t.clientX},sigma.utils.getY=function(t){return t.offsetY!==n&&t.offsetY||t.layerY!==n&&t.layerY||t.clientY!==n&&t.clientY},sigma.utils.getPixelRatio=function(){var t=1;return window.screen.deviceXDPI!==n&&window.screen.logicalXDPI!==n&&window.screen.deviceXDPI>window.screen.logicalXDPI?t=window.screen.systemXDPI/window.screen.logicalXDPI:window.devicePixelRatio!==n&&(t=window.devicePixelRatio),t},sigma.utils.getWidth=function(t){var e=t.target.ownerSVGElement?t.target.ownerSVGElement.width:t.target.width;return"number"==typeof e&&e||e!==n&&e.baseVal!==n&&e.baseVal.value},sigma.utils.getCenter=function(t){var e=-1!==t.target.namespaceURI.indexOf("svg")?1:sigma.utils.getPixelRatio();return{x:sigma.utils.getWidth(t)/(2*e),y:sigma.utils.getHeight(t)/(2*e)}},sigma.utils.mouseCoords=function(t,e,n){return e=e||sigma.utils.getX(t),n=n||sigma.utils.getY(t),{x:e-sigma.utils.getCenter(t).x,y:n-sigma.utils.getCenter(t).y,clientX:t.clientX,clientY:t.clientY,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,shiftKey:t.shiftKey}},sigma.utils.getHeight=function(t){var e=t.target.ownerSVGElement?t.target.ownerSVGElement.height:t.target.height;return"number"==typeof e&&e||e!==n&&e.baseVal!==n&&e.baseVal.value},sigma.utils.getDelta=function(t){return t.wheelDelta!==n&&t.wheelDelta||t.detail!==n&&-t.detail},sigma.utils.getOffset=function(t){for(var e=0,n=0;t;)n+=parseInt(t.offsetTop),e+=parseInt(t.offsetLeft),t=t.offsetParent;return{top:n,left:e}},sigma.utils.doubleClick=function(t,e,n){var i,r=0;t._doubleClickHandler=t._doubleClickHandler||{},t._doubleClickHandler[e]=t._doubleClickHandler[e]||[],(i=t._doubleClickHandler[e]).push(function(t){return 2===++r?(r=0,n(t)):void(1===r&&setTimeout(function(){r=0},sigma.settings.doubleClickTimeout))}),t.addEventListener(e,i[i.length-1],!1)},sigma.utils.unbindDoubleClick=function(t,e){for(var n,i=(t._doubleClickHandler||{})[e]||[];n=i.pop();)t.removeEventListener(e,n);delete(t._doubleClickHandler||{})[e]},sigma.utils.easings=sigma.utils.easings||{},sigma.utils.easings.linearNone=function(t){return t},sigma.utils.easings.quadraticIn=function(t){return t*t},sigma.utils.easings.quadraticOut=function(t){return t*(2-t)},sigma.utils.easings.quadraticInOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},sigma.utils.easings.cubicIn=function(t){return t*t*t},sigma.utils.easings.cubicOut=function(t){return--t*t*t+1},sigma.utils.easings.cubicInOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},sigma.utils.loadShader=function(t,e,n,i){var r=t.createShader(n);return t.shaderSource(r,e),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(i&&i('Error compiling shader "'+r+'":'+t.getShaderInfoLog(r)),t.deleteShader(r),null)},sigma.utils.loadProgram=function(t,e,n,i,r){var s,o=t.createProgram();for(s=0;s<e.length;++s)t.attachShader(o,e[s]);if(n)for(s=0;s<n.length;++s)t.bindAttribLocation(o,locations?locations[s]:s,opt_attribs[s]);return t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)?o:(r&&r("Error in program linking: "+t.getProgramInfoLog(o)),t.deleteProgram(o),null)},sigma.utils.pkg("sigma.utils.matrices"),sigma.utils.matrices.translation=function(t,e){return[1,0,0,0,1,0,t,e,1]},sigma.utils.matrices.rotation=function(t,e){var n=Math.cos(t),i=Math.sin(t);return e?[n,-i,i,n]:[n,-i,0,i,n,0,0,0,1]},sigma.utils.matrices.scale=function(t,e){return e?[t,0,0,t]:[t,0,0,0,t,0,0,0,1]},sigma.utils.matrices.multiply=function(t,e,n){var i=n?2:3,r=t[0*i+0],s=t[0*i+1],o=t[0*i+2],a=t[1*i+0],l=t[1*i+1],c=t[1*i+2],h=t[2*i+0],u=t[2*i+1],d=t[2*i+2],f=e[0*i+0],p=e[0*i+1],g=e[0*i+2],m=e[1*i+0],v=e[1*i+1],y=e[1*i+2],b=e[2*i+0],_=e[2*i+1],w=e[2*i+2];return n?[r*f+s*m,r*p+s*v,a*f+l*m,a*p+l*v]:[r*f+s*m+o*b,r*p+s*v+o*_,r*g+s*y+o*w,a*f+l*m+c*b,a*p+l*v+c*_,a*g+l*y+c*w,h*f+u*m+d*b,h*p+u*v+d*_,h*g+u*y+d*w]}}.call(this),function(r){"use strict";var t,s=0,e=["ms","moz","webkit","o"];for(t=0;t<e.length&&!r.requestAnimationFrame;t++)r.requestAnimationFrame=r[e[t]+"RequestAnimationFrame"],r.cancelAnimationFrame=r[e[t]+"CancelAnimationFrame"]||r[e[t]+"CancelRequestAnimationFrame"];r.requestAnimationFrame||(r.requestAnimationFrame=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-s)),i=r.setTimeout(function(){t(e+n)},n);return s=e+n,i}),r.cancelAnimationFrame||(r.cancelAnimationFrame=function(t){clearTimeout(t)}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e,n,i=Array.prototype.slice.call(arguments,1),r=this;return n=function(){return r.apply(this instanceof e&&t?this:t,i.concat(Array.prototype.slice.call(arguments)))},(e=function(){}).prototype=this.prototype,n.prototype=new e,n})}(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.settings");sigma.settings=sigma.utils.extend(sigma.settings||{},{clone:!0,immutable:!0,verbose:!1,classPrefix:"sigma",defaultNodeType:"def",defaultEdgeType:"def",defaultLabelColor:"#000",defaultEdgeColor:"#000",defaultNodeColor:"#000",defaultLabelSize:14,edgeColor:"source",minArrowSize:0,font:"arial",fontStyle:"",labelColor:"default",labelSize:"fixed",labelSizeRatio:1,labelThreshold:8,webglOversamplingRatio:2,borderSize:0,defaultNodeBorderColor:"#000",hoverFont:"",singleHover:!0,hoverFontStyle:"",labelHoverShadow:"default",labelHoverShadowColor:"#000",nodeHoverColor:"node",defaultNodeHoverColor:"#000",labelHoverBGColor:"default",defaultHoverLabelBGColor:"#fff",labelHoverColor:"default",defaultLabelHoverColor:"#000",edgeHoverColor:"edge",edgeHoverSizeRatio:1,defaultEdgeHoverColor:"#000",edgeHoverExtremities:!1,drawEdges:!0,drawNodes:!0,drawLabels:!0,drawEdgeLabels:!1,batchEdgesDrawing:!1,hideEdgesOnMove:!1,canvasEdgesBatchSize:500,webglEdgesBatchSize:1e3,scalingMode:"inside",sideMargin:0,minEdgeSize:.5,maxEdgeSize:1,minNodeSize:1,maxNodeSize:8,touchEnabled:!0,mouseEnabled:!0,mouseWheelEnabled:!0,doubleClickEnabled:!0,eventsEnabled:!0,zoomingRatio:1.7,doubleClickZoomingRatio:2.2,zoomMin:.0625,zoomMax:2,mouseZoomDuration:200,doubleClickZoomDuration:200,mouseInertiaDuration:200,mouseInertiaRatio:3,touchInertiaDuration:200,touchInertiaRatio:3,doubleClickTimeout:300,doubleTapTimeout:300,dragTimeout:200,autoResize:!0,autoRescale:!0,enableCamera:!0,enableHovering:!0,enableEdgeHovering:!1,edgeHoverPrecision:5,rescaleIgnoreSize:!1,skipErrors:!1,nodesPowRatio:.5,edgesPowRatio:.5,animationsTime:200})}.call(this),function(){"use strict";var i=function(){Object.defineProperty(this,"_handlers",{value:{}})};i.prototype.bind=function(t,e){var n,i,r,s;if(1===arguments.length&&"object"==typeof t)for(t in t)this.bind(t,t[t]);else{if(2!==arguments.length||"function"!=typeof e)throw"bind: Wrong arguments.";for(n=0,i=(s="string"==typeof t?t.split(" "):t).length;n!==i;n+=1)(r=s[n])&&(this._handlers[r]||(this._handlers[r]=[]),this._handlers[r].push({handler:e}))}return this},i.prototype.unbind=function(t,e){var n,i,r,s,o,a,l,c="string"==typeof t?t.split(" "):t;if(!arguments.length){for(o in this._handlers)delete this._handlers[o];return this}if(e)for(n=0,i=c.length;n!==i;n+=1){if(l=c[n],this._handlers[l]){for(a=[],r=0,s=this._handlers[l].length;r!==s;r+=1)this._handlers[l][r].handler!==e&&a.push(this._handlers[l][r]);this._handlers[l]=a}this._handlers[l]&&0===this._handlers[l].length&&delete this._handlers[l]}else for(n=0,i=c.length;n!==i;n+=1)delete this._handlers[c[n]];return this},i.prototype.dispatchEvent=function(t,e){var n,i,r,s,o,a,l,c="string"==typeof t?t.split(" "):t;for(e=void 0===e?{}:e,n=0,i=c.length;n!==i;n+=1)if(l=c[n],this._handlers[l]){for(a=this.getEvent(l,e),o=[],r=0,s=this._handlers[l].length;r!==s;r+=1)this._handlers[l][r].handler(a),this._handlers[l][r].one||o.push(this._handlers[l][r]);this._handlers[l]=o}return this},i.prototype.getEvent=function(t,e){return{type:t,data:e||{},target:this}},i.extend=function(t,e){var n;for(n in i.prototype)i.prototype.hasOwnProperty(n)&&(t[n]=i.prototype[n]);i.apply(t,e)},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.dispatcher=i):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=i),exports.dispatcher=i):this.dispatcher=i}.call(this),function(){"use strict";var n=function(){var t,e,o={},a=Array.prototype.slice.call(arguments,0),l=function(t,e){var n,i,r,s;if(1!==arguments.length||"string"!=typeof t){if("object"==typeof t&&"string"==typeof e)return void 0!==(t||{})[e]?t[e]:l(e);for(n="object"==typeof t&&void 0===e?t:{},"string"==typeof t&&(n[t]=e),i=0,r=(s=Object.keys(n)).length;i<r;i++)o[s[i]]=n[s[i]];return this}if(void 0!==o[t])return o[t];for(i=0,r=a.length;i<r;i++)if(void 0!==a[i][t])return a[i][t]};for(l.embedObjects=function(){var t=a.concat(o).concat(Array.prototype.splice.call(arguments,0));return n.apply({},t)},t=0,e=arguments.length;t<e;t++)l(arguments[t]);return l};void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.configurable=n):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.configurable=n):this.configurable=n}.call(this),function(){"use strict";function r(n,i,r){return function(){var t,e;for(t in l[n])l[n][t].apply(i,arguments);for(t in e=r.apply(i,arguments),a[n])a[n][t].apply(i,arguments);return e}}function t(t){var e;for(e in t)"hasOwnProperty"in t&&!t.hasOwnProperty(e)||delete t[e];return t}var s=Object.create(null),i=Object.create(null),o=Object.create(null),a=Object.create(null),l=Object.create(null),e={immutable:!0,clone:!0},c=function(t){return e[t]},h=function(t){var e,n,i;for(e in i={settings:t||c,nodesArray:[],edgesArray:[],nodesIndex:Object.create(null),edgesIndex:Object.create(null),inNeighborsIndex:Object.create(null),outNeighborsIndex:Object.create(null),allNeighborsIndex:Object.create(null),inNeighborsCount:Object.create(null),outNeighborsCount:Object.create(null),allNeighborsCount:Object.create(null)},o)o[e].call(i);for(e in s)n=r(e,i,s[e]),this[e]=n,i[e]=n};h.addMethod=function(t,e){if("string"!=typeof t||"function"!=typeof e||2!==arguments.length)throw"addMethod: Wrong arguments.";if(s[t]||h[t])throw'The method "'+t+'" already exists.';return s[t]=e,a[t]=Object.create(null),l[t]=Object.create(null),this},h.hasMethod=function(t){return!(!s[t]&&!h[t])},h.attach=function(t,e,n,i){if("string"!=typeof t||"string"!=typeof e||"function"!=typeof n||arguments.length<3||4<arguments.length)throw"attach: Wrong arguments.";var r;if("constructor"===t)r=o;else if(i){if(!l[t])throw'The method "'+t+'" does not exist.';r=l[t]}else{if(!a[t])throw'The method "'+t+'" does not exist.';r=a[t]}if(r[e])throw'A function "'+e+'" is already attached to the method "'+t+'".';return r[e]=n,this},h.attachBefore=function(t,e,n){return this.attach(t,e,n,!0)},h.addIndex=function(t,e){if("string"!=typeof t||Object(e)!==e||2!==arguments.length)throw"addIndex: Wrong arguments.";if(i[t])throw'The index "'+t+'" already exists.';var n;for(n in i[t]=e){if("function"!=typeof e[n])throw"The bindings must be functions.";h.attach(n,t,e[n])}return this},h.addMethod("addNode",function(t){if(Object(t)!==t||1!==arguments.length)throw"addNode: Wrong arguments.";if("string"!=typeof t.id&&"number"!=typeof t.id)throw"The node must have a string or number id.";if(this.nodesIndex[t.id])throw'The node "'+t.id+'" already exists.';var e,n=t.id,i=Object.create(null);if(this.settings("clone"))for(e in t)"id"!==e&&(i[e]=t[e]);else i=t;return this.settings("immutable")?Object.defineProperty(i,"id",{value:n,enumerable:!0}):i.id=n,this.inNeighborsIndex[n]=Object.create(null),this.outNeighborsIndex[n]=Object.create(null),this.allNeighborsIndex[n]=Object.create(null),this.inNeighborsCount[n]=0,this.outNeighborsCount[n]=0,this.allNeighborsCount[n]=0,this.nodesArray.push(i),this.nodesIndex[i.id]=i,this}),h.addMethod("addEdge",function(t){if(Object(t)!==t||1!==arguments.length)throw"addEdge: Wrong arguments.";if("string"!=typeof t.id&&"number"!=typeof t.id)throw"The edge must have a string or number id.";if("string"!=typeof t.source&&"number"!=typeof t.source||!this.nodesIndex[t.source])throw"The edge source must have an existing node id.";if("string"!=typeof t.target&&"number"!=typeof t.target||!this.nodesIndex[t.target])throw"The edge target must have an existing node id.";if(this.edgesIndex[t.id])throw'The edge "'+t.id+'" already exists.';var e,n=Object.create(null);if(this.settings("clone"))for(e in t)"id"!==e&&"source"!==e&&"target"!==e&&(n[e]=t[e]);else n=t;return this.settings("immutable")?(Object.defineProperty(n,"id",{value:t.id,enumerable:!0}),Object.defineProperty(n,"source",{value:t.source,enumerable:!0}),Object.defineProperty(n,"target",{value:t.target,enumerable:!0})):(n.id=t.id,n.source=t.source,n.target=t.target),this.edgesArray.push(n),this.edgesIndex[n.id]=n,this.inNeighborsIndex[n.target][n.source]||(this.inNeighborsIndex[n.target][n.source]=Object.create(null)),this.inNeighborsIndex[n.target][n.source][n.id]=n,this.outNeighborsIndex[n.source][n.target]||(this.outNeighborsIndex[n.source][n.target]=Object.create(null)),this.outNeighborsIndex[n.source][n.target][n.id]=n,this.allNeighborsIndex[n.source][n.target]||(this.allNeighborsIndex[n.source][n.target]=Object.create(null)),(this.allNeighborsIndex[n.source][n.target][n.id]=n).target!==n.source&&(this.allNeighborsIndex[n.target][n.source]||(this.allNeighborsIndex[n.target][n.source]=Object.create(null)),this.allNeighborsIndex[n.target][n.source][n.id]=n),this.inNeighborsCount[n.target]++,this.outNeighborsCount[n.source]++,this.allNeighborsCount[n.target]++,this.allNeighborsCount[n.source]++,this}),h.addMethod("dropNode",function(t){if("string"!=typeof t&&"number"!=typeof t||1!==arguments.length)throw"dropNode: Wrong arguments.";if(!this.nodesIndex[t])throw'The node "'+t+'" does not exist.';var e,n,i;for(delete this.nodesIndex[t],e=0,i=this.nodesArray.length;e<i;e++)if(this.nodesArray[e].id===t){this.nodesArray.splice(e,1);break}for(e=this.edgesArray.length-1;0<=e;e--)(this.edgesArray[e].source===t||this.edgesArray[e].target===t)&&this.dropEdge(this.edgesArray[e].id);for(n in delete this.inNeighborsIndex[t],delete this.outNeighborsIndex[t],delete this.allNeighborsIndex[t],delete this.inNeighborsCount[t],delete this.outNeighborsCount[t],delete this.allNeighborsCount[t],this.nodesIndex)delete this.inNeighborsIndex[n][t],delete this.outNeighborsIndex[n][t],delete this.allNeighborsIndex[n][t];return this}),h.addMethod("dropEdge",function(t){if("string"!=typeof t&&"number"!=typeof t||1!==arguments.length)throw"dropEdge: Wrong arguments.";if(!this.edgesIndex[t])throw'The edge "'+t+'" does not exist.';var e,n,i;for(i=this.edgesIndex[t],delete this.edgesIndex[t],e=0,n=this.edgesArray.length;e<n;e++)if(this.edgesArray[e].id===t){this.edgesArray.splice(e,1);break}return delete this.inNeighborsIndex[i.target][i.source][i.id],Object.keys(this.inNeighborsIndex[i.target][i.source]).length||delete this.inNeighborsIndex[i.target][i.source],delete this.outNeighborsIndex[i.source][i.target][i.id],Object.keys(this.outNeighborsIndex[i.source][i.target]).length||delete this.outNeighborsIndex[i.source][i.target],delete this.allNeighborsIndex[i.source][i.target][i.id],Object.keys(this.allNeighborsIndex[i.source][i.target]).length||delete this.allNeighborsIndex[i.source][i.target],i.target!==i.source&&(delete this.allNeighborsIndex[i.target][i.source][i.id],Object.keys(this.allNeighborsIndex[i.target][i.source]).length||delete this.allNeighborsIndex[i.target][i.source]),this.inNeighborsCount[i.target]--,this.outNeighborsCount[i.source]--,this.allNeighborsCount[i.source]--,this.allNeighborsCount[i.target]--,this}),h.addMethod("kill",function(){this.nodesArray.length=0,this.edgesArray.length=0,delete this.nodesArray,delete this.edgesArray,delete this.nodesIndex,delete this.edgesIndex,delete this.inNeighborsIndex,delete this.outNeighborsIndex,delete this.allNeighborsIndex,delete this.inNeighborsCount,delete this.outNeighborsCount,delete this.allNeighborsCount}),h.addMethod("clear",function(){return this.nodesArray.length=0,this.edgesArray.length=0,t(this.nodesIndex),t(this.edgesIndex),t(this.nodesIndex),t(this.inNeighborsIndex),t(this.outNeighborsIndex),t(this.allNeighborsIndex),t(this.inNeighborsCount),t(this.outNeighborsCount),t(this.allNeighborsCount),this}),h.addMethod("read",function(t){var e,n,i;for(e=0,i=(n=t.nodes||[]).length;e<i;e++)this.addNode(n[e]);for(e=0,i=(n=t.edges||[]).length;e<i;e++)this.addEdge(n[e]);return this}),h.addMethod("nodes",function(t){if(!arguments.length)return this.nodesArray.slice(0);if(1===arguments.length&&("string"==typeof t||"number"==typeof t))return this.nodesIndex[t];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(t)){var e,n,i=[];for(e=0,n=t.length;e<n;e++){if("string"!=typeof t[e]&&"number"!=typeof t[e])throw"nodes: Wrong arguments.";i.push(this.nodesIndex[t[e]])}return i}throw"nodes: Wrong arguments."}),h.addMethod("degree",function(t,e){if(e={in:this.inNeighborsCount,out:this.outNeighborsCount}[e||""]||this.allNeighborsCount,"string"==typeof t||"number"==typeof t)return e[t];if("[object Array]"===Object.prototype.toString.call(t)){var n,i,r=[];for(n=0,i=t.length;n<i;n++){if("string"!=typeof t[n]&&"number"!=typeof t[n])throw"degree: Wrong arguments.";r.push(e[t[n]])}return r}throw"degree: Wrong arguments."}),h.addMethod("edges",function(t){if(!arguments.length)return this.edgesArray.slice(0);if(1===arguments.length&&("string"==typeof t||"number"==typeof t))return this.edgesIndex[t];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(t)){var e,n,i=[];for(e=0,n=t.length;e<n;e++){if("string"!=typeof t[e]&&"number"!=typeof t[e])throw"edges: Wrong arguments.";i.push(this.edgesIndex[t[e]])}return i}throw"edges: Wrong arguments."}),"undefined"!=typeof sigma?(sigma.classes=sigma.classes||Object.create(null),sigma.classes.graph=h):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports.graph=h):this.graph=h}.call(this),function(p){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.classes"),sigma.classes.camera=function(t,e,n,i){sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"graph",{value:e}),Object.defineProperty(this,"id",{value:t}),Object.defineProperty(this,"readPrefix",{value:"read_cam"+t+":"}),Object.defineProperty(this,"prefix",{value:"cam"+t+":"}),this.x=0,this.y=0,this.ratio=1,this.angle=0,this.isAnimated=!1,this.settings="object"==typeof i&&i?n.embedObject(i):n},sigma.classes.camera.prototype.goTo=function(t){if(!this.settings("enableCamera"))return this;var e,n,i=t||{},r=["x","y","ratio","angle"];for(e=0,n=r.length;e<n;e++)if(i[r[e]]!==p){if("number"!=typeof i[r[e]]||isNaN(i[r[e]]))throw'Value for "'+r[e]+'" is not a number.';this[r[e]]=i[r[e]]}return this.dispatchEvent("coordinatesUpdated"),this},sigma.classes.camera.prototype.applyView=function(t,e,n){n=n||{},e=e!==p?e:this.prefix,t=t!==p?t:this.readPrefix;var i,r,s,o=n.nodes||this.graph.nodes(),a=n.edges||this.graph.edges(),l=Math.cos(this.angle),c=Math.sin(this.angle),h=Math.pow(this.ratio,this.settings("nodesPowRatio")),u=Math.pow(this.ratio,this.settings("edgesPowRatio")),d=(n.width||0)/2,f=(n.height||0)/2;for(i=0,r=o.length;i<r;i++)(s=o[i])[e+"x"]=(((s[t+"x"]||0)-this.x)*l+((s[t+"y"]||0)-this.y)*c)/this.ratio+d,s[e+"y"]=(((s[t+"y"]||0)-this.y)*l-((s[t+"x"]||0)-this.x)*c)/this.ratio+f,s[e+"size"]=(s[t+"size"]||0)/h;for(i=0,r=a.length;i<r;i++)a[i][e+"size"]=(a[i][t+"size"]||0)/u;return this},sigma.classes.camera.prototype.graphPosition=function(t,e,n){var i=0,r=0,s=Math.cos(this.angle),o=Math.sin(this.angle);return n||(i=-(this.x*s+this.y*o)/this.ratio,r=-(this.y*s-this.x*o)/this.ratio),{x:(t*s+e*o)/this.ratio+i,y:(e*s-t*o)/this.ratio+r}},sigma.classes.camera.prototype.cameraPosition=function(t,e,n){var i=0,r=0,s=Math.cos(this.angle),o=Math.sin(this.angle);return n||(i=-(this.x*s+this.y*o)/this.ratio,r=-(this.y*s-this.x*o)/this.ratio),{x:((t-i)*s-(e-r)*o)*this.ratio,y:((e-r)*s+(t-i)*o)*this.ratio}},sigma.classes.camera.prototype.getMatrix=function(){var t=sigma.utils.matrices.scale(1/this.ratio),e=sigma.utils.matrices.rotation(this.angle),n=sigma.utils.matrices.translation(-this.x,-this.y);return sigma.utils.matrices.multiply(n,sigma.utils.matrices.multiply(e,t))},sigma.classes.camera.prototype.getRectangle=function(t,e){var n=this.cameraPosition(t,0,!0),i=this.cameraPosition(0,e,!0),r=this.cameraPosition(t/2,e/2,!0),s=this.cameraPosition(t/4,0,!0).x,o=this.cameraPosition(0,e/4,!0).y;return{x1:this.x-r.x-s,y1:this.y-r.y-o,x2:this.x-r.x+s+n.x,y2:this.y-r.y-o+n.y,height:Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y+2*o,2))}}}.call(this),function(h){"use strict";function a(t,e){for(var n=[],i=0;i<4;i++)t.x2>=e[i][0].x&&t.x1<=e[i][1].x&&t.y1+t.height>=e[i][0].y&&t.y1<=e[i][2].y&&n.push(i);return n}function l(t,e){for(var n=[],i=0;i<4;i++)d.collision(t,e[i])&&n.push(i);return n}function o(t,e){var n,i,r=e.level+1,s=Math.round(e.bounds.width/2),o=Math.round(e.bounds.height/2),a=Math.round(e.bounds.x),l=Math.round(e.bounds.y);switch(t){case 0:n=a,i=l;break;case 1:n=a+s,i=l;break;case 2:n=a,i=l+o;break;case 3:n=a+s,i=l+o}return u({x:n,y:i,width:s,height:o},r,e.maxElements,e.maxLevel)}function c(t,e,n){if(n.level<n.maxLevel)for(var i=a(e,n.corners),r=0,s=i.length;r<s;r++)n.nodes[i[r]]===h&&(n.nodes[i[r]]=o(i[r],n)),c(t,e,n.nodes[i[r]]);else n.elements.push(t)}function u(t,e,n,i){return{level:e||0,bounds:t,corners:d.splitSquare(t),maxElements:n||20,maxLevel:i||4,elements:[],nodes:[]}}var d={pointToSquare:function(t){return{x1:t.x-t.size,y1:t.y-t.size,x2:t.x+t.size,y2:t.y-t.size,height:2*t.size}},isAxisAligned:function(t){return t.x1===t.x2||t.y1===t.y2},axisAlignedTopPoints:function(t){return t.y1===t.y2&&t.x1<t.x2?t:t.x1===t.x2&&t.y2>t.y1?{x1:t.x1-t.height,y1:t.y1,x2:t.x1,y2:t.y1,height:t.height}:t.x1===t.x2&&t.y2<t.y1?{x1:t.x1,y1:t.y2,x2:t.x2+t.height,y2:t.y2,height:t.height}:{x1:t.x2,y1:t.y1-t.height,x2:t.x1,y2:t.y1-t.height,height:t.height}},lowerLeftCoor:function(t){var e=Math.sqrt(Math.pow(t.x2-t.x1,2)+Math.pow(t.y2-t.y1,2));return{x:t.x1-(t.y2-t.y1)*t.height/e,y:t.y1+(t.x2-t.x1)*t.height/e}},lowerRightCoor:function(t,e){return{x:e.x-t.x1+t.x2,y:e.y-t.y1+t.y2}},rectangleCorners:function(t){var e=this.lowerLeftCoor(t),n=this.lowerRightCoor(t,e);return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:e.x,y:e.y},{x:n.x,y:n.y}]},splitSquare:function(t){return[[{x:t.x,y:t.y},{x:t.x+t.width/2,y:t.y},{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2}],[{x:t.x+t.width/2,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2}],[{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x,y:t.y+t.height},{x:t.x+t.width/2,y:t.y+t.height}],[{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height}]]},axis:function(t,e){return[{x:t[1].x-t[0].x,y:t[1].y-t[0].y},{x:t[1].x-t[3].x,y:t[1].y-t[3].y},{x:e[0].x-e[2].x,y:e[0].y-e[2].y},{x:e[0].x-e[1].x,y:e[0].y-e[1].y}]},projection:function(t,e){var n=(t.x*e.x+t.y*e.y)/(Math.pow(e.x,2)+Math.pow(e.y,2));return{x:n*e.x,y:n*e.y}},axisCollision:function(t,e,n){for(var i=[],r=[],s=0;s<4;s++){var o=this.projection(e[s],t),a=this.projection(n[s],t);i.push(o.x*t.x+o.y*t.y),r.push(a.x*t.x+a.y*t.y)}var l=Math.max.apply(Math,i),c=Math.max.apply(Math,r),h=Math.min.apply(Math,i);return Math.min.apply(Math,r)<=l&&h<=c},collision:function(t,e){for(var n=this.axis(t,e),i=!0,r=0;r<4;r++)i=i&&this.axisCollision(n[r],t,e);return i}},t=function(){this._geom=d,this._tree=null,this._cache={query:!1,result:!1}};t.prototype.index=function(t,e){if(!e.bounds)throw"sigma.classes.quad.index: bounds information not given.";var n=e.prefix||"";this._tree=u(e.bounds,0,e.maxElements,e.maxLevel);for(var i=0,r=t.length;i<r;i++)c(t[i],d.pointToSquare({x:t[i][n+"x"],y:t[i][n+"y"],size:t[i][n+"size"]}),this._tree);return this._cache={query:!1,result:!1},this._tree},t.prototype.point=function(t,e){return this._tree&&function t(e,n){if(n.level<n.maxLevel){var i=(r=e,s=n.bounds,o=s.x+s.width/2,a=s.y+s.height/2,l=r.y<a,c=r.x<o,l?c?0:1:c?2:3);return n.nodes[i]!==h?t(e,n.nodes[i]):[]}var r,s,o,a,l,c;return n.elements}({x:t,y:e},this._tree)||[]},t.prototype.area=function(t){var e,n,i=JSON.stringify(t);if(this._cache.query===i)return this._cache.result;d.isAxisAligned(t)?(e=a,n=d.axisAlignedTopPoints(t)):(e=l,n=d.rectangleCorners(t));var r=this._tree?function t(e,n,i,r){if(r=r||{},n.level<n.maxLevel)for(var s=i(e,n.corners),o=0,a=s.length;o<a;o++)n.nodes[s[o]]!==h&&t(e,n.nodes[s[o]],i,r);else for(var l=0,c=n.elements.length;l<c;l++)r[n.elements[l].id]===h&&(r[n.elements[l].id]=n.elements[l]);return r}(n,this._tree,e):[],s=[];for(var o in r)s.push(r[o]);return this._cache.query=i,this._cache.result=s},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.quad=t):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.quad=t):this.quad=t}.call(this),function(h){"use strict";function a(t,e){for(var n=[],i=0;i<4;i++)t.x2>=e[i][0].x&&t.x1<=e[i][1].x&&t.y1+t.height>=e[i][0].y&&t.y1<=e[i][2].y&&n.push(i);return n}function l(t,e){for(var n=[],i=0;i<4;i++)f.collision(t,e[i])&&n.push(i);return n}function o(t,e){var n,i,r=e.level+1,s=Math.round(e.bounds.width/2),o=Math.round(e.bounds.height/2),a=Math.round(e.bounds.x),l=Math.round(e.bounds.y);switch(t){case 0:n=a,i=l;break;case 1:n=a+s,i=l;break;case 2:n=a,i=l+o;break;case 3:n=a+s,i=l+o}return d({x:n,y:i,width:s,height:o},r,e.maxElements,e.maxLevel)}function u(t,e,n){if(n.level<n.maxLevel)for(var i=a(e,n.corners),r=0,s=i.length;r<s;r++)n.nodes[i[r]]===h&&(n.nodes[i[r]]=o(i[r],n)),u(t,e,n.nodes[i[r]]);else n.elements.push(t)}function d(t,e,n,i){return{level:e||0,bounds:t,corners:f.splitSquare(t),maxElements:n||40,maxLevel:i||8,elements:[],nodes:[]}}var f={pointToSquare:function(t){return{x1:t.x-t.size,y1:t.y-t.size,x2:t.x+t.size,y2:t.y-t.size,height:2*t.size}},lineToSquare:function(t){return t.y1<t.y2?t.x1<t.x2?{x1:t.x1-t.size,y1:t.y1-t.size,x2:t.x2+t.size,y2:t.y1-t.size,height:t.y2-t.y1+2*t.size}:{x1:t.x2-t.size,y1:t.y1-t.size,x2:t.x1+t.size,y2:t.y1-t.size,height:t.y2-t.y1+2*t.size}:t.x1<t.x2?{x1:t.x1-t.size,y1:t.y2-t.size,x2:t.x2+t.size,y2:t.y2-t.size,height:t.y1-t.y2+2*t.size}:{x1:t.x2-t.size,y1:t.y2-t.size,x2:t.x1+t.size,y2:t.y2-t.size,height:t.y1-t.y2+2*t.size}},quadraticCurveToSquare:function(t,e){var n=sigma.utils.getPointOnQuadraticCurve(.5,t.x1,t.y1,t.x2,t.y2,e.x,e.y),i=Math.min(t.x1,t.x2,n.x),r=Math.max(t.x1,t.x2,n.x),s=Math.min(t.y1,t.y2,n.y),o=Math.max(t.y1,t.y2,n.y);return{x1:i-t.size,y1:s-t.size,x2:r+t.size,y2:s-t.size,height:o-s+2*t.size}},selfLoopToSquare:function(t){var e=sigma.utils.getSelfLoopControlPoints(t.x,t.y,t.size),n=Math.min(t.x,e.x1,e.x2),i=Math.max(t.x,e.x1,e.x2),r=Math.min(t.y,e.y1,e.y2),s=Math.max(t.y,e.y1,e.y2);return{x1:n-t.size,y1:r-t.size,x2:i+t.size,y2:r-t.size,height:s-r+2*t.size}},isAxisAligned:function(t){return t.x1===t.x2||t.y1===t.y2},axisAlignedTopPoints:function(t){return t.y1===t.y2&&t.x1<t.x2?t:t.x1===t.x2&&t.y2>t.y1?{x1:t.x1-t.height,y1:t.y1,x2:t.x1,y2:t.y1,height:t.height}:t.x1===t.x2&&t.y2<t.y1?{x1:t.x1,y1:t.y2,x2:t.x2+t.height,y2:t.y2,height:t.height}:{x1:t.x2,y1:t.y1-t.height,x2:t.x1,y2:t.y1-t.height,height:t.height}},lowerLeftCoor:function(t){var e=Math.sqrt(Math.pow(t.x2-t.x1,2)+Math.pow(t.y2-t.y1,2));return{x:t.x1-(t.y2-t.y1)*t.height/e,y:t.y1+(t.x2-t.x1)*t.height/e}},lowerRightCoor:function(t,e){return{x:e.x-t.x1+t.x2,y:e.y-t.y1+t.y2}},rectangleCorners:function(t){var e=this.lowerLeftCoor(t),n=this.lowerRightCoor(t,e);return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:e.x,y:e.y},{x:n.x,y:n.y}]},splitSquare:function(t){return[[{x:t.x,y:t.y},{x:t.x+t.width/2,y:t.y},{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2}],[{x:t.x+t.width/2,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2}],[{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x,y:t.y+t.height},{x:t.x+t.width/2,y:t.y+t.height}],[{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height}]]},axis:function(t,e){return[{x:t[1].x-t[0].x,y:t[1].y-t[0].y},{x:t[1].x-t[3].x,y:t[1].y-t[3].y},{x:e[0].x-e[2].x,y:e[0].y-e[2].y},{x:e[0].x-e[1].x,y:e[0].y-e[1].y}]},projection:function(t,e){var n=(t.x*e.x+t.y*e.y)/(Math.pow(e.x,2)+Math.pow(e.y,2));return{x:n*e.x,y:n*e.y}},axisCollision:function(t,e,n){for(var i=[],r=[],s=0;s<4;s++){var o=this.projection(e[s],t),a=this.projection(n[s],t);i.push(o.x*t.x+o.y*t.y),r.push(a.x*t.x+a.y*t.y)}var l=Math.max.apply(Math,i),c=Math.max.apply(Math,r),h=Math.min.apply(Math,i);return Math.min.apply(Math,r)<=l&&h<=c},collision:function(t,e){for(var n=this.axis(t,e),i=!0,r=0;r<4;r++)i=i&&this.axisCollision(n[r],t,e);return i}},t=function(){this._geom=f,this._tree=null,this._cache={query:!1,result:!1},this._enabled=!0};t.prototype.index=function(t,e){if(!this._enabled)return this._tree;if(!e.bounds)throw"sigma.classes.edgequad.index: bounds information not given.";var n,i,r,s,o,a=e.prefix||"";this._tree=d(e.bounds,0,e.maxElements,e.maxLevel);for(var l=t.edges(),c=0,h=l.length;c<h;c++)i=t.nodes(l[c].source),r=t.nodes(l[c].target),o={x1:i[a+"x"],y1:i[a+"y"],x2:r[a+"x"],y2:r[a+"y"],size:l[c][a+"size"]||0},"curve"===l[c].type||"curvedArrow"===l[c].type?i.id===r.id?(s={x:i[a+"x"],y:i[a+"y"],size:i[a+"size"]||0},u(l[c],f.selfLoopToSquare(s),this._tree)):(n=sigma.utils.getQuadraticControlPoint(o.x1,o.y1,o.x2,o.y2),u(l[c],f.quadraticCurveToSquare(o,n),this._tree)):u(l[c],f.lineToSquare(o),this._tree);return this._cache={query:!1,result:!1},this._tree},t.prototype.point=function(t,e){return this._enabled&&this._tree&&function t(e,n){if(n.level<n.maxLevel){var i=(r=e,s=n.bounds,o=s.x+s.width/2,a=s.y+s.height/2,l=r.y<a,c=r.x<o,l?c?0:1:c?2:3);return n.nodes[i]!==h?t(e,n.nodes[i]):[]}var r,s,o,a,l,c;return n.elements}({x:t,y:e},this._tree)||[]},t.prototype.area=function(t){if(!this._enabled)return[];var e,n,i=JSON.stringify(t);if(this._cache.query===i)return this._cache.result;f.isAxisAligned(t)?(e=a,n=f.axisAlignedTopPoints(t)):(e=l,n=f.rectangleCorners(t));var r=this._tree?function t(e,n,i,r){if(r=r||{},n.level<n.maxLevel)for(var s=i(e,n.corners),o=0,a=s.length;o<a;o++)n.nodes[s[o]]!==h&&t(e,n.nodes[s[o]],i,r);else for(var l=0,c=n.elements.length;l<c;l++)r[n.elements[l].id]===h&&(r[n.elements[l].id]=n.elements[l]);return r}(n,this._tree,e):[],s=[];for(var o in r)s.push(r[o]);return this._cache.query=i,this._cache.result=s},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.edgequad=t):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.edgequad=t):this.edgequad=t}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.mouse=function(t,e,n){function i(t){var e,n,i;return A("mouseEnabled")&&(_.dispatchEvent("mousemove",sigma.utils.mouseCoords(t)),g)?(v=m=!0,b&&clearTimeout(b),b=setTimeout(function(){m=!1},A("dragTimeout")),sigma.misc.animation.killAll(x),x.isMoving=!0,i=x.cameraPosition(sigma.utils.getX(t)-f,sigma.utils.getY(t)-p,!0),e=c-i.x,n=h-i.y,(e!==x.x||n!==x.y)&&(u=x.x,d=x.y,x.goTo({x:e,y:n})),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1):void 0}function r(t){if(A("mouseEnabled")&&g){g=!1,b&&clearTimeout(b),x.isMoving=!1;var e=sigma.utils.getX(t),n=sigma.utils.getY(t);m?(sigma.misc.animation.killAll(x),sigma.misc.animation.camera(x,{x:x.x+A("mouseInertiaRatio")*(x.x-u),y:x.y+A("mouseInertiaRatio")*(x.y-d)},{easing:"quadraticOut",duration:A("mouseInertiaDuration")})):(f!==e||p!==n)&&x.goTo({x:x.x,y:x.y}),_.dispatchEvent("mouseup",sigma.utils.mouseCoords(t)),m=!1}}function s(t){if(A("mouseEnabled"))switch(c=x.x,h=x.y,u=x.x,d=x.y,f=sigma.utils.getX(t),p=sigma.utils.getY(t),v=!1,y=(new Date).getTime(),t.which){case 2:break;case 3:_.dispatchEvent("rightclick",sigma.utils.mouseCoords(t,f,p));break;default:g=!0,_.dispatchEvent("mousedown",sigma.utils.mouseCoords(t,f,p))}}function o(){A("mouseEnabled")&&_.dispatchEvent("mouseout")}function a(t){if(A("mouseEnabled")){var e=sigma.utils.mouseCoords(t);e.isDragging=100<(new Date).getTime()-y&&v,_.dispatchEvent("click",e)}return t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}function l(t){var e,n,i;return A("mouseEnabled")&&A("mouseWheelEnabled")?(n=0<sigma.utils.getDelta(t)?1/A("zoomingRatio"):A("zoomingRatio"),e=x.cameraPosition(sigma.utils.getX(t)-sigma.utils.getCenter(t).x,sigma.utils.getY(t)-sigma.utils.getCenter(t).y,!0),i={duration:A("mouseZoomDuration")},sigma.utils.zoomTo(x,e.x,e.y,n,i),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1):void 0}var c,h,u,d,f,p,g,m,v,y,b,_=this,w=t,x=e,A=n;sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(w,"click",function(t){var e,n,i;return A("mouseEnabled")?(n=1/A("doubleClickZoomingRatio"),_.dispatchEvent("doubleclick",sigma.utils.mouseCoords(t,f,p)),A("doubleClickEnabled")&&(e=x.cameraPosition(sigma.utils.getX(t)-sigma.utils.getCenter(t).x,sigma.utils.getY(t)-sigma.utils.getCenter(t).y,!0),i={duration:A("doubleClickZoomDuration")},sigma.utils.zoomTo(x,e.x,e.y,n,i)),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1):void 0}),w.addEventListener("DOMMouseScroll",l,!1),w.addEventListener("mousewheel",l,!1),w.addEventListener("mousemove",i,!1),w.addEventListener("mousedown",s,!1),w.addEventListener("click",a,!1),w.addEventListener("mouseout",o,!1),document.addEventListener("mouseup",r,!1),this.kill=function(){sigma.utils.unbindDoubleClick(w,"click"),w.removeEventListener("DOMMouseScroll",l),w.removeEventListener("mousewheel",l),w.removeEventListener("mousemove",i),w.removeEventListener("mousedown",s),w.removeEventListener("click",a),w.removeEventListener("mouseout",o),document.removeEventListener("mouseup",r)}}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.touch=function(t,e,n){function y(t){var e=sigma.utils.getOffset(o);return{x:t.pageX-e.left,y:t.pageY-e.top}}function i(t){var e,n,i,r,s,o;if(O("touchEnabled"))switch((I=t.touches).length){case 1:R.isMoving=!0,M=1,b=R.x,_=R.y,A=R.x,C=R.y,s=y(I[0]),E=s.x,k=s.y;break;case 2:return R.isMoving=!0,M=2,s=y(I[0]),o=y(I[1]),e=s.x,i=s.y,n=o.x,r=o.y,A=R.x,C=R.y,w=R.angle,x=R.ratio,b=R.x,_=R.y,E=e,k=i,S=n,F=r,T=Math.atan2(F-k,S-E),D=Math.sqrt((F-k)*(F-k)+(S-E)*(S-E)),t.preventDefault(),!1}}function r(t){if(O("touchEnabled")){I=t.touches;var e=O("touchInertiaRatio");switch(B&&(P=!1,clearTimeout(B)),M){case 2:if(1===t.touches.length){i(t),t.preventDefault();break}case 1:R.isMoving=!1,$.dispatchEvent("stopDrag"),P&&(L=!1,sigma.misc.animation.camera(R,{x:R.x+e*(R.x-A),y:R.y+e*(R.y-C)},{easing:"quadraticOut",duration:O("touchInertiaDuration")})),P=!1,M=0}}}function s(t){if(!L&&O("touchEnabled")){var e,n,i,r,s,o,a,l,c,h,u,d,f,p,g,m,v;switch(I=t.touches,P=!0,B&&clearTimeout(B),B=setTimeout(function(){P=!1},O("dragTimeout")),M){case 1:e=(l=y(I[0])).x,i=l.y,h=R.cameraPosition(e-E,i-k,!0),p=b-h.x,g=_-h.y,(p!==R.x||g!==R.y)&&(A=R.x,C=R.y,R.goTo({x:p,y:g}),$.dispatchEvent("mousemove",sigma.utils.mouseCoords(t,l.x,l.y)),$.dispatchEvent("drag"));break;case 2:l=y(I[0]),c=y(I[1]),e=l.x,i=l.y,n=c.x,r=c.y,u=R.cameraPosition((E+S)/2-sigma.utils.getCenter(t).x,(k+F)/2-sigma.utils.getCenter(t).y,!0),a=R.cameraPosition((e+n)/2-sigma.utils.getCenter(t).x,(i+r)/2-sigma.utils.getCenter(t).y,!0),d=Math.atan2(r-i,n-e)-T,f=Math.sqrt((r-i)*(r-i)+(n-e)*(n-e))/D,e=u.x,i=u.y,m=x/f,i*=f,v=w-d,n=(e*=f)*(s=Math.cos(-d))+i*(o=Math.sin(-d)),i=r=i*s-e*o,p=(e=n)-a.x+b,g=i-a.y+_,(m!==R.ratio||v!==R.angle||p!==R.x||g!==R.y)&&(A=R.x,C=R.y,R.angle,R.ratio,R.goTo({x:p,y:g,angle:v,ratio:m}),$.dispatchEvent("drag"))}return t.preventDefault(),!1}}var b,_,w,x,A,C,E,k,S,F,T,D,M,P,L,B,$=this,o=t,R=e,O=n,I=[];sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(o,"touchstart",function(t){var e,n,i;return t.touches&&1===t.touches.length&&O("touchEnabled")?(L=!0,n=1/O("doubleClickZoomingRatio"),e=y(t.touches[0]),$.dispatchEvent("doubleclick",sigma.utils.mouseCoords(t,e.x,e.y)),O("doubleClickEnabled")&&(e=R.cameraPosition(e.x-sigma.utils.getCenter(t).x,e.y-sigma.utils.getCenter(t).y,!0),i={duration:O("doubleClickZoomDuration"),onComplete:function(){L=!1}},sigma.utils.zoomTo(R,e.x,e.y,n,i)),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1):void 0}),o.addEventListener("touchstart",i,!1),o.addEventListener("touchend",r,!1),o.addEventListener("touchcancel",r,!1),o.addEventListener("touchleave",r,!1),o.addEventListener("touchmove",s,!1),this.kill=function(){sigma.utils.unbindDoubleClick(o,"touchstart"),o.addEventListener("touchstart",i),o.addEventListener("touchend",r),o.addEventListener("touchcancel",r),o.addEventListener("touchleave",r),o.addEventListener("touchmove",s)}}}.call(this),function(x){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";if("undefined"==typeof conrad)throw"conrad is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.canvas=function(t,e,n,i){if("object"!=typeof i)throw"sigma.renderers.canvas: Wrong arguments.";if(!(i.container instanceof HTMLElement))throw"Container not found.";var r,s,o,a;for(sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=t,this.camera=e,this.contexts={},this.domElements={},this.options=i,this.container=this.options.container,this.settings="object"==typeof i.settings&&i.settings?n.embedObjects(i.settings):n,this.nodesOnScreen=[],this.edgesOnScreen=[],this.jobs={},this.options.prefix="renderer"+this.conradId+":",this.settings("batchEdgesDrawing")?(this.initDOM("canvas","edges"),this.initDOM("canvas","scene")):(this.initDOM("canvas","scene"),this.contexts.edges=this.contexts.scene),this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene,this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],r=0,s=(o=this.options.captors||[sigma.captors.mouse,sigma.captors.touch]).length;r<s;r++)a="function"==typeof o[r]?o[r]:sigma.captors[o[r]],this.captors.push(new a(this.domElements.mouse,this.camera,this.settings));sigma.misc.bindEvents.call(this,this.options.prefix),sigma.misc.drawHovers.call(this,this.options.prefix),this.resize(!1)},sigma.renderers.canvas.prototype.render=function(t){t=t||{};var e,n,i,r,s,o,a,l,c,h,u,d,f,p={},g=this.graph,m=this.graph.nodes,v=(this.options.prefix,this.settings(t,"drawEdges")),y=this.settings(t,"drawNodes"),b=this.settings(t,"drawLabels"),_=this.settings(t,"drawEdgeLabels"),w=this.settings.embedObjects(t,{prefix:this.options.prefix});for(i in this.resize(!1),this.settings(t,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(v=!1),this.camera.applyView(x,this.options.prefix,{width:this.width,height:this.height}),this.clear(),this.jobs)conrad.hasJob(i)&&conrad.killJob(i);for(this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),e=this.nodesOnScreen,n=0,r=e.length;n<r;n++)p[e[n].id]=e[n];if(v){for(e=g.edges(),n=0,r=e.length;n<r;n++)!p[(s=e[n]).source]&&!p[s.target]||s.hidden||m(s.source).hidden||m(s.target).hidden||this.edgesOnScreen.push(s);if(this.settings(t,"batchEdgesDrawing"))o="edges_"+this.conradId,d=w("canvasEdgesBatchSize"),r=(h=this.edgesOnScreen).length,c=0,a=Math.min(h.length,c+d),l=function(){for(f=this.contexts.edges.globalCompositeOperation,this.contexts.edges.globalCompositeOperation="destination-over",u=sigma.canvas.edges,n=c;n<a;n++)s=h[n],(u[s.type||this.settings(t,"defaultEdgeType")]||u.def)(s,g.nodes(s.source),g.nodes(s.target),this.contexts.edges,w);if(_)for(u=sigma.canvas.edges.labels,n=c;n<a;n++)(s=h[n]).hidden||(u[s.type||this.settings(t,"defaultEdgeType")]||u.def)(s,g.nodes(s.source),g.nodes(s.target),this.contexts.labels,w);return this.contexts.edges.globalCompositeOperation=f,a===h.length?(delete this.jobs[o],!1):(c=a+1,a=Math.min(h.length,c+d),!0)},this.jobs[o]=l,conrad.addJob(o,l.bind(this));else{for(u=sigma.canvas.edges,e=this.edgesOnScreen,n=0,r=e.length;n<r;n++)s=e[n],(u[s.type||this.settings(t,"defaultEdgeType")]||u.def)(s,g.nodes(s.source),g.nodes(s.target),this.contexts.edges,w);if(_)for(u=sigma.canvas.edges.labels,e=this.edgesOnScreen,n=0,r=e.length;n<r;n++)e[n].hidden||(u[e[n].type||this.settings(t,"defaultEdgeType")]||u.def)(e[n],g.nodes(e[n].source),g.nodes(e[n].target),this.contexts.labels,w)}}if(y)for(u=sigma.canvas.nodes,e=this.nodesOnScreen,n=0,r=e.length;n<r;n++)e[n].hidden||(u[e[n].type||this.settings(t,"defaultNodeType")]||u.def)(e[n],this.contexts.nodes,w);if(b)for(u=sigma.canvas.labels,e=this.nodesOnScreen,n=0,r=e.length;n<r;n++)e[n].hidden||(u[e[n].type||this.settings(t,"defaultNodeType")]||u.def)(e[n],this.contexts.labels,w);return this.dispatchEvent("render"),this},sigma.renderers.canvas.prototype.initDOM=function(t,e){var n=document.createElement(t);n.style.position="absolute",n.setAttribute("class","sigma-"+e),this.domElements[e]=n,this.container.appendChild(n),"canvas"===t.toLowerCase()&&(this.contexts[e]=n.getContext("2d"))},sigma.renderers.canvas.prototype.resize=function(t,e){var n,i=this.width,r=this.height,s=sigma.utils.getPixelRatio();if(t!==x&&e!==x?(this.width=t,this.height=e):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,e=this.height),i!==this.width||r!==this.height)for(n in this.domElements)this.domElements[n].style.width=t+"px",this.domElements[n].style.height=e+"px","canvas"===this.domElements[n].tagName.toLowerCase()&&(this.domElements[n].setAttribute("width",t*s+"px"),this.domElements[n].setAttribute("height",e*s+"px"),1!==s&&this.contexts[n].scale(s,s));return this},sigma.renderers.canvas.prototype.clear=function(){for(var t in this.contexts)this.contexts[t].clearRect(0,0,this.width,this.height);return this},sigma.renderers.canvas.prototype.kill=function(){for(var t,e;e=this.captors.pop();)e.kill();for(t in delete this.captors,this.domElements)this.domElements[t].parentNode.removeChild(this.domElements[t]),delete this.domElements[t],delete this.contexts[t];delete this.domElements,delete this.contexts},sigma.utils.pkg("sigma.canvas.nodes"),sigma.utils.pkg("sigma.canvas.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(this),function(g){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.webgl=function(t,e,n,i){if("object"!=typeof i)throw"sigma.renderers.webgl: Wrong arguments.";if(!(i.container instanceof HTMLElement))throw"Container not found.";var r,s,o,a;for(sigma.classes.dispatcher.extend(this),this.jobs={},Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=t,this.camera=e,this.contexts={},this.domElements={},this.options=i,this.container=this.options.container,this.settings="object"==typeof i.settings&&i.settings?n.embedObjects(i.settings):n,this.options.prefix=this.camera.readPrefix,Object.defineProperty(this,"nodePrograms",{value:{}}),Object.defineProperty(this,"edgePrograms",{value:{}}),Object.defineProperty(this,"nodeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeIndicesArrays",{value:{}}),this.settings(i,"batchEdgesDrawing")?(this.initDOM("canvas","edges",!0),this.initDOM("canvas","nodes",!0)):(this.initDOM("canvas","scene",!0),this.contexts.nodes=this.contexts.scene,this.contexts.edges=this.contexts.scene),this.initDOM("canvas","labels"),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],r=0,s=(o=this.options.captors||[sigma.captors.mouse,sigma.captors.touch]).length;r<s;r++)a="function"==typeof o[r]?o[r]:sigma.captors[o[r]],this.captors.push(new a(this.domElements.mouse,this.camera,this.settings));sigma.misc.bindEvents.call(this,this.camera.prefix),sigma.misc.drawHovers.call(this,this.camera.prefix),this.resize()},sigma.renderers.webgl.prototype.process=function(){var t,e,n,i,r,s,o=this.graph,a=sigma.utils.extend(a,this.options),l=this.settings(a,"defaultEdgeType"),c=this.settings(a,"defaultNodeType");for(i in this.nodeFloatArrays)delete this.nodeFloatArrays[i];for(i in this.edgeFloatArrays)delete this.edgeFloatArrays[i];for(i in this.edgeIndicesArrays)delete this.edgeIndicesArrays[i];for(e=0,n=(t=o.edges()).length;e<n;e++)i=(r=t[e].type||l)&&sigma.webgl.edges[r]?r:"def",this.edgeFloatArrays[i]||(this.edgeFloatArrays[i]={edges:[]}),this.edgeFloatArrays[i].edges.push(t[e]);for(e=0,n=(t=o.nodes()).length;e<n;e++)i=(r=t[e].type||c)&&sigma.webgl.nodes[r]?r:"def",this.nodeFloatArrays[i]||(this.nodeFloatArrays[i]={nodes:[]}),this.nodeFloatArrays[i].nodes.push(t[e]);for(i in this.edgeFloatArrays){for(s=sigma.webgl.edges[i],t=this.edgeFloatArrays[i].edges,this.edgeFloatArrays[i].array=new Float32Array(t.length*s.POINTS*s.ATTRIBUTES),e=0,n=t.length;e<n;e++)t[e].hidden||o.nodes(t[e].source).hidden||o.nodes(t[e].target).hidden||s.addEdge(t[e],o.nodes(t[e].source),o.nodes(t[e].target),this.edgeFloatArrays[i].array,e*s.POINTS*s.ATTRIBUTES,a.prefix,this.settings);"function"==typeof s.computeIndices&&(this.edgeIndicesArrays[i]=s.computeIndices(this.edgeFloatArrays[i].array))}for(i in this.nodeFloatArrays)for(s=sigma.webgl.nodes[i],t=this.nodeFloatArrays[i].nodes,this.nodeFloatArrays[i].array=new Float32Array(t.length*s.POINTS*s.ATTRIBUTES),e=0,n=t.length;e<n;e++)this.nodeFloatArrays[i].array||(this.nodeFloatArrays[i].array=new Float32Array(t.length*s.POINTS*s.ATTRIBUTES)),t[e].hidden||s.addNode(t[e],this.nodeFloatArrays[i].array,e*s.POINTS*s.ATTRIBUTES,a.prefix,this.settings);return this},sigma.renderers.webgl.prototype.render=function(t){var e,n,i,r,s,o,a=this,l=(this.graph,this.contexts.nodes),h=this.contexts.edges,u=this.camera.getMatrix(),d=sigma.utils.extend(t,this.options),c=this.settings(d,"drawLabels"),f=this.settings(d,"drawEdges"),p=this.settings(d,"drawNodes");for(r in this.resize(!1),this.settings(d,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(f=!1),this.clear(),u=sigma.utils.matrices.multiply(u,sigma.utils.matrices.translation(this.width/2,this.height/2)),this.jobs)conrad.hasJob(r)&&conrad.killJob(r);if(f)if(this.settings(d,"batchEdgesDrawing"))(function(){var t,e,n,i,r,s,o,a,l,c;n="edges_"+this.conradId,c=this.settings(d,"webglEdgesBatchSize"),(t=Object.keys(this.edgeFloatArrays)).length&&(e=0,l=sigma.webgl.edges[t[e]],r=this.edgeFloatArrays[t[e]].array,a=this.edgeIndicesArrays[t[e]],o=0,s=Math.min(o+c*l.POINTS,r.length/l.ATTRIBUTES),i=function(){return this.edgePrograms[t[e]]||(this.edgePrograms[t[e]]=l.initProgram(h)),o<s&&(h.useProgram(this.edgePrograms[t[e]]),l.render(h,this.edgePrograms[t[e]],r,{settings:this.settings,matrix:u,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(d,"webglOversamplingRatio"),start:o,count:s-o,indicesData:a})),s>=r.length/l.ATTRIBUTES&&e===t.length-1?(delete this.jobs[n],!1):(s>=r.length/l.ATTRIBUTES?(e++,r=this.edgeFloatArrays[t[e]].array,l=sigma.webgl.edges[t[e]],o=0):o=s,s=Math.min(o+c*l.POINTS,r.length/l.ATTRIBUTES),!0)},this.jobs[n]=i,conrad.addJob(n,i.bind(this)))}).call(this);else for(r in this.edgeFloatArrays)o=sigma.webgl.edges[r],this.edgePrograms[r]||(this.edgePrograms[r]=o.initProgram(h)),this.edgeFloatArrays[r]&&(h.useProgram(this.edgePrograms[r]),o.render(h,this.edgePrograms[r],this.edgeFloatArrays[r].array,{settings:this.settings,matrix:u,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(d,"webglOversamplingRatio"),indicesData:this.edgeIndicesArrays[r]}));if(p)for(r in l.blendFunc(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),l.enable(l.BLEND),this.nodeFloatArrays)o=sigma.webgl.nodes[r],this.nodePrograms[r]||(this.nodePrograms[r]=o.initProgram(l)),this.nodeFloatArrays[r]&&(l.useProgram(this.nodePrograms[r]),o.render(l,this.nodePrograms[r],this.nodeFloatArrays[r].array,{settings:this.settings,matrix:u,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(d,"webglOversamplingRatio")}));if(c)for(e=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),this.camera.applyView(g,g,{nodes:e,edges:[],width:this.width,height:this.height}),s=function(t){return a.settings({prefix:a.camera.prefix},t)},n=0,i=e.length;n<i;n++)e[n].hidden||(sigma.canvas.labels[e[n].type||this.settings(d,"defaultNodeType")]||sigma.canvas.labels.def)(e[n],this.contexts.labels,s);return this.dispatchEvent("render"),this},sigma.renderers.webgl.prototype.initDOM=function(t,e,n){var i=document.createElement(t),r=this;i.style.position="absolute",i.setAttribute("class","sigma-"+e),this.domElements[e]=i,this.container.appendChild(i),"canvas"===t.toLowerCase()&&(this.contexts[e]=i.getContext(n?"experimental-webgl":"2d",{preserveDrawingBuffer:!0}),n&&(i.addEventListener("webglcontextlost",function(t){t.preventDefault()},!1),i.addEventListener("webglcontextrestored",function(){r.render()},!1)))},sigma.renderers.webgl.prototype.resize=function(t,e){var n,i=this.width,r=this.height,s=sigma.utils.getPixelRatio();if(t!==g&&e!==g?(this.width=t,this.height=e):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,e=this.height),i!==this.width||r!==this.height)for(n in this.domElements)this.domElements[n].style.width=t+"px",this.domElements[n].style.height=e+"px","canvas"===this.domElements[n].tagName.toLowerCase()&&(this.contexts[n]&&this.contexts[n].scale?(this.domElements[n].setAttribute("width",t*s+"px"),this.domElements[n].setAttribute("height",e*s+"px"),1!==s&&this.contexts[n].scale(s,s)):(this.domElements[n].setAttribute("width",t*this.settings("webglOversamplingRatio")+"px"),this.domElements[n].setAttribute("height",e*this.settings("webglOversamplingRatio")+"px")));for(n in this.contexts)this.contexts[n]&&this.contexts[n].viewport&&this.contexts[n].viewport(0,0,this.width*this.settings("webglOversamplingRatio"),this.height*this.settings("webglOversamplingRatio"));return this},sigma.renderers.webgl.prototype.clear=function(){return this.contexts.labels.clearRect(0,0,this.width,this.height),this.contexts.nodes.clear(this.contexts.nodes.COLOR_BUFFER_BIT),this.contexts.edges.clear(this.contexts.edges.COLOR_BUFFER_BIT),this},sigma.renderers.webgl.prototype.kill=function(){for(var t,e;e=this.captors.pop();)e.kill();for(t in delete this.captors,this.domElements)this.domElements[t].parentNode.removeChild(this.domElements[t]),delete this.domElements[t],delete this.contexts[t];delete this.domElements,delete this.contexts},sigma.utils.pkg("sigma.webgl.nodes"),sigma.utils.pkg("sigma.webgl.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(this),function(m){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";if("undefined"==typeof conrad)throw"conrad is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.svg=function(t,e,n,i){if("object"!=typeof i)throw"sigma.renderers.svg: Wrong arguments.";if(!(i.container instanceof HTMLElement))throw"Container not found.";var r,s,o,a,l=this;for(sigma.classes.dispatcher.extend(this),this.graph=t,this.camera=e,this.domElements={graph:null,groups:{},nodes:{},edges:{},labels:{},hovers:{}},this.measurementCanvas=null,this.options=i,this.container=this.options.container,this.settings="object"==typeof i.settings&&i.settings?n.embedObjects(i.settings):n,this.settings("freeStyle",!!this.options.freeStyle),this.settings("xmlns","http://www.w3.org/2000/svg"),this.nodesOnScreen=[],this.edgesOnScreen=[],this.options.prefix="renderer"+sigma.utils.id()+":",this.initDOM("svg"),this.captors=[],r=0,s=(o=this.options.captors||[sigma.captors.mouse,sigma.captors.touch]).length;r<s;r++)a="function"==typeof o[r]?o[r]:sigma.captors[o[r]],this.captors.push(new a(this.domElements.graph,this.camera,this.settings));window.addEventListener("resize",function(){l.resize()}),sigma.misc.bindDOMEvents.call(this,this.domElements.graph),this.bindHovers(this.options.prefix),this.resize(!1)},sigma.renderers.svg.prototype.render=function(t){t=t||{};var e,n,i,r,s,o,a,l,c,h={},u=this.graph,d=this.graph.nodes,f=(this.options.prefix,this.settings(t,"drawEdges")),p=this.settings(t,"drawNodes"),g=(this.settings(t,"drawLabels"),this.settings.embedObjects(t,{prefix:this.options.prefix,forceLabels:this.options.forceLabels}));for(this.settings(t,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(f=!1),this.camera.applyView(m,this.options.prefix,{width:this.width,height:this.height}),this.hideDOMElements(this.domElements.nodes),this.hideDOMElements(this.domElements.edges),this.hideDOMElements(this.domElements.labels),this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),n=0,r=(e=this.nodesOnScreen).length;n<r;n++)h[e[n].id]=e[n];for(n=0,r=(e=u.edges()).length;n<r;n++)!h[(s=e[n]).source]&&!h[s.target]||s.hidden||d(s.source).hidden||d(s.target).hidden||this.edgesOnScreen.push(s);if(l=sigma.svg.nodes,c=sigma.svg.labels,p)for(n=0,r=(e=this.nodesOnScreen).length;n<r;n++)e[n].hidden||this.domElements.nodes[e[n].id]||(i=(l[e[n].type]||l.def).create(e[n],g),this.domElements.nodes[e[n].id]=i,this.domElements.groups.nodes.appendChild(i),i=(c[e[n].type]||c.def).create(e[n],g),this.domElements.labels[e[n].id]=i,this.domElements.groups.labels.appendChild(i));if(p)for(n=0,r=(e=this.nodesOnScreen).length;n<r;n++)e[n].hidden||((l[e[n].type]||l.def).update(e[n],this.domElements.nodes[e[n].id],g),(c[e[n].type]||c.def).update(e[n],this.domElements.labels[e[n].id],g));if(l=sigma.svg.edges,f)for(n=0,r=(e=this.edgesOnScreen).length;n<r;n++)this.domElements.edges[e[n].id]||(o=d(e[n].source),a=d(e[n].target),i=(l[e[n].type]||l.def).create(e[n],o,a,g),this.domElements.edges[e[n].id]=i,this.domElements.groups.edges.appendChild(i));if(f)for(n=0,r=(e=this.edgesOnScreen).length;n<r;n++)o=d(e[n].source),a=d(e[n].target),(l[e[n].type]||l.def).update(e[n],this.domElements.edges[e[n].id],o,a,g);return this.dispatchEvent("render"),this},sigma.renderers.svg.prototype.initDOM=function(t){var e,n,i,r=document.createElementNS(this.settings("xmlns"),t),s=this.settings("classPrefix");r.style.position="absolute",r.setAttribute("class",s+"-svg"),r.setAttribute("xmlns",this.settings("xmlns")),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),r.setAttribute("version","1.1");var o=document.createElement("canvas");o.setAttribute("class",s+"-measurement-canvas"),this.domElements.graph=this.container.appendChild(r);var a=["edges","nodes","labels","hovers"];for(i=0,n=a.length;i<n;i++)(e=document.createElementNS(this.settings("xmlns"),"g")).setAttributeNS(null,"id",s+"-group-"+a[i]),e.setAttributeNS(null,"class",s+"-group"),this.domElements.groups[a[i]]=this.domElements.graph.appendChild(e);this.container.appendChild(o),this.measurementCanvas=o.getContext("2d")},sigma.renderers.svg.prototype.hideDOMElements=function(t){var e,n;for(n in t)e=t[n],sigma.svg.utils.hide(e);return this},sigma.renderers.svg.prototype.bindHovers=function(r){var s,o=sigma.svg.hovers,a=this;this.bind("overNode",function(t){var e=t.data.node,n=a.settings.embedObjects({prefix:r});if(n("enableHovering")){var i=(o[e.type]||o.def).create(e,a.domElements.nodes[e.id],a.measurementCanvas,n);a.domElements.hovers[e.id]=i,a.domElements.groups.hovers.appendChild(i),s=e}}),this.bind("outNode",function(t){var e=t.data.node;a.settings.embedObjects({prefix:r})("enableHovering")&&(a.domElements.groups.hovers.removeChild(a.domElements.hovers[e.id]),s=null,delete a.domElements.hovers[e.id],a.domElements.groups.nodes.appendChild(a.domElements.nodes[e.id]))}),this.bind("render",function(){if(s){var t=a.settings.embedObjects({prefix:r});a.domElements.groups.hovers.removeChild(a.domElements.hovers[s.id]),delete a.domElements.hovers[s.id];var e=(o[s.type]||o.def).create(s,a.domElements.nodes[s.id],a.measurementCanvas,t);a.domElements.hovers[s.id]=e,a.domElements.groups.hovers.appendChild(e)}})},sigma.renderers.svg.prototype.resize=function(t,e){var n=this.width,i=this.height;return t!==m&&e!==m?(this.width=t,this.height=e):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,e=this.height),(n!==this.width||i!==this.height)&&(this.domElements.graph.style.width=t+"px",this.domElements.graph.style.height=e+"px","svg"===this.domElements.graph.tagName.toLowerCase()&&(this.domElements.graph.setAttribute("width",1*t),this.domElements.graph.setAttribute("height",1*e))),this},sigma.utils.pkg("sigma.svg.nodes"),sigma.utils.pkg("sigma.svg.edges"),sigma.utils.pkg("sigma.svg.labels")}.call(this),function(t){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers");var e,n=!!t.WebGLRenderingContext;if(n){e=document.createElement("canvas");try{n=!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){n=!1}}sigma.renderers.def=n?sigma.renderers.webgl:sigma.renderers.canvas}(this),function(){"use strict";sigma.utils.pkg("sigma.webgl.nodes"),sigma.webgl.nodes.def={POINTS:3,ATTRIBUTES:5,addNode:function(t,e,n,i,r){var s=sigma.utils.floatColor(t.color||r("defaultNodeColor"));e[n++]=t[i+"x"],e[n++]=t[i+"y"],e[n++]=t[i+"size"],e[n++]=s,e[n++]=0,e[n++]=t[i+"x"],e[n++]=t[i+"y"],e[n++]=t[i+"size"],e[n++]=s,e[n++]=2*Math.PI/3,e[n++]=t[i+"x"],e[n++]=t[i+"y"],e[n++]=t[i+"size"],e[n++]=s,e[n++]=4*Math.PI/3},render:function(t,e,n,i){var r,s=t.getAttribLocation(e,"a_position"),o=t.getAttribLocation(e,"a_size"),a=t.getAttribLocation(e,"a_color"),l=t.getAttribLocation(e,"a_angle"),c=t.getUniformLocation(e,"u_resolution"),h=t.getUniformLocation(e,"u_matrix"),u=t.getUniformLocation(e,"u_ratio"),d=t.getUniformLocation(e,"u_scale");r=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,n,t.DYNAMIC_DRAW),t.uniform2f(c,i.width,i.height),t.uniform1f(u,1/Math.pow(i.ratio,i.settings("nodesPowRatio"))),t.uniform1f(d,i.scalingRatio),t.uniformMatrix3fv(h,!1,i.matrix),t.enableVertexAttribArray(s),t.enableVertexAttribArray(o),t.enableVertexAttribArray(a),t.enableVertexAttribArray(l),t.vertexAttribPointer(s,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(o,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(a,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),t.vertexAttribPointer(l,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.drawArrays(t.TRIANGLES,i.start||0,i.count||n.length/this.ATTRIBUTES)},initProgram:function(t){var e,n;return e=sigma.utils.loadShader(t,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","attribute float a_angle;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","varying vec2 center;","varying float radius;","void main() {","radius = a_size * u_ratio;","vec2 position = (u_matrix * vec3(a_position, 1)).xy;","center = position * u_scale;","center = vec2(center.x, u_scale * u_resolution.y - center.y);","position = position +","2.0 * radius * vec2(cos(a_angle), sin(a_angle));","position = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);","radius = radius * u_scale;","gl_Position = vec4(position, 0, 1);","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),n=sigma.utils.loadShader(t,["precision mediump float;","varying vec4 color;","varying vec2 center;","varying float radius;","void main(void) {","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_FragCoord.xy - center;","float diff = radius - sqrt(m.x * m.x + m.y * m.y);","if (diff > 0.0)","gl_FragColor = color;","else","gl_FragColor = color0;","}"].join("\n"),t.FRAGMENT_SHADER),sigma.utils.loadProgram(t,[e,n])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.nodes"),sigma.webgl.nodes.fast={POINTS:1,ATTRIBUTES:4,addNode:function(t,e,n,i,r){e[n++]=t[i+"x"],e[n++]=t[i+"y"],e[n++]=t[i+"size"],e[n++]=sigma.utils.floatColor(t.color||r("defaultNodeColor"))},render:function(t,e,n,i){var r,s=t.getAttribLocation(e,"a_position"),o=t.getAttribLocation(e,"a_size"),a=t.getAttribLocation(e,"a_color"),l=t.getUniformLocation(e,"u_resolution"),c=t.getUniformLocation(e,"u_matrix"),h=t.getUniformLocation(e,"u_ratio"),u=t.getUniformLocation(e,"u_scale");r=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,n,t.DYNAMIC_DRAW),t.uniform2f(l,i.width,i.height),t.uniform1f(h,1/Math.pow(i.ratio,i.settings("nodesPowRatio"))),t.uniform1f(u,i.scalingRatio),t.uniformMatrix3fv(c,!1,i.matrix),t.enableVertexAttribArray(s),t.enableVertexAttribArray(o),t.enableVertexAttribArray(a),t.vertexAttribPointer(s,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(o,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(a,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),t.drawArrays(t.POINTS,i.start||0,i.count||n.length/this.ATTRIBUTES)},initProgram:function(t){var e,n;return e=sigma.utils.loadShader(t,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","gl_PointSize = a_size * u_ratio * u_scale * 2.0;","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),n=sigma.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","float border = 0.01;","float radius = 0.5;","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_PointCoord - vec2(0.5, 0.5);","float dist = radius - sqrt(m.x * m.x + m.y * m.y);","float t = 0.0;","if (dist > border)","t = 1.0;","else if (dist > 0.0)","t = dist / border;","gl_FragColor = mix(color0, color, t);","}"].join("\n"),t.FRAGMENT_SHADER),sigma.utils.loadProgram(t,[e,n])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.def={POINTS:6,ATTRIBUTES:7,addEdge:function(t,e,n,i,r,s,o){var a=(t[s+"size"]||1)/2,l=e[s+"x"],c=e[s+"y"],h=n[s+"x"],u=n[s+"y"],d=t.color;if(!d)switch(o("edgeColor")){case"source":d=e.color||o("defaultNodeColor");break;case"target":d=n.color||o("defaultNodeColor");break;default:d=o("defaultEdgeColor")}d=sigma.utils.floatColor(d),i[r++]=l,i[r++]=c,i[r++]=h,i[r++]=u,i[r++]=a,i[r++]=0,i[r++]=d,i[r++]=h,i[r++]=u,i[r++]=l,i[r++]=c,i[r++]=a,i[r++]=1,i[r++]=d,i[r++]=h,i[r++]=u,i[r++]=l,i[r++]=c,i[r++]=a,i[r++]=0,i[r++]=d,i[r++]=h,i[r++]=u,i[r++]=l,i[r++]=c,i[r++]=a,i[r++]=0,i[r++]=d,i[r++]=l,i[r++]=c,i[r++]=h,i[r++]=u,i[r++]=a,i[r++]=1,i[r++]=d,i[r++]=l,i[r++]=c,i[r++]=h,i[r++]=u,i[r++]=a,i[r++]=0,i[r++]=d},render:function(t,e,n,i){var r,s=t.getAttribLocation(e,"a_color"),o=t.getAttribLocation(e,"a_position1"),a=t.getAttribLocation(e,"a_position2"),l=t.getAttribLocation(e,"a_thickness"),c=t.getAttribLocation(e,"a_minus"),h=t.getUniformLocation(e,"u_resolution"),u=t.getUniformLocation(e,"u_matrix"),d=t.getUniformLocation(e,"u_matrixHalfPi"),f=t.getUniformLocation(e,"u_matrixHalfPiMinus"),p=t.getUniformLocation(e,"u_ratio"),g=t.getUniformLocation(e,"u_scale");r=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),t.uniform2f(h,i.width,i.height),t.uniform1f(p,i.ratio/Math.pow(i.ratio,i.settings("edgesPowRatio"))),t.uniform1f(g,i.scalingRatio),t.uniformMatrix3fv(u,!1,i.matrix),t.uniformMatrix2fv(d,!1,sigma.utils.matrices.rotation(Math.PI/2,!0)),t.uniformMatrix2fv(f,!1,sigma.utils.matrices.rotation(-Math.PI/2,!0)),t.enableVertexAttribArray(s),t.enableVertexAttribArray(o),t.enableVertexAttribArray(a),t.enableVertexAttribArray(l),t.enableVertexAttribArray(c),t.vertexAttribPointer(o,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(a,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(l,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(c,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),t.vertexAttribPointer(s,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),t.drawArrays(t.TRIANGLES,i.start||0,i.count||n.length/this.ATTRIBUTES)},initProgram:function(t){var e,n;return e=sigma.utils.loadShader(t,["attribute vec2 a_position1;","attribute vec2 a_position2;","attribute float a_thickness;","attribute float a_minus;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 position = a_thickness * u_ratio *","normalize(a_position2 - a_position1);","mat2 matrix = a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi;","position = matrix * position + a_position1;","gl_Position = vec4(","((u_matrix * vec3(position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),n=sigma.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),sigma.utils.loadProgram(t,[e,n])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.fast={POINTS:2,ATTRIBUTES:3,addEdge:function(t,e,n,i,r,s,o){var a=(t[s+"size"],e[s+"x"]),l=e[s+"y"],c=n[s+"x"],h=n[s+"y"],u=t.color;if(!u)switch(o("edgeColor")){case"source":u=e.color||o("defaultNodeColor");break;case"target":u=n.color||o("defaultNodeColor");break;default:u=o("defaultEdgeColor")}u=sigma.utils.floatColor(u),i[r++]=a,i[r++]=l,i[r++]=u,i[r++]=c,i[r++]=h,i[r++]=u},render:function(t,e,n,i){var r,s=t.getAttribLocation(e,"a_color"),o=t.getAttribLocation(e,"a_position"),a=t.getUniformLocation(e,"u_resolution"),l=t.getUniformLocation(e,"u_matrix");r=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,n,t.DYNAMIC_DRAW),t.uniform2f(a,i.width,i.height),t.uniformMatrix3fv(l,!1,i.matrix),t.enableVertexAttribArray(o),t.enableVertexAttribArray(s),t.vertexAttribPointer(o,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(s,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.lineWidth(3),t.drawArrays(t.LINES,i.start||0,i.count||n.length/this.ATTRIBUTES)},initProgram:function(t){var e,n;return e=sigma.utils.loadShader(t,["attribute vec2 a_position;","attribute float a_color;","uniform vec2 u_resolution;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),n=sigma.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),sigma.utils.loadProgram(t,[e,n])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.arrow={POINTS:9,ATTRIBUTES:11,addEdge:function(t,e,n,i,r,s,o){var a=(t[s+"size"]||1)/2,l=e[s+"x"],c=e[s+"y"],h=n[s+"x"],u=n[s+"y"],d=n[s+"size"],f=t.color;if(!f)switch(o("edgeColor")){case"source":f=e.color||o("defaultNodeColor");break;case"target":f=n.color||o("defaultNodeColor");break;default:f=o("defaultEdgeColor")}f=sigma.utils.floatColor(f),i[r++]=l,i[r++]=c,i[r++]=h,i[r++]=u,i[r++]=a,i[r++]=d,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=f,i[r++]=h,i[r++]=u,i[r++]=l,i[r++]=c,i[r++]=a,i[r++]=d,i[r++]=1,i[r++]=1,i[r++]=0,i[r++]=0,i[r++]=f,i[r++]=h,i[r++]=u,i[r++]=l,i[r++]=c,i[r++]=a,i[r++]=d,i[r++]=1,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=f,i[r++]=h,i[r++]=u,i[r++]=l,i[r++]=c,i[r++]=a,i[r++]=d,i[r++]=1,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=f,i[r++]=l,i[r++]=c,i[r++]=h,i[r++]=u,i[r++]=a,i[r++]=d,i[r++]=0,i[r++]=1,i[r++]=0,i[r++]=0,i[r++]=f,i[r++]=l,i[r++]=c,i[r++]=h,i[r++]=u,i[r++]=a,i[r++]=d,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=f,i[r++]=h,i[r++]=u,i[r++]=l,i[r++]=c,i[r++]=a,i[r++]=d,i[r++]=1,i[r++]=0,i[r++]=1,i[r++]=-1,i[r++]=f,i[r++]=h,i[r++]=u,i[r++]=l,i[r++]=c,i[r++]=a,i[r++]=d,i[r++]=1,i[r++]=0,i[r++]=1,i[r++]=0,i[r++]=f,i[r++]=h,i[r++]=u,i[r++]=l,i[r++]=c,i[r++]=a,i[r++]=d,i[r++]=1,i[r++]=0,i[r++]=1,i[r++]=1,i[r++]=f},render:function(t,e,n,i){var r,s=t.getAttribLocation(e,"a_pos1"),o=t.getAttribLocation(e,"a_pos2"),a=t.getAttribLocation(e,"a_thickness"),l=t.getAttribLocation(e,"a_tSize"),c=t.getAttribLocation(e,"a_delay"),h=t.getAttribLocation(e,"a_minus"),u=t.getAttribLocation(e,"a_head"),d=t.getAttribLocation(e,"a_headPosition"),f=t.getAttribLocation(e,"a_color"),p=t.getUniformLocation(e,"u_resolution"),g=t.getUniformLocation(e,"u_matrix"),m=t.getUniformLocation(e,"u_matrixHalfPi"),v=t.getUniformLocation(e,"u_matrixHalfPiMinus"),y=t.getUniformLocation(e,"u_ratio"),b=t.getUniformLocation(e,"u_nodeRatio"),_=t.getUniformLocation(e,"u_arrowHead"),w=t.getUniformLocation(e,"u_scale");r=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),t.uniform2f(p,i.width,i.height),t.uniform1f(y,i.ratio/Math.pow(i.ratio,i.settings("edgesPowRatio"))),t.uniform1f(b,Math.pow(i.ratio,i.settings("nodesPowRatio"))/i.ratio),t.uniform1f(_,5),t.uniform1f(w,i.scalingRatio),t.uniformMatrix3fv(g,!1,i.matrix),t.uniformMatrix2fv(m,!1,sigma.utils.matrices.rotation(Math.PI/2,!0)),t.uniformMatrix2fv(v,!1,sigma.utils.matrices.rotation(-Math.PI/2,!0)),t.enableVertexAttribArray(s),t.enableVertexAttribArray(o),t.enableVertexAttribArray(a),t.enableVertexAttribArray(l),t.enableVertexAttribArray(c),t.enableVertexAttribArray(h),t.enableVertexAttribArray(u),t.enableVertexAttribArray(d),t.enableVertexAttribArray(f),t.vertexAttribPointer(s,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(o,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(a,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(l,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),t.vertexAttribPointer(c,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),t.vertexAttribPointer(h,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,28),t.vertexAttribPointer(u,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,32),t.vertexAttribPointer(d,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,36),t.vertexAttribPointer(f,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,40),t.drawArrays(t.TRIANGLES,i.start||0,i.count||n.length/this.ATTRIBUTES)},initProgram:function(t){var e,n;return e=sigma.utils.loadShader(t,["attribute vec2 a_pos1;","attribute vec2 a_pos2;","attribute float a_thickness;","attribute float a_tSize;","attribute float a_delay;","attribute float a_minus;","attribute float a_head;","attribute float a_headPosition;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_nodeRatio;","uniform float u_arrowHead;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 pos = normalize(a_pos2 - a_pos1);","mat2 matrix = (1.0 - a_head) *","(","a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi",") + a_head * (","a_headPosition * u_matrixHalfPiMinus * 0.6 +","(a_headPosition * a_headPosition - 1.0) * mat2(1.0)",");","pos = a_pos1 + (","(1.0 - a_head) * a_thickness * u_ratio * matrix * pos +","a_head * u_arrowHead * a_thickness * u_ratio * matrix * pos +","a_delay * pos * (","a_tSize / u_nodeRatio +","u_arrowHead * a_thickness * u_ratio",")",");","gl_Position = vec4(","((u_matrix * vec3(pos, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),n=sigma.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),sigma.utils.loadProgram(t,[e,n])}}}(),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.labels"),sigma.canvas.labels.def=function(t,e,n){var i,r=n("prefix")||"",s=t[r+"size"];s<n("labelThreshold")||t.label&&"string"==typeof t.label&&(i="fixed"===n("labelSize")?n("defaultLabelSize"):n("labelSizeRatio")*s,e.font=(n("fontStyle")?n("fontStyle")+" ":"")+i+"px "+n("font"),e.fillStyle="node"===n("labelColor")?t.color||n("defaultNodeColor"):n("defaultLabelColor"),e.fillText(t.label,Math.round(t[r+"x"]+s+3),Math.round(t[r+"y"]+i/3)))}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.hovers"),sigma.canvas.hovers.def=function(t,e,n){var i,r,s,o,a,l=n("hoverFontStyle")||n("fontStyle"),c=n("prefix")||"",h=t[c+"size"],u="fixed"===n("labelSize")?n("defaultLabelSize"):n("labelSizeRatio")*h;e.font=(l?l+" ":"")+u+"px "+(n("hoverFont")||n("font")),e.beginPath(),e.fillStyle="node"===n("labelHoverBGColor")?t.color||n("defaultNodeColor"):n("defaultHoverLabelBGColor"),t.label&&n("labelHoverShadow")&&(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=8,e.shadowColor=n("labelHoverShadowColor")),t.label&&"string"==typeof t.label&&(i=Math.round(t[c+"x"]-u/2-2),r=Math.round(t[c+"y"]-u/2-2),s=Math.round(e.measureText(t.label).width+u/2+h+7),o=Math.round(u+4),a=Math.round(u/2+2),e.moveTo(i,r+a),e.arcTo(i,r,i+a,r,a),e.lineTo(i+s,r),e.lineTo(i+s,r+o),e.lineTo(i+a,r+o),e.arcTo(i,r+o,i,r+o-a,a),e.lineTo(i,r+a),e.closePath(),e.fill(),e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0),0<n("borderSize")&&(e.beginPath(),e.fillStyle="node"===n("nodeBorderColor")?t.color||n("defaultNodeColor"):n("defaultNodeBorderColor"),e.arc(t[c+"x"],t[c+"y"],h+n("borderSize"),0,2*Math.PI,!0),e.closePath(),e.fill()),(sigma.canvas.nodes[t.type]||sigma.canvas.nodes.def)(t,e,n),t.label&&"string"==typeof t.label&&(e.fillStyle="node"===n("labelHoverColor")?t.color||n("defaultNodeColor"):n("defaultLabelHoverColor"),e.fillText(t.label,Math.round(t[c+"x"]+h+3),Math.round(t[c+"y"]+u/3)))}}.call(this),function(){"use strict";sigma.utils.pkg("sigma.canvas.nodes"),sigma.canvas.nodes.def=function(t,e,n){var i=n("prefix")||"";e.fillStyle=t.color||n("defaultNodeColor"),e.beginPath(),e.arc(t[i+"x"],t[i+"y"],t[i+"size"],0,2*Math.PI,!0),e.closePath(),e.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.def=function(t,e,n,i,r){var s=t.color,o=r("prefix")||"",a=t[o+"size"]||1,l=r("edgeColor"),c=r("defaultNodeColor"),h=r("defaultEdgeColor");if(!s)switch(l){case"source":s=e.color||c;break;case"target":s=n.color||c;break;default:s=h}i.strokeStyle=s,i.lineWidth=a,i.beginPath(),i.moveTo(e[o+"x"],e[o+"y"]),i.lineTo(n[o+"x"],n[o+"y"]),i.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curve=function(t,e,n,i,r){var s,o=t.color,a=r("prefix")||"",l=t[a+"size"]||1,c=r("edgeColor"),h=r("defaultNodeColor"),u=r("defaultEdgeColor"),d=e[a+"size"],f=e[a+"x"],p=e[a+"y"],g=n[a+"x"],m=n[a+"y"];if(s=e.id===n.id?sigma.utils.getSelfLoopControlPoints(f,p,d):sigma.utils.getQuadraticControlPoint(f,p,g,m),!o)switch(c){case"source":o=e.color||h;break;case"target":o=n.color||h;break;default:o=u}i.strokeStyle=o,i.lineWidth=l,i.beginPath(),i.moveTo(f,p),e.id===n.id?i.bezierCurveTo(s.x1,s.y1,s.x2,s.y2,g,m):i.quadraticCurveTo(s.x,s.y,g,m),i.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.arrow=function(t,e,n,i,r){var s=t.color,o=r("prefix")||"",a=r("edgeColor"),l=r("defaultNodeColor"),c=r("defaultEdgeColor"),h=t[o+"size"]||1,u=n[o+"size"],d=e[o+"x"],f=e[o+"y"],p=n[o+"x"],g=n[o+"y"],m=Math.max(2.5*h,r("minArrowSize")),v=Math.sqrt(Math.pow(p-d,2)+Math.pow(g-f,2)),y=d+(p-d)*(v-m-u)/v,b=f+(g-f)*(v-m-u)/v,_=(p-d)*m/v,w=(g-f)*m/v;if(!s)switch(a){case"source":s=e.color||l;break;case"target":s=n.color||l;break;default:s=c}i.strokeStyle=s,i.lineWidth=h,i.beginPath(),i.moveTo(d,f),i.lineTo(y,b),i.stroke(),i.fillStyle=s,i.beginPath(),i.moveTo(y+_,b+w),i.lineTo(y+.6*w,b-.6*_),i.lineTo(y-.6*w,b+.6*_),i.lineTo(y+_,b+w),i.closePath(),i.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curvedArrow=function(t,e,n,i,r){var s,o,a,l,c,h,u=t.color,d=r("prefix")||"",f=r("edgeColor"),p=r("defaultNodeColor"),g=r("defaultEdgeColor"),m=t[d+"size"]||1,v=n[d+"size"],y=e[d+"x"],b=e[d+"y"],_=n[d+"x"],w=n[d+"y"],x=Math.max(2.5*m,r("minArrowSize"));if(h=e.id===n.id?sigma.utils.getSelfLoopControlPoints(y,b,v):sigma.utils.getQuadraticControlPoint(y,b,_,w),e.id===n.id?(s=Math.sqrt(Math.pow(_-h.x1,2)+Math.pow(w-h.y1,2)),o=h.x1+(_-h.x1)*(s-x-v)/s,a=h.y1+(w-h.y1)*(s-x-v)/s,l=(_-h.x1)*x/s,c=(w-h.y1)*x/s):(s=Math.sqrt(Math.pow(_-h.x,2)+Math.pow(w-h.y,2)),o=h.x+(_-h.x)*(s-x-v)/s,a=h.y+(w-h.y)*(s-x-v)/s,l=(_-h.x)*x/s,c=(w-h.y)*x/s),!u)switch(f){case"source":u=e.color||p;break;case"target":u=n.color||p;break;default:u=g}i.strokeStyle=u,i.lineWidth=m,i.beginPath(),i.moveTo(y,b),e.id===n.id?i.bezierCurveTo(h.x2,h.y2,h.x1,h.y1,o,a):i.quadraticCurveTo(h.x,h.y,o,a),i.stroke(),i.fillStyle=u,i.beginPath(),i.moveTo(o+l,a+c),i.lineTo(o+.6*c,a-.6*l),i.lineTo(o-.6*c,a+.6*l),i.lineTo(o+l,a+c),i.closePath(),i.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.def=function(t,e,n,i,r){var s=t.color,o=r("prefix")||"",a=t[o+"size"]||1,l=r("edgeColor"),c=r("defaultNodeColor"),h=r("defaultEdgeColor");if(!s)switch(l){case"source":s=e.color||c;break;case"target":s=n.color||c;break;default:s=h}s="edge"===r("edgeHoverColor")?t.hover_color||s:t.hover_color||r("defaultEdgeHoverColor")||s,a*=r("edgeHoverSizeRatio"),i.strokeStyle=s,i.lineWidth=a,i.beginPath(),i.moveTo(e[o+"x"],e[o+"y"]),i.lineTo(n[o+"x"],n[o+"y"]),i.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curve=function(t,e,n,i,r){var s,o=t.color,a=r("prefix")||"",l=r("edgeHoverSizeRatio")*(t[a+"size"]||1),c=r("edgeColor"),h=r("defaultNodeColor"),u=r("defaultEdgeColor"),d=e[a+"size"],f=e[a+"x"],p=e[a+"y"],g=n[a+"x"],m=n[a+"y"];if(s=e.id===n.id?sigma.utils.getSelfLoopControlPoints(f,p,d):sigma.utils.getQuadraticControlPoint(f,p,g,m),!o)switch(c){case"source":o=e.color||h;break;case"target":o=n.color||h;break;default:o=u}o="edge"===r("edgeHoverColor")?t.hover_color||o:t.hover_color||r("defaultEdgeHoverColor")||o,i.strokeStyle=o,i.lineWidth=l,i.beginPath(),i.moveTo(f,p),e.id===n.id?i.bezierCurveTo(s.x1,s.y1,s.x2,s.y2,g,m):i.quadraticCurveTo(s.x,s.y,g,m),i.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.arrow=function(t,e,n,i,r){var s=t.color,o=r("prefix")||"",a=r("edgeColor"),l=r("defaultNodeColor"),c=r("defaultEdgeColor"),h=t[o+"size"]||1,u=n[o+"size"],d=e[o+"x"],f=e[o+"y"],p=n[o+"x"],g=n[o+"y"],m=2.5*(h=t.hover?r("edgeHoverSizeRatio")*h:h),v=Math.sqrt(Math.pow(p-d,2)+Math.pow(g-f,2)),y=d+(p-d)*(v-m-u)/v,b=f+(g-f)*(v-m-u)/v,_=(p-d)*m/v,w=(g-f)*m/v;if(!s)switch(a){case"source":s=e.color||l;break;case"target":s=n.color||l;break;default:s=c}s="edge"===r("edgeHoverColor")?t.hover_color||s:t.hover_color||r("defaultEdgeHoverColor")||s,i.strokeStyle=s,i.lineWidth=h,i.beginPath(),i.moveTo(d,f),i.lineTo(y,b),i.stroke(),i.fillStyle=s,i.beginPath(),i.moveTo(y+_,b+w),i.lineTo(y+.6*w,b-.6*_),i.lineTo(y-.6*w,b+.6*_),i.lineTo(y+_,b+w),i.closePath(),i.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curvedArrow=function(t,e,n,i,r){var s,o,a,l,c,h,u,d=t.color,f=r("prefix")||"",p=r("edgeColor"),g=r("defaultNodeColor"),m=r("defaultEdgeColor"),v=r("edgeHoverSizeRatio")*(t[f+"size"]||1),y=n[f+"size"],b=e[f+"x"],_=e[f+"y"],w=n[f+"x"],x=n[f+"y"];if(u=e.id===n.id?sigma.utils.getSelfLoopControlPoints(b,_,y):sigma.utils.getQuadraticControlPoint(b,_,w,x),e.id===n.id?(s=Math.sqrt(Math.pow(w-u.x1,2)+Math.pow(x-u.y1,2)),o=2.5*v,a=u.x1+(w-u.x1)*(s-o-y)/s,l=u.y1+(x-u.y1)*(s-o-y)/s,c=(w-u.x1)*o/s,h=(x-u.y1)*o/s):(s=Math.sqrt(Math.pow(w-u.x,2)+Math.pow(x-u.y,2)),o=2.5*v,a=u.x+(w-u.x)*(s-o-y)/s,l=u.y+(x-u.y)*(s-o-y)/s,c=(w-u.x)*o/s,h=(x-u.y)*o/s),!d)switch(p){case"source":d=e.color||g;break;case"target":d=n.color||g;break;default:d=m}d="edge"===r("edgeHoverColor")?t.hover_color||d:t.hover_color||r("defaultEdgeHoverColor")||d,i.strokeStyle=d,i.lineWidth=v,i.beginPath(),i.moveTo(b,_),e.id===n.id?i.bezierCurveTo(u.x2,u.y2,u.x1,u.y1,a,l):i.quadraticCurveTo(u.x,u.y,a,l),i.stroke(),i.fillStyle=d,i.beginPath(),i.moveTo(a+c,l+h),i.lineTo(a+.6*h,l-.6*c),i.lineTo(a-.6*h,l+.6*c),i.lineTo(a+c,l+h),i.closePath(),i.fill()}}(),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.extremities"),sigma.canvas.extremities.def=function(t,e,n,i,r){(sigma.canvas.hovers[e.type]||sigma.canvas.hovers.def)(e,i,r),(sigma.canvas.hovers[n.type]||sigma.canvas.hovers.def)(n,i,r)}}.call(this),function(){"use strict";sigma.utils.pkg("sigma.svg.utils"),sigma.svg.utils={show:function(t){return t.style.display="",this},hide:function(t){return t.style.display="none",this}}}(),function(){"use strict";sigma.utils.pkg("sigma.svg.nodes"),sigma.svg.nodes.def={create:function(t,e){var n=(e("prefix"),document.createElementNS(e("xmlns"),"circle"));return n.setAttributeNS(null,"data-node-id",t.id),n.setAttributeNS(null,"class",e("classPrefix")+"-node"),n.setAttributeNS(null,"fill",t.color||e("defaultNodeColor")),n},update:function(t,e,n){var i=n("prefix")||"";return e.setAttributeNS(null,"cx",t[i+"x"]),e.setAttributeNS(null,"cy",t[i+"y"]),e.setAttributeNS(null,"r",t[i+"size"]),n("freeStyle")||e.setAttributeNS(null,"fill",t.color||n("defaultNodeColor")),e.style.display="",this}}}(),function(){"use strict";sigma.utils.pkg("sigma.svg.edges"),sigma.svg.edges.def={create:function(t,e,n,i){var r=t.color,s=(i("prefix"),i("edgeColor")),o=i("defaultNodeColor"),a=i("defaultEdgeColor");if(!r)switch(s){case"source":r=e.color||o;break;case"target":r=n.color||o;break;default:r=a}var l=document.createElementNS(i("xmlns"),"line");return l.setAttributeNS(null,"data-edge-id",t.id),l.setAttributeNS(null,"class",i("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",r),l},update:function(t,e,n,i,r){var s=r("prefix")||"";return e.setAttributeNS(null,"stroke-width",t[s+"size"]||1),e.setAttributeNS(null,"x1",n[s+"x"]),e.setAttributeNS(null,"y1",n[s+"y"]),e.setAttributeNS(null,"x2",i[s+"x"]),e.setAttributeNS(null,"y2",i[s+"y"]),e.style.display="",this}}}(),function(){"use strict";sigma.utils.pkg("sigma.svg.edges"),sigma.svg.edges.curve={create:function(t,e,n,i){var r=t.color,s=(i("prefix"),i("edgeColor")),o=i("defaultNodeColor"),a=i("defaultEdgeColor");if(!r)switch(s){case"source":r=e.color||o;break;case"target":r=n.color||o;break;default:r=a}var l=document.createElementNS(i("xmlns"),"path");return l.setAttributeNS(null,"data-edge-id",t.id),l.setAttributeNS(null,"class",i("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",r),l},update:function(t,e,n,i,r){var s=r("prefix")||"";e.setAttributeNS(null,"stroke-width",t[s+"size"]||1);var o=(n[s+"x"]+i[s+"x"])/2+(i[s+"y"]-n[s+"y"])/4,a=(n[s+"y"]+i[s+"y"])/2+(n[s+"x"]-i[s+"x"])/4,l="M"+n[s+"x"]+","+n[s+"y"]+" Q"+o+","+a+" "+i[s+"x"]+","+i[s+"y"];return e.setAttributeNS(null,"d",l),e.setAttributeNS(null,"fill","none"),e.style.display="",this}}}(),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.svg.labels"),sigma.svg.labels.def={create:function(t,e){var n=t[(e("prefix")||"")+"size"],i=document.createElementNS(e("xmlns"),"text"),r="fixed"===e("labelSize")?e("defaultLabelSize"):e("labelSizeRatio")*n,s="node"===e("labelColor")?t.color||e("defaultNodeColor"):e("defaultLabelColor");return i.setAttributeNS(null,"data-label-target",t.id),i.setAttributeNS(null,"class",e("classPrefix")+"-label"),i.setAttributeNS(null,"font-size",r),i.setAttributeNS(null,"font-family",e("font")),i.setAttributeNS(null,"fill",s),i.innerHTML=t.label,i.textContent=t.label,i},update:function(t,e,n){var i=n("prefix")||"",r=t[i+"size"],s="fixed"===n("labelSize")?n("defaultLabelSize"):n("labelSizeRatio")*r;return!n("forceLabels")&&r<n("labelThreshold")||"string"!=typeof t.label?void 0:(e.setAttributeNS(null,"x",Math.round(t[i+"x"]+r+3)),e.setAttributeNS(null,"y",Math.round(t[i+"y"]+s/3)),e.style.display="",this)}}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.svg.hovers"),sigma.svg.hovers.def={create:function(t,e,n,i){var r,s,o,a=(i("hoverFontStyle")||i("fontStyle"),i("prefix")||""),l=t[a+"size"],c="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*l,h="node"===i("labelHoverColor")?t.color||i("defaultNodeColor"):i("defaultLabelHoverColor"),u=document.createElementNS(i("xmlns"),"g"),d=document.createElementNS(i("xmlns"),"rect"),f=document.createElementNS(i("xmlns"),"circle"),p=document.createElementNS(i("xmlns"),"text");return u.setAttributeNS(null,"class",i("classPrefix")+"-hover"),u.setAttributeNS(null,"data-node-id",t.id),"string"==typeof t.label&&(p.innerHTML=t.label,p.textContent=t.label,p.setAttributeNS(null,"class",i("classPrefix")+"-hover-label"),p.setAttributeNS(null,"font-size",c),p.setAttributeNS(null,"font-family",i("font")),p.setAttributeNS(null,"fill",h),p.setAttributeNS(null,"x",Math.round(t[a+"x"]+l+3)),p.setAttributeNS(null,"y",Math.round(t[a+"y"]+c/3)),Math.round(t[a+"x"]-c/2-2),Math.round(t[a+"y"]-c/2-2),r=Math.round(n.measureText(t.label).width+c/2+l+9),s=Math.round(c+4),o=Math.round(c/2+2),f.setAttributeNS(null,"class",i("classPrefix")+"-hover-area"),f.setAttributeNS(null,"fill","#fff"),f.setAttributeNS(null,"cx",t[a+"x"]),f.setAttributeNS(null,"cy",t[a+"y"]),f.setAttributeNS(null,"r",o),d.setAttributeNS(null,"class",i("classPrefix")+"-hover-area"),d.setAttributeNS(null,"fill","#fff"),d.setAttributeNS(null,"x",t[a+"x"]+o/4),d.setAttributeNS(null,"y",t[a+"y"]-o),d.setAttributeNS(null,"width",r),d.setAttributeNS(null,"height",s)),u.appendChild(f),u.appendChild(d),u.appendChild(p),u.appendChild(e),u}}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.utils.pkg("sigma.utils"),sigma.middlewares.rescale=function(t,e,n){var i,r,s,o,a,l,c,h,u=this.graph.nodes(),d=this.graph.edges(),f=this.settings.embedObjects(n||{}),p=f("bounds")||sigma.utils.getBoundaries(this.graph,t,!0),g=p.minX,m=p.minY,v=p.maxX,y=p.maxY,b=p.sizeMax,_=p.weightMax,w=f("width")||1,x=f("height")||1,A=f("autoRescale"),C={nodePosition:1,nodeSize:1,edgeSize:1};for(A instanceof Array||(A=["nodePosition","nodeSize","edgeSize"]),i=0,r=A.length;i<r;i++)if(!C[A[i]])throw new Error('The rescale setting "'+A[i]+'" is not recognized.');var E=~A.indexOf("nodePosition"),k=~A.indexOf("nodeSize"),S=~A.indexOf("edgeSize");for(c="outside"===f("scalingMode")?Math.max(w/Math.max(v-g,1),x/Math.max(y-m,1)):Math.min(w/Math.max(v-g,1),x/Math.max(y-m,1)),v+=h=(f("rescaleIgnoreSize")?0:(f("maxNodeSize")||b)/c)+(f("sideMargin")||0),g-=h,y+=h,m-=h,c="outside"===f("scalingMode")?Math.max(w/Math.max(v-g,1),x/Math.max(y-m,1)):Math.min(w/Math.max(v-g,1),x/Math.max(y-m,1)),f("maxNodeSize")||f("minNodeSize")?f("maxNodeSize")===f("minNodeSize")?(s=0,o=+f("maxNodeSize")):(s=(f("maxNodeSize")-f("minNodeSize"))/b,o=+f("minNodeSize")):(s=1,o=0),f("maxEdgeSize")||f("minEdgeSize")?(a=f("maxEdgeSize")===f("minEdgeSize")?0:(f("maxEdgeSize")-f("minEdgeSize"))/_,l=+f("minEdgeSize")):(a=1,l=0),i=0,r=d.length;i<r;i++)d[i][e+"size"]=d[i][t+"size"]*(S?a:1)+(S?l:0);for(i=0,r=u.length;i<r;i++)u[i][e+"size"]=u[i][t+"size"]*(k?s:1)+(k?o:0),u[i][e+"x"]=(u[i][t+"x"]-(v+g)/2)*(E?c:1),u[i][e+"y"]=(u[i][t+"y"]-(y+m)/2)*(E?c:1)},sigma.utils.getBoundaries=function(t,e,n){var i,r,s=t.edges(),o=t.nodes(),a=-1/0,l=-1/0,c=1/0,h=1/0,u=-1/0,d=-1/0;if(n)for(i=0,r=s.length;i<r;i++)a=Math.max(s[i][e+"size"],a);for(i=0,r=o.length;i<r;i++)l=Math.max(o[i][e+"size"],l),u=Math.max(o[i][e+"x"],u),c=Math.min(o[i][e+"x"],c),d=Math.max(o[i][e+"y"],d),h=Math.min(o[i][e+"y"],h);return{weightMax:a=a||1,sizeMax:l=l||1,minX:c,minY:h,maxX:u,maxY:d}}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.middlewares.copy=function(t,e){var n,i,r;if(e+""!=t+""){for(n=0,i=(r=this.graph.nodes()).length;n<i;n++)r[n][e+"x"]=r[n][t+"x"],r[n][e+"y"]=r[n][t+"y"],r[n][e+"size"]=r[n][t+"size"];for(n=0,i=(r=this.graph.edges()).length;n<i;n++)r[n][e+"size"]=r[n][t+"size"]}}}.call(this),function(u){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc.animation.running");var t,e=(t=0,function(){return""+ ++t});sigma.misc.animation.camera=function(n,i,t){if(!(n instanceof sigma.classes.camera&&"object"==typeof i&&i))throw"animation.camera: Wrong arguments.";if("number"!=typeof i.x&&"number"!=typeof i.y&&"number"!=typeof i.ratio&&"number"!=typeof i.angle)throw"There must be at least one valid coordinate in the given val.";var r,s,o,a,l,c=t||{},h=sigma.utils.dateNow();return l={x:n.x,y:n.y,ratio:n.ratio,angle:n.angle},c.duration,a="function"!=typeof c.easing?sigma.utils.easings[c.easing||"quadraticInOut"]:c.easing,r=function(){var t,e=c.duration?(sigma.utils.dateNow()-h)/c.duration:1;1<=e?(n.isAnimated=!1,n.goTo({x:i.x!==u?i.x:l.x,y:i.y!==u?i.y:l.y,ratio:i.ratio!==u?i.ratio:l.ratio,angle:i.angle!==u?i.angle:l.angle}),cancelAnimationFrame(s),delete sigma.misc.animation.running[s],"function"==typeof c.onComplete&&c.onComplete()):(t=a(e),n.isAnimated=!0,n.goTo({x:i.x!==u?l.x+(i.x-l.x)*t:l.x,y:i.y!==u?l.y+(i.y-l.y)*t:l.y,ratio:i.ratio!==u?l.ratio+(i.ratio-l.ratio)*t:l.ratio,angle:i.angle!==u?l.angle+(i.angle-l.angle)*t:l.angle}),"function"==typeof c.onNewFrame&&c.onNewFrame(),o.frameId=requestAnimationFrame(r))},s=e(),o={frameId:requestAnimationFrame(r),target:n,type:"camera",options:c,fn:r},sigma.misc.animation.running[s]=o,s},sigma.misc.animation.kill=function(t){if(1!==arguments.length||"number"!=typeof t)throw"animation.kill: Wrong arguments.";var e=sigma.misc.animation.running[t];return e&&(cancelAnimationFrame(t),delete sigma.misc.animation.running[e.frameId],"camera"===e.type&&(e.target.isAnimated=!1),"function"==typeof(e.options||{}).onComplete&&e.options.onComplete()),this},sigma.misc.animation.killAll=function(t){var e,n,i=0,r="string"==typeof t?t:null,s="object"==typeof t?t:null,o=sigma.misc.animation.running;for(n in o)r&&o[n].type!==r||s&&o[n].target!==s||(e=sigma.misc.animation.running[n],cancelAnimationFrame(e.frameId),delete sigma.misc.animation.running[n],"camera"===e.type&&(e.target.isAnimated=!1),i++,"function"==typeof(e.options||{}).onComplete&&e.options.onComplete());return i},sigma.misc.animation.has=function(t){var e,n="string"==typeof t?t:null,i="object"==typeof t?t:null,r=sigma.misc.animation.running;for(e in r)if(!(n&&r[e].type!==n||i&&r[e].target!==i))return!0;return!1}}.call(this),function(C){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.bindEvents=function(_){function v(t){t&&(w="x"in t.data?t.data.x:w,x="y"in t.data?t.data.y:x);var e,n,i,r,s,o,a,l,c=[],h=w+A.width/2,u=x+A.height/2,d=A.camera.cameraPosition(w,x),f=A.camera.quadtree.point(d.x,d.y);if(f.length)for(e=0,i=f.length;e<i;e++)if(s=(r=f[e])[_+"x"],o=r[_+"y"],a=r[_+"size"],!r.hidden&&s-a<h&&h<s+a&&o-a<u&&u<o+a&&Math.sqrt(Math.pow(h-s,2)+Math.pow(u-o,2))<a){for(l=!1,n=0;n<c.length;n++)if(r.size>c[n].size){c.splice(n,0,r),l=!0;break}l||c.push(r)}return c}function y(t){function e(t,e){for(d=!1,r=0;r<t.length;r++)if(e.size>t[r].size){t.splice(r,0,e),d=!0;break}d||t.push(e)}if(!A.settings("enableEdgeHovering"))return[];var n=sigma.renderers.canvas&&A instanceof sigma.renderers.canvas;if(!n)throw new Error("The edge events feature is not compatible with the WebGL renderer");t&&(w="x"in t.data?t.data.x:w,x="y"in t.data?t.data.y:x);var i,r,s,o,a,l,c,h,u,d,f=A.settings("edgeHoverPrecision"),p={},g=[],m=w+A.width/2,v=x+A.height/2,y=A.camera.cameraPosition(w,x),b=[];if(n)for(i=0,s=(o=A.camera.quadtree.area(A.camera.getRectangle(A.width,A.height))).length;i<s;i++)p[o[i].id]=o[i];if(A.camera.edgequadtree!==C&&(b=A.camera.edgequadtree.point(y.x,y.y)),b.length)for(i=0,s=b.length;i<s;i++)a=b[i],c=A.graph.nodes(a.source),h=A.graph.nodes(a.target),l=a[_+"size"]||a["read_"+_+"size"],!a.hidden&&!c.hidden&&!h.hidden&&(!n||p[a.source]||p[a.target])&&sigma.utils.getDistance(c[_+"x"],c[_+"y"],m,v)>c[_+"size"]&&sigma.utils.getDistance(h[_+"x"],h[_+"y"],m,v)>h[_+"size"]&&("curve"==a.type||"curvedArrow"==a.type?c.id===h.id?(u=sigma.utils.getSelfLoopControlPoints(c[_+"x"],c[_+"y"],c[_+"size"]),sigma.utils.isPointOnBezierCurve(m,v,c[_+"x"],c[_+"y"],h[_+"x"],h[_+"y"],u.x1,u.y1,u.x2,u.y2,Math.max(l,f))&&e(g,a)):(u=sigma.utils.getQuadraticControlPoint(c[_+"x"],c[_+"y"],h[_+"x"],h[_+"y"]),sigma.utils.isPointOnQuadraticCurve(m,v,c[_+"x"],c[_+"y"],h[_+"x"],h[_+"y"],u.x,u.y,Math.max(l,f))&&e(g,a)):sigma.utils.isPointOnSegment(m,v,c[_+"x"],c[_+"y"],h[_+"x"],h[_+"y"],Math.max(l,f))&&e(g,a));return g}function t(t){function e(t){if(A.settings("eventsEnabled")){f=v(t),p=y(t);var e,n,i,r,s=[],o=[],a={},l=f.length,c=[],h=[],u={},d=p.length;for(e=0;e<l;e++)a[(i=f[e]).id]=i,g[i.id]||(o.push(i),g[i.id]=i);for(n in g)a[n]||(s.push(g[n]),delete g[n]);for(e=0,l=o.length;e<l;e++)A.dispatchEvent("overNode",{node:o[e],captor:t.data});for(e=0,l=s.length;e<l;e++)A.dispatchEvent("outNode",{node:s[e],captor:t.data});for(o.length&&A.dispatchEvent("overNodes",{nodes:o,captor:t.data}),s.length&&A.dispatchEvent("outNodes",{nodes:s,captor:t.data}),e=0;e<d;e++)u[(r=p[e]).id]=r,m[r.id]||(h.push(r),m[r.id]=r);for(n in m)u[n]||(c.push(m[n]),delete m[n]);for(e=0,d=h.length;e<d;e++)A.dispatchEvent("overEdge",{edge:h[e],captor:t.data});for(e=0,d=c.length;e<d;e++)A.dispatchEvent("outEdge",{edge:c[e],captor:t.data});h.length&&A.dispatchEvent("overEdges",{edges:h,captor:t.data}),c.length&&A.dispatchEvent("outEdges",{edges:c,captor:t.data})}}var f,p,g={},m={};t.bind("click",function(t){A.settings("eventsEnabled")&&(A.dispatchEvent("click",t.data),f=v(t),p=y(t),f.length?(A.dispatchEvent("clickNode",{node:f[0],captor:t.data}),A.dispatchEvent("clickNodes",{node:f,captor:t.data})):p.length?(A.dispatchEvent("clickEdge",{edge:p[0],captor:t.data}),A.dispatchEvent("clickEdges",{edge:p,captor:t.data})):A.dispatchEvent("clickStage",{captor:t.data}))}),t.bind("mousedown",e),t.bind("mouseup",e),t.bind("mousemove",e),t.bind("mouseout",function(t){if(A.settings("eventsEnabled")){var e,n,i,r,s=[],o=[];for(e in g)s.push(g[e]);for(g={},n=0,i=s.length;n<i;n++)A.dispatchEvent("outNode",{node:s[n],captor:t.data});for(s.length&&A.dispatchEvent("outNodes",{nodes:s,captor:t.data}),m={},n=0,r=o.length;n<r;n++)A.dispatchEvent("outEdge",{edge:o[n],captor:t.data});o.length&&A.dispatchEvent("outEdges",{edges:o,captor:t.data})}}),t.bind("doubleclick",function(t){A.settings("eventsEnabled")&&(A.dispatchEvent("doubleClick",t.data),f=v(t),p=y(t),f.length?(A.dispatchEvent("doubleClickNode",{node:f[0],captor:t.data}),A.dispatchEvent("doubleClickNodes",{node:f,captor:t.data})):p.length?(A.dispatchEvent("doubleClickEdge",{edge:p[0],captor:t.data}),A.dispatchEvent("doubleClickEdges",{edge:p,captor:t.data})):A.dispatchEvent("doubleClickStage",{captor:t.data}))}),t.bind("rightclick",function(t){A.settings("eventsEnabled")&&(A.dispatchEvent("rightClick",t.data),f=v(t),p=y(t),f.length?(A.dispatchEvent("rightClickNode",{node:f[0],captor:t.data}),A.dispatchEvent("rightClickNodes",{node:f,captor:t.data})):p.length?(A.dispatchEvent("rightClickEdge",{edge:p[0],captor:t.data}),A.dispatchEvent("rightClickEdges",{edge:p,captor:t.data})):A.dispatchEvent("rightClickStage",{captor:t.data}))}),A.bind("render",e)}var e,n,w,x,A=this;for(e=0,n=this.captors.length;e<n;e++)t(this.captors[e])}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.bindDOMEvents=function(t){function r(e){this.attr=function(t){return e.getAttributeNS(null,t)},this.tag=e.tagName,this.class=this.attr("class"),this.id=this.attr("id"),this.isNode=function(){return!!~this.class.indexOf(s.settings("classPrefix")+"-node")},this.isEdge=function(){return!!~this.class.indexOf(s.settings("classPrefix")+"-edge")},this.isHover=function(){return!!~this.class.indexOf(s.settings("classPrefix")+"-hover")}}function e(t){if(s.settings("eventsEnabled")){s.dispatchEvent("click",t);var e=new r(t.target);e.isNode()?s.dispatchEvent("clickNode",{node:o.nodes(e.attr("data-node-id"))}):s.dispatchEvent("clickStage"),t.preventDefault(),t.stopPropagation()}}function n(t){if(s.settings("eventsEnabled")){s.dispatchEvent("doubleClick",t);var e=new r(t.target);e.isNode()?s.dispatchEvent("doubleClickNode",{node:o.nodes(e.attr("data-node-id"))}):s.dispatchEvent("doubleClickStage"),t.preventDefault(),t.stopPropagation()}}var s=this,o=this.graph;t.addEventListener("click",e,!1),sigma.utils.doubleClick(t,"click",n),t.addEventListener("touchstart",e,!1),sigma.utils.doubleClick(t,"touchstart",n),t.addEventListener("mouseover",function(t){var e=t.toElement||t.target;if(s.settings("eventsEnabled")&&e){var n=new r(e);if(n.isNode())s.dispatchEvent("overNode",{node:o.nodes(n.attr("data-node-id"))});else if(n.isEdge()){var i=o.edges(n.attr("data-edge-id"));s.dispatchEvent("overEdge",{edge:i,source:o.nodes(i.source),target:o.nodes(i.target)})}}},!0),t.addEventListener("mouseout",function(t){var e=t.fromElement||t.originalTarget;if(s.settings("eventsEnabled")){var n=new r(e);if(n.isNode())s.dispatchEvent("outNode",{node:o.nodes(n.attr("data-node-id"))});else if(n.isEdge()){var i=o.edges(n.attr("data-edge-id"));s.dispatchEvent("outEdge",{edge:i,source:o.nodes(i.source),target:o.nodes(i.target)})}}},!0)}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.drawHovers=function(d){function n(){var t,e,n,i,r,s=f.contexts.hover.canvas,o=f.settings("defaultNodeType"),a=f.settings("defaultEdgeType"),l=sigma.canvas.hovers,c=sigma.canvas.edgehovers,h=sigma.canvas.extremities,u=f.settings.embedObjects({prefix:d});if(f.contexts.hover.clearRect(0,0,s.width,s.height),u("enableHovering")&&u("singleHover")&&Object.keys(p).length&&(l[(i=p[Object.keys(p)[0]]).type]||l[o]||l.def)(i,f.contexts.hover,u),u("enableHovering")&&!u("singleHover"))for(t in p)(l[p[t].type]||l[o]||l.def)(p[t],f.contexts.hover,u);if(u("enableEdgeHovering")&&u("singleHover")&&Object.keys(g).length&&(r=g[Object.keys(g)[0]],e=f.graph.nodes(r.source),n=f.graph.nodes(r.target),r.hidden||((c[r.type]||c[a]||c.def)(r,e,n,f.contexts.hover,u),u("edgeHoverExtremities")?(h[r.type]||h.def)(r,e,n,f.contexts.hover,u):((sigma.canvas.nodes[e.type]||sigma.canvas.nodes.def)(e,f.contexts.hover,u),(sigma.canvas.nodes[n.type]||sigma.canvas.nodes.def)(n,f.contexts.hover,u)))),u("enableEdgeHovering")&&!u("singleHover"))for(t in g)r=g[t],e=f.graph.nodes(r.source),n=f.graph.nodes(r.target),r.hidden||((c[r.type]||c[a]||c.def)(r,e,n,f.contexts.hover,u),u("edgeHoverExtremities")?(h[r.type]||h.def)(r,e,n,f.contexts.hover,u):((sigma.canvas.nodes[e.type]||sigma.canvas.nodes.def)(e,f.contexts.hover,u),(sigma.canvas.nodes[n.type]||sigma.canvas.nodes.def)(n,f.contexts.hover,u)))}var f=this,p={},g={};this.bind("overNode",function(t){var e=t.data.node;e.hidden||(p[e.id]=e,n())}),this.bind("outNode",function(t){delete p[t.data.node.id],n()}),this.bind("overEdge",function(t){var e=t.data.edge;e.hidden||(g[e.id]=e,n())}),this.bind("outEdge",function(t){delete g[t.data.edge.id],n()}),this.bind("render",function(){n()})}}.call(this),function(t){"use strict";if("undefined"==typeof sigma)throw new Error("sigma not in scope.");function D(){for(var t=[],e=-1,n=arguments.length;++e<n;){var i=arguments[e];t.push(i)}var r=t[0],s=-1,o=r?r.length:0,a=[];t:for(;++s<o;)if(i=r[s],a.indexOf(i)<0){for(e=n;--e;)if(t[e].indexOf(i)<0)continue t;a.push(i)}return a}function M(t,e,n){for(var i=0;i<t.length;i++)null!=t[i]&&(e.beginPath(),e.arc(t[i].x,t[i].y,t[i].radius,0,2*Math.PI,!0),e.closePath(),n?e.stroke():e.fill())}function e(t){t=t||{},this.domElements.background||(this.initDOM("canvas","background"),this.domElements.background.width=this.container.offsetWidth,this.domElements.background.height=this.container.offsetHeight,this.container.insertBefore(this.domElements.background,this.container.firstChild));var e,n,i,r,s,o,a,l,c,h,u=this,d=u.contexts.background,f=this instanceof sigma.renderers.webgl,p=u.options.prefix,g=f?p.substr(5):p,m=t.nodeHaloClustering||u.settings("nodeHaloClustering"),v=t.nodeHaloClusteringMaxRadius||u.settings("nodeHaloClusteringMaxRadius"),y=t.nodeHaloColor||u.settings("nodeHaloColor"),b=t.nodeHaloSize||u.settings("nodeHaloSize"),_=t.nodeHaloStroke||u.settings("nodeHaloStroke"),w=t.nodeHaloStrokeColor||u.settings("nodeHaloStrokeColor"),x=t.nodeHaloStrokeWidth||u.settings("nodeHaloStrokeWidth"),A=u.settings("nodeBorderSize")||0,C=u.settings("nodeOuterBorderSize")||0,E=t.edgeHaloColor||u.settings("edgeHaloColor"),k=t.edgeHaloSize||u.settings("edgeHaloSize"),S=t.drawHalo||u.settings("drawHalo"),F=t.nodes||[],T=t.edges||[];S&&(F=f?F:D(t.nodes,u.nodesOnScreen),T=f?T:D(t.edges,u.edgesOnScreen),d.clearRect(0,0,d.canvas.width,d.canvas.height),d.save(),d.strokeStyle=E,T.forEach(function(t){e=u.graph.nodes(t.source),n=u.graph.nodes(t.target),d.lineWidth=(t[p+"size"]||1)+k,d.beginPath(),i={},r=e[g+"size"],s=e[g+"x"],o=e[g+"y"],a=n[g+"x"],l=n[g+"y"],d.moveTo(s,o),"curve"===t.type||"curvedArrow"===t.type?t.source===t.target?(i=sigma.utils.getSelfLoopControlPoints(s,o,r),d.bezierCurveTo(i.x1,i.y1,i.x2,i.y2,a,l)):(i=sigma.utils.getQuadraticControlPoint(s,o,a,l,t.cc),d.quadraticCurveTo(i.x,i.y,a,l)):(d.moveTo(s,o),d.lineTo(a,l)),d.stroke(),d.closePath()}),d.fillStyle=y,_&&(d.lineWidth=x,d.strokeStyle=w),c=A+C+b,h=F.filter(function(t){return!t.hidden}).map(function(t){return{x:t[g+"x"],y:t[g+"y"],radius:t[g+"size"]+c}}),m&&(h=function(t,e,n){if(n=n||Number.POSITIVE_INFINITY,1<t.length)for(var i,r,s,o=!0;o;){o=!1;for(var a=0;a<t.length;a++)if(null!==t[a])for(var l=a+1;l<t.length;l++)if(null!==t[l]&&(r=sigma.utils.getDistance(t[a].x,t[a].y,t[l].x,t[l].y))<n&&r<t[a].radius+t[l].radius){o=!0,s=[{x:t[a].x,y:t[a].y,radius:t[a].radius},{x:t[l].x,y:t[l].y,radius:t[l].radius}],t[a].points&&(s=s.concat(t[a].points)),t[l].points&&(s=s.concat(t[l].points)),i={x:0,y:0};for(var c=0;c<s.length;c++)i.x+=s[c].x,i.y+=s[c].y;i.x/=s.length,i.y/=s.length,i.radius=Math.max.apply(null,s.map(function(t){return e+sigma.utils.getDistance(i.x,i.y,t.x,t.y)})),t.push({x:i.x,y:i.y,radius:i.radius,points:s}),t[a]=t[l]=null;break}}return t}(h,c,v)),_&&M(h,d,!0),M(h,d),d.restore())}sigma.renderers.canvas.prototype.halo=e,sigma.renderers.webgl.prototype.halo=e}.call(this),function(t){"use strict";if("undefined"==typeof sigma)throw new Error("sigma is not declared");sigma.utils.pkg("sigma.layout.noverlap");var n={speed:3,scaleNodes:1.2,nodeMargin:5,gridSize:20,permittedExpansion:1.1,rendererIndex:0,maxIterations:500},i={},r={};function s(){var S=this;this.init=function(t,e){if(e=e||{},this.sigInst=t,this.config=sigma.utils.extend(e,n),this.easing=e.easing,this.duration=e.duration,e.nodes&&(this.nodes=e.nodes,delete e.nodes),!sigma.plugins||void 0===sigma.plugins.animate)throw new Error("sigma.plugins.animate is not declared");this.running=!1},this.atomicGo=function(){if(!this.running||this.iterCount<1)return!1;var t,e,s,o,a,n,i,r,l,c,h,u,d,f,p,g,m,v,y,b,_,w=this.nodes||this.sigInst.graph.nodes(),x=w.length,A=1/0,C=-1/0,E=1/0,k=-1/0;for(this.iterCount--,this.running=!1,t=0;t<x;t++)(e=w[t]).dn.dx=0,e.dn.dy=0,A=Math.min(A,e.dn_x-(e.dn_size*S.config.scaleNodes+S.config.nodeMargin)),C=Math.max(C,e.dn_x+(e.dn_size*S.config.scaleNodes+S.config.nodeMargin)),E=Math.min(E,e.dn_y-(e.dn_size*S.config.scaleNodes+S.config.nodeMargin)),k=Math.max(k,e.dn_y+(e.dn_size*S.config.scaleNodes+S.config.nodeMargin));for(o=C-A,a=k-E,i=(E+k)/2,A=(n=(A+C)/2)-S.config.permittedExpansion*o/2,C=n+S.config.permittedExpansion*o/2,E=i-S.config.permittedExpansion*a/2,k=i+S.config.permittedExpansion*a/2,r={},l=0;l<S.config.gridSize;l++)for(r[l]={},c=0;c<S.config.gridSize;c++)r[l][c]=[];for(t=0;t<x;t++)for(v=(e=w[t]).dn_x-(e.dn_size*S.config.scaleNodes+S.config.nodeMargin),y=e.dn_x+(e.dn_size*S.config.scaleNodes+S.config.nodeMargin),b=e.dn_y-(e.dn_size*S.config.scaleNodes+S.config.nodeMargin),_=e.dn_y+(e.dn_size*S.config.scaleNodes+S.config.nodeMargin),h=Math.floor(S.config.gridSize*(v-A)/(C-A)),u=Math.floor(S.config.gridSize*(y-A)/(C-A)),d=Math.floor(S.config.gridSize*(b-E)/(k-E)),f=Math.floor(S.config.gridSize*(_-E)/(k-E)),c=h;c<=u;c++)for(l=d;l<=f;l++)r[l][c].push(e.id);for(p={},l=0;l<S.config.gridSize;l++)for(c=0;c<S.config.gridSize;c++)r[l][c].forEach(function(e){for(p[e]||(p[e]=[]),g=Math.max(0,l-1);g<=Math.min(l+1,S.config.gridSize-1);g++)for(m=Math.max(0,c-1);m<=Math.min(c+1,S.config.gridSize-1);m++)r[g][m].forEach(function(t){t!==e&&-1===p[e].indexOf(t)&&p[e].push(t)})});for(t=0;t<x;t++)s=w[t],p[s.id].forEach(function(t){var e=S.sigInst.graph.nodes(t),n=e.dn_x-s.dn_x,i=e.dn_y-s.dn_y,r=Math.sqrt(n*n+i*i);r<s.dn_size*S.config.scaleNodes+S.config.nodeMargin+(e.dn_size*S.config.scaleNodes+S.config.nodeMargin)&&(S.running=!0,0<r?(e.dn.dx+=n/r*(1+s.dn_size),e.dn.dy+=i/r*(1+s.dn_size)):(e.dn.dx+=.01*o*(.5-Math.random()),e.dn.dy+=.01*a*(.5-Math.random())))});for(t=0;t<x;t++)(e=w[t]).fixed||(e.dn_x=e.dn_x+.1*e.dn.dx*S.config.speed,e.dn_y=e.dn_y+.1*e.dn.dy*S.config.speed);return this.running&&this.iterCount<1&&(this.running=!1),this.running},this.go=function(){for(this.iterCount=this.config.maxIterations;this.running;)this.atomicGo();this.stop()},this.start=function(){if(!this.running){var t=this.sigInst.graph.nodes(),e=this.sigInst.renderers[S.config.rendererIndex].options.prefix;this.running=!0;for(var n=0;n<t.length;n++)t[n].dn_x=t[n][e+"x"],t[n].dn_y=t[n][e+"y"],t[n].dn_size=t[n][e+"size"],t[n].dn={dx:0,dy:0};r[S.sigInst.id].dispatchEvent("start"),this.go()}},this.stop=function(){var e=this.sigInst.graph.nodes();if(this.running=!1,this.easing)r[S.sigInst.id].dispatchEvent("interpolate"),sigma.plugins.animate(S.sigInst,{x:"dn_x",y:"dn_y"},{easing:S.easing,onComplete:function(){S.sigInst.refresh();for(var t=0;t<e.length;t++)e[t].dn=null,e[t].dn_x=null,e[t].dn_y=null;r[S.sigInst.id].dispatchEvent("stop")},duration:S.duration});else{for(var t=0;t<e.length;t++)e[t].x=e[t].dn_x,e[t].y=e[t].dn_y;this.sigInst.refresh();for(t=0;t<e.length;t++)e[t].dn=null,e[t].dn_x=null,e[t].dn_y=null;r[S.sigInst.id].dispatchEvent("stop")}},this.kill=function(){this.sigInst=null,this.config=null,this.easing=null}}sigma.prototype.configNoverlap=function(t){var e=this;if(!t)throw new Error('Missing argument: "config"');return i[e.id]||(i[e.id]=new s,r[e.id]={},sigma.classes.dispatcher.extend(r[e.id]),e.bind("kill",function(){i[e.id].kill(),i[e.id]=null,r[e.id]=null})),i[e.id].init(e,t),r[e.id]},sigma.prototype.startNoverlap=function(t){return t&&this.configNoverlap(this,t),i[this.id].start(),r[this.id]},sigma.prototype.isNoverlapRunning=function(){return!!i[this.id]&&i[this.id].running}}.call(this),function(t){"use strict";if("undefined"==typeof sigma)throw new Error("sigma is not declared");sigma.utils.pkg("sigma.layouts.fruchtermanReingold");var n={autoArea:!0,area:1,gravity:10,speed:.1,iterations:1e3},i={},r={};function s(){var w=this;this.init=function(t,e){if(e=e||{},this.sigInst=t,this.config=sigma.utils.extend(e,n),this.easing=e.easing,this.duration=e.duration,!sigma.plugins||void 0===sigma.plugins.animate)throw new Error("sigma.plugins.animate is not declared");this.running=!1},this.atomicGo=function(){if(!this.running||this.iterCount<1)return!1;var t,e,n,i,r,s,o,a,l,c=this.sigInst.graph.nodes(),h=this.sigInst.graph.edges(),u=c.length,d=h.length;this.config.area=this.config.autoArea?u*u:this.config.area,this.iterCount--,this.running=0<this.iterCount;var f,p,g,m,v,y,b=Math.sqrt(this.config.area)/10,_=Math.sqrt(this.config.area/(1+u));for(t=0;t<u;t++)for((n=c[t]).fr||(n.fr_x=n.x,n.fr_y=n.y,n.fr={dx:0,dy:0}),e=0;e<u;e++)i=c[e],n.id!=i.id&&(s=n.fr_x-i.fr_x,o=n.fr_y-i.fr_y,0<(a=Math.sqrt(s*s+o*o)+.01)&&(l=_*_/a,n.fr.dx+=s/a*l,n.fr.dy+=o/a*l));for(t=0;t<d;t++)r=h[t],f=w.sigInst.graph.nodes(r.source),p=w.sigInst.graph.nodes(r.target),s=f.fr_x-p.fr_x,o=f.fr_y-p.fr_y,g=(a=Math.sqrt(s*s+o*o)+.01)*a/_,0<a&&(f.fr.dx-=s/a*g,f.fr.dy-=o/a*g,p.fr.dx+=s/a*g,p.fr.dy+=o/a*g);for(t=0;t<u;t++)n=c[t],m=Math.sqrt(n.fr_x*n.fr_x+n.fr_y*n.fr_y),v=.01*_*w.config.gravity*m,n.fr.dx-=v*n.fr_x/m,n.fr.dy-=v*n.fr_y/m,n.fr.dx*=w.config.speed,n.fr.dy*=w.config.speed,n.fixed||(s=n.fr.dx,o=n.fr.dy,0<(a=Math.sqrt(s*s+o*o))&&(y=Math.min(b*w.config.speed,a),n.fr_x+=s/a*y,n.fr_y+=o/a*y));return this.running},this.go=function(){for(this.iterCount=this.config.iterations;this.running;)this.atomicGo();this.stop()},this.start=function(){if(!this.running){var t=this.sigInst.graph.nodes();this.running=!0;for(var e=0;e<t.length;e++)t[e].fr_x=t[e].x,t[e].fr_y=t[e].y,t[e].fr={dx:0,dy:0};r[w.sigInst.id].dispatchEvent("start"),this.go()}},this.stop=function(){var e=this.sigInst.graph.nodes();if(this.running=!1,this.easing)r[w.sigInst.id].dispatchEvent("interpolate"),sigma.plugins.animate(w.sigInst,{x:"fr_x",y:"fr_y"},{easing:w.easing,onComplete:function(){w.sigInst.refresh();for(var t=0;t<e.length;t++)e[t].fr=null,e[t].fr_x=null,e[t].fr_y=null;r[w.sigInst.id].dispatchEvent("stop")},duration:w.duration});else{for(var t=0;t<e.length;t++)e[t].x=e[t].fr_x,e[t].y=e[t].fr_y;this.sigInst.refresh();for(t=0;t<e.length;t++)e[t].fr=null,e[t].fr_x=null,e[t].fr_y=null;r[w.sigInst.id].dispatchEvent("stop")}},this.kill=function(){this.sigInst=null,this.config=null,this.easing=null}}sigma.layouts.fruchtermanReingold.configure=function(t,e){if(!t)throw new Error('Missing argument: "sigInst"');if(!e)throw new Error('Missing argument: "config"');return i[t.id]||(i[t.id]=new s,r[t.id]={},sigma.classes.dispatcher.extend(r[t.id]),t.bind("kill",function(){i[t.id].kill(),i[t.id]=null,r[t.id]=null})),i[t.id].init(t,e),r[t.id]},sigma.layouts.fruchtermanReingold.start=function(t,e){if(!t)throw new Error('Missing argument: "sigInst"');return e&&this.configure(t,e),i[t.id].start(),r[t.id]},sigma.layouts.fruchtermanReingold.isRunning=function(t){if(!t)throw new Error('Missing argument: "sigInst"');return!!i[t.id]&&i[t.id].running},sigma.layouts.fruchtermanReingold.progress=function(t){if(!t)throw new Error('Missing argument: "sigInst"');return(i[t.id].config.iterations-i[t.id].iterCount)/i[t.id].config.iterations}}.call(this),function(t){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";var m,a,v,h;function l(t){if(-1==t.indexOf(";base64,")){var e=(i=t.split(","))[0].split(":")[1],n=decodeURIComponent(i[1]);return new Blob([n],{type:e})}e=(i=t.split(";base64,"))[0].split(":")[1];for(var i,r=(n=window.atob(i[1])).length,s=new Uint8Array(r),o=0;o<r;++o)s[o]=n.charCodeAt(o);return new Blob([s],{type:e})}function y(t,e,n){var i=Math.min(n/t,n/e);return{width:t*i,height:e*i}}function c(t,e,n){var i,r,s,o,a,l=n.margin||0,c={width:e.width,height:e.height};return n.clips||n.size?n.size&&1<=n.size&&(c=y(e.width,e.height,n.size)):(r=t,s=e,o=n,(a=sigma.utils.getBoundaries(r.graph,s.camera.readPrefix)).minX/=o.zoomRatio,a.minY/=o.zoomRatio,a.maxX/=o.zoomRatio,a.maxY/=o.zoomRatio,c={width:(i=a).maxX-i.minX+2*i.sizeMax,height:i.maxY-i.minY+2*i.sizeMax}),c.width+=l,c.height+=l,c}function i(t,e,n){if((n=n||{}).format&&!(n.format in a))throw Error('sigma.renderers.image: unsupported format "'+n.format+'".');var i=c(t,e,n),r=t.settings("batchEdgesDrawing");r&&t.settings("batchEdgesDrawing",!1),n.clip||this.clone(t,n,i);var s=this.draw(e,n,i);t.settings("batchEdgesDrawing",r);var o=s.toDataURL(a[n.format||"png"]);return n.download&&function(t,e,n){if(n=n||"graph."+e,navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(l(t),n);else if(navigator.msSaveBlob)navigator.msSaveBlob(l(t),n);else{var i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("download",n),document.body.appendChild(i),i.click(),document.body.removeChild(i)}}(o,n.format||"png",n.filename),o}sigma.utils.pkg("sigma.plugins"),m=["scene","edges","nodes","labels"],a={png:"image/png",jpg:"image/jpeg",gif:"image/gif",tiff:"image/tiff"},i.prototype.clone=function(t,i,r){i.tmpContainer=i.tmpContainer||"image-container";var e=sigma.utils.getPixelRatio(),s=t.settings("webglOversamplingRatio"),n=document.getElementById(i.tmpContainer);n||((n=document.createElement("div")).id=i.tmpContainer,document.body.appendChild(n)),n.setAttribute("style","width:"+Math.round(r.width/e)+"px;height:"+Math.round(r.height/e)+"px;");var o=t.addRenderer({container:document.getElementById(i.tmpContainer),type:"canvas",settings:{batchEdgesDrawing:!0,drawLabels:!!i.labels}});o.camera.ratio=0<i.zoomRatio?i.zoomRatio:1,i.size||(o.camera.ratio*=e);var a=o instanceof sigma.renderers.webgl,l=!1,c=[];v=document.createElement("canvas"),h=v.getContext("2d"),t.refresh(),m.forEach(function(t){if(o.contexts[t]&&(!1!==i.labels||"labels"!==t)){var e=o.domElements[t]||o.domElements.scene,n=o.contexts[t];l||(v.width=r.width,v.height=r.height,a&&n instanceof WebGLRenderingContext&&(v.width/=s,v.height/=s),l=!0),n instanceof WebGLRenderingContext?h.drawImage(e,0,0,e.width/s,e.height/s):h.drawImage(e,0,0),~c.indexOf(n)||c.push(n)}}),c=[],t.killRenderer(o),n.parentNode.removeChild(n)},i.prototype.draw=function(l,c,h){var u=l instanceof sigma.renderers.webgl,d=!1,f=[],p=document.createElement("canvas"),g=p.getContext("2d");return m.forEach(function(t){if(l.contexts[t]&&(!1!==c.labels||"labels"!==t)){var e=l.domElements[t]||l.domElements.scene,n=l.contexts[t];if(!~f.indexOf(n)){if(!d){var i,r;if(c.clip){var o=!c.size||c.size<1?window.innerWidth:c.size;i=e.width,r=e.height,h=y(i,r,o)}else i=v.width,r=v.height;if(p.width=h.width,p.height=h.height,!u&&!n instanceof WebGLRenderingContext){var a=s.settings("webglOversamplingRatio");p.width*=a,p.height*=a}d=!0,c.background&&(g.rect(0,0,p.width,p.height),g.fillStyle=c.background,g.fill())}g.drawImage(c.clip?e:v,0,0,p.width,p.height),f.push(n)}}}),f=[],p};var r=null;sigma.plugins.image=function(t,e,n){return sigma.plugins.killImage(),r||(r=new i(t,e,n)),r},sigma.plugins.killImage=function(){r instanceof i&&(h=v=r=null)}}.call(this),function(t){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.curve=function(t,e,n,i,r){if("string"==typeof t.label){var s=r("prefix")||"",o=t[s+"size"]||1;if(!(o<r("edgeLabelThreshold"))){var a,l,c,h=e[s+"size"],u=e[s+"x"],d=e[s+"y"],f=n[s+"x"],p=n[s+"y"],g=f-u,m=p-d,v=u<f?1:-1,y={};e.id===n.id?(y=sigma.utils.getSelfLoopControlPoints(u,d,h),l=sigma.utils.getPointOnBezierCurve(.5,u,d,f,p,y.x1,y.y1,y.x2,y.y2),c=Math.atan2(1,1)):(y=sigma.utils.getQuadraticControlPoint(u,d,f,p),l=sigma.utils.getPointOnQuadraticCurve(.5,u,d,f,p,y.x,y.y),c=Math.atan2(m*v,g*v)),a="fixed"===r("edgeLabelSize")?r("defaultEdgeLabelSize"):r("defaultEdgeLabelSize")*o*Math.pow(o,-1/r("edgeLabelSizePowRatio")),i.save(),t.active?(i.font=[r("activeFontStyle"),a+"px",r("activeFont")||r("font")].join(" "),i.fillStyle="edge"===r("edgeActiveColor")?t.active_color||r("defaultEdgeActiveColor"):r("defaultEdgeLabelActiveColor")):(i.font=[r("fontStyle"),a+"px",r("font")].join(" "),i.fillStyle="edge"===r("edgeLabelColor")?t.color||r("defaultEdgeColor"):r("defaultEdgeLabelColor")),i.textAlign="center",i.textBaseline="alphabetic",i.translate(l.x,l.y),i.rotate(c),i.fillText(t.label,0,-o/2-3),i.restore()}}}}.call(this),function(t){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.curvedArrow=function(t,e,n,i,r){sigma.canvas.edges.labels.curve(t,e,n,i,r)}}.call(this),function(t){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.def=function(t,e,n,i,r){if("string"==typeof t.label&&e!=n){var s=r("prefix")||"",o=t[s+"size"]||1;if(!(o<r("edgeLabelThreshold"))){if(0===r("edgeLabelSizePowRatio"))throw'"edgeLabelSizePowRatio" must not be 0.';var a,l=(e[s+"x"]+n[s+"x"])/2,c=(e[s+"y"]+n[s+"y"])/2,h=n[s+"x"]-e[s+"x"],u=n[s+"y"]-e[s+"y"],d=e[s+"x"]<n[s+"x"]?1:-1,f=Math.atan2(u*d,h*d);a="fixed"===r("edgeLabelSize")?r("defaultEdgeLabelSize"):r("defaultEdgeLabelSize")*o*Math.pow(o,-1/r("edgeLabelSizePowRatio")),i.save(),t.active?(i.font=[r("activeFontStyle"),a+"px",r("activeFont")||r("font")].join(" "),i.fillStyle="edge"===r("edgeActiveColor")?t.active_color||r("defaultEdgeActiveColor"):r("defaultEdgeLabelActiveColor")):(i.font=[r("fontStyle"),a+"px",r("font")].join(" "),i.fillStyle="edge"===r("edgeLabelColor")?t.color||r("defaultEdgeColor"):r("defaultEdgeLabelColor")),i.textAlign="center",i.textBaseline="alphabetic",i.translate(l,c),i.rotate(f),i.fillText(t.label,0,-o/2-3),i.restore()}}}}.call(this),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges");sigma.canvas.edges.autoCurve=function(t){var s,o=t.settings("autoCurveRatio"),a=t.settings("autoCurveSortByDirection"),l=t.settings("defaultEdgeType"),e=t.graph.edges(),c={key:function(t){var e=t.source+","+t.target;return this[e]||!a&&this[e=t.target+","+t.source]||(a&&this[t.target+","+t.source]?this[e]={i:1,n:1}:this[e]={i:0,n:0}),e},inc:function(t){this[this.key(t)].n++}};e.forEach(function(t){c.inc(t)}),e.forEach(function(t){var e,n,i,r;s=c.key(t),1<c[s].n||0<c[s].i?(t.cc||("arrow"===t.type||"tapered"===t.type||"arrow"===l||"tapered"===l?(t.cc_prev_type||(t.cc_prev_type=t.type),t.type="curvedArrow"):(t.cc_prev_type||(t.cc_prev_type=t.type),t.type="curve")),t.cc=(e=o,n=c[s].n,i=c[s].i++,a?{y:(r=e*n/i)||Number.POSITIVE_INFINITY}:{y:(r=e-e/(n/2)*i)?1/r:n})):t.cc&&(t.type=t.cc_prev_type,t.cc_prev_type=void 0,t.cc=void 0)})}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.tapered=function(t,e,n,i,r){var s=t.active?t.active_color||r("defaultEdgeActiveColor"):t.color,o=t[(l=r("prefix")||"")+"size"]||1,a=r("edgeColor"),l=r("prefix")||"",c=r("defaultNodeColor"),h=r("defaultEdgeColor"),u=e[l+"x"],d=e[l+"y"],f=n[l+"x"],p=n[l+"y"],g=sigma.utils.getDistance(u,d,f,p);if(!s)switch(a){case"source":s=e.color||c;break;case"target":s=n.color||c;break;default:s=h}var m=sigma.utils.getCircleIntersection(u,d,o,f,p,g);i.save(),t.active?i.fillStyle="edge"===r("edgeActiveColor")?s||h:r("defaultEdgeActiveColor"):i.fillStyle=s,i.globalAlpha=.65,i.beginPath(),i.moveTo(f,p),i.lineTo(m.xi,m.yi),i.lineTo(m.xi_prime,m.yi_prime),i.closePath(),i.fill(),i.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.dotted=function(t,e,n,i,r){var s=t.active?t.active_color||r("defaultEdgeActiveColor"):t.color,o=r("prefix")||"",a=t[o+"size"]||1,l=r("edgeColor"),c=r("defaultNodeColor"),h=r("defaultEdgeColor");if(!s)switch(l){case"source":s=e.color||c;break;case"target":s=n.color||c;break;default:s=h}i.save(),t.active?i.strokeStyle="edge"===r("edgeActiveColor")?s||h:r("defaultEdgeActiveColor"):i.strokeStyle=s,i.setLineDash([2]),i.lineWidth=a,i.beginPath(),i.moveTo(e[o+"x"],e[o+"y"]),i.lineTo(n[o+"x"],n[o+"y"]),i.stroke(),i.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.dashed=function(t,e,n,i,r){var s=t.active?t.active_color||r("defaultEdgeActiveColor"):t.color,o=r("prefix")||"",a=t[o+"size"]||1,l=r("edgeColor"),c=r("defaultNodeColor"),h=r("defaultEdgeColor");if(!s)switch(l){case"source":s=e.color||c;break;case"target":s=n.color||c;break;default:s=h}i.save(),t.active?i.strokeStyle="edge"===r("edgeActiveColor")?s||h:r("defaultEdgeActiveColor"):i.strokeStyle=s,i.setLineDash([8,3]),i.lineWidth=a,i.beginPath(),i.moveTo(e[o+"x"],e[o+"y"]),i.lineTo(n[o+"x"],n[o+"y"]),i.stroke(),i.restore()}}(),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins");var s=0,n={};function d(t){if(n[t])return n[t];var e=[0,0,0];return t.match(/^#/)?e=3===(t=(t||"").replace(/^#/,"")).length?[parseInt(t.charAt(0)+t.charAt(0),16),parseInt(t.charAt(1)+t.charAt(1),16),parseInt(t.charAt(2)+t.charAt(2),16)]:[parseInt(t.charAt(0)+t.charAt(1),16),parseInt(t.charAt(2)+t.charAt(3),16),parseInt(t.charAt(4)+t.charAt(5),16)]:t.match(/^ *rgba? *\(/)&&(e=[+(t=t.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/))[1],+t[2],+t[3]]),n[t]={r:e[0],g:e[1],b:e[2]},n[t]}sigma.plugins.animate=function(n,o,t){var i,a,e,r=t||{},l=++s,c=r.duration||n.settings("animationsTime"),h="string"==typeof r.easing?sigma.utils.easings[r.easing]:"function"==typeof r.easing?r.easing:sigma.utils.easings.quadraticInOut,u=sigma.utils.dateNow();for(e in i=r.nodes&&r.nodes.length?"object"==typeof r.nodes[0]?r.nodes:n.graph.nodes(r.nodes):n.graph.nodes(),a=i.reduce(function(t,e){var n;for(n in t[e.id]={},o)n in e&&(t[e.id][n]=e[n]);return t},{}),n.animations=n.animations||Object.create({}),sigma.plugins.kill(n),n.cameras)n.cameras[e].edgequadtree._enabled=!1;!function t(){var s=(sigma.utils.dateNow()-u)/c;if(1<=s){var e;for(e in i.forEach(function(t){for(var e in o)e in o&&(t[e]=t[o[e]])}),n.cameras)n.cameras[e].edgequadtree._enabled=!0;n.refresh(),"function"==typeof r.onComplete&&r.onComplete()}else s=h(s),i.forEach(function(t){for(var e in o)e in o&&(e.match(/color$/)?t[e]=(n=a[t.id][e],i=t[o[e]],r=s,n=d(n),i=d(i),"rgb("+[0|n.r*(1-r)+i.r*r,0|n.g*(1-r)+i.g*r,0|n.b*(1-r)+i.b*r].join(",")+")"):t[e]=t[o[e]]*s+a[t.id][e]*(1-s));var n,i,r}),n.refresh(),n.animations[l]=requestAnimationFrame(t)}()},sigma.plugins.kill=function(t){for(var e in t.animations||{})cancelAnimationFrame(t.animations[e]);for(e in t.cameras)t.cameras[e].edgequadtree._enabled=!0}}.call(window),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";function n(t,e){sigma.classes.dispatcher.extend(this);var m=this,v=t,r=document.body,y=e,s=e.container.lastChild,b=e.camera,_=null,w="",n=[],i={},o=!1,x=!1;function a(t){i[t.data.node.id]||(n.push(t.data.node),i[t.data.node.id]=!0,n.length&&!o&&(_=n[n.length-1],s.addEventListener("mousedown",c)))}function l(t){var e=n.map(function(t){return t}).indexOf(t.data.node);n.splice(e,1),delete i[t.data.node.id],n.length&&!o?_=n[n.length-1]:s.removeEventListener("mousedown",c)}function c(t){o=!0;var e=v.graph.nodes().length;if(_&&1<e){var n,i;for(n in s.removeEventListener("mousedown",c),r.addEventListener("mousemove",u),r.addEventListener("mouseup",h),v.cameras)void 0!==(i=v.cameras[n]).edgequadtree&&(i.edgequadtree._enabled=!1);y.settings({mouseEnabled:!1,enableHovering:!1}),v.refresh(),m.dispatchEvent("startdrag",{node:_,captor:t,renderer:y})}}function h(t){var e,n;for(e in o=!1,s.addEventListener("mousedown",c),r.removeEventListener("mousemove",u),r.removeEventListener("mouseup",h),v.cameras)void 0!==(n=v.cameras[e]).edgequadtree&&(n.edgequadtree._enabled=!0);y.settings({mouseEnabled:!0,enableHovering:!0}),v.refresh(),x&&m.dispatchEvent("drop",{node:_,captor:t,renderer:y}),m.dispatchEvent("dragend",{node:_,captor:t,renderer:y}),x=!1,_=null}function u(g){if(-1<navigator.userAgent.toLowerCase().indexOf("firefox")){clearTimeout(t);var t=setTimeout(e,0)}else e();function e(){for(var t,e,n,i=(t=y.container,e=window.getComputedStyle(t),n=function(t){return parseInt(e.getPropertyValue(t).replace("px",""))||0},{left:t.getBoundingClientRect().left+n("padding-left"),top:t.getBoundingClientRect().top+n("padding-top")}),r=g.clientX-i.left,s=g.clientY-i.top,o=Math.cos(b.angle),a=Math.sin(b.angle),l=v.graph.nodes(),c=[],h=0;h<2;h++){var u=l[h],d={x:u.x*o+u.y*a,y:u.y*o-u.x*a,renX:u[w+"x"],renY:u[w+"y"]};c.push(d)}if(c[0].x===c[1].x&&c[0].y===c[1].y){var f=0===c[0].renX?1:c[0].renX,p=0===c[0].renY?1:c[0].renY;r=c[0].x/f*(r-c[0].renX)+c[0].x,s=c[0].y/p*(s-c[0].renY)+c[0].y}else{f=(c[1].renX-c[0].renX)/(c[1].x-c[0].x),p=(c[1].renY-c[0].renY)/(c[1].y-c[0].y);c[1].x===c[0].x&&(f=p),c[1].y===c[0].y&&(p=f),r=(r-c[0].renX)/f+c[0].x,s=(s-c[0].renY)/p+c[0].y}_.x=r*o-s*a,_.y=s*o+r*a,v.refresh(),x=!0,m.dispatchEvent("drag",{node:_,captor:g,renderer:y})}}e instanceof sigma.renderers.svg&&(s=e.container.firstChild),w=e instanceof sigma.renderers.webgl?e.options.prefix.substr(5):e.options.prefix,e.bind("overNode",a),e.bind("outNode",l),e.bind("click",function(t){o=!1,r.removeEventListener("mousemove",u),r.removeEventListener("mouseup",h),n.length||(_=null)}),v.bind("kill",function(){m.unbindAll()}),this.unbindAll=function(){s.removeEventListener("mousedown",c),r.removeEventListener("mousemove",u),r.removeEventListener("mouseup",h),y.unbind("overNode",a),y.unbind("outNode",l)}}sigma.utils.pkg("sigma.plugins");var i={};sigma.plugins.dragNodes=function(t,e){return i[t.id]||(i[t.id]=new n(t,e)),t.bind("kill",function(){sigma.plugins.killDragNodes(t)}),i[t.id]},sigma.plugins.killDragNodes=function(t){i[t.id]instanceof n&&(i[t.id].unbindAll(),delete i[t.id])}}.call(window),function(t){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins.fullScreen");var n=null,i=null;function r(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}sigma.plugins.fullScreen=function(t){var e=t||{};n=e.container?"object"==typeof e.container?e.container:document.getElementById(e.container):this.container,i=null,e.btnId?((i=document.getElementById(e.btnId)).removeEventListener("click",r),i.addEventListener("click",r)):r()}}.call(this),function(undefined){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins"),sigma.classes.graph.hasMethod("adjacentNodes")||sigma.classes.graph.addMethod("adjacentNodes",function(t){if("string"!=typeof t)throw"adjacentNodes: the node id must be a string.";var e,n=[];for(e in this.allNeighborsIndex[t])n.push(this.nodesIndex[e]);return n}),sigma.classes.graph.hasMethod("adjacentEdges")||sigma.classes.graph.addMethod("adjacentEdges",function(t){if("string"!=typeof t)throw"adjacentEdges: the node id must be a string.";var e,n,i=this.allNeighborsIndex[t],r=[];for(n in i)for(e in i[n])r.push(i[n][e]);return r});var _g=undefined,_s=undefined,_chain=[],_keysIndex=Object.create(null),Processors={};function register(t,e,n){if(n!=undefined&&"string"!=typeof n)throw'The filter key "'+n.toString()+'" must be a string.';if(n!=undefined&&!n.length)throw"The filter key must be a non-empty string.";if("function"!=typeof t)throw'The predicate of key "'+n+'" must be a function.';if("undo"===n)throw'"undo" is a reserved key.';if(_keysIndex[n])throw'The filter "'+n+'" already exists.';n&&(_keysIndex[n]=!0),_chain.push({key:n,processor:t,predicate:e})}function unregister(e){for(var t in _chain=_chain.filter(function(t){return!(t.key in e)}),e)delete _keysIndex[t]}function Filter(t){_g=(_s=t).graph}function deepCopy(o){var copy=Object.create(null);for(var i in o)"object"==typeof o[i]&&null!==o[i]?copy[i]=deepCopy(o[i]):"function"==typeof o[i]&&null!==o[i]?eval(" copy[i] = "+o[i].toString()):copy[i]=o[i];return copy}function cloneChain(t){for(var e=t.slice(0),n=0,i=e.length;n<i;n++)e[n]=deepCopy(e[n]),"function"==typeof e[n].processor&&(e[n].processor="filter.processors."+e[n].processor.name);return e}Processors.nodes=function(t){for(var e=_g.nodes(),n=e.length,i=_g.edges(),r=i.length;n--;)e[n].hidden=!t.call(_g,e[n])||e[n].hidden;for(;r--;)(_g.nodes(i[r].source).hidden||_g.nodes(i[r].target).hidden)&&(i[r].hidden=!0)},Processors.edges=function(t){for(var e=_g.edges(),n=e.length;n--;)e[n].hidden=!t.call(_g,e[n])||e[n].hidden},Processors.neighbors=function(t){for(var e=_g.nodes(),n=e.length,i=_g.edges(),r=i.length,s=_g.adjacentNodes(t),o=s.length,a={};o--;)a[s[o].id]=!0;for(;n--;)e[n].id===t||e[n].id in a||(e[n].hidden=!0);for(;r--;)(_g.nodes(i[r].source).hidden||_g.nodes(i[r].target).hidden)&&(i[r].hidden=!0)},Filter.prototype.nodesBy=function(t,e){return register(Processors.nodes,t,e),this},Filter.prototype.edgesBy=function(t,e){return register(Processors.edges,t,e),this},Filter.prototype.neighborsOf=function(t,e){if("string"!=typeof t)throw'The node id "'+t.toString()+'" must be a string.';if(!t.length)throw"The node id must be a non-empty string.";return register(Processors.neighbors,t,e),this},Filter.prototype.apply=function(){for(var t=0,e=_chain.length;t<e;++t)_chain[t].processor(_chain[t].predicate);return _chain[0]&&"undo"===_chain[0].key&&_chain.shift(),_s.refresh(),this},Filter.prototype.undo=function(t){var e=Object.create(null),n=arguments.length;if(1===n)if("[object Array]"===Object.prototype.toString.call(t))for(var i=0,r=t.length;i<r;i++)e[t[i]]=!0;else e[t]=!0;else if(1<n)for(i=0;i<n;i++)e[arguments[i]]=!0;else this.clear();return unregister(e),_chain.unshift({key:"undo",processor:function(){for(var t=_g.nodes(),e=t.length,n=_g.edges(),i=n.length;e--;)t[e].hidden=!1;for(;i--;)n[i].hidden=!1}}),this},Filter.prototype.clear=function(){return _chain.length=0,_keysIndex=Object.create(null),this},Filter.prototype.export=function(){return cloneChain(_chain)},Filter.prototype.import=function(t){if(t===undefined)throw"Wrong arguments.";if("[object Array]"!==Object.prototype.toString.call(t))throw'The chain" must be an array.';for(var e=cloneChain(t),n=0,i=e.length;n<i;n++){if(e[n].predicate===undefined||e[n].processor===undefined)throw"Wrong arguments.";if(e[n].key!=undefined&&"string"!=typeof e[n].key)throw'The filter key "'+e[n].key.toString()+'" must be a string.';if("function"!=typeof e[n].predicate)throw'The predicate of key "'+e[n].key+'" must be a function.';if("string"!=typeof e[n].processor)throw'The processor of key "'+e[n].key+'" must be a string.';switch(e[n].processor){case"filter.processors.nodes":e[n].processor=Processors.nodes;break;case"filter.processors.edges":e[n].processor=Processors.edges;break;case"filter.processors.neighbors":e[n].processor=Processors.neighbors;break;default:throw"Unknown processor "+e[n].processor}}return _chain=e,this};var filter=null;sigma.plugins.filter=function(t){return filter||(filter=new Filter(t)),filter}}.call(this),function(i){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins");var r=i,s={};function o(t,e,n){if(sigma.classes.dispatcher.extend(this),sigma.renderers.webgl&&e instanceof sigma.renderers.webgl)throw new Error("The sigma.plugins.lasso is not compatible with the WebGL renderer");this.sigmaInstance=t,this.renderer=e,this.drawingCanvas=i,this.drawingContext=i,this.drewPoints=[],this.selectedNodes=[],this.isActive=!1,this.isDrawing=!1,r=document.body,this.settings=new sigma.classes.configurable({strokeStyle:"black",lineWidth:2,fillWhileDrawing:!1,fillStyle:"rgba(200, 200, 200, 0.25)",cursor:"crosshair"},n||{})}o.prototype.clear=function(){return this.deactivate(),this.sigmaInstance=i,this.renderer=i,this},o.prototype.activate=function(){return this.sigmaInstance&&!this.isActive&&(this.isActive=!0,this.renderer.domElements.lasso||(this.renderer.initDOM("canvas","lasso"),this.drawingCanvas=this.renderer.domElements.lasso,this.drawingCanvas.width=this.renderer.container.offsetWidth,this.drawingCanvas.height=this.renderer.container.offsetHeight,this.renderer.container.appendChild(this.drawingCanvas),this.drawingContext=this.drawingCanvas.getContext("2d"),this.drawingCanvas.style.cursor=this.settings("cursor")),t.apply(this)),this},o.prototype.deactivate=function(){return this.sigmaInstance&&this.isActive&&(this.isActive=!1,this.isDrawing=!1,e.apply(this),this.renderer.domElements.lasso&&(this.renderer.container.removeChild(this.renderer.domElements.lasso),delete this.renderer.domElements.lasso,this.drawingCanvas.style.cursor="",this.drawingCanvas=i,this.drawingContext=i,this.drewPoints=[])),this};var t=function(){this.drawingCanvas.addEventListener("mousedown",n.bind(this)),r.addEventListener("mousemove",a.bind(this)),r.addEventListener("mouseup",l.bind(this)),this.drawingCanvas.addEventListener("touchstart",n.bind(this)),r.addEventListener("touchmove",a.bind(this)),r.addEventListener("touchcancel",l.bind(this)),r.addEventListener("touchleave",l.bind(this)),r.addEventListener("touchend",l.bind(this))},e=function(){this.drawingCanvas.removeEventListener("mousedown",n.bind(this)),r.removeEventListener("mousemove",a.bind(this)),r.removeEventListener("mouseup",l.bind(this)),this.drawingCanvas.removeEventListener("touchstart",n.bind(this)),this.drawingCanvas.removeEventListener("touchmove",a.bind(this)),r.removeEventListener("touchcancel",l.bind(this)),r.removeEventListener("touchleave",l.bind(this)),r.removeEventListener("touchend",l.bind(this))};function n(t){var e=this.drawingCanvas.getBoundingClientRect();this.isActive&&(this.isDrawing=!0,this.drewPoints=[],this.selectedNodes=[],this.sigmaInstance.refresh(),this.drewPoints.push({x:t.clientX-e.left,y:t.clientY-e.top}),this.drawingCanvas.style.cursor=this.settings("cursor"),t.stopPropagation())}function a(t){if(this.isActive&&this.isDrawing){var e=0,n=0,i=this.drawingCanvas.getBoundingClientRect();switch(t.type){case"touchmove":e=t.touches[0].clientX,n=t.touches[0].clientY;break;default:e=t.clientX,n=t.clientY}this.drewPoints.push({x:e-i.left,y:n-i.top}),this.drawingContext.lineWidth=this.settings("lineWidth"),this.drawingContext.strokeStyle=this.settings("strokeStyle"),this.drawingContext.fillStyle=this.settings("fillStyle"),this.drawingContext.lineJoin="round",this.drawingContext.lineCap="round",this.drawingContext.clearRect(0,0,this.drawingContext.canvas.width,this.drawingContext.canvas.height);var r=this.drewPoints[0],s=this.drewPoints[1],o=this.drewPoints.length;this.drawingContext.beginPath(),this.drawingContext.moveTo(r.x,r.y);for(var a=1;a<o;a++){var l=(h=s,{x:(c=r).x+(h.x-c.x)/2,y:c.y+(h.y-c.y)/2});this.drawingContext.quadraticCurveTo(r.x,r.y,l.x,l.y),r=this.drewPoints[a],s=this.drewPoints[a+1]}this.drawingContext.lineTo(r.x,r.y),this.drawingContext.stroke(),this.settings("fillWhileDrawing")&&this.drawingContext.fill(),t.stopPropagation()}var c,h}function l(t){if(this.isActive&&this.isDrawing){this.isDrawing=!1;for(var e=this.renderer.nodesOnScreen,n=e.length,i=this.renderer.options.prefix||"";n--;){var r=e[n],s=r[i+"x"],o=r[i+"y"];this.drawingContext.isPointInPath(s,o)&&!r.hidden&&this.selectedNodes.push(r)}this.dispatchEvent("selectedNodes",this.selectedNodes),this.drawingContext.clearRect(0,0,this.drawingCanvas.width,this.drawingCanvas.height),this.drawingCanvas.style.cursor=this.settings("cursor"),t.stopPropagation()}}o.prototype.getSelectedNodes=function(){return this.selectedNodes},sigma.plugins.lasso=function(t,e,n){return s[t.id]||(s[t.id]=new o(t,e,n)),t.bind("kill",function(){s[t.id]instanceof o&&(s[t.id].clear(),delete s[t.id])}),s[t.id]}}.call(this),RegExp.escape=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},function(g){"use strict";var p;(p="undefined"!=typeof jQuery&&jQuery?jQuery:{}).csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(t,e){if(isNaN(t))return t;if(/\./.test(t))return parseFloat(t);var n=parseInt(t);return isNaN(n)?null:n}},parsers:{parse:function(t,e){var n=e.separator,i=e.delimiter;e.state.rowNum||(e.state.rowNum=1),e.state.colNum||(e.state.colNum=1);var r=[],s=[],o=0,a="",l=!1;function c(){if(o=0,a="",e.start&&e.state.rowNum<e.start)return s=[],e.state.rowNum++,void(e.state.colNum=1);if(e.onParseEntry===g)r.push(s);else{var t=e.onParseEntry(s,e.state);!1!==t&&r.push(t)}s=[],e.end&&e.state.rowNum>=e.end&&(l=!0),e.state.rowNum++,e.state.colNum=1}function h(){if(e.onParseValue===g)s.push(a);else{var t=e.onParseValue(a,e.state);!1!==t&&s.push(t)}a="",o=0,e.state.colNum++}var u=RegExp.escape(n),d=RegExp.escape(i),f=/(D|S|\r\n|\n|\r|[^DS\r\n]+)/,p=f.source;return p=(p=p.replace(/S/g,u)).replace(/D/g,d),f=new RegExp(p,"gm"),t.replace(f,function(t){if(!l)switch(o){case 0:if(t===n){a+="",h();break}if(t===i){o=1;break}if(/^(\r\n|\n|\r)$/.test(t)){h(),c();break}a+=t,o=3;break;case 1:if(t===i){o=2;break}a+=t,o=1;break;case 2:if(t===i){a+=t,o=1;break}if(t===n){h();break}if(/^(\r\n|\n|\r)$/.test(t)){h(),c();break}throw new Error("CSVDataError: Illegal State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");case 3:if(t===n){h();break}if(/^(\r\n|\n|\r)$/.test(t)){h(),c();break}if(t===i)throw new Error("CSVDataError: Illegal Quote [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]")}}),0!==s.length&&(h(),c()),r},splitLines:function(t,n){var i=n.separator,r=n.delimiter;n.state.rowNum||(n.state.rowNum=1);var e=[],s=0,o="",a=!1;function l(){if(s=0,n.start&&n.state.rowNum<n.start)return o="",void n.state.rowNum++;if(n.onParseEntry===g)e.push(o);else{var t=n.onParseEntry(o,n.state);!1!==t&&e.push(t)}o="",n.end&&n.state.rowNum>=n.end&&(a=!0),n.state.rowNum++}var c=RegExp.escape(i),h=RegExp.escape(r),u=/(D|S|\n|\r|[^DS\r\n]+)/,d=u.source;return d=(d=d.replace(/S/g,c)).replace(/D/g,h),u=new RegExp(d,"gm"),t.replace(u,function(t){if(!a)switch(s){case 0:if(t===i){o+=t,s=0;break}if(t===r){o+=t,s=1;break}if("\n"===t){l();break}if(/^\r$/.test(t))break;o+=t,s=3;break;case 1:if(t===r){o+=t,s=2;break}o+=t,s=1;break;case 2:var e=o.substr(o.length-1);if(t===r&&e===r){o+=t,s=1;break}if(t===i){o+=t,s=0;break}if("\n"===t){l();break}if("\r"===t)break;throw new Error("CSVDataError: Illegal state [Row:"+n.state.rowNum+"]");case 3:if(t===i){o+=t,s=0;break}if("\n"===t){l();break}if("\r"===t)break;if(t===r)throw new Error("CSVDataError: Illegal quote [Row:"+n.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+n.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+n.state.rowNum+"]")}}),""!==o&&l(),e},parseEntry:function(t,e){var n=e.separator,i=e.delimiter;e.state.rowNum||(e.state.rowNum=1),e.state.colNum||(e.state.colNum=1);var r=[],s=0,o="";function a(){if(e.onParseValue===g)r.push(o);else{var t=e.onParseValue(o,e.state);!1!==t&&r.push(t)}o="",s=0,e.state.colNum++}if(!e.match){var l=RegExp.escape(n),c=RegExp.escape(i),h=/(D|S|\n|\r|[^DS\r\n]+)/.source;h=(h=h.replace(/S/g,l)).replace(/D/g,c),e.match=new RegExp(h,"gm")}return t.replace(e.match,function(t){switch(s){case 0:if(t===n){o+="",a();break}if(t===i){s=1;break}if("\n"===t||"\r"===t)break;o+=t,s=3;break;case 1:if(t===i){s=2;break}o+=t,s=1;break;case 2:if(t===i){o+=t,s=1;break}if(t===n){a();break}if("\n"===t||"\r"===t)break;throw new Error("CSVDataError: Illegal State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");case 3:if(t===n){a();break}if("\n"===t||"\r"===t)break;if(t===i)throw new Error("CSVDataError: Illegal Quote [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]")}}),a(),r}},helpers:{collectPropertyNames:function(t){var e,n,i=[];for(e in t)for(n in t[e])t[e].hasOwnProperty(n)&&i.indexOf(n)<0&&"function"!=typeof t[e][n]&&i.push(n);return i}},toArray:function(t,e,n){e=e!==g?e:{};var i={};i.callback=n!==g&&"function"==typeof n&&n,i.separator="separator"in e?e.separator:p.csv.defaults.separator,i.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter;var r=e.state!==g?e.state:{};e={delimiter:i.delimiter,separator:i.separator,onParseEntry:e.onParseEntry,onParseValue:e.onParseValue,state:r};var s=p.csv.parsers.parseEntry(t,e);if(!i.callback)return s;i.callback("",s)},toArrays:function(t,e,n){e=e!==g?e:{};var i={};i.callback=n!==g&&"function"==typeof n&&n,i.separator="separator"in e?e.separator:p.csv.defaults.separator,i.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter;var r;if((e={delimiter:i.delimiter,separator:i.separator,onPreParse:e.onPreParse,onParseEntry:e.onParseEntry,onParseValue:e.onParseValue,onPostParse:e.onPostParse,start:e.start,end:e.end,state:{rowNum:1,colNum:1}}).onPreParse!==g&&e.onPreParse(t,e.state),r=p.csv.parsers.parse(t,e),e.onPostParse!==g&&e.onPostParse(r,e.state),!i.callback)return r;i.callback("",r)},toObjects:function(t,e,n){e=e!==g?e:{};var i={};i.callback=n!==g&&"function"==typeof n&&n,i.separator="separator"in e?e.separator:p.csv.defaults.separator,i.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter,i.headers="headers"in e?e.headers:p.csv.defaults.headers,e.start="start"in e?e.start:1,i.headers&&e.start++,e.end&&i.headers&&e.end++;var r,s=[];e={delimiter:i.delimiter,separator:i.separator,onPreParse:e.onPreParse,onParseEntry:e.onParseEntry,onParseValue:e.onParseValue,onPostParse:e.onPostParse,start:e.start,end:e.end,state:{rowNum:1,colNum:1},match:!1,transform:e.transform};var o={delimiter:i.delimiter,separator:i.separator,start:1,end:1,state:{rowNum:1,colNum:1}};e.onPreParse!==g&&e.onPreParse(t,e.state);var a=p.csv.parsers.splitLines(t,o),l=p.csv.toArray(a[0],e);r=p.csv.parsers.splitLines(t,e),e.state.colNum=1,e.state.rowNum=l?2:1;for(var c=0,h=r.length;c<h;c++){for(var u=p.csv.toArray(r[c],e),d={},f=0;f<l.length;f++)d[l[f]]=u[f];e.transform!==g?s.push(e.transform.call(g,d)):s.push(d),e.state.rowNum++}if(e.onPostParse!==g&&e.onPostParse(s,e.state),!i.callback)return s;i.callback("",s)},fromArrays:function(t,e,n){e=e!==g?e:{};var i={};i.callback=n!==g&&"function"==typeof n&&n,i.separator="separator"in e?e.separator:p.csv.defaults.separator,i.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter;var r,s,o,a,l="";for(o=0;o<t.length;o++){for(r=t[o],s=[],a=0;a<r.length;a++){var c=r[a]===g||null===r[a]?"":r[a].toString();-1<c.indexOf(i.delimiter)&&(c=c.replace(new RegExp(i.delimiter,"g"),i.delimiter+i.delimiter));var h="\n|\r|S|D";h=(h=h.replace("S",i.separator)).replace("D",i.delimiter),-1<c.search(h)&&(c=i.delimiter+c+i.delimiter),s.push(c)}l+=s.join(i.separator)+"\r\n"}if(!i.callback)return l;i.callback("",l)},fromObjects:function(t,e,n){e=e!==g?e:{};var i={};if(i.callback=n!==g&&"function"==typeof n&&n,i.separator="separator"in e?e.separator:p.csv.defaults.separator,i.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter,i.headers="headers"in e?e.headers:p.csv.defaults.headers,i.sortOrder="sortOrder"in e?e.sortOrder:"declare",i.manualOrder="manualOrder"in e?e.manualOrder:[],i.transform=e.transform,"string"==typeof i.manualOrder&&(i.manualOrder=p.csv.toArray(i.manualOrder,i)),i.transform!==g){var r,s=t;for(t=[],r=0;r<s.length;r++)t.push(i.transform.call(g,s[r]))}var o=p.csv.helpers.collectPropertyNames(t);if("alpha"===i.sortOrder&&o.sort(),0<i.manualOrder.length){var a=[].concat(i.manualOrder);for(c=0;c<o.length;c++)a.indexOf(o[c])<0&&a.push(o[c]);o=a}var l,c,h,u,d=[];for(i.headers&&d.push(o),l=0;l<t.length;l++){for(h=[],c=0;c<o.length;c++)(u=o[c])in t[l]&&"function"!=typeof t[l][u]?h.push(t[l][u]):h.push("");d.push(h)}return p.csv.fromArrays(d,e,i.callback)}},p.csvEntry2Array=p.csv.toArray,p.csv2Array=p.csv.toArrays,p.csv2Dictionary=p.csv.toObjects,"undefined"!=typeof module&&module.exports&&(module.exports=p.csv)}.call(this),function(undefined){"use strict";var _root=this,inWebWorker=!("document"in _root),Worker=function(t){var E,k,S,F={ppn:10,ppe:3,ppr:9,maxForce:10,iterations:0,converged:!1,settings:{linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5,startingIterations:1,iterationsPerRender:1}};var n,i={x:0,y:1,dx:2,dy:3,old_dx:4,old_dy:5,mass:6,convergence:7,size:8,fixed:9},r={source:0,target:1,weight:2},s={node:0,centerX:1,centerY:2,size:3,nextSibling:4,firstChild:5,mass:6,massCenterX:7,massCenterY:8};function T(t,e){if(t%F.ppn!=0)throw"np: non correct ("+t+").";if(t!==parseInt(t))throw"np: non int.";if(e in i)return t+i[e];throw"ForceAtlas2.Worker - Inexistant node property given ("+e+")."}function D(t,e){if(t%F.ppe!=0)throw"ep: non correct ("+t+").";if(t!==parseInt(t))throw"ep: non int.";if(e in r)return t+r[e];throw"ForceAtlas2.Worker - Inexistant edge property given ("+e+")."}function M(t,e){if(t%F.ppr!=0)throw"rp: non correct ("+t+").";if(t!==parseInt(t))throw"rp: non int.";if(e in s)return t+s[e];throw"ForceAtlas2.Worker - Inexistant region property given ("+e+")."}function o(t){F.settings=function(){var t,e,n={};for(t=arguments.length-1;0<=t;t--)for(e in arguments[t])n[e]=arguments[t][e];return n}(t,F.settings)}function a(){var t,e,n,i,r,s,o,a,l,c,h,u,d,f,p,g,m,v,y;for(n=0;n<F.nodesLength;n+=F.ppn)E[T(n,"old_dx")]=E[T(n,"dx")],E[T(n,"old_dy")]=E[T(n,"dy")],E[T(n,"dx")]=0,E[T(n,"dy")]=0;if(F.settings.outboundAttractionDistribution){for(n=l=0;n<F.nodesLength;n+=F.ppn)l+=E[T(n,"mass")];l/=F.nodesLength}if(F.settings.barnesHutOptimize){var b,_,w=1/0,x=-1/0,A=1/0,C=-1/0;for(S=[],n=0;n<F.nodesLength;n+=F.ppn)w=Math.min(w,E[T(n,"x")]),x=Math.max(x,E[T(n,"x")]),A=Math.min(A,E[T(n,"y")]),C=Math.max(C,E[T(n,"y")]);for(S[M(0,"node")]=-1,S[M(0,"centerX")]=(w+x)/2,S[M(0,"centerY")]=(A+C)/2,S[M(0,"size")]=Math.max(x-w,C-A),S[M(0,"nextSibling")]=-1,S[M(0,"firstChild")]=-1,S[M(0,"mass")]=0,S[M(0,"massCenterX")]=0,t=1,n=S[M(0,"massCenterY")]=0;n<F.nodesLength;n+=F.ppn)for(e=0;;)if(0<=S[M(e,"firstChild")])b=E[T(n,"x")]<S[M(e,"centerX")]?E[T(n,"y")]<S[M(e,"centerY")]?S[M(e,"firstChild")]:S[M(e,"firstChild")]+F.ppr:E[T(n,"y")]<S[M(e,"centerY")]?S[M(e,"firstChild")]+2*F.ppr:S[M(e,"firstChild")]+3*F.ppr,S[M(e,"massCenterX")]=(S[M(e,"massCenterX")]*S[M(e,"mass")]+E[T(n,"x")]*E[T(n,"mass")])/(S[M(e,"mass")]+E[T(n,"mass")]),S[M(e,"massCenterY")]=(S[M(e,"massCenterY")]*S[M(e,"mass")]+E[T(n,"y")]*E[T(n,"mass")])/(S[M(e,"mass")]+E[T(n,"mass")]),S[M(e,"mass")]+=E[T(n,"mass")],e=b;else{if(S[M(e,"node")]<0){S[M(e,"node")]=n;break}if(S[M(e,"firstChild")]=t*F.ppr,o=S[M(e,"size")]/2,a=S[M(e,"firstChild")],S[M(a,"node")]=-1,S[M(a,"centerX")]=S[M(e,"centerX")]-o,S[M(a,"centerY")]=S[M(e,"centerY")]-o,S[M(a,"size")]=o,S[M(a,"nextSibling")]=a+F.ppr,S[M(a,"firstChild")]=-1,S[M(a,"mass")]=0,S[M(a,"massCenterX")]=0,S[M(a,"massCenterY")]=0,a+=F.ppr,S[M(a,"node")]=-1,S[M(a,"centerX")]=S[M(e,"centerX")]-o,S[M(a,"centerY")]=S[M(e,"centerY")]+o,S[M(a,"size")]=o,S[M(a,"nextSibling")]=a+F.ppr,S[M(a,"firstChild")]=-1,S[M(a,"mass")]=0,S[M(a,"massCenterX")]=0,S[M(a,"massCenterY")]=0,a+=F.ppr,S[M(a,"node")]=-1,S[M(a,"centerX")]=S[M(e,"centerX")]+o,S[M(a,"centerY")]=S[M(e,"centerY")]-o,S[M(a,"size")]=o,S[M(a,"nextSibling")]=a+F.ppr,S[M(a,"firstChild")]=-1,S[M(a,"mass")]=0,S[M(a,"massCenterX")]=0,S[M(a,"massCenterY")]=0,a+=F.ppr,S[M(a,"node")]=-1,S[M(a,"centerX")]=S[M(e,"centerX")]+o,S[M(a,"centerY")]=S[M(e,"centerY")]+o,S[M(a,"size")]=o,S[M(a,"nextSibling")]=S[M(e,"nextSibling")],S[M(a,"firstChild")]=-1,S[M(a,"mass")]=0,S[M(a,"massCenterX")]=0,S[M(a,"massCenterY")]=0,t+=4,b=E[T(S[M(e,"node")],"x")]<S[M(e,"centerX")]?E[T(S[M(e,"node")],"y")]<S[M(e,"centerY")]?S[M(e,"firstChild")]:S[M(e,"firstChild")]+F.ppr:E[T(S[M(e,"node")],"y")]<S[M(e,"centerY")]?S[M(e,"firstChild")]+2*F.ppr:S[M(e,"firstChild")]+3*F.ppr,S[M(e,"mass")]=E[T(S[M(e,"node")],"mass")],S[M(e,"massCenterX")]=E[T(S[M(e,"node")],"x")],S[M(e,"massCenterY")]=E[T(S[M(e,"node")],"y")],S[M(b,"node")]=S[M(e,"node")],S[M(e,"node")]=-1,b!==(_=E[T(n,"x")]<S[M(e,"centerX")]?E[T(n,"y")]<S[M(e,"centerY")]?S[M(e,"firstChild")]:S[M(e,"firstChild")]+F.ppr:E[T(n,"y")]<S[M(e,"centerY")]?S[M(e,"firstChild")]+2*F.ppr:S[M(e,"firstChild")]+3*F.ppr)){S[M(_,"node")]=n;break}e=b}}if(F.settings.barnesHutOptimize)for(c=F.settings.scalingRatio,n=0;n<F.nodesLength;n+=F.ppn)for(e=0;;)if(0<=S[M(e,"firstChild")]){if(f=Math.sqrt(Math.pow(E[T(n,"x")]-S[M(e,"massCenterX")],2)+Math.pow(E[T(n,"y")]-S[M(e,"massCenterY")],2)),2*S[M(e,"size")]/f<F.settings.barnesHutTheta){if(h=E[T(n,"x")]-S[M(e,"massCenterX")],u=E[T(n,"y")]-S[M(e,"massCenterY")],F.settings.adjustSizes?0<f?(p=c*E[T(n,"mass")]*S[M(e,"mass")]/f/f,E[T(n,"dx")]+=h*p,E[T(n,"dy")]+=u*p):f<0&&(p=-c*E[T(n,"mass")]*S[M(e,"mass")]/f,E[T(n,"dx")]+=h*p,E[T(n,"dy")]+=u*p):0<f&&(p=c*E[T(n,"mass")]*S[M(e,"mass")]/f/f,E[T(n,"dx")]+=h*p,E[T(n,"dy")]+=u*p),S[M(e,"nextSibling")]<0)break;e=S[M(e,"nextSibling")];continue}e=S[M(e,"firstChild")]}else{if(0<=S[M(e,"node")]&&S[M(e,"node")]!==n&&(h=E[T(n,"x")]-E[T(S[M(e,"node")],"x")],u=E[T(n,"y")]-E[T(S[M(e,"node")],"y")],f=Math.sqrt(h*h+u*u),F.settings.adjustSizes?0<f?(p=c*E[T(n,"mass")]*E[T(S[M(e,"node")],"mass")]/f/f,E[T(n,"dx")]+=h*p,E[T(n,"dy")]+=u*p):f<0&&(p=-c*E[T(n,"mass")]*E[T(S[M(e,"node")],"mass")]/f,E[T(n,"dx")]+=h*p,E[T(n,"dy")]+=u*p):0<f&&(p=c*E[T(n,"mass")]*E[T(S[M(e,"node")],"mass")]/f/f,E[T(n,"dx")]+=h*p,E[T(n,"dy")]+=u*p)),S[M(e,"nextSibling")]<0)break;e=S[M(e,"nextSibling")]}else for(c=F.settings.scalingRatio,i=0;i<F.nodesLength;i+=F.ppn)for(r=0;r<i;r+=F.ppn)h=E[T(i,"x")]-E[T(r,"x")],u=E[T(i,"y")]-E[T(r,"y")],F.settings.adjustSizes?0<(f=Math.sqrt(h*h+u*u)-E[T(i,"size")]-E[T(r,"size")])?(p=c*E[T(i,"mass")]*E[T(r,"mass")]/f/f,E[T(i,"dx")]+=h*p,E[T(i,"dy")]+=u*p,E[T(r,"dx")]+=h*p,E[T(r,"dy")]+=u*p):f<0&&(p=100*c*E[T(i,"mass")]*E[T(r,"mass")],E[T(i,"dx")]+=h*p,E[T(i,"dy")]+=u*p,E[T(r,"dx")]-=h*p,E[T(r,"dy")]-=u*p):0<(f=Math.sqrt(h*h+u*u))&&(p=c*E[T(i,"mass")]*E[T(r,"mass")]/f/f,E[T(i,"dx")]+=h*p,E[T(i,"dy")]+=u*p,E[T(r,"dx")]-=h*p,E[T(r,"dy")]-=u*p);for(a=F.settings.gravity/F.settings.scalingRatio,c=F.settings.scalingRatio,n=0;n<F.nodesLength;n+=F.ppn)p=0,h=E[T(n,"x")],u=E[T(n,"y")],f=Math.sqrt(Math.pow(h,2)+Math.pow(u,2)),F.settings.strongGravityMode?0<f&&(p=c*E[T(n,"mass")]*a):0<f&&(p=c*E[T(n,"mass")]*a/f),E[T(n,"dx")]-=h*p,E[T(n,"dy")]-=u*p;for(c=1*(F.settings.outboundAttractionDistribution?l:1),s=0;s<F.edgesLength;s+=F.ppe)i=k[D(s,"source")],r=k[D(s,"target")],o=k[D(s,"weight")],d=Math.pow(o,F.settings.edgeWeightInfluence),h=E[T(i,"x")]-E[T(r,"x")],u=E[T(i,"y")]-E[T(r,"y")],F.settings.adjustSizes?(f=Math.sqrt(Math.pow(h,2)+Math.pow(u,2)-E[T(i,"size")]-E[T(r,"size")]),F.settings.linLogMode?F.settings.outboundAttractionDistribution?0<f&&(p=-c*d*Math.log(1+f)/f/E[T(i,"mass")]):0<f&&(p=-c*d*Math.log(1+f)/f):F.settings.outboundAttractionDistribution?0<f&&(p=-c*d/E[T(i,"mass")]):0<f&&(p=-c*d)):(f=Math.sqrt(Math.pow(h,2)+Math.pow(u,2)),F.settings.linLogMode?F.settings.outboundAttractionDistribution?0<f&&(p=-c*d*Math.log(1+f)/f/E[T(i,"mass")]):0<f&&(p=-c*d*Math.log(1+f)/f):F.settings.outboundAttractionDistribution?(f=1,p=-c*d/E[T(i,"mass")]):(f=1,p=-c*d)),0<f&&(E[T(i,"dx")]+=h*p,E[T(i,"dy")]+=u*p,E[T(r,"dx")]-=h*p,E[T(r,"dy")]-=u*p);if(F.settings.adjustSizes)for(n=0;n<F.nodesLength;n+=F.ppn)E[T(n,"fixed")]||((g=Math.sqrt(Math.pow(E[T(n,"dx")],2)+Math.pow(E[T(n,"dy")],2)))>F.maxForce&&(E[T(n,"dx")]=E[T(n,"dx")]*F.maxForce/g,E[T(n,"dy")]=E[T(n,"dy")]*F.maxForce/g),m=E[T(n,"mass")]*Math.sqrt((E[T(n,"old_dx")]-E[T(n,"dx")])*(E[T(n,"old_dx")]-E[T(n,"dx")])+(E[T(n,"old_dy")]-E[T(n,"dy")])*(E[T(n,"old_dy")]-E[T(n,"dy")])),v=Math.sqrt((E[T(n,"old_dx")]+E[T(n,"dx")])*(E[T(n,"old_dx")]+E[T(n,"dx")])+(E[T(n,"old_dy")]+E[T(n,"dy")])*(E[T(n,"old_dy")]+E[T(n,"dy")]))/2,y=.1*Math.log(1+v)/(1+Math.sqrt(m)),E[T(n,"x")]=E[T(n,"x")]+E[T(n,"dx")]*(y/F.settings.slowDown),E[T(n,"y")]=E[T(n,"y")]+E[T(n,"dy")]*(y/F.settings.slowDown));else for(n=0;n<F.nodesLength;n+=F.ppn)E[T(n,"fixed")]||(m=E[T(n,"mass")]*Math.sqrt((E[T(n,"old_dx")]-E[T(n,"dx")])*(E[T(n,"old_dx")]-E[T(n,"dx")])+(E[T(n,"old_dy")]-E[T(n,"dy")])*(E[T(n,"old_dy")]-E[T(n,"dy")])),v=Math.sqrt((E[T(n,"old_dx")]+E[T(n,"dx")])*(E[T(n,"old_dx")]+E[T(n,"dx")])+(E[T(n,"old_dy")]+E[T(n,"dy")])*(E[T(n,"old_dy")]+E[T(n,"dy")]))/2,y=E[T(n,"convergence")]*Math.log(1+v)/(1+Math.sqrt(m)),E[T(n,"convergence")]=Math.min(1,Math.sqrt(y*(Math.pow(E[T(n,"dx")],2)+Math.pow(E[T(n,"dy")],2))/(1+Math.sqrt(m)))),E[T(n,"x")]=E[T(n,"x")]+E[T(n,"dx")]*(y/F.settings.slowDown),E[T(n,"y")]=E[T(n,"y")]+E[T(n,"dy")]*(y/F.settings.slowDown));F.iterations++}function l(t){for(var e=0;e<t;e++)a();n()}n="undefined"!=typeof window&&window.document?function(){var t;document.createEvent?(t=document.createEvent("Event")).initEvent("newCoords",!0,!1):(t=document.createEventObject()).eventType="newCoords",t.eventName="newCoords",t.data={nodes:E.buffer},requestAnimationFrame(function(){document.dispatchEvent(t)})}:function(){self.postMessage({nodes:E.buffer},[E.buffer])};var c=function(t){switch(t.data.action){case"start":e=new Float32Array(t.data.nodes),n=new Float32Array(t.data.edges),i=(i=t.data.config)||{},E=e,k=n,F.nodesLength=E.length,F.edgesLength=k.length,o(i),l(F.settings.startingIterations);break;case"loop":E=new Float32Array(t.data.nodes),l(F.settings.iterationsPerRender);break;case"config":o(t.data.config);break;case"kill":!function(t){var e;for(e in t)"hasOwnProperty"in t&&!t.hasOwnProperty(e)||delete t[e]}(F),S=k=E=null,self.removeEventListener("message",c)}var e,n,i};self.addEventListener("message",c)};function crush(t){var e,n,i,r=["x","y","dx","dy","old_dx","old_dy","mass","convergence","size","fixed"],s=["source","target","weight"],o=["node","centerX","centerY","size","nextSibling","firstChild","mass","massCenterX","massCenterY"];for(n=0,i=o.length;n<i;n++)e=new RegExp("rp\\(([^,]*), '"+o[n]+"'\\)","g"),t=t.replace(e,0===n?"$1":"$1 + "+n);for(n=0,i=r.length;n<i;n++)e=new RegExp("np\\(([^,]*), '"+r[n]+"'\\)","g"),t=t.replace(e,0===n?"$1":"$1 + "+n);for(n=0,i=s.length;n<i;n++)e=new RegExp("ep\\(([^,]*), '"+s[n]+"'\\)","g"),t=t.replace(e,0===n?"$1":"$1 + "+n);return t}function getWorkerFn(){return";("+(crush?crush(Worker.toString()):Worker.toString())+").call(this);"}if(inWebWorker)eval(getWorkerFn());else{if("undefined"==typeof sigma)throw"sigma is not declared";sigma.prototype.getForceAtlas2Worker=getWorkerFn}}.call(this),function(undefined){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";var _root=this,webWorkers="Worker"in _root;function Supervisor(sigInst,options){var _this=this,workerFn=sigInst.getForceAtlas2Worker&&sigInst.getForceAtlas2Worker();if(options=options||{},_root.URL=_root.URL||_root.webkitURL,this.sigInst=sigInst,this.graph=this.sigInst.graph,this.ppn=10,this.ppe=3,this.config={},this.shouldUseWorker=!1!==options.worker&&webWorkers,this.workerUrl=options.workerUrl,this.started=!1,this.running=!1,this.shouldUseWorker){if(this.workerUrl)this.worker=new Worker(this.workerUrl);else{var blob=this.makeBlob(workerFn);this.worker=new Worker(URL.createObjectURL(blob))}this.worker.postMessage=this.worker.webkitPostMessage||this.worker.postMessage}else eval(workerFn);this.msgName=this.worker?"message":"newCoords",this.listener=function(t){_this.nodesByteArray=new Float32Array(t.data.nodes),_this.running&&(_this.applyLayoutChanges(),_this.sendByteArrayToWorker(),_this.sigInst.refresh())},(this.worker||document).addEventListener(this.msgName,this.listener),this.graphToByteArrays(),sigInst.bind("kill",function(){sigInst.killForceAtlas2()})}Supervisor.prototype.makeBlob=function(e){var n;try{n=new Blob([e],{type:"application/javascript"})}catch(t){_root.BlobBuilder=_root.BlobBuilder||_root.WebKitBlobBuilder||_root.MozBlobBuilder,(n=new BlobBuilder).append(e),n=n.getBlob()}return n},Supervisor.prototype.graphToByteArrays=function(){var t,e,n,i=this.graph.nodes(),r=this.graph.edges(),s=i.length*this.ppn,o=r.length*this.ppe,a={};for(this.nodesByteArray=new Float32Array(s),this.edgesByteArray=new Float32Array(o),t=e=0,n=i.length;t<n;t++)a[i[t].id]=e,this.nodesByteArray[e]=i[t].x,this.nodesByteArray[e+1]=i[t].y,this.nodesByteArray[e+2]=0,this.nodesByteArray[e+3]=0,this.nodesByteArray[e+4]=0,this.nodesByteArray[e+5]=0,this.nodesByteArray[e+6]=1+this.graph.degree(i[t].id),this.nodesByteArray[e+7]=1,this.nodesByteArray[e+8]=i[t].size,this.nodesByteArray[e+9]=0,e+=this.ppn;for(t=e=0,n=r.length;t<n;t++)this.edgesByteArray[e]=a[r[t].source],this.edgesByteArray[e+1]=a[r[t].target],this.edgesByteArray[e+2]=r[t].weight||0,e+=this.ppe},Supervisor.prototype.applyLayoutChanges=function(){for(var t=this.graph.nodes(),e=0,n=0,i=this.nodesByteArray.length;n<i;n+=this.ppn)t[e].x=this.nodesByteArray[n],t[e].y=this.nodesByteArray[n+1],e++},Supervisor.prototype.sendByteArrayToWorker=function(t){var e={action:t||"loop",nodes:this.nodesByteArray.buffer},n=[this.nodesByteArray.buffer];"start"===t&&(e.config=this.config||{},e.edges=this.edgesByteArray.buffer,n.push(this.edgesByteArray.buffer)),this.shouldUseWorker?this.worker.postMessage(e,n):_root.postMessage(e,"*")},Supervisor.prototype.start=function(){if(!this.running){var t;for(t in this.running=!0,this.sigInst.cameras)this.sigInst.cameras[t].edgequadtree._enabled=!1;this.started?this.sendByteArrayToWorker():(this.sendByteArrayToWorker("start"),this.started=!0)}},Supervisor.prototype.stop=function(){if(this.running){var t,e,n;for(t in this.sigInst.cameras)(e=this.sigInst.cameras[t]).edgequadtree._enabled=!0,n=sigma.utils.getBoundaries(this.graph,e.readPrefix),e.settings("drawEdges")&&e.settings("enableEdgeHovering")&&e.edgequadtree.index(this.sigInst.graph,{prefix:e.readPrefix,bounds:{x:n.minX,y:n.minY,width:n.maxX-n.minX,height:n.maxY-n.minY}});this.running=!1}},Supervisor.prototype.killWorker=function(){this.worker?this.worker.terminate():(_root.postMessage({action:"kill"},"*"),document.removeEventListener(this.msgName,this.listener))},Supervisor.prototype.configure=function(t){if(this.config=t,this.started){var e={action:"config",config:this.config};this.shouldUseWorker?this.worker.postMessage(e):_root.postMessage(e,"*")}},sigma.prototype.startForceAtlas2=function(t){return this.supervisor||(this.supervisor=new Supervisor(this,t)),t&&this.supervisor.configure(t),this.supervisor.start(),this},sigma.prototype.stopForceAtlas2=function(){return this.supervisor&&this.supervisor.stop(),this},sigma.prototype.killForceAtlas2=function(){return this.supervisor&&(this.supervisor.stop(),this.supervisor.killWorker(),this.supervisor=null),this},sigma.prototype.configForceAtlas2=function(t){return this.supervisor||(this.supervisor=new Supervisor(this,t)),this.supervisor.configure(t),this},sigma.prototype.isForceAtlas2Running=function(t){return!!this.supervisor&&this.supervisor.running}}.call(this),slicePath=function(){return this.NullSlice=function(t,e,n){return t.setBaseValue(e,n),{slicePathString:"",linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.NullInitSlice=function(t,e,n){return t.setBaseValue(e,n),slicePathString=[t.MoveToCenter(),t.Close()],{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:t.centerX,titlePosY:t.centerY}},this.PieSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.6,t.arcBaseRadiusPercent=1,t.arcRadiusPercent=1,t.startRadiusPercent=0,t},this.PieSlice=function(t,e,n){null===n&&(n=PieSliceCustomization()),t.setBaseValue(e,n);var i=t.sliceRadius*n.arcBaseRadiusPercent,r=t.sliceRadius*n.arcRadiusPercent;return slicePathString=[t.MoveTo(t.middleAngle,n.startRadiusPercent*t.sliceRadius),t.LineTo(t.startAngle,i),t.ArcTo(r,t.endAngle,i),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.FlowerSlice=function(t,e,n){null===n&&((n=PieSliceCustomization()).titleRadiusPercent=.5,n.arcBaseRadiusPercent=.65,n.arcRadiusPercent=.14);var i=PieSlice(t,e,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.PieArrowSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.6,t.arrowRadiusPercent=1.1,t},this.PieArrowSlice=function(t,e,n){null===n&&(n=PieArrowSliceCustomization()),t.setBaseValue(e,n),r=t.sliceRadius,arrowAngleStart=t.startAngle+.45*t.sliceAngle,arrowAngleEnd=t.startAngle+.55*t.sliceAngle;var i=r*n.arrowRadiusPercent;return slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.ArcTo(r,arrowAngleStart,r),t.LineTo(t.middleAngle,i),t.LineTo(arrowAngleEnd,r),t.ArcTo(r,t.endAngle,r),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.PieArrowBasePieSlice=function(t,e,n){null===n&&(n=PieArrowSliceCustomization()),n.arrowRadiusPercent=1;var i=PieArrowSlice(t,e,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.DonutSliceCustomization=function(){var t=new slicePathCustomization;return t.minRadiusPercent=.37,t.maxRadiusPercent=.9,t},this.DonutSlice=function(t,e,n){return null===n&&(n=DonutSliceCustomization()),maxRadius=t.wheelRadius*e*n.maxRadiusPercent,minRadius=t.wheelRadius*e*n.minRadiusPercent,t.setBaseValue(e,n),t.titleRadius=(maxRadius+minRadius)/2,t.setTitlePos(),slicePathString=[t.MoveTo(t.startAngle,minRadius),t.LineTo(t.startAngle,maxRadius),t.ArcTo(maxRadius,t.endAngle,maxRadius),t.LineTo(t.endAngle,minRadius),t.ArcBackTo(minRadius,t.startAngle,minRadius),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.CogSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.55,t.isBasePieSlice=!1,t},this.CogSlice=function(t,e,n){return null===n&&(n=CogSliceCustomization()),t.setBaseValue(e,n),r=t.sliceRadius,rbase=t.wheelRadius*e*.83,percentAngle0625=t.startAngle+.0625*t.sliceAngle,percentAngle1250=t.startAngle+.125*t.sliceAngle,percentAngle1875=t.startAngle+.1875*t.sliceAngle,percentAngle2500=t.startAngle+.25*t.sliceAngle,percentAngle3125=t.startAngle+.3125*t.sliceAngle,percentAngle3750=t.startAngle+.375*t.sliceAngle,percentAngle4375=t.startAngle+.4375*t.sliceAngle,percentAngle5000=t.startAngle+.5*t.sliceAngle,percentAngle5625=t.startAngle+.5625*t.sliceAngle,percentAngle6250=t.startAngle+.625*t.sliceAngle,percentAngle6875=t.startAngle+.6875*t.sliceAngle,percentAngle7500=t.startAngle+.75*t.sliceAngle,percentAngle8125=t.startAngle+.8125*t.sliceAngle,percentAngle8750=t.startAngle+.875*t.sliceAngle,percentAngle9375=t.startAngle+.9375*t.sliceAngle,percentAngle9687=t.startAngle+.96875*t.sliceAngle,n.isBasePieSlice?(r=rbase,slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.ArcTo(r,percentAngle0625,r),t.ArcTo(r,percentAngle1250,r),t.ArcTo(r,percentAngle1875,r),t.ArcTo(r,percentAngle2500,r),t.ArcTo(r,percentAngle3125,r),t.ArcTo(r,percentAngle3750,r),t.ArcTo(r,percentAngle4375,r),t.ArcTo(r,percentAngle5000,r),t.ArcTo(r,percentAngle5625,r),t.ArcTo(r,percentAngle6250,r),t.ArcTo(r,percentAngle6875,r),t.ArcTo(r,percentAngle7500,r),t.ArcTo(r,percentAngle8125,r),t.ArcTo(r,percentAngle8750,r),t.ArcTo(r,percentAngle9375,r),t.ArcTo(r,percentAngle9687,r),t.ArcTo(r,t.endAngle,r),t.Close()]):slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.ArcTo(r,percentAngle0625,r),t.LineTo(percentAngle0625,rbase),t.ArcTo(rbase,percentAngle1875,rbase),t.LineTo(percentAngle1875,r),t.ArcTo(r,percentAngle3125,r),t.LineTo(percentAngle3125,rbase),t.ArcTo(rbase,percentAngle4375,rbase),t.LineTo(percentAngle4375,r),t.ArcTo(r,percentAngle5625,r),t.LineTo(percentAngle5625,rbase),t.ArcTo(rbase,percentAngle6875,rbase),t.LineTo(percentAngle6875,r),t.ArcTo(r,percentAngle8125,r),t.LineTo(percentAngle8125,rbase),t.ArcTo(rbase,percentAngle9375,rbase),t.LineTo(percentAngle9375,r),t.ArcTo(r,t.endAngle,r),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.CogBasePieSlice=function(t,e,n){null===n&&(n=CogSliceCustomization()),n.isBasePieSlice=!0;var i=CogSlice(t,e,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.StarSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.44,t.minRadiusPercent=.5,t.isBasePieSlice=!1,t},this.StarSlice=function(t,e,n){return null===n&&(n=StarSliceCustomization()),t.setBaseValue(e,n),r=t.wheelRadius*e,rbase=r*n.minRadiusPercent,n.isBasePieSlice?(r=t.sliceRadius,slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.ArcTo(r,t.middleAngle,r),t.ArcTo(r,t.endAngle,r),t.Close()]):slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,rbase),t.LineTo(t.middleAngle,r),t.LineTo(t.endAngle,rbase),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.StarBasePieSlice=function(t,e,n){null===n&&(n=StarSliceCustomization()),n.titleRadiusPercent=.6,n.isBasePieSlice=!0;var i=StarSlice(t,e,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.MenuSliceCustomization=function(){var t=new slicePathCustomization;return t.menuRadius=35,t.titleRadiusPercent=.63,t.isSelectedLine=!1,t.lineBaseRadiusPercent=0,t},this.MenuSlice=function(t,e,n){null===n&&(n=MenuSliceCustomization()),t.setBaseValue(e,n),x=t.centerX,y=t.centerY;var i=t.wheelRadius*e;t.titleRadius=i*n.titleRadiusPercent,t.setTitlePos();var r=e*n.menuRadius;return e<=.05&&(r=10),middleTheta=t.middleTheta,slicePathString=[["M",t.titlePosX-r*Math.cos(middleTheta),t.titlePosY-r*Math.sin(middleTheta)],["A",r,r,0,0,1,t.titlePosX+r*Math.cos(middleTheta),t.titlePosY+r*Math.sin(middleTheta)],["A",r,r,0,0,1,t.titlePosX-r*Math.cos(middleTheta),t.titlePosY-r*Math.sin(middleTheta)],["z"]],e<=.05?linePathString=[["M",x,y],["A",1,1,0,0,1,x+1,y+1]]:n.isSelectedLine?linePathString=[t.MoveTo(t.middleAngle,n.lineBaseRadiusPercent*i),t.ArcTo(i/3,t.middleAngle,t.titleRadius-r)]:linePathString=[t.MoveTo(t.middleAngle,n.lineBaseRadiusPercent*i),t.ArcTo(i/2,t.middleAngle,t.titleRadius-r)],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.MenuSliceSelectedLine=function(t,e,n){null===n&&(n=MenuSliceCustomization()),n.isSelectedLine=!0;var i=MenuSlice(t,e,n);return{slicePathString:i.slicePathString,linePathString:i.linePathString,titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.MenuSliceWithoutLine=function(t,e,n){var i=MenuSlice(t,e,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.LineSlice=function(t,e,n){return t.setBaseValue(e,n),r=t.sliceRadius,60<t.sliceAngle&&t.sliceAngle<180?t.titleRadius=r*(180/t.sliceAngle/5):t.titleRadius=.55*r,t.setTitlePos(),t.sliceAngle<180?slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.LineTo(t.endAngle,r),t.Close()]:180===t.startAngle||0===t.startAngle||-180===t.startAngle||360===t.startAngle?slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.LineTo(t.startAngle,r,t.middleAngle,r),t.LineTo(t.endAngle,r,t.middleAngle,r),t.LineTo(t.endAngle,r),t.Close()]:slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.LineTo(t.middleAngle,r,t.startAngle,r),t.LineTo(t.middleAngle,r,t.endAngle,r),t.LineTo(t.endAngle,r),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.EyeSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.68,t},this.EyeSlice=function(t,e,n){return null===n&&(n=EyeSliceCustomization()),t.setBaseValue(e,n),r=t.wheelRadius*e*.7,0===e&&(r=.01),startAngle=t.startAngle,endAngle=t.endAngle,180===t.sliceAngle&&(startAngle=t.startAngle+t.sliceAngle/4,endAngle=t.startAngle+t.sliceAngle-t.sliceAngle/4),slicePathString=[t.MoveTo(endAngle,r),t.ArcTo(r,startAngle,r),t.ArcTo(r,endAngle,r),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.WheelSlice=function(t,e,n){var i;return t.setBaseValue(e,n),x=t.centerX,y=t.centerY,r=t.sliceRadius,startTheta=t.startTheta,middleTheta=t.middleTheta,endTheta=t.endTheta,t.sliceAngle<120?(t.titleRadius=.57*r,i=.9):t.sliceAngle<180?(t.titleRadius=.52*r,i=.91):(t.titleRadius=.45*r,i=.873),slicePathString=[t.MoveTo(t.middleAngle,.07*r),["L",.07*r*Math.cos(middleTheta)+.87*r*Math.cos(startTheta)+x,.07*r*Math.sin(middleTheta)+.87*r*Math.sin(startTheta)+y],["A",r*i,r*i,0,0,1,.07*r*Math.cos(middleTheta)+.87*r*Math.cos(endTheta)+x,.07*r*Math.sin(middleTheta)+.87*r*Math.sin(endTheta)+y],t.Close()],linePathString=[t.MoveTo(t.startAngle,r),t.ArcTo(r,t.endAngle,r),t.ArcBackTo(r,t.startAngle,r)],t.setTitlePos(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.OuterStrokeSlice=function(t,e,n){return t.setBaseValue(e,n),x=t.centerX,y=t.centerY,r=t.sliceRadius,innerRadius=r/4,t.sliceAngle<120?t.titleRadius=.57*r:t.sliceAngle<180?t.titleRadius=.52*r:t.titleRadius=.45*r,linePathString=[t.MoveTo(t.startAngle,innerRadius),t.LineTo(t.startAngle,r),t.MoveTo(t.endAngle,innerRadius),t.LineTo(t.endAngle,r)],slicePathString=[t.MoveTo(t.startAngle,r),t.ArcTo(r,t.endAngle,r),t.ArcBackTo(r,t.startAngle,r),t.MoveTo(t.startAngle,innerRadius),t.ArcTo(innerRadius,t.endAngle,innerRadius),t.ArcBackTo(innerRadius,t.startAngle,innerRadius)],t.setTitlePos(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.TabSlice=function(t,e,n){var i=.9*t.wheelRadius,r=2*i/(360/t.sliceAngle);return x=t.centerX,y=t.centerY,itemIndex=t.itemIndex,titlePosX=x,titlePosY=itemIndex*r+y+r/2-i,slicePathString=[["M",x-r/2,itemIndex*r+y-i],["L",r/2+x,itemIndex*r+y-i],["L",r/2+x,(itemIndex+1)*r+y-i],["L",x-r/2,(itemIndex+1)*r+y-i],["z"]],{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY}},this.YinYangSlice=function(t,e,n){return t.setBaseValue(e,n),r=t.sliceRadius,slicePathString=[t.MoveToCenter(),t.ArcTo(r/2,t.startAngle,r),t.ArcTo(r,t.endAngle,r),t.ArcBackTo(r/2,0,0),t.Close()],titlePosX=t.getX(t.startAngle,r/2),titlePosY=t.getY(t.startAngle,r/2),{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY}},this.WebSlice=function(t,e,n){return t.setBaseValue(e,n),r=t.sliceRadius,t.titleRadius=.55*r,t.setTitlePos(),linePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,1.1*r),t.MoveToCenter(),t.LineTo(t.endAngle,1.1*r),t.MoveTo(t.startAngle,.15*r),t.LineTo(t.endAngle,.15*r),t.MoveTo(t.startAngle,.35*r),t.LineTo(t.endAngle,.35*r),t.MoveTo(t.startAngle,.55*r),t.LineTo(t.endAngle,.55*r),t.MoveTo(t.startAngle,.75*r),t.LineTo(t.endAngle,.75*r),t.MoveTo(t.startAngle,.95*r),t.LineTo(t.endAngle,.95*r),t.Close()],{slicePathString:"",linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.WinterSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.85,t.arcRadiusPercent=1,t},this.WinterSlice=function(t,e,n){null===n&&(n=WinterSliceCustomization()),t.setBaseValue(e,n),sliceAngle=t.sliceAngle,parallelAngle=t.startAngle+sliceAngle/4,parallelAngle2=t.startAngle+sliceAngle/4*3,borderAngle1=t.startAngle+sliceAngle/200,borderAngle2=t.startAngle+sliceAngle/2-sliceAngle/200,borderAngle3=t.startAngle+sliceAngle/2+sliceAngle/200,borderAngle4=t.startAngle+sliceAngle-sliceAngle/200;var i=t.sliceRadius*n.arcRadiusPercent;return slicePathString=[t.MoveToCenter(),t.MoveTo(parallelAngle,i/100),t.LineTo(borderAngle1,i/2),t.LineTo(parallelAngle,i-i/100),t.LineTo(borderAngle2,i/2),t.LineTo(parallelAngle,i/100),t.MoveTo(parallelAngle2,i/100),t.LineTo(borderAngle4,i/2),t.LineTo(parallelAngle2,i-i/100),t.LineTo(borderAngle3,i/2),t.LineTo(parallelAngle2,i/100),t.Close()],linePathString=[t.MoveTo(parallelAngle,i),t.LineTo(borderAngle2,i/2),t.MoveTo(borderAngle3,i/2),t.LineTo(parallelAngle2,i)],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.TutorialSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.6,t.isMoveTo=!1,t.isLineTo=!1,t.isArcTo=!1,t.isArcBackTo=!1,t},this.TutorialSlice=function(t,e,n){return null===n&&(n=TutorialSliceCustomization()),t.setBaseValue(e,n),slicePathString=[],slicePathString.push(t.MoveToCenter()),!0===n.isMoveTo&&slicePathString.push(t.MoveTo(t.middleAngle,t.sliceRadius/4)),n.isLineTo&&slicePathString.push(t.LineTo(t.startAngle,t.sliceRadius)),n.isArcTo&&slicePathString.push(t.ArcTo(t.sliceRadius,t.middleAngle,t.sliceRadius)),n.isArcBackTo&&slicePathString.push(t.ArcBackTo(t.sliceRadius,t.endAngle,t.sliceRadius)),slicePathString.push(t.Close()),linePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,t.sliceRadius),t.ArcTo(t.sliceRadius,t.endAngle,t.sliceRadius),t.Close()],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this},wheelnav=function(t,e,n,i){var r,s,o,a;if(this.holderId="wheel",null!=t&&(this.holderId=t),null==(r=document.getElementById(t))&&null==e)return this;if(!0,null==e){for(o=[],a=0;a<r.children.length;a++)"svg"===r.children[a].localName&&o.push(r.children[a]);for(a=0;a<o.length;a++)r.removeChild(o[a]);null!=n?(null==i&&(i=n),this.raphael=new Raphael(t,n,i),s=n):(this.raphael=new Raphael(t),s=r.clientWidth),this.raphael.setViewBox(0,0,this.raphael.width,this.raphael.height,!0)}else this.raphael=e,s=this.raphael.width,!1;return this.centerX=s/2,this.centerY=s/2,this.wheelRadius=s/2,this.navAngle=0,this.sliceAngle=null,this.titleRotateAngle=null,this.initTitleRotate=!1,this.clickModeRotate=!0,this.rotateRound=!1,this.rotateRoundCount=0,this.clickModeSpreadOff=!1,this.animatetimeCalculated=!1,this.animateRepeatCount=0,this.clockwise=!0,this.multiSelect=!1,this.hoverPercent=1,this.selectedPercent=1,this.clickablePercentMin=0,this.clickablePercentMax=1,this.currentPercent=null,this.cssMode=!1,this.selectedToFront=!0,this.selectedNavItemIndex=0,this.navItemCount=0,this.navItemCountLabeled=!1,this.navItemCountLabelOffset=0,this.navItems=[],this.navItemsEnabled=!0,this.animateFinishFunction=null,this.navItemsContinuous=!1,this.navItemsCentered=!0,this.colors=colorpalette.defaultpalette,this.titleSpreadScale=null,this.spreaderEnable=!1,this.spreaderRadius=20,this.spreaderStartAngle=0,this.spreaderSliceAngle=360,this.spreaderPathFunction=spreaderPath().PieSpreader,this.spreaderPathCustom=null,this.spreaderInPercent=1,this.spreaderOutPercent=1,this.spreaderInTitle="+",this.spreaderOutTitle="-",this.spreaderTitleFont=null,this.spreaderPathInAttr=null,this.spreaderPathOutAttr=null,this.spreaderTitleInAttr=null,this.spreaderTitleOutAttr=null,this.spreaderInTitleWidth=null,this.spreaderInTitleHeight=null,this.spreaderOutTitleWidth=null,this.spreaderOutTitleHeight=null,this.minPercent=.01,this.maxPercent=1,this.initPercent=1,this.markerEnable=!1,this.markerPathFunction=markerPath().TriangleMarker,this.markerPathCustom=null,this.currentClick=0,this.animateLocked=!1,this.slicePathAttr=null,this.sliceHoverAttr=null,this.sliceSelectedAttr=null,this.titleFont="100 24px Impact, Charcoal, sans-serif",this.titleAttr=null,this.titleHoverAttr=null,this.titleSelectedAttr=null,this.titleWidth=null,this.titleHeight=null,this.titleHoverWidth=null,this.titleHoverHeight=null,this.titleSelectedWidth=null,this.titleSelectedHeight=null,this.linePathAttr=null,this.lineHoverAttr=null,this.lineSelectedAttr=null,this.slicePathCustom=null,this.sliceClickablePathCustom=null,this.sliceSelectedPathCustom=null,this.sliceHoverPathCustom=null,this.sliceInitPathCustom=null,this.sliceTransformCustom=null,this.sliceSelectedTransformCustom=null,this.sliceHoverTransformCustom=null,this.sliceInitTransformCustom=null,this.animateeffect=null,this.animatetime=null,this.slicePathFunction=void 0!==slicePath().PieSlice?slicePath().PieSlice:slicePath().NullSlice,this.sliceClickablePathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedPathFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverPathFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitPathFunction=null,this.sliceInitTransformFunction=null,this.parseWheel(r),this},wheelnav.prototype.initWheel=function(t){var e,n,r;for(this.styleWheel(),0===this.navItemCount?(null!=t&&Array.isArray(t)||(t=["title-0","title-1","title-2","title-3"]),this.navItemCount=t.length):t=null,i=0;i<this.navItemCount;i++)"",n=this.navItemCountLabeled?(i+this.navItemCountLabelOffset).toString():null!==t?t[i]:"",e=new wheelnavItem(this,n,i),this.navItems.push(e);for(r=0,i=0;i<this.navItems.length;i++)this.navItems[i].fillAttr=this.colors[r],++r===this.colors.length&&(r=0)},wheelnav.prototype.createWheel=function(t,e){for(null===this.currentPercent&&(this.currentPercent=e?this.minPercent:this.maxPercent),0===this.navItems.length&&this.initWheel(t),null!==this.selectedNavItemIndex&&(this.navItems[this.selectedNavItemIndex].selected=!0),i=0;i<this.navItemCount;i++)this.navItems[i].createNavItem();return this.spreader=new spreader(this),this.marker=new marker(this),this.refreshWheel(),void 0!==e&&this.spreadWheel(),this},wheelnav.prototype.refreshWheel=function(t){for(i=0;i<this.navItemCount;i++){var e=this.navItems[i];e.setWheelSettings(t),e.refreshNavItem(t)}this.marker.setCurrentTransform(),this.spreader.setCurrentTransform()},wheelnav.prototype.navigateWheel=function(t){var e,n,r;for(this.animateUnlock(!0),this.clickModeRotate&&(this.animateLocked=!0),i=0;i<this.navItemCount;i++)(e=this.navItems[i]).hovered=!1,i===t?this.multiSelect?e.selected=!e.selected:(e.selected=!0,this.selectedNavItemIndex=i):this.multiSelect||(e.selected=!1),this.clickModeRotate&&(n=this.navItems[t].navAngle-this.navItems[this.currentClick].navAngle,this.rotateRound&&(this.clockwise&&n<0&&(n=360+n),!this.clockwise&&0<n&&(n-=360)),e.currentRotateAngle-=n,r=null!=this.animatetime?this.animatetime:1500,this.animatetimeCalculated&&t!==this.currentClick&&(e.animatetime=r*(Math.abs(n)/360)),0<this.rotateRoundCount&&(this.clockwise?e.currentRotateAngle-=360*this.rotateRoundCount:e.currentRotateAngle+=360*this.rotateRoundCount,e.animatetime=r*(this.rotateRoundCount+1)));for(i=0;i<this.navItemCount;i++)(e=this.navItems[i]).setCurrentTransform(!0,!0),e.refreshNavItem();this.currentClick=t,this.clickModeSpreadOff?(this.currentPercent=this.maxPercent,this.spreadWheel()):(null===t||this.clickModeRotate?this.marker.setCurrentTransform():this.marker.setCurrentTransform(this.navItems[this.currentClick].navAngle),this.spreader.setCurrentTransform(!0))},wheelnav.prototype.spreadWheel=function(){for(this.animateUnlock(!0),this.animateLocked=!0,this.currentPercent=this.currentPercent===this.maxPercent||null===this.currentPercent?this.minPercent:this.maxPercent,i=0;i<this.navItemCount;i++){var t=this.navItems[i];t.hovered=!1,t.setCurrentTransform(!0,!1)}return this.marker.setCurrentTransform(),this.spreader.setCurrentTransform(),this},wheelnav.prototype.animateUnlock=function(t,e){var n,i;if(void 0!==t&&!0===t)for(n=0;n<this.navItemCount;n++)this.navItems[n].navSliceUnderAnimation=!1,this.navItems[n].navTitleUnderAnimation=!1,this.navItems[n].navLineUnderAnimation=!1,this.navItems[n].navSlice.stop(),this.navItems[n].navLine.stop(),this.navItems[n].navTitle.stop();else{for(i=0;i<this.navItemCount;i++)if(!0===this.navItems[i].navSliceUnderAnimation||!0===this.navItems[i].navTitleUnderAnimation||!0===this.navItems[i].navLineUnderAnimation)return;this.animateLocked=!1,null!==this.animateFinishFunction&&void 0!==e&&!0===e&&this.animateFinishFunction()}},wheelnav.prototype.setTooltips=function(t){if(null!=t&&Array.isArray(t)&&t.length<=this.navItems.length)for(var e=0;e<t.length;e++)this.navItems[e].setTooltip(t[e])},wheelnav.prototype.getItemId=function(t){return"wheelnav-"+this.holderId+"-item-"+t},wheelnav.prototype.getSliceId=function(t){return"wheelnav-"+this.holderId+"-slice-"+t},wheelnav.prototype.getClickableSliceId=function(t){return"wheelnav-"+this.holderId+"-clickableslice-"+t},wheelnav.prototype.getTitleId=function(t){return"wheelnav-"+this.holderId+"-title-"+t},wheelnav.prototype.getLineId=function(t){return"wheelnav-"+this.holderId+"-line-"+t},wheelnav.prototype.getSpreaderId=function(){return"wheelnav-"+this.holderId+"-spreader"},wheelnav.prototype.getSpreaderTitleId=function(){return"wheelnav-"+this.holderId+"-spreadertitle"},wheelnav.prototype.getMarkerId=function(){return"wheelnav-"+this.holderId+"-marker"},wheelnav.prototype.parseWheel=function(t){var e,n,i,r,s,o,a,l,c,h,u;if(null!=t){if(t.hasAttribute("data-wheelnav")){var d=[],f=[],p=[],g=!1,m=t.getAttribute("data-wheelnav-slicepath");for(null!==m&&void 0!==slicePath()[m]&&(this.slicePathFunction=slicePath()[m]),null!==(e=t.getAttribute("data-wheelnav-colors"))&&(this.colors=e.split(",")),null!==(n=t.getAttribute("data-wheelnav-wheelradius"))&&(this.wheelRadius=Number(n)),null!==(i=t.getAttribute("data-wheelnav-navangle"))&&(this.navAngle=Number(i)),null!==t.getAttribute("data-wheelnav-rotateoff")&&(this.clickModeRotate=!1),null!==t.getAttribute("data-wheelnav-cssmode")&&(this.cssMode=!0),null!==t.getAttribute("data-wheelnav-spreader")&&(this.spreaderEnable=!0),null!==(r=t.getAttribute("data-wheelnav-spreaderradius"))&&(this.spreaderRadius=Number(r)),null!==(s=t.getAttribute("data-wheelnav-spreaderpath"))&&void 0!==markerPath()[s]&&(this.spreaderPathFunction=spreaderPath()[s]),null!==t.getAttribute("data-wheelnav-marker")&&(this.markerEnable=!0),null!==(o=t.getAttribute("data-wheelnav-markerpath"))&&void 0!==markerPath()[o]&&(this.markerPathFunction=markerPath()[o]),null!==(a=t.getAttribute("data-wheelnav-titlewidth"))&&(this.titleWidth=Number(a)),null!==(l=t.getAttribute("data-wheelnav-titleheight"))&&(this.titleHeight=Number(l)),null!==t.getAttribute("data-wheelnav-init")&&(g=!0),u=0;u<t.children.length;u++){var v=t.children[u].getAttribute("data-wheelnav-navitemtext"),y=t.children[u].getAttribute("data-wheelnav-navitemicon"),b=t.children[u].getAttribute("data-wheelnav-navitemimg");if(null!==v||null!==y||null!==b){if(null!==v)d.push(v);else if(null!==y)void 0!==icon[y]?d.push(icon[y]):d.push(y);else{if(null===b)continue;d.push("imgsrc:"+b)}for(void 0!==t.children[u].onmouseup?p.push(t.children[u].onmouseup):p.push(null),!1,c=0;c<t.children[u].children.length;c++)void 0!==t.children[u].children[c].getAttribute("href")&&f.push(t.children[u].children[c].getAttribute("href"));f.push(null)}}if(0<d.length){for(this.initWheel(d),u=0;u<p.length;u++)this.navItems[u].navigateFunction=p[u],this.navItems[u].navigateHref=f[u];g||this.createWheel()}}for(h=[],u=0;u<t.children.length;u++)"svg"!==t.children[u].localName&&h.push(t.children[u]);for(u=0;u<h.length;u++)t.removeChild(h[u])}},wheelnavItem=function(t,e,n){return this.wheelnav=t,this.wheelItemIndex=n,this.itemIndex=t.clockwise?n:-n,this.enabled=t.navItemsEnabled,this.selected=!1,this.hovered=!1,this.navItem=null,this.navSlice=null,this.navTitle=null,this.navLine=null,this.navClickableSlice=null,this.navSliceCurrentTransformString=null,this.navTitleCurrentTransformString=null,this.navLineCurrentTransformString=null,this.navSliceUnderAnimation=!1,this.navTitleUnderAnimation=!1,this.navLineUnderAnimation=!1,this.currentRotateAngle=0,this.title=void 0===e?null:e,this.titleHover=this.title,this.titleSelected=this.title,this.tooltip=null,this.fillAttr="#CCC",this.titleFont=this.wheelnav.titleFont,this.navigateHref=null,this.navigateFunction=null,this.titleWidth=null,this.titleHeight=null,this.titleHoverWidth=null,this.titleHoverHeight=null,this.titleSelectedWidth=null,this.titleSelectedHeight=null,this.animateeffect=null,this.animatetime=null,this.sliceInitPathFunction=null,this.sliceClickablePathFunction=null,this.slicePathFunction=null,this.sliceSelectedPathFunction=null,this.sliceHoverPathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitTransformFunction=null,this.slicePathCustom=null,this.sliceClickablePathCustom=null,this.sliceSelectedPathCustom=null,this.sliceHoverPathCustom=null,this.sliceInitPathCustom=null,this.sliceTransformCustom=null,this.sliceSelectedTransformCustom=null,this.sliceHoverTransformCustom=null,this.sliceInitTransformCustom=null,this.initPercent=null,this.minPercent=null,this.maxPercent=null,this.hoverPercent=null,this.selectedPercent=null,this.clickablePercentMin=null,this.clickablePercentMax=null,this.titleSpreadScale=null,this.sliceAngle=null,this.styleNavItem(),this},wheelnavItem.prototype.createNavItem=function(){var t,e,n,i,r;this.setWheelSettings(!1),null!==this.navigateHref&&(this.navigateFunction=function(){window.location.href=this.navigateHref}),this.wheelnav.cssMode||(this.slicePathAttr.fill=this.fillAttr,this.sliceHoverAttr.fill=this.fillAttr,this.sliceSelectedAttr.fill=this.fillAttr),this.enabled||(this.wheelnav.cssMode||(this.slicePathAttr.cursor="default",this.sliceHoverAttr.cursor="default",this.titleAttr.cursor="default",this.titleHoverAttr.cursor="default",this.linePathAttr.cursor="default",this.lineHoverAttr.cursor="default"),this.sliceClickablePathAttr.cursor="default",this.sliceClickableHoverAttr.cursor="default"),t=this.wheelItemIndex-1,e=360/this.wheelnav.navItemCount,null===this.sliceAngle&&(this.sliceAngle=360/this.wheelnav.navItemCount),this.wheelnav.clockwise?this.wheelnav.navItemsContinuous?this.baseAngle=0===this.itemIndex?this.itemIndex*this.sliceAngle+(-this.sliceAngle/2+this.wheelnav.navAngle):this.wheelnav.navItems[t].baseAngle+this.wheelnav.navItems[t].sliceAngle:this.wheelnav.navItemsCentered?this.baseAngle=this.itemIndex*e+(-this.sliceAngle/2+this.wheelnav.navAngle):(this.baseAngle=this.itemIndex*e+(-e/2+this.wheelnav.navAngle),this.currentRotateAngle+=e/2-this.wheelnav.navItems[0].sliceAngle/2):this.wheelnav.navItemsContinuous?this.baseAngle=0===this.itemIndex?this.itemIndex*this.sliceAngle+(-this.sliceAngle/2+this.wheelnav.navAngle):this.wheelnav.navItems[t].baseAngle-this.wheelnav.navItems[this.wheelItemIndex].sliceAngle:this.wheelnav.navItemsCentered?this.baseAngle=this.itemIndex*e+(-this.sliceAngle/2+this.wheelnav.navAngle):(this.baseAngle=this.itemIndex*e+(-e/2+this.wheelnav.navAngle)+(e-this.sliceAngle),this.currentRotateAngle-=e/2-this.wheelnav.navItems[0].sliceAngle/2),this.navAngle=this.baseAngle+this.sliceAngle/2,this.wheelnav.animatetimeCalculated&&(this.animatetime=this.wheelnav.animatetime/this.wheelnav.navItemCount),this.initPathsAndTransforms(),n=this.sliceInitPath,this.navSlice=this.wheelnav.raphael.path(n.slicePathString),this.navSlice.attr(this.slicePathAttr),this.navSlice.id=this.wheelnav.getSliceId(this.wheelItemIndex),this.navSlice.node.id=this.navSlice.id,this.navLine=this.wheelnav.raphael.path(n.linePathString),this.navLine.attr(this.linePathAttr),this.navLine.id=this.wheelnav.getLineId(this.wheelItemIndex),this.navLine.node.id=this.navLine.id,i=this.initNavTitle,this.navTitle=wheelnavTitle().isPathTitle(this.title)?this.wheelnav.raphael.path(i.path):wheelnavTitle().isImageTitle(this.title)?this.wheelnav.raphael.image(i.src,n.titlePosX-this.titleWidth/2,n.titlePosY-this.titleHeight/2,this.titleWidth,this.titleHeight):this.wheelnav.raphael.text(n.titlePosX,n.titlePosY,i.title),this.navTitle.attr(this.titleAttr),this.navTitle.id=this.wheelnav.getTitleId(this.wheelItemIndex),this.navTitle.node.id=this.navTitle.id,(this.navSliceCurrentTransformString="")!==this.initTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.initTransform.sliceTransformString),(this.navLineCurrentTransformString="")!==this.initTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.initTransform.lineTransformString),this.navTitleCurrentTransformString="",this.navTitleCurrentTransformString+=this.getTitleRotateString(this.wheelnav.initTitleRotate),""!==this.initTransform.titleTransformString&&(this.navTitleCurrentTransformString+=this.initTransform.titleTransformString),this.wheelnav.currentPercent<.05&&(this.navTitleCurrentTransformString+=",s0.05"),void 0!==this.navTitleSizeTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeTransform),this.navSlice.attr({transform:this.navSliceCurrentTransformString}),this.navLine.attr({transform:this.navLineCurrentTransformString}),this.navTitle.attr({transform:this.navTitleCurrentTransformString}),this.navItem=this.wheelnav.raphael.set(),null!==this.sliceClickablePathFunction?(r=this.getCurrentClickablePath(),this.navClickableSlice=this.wheelnav.raphael.path(r.slicePathString).attr(this.sliceClickablePathAttr).toBack(),this.navClickableSlice.id=this.wheelnav.getClickableSliceId(this.wheelItemIndex),this.navClickableSlice.node.id=this.navClickableSlice.id,this.navItem.push(this.navSlice,this.navLine,this.navTitle,this.navClickableSlice)):this.navItem.push(this.navSlice,this.navLine,this.navTitle),this.setTooltip(this.tooltip),this.navItem.id=this.wheelnav.getItemId(this.wheelItemIndex);var s=this.wheelnav,o=this,a=this.wheelItemIndex;this.enabled&&(this.navItem.mouseup(function(){null!==o.navigateFunction&&o.navigateFunction(),s.navigateWheel(a)}),this.navItem.mouseover(function(){!0!==o.hovered&&o.hoverEffect(a,!0)}),this.navItem.mouseout(function(){o.hovered=!1,o.hoverEffect(a,!1)})),this.setCurrentTransform(!0,!1)},wheelnavItem.prototype.hoverEffect=function(t,e){!1===this.wheelnav.animateLocked&&(e&&(this.selected||(this.hovered=!0)),this.refreshNavItem(),(1!==this.hoverPercent||null!==this.sliceHoverPathFunction||null!==this.sliceHoverTransformFunction||this.titleHover!==this.title||this.titleHoverWidth!==this.titleWidth||this.titleHoverHeight!==this.titleHeight)&&this.setCurrentTransform(!1,!1),this.wheelnav.marker.setCurrentTransform(),this.wheelnav.spreader.setCurrentTransform(!0))},wheelnavItem.prototype.setCurrentTransform=function(t,e){var n,r,s,o,a,l,c,h,u,d,f,p,g;if(!this.wheelnav.clickModeRotate||!this.navSliceUnderAnimation&&!this.navTitleUnderAnimation&&!this.navLineUnderAnimation)if(void 0!==t&&!0===t&&(this.navSliceUnderAnimation=!0,this.navTitleUnderAnimation=!0,this.navLineUnderAnimation=!0),this.navSliceCurrentTransformString="",this.wheelnav.clickModeRotate&&(this.navSliceCurrentTransformString+=this.getItemRotateString()),this.selected?void 0!==this.selectTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.selectTransform.sliceTransformString):this.hovered&&void 0!==this.hoverTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.hoverTransform.sliceTransformString),void 0!==this.sliceTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.sliceTransform.sliceTransformString),this.navLineCurrentTransformString="",this.wheelnav.clickModeRotate&&(this.navLineCurrentTransformString+=this.getItemRotateString()),this.selected?void 0!==this.selectTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.selectTransform.lineTransformString):this.hovered&&void 0!==this.hoverTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.hoverTransform.lineTransformString),void 0!==this.sliceTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.sliceTransform.lineTransformString),this.navTitleCurrentTransformString="",this.navTitleCurrentTransformString+=this.getTitleRotateString(!0),this.selected?(void 0!==this.navTitleSizeSelectedTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeSelectedTransform),this.navTitleCurrentTransformString+=""===this.selectTransform.titleTransformString||void 0===this.selectTransform.titleTransformString?",s1":","+this.selectTransform.titleTransformString,this.wheelnav.currentPercent<.05&&(this.navTitleCurrentTransformString+=",s0.05")):this.hovered?(void 0!==this.navTitleSizeHoverTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeHoverTransform),this.navTitleCurrentTransformString+=""===this.hoverTransform.titleTransformString||void 0===this.hoverTransform.titleTransformString?",s1":","+this.hoverTransform.titleTransformString):this.wheelnav.currentPercent<.05?this.navTitleCurrentTransformString+=",s0.05":this.titleSpreadScale?this.navTitleCurrentTransformString+=",s"+this.wheelnav.currentPercent:(void 0!==this.navTitleSizeTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeTransform),this.navTitleCurrentTransformString+=""===this.sliceTransform.titleTransformString||void 0===this.sliceTransform.titleTransformString?",s1":","+this.sliceTransform.titleTransformString),{},r={path:(n=this.getCurrentPath()).slicePathString,transform:this.navSliceCurrentTransformString},s={},null!==this.sliceClickablePathFunction&&(s={path:this.getCurrentClickablePath().slicePathString,transform:this.navSliceCurrentTransformString}),{},o={path:n.linePathString,transform:this.navLineCurrentTransformString},a=this.getCurrentTitle(),l={},wheelnavTitle().isPathTitle(a.title)?l={path:a.path,transform:this.navTitleCurrentTransformString}:wheelnavTitle().isImageTitle(a.title)?(l={x:a.x,y:a.y,width:a.width,height:a.height,transform:this.navTitleCurrentTransformString},this.navTitle.attr({src:a.src})):(l={x:a.x,y:a.y,transform:this.navTitleCurrentTransformString},null!==a.title&&this.navTitle.attr({text:a.title})),h=(c=this).wheelnav,this.animSlice=Raphael.animation(r,this.animatetime,this.animateeffect,function(){c.navSliceUnderAnimation=!1,h.animateUnlock(!1,e)}),this.animLine=Raphael.animation(o,this.animatetime,this.animateeffect,function(){c.navLineUnderAnimation=!1,h.animateUnlock(!1,e)}),this.animTitle=Raphael.animation(l,this.animatetime,this.animateeffect,function(){c.navTitleUnderAnimation=!1,h.animateUnlock(!1,e)}),null!==this.navClickableSlice&&(this.animClickableSlice=Raphael.animation(s,this.animatetime,this.animateeffect)),u=this.wheelnav.animateRepeatCount,void 0!==t&&!0===t){if(this.wheelItemIndex===this.wheelnav.navItemCount-1){for(i=0;i<this.wheelnav.navItemCount;i++)(d=this.wheelnav.navItems[i]).navSlice.animate(d.animSlice.repeat(u));for(i=0;i<this.wheelnav.navItemCount;i++)(f=this.wheelnav.navItems[i]).navLine.animate(f.animLine.repeat(u));for(i=0;i<this.wheelnav.navItemCount;i++)(p=this.wheelnav.navItems[i]).navTitle.animate(p.animTitle.repeat(u));if(null!==this.wheelnav.sliceClickablePathFunction)for(i=0;i<this.wheelnav.navItemCount;i++)null!==(g=this.wheelnav.navItems[i]).navClickableSlice&&g.navClickableSlice.animate(g.animClickableSlice.repeat(u))}}else this.navSlice.animate(this.animSlice.repeat(u)),this.navLine.animate(this.animLine.repeat(u)),this.navTitle.animate(this.animTitle.repeat(u)),null!==this.navClickableSlice&&this.navClickableSlice.animate(this.animClickableSlice.repeat(u))},wheelnavItem.prototype.setTooltip=function(t){null!==t&&this.navItem.attr({title:t})},wheelnavItem.prototype.refreshNavItem=function(t){this.selected?(this.navSlice.attr(this.sliceSelectedAttr),this.navLine.attr(this.lineSelectedAttr),this.navTitle.attr(this.titleSelectedAttr),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickableSelectedAttr),this.wheelnav.selectedToFront?(this.navSlice.toFront(),this.navLine.toFront(),this.navTitle.toFront(),null!==this.navClickableSlice&&this.navClickableSlice.toFront()):(null!==this.navClickableSlice&&this.navClickableSlice.toBack(),this.navTitle.toBack(),this.navLine.toBack(),this.navSlice.toBack())):this.hovered?(this.navSlice.attr(this.sliceHoverAttr).toFront(),this.navLine.attr(this.lineHoverAttr).toFront(),this.navTitle.attr(this.titleHoverAttr).toFront(),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickableHoverAttr).toFront()):(this.navSlice.attr(this.slicePathAttr),this.navLine.attr(this.linePathAttr),this.navTitle.attr(this.titleAttr),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickablePathAttr),null!==this.navClickableSlice&&this.navClickableSlice.toBack(),this.navTitle.toBack(),this.navLine.toBack(),this.navSlice.toBack()),void 0!==t&&!0===t&&(this.initPathsAndTransforms(),this.setCurrentTransform(!1,!1))},wheelnavItem.prototype.setWheelSettings=function(t){null!==this.wheelnav.slicePathAttr&&(this.slicePathAttr=JSON.parse(JSON.stringify(this.wheelnav.slicePathAttr))),null!==this.wheelnav.sliceHoverAttr&&(this.sliceHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceHoverAttr))),null!==this.wheelnav.sliceSelectedAttr&&(this.sliceSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceSelectedAttr))),null!==this.wheelnav.titleAttr&&(this.titleAttr=JSON.parse(JSON.stringify(this.wheelnav.titleAttr))),null!==this.wheelnav.titleHoverAttr&&(this.titleHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.titleHoverAttr))),null!==this.wheelnav.titleSelectedAttr&&(this.titleSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.titleSelectedAttr))),null!==this.wheelnav.titleWidth&&null===this.titleWidth&&(this.titleWidth=this.wheelnav.titleWidth),null!==this.wheelnav.titleHeight&&null===this.titleHeight&&(this.titleHeight=this.wheelnav.titleHeight),null!==this.titleWidth&&null===this.titleHeight&&(this.titleHeight=this.titleWidth),null===this.titleWidth&&null!==this.titleHeight&&(this.titleWidth=this.titleHeight),wheelnavTitle().isImageTitle(this.title)&&(null===this.titleWidth&&(this.titleWidth=32),null===this.titleHeight&&(this.titleHeight=32)),null!==this.wheelnav.titleHoverWidth&&null===this.titleHoverWidth&&(this.titleHoverWidth=this.wheelnav.titleHoverWidth),null!==this.wheelnav.titleHoverHeight&&null===this.titleHoverHeight&&(this.titleHoverHeight=this.wheelnav.titleHoverHeight),null!==this.titleHoverWidth&&null===this.titleHoverHeight&&(this.titleHoverHeight=this.titleHoverWidth),null===this.titleHoverWidth&&null!==this.titleHoverHeight&&(this.titleHoverWidth=this.titleHoverHeight),null!==this.wheelnav.titleSelectedWidth&&null===this.titleSelectedWidth&&(this.titleSelectedWidth=this.wheelnav.titleSelectedWidth),null!==this.wheelnav.titleSelectedHeight&&null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.wheelnav.titleSelectedHeight),null!==this.titleSelectedWidth&&null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.titleSelectedWidth),null===this.titleSelectedWidth&&null!==this.titleSelectedHeight&&(this.titleSelectedWidth=this.titleSelectedHeight),null===this.titleHoverHeight&&(this.titleHoverHeight=this.titleHeight),null===this.titleHoverWidth&&(this.titleHoverWidth=this.titleWidth),null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.titleHeight),null===this.titleSelectedWidth&&(this.titleSelectedWidth=this.titleWidth),null!==this.wheelnav.linePathAttr&&(this.linePathAttr=JSON.parse(JSON.stringify(this.wheelnav.linePathAttr))),null!==this.wheelnav.lineHoverAttr&&(this.lineHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.lineHoverAttr))),null!==this.wheelnav.lineSelectedAttr&&(this.lineSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.lineSelectedAttr))),(null===this.animateeffect||t)&&(this.animateeffect=null!==this.wheelnav.animateeffect?this.wheelnav.animateeffect:"bounce"),(null===this.animatetime||t)&&(this.animatetime=null!==this.wheelnav.animatetime?this.wheelnav.animatetime:1500),null!==this.title?((null===this.sliceInitPathFunction||t)&&(this.sliceInitPathFunction=this.wheelnav.sliceInitPathFunction),(null===this.sliceClickablePathFunction||t)&&(this.sliceClickablePathFunction=this.wheelnav.sliceClickablePathFunction),(null===this.slicePathFunction||t)&&(this.slicePathFunction=this.wheelnav.slicePathFunction),(null===this.sliceSelectedPathFunction||t)&&(this.sliceSelectedPathFunction=this.wheelnav.sliceSelectedPathFunction),(null===this.sliceHoverPathFunction||t)&&(this.sliceHoverPathFunction=this.wheelnav.sliceHoverPathFunction),(null===this.sliceTransformFunction||t)&&(this.sliceTransformFunction=this.wheelnav.sliceTransformFunction),(null===this.sliceSelectedTransformFunction||t)&&(this.sliceSelectedTransformFunction=this.wheelnav.sliceSelectedTransformFunction),(null===this.sliceHoverTransformFunction||t)&&(this.sliceHoverTransformFunction=this.wheelnav.sliceHoverTransformFunction),(null===this.sliceInitTransformFunction||t)&&(this.sliceInitTransformFunction=this.wheelnav.sliceInitTransformFunction)):(this.sliceInitPathFunction=slicePath().NullInitSlice,this.sliceClickablePathFunction=slicePath().NullSlice,this.slicePathFunction=slicePath().NullSlice,this.sliceSelectedPathFunction=null,this.sliceHoverPathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitTransformFunction=null),(null===this.slicePathCustom||t)&&(this.slicePathCustom=this.wheelnav.slicePathCustom),(null===this.sliceClickablePathCustom||t)&&(this.sliceClickablePathCustom=this.wheelnav.sliceClickablePathCustom),(null===this.sliceSelectedPathCustom||t)&&(this.sliceSelectedPathCustom=this.wheelnav.sliceSelectedPathCustom),(null===this.sliceHoverPathCustom||t)&&(this.sliceHoverPathCustom=this.wheelnav.sliceHoverPathCustom),(null===this.sliceInitPathCustom||t)&&(this.sliceInitPathCustom=this.wheelnav.sliceInitPathCustom),(null===this.sliceTransformCustom||t)&&(this.sliceTransformCustom=this.wheelnav.sliceTransformCustom),(null===this.sliceSelectedTransformCustom||t)&&(this.sliceSelectedTransformCustom=this.wheelnav.sliceSelectedTransformCustom),(null===this.sliceHoverTransformCustom||t)&&(this.sliceHoverTransformCustom=this.wheelnav.sliceHoverTransformCustom),(null===this.sliceInitTransformCustom||t)&&(this.sliceInitTransformCustom=this.wheelnav.sliceInitTransformCustom),(null===this.initPercent||t)&&(this.initPercent=this.wheelnav.initPercent),(null===this.minPercent||t)&&(this.minPercent=this.wheelnav.minPercent),(null===this.maxPercent||t)&&(this.maxPercent=this.wheelnav.maxPercent),(null===this.hoverPercent||t)&&(this.hoverPercent=this.wheelnav.hoverPercent),(null===this.selectedPercent||t)&&(this.selectedPercent=this.wheelnav.selectedPercent),(null===this.clickablePercentMin||t)&&(this.clickablePercentMin=this.wheelnav.clickablePercentMin),(null===this.clickablePercentMax||t)&&(this.clickablePercentMax=this.wheelnav.clickablePercentMax),(null===this.titleSpreadScale||t)&&(this.titleSpreadScale=null!==this.wheelnav.titleSpreadScale&&this.wheelnav.titleSpreadScale),(null===this.sliceAngle||t)&&null!==this.wheelnav.sliceAngle&&(this.sliceAngle=this.wheelnav.sliceAngle)},wheelnavItem.prototype.initPathsAndTransforms=function(){this.sliceHelper=new pathHelper,this.sliceHelper.centerX=this.wheelnav.centerX,this.sliceHelper.centerY=this.wheelnav.centerY,this.sliceHelper.wheelRadius=this.wheelnav.wheelRadius,this.sliceHelper.startAngle=this.baseAngle,this.sliceHelper.sliceAngle=this.sliceAngle,this.sliceHelper.itemIndex=this.itemIndex,this.slicePathMin=this.slicePathFunction(this.sliceHelper,this.minPercent,this.slicePathCustom),this.slicePathMax=this.slicePathFunction(this.sliceHelper,this.maxPercent,this.slicePathCustom),this.selectedSlicePathMin=null!==this.sliceSelectedPathFunction?this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom):this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom),this.selectedSlicePathMax=null!==this.sliceSelectedPathFunction?this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom):this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom),this.hoverSlicePathMin=null!==this.sliceHoverPathFunction?this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom):this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom),this.hoverSlicePathMax=null!==this.sliceHoverPathFunction?this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom):this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom),null!==this.sliceClickablePathFunction&&(this.clickableSlicePathMin=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMin,this.sliceClickablePathCustom),this.clickableSlicePathMax=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMax,this.sliceClickablePathCustom)),this.sliceInitPath=null!==this.sliceInitPathFunction?this.sliceInitPathFunction(this.sliceHelper,this.initPercent,this.sliceInitPathCustom):this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.slicePathFunction(this.sliceHelper,this.maxPercent,this.sliceInitPathCustom):this.slicePathFunction(this.sliceHelper,this.minPercent,this.sliceInitPathCustom),this.sliceTransform=null!==this.sliceTransformFunction?this.sliceTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceTransformCustom):sliceTransform().NullTransform,this.selectTransform=null!==this.sliceSelectedTransformFunction?this.sliceSelectedTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceSelectedTransformCustom):sliceTransform().NullTransform,this.hoverTransform=null!==this.sliceHoverTransformFunction?this.sliceHoverTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceHoverTransformCustom):sliceTransform().NullTransform,this.initTransform=null!==this.sliceInitTransformFunction?this.sliceInitTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceInitTransformCustom):sliceTransform().NullTransform,wheelnavTitle().isPathTitle(this.title)?(initNavTitle=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),basicNavTitleMin=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),basicNavTitleMax=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),hoverNavTitleMin=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael),hoverNavTitleMax=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael),selectedNavTitleMin=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael),selectedNavTitleMax=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael),this.navTitleSizeTransform=basicNavTitleMax.getTitleSizeTransform(this.titleWidth,this.titleHeight),this.navTitleSizeHoverTransform=hoverNavTitleMax.getTitleSizeTransform(this.titleHoverWidth,this.titleHoverHeight),this.navTitleSizeSelectedTransform=selectedNavTitleMax.getTitleSizeTransform(this.titleSelectedWidth,this.titleSelectedHeight)):(initNavTitle=new wheelnavTitle(this.title),basicNavTitleMin=new wheelnavTitle(this.title),basicNavTitleMax=new wheelnavTitle(this.title),hoverNavTitleMin=new wheelnavTitle(this.titleHover),hoverNavTitleMax=new wheelnavTitle(this.titleHover),selectedNavTitleMin=new wheelnavTitle(this.titleSelected),selectedNavTitleMax=new wheelnavTitle(this.titleSelected)),this.initNavTitle=initNavTitle.getTitlePercentAttr(this.sliceInitPath.titlePosX,this.sliceInitPath.titlePosY,this.titleWidth,this.titleHeight),this.basicNavTitleMin=basicNavTitleMin.getTitlePercentAttr(this.slicePathMin.titlePosX,this.slicePathMin.titlePosY,this.titleWidth,this.titleHeight),this.basicNavTitleMax=basicNavTitleMax.getTitlePercentAttr(this.slicePathMax.titlePosX,this.slicePathMax.titlePosY,this.titleWidth,this.titleHeight),this.hoverNavTitleMin=hoverNavTitleMin.getTitlePercentAttr(this.hoverSlicePathMin.titlePosX,this.hoverSlicePathMin.titlePosY,this.titleHoverWidth,this.titleHoverHeight),this.hoverNavTitleMax=hoverNavTitleMax.getTitlePercentAttr(this.hoverSlicePathMax.titlePosX,this.hoverSlicePathMax.titlePosY,this.titleHoverWidth,this.titleHoverHeight),this.selectedNavTitleMin=selectedNavTitleMin.getTitlePercentAttr(this.selectedSlicePathMin.titlePosX,this.selectedSlicePathMin.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight),this.selectedNavTitleMax=selectedNavTitleMax.getTitlePercentAttr(this.selectedSlicePathMax.titlePosX,this.selectedSlicePathMax.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight)},wheelnavItem.prototype.getCurrentPath=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.selected?this.selectedSlicePathMax:this.hovered?this.hoverSlicePathMax:this.slicePathMax:this.selected?this.selectedSlicePathMin:this.hovered?this.hoverSlicePathMin:this.slicePathMin},wheelnavItem.prototype.getCurrentClickablePath=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.clickableSlicePathMax:this.clickableSlicePathMin},wheelnavItem.prototype.getCurrentTitle=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.selected?this.selectedNavTitleMax:this.hovered?this.hoverNavTitleMax:this.basicNavTitleMax:this.selected?this.selectedNavTitleMin:this.hovered?this.hoverNavTitleMin:this.basicNavTitleMin},wheelnavItem.prototype.getItemRotateString=function(){return"r,"+this.currentRotateAngle.toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY},wheelnavItem.prototype.getTitleRotateString=function(t){var e="";return(e+=this.getItemRotateString())+(null!==this.wheelnav.titleRotateAngle&&t?",r,"+(this.navAngle+this.wheelnav.titleRotateAngle).toString():",r,"+(-this.currentRotateAngle).toString())},wheelnavTitle=function(t,e){if(null!==(this.title=t)){if(void 0!==e){this.relativePath=e.pathToRelative(t);var n=e.pathBBox(this.relativePath);this.centerX=n.cx,this.centerY=n.cy,this.width=n.width,this.height=n.height,this.startX=this.relativePath[0][1],this.startY=this.relativePath[0][2]}this.title=t}else this.title="";return this.isPathTitle=function(t){return!(null===t||"m"!==t.substr(0,1)&&"M"!==t.substr(0,1)||"z"!==t.substr(t.length-1,1)&&"Z"!==t.substr(t.length-1,1))&&(-1<t.indexOf(",")||-1<t.indexOf(" "))},this.isImageTitle=function(t){return void 0===t&&(t=this.title),null!==t&&"imgsrc:"===t.substr(0,7)},this},wheelnavTitle.prototype.getTitlePercentAttr=function(t,e,n,i){var r,s,o={};return void 0!==this.relativePath?(r=t+(this.startX-this.centerX),s=e+(this.startY-this.centerY),this.relativePath[0][1]=r,this.relativePath[0][2]=s,o={path:this.relativePath,title:this.title}):o=this.isImageTitle()?{x:t-n/2,y:e-i/2,width:n,height:i,title:this.title,src:this.title.substr(7,this.title.length)}:{x:t,y:e,title:this.title},o},wheelnavTitle.prototype.getTitleSizeTransform=function(t,e){var n="";return null!==t&&null!==e&&(n="s",this.height>this.width?(n+=(t/this.height).toString()+",",n+=(e/this.height).toString()):(n+=(t/this.width).toString()+",",n+=(e/this.width).toString())),n},wheelnav.prototype.styleWheel=function(){this.cssMode?(this.spreaderPathInAttr={class:this.getSpreaderCssClass("in")},this.spreaderPathOutAttr={class:this.getSpreaderCssClass("out")},this.spreaderTitleInAttr={class:this.getSpreaderTitleCssClass("in")},this.spreaderTitleOutAttr={class:this.getSpreaderTitleCssClass("out")},this.markerAttr={class:this.getMarkerCssClass()}):((void 0===this.spreaderPathInAttr||null===this.spreaderPathInAttr)&&(this.spreaderPathInAttr={fill:"#444",stroke:"#444","stroke-width":2,cursor:"pointer"}),(void 0===this.spreaderPathOutAttr||null===this.spreaderPathOutAttr)&&(this.spreaderPathOutAttr={fill:"#444",stroke:"#444","stroke-width":2,cursor:"pointer"}),(void 0===this.spreaderTitleInAttr||null===this.spreaderTitleInAttr)&&(this.spreaderTitleInAttr={fill:"#eee",stroke:"#444",cursor:"pointer"}),(void 0===this.spreaderTitleOutAttr||null===this.spreaderTitleOutAttr)&&(this.spreaderTitleOutAttr={fill:"#eee",stroke:"#444",cursor:"pointer"}),(void 0===this.markerAttr||null===this.markerAttr)&&(this.markerAttr={stroke:"#444","stroke-width":2}))},wheelnavItem.prototype.styleNavItem=function(){this.wheelnav.cssMode?(this.slicePathAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"basic")},this.sliceHoverAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"hover")},this.sliceSelectedAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"selected")},this.titleAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"basic")},this.titleHoverAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"hover")},this.titleSelectedAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"selected")},this.linePathAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"basic")},this.lineHoverAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"hover")},this.lineSelectedAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"selected")}):(this.slicePathAttr={stroke:"#333","stroke-width":0,cursor:"pointer","fill-opacity":1},this.sliceHoverAttr={stroke:"#222","stroke-width":0,cursor:"pointer","fill-opacity":.77},this.sliceSelectedAttr={stroke:"#111","stroke-width":0,cursor:"default","fill-opacity":1},this.titleAttr={font:this.titleFont,fill:"#333",stroke:"none",cursor:"pointer"},this.titleHoverAttr={font:this.titleFont,fill:"#222",cursor:"pointer",stroke:"none"},this.titleSelectedAttr={font:this.titleFont,fill:"#fff",cursor:"default"},this.linePathAttr={stroke:"#444","stroke-width":1,cursor:"pointer"},this.lineHoverAttr={stroke:"#222","stroke-width":2,cursor:"pointer"},this.lineSelectedAttr={stroke:"#444","stroke-width":1,cursor:"default"}),this.sliceClickablePathAttr={fill:"#FFF",stroke:"#FFF","stroke-width":0,cursor:"pointer","fill-opacity":.01},this.sliceClickableHoverAttr={stroke:"#FFF","stroke-width":0,cursor:"pointer"},this.sliceClickableSelectedAttr={stroke:"#FFF","stroke-width":0,cursor:"default"}},wheelnav.prototype.getSliceCssClass=function(t,e){return"wheelnav-"+this.holderId+"-slice-"+e+"-"+t},wheelnav.prototype.getTitleCssClass=function(t,e){return"wheelnav-"+this.holderId+"-title-"+e+"-"+t},wheelnav.prototype.getLineCssClass=function(t,e){return"wheelnav-"+this.holderId+"-line-"+e+"-"+t},wheelnav.prototype.getSpreaderCssClass=function(t){return"wheelnav-"+this.holderId+"-spreader-"+t},wheelnav.prototype.getSpreaderTitleCssClass=function(t){return"wheelnav-"+this.holderId+"-spreadertitle-"+t},wheelnav.prototype.getMarkerCssClass=function(){return"wheelnav-"+this.holderId+"-marker"};var pathHelper=function(){return this.sliceRadius=0,this.startAngle=0,this.middleAngle=0,this.endAngle=0,this.sliceAngle=0,this.startTheta=0,this.middleTheta=0,this.endTheta=0,this.titlePosX=0,this.titlePosY=0,this.titleRadius=0,this.titleTheta=0,this.custom=null,this.centerX=0,this.centerY=0,this.wheelRadius=0,this.itemIndex=0,this.navItemCount=0,this.navAngle=0,this.setBaseValue=function(t,e){null===e?e=new slicePathCustomization:this.custom=e,this.sliceRadius=this.wheelRadius*t*.9,this.middleAngle=this.startAngle+this.sliceAngle/2,this.endAngle=this.startAngle+this.sliceAngle,this.startTheta=this.getTheta(this.startAngle),this.middleTheta=this.getTheta(this.middleAngle),this.endTheta=this.getTheta(this.endAngle),null!==e?(null!==e.titleRadiusPercent&&(this.titleRadius=this.sliceRadius*e.titleRadiusPercent),null!==e.titleSliceAnglePercent&&(this.titleTheta=this.getTheta(this.startAngle+this.sliceAngle*e.titleSliceAnglePercent))):(this.titleRadius=.5*this.sliceRadius,this.titleTheta=this.middleTheta),this.setTitlePos()},this.setTitlePos=function(){this.titlePosX=this.titleRadius*Math.cos(this.titleTheta)+this.centerX,this.titlePosY=this.titleRadius*Math.sin(this.titleTheta)+this.centerY},this.getX=function(t,e){return e*Math.cos(this.getTheta(t))+this.centerX},this.getY=function(t,e){return e*Math.sin(this.getTheta(t))+this.centerY},this.MoveTo=function(t,e){return["M",this.getX(t,e),this.getY(t,e)]},this.MoveToCenter=function(){return["M",this.centerX,this.centerY]},this.LineTo=function(t,e,n,i){return void 0===n&&(n=t),void 0===i&&(i=e),["L",this.getX(t,e),this.getY(n,i)]},this.ArcTo=function(t,e,n){return["A",t,t,0,0,1,this.getX(e,n),this.getY(e,n)]},this.ArcBackTo=function(t,e,n){return["A",t,t,0,0,0,this.getX(e,n),this.getY(e,n)]},this.StartSpreader=function(t,e,n){this.endAngle-this.startAngle==360?t.push(this.MoveTo(e,n)):(t.push(this.MoveToCenter()),t.push(this.LineTo(e,n)))},this.Close=function(){return["z"]},this.getTheta=function(t){return t%360*Math.PI/180},this},slicePathCustomization=function(){return this.titleRadiusPercent=.5,this.titleSliceAnglePercent=.5,this},spreaderPathCustomization=function(){return this.titleRadiusPercent=0,this.titleSliceAnglePercent=.5,this.spreaderPercent=1,this},markerPathCustomization=function(){return this.titleRadiusPercent=1,this.titleSliceAnglePercent=.5,this.markerPercent=1.05,this};slicePath=function(){return this.NullSlice=function(t,e,n){return t.setBaseValue(e,n),{slicePathString:"",linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.NullInitSlice=function(t,e,n){return t.setBaseValue(e,n),slicePathString=[t.MoveToCenter(),t.Close()],{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:t.centerX,titlePosY:t.centerY}},this.PieSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.6,t.arcBaseRadiusPercent=1,t.arcRadiusPercent=1,t.startRadiusPercent=0,t},this.PieSlice=function(t,e,n){null===n&&(n=PieSliceCustomization()),t.setBaseValue(e,n);var i=t.sliceRadius*n.arcBaseRadiusPercent,r=t.sliceRadius*n.arcRadiusPercent;return slicePathString=[t.MoveTo(t.middleAngle,n.startRadiusPercent*t.sliceRadius),t.LineTo(t.startAngle,i),t.ArcTo(r,t.endAngle,i),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.FlowerSlice=function(t,e,n){null===n&&((n=PieSliceCustomization()).titleRadiusPercent=.5,n.arcBaseRadiusPercent=.65,n.arcRadiusPercent=.14);var i=PieSlice(t,e,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.PieArrowSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.6,t.arrowRadiusPercent=1.1,t},this.PieArrowSlice=function(t,e,n){null===n&&(n=PieArrowSliceCustomization()),t.setBaseValue(e,n),r=t.sliceRadius,arrowAngleStart=t.startAngle+.45*t.sliceAngle,arrowAngleEnd=t.startAngle+.55*t.sliceAngle;var i=r*n.arrowRadiusPercent;return slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.ArcTo(r,arrowAngleStart,r),t.LineTo(t.middleAngle,i),t.LineTo(arrowAngleEnd,r),t.ArcTo(r,t.endAngle,r),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.PieArrowBasePieSlice=function(t,e,n){null===n&&(n=PieArrowSliceCustomization()),n.arrowRadiusPercent=1;var i=PieArrowSlice(t,e,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.DonutSliceCustomization=function(){var t=new slicePathCustomization;return t.minRadiusPercent=.37,t.maxRadiusPercent=.9,t},this.DonutSlice=function(t,e,n){return null===n&&(n=DonutSliceCustomization()),maxRadius=t.wheelRadius*e*n.maxRadiusPercent,minRadius=t.wheelRadius*e*n.minRadiusPercent,t.setBaseValue(e,n),t.titleRadius=(maxRadius+minRadius)/2,t.setTitlePos(),slicePathString=[t.MoveTo(t.startAngle,minRadius),t.LineTo(t.startAngle,maxRadius),t.ArcTo(maxRadius,t.endAngle,maxRadius),t.LineTo(t.endAngle,minRadius),t.ArcBackTo(minRadius,t.startAngle,minRadius),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.CogSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.55,t.isBasePieSlice=!1,t},this.CogSlice=function(t,e,n){return null===n&&(n=CogSliceCustomization()),t.setBaseValue(e,n),r=t.sliceRadius,rbase=t.wheelRadius*e*.83,percentAngle0625=t.startAngle+.0625*t.sliceAngle,percentAngle1250=t.startAngle+.125*t.sliceAngle,percentAngle1875=t.startAngle+.1875*t.sliceAngle,percentAngle2500=t.startAngle+.25*t.sliceAngle,percentAngle3125=t.startAngle+.3125*t.sliceAngle,percentAngle3750=t.startAngle+.375*t.sliceAngle,percentAngle4375=t.startAngle+.4375*t.sliceAngle,percentAngle5000=t.startAngle+.5*t.sliceAngle,percentAngle5625=t.startAngle+.5625*t.sliceAngle,percentAngle6250=t.startAngle+.625*t.sliceAngle,percentAngle6875=t.startAngle+.6875*t.sliceAngle,percentAngle7500=t.startAngle+.75*t.sliceAngle,percentAngle8125=t.startAngle+.8125*t.sliceAngle,percentAngle8750=t.startAngle+.875*t.sliceAngle,percentAngle9375=t.startAngle+.9375*t.sliceAngle,percentAngle9687=t.startAngle+.96875*t.sliceAngle,n.isBasePieSlice?(r=rbase,slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.ArcTo(r,percentAngle0625,r),t.ArcTo(r,percentAngle1250,r),t.ArcTo(r,percentAngle1875,r),t.ArcTo(r,percentAngle2500,r),t.ArcTo(r,percentAngle3125,r),t.ArcTo(r,percentAngle3750,r),t.ArcTo(r,percentAngle4375,r),t.ArcTo(r,percentAngle5000,r),t.ArcTo(r,percentAngle5625,r),t.ArcTo(r,percentAngle6250,r),t.ArcTo(r,percentAngle6875,r),t.ArcTo(r,percentAngle7500,r),t.ArcTo(r,percentAngle8125,r),t.ArcTo(r,percentAngle8750,r),t.ArcTo(r,percentAngle9375,r),t.ArcTo(r,percentAngle9687,r),t.ArcTo(r,t.endAngle,r),t.Close()]):slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.ArcTo(r,percentAngle0625,r),t.LineTo(percentAngle0625,rbase),t.ArcTo(rbase,percentAngle1875,rbase),t.LineTo(percentAngle1875,r),t.ArcTo(r,percentAngle3125,r),t.LineTo(percentAngle3125,rbase),t.ArcTo(rbase,percentAngle4375,rbase),t.LineTo(percentAngle4375,r),t.ArcTo(r,percentAngle5625,r),t.LineTo(percentAngle5625,rbase),t.ArcTo(rbase,percentAngle6875,rbase),t.LineTo(percentAngle6875,r),t.ArcTo(r,percentAngle8125,r),t.LineTo(percentAngle8125,rbase),t.ArcTo(rbase,percentAngle9375,rbase),t.LineTo(percentAngle9375,r),t.ArcTo(r,t.endAngle,r),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.CogBasePieSlice=function(t,e,n){null===n&&(n=CogSliceCustomization()),n.isBasePieSlice=!0;var i=CogSlice(t,e,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.StarSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.44,t.minRadiusPercent=.5,t.isBasePieSlice=!1,t},this.StarSlice=function(t,e,n){return null===n&&(n=StarSliceCustomization()),t.setBaseValue(e,n),r=t.wheelRadius*e,rbase=r*n.minRadiusPercent,n.isBasePieSlice?(r=t.sliceRadius,slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.ArcTo(r,t.middleAngle,r),t.ArcTo(r,t.endAngle,r),t.Close()]):slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,rbase),t.LineTo(t.middleAngle,r),t.LineTo(t.endAngle,rbase),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.StarBasePieSlice=function(t,e,n){null===n&&(n=StarSliceCustomization()),n.titleRadiusPercent=.6,n.isBasePieSlice=!0;var i=StarSlice(t,e,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.MenuSliceCustomization=function(){var t=new slicePathCustomization;return t.menuRadius=35,t.titleRadiusPercent=.63,t.isSelectedLine=!1,t.lineBaseRadiusPercent=0,t},this.MenuSlice=function(t,e,n){var i,r;return null===n&&(n=MenuSliceCustomization()),t.setBaseValue(e,n),x=t.centerX,y=t.centerY,i=t.wheelRadius*e,t.titleRadius=i*n.titleRadiusPercent,t.setTitlePos(),r=e*n.menuRadius,e<=.05&&(r=10),middleTheta=t.middleTheta,slicePathString=[["M",t.titlePosX-r*Math.cos(middleTheta),t.titlePosY-r*Math.sin(middleTheta)],["A",r,r,0,0,1,t.titlePosX+r*Math.cos(middleTheta),t.titlePosY+r*Math.sin(middleTheta)],["A",r,r,0,0,1,t.titlePosX-r*Math.cos(middleTheta),t.titlePosY-r*Math.sin(middleTheta)],["z"]],linePathString=e<=.05?[["M",x,y],["A",1,1,0,0,1,x+1,y+1]]:n.isSelectedLine?[t.MoveTo(t.middleAngle,n.lineBaseRadiusPercent*i),t.ArcTo(i/3,t.middleAngle,t.titleRadius-r)]:[t.MoveTo(t.middleAngle,n.lineBaseRadiusPercent*i),t.ArcTo(i/2,t.middleAngle,t.titleRadius-r)],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.MenuSliceSelectedLine=function(t,e,n){null===n&&(n=MenuSliceCustomization()),n.isSelectedLine=!0;var i=MenuSlice(t,e,n);return{slicePathString:i.slicePathString,linePathString:i.linePathString,titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.MenuSliceWithoutLine=function(t,e,n){var i=MenuSlice(t,e,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.LineSlice=function(t,e,n){return t.setBaseValue(e,n),r=t.sliceRadius,60<t.sliceAngle&&t.sliceAngle<180?t.titleRadius=r*(36/t.sliceAngle):t.titleRadius=.55*r,t.setTitlePos(),slicePathString=t.sliceAngle<180?[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.LineTo(t.endAngle,r),t.Close()]:180===t.startAngle||0===t.startAngle||-180===t.startAngle||360===t.startAngle?[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.LineTo(t.startAngle,r,t.middleAngle,r),t.LineTo(t.endAngle,r,t.middleAngle,r),t.LineTo(t.endAngle,r),t.Close()]:[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.LineTo(t.middleAngle,r,t.startAngle,r),t.LineTo(t.middleAngle,r,t.endAngle,r),t.LineTo(t.endAngle,r),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.EyeSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.68,t},this.EyeSlice=function(t,e,n){return null===n&&(n=EyeSliceCustomization()),t.setBaseValue(e,n),r=t.wheelRadius*e*.7,0===e&&(r=.01),startAngle=t.startAngle,endAngle=t.endAngle,180===t.sliceAngle&&(startAngle=t.startAngle+t.sliceAngle/4,endAngle=t.startAngle+t.sliceAngle-t.sliceAngle/4),slicePathString=[t.MoveTo(endAngle,r),t.ArcTo(r,startAngle,r),t.ArcTo(r,endAngle,r),t.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.WheelSlice=function(t,e,n){var i;return t.setBaseValue(e,n),x=t.centerX,y=t.centerY,r=t.sliceRadius,startTheta=t.startTheta,middleTheta=t.middleTheta,endTheta=t.endTheta,t.sliceAngle<120?(t.titleRadius=.57*r,i=.9):t.sliceAngle<180?(t.titleRadius=.52*r,i=.91):(t.titleRadius=.45*r,i=.873),slicePathString=[t.MoveTo(t.middleAngle,.07*r),["L",.07*r*Math.cos(middleTheta)+.87*r*Math.cos(startTheta)+x,.07*r*Math.sin(middleTheta)+.87*r*Math.sin(startTheta)+y],["A",r*i,r*i,0,0,1,.07*r*Math.cos(middleTheta)+.87*r*Math.cos(endTheta)+x,.07*r*Math.sin(middleTheta)+.87*r*Math.sin(endTheta)+y],t.Close()],linePathString=[t.MoveTo(t.startAngle,r),t.ArcTo(r,t.endAngle,r),t.ArcBackTo(r,t.startAngle,r)],t.setTitlePos(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.TabSlice=function(t){var e=.9*t.wheelRadius,n=2*e/(360/t.sliceAngle);return x=t.centerX,y=t.centerY,itemIndex=t.itemIndex,titlePosX=x,titlePosY=itemIndex*n+y+n/2-e,slicePathString=[["M",x-n/2,itemIndex*n+y-e],["L",n/2+x,itemIndex*n+y-e],["L",n/2+x,(itemIndex+1)*n+y-e],["L",x-n/2,(itemIndex+1)*n+y-e],["z"]],{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY}},this.YinYangSlice=function(t,e,n){return t.setBaseValue(e,n),r=t.sliceRadius,slicePathString=[t.MoveToCenter(),t.ArcTo(r/2,t.startAngle,r),t.ArcTo(r,t.endAngle,r),t.ArcBackTo(r/2,0,0),t.Close()],titlePosX=t.getX(t.startAngle,r/2),titlePosY=t.getY(t.startAngle,r/2),{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY}},this.WebSlice=function(t,e,n){return t.setBaseValue(e,n),r=t.sliceRadius,t.titleRadius=.55*r,t.setTitlePos(),linePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,1.1*r),t.MoveToCenter(),t.LineTo(t.endAngle,1.1*r),t.MoveTo(t.startAngle,.15*r),t.LineTo(t.endAngle,.15*r),t.MoveTo(t.startAngle,.35*r),t.LineTo(t.endAngle,.35*r),t.MoveTo(t.startAngle,.55*r),t.LineTo(t.endAngle,.55*r),t.MoveTo(t.startAngle,.75*r),t.LineTo(t.endAngle,.75*r),t.MoveTo(t.startAngle,.95*r),t.LineTo(t.endAngle,.95*r),t.Close()],{slicePathString:"",linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.WinterSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.85,t.arcRadiusPercent=1,t},this.WinterSlice=function(t,e,n){null===n&&(n=WinterSliceCustomization()),t.setBaseValue(e,n),sliceAngle=t.sliceAngle,parallelAngle=t.startAngle+sliceAngle/4,parallelAngle2=t.startAngle+sliceAngle/4*3,borderAngle1=t.startAngle+sliceAngle/200,borderAngle2=t.startAngle+sliceAngle/2-sliceAngle/200,borderAngle3=t.startAngle+sliceAngle/2+sliceAngle/200,borderAngle4=t.startAngle+sliceAngle-sliceAngle/200;var i=t.sliceRadius*n.arcRadiusPercent;return slicePathString=[t.MoveToCenter(),t.MoveTo(parallelAngle,i/100),t.LineTo(borderAngle1,i/2),t.LineTo(parallelAngle,i-i/100),t.LineTo(borderAngle2,i/2),t.LineTo(parallelAngle,i/100),t.MoveTo(parallelAngle2,i/100),t.LineTo(borderAngle4,i/2),t.LineTo(parallelAngle2,i-i/100),t.LineTo(borderAngle3,i/2),t.LineTo(parallelAngle2,i/100),t.Close()],linePathString=[t.MoveTo(parallelAngle,i),t.LineTo(borderAngle2,i/2),t.MoveTo(borderAngle3,i/2),t.LineTo(parallelAngle2,i)],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.TutorialSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.6,t.isMoveTo=!1,t.isLineTo=!1,t.isArcTo=!1,t.isArcBackTo=!1,t},this.TutorialSlice=function(t,e,n){return null===n&&(n=TutorialSliceCustomization()),t.setBaseValue(e,n),slicePathString=[],slicePathString.push(t.MoveToCenter()),!0===n.isMoveTo&&slicePathString.push(t.MoveTo(t.middleAngle,t.sliceRadius/4)),n.isLineTo&&slicePathString.push(t.LineTo(t.startAngle,t.sliceRadius)),n.isArcTo&&slicePathString.push(t.ArcTo(t.sliceRadius,t.middleAngle,t.sliceRadius)),n.isArcBackTo&&slicePathString.push(t.ArcBackTo(t.sliceRadius,t.endAngle,t.sliceRadius)),slicePathString.push(t.Close()),linePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,t.sliceRadius),t.ArcTo(t.sliceRadius,t.endAngle,t.sliceRadius),t.Close()],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this},sliceTransform=function(){this.startAngle=0,this.startTheta=0,this.middleTheta=0,this.endTheta=0;var c=function(t){return t%360*Math.PI/180};return this.NullTransform=function(){return{sliceTransformString:"",lineTransformString:"",titleTransformString:""}},this.MoveMiddleTransform=function(t,e,n,i,r,s,o){var a,l;return function(t,e,n,i,r){this.startAngle=i,this.startTheta=c(startAngle),this.middleTheta=c(startAngle+r/2),this.endTheta=c(startAngle+r)}(0,0,0,i,r),a="t"+(n/10*Math.cos(middleTheta)).toString()+","+(n/10*Math.sin(middleTheta)).toString(),null!==s?l=c(-s):l=c(i-o*r+r/2),{sliceTransformString:a,lineTransformString:a,titleTransformString:"s1,r0,t"+(n/10*Math.cos(l)).toString()+","+(n/10*Math.sin(l)).toString()}},this.RotateTransform=function(){var t="s1,r360";return{sliceTransformString:t,lineTransformString:t,titleTransformString:t}},this.RotateHalfTransform=function(){var t="s1,r90";return{sliceTransformString:t,lineTransformString:t,titleTransformString:t}},this.RotateTitleTransform=function(){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1,r360"}},this.ScaleTransform=function(){return{sliceTransformString:"s1.2",lineTransformString:"",titleTransformString:"s1.2"}},this.ScaleTitleTransform=function(){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1.3"}},this.RotateScaleTransform=function(){return{sliceTransformString:"r360,s1.3",lineTransformString:"",titleTransformString:"r360,s1.3"}},this.CustomTransform=function(t,e,n,i,r,s,o,a){var l=a.scaleString+","+a.rotateString;return{sliceTransformString:l,lineTransformString:l,titleTransformString:l}},this.CustomTitleTransform=function(t,e,n,i,r,s,o,a){return{sliceTransformString:"",lineTransformString:"",titleTransformString:a.scaleString+","+a.rotateString}},this},sliceTransformCustomization=function(){return this.scaleString="s1",this.rotateString="r0",this},spreader=function(t){var e,n;if(this.wheelnav=t,this.wheelnav.spreaderEnable){this.spreaderHelper=new pathHelper,this.spreaderHelper.centerX=this.wheelnav.centerX,this.spreaderHelper.centerY=this.wheelnav.centerY,this.spreaderHelper.navItemCount=this.wheelnav.navItemCount,this.spreaderHelper.navAngle=this.wheelnav.navAngle,this.spreaderHelper.wheelRadius=this.wheelnav.spreaderRadius,this.spreaderHelper.startAngle=this.wheelnav.spreaderStartAngle,this.spreaderHelper.sliceAngle=this.wheelnav.spreaderSliceAngle,e=this.wheelnav,this.animateeffect="bounce",this.animatetime=1500,null!==this.wheelnav.animateeffect&&(this.animateeffect=this.wheelnav.animateeffect),null!==this.wheelnav.animatetime&&(this.animatetime=this.wheelnav.animatetime),this.fontAttr=null!==this.wheelnav.spreaderTitleFont?{font:this.wheelnav.spreaderTitleFont}:{font:"100 32px Impact, Charcoal, sans-serif"},this.spreaderPathIn=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderInPercent,this.wheelnav.spreaderPathCustom),this.spreaderPathOut=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderOutPercent,this.wheelnav.spreaderPathCustom),n=this.spreaderPathOut,e.initPercent<e.maxPercent&&(n=this.spreaderPathIn),this.spreaderPath=this.wheelnav.raphael.path(n.spreaderPathString),this.spreaderPath.attr(e.spreaderPathAttr),this.spreaderPath.id=e.getSpreaderId(),this.spreaderPath.node.id=this.spreaderPath.id,this.spreaderPath.click(function(){e.spreadWheel()}),this.inTitleWidth=this.wheelnav.spreaderInTitleWidth,this.inTitleHeight=this.wheelnav.spreaderInTitleHeight,this.outTitleWidth=this.wheelnav.spreaderOutTitleWidth,this.outTitleHeight=this.wheelnav.spreaderOutTitleHeight,null!==this.inTitleWidth&&null===this.inTitleHeight&&(this.inTitleHeight=this.inTitleWidth),null===this.inTitleWidth&&null!==this.inTitleHeight&&(this.inTitleWidth=this.inTitleHeight),null!==this.outTitleWidth&&null===this.outTitleHeight&&(this.outTitleHeight=this.outTitleWidth),null===this.outTitleWidth&&null!==this.outTitleHeight&&(this.outTitleWidth=this.outTitleHeight),wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)&&(null===this.inTitleWidth&&(this.inTitleWidth=32),null===this.inTitleHeight&&(this.inTitleHeight=32),null===this.outTitleWidth&&(this.outTitleWidth=32),null===this.outTitleHeight&&(this.outTitleHeight=32)),inTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderInTitle)?new wheelnavTitle(this.wheelnav.spreaderInTitle,this.wheelnav.raphael.raphael):new wheelnavTitle(this.wheelnav.spreaderInTitle),this.inTitleSizeTransform=inTitle.getTitleSizeTransform(this.inTitleWidth,this.inTitleHeight),this.inTitle=inTitle.getTitlePercentAttr(this.spreaderPathIn.titlePosX,this.spreaderPathIn.titlePosY,this.inTitleWidth,this.inTitleHeight),outTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)?new wheelnavTitle(this.wheelnav.spreaderOutTitle,this.wheelnav.raphael.raphael):new wheelnavTitle(this.wheelnav.spreaderOutTitle),this.outTitleSizeTransform=outTitle.getTitleSizeTransform(this.outTitleWidth,this.outTitleHeight),this.outTitle=outTitle.getTitlePercentAttr(this.spreaderPathOut.titlePosX,this.spreaderPathOut.titlePosY,this.outTitleWidth,this.outTitleHeight);var i=this.outTitle,r=this.wheelnav.spreaderTitleOutAttr,s=this.outTitleWidth,o=this.outTitleHeight,a=this.outTitleSizeTransform;e.initPercent<e.maxPercent&&(i=this.inTitle,r=this.wheelnav.spreaderTitleInAttr,s=this.inTitleWidth,o=this.inTitleHeight,a=this.inTitleSizeTransform),this.spreaderTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)?e.raphael.path(i.path):wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)?this.wheelnav.raphael.image(i.src,n.titlePosX-s/2,n.titlePosY-o/2,s,o):e.raphael.text(n.titlePosX,n.titlePosY,i.title),this.spreaderTitle.attr(this.fontAttr),this.spreaderTitle.attr(r),this.spreaderTitle.attr({transform:a}),this.spreaderTitle.id=e.getSpreaderTitleId(),this.spreaderTitle.node.id=this.spreaderTitle.id,this.spreaderTitle.click(function(){e.spreadWheel()}),this.setCurrentTransform()}return this},spreader.prototype.setCurrentTransform=function(t){if(this.wheelnav.spreaderEnable){var e,n,i;if(void 0===t||!1===t)currentPath=this.wheelnav.currentPercent>this.wheelnav.minPercent?this.spreaderPathOut.spreaderPathString:this.spreaderPathIn.spreaderPathString,spreaderTransformAttr={path:currentPath},this.spreaderPath.animate(spreaderTransformAttr,this.animatetime,this.animateeffect),this.wheelnav.currentPercent===this.wheelnav.maxPercent?(e=this.outTitle,n=this.wheelnav.spreaderTitleOutAttr,this.spreaderPath.attr(this.wheelnav.spreaderPathOutAttr),i=this.outTitleSizeTransform):(e=this.inTitle,n=this.wheelnav.spreaderTitleInAttr,this.spreaderPath.attr(this.wheelnav.spreaderPathInAttr),i=this.inTitleSizeTransform),wheelnavTitle().isPathTitle(e.title)?(n.path=e.path,n.transform=i):wheelnavTitle().isImageTitle(e.title)?(n.x=e.x,n.y=e.y,n.width=e.width,n.height=e.height,this.spreaderTitle.attr({src:e.src})):(offYOffset=0,"-"===e.title&&(offYOffset=3),n.x=e.x,n.y=e.y-offYOffset,null!==e.title&&this.spreaderTitle.attr({text:e.title})),this.spreaderTitle.animate(n,this.animatetime,this.animateeffect);this.spreaderPath.toFront(),this.spreaderTitle.toFront()}},spreaderPath=function(){return this.NullSpreader=function(t,e){return null===e&&(e=new spreaderPathCustomization),t.setBaseValue(e.spreaderPercent,e),{spreaderPathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.PieSpreaderCustomization=function(){var t=new spreaderPathCustomization;return t.spreaderRadius=25,t.arcBaseRadiusPercent=1,t.arcRadiusPercent=1,t.startRadiusPercent=0,t},this.PieSpreader=function(t,e,n){null===n&&(n=PieSpreaderCustomization()),t.setBaseValue(n.spreaderPercent*e,n);var i=t.sliceRadius*n.arcBaseRadiusPercent,r=t.sliceRadius*n.arcRadiusPercent;return spreaderPathString=[],t.StartSpreader(spreaderPathString,t.startAngle,i),spreaderPathString.push(t.ArcTo(r,t.middleAngle,i)),spreaderPathString.push(t.ArcTo(r,t.endAngle,i)),spreaderPathString.push(t.Close()),{spreaderPathString:spreaderPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.StarSpreaderCustomization=function(){var t=new spreaderPathCustomization;return t.minRadiusPercent=.5,t},this.StarSpreader=function(t,e,n){null===n&&(n=StarSpreaderCustomization()),t.setBaseValue(n.spreaderPercent*e,n),rbase=t.wheelRadius*n.spreaderPercent*n.minRadiusPercent*e,r=t.sliceRadius,spreaderPathString=[],sliceAngle=t.sliceAngle/t.navItemCount,baseAngle=t.navAngle,t.endAngle-t.startAngle<360&&(baseAngle=t.startAngle),t.StartSpreader(spreaderPathString,baseAngle,r);for(var i=0;i<t.navItemCount;i++)startAngle=i*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,t.endAngle-t.startAngle<360&&i===t.navItemCount-1&&(endAngle=middleAngle),spreaderPathString.push(t.LineTo(startAngle,rbase)),spreaderPathString.push(t.LineTo(middleAngle,r)),spreaderPathString.push(t.LineTo(endAngle,rbase));return spreaderPathString.push(t.Close()),{spreaderPathString:spreaderPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.AntiStarSpreaderCustomization=function(){var t=new spreaderPathCustomization;return t.minRadiusPercent=.21,t},this.AntiStarSpreader=function(t,e,n){null===n&&(n=AntiStarSpreaderCustomization()),t.setBaseValue(n.spreaderPercent*e,n),rbase=t.wheelRadius*n.spreaderPercent*n.minRadiusPercent*e,r=t.sliceRadius,spreaderPathString=[],sliceAngle=t.sliceAngle/t.navItemCount,baseAngle=t.navAngle,t.endAngle-t.startAngle<360?(baseAngle=t.startAngle,t.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(t.MoveTo(t.startAngle+(t.navAngle+sliceAngle/2),rbase));for(var i=0;i<t.navItemCount;i++)startAngle=i*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,t.endAngle-t.startAngle<360&&i===t.navItemCount-1&&(endAngle=middleAngle),spreaderPathString.push(t.LineTo(startAngle,r)),spreaderPathString.push(t.LineTo(middleAngle,rbase)),spreaderPathString.push(t.LineTo(endAngle,r));return spreaderPathString.push(t.Close()),{spreaderPathString:spreaderPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.FlowerSpreaderCustomization=function(){var t=new spreaderPathCustomization;return t.minRadiusPercent=.63,t.menuRadius=7,t},this.FlowerSpreader=function(t,e,n){null===n&&(n=FlowerSpreaderCustomization()),t.setBaseValue(n.spreaderPercent*e,n),rbase=t.wheelRadius*n.spreaderPercent*n.minRadiusPercent*e,r=t.sliceRadius,spreaderPathString=[],sliceAngle=t.sliceAngle/t.navItemCount,baseAngle=t.navAngle,t.endAngle-t.startAngle<360?(baseAngle=t.startAngle,t.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(t.MoveTo(t.startAngle+(t.navAngle+sliceAngle/2),rbase));for(var i=0;i<t.navItemCount;i++)startAngle=i*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,t.endAngle-t.startAngle<360?(0===i&&spreaderPathString.push(t.ArcTo(n.menuRadius,startAngle,rbase)),i===t.navItemCount-1&&(endAngle=middleAngle)):spreaderPathString.push(t.LineTo(startAngle,rbase)),spreaderPathString.push(t.ArcTo(n.menuRadius,endAngle,rbase));return spreaderPathString.push(t.Close()),{spreaderPathString:spreaderPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.HolderSpreaderCustomization=function(){var t=new spreaderPathCustomization;return t.minRadiusPercent=.5,t.menuRadius=37,t},this.HolderSpreader=function(t,e,n){null===n&&(n=HolderSpreaderCustomization()),t.setBaseValue(n.spreaderPercent*e,n),rbase=t.wheelRadius*n.spreaderPercent*n.minRadiusPercent*e,r=t.sliceRadius,spreaderPathString=[],sliceAngle=t.sliceAngle/t.navItemCount,baseAngle=t.navAngle,t.endAngle-t.startAngle<360?(baseAngle=t.startAngle,t.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(t.MoveTo(t.startAngle+(t.navAngle+sliceAngle/2),rbase));for(var i=0;i<t.navItemCount;i++)startAngle=i*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/4,endAngle=startAngle+sliceAngle,t.endAngle-t.startAngle<360?i===t.navItemCount-1&&(endAngle=middleAngle):spreaderPathString.push(t.LineTo(startAngle,rbase)),spreaderPathString.push(t.LineTo(startAngle,r)),spreaderPathString.push(t.ArcBackTo(n.menuRadius,middleAngle,rbase)),spreaderPathString.push(t.ArcTo(n.menuRadius,endAngle,r));return spreaderPathString.push(t.Close()),{spreaderPathString:spreaderPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.LineSpreaderCustomization=function(){var t=new spreaderPathCustomization;return t.minRadiusPercent=.5,t},this.LineSpreader=function(t,e,n){null===n&&(n=LineSpreaderCustomization()),t.setBaseValue(n.spreaderPercent*e,n),rbase=t.wheelRadius*n.spreaderPercent*n.minRadiusPercent*e,r=t.sliceRadius,spreaderPathString=[],sliceAngle=t.sliceAngle/t.navItemCount,baseAngle=t.navAngle,t.endAngle-t.startAngle<360&&(baseAngle=t.startAngle),spreaderPathString.push(t.MoveTo(baseAngle+sliceAngle/2,r));for(var i=0;i<t.navItemCount;i++)startAngle=i*sliceAngle+(baseAngle+sliceAngle/2),endAngle=startAngle+sliceAngle,2===t.navItemCount&&(endAngle-=90),spreaderPathString.push(t.LineTo(startAngle,r)),spreaderPathString.push(t.LineTo(endAngle,r));return spreaderPathString.push(t.Close()),{spreaderPathString:spreaderPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this},marker=function(t){return this.wheelnav=t,this.wheelnav.markerEnable&&(this.markerHelper=new pathHelper,this.markerHelper.centerX=this.wheelnav.centerX,this.markerHelper.centerY=this.wheelnav.centerY,this.markerHelper.navItemCount=this.wheelnav.navItemCount,this.markerHelper.navAngle=this.wheelnav.navAngle,this.markerHelper.wheelRadius=this.wheelnav.wheelRadius*this.wheelnav.maxPercent,this.markerHelper.sliceAngle=this.wheelnav.navItems[0].sliceAngle,this.markerHelper.startAngle=this.markerHelper.navAngle-this.markerHelper.sliceAngle/2,this.animateeffect="bounce",this.animatetime=1500,null!==this.wheelnav.animateeffect&&(this.animateeffect=this.wheelnav.animateeffect),null!==this.wheelnav.animatetime&&(this.animatetime=this.wheelnav.animatetime),this.markerPathMin=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.minPercent,this.wheelnav.markerPathCustom),this.markerPathMax=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.maxPercent,this.wheelnav.markerPathCustom),this.marker=this.wheelnav.raphael.path(this.markerPathMax.markerPathString),this.marker.attr(this.wheelnav.markerAttr),this.marker.id=this.wheelnav.getMarkerId(),this.marker.node.id=this.marker.id),this},marker.prototype.setCurrentTransform=function(t){var e,n;this.wheelnav.markerEnable&&("",e=this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.markerPathMax.markerPathString:this.markerPathMin.markerPathString,void 0!==t?(n=t-this.markerHelper.navAngle,markerTransformAttr={transform:"r,"+n.toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY,path:e}):markerTransformAttr={path:e},this.marker.animate(markerTransformAttr,this.animatetime,this.animateeffect),this.marker.toFront())},markerPath=function(){return this.NullMarker=function(t,e){return null===e&&(e=new markerPathCustomization),t.setBaseValue(e),{markerPathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.TriangleMarkerCustomization=function(){var t=new markerPathCustomization;return t.arcBaseRadiusPercent=1.09,t.arcRadiusPercent=1.2,t.startRadiusPercent=0,t},this.TriangleMarker=function(t,e,n){null===n&&(n=TriangleMarkerCustomization()),t.setBaseValue(n.markerPercent*e,n);var i=t.sliceRadius*n.arcBaseRadiusPercent,r=t.sliceRadius*n.arcRadiusPercent,s=t.startAngle+.46*t.sliceAngle,o=t.startAngle+.54*t.sliceAngle;return markerPathString=[t.MoveTo(t.navAngle,i),t.LineTo(s,r),t.LineTo(o,r),t.Close()],{markerPathString:markerPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.PieLineMarkerCustomization=function(){var t=new markerPathCustomization;return t.arcBaseRadiusPercent=1,t.arcRadiusPercent=1,t.startRadiusPercent=0,t.sliceAngle=null,t},this.PieLineMarker=function(t,e,n){null===n&&(n=PieLineMarkerCustomization()),t.setBaseValue(n.markerPercent*e,n);var i=t.sliceRadius*n.arcBaseRadiusPercent,r=t.sliceRadius*n.arcRadiusPercent;return null!==n.sliceAngle&&(t.startAngle=t.navAngle-n.sliceAngle/2,t.endAngle=t.navAngle+n.sliceAngle/2),markerPathString=[t.MoveTo(t.startAngle,i),t.ArcTo(r,t.endAngle,i),t.ArcBackTo(r,t.startAngle,i),t.Close()],{markerPathString:markerPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.MenuMarkerCustomization=function(){var t=new markerPathCustomization;return t.menuRadius=40,t.titleRadiusPercent=.63,t.lineBaseRadiusPercent=0,t},this.MenuMarker=function(t,e,n){null===n&&(n=MenuMarkerCustomization()),t.setBaseValue(n.markerPercent*e,n),x=t.centerX,y=t.centerY,t.titleRadius=t.wheelRadius*n.titleRadiusPercent*e,t.setTitlePos();var i=n.menuRadius*e;return e<=.05&&(i=11),middleTheta=t.middleTheta,markerPathString=[["M",t.titlePosX-i*Math.cos(middleTheta),t.titlePosY-i*Math.sin(middleTheta)],["A",i,i,0,0,1,t.titlePosX+i*Math.cos(middleTheta),t.titlePosY+i*Math.sin(middleTheta)],["A",i,i,0,0,1,t.titlePosX-i*Math.cos(middleTheta),t.titlePosY-i*Math.sin(middleTheta)],["z"]],{markerPathString:markerPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.LineMarkerCustomization=function(){var t=new markerPathCustomization;return t.arcBaseRadiusPercent=1.05,t.arcRadiusPercent=1.2,t.startRadiusPercent=0,t},this.LineMarker=function(t,e,n){null===n&&(n=LineMarkerCustomization()),t.setBaseValue(n.markerPercent*e,n);var i=t.sliceRadius*n.arcBaseRadiusPercent,r=t.sliceRadius*n.arcRadiusPercent;return markerPathString=[t.MoveTo(t.navAngle,i),t.LineTo(t.navAngle,r),t.Close()],{markerPathString:markerPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.DropMarkerCustomization=function(){var t=new markerPathCustomization;return t.dropBaseRadiusPercent=0,t.dropRadiusPercent=.15,t},this.DropMarker=function(t,e,n){null===n&&(n=DropMarkerCustomization()),t.setBaseValue(n.markerPercent*e,n);var i=t.sliceRadius*n.dropBaseRadiusPercent,r=t.startAngle+.2*t.sliceAngle,s=t.startAngle,o=t.startAngle+.8*t.sliceAngle,a=t.startAngle+t.sliceAngle,l=t.sliceRadius*n.dropRadiusPercent;return markerPathString=[t.MoveTo(0,l),t.ArcTo(l,180,l),t.ArcTo(l,360,l),t.MoveTo(t.navAngle,i),t.LineTo(r,l),t.LineTo(s,l),t.LineTo(t.navAngle,1.6*l),t.LineTo(a,l),t.LineTo(o,l),t.Close()],{markerPathString:markerPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this},colorpalette={defaultpalette:["#2D9E46","#F5BE41","#F77604","#D63C22","#006BA6","#92ADAF"],purple:["#4F346B","#623491","#9657D6","#AD74E7","#CBA3F3"],greenred:["#17B92A","#FF3D00","#17B92A","#FF3D00"],greensilver:["#1F700A","#79CC3C","#D4E178","#E6D5C3","#AC875D"],oceanfive:["#00A0B0","#6A4A3C","#CC333F","#EB6841","#EDC951"],garden:["#648A4F","#2B2B29","#DF6126","#FFA337","#F57C85"],gamebookers:["#FF9900","#DCDCDC","#BCBCBC","#3299BB","#727272"],parrot:["#D80351","#F5D908","#00A3EE","#929292","#3F3F3F"],pisycholand:["#FF1919","#FF5E19","#FF9F19","#E4FF19","#29FF19"],makeLOVEnotWAR:["#2C0EF0","#B300FF","#6751F0","#FF006F","#8119FF"],theworldismine:["#F21D1D","#FF2167","#B521FF","#7E2AA8","#000000"],fractalloveone:["#002EFF","#00FFF7","#00FF62","#FFAA00","#FFF700"],fractallovetwo:["#FF9500","#FF0000","#FF00F3","#AA00FF","#002EFF"],fractallove:["#002EFF","#00FFF7","#00FF62","#FFAA00","#F5D908","#FF0000","#FF00F3","#AA00FF"],sprinkles:["#272523","#FFACAC","#FFD700","#00590C","#08006D"],goldenyellow:["#D8B597","#8C4006","#B6690F","#E3C57F","#FFEDBE"],hotaru:["#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5"]},function(t){var f,p,d="hasOwnProperty",g=/[\.\/]/,o=function(){},m=function(t,e){return t-e},v={n:{}},y=function(t,e){var n,i;t=String(t);var r,s=p,o=Array.prototype.slice.call(arguments,2),a=y.listeners(t),l=0,c=[],h={},u=[],d=f;for(f=t,n=p=0,i=a.length;n<i;n++)"zIndex"in a[n]&&(c.push(a[n].zIndex),a[n].zIndex<0&&(h[a[n].zIndex]=a[n]));for(c.sort(m);c[l]<0;)if(r=h[c[l++]],u.push(r.apply(e,o)),p)return p=s,u;for(n=0;n<i;n++)if("zIndex"in(r=a[n]))if(r.zIndex==c[l]){if(u.push(r.apply(e,o)),p)break;do{if((r=h[c[++l]])&&u.push(r.apply(e,o)),p)break}while(r)}else h[r.zIndex]=r;else if(u.push(r.apply(e,o)),p)break;return p=s,f=d,u.length?u:null};y._events=v,y.listeners=function(t){for(var e,n,i,r,s,o,a=t.split(g),l=v,c=[l],h=[],u=0,d=a.length;u<d;u++){for(o=[],r=0,s=c.length;r<s;r++)for(n=[(l=c[r].n)[a[u]],l["*"]],i=2;i--;)(e=n[i])&&(o.push(e),h=h.concat(e.f||[]));c=o}return h},y.on=function(t,e){var n,i,r,s;if(t=String(t),"function"!=typeof e)return function(){};for(n=t.split(g),i=v,r=0,s=n.length;r<s;r++)i=(i=i.n).hasOwnProperty(n[r])&&i[n[r]]||(i[n[r]]={n:{}});for(i.f=i.f||[],r=0,s=i.f.length;r<s;r++)if(i.f[r]==e)return o;return i.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},y.f=function(t){var e=[].slice.call(arguments,1);return function(){y.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},y.stop=function(){p=1},y.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(f):f},y.nts=function(){return f.split(g)},y.off=y.unbind=function(t,e){var n,i,r,s,o,a,l,c,h,u;if(t){for(n=t.split(g),h=[v],o=0,a=n.length;o<a;o++)for(l=0;l<h.length;l+=s.length-2){if(s=[l,1],i=h[l].n,"*"!=n[o])i[n[o]]&&s.push(i[n[o]]);else for(r in i)i[d](r)&&s.push(i[r]);h.splice.apply(h,s)}for(o=0,a=h.length;o<a;o++)for(i=h[o];i.n;){if(e){if(i.f){for(l=0,c=i.f.length;l<c;l++)if(i.f[l]==e){i.f.splice(l,1);break}i.f.length||delete i.f}for(r in i.n)if(i.n[d](r)&&i.n[r].f){for(l=0,c=(u=i.n[r].f).length;l<c;l++)if(u[l]==e){u.splice(l,1);break}u.length||delete i.n[r].f}}else for(r in delete i.f,i.n)i.n[d](r)&&i.n[r].f&&delete i.n[r].f;i=i.n}}else y._events=v={n:{}}},y.once=function(t,e){var n=function(){return y.unbind(t,n),e.apply(this,arguments)};return y.on(t,n)},y.version="0.4.2",y.toString=function(){return"You are running Eve 0.4.2"},"undefined"!=typeof module&&module.exports?module.exports=y:"undefined"!=typeof define?define("eve",[],function(){return y}):t.eve=y}(window||this),function(e,n){"function"==typeof define&&define.amd?define(["eve"],function(t){return n(e,t)}):n(e,e.eve)}(this,function(t,B){function K(t){var e,n;return K.is(t,"function")?m?t():B.on("raphael.DOMload",t):K.is(t,nt)?K._engine.create[L](K,t.splice(0,3+K.is(t[0],tt))).add(t):(e=Array.prototype.slice.call(arguments,0),K.is(e[e.length-1],"function")?(n=e.pop(),m?n.call(K._engine.create[L](K,e)):B.on("raphael.DOMload",function(){n.call(K._engine.create[L](K,e))})):K._engine.create[L](K,arguments))}function v(t){var e,n;if("function"==typeof t||Object(t)!==t)return t;for(n in e=new t.constructor,t)t[I](n)&&(e[n]=v(t[n]));return e}function W(s,o,a){return function t(){var e=Array.prototype.slice.call(arguments,0),n=e.join("␀"),i=t.cache=t.cache||{},r=t.count=t.count||[];return i[I](n)?function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}(r,n):(1e3<=r.length&&delete i[r.shift()],r.push(n),i[n]=s[L](o,e)),a?a(i[n]):i[n]}}function l(){return this.hex}function y(t,e){for(var n,i=[],r=0,s=t.length;r<s-2*!e;r+=2)n=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}],e?r?s-4==r?n[3]={x:+t[0],y:+t[1]}:s-2==r&&(n[2]={x:+t[0],y:+t[1]},n[3]={x:+t[2],y:+t[3]}):n[0]={x:+t[s-2],y:+t[s-1]}:s-4==r?n[3]=n[2]:r||(n[0]={x:+t[r],y:+t[r+1]}),i.push(["C",(-n[0].x+6*n[1].x+n[2].x)/6,(-n[0].y+6*n[1].y+n[2].y)/6,(n[1].x+6*n[2].x-n[3].x)/6,(n[1].y+6*n[2].y-n[3].y)/6,n[2].x,n[2].y]);return i}function b(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}function E(t,e,n,i,r,s,o,a,l){var c;null==l&&(l=1);var h=(l=1<l?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0;for(c=0;c<12;c++){var p=h*u[c]+h,g=b(p,t,n,r,o),m=b(p,e,i,s,a),v=g*g+m*m;f+=d[c]*q.sqrt(v)}return h*f}function k(t,e,n,i,r,s,o,a){if(!(Z(t,n)<G(r,o)||G(t,n)>Z(r,o)||Z(e,i)<G(s,a)||G(e,i)>Z(s,a))){var l=(t-n)*(s-a)-(e-i)*(r-o);if(l){var c=((t*i-e*n)*(r-o)-(t-n)*(r*a-s*o))/l,h=((t*i-e*n)*(s-a)-(e-i)*(r*a-s*o))/l,u=+c.toFixed(2),d=+h.toFixed(2);if(!(u<+G(t,n).toFixed(2)||u>+Z(t,n).toFixed(2)||u<+G(r,o).toFixed(2)||u>+Z(r,o).toFixed(2)||d<+G(e,i).toFixed(2)||d>+Z(e,i).toFixed(2)||d<+G(s,a).toFixed(2)||d>+Z(s,a).toFixed(2)))return{x:c,y:h}}}}function A(t,e,n){var i,r,s,o,a,l=K.bezierBBox(t),c=K.bezierBBox(e);if(!K.isBBoxIntersect(l,c))return n?0:[];var h=E.apply(0,t),u=E.apply(0,e),d=Z(~~(h/5),1),f=Z(~~(u/5),1),p=[],g=[],m={},v=n?0:[];for(i=0;i<d+1;i++)r=K.findDotsAtSegment.apply(K,t.concat(i/d)),p.push({x:r.x,y:r.y,t:i/d});for(i=0;i<f+1;i++)r=K.findDotsAtSegment.apply(K,e.concat(i/f)),g.push({x:r.x,y:r.y,t:i/f});for(i=0;i<d;i++)for(s=0;s<f;s++){var y=p[i],b=p[i+1],_=g[s],w=g[s+1],x=X(b.x-y.x)<.001?"y":"x",A=X(w.x-_.x)<.001?"y":"x",C=k(y.x,y.y,b.x,b.y,_.x,_.y,w.x,w.y);if(C){if(m[C.x.toFixed(4)]==C.y.toFixed(4))continue;m[C.x.toFixed(4)]=C.y.toFixed(4),o=y.t+X((C[x]-y[x])/(b[x]-y[x]))*(b.t-y.t),a=_.t+X((C[A]-_[A])/(w[A]-_[A]))*(w.t-_.t),0<=o&&o<=1.001&&0<=a&&a<=1.001&&(n?v++:v.push({x:C.x,y:C.y,t1:G(o,1),t2:G(a,1)}))}}return v}function r(t,e,n){var i,r,s,o,a,l,c,h,u,d,f,p,g,m,v,y,b,_,w,x;for(t=K._path2curve(t),e=K._path2curve(e),f=n?0:[],p=0,g=t.length;p<g;p++)if("M"==(m=t[p])[0])i=a=m[1],r=l=m[2];else for("C"==m[0]?(i=(u=[i,r].concat(m.slice(1)))[6],r=u[7]):(u=[i,r,i,r,a,l,a,l],i=a,r=l),v=0,y=e.length;v<y;v++)if("M"==(b=e[v])[0])s=c=b[1],o=h=b[2];else if("C"==b[0]?(s=(d=[s,o].concat(b.slice(1)))[6],o=d[7]):(d=[s,o,s,o,c,h,c,h],s=c,o=h),_=A(u,d,n),n)f+=_;else{for(w=0,x=_.length;w<x;w++)_[w].segment1=p,_[w].segment2=v,_[w].bez1=u,_[w].bez2=d;f=f.concat(_)}return f}function $(t,e,n,i,r,s){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+i,this.e=+r,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function n(){return this.x+" "+this.y+" "+this.width+" × "+this.height}function R(t,e,n,i,r,s){function l(t){return((u*t+h)*t+c)*t}var o,c=3*e,h=3*(i-e)-c,u=1-c-h,a=3*n,d=3*(r-n)-a,f=1-a-d;return o=function(t,e){for(var n,i,r,s,o=t,a=0;a<8;a++){if(r=l(o)-t,X(r)<e)return o;if(X(s=(3*u*o+2*h)*o+c)<1e-6)break;o-=r/s}if(i=1,(o=t)<(n=0))return n;if(i<o)return i;for(;n<i;){if(r=l(o),X(r-t)<e)return o;r<t?n=o:i=o,o=(i-n)/2+n}return o}(t,1/(200*s)),((f*o+d)*o+a)*o}function c(t,e){var n,i=[],r={};if(this.ms=e,this.times=1,t){for(n in t)t[I](n)&&(r[lt(n)]=t[n],i.push(lt(n)));i.sort(_t)}this.anim=r,this.top=i[i.length-1],this.percents=i}function x(t,e,n,i,r,s){var o,a,l,c,h,u,d,f,p,g,m,v,y,b,_,w,x,A;n=lt(n);var C,E,k,S,F,T,D=t.ms,M={},P={},L={};if(i){for(a=0,l=fe.length;a<l;a++)if((o=fe[a]).el.id==e.id&&o.anim==t){o.percent!=n?(fe.splice(a,1),k=1):E=o,e.attr(o.totalOrigin);break}}else i=+P;for(a=0,l=t.percents.length;a<l;a++){if(t.percents[a]==n||t.percents[a]>i*t.top){n=t.percents[a],F=t.percents[a-1]||0,D=D/t.top*(n-F),S=t.percents[a+1],C=t.anim[n];break}i&&e.attr(t.anim[t.percents[a]])}if(C){if(E)E.initstatus=i,E.start=new Date-E.ms*i;else{for(c in C)if(C[I](c)&&(dt[I](c)||e.paper.customAttributes[I](c)))switch(M[c]=e.attr(c),null==M[c]&&(M[c]=ut[c]),P[c]=C[c],dt[c]){case tt:L[c]=(P[c]-M[c])/D;break;case"colour":M[c]=K.getRGB(M[c]),h=K.getRGB(P[c]),L[c]={r:(h.r-M[c].r)/D,g:(h.g-M[c].g)/D,b:(h.b-M[c].b)/D};break;case"path":for(d=(u=Ht(M[c],P[c]))[1],M[c]=u[0],L[c]=[],a=0,l=M[c].length;a<l;a++)for(L[c][a]=[0],f=1,p=M[c][a].length;f<p;f++)L[c][a][f]=(d[a][f]-M[c][a][f])/D;break;case"transform":if(g=e._,m=Yt(g[c],P[c]))for(M[c]=m.from,P[c]=m.to,L[c]=[],L[c].real=!0,a=0,l=M[c].length;a<l;a++)for(L[c][a]=[M[c][a][0]],f=1,p=M[c][a].length;f<p;f++)L[c][a][f]=(P[c][a][f]-M[c][a][f])/D;else v=e.matrix||new $,y={_:{transform:g.transform},getBBox:function(){return e.getBBox(1)}},M[c]=[v.a,v.b,v.c,v.d,v.e,v.f],Vt(y,P[c]),P[c]=y._.transform,L[c]=[(y.matrix.a-v.a)/D,(y.matrix.b-v.b)/D,(y.matrix.c-v.c)/D,(y.matrix.d-v.d)/D,(y.matrix.e-v.e)/D,(y.matrix.f-v.f)/D];break;case"csv":if(b=z(C[c])[U](O),_=z(M[c])[U](O),"clip-rect"==c)for(M[c]=_,L[c]=[],a=_.length;a--;)L[c][a]=(b[a]-M[c][a])/D;P[c]=b;break;default:for(b=[][V](C[c]),_=[][V](M[c]),L[c]=[],a=e.paper.customAttributes[c].length;a--;)L[c][a]=((b[a]||0)-(_[a]||0))/D}if(w=C.easing,(x=K.easing_formulas[w])||((x=z(w).match(ot))&&5==x.length?(A=x,x=function(t){return R(t,+A[1],+A[2],+A[3],+A[4],D)}):x=wt),o={anim:t,percent:n,timestamp:T=C.start||t.start||+new Date,start:T+(t.del||0),status:0,initstatus:i||0,stop:!1,ms:D,easing:x,from:M,diff:L,to:P,el:e,callback:C.callback,prev:F,next:S,repeat:s||t.times,origin:e.attr(),totalOrigin:r},fe.push(o),i&&!E&&!k&&(o.stop=!0,o.start=new Date-D*i,1==fe.length))return ge();k&&(o.start=new Date-o.ms*i),1==fe.length&&pe(ge)}B("raphael.anim.start."+e.id,e,t)}}function e(t){for(var e=0;e<fe.length;e++)fe[e].el.paper==t&&fe.splice(e--,1)}var i,s,_,o,a,f,h,u,d,p,g;K.version="2.1.2",K.eve=B;var m,w,C,S,O=/[, ]+/,F={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},T=/\{(\d+)\}/g,I="hasOwnProperty",D={doc:document,win:t},M={was:Object.prototype[I].call(D.win,"Raphael"),is:D.win.Raphael},P=function(){this.ca=this.customAttributes={}},L="apply",V="concat",N="ontouchstart"in D.win||D.win.DocumentTouch&&D.doc instanceof DocumentTouch,z=String,U="split",H="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[U](" "),j={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},Y=z.prototype.toLowerCase,q=Math,Z=q.max,G=q.min,X=q.abs,Q=q.pow,J=q.PI,tt="number",et="string",nt="array",it=Object.prototype.toString,rt=(K._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),st={NaN:1,Infinity:1,"-Infinity":1},ot=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,at=q.round,lt=parseFloat,ct=parseInt,ht=z.prototype.toUpperCase,ut=K._availableAttrs={class:"","arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},dt=K._availableAnimAttrs={blur:tt,"clip-rect":"csv",cx:tt,cy:tt,fill:"colour","fill-opacity":tt,"font-size":tt,height:tt,opacity:tt,path:"path",r:tt,rx:tt,ry:tt,stroke:"colour","stroke-opacity":tt,"stroke-width":tt,transform:"transform",width:tt,x:tt,y:tt},ft=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,pt={hs:1,rg:1},gt=/,?([achlmqrstvxz]),?/gi,mt=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,vt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,yt=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,bt=(K._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),_t=function(t,e){return lt(t)-lt(e)},wt=function(t){return t},xt=K._rectPath=function(t,e,n,i,r){return r?[["M",t+r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]]},At=function(t,e,n,i){return null==i&&(i=n),[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},Ct=K._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return At(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return At(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return xt(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return xt(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return xt(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return xt(e.x,e.y,e.width,e.height)}},Et=K.mapPath=function(t,e){if(!e)return t;var n,i,r,s,o,a,l;for(r=0,o=(t=Ht(t)).length;r<o;r++)for(s=1,a=(l=t[r]).length;s<a;s+=2)n=e.x(l[s],l[s+1]),i=e.y(l[s],l[s+1]),l[s]=n,l[s+1]=i;return t};if(K._g=D,"VML"==(K.type=D.win.SVGAngle||D.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){if((i=D.doc.createElement("div")).innerHTML='<v:shape adj="1"/>',(s=i.firstChild).style.behavior="url(#default#VML)",!s||"object"!=typeof s.adj)return K.type="";i=null}K.svg=!(K.vml="VML"==K.type),K._Paper=P,K.fn=w=P.prototype=K.prototype,K._id=0,K._oid=0,K.is=function(t,e){return"finite"==(e=Y.call(e))?!st[I](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||it.call(t).slice(8,-1).toLowerCase()==e},K.angle=function(t,e,n,i,r,s){if(null==r){var o=t-n,a=e-i;return o||a?(180+180*q.atan2(-a,-o)/J+360)%360:0}return K.angle(t,e,r,s)-K.angle(n,i,r,s)},K.rad=function(t){return t%360*J/180},K.deg=function(t){return 180*t/J%360},K.snapTo=function(t,e,n){var i,r;if(n=K.is(n,"finite")?n:10,K.is(t,nt)){for(i=t.length;i--;)if(X(t[i]-e)<=n)return t[i]}else{if((r=e%(t=+t))<n)return e-r;if(t-n<r)return e-r+t}return e},K.createUUID=(C=/[xy]/g,S=function(t){var e=16*q.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(C,S).toUpperCase()}),K.setWindow=function(t){B("raphael.setWindow",K,D.win,t),D.win=t,D.doc=D.win.document,K._engine.initWin&&K._engine.initWin(D.win)};var kt=function(t){var n,i,e,r,s;if(K.vml){n=/^\s+|\s+$/g;try{(e=new ActiveXObject("htmlfile")).write("<body>"),e.close(),i=e.body}catch(t){i=createPopup().document.body}r=i.createTextRange(),kt=W(function(t){try{i.style.color=z(t).replace(n,"");var e=r.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}})}else(s=D.doc.createElement("i")).title="Raphaël Colour Picker",s.style.display="none",D.doc.body.appendChild(s),kt=W(function(t){return s.style.color=t,D.doc.defaultView.getComputedStyle(s,"").getPropertyValue("color")});return kt(t)},St=function(){return"hsb("+[this.h,this.s,this.b]+")"},Ft=function(){return"hsl("+[this.h,this.s,this.l]+")"},Tt=function(){return this.hex},Dt=function(t,e,n){if(null==e&&K.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&K.is(t,et)){var i=K.getRGB(t);t=i.r,e=i.g,n=i.b}return(1<t||1<e||1<n)&&(t/=255,e/=255,n/=255),[t,e,n]},Mt=function(t,e,n,i){var r={r:t*=255,g:e*=255,b:n*=255,hex:K.rgb(t,e,n),toString:Tt};return K.is(i,"finite")&&(r.opacity=i),r};K.color=function(t){var e;return K.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=K.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):K.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=K.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(K.is(t,"string")&&(t=K.getRGB(t)),K.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=K.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=K.rgb2hsb(t),t.v=e.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=Tt,t},K.hsb2rgb=function(t,e,n,i){var r,s,o,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,i=(t=t.h).o),a=(l=n*e)*(1-X((t=(t*=360)%360/60)%2-1)),r=s=o=n-l,Mt(r+=[l,a,0,0,a,l][t=~~t],s+=[a,l,l,a,0,0][t],o+=[0,0,a,l,l,a][t],i)},K.hsl2rgb=function(t,e,n,i){var r,s,o,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(1<t||1<e||1<n)&&(t/=360,e/=100,n/=100),a=(l=2*e*(n<.5?n:1-n))*(1-X((t=(t*=360)%360/60)%2-1)),r=s=o=n-l/2,Mt(r+=[l,a,0,0,a,l][t=~~t],s+=[a,l,l,a,0,0][t],o+=[0,0,a,l,l,a][t],i)},K.rgb2hsb=function(t,e,n){var i,r;return t=(n=Dt(t,e,n))[0],e=n[1],n=n[2],{h:((0==(r=(i=Z(t,e,n))-G(t,e,n))?null:i==t?(e-n)/r:i==e?(n-t)/r+2:(t-e)/r+4)+360)%6/6,s:0==r?0:r/i,b:i,toString:St}},K.rgb2hsl=function(t,e,n){var i,r,s,o;return t=(n=Dt(t,e,n))[0],e=n[1],n=n[2],i=((r=Z(t,e,n))+(s=G(t,e,n)))/2,{h:((0==(o=r-s)?null:r==t?(e-n)/o:r==e?(n-t)/o+2:(t-e)/o+4)+360)%6/6,s:0==o?0:i<.5?o/(2*i):o/(2-2*i),l:i,toString:Ft}},K._path2string=function(){return this.join(",").replace(gt,"$1")},K._preload=function(t,e){var n=D.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,D.doc.body.removeChild(this)},n.onerror=function(){D.doc.body.removeChild(this)},D.doc.body.appendChild(n),n.src=t},K.getRGB=W(function(t){if(!t||(t=z(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:l};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:l};pt[I](t.toLowerCase().substring(0,2))||"#"==t.charAt()||(t=kt(t));var e,n,i,r,s,o,a=t.match(rt);return a?(a[2]&&(i=ct(a[2].substring(5),16),n=ct(a[2].substring(3,5),16),e=ct(a[2].substring(1,3),16)),a[3]&&(i=ct((s=a[3].charAt(3))+s,16),n=ct((s=a[3].charAt(2))+s,16),e=ct((s=a[3].charAt(1))+s,16)),a[4]&&(o=a[4][U](ft),e=lt(o[0]),"%"==o[0].slice(-1)&&(e*=2.55),n=lt(o[1]),"%"==o[1].slice(-1)&&(n*=2.55),i=lt(o[2]),"%"==o[2].slice(-1)&&(i*=2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(r=lt(o[3])),o[3]&&"%"==o[3].slice(-1)&&(r/=100)),a[5]?(o=a[5][U](ft),e=lt(o[0]),"%"==o[0].slice(-1)&&(e*=2.55),n=lt(o[1]),"%"==o[1].slice(-1)&&(n*=2.55),i=lt(o[2]),"%"==o[2].slice(-1)&&(i*=2.55),("deg"==o[0].slice(-3)||"°"==o[0].slice(-1))&&(e/=360),"hsba"==a[1].toLowerCase().slice(0,4)&&(r=lt(o[3])),o[3]&&"%"==o[3].slice(-1)&&(r/=100),K.hsb2rgb(e,n,i,r)):a[6]?(o=a[6][U](ft),e=lt(o[0]),"%"==o[0].slice(-1)&&(e*=2.55),n=lt(o[1]),"%"==o[1].slice(-1)&&(n*=2.55),i=lt(o[2]),"%"==o[2].slice(-1)&&(i*=2.55),("deg"==o[0].slice(-3)||"°"==o[0].slice(-1))&&(e/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(r=lt(o[3])),o[3]&&"%"==o[3].slice(-1)&&(r/=100),K.hsl2rgb(e,n,i,r)):((a={r:e,g:n,b:i,toString:l}).hex="#"+(16777216|i|n<<8|e<<16).toString(16).slice(1),K.is(r,"finite")&&(a.opacity=r),a)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:l}},K),K.hsb=W(function(t,e,n){return K.hsb2rgb(t,e,n).hex}),K.hsl=W(function(t,e,n){return K.hsl2rgb(t,e,n).hex}),K.rgb=W(function(t,e,n){return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)}),(K.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,1<e.h&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex}).reset=function(){delete this.start},K.parsePathString=function(t){var e,s,o;return t?(e=_(t)).arr?Lt(e.arr):(s={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},o=[],K.is(t,nt)&&K.is(t[0],nt)&&(o=Lt(t)),o.length||z(t).replace(mt,function(t,e,n){var i=[],r=e.toLowerCase();if(n.replace(yt,function(t,e){e&&i.push(+e)}),"m"==r&&2<i.length&&(o.push([e][V](i.splice(0,2))),r="l",e="m"==e?"l":"L"),"r"==r)o.push([e][V](i));else for(;i.length>=s[r]&&(o.push([e][V](i.splice(0,s[r]))),s[r]););}),o.toString=K._path2string,e.arr=Lt(o),o):null},K.parseTransformString=W(function(t){if(!t)return null;var r=[];return K.is(t,nt)&&K.is(t[0],nt)&&(r=Lt(t)),r.length||z(t).replace(vt,function(t,e,n){var i=[];Y.call(e);n.replace(yt,function(t,e){e&&i.push(+e)}),r.push([e][V](i))}),r.toString=K._path2string,r}),_=function(e){var n=_.ps=_.ps||{};return n[e]?n[e].sleep=100:n[e]={sleep:100},setTimeout(function(){for(var t in n)n[I](t)&&t!=e&&(n[t].sleep--,n[t].sleep||delete n[t])}),n[e]},K.findDotsAtSegment=function(t,e,n,i,r,s,o,a,l){var c=1-l,h=Q(c,3),u=Q(c,2),d=l*l,f=d*l,p=h*t+3*u*l*n+3*c*l*l*r+f*o,g=h*e+3*u*l*i+3*c*l*l*s+f*a,m=t+2*l*(n-t)+d*(r-2*n+t),v=e+2*l*(i-e)+d*(s-2*i+e),y=n+2*l*(r-n)+d*(o-2*r+n),b=i+2*l*(s-i)+d*(a-2*s+i),_=c*t+l*n,w=c*e+l*i,x=c*r+l*o,A=c*s+l*a,C=90-180*q.atan2(m-y,v-b)/J;return(y<m||v<b)&&(C+=180),{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:_,y:w},end:{x:x,y:A},alpha:C}},K.bezierBBox=function(t,e,n,i,r,s,o,a){K.is(t,"array")||(t=[t,e,n,i,r,s,o,a]);var l=zt.apply(null,t);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},K.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},K.isBBoxIntersect=function(t,e){var n=K.isPointInsideBBox;return n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},K.pathIntersection=function(t,e){return r(t,e)},K.pathIntersectionNumber=function(t,e){return r(t,e,1)},K.isPointInsidePath=function(t,e,n){var i=K.pathBBox(t);return K.isPointInsideBBox(i,e,n)&&r(t,[["M",e,n],["H",i.x2+10]],1)%2==1},K._removedFactory=function(t){return function(){B("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};var Pt=K.pathBBox=function(t){var e,n,i,r=_(t);if(r.bbox)return v(r.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};var s,o=0,a=0,l=[],c=[];for(e=0,n=(t=Ht(t)).length;e<n;e++)"M"==(s=t[e])[0]?(o=s[1],a=s[2],l.push(o),c.push(a)):(i=zt(o,a,s[1],s[2],s[3],s[4],s[5],s[6]),l=l[V](i.min.x,i.max.x),c=c[V](i.min.y,i.max.y),o=s[5],a=s[6]);var h=G[L](0,l),u=G[L](0,c),d=Z[L](0,l),f=Z[L](0,c),p=d-h,g=f-u,m={x:h,y:u,x2:d,y2:f,width:p,height:g,cx:h+p/2,cy:u+g/2};return r.bbox=v(m),m},Lt=function(t){var e=v(t);return e.toString=K._path2string,e},Bt=K._pathToRelative=function(t){var e,n,i,r,s,o,a,l,c,h=_(t);if(h.rel)return Lt(h.rel);K.is(t,nt)&&K.is(t&&t[0],nt)||(t=K.parsePathString(t));var u=[],d=0,f=0,p=0,g=0,m=0;for("M"==t[0][0]&&(p=d=t[0][1],g=f=t[0][2],m++,u.push(["M",d,f])),e=m,n=t.length;e<n;e++){if(i=u[e]=[],(r=t[e])[0]!=Y.call(r[0]))switch(i[0]=Y.call(r[0]),i[0]){case"a":i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=+(r[6]-d).toFixed(3),i[7]=+(r[7]-f).toFixed(3);break;case"v":i[1]=+(r[1]-f).toFixed(3);break;case"m":p=r[1],g=r[2];default:for(s=1,o=r.length;s<o;s++)i[s]=+(r[s]-(s%2?d:f)).toFixed(3)}else for(i=u[e]=[],"m"==r[0]&&(p=r[1]+d,g=r[2]+f),a=0,l=r.length;a<l;a++)u[e][a]=r[a];switch(c=u[e].length,u[e][0]){case"z":d=p,f=g;break;case"h":d+=+u[e][c-1];break;case"v":f+=+u[e][c-1];break;default:d+=+u[e][c-2],f+=+u[e][c-1]}}return u.toString=K._path2string,h.rel=Lt(u),u},$t=K._pathToAbsolute=function(t){var e,n,i,r,s,o,a,l,c,h,u=_(t);if(u.abs)return Lt(u.abs);if(K.is(t,nt)&&K.is(t&&t[0],nt)||(t=K.parsePathString(t)),!t||!t.length)return[["M",0,0]];var d=[],f=0,p=0,g=0,m=0,v=0;for("M"==t[0][0]&&(g=f=+t[0][1],m=p=+t[0][2],v++,d[0]=["M",f,p]),e=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),r=v,s=t.length;r<s;r++){if(d.push(n=[]),(i=t[r])[0]!=ht.call(i[0]))switch(n[0]=ht.call(i[0]),n[0]){case"A":n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=+(i[6]+f),n[7]=+(i[7]+p);break;case"V":n[1]=+i[1]+p;break;case"H":n[1]=+i[1]+f;break;case"R":for(a=2,l=(o=[f,p][V](i.slice(1))).length;a<l;a++)o[a]=+o[a]+f,o[++a]=+o[a]+p;d.pop(),d=d[V](y(o,e));break;case"M":g=+i[1]+f,m=+i[2]+p;default:for(a=1,l=i.length;a<l;a++)n[a]=+i[a]+(a%2?f:p)}else if("R"==i[0])o=[f,p][V](i.slice(1)),d.pop(),d=d[V](y(o,e)),n=["R"][V](i.slice(-2));else for(c=0,h=i.length;c<h;c++)n[c]=i[c];switch(n[0]){case"Z":f=g,p=m;break;case"H":f=n[1];break;case"V":p=n[1];break;case"M":g=n[n.length-2],m=n[n.length-1];default:f=n[n.length-2],p=n[n.length-1]}}return d.toString=K._path2string,u.abs=Lt(d),d},Rt=function(t,e,n,i){return[t,e,n,i,n,i]},Ot=function(t,e,n,i,r,s){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*s+2/3*i,r,s]},It=function(t,e,n,i,r,s,o,a,l,c){var h,u,d,f,p,g=120*J/180,m=J/180*(+r||0),v=[],y=W(function(t,e,n){return{x:t*q.cos(n)-e*q.sin(n),y:t*q.sin(n)+e*q.cos(n)}});if(c)S=c[0],F=c[1],E=c[2],k=c[3];else{t=(h=y(t,e,-m)).x,e=h.y,a=(h=y(a,l,-m)).x,l=h.y;q.cos(J/180*r),q.sin(J/180*r);var b=(t-a)/2,_=(e-l)/2,w=b*b/(n*n)+_*_/(i*i);1<w&&(n*=w=q.sqrt(w),i*=w);var x=n*n,A=i*i,C=(s==o?-1:1)*q.sqrt(X((x*A-x*_*_-A*b*b)/(x*_*_+A*b*b))),E=C*n*_/i+(t+a)/2,k=C*-i*b/n+(e+l)/2,S=q.asin(((e-k)/i).toFixed(9)),F=q.asin(((l-k)/i).toFixed(9));(S=t<E?J-S:S)<0&&(S=2*J+S),(F=a<E?J-F:F)<0&&(F=2*J+F),o&&F<S&&(S-=2*J),!o&&S<F&&(F-=2*J)}if(X(u=F-S)>g){var T=F,D=a,M=l;F=S+g*(o&&S<F?1:-1),a=E+n*q.cos(F),l=k+i*q.sin(F),v=It(a,l,n,i,r,0,o,D,M,[F,T,E,k])}u=F-S;var P=q.cos(S),L=q.sin(S),B=q.cos(F),$=q.sin(F),R=q.tan(u/4),O=4/3*n*R,I=4/3*i*R,N=[t,e],z=[t+O*L,e-I*P],H=[a+O*$,l-I*B],j=[a,l];if(z[0]=2*N[0]-z[0],z[1]=2*N[1]-z[1],c)return[z,H,j][V](v);for(d=[],f=0,p=(v=[z,H,j][V](v).join()[U](",")).length;f<p;f++)d[f]=f%2?y(v[f-1],v[f],m).y:y(v[f],v[f+1],m).x;return d},Nt=function(t,e,n,i,r,s,o,a,l){var c=1-l;return{x:Q(c,3)*t+3*Q(c,2)*l*n+3*c*l*l*r+Q(l,3)*o,y:Q(c,3)*e+3*Q(c,2)*l*i+3*c*l*l*s+Q(l,3)*a}},zt=W(function(t,e,n,i,r,s,o,a){var l,c=r-2*n+t-(o-2*r+n),h=2*(n-t)-2*(r-n),u=t-n,d=(-h+q.sqrt(h*h-4*c*u))/2/c,f=(-h-q.sqrt(h*h-4*c*u))/2/c,p=[e,a],g=[t,o];return"1e12"<X(d)&&(d=.5),"1e12"<X(f)&&(f=.5),0<d&&d<1&&(l=Nt(t,e,n,i,r,s,o,a,d),g.push(l.x),p.push(l.y)),0<f&&f<1&&(l=Nt(t,e,n,i,r,s,o,a,f),g.push(l.x),p.push(l.y)),c=s-2*i+e-(a-2*s+i),u=e-i,d=(-(h=2*(i-e)-2*(s-i))+q.sqrt(h*h-4*c*u))/2/c,f=(-h-q.sqrt(h*h-4*c*u))/2/c,"1e12"<X(d)&&(d=.5),"1e12"<X(f)&&(f=.5),0<d&&d<1&&(l=Nt(t,e,n,i,r,s,o,a,d),g.push(l.x),p.push(l.y)),0<f&&f<1&&(l=Nt(t,e,n,i,r,s,o,a,f),g.push(l.x),p.push(l.y)),{min:{x:G[L](0,g),y:G[L](0,p)},max:{x:Z[L](0,g),y:Z[L](0,p)}}}),Ht=K._path2curve=W(function(t,e){var n,s,i=!e&&_(t);if(!e&&i.curve)return Lt(i.curve);var o=$t(t),a=e&&$t(e),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][V](It[L](0,[e.x,e.y][V](t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r][V](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][V](Ot(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][V](Ot(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][V](Rt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][V](Rt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][V](Rt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][V](Rt(e.x,e.y,e.X,e.Y))}return t},h=function(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)t.splice(e++,0,["C"][V](n.splice(0,6)));t.splice(e,1),s=Z(o.length,a&&a.length||0)}},u=function(t,e,n,i,r){t&&e&&"M"==t[r][0]&&"M"!=e[r][0]&&(e.splice(r,0,["M",i.x,i.y]),n.bx=0,n.by=0,n.x=t[r][1],n.y=t[r][2],s=Z(o.length,a&&a.length||0))};for(n=0,s=Z(o.length,a&&a.length||0);n<s;n++){o[n]=c(o[n],r),h(o,n),a&&(a[n]=c(a[n],l)),a&&h(a,n),u(o,a,r,l,n),u(a,o,l,r,n);var d=o[n],f=a&&a[n],p=d.length,g=a&&f.length;r.x=d[p-2],r.y=d[p-1],r.bx=lt(d[p-4])||r.x,r.by=lt(d[p-3])||r.y,l.bx=a&&(lt(f[g-4])||l.x),l.by=a&&(lt(f[g-3])||l.y),l.x=a&&f[g-2],l.y=a&&f[g-1]}return a||(i.curve=Lt(o)),a?[o,a]:o},null,Lt),jt=(K._parseDots=W(function(t){for(var e,n,i,r,s,o,a=[],l=0,c=t.length;l<c;l++){if(e={},n=t[l].match(/^([^:]*):?([\d\.]*)/),e.color=K.getRGB(n[1]),e.color.error)return null;e.color=e.color.hex,n[2]&&(e.offset=n[2]+"%"),a.push(e)}for(l=1,c=a.length-1;l<c;l++)if(!a[l].offset){for(i=lt(a[l-1].offset||0),r=0,s=l+1;s<c;s++)if(a[s].offset){r=a[s].offset;break}for(r||(r=100,s=c),o=((r=lt(r))-i)/(s-l+1);l<s;l++)i+=o,a[l].offset=i+"%"}return a}),K._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Wt=(K._tofront=function(t,e){e.top!==t&&(jt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},K._toback=function(t,e){e.bottom!==t&&(jt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},K._insertafter=function(t,e,n){jt(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,(t.prev=e).next=t},K._insertbefore=function(t,e,n){jt(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,(e.prev=t).next=e},K.toMatrix=function(t,e){var n=Pt(t),i={_:{transform:""},getBBox:function(){return n}};return Vt(i,e),i.matrix}),Vt=(K.transformPath=function(t,e){return Et(t,Wt(t,e))},K._extractTransform=function(t,e){var n,i;if(null==e)return t._.transform;e=z(e).replace(/\.{3}|\u2026/g,t._.transform||"");var r,s,o=K.parseTransformString(e),a=0,l=1,c=1,h=t._,u=new $;if(h.transform=o||[],o)for(n=0,i=o.length;n<i;n++){var d,f,p,g,m,v=o[n],y=v.length,b=z(v[0]).toLowerCase(),_=v[0]!=b,w=_?u.invert():0;"t"==b&&3==y?_?(d=w.x(0,0),f=w.y(0,0),p=w.x(v[1],v[2]),g=w.y(v[1],v[2]),u.translate(p-d,g-f)):u.translate(v[1],v[2]):"r"==b?2==y?(m=m||t.getBBox(1),u.rotate(v[1],m.x+m.width/2,m.y+m.height/2),a+=v[1]):4==y&&(_?(p=w.x(v[2],v[3]),g=w.y(v[2],v[3]),u.rotate(v[1],p,g)):u.rotate(v[1],v[2],v[3]),a+=v[1]):"s"==b?2==y||3==y?(m=m||t.getBBox(1),u.scale(v[1],v[y-1],m.x+m.width/2,m.y+m.height/2),l*=v[1],c*=v[y-1]):5==y&&(_?(p=w.x(v[3],v[4]),g=w.y(v[3],v[4]),u.scale(v[1],v[2],p,g)):u.scale(v[1],v[2],v[3],v[4]),l*=v[1],c*=v[2]):"m"==b&&7==y&&u.add(v[1],v[2],v[3],v[4],v[5],v[6]),h.dirtyT=1,t.matrix=u}t.matrix=u,h.sx=l,h.sy=c,h.deg=a,h.dx=r=u.e,h.dy=s=u.f,1==l&&1==c&&!a&&h.bbox?(h.bbox.x+=+r,h.bbox.y+=+s):h.dirtyT=1}),Ut=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Yt=K._equaliseTransform=function(t,e){e=z(e).replace(/\.{3}|\u2026/g,t),t=K.parseTransformString(t)||[],e=K.parseTransformString(e)||[];for(var n,i,r,s,o=Z(t.length,e.length),a=[],l=[],c=0;c<o;c++){if(r=t[c]||Ut(e[c]),s=e[c]||Ut(r),r[0]!=s[0]||"r"==r[0].toLowerCase()&&(r[2]!=s[2]||r[3]!=s[3])||"s"==r[0].toLowerCase()&&(r[3]!=s[3]||r[4]!=s[4]))return;for(a[c]=[],l[c]=[],n=0,i=Z(r.length,s.length);n<i;n++)n in r&&(a[c][n]=r[n]),n in s&&(l[c][n]=s[n])}return{from:a,to:l}};K._getContainer=function(t,e,n,i){var r;if(null!=(r=null!=i||K.is(t,"object")?t:D.doc.getElementById(t)))return r.tagName?null==e?{container:r,width:r.style.pixelWidth||r.offsetWidth,height:r.style.pixelHeight||r.offsetHeight}:{container:r,width:e,height:n}:{container:1,x:t,y:e,width:n,height:i}},K.pathToRelative=Bt,K._engine={},K.path2curve=Ht,K.matrix=function(t,e,n,i,r,s){return new $(t,e,n,i,r,s)},function(t){function r(t){return t[0]*t[0]+t[1]*t[1]}function s(t){var e=q.sqrt(r(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,n,i,r,s){var o,a,l,c,h=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,n,r],[e,i,s],[0,0,1]];for(t&&t instanceof $&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),o=0;o<3;o++)for(a=0;a<3;a++){for(l=c=0;l<3;l++)c+=u[o][l]*d[l][a];h[o][a]=c}this.a=h[0][0],this.b=h[1][0],this.c=h[0][1],this.d=h[1][1],this.e=h[0][2],this.f=h[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new $(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new $(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,i){null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},t.rotate=function(t,e,n){t=K.rad(t),e=e||0,n=n||0;var i=+q.cos(t).toFixed(9),r=+q.sin(t).toFixed(9);this.add(i,r,-r,i,e,n),this.add(1,0,0,1,-e,-n)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[z.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return K.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t,e,n,i={};return i.dx=this.e,i.dy=this.f,t=[[this.a,this.c],[this.b,this.d]],i.scalex=q.sqrt(r(t[0])),s(t[0]),i.shear=t[0][0]*t[1][0]+t[0][1]*t[1][1],t[1]=[t[1][0]-t[0][0]*i.shear,t[1][1]-t[0][1]*i.shear],i.scaley=q.sqrt(r(t[1])),s(t[1]),i.shear/=i.scaley,e=-t[0][1],(n=t[1][1])<0?(i.rotate=K.deg(q.acos(n)),e<0&&(i.rotate=360-i.rotate)):i.rotate=K.deg(q.asin(e)),i.isSimple=!(+i.shear.toFixed(9)||i.scalex.toFixed(9)!=i.scaley.toFixed(9)&&i.rotate),i.isSuperSimple=!+i.shear.toFixed(9)&&i.scalex.toFixed(9)==i.scaley.toFixed(9)&&!i.rotate,i.noRotation=!+i.shear.toFixed(9)&&!i.rotate,i},t.toTransformString=function(t){var e=t||this[U]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:"")+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:"")+(e.rotate?"r"+[e.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}($.prototype),o=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/),w.safari="Apple Computer, Inc."==navigator.vendor&&(o&&o[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&o&&o[1]<8?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:function(){};var qt=function(){this.returnValue=!1},Zt=function(){return this.originalEvent.preventDefault()},Gt=function(){this.cancelBubble=!0},Kt=function(){return this.originalEvent.stopPropagation()},Xt=function(t){var e=D.doc.documentElement.scrollTop||D.doc.body.scrollTop,n=D.doc.documentElement.scrollLeft||D.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},Qt=D.doc.addEventListener?function(s,t,o,a){var e,n=function(t){var e=Xt(t);return o.call(a,t,e.x,e.y)};return s.addEventListener(t,n,!1),N&&j[t]&&(e=function(t){for(var e=Xt(t),n=t,i=0,r=t.targetTouches&&t.targetTouches.length;i<r;i++)if(t.targetTouches[i].target==s){(t=t.targetTouches[i]).originalEvent=n,t.preventDefault=Zt,t.stopPropagation=Kt;break}return o.call(a,t,e.x,e.y)},s.addEventListener(j[t],e,!1)),function(){return s.removeEventListener(t,n,!1),N&&j[t]&&s.removeEventListener(j[t],n,!1),!0}}:D.doc.attachEvent?function(t,e,s,o){var n=function(t){t=t||D.win.event;var e=D.doc.documentElement.scrollTop||D.doc.body.scrollTop,n=D.doc.documentElement.scrollLeft||D.doc.body.scrollLeft,i=t.clientX+n,r=t.clientY+e;return t.preventDefault=t.preventDefault||qt,t.stopPropagation=t.stopPropagation||Gt,s.call(o,t,i,r)};return t.attachEvent("on"+e,n),function(){return t.detachEvent("on"+e,n),!0}}:void 0,Jt=[],te=function(t){for(var e,n,i,r=t.clientX,s=t.clientY,o=D.doc.documentElement.scrollTop||D.doc.body.scrollTop,a=D.doc.documentElement.scrollLeft||D.doc.body.scrollLeft,l=Jt.length;l--;){if(e=Jt[l],N&&t.touches){for(n=t.touches.length;n--;)if((i=t.touches[n]).identifier==e.el._drag.id){r=i.clientX,s=i.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var c,h=e.el.node,u=h.nextSibling,d=h.parentNode,f=h.style.display;D.win.opera&&d.removeChild(h),h.style.display="none",c=e.el.paper.getElementByPoint(r,s),h.style.display=f,D.win.opera&&(u?d.insertBefore(h,u):d.appendChild(h)),c&&B("raphael.drag.over."+e.el.id,e.el,c),r+=a,s+=o,B("raphael.drag.move."+e.el.id,e.move_scope||e.el,r-e.el._drag.x,s-e.el._drag.y,r,s,t)}},ee=function(t){K.unmousemove(te).unmouseup(ee);for(var e,n=Jt.length;n--;)(e=Jt[n]).el._drag={},B("raphael.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,t);Jt=[]},ne=K.el={};for(a=H.length;a--;)!function(i){K[i]=ne[i]=function(t,e){return K.is(t,"function")&&(this.events=this.events||[],this.events.push({name:i,f:t,unbind:Qt(this.shape||this.node||D.doc,i,t,e||this)})),this},K["un"+i]=ne["un"+i]=function(t){for(var e=this.events||[],n=e.length;n--;)e[n].name==i&&(K.is(t,"undefined")||e[n].f==t)&&(e[n].unbind(),e.splice(n,1),e.length||delete this.events);return this}}(H[a]);ne.data=function(t,e){var n,i=bt[this.id]=bt[this.id]||{};if(0==arguments.length)return i;if(1==arguments.length){if(K.is(t,"object")){for(n in t)t[I](n)&&this.data(n,t[n]);return this}return B("raphael.data.get."+this.id,this,i[t],t),i[t]}return i[t]=e,B("raphael.data.set."+this.id,this,e,t),this},ne.removeData=function(t){return null==t?bt[this.id]={}:bt[this.id]&&delete bt[this.id][t],this},ne.getData=function(){return v(bt[this.id]||{})},ne.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},ne.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)},f=[],ne.drag=function(a,l,c,h,u,d){function t(t){var e,n;(t.originalEvent||t).preventDefault();var i=t.clientX,r=t.clientY,s=D.doc.documentElement.scrollTop||D.doc.body.scrollTop,o=D.doc.documentElement.scrollLeft||D.doc.body.scrollLeft;if(this._drag.id=t.identifier,N&&t.touches)for(e=t.touches.length;e--;)if(n=t.touches[e],this._drag.id=n.identifier,n.identifier==this._drag.id){i=n.clientX,r=n.clientY;break}this._drag.x=i+o,this._drag.y=r+s,Jt.length||K.mousemove(te).mouseup(ee),Jt.push({el:this,move_scope:h,start_scope:u,end_scope:d}),l&&B.on("raphael.drag.start."+this.id,l),a&&B.on("raphael.drag.move."+this.id,a),c&&B.on("raphael.drag.end."+this.id,c),B("raphael.drag.start."+this.id,u||h||this,t.clientX+o,t.clientY+s,t)}return this._drag={},f.push({el:this,start:t}),this.mousedown(t),this},ne.onDragOver=function(t){t?B.on("raphael.drag.over."+this.id,t):B.unbind("raphael.drag.over."+this.id)},ne.undrag=function(){for(var t=f.length;t--;)f[t].el==this&&(this.unmousedown(f[t].start),f.splice(t,1),B.unbind("raphael.drag.*."+this.id));f.length||K.unmousemove(te).unmouseup(ee),Jt=[]},w.circle=function(t,e,n){var i=K._engine.circle(this,t||0,e||0,n||0);return this.__set__&&this.__set__.push(i),i},w.rect=function(t,e,n,i,r){var s=K._engine.rect(this,t||0,e||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(s),s},w.ellipse=function(t,e,n,i){var r=K._engine.ellipse(this,t||0,e||0,n||0,i||0);return this.__set__&&this.__set__.push(r),r},w.path=function(t){!t||K.is(t,et)||K.is(t[0],nt)||(t+="");var e=K._engine.path(K.format[L](K,arguments),this);return this.__set__&&this.__set__.push(e),e},w.image=function(t,e,n,i,r){var s=K._engine.image(this,t||"about:blank",e||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(s),s},w.text=function(t,e,n){var i=K._engine.text(this,t||0,e||0,z(n));return this.__set__&&this.__set__.push(i),i},w.set=function(t){K.is(t,"array")||(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new d(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},w.setStart=function(t){this.__set__=t||this.set()},w.setFinish=function(){var t=this.__set__;return delete this.__set__,t},w.setSize=function(t,e){return K._engine.setSize.call(this,t,e)},w.setViewBox=function(t,e,n,i,r){return K._engine.setViewBox.call(this,t,e,n,i,r)},w.top=w.bottom=null,w.raphael=K,h=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.body,r=n.documentElement,s=r.clientTop||i.clientTop||0,o=r.clientLeft||i.clientLeft||0;return{y:e.top+(D.win.pageYOffset||r.scrollTop||i.scrollTop)-s,x:e.left+(D.win.pageXOffset||r.scrollLeft||i.scrollLeft)-o}},w.getElementByPoint=function(t,e){var n,i,r,s=this.canvas,o=D.doc.elementFromPoint(t,e);if(D.win.opera&&"svg"==o.tagName&&(n=h(s),(i=s.createSVGRect()).x=t-n.x,i.y=e-n.y,i.width=i.height=1,(r=s.getIntersectionList(i,null)).length&&(o=r[r.length-1])),!o)return null;for(;o.parentNode&&o!=s.parentNode&&!o.raphael;)o=o.parentNode;return o==this.canvas.parentNode&&(o=s),o&&o.raphael?this.getById(o.raphaelid):null},w.getElementsByBBox=function(e){var n=this.set();return this.forEach(function(t){K.isBBoxIntersect(t.getBBox(),e)&&n.push(t)}),n},w.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},w.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},w.getElementsByPoint=function(e,n){var i=this.set();return this.forEach(function(t){t.isPointInside(e,n)&&i.push(t)}),i},ne.isPointInside=function(t,e){var n=this.realPath=Ct[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=K.transformPath(n,this.attr("transform"))),K.isPointInsidePath(n,t,e)},ne.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=Ct[this.type](this),e.bboxwt=Pt(this.realPath),e.bboxwt.toString=n,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=Ct[this.type](this)),e.bbox=Pt(Et(this.realPath,this.matrix)),e.bbox.toString=n,e.dirty=e.dirtyT=0),e.bbox)},ne.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},ne.glow=function(t){var e;if("text"==this.type)return null;var n={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=n.width/2,r=this.paper,s=r.set(),o=this.realPath||Ct[this.type](this);for(o=this.matrix?Et(o,this.matrix):o,e=1;e<i+1;e++)s.push(r.path(o).attr({stroke:n.color,fill:n.fill?n.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(n.width/i*e).toFixed(3),opacity:+(n.opacity/i).toFixed(3)}));return s.insertBefore(this).translate(n.offsetx,n.offsety)};var ie=function(t,e,n,i,r,s,o,a,l){return null==l?E(t,e,n,i,r,s,o,a):K.findDotsAtSegment(t,e,n,i,r,s,o,a,function(t,e,n,i,r,s,o,a,l){if(!(l<0||E(t,e,n,i,r,s,o,a)<l)){for(var c=.5,h=1-c,u=E(t,e,n,i,r,s,o,a,h);.01<X(u-l);)u=E(t,e,n,i,r,s,o,a,h+=(u<l?1:-1)*(c/=2));return h}}(t,e,n,i,r,s,o,a,l))},re=function(f,p){return function(t,e,n){var i,r,s,o,a,l,c,h="",u={},d=0;for(i=0,r=(t=Ht(t)).length;i<r;i++){if("M"==(a=t[i])[0])s=+a[1],o=+a[2];else{if(e<d+(l=ie(s,o,a[1],a[2],a[3],a[4],a[5],a[6]))){if(p&&!u.start){if(h+=["C"+(c=ie(s,o,a[1],a[2],a[3],a[4],a[5],a[6],e-d)).start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],n)return h;u.start=h,h=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,a[5],a[6]].join(),d+=l,s=+a[5],o=+a[6];continue}if(!f&&!p)return{x:(c=ie(s,o,a[1],a[2],a[3],a[4],a[5],a[6],e-d)).x,y:c.y,alpha:c.alpha}}d+=l,s=+a[5],o=+a[6]}h+=a.shift()+a}return u.end=h,(c=f?d:p?u:K.findDotsAtSegment(s,o,a[0],a[1],a[2],a[3],a[4],a[5],1)).alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},se=re(1),oe=re(),ae=re(0,1);K.getTotalLength=se,K.getPointAtLength=oe,K.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return ae(t,e).end;var i=ae(t,n,1);return e?ae(i,e).end:i},ne.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():se(t)},ne.getPointAtLength=function(t){var e=this.getPath();if(e)return oe(e,t)},ne.getPath=function(){var t,e=K._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return e&&(t=e(this)),t},ne.getSubpath=function(t,e){var n=this.getPath();if(n)return K.getSubpath(n,t,e)},(u=K.easing_formulas={linear:function(t){return t},"<":function(t){return Q(t,1.7)},">":function(t){return Q(t,.48)},"<>":function(t){var e=.48-t/1.04,n=q.sqrt(.1734+e*e),i=n-e,r=-n-e,s=Q(X(i),1/3)*(i<0?-1:1)+Q(X(r),1/3)*(r<0?-1:1)+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},elastic:function(t){return t==!!t?t:Q(2,-10*t)*q.sin(2*(t-.075)*J/.3)+1},bounce:function(t){var e,n=7.5625;return t<1/2.75?e=n*t*t:t<2/2.75?e=n*(t-=1.5/2.75)*t+.75:t<2.5/2.75?e=n*(t-=2.25/2.75)*t+.9375:e=n*(t-=2.625/2.75)*t+.984375,e}}).easeIn=u["ease-in"]=u["<"],u.easeOut=u["ease-out"]=u[">"],u.easeInOut=u["ease-in-out"]=u["<>"],u["back-in"]=u.backIn,u["back-out"]=u.backOut;var le,ce,he,ue,de,fe=[],pe=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},ge=function(){for(var t,e,n,i,r,s,o,a,l,c=+new Date,h=0;h<fe.length;h++)if(!(t=fe[h]).el.removed&&!t.paused){var u,d,f=c-t.start,p=t.ms,g=t.easing,m=t.from,v=t.diff,y=t.to,b=(t.t,t.el),_={},w={};if(t.initstatus?(f=(t.initstatus*t.anim.top-t.prev)/(t.percent-t.prev)*p,t.status=t.initstatus,delete t.initstatus,t.stop&&fe.splice(h--,1)):t.status=(t.prev+(t.percent-t.prev)*(f/p))/t.anim.top,!(f<0))if(f<p){for(n in e=g(f/p),m)if(m[I](n)){switch(dt[n]){case tt:u=+m[n]+e*p*v[n];break;case"colour":u="rgb("+[me(at(m[n].r+e*p*v[n].r)),me(at(m[n].g+e*p*v[n].g)),me(at(m[n].b+e*p*v[n].b))].join(",")+")";break;case"path":for(u=[],i=0,r=m[n].length;i<r;i++){for(u[i]=[m[n][i][0]],s=1,o=m[n][i].length;s<o;s++)u[i][s]=+m[n][i][s]+e*p*v[n][i][s];u[i]=u[i].join(" ")}u=u.join(" ");break;case"transform":if(v[n].real)for(u=[],i=0,r=m[n].length;i<r;i++)for(u[i]=[m[n][i][0]],s=1,o=m[n][i].length;s<o;s++)u[i][s]=m[n][i][s]+e*p*v[n][i][s];else u=[["m",(a=function(t){return+m[n][t]+e*p*v[n][t]})(0),a(1),a(2),a(3),a(4),a(5)]];break;case"csv":if("clip-rect"==n)for(u=[],i=4;i--;)u[i]=+m[n][i]+e*p*v[n][i];break;default:for(l=[][V](m[n]),u=[],i=b.paper.customAttributes[n].length;i--;)u[i]=+l[i]+e*p*v[n][i]}_[n]=u}b.attr(_),function(t,e,n){setTimeout(function(){B("raphael.anim.frame."+t,e,n)})}(b.id,b,t.anim)}else{if(function(t,e,n){setTimeout(function(){B("raphael.anim.frame."+e.id,e,n),B("raphael.anim.finish."+e.id,e,n),K.is(t,"function")&&t.call(e)})}(t.callback,b,t.anim),b.attr(y),fe.splice(h--,1),1<t.repeat&&!t.next){for(d in y)y[I](d)&&(w[d]=t.totalOrigin[d]);t.el.attr(w),x(t.anim,t.el,t.anim.percents[0],null,t.totalOrigin,t.repeat-1)}t.next&&!t.stop&&x(t.anim,t.el,t.next,null,t.totalOrigin,t.repeat)}}K.svg&&b&&b.paper&&b.paper.safari(),fe.length&&pe(ge)},me=function(t){return 255<t?255:t<0?0:t};for(g in ne.animateWith=function(t,e,n,i,r,s){var o,a,l;if(this.removed)return s&&s.call(this),this;for(x(o=n instanceof c?n:K.animation(n,i,r,s),this,o.percents[0],null,this.attr()),a=0,l=fe.length;a<l;a++)if(fe[a].anim==e&&fe[a].el==t){fe[l-1].start=fe[a].start;break}return this},ne.onAnimation=function(t){return t?B.on("raphael.anim.frame."+this.id,t):B.unbind("raphael.anim.frame."+this.id),this},c.prototype.delay=function(t){var e=new c(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},c.prototype.repeat=function(t){var e=new c(this.anim,this.ms);return e.del=this.del,e.times=q.floor(Z(t,0))||1,e},K.animation=function(t,e,n,i){if(t instanceof c)return t;(K.is(n,"function")||!n)&&(i=i||n||null,n=null),t=Object(t),e=+e||0;var r,s={};for(var o in t)t[I](o)&&lt(o)!=o&&lt(o)+"%"!=o&&(r=!0,s[o]=t[o]);return r?(n&&(s.easing=n),i&&(s.callback=i),new c({100:s},e)):new c(t,e)},ne.animate=function(t,e,n,i){var r;return this.removed?i&&i.call(this):x(r=t instanceof c?t:K.animation(t,e,n,i),this,r.percents[0],null,this.attr()),this},ne.setTime=function(t,e){return t&&null!=e&&this.status(t,G(e,t.ms)/t.ms),this},ne.status=function(t,e){var n,i,r=[],s=0;if(null!=e)return x(t,this,-1,G(e,1)),this;for(n=fe.length;s<n;s++)if((i=fe[s]).el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;r.push({anim:i.anim,status:i.status})}return t?0:r},ne.pause=function(t){for(var e=0;e<fe.length;e++)fe[e].el.id!=this.id||t&&fe[e].anim!=t||!1!==B("raphael.anim.pause."+this.id,this,fe[e].anim)&&(fe[e].paused=!0);return this},ne.resume=function(t){for(var e,n=0;n<fe.length;n++)fe[n].el.id!=this.id||t&&fe[n].anim!=t||(e=fe[n],!1!==B("raphael.anim.resume."+this.id,this,e.anim)&&(delete e.paused,this.status(e.anim,e.status)));return this},ne.stop=function(t){for(var e=0;e<fe.length;e++)fe[e].el.id!=this.id||t&&fe[e].anim!=t||!1!==B("raphael.anim.stop."+this.id,this,fe[e].anim)&&fe.splice(e--,1);return this},B.on("raphael.remove",e),B.on("raphael.clear",e),ne.toString=function(){return"Raphaël’s object"},(p=(d=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)t[e]&&(t[e].constructor==ne.constructor||t[e].constructor==d)&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)}).prototype).push=function(){for(var t,e,n=0,i=arguments.length;n<i;n++)(t=arguments[n])&&(t.constructor==ne.constructor||t.constructor==d)&&(this[e=this.items.length]=this.items[e]=t,this.length++);return this},p.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},p.forEach=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(!1===t.call(e,this.items[n],n))return this;return this},ne)ne[I](g)&&(p[g]=function(n){return function(){var e=arguments;return this.forEach(function(t){t[n][L](t,e)})}}(g));return p.attr=function(t,e){var n,i,r,s;if(t&&K.is(t,nt)&&K.is(t[0],"object"))for(n=0,i=t.length;n<i;n++)this.items[n].attr(t[n]);else for(r=0,s=this.items.length;r<s;r++)this.items[r].attr(t,e);return this},p.clear=function(){for(;this.length;)this.pop()},p.splice=function(t,e){var n;t=t<0?Z(this.length+t,0):t,e=Z(0,G(this.length-t,e));for(var i=[],r=[],s=[],o=2;o<arguments.length;o++)s.push(arguments[o]);for(o=0;o<e;o++)r.push(this[t+o]);for(;o<this.length-t;o++)i.push(this[t+o]);for(n=s.length,o=0;o<n+i.length;o++)this.items[t+o]=this[t+o]=o<n?s[o]:i[o-n];for(o=this.items.length=this.length-=e-n;this[o];)delete this[o++];return new d(r)},p.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},p.animate=function(t,e,n,i){var r;(K.is(n,"function")||!n)&&(i=n||null);var s,o,a=this.items.length,l=a,c=this;if(!a)return this;for(i&&(o=function(){--a||i.call(c)}),n=K.is(n,et)?n:o,r=K.animation(t,e,n,o),s=this.items[--l].animate(r);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(s,r,r),this.items[l]&&!this.items[l].removed||a--;return this},p.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},p.getBBox=function(){for(var t,e=[],n=[],i=[],r=[],s=this.items.length;s--;)this.items[s].removed||(t=this.items[s].getBBox(),e.push(t.x),n.push(t.y),i.push(t.x+t.width),r.push(t.y+t.height));return{x:e=G[L](0,e),y:n=G[L](0,n),x2:i=Z[L](0,i),y2:r=Z[L](0,r),width:i-e,height:r-n}},p.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},p.toString=function(){return"Raphaël‘s set"},p.glow=function(n){var i=this.paper.set();return this.forEach(function(t){var e=t.glow(n);null!=e&&e.forEach(function(t){i.push(t)})}),i},p.isPointInside=function(e,n){var i=!1;return this.forEach(function(t){if(t.isPointInside(e,n))return!(i=!0)}),i},K.registerFont=function(t){var e,n,i,r,s,o;if(!t.face)return t;for(i in this.fonts=this.fonts||{},e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"],t.face)t.face[I](i)&&(e.face[i]=t.face[i]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg)for(r in e.face["units-per-em"]=ct(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[I](r)&&(s=t.glyphs[r],e.glyphs[r]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},s.k))for(o in s.k)s[I](o)&&(e.glyphs[r].k[o]=s.k[o]);return t},w.getFont=function(t,e,n,i){var r,s,o,a,l,c;if(i=i||"normal",n=n||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,K.fonts){if(!(r=K.fonts[t]))for(o in s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i"),K.fonts)if(K.fonts[I](o)&&s.test(o)){r=K.fonts[o];break}if(r)for(l=0,c=r.length;l<c&&((a=r[l]).face["font-weight"]!=e||a.face["font-style"]!=n&&a.face["font-style"]||a.face["font-stretch"]!=i);l++);return a}},w.print=function(t,e,n,i,r,s,o,a){var l,c,h,u;s=s||"middle",o=Z(G(o||0,1),-1),a=Z(G(a||1,3),1);var d,f=z(n)[U](""),p=0,g=0,m="";if(K.is(i,"string")&&(i=this.getFont(i)),i){d=(r||16)/i.face["units-per-em"];var v=i.face.bbox[U](O),y=+v[0],b=v[3]-v[1],_=0,w=+v[1]+("baseline"==s?b+ +i.face.descent:b/2);for(l=0,c=f.length;l<c;l++)"\n"==f[l]?(g=u=p=0,_+=b*a):(h=g&&i.glyphs[f[l-1]]||{},u=i.glyphs[f[l]],p+=g?(h.w||i.w)+(h.k&&h.k[f[l]]||0)+i.w*o:0,g=1),u&&u.d&&(m+=K.transformPath(u.d,["t",p*d,_*d,"s",d,d,y,w,"t",(t-y)/d,(e-w)/d]))}return this.path(m).attr({fill:"#000",stroke:"none"})},w.add=function(t){if(K.is(t,"array"))for(var e,n=this.set(),i=0,r=t.length;i<r;i++)e=t[i]||{},F[I](e.type)&&n.push(this[e.type]().attr(e));return n},K.format=function(t,e){var n=K.is(e,nt)?[0][V](e):arguments;return t&&K.is(t,et)&&n.length-1&&(t=t.replace(T,function(t,e){return null==n[++e]?"":n[e]})),t||""},K.fullfill=(le=/\{([^\}]+)\}/g,ce=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,r){return String(t).replace(le,function(t,e){return n=t,s=i=r,e.replace(ce,function(t,e,n,i,r){e=e||i,s&&(e in s&&(s=s[e]),"function"==typeof s&&r&&(s=s()))}),s=(null==s||s==i?n:s)+"";var n,i,s})}),K.ninja=function(){return M.was?D.win.Raphael=M.is:delete Raphael,K},K.st=p,he=document,ue="DOMContentLoaded",null==he.readyState&&he.addEventListener&&(he.addEventListener(ue,de=function(){he.removeEventListener(ue,de,!1),he.readyState="complete"},!1),he.readyState="loading"),function t(){/in/.test(he.readyState)?setTimeout(t,9):K.eve("raphael.DOMload")}(),B.on("raphael.DOMload",function(){m=!0}),function(){var t,e;if(K.svg){var E="hasOwnProperty",k=String,m=parseFloat,x=parseInt,v=Math,A=v.max,C=v.abs,y=v.pow,S=/[, ]+/,d=K.eve,F="http://www.w3.org/1999/xlink",T={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},D={};K.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var M=function(t,e){var n,i;if(e)for(n in"string"==typeof t&&(t=M(t)),e)e[E](n)&&("xlink:"==n.substring(0,6)?t.setAttributeNS(F,n.substring(6),k(e[n])):void 0!==t&&(i=k(e[n]),("d"!==n||"d"===n&&"M,0,0"!==i)&&t.setAttribute(n,i)));else(t=K._g.doc.createElementNS("http://www.w3.org/2000/svg",t)).style&&(t.style.webkitTapHighlightColor="rgba(0,0,0,0)");return t},P=function(t,e){var n,i,r,s,o,a,l="linear",c=t.id+e,h=.5,u=.5,d=t.node,f=t.paper,p=d.style,g=K._g.doc.getElementById(c);if(!g){if(e=(e=k(e).replace(K._radial_gradient,function(t,e,n){if(l="radial",e&&n){h=m(e);var i=2*(.5<(u=m(n)))-1;.25<y(h-.5,2)+y(u-.5,2)&&(u=v.sqrt(.25-y(h-.5,2))*i+.5)&&.5!=u&&(u=u.toFixed(5)-1e-5*i)}return""})).split(/\s*\-\s*/),"linear"==l){if(n=e.shift(),n=-m(n),isNaN(n))return null;i=[0,0,v.cos(K.rad(n)),v.sin(K.rad(n))],r=1/(A(C(i[2]),C(i[3]))||1),i[2]*=r,i[3]*=r,i[2]<0&&(i[0]=-i[2],i[2]=0),i[3]<0&&(i[1]=-i[3],i[3]=0)}if(!(s=K._parseDots(e)))return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&c!=t.gradient.id&&(f.defs.removeChild(t.gradient),delete t.gradient),!t.gradient)for(g=M(l+"Gradient",{id:c}),t.gradient=g,M(g,"radial"==l?{fx:h,fy:u}:{x1:i[0],y1:i[1],x2:i[2],y2:i[3],gradientTransform:t.matrix.invert()}),f.defs.appendChild(g),o=0,a=s.length;o<a;o++)g.appendChild(M("stop",{offset:s[o].offset?s[o].offset:o?"100%":"0%","stop-color":s[o].color||"#fff"}))}return M(d,{fill:"url(#"+c+")",opacity:1,"fill-opacity":1}),p.fill="",p.opacity=1,p.fillOpacity=1},L=function(t){var e=t.getBBox(1);M(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},B=function(t,e,n){var i,r,s,o,a,l;if("path"==t.type){for(var c,h,u,d,f,p=k(e).toLowerCase().split("-"),g=t.paper,m=n?"end":"start",v=t.node,y=t.attrs,b=y["stroke-width"],_=p.length,w="classic",x=3,A=3,C=5;_--;)switch(p[_]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=p[_];break;case"wide":A=5;break;case"narrow":A=2;break;case"long":x=5;break;case"short":x=2}for(f in"open"==w?(x+=2,A+=2,C+=2,u=1,d=n?4:1,f={fill:"none",stroke:y.stroke}):(d=u=x/2,f={fill:y.stroke,stroke:"none"}),t._.arrows?n?(t._.arrows.endPath&&D[t._.arrows.endPath]--,t._.arrows.endMarker&&D[t._.arrows.endMarker]--):(t._.arrows.startPath&&D[t._.arrows.startPath]--,t._.arrows.startMarker&&D[t._.arrows.startMarker]--):t._.arrows={},"none"!=w?(i="raphael-marker-"+w,r="raphael-marker-"+m+w+x+A,K._g.doc.getElementById(i)?D[i]++:(g.defs.appendChild(M(M("path"),{"stroke-linecap":"round",d:T[w],id:i})),D[i]=1),(s=K._g.doc.getElementById(r))?(D[r]++,o=s.getElementsByTagName("use")[0]):(s=M(M("marker"),{id:r,markerHeight:A,markerWidth:x,orient:"auto",refX:d,refY:A/2}),o=M(M("use"),{"xlink:href":"#"+i,transform:(n?"rotate(180 "+x/2+" "+A/2+") ":"")+"scale("+x/C+","+A/C+")","stroke-width":(2/(x/C+A/C)).toFixed(4)}),s.appendChild(o),g.defs.appendChild(s),D[r]=1),M(o,f),a=u*("diamond"!=w&&"oval"!=w),n?(c=t._.arrows.startdx*b||0,h=K.getTotalLength(y.path)-a*b):(c=a*b,h=K.getTotalLength(y.path)-(t._.arrows.enddx*b||0)),(f={})["marker-"+m]="url(#"+r+")",(h||c)&&(f.d=K.getSubpath(y.path,c,h)),M(v,f),t._.arrows[m+"Path"]=i,t._.arrows[m+"Marker"]=r,t._.arrows[m+"dx"]=a,t._.arrows[m+"Type"]=w,t._.arrows[m+"String"]=e):(n?(c=t._.arrows.startdx*b||0,h=K.getTotalLength(y.path)-c):(c=0,h=K.getTotalLength(y.path)-(t._.arrows.enddx*b||0)),t._.arrows[m+"Path"]&&M(v,{d:K.getSubpath(y.path,c,h)}),delete t._.arrows[m+"Path"],delete t._.arrows[m+"Marker"],delete t._.arrows[m+"dx"],delete t._.arrows[m+"Type"],delete t._.arrows[m+"String"]),D)D[E](f)&&!D[f]&&((l=K._g.doc.getElementById(f))&&l.parentNode.removeChild(l))}},a={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},$=function(t,e,n){if(e=a[k(e).toLowerCase()]){for(var i=t.attrs["stroke-width"]||"1",r={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,s=[],o=e.length;o--;)s[o]=e[o]*i+(o%2?1:-1)*r;M(t.node,{"stroke-dasharray":s.join(",")})}},f=function(i,t){var e,n,r,s,o,a,l,c,h,u,d,f,p,g,m,v,y,b=i.node,_=i.attrs,w=b.style.visibility;for(e in b.style.visibility="hidden",t)if(t[E](e)){if(!K._availableAttrs[E](e))continue;switch(n=t[e],_[e]=n,e){case"blur":i.blur(n);break;case"title":(r=b.getElementsByTagName("title")).length&&(r=r[0])?r.firstChild.nodeValue=n:(r=M("title"),s=K._g.doc.createTextNode(n),r.appendChild(s),b.appendChild(r));break;case"href":case"target":"a"!=(o=b.parentNode).tagName.toLowerCase()&&(a=M("a"),o.insertBefore(a,b),a.appendChild(b),o=a),"target"==e?o.setAttributeNS(F,"show","blank"==n?"new":n):o.setAttributeNS(F,e,n);break;case"cursor":b.style.cursor=n;break;case"transform":i.transform(n);break;case"arrow-start":B(i,n);break;case"arrow-end":B(i,n,1);break;case"clip-rect":4==(l=k(n).split(S)).length&&(i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode),c=M("clipPath"),h=M("rect"),c.id=K.createUUID(),M(h,{x:l[0],y:l[1],width:l[2],height:l[3]}),c.appendChild(h),i.paper.defs.appendChild(c),M(b,{"clip-path":"url(#"+c.id+")"}),i.clip=h),n||(u=b.getAttribute("clip-path"))&&((d=K._g.doc.getElementById(u.replace(/(^url\(#|\)$)/g,"")))&&d.parentNode.removeChild(d),M(b,{"clip-path":""}),delete i.clip);break;case"path":"path"==i.type&&(M(b,{d:n?_.path=K._pathToAbsolute(n):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&B(i,i._.arrows.startString),"endString"in i._.arrows&&B(i,i._.arrows.endString,1)));break;case"width":if(b.setAttribute(e,n),i._.dirty=1,!_.fx)break;e="x",n=_.x;case"x":_.fx&&(n=-_.x-(_.width||0));case"rx":if("rx"==e&&"rect"==i.type)break;case"cx":b.setAttribute(e,n),i.pattern&&L(i),i._.dirty=1;break;case"height":if(b.setAttribute(e,n),i._.dirty=1,!_.fy)break;e="y",n=_.y;case"y":_.fy&&(n=-_.y-(_.height||0));case"ry":if("ry"==e&&"rect"==i.type)break;case"cy":b.setAttribute(e,n),i.pattern&&L(i),i._.dirty=1;break;case"r":"rect"==i.type?M(b,{rx:n,ry:n}):b.setAttribute(e,n),i._.dirty=1;break;case"src":"image"==i.type&&b.setAttributeNS(F,"href",n);break;case"stroke-width":(1!=i._.sx||1!=i._.sy)&&(n/=A(C(i._.sx),C(i._.sy))||1),i.paper._vbSize&&(n*=i.paper._vbSize),b.setAttribute(e,n),_["stroke-dasharray"]&&$(i,_["stroke-dasharray"],t),i._.arrows&&("startString"in i._.arrows&&B(i,i._.arrows.startString),"endString"in i._.arrows&&B(i,i._.arrows.endString,1));break;case"stroke-dasharray":$(i,n,t);break;case"fill":if(f=k(n).match(K._ISURL)){c=M("pattern"),p=M("image"),c.id=K.createUUID(),M(c,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),M(p,{x:0,y:0,"xlink:href":f[1]}),c.appendChild(p),function(n){K._preload(f[1],function(){var t=this.offsetWidth,e=this.offsetHeight;M(n,{width:t,height:e}),M(p,{width:t,height:e}),i.paper.safari()})}(c),i.paper.defs.appendChild(c),M(b,{fill:"url(#"+c.id+")"}),i.pattern=c,i.pattern&&L(i);break}if((g=K.getRGB(n)).error){if(("circle"==i.type||"ellipse"==i.type||"r"!=k(n).charAt())&&P(i,n)){("opacity"in _||"fill-opacity"in _)&&((m=K._g.doc.getElementById(b.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(v=m.getElementsByTagName("stop"),M(v[v.length-1],{"stop-opacity":("opacity"in _?_.opacity:1)*("fill-opacity"in _?_["fill-opacity"]:1)}))),_.gradient=n,_.fill="none";break}}else delete t.gradient,delete _.gradient,!K.is(_.opacity,"undefined")&&K.is(t.opacity,"undefined")&&M(b,{opacity:_.opacity}),!K.is(_["fill-opacity"],"undefined")&&K.is(t["fill-opacity"],"undefined")&&M(b,{"fill-opacity":_["fill-opacity"]});g[E]("opacity")&&M(b,{"fill-opacity":1<g.opacity?g.opacity/100:g.opacity});case"stroke":g=K.getRGB(n),b.setAttribute(e,g.hex),"stroke"==e&&g[E]("opacity")&&M(b,{"stroke-opacity":1<g.opacity?g.opacity/100:g.opacity}),"stroke"==e&&i._.arrows&&("startString"in i._.arrows&&B(i,i._.arrows.startString),"endString"in i._.arrows&&B(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=k(n).charAt())&&P(i,n);break;case"opacity":_.gradient&&!_[E]("stroke-opacity")&&M(b,{"stroke-opacity":1<n?n/100:n});case"fill-opacity":if(_.gradient){(m=K._g.doc.getElementById(b.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(v=m.getElementsByTagName("stop"),M(v[v.length-1],{"stop-opacity":n}));break}default:"font-size"==e&&(n=x(n,10)+"px"),y=e.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()}),b.style[y]=n,i._.dirty=1,b.setAttribute(e,n)}}R(i,t),b.style.visibility=w},R=function(t,e){var n,i,r,s,o,a,l;if("text"==t.type&&(e[E]("text")||e[E]("font")||e[E]("font-size")||e[E]("x")||e[E]("y"))){var c=t.attrs,h=t.node,u=h.firstChild?x(K._g.doc.defaultView.getComputedStyle(h.firstChild,"").getPropertyValue("font-size"),10):10;if(e[E]("text")){for(c.text=e.text;h.firstChild;)h.removeChild(h.firstChild);for(i=[],s=0,o=(n=k(e.text).split("\n")).length;s<o;s++)r=M("tspan"),s&&M(r,{dy:1.2*u,x:c.x}),r.appendChild(K._g.doc.createTextNode(n[s])),h.appendChild(r),i[s]=r}else for(s=0,o=(i=h.getElementsByTagName("tspan")).length;s<o;s++)s?M(i[s],{dy:1.2*u,x:c.x}):M(i[0],{dy:0});M(h,{x:c.x,y:c.y}),t._.dirty=1,a=t._getBBox(),(l=c.y-(a.y+a.height/2))&&K.is(l,"finite")&&M(i[0],{dy:l})}},l=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=K._oid++,t.raphaelid=this.id,this.matrix=K.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},e.bottom||(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null},n=K.el;for(e in(l.prototype=n).constructor=l,K._engine.path=function(t,e){var n,i=M("path");return e.canvas&&e.canvas.appendChild(i),(n=new l(i,e)).type="path",f(n,{fill:"none",stroke:"#000",path:t}),n},n.rotate=function(t,e,n){if(this.removed)return this;if((t=k(t).split(S)).length-1&&(e=m(t[1]),n=m(t[2])),t=m(t[0]),null==n&&(e=n),null==e||null==n){var i=this.getBBox(1);e=i.x+i.width/2,n=i.y+i.height/2}return this.transform(this._.transform.concat([["r",t,e,n]])),this},n.scale=function(t,e,n,i){if(this.removed)return this;if((t=k(t).split(S)).length-1&&(e=m(t[1]),n=m(t[2]),i=m(t[3])),t=m(t[0]),null==e&&(e=t),null==i&&(n=i),null==n||null==i)var r=this.getBBox(1);return n=null==n?r.x+r.width/2:n,i=null==i?r.y+r.height/2:i,this.transform(this._.transform.concat([["s",t,e,n,i]])),this},n.translate=function(t,e){return this.removed||((t=k(t).split(S)).length-1&&(e=m(t[1])),t=m(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]]))),this},n.transform=function(t){var e,n=this._;return null==t?n.transform:(K._extractTransform(this,t),this.clip&&M(this.clip,{transform:this.matrix.invert()}),this.pattern&&L(this),this.node&&M(this.node,{transform:this.matrix}),(1!=n.sx||1!=n.sy)&&(e=this.attrs[E]("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":e})),this)},n.hide=function(){return this.removed||this.paper.safari(this.node.style.display="none"),this},n.show=function(){return this.removed||this.paper.safari(this.node.style.display=""),this},n.remove=function(){var t,e;if(!this.removed&&this.node.parentNode){for(e in(t=this.paper).__set__&&t.__set__.exclude(this),d.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),K._tear(this,t),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node),this)this[e]="function"==typeof this[e]?K._removedFactory(e):null;this.removed=!0}},n._getBBox=function(){var t,e;"none"==this.node.style.display&&(this.show(),t=!0),e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}return t&&this.hide(),e},n.attr=function(t,e){var n,i,r,s,o,a,l,c,h,u;if(this.removed)return this;if(null==t){for(i in n={},this.attrs)this.attrs[E](i)&&(n[i]=this.attrs[i]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==e&&K.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(s={},o=0,a=(r=t.split(S)).length;o<a;o++)s[t=r[o]]=t in this.attrs?this.attrs[t]:K.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:K._availableAttrs[t];return a-1?s:s[r[0]]}if(null==e&&K.is(t,"array")){for(s={},o=0,a=t.length;o<a;o++)s[t[o]]=this.attr(t[o]);return s}for(c in null!=e?(l={})[t]=e:null!=t&&K.is(t,"object")&&(l=t),l)d("raphael.attr."+c+"."+this.id,this,l[c]);for(c in this.paper.customAttributes)if(this.paper.customAttributes[E](c)&&l[E](c)&&K.is(this.paper.customAttributes[c],"function"))for(u in h=this.paper.customAttributes[c].apply(this,[].concat(l[c])),this.attrs[c]=l[c],h)h[E](u)&&(l[u]=h[u]);return f(this,l),this},n.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&K._tofront(this,t),this},n.toBack=function(){var t;return this.removed?this:(null===(t=this.node.parentNode)||("a"==t.tagName.toLowerCase()?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),K._toback(this,this.paper),this.paper),this)},n.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),K._insertafter(this,t,this.paper),this},n.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),K._insertbefore(this,t,this.paper),this},n.blur=function(t){var e,n,i=this;return 0!=+t?(e=M("filter"),n=M("feGaussianBlur"),i.attrs.blur=t,e.id=K.createUUID(),M(n,{stdDeviation:+t||1.5}),e.appendChild(n),i.paper.defs.appendChild(e),i._blur=e,M(i.node,{filter:"url(#"+e.id+")"})):(i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter")),i},K._engine.circle=function(t,e,n,i){var r,s=M("circle");return t.canvas&&t.canvas.appendChild(s),(r=new l(s,t)).attrs={cx:e,cy:n,r:i,fill:"none",stroke:"#000"},r.type="circle",M(s,r.attrs),r},K._engine.rect=function(t,e,n,i,r,s){var o,a=M("rect");return t.canvas&&t.canvas.appendChild(a),(o=new l(a,t)).attrs={x:e,y:n,width:i,height:r,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},o.type="rect",M(a,o.attrs),o},K._engine.ellipse=function(t,e,n,i,r){var s,o=M("ellipse");return t.canvas&&t.canvas.appendChild(o),(s=new l(o,t)).attrs={cx:e,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},s.type="ellipse",M(o,s.attrs),s},K._engine.image=function(t,e,n,i,r,s){var o,a=M("image");return M(a,{x:n,y:i,width:r,height:s,preserveAspectRatio:"none"}),a.setAttributeNS(F,"href",e),t.canvas&&t.canvas.appendChild(a),(o=new l(a,t)).attrs={x:n,y:i,width:r,height:s,src:e},o.type="image",o},K._engine.text=function(t,e,n,i){var r,s=M("text");return t.canvas&&t.canvas.appendChild(s),(r=new l(s,t)).attrs={x:e,y:n,"text-anchor":"middle",text:i,font:K._availableAttrs.font,stroke:"none",fill:"#000"},r.type="text",f(r,r.attrs),r},K._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},K._engine.create=function(){var t,e,n,i=K._getContainer.apply(0,arguments),r=i&&i.container,s=i.x,o=i.y,a=i.width,l=i.height;if(!r)throw new Error("SVG container not found.");return t=M("svg"),e="overflow:hidden;",s=s||0,o=o||0,M(t,{height:l=l||342,version:1.1,width:a=a||512,xmlns:"http://www.w3.org/2000/svg"}),1==r?(t.style.cssText=e+"position:absolute;left:"+s+"px;top:"+o+"px",K._g.doc.body.appendChild(t),n=1):(t.style.cssText=e+"position:relative",r.firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t)),(r=new K._Paper).width=a,r.height=l,r.canvas=t,r.clear(),r._left=r._top=0,n&&(r.renderfix=function(){}),r.renderfix(),r},K._engine.setViewBox=function(t,e,n,i,r){d("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var s,o,a=A(n/this.width,i/this.height),l=this.top,c=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(a=1),delete this._vbSize,s="0 0 "+this.width+" "+this.height):(this._vbSize=a,s=t+" "+e+" "+n+" "+i),M(this.canvas,{viewBox:s,preserveAspectRatio:c});a&&l;)o="stroke-width"in l.attrs?l.attrs["stroke-width"]:1,l.attr({"stroke-width":o}),l._.dirty=1,l._.dirtyT=1,l=l.prev;return this._viewBox=[t,e,n,i,!!r],this},K.prototype.renderfix=function(){var e,t,n,i=this.canvas,r=i.style;try{e=i.getScreenCTM()||i.createSVGMatrix()}catch(t){e=i.createSVGMatrix()}t=-e.e%1,n=-e.f%1,(t||n)&&(t&&(this._left=(this._left+t)%1,r.left=this._left+"px"),n&&(this._top=(this._top+n)%1,r.top=this._top+"px"))},K.prototype.clear=function(){K.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=M("desc")).appendChild(K._g.doc.createTextNode("Created with Raphaël "+K.version)),t.appendChild(this.desc),t.appendChild(this.defs=M("defs"))},K.prototype.remove=function(){for(var t in d("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?K._removedFactory(t):null},t=K.st,n)n[E](e)&&!t[E](e)&&(t[e]=function(n){return function(){var e=arguments;return this.forEach(function(t){t[n].apply(t,e)})}}(e))}}(),function(){var P,t,e;if(K.vml){var L="hasOwnProperty",B=String,$=parseFloat,u=Math,R=u.round,O=u.max,I=u.min,v=u.abs,N="fill",z=/[, ]+/,d=K.eve,H={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},j=/([clmz]),?([^clmz]*)/gi,i=/ progid:\S+Blur\([^\)]+\)/g,W=/-?[^,\s-]+/g,h="position:absolute;left:0;top:0;width:1px;height:1px",V=21600,U={path:1,rect:1,image:1},Y={circle:1,ellipse:1},y=function(t,e,n){var i=K.matrix();return i.rotate(-t,.5,.5),{dx:i.x(e,n),dy:i.y(e,n)}},q=function(t,e,n,i,r,s){var o,a,l=t._,c=t.matrix,h=l.fillpos,u=t.node,d=u.style,f=1,p="",g=V/e,m=V/n;d.visibility="hidden",e&&n&&(u.coordsize=v(g)+" "+v(m),d.rotation=s*(e*n<0?-1:1),s&&(i=(o=y(s,i,r)).dx,r=o.dy),e<0&&(p+="x"),n<0&&(p+=" y")&&(f=-1),d.flip=p,u.coordorigin=i*-g+" "+r*-m,(h||l.fillsize)&&(a=(a=u.getElementsByTagName(N))&&a[0],u.removeChild(a),h&&(o=y(s,c.x(h[0],h[1]),c.y(h[0],h[1])),a.position=o.dx*f+" "+o.dy*f),l.fillsize&&(a.size=l.fillsize[0]*v(e)+" "+l.fillsize[1]*v(n)),u.appendChild(a)),d.visibility="visible")};K.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var Z=function(t,e,n){for(var i,r=B(e).toLowerCase().split("-"),s=n?"end":"start",o=r.length,a="classic",l="medium",c="medium";o--;)switch(r[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[o];break;case"wide":case"narrow":c=r[o];break;case"long":case"short":l=r[o]}(i=t.node.getElementsByTagName("stroke")[0])[s+"arrow"]=a,i[s+"arrowlength"]=l,i[s+"arrowwidth"]=c},f=function(t,e){var n,i,r,s,o,a,l,c,h,u,d,f,p,g,m,v,y,b;t.attrs=t.attrs||{};var _=t.node,w=t.attrs,x=_.style,A=U[t.type]&&(e.x!=w.x||e.y!=w.y||e.width!=w.width||e.height!=w.height||e.cx!=w.cx||e.cy!=w.cy||e.rx!=w.rx||e.ry!=w.ry||e.r!=w.r),C=Y[t.type]&&(w.cx!=e.cx||w.cy!=e.cy||w.r!=e.r||w.rx!=e.rx||w.ry!=e.ry),E=t;for(n in e)e[L](n)&&(w[n]=e[n]);if(A&&(w.path=K._getPath[t.type](t),t._.dirty=1),e.href&&(_.href=e.href),e.title&&(_.title=e.title),e.target&&(_.target=e.target),e.cursor&&(x.cursor=e.cursor),"blur"in e&&t.blur(e.blur),(e.path&&"path"==t.type||A)&&(_.path=function(t){var e,n,i,r,s,o,a,l,c=/[ahqstv]/gi,h=K._pathToAbsolute;if(B(t).match(c)&&(h=K._path2curve),c=/[clmz]/g,h==K._pathToAbsolute&&!B(t).match(c))return B(t).replace(j,function(t,e,n){var i=[],r="m"==e.toLowerCase(),s=H[e];return n.replace(W,function(t){r&&2==i.length&&(s+=i+H["m"==e?"l":"L"],i=[]),i.push(R(t*V))}),s+i});for(e=[],s=0,o=(n=h(t)).length;s<o;s++){for(i=n[s],"z"==(r=n[s][0].toLowerCase())&&(r="x"),a=1,l=i.length;a<l;a++)r+=R(i[a]*V)+(a!=l-1?",":"");e.push(r)}return e.join(" ")}(~B(w.path).toLowerCase().indexOf("r")?K._pathToAbsolute(w.path):w.path),"image"==t.type&&(t._.fillpos=[w.x,w.y],t._.fillsize=[w.width,w.height],q(t,1,1,0,0,0))),"transform"in e&&t.transform(e.transform),C){var k=+w.cx,S=+w.cy,F=+w.rx||+w.r||0,T=+w.ry||+w.r||0;_.path=K.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",R((k-F)*V),R((S-T)*V),R((k+F)*V),R((S+T)*V),R(k*V)),t._.dirty=1}if("clip-rect"in e&&(4==(i=B(e["clip-rect"]).split(z)).length&&(i[2]=+i[2]+ +i[0],i[3]=+i[3]+ +i[1],(s=(r=_.clipRect||K._g.doc.createElement("div")).style).clip=K.format("rect({1}px {2}px {3}px {0}px)",i),_.clipRect||(s.position="absolute",s.top=0,s.left=0,s.width=t.paper.width+"px",s.height=t.paper.height+"px",_.parentNode.insertBefore(r,_),r.appendChild(_),_.clipRect=r)),e["clip-rect"]||_.clipRect&&(_.clipRect.style.clip="auto")),t.textpath&&(o=t.textpath.style,e.font&&(o.font=e.font),e["font-family"]&&(o.fontFamily='"'+e["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),e["font-size"]&&(o.fontSize=e["font-size"]),e["font-weight"]&&(o.fontWeight=e["font-weight"]),e["font-style"]&&(o.fontStyle=e["font-style"])),"arrow-start"in e&&Z(E,e["arrow-start"]),"arrow-end"in e&&Z(E,e["arrow-end"],1),(null!=e.opacity||null!=e["stroke-width"]||null!=e.fill||null!=e.src||null!=e.stroke||null!=e["stroke-width"]||null!=e["stroke-opacity"]||null!=e["fill-opacity"]||null!=e["stroke-dasharray"]||null!=e["stroke-miterlimit"]||null!=e["stroke-linejoin"]||null!=e["stroke-linecap"])&&(!1,(a=(a=_.getElementsByTagName(N))&&a[0])||(a=P(N)),"image"==t.type&&e.src&&(a.src=e.src),e.fill&&(a.on=!0),(null==a.on||"none"==e.fill||null===e.fill)&&(a.on=!1),a.on&&e.fill&&((l=B(e.fill).match(K._ISURL))?(a.parentNode==_&&_.removeChild(a),a.rotate=!0,a.src=l[1],a.type="tile",c=t.getBBox(1),a.position=c.x+" "+c.y,t._.fillpos=[c.x,c.y],K._preload(l[1],function(){t._.fillsize=[this.offsetWidth,this.offsetHeight]})):(a.color=K.getRGB(e.fill).hex,a.src="",a.type="solid",K.getRGB(e.fill).error&&(E.type in{circle:1,ellipse:1}||"r"!=B(e.fill).charAt())&&G(E,e.fill,a)&&(w.fill="none",w.gradient=e.fill,a.rotate=!1))),("fill-opacity"in e||"opacity"in e)&&(h=((+w["fill-opacity"]+1||2)-1)*((+w.opacity+1||2)-1)*((+K.getRGB(e.fill).o+1||2)-1),h=I(O(h,0),1),a.opacity=h,a.src&&(a.color="none")),_.appendChild(a),d=!1,(u=_.getElementsByTagName("stroke")&&_.getElementsByTagName("stroke")[0])||(d=u=P("stroke")),(e.stroke&&"none"!=e.stroke||e["stroke-width"]||null!=e["stroke-opacity"]||e["stroke-dasharray"]||e["stroke-miterlimit"]||e["stroke-linejoin"]||e["stroke-linecap"])&&(u.on=!0),("none"==e.stroke||null===e.stroke||null==u.on||0==e.stroke||0==e["stroke-width"])&&(u.on=!1),f=K.getRGB(e.stroke),u.on&&e.stroke&&(u.color=f.hex),h=((+w["stroke-opacity"]+1||2)-1)*((+w.opacity+1||2)-1)*((+f.o+1||2)-1),p=.75*($(e["stroke-width"])||1),h=I(O(h,0),1),null==e["stroke-width"]&&(p=w["stroke-width"]),e["stroke-width"]&&(u.weight=p),p&&p<1&&(h*=p)&&(u.weight=1),u.opacity=h,e["stroke-linejoin"]&&(u.joinstyle=e["stroke-linejoin"]||"miter"),u.miterlimit=e["stroke-miterlimit"]||8,e["stroke-linecap"]&&(u.endcap="butt"==e["stroke-linecap"]?"flat":"square"==e["stroke-linecap"]?"square":"round"),"stroke-dasharray"in e&&(g={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},u.dashstyle=g[L](e["stroke-dasharray"])?g[e["stroke-dasharray"]]:""),d&&_.appendChild(u)),"text"==E.type){E.paper.canvas.style.display="";var D=E.paper.span,M=w.font&&w.font.match(/\d+(?:\.\d*)?(?=px)/);for((x=D.style,w.font&&(x.font=w.font),w["font-family"]&&(x.fontFamily=w["font-family"]),w["font-weight"]&&(x.fontWeight=w["font-weight"]),w["font-style"]&&(x.fontStyle=w["font-style"]),M=$(w["font-size"]||M&&M[0])||10,x.fontSize=100*M+"px",E.textpath.string&&(D.innerHTML=B(E.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")),m=D.getBoundingClientRect(),E.W=w.w=(m.right-m.left)/100,E.H=w.h=(m.bottom-m.top)/100,E.X=w.x,E.Y=w.y+E.H/2,("x"in e||"y"in e)&&(E.path.v=K.format("m{0},{1}l{2},{1}",R(w.x*V),R(w.y*V),R(w.x*V)+1)),y=0,b=(v=["x","y","text","font","font-family","font-weight","font-style","font-size"]).length);y<b;y++)if(v[y]in e){E._.dirty=1;break}switch(w["text-anchor"]){case"start":E.textpath.style["v-text-align"]="left",E.bbx=E.W/2;break;case"end":E.textpath.style["v-text-align"]="right",E.bbx=-E.W/2;break;default:E.textpath.style["v-text-align"]="center",E.bbx=0}E.textpath.style["v-text-kern"]=!0}},G=function(t,e,n){var i,r,s,o,a;t.attrs=t.attrs||{};t.attrs;var l=Math.pow,c="linear",h=".5 .5";if(t.attrs.gradient=e,e=(e=B(e).replace(K._radial_gradient,function(t,e,n){return c="radial",e&&n&&(e=$(e),n=$(n),.25<l(e-.5,2)+l(n-.5,2)&&(n=u.sqrt(.25-l(e-.5,2))*(2*(.5<n)-1)+.5),h=e+" "+n),""})).split(/\s*\-\s*/),"linear"==c&&(i=e.shift(),i=-$(i),isNaN(i))||!(r=K._parseDots(e)))return null;if(t=t.shape||t.node,r.length){for(t.removeChild(n),n.on=!0,n.method="none",n.color=r[0].color,n.color2=r[r.length-1].color,s=[],o=0,a=r.length;o<a;o++)r[o].offset&&s.push(r[o].offset+" "+r[o].color);n.colors=s.length?s.join():"0% "+n.color,"radial"==c?(n.type="gradientTitle",n.focus="100%",n.focussize="0 0",n.focusposition=h,n.angle=0):(n.type="gradient",n.angle=(270-i)%360),t.appendChild(n)}return 1},p=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=K._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=K.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},e.bottom||(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null},n=K.el;for(e in(p.prototype=n).constructor=p,n.transform=function(t){var e,n,i;if(null==t)return this._.transform;n=(e=this.paper._viewBoxShift)?"s"+[e.scale,e.scale]+"-1-1t"+[e.dx,e.dy]:"",e&&(i=t=B(t).replace(/\.{3}|\u2026/g,this._.transform||"")),K._extractTransform(this,n+t);var r,s=this.matrix.clone(),o=this.skew,a=this.node,l=~B(this.attrs.fill).indexOf("-"),c=!B(this.attrs.fill).indexOf("url(");if(s.translate(1,1),c||l||"image"==this.type)if(o.matrix="1 0 0 1",o.offset="0 0",r=s.split(),l&&r.noRotation||!r.isSimple){a.style.filter=s.toFilter();var h=this.getBBox(),u=this.getBBox(1),d=h.x-u.x,f=h.y-u.y;a.coordorigin=d*-V+" "+f*-V,q(this,1,1,d,f,0)}else a.style.filter="",q(this,r.scalex,r.scaley,r.dx,r.dy,r.rotate);else a.style.filter="",o.matrix=B(s),o.offset=s.offset();return i&&(this._.transform=i),this},n.rotate=function(t,e,n){if(this.removed)return this;if(null!=t){if((t=B(t).split(z)).length-1&&(e=$(t[1]),n=$(t[2])),t=$(t[0]),null==n&&(e=n),null==e||null==n){var i=this.getBBox(1);e=i.x+i.width/2,n=i.y+i.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,n]])),this}},n.translate=function(t,e){return this.removed||((t=B(t).split(z)).length-1&&(e=$(t[1])),t=$(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]]))),this},n.scale=function(t,e,n,i){if(this.removed)return this;if((t=B(t).split(z)).length-1&&(e=$(t[1]),n=$(t[2]),i=$(t[3]),isNaN(n)&&(n=null),isNaN(i)&&(i=null)),t=$(t[0]),null==e&&(e=t),null==i&&(n=i),null==n||null==i)var r=this.getBBox(1);return n=null==n?r.x+r.width/2:n,i=null==i?r.y+r.height/2:i,this.transform(this._.transform.concat([["s",t,e,n,i]])),this._.dirtyT=1,this},n.hide=function(){return this.removed||(this.node.style.display="none"),this},n.show=function(){return this.removed||(this.node.style.display=""),this},n._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},n.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),K.eve.unbind("raphael.*.*."+this.id),K._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?K._removedFactory(t):null;this.removed=!0}},n.attr=function(t,e){var n,i,r,s,o,a,l,c,h,u;if(this.removed)return this;if(null==t){for(i in n={},this.attrs)this.attrs[L](i)&&(n[i]=this.attrs[i]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==e&&K.is(t,"string")){if(t==N&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(s={},o=0,a=(r=t.split(z)).length;o<a;o++)s[t=r[o]]=t in this.attrs?this.attrs[t]:K.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:K._availableAttrs[t];return a-1?s:s[r[0]]}if(this.attrs&&null==e&&K.is(t,"array")){for(s={},o=0,a=t.length;o<a;o++)s[t[o]]=this.attr(t[o]);return s}for(c in null!=e&&((l={})[t]=e),null==e&&K.is(t,"object")&&(l=t),l)d("raphael.attr."+c+"."+this.id,this,l[c]);if(l){for(c in this.paper.customAttributes)if(this.paper.customAttributes[L](c)&&l[L](c)&&K.is(this.paper.customAttributes[c],"function"))for(u in h=this.paper.customAttributes[c].apply(this,[].concat(l[c])),this.attrs[c]=l[c],h)h[L](u)&&(l[u]=h[u]);l.text&&"text"==this.type&&(this.textpath.string=l.text),f(this,l)}return this},n.toFront=function(){return this.removed||this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&K._tofront(this,this.paper),this},n.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),K._toback(this,this.paper)),this},n.insertAfter=function(t){return this.removed||(t.constructor==K.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),K._insertafter(this,t,this.paper)),this},n.insertBefore=function(t){return this.removed||(t.constructor==K.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),K._insertbefore(this,t,this.paper)),this},n.blur=function(t){var e=this.node.runtimeStyle,n=e.filter;return n=n.replace(i,""),0!=+t?(this.attrs.blur=t,e.filter=n+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",e.margin=K.format("-{0}px 0 0 -{0}px",R(+t||1.5))):(e.filter=n,e.margin=0,delete this.attrs.blur),this},K._engine.path=function(t,e){var n,i,r,s=P("shape");return s.style.cssText=h,s.coordsize=V+" "+V,s.coordorigin=e.coordorigin,n=new p(s,e),i={fill:"none",stroke:"#000"},t&&(i.path=t),n.type="path",n.path=[],n.Path="",f(n,i),e.canvas.appendChild(s),(r=P("skew")).on=!0,s.appendChild(r),n.skew=r,n.transform(""),n},K._engine.rect=function(t,e,n,i,r,s){var o=K._rectPath(e,n,i,r,s),a=t.path(o),l=a.attrs;return a.X=l.x=e,a.Y=l.y=n,a.W=l.width=i,a.H=l.height=r,l.r=s,l.path=o,a.type="rect",a},K._engine.ellipse=function(t,e,n,i,r){var s=t.path();s.attrs;return s.X=e-i,s.Y=n-r,s.W=2*i,s.H=2*r,s.type="ellipse",f(s,{cx:e,cy:n,rx:i,ry:r}),s},K._engine.circle=function(t,e,n,i){var r=t.path();r.attrs;return r.X=e-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",f(r,{cx:e,cy:n,r:i}),r},K._engine.image=function(t,e,n,i,r,s){var o=K._rectPath(n,i,r,s),a=t.path(o).attr({stroke:"none"}),l=a.attrs,c=a.node,h=c.getElementsByTagName(N)[0];return l.src=e,a.X=l.x=n,a.Y=l.y=i,a.W=l.width=r,a.H=l.height=s,l.path=o,a.type="image",h.parentNode==c&&c.removeChild(h),h.rotate=!0,h.src=e,h.type="tile",a._.fillpos=[n,i],a._.fillsize=[r,s],c.appendChild(h),q(a,1,1,0,0,0),a},K._engine.text=function(t,e,n,i){var r,s,o,a=P("shape"),l=P("path"),c=P("textpath");return e=e||0,n=n||0,i=i||"",l.v=K.format("m{0},{1}l{2},{1}",R(e*V),R(n*V),R(e*V)+1),l.textpathok=!0,c.string=B(i),c.on=!0,a.style.cssText=h,a.coordsize=V+" "+V,a.coordorigin="0 0",r=new p(a,t),s={fill:"#000",stroke:"none",font:K._availableAttrs.font,text:i},r.shape=a,r.path=l,r.textpath=c,r.type="text",r.attrs.text=B(i),r.attrs.x=e,r.attrs.y=n,r.attrs.w=1,r.attrs.h=1,f(r,s),a.appendChild(c),a.appendChild(l),t.canvas.appendChild(a),(o=P("skew")).on=!0,a.appendChild(o),r.skew=o,r.transform(""),r},K._engine.setSize=function(t,e){var n=this.canvas.style;return(this.width=t)==+t&&(t+="px"),(this.height=e)==+e&&(e+="px"),n.width=t,n.height=e,n.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&K._engine.setViewBox.apply(this,this._viewBox),this},K._engine.setViewBox=function(t,e,n,i,r){K.eve("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var s,o,a=this.width,l=this.height,c=1/O(n/a,i/l);return r&&(n*(s=l/i)<a&&(t-=(a-n*s)/2/s),i*(o=a/n)<l&&(e-=(l-i*o)/2/o)),this._viewBox=[t,e,n,i,!!r],this._viewBoxShift={dx:-t,dy:-e,scale:c},this.forEach(function(t){t.transform("...")}),this},K._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{e.namespaces.rvml||e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),P=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){P=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},K._engine.initWin(K._g.win),K._engine.create=function(){var t=K._getContainer.apply(0,arguments),e=t.container,n=t.height,i=t.width,r=t.x,s=t.y;if(!e)throw new Error("VML container not found.");var o=new K._Paper,a=o.canvas=K._g.doc.createElement("div"),l=a.style;return r=r||0,s=s||0,i=i||512,n=n||342,(o.width=i)==+i&&(i+="px"),(o.height=n)==+n&&(n+="px"),o.coordsize=216e5+" 21600000",o.coordorigin="0 0",o.span=K._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",a.appendChild(o.span),l.cssText=K.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,n),1==e?(K._g.doc.body.appendChild(a),l.left=r+"px",l.top=s+"px",l.position="absolute"):e.firstChild?e.insertBefore(a,e.firstChild):e.appendChild(a),o.renderfix=function(){},o},K.prototype.clear=function(){K.eve("raphael.clear",this),this.canvas.innerHTML="",this.span=K._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},K.prototype.remove=function(){for(var t in K.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?K._removedFactory(t):null;return!0},t=K.st,n)n[L](e)&&!t[L](e)&&(t[e]=function(n){return function(){var e=arguments;return this.forEach(function(t){t[n].apply(t,e)})}}(e))}}(),M.was?D.win.Raphael=K:Raphael=K,K});var icon={plus:"M25.979,12.896 19.312,12.896 19.312,6.229 12.647,6.229 12.647,12.896 5.979,12.896 5.979,19.562 12.647,19.562 12.647,26.229 19.312,26.229 19.312,19.562 25.979,19.562z",arrowleft2:"M21.871,9.814 15.684,16.001 21.871,22.188 18.335,25.725 8.612,16.001 18.335,6.276z",edit:"M27.87,7.863L23.024,4.82l-7.889,12.566l4.842,3.04L27.87,7.863zM14.395,21.25l-0.107,2.855l2.527-1.337l2.349-1.24l-4.672-2.936L14.395,21.25zM29.163,3.239l-2.532-1.591c-0.638-0.401-1.479-0.208-1.882,0.43l-0.998,1.588l4.842,3.042l0.999-1.586C29.992,4.481,29.802,3.639,29.163,3.239zM25.198,27.062c0,0.275-0.225,0.5-0.5,0.5h-19c-0.276,0-0.5-0.225-0.5-0.5v-19c0-0.276,0.224-0.5,0.5-0.5h13.244l1.884-3H5.698c-1.93,0-3.5,1.57-3.5,3.5v19c0,1.93,1.57,3.5,3.5,3.5h19c1.93,0,3.5-1.57,3.5-3.5V11.097l-3,4.776V27.062z",trash:"M20.826,5.75l0.396,1.188c1.54,0.575,2.589,1.44,2.589,2.626c0,2.405-4.308,3.498-8.312,3.498c-4.003,0-8.311-1.093-8.311-3.498c0-1.272,1.21-2.174,2.938-2.746l0.388-1.165c-2.443,0.648-4.327,1.876-4.327,3.91v2.264c0,1.224,0.685,2.155,1.759,2.845l0.396,9.265c0,1.381,3.274,2.5,7.312,2.5c4.038,0,7.313-1.119,7.313-2.5l0.405-9.493c0.885-0.664,1.438-1.521,1.438-2.617V9.562C24.812,7.625,23.101,6.42,20.826,5.75zM11.093,24.127c-0.476-0.286-1.022-0.846-1.166-1.237c-1.007-2.76-0.73-4.921-0.529-7.509c0.747,0.28,1.58,0.491,2.45,0.642c-0.216,2.658-0.43,4.923,0.003,7.828C11.916,24.278,11.567,24.411,11.093,24.127zM17.219,24.329c-0.019,0.445-0.691,0.856-1.517,0.856c-0.828,0-1.498-0.413-1.517-0.858c-0.126-2.996-0.032-5.322,0.068-8.039c0.418,0.022,0.835,0.037,1.246,0.037c0.543,0,1.097-0.02,1.651-0.059C17.251,18.994,17.346,21.325,17.219,24.329zM21.476,22.892c-0.143,0.392-0.69,0.95-1.165,1.235c-0.474,0.284-0.817,0.151-0.754-0.276c0.437-2.93,0.214-5.209-0.005-7.897c0.881-0.174,1.708-0.417,2.44-0.731C22.194,17.883,22.503,20.076,21.476,22.892zM11.338,9.512c0.525,0.173,1.092-0.109,1.268-0.633h-0.002l0.771-2.316h4.56l0.771,2.316c0.14,0.419,0.53,0.685,0.949,0.685c0.104,0,0.211-0.017,0.316-0.052c0.524-0.175,0.808-0.742,0.633-1.265l-1.002-3.001c-0.136-0.407-0.518-0.683-0.945-0.683h-6.002c-0.428,0-0.812,0.275-0.948,0.683l-1,2.999C10.532,8.77,10.815,9.337,11.338,9.512z"};!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.JSONEditor=e():t.JSONEditor=e()}(this,function(){return function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}var r={};return i.m=n,i.c=r,i.p="",i(0)}([function(t,e,n){"use strict";function l(t,e,n){if(!(this instanceof l))throw new Error('JSONEditor constructor called without "new".');var i=c.getInternetExplorerVersion();if(-1!=i&&i<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");if(e&&(e.error&&(console.warn('Option "error" has been renamed to "onError"'),e.onError=e.error,delete e.error),e.change&&(console.warn('Option "change" has been renamed to "onChange"'),e.onChange=e.change,delete e.change),e.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),e.onEditable=e.editable,delete e.editable),e)){var r=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onEditable","onError","onModeChange","onSelectionChange","onTextSelectionChange","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","languages","language"];Object.keys(e).forEach(function(t){-1===r.indexOf(t)&&console.warn('Unknown option "'+t+'". This option will be ignored')})}arguments.length&&this._create(t,e,n)}var r;try{r=n(1)}catch(t){}var i=n(51),s=n(71),c=n(54);l.modes={},l.prototype.DEBOUNCE_INTERVAL=150,l.prototype._create=function(t,e,n){this.container=t,this.options=e||{},this.json=n||{};var i=this.options.mode||this.options.modes&&this.options.modes[0]||"tree";this.setMode(i)},l.prototype.destroy=function(){},l.prototype.set=function(t){this.json=t},l.prototype.get=function(){return this.json},l.prototype.setText=function(t){this.json=c.parse(t)},l.prototype.getText=function(){return JSON.stringify(this.json)},l.prototype.setName=function(t){this.options||(this.options={}),this.options.name=t},l.prototype.getName=function(){return this.options&&this.options.name},l.prototype.setMode=function(t){var e,n,i=this.container,r=c.extend({},this.options),s=r.mode;r.mode=t;var o=l.modes[t];if(!o)throw new Error('Unknown mode "'+r.mode+'"');try{var a="text"==o.data;if(n=this.getName(),e=this[a?"getText":"get"](),this.destroy(),c.clear(this),c.extend(this,o.mixin),this.create(i,r),this.setName(n),this[a?"setText":"set"](e),"function"==typeof o.load)try{o.load.call(this)}catch(t){console.error(t)}if("function"==typeof r.onModeChange&&t!==s)try{r.onModeChange(t,s)}catch(t){console.error(t)}}catch(t){this._onError(t)}},l.prototype.getMode=function(){return this.options.mode},l.prototype._onError=function(t){if(!this.options||"function"!=typeof this.options.onError)throw t;this.options.onError(t)},l.prototype.setSchema=function(t,e){if(t){var n;try{n=this.options.ajv||r({allErrors:!0,verbose:!0})}catch(t){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(n){if(e){for(var i in e)n.removeSchema(i),e[i]&&n.addSchema(e[i],i);this.options.schemaRefs=e}this.validateSchema=n.compile(t),this.options.schema=t,this.validate()}this.refresh()}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate(),this.refresh()},l.prototype.validate=function(){},l.prototype.refresh=function(){},l.registerMode=function(t){var e,n;if(c.isArray(t))for(e=0;e<t.length;e++)l.registerMode(t[e]);else{if(!("mode"in t))throw new Error('Property "mode" missing');if(!("mixin"in t))throw new Error('Property "mixin" missing');if(!("data"in t))throw new Error('Property "data" missing');var i=t.mode;if(i in l.modes)throw new Error('Mode "'+i+'" already registered');if("function"!=typeof t.mixin.create)throw new Error('Required function "create" missing on mixin');var r=["setMode","registerMode","modes"];for(e=0;e<r.length;e++)if((n=r[e])in t.mixin)throw new Error('Reserved property "'+n+'" not allowed in mixin');l.modes[i]=t}},l.registerMode(i),l.registerMode(s),t.exports=l},function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);t=this._opts=_.copy(t)||{},function(t){var e=t._opts.logger;if(!1===e)t.logger={log:c,warn:c,error:c};else{if(void 0===e&&(e=console),!("object"==typeof e&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=m(t.format);var e=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(t){return e.test(t)},this._cache=t.cache||new u,this._loadingSchemas={},this._compilations=[],this.RULES=v(),this._getId=function(t){switch(t.schemaId){case"$id":return a;case"id":return r;default:return l}}(t),t.loopRequired=t.loopRequired||1/0,"property"==t.errorDataPath&&(t._errorDataPathProperty=!0),void 0===t.serialize&&(t.serialize=g),this._metaOpts=function(t){for(var e=_.copy(t._opts),n=0;n<E.length;n++)delete e[E[n]];return e}(this),t.formats&&function(t){for(var e in t._opts.formats){var n=t._opts.formats[e];t.addFormat(e,n)}}(this),function(t){var e;if(t._opts.$data&&(e=i(49),t.addMetaSchema(e,e.$id,!0)),!1!==t._opts.meta){var n=i(50);t._opts.$data&&(n=y(n,k)),t.addMetaSchema(n,C,!0),t._refs["http://json-schema.org/schema"]=C}}(this),"object"==typeof t.meta&&this.addMetaSchema(t.meta),function(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var n in e)t.addSchema(e[n],n)}(this),t.patternGroups&&b(this)}function s(t,e){return e=f.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function o(t,e,n){for(var i in e){var r=e[i];r.meta||n&&!n.test(i)||(t._cache.del(r.cacheKey),delete e[i])}}function r(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function a(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function l(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function d(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function c(){}var h=i(2),f=i(3),u=i(19),p=i(13),g=i(16),m=i(20),v=i(21),y=i(44),b=i(45),_=i(11),w=i(18);(t.exports=n).prototype.validate=function(t,e){var n;if("string"==typeof t){if(!(n=this.getSchema(t)))throw new Error('no schema with key or ref "'+t+'"')}else{var i=this._addSchema(t);n=i.validate||this._compile(i)}var r=n(e);return!0===n.$async?"*"==this._opts.async?w(r):r:(this.errors=n.errors,r)},n.prototype.compile=function(t,e){var n=this._addSchema(t,void 0,e);return n.validate||this._compile(n)},n.prototype.addSchema=function(t,e,n,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++)this.addSchema(t[r],void 0,n,i);return this}var s=this._getId(t);if(void 0!==s&&"string"!=typeof s)throw new Error("schema id must be string");return d(this,e=f.normalizeId(e||s)),this._schemas[e]=this._addSchema(t,n,i,!0),this},n.prototype.addMetaSchema=function(t,e,n){return this.addSchema(t,e,n,!0),this},n.prototype.validateSchema=function(t,e){var n,i,r=t.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||(i=(n=this)._opts.meta,n._opts.defaultMeta="object"==typeof i?n._getId(i)||i:n.getSchema(C)?C:void 0,n._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),!(this.errors=null);var s,o=this._formats.uri;this._formats.uri="function"==typeof o?this._schemaUriFormatFunc:this._schemaUriFormat;try{s=this.validate(r,t)}finally{this._formats.uri=o}if(!s&&e){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);this.logger.error(a)}return s},n.prototype.getSchema=function(t){var e=s(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return function(t,e){var n=f.schema.call(t,{schema:{}},e);if(n){var i=n.schema,r=n.root,s=n.baseId,o=h.call(t,i,r,void 0,s);return t._fragments[e]=new p({ref:e,fragment:!0,schema:i,root:r,baseId:s,validate:o}),o}}(this,t)}},n.prototype.removeSchema=function(t){if(t instanceof RegExp)return o(this,this._schemas,t),o(this,this._refs,t),this;switch(typeof t){case"undefined":return o(this,this._schemas),o(this,this._refs),this._cache.clear(),this;case"string":var e=s(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var n=this._opts.serialize,i=n?n(t):t;this._cache.del(i);var r=this._getId(t);r&&(r=f.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this},n.prototype.addFormat=function(t,e){return"string"==typeof e&&(e=new RegExp(e)),this._formats[t]=e,this},n.prototype.errorsText=function(t,e){if(!(t=t||this.errors))return"No errors";for(var n=void 0===(e=e||{}).separator?", ":e.separator,i=void 0===e.dataVar?"data":e.dataVar,r="",s=0;s<t.length;s++){var o=t[s];o&&(r+=i+o.dataPath+" "+o.message+n)}return r.slice(0,-n.length)},n.prototype._addSchema=function(t,e,n,i){if("object"!=typeof t&&"boolean"!=typeof t)throw new Error("schema should be object or boolean");var r=this._opts.serialize,s=r?r(t):t,o=this._cache.get(s);if(o)return o;i=i||!1!==this._opts.addUsedSchema;var a=f.normalizeId(this._getId(t));a&&i&&d(this,a);var l,c=!1!==this._opts.validateSchema&&!e;c&&!(l=a&&a==f.normalizeId(t.$schema))&&this.validateSchema(t,!0);var h=f.ids.call(this,t),u=new p({id:a,schema:t,localRefs:h,cacheKey:s,meta:n});return"#"!=a[0]&&i&&(this._refs[a]=u),this._cache.put(s,u),c&&l&&this.validateSchema(t,!0),u},n.prototype._compile=function(n,t){function i(){var t=n.validate,e=t.apply(null,arguments);return i.errors=t.errors,e}if(n.compiling)return(n.validate=i).schema=n.schema,i.errors=null,i.root=t||i,!0===n.schema.$async&&(i.$async=!0),i;var e,r;n.compiling=!0,n.meta&&(e=this._opts,this._opts=this._metaOpts);try{r=h.call(this,n.schema,t,n.localRefs)}finally{n.compiling=!1,n.meta&&(this._opts=e)}return n.validate=r,n.refs=r.refs,n.refVal=r.refVal,n.root=r.root,r},n.prototype.compileAsync=i(46);var x=i(47);n.prototype.addKeyword=x.add,n.prototype.getKeyword=x.get,n.prototype.removeKeyword=x.remove;var A=i(15);n.ValidationError=A.Validation,n.MissingRefError=A.MissingRef,n.$dataMetaSchema=y;var C="http://json-schema.org/draft-06/schema",E=["removeAdditional","useDefaults","coerceTypes"],k=["/properties"]},function(t,e,n){"use strict";function S(t,e,n){for(var i=0;i<this._compilations.length;i++){var r=this._compilations[i];if(r.schema==t&&r.root==e&&r.baseId==n)return i}return-1}function F(t,e){return"var pattern"+t+" = new RegExp("+B.toQuotedString(e[t])+");"}function T(t){return"var default"+t+" = defaults["+t+"];"}function D(t,e){return void 0===e[t]?"":"var refVal"+t+" = refVal["+t+"];"}function M(t){return"var customRule"+t+" = customRules["+t+"];"}function P(t,e){if(!t.length)return"";for(var n="",i=0;i<t.length;i++)n+=e(i,t);return n}var L=n(3),B=n(11),$=n(15),R=n(16),O=n(17),I=n(18),N=B.ucs2length,z=n(10),H=$.Validation;t.exports=function u(t,d,f,e){function p(t,e,n,i){var r=!e||e&&e.schema==t;if(e.schema!=d.schema)return u.call(y,t,e,n,i);var s,o=!0===t.$async,a=O({isTop:!0,schema:t,isRoot:r,baseId:i,root:e,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:$.MissingRef,RULES:k,validate:O,util:B,resolve:L,resolveRef:l,usePattern:c,useDefault:h,useCustomRule:v,opts:b,formats:E,logger:y.logger,self:y});a=P(_,D)+P(x,F)+P(A,T)+P(C,M)+a,b.processCode&&(a=b.processCode(a));try{s=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",a)(y,k,E,d,_,A,C,I,z,N,H),_[0]=s}catch(t){throw y.logger.error("Error compiling schema, function code:",a),t}return s.schema=t,s.errors=null,s.refs=w,s.refVal=_,s.root=r?s:e,o&&(s.$async=!0),!0===b.sourceCode&&(s.source={code:a,patterns:x,defaults:A}),s}function l(t,e,n){e=L.url(t,e);var i,r,s=w[e];if(void 0!==s)return m(i=_[s],r="refVal["+s+"]");if(!n&&d.refs){var o=d.refs[e];if(void 0!==o)return m(i=d.refVal[o],r=g(e,i))}r=g(e);var a,l,c=L.call(y,p,d,e);if(void 0===c){var h=f&&f[e];h&&(c=L.inlineRef(h,b.inlineRefs)?h:u.call(y,h,d,f,t))}if(void 0!==c)return a=c,l=w[e],_[l]=a,m(c,r);delete w[e]}function g(t,e){var n=_.length;return _[n]=e,"refVal"+(w[t]=n)}function m(t,e){return"object"==typeof t||"boolean"==typeof t?{code:e,schema:t,inline:!0}:{code:e,$async:t&&t.$async}}function c(t){var e=n[t];return void 0===e&&(e=n[t]=x.length,x[e]=t),"pattern"+e}function h(t){switch(typeof t){case"boolean":case"number":return""+t;case"string":return B.toQuotedString(t);case"object":if(null===t)return"null";var e=R(t),n=i[e];return void 0===n&&(n=i[e]=A.length,A[n]=t),"default"+n}}function v(t,e,n,i){var r=t.definition.validateSchema;if(r&&!1!==y._opts.validateSchema&&!r(e)){var s="keyword schema is invalid: "+y.errorsText(r.errors);if("log"!=y._opts.validateSchema)throw new Error(s);y.logger.error(s)}var o,a=t.definition.compile,l=t.definition.inline,c=t.definition.macro;if(a)o=a.call(y,e,n,i);else if(c)o=c.call(y,e,n,i),!1!==b.validateSchema&&y.validateSchema(o,!0);else if(l)o=l.call(y,i,t.keyword,e,n);else if(!(o=t.definition.validate))return;if(void 0===o)throw new Error('custom keyword "'+t.keyword+'"failed to compile');var h=C.length;return{code:"customRule"+h,validate:C[h]=o}}var y=this,b=this._opts,_=[void 0],w={},x=[],n={},A=[],i={},C=[],r=function(t,e,n){var i=S.call(this,t,e,n);return 0<=i?{index:i,compiling:!0}:(i=this._compilations.length,this._compilations[i]={schema:t,root:e,baseId:n},{index:i,compiling:!1})}.call(this,t,d=d||{schema:t,refVal:_,refs:w},e),s=this._compilations[r.index];if(r.compiling)return s.callValidate=function(){var t=s.validate,e=t.apply(null,arguments);return t.errors,e};var E=this._formats,k=this.RULES;try{var o=p(t,d,f,e);s.validate=o;var a=s.callValidate;return a&&(a.schema=o.schema,a.errors=null,a.refs=o.refs,a.refVal=o.refVal,a.root=o.root,a.$async=o.$async,b.sourceCode&&(a.source=o.source)),o}finally{(function(t,e,n){var i=S.call(this,t,e,n);0<=i&&this._compilations.splice(i,1)}).call(this,t,d,e)}}},function(t,e,n){"use strict";function l(t,e,n){var i=this._refs[n];if("string"==typeof i){if(!this._refs[i])return l.call(this,t,e,i);i=this._refs[i]}if((i=i||this._schemas[n])instanceof f)return c(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var r,s,o,a=h.call(this,e,n);return a&&(r=a.schema,e=a.root,o=a.baseId),r instanceof f?s=r.validate||t.call(this,r.schema,e,void 0,o):void 0!==r&&(s=c(r,this._opts.inlineRefs)?r:t.call(this,r,e,void 0,o)),s}function h(t,e){var n=v.parse(e,!1,!0),i=u(n),r=g(this._getId(t.schema));if(i!==r){var s=m(i),o=this._refs[s];if("string"==typeof o)return function(t,e,n){var i=h.call(this,t,e);if(i){var r=i.schema,s=i.baseId;t=i.root;var o=this._getId(r);return o&&(s=d(s,o)),a.call(this,n,s,r,t)}}.call(this,t,o,n);if(o instanceof f)o.validate||this._compile(o),t=o;else{if(!((o=this._schemas[s])instanceof f))return;if(o.validate||this._compile(o),s==m(e))return{schema:o,root:t,baseId:r};t=o}if(!t.schema)return;r=g(this._getId(t.schema))}return a.call(this,n,r,t.schema,t)}function a(t,e,n,i){if(t.hash=t.hash||"","#/"==t.hash.slice(0,2)){for(var r=t.hash.split("/"),s=1;s<r.length;s++){var o=r[s];if(o){if(void 0===(n=n[o=b.unescapeFragment(o)]))break;var a;if(!p[o]&&((a=this._getId(n))&&(e=d(e,a)),n.$ref)){var l=d(e,n.$ref),c=h.call(this,i,l);c&&(n=c.schema,i=c.root,e=c.baseId)}}}return void 0!==n&&n!==i.schema?{schema:n,root:i,baseId:e}:void 0}}function c(t,e){return!1!==e&&(void 0===e||!0===e?function t(e){var n;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if("object"==typeof(n=e[i])&&!t(n))return!1}else for(var r in e){if("$ref"==r)return!1;if("object"==typeof(n=e[r])&&!t(n))return!1}return!0}(t):e?function t(e){var n,i=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(n=e[r])&&(i+=t(n)),i==1/0)return 1/0}else for(var s in e){if("$ref"==s)return 1/0;if(o[s])i++;else if("object"==typeof(n=e[s])&&(i+=t(n)+1),i==1/0)return 1/0}return i}(t)<=e:void 0)}function g(t,e){return!1!==e&&(t=m(t)),u(v.parse(t,!1,!0))}function u(t){var e=t.protocol||"//"==t.href.slice(0,2)?"//":"";return(t.protocol||"")+e+(t.host||"")+(t.path||"")+"#"}function m(t){return t?t.replace(r,""):""}function d(t,e){return e=m(e),v.resolve(t,e)}var v=n(4),y=n(10),b=n(11),f=n(13),i=n(14);(t.exports=l).normalizeId=m,l.fullPath=g,l.url=d,l.ids=function(t){var e=m(this._getId(t)),u={"":e},d={"":g(e,!1)},f={},p=this;return i(t,{allKeys:!0},function(t,e,n,i,r,s,o){if(""!==e){var a=p._getId(t),l=u[i],c=d[i]+"/"+r;if(void 0!==o&&(c+="/"+("number"==typeof o?o:b.escapeFragment(o))),"string"==typeof a){a=l=m(l?v.resolve(l,a):a);var h=p._refs[a];if("string"==typeof h&&(h=p._refs[h]),h&&h.schema){if(!y(t,h.schema))throw new Error('id "'+a+'" resolves to more than one schema')}else if(a!=m(c))if("#"==a[0]){if(f[a]&&!y(t,f[a]))throw new Error('id "'+a+'" resolves to more than one schema');f[a]=t}else p._refs[a]=c}u[e]=l,d[e]=c}}),f},l.inlineRef=c,l.schema=h;var p=b.toHash(["properties","patternProperties","enum","dependencies","definitions"]),o=b.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),r=/#\/?$/},function(t,e,n){function y(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&a(t)&&t instanceof y)return t;var i=new y;return i.parse(t,e,n),i}function M(t){return"string"==typeof t}function a(t){return"object"==typeof t&&null!==t}function b(t){return null===t}var P=n(5);e.parse=i,e.resolve=function(t,e){return i(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?i(t,!1,!0).resolveObject(e):e},e.format=function(t){return M(t)&&(t=i(t)),t instanceof y?t.format():y.prototype.format.call(t)},e.Url=y;var L=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),B=["'"].concat(s),$=["%","/","?",";","#"].concat(B),R=["/","?","#"],O={javascript:!0,"javascript:":!0},I={javascript:!0,"javascript:":!0},N={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},z=n(7);y.prototype.parse=function(t,e,n){if(!M(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t;i=i.trim();var r=L.exec(i);if(r){var s=(r=r[0]).toLowerCase();this.protocol=s,i=i.substr(r.length)}if(n||r||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var o="//"===i.substr(0,2);!o||r&&I[r]||(i=i.substr(2),this.slashes=!0)}if(!I[r]&&(o||r&&!N[r])){for(var a=-1,l=0;l<R.length;l++){-1!==(u=i.indexOf(R[l]))&&(-1===a||u<a)&&(a=u)}var c,h;-1!==(h=-1===a?i.lastIndexOf("@"):i.lastIndexOf("@",a))&&(c=i.slice(0,h),i=i.slice(h+1),this.auth=decodeURIComponent(c)),a=-1;for(l=0;l<$.length;l++){var u;-1!==(u=i.indexOf($[l]))&&(-1===a||u<a)&&(a=u)}-1===a&&(a=i.length),this.host=i.slice(0,a),i=i.slice(a),this.parseHost(),this.hostname=this.hostname||"";var d="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!d)for(var f=this.hostname.split(/\./),p=(l=0,f.length);l<p;l++){var g=f[l];if(g&&!g.match(/^[a-z0-9A-Z_-]{0,63}$/)){for(var m="",v=0,y=g.length;v<y;v++)127<g.charCodeAt(v)?m+="x":m+=g[v];if(!m.match(/^[a-z0-9A-Z_-]{0,63}$/)){var b=f.slice(0,l),_=f.slice(l+1),w=g.match(/^([a-z0-9A-Z_-]{0,63})(.*)$/);w&&(b.push(w[1]),_.unshift(w[2])),_.length&&(i="/"+_.join(".")+i),this.hostname=b.join(".");break}}}if(255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),!d){var x=this.hostname.split("."),A=[];for(l=0;l<x.length;++l){var C=x[l];A.push(C.match(/[^A-Za-z0-9_-]/)?"xn--"+P.encode(C):C)}this.hostname=A.join(".")}var E=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+E,this.href+=this.host,d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!O[s])for(l=0,p=B.length;l<p;l++){var S=B[l],F=encodeURIComponent(S);F===S&&(F=escape(S)),i=i.split(S).join(F)}var T=i.indexOf("#");-1!==T&&(this.hash=i.substr(T),i=i.slice(0,T));var D=i.indexOf("?");if(-1!==D?(this.search=i.substr(D),this.query=i.substr(D+1),e&&(this.query=z.parse(this.query)),i=i.slice(0,D)):e&&(this.search="",this.query={}),i&&(this.pathname=i),N[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){E=this.pathname||"",C=this.search||"";this.path=E+C}return this.href=this.format(),this},y.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,s="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&a(this.query)&&Object.keys(this.query).length&&(s=z.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||N[e])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),e+r+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(o=o.replace("#","%23"))+i},y.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},y.prototype.resolveObject=function(e){if(M(e)){var t=new y;t.parse(e,!1,!0),e=t}var n=new y;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),N[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!N[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||I[e.protocol])n.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var r=n.pathname||"",s=n.search||"";n.path=r+s}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var o=n.pathname&&"/"===n.pathname.charAt(0),a=e.host||e.pathname&&"/"===e.pathname.charAt(0),l=a||o||n.host&&e.pathname,c=l,h=n.pathname&&n.pathname.split("/")||[],u=(i=e.pathname&&e.pathname.split("/")||[],n.protocol&&!N[n.protocol]);if(u&&(n.hostname="",n.port=null,n.host&&(""===h[0]?h[0]=n.host:h.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),l=l&&(""===i[0]||""===h[0])),a)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,h=i;else if(i.length)h||(h=[]),h.pop(),h=h.concat(i),n.search=e.search,n.query=e.query;else if(null!=e.search){if(u)n.hostname=n.host=h.shift(),(m=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=m.shift(),n.host=n.hostname=m.shift());return n.search=e.search,n.query=e.query,b(n.pathname)&&b(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!h.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var d=h.slice(-1)[0],f=(n.host||e.host)&&("."===d||".."===d)||""===d,p=0,g=h.length;0<=g;g--)"."==(d=h[g])?h.splice(g,1):".."===d?(h.splice(g,1),p++):p&&(h.splice(g,1),p--);if(!l&&!c)for(;p--;p)h.unshift("..");!l||""===h[0]||h[0]&&"/"===h[0].charAt(0)||h.unshift(""),f&&"/"!==h.join("/").substr(-1)&&h.push("");var m,v=""===h[0]||h[0]&&"/"===h[0].charAt(0);u&&(n.hostname=n.host=v?"":h.length?h.shift():"",(m=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=m.shift(),n.host=n.hostname=m.shift()));return(l=l||n.host&&h.length)&&!v&&h.unshift(""),h.length?n.pathname=h.join("/"):(n.pathname=null,n.path=null),b(n.pathname)&&b(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},y.prototype.parseHost=function(){var t=this.host,e=r.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,p,g){var m;(function(f,t){!function(t){function v(t){throw RangeError(u[t])}function r(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function e(t,e){var n=t.split("@"),i="";return 1<n.length&&(i=n[0]+"@",t=n[1]),i+r((t=t.replace(h,".")).split("."),e).join(".")}function y(t){for(var e,n,i=[],r=0,s=t.length;r<s;)55296<=(e=t.charCodeAt(r++))&&e<=56319&&r<s?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function b(t){return r(t,function(t){var e="";return 65535<t&&(e+=D((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+D(t)}).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,n){var i=0;for(t=n?T(t/a):t>>1,t+=T(t/e);d*E>>1<t;i+=A)t=T(t/d);return T(i+(d+1)*t/(t+o))}function n(t){var e,n,i,r,s,o,a,l,c,h,u,d=[],f=t.length,p=0,g=S,m=k;for((n=t.lastIndexOf(F))<0&&(n=0),i=0;i<n;++i)128<=t.charCodeAt(i)&&v("not-basic"),d.push(t.charCodeAt(i));for(r=0<n?n+1:0;r<f;){for(s=p,o=1,a=A;f<=r&&v("invalid-input"),u=t.charCodeAt(r++),(A<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:A)||l>T((x-p)/o))&&v("overflow"),p+=l*o,!(l<(c=a<=m?C:m+E<=a?E:a-m));a+=A)o>T(x/(h=A-c))&&v("overflow"),o*=h;m=w(p-s,e=d.length+1,0==s),T(p/e)>x-g&&v("overflow"),g+=T(p/e),p%=e,d.splice(p++,0,g)}return b(d)}function i(t){var e,n,i,r,s,o,a,l,c,h,u,d,f,p,g,m=[];for(d=(t=y(t)).length,e=S,s=k,o=n=0;o<d;++o)(u=t[o])<128&&m.push(D(u));for(i=r=m.length,r&&m.push(F);i<d;){for(a=x,o=0;o<d;++o)(u=t[o])>=e&&u<a&&(a=u);for(a-e>T((x-n)/(f=i+1))&&v("overflow"),n+=(a-e)*f,e=a,o=0;o<d;++o)if((u=t[o])<e&&++n>x&&v("overflow"),u==e){for(l=n,c=A;!(l<(h=c<=s?C:s+E<=c?E:c-s));c+=A)g=l-h,p=A-h,m.push(D(_(h+g%p,0))),l=T(g/p);m.push(D(_(l,0))),s=w(n,f,i==r),n=0,++i}++n,++e}return m.join("")}"object"==typeof p&&p&&p.nodeType,"object"==typeof f&&f&&f.nodeType;var s,x=2147483647,A=36,C=1,E=26,o=38,a=700,k=72,S=128,F="-",l=/^xn--/,c=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=A-C,T=Math.floor,D=String.fromCharCode;s={version:"1.3.2",ucs2:{decode:y,encode:b},decode:n,encode:i,toASCII:function(t){return e(t,function(t){return c.test(t)?"xn--"+i(t):t})},toUnicode:function(t){return e(t,function(t){return l.test(t)?n(t.slice(4).toLowerCase()):t})}},void 0!==(m=function(){return s}.call(p,g,p,f))&&(f.exports=m)}()}).call(p,g(6)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";e.decode=e.parse=n(8),e.encode=e.stringify=n(9)},function(t,e){"use strict";t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var r={};if("string"!=typeof t||0===t.length)return r;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var o,a,l=t.length;0<s&&s<l&&(l=s);for(var c=0;c<l;++c){var h,u,d,f,p=t[c].replace(/\+/g,"%20"),g=p.indexOf(n);0<=g?(h=p.substr(0,g),u=p.substr(g+1)):(h=p,u=""),d=decodeURIComponent(h),f=decodeURIComponent(u),o=r,a=d,Object.prototype.hasOwnProperty.call(o,a)?Array.isArray(r[d])?r[d].push(f):r[d]=[r[d],f]:r[d]=f}return r}},function(t,e){"use strict";var s=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(n,i,r,t){return i=i||"&",r=r||"=",null===n&&(n=void 0),"object"==typeof n?Object.keys(n).map(function(t){var e=encodeURIComponent(s(t))+r;return Array.isArray(n[t])?n[t].map(function(t){return e+encodeURIComponent(s(t))}).join(i):e+encodeURIComponent(s(n[t]))}).join(i):t?encodeURIComponent(s(t))+r+encodeURIComponent(s(n)):""}},function(t,e){"use strict";var f=Array.isArray,p=Object.keys,g=Object.prototype.hasOwnProperty;t.exports=function t(e,n){if(e===n)return!0;var i,r,s,o=f(e),a=f(n);if(o&&a){if((r=e.length)!=n.length)return!1;for(i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}if(o!=a)return!1;var l=e instanceof Date,c=n instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==n.getTime();var h=e instanceof RegExp,u=n instanceof RegExp;if(h!=u)return!1;if(h&&u)return e.toString()==n.toString();if(e instanceof Object&&n instanceof Object){var d=p(e);if((r=d.length)!==p(n).length)return!1;for(i=0;i<r;i++)if(!g.call(n,d[i]))return!1;for(i=0;i<r;i++)if(!t(e[s=d[i]],n[s]))return!1;return!0}return!1}},function(t,e,n){"use strict";function s(t,e,n){var i=n?" !== ":" === ",r=n?" || ":" && ",s=n?"!":"",o=n?"":"!";switch(t){case"null":return e+i+"null";case"array":return s+"Array.isArray("+e+")";case"object":return"("+s+e+r+"typeof "+e+i+'"object"'+r+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+i+'"number"'+r+o+"("+e+" % 1)"+r+e+i+e+")";default:return"typeof "+e+i+'"'+t+'"'}}function o(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}function u(t){return"number"==typeof t?"["+t+"]":h.test(t)?"."+t:"['"+i(t)+"']"}function i(t){return t.replace(f,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function r(t){return"'"+i(t)+"'"}function a(t,e){return'""'==t?e:(t+" + "+e).replace(/' \+ '/g,"")}function l(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function d(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}t.exports={copy:function(t,e){for(var n in e=e||{},t)e[n]=t[n];return e},checkDataType:s,checkDataTypes:function(t,e){switch(t.length){case 1:return s(t[0],e,!0);default:var n="",i=o(t);for(var r in i.array&&i.object&&(n=i.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)n+=(n?" && ":"")+s(r,e,!0);return n}},coerceToTypes:function(t,e){if(Array.isArray(e)){for(var n=[],i=0;i<e.length;i++){var r=e[i];c[r]?n[n.length]=r:"array"===t&&"array"===r&&(n[n.length]=r)}if(n.length)return n}else{if(c[e])return[e];if("array"===t&&"array"===e)return["array"]}},toHash:o,getProperty:u,escapeQuotes:i,equal:n(10),ucs2length:n(12),varOccurences:function(t,e){e+="[^0-9]";var n=t.match(new RegExp(e,"g"));return n?n.length:0},varReplace:function(t,e,n){return e+="([^0-9])",n=n.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),n+"$1")},cleanUpCode:function(t){return t.replace(p,"").replace(g,"").replace(m,"if (!($1))")},finalCleanUpCode:function(t,e){var n=t.match(v);return n&&2==n.length&&(t=e?t.replace(b,"").replace(x,A):t.replace(y,"").replace(_,w)),(n=t.match(C))&&3===n.length?t.replace(E,""):t},schemaHasRules:function(t,e){if("boolean"==typeof t)return!t;for(var n in t)if(e[n])return!0},schemaHasRulesExcept:function(t,e,n){if("boolean"==typeof t)return!t&&"not"!=n;for(var i in t)if(i!=n&&e[i])return!0},toQuotedString:r,getPathExpr:function(t,e,n,i){return a(t,n?"'/' + "+e+(i?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):i?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'")},getPath:function(t,e,n){return a(t,r(n?"/"+l(e):u(e)))},getData:function(t,e,n){var i,r,s,o;if(""===t)return"rootData";if("/"==t[0]){if(!k.test(t))throw new Error("Invalid JSON-pointer: "+t);r=t,s="rootData"}else{if(!(o=t.match(S)))throw new Error("Invalid JSON-pointer: "+t);if(i=+o[1],"#"==(r=o[2])){if(e<=i)throw new Error("Cannot access property/index "+i+" levels up, current level is "+e);return n[e-i]}if(e<i)throw new Error("Cannot access data "+i+" levels up, current level is "+e);if(s="data"+(e-i||""),!r)return s}for(var a=s,l=r.split("/"),c=0;c<l.length;c++){var h=l[c];h&&(a+=" && "+(s+=u(d(h))))}return a},unescapeFragment:function(t){return d(decodeURIComponent(t))},unescapeJsonPointer:d,escapeFragment:function(t){return encodeURIComponent(l(t))},escapeJsonPointer:l};var c=o(["string","number","integer","boolean","null"]),h=/^[a-z$_][a-z$_0-9]*$/i,f=/'|\\/g,p=/else\s*{\s*}/g,g=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,m=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,v=/[^v.]errors/g,y=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,b=/var errors = 0;|var vErrors = null;/g,_="return errors === 0;",w="validate.errors = null; return true;",x=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,A="return data;",C=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,E=/if \(rootData === undefined\) rootData = data;/,k=/^\/(?:[^~]|~0|~1)*$/,S=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},function(t,e){"use strict";t.exports=function(t){for(var e,n=0,i=t.length,r=0;r<i;)n++,55296<=(e=t.charCodeAt(r++))&&e<=56319&&r<i&&56320==(64512&(e=t.charCodeAt(r)))&&r++;return n}},function(t,e,n){"use strict";var i=n(11);t.exports=function(t){i.copy(t,this)}},function(t,e){"use strict";var p=t.exports=function(t,e,n){"function"==typeof e&&(n=e,e={}),function t(e,n,i,r,s,o,a,l,c){if(i&&"object"==typeof i&&!Array.isArray(i))for(var h in n(i,r,s,o,a,l,c),i){var u=i[h];if(Array.isArray(u)){if(h in p.arrayKeywords)for(var d=0;d<u.length;d++)t(e,n,u[d],r+"/"+h+"/"+d,s,r,h,i,d)}else if(h in p.propsKeywords){if(u&&"object"==typeof u)for(var f in u)t(e,n,u[f],r+"/"+h+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),s,r,h,i,f)}else(h in p.keywords||e.allKeys&&!(h in p.skipKeywords))&&t(e,n,u,r+"/"+h,s,r,h,i)}}(e,n,t,"",t)};p.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},p.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},p.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},p.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(t,e,n){"use strict";function i(t,e,n){this.message=n||i.message(t,e),this.missingRef=s.url(t,e),this.missingSchema=s.normalizeId(s.fullPath(this.missingRef))}function r(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t}var s=n(3);t.exports={Validation:r(function(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}),MissingRef:r(i)},i.message=function(t,e){return"can't resolve reference "+e+" from id "+t}},function(t,e){"use strict";t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var s,l="boolean"==typeof e.cycles&&e.cycles,c=e.cmp&&(s=e.cmp,function(r){return function(t,e){var n={key:t,value:r[t]},i={key:e,value:r[e]};return s(n,i)}}),h=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var n,i;if(Array.isArray(e)){for(i="[",n=0;n<e.length;n++)n&&(i+=","),i+=t(e[n])||"null";return i+"]"}if(null===e)return"null";if(-1!==h.indexOf(e)){if(l)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var r=h.push(e)-1,s=Object.keys(e).sort(c&&c(e));for(i="",n=0;n<s.length;n++){var o=s[n],a=t(e[o]);a&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a)}return h.splice(r,1),"{"+i+"}"}}(t)}},function(t,e){"use strict";t.exports=function(i,t,e){function n(t){for(var e=t.rules,n=0;n<e.length;n++)if(r(e[n]))return!0}function r(t){return void 0!==i.schema[t.keyword]||t.implements&&function(t){for(var e=t.implements,n=0;n<e.length;n++)if(void 0!==i.schema[e[n]])return!0}(t)}var s="",o=!0===i.schema.$async,a=i.util.schemaHasRulesExcept(i.schema,i.RULES.all,"$ref"),l=i.self._getId(i.schema);if(i.isTop){if(o){i.async=!0;var c="es7"==i.opts.async;i.yieldAwait=c?"await":"yield"}s+=" var validate = ",o?c?s+=" (async function ":("*"!=i.opts.async&&(s+="co.wrap"),s+="(function* "):s+=" (function ",s+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",l&&(i.opts.sourceCode||i.opts.processCode)&&(s+=" /*# sourceURL="+l+" */ ")}if("boolean"==typeof i.schema||!a&&!i.schema.$ref){var h=i.level,u=i.dataLevel,d=i.schema["false schema"],f=i.schemaPath+i.util.getProperty("false schema"),p=i.errSchemaPath+"/false schema",g=!i.opts.allErrors,m="data"+(u||""),v="valid"+h;if(!1===i.schema){i.isTop?g=!0:s+=" var "+v+" = false; ",(X=X||[]).push(s),s="",!1!==i.createErrors?(s+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+i.errorPath+" , schemaPath: "+i.util.toQuotedString(p)+" , params: {} ",!1!==i.opts.messages&&(s+=" , message: 'boolean schema is false' "),i.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+i.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var y=s;s=X.pop(),!i.compositeRule&&g?i.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else i.isTop?s+=o?" return data; ":" validate.errors = null; return true; ":s+=" var "+v+" = true; ";return i.isTop&&(s+=" }); return validate; "),s}if(i.isTop){var b=i.isTop;h=i.level=0,u=i.dataLevel=0,m="data";i.rootId=i.resolve.fullPath(i.self._getId(i.root.schema)),i.baseId=i.baseId||i.rootId,delete i.isTop,i.dataPathArr=[void 0],s+=" var vErrors = null; ",s+=" var errors = 0;     ",s+=" if (rootData === undefined) rootData = data; "}else{h=i.level,m="data"+((u=i.dataLevel)||"");if(l&&(i.baseId=i.resolve.url(i.baseId,l)),o&&!i.async)throw new Error("async schema in sync schema");s+=" var errs_"+h+" = errors;"}v="valid"+h,g=!i.opts.allErrors;var _="",w="",x=i.schema.type,A=Array.isArray(x);if(A&&1==x.length&&(x=x[0],A=!1),i.schema.$ref&&a){if("fail"==i.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+i.errSchemaPath+'" (see option extendRefs)');!0!==i.opts.extendRefs&&(a=!1,i.logger.warn('$ref: keywords ignored in schema at path "'+i.errSchemaPath+'"'))}if(x){if(i.opts.coerceTypes)var C=i.util.coerceToTypes(i.opts.coerceTypes,x);var E=i.RULES.types[x];if(C||A||!0===E||E&&!n(E)){f=i.schemaPath+".type",p=i.errSchemaPath+"/type",f=i.schemaPath+".type",p=i.errSchemaPath+"/type";var k=A?"checkDataTypes":"checkDataType";if(s+=" if ("+i.util[k](x,m,!0)+") { ",C){var S="dataType"+h,F="coerced"+h;s+=" var "+S+" = typeof "+m+"; ","array"==i.opts.coerceTypes&&(s+=" if ("+S+" == 'object' && Array.isArray("+m+")) "+S+" = 'array'; "),s+=" var "+F+" = undefined; ";var T="",D=C;if(D)for(var M,P=-1,L=D.length-1;P<L;)M=D[P+=1],P&&(s+=" if ("+F+" === undefined) { ",T+="}"),"array"==i.opts.coerceTypes&&"array"!=M&&(s+=" if ("+S+" == 'array' && "+m+".length == 1) { "+F+" = "+m+" = "+m+"[0]; "+S+" = typeof "+m+";  } "),"string"==M?s+=" if ("+S+" == 'number' || "+S+" == 'boolean') "+F+" = '' + "+m+"; else if ("+m+" === null) "+F+" = ''; ":"number"==M||"integer"==M?(s+=" if ("+S+" == 'boolean' || "+m+" === null || ("+S+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==M&&(s+=" && !("+m+" % 1)"),s+=")) "+F+" = +"+m+"; "):"boolean"==M?s+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+F+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+F+" = true; ":"null"==M?s+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+F+" = null; ":"array"==i.opts.coerceTypes&&"array"==M&&(s+=" if ("+S+" == 'string' || "+S+" == 'number' || "+S+" == 'boolean' || "+m+" == null) "+F+" = ["+m+"]; ");s+=" "+T+" if ("+F+" === undefined) {   ",(X=X||[]).push(s),s="",!1!==i.createErrors?(s+=" { keyword: 'type' , dataPath: (dataPath || '') + "+i.errorPath+" , schemaPath: "+i.util.toQuotedString(p)+" , params: { type: '",s+=A?""+x.join(","):""+x,s+="' } ",!1!==i.opts.messages&&(s+=" , message: 'should be ",s+=A?""+x.join(","):""+x,s+="' "),i.opts.verbose&&(s+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+i.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";y=s;s=X.pop(),!i.compositeRule&&g?i.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else {  ";var B=u?"data"+(u-1||""):"parentData";s+=" "+m+" = "+F+"; ",u||(s+="if ("+B+" !== undefined)"),s+=" "+B+"["+(u?i.dataPathArr[u]:"parentDataProperty")+"] = "+F+"; } "}else{(X=X||[]).push(s),s="",!1!==i.createErrors?(s+=" { keyword: 'type' , dataPath: (dataPath || '') + "+i.errorPath+" , schemaPath: "+i.util.toQuotedString(p)+" , params: { type: '",s+=A?""+x.join(","):""+x,s+="' } ",!1!==i.opts.messages&&(s+=" , message: 'should be ",s+=A?""+x.join(","):""+x,s+="' "),i.opts.verbose&&(s+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+i.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";y=s;s=X.pop(),!i.compositeRule&&g?i.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}s+=" } "}}if(i.schema.$ref&&!a)s+=" "+i.RULES.all.$ref.code(i,"$ref")+" ",g&&(s+=" } if (errors === ",s+=b?"0":"errs_"+h,s+=") { ",w+="}");else{i.opts.v5&&i.schema.patternGroups&&i.logger.warn('keyword "patternGroups" is deprecated and disabled. Use option patternGroups: true to enable.');var $=i.RULES;if($)for(var R=-1,O=$.length-1;R<O;)if(n(E=$[R+=1])){if(E.type&&(s+=" if ("+i.util.checkDataType(E.type,m)+") { "),i.opts.useDefaults&&!i.compositeRule)if("object"==E.type&&i.schema.properties){d=i.schema.properties;var I=Object.keys(d);if(I)for(var N,z=-1,H=I.length-1;z<H;){if(void 0!==(W=d[N=I[z+=1]]).default)s+="  if ("+(U=m+i.util.getProperty(N))+" === undefined) "+U+" = ","shared"==i.opts.useDefaults?s+=" "+i.useDefault(W.default)+" ":s+=" "+JSON.stringify(W.default)+" ",s+="; "}}else if("array"==E.type&&Array.isArray(i.schema.items)){var j=i.schema.items;if(j){P=-1;for(var W,V=j.length-1;P<V;)if(void 0!==(W=j[P+=1]).default){var U;s+="  if ("+(U=m+"["+P+"]")+" === undefined) "+U+" = ","shared"==i.opts.useDefaults?s+=" "+i.useDefault(W.default)+" ":s+=" "+JSON.stringify(W.default)+" ",s+="; "}}}var Y=E.rules;if(Y)for(var q,Z=-1,G=Y.length-1;Z<G;)if(r(q=Y[Z+=1])){var K=q.code(i,q.keyword,E.type);K&&(s+=" "+K+" ",g&&(_+="}"))}if(g&&(s+=" "+_+" ",_=""),E.type&&(s+=" } ",x&&x===E.type&&!C)){s+=" else { ";var X;f=i.schemaPath+".type",p=i.errSchemaPath+"/type";(X=X||[]).push(s),s="",!1!==i.createErrors?(s+=" { keyword: 'type' , dataPath: (dataPath || '') + "+i.errorPath+" , schemaPath: "+i.util.toQuotedString(p)+" , params: { type: '",s+=A?""+x.join(","):""+x,s+="' } ",!1!==i.opts.messages&&(s+=" , message: 'should be ",s+=A?""+x.join(","):""+x,s+="' "),i.opts.verbose&&(s+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+i.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";y=s;s=X.pop(),!i.compositeRule&&g?i.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } "}g&&(s+=" if (errors === ",s+=b?"0":"errs_"+h,s+=") { ",w+="}")}}return g&&(s+=" "+w+" "),b?(o?(s+=" if (errors === 0) return data;           ",s+=" else throw new ValidationError(vErrors); "):(s+=" validate.errors = vErrors; ",s+=" return errors === 0;       "),s+=" }); return validate;"):s+=" var "+v+" = errors === errs_"+h+";",s=i.util.cleanUpCode(s),b&&(s=i.util.finalCleanUpCode(s,o)),s}},function(t,e){function n(a){var l=this,t=r.call(arguments,1);return new Promise(function(n,i){function r(t){var e;try{e=a.next(t)}catch(t){return i(t)}o(e)}function s(t){var e;try{e=a.throw(t)}catch(t){return i(t)}o(e)}function o(t){if(t.done)return n(t.value);var e=c.call(l,t.value);return e&&h(e)?e.then(r,s):s(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(t.value)+'"'))}if("function"==typeof a&&(a=a.apply(l,t)),!a||"function"!=typeof a.next)return n(a);r()})}function c(t){return t?h(t)?t:(e=t.constructor)&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName||i(e.prototype))||i(t)?n.call(this,t):"function"==typeof t?function(t){var e=this;return new Promise(function(n,i){t.call(e,function(t,e){if(t)return i(t);2<arguments.length&&(e=r.call(arguments,1)),n(e)})})}.call(this,t):Array.isArray(t)?function(t){return Promise.all(t.map(c,this))}.call(this,t):Object==t.constructor?function(t){for(var n=new t.constructor,e=Object.keys(t),i=[],r=0;r<e.length;r++){var s=e[r],o=c.call(this,t[s]);o&&h(o)?function(t,e){n[e]=void 0,i.push(t.then(function(t){n[e]=t}))}(o,s):n[s]=t[s]}return Promise.all(i).then(function(){return n})}.call(this,t):t:t;var e}function h(t){return"function"==typeof t.then}function i(t){return"function"==typeof t.next&&"function"==typeof t.throw}var r=Array.prototype.slice;t.exports=n.default=n.co=n,n.wrap=function(t){function e(){return n.call(this,t.apply(this,arguments))}return e.__generatorFunction__=t,e}},function(t,e){"use strict";var n=t.exports=function(){this._cache={}};n.prototype.put=function(t,e){this._cache[t]=e},n.prototype.get=function(t){return this._cache[t]},n.prototype.del=function(t){delete this._cache[t]},n.prototype.clear=function(){this._cache={}}},function(t,e,n){"use strict";function i(t){return t="full"==t?"full":"fast",a.copy(i[t])}function r(t){var e=t.match(l);if(!e)return!1;var n=+e[1],i=+e[2];return 1<=n&&n<=12&&1<=i&&i<=c[n]}function s(t,e){var n=t.match(h);if(!n)return!1;var i=n[1],r=n[2],s=n[3],o=n[5];return i<=23&&r<=59&&s<=59&&(!e||o)}function o(t){if(b.test(t))return!1;try{return new RegExp(t),!0}catch(t){return!1}}var a=n(11),l=/^\d\d\d\d-(\d\d)-(\d\d)$/,c=[0,31,29,31,30,31,30,31,31,30,31,30,31],h=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,u=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,d=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,f=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,p=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,g=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,m=/^(?:\/(?:[^~\/]|~0|~1)*)*$|^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;(t.exports=i).fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?::|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":f,url:p,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:u,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:o,uuid:g,"json-pointer":m,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/},i.full={date:r,time:s,"date-time":function(t){var e=t.split(v);return 2==e.length&&r(e[0])&&s(e[1],!0)},uri:function(t){return y.test(t)&&d.test(t)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,"uri-template":f,url:p,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(t){return t.length<=255&&u.test(t)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:o,uuid:g,"json-pointer":m,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/};var v=/t|\s/i,y=/\/|:/,b=/[^\\]\\Z/},function(t,e,n){"use strict";var s=n(22),o=n(11).toHash;t.exports=function(){var i=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","contains","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf"]}],r=["type"];return i.all=o(r),i.types=o(["number","integer","string","array","object","boolean","null"]),i.forEach(function(t){t.rules=t.rules.map(function(t){var e;if("object"==typeof t){var n=Object.keys(t)[0];e=t[n],t=n,e.forEach(function(t){r.push(t),i.all[t]=!0})}return r.push(t),i.all[t]={keyword:t,code:s[t],implements:e}}),t.type&&(i.types[t.type]=t)}),i.keywords=o(r.concat(["additionalItems","$schema","$id","id","title","description","default","definitions"])),i.custom={},i}},function(t,e,n){"use strict";t.exports={$ref:n(23),allOf:n(24),anyOf:n(25),const:n(26),contains:n(27),dependencies:n(28),enum:n(29),format:n(30),items:n(31),maximum:n(32),minimum:n(32),maxItems:n(33),minItems:n(33),maxLength:n(34),minLength:n(34),maxProperties:n(35),minProperties:n(35),multipleOf:n(36),not:n(37),oneOf:n(38),pattern:n(39),properties:n(40),propertyNames:n(41),required:n(42),uniqueItems:n(43),validate:n(17)}},function(t,e){"use strict";t.exports=function(t,e,n){var i,r,s=" ",o=t.level,a=t.dataLevel,l=t.schema[e],c=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,u="data"+(a||""),d="valid"+o;if("#"==l||"#/"==l)t.isRoot?(i=t.async,r="validate"):(i=!0===t.root.schema.$async,r="root.refVal[0]");else{var f=t.resolveRef(t.baseId,l,t.isRoot);if(void 0===f){var p=t.MissingRefError.message(t.baseId,l);if("fail"==t.opts.missingRefs){t.logger.error(p),(y=y||[]).push(s),s="",!1!==t.createErrors?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { ref: '"+t.util.escapeQuotes(l)+"' } ",!1!==t.opts.messages&&(s+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(l)+"' "),t.opts.verbose&&(s+=" , schema: "+t.util.toQuotedString(l)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var g=s;s=y.pop(),!t.compositeRule&&h?t.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(s+=" if (false) { ")}else{if("ignore"!=t.opts.missingRefs)throw new t.MissingRefError(t.baseId,l,p);t.logger.warn(p),h&&(s+=" if (true) { ")}}else if(f.inline){var m=t.util.copy(t);m.level++;var v="valid"+m.level;m.schema=f.schema,m.schemaPath="",m.errSchemaPath=l,s+=" "+t.validate(m).replace(/validate\.schema/g,f.code)+" ",h&&(s+=" if ("+v+") { ")}else i=!0===f.$async,r=f.code}if(r){var y;(y=y||[]).push(s),s="",t.opts.passContext?s+=" "+r+".call(this, ":s+=" "+r+"( ",s+=" "+u+", (dataPath || '')",'""'!=t.errorPath&&(s+=" + "+t.errorPath);var b=s+=" , "+(a?"data"+(a-1||""):"parentData")+" , "+(a?t.dataPathArr[a]:"parentDataProperty")+", rootData)  ";if(s=y.pop(),i){if(!t.async)throw new Error("async schema referenced by sync schema");h&&(s+=" var "+d+"; "),s+=" try { "+t.yieldAwait+" "+b+"; ",h&&(s+=" "+d+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",h&&(s+=" "+d+" = false; "),s+=" } ",h&&(s+=" if ("+d+") { ")}else s+=" if (!"+b+") { if (vErrors === null) vErrors = "+r+".errors; else vErrors = vErrors.concat("+r+".errors); errors = vErrors.length; } ",h&&(s+=" else { ")}return s}},function(t,e){"use strict";t.exports=function(t,e,n){var i=" ",r=t.schema[e],s=t.schemaPath+t.util.getProperty(e),o=t.errSchemaPath+"/"+e,a=!t.opts.allErrors,l=t.util.copy(t),c="";l.level++;var h="valid"+l.level,u=l.baseId,d=!0,f=r;if(f)for(var p,g=-1,m=f.length-1;g<m;)p=f[g+=1],t.util.schemaHasRules(p,t.RULES.all)&&(d=!1,l.schema=p,l.schemaPath=s+"["+g+"]",l.errSchemaPath=o+"/"+g,i+="  "+t.validate(l)+" ",l.baseId=u,a&&(i+=" if ("+h+") { ",c+="}"));return a&&(i+=d?" if (true) { ":" "+c.slice(0,-1)+" "),t.util.cleanUpCode(i)}},function(t,e){"use strict";t.exports=function(e,t,n){var i=" ",r=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),u="valid"+r,d="errs__"+r,f=e.util.copy(e),p="";f.level++;var g="valid"+f.level;if(o.every(function(t){return e.util.schemaHasRules(t,e.RULES.all)})){var m=f.baseId;i+=" var "+d+" = errors; var "+u+" = false;  ";var v=e.compositeRule;e.compositeRule=f.compositeRule=!0;var y=o;if(y)for(var b,_=-1,w=y.length-1;_<w;)b=y[_+=1],f.schema=b,f.schemaPath=a+"["+_+"]",f.errSchemaPath=l+"/"+_,i+="  "+e.validate(f)+" ",f.baseId=m,i+=" "+u+" = "+u+" || "+g+"; if (!"+u+") { ",p+="}";e.compositeRule=f.compositeRule=v,i+=" "+p+" if (!"+u+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } "),i=e.util.cleanUpCode(i)}else c&&(i+=" if (true) { ");return i}},function(t,e){"use strict";t.exports=function(t,e,n){var i=" ",r=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(s||""),u="valid"+r,d=t.opts.$data&&o&&o.$data;d&&(i+=" var schema"+r+" = "+t.util.getData(o.$data,s,t.dataPathArr)+"; "),d||(i+=" var schema"+r+" = validate.schema"+a+";"),i+="var "+u+" = equal("+h+", schema"+r+"); if (!"+u+") {   ";var f=f||[];f.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: {} ",!1!==t.opts.messages&&(i+=" , message: 'should be equal to constant' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=f.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i}},function(t,e){"use strict";t.exports=function(t,e,n){var i=" ",r=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(s||""),u="valid"+r,d="errs__"+r,f=t.util.copy(t);f.level++;var p="valid"+f.level,g="i"+r,m=f.dataLevel=t.dataLevel+1,v="data"+m,y=t.baseId,b=t.util.schemaHasRules(o,t.RULES.all);if(i+="var "+d+" = errors;var "+u+";",b){var _=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.schema=o,f.schemaPath=a,f.errSchemaPath=l,i+=" var "+p+" = false; for (var "+g+" = 0; "+g+" < "+h+".length; "+g+"++) { ",f.errorPath=t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers,!0);var w=h+"["+g+"]";f.dataPathArr[m]=g;var x=t.validate(f);f.baseId=y,t.util.varOccurences(x,v)<2?i+=" "+t.util.varReplace(x,v,w)+" ":i+=" var "+v+" = "+w+"; "+x+" ",i+=" if ("+p+") break; }  ",t.compositeRule=f.compositeRule=_,i+="  if (!"+p+") {"}else i+=" if ("+h+".length == 0) {";var A=A||[];A.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: {} ",!1!==t.opts.messages&&(i+=" , message: 'should contain a valid item' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var C=i;return i=A.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+C+"]); ":i+=" validate.errors = ["+C+"]; return false; ":i+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { ",b&&(i+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),t.opts.allErrors&&(i+=" } "),t.util.cleanUpCode(i)}},function(t,e){"use strict";t.exports=function(t,e,n){var i=" ",r=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(s||""),u="errs__"+r,d=t.util.copy(t),f="";d.level++;var p="valid"+d.level,g={},m={},v=t.opts.ownProperties;for(w in o){var y=o[w],b=Array.isArray(y)?m:g;b[w]=y}i+="var "+u+" = errors;";var _=t.errorPath;for(var w in i+="var missing"+r+";",m)if((b=m[w]).length){if(i+=" if ( "+h+t.util.getProperty(w)+" !== undefined ",v&&(i+=" && Object.prototype.hasOwnProperty.call("+h+", '"+t.util.escapeQuotes(w)+"') "),c){i+=" && ( ";var x=b;if(x)for(var A=-1,C=x.length-1;A<C;){D=x[A+=1],A&&(i+=" || "),i+=" ( ( "+(B=h+(L=t.util.getProperty(D)))+" === undefined ",v&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+t.util.escapeQuotes(D)+"') "),i+=") && (missing"+r+" = "+t.util.toQuotedString(t.opts.jsonPointers?D:L)+") ) "}i+=")) {  ";var E="missing"+r,k="' + "+E+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(_,E,!0):_+" + "+E);var S=S||[];S.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { property: '"+t.util.escapeQuotes(w)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+t.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==t.opts.messages&&(i+=" , message: 'should have ",1==b.length?i+="property "+t.util.escapeQuotes(b[0]):i+="properties "+t.util.escapeQuotes(b.join(", ")),i+=" when property "+t.util.escapeQuotes(w)+" is present' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var F=i;i=S.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+F+"]); ":i+=" validate.errors = ["+F+"]; return false; ":i+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{i+=" ) { ";var T=b;if(T)for(var D,M=-1,P=T.length-1;M<P;){D=T[M+=1];var L=t.util.getProperty(D),B=(k=t.util.escapeQuotes(D),h+L);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(_,D,t.opts.jsonPointers)),i+=" if ( "+B+" === undefined ",v&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+t.util.escapeQuotes(D)+"') "),i+=") {  var err =   ",!1!==t.createErrors?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { property: '"+t.util.escapeQuotes(w)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+t.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==t.opts.messages&&(i+=" , message: 'should have ",1==b.length?i+="property "+t.util.escapeQuotes(b[0]):i+="properties "+t.util.escapeQuotes(b.join(", ")),i+=" when property "+t.util.escapeQuotes(w)+" is present' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}i+=" }   ",c&&(f+="}",i+=" else { ")}t.errorPath=_;var $=d.baseId;for(var w in g){y=g[w];t.util.schemaHasRules(y,t.RULES.all)&&(i+=" "+p+" = true; if ( "+h+t.util.getProperty(w)+" !== undefined ",v&&(i+=" && Object.prototype.hasOwnProperty.call("+h+", '"+t.util.escapeQuotes(w)+"') "),i+=") { ",d.schema=y,d.schemaPath=a+t.util.getProperty(w),d.errSchemaPath=l+"/"+t.util.escapeFragment(w),i+="  "+t.validate(d)+" ",d.baseId=$,i+=" }  ",c&&(i+=" if ("+p+") { ",f+="}"))}return c&&(i+="   "+f+" if ("+u+" == errors) {"),t.util.cleanUpCode(i)}},function(t,e){"use strict";t.exports=function(t,e,n){var i=" ",r=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(s||""),u="valid"+r,d=t.opts.$data&&o&&o.$data;d&&(i+=" var schema"+r+" = "+t.util.getData(o.$data,s,t.dataPathArr)+"; ");var f="i"+r,p="schema"+r;d||(i+=" var "+p+" = validate.schema"+a+";"),i+="var "+u+";",d&&(i+=" if (schema"+r+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+r+")) "+u+" = false; else {"),i+=u+" = false;for (var "+f+"=0; "+f+"<"+p+".length; "+f+"++) if (equal("+h+", "+p+"["+f+"])) { "+u+" = true; break; }",d&&(i+="  }  "),i+=" if (!"+u+") {   ";var g=g||[];g.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { allowedValues: schema"+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=g.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i}},function(t,e){"use strict";t.exports=function(t,e,n){var i=" ",r=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(s||"");if(!1===t.opts.format)return c&&(i+=" if (true) { "),i;var u,d=t.opts.$data&&o&&o.$data;d?(i+=" var schema"+r+" = "+t.util.getData(o.$data,s,t.dataPathArr)+"; ",u="schema"+r):u=o;var f=t.opts.unknownFormats,p=Array.isArray(f);if(d){i+=" var "+(g="format"+r)+" = formats["+u+"]; var "+(m="isObject"+r)+" = typeof "+g+" == 'object' && !("+g+" instanceof RegExp) && "+g+".validate; var "+(v="formatType"+r)+" = "+m+" && "+g+".type || 'string'; if ("+m+") { ",t.async&&(i+=" var async"+r+" = "+g+".async; "),i+=" "+g+" = "+g+".validate; } if (  ",d&&(i+=" ("+u+" !== undefined && typeof "+u+" != 'string') || "),i+=" (","ignore"!=f&&(i+=" ("+u+" && !"+g+" ",p&&(i+=" && self._opts.unknownFormats.indexOf("+u+") == -1 "),i+=") || "),i+=" ("+g+" && "+v+" == '"+n+"' && !(typeof "+g+" == 'function' ? ",t.async?i+=" (async"+r+" ? "+t.yieldAwait+" "+g+"("+h+") : "+g+"("+h+")) ":i+=" "+g+"("+h+") ",i+=" : "+g+".test("+h+"))))) {"}else{var g;if(!(g=t.formats[o])){if("ignore"==f)return t.logger.warn('unknown format "'+o+'" ignored in schema at path "'+t.errSchemaPath+'"'),c&&(i+=" if (true) { "),i;if(p&&0<=f.indexOf(o))return c&&(i+=" if (true) { "),i;throw new Error('unknown format "'+o+'" is used in schema at path "'+t.errSchemaPath+'"')}var m,v=(m="object"==typeof g&&!(g instanceof RegExp)&&g.validate)&&g.type||"string";if(m){var y=!0===g.async;g=g.validate}if(v!=n)return c&&(i+=" if (true) { "),i;if(y){if(!t.async)throw new Error("async format in sync schema");var b="formats"+t.util.getProperty(o)+".validate";i+=" if (!("+t.yieldAwait+" "+b+"("+h+"))) { "}else{i+=" if (! ";b="formats"+t.util.getProperty(o);m&&(b+=".validate"),i+="function"==typeof g?" "+b+"("+h+") ":" "+b+".test("+h+") ",i+=") { "}}var _=_||[];_.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { format:  ",i+=d?""+u:""+t.util.toQuotedString(o),i+="  } ",!1!==t.opts.messages&&(i+=" , message: 'should match format \"",i+=d?"' + "+u+" + '":""+t.util.escapeQuotes(o),i+="\"' "),t.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+a:""+t.util.toQuotedString(o),i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var w=i;return i=_.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+w+"]); ":i+=" validate.errors = ["+w+"]; return false; ":i+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},function(t,e){"use strict";t.exports=function(t,e,n){var i=" ",r=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(s||""),u="valid"+r,d="errs__"+r,f=t.util.copy(t),p="";f.level++;var g="valid"+f.level,m="i"+r,v=f.dataLevel=t.dataLevel+1,y="data"+v,b=t.baseId;if(i+="var "+d+" = errors;var "+u+";",Array.isArray(o)){var _=t.schema.additionalItems;if(!1===_){i+=" "+u+" = "+h+".length <= "+o.length+"; ";var w=l;l=t.errSchemaPath+"/additionalItems",i+="  if (!"+u+") {   ";var x=x||[];x.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { limit: "+o.length+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have more than "+o.length+" items' "),t.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var A=i;i=x.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+A+"]); ":i+=" validate.errors = ["+A+"]; return false; ":i+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l=w,c&&(p+="}",i+=" else { ")}var C=o;if(C)for(var E,k=-1,S=C.length-1;k<S;)if(E=C[k+=1],t.util.schemaHasRules(E,t.RULES.all)){i+=" "+g+" = true; if ("+h+".length > "+k+") { ";var F=h+"["+k+"]";f.schema=E,f.schemaPath=a+"["+k+"]",f.errSchemaPath=l+"/"+k,f.errorPath=t.util.getPathExpr(t.errorPath,k,t.opts.jsonPointers,!0),f.dataPathArr[v]=k;var T=t.validate(f);f.baseId=b,t.util.varOccurences(T,y)<2?i+=" "+t.util.varReplace(T,y,F)+" ":i+=" var "+y+" = "+F+"; "+T+" ",i+=" }  ",c&&(i+=" if ("+g+") { ",p+="}")}if("object"==typeof _&&t.util.schemaHasRules(_,t.RULES.all)){f.schema=_,f.schemaPath=t.schemaPath+".additionalItems",f.errSchemaPath=t.errSchemaPath+"/additionalItems",i+=" "+g+" = true; if ("+h+".length > "+o.length+") {  for (var "+m+" = "+o.length+"; "+m+" < "+h+".length; "+m+"++) { ",f.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers,!0);F=h+"["+m+"]";f.dataPathArr[v]=m;T=t.validate(f);f.baseId=b,t.util.varOccurences(T,y)<2?i+=" "+t.util.varReplace(T,y,F)+" ":i+=" var "+y+" = "+F+"; "+T+" ",c&&(i+=" if (!"+g+") break; "),i+=" } }  ",c&&(i+=" if ("+g+") { ",p+="}")}}else if(t.util.schemaHasRules(o,t.RULES.all)){f.schema=o,f.schemaPath=a,f.errSchemaPath=l,i+="  for (var "+m+" = 0; "+m+" < "+h+".length; "+m+"++) { ",f.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers,!0);F=h+"["+m+"]";f.dataPathArr[v]=m;T=t.validate(f);f.baseId=b,t.util.varOccurences(T,y)<2?i+=" "+t.util.varReplace(T,y,F)+" ":i+=" var "+y+" = "+F+"; "+T+" ",c&&(i+=" if (!"+g+") break; "),i+=" }"}return c&&(i+=" "+p+" if ("+d+" == errors) {"),t.util.cleanUpCode(i)}},function(t,e){"use strict";t.exports=function(t,e,n){var i,r=" ",s=t.level,o=t.dataLevel,a=t.schema[e],l=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,u="data"+(o||""),d=t.opts.$data&&a&&a.$data;d?(r+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",i="schema"+s):i=a;var f="maximum"==e,p=f?"exclusiveMaximum":"exclusiveMinimum",g=t.schema[p],m=f?"<":">",v=f?">":"<",y=void 0;if(t.opts.$data&&g&&g.$data){var b=t.util.getData(g.$data,o,t.dataPathArr),_="exclusive"+s,w="exclType"+s,x="exclIsNumber"+s,A="' + "+(k="op"+s)+" + '";r+=" var schemaExcl"+s+" = "+b+"; ",r+=" var "+_+"; var "+w+" = typeof "+(b="schemaExcl"+s)+"; if ("+w+" != 'boolean' && "+w+" != 'undefined' && "+w+" != 'number') { ";var C;y=p;(C=C||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: '"+(y||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: '"+p+" should be boolean' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var E=r;r=C.pop(),!t.compositeRule&&h?t.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",d&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" "+w+" == 'number' ? ( ("+_+" = "+i+" === undefined || "+b+" "+m+"= "+i+") ? "+u+" "+v+"= "+b+" : "+u+" "+v+" "+i+" ) : ( ("+_+" = "+b+" === true) ? "+u+" "+v+"= "+i+" : "+u+" "+v+" "+i+" ) || "+u+" !== "+u+") { var op"+s+" = "+_+" ? '"+m+"' : '"+m+"=';"}else{A=m;if((x="number"==typeof g)&&d){var k="'"+A+"'";r+=" if ( ",d&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" ( "+i+" === undefined || "+g+" "+m+"= "+i+" ? "+u+" "+v+"= "+g+" : "+u+" "+v+" "+i+" ) || "+u+" !== "+u+") { "}else{x&&void 0===a?(_=!0,y=p,c=t.errSchemaPath+"/"+p,i=g,v+="="):(x&&(i=Math[f?"min":"max"](g,a)),g===(!x||i)?(_=!0,y=p,c=t.errSchemaPath+"/"+p,v+="="):(_=!1,A+="="));k="'"+A+"'";r+=" if ( ",d&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" "+u+" "+v+" "+i+" || "+u+" !== "+u+") { "}}y=y||e,(C=C||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: '"+(y||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { comparison: "+k+", limit: "+i+", exclusive: "+_+" } ",!1!==t.opts.messages&&(r+=" , message: 'should be "+A+" ",r+=d?"' + "+i:i+"'"),t.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+l:""+a,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";E=r;return r=C.pop(),!t.compositeRule&&h?t.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { "),r}},function(t,e){"use strict";t.exports=function(t,e,n){var i,r=" ",s=t.level,o=t.dataLevel,a=t.schema[e],l=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,u="data"+(o||""),d=t.opts.$data&&a&&a.$data;d?(r+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",i="schema"+s):i=a,r+="if ( ",d&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" "+u+".length "+("maxItems"==e?">":"<")+" "+i+") { ";var f=e,p=p||[];p.push(r),r="",!1!==t.createErrors?(r+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+i+" } ",!1!==t.opts.messages&&(r+=" , message: 'should NOT have ",r+="maxItems"==e?"more":"less",r+=" than ",r+=d?"' + "+i+" + '":""+a,r+=" items' "),t.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+l:""+a,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var g=r;return r=p.pop(),!t.compositeRule&&h?t.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r}},function(t,e){"use strict";t.exports=function(t,e,n){var i,r=" ",s=t.level,o=t.dataLevel,a=t.schema[e],l=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,u="data"+(o||""),d=t.opts.$data&&a&&a.$data;d?(r+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",i="schema"+s):i=a;var f="maxLength"==e?">":"<";r+="if ( ",d&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),!1===t.opts.unicode?r+=" "+u+".length ":r+=" ucs2length("+u+") ",r+=" "+f+" "+i+") { ";var p=e,g=g||[];g.push(r),r="",!1!==t.createErrors?(r+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+i+" } ",!1!==t.opts.messages&&(r+=" , message: 'should NOT be ",r+="maxLength"==e?"longer":"shorter",r+=" than ",r+=d?"' + "+i+" + '":""+a,r+=" characters' "),t.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+l:""+a,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var m=r;return r=g.pop(),!t.compositeRule&&h?t.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r}},function(t,e){"use strict";t.exports=function(t,e,n){var i,r=" ",s=t.level,o=t.dataLevel,a=t.schema[e],l=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,u="data"+(o||""),d=t.opts.$data&&a&&a.$data;d?(r+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",i="schema"+s):i=a,r+="if ( ",d&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" Object.keys("+u+").length "+("maxProperties"==e?">":"<")+" "+i+") { ";var f=e,p=p||[];p.push(r),r="",!1!==t.createErrors?(r+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+i+" } ",!1!==t.opts.messages&&(r+=" , message: 'should NOT have ",r+="maxProperties"==e?"more":"less",r+=" than ",r+=d?"' + "+i+" + '":""+a,r+=" properties' "),t.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+l:""+a,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var g=r;return r=p.pop(),!t.compositeRule&&h?t.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r}},function(t,e){"use strict";t.exports=function(t,e,n){var i,r=" ",s=t.level,o=t.dataLevel,a=t.schema[e],l=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,u="data"+(o||""),d=t.opts.$data&&a&&a.$data;d?(r+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",i="schema"+s):i=a,r+="var division"+s+";if (",d&&(r+=" "+i+" !== undefined && ( typeof "+i+" != 'number' || "),r+=" (division"+s+" = "+u+" / "+i+", ",t.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+t.opts.multipleOfPrecision+" ":r+=" division"+s+" !== parseInt(division"+s+") ",r+=" ) ",d&&(r+="  )  "),r+=" ) {   ";var f=f||[];f.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { multipleOf: "+i+" } ",!1!==t.opts.messages&&(r+=" , message: 'should be multiple of ",r+=d?"' + "+i:i+"'"),t.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+l:""+a,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var p=r;return r=f.pop(),!t.compositeRule&&h?t.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r}},function(t,e){"use strict";t.exports=function(t,e,n){var i=" ",r=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(s||""),u="errs__"+r,d=t.util.copy(t);d.level++;var f="valid"+d.level;if(t.util.schemaHasRules(o,t.RULES.all)){d.schema=o,d.schemaPath=a,d.errSchemaPath=l,i+=" var "+u+" = errors;  ";var p,g=t.compositeRule;t.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(p=d.opts.allErrors,d.opts.allErrors=!1),i+=" "+t.validate(d)+" ",d.createErrors=!0,p&&(d.opts.allErrors=p),t.compositeRule=d.compositeRule=g,i+=" if ("+f+") {   ";var m=m||[];m.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: {} ",!1!==t.opts.messages&&(i+=" , message: 'should NOT be valid' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var v=i;i=m.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; } ",t.opts.allErrors&&(i+=" } ")}else i+="  var err =   ",!1!==t.createErrors?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: {} ",!1!==t.opts.messages&&(i+=" , message: 'should NOT be valid' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(i+=" if (false) { ");return i}},function(t,e){"use strict";t.exports=function(t,e,n){var i=" ",r=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(s||""),u="valid"+r,d="errs__"+r,f=t.util.copy(t),p="";f.level++;var g="valid"+f.level;i+="var "+d+" = errors;var prevValid"+r+" = false;var "+u+" = false;";var m=f.baseId,v=t.compositeRule;t.compositeRule=f.compositeRule=!0;var y=o;if(y)for(var b,_=-1,w=y.length-1;_<w;)b=y[_+=1],t.util.schemaHasRules(b,t.RULES.all)?(f.schema=b,f.schemaPath=a+"["+_+"]",f.errSchemaPath=l+"/"+_,i+="  "+t.validate(f)+" ",f.baseId=m):i+=" var "+g+" = true; ",_&&(i+=" if ("+g+" && prevValid"+r+") "+u+" = false; else { ",p+="}"),i+=" if ("+g+") "+u+" = prevValid"+r+" = true;";return t.compositeRule=f.compositeRule=v,i+=p+"if (!"+u+") {   var err =   ",!1!==t.createErrors?(i+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: {} ",!1!==t.opts.messages&&(i+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",t.opts.allErrors&&(i+=" } "),i}},function(t,e){"use strict";t.exports=function(t,e,n){var i,r=" ",s=t.level,o=t.dataLevel,a=t.schema[e],l=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,u="data"+(o||""),d=t.opts.$data&&a&&a.$data;d?(r+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",i="schema"+s):i=a,r+="if ( ",d&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'string') || "),r+=" !"+(d?"(new RegExp("+i+"))":t.usePattern(a))+".test("+u+") ) {   ";var f=f||[];f.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { pattern:  ",r+=d?""+i:""+t.util.toQuotedString(a),r+="  } ",!1!==t.opts.messages&&(r+=" , message: 'should match pattern \"",r+=d?"' + "+i+" + '":""+t.util.escapeQuotes(a),r+="\"' "),t.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+l:""+t.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var p=r;return r=f.pop(),!t.compositeRule&&h?t.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r}},function(t,e){"use strict";t.exports=function(t,e,n){var i=" ",r=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(s||""),u="valid"+r,d="errs__"+r,f=t.util.copy(t),p="";f.level++;var g="valid"+f.level,m="key"+r,v="idx"+r,y=f.dataLevel=t.dataLevel+1,b="data"+y,_="dataProperties"+r,w=Object.keys(o||{}),x=t.schema.patternProperties||{},A=Object.keys(x),C=t.schema.additionalProperties,E=w.length||A.length,k=!1===C,S="object"==typeof C&&Object.keys(C).length,F=t.opts.removeAdditional,T=k||S||F,D=t.opts.ownProperties,M=t.baseId,P=t.schema.required;if(P&&(!t.opts.v5||!P.$data)&&P.length<t.opts.loopRequired)var L=t.util.toHash(P);if(t.opts.patternGroups)var B=t.schema.patternGroups||{},$=Object.keys(B);if(i+="var "+d+" = errors;var "+g+" = true;",D&&(i+=" var "+_+" = undefined;"),T){if(i+=D?" "+_+" = "+_+" || Object.keys("+h+"); for (var "+v+"=0; "+v+"<"+_+".length; "+v+"++) { var "+m+" = "+_+"["+v+"]; ":" for (var "+m+" in "+h+") { ",E){if(i+=" var isAdditional"+r+" = !(false ",w.length)if(5<w.length)i+=" || validate.schema"+a+"["+m+"] ";else{var R=w;if(R)for(var O=-1,I=R.length-1;O<I;)J=R[O+=1],i+=" || "+m+" == "+t.util.toQuotedString(J)+" "}if(A.length){var N=A;if(N)for(var z=-1,H=N.length-1;z<H;)lt=N[z+=1],i+=" || "+t.usePattern(lt)+".test("+m+") "}if(t.opts.patternGroups&&$.length){var j=$;if(j){z=-1;for(var W=j.length-1;z<W;)dt=j[z+=1],i+=" || "+t.usePattern(dt)+".test("+m+") "}}i+=" ); if (isAdditional"+r+") { "}if("all"==F)i+=" delete "+h+"["+m+"]; ";else{var V=t.errorPath,U="' + "+m+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers)),k)if(F)i+=" delete "+h+"["+m+"]; ";else{i+=" "+g+" = false; ";var Y=l;l=t.errSchemaPath+"/additionalProperties",(wt=wt||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { additionalProperty: '"+U+"' } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have additional properties' "),t.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var q=i;i=wt.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+q+"]); ":i+=" validate.errors = ["+q+"]; return false; ":i+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=Y,c&&(i+=" break; ")}else if(S)if("failing"==F){i+=" var "+d+" = errors;  ";var Z=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.schema=C,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers);var G=h+"["+m+"]";f.dataPathArr[y]=m;var K=t.validate(f);f.baseId=M,t.util.varOccurences(K,b)<2?i+=" "+t.util.varReplace(K,b,G)+" ":i+=" var "+b+" = "+G+"; "+K+" ",i+=" if (!"+g+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+h+"["+m+"]; }  ",t.compositeRule=f.compositeRule=Z}else{f.schema=C,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers);G=h+"["+m+"]";f.dataPathArr[y]=m;K=t.validate(f);f.baseId=M,t.util.varOccurences(K,b)<2?i+=" "+t.util.varReplace(K,b,G)+" ":i+=" var "+b+" = "+G+"; "+K+" ",c&&(i+=" if (!"+g+") break; ")}t.errorPath=V}E&&(i+=" } "),i+=" }  ",c&&(i+=" if ("+g+") { ",p+="}")}var X=t.opts.useDefaults&&!t.compositeRule;if(w.length){var Q=w;if(Q)for(var J,tt=-1,et=Q.length-1;tt<et;){var nt=o[J=Q[tt+=1]];if(t.util.schemaHasRules(nt,t.RULES.all)){var it=t.util.getProperty(J),rt=(G=h+it,X&&void 0!==nt.default);f.schema=nt,f.schemaPath=a+it,f.errSchemaPath=l+"/"+t.util.escapeFragment(J),f.errorPath=t.util.getPath(t.errorPath,J,t.opts.jsonPointers),f.dataPathArr[y]=t.util.toQuotedString(J);K=t.validate(f);if(f.baseId=M,t.util.varOccurences(K,b)<2){K=t.util.varReplace(K,b,G);var st=G}else{st=b;i+=" var "+b+" = "+G+"; "}if(rt)i+=" "+K+" ";else{if(L&&L[J]){i+=" if ( "+st+" === undefined ",D&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+t.util.escapeQuotes(J)+"') "),i+=") { "+g+" = false; ";V=t.errorPath,Y=l;var ot=t.util.escapeQuotes(J);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(V,J,t.opts.jsonPointers)),l=t.errSchemaPath+"/required",(wt=wt||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { missingProperty: '"+ot+"' } ",!1!==t.opts.messages&&(i+=" , message: '",t.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+ot+"\\'",i+="' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";q=i;i=wt.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+q+"]); ":i+=" validate.errors = ["+q+"]; return false; ":i+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=Y,t.errorPath=V,i+=" } else { "}else c?(i+=" if ( "+st+" === undefined ",D&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+t.util.escapeQuotes(J)+"') "),i+=") { "+g+" = true; } else { "):(i+=" if ("+st+" !== undefined ",D&&(i+=" &&   Object.prototype.hasOwnProperty.call("+h+", '"+t.util.escapeQuotes(J)+"') "),i+=" ) { ");i+=" "+K+" } "}}c&&(i+=" if ("+g+") { ",p+="}")}}if(A.length){var at=A;if(at)for(var lt,ct=-1,ht=at.length-1;ct<ht;){nt=x[lt=at[ct+=1]];if(t.util.schemaHasRules(nt,t.RULES.all)){f.schema=nt,f.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(lt),f.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(lt),i+=D?" "+_+" = "+_+" || Object.keys("+h+"); for (var "+v+"=0; "+v+"<"+_+".length; "+v+"++) { var "+m+" = "+_+"["+v+"]; ":" for (var "+m+" in "+h+") { ",i+=" if ("+t.usePattern(lt)+".test("+m+")) { ",f.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers);G=h+"["+m+"]";f.dataPathArr[y]=m;K=t.validate(f);f.baseId=M,t.util.varOccurences(K,b)<2?i+=" "+t.util.varReplace(K,b,G)+" ":i+=" var "+b+" = "+G+"; "+K+" ",c&&(i+=" if (!"+g+") break; "),i+=" } ",c&&(i+=" else "+g+" = true; "),i+=" }  ",c&&(i+=" if ("+g+") { ",p+="}")}}}if(t.opts.patternGroups&&$.length){var ut=$;if(ut)for(var dt,ft=-1,pt=ut.length-1;ft<pt;){var gt=B[dt=ut[ft+=1]];nt=gt.schema;if(t.util.schemaHasRules(nt,t.RULES.all)){f.schema=nt,f.schemaPath=t.schemaPath+".patternGroups"+t.util.getProperty(dt)+".schema",f.errSchemaPath=t.errSchemaPath+"/patternGroups/"+t.util.escapeFragment(dt)+"/schema",i+=" var pgPropCount"+r+" = 0;  ",i+=D?" "+_+" = "+_+" || Object.keys("+h+"); for (var "+v+"=0; "+v+"<"+_+".length; "+v+"++) { var "+m+" = "+_+"["+v+"]; ":" for (var "+m+" in "+h+") { ",i+=" if ("+t.usePattern(dt)+".test("+m+")) { pgPropCount"+r+"++; ",f.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers);G=h+"["+m+"]";f.dataPathArr[y]=m;K=t.validate(f);f.baseId=M,t.util.varOccurences(K,b)<2?i+=" "+t.util.varReplace(K,b,G)+" ":i+=" var "+b+" = "+G+"; "+K+" ",c&&(i+=" if (!"+g+") break; "),i+=" } ",c&&(i+=" else "+g+" = true; "),i+=" }  ",c&&(i+=" if ("+g+") { ",p+="}");var mt=gt.minimum,vt=gt.maximum;if(void 0!==mt||void 0!==vt){i+=" var "+u+" = true; ";Y=l;if(void 0!==mt){var yt=mt,bt="minimum",_t="less";i+=" "+u+" = pgPropCount"+r+" >= "+mt+"; ",l=t.errSchemaPath+"/patternGroups/minimum",i+="  if (!"+u+") {   ",(wt=wt||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { reason: '"+bt+"', limit: "+yt+", pattern: '"+t.util.escapeQuotes(dt)+"' } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have "+_t+" than "+yt+' properties matching pattern "'+t.util.escapeQuotes(dt)+"\"' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";q=i;i=wt.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+q+"]); ":i+=" validate.errors = ["+q+"]; return false; ":i+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",void 0!==vt&&(i+=" else ")}if(void 0!==vt){var wt;yt=vt,bt="maximum",_t="more";i+=" "+u+" = pgPropCount"+r+" <= "+vt+"; ",l=t.errSchemaPath+"/patternGroups/maximum",i+="  if (!"+u+") {   ",(wt=wt||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { reason: '"+bt+"', limit: "+yt+", pattern: '"+t.util.escapeQuotes(dt)+"' } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have "+_t+" than "+yt+' properties matching pattern "'+t.util.escapeQuotes(dt)+"\"' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";q=i;i=wt.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+q+"]); ":i+=" validate.errors = ["+q+"]; return false; ":i+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } "}l=Y,c&&(i+=" if ("+u+") { ",p+="}")}}}}return c&&(i+=" "+p+" if ("+d+" == errors) {"),t.util.cleanUpCode(i)}},function(t,e){"use strict";t.exports=function(t,e,n){var i=" ",r=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(s||""),u="errs__"+r,d=t.util.copy(t);d.level++;var f="valid"+d.level;if(t.util.schemaHasRules(o,t.RULES.all)){d.schema=o,d.schemaPath=a,d.errSchemaPath=l;var p="key"+r,g="idx"+r,m="i"+r,v="' + "+p+" + '",y="data"+(d.dataLevel=t.dataLevel+1),b="dataProperties"+r,_=t.opts.ownProperties,w=t.baseId;i+=" var "+u+" = errors; ",_&&(i+=" var "+b+" = undefined; "),i+=_?" "+b+" = "+b+" || Object.keys("+h+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+p+" = "+b+"["+g+"]; ":" for (var "+p+" in "+h+") { ",i+=" var startErrs"+r+" = errors; ";var x=p,A=t.compositeRule;t.compositeRule=d.compositeRule=!0;var C=t.validate(d);d.baseId=w,t.util.varOccurences(C,y)<2?i+=" "+t.util.varReplace(C,y,x)+" ":i+=" var "+y+" = "+x+"; "+C+" ",t.compositeRule=d.compositeRule=A,i+=" if (!"+f+") { for (var "+m+"=startErrs"+r+"; "+m+"<errors; "+m+"++) { vErrors["+m+"].propertyName = "+p+"; }   var err =   ",!1!==t.createErrors?(i+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { propertyName: '"+v+"' } ",!1!==t.opts.messages&&(i+=" , message: 'property name \\'"+v+"\\' is invalid' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),c&&(i+=" break; "),i+=" } }"}return c&&(i+="  if ("+u+" == errors) {"),t.util.cleanUpCode(i)}},function(t,e){"use strict";t.exports=function(t,e,n){var i=" ",r=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(s||""),u="valid"+r,d=t.opts.$data&&o&&o.$data;d&&(i+=" var schema"+r+" = "+t.util.getData(o.$data,s,t.dataPathArr)+"; ");var f="schema"+r;if(!d)if(o.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var p=[],g=o;if(g)for(var m,v=-1,y=g.length-1;v<y;){m=g[v+=1];var b=t.schema.properties[m];b&&t.util.schemaHasRules(b,t.RULES.all)||(p[p.length]=m)}}else p=o;if(d||p.length){var _=t.errorPath,w=d||p.length>=t.opts.loopRequired,x=t.opts.ownProperties;if(c)if(i+=" var missing"+r+"; ",w){d||(i+=" var "+f+" = validate.schema"+a+"; ");var A="' + "+(T="schema"+r+"["+(k="i"+r)+"]")+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(_,T,t.opts.jsonPointers)),i+=" var "+u+" = true; ",d&&(i+=" if (schema"+r+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+r+")) "+u+" = false; else {"),i+=" for (var "+k+" = 0; "+k+" < "+f+".length; "+k+"++) { "+u+" = "+h+"["+f+"["+k+"]] !== undefined ",x&&(i+=" &&   Object.prototype.hasOwnProperty.call("+h+", "+f+"["+k+"]) "),i+="; if (!"+u+") break; } ",d&&(i+="  }  "),i+="  if (!"+u+") {   ",(F=F||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { missingProperty: '"+A+"' } ",!1!==t.opts.messages&&(i+=" , message: '",t.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+A+"\\'",i+="' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var C=i;i=F.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+C+"]); ":i+=" validate.errors = ["+C+"]; return false; ":i+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else{i+=" if ( ";var E=p;if(E)for(var k=-1,S=E.length-1;k<S;){M=E[k+=1],k&&(i+=" || "),i+=" ( ( "+($=h+(B=t.util.getProperty(M)))+" === undefined ",x&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+t.util.escapeQuotes(M)+"') "),i+=") && (missing"+r+" = "+t.util.toQuotedString(t.opts.jsonPointers?M:B)+") ) "}i+=") {  ";var F;A="' + "+(T="missing"+r)+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(_,T,!0):_+" + "+T),(F=F||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { missingProperty: '"+A+"' } ",!1!==t.opts.messages&&(i+=" , message: '",t.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+A+"\\'",i+="' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";C=i;i=F.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+C+"]); ":i+=" validate.errors = ["+C+"]; return false; ":i+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else if(w){d||(i+=" var "+f+" = validate.schema"+a+"; ");var T;A="' + "+(T="schema"+r+"["+(k="i"+r)+"]")+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(_,T,t.opts.jsonPointers)),d&&(i+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",!1!==t.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { missingProperty: '"+A+"' } ",!1!==t.opts.messages&&(i+=" , message: '",t.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+A+"\\'",i+="' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),i+=" for (var "+k+" = 0; "+k+" < "+f+".length; "+k+"++) { if ("+h+"["+f+"["+k+"]] === undefined ",x&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", "+f+"["+k+"]) "),i+=") {  var err =   ",!1!==t.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { missingProperty: '"+A+"' } ",!1!==t.opts.messages&&(i+=" , message: '",t.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+A+"\\'",i+="' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(i+="  }  ")}else{var D=p;if(D)for(var M,P=-1,L=D.length-1;P<L;){M=D[P+=1];var B=t.util.getProperty(M),$=(A=t.util.escapeQuotes(M),h+B);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(_,M,t.opts.jsonPointers)),i+=" if ( "+$+" === undefined ",x&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+t.util.escapeQuotes(M)+"') "),i+=") {  var err =   ",!1!==t.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { missingProperty: '"+A+"' } ",!1!==t.opts.messages&&(i+=" , message: '",t.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+A+"\\'",i+="' "),t.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=_}else c&&(i+=" if (true) {");return i}},function(t,e){"use strict";t.exports=function(t,e,n){var i,r=" ",s=t.level,o=t.dataLevel,a=t.schema[e],l=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,u="data"+(o||""),d="valid"+s,f=t.opts.$data&&a&&a.$data;if(f?(r+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",i="schema"+s):i=a,(a||f)&&!1!==t.opts.uniqueItems){f&&(r+=" var "+d+"; if ("+i+" === false || "+i+" === undefined) "+d+" = true; else if (typeof "+i+" != 'boolean') "+d+" = false; else { "),r+=" var "+d+" = true; if ("+u+".length > 1) { var i = "+u+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+u+"[i], "+u+"[j])) { "+d+" = false; break outer; } } } } ",f&&(r+="  }  "),r+=" if (!"+d+") {   ";var p=p||[];p.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==t.opts.messages&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+l:""+a,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var g=r;r=p.pop(),!t.compositeRule&&h?t.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { ")}else h&&(r+=" if (true) { ");return r}},function(t,e){"use strict";var l=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];t.exports=function(t,e){for(var n=0;n<e.length;n++){t=JSON.parse(JSON.stringify(t));var i,r=e[n].split("/"),s=t;for(i=1;i<r.length;i++)s=s[r[i]];for(i=0;i<l.length;i++){var o=l[i],a=s[o];a&&(s[o]={anyOf:[a,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]})}}return t}},function(t,e){"use strict";t.exports=function(t){var e=t._opts.defaultMeta,n="string"==typeof e?{$ref:e}:t.getSchema("http://json-schema.org/draft-06/schema")?{$ref:"http://json-schema.org/draft-06/schema"}:{};t.addKeyword("patternGroups",{metaSchema:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{type:"integer",minimum:0},minimum:{type:"integer",minimum:0},schema:n},additionalProperties:!1}}}),t.RULES.all.properties.implements.push("patternGroups")}},function(t,e,n){"use strict";var r=n(15).MissingRef;t.exports=function n(e,a,i){function l(t){var e=t.$schema;return e&&!c.getSchema(e)?n.call(c,{$ref:e},!0):Promise.resolve()}var c=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof a&&(i=a,a=void 0);var t=l(e).then(function(){var t=c._addSchema(e,void 0,a);return t.validate||function s(o){try{return c._compile(o)}catch(t){if(t instanceof r)return function(t){function e(){delete c._loadingSchemas[i]}function n(t){return c._refs[t]||c._schemas[t]}var i=t.missingSchema;if(n(i))throw new Error("Schema "+i+" is loaded but "+t.missingRef+" cannot be resolved");var r=c._loadingSchemas[i];return r||(r=c._loadingSchemas[i]=c._opts.loadSchema(i)).then(e,e),r.then(function(t){if(!n(i))return l(t).then(function(){n(i)||c.addSchema(t,i,void 0,a)})}).then(function(){return s(o)})}(t);throw t}}(t)});return i&&t.then(function(t){i(null,t)},i),t}},function(t,e,n){"use strict";var h=/^[a-z_$][a-z0-9_$-]*$/i,u=n(48);t.exports={add:function(t,e){function n(t,e,n){for(var i,r=0;r<a.length;r++){var s=a[r];if(s.type==e){i=s;break}}i||(i={type:e,rules:[]},a.push(i));var o={keyword:t,definition:n,custom:!0,code:u,implements:n.implements};i.rules.push(o),a.custom[t]=o}function i(t){if(!a.types[t])throw new Error("Unknown type "+t)}var a=this.RULES;if(a.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!h.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){if(e.macro&&void 0!==e.valid)throw new Error('"valid" option cannot be used with macro keywords');var r=e.type;if(Array.isArray(r)){var s,o=r.length;for(s=0;s<o;s++)i(r[s]);for(s=0;s<o;s++)n(t,r[s],e)}else r&&i(r),n(t,r,e);var l=!0===e.$data&&this._opts.$data;if(l&&!e.validate)throw new Error('$data support: "validate" function is not defined');var c=e.metaSchema;c&&(l&&(c={anyOf:[c,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]}),e.validateSchema=this.compile(c,!0))}return a.keywords[t]=a.all[t]=!0,this},get:function(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1},remove:function(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var n=0;n<e.length;n++)for(var i=e[n].rules,r=0;r<i.length;r++)if(i[r].keyword==t){i.splice(r,1);break}return this}}},function(t,e){"use strict";t.exports=function(t,e,n){var i,r,s=" ",o=t.level,a=t.dataLevel,l=t.schema[e],c=t.schemaPath+t.util.getProperty(e),h=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,d="data"+(a||""),f="valid"+o,p="errs__"+o,g=t.opts.$data&&l&&l.$data;g?(s+=" var schema"+o+" = "+t.util.getData(l.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=l;var m,v,y,b,_,w="definition"+o,x=this.definition,A="";if(g&&x.$data){_="keywordValidate"+o;var C=x.validateSchema;s+=" var "+w+" = RULES.custom['"+e+"'].definition; var "+_+" = "+w+".validate;"}else{if(!(b=t.useCustomRule(this,l,t.schema,t)))return;r="validate.schema"+c,_=b.code,m=x.compile,v=x.inline,y=x.macro}var E=_+".errors",k="i"+o,S="ruleErr"+o,F=x.async;if(F&&!t.async)throw new Error("async keyword in sync schema");if(v||y||(s+=E+" = null;"),s+="var "+p+" = errors;var "+f+";",g&&x.$data&&(A+="}",s+=" if ("+r+" === undefined) { "+f+" = true; } else { ",C&&(A+="}",s+=" "+f+" = "+w+".validateSchema("+r+"); if ("+f+") { ")),v)x.statements?s+=" "+b.validate+" ":s+=" "+f+" = "+b.validate+"; ";else if(y){var T=t.util.copy(t);A="";T.level++;var D="valid"+T.level;T.schema=b.validate,T.schemaPath="";var M=t.compositeRule;t.compositeRule=T.compositeRule=!0;var P=t.validate(T).replace(/validate\.schema/g,_);t.compositeRule=T.compositeRule=M,s+=" "+P}else{(R=R||[]).push(s),s="",s+="  "+_+".call( ",t.opts.passContext?s+="this":s+="self",m||!1===x.schema?s+=" , "+d+" ":s+=" , "+r+" , "+d+" , validate.schema"+t.schemaPath+" ",s+=" , (dataPath || '')",'""'!=t.errorPath&&(s+=" + "+t.errorPath);var L=a?"data"+(a-1||""):"parentData",B=a?t.dataPathArr[a]:"parentDataProperty",$=s+=" , "+L+" , "+B+" , rootData )  ";s=R.pop(),!1===x.errors?(s+=" "+f+" = ",F&&(s+=""+t.yieldAwait),s+=$+"; "):F?s+=" var "+(E="customErrors"+o)+" = null; try { "+f+" = "+t.yieldAwait+$+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+E+" = e.errors; else throw e; } ":s+=" "+E+" = null; "+f+" = "+$+"; "}if(x.modifying&&(s+=" if ("+L+") "+d+" = "+L+"["+B+"];"),s+=""+A,x.valid)u&&(s+=" if (true) { ");else{var R;s+=" if ( ",void 0===x.valid?(s+=" !",s+=y?""+D:""+f):s+=" "+!x.valid+" ",s+=") { ",i=this.keyword,(R=R||[]).push(s),s="",(R=R||[]).push(s),s="",!1!==t.createErrors?(s+=" { keyword: '"+(i||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { keyword: '"+this.keyword+"' } ",!1!==t.opts.messages&&(s+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),t.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var O=s;s=R.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+O+"]); ":s+=" validate.errors = ["+O+"]; return false; ":s+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var I=s;s=R.pop(),v?x.errors?"full"!=x.errors&&(s+="  for (var "+k+"="+p+"; "+k+"<errors; "+k+"++) { var "+S+" = vErrors["+k+"]; if ("+S+".dataPath === undefined) "+S+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+S+".schemaPath === undefined) { "+S+'.schemaPath = "'+h+'"; } ',t.opts.verbose&&(s+=" "+S+".schema = "+r+"; "+S+".data = "+d+"; "),s+=" } "):!1===x.errors?s+=" "+I+" ":(s+=" if ("+p+" == errors) { "+I+" } else {  for (var "+k+"="+p+"; "+k+"<errors; "+k+"++) { var "+S+" = vErrors["+k+"]; if ("+S+".dataPath === undefined) "+S+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+S+".schemaPath === undefined) { "+S+'.schemaPath = "'+h+'"; } ',t.opts.verbose&&(s+=" "+S+".schema = "+r+"; "+S+".data = "+d+"; "),s+=" } } "):y?(s+="   var err =   ",!1!==t.createErrors?(s+=" { keyword: '"+(i||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { keyword: '"+this.keyword+"' } ",!1!==t.opts.messages&&(s+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),t.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):!1===x.errors?s+=" "+I+" ":(s+=" if (Array.isArray("+E+")) { if (vErrors === null) vErrors = "+E+"; else vErrors = vErrors.concat("+E+"); errors = vErrors.length;  for (var "+k+"="+p+"; "+k+"<errors; "+k+"++) { var "+S+" = vErrors["+k+"]; if ("+S+".dataPath === undefined) "+S+".dataPath = (dataPath || '') + "+t.errorPath+";  "+S+'.schemaPath = "'+h+'";  ',t.opts.verbose&&(s+=" "+S+".schema = "+r+"; "+S+".data = "+d+"; "),s+=" } } else { "+I+" } "),s+=" } ",u&&(s+=" else { ")}return s}},function(t,e){t.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#",description:"Meta-schema for $data reference (JSON-schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(t,e){t.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},examples:{type:"array",items:{}},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:{}}},function(t,e,n){"use strict";var i=n(52),r=n(53),c=n(56),s=n(57),h=n(59),u=n(60),d=n(69),f=n(54),o=n(70),p=n(65),g=n(67),m=n(58).translate,a=n(58).setLanguages,l=n(58).setLanguage,v=document.body,y={create:function(t,e){if(!t)throw new Error("No container element provided.");this.container=t,this.dom={},this.highlighter=new i,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.errorNodes=[],this.node=null,this.focusTarget=null,this._setOptions(e),e.autocomplete&&(this.autocomplete=new o(e.autocomplete)),this.options.history&&"view"!==this.options.mode&&(this.history=new r(this)),this._createFrame(),this._createTable()},destroy:function(){this.frame&&this.container&&this.frame.parentNode==this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null)},_setOptions:function(t){if(this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,onSelectionChange:null},t)for(var e in t)t.hasOwnProperty(e)&&(this.options[e]=t[e]);this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=f.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),t.onSelectionChange&&this.onSelectionChange(t.onSelectionChange),a(this.options.languages),l(this.options.language)},set:function(t,e){if(e&&(console.warn('Second parameter "name" is deprecated. Use setName(name) instead.'),this.options.name=e),t instanceof Function||void 0===t)this.clear();else{this.content.removeChild(this.table);var n={field:this.options.name,value:t},i=new u(this,n);this._setRoot(i),this.validate(),this.node.expand(!1),this.content.appendChild(this.table)}this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},get:function(){if(this.focusTarget){var t=u.getNodeFromTarget(this.focusTarget);t&&t.blur()}return this.node?this.node.getValue():void 0},getText:function(){return JSON.stringify(this.get())},setText:function(e){try{this.set(f.parse(e))}catch(t){var n=f.sanitize(e);this.set(f.parse(n))}},setName:function(t){this.options.name=t,this.node&&this.node.updateField(this.options.name)},getName:function(){return this.options.name},focus:function(){var t=this.scrollableContent.querySelector("[contenteditable=true]");t?t.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(t=this.frame.querySelector("button"))&&t.focus()},clear:function(){this.node&&(this.node.collapse(),this.tbody.removeChild(this.node.getDom()),delete this.node),this.treePath&&this.treePath.reset()},_setRoot:function(t){this.clear(),this.node=t,this.tbody.appendChild(t.getDom())},search:function(t){var e;return this.node?(this.content.removeChild(this.table),e=this.node.search(t),this.content.appendChild(this.table)):e=[],e},expandAll:function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},collapseAll:function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},_onAction:function(t,e){this.history&&this.history.add(t,e),this._onChange()},_onChange:function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(t){console.error("Error in onChange callback: ",t)}},validate:function(){this.errorNodes&&this.errorNodes.forEach(function(t){t.setError(null)});var e=this.node;if(e){var t=e.validate(),n=[];this.validateSchema&&(this.validateSchema(e.getValue())||(n=this.validateSchema.errors.map(function(t){return f.improveSchemaError(t)}).map(function(t){return{node:e.findNode(t.dataPath),error:t}}).filter(function(t){return null!=t.node})));var i=t.concat(n),r=i.reduce(function(t,e){return e.node.findParents().filter(function(e){return!t.some(function(t){return t[0]===e})}).map(function(t){return[t,e.node]}).concat(t)},[]);this.errorNodes=r.map(function(t){return{node:t[0],child:t[1],error:{message:"object"===t[0].type?"Contains invalid properties":"Contains invalid items"}}}).concat(i).map(function(t){return t.node.setError(t.error,t.child),t.node})}},refresh:function(){this.node&&this.node.updateDom({recurse:!0})},startAutoScroll:function(t){var e=this,n=this.scrollableContent,i=f.getAbsoluteTop(n),r=n.clientHeight,s=i+r;t<i+24&&0<n.scrollTop?this.autoScrollStep=(i+24-t)/3:s-24<t&&r+n.scrollTop<n.scrollHeight?this.autoScrollStep=(s-24-t)/3:this.autoScrollStep=void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){e.autoScrollStep?n.scrollTop-=e.autoScrollStep:e.stopAutoScroll()},50)):this.stopAutoScroll()},stopAutoScroll:function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},setDomSelection:function(t){t&&("scrollTop"in t&&this.scrollableContent&&(this.scrollableContent.scrollTop=t.scrollTop),t.nodes&&this.select(t.nodes),t.range&&f.setSelectionOffset(t.range),t.dom&&t.dom.focus())},getDomSelection:function(){var t=f.getSelectionOffset();return t&&"DIV"!==t.container.nodeName&&(t=null),{dom:this.focusTarget,range:t,nodes:this.multiselection.nodes.slice(0),scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}},scrollTo:function(t,n){var i=this.scrollableContent;if(i){var r=this;r.animateTimeout&&(clearTimeout(r.animateTimeout),delete r.animateTimeout),r.animateCallback&&(r.animateCallback(!1),delete r.animateCallback);var e=i.clientHeight,s=i.scrollHeight-e,o=Math.min(Math.max(t-e/4,0),s),a=function(){var t=i.scrollTop,e=o-t;3<Math.abs(e)?(i.scrollTop+=e/3,r.animateCallback=n,r.animateTimeout=setTimeout(a,50)):(n&&n(!0),i.scrollTop=o,delete r.animateTimeout,delete r.animateCallback)};a()}else n&&n(!1)},_createFrame:function(){function n(t){e._onEvent&&e._onEvent(t)}this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame);var e=this;this.frame.onclick=function(t){var e=t.target;n(t),"BUTTON"==e.nodeName&&t.preventDefault()},this.frame.oninput=n,this.frame.onchange=n,this.frame.onkeydown=n,this.frame.onkeyup=n,this.frame.oncut=n,this.frame.onpaste=n,this.frame.onmousedown=n,this.frame.onmouseup=n,this.frame.onmouseover=n,this.frame.onmouseout=n,f.addEventListener(this.frame,"focus",n,!0),f.addEventListener(this.frame,"blur",n,!0),this.frame.onfocusin=n,this.frame.onfocusout=n,this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var t=document.createElement("button");t.type="button",t.className="jsoneditor-expand-all",t.title=m("expandAll"),t.onclick=function(){e.expandAll()},this.menu.appendChild(t);var i=document.createElement("button");i.type="button",i.title=m("collapseAll"),i.className="jsoneditor-collapse-all",i.onclick=function(){e.collapseAll()},this.menu.appendChild(i);var r=document.createElement("button");r.type="button",r.className="jsoneditor-sort",r.title=m("sortTitleShort"),r.onclick=function(){var t=e.options.modalAnchor||v;p(e.node,t)},this.menu.appendChild(r);var s=document.createElement("button");if(s.type="button",s.title=m("transformTitleShort"),s.className="jsoneditor-transform",s.onclick=function(){var t=e.options.modalAnchor||v;g(e.node,t)},this.menu.appendChild(s),this.history){var o=document.createElement("button");o.type="button",o.className="jsoneditor-undo jsoneditor-separator",o.title=m("undo"),o.onclick=function(){e._onUndo()},this.menu.appendChild(o),this.dom.undo=o;var a=document.createElement("button");a.type="button",a.className="jsoneditor-redo",a.title=m("redo"),a.onclick=function(){e._onRedo()},this.menu.appendChild(a),this.dom.redo=a,this.history.onChange=function(){o.disabled=!e.history.canUndo(),a.disabled=!e.history.canRedo()},this.history.onChange()}if(this.options&&this.options.modes&&this.options.modes.length){var l=this;this.modeSwitcher=new d(this.menu,this.options.modes,this.options.mode,function(t){l.modeSwitcher.destroy(),l.setMode(t),l.modeSwitcher.focus()})}this.options.search&&(this.searchBox=new c(this,this.menu)),this.options.navigationBar&&(this.navBar=document.createElement("div"),this.navBar.className="jsoneditor-navigation-bar nav-bar-empty",this.frame.appendChild(this.navBar),this.treePath=new h(this.navBar),this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)),this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this)))},_onUndo:function(){this.history&&(this.history.undo(),this._onChange())},_onRedo:function(){this.history&&(this.history.redo(),this._onChange())},_onEvent:function(t){"keydown"===t.type&&this._onKeyDown(t),"focus"===t.type&&(this.focusTarget=t.target),"mousedown"===t.type&&this._startDragDistance(t),"mousemove"!==t.type&&"mouseup"!==t.type&&"click"!==t.type||this._updateDragDistance(t);var e=u.getNodeFromTarget(t.target);if(e&&this.options&&this.options.navigationBar&&e&&("keydown"===t.type||"mousedown"===t.type)){var n=this;setTimeout(function(){n._updateTreePath(e.getNodePath())})}if(e&&e.selected){if("click"===t.type){if(t.target===e.dom.menu)return void this.showContextMenu(t.target);t.hasMoved||this.deselect()}"mousedown"===t.type&&u.onDragStart(this.multiselection.nodes,t)}else"mousedown"===t.type&&(this.deselect(),e&&t.target===e.dom.drag?u.onDragStart(e,t):(!e||t.target!==e.dom.field&&t.target!==e.dom.value&&t.target!==e.dom.select)&&this._onMultiSelectStart(t));e&&e.onEvent(t)},_updateTreePath:function(t){function n(t){return void 0!==t.field?t._escapeHTML(t.field):isNaN(t.index)?t.type:t.index}if(t&&t.length){f.removeClassName(this.navBar,"nav-bar-empty");var i=[];t.forEach(function(t){var e={name:n(t),node:t,children:[]};t.childs&&t.childs.length&&t.childs.forEach(function(t){e.children.push({name:n(t),node:t})}),i.push(e)}),this.treePath.setPath(i)}else f.addClassName(this.navBar,"nav-bar-empty")},_onTreePathSectionSelected:function(t){t&&t.node&&(t.node.expandTo(),t.node.focus())},_onTreePathMenuItemSelected:function(t,e){if(t&&t.children.length){var n=t.children.find(function(t){return t.name===e});n&&n.node&&(this._updateTreePath(n.node.getNodePath()),n.node.expandTo(),n.node.focus())}},_startDragDistance:function(t){this.dragDistanceEvent={initialTarget:t.target,initialPageX:t.pageX,initialPageY:t.pageY,dragDistance:0,hasMoved:!1}},_updateDragDistance:function(t){this.dragDistanceEvent||this._startDragDistance(t);var e=t.pageX-this.dragDistanceEvent.initialPageX,n=t.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(e*e+n*n),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||10<this.dragDistanceEvent.dragDistance,t.dragDistance=this.dragDistanceEvent.dragDistance,t.hasMoved=this.dragDistanceEvent.hasMoved,t.dragDistance},_onMultiSelectStart:function(t){var e=u.getNodeFromTarget(t.target);if("tree"===this.options.mode&&void 0===this.options.onEditable){this.multiselection={start:e||null,end:null,nodes:[]},this._startDragDistance(t);var n=this;this.mousemove||(this.mousemove=f.addEventListener(window,"mousemove",function(t){n._onMultiSelect(t)})),this.mouseup||(this.mouseup=f.addEventListener(window,"mouseup",function(t){n._onMultiSelectEnd(t)}))}},_onMultiSelect:function(t){if(t.preventDefault(),this._updateDragDistance(t),t.hasMoved){var e=u.getNodeFromTarget(t.target);e&&(null==this.multiselection.start&&(this.multiselection.start=e),this.multiselection.end=e),this.deselect();var n=this.multiselection.start,i=this.multiselection.end||this.multiselection.start;if(n&&i){if(this.multiselection.nodes=this._findTopLevelNodes(n,i),this.multiselection.nodes&&this.multiselection.nodes.length){var r=this.multiselection.nodes[0];this.multiselection.start===r||this.multiselection.start.isDescendantOf(r)?this.multiselection.direction="down":this.multiselection.direction="up"}this.select(this.multiselection.nodes)}}},_onMultiSelectEnd:function(t){this.multiselection.nodes[0]&&this.multiselection.nodes[0].dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&(f.removeEventListener(window,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(f.removeEventListener(window,"mouseup",this.mouseup),delete this.mouseup)},deselect:function(t){var e=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach(function(t){t.setSelected(!1)}),this.multiselection.nodes=[],t&&(this.multiselection.start=null,this.multiselection.end=null),e&&this._selectionChangedHandler&&this._selectionChangedHandler()},select:function(t){if(!Array.isArray(t))return this.select([t]);if(t){this.deselect(),this.multiselection.nodes=t.slice(0);var e=t[0];if(t.forEach(function(t){t.expandPathToNode(),t.setSelected(!0,t===e)}),this._selectionChangedHandler){var n=this.getSelection();this._selectionChangedHandler(n.start,n.end)}}},_findTopLevelNodes:function(t,e){for(var n=t.getNodePath(),i=e.getNodePath(),r=0;r<n.length&&n[r]===i[r];)r++;var s=n[r-1],o=n[r],a=i[r];if(o&&a||(s.parent?s=(a=o=s).parent:(o=s.childs[0],a=s.childs[s.childs.length-1])),s&&o&&a){var l=s.childs.indexOf(o),c=s.childs.indexOf(a),h=Math.min(l,c),u=Math.max(l,c);return s.childs.slice(h,u+1)}return[]},_onKeyDown:function(t){var e=t.which||t.keyCode,n=t.altKey,i=t.ctrlKey,r=t.metaKey,s=t.shiftKey,o=!1;if(9==e){var a=this;setTimeout(function(){f.selectContentEditable(a.focusTarget)},0)}if(this.searchBox&&(i&&70==e?(this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),o=!0):(114==e||i&&71==e)&&(s?this.searchBox.previous(!0):this.searchBox.next(!0),o=!0)),this.history&&(i&&!s&&90==e?(this._onUndo(),o=!0):i&&s&&90==e&&(this._onRedo(),o=!0)),this.options.autocomplete&&!o&&!(i||n||r||1!=t.key.length&&8!=e&&46!=e)){o=!1;var l="";0<=t.target.className.indexOf("jsoneditor-value")&&(l="value"),0<=t.target.className.indexOf("jsoneditor-field")&&(l="field");var c=u.getNodeFromTarget(t.target);setTimeout(function(t,e){if(0<e.innerText.length){var n=this.options.autocomplete.getOptions(e.innerText,t.getPath(),l,t.editor);null===n?this.autocomplete.hideDropDown():"function"==typeof n.then?n.then(function(t){null===t?this.autocomplete.hideDropDown():t.options?this.autocomplete.show(e,t.startFrom,t.options):this.autocomplete.show(e,0,t)}.bind(this)):n.options?this.autocomplete.show(e,n.startFrom,n.options):this.autocomplete.show(e,0,n)}else this.autocomplete.hideDropDown()}.bind(this,c,t.target),50)}o&&(t.preventDefault(),t.stopPropagation())},_createTable:function(){var t,e=document.createElement("div");e.className="jsoneditor-outer",this.options.navigationBar&&f.addClassName(e,"has-nav-bar"),this.contentOuter=e,this.scrollableContent=document.createElement("div"),this.scrollableContent.className="jsoneditor-tree",e.appendChild(this.scrollableContent),this.content=document.createElement("div"),this.content.className="jsoneditor-tree-inner",this.scrollableContent.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table),this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&((t=document.createElement("col")).width="24px",this.colgroupContent.appendChild(t)),(t=document.createElement("col")).width="24px",this.colgroupContent.appendChild(t),t=document.createElement("col"),this.colgroupContent.appendChild(t),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(e)},showContextMenu:function(t,e){var n=[],i=this;n.push({text:m("duplicateText"),title:m("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){u.onDuplicate(i.multiselection.nodes)}}),n.push({text:m("remove"),title:m("removeTitle"),className:"jsoneditor-remove",click:function(){u.onRemove(i.multiselection.nodes)}}),new s(n,{close:e}).show(t,this.content)},getSelection:function(){var t={start:null,end:null};if(this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length){var e=this.multiselection.nodes[0],n=this.multiselection.nodes[this.multiselection.nodes.length-1];"down"===this.multiselection.direction?(t.start=e.serialize(),t.end=n.serialize()):(t.start=n.serialize(),t.end=e.serialize())}return t},onSelectionChange:function(t){"function"==typeof t&&(this._selectionChangedHandler=f.debounce(t,this.DEBOUNCE_INTERVAL))},setSelection:function(t,e){t&&t.dom&&t.range&&(console.warn("setSelection/getSelection usage for text selection is depracated and should not be used, see documantaion for supported selection options"),this.setDomSelection(t));var n=this._getNodeIntsncesByRange(t,e);n.forEach(function(t){t.expandTo()}),this.select(n)},_getNodeIntsncesByRange:function(t,e){var n,i;t&&t.path&&(n=this.node.findNodeByPath(t.path),e&&e.path&&(i=this.node.findNodeByPath(e.path)));var r=[];if(n instanceof u)if(i instanceof u&&i!==n)if(n.parent===i.parent){n.getIndex()<i.getIndex()?(t=n,e=i):(t=i,e=n);var s=t;for(r.push(s);s=s.nextSibling(),r.push(s),s&&s!==e;);}else r=this._findTopLevelNodes(n,i);else r.push(n);return r},getNodesByRange:function(t,e){var n=this._getNodeIntsncesByRange(t,e),i=[];return n.forEach(function(t){i.push(t.serialize())}),i}};t.exports=[{mode:"tree",mixin:y,data:"json"},{mode:"view",mixin:y,data:"json"},{mode:"form",mixin:y,data:"json"}]},function(t,e){"use strict";function n(){this.locked=!1}n.prototype.highlight=function(t){this.locked||(this.node!=t&&(this.node&&this.node.setHighlight(!1),this.node=t,this.node.setHighlight(!0)),this._cancelUnhighlight())},n.prototype.unhighlight=function(){if(!this.locked){var t=this;this.node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){t.node.setHighlight(!1),t.node=void 0,t.unhighlightTimer=void 0},0))}},n.prototype._cancelUnhighlight=function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)},n.prototype.lock=function(){this.locked=!0},n.prototype.unlock=function(){this.locked=!1},t.exports=n},function(t,e,n){"use strict";function i(t){this.editor=t,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(t){t.node.updateField(t.oldValue)},redo:function(t){t.node.updateField(t.newValue)}},editValue:{undo:function(t){t.node.updateValue(t.oldValue)},redo:function(t){t.node.updateValue(t.newValue)}},changeType:{undo:function(t){t.node.changeType(t.oldType)},redo:function(t){t.node.changeType(t.newType)}},appendNodes:{undo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})},redo:function(e){e.nodes.forEach(function(t){e.parent.appendChild(t)})}},insertBeforeNodes:{undo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})},redo:function(e){e.nodes.forEach(function(t){e.parent.insertBefore(t,e.beforeNode)})}},insertAfterNodes:{undo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})},redo:function(e){var n=e.afterNode;e.nodes.forEach(function(t){e.parent.insertAfter(e.node,n),n=t})}},removeNodes:{undo:function(t){var e=t.parent,n=e.childs[t.index]||e.append;t.nodes.forEach(function(t){e.insertBefore(t,n)})},redo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})}},duplicateNodes:{undo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})},redo:function(e){var n=e.afterNode;e.nodes.forEach(function(t){e.parent.insertAfter(t,n),n=t})}},moveNodes:{undo:function(e){e.nodes.forEach(function(t){e.oldBeforeNode.parent.moveBefore(t,e.oldBeforeNode)})},redo:function(e){e.nodes.forEach(function(t){e.newBeforeNode.parent.moveBefore(t,e.newBeforeNode)})}},sort:{undo:function(t){var e=t.node;e.hideChilds(),e.childs=t.oldChilds,e.updateDom({updateIndexes:!0}),e.showChilds()},redo:function(t){var e=t.node;e.hideChilds(),e.childs=t.newChilds,e.updateDom({updateIndexes:!0}),e.showChilds()}},transform:{undo:function(t){t.node.setValue(t.oldValue)},redo:function(t){t.node.setValue(t.newValue)}}}}n(54),i.prototype.onChange=function(){},i.prototype.add=function(t,e){this.index++,this.history[this.index]={action:t,params:e,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()},i.prototype.clear=function(){this.history=[],this.index=-1,this.onChange()},i.prototype.canUndo=function(){return 0<=this.index},i.prototype.canRedo=function(){return this.index<this.history.length-1},i.prototype.undo=function(){if(this.canUndo()){var t=this.history[this.index];if(t){var e=this.actions[t.action];e&&e.undo?(e.undo(t.params),t.params.oldSelection&&this.editor.setDomSelection(t.params.oldSelection)):console.error(new Error('unknown action "'+t.action+'"'))}this.index--,this.onChange()}},i.prototype.redo=function(){if(this.canRedo()){this.index++;var t=this.history[this.index];if(t){var e=this.actions[t.action];e&&e.redo?(e.redo(t.params),t.params.newSelection&&this.editor.setDomSelection(t.params.newSelection)):console.error(new Error('unknown action "'+t.action+'"'))}this.onChange()}},i.prototype.destroy=function(){this.editor=null,this.history=[],this.index=-1},t.exports=i},function(t,c,e){"use strict";var n=e(55);c.parse=function(e){try{return JSON.parse(e)}catch(t){throw c.validate(e),t}},c.sanitize=function(n){function i(){return n.charAt(s)}function t(){return n.charAt(s+1)}function e(t){r.push('"'),s++;for(var e=i();s<n.length&&e!==t;)'"'===e&&"\\"!==n.charAt(s-1)?r.push('\\"'):a.hasOwnProperty(e)?r.push(a[e]):("\\"===e&&(s++,"'"!==(e=i())&&r.push("\\")),r.push(e)),s++,e=i();e===t&&(r.push('"'),s++)}var r=[],s=0,o=n.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);o&&(n=o[3]);for(var a={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};s<n.length;){var l=i();"/"===l&&"*"===t()?function(){for(s+=2;s<n.length&&("*"!==i()||"/"!==t());)s++;s+=2}():"/"===l&&"/"===t()?function(){for(s+=2;s<n.length&&"\n"!==i();)s++}():" "===l||" "<=l&&l<=" "||" "===l||" "===l||"　"===l?(r.push(" "),s++):"'"===l?e("'"):'"'===l?e('"'):"`"===l?e("´"):"‘"===l?e("’"):"“"===l?e("”"):/[a-zA-Z_$]/.test(l)&&-1!==["{",","].indexOf(function(){for(var t=r.length-1;0<=t;){var e=r[t];if(" "!==e&&"\n"!==e&&"\r"!==e&&"\t"!==e)return e;t--}return""}())?function(){for(var t="",e=i(),n=/[a-zA-Z_$\d]/;n.test(e);)t+=e,s++,e=i();-1===["null","true","false"].indexOf(t)?r.push('"'+t+'"'):r.push(t)}():(r.push(l),s++)}return r.join("")},c.escapeUnicodeChars=function(t){return t.replace(/[\u007F-\uFFFF]/g,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})},c.validate=function(t){void 0!==n?n.parse(t):JSON.parse(t)},c.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},c.clear=function(t){for(var e in t)t.hasOwnProperty(e)&&delete t[e];return t},c.type=function(t){return null===t?"null":void 0===t?"undefined":t instanceof Number||"number"==typeof t?"number":t instanceof String||"string"==typeof t?"string":t instanceof Boolean||"boolean"==typeof t?"boolean":t instanceof RegExp||"regexp"==typeof t?"regexp":c.isArray(t)?"array":"object"};var i=/^https?:\/\/\S+$/;c.isUrl=function(t){return("string"==typeof t||t instanceof String)&&i.test(t)},c.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},c.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0},c.getAbsoluteTop=function(t){return t.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0},c.addClassName=function(t,e){var n=t.className.split(" ");-1==n.indexOf(e)&&(n.push(e),t.className=n.join(" "))},c.removeClassName=function(t,e){var n=t.className.split(" "),i=n.indexOf(e);-1!=i&&(n.splice(i,1),t.className=n.join(" "))},c.stripFormatting=function(t){for(var e=t.childNodes,n=0,i=e.length;n<i;n++){var r=e[n];r.style&&r.removeAttribute("style");var s=r.attributes;if(s)for(var o=s.length-1;0<=o;o--){var a=s[o];!0===a.specified&&r.removeAttribute(a.name)}c.stripFormatting(r)}},c.setEndOfContentEditable=function(t){var e,n;document.createRange&&((e=document.createRange()).selectNodeContents(t),e.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(e))},c.selectContentEditable=function(t){var e,n;t&&"DIV"==t.nodeName&&(window.getSelection&&document.createRange&&((n=document.createRange()).selectNodeContents(t),(e=window.getSelection()).removeAllRanges(),e.addRange(n)))},c.getSelection=function(){if(window.getSelection){var t=window.getSelection();if(t.getRangeAt&&t.rangeCount)return t.getRangeAt(0)}return null},c.setSelection=function(t){if(t&&window.getSelection){var e=window.getSelection();e.removeAllRanges(),e.addRange(t)}},c.getSelectionOffset=function(){var t=c.getSelection();return t&&"startOffset"in t&&"endOffset"in t&&t.startContainer&&t.startContainer==t.endContainer?{startOffset:t.startOffset,endOffset:t.endOffset,container:t.startContainer.parentNode}:null},c.setSelectionOffset=function(t){if(document.createRange&&window.getSelection&&window.getSelection()){var e=document.createRange();t.container.firstChild||t.container.appendChild(document.createTextNode("")),e.setStart(t.container.firstChild,t.startOffset),e.setEnd(t.container.firstChild,t.endOffset),c.setSelection(e)}},c.getInnerText=function(t,e){if(null==e&&(e={text:"",flush:function(){var t=this.text;return this.text="",t},set:function(t){this.text=t}}),t.nodeValue)return e.flush()+t.nodeValue;if(t.hasChildNodes()){for(var n=t.childNodes,i="",r=0,s=n.length;r<s;r++){var o=n[r];if("DIV"==o.nodeName||"P"==o.nodeName){var a=n[r-1],l=a?a.nodeName:void 0;l&&"DIV"!=l&&"P"!=l&&"BR"!=l&&(i+="\n",e.flush()),i+=c.getInnerText(o,e),e.set("\n")}else"BR"==o.nodeName?(i+=e.flush(),e.set("\n")):i+=c.getInnerText(o,e)}return i}return"P"==t.nodeName&&-1!=c.getInternetExplorerVersion()?e.flush():""},c.getInternetExplorerVersion=function(){if(-1==r){var t=-1;if("undefined"!=typeof navigator&&"Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}r=t}return r},c.isFirefox=function(){return"undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Firefox")};var r=-1;c.addEventListener=function(t,e,n,i){if(t.addEventListener)return void 0===i&&(i=!1),"mousewheel"===e&&c.isFirefox()&&(e="DOMMouseScroll"),t.addEventListener(e,n,i),n;if(t.attachEvent){var r=function(){return n.call(t,window.event)};return t.attachEvent("on"+e,r),r}},c.removeEventListener=function(t,e,n,i){t.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===e&&c.isFirefox()&&(e="DOMMouseScroll"),t.removeEventListener(e,n,i)):t.detachEvent&&t.detachEvent("on"+e,n)},c.parsePath=function t(e){var n,i;if(0===e.length)return[];var r=e.match(/^\.(\w+)/);if(r)n=r[1],i=e.substr(n.length+1);else{if("["!==e[0])throw new SyntaxError("Failed to parse path");var s=e.indexOf("]");if(-1===s)throw new SyntaxError("Character ] expected in path");if(1===s)throw new SyntaxError("Index expected after [");var o=e.substring(1,s);"'"===o[0]&&(o='"'+o.substring(1,o.length-1)+'"'),n="*"===o?o:JSON.parse(o),i=e.substr(s+1)}return[n].concat(t(i))},c.improveSchemaError=function(t){if("enum"===t.keyword&&Array.isArray(t.schema)){var e=t.schema;if(e){if(5<(e=e.map(function(t){return JSON.stringify(t)})).length){var n=["("+(e.length-5)+" more...)"];(e=e.slice(0,5)).push(n)}t.message="should be equal to one of: "+e.join(", ")}}return"additionalProperties"===t.keyword&&(t.message="should NOT have additional property: "+t.params.additionalProperty),t},c.insideRect=function(t,e,n){var i=void 0!==n?n:0;return e.left-i>=t.left&&e.right+i<=t.right&&e.top-i>=t.top&&e.bottom+i<=t.bottom},c.debounce=function(i,r,s){var o;return function(){var t=this,e=arguments,n=s&&!o;clearTimeout(o),o=setTimeout(function(){o=null,s||i.apply(t,e)},r),n&&i.apply(t,e)}},c.textDiff=function(t,e){for(var n=e.length,i=0,r=t.length,s=e.length;e.charAt(i)===t.charAt(i)&&i<n;)i++;for(;e.charAt(s-1)===t.charAt(r-1)&&i<s&&0<r;)s--,r--;return{start:i,end:s}},c.getInputSelection=function(n){function t(t){var e=n.value.substring(0,t);return{row:(e.match(/\n/g)||[]).length+1,column:e.length-e.lastIndexOf("\n")}}var e,i,r,s,o,a=0,l=0;return"number"==typeof n.selectionStart&&"number"==typeof n.selectionEnd?(a=n.selectionStart,l=n.selectionEnd):(i=document.selection.createRange())&&i.parentElement()==n&&(s=n.value.length,e=n.value.replace(/\r\n/g,"\n"),(r=n.createTextRange()).moveToBookmark(i.getBookmark()),(o=n.createTextRange()).collapse(!1),-1<r.compareEndPoints("StartToEnd",o)?a=l=s:(a=-r.moveStart("character",-s),a+=e.slice(0,a).split("\n").length-1,-1<r.compareEndPoints("EndToEnd",o)?l=s:(l=-r.moveEnd("character",-s),l+=e.slice(0,l).split("\n").length-1))),{startIndex:a,endIndex:l,start:t(a),end:t(l)}},c.getIndexForPosition=function(t,e,n){var i=t.value||"";if(0<e&&0<n){var r=i.split("\n",e);e=Math.min(r.length,e),n=Math.min(r[e-1].length,n-1);var s=1==e?n:n+1;return r.slice(0,e-1).join("\n").length+s}return-1},"undefined"!=typeof Element&&function(){function t(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!=this.parentNode&&this.parentNode.removeChild(this)}})}"undefined"!=typeof Element&&t(Element.prototype),"undefined"!=typeof CharacterData&&t(CharacterData.prototype),"undefined"!=typeof DocumentType&&t(DocumentType.prototype)}(),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),Array.prototype.find||(Array.prototype.find=function(t){for(var e=0;e<this.length;e++){var n=this[e];if(t.call(this,n,e,this))return n}})},function(t,e,n){var i,r=((i={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(t,e,n,i,r,s,o){var a=s.length-1;switch(r){case 1:this.$=t.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(t);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=s[a-1];case 13:this.$={};break;case 14:this.$=s[a-1];break;case 15:this.$=[s[a-2],s[a]];break;case 16:this.$={},this.$[s[a][0]]=s[a][1];break;case 17:this.$=s[a-2],s[a-2][s[a][0]]=s[a][1];break;case 18:this.$=[];break;case 19:this.$=s[a-1];break;case 20:this.$=[s[a]];break;case 21:this.$=s[a-2],s[a-2].push(s[a])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return"number"!=typeof(t=n.lexer.lex()||1)&&(t=n.symbols_[t]||t),t}var n=this,i=[0],r=[null],s=[],o=this.table,a="",l=0,c=0,h=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;s.push(u),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,f,p,g,m,v,y,b,_,w={};;){if(p=i[i.length-1],this.defaultActions[p]?g=this.defaultActions[p]:(null==d&&(d=e()),g=o[p]&&o[p][d]),void 0===g||!g.length||!g[0]){if(!h){for(v in _=[],o[p])this.terminals_[v]&&2<v&&_.push("'"+this.terminals_[v]+"'");var x="";x=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+this.terminals_[d]+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:u,expected:_})}if(3==h){if(1==d)throw new Error(x||"Parsing halted.");c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,d=e()}for(;!(2..toString()in o[p]);){if(0==p)throw new Error(x||"Parsing halted.");i.length=i.length-2,r.length=r.length-1,s.length=s.length-1,p=i[i.length-1]}f=d,d=2,g=o[p=i[i.length-1]]&&o[p][2],h=3}if(g[0]instanceof Array&&1<g.length)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+d);switch(g[0]){case 1:i.push(d),r.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(g[1]),d=null,f?(d=f,f=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,0<h&&h--);break;case 2:if(y=this.productions_[g[1]][1],w.$=r[r.length-y],w._$={first_line:s[s.length-(y||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(y||1)].first_column,last_column:s[s.length-1].last_column},void 0!==(m=this.performAction.call(w,a,c,l,this.yy,g[1],r,s)))return m;y&&(i=i.slice(0,-1*y*2),r=r.slice(0,-1*y),s=s.slice(0,-1*y)),i.push(this.productions_[g[1]][0]),r.push(w.$),s.push(w._$),b=o[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(t,e){if(!this.yy.parseError)throw new Error(t);this.yy.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.match+=t,this.matched+=t,t.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),t},unput:function(t){return this._input=t+this._input,this},more:function(){return this._more=!0,this},less:function(t){this._input=this.match.slice(t)+this._input},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,n,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length&&(!(n=this._input.match(this.rules[s[o]]))||e&&!(n[0].length>e[0].length)||(e=n,i=o,this.options.flex));o++);return e?((r=e[0].match(/\n.*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-1:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,n,i){switch(n){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}},i);e.parser=r,e.parse=r.parse.bind(r)},function(t,e){"use strict";function n(t,e){var n=this;this.editor=t,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.dom={},this.dom.container=e;var i=document.createElement("table");(this.dom.table=i).className="jsoneditor-search",e.appendChild(i);var r=document.createElement("tbody");this.dom.tbody=r,i.appendChild(r);var s=document.createElement("tr");r.appendChild(s);var o=document.createElement("td");s.appendChild(o);var a=document.createElement("div");(this.dom.results=a).className="jsoneditor-results",o.appendChild(a),o=document.createElement("td"),s.appendChild(o);var l=document.createElement("div");(this.dom.input=l).className="jsoneditor-frame",l.title="Search fields and values",o.appendChild(l);var c=document.createElement("table");l.appendChild(c);var h=document.createElement("tbody");c.appendChild(h),s=document.createElement("tr"),h.appendChild(s);var u=document.createElement("button");u.type="button",u.className="jsoneditor-refresh",(o=document.createElement("td")).appendChild(u),s.appendChild(o);var d=document.createElement("input");(this.dom.search=d).oninput=function(t){n._onDelayedSearch(t)},d.onchange=function(t){n._onSearch()},d.onkeydown=function(t){n._onKeyDown(t)},d.onkeyup=function(t){n._onKeyUp(t)},u.onclick=function(t){d.select()},(o=document.createElement("td")).appendChild(d),s.appendChild(o);var f=document.createElement("button");f.type="button",f.title="Next result (Enter)",f.className="jsoneditor-next",f.onclick=function(){n.next()},(o=document.createElement("td")).appendChild(f),s.appendChild(o);var p=document.createElement("button");p.type="button",p.title="Previous result (Shift+Enter)",p.className="jsoneditor-previous",p.onclick=function(){n.previous()},(o=document.createElement("td")).appendChild(p),s.appendChild(o)}n.prototype.next=function(t){if(null!=this.results){var e=null!=this.resultIndex?this.resultIndex+1:0;e>this.results.length-1&&(e=0),this._setActiveResult(e,t)}},n.prototype.previous=function(t){if(null!=this.results){var e=this.results.length-1,n=null!=this.resultIndex?this.resultIndex-1:e;n<0&&(n=e),this._setActiveResult(n,t)}},n.prototype._setActiveResult=function(t,e){if(this.activeResult){var n=this.activeResult.node;"field"==this.activeResult.elem?delete n.searchFieldActive:delete n.searchValueActive,n.updateDom()}if(!this.results||!this.results[t])return this.resultIndex=void 0,void(this.activeResult=void 0);this.resultIndex=t;var i=this.results[this.resultIndex].node,r=this.results[this.resultIndex].elem;"field"==r?i.searchFieldActive=!0:i.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],i.updateDom(),i.scrollTo(function(){e&&i.focus(r)})},n.prototype._clearDelay=function(){null!=this.timeout&&(clearTimeout(this.timeout),delete this.timeout)},n.prototype._onDelayedSearch=function(t){this._clearDelay();var e=this;this.timeout=setTimeout(function(t){e._onSearch()},this.delay)},n.prototype._onSearch=function(t){this._clearDelay();var e=this.dom.search.value,n=0<e.length?e:void 0;if(n!==this.lastText||t){this.lastText=n,this.results=this.editor.search(n);var i=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:1/0;if(this._setActiveResult(0,!1),void 0!==n){var r=this.results.length;this.dom.results.innerHTML=0===r?"no&nbsp;results":1===r?"1&nbsp;result":i<r?i+"+&nbsp;results":r+"&nbsp;results"}else this.dom.results.innerHTML=""}},n.prototype._onKeyDown=function(t){var e=t.which;27==e?(this.dom.search.value="",this._onSearch(),t.preventDefault(),t.stopPropagation()):13==e&&(t.ctrlKey?this._onSearch(!0):t.shiftKey?this.previous():this.next(),t.preventDefault(),t.stopPropagation())},n.prototype._onKeyUp=function(t){var e=t.keyCode;27!=e&&13!=e&&this._onDelayedSearch(t)},n.prototype.clear=function(){this.dom.search.value="",this._onSearch()},n.prototype.destroy=function(){this.editor=null,this.dom.container.removeChild(this.dom.table),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()},t.exports=n},function(t,e,n){"use strict";function f(n,t){this.dom={};var g=this,e=this.dom;this.anchor=void 0,this.items=n,this.eventListeners={},this.selection=void 0,this.onClose=t?t.close:void 0;var i=document.createElement("div");i.className="jsoneditor-contextmenu-root",e.root=i;var r=document.createElement("div");r.className="jsoneditor-contextmenu",e.menu=r,i.appendChild(r);var s=document.createElement("ul");s.className="jsoneditor-menu",r.appendChild(s),e.list=s,e.items=[];var o=document.createElement("button");o.type="button",e.focusButton=o;var a=document.createElement("li");a.style.overflow="hidden",a.style.height="0",a.appendChild(o),s.appendChild(a),function d(f,p,t){t.forEach(function(e){if("separator"==e.type){var t=document.createElement("div");t.className="jsoneditor-separator",(i=document.createElement("li")).appendChild(t),f.appendChild(i)}else{var n={},i=document.createElement("li");f.appendChild(i);var r=document.createElement("button");if(r.type="button",r.className=e.className,n.button=r,e.title&&(r.title=e.title),e.click&&(r.onclick=function(t){t.preventDefault(),g.hide(),e.click()}),i.appendChild(r),e.submenu){var s=document.createElement("div");s.className="jsoneditor-icon",r.appendChild(s);var o,a=document.createElement("div");if(a.className="jsoneditor-text"+(e.click?"":" jsoneditor-right-margin"),a.appendChild(document.createTextNode(e.text)),r.appendChild(a),e.click){r.className+=" jsoneditor-default";var l=document.createElement("button");l.type="button",(n.buttonExpand=l).className="jsoneditor-expand",l.innerHTML='<div class="jsoneditor-expand"></div>',i.appendChild(l),e.submenuTitle&&(l.title=e.submenuTitle),o=l}else{var c=document.createElement("div");c.className="jsoneditor-expand",r.appendChild(c),o=r}o.onclick=function(t){t.preventDefault(),g._onExpandItem(n),o.focus()};var h=[];n.subItems=h;var u=document.createElement("ul");(n.ul=u).className="jsoneditor-menu",u.style.height="0",i.appendChild(u),d(u,h,e.submenu)}else r.innerHTML='<div class="jsoneditor-icon"></div><div class="jsoneditor-text">'+m(e.text)+"</div>";p.push(n)}})}(s,this.dom.items,n),this.maxHeight=0,n.forEach(function(t){var e=24*(n.length+(t.submenu?t.submenu.length:0));g.maxHeight=Math.max(g.maxHeight,e)})}var p=n(54),m=n(58).translate;f.prototype._getVisibleButtons=function(){var e=[],n=this;return this.dom.items.forEach(function(t){e.push(t.button),t.buttonExpand&&e.push(t.buttonExpand),t.subItems&&t==n.expandedItem&&t.subItems.forEach(function(t){e.push(t.button),t.buttonExpand&&e.push(t.buttonExpand)})}),e},f.visibleMenu=void 0,f.prototype.show=function(t,e){this.hide();var n=!0,i=t.parentNode,r=t.getBoundingClientRect(),s=i.getBoundingClientRect();if(e){var o=e.getBoundingClientRect();r.bottom+this.maxHeight<o.bottom||r.top-this.maxHeight>o.top&&(n=!1)}var a,l=r.left-s.left,c=r.top-s.top;if(n){var h=t.offsetHeight;this.dom.menu.style.left=l+"px",this.dom.menu.style.top=c+h+"px",this.dom.menu.style.bottom=""}else this.dom.menu.style.left=l+"px",this.dom.menu.style.top=c+"px",this.dom.menu.style.bottom="0px";this.rootNode=(a=t).getRootNode&&a.getRootNode()||window,i.insertBefore(this.dom.root,i.firstChild);var u=this,d=this.dom.list;this.eventListeners.mousedown=p.addEventListener(this.rootNode,"mousedown",function(t){var e=t.target;e==d||u._isChildOf(e,d)||(u.hide(),t.stopPropagation(),t.preventDefault())}),this.eventListeners.keydown=p.addEventListener(this.rootNode,"keydown",function(t){u._onKeyDown(t)}),this.selection=p.getSelection(),this.anchor=t,setTimeout(function(){u.dom.focusButton.focus()},0),f.visibleMenu&&f.visibleMenu.hide(),f.visibleMenu=this},f.prototype.hide=function(){for(var t in this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose&&this.onClose()),this.eventListeners)if(this.eventListeners.hasOwnProperty(t)){var e=this.eventListeners[t];e&&p.removeEventListener(this.rootNode,t,e),delete this.eventListeners[t]}f.visibleMenu==this&&(f.visibleMenu=void 0)},f.prototype._onExpandItem=function(n){var i=this,t=n==this.expandedItem,e=this.expandedItem;if(e&&(e.ul.style.height="0",e.ul.style.padding="",setTimeout(function(){i.expandedItem!=e&&(e.ul.style.display="",p.removeClassName(e.ul.parentNode,"jsoneditor-selected"))},300),this.expandedItem=void 0),!t){var r=n.ul;r.style.display="block",r.clientHeight,setTimeout(function(){if(i.expandedItem==n){for(var t=0,e=0;e<r.childNodes.length;e++)t+=r.childNodes[e].clientHeight;r.style.height=t+"px",r.style.padding="5px 10px"}},0),p.addClassName(r.parentNode,"jsoneditor-selected"),this.expandedItem=n}},f.prototype._onKeyDown=function(t){var e,n,i,r,s=t.target,o=t.which,a=!1;27==o?(this.selection&&p.setSelection(this.selection),this.anchor&&this.anchor.focus(),this.hide(),a=!0):9==o?t.shiftKey?0==(n=(e=this._getVisibleButtons()).indexOf(s))&&(e[e.length-1].focus(),a=!0):(n=(e=this._getVisibleButtons()).indexOf(s))==e.length-1&&(e[0].focus(),a=!0):37==o?("jsoneditor-expand"==s.className&&(n=(e=this._getVisibleButtons()).indexOf(s),(i=e[n-1])&&i.focus()),a=!0):38==o?(n=(e=this._getVisibleButtons()).indexOf(s),(i=e[n-1])&&"jsoneditor-expand"==i.className&&(i=e[n-2]),i||(i=e[e.length-1]),i&&i.focus(),a=!0):39==o?(n=(e=this._getVisibleButtons()).indexOf(s),(r=e[n+1])&&"jsoneditor-expand"==r.className&&r.focus(),a=!0):40==o&&(n=(e=this._getVisibleButtons()).indexOf(s),(r=e[n+1])&&"jsoneditor-expand"==r.className&&(r=e[n+2]),r||(r=e[0]),r&&(r.focus(),a=!0),a=!0),a&&(t.stopPropagation(),t.preventDefault())},f.prototype._isChildOf=function(t,e){for(var n=t.parentNode;n;){if(n==e)return!0;n=n.parentNode}return!1},t.exports=f},function(t,e){"use strict";var r,n=["en","pt-BR"],s={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",collapseAll:"Collapse all fields",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.'},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de ações (Ctrl+M)",collapseAll:"Fechar todos campos",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",selectNode:"Select a node...",showAll:"mostre tudo",showMore:"mostre mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"Texto",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer último ação (Ctrl+Z)",validationCannotMove:"Não pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo é determinao automaticamente a partir do seu valor e pode ser texto, número, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto contém uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma coleção de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao é determinado através do seu valor, mas sempre retornara um texto.'}},i="undefined"!=typeof navigator?navigator.language||navigator.userLanguage:void 0;(r=n.find(function(t){return t===i}))||(r="en"),t.exports={_locales:n,_defs:s,_lang:r,setLanguage:function(e){if(e){var t=n.find(function(t){return t===e});t?r=t:console.error("Language not found")}},setLanguages:function(t){if(t)for(var e in t){n.find(function(t){return t===e})||n.push(e),s[e]=Object.assign({},s.en,s[e],t[e])}},translate:function(t,e,n){n||(n=r);var i=s[n][t];if(e)for(t in e)i=i.replace("${"+t+"}",e[t]);return i||t}}},function(t,e,n){"use strict";function i(t){t&&(this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",t.appendChild(this.path),this.reset())}var a=n(57),r=n(58).translate;i.prototype.reset=function(){this.path.innerHTML=r("selectNode")},i.prototype.setPath=function(s){var o=this;this.path.innerHTML="",s&&s.length&&s.forEach(function(n,i){var t,e=document.createElement("span");if(e.className="jsoneditor-treepath-element",e.innerText=n.name,e.onclick=function(t){this.selectionCallback&&this.selectionCallback(t)}.bind(o,n),o.path.appendChild(e),n.children.length&&((t=document.createElement("span")).className="jsoneditor-treepath-seperator",t.innerHTML="&#9658;",t.onclick=function(){var e=[];n.children.forEach(function(t){e.push({text:t.name,className:"jsoneditor-type-modes"+(s[i+1]+1&&s[i+1].name===t.name?" jsoneditor-selected":""),click:function(t,e){this.contextMenuCallback&&this.contextMenuCallback(t,e)}.bind(o,n,t.name)})}),new a(e).show(t)},o.path.appendChild(t,o.container)),i===s.length-1){var r=(t||e).getBoundingClientRect().left;o.path.offsetWidth<r&&(o.path.scrollLeft=r)}})},i.prototype.onSectionSelected=function(t){"function"==typeof t&&(this.selectionCallback=t)},i.prototype.onContextMenuItemSelected=function(t){"function"==typeof t&&(this.contextMenuCallback=t)},t.exports=i},function(t,e,n){"use strict";function F(t,e){this.editor=t,this.dom={},this.expanded=!1,e&&e instanceof Object?(this.setField(e.field,e.fieldEditable),this.setValue(e.value,e.type)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=T.debounce(this._onChangeValue.bind(this),F.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=T.debounce(this._onChangeField.bind(this),F.prototype.DEBOUNCE_INTERVAL)}var s=n(61),l=n(62),c=n(57),i=n(63),r=n(64),h=n(65),u=n(67),T=n(54),d=n(58).translate,f=document.body;F.prototype.DEBOUNCE_INTERVAL=150,F.prototype.MAX_SEARCH_RESULTS=999,F.prototype.visibleChilds=F.prototype.MAX_VISIBLE_CHILDS=100,F.prototype._updateEditability=function(){if(this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,("tree"===this.editor.options.mode||"form"===this.editor.options.mode)&&"function"==typeof this.editor.options.onEditable)){var t=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()});"boolean"==typeof t?(this.editable.field=t,this.editable.value=t):("boolean"==typeof t.field&&(this.editable.field=t.field),"boolean"==typeof t.value&&(this.editable.value=t.value))}},F.prototype.getPath=function(){for(var t=this,e=[];t;){var n=t.getName();void 0!==n&&e.unshift(n),t=t.parent}return e},F.prototype.getName=function(){return this.parent?"array"!=this.parent.type?this.field:this.index:void 0},F.prototype.findNodeByPath=function(t){if(t){if(0==t.length)return this;if(t.length&&this.childs&&this.childs.length)for(var e=0;e<this.childs.length;++e)if(""+t[0]==""+this.childs[e].getName())return this.childs[e].findNodeByPath(t.slice(1))}},F.prototype.serialize=function(){return{value:this.getValue(),path:this.getPath()}},F.prototype.findNode=function(t){for(var e=T.parsePath(t),n=this;n&&0<e.length;){var i=e.shift();if("number"==typeof i){if("array"!==n.type)throw new Error("Cannot get child node at index "+i+": node is no array");n=n.childs[i]}else{if("object"!==n.type)throw new Error("Cannot get child node "+i+": node is no object");n=n.childs.filter(function(t){return t.field===i})[0]}}return n},F.prototype.findParents=function(){for(var t=[],e=this.parent;e;)t.unshift(e),e=e.parent;return t},F.prototype.setError=function(t,e){this.error=t,this.errorChild=e,this.dom&&this.dom.tr&&this.updateError()},F.prototype.updateError=function(){var t=this.error,e=this.dom.tdError;if(t&&this.dom&&this.dom.tr){e||(e=document.createElement("td"),this.dom.tdError=e,this.dom.tdValue.parentNode.appendChild(e));var s=document.createElement("div");s.className="jsoneditor-popover jsoneditor-right",s.appendChild(document.createTextNode(t.message));var n=document.createElement("button");n.type="button",n.className="jsoneditor-schema-error",n.appendChild(s),n.onmouseover=n.onfocus=function(){for(var t=["right","above","below","left"],e=0;e<t.length;e++){var n=t[e];s.className="jsoneditor-popover jsoneditor-"+n;var i=this.editor.content.getBoundingClientRect(),r=s.getBoundingClientRect();if(T.insideRect(i,r,20))break}}.bind(this);var i=this.errorChild;for(i&&(n.onclick=function(){i.findParents().forEach(function(t){t.expand(!1)}),i.scrollTo(function(){i.focus()})});e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n)}else e&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)},F.prototype.getIndex=function(){return this.parent?this.parent.childs.indexOf(this):-1},F.prototype.setParent=function(t){this.parent=t},F.prototype.setField=function(t,e){this.field=t,this.previousField=t,this.fieldEditable=!0===e},F.prototype.getField=function(){return void 0===this.field&&this._getDomField(),this.field},F.prototype.setValue=function(t,e){var n,i,r,s=this.childs;if(s)for(;s.length;)this.removeChild(s[0],!1);if(this.type=this._getType(t),e&&e!=this.type){if("string"!=e||"auto"!=this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+e+'"');this.type=e}if("array"==this.type){this.childs=[];for(var o=0,a=t.length;o<a;o++)void 0===(n=t[o])||n instanceof Function||(i=new F(this.editor,{value:n}),r=o<this.MAX_VISIBLE_CHILDS,this.appendChild(i,r,!1));this.value=""}else if("object"==this.type){for(var l in this.childs=[],o=0,t)t.hasOwnProperty(l)&&(void 0===(n=t[l])||n instanceof Function||(i=new F(this.editor,{field:l,value:n}),r=o<this.MAX_VISIBLE_CHILDS,this.appendChild(i,r,!1)),o++);!(this.value="")===this.editor.options.sortObjectKeys&&this.sort([],"asc")}else this.childs=void 0,this.value=t;this.updateDom({updateIndexes:!0}),this.previousValue=this.value},F.prototype.getValue=function(){if("array"==this.type){var e=[];return this.childs.forEach(function(t){e.push(t.getValue())}),e}if("object"==this.type){var n={};return this.childs.forEach(function(t){n[t.getField()]=t.getValue()}),n}return void 0===this.value&&this._getDomValue(),this.value},F.prototype.getLevel=function(){return this.parent?this.parent.getLevel()+1:0},F.prototype.getNodePath=function(){var t=this.parent?this.parent.getNodePath():[];return t.push(this),t},F.prototype.clone=function(){var n=new F(this.editor);if(n.type=this.type,n.field=this.field,n.fieldInnerText=this.fieldInnerText,n.fieldEditable=this.fieldEditable,n.value=this.value,n.valueInnerText=this.valueInnerText,n.expanded=this.expanded,n.visibleChilds=this.visibleChilds,this.childs){var i=[];this.childs.forEach(function(t){var e=t.clone();e.setParent(n),i.push(e)}),n.childs=i}else n.childs=void 0;return n},F.prototype.expand=function(e){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-expanded"),this.showChilds(),!1!==e&&this.childs.forEach(function(t){t.expand(e)}))},F.prototype.collapse=function(e){this.childs&&(this.hideChilds(),!1!==e&&this.childs.forEach(function(t){t.collapse(e)}),this.dom.expand&&(this.dom.expand.className="jsoneditor-collapsed"),this.expanded=!1)},F.prototype.showChilds=function(){if(this.childs&&this.expanded){var t=this.dom.tr,e=t?t.parentNode:void 0;if(e){var n=this.getAppendDom();if(!n.parentNode)(r=t.nextSibling)?e.insertBefore(n,r):e.appendChild(n);for(var i=Math.min(this.childs.length,this.visibleChilds),r=this._getNextTr(),s=0;s<i;s++){var o=this.childs[s];o.getDom().parentNode||e.insertBefore(o.getDom(),r),o.showChilds()}var a=this.getShowMoreDom();r=this._getNextTr();a.parentNode||e.insertBefore(a,r),this.showMore.updateDom()}}},F.prototype._getNextTr=function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0},F.prototype.hide=function(t){var e=this.dom.tr,n=e?e.parentNode:void 0;n&&n.removeChild(e),this.hideChilds(t)},F.prototype.hideChilds=function(t){if(this.childs&&this.expanded){var e=this.getAppendDom();e.parentNode&&e.parentNode.removeChild(e),this.childs.forEach(function(t){t.hide()});var n=this.getShowMoreDom();n.parentNode&&n.parentNode.removeChild(n),t&&!t.resetVisibleChilds||delete this.visibleChilds}},F.prototype.expandTo=function(){for(var t=this.parent;t;)t.expanded||t.expand(),t=t.parent},F.prototype.appendChild=function(t,e,n){if(this._hasChilds()){if(t.setParent(this),t.fieldEditable="object"==this.type,"array"==this.type&&(t.index=this.childs.length),this.childs.push(t),this.expanded&&!1!==e){var i=t.getDom(),r=this._getNextTr(),s=r?r.parentNode:void 0;r&&s&&s.insertBefore(i,r),t.showChilds(),this.visibleChilds++}!1!==n&&(this.updateDom({updateIndexes:!0}),t.updateDom({recurse:!0}))}},F.prototype.moveBefore=function(t,e){if(this._hasChilds()){var n=this.dom.tr?this.dom.tr.parentNode:void 0;if(n){var i=document.createElement("tr");i.style.height=n.clientHeight+"px",n.appendChild(i)}if(t.parent&&t.parent.removeChild(t),e instanceof D)if(this.childs.length+1>this.visibleChilds){var r=this.childs[this.visibleChilds-1];this.insertBefore(t,r)}else this.appendChild(t);else this.insertBefore(t,e);n&&n.removeChild(i)}},F.prototype.moveTo=function(t,e){t.parent==this&&this.childs.indexOf(t)<e&&e++;var n=this.childs[e]||this.append;this.moveBefore(t,n)},F.prototype.insertBefore=function(t,e){if(this._hasChilds()){if(this.visibleChilds++,e==this.append)t.setParent(this),t.fieldEditable="object"==this.type,this.childs.push(t);else{var n=this.childs.indexOf(e);if(-1==n)throw new Error("Node not found");t.setParent(this),t.fieldEditable="object"==this.type,this.childs.splice(n,0,t)}if(this.expanded){var i=t.getDom(),r=e.getDom(),s=r?r.parentNode:void 0;r&&s&&s.insertBefore(i,r),t.showChilds(),this.showChilds()}this.updateDom({updateIndexes:!0}),t.updateDom({recurse:!0})}},F.prototype.insertAfter=function(t,e){if(this._hasChilds()){var n=this.childs.indexOf(e),i=this.childs[n+1];i?this.insertBefore(t,i):this.appendChild(t)}},F.prototype.search=function(e,n){Array.isArray(n)||(n=[]);var t=e?e.toLowerCase():void 0;if(delete this.searchField,delete this.searchValue,void 0!==this.field&&n.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.field).toLowerCase().indexOf(t)&&(this.searchField=!0,n.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds())this.childs&&this.childs.forEach(function(t){t.search(e,n)});else if(void 0!==this.value&&n.length<=this.MAX_SEARCH_RESULTS){-1!==String(this.value).toLowerCase().indexOf(t)&&(this.searchValue=!0,n.push({node:this,elem:"value"})),this._updateDomValue()}return n},F.prototype.scrollTo=function(t){this.expandPathToNode(),this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,t)},F.prototype.expandPathToNode=function(){for(var t=this;t&&t.parent;){for(var e="array"===t.parent.type?t.index:t.parent.childs.indexOf(t);t.parent.visibleChilds<e+1;)t.parent.visibleChilds+=F.prototype.MAX_VISIBLE_CHILDS;t.parent.expand(!1),t=t.parent}},F.focusElement=void 0,F.prototype.focus=function(t){if(F.focusElement=t,this.dom.tr&&this.dom.tr.parentNode){var e=this.dom;switch(t){case"drag":e.drag?e.drag.focus():e.menu.focus();break;case"menu":e.menu.focus();break;case"expand":this._hasChilds()?e.expand.focus():e.field&&this.fieldEditable?(e.field.focus(),T.selectContentEditable(e.field)):e.value&&!this._hasChilds()?(e.value.focus(),T.selectContentEditable(e.value)):e.menu.focus();break;case"field":e.field&&this.fieldEditable?(e.field.focus(),T.selectContentEditable(e.field)):e.value&&!this._hasChilds()?(e.value.focus(),T.selectContentEditable(e.value)):this._hasChilds()?e.expand.focus():e.menu.focus();break;case"value":default:e.select?e.select.focus():e.value&&!this._hasChilds()?(e.value.focus(),T.selectContentEditable(e.value)):e.field&&this.fieldEditable?(e.field.focus(),T.selectContentEditable(e.field)):this._hasChilds()?e.expand.focus():e.menu.focus()}}},F.select=function(t){setTimeout(function(){T.selectContentEditable(t)},0)},F.prototype.blur=function(){this._getDomValue(!1),this._getDomField(!1)},F.prototype.containsNode=function(t){if(this==t)return!0;var e=this.childs;if(e)for(var n=0,i=e.length;n<i;n++)if(e[n].containsNode(t))return!0;return!1},F.prototype.removeChild=function(t,e){if(this.childs){var n=this.childs.indexOf(t);if(-1!==n){n<this.visibleChilds&&this.expanded&&this.visibleChilds--,t.hide(),delete t.searchField,delete t.searchValue;var i=this.childs.splice(n,1)[0];return i.parent=null,!1!==e&&this.updateDom({updateIndexes:!0}),i}}},F.prototype._remove=function(t){this.removeChild(t)},F.prototype.changeType=function(t){var e=this.type;if(e!=t){if("string"!=t&&"auto"!=t||"string"!=e&&"auto"!=e){var n,i=this.dom.tr?this.dom.tr.parentNode:void 0,r=(n=this.expanded?this.getAppendDom():this.getDom())&&n.parentNode?n.nextSibling:void 0;this.hide({resetVisibleChilds:!1}),this.clearDom(),"object"==(this.type=t)?(this.childs||(this.childs=[]),this.childs.forEach(function(t,e){t.clearDom(),delete t.index,t.fieldEditable=!0,null==t.field&&(t.field="")}),"string"!=e&&"auto"!=e||(this.expanded=!0)):"array"==t?(this.childs||(this.childs=[]),this.childs.forEach(function(t,e){t.clearDom(),t.fieldEditable=!1,t.index=e}),"string"!=e&&"auto"!=e||(this.expanded=!0)):this.expanded=!1,i&&(r?i.insertBefore(this.getDom(),r):i.appendChild(this.getDom())),this.showChilds()}else this.type=t;"auto"!=t&&"string"!=t||(this.value="string"==t?String(this.value):this._stringCast(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0})}},F.prototype._getDomValue=function(t){if(this.dom.value&&"array"!=this.type&&"object"!=this.type&&(this.valueInnerText=T.getInnerText(this.dom.value)),null!=this.valueInnerText)try{var e;if("string"==this.type)e=this._unescapeHTML(this.valueInnerText);else{var n=this._unescapeHTML(this.valueInnerText);e=this._stringCast(n)}e!==this.value&&(this.value=e,this._debouncedOnChangeValue())}catch(e){if(!(this.value=void 0)!==t)throw e}},F.prototype._onChangeValue=function(){var t=this.editor.getDomSelection();if(t.range){var e=T.textDiff(String(this.value),String(this.previousValue));t.range.startOffset=e.start,t.range.endOffset=e.end}var n=this.editor.getDomSelection();if(n.range){var i=T.textDiff(String(this.previousValue),String(this.value));n.range.startOffset=i.start,n.range.endOffset=i.end}this.editor._onAction("editValue",{node:this,oldValue:this.previousValue,newValue:this.value,oldSelection:t,newSelection:n}),this.previousValue=this.value},F.prototype._onChangeField=function(){var t=this.editor.getDomSelection(),e=this.previousField||"";if(t.range){var n=T.textDiff(this.field,e);t.range.startOffset=n.start,t.range.endOffset=n.end}var i=this.editor.getDomSelection();if(i.range){var r=T.textDiff(e,this.field);i.range.startOffset=r.start,i.range.endOffset=r.end}this.editor._onAction("editField",{node:this,oldValue:this.previousField,newValue:this.field,oldSelection:t,newSelection:i}),this.previousField=this.field},F.prototype._updateDomValue=function(){var t=this.dom.value;if(t){var e=["jsoneditor-value"],n=this.value,i="auto"==this.type?T.type(n):this.type,r="string"==i&&T.isUrl(n);if(e.push("jsoneditor-"+i),r&&e.push("jsoneditor-url"),""==String(this.value)&&"array"!=this.type&&"object"!=this.type&&e.push("jsoneditor-empty"),this.searchValueActive&&e.push("jsoneditor-highlight-active"),this.searchValue&&e.push("jsoneditor-highlight"),t.className=e.join(" "),"array"==i||"object"==i){var s=this.childs?this.childs.length:0;t.title=this.type+" containing "+s+" items"}else r&&this.editable.value?t.title=d("openUrl"):t.title="";if("boolean"===i&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,this.dom.select.option=document.createElement("option"),this.dom.select.option.value="",this.dom.select.option.innerHTML="--",this.dom.select.appendChild(this.dom.select.option);for(var o=0;o<this.enum.length;o++)this.dom.select.option=document.createElement("option"),this.dom.select.option.value=this.enum[o],this.dom.select.option.innerHTML=this.enum[o],this.dom.select.option.value==this.value&&(this.dom.select.option.selected=!0),this.dom.select.appendChild(this.dom.select.option);this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}!this.schema||this.schema.hasOwnProperty("oneOf")||this.schema.hasOwnProperty("anyOf")||this.schema.hasOwnProperty("allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.innerHTML="")}else this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML);T.stripFormatting(t)}},F.prototype._updateDomField=function(){var t=this.dom.field;t&&(""==String(this.field)&&"array"!=this.parent.type?T.addClassName(t,"jsoneditor-empty"):T.removeClassName(t,"jsoneditor-empty"),this.searchFieldActive?T.addClassName(t,"jsoneditor-highlight-active"):T.removeClassName(t,"jsoneditor-highlight-active"),this.searchField?T.addClassName(t,"jsoneditor-highlight"):T.removeClassName(t,"jsoneditor-highlight"),T.stripFormatting(t))},F.prototype._getDomField=function(t){if(this.dom.field&&this.fieldEditable&&(this.fieldInnerText=T.getInnerText(this.dom.field)),null!=this.fieldInnerText)try{var e=this._unescapeHTML(this.fieldInnerText);e!==this.field&&(this.field=e,this._debouncedOnChangeField())}catch(e){if(!(this.field=void 0)!==t)throw e}},F.prototype.validate=function(){var t=[];if("object"===this.type){for(var e={},n=[],i=0;i<this.childs.length;i++){var r=this.childs[i];e.hasOwnProperty(r.field)&&n.push(r.field),e[r.field]=!0}0<n.length&&(t=this.childs.filter(function(t){return-1!==n.indexOf(t.field)}).map(function(t){return{node:t,error:{message:d("duplicateKey")+' "'+t.field+'"'}}}))}if(this.childs)for(i=0;i<this.childs.length;i++){var s=this.childs[i].validate();0<s.length&&(t=t.concat(s))}return t},F.prototype.clearDom=function(){this.dom={}},F.prototype.getDom=function(){var t=this.dom;if(t.tr)return t.tr;if(this._updateEditability(),t.tr=document.createElement("tr"),"tree"===(t.tr.node=this).editor.options.mode){var e=document.createElement("td");if(this.editable.field&&this.parent){var n=document.createElement("button");n.type="button",(t.drag=n).className="jsoneditor-dragarea",n.title=d("drag"),e.appendChild(n)}t.tr.appendChild(e);var i=document.createElement("td"),r=document.createElement("button");r.type="button",(t.menu=r).className="jsoneditor-contextmenu",r.title=d("actionsMenu"),i.appendChild(t.menu),t.tr.appendChild(i)}var s=document.createElement("td");return t.tr.appendChild(s),t.tree=this._createDomTree(),s.appendChild(t.tree),this.updateDom({updateIndexes:!0}),t.tr},F.prototype.isVisible=function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1},F.onDragStart=function(e,t){if(!Array.isArray(e))return F.onDragStart([e],t);if(0!==e.length){var n=e[0],i=e[e.length-1],r=F.getNodeFromTarget(t.target),s=i.nextSibling(),o=n.editor,a=T.getAbsoluteTop(r.dom.tr)-T.getAbsoluteTop(n.dom.tr);o.mousemove||(o.mousemove=T.addEventListener(window,"mousemove",function(t){F.onDrag(e,t)})),o.mouseup||(o.mouseup=T.addEventListener(window,"mouseup",function(t){F.onDragEnd(e,t)})),o.highlighter.lock(),o.drag={oldCursor:document.body.style.cursor,oldSelection:o.getDomSelection(),oldBeforeNode:s,mouseX:t.pageX,offsetY:a,level:n.getLevel()},document.body.style.cursor="move",t.preventDefault()}},F.onDrag=function(t,e){if(!Array.isArray(t))return F.onDrag([t],e);if(0!==t.length){var n,i,r,s,o,a,l,c,h,u,d,f,p,g,m=t[0].editor,v=e.pageY-m.drag.offsetY,y=e.pageX,b=!1,_=t[0];if(n=_.dom.tr,h=T.getAbsoluteTop(n),f=n.offsetHeight,v<h){for(i=n;i=i.previousSibling,l=F.getNodeFromTarget(i),u=i?T.getAbsoluteTop(i):0,i&&v<u;);l&&!l.parent&&(l=void 0),l||(i=(a=n.parentNode.firstChild)?a.nextSibling:void 0,(l=F.getNodeFromTarget(i))==_&&(l=void 0)),l&&l.isVisible()&&((u=(i=l.dom.tr)?T.getAbsoluteTop(i):0)+f<v&&(l=void 0)),l&&(t.forEach(function(t){l.parent.moveBefore(t,l)}),b=!0)}else{var w=t[t.length-1];if(s=(o=w.expanded&&w.append?w.append.getDom():w.dom.tr)?o.nextSibling:void 0){for(d=T.getAbsoluteTop(s),r=s;c=F.getNodeFromTarget(r),r&&(p=r.nextSibling?T.getAbsoluteTop(r.nextSibling):0,g=r?p-d:0,c&&c.parent.childs.length==t.length&&c.parent.childs[t.length-1]==w&&(h+=27),r=r.nextSibling),r&&h+g<v;);if(c&&c.parent){var x=y-m.drag.mouseX,A=Math.round(x/24/2),C=m.drag.level+A,E=c.getLevel();for(i=c.dom.tr&&c.dom.tr.previousSibling;E<C&&i;){if(l=F.getNodeFromTarget(i),t.some(function(t){return t===l||l.isDescendantOf(t)}));else{if(!(l instanceof D))break;var k=l.parent.childs;if(k.length==t.length&&k[t.length-1]==w)break;E=(c=F.getNodeFromTarget(i)).getLevel()}i=i.previousSibling}c instanceof D&&!c.isVisible()&&c.parent.showMore.isVisible()&&(c=c._nextNode()),c&&c.dom.tr&&o.nextSibling!=c.dom.tr&&(t.forEach(function(t){c.parent.moveBefore(t,c)}),b=!0)}}}b&&(m.drag.mouseX=y,m.drag.level=_.getLevel()),m.startAutoScroll(v),e.preventDefault()}},F.onDragEnd=function(t,e){if(!Array.isArray(t))return F.onDrag([t],e);if(0!==t.length){var n=t[0],i=n.editor,r=n.parent,s=r.childs.indexOf(n),o=r.childs[s+t.length]||r.append;t[0]&&t[0].dom.menu.focus();var a={nodes:t,oldSelection:i.drag.oldSelection,newSelection:i.getDomSelection(),oldBeforeNode:i.drag.oldBeforeNode,newBeforeNode:o};a.oldBeforeNode!=a.newBeforeNode&&i._onAction("moveNodes",a),document.body.style.cursor=i.drag.oldCursor,i.highlighter.unlock(),t.forEach(function(t){e.target!==t.dom.drag&&e.target!==t.dom.menu&&i.highlighter.unhighlight()}),delete i.drag,i.mousemove&&(T.removeEventListener(window,"mousemove",i.mousemove),delete i.mousemove),i.mouseup&&(T.removeEventListener(window,"mouseup",i.mouseup),delete i.mouseup),i.stopAutoScroll(),e.preventDefault()}},F.prototype.isDescendantOf=function(t){for(var e=this.parent;e;){if(e==t)return!0;e=e.parent}return!1},F.prototype._createDomField=function(){return document.createElement("div")},F.prototype.setHighlight=function(e){this.dom.tr&&(e?T.addClassName(this.dom.tr,"jsoneditor-highlight"):T.removeClassName(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(e),this.childs&&this.childs.forEach(function(t){t.setHighlight(e)}))},F.prototype.setSelected=function(e,t){this.selected=e,this.dom.tr&&(e?T.addClassName(this.dom.tr,"jsoneditor-selected"):T.removeClassName(this.dom.tr,"jsoneditor-selected"),t?T.addClassName(this.dom.tr,"jsoneditor-first"):T.removeClassName(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(e),this.showMore&&this.showMore.setSelected(e),this.childs&&this.childs.forEach(function(t){t.setSelected(e)}))},F.prototype.updateValue=function(t){this.value=t,this.updateDom()},F.prototype.updateField=function(t){this.field=t,this.updateDom()},F.prototype.updateDom=function(e){var t=this.dom.tree;t&&(t.style.marginLeft=24*this.getLevel()+"px");var n,i=this.dom.field;i&&(this.fieldEditable?(i.contentEditable=this.editable.field,i.spellcheck=!1,i.className="jsoneditor-field"):i.className="jsoneditor-readonly",n=null!=this.index?this.index:null!=this.field?this.field:this._hasChilds()?this.type:"",i.innerHTML=this._escapeHTML(n),this._updateSchema());var r=this.dom.value;if(r){var s=this.childs?this.childs.length:0;"array"==this.type?(r.innerHTML="["+s+"]",T.addClassName(this.dom.tr,"jsoneditor-expandable")):"object"==this.type?(r.innerHTML="{"+s+"}",T.addClassName(this.dom.tr,"jsoneditor-expandable")):(r.innerHTML=this._escapeHTML(this.value),T.removeClassName(this.dom.tr,"jsoneditor-expandable"))}this._updateDomField(),this._updateDomValue(),e&&!0===e.updateIndexes&&this._updateDomIndexes(),e&&!0===e.recurse&&this.childs&&this.childs.forEach(function(t){t.updateDom(e)}),this.error&&this.updateError(),this.append&&this.append.updateDom(),this.showMore&&this.showMore.updateDom()},F.prototype._updateSchema=function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?F._findSchema(this.editor.options.schema,this.getPath()):null,this.schema?this.enum=F._findEnum(this.schema):delete this.enum)},F._findEnum=function(t){if(t.enum)return t.enum;var e=t.oneOf||t.anyOf||t.allOf;if(e){var n=e.filter(function(t){return t.enum});if(0<n.length)return n[0].enum}return null},F._findSchema=function(t,e){var n=t,i=n,r=t.oneOf||t.anyOf||t.allOf;r||(r=[t]);for(var s=0;s<r.length;s++){n=r[s];for(var o=0;o<e.length&&n;o++){var a=e[o];if("string"==typeof a&&n.patternProperties&&o==e.length-1)for(var l in n.patternProperties)i=F._findSchema(n.patternProperties[l],e.slice(o,e.length));else n.items&&n.items.properties?(n=n.items.properties[a])&&(i=F._findSchema(n,e.slice(o,e.length))):"string"==typeof a&&n.properties?(n=n.properties[a]||null)&&(i=F._findSchema(n,e.slice(o,e.length))):"number"==typeof a&&n.items&&(n=n.items)&&(i=F._findSchema(n,e.slice(o,e.length)))}}return i},F.prototype._updateDomIndexes=function(){var t=this.dom.value,e=this.childs;t&&e&&("array"==this.type?e.forEach(function(t,e){t.index=e;var n=t.dom.field;n&&(n.innerHTML=e)}):"object"==this.type&&e.forEach(function(t){null!=t.index&&(delete t.index,null==t.field&&(t.field=""))}))},F.prototype._createDomValue=function(){var t;return"array"==this.type?(t=document.createElement("div")).innerHTML="[...]":"object"==this.type?(t=document.createElement("div")).innerHTML="{...}":(!this.editable.value&&T.isUrl(this.value)?(t=document.createElement("a")).href=this.value:((t=document.createElement("div")).contentEditable=this.editable.value,t.spellcheck=!1),t.innerHTML=this._escapeHTML(this.value)),t},F.prototype._createDomExpandButton=function(){var t=document.createElement("button");return t.type="button",this._hasChilds()?(t.className=this.expanded?"jsoneditor-expanded":"jsoneditor-collapsed",t.title=d("expandTitle")):(t.className="jsoneditor-invisible",t.title=""),t},F.prototype._createDomTree=function(){var t=this.dom,e=document.createElement("table"),n=document.createElement("tbody");e.style.borderCollapse="collapse",e.className="jsoneditor-values",e.appendChild(n);var i=document.createElement("tr");n.appendChild(i);var r=document.createElement("td");r.className="jsoneditor-tree",i.appendChild(r),t.expand=this._createDomExpandButton(),r.appendChild(t.expand),t.tdExpand=r;var s=document.createElement("td");s.className="jsoneditor-tree",i.appendChild(s),t.field=this._createDomField(),s.appendChild(t.field),t.tdField=s;var o=document.createElement("td");o.className="jsoneditor-tree",i.appendChild(o),"object"!=this.type&&"array"!=this.type&&(o.appendChild(document.createTextNode(":")),o.className="jsoneditor-separator"),t.tdSeparator=o;var a=document.createElement("td");return a.className="jsoneditor-tree",i.appendChild(a),t.value=this._createDomValue(),a.appendChild(t.value),t.tdValue=a,e},F.prototype.onEvent=function(t){var e=t.type,n=t.target||t.srcElement,i=this.dom,r=this,s=this._hasChilds();if(n!=i.drag&&n!=i.menu||("mouseover"==e?this.editor.highlighter.highlight(this):"mouseout"==e&&this.editor.highlighter.unhighlight()),"click"==e&&n==i.menu){var o=r.editor.highlighter;o.highlight(r),o.lock(),T.addClassName(i.menu,"jsoneditor-selected"),this.showContextMenu(i.menu,function(){T.removeClassName(i.menu,"jsoneditor-selected"),o.unlock(),o.unhighlight()})}if("click"==e&&(n==i.expand||("view"===r.editor.options.mode||"form"===r.editor.options.mode)&&"DIV"===n.nodeName)&&s){var a=t.ctrlKey;this._onExpand(a)}"change"==e&&n==i.checkbox&&(this.dom.value.innerHTML=!this.value,this._getDomValue()),"change"==e&&n==i.select&&(this.dom.value.innerHTML=i.select.value,this._getDomValue(),this._updateDomValue());var l=i.value;if(n==l)switch(e){case"blur":case"change":this._getDomValue(!0),this._updateDomValue(),this.value&&(l.innerHTML=this._escapeHTML(this.value));break;case"input":this._getDomValue(!0),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":t.ctrlKey&&this.editable.value&&T.isUrl(this.value)&&(t.preventDefault(),window.open(this.value,"_blank"));break;case"keyup":this._getDomValue(!0),this._updateDomValue();break;case"cut":case"paste":setTimeout(function(){r._getDomValue(!0),r._updateDomValue()},1)}var c=i.field;if(n==c)switch(e){case"blur":case"change":this._getDomField(!0),this._updateDomField(),this.field&&(c.innerHTML=this._escapeHTML(this.field));break;case"input":this._getDomField(!0),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField(!0),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){r._getDomField(!0),r._updateDomField()},1)}var h=i.tree;h&&n==h.parentNode&&"click"==e&&!t.hasMoved&&((null!=t.offsetX?t.offsetX<24*(this.getLevel()+1):t.pageX<T.getAbsoluteLeft(i.tdSeparator))||s?c&&(T.setEndOfContentEditable(c),c.focus()):l&&!this.enum&&(T.setEndOfContentEditable(l),l.focus())),(n!=i.tdExpand||s)&&n!=i.tdField&&n!=i.tdSeparator||"click"!=e||t.hasMoved||c&&(T.setEndOfContentEditable(c),c.focus()),"keydown"==e&&this.onKeyDown(t)},F.prototype.onKeyDown=function(t){var e,n,i,r,s,o,a,l,c=t.which||t.keyCode,h=t.target||t.srcElement,u=t.ctrlKey,d=t.shiftKey,f=t.altKey,p=!1,g="tree"===this.editor.options.mode,m=0<this.editor.multiselection.nodes.length?this.editor.multiselection.nodes:[this],v=m[0],y=m[m.length-1];if(13==c){if(h==this.dom.value)this.editable.value&&!t.ctrlKey||T.isUrl(this.value)&&(window.open(this.value,"_blank"),p=!0);else if(h==this.dom.expand){if(this._hasChilds()){var b=t.ctrlKey;this._onExpand(b),h.focus(),p=!0}}}else if(68==c)u&&g&&(F.onDuplicate(m),p=!0);else if(69==c)u&&(this._onExpand(d),h.focus(),p=!0);else if(77==c&&g)u&&(this.showContextMenu(h),p=!0);else if(46==c&&g)u&&(F.onRemove(m),p=!0);else if(45==c&&g)u&&!d?(this._onInsertBefore(),p=!0):u&&d&&(this._onInsertAfter(),p=!0);else if(35==c){if(f){var _=this._lastNode();_&&_.focus(F.focusElement||this._getElementName(h)),p=!0}}else if(36==c){if(f){var w=this._firstNode();w&&w.focus(F.focusElement||this._getElementName(h)),p=!0}}else if(37==c){if(f&&!d){var x=this._previousElement(h);x&&this.focus(this._getElementName(x)),p=!0}else if(f&&d&&g){if(y.expanded){var A=y.getAppendDom();i=A?A.nextSibling:void 0}else{var C=y.getDom();i=C.nextSibling}i&&(n=F.getNodeFromTarget(i),r=i.nextSibling,S=F.getNodeFromTarget(r),n&&n instanceof D&&1!=y.parent.childs.length&&S&&S.parent&&(s=this.editor.getDomSelection(),o=y.nextSibling(),m.forEach(function(t){S.parent.moveBefore(t,S)}),this.focus(F.focusElement||this._getElementName(h)),this.editor._onAction("moveNodes",{nodes:m,oldBeforeNode:o,newBeforeNode:S,oldSelection:s,newSelection:this.editor.getDomSelection()})))}}else if(38==c)f&&!d?((e=this._previousNode())&&(this.editor.deselect(!0),e.focus(F.focusElement||this._getElementName(h))),p=!0):!f&&u&&d&&g?((e=this._previousNode())&&((l=this.editor.multiselection).start=l.start||this,l.end=e,a=this.editor._findTopLevelNodes(l.start,l.end),this.editor.select(a),e.focus("field")),p=!0):f&&d&&g&&((e=v._previousNode())&&e.parent&&(s=this.editor.getDomSelection(),o=y.nextSibling(),m.forEach(function(t){e.parent.moveBefore(t,e)}),this.focus(F.focusElement||this._getElementName(h)),this.editor._onAction("moveNodes",{nodes:m,oldBeforeNode:o,newBeforeNode:e,oldSelection:s,newSelection:this.editor.getDomSelection()})),p=!0);else if(39==c){if(f&&!d){var E=this._nextElement(h);E&&this.focus(this._getElementName(E)),p=!0}else if(f&&d&&g){var k=(C=v.getDom()).previousSibling;k&&(e=F.getNodeFromTarget(k))&&e.parent&&!e.isVisible()&&(s=this.editor.getDomSelection(),o=y.nextSibling(),m.forEach(function(t){e.parent.moveBefore(t,e)}),this.focus(F.focusElement||this._getElementName(h)),this.editor._onAction("moveNodes",{nodes:m,oldBeforeNode:o,newBeforeNode:e,oldSelection:s,newSelection:this.editor.getDomSelection()}))}}else if(40==c)if(f&&!d)(n=this._nextNode())&&(this.editor.deselect(!0),n.focus(F.focusElement||this._getElementName(h))),p=!0;else if(!f&&u&&d&&g)(n=this._nextNode())&&((l=this.editor.multiselection).start=l.start||this,l.end=n,a=this.editor._findTopLevelNodes(l.start,l.end),this.editor.select(a),n.focus("field")),p=!0;else if(f&&d&&g){(n=y.expanded?y.append?y.append._nextNode():void 0:y._nextNode())&&!n.isVisible()&&(n=n.parent.showMore),n&&n instanceof D&&(n=y);var S=n&&(n._nextNode()||n.parent.append);S&&S.parent&&(s=this.editor.getDomSelection(),o=y.nextSibling(),m.forEach(function(t){S.parent.moveBefore(t,S)}),this.focus(F.focusElement||this._getElementName(h)),this.editor._onAction("moveNodes",{nodes:m,oldBeforeNode:o,newBeforeNode:S,oldSelection:s,newSelection:this.editor.getDomSelection()})),p=!0}p&&(t.preventDefault(),t.stopPropagation())},F.prototype._onExpand=function(t){if(t){var e=this.dom.tr.parentNode,n=e.parentNode,i=n.scrollTop;n.removeChild(e)}this.expanded?this.collapse(t):this.expand(t),t&&(n.appendChild(e),n.scrollTop=i)},F.onRemove=function(t){if(!Array.isArray(t))return F.onRemove([t]);if(t&&0<t.length){var e=t[0],n=e.parent,i=e.editor,r=e.getIndex();i.highlighter.unhighlight();var s=i.getDomSelection();F.blurNodes(t);var o=i.getDomSelection();t.forEach(function(t){t.parent._remove(t)}),i._onAction("removeNodes",{nodes:t.slice(0),parent:n,index:r,oldSelection:s,newSelection:o})}},F.onDuplicate=function(t){if(!Array.isArray(t))return F.onDuplicate([t]);if(t&&0<t.length){var e=t[t.length-1],n=e.parent,i=e.editor;i.deselect(i.multiselection.nodes);var r=i.getDomSelection(),s=e,o=t.map(function(t){var e=t.clone();return n.insertAfter(e,s),s=e});1===t.length?o[0].focus():i.select(o);var a=i.getDomSelection();i._onAction("duplicateNodes",{afterNode:e,nodes:o,parent:n,oldSelection:r,newSelection:a})}},F.prototype._onInsertBefore=function(t,e,n){var i=this.editor.getDomSelection(),r=new F(this.editor,{field:null!=t?t:"",value:null!=e?e:"",type:n});r.expand(!0),this.parent.insertBefore(r,this),this.editor.highlighter.unhighlight(),r.focus("field");var s=this.editor.getDomSelection();this.editor._onAction("insertBeforeNodes",{nodes:[r],beforeNode:this,parent:this.parent,oldSelection:i,newSelection:s})},F.prototype._onInsertAfter=function(t,e,n){var i=this.editor.getDomSelection(),r=new F(this.editor,{field:null!=t?t:"",value:null!=e?e:"",type:n});r.expand(!0),this.parent.insertAfter(r,this),this.editor.highlighter.unhighlight(),r.focus("field");var s=this.editor.getDomSelection();this.editor._onAction("insertAfterNodes",{nodes:[r],afterNode:this,parent:this.parent,oldSelection:i,newSelection:s})},F.prototype._onAppend=function(t,e,n){var i=this.editor.getDomSelection(),r=new F(this.editor,{field:null!=t?t:"",value:null!=e?e:"",type:n});r.expand(!0),this.parent.appendChild(r),this.editor.highlighter.unhighlight(),r.focus("field");var s=this.editor.getDomSelection();this.editor._onAction("appendNodes",{nodes:[r],parent:this.parent,oldSelection:i,newSelection:s})},F.prototype._onChangeType=function(t){var e=this.type;if(t!=e){var n=this.editor.getDomSelection();this.changeType(t);var i=this.editor.getDomSelection();this.editor._onAction("changeType",{node:this,oldType:e,newType:t,oldSelection:n,newSelection:i})}},F.prototype.sort=function(o,t){if(this._hasChilds()){this.hideChilds();var e=this.childs;this.childs=this.childs.concat();var a="desc"===t?-1:1;"object"===this.type?this.childs.sort(function(t,e){return a*l(t.field,e.field)}):this.childs.sort(function(t,e){var n=t.getNestedChild(o),i=e.getNestedChild(o);if(!n)return a;if(!i)return-a;var r=n.value,s=i.value;return"string"!=typeof r&&"string"!=typeof s?s<r?a:r<s?-a:0:a*l(r,s)}),this._updateDomIndexes(),this.editor._onAction("sort",{node:this,oldChilds:e,newChilds:this.childs}),this.showChilds()}},F.prototype.transform=function(t){if(this._hasChilds()){this.hideChilds();var e=this.type,n=this.childs;this.childs=this.childs.concat();try{var i=this.getValue(),r=s.search(i,t);this.setValue(r),this.editor._onAction("transform",{node:this,oldType:e,newType:this.type,oldValue:i,newValue:r,oldChilds:n,newChilds:this.childs}),this.showChilds()}catch(t){this.showChilds(),this.editor._onError(t)}}},F.prototype.getNestedChild=function(t){for(var e=0,n=this;n&&e<t.length;)n=n.findChildByProperty(t[e]),e++;return n},F.prototype.findChildByProperty=function(e){if("object"===this.type)return this.childs.find(function(t){return t.field===e})},F.prototype.getChildPaths=function(e){var n={};return this._getChildPaths(n,"",e),"array"===this.type&&this.childs.forEach(function(t){t._getChildPaths(n,"",e)}),Object.keys(n).sort()},F.prototype._getChildPaths=function(e,n,i){("auto"===this.type||"string"===this.type||i)&&(e[n||"."]=!0),"object"===this.type&&this.childs.forEach(function(t){t._getChildPaths(e,n+"."+t.field,i)})},F.prototype.getAppendDom=function(){return this.append||(this.append=new D(this.editor),this.append.setParent(this)),this.append.getDom()},F.prototype.getShowMoreDom=function(){return this.showMore||(this.showMore=new o(this.editor,this)),this.showMore.getDom()},F.getNodeFromTarget=function(t){for(;t;){if(t.node)return t.node;t=t.parentNode}},F.blurNodes=function(t){if(Array.isArray(t)){var e=t[0],n=e.parent,i=e.getIndex();n.childs[i+t.length]?n.childs[i+t.length].focus():n.childs[i-1]?n.childs[i-1].focus():n.focus()}else F.blurNodes([t])},F.prototype.nextSibling=function(){var t=this.parent.childs.indexOf(this);return this.parent.childs[t+1]||this.parent.append},F.prototype._previousNode=function(){var t=null,e=this.getDom();if(e&&e.parentNode)for(var n=e;n=n.previousSibling,t=F.getNodeFromTarget(n),n&&t&&t instanceof D&&!t.isVisible(););return t},F.prototype._nextNode=function(){var t=null,e=this.getDom();if(e&&e.parentNode)for(var n=e;n=n.nextSibling,t=F.getNodeFromTarget(n),n&&t&&t instanceof D&&!t.isVisible(););return t},F.prototype._firstNode=function(){var t=null,e=this.getDom();if(e&&e.parentNode){var n=e.parentNode.firstChild;t=F.getNodeFromTarget(n)}return t},F.prototype._lastNode=function(){var t=null,e=this.getDom();if(e&&e.parentNode){var n=e.parentNode.lastChild;for(t=F.getNodeFromTarget(n);n&&t&&!t.isVisible();)n=n.previousSibling,t=F.getNodeFromTarget(n)}return t},F.prototype._previousElement=function(t){var e=this.dom;switch(t){case e.value:if(this.fieldEditable)return e.field;case e.field:if(this._hasChilds())return e.expand;case e.expand:return e.menu;case e.menu:if(e.drag)return e.drag;default:return null}},F.prototype._nextElement=function(t){var e=this.dom;switch(t){case e.drag:return e.menu;case e.menu:if(this._hasChilds())return e.expand;case e.expand:if(this.fieldEditable)return e.field;case e.field:if(!this._hasChilds())return e.value;default:return null}},F.prototype._getElementName=function(t){var e=this.dom;for(var n in e)if(e.hasOwnProperty(n)&&e[n]==t)return n;return null},F.prototype._hasChilds=function(){return"array"==this.type||"object"==this.type},F.TYPE_TITLES={auto:d("autoType"),object:d("objectType"),array:d("arrayType"),string:d("stringType")},F.prototype.addTemplates=function(e,n){var i=this,t=i.editor.options.templates;if(null!=t){t.length&&e.push({type:"separator"});t.forEach(function(t){e.push({text:t.text,className:t.className||"jsoneditor-type-object",title:t.title,click:n?function(t,e){i._onAppend(t,e)}.bind(this,t.field,t.value):function(t,e){i._onInsertBefore(t,e)}.bind(this,t.field,t.value)})})}},F.prototype.showContextMenu=function(t,e){var n=this,i=F.TYPE_TITLES,r=[];if(this.editable.value&&r.push({text:d("type"),title:d("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:d("auto"),className:"jsoneditor-type-auto"+("auto"==this.type?" jsoneditor-selected":""),title:i.auto,click:function(){n._onChangeType("auto")}},{text:d("array"),className:"jsoneditor-type-array"+("array"==this.type?" jsoneditor-selected":""),title:i.array,click:function(){n._onChangeType("array")}},{text:d("object"),className:"jsoneditor-type-object"+("object"==this.type?" jsoneditor-selected":""),title:i.object,click:function(){n._onChangeType("object")}},{text:d("string"),className:"jsoneditor-type-string"+("string"==this.type?" jsoneditor-selected":""),title:i.string,click:function(){n._onChangeType("string")}}]}),this._hasChilds()&&(r.push({text:d("sort"),title:d("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){var t=n.editor.options.modalAnchor||f;h(n,t)}}),r.push({text:d("transform"),title:d("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){var t=n.editor.options.modalAnchor||f;u(n,t)}})),this.parent&&this.parent._hasChilds()){r.length&&r.push({type:"separator"});var s=n.parent.childs;if(n==s[s.length-1]){var o=[{text:d("auto"),className:"jsoneditor-type-auto",title:i.auto,click:function(){n._onAppend("","","auto")}},{text:d("array"),className:"jsoneditor-type-array",title:i.array,click:function(){n._onAppend("",[])}},{text:d("object"),className:"jsoneditor-type-object",title:i.object,click:function(){n._onAppend("",{})}},{text:d("string"),className:"jsoneditor-type-string",title:i.string,click:function(){n._onAppend("","","string")}}];n.addTemplates(o,!0),r.push({text:d("appendText"),title:d("appendTitle"),submenuTitle:d("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){n._onAppend("","","auto")},submenu:o})}var a=[{text:d("auto"),className:"jsoneditor-type-auto",title:i.auto,click:function(){n._onInsertBefore("","","auto")}},{text:d("array"),className:"jsoneditor-type-array",title:i.array,click:function(){n._onInsertBefore("",[])}},{text:d("object"),className:"jsoneditor-type-object",title:i.object,click:function(){n._onInsertBefore("",{})}},{text:d("string"),className:"jsoneditor-type-string",title:i.string,click:function(){n._onInsertBefore("","","string")}}];n.addTemplates(a,!1),r.push({text:d("insert"),title:d("insertTitle"),submenuTitle:d("insertSub"),className:"jsoneditor-insert",click:function(){n._onInsertBefore("","","auto")},submenu:a}),this.editable.field&&(r.push({text:d("duplicateText"),title:d("duplicateField"),className:"jsoneditor-duplicate",click:function(){F.onDuplicate(n)}}),r.push({text:d("removeText"),title:d("removeField"),className:"jsoneditor-remove",click:function(){F.onRemove(n)}}))}new c(r,{close:e}).show(t,this.editor.content)},F.prototype._getType=function(t){return t instanceof Array?"array":t instanceof Object?"object":"string"==typeof t&&"string"!=typeof this._stringCast(t)?"string":"auto"},F.prototype._stringCast=function(t){var e=t.toLowerCase(),n=Number(t),i=parseFloat(t);return""==t?"":"null"==e?null:"true"==e||"false"!=e&&(isNaN(n)||isNaN(i)?t:n)},F.prototype._escapeHTML=function(t){if("string"!=typeof t)return String(t);var e=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/  /g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),n=JSON.stringify(e),i=n.substring(1,n.length-1);return!0===this.editor.options.escapeUnicode&&(i=T.escapeUnicodeChars(i)),i},F.prototype._unescapeHTML=function(t){var e='"'+this._escapeJSON(t)+'"';return T.parse(e).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")},F.prototype._escapeJSON=function(t){for(var e="",n=0;n<t.length;){var i=t.charAt(n);"\n"==i?e+="\\n":"\\"==i?(e+=i,n++,""!==(i=t.charAt(n))&&-1!='"\\/bfnrtu'.indexOf(i)||(e+="\\"),e+=i):e+='"'==i?'\\"':i,n++}return e};var D=i(F),o=r(F);t.exports=F},function(t,e,n){!function(t){"use strict";function S(t){return null!==t&&"[object Array]"===Object.prototype.toString.call(t)}function F(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function T(t,e){if(t===e)return!0;if(Object.prototype.toString.call(t)!==Object.prototype.toString.call(e))return!1;if(!0===S(t)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!1===T(t[n],e[n]))return!1;return!0}if(!0===F(t)){var i={};for(var r in t)if(hasOwnProperty.call(t,r)){if(!1===T(t[r],e[r]))return!1;i[r]=!0}for(var s in e)if(hasOwnProperty.call(e,s)&&!0!==i[s])return!1;return!0}return!1}function D(t){if(""===t||!1===t||null===t)return!0;if(S(t)&&0===t.length)return!0;if(F(t)){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}return!1}function l(t){return"0"<=t&&t<="9"||"-"===t}function n(){}function o(){}function a(t){this.runtime=t}function c(t){this._interpreter=t,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[u]}]},avg:{_func:this._functionAvg,_signature:[{types:[p]}]},ceil:{_func:this._functionCeil,_signature:[{types:[u]}]},contains:{_func:this._functionContains,_signature:[{types:[d,f]},{types:[s]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[d]},{types:[d]}]},floor:{_func:this._functionFloor,_signature:[{types:[u]}]},length:{_func:this._functionLength,_signature:[{types:[d,f,e]}]},map:{_func:this._functionMap,_signature:[{types:[i]},{types:[f]}]},max:{_func:this._functionMax,_signature:[{types:[p,g]}]},merge:{_func:this._functionMerge,_signature:[{types:[e],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[f]},{types:[i]}]},sum:{_func:this._functionSum,_signature:[{types:[p]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[d]},{types:[d]}]},min:{_func:this._functionMin,_signature:[{types:[p,g]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[f]},{types:[i]}]},type:{_func:this._functionType,_signature:[{types:[s]}]},keys:{_func:this._functionKeys,_signature:[{types:[e]}]},values:{_func:this._functionValues,_signature:[{types:[e]}]},sort:{_func:this._functionSort,_signature:[{types:[g,p]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[f]},{types:[i]}]},join:{_func:this._functionJoin,_signature:[{types:[d]},{types:[g]}]},reverse:{_func:this._functionReverse,_signature:[{types:[d,f]}]},to_array:{_func:this._functionToArray,_signature:[{types:[s]}]},to_string:{_func:this._functionToString,_signature:[{types:[s]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[s]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[s],variadic:!0}]}}}var h;h="function"==typeof String.prototype.trimLeft?function(t){return t.trimLeft()}:function(t){return t.match(/^\s*(.*)/)[1]};var u=0,s=1,d=2,f=3,e=4,i=6,p=8,g=9,m={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},v={"<":!0,">":!0,"=":!0,"!":!0},y={" ":!0,"\t":!0,"\n":!0};n.prototype={tokenize:function(t){var e,n,i,r,s=[];for(this._current=0;this._current<t.length;)if("a"<=(r=t[this._current])&&r<="z"||"A"<=r&&r<="Z"||"_"===r)e=this._current,n=this._consumeUnquotedIdentifier(t),s.push({type:"UnquotedIdentifier",value:n,start:e});else if(void 0!==m[t[this._current]])s.push({type:m[t[this._current]],value:t[this._current],start:this._current}),this._current++;else if(l(t[this._current]))i=this._consumeNumber(t),s.push(i);else if("["===t[this._current])i=this._consumeLBracket(t),s.push(i);else if('"'===t[this._current])e=this._current,n=this._consumeQuotedIdentifier(t),s.push({type:"QuotedIdentifier",value:n,start:e});else if("'"===t[this._current])e=this._current,n=this._consumeRawStringLiteral(t),s.push({type:"Literal",value:n,start:e});else if("`"===t[this._current]){e=this._current;var o=this._consumeLiteral(t);s.push({type:"Literal",value:o,start:e})}else if(void 0!==v[t[this._current]])s.push(this._consumeOperator(t));else if(void 0!==y[t[this._current]])this._current++;else if("&"===t[this._current])e=this._current,this._current++,"&"===t[this._current]?(this._current++,s.push({type:"And",value:"&&",start:e})):s.push({type:"Expref",value:"&",start:e});else{if("|"!==t[this._current]){var a=new Error("Unknown character:"+t[this._current]);throw a.name="LexerError",a}e=this._current,this._current++,"|"===t[this._current]?(this._current++,s.push({type:"Or",value:"||",start:e})):s.push({type:"Pipe",value:"|",start:e})}return s},_consumeUnquotedIdentifier:function(t){var e,n=this._current;for(this._current++;this._current<t.length&&("a"<=(e=t[this._current])&&e<="z"||"A"<=e&&e<="Z"||"0"<=e&&e<="9"||"_"===e);)this._current++;return t.slice(n,this._current)},_consumeQuotedIdentifier:function(t){var e=this._current;this._current++;for(var n=t.length;'"'!==t[this._current]&&this._current<n;){var i=this._current;"\\"!==t[i]||"\\"!==t[i+1]&&'"'!==t[i+1]?i++:i+=2,this._current=i}return this._current++,JSON.parse(t.slice(e,this._current))},_consumeRawStringLiteral:function(t){var e=this._current;this._current++;for(var n=t.length;"'"!==t[this._current]&&this._current<n;){var i=this._current;"\\"!==t[i]||"\\"!==t[i+1]&&"'"!==t[i+1]?i++:i+=2,this._current=i}return this._current++,t.slice(e+1,this._current-1).replace("\\'","'")},_consumeNumber:function(t){var e=this._current;this._current++;for(var n=t.length;l(t[this._current])&&this._current<n;)this._current++;return{type:"Number",value:parseInt(t.slice(e,this._current)),start:e}},_consumeLBracket:function(t){var e=this._current;return this._current++,"?"===t[this._current]?(this._current++,{type:"Filter",value:"[?",start:e}):"]"===t[this._current]?(this._current++,{type:"Flatten",value:"[]",start:e}):{type:"Lbracket",value:"[",start:e}},_consumeOperator:function(t){var e=this._current,n=t[e];return this._current++,"!"===n?"="===t[this._current]?(this._current++,{type:"NE",value:"!=",start:e}):{type:"Not",value:"!",start:e}:"<"===n?"="===t[this._current]?(this._current++,{type:"LTE",value:"<=",start:e}):{type:"LT",value:"<",start:e}:">"===n?"="===t[this._current]?(this._current++,{type:"GTE",value:">=",start:e}):{type:"GT",value:">",start:e}:"="===n&&"="===t[this._current]?(this._current++,{type:"EQ",value:"==",start:e}):void 0},_consumeLiteral:function(t){this._current++;for(var e,n=this._current,i=t.length;"`"!==t[this._current]&&this._current<i;){var r=this._current;"\\"!==t[r]||"\\"!==t[r+1]&&"`"!==t[r+1]?r++:r+=2,this._current=r}var s=h(t.slice(n,this._current));return s=s.replace("\\`","`"),e=this._looksLikeJSON(s)?JSON.parse(s):JSON.parse('"'+s+'"'),this._current++,e},_looksLikeJSON:function(t){if(""===t)return!1;if(0<='[{"'.indexOf(t[0]))return!0;if(0<=["true","false","null"].indexOf(t))return!0;if(!(0<="-0123456789".indexOf(t[0])))return!1;try{return JSON.parse(t),!0}catch(t){return!1}}};var b={EOF:0,UnquotedIdentifier:0,QuotedIdentifier:0,Rbracket:0,Rparen:0,Comma:0,Rbrace:0,Number:0,Current:0,Expref:0,Pipe:1,Or:2,And:3,EQ:5,GT:5,LT:5,GTE:5,LTE:5,NE:5,Flatten:9,Star:20,Filter:21,Dot:40,Not:45,Lbrace:50,Lbracket:55,Lparen:60};o.prototype={parse:function(t){this._loadTokens(t),this.index=0;var e=this.expression(0);if("EOF"!==this._lookahead(0)){var n=this._lookaheadToken(0),i=new Error("Unexpected token type: "+n.type+", value: "+n.value);throw i.name="ParserError",i}return e},_loadTokens:function(t){var e=(new n).tokenize(t);e.push({type:"EOF",value:"",start:t.length}),this.tokens=e},expression:function(t){var e=this._lookaheadToken(0);this._advance();for(var n=this.nud(e),i=this._lookahead(0);t<b[i];)this._advance(),n=this.led(i,n),i=this._lookahead(0);return n},_lookahead:function(t){return this.tokens[this.index+t].type},_lookaheadToken:function(t){return this.tokens[this.index+t]},_advance:function(){this.index++},nud:function(t){var e,n;switch(t.type){case"Literal":return{type:"Literal",value:t.value};case"UnquotedIdentifier":return{type:"Field",name:t.value};case"QuotedIdentifier":var i={type:"Field",name:t.value};if("Lparen"===this._lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return i;case"Not":return{type:"NotExpression",children:[e=this.expression(b.Not)]};case"Star":return e=null,{type:"ValueProjection",children:[{type:"Identity"},e="Rbracket"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(b.Star)]};case"Filter":return this.led(t.type,{type:"Identity"});case"Lbrace":return this._parseMultiselectHash();case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[{type:"Identity"}]},e=this._parseProjectionRHS(b.Flatten)]};case"Lbracket":return"Number"===this._lookahead(0)||"Colon"===this._lookahead(0)?(e=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},e)):"Star"===this._lookahead(0)&&"Rbracket"===this._lookahead(1)?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},e=this._parseProjectionRHS(b.Star)]}):this._parseMultiselectList();case"Current":return{type:"Current"};case"Expref":return{type:"ExpressionReference",children:[n=this.expression(b.Expref)]};case"Lparen":for(var r=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(n={type:"Current"},this._advance()):n=this.expression(0),r.push(n);return this._match("Rparen"),r[0];default:this._errorToken(t)}},led:function(t,e){var n;switch(t){case"Dot":var i=b.Dot;return"Star"!==this._lookahead(0)?{type:"Subexpression",children:[e,n=this._parseDotRHS(i)]}:(this._advance(),{type:"ValueProjection",children:[e,n=this._parseProjectionRHS(i)]});case"Pipe":return{type:"Pipe",children:[e,n=this.expression(b.Pipe)]};case"Or":return{type:"OrExpression",children:[e,n=this.expression(b.Or)]};case"And":return{type:"AndExpression",children:[e,n=this.expression(b.And)]};case"Lparen":for(var r,s=e.name,o=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(r={type:"Current"},this._advance()):r=this.expression(0),"Comma"===this._lookahead(0)&&this._match("Comma"),o.push(r);return this._match("Rparen"),{type:"Function",name:s,children:o};case"Filter":var a=this.expression(0);return this._match("Rbracket"),{type:"FilterProjection",children:[e,n="Flatten"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(b.Filter),a]};case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[e]},this._parseProjectionRHS(b.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(e,t);case"Lbracket":var l=this._lookaheadToken(0);return"Number"===l.type||"Colon"===l.type?(n=this._parseIndexExpression(),this._projectIfSlice(e,n)):(this._match("Star"),this._match("Rbracket"),{type:"Projection",children:[e,n=this._parseProjectionRHS(b.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(t){if(this._lookahead(0)!==t){var e=this._lookaheadToken(0),n=new Error("Expected "+t+", got: "+e.type);throw n.name="ParserError",n}this._advance()},_errorToken:function(t){var e=new Error("Invalid token ("+t.type+'): "'+t.value+'"');throw e.name="ParserError",e},_parseIndexExpression:function(){if("Colon"===this._lookahead(0)||"Colon"===this._lookahead(1))return this._parseSliceExpression();var t={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match("Rbracket"),t},_projectIfSlice:function(t,e){var n={type:"IndexExpression",children:[t,e]};return"Slice"===e.type?{type:"Projection",children:[n,this._parseProjectionRHS(b.Star)]}:n},_parseSliceExpression:function(){for(var t=[null,null,null],e=0,n=this._lookahead(0);"Rbracket"!==n&&e<3;){if("Colon"===n)e++,this._advance();else{if("Number"!==n){var i=this._lookahead(0),r=new Error("Syntax error, unexpected token: "+i.value+"("+i.type+")");throw r.name="Parsererror",r}t[e]=this._lookaheadToken(0).value,this._advance()}n=this._lookahead(0)}return this._match("Rbracket"),{type:"Slice",children:t}},_parseComparator:function(t,e){return{type:"Comparator",name:e,children:[t,this.expression(b[e])]}},_parseDotRHS:function(t){var e=this._lookahead(0);return 0<=["UnquotedIdentifier","QuotedIdentifier","Star"].indexOf(e)?this.expression(t):"Lbracket"===e?(this._match("Lbracket"),this._parseMultiselectList()):"Lbrace"===e?(this._match("Lbrace"),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(t){var e;if(b[this._lookahead(0)]<10)e={type:"Identity"};else if("Lbracket"===this._lookahead(0))e=this.expression(t);else if("Filter"===this._lookahead(0))e=this.expression(t);else{if("Dot"!==this._lookahead(0)){var n=this._lookaheadToken(0),i=new Error("Sytanx error, unexpected token: "+n.value+"("+n.type+")");throw i.name="ParserError",i}this._match("Dot"),e=this._parseDotRHS(t)}return e},_parseMultiselectList:function(){for(var t=[];"Rbracket"!==this._lookahead(0);){var e=this.expression(0);if(t.push(e),"Comma"===this._lookahead(0)&&(this._match("Comma"),"Rbracket"===this._lookahead(0)))throw new Error("Unexpected token Rbracket")}return this._match("Rbracket"),{type:"MultiSelectList",children:t}},_parseMultiselectHash:function(){for(var t,e,n,i=[],r=["UnquotedIdentifier","QuotedIdentifier"];;){if(t=this._lookaheadToken(0),r.indexOf(t.type)<0)throw new Error("Expecting an identifier token, got: "+t.type);if(e=t.value,this._advance(),this._match("Colon"),n={type:"KeyValuePair",name:e,value:this.expression(0)},i.push(n),"Comma"===this._lookahead(0))this._match("Comma");else if("Rbrace"===this._lookahead(0)){this._match("Rbrace");break}}return{type:"MultiSelectHash",children:i}}},a.prototype={search:function(t,e){return this.visit(t,e)},visit:function(t,e){var n,i,r,s,o,a,l,c,h;switch(t.type){case"Field":return null===e?null:F(e)?void 0===(a=e[t.name])?null:a:null;case"Subexpression":for(r=this.visit(t.children[0],e),h=1;h<t.children.length;h++)if(null===(r=this.visit(t.children[1],r)))return null;return r;case"IndexExpression":return l=this.visit(t.children[0],e),this.visit(t.children[1],l);case"Index":if(!S(e))return null;var u=t.value;return u<0&&(u=e.length+u),void 0===(r=e[u])&&(r=null),r;case"Slice":if(!S(e))return null;var d=t.children.slice(0),f=this.computeSliceParams(e.length,d),p=f[0],g=f[1],m=f[2];if(r=[],0<m)for(h=p;h<g;h+=m)r.push(e[h]);else for(h=p;g<h;h+=m)r.push(e[h]);return r;case"Projection":var v=this.visit(t.children[0],e);if(!S(v))return null;for(c=[],h=0;h<v.length;h++)null!==(i=this.visit(t.children[1],v[h]))&&c.push(i);return c;case"ValueProjection":if(!F(v=this.visit(t.children[0],e)))return null;c=[];var y=function(t){for(var e=Object.keys(t),n=[],i=0;i<e.length;i++)n.push(t[e[i]]);return n}(v);for(h=0;h<y.length;h++)null!==(i=this.visit(t.children[1],y[h]))&&c.push(i);return c;case"FilterProjection":if(!S(v=this.visit(t.children[0],e)))return null;var b=[],_=[];for(h=0;h<v.length;h++)D(n=this.visit(t.children[2],v[h]))||b.push(v[h]);for(var w=0;w<b.length;w++)null!==(i=this.visit(t.children[1],b[w]))&&_.push(i);return _;case"Comparator":switch(s=this.visit(t.children[0],e),o=this.visit(t.children[1],e),t.name){case"EQ":r=T(s,o);break;case"NE":r=!T(s,o);break;case"GT":r=o<s;break;case"GTE":r=o<=s;break;case"LT":r=s<o;break;case"LTE":r=s<=o;break;default:throw new Error("Unknown comparator: "+t.name)}return r;case"Flatten":var x=this.visit(t.children[0],e);if(!S(x))return null;var A=[];for(h=0;h<x.length;h++)S(i=x[h])?A.push.apply(A,i):A.push(i);return A;case"Identity":return e;case"MultiSelectList":if(null===e)return null;for(c=[],h=0;h<t.children.length;h++)c.push(this.visit(t.children[h],e));return c;case"MultiSelectHash":if(null===e)return null;var C;for(c={},h=0;h<t.children.length;h++)c[(C=t.children[h]).name]=this.visit(C.value,e);return c;case"OrExpression":return D(n=this.visit(t.children[0],e))&&(n=this.visit(t.children[1],e)),n;case"AndExpression":return!0===D(s=this.visit(t.children[0],e))?s:this.visit(t.children[1],e);case"NotExpression":return D(s=this.visit(t.children[0],e));case"Literal":return t.value;case"Pipe":return l=this.visit(t.children[0],e),this.visit(t.children[1],l);case"Current":return e;case"Function":var E=[];for(h=0;h<t.children.length;h++)E.push(this.visit(t.children[h],e));return this.runtime.callFunction(t.name,E);case"ExpressionReference":var k=t.children[0];return k.jmespathType="Expref",k;default:throw new Error("Unknown node type: "+t.type)}},computeSliceParams:function(t,e){var n=e[0],i=e[1],r=e[2],s=[null,null,null];if(null===r)r=1;else if(0===r){var o=new Error("Invalid slice, step cannot be 0");throw o.name="RuntimeError",o}var a=r<0;return n=null===n?a?t-1:0:this.capSliceRange(t,n,r),i=null===i?a?-1:t:this.capSliceRange(t,i,r),s[0]=n,s[1]=i,s[2]=r,s},capSliceRange:function(t,e,n){return e<0?(e+=t)<0&&(e=n<0?-1:0):t<=e&&(e=n<0?t-1:t),e}},c.prototype={callFunction:function(t,e){var n=this.functionTable[t];if(void 0===n)throw new Error("Unknown function: "+t+"()");return this._validateArgs(t,e,n._signature),n._func.call(this,e)},_validateArgs:function(t,e,n){var i;if(n[n.length-1].variadic){if(e.length<n.length)throw i=1===n.length?" argument":" arguments",new Error("ArgumentError: "+t+"() takes at least"+n.length+i+" but received "+e.length)}else if(e.length!==n.length)throw i=1===n.length?" argument":" arguments",new Error("ArgumentError: "+t+"() takes "+n.length+i+" but received "+e.length);for(var r,s,o,a=0;a<n.length;a++){o=!1,r=n[a].types,s=this._getTypeName(e[a]);for(var l=0;l<r.length;l++)if(this._typeMatches(s,r[l],e[a])){o=!0;break}if(!o)throw new Error("TypeError: "+t+"() expected argument "+(a+1)+" to be type "+r+" but received type "+s+" instead.")}},_typeMatches:function(t,e,n){if(e===s)return!0;if(e!==g&&e!==p&&e!==f)return t===e;if(e===f)return t===f;if(t===f){var i;e===p?i=u:e===g&&(i=d);for(var r=0;r<n.length;r++)if(!this._typeMatches(this._getTypeName(n[r]),i,n[r]))return!1;return!0}},_getTypeName:function(t){switch(Object.prototype.toString.call(t)){case"[object String]":return d;case"[object Number]":return u;case"[object Array]":return f;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return"Expref"===t.jmespathType?i:e}},_functionStartsWith:function(t){return 0===t[0].lastIndexOf(t[1])},_functionEndsWith:function(t){var e=t[0],n=t[1];return-1!==e.indexOf(n,e.length-n.length)},_functionReverse:function(t){if(this._getTypeName(t[0])===d){for(var e=t[0],n="",i=e.length-1;0<=i;i--)n+=e[i];return n}var r=t[0].slice(0);return r.reverse(),r},_functionAbs:function(t){return Math.abs(t[0])},_functionCeil:function(t){return Math.ceil(t[0])},_functionAvg:function(t){for(var e=0,n=t[0],i=0;i<n.length;i++)e+=n[i];return e/n.length},_functionContains:function(t){return 0<=t[0].indexOf(t[1])},_functionFloor:function(t){return Math.floor(t[0])},_functionLength:function(t){return F(t[0])?Object.keys(t[0]).length:t[0].length},_functionMap:function(t){for(var e=[],n=this._interpreter,i=t[0],r=t[1],s=0;s<r.length;s++)e.push(n.visit(i,r[s]));return e},_functionMerge:function(t){for(var e={},n=0;n<t.length;n++){var i=t[n];for(var r in i)e[r]=i[r]}return e},_functionMax:function(t){if(0<t[0].length){if(this._getTypeName(t[0][0])===u)return Math.max.apply(Math,t[0]);for(var e=t[0],n=e[0],i=1;i<e.length;i++)n.localeCompare(e[i])<0&&(n=e[i]);return n}return null},_functionMin:function(t){if(0<t[0].length){if(this._getTypeName(t[0][0])===u)return Math.min.apply(Math,t[0]);for(var e=t[0],n=e[0],i=1;i<e.length;i++)e[i].localeCompare(n)<0&&(n=e[i]);return n}return null},_functionSum:function(t){for(var e=0,n=t[0],i=0;i<n.length;i++)e+=n[i];return e},_functionType:function(t){switch(this._getTypeName(t[0])){case u:return"number";case d:return"string";case f:return"array";case e:return"object";case 5:return"boolean";case i:return"expref";case 7:return"null"}},_functionKeys:function(t){return Object.keys(t[0])},_functionValues:function(t){for(var e=t[0],n=Object.keys(e),i=[],r=0;r<n.length;r++)i.push(e[n[r]]);return i},_functionJoin:function(t){var e=t[0];return t[1].join(e)},_functionToArray:function(t){return this._getTypeName(t[0])===f?t[0]:[t[0]]},_functionToString:function(t){return this._getTypeName(t[0])===d?t[0]:JSON.stringify(t[0])},_functionToNumber:function(t){var e,n=this._getTypeName(t[0]);return n===u?t[0]:n!==d||(e=+t[0],isNaN(e))?null:e},_functionNotNull:function(t){for(var e=0;e<t.length;e++)if(7!==this._getTypeName(t[e]))return t[e];return null},_functionSort:function(t){var e=t[0].slice(0);return e.sort(),e},_functionSortBy:function(t){var e=t[0].slice(0);if(0===e.length)return e;var r=this._interpreter,s=t[1],o=this._getTypeName(r.visit(s,e[0]));if([u,d].indexOf(o)<0)throw new Error("TypeError");for(var a=this,n=[],i=0;i<e.length;i++)n.push([i,e[i]]);n.sort(function(t,e){var n=r.visit(s,t[1]),i=r.visit(s,e[1]);if(a._getTypeName(n)!==o)throw new Error("TypeError: expected "+o+", received "+a._getTypeName(n));if(a._getTypeName(i)!==o)throw new Error("TypeError: expected "+o+", received "+a._getTypeName(i));return i<n?1:n<i?-1:t[0]-e[0]});for(var l=0;l<n.length;l++)e[l]=n[l][1];return e},_functionMaxBy:function(t){for(var e,n,i=t[1],r=t[0],s=this.createKeyFunction(i,[u,d]),o=-1/0,a=0;a<r.length;a++)(n=s(r[a]))>o&&(o=n,e=r[a]);return e},_functionMinBy:function(t){for(var e,n,i=t[1],r=t[0],s=this.createKeyFunction(i,[u,d]),o=1/0,a=0;a<r.length;a++)(n=s(r[a]))<o&&(o=n,e=r[a]);return e},createKeyFunction:function(i,r){var s=this,o=this._interpreter;return function(t){var e=o.visit(i,t);if(r.indexOf(s._getTypeName(e))<0){var n="TypeError: expected one of "+r+", received "+s._getTypeName(e);throw new Error(n)}return e}}},t.tokenize=function(t){return(new n).tokenize(t)},t.compile=function(t){return(new o).parse(t)},t.search=function(t,e){var n=new o,i=new c,r=new a(i);i._interpreter=r;var s=n.parse(e);return r.search(s,t)},t.strictDeepEqual=T}(e)},function(t,e){t.exports=function e(t,n){"use strict";var i,r,s=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},h=c(t).replace(o,"")||"",u=c(n).replace(o,"")||"",d=h.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=u.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(h.match(l),16)||1!==d.length&&h.match(a)&&Date.parse(h),g=parseInt(u.match(l),16)||p&&u.match(a)&&Date.parse(u)||null;if(g){if(p<g)return-1;if(g<p)return 1}for(var m=0,v=Math.max(d.length,f.length);m<v;m++){if(i=!(d[m]||"").match(/^0/)&&parseFloat(d[m])||d[m]||0,r=!(f[m]||"").match(/^0/)&&parseFloat(f[m])||f[m]||0,isNaN(i)!==isNaN(r))return isNaN(i)?1:-1;if(typeof i!=typeof r&&(i+="",r+=""),i<r)return-1;if(r<i)return 1}return 0}},function(t,e,n){"use strict";var s=n(54),a=n(57),l=n(58).translate;t.exports=function(o){function t(t){this.editor=t,this.dom={}}return(t.prototype=new o).getDom=function(){var t=this.dom;if(t.tr)return t.tr;this._updateEditability();var e=document.createElement("tr");if(e.className="jsoneditor-append",e.node=this,t.tr=e,"tree"===this.editor.options.mode){t.tdDrag=document.createElement("td");var n=document.createElement("td");t.tdMenu=n;var i=document.createElement("button");i.type="button",i.className="jsoneditor-contextmenu",i.title="Click to open the actions menu (Ctrl+M)",t.menu=i,n.appendChild(t.menu)}var r=document.createElement("td"),s=document.createElement("div");return s.innerHTML="("+l("empty")+")",s.className="jsoneditor-readonly",r.appendChild(s),t.td=r,t.text=s,this.updateDom(),e},t.prototype.updateDom=function(t){var e=this.dom,n=e.td;n&&(n.style.paddingLeft=24*this.getLevel()+26+"px");var i=e.text;i&&(i.innerHTML="("+l("empty")+" "+this.parent.type+")");var r=e.tr;this.isVisible()?e.tr.firstChild||(e.tdDrag&&r.appendChild(e.tdDrag),e.tdMenu&&r.appendChild(e.tdMenu),r.appendChild(n)):e.tr.firstChild&&(e.tdDrag&&r.removeChild(e.tdDrag),e.tdMenu&&r.removeChild(e.tdMenu),r.removeChild(n))},t.prototype.isVisible=function(){return 0==this.parent.childs.length},t.prototype.showContextMenu=function(t,e){var n=this,i=o.TYPE_TITLES,r=[{text:l("auto"),className:"jsoneditor-type-auto",title:i.auto,click:function(){n._onAppend("","","auto")}},{text:l("array"),className:"jsoneditor-type-array",title:i.array,click:function(){n._onAppend("",[])}},{text:l("object"),className:"jsoneditor-type-object",title:i.object,click:function(){n._onAppend("",{})}},{text:l("string"),className:"jsoneditor-type-string",title:i.string,click:function(){n._onAppend("","","string")}}];n.addTemplates(r,!0);var s=[{text:l("appendText"),title:l("appendTitleAuto"),submenuTitle:l("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){n._onAppend("","","auto")},submenu:r}];new a(s,{close:e}).show(t,this.editor.content)},t.prototype.onEvent=function(t){var e=t.type,n=t.target||t.srcElement,i=this.dom;if(n==i.menu&&("mouseover"==e?this.editor.highlighter.highlight(this.parent):"mouseout"==e&&this.editor.highlighter.unhighlight()),"click"==e&&n==i.menu){var r=this.editor.highlighter;r.highlight(this.parent),r.lock(),s.addClassName(i.menu,"jsoneditor-selected"),this.showContextMenu(i.menu,function(){s.removeClassName(i.menu,"jsoneditor-selected"),r.unlock(),r.unhighlight()})}"keydown"==e&&this.onKeyDown(t)},t}},function(t,e,n){"use strict";var l=n(58).translate;t.exports=function(t){function e(t,e){this.editor=t,this.parent=e,this.dom={}}return(e.prototype=new t).getDom=function(){if(this.dom.tr)return this.dom.tr;if(this._updateEditability(),!this.dom.tr){var e=this,n=this.parent,t=document.createElement("a");t.appendChild(document.createTextNode(l("showMore"))),t.href="#",t.onclick=function(t){return n.visibleChilds=Math.floor(n.visibleChilds/n.MAX_VISIBLE_CHILDS+1)*n.MAX_VISIBLE_CHILDS,e.updateDom(),n.showChilds(),t.preventDefault(),!1};var i=document.createElement("a");i.appendChild(document.createTextNode(l("showAll"))),i.href="#",i.onclick=function(t){return n.visibleChilds=1/0,e.updateDom(),n.showChilds(),t.preventDefault(),!1};var r=document.createElement("div"),s=document.createTextNode(this._getShowMoreText());r.className="jsoneditor-show-more",r.appendChild(s),r.appendChild(t),r.appendChild(document.createTextNode(". ")),r.appendChild(i),r.appendChild(document.createTextNode(". "));var o=document.createElement("td");o.appendChild(r);var a=document.createElement("tr");a.appendChild(document.createElement("td")),a.appendChild(document.createElement("td")),a.appendChild(o),a.className="jsoneditor-show-more",this.dom.tr=a,this.dom.moreContents=r,this.dom.moreText=s}return this.updateDom(),this.dom.tr},e.prototype.updateDom=function(t){if(this.isVisible()){if(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],!this.dom.tr.parentNode){var e=this.parent._getNextTr();e&&e.parentNode.insertBefore(this.dom.tr,e)}this.dom.moreText.nodeValue=this._getShowMoreText(),this.dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"}else this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr)},e.prototype._getShowMoreText=function(){return l("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},e.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},e.prototype.onEvent=function(t){"keydown"===t.type&&this.onKeyDown(t)},e}},function(t,e,n){var i=n(66),r=n(58).translate;t.exports=function(a,t){var e='<div class="pico-modal-contents"><div class="pico-modal-header">'+r("sort")+"</div><form><table><tbody><tr>  <td>"+r("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+r("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+r("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+r("sortAscending")+'" title="'+r("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+r("sortDescending")+'" title="'+r("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+r("ok")+'" /></td></tr></tbody></table></form></div>';i({parent:t,content:e,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate(function(i){function e(t){s.value=t,s.className="jsoneditor-button-group jsoneditor-button-group-value-"+s.value}var t=i.modalElem().querySelector("form"),n=i.modalElem().querySelector("#ok"),r=i.modalElem().querySelector("#field"),s=i.modalElem().querySelector("#direction"),o="array"===a.type?a.getChildPaths():["."];o.forEach(function(t){var e=document.createElement("option");e.text=t,e.value=t,r.appendChild(e)}),r.value=a.sortedBy?a.sortedBy.path:o[0],e(a.sortedBy?a.sortedBy.direction:"asc"),s.onclick=function(t){e(t.target.getAttribute("data-value"))},n.onclick=function(t){t.preventDefault(),t.stopPropagation(),i.close();var e=r.value,n="."===e?[]:e.split(".").slice(1);a.sortedBy={path:e,direction:s.value},a.sort(n,s.value)},t&&(t.onsubmit=n.onclick)}).afterClose(function(t){t.destroy()}).show()}},function(n,i,t){var r,s,o;!function(t,e){"use strict";s=[],void 0!==(o="function"==typeof(r=function(){function _(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType}function w(){var s=[];return{watch:s.push.bind(s),trigger:function(t,e){for(var n=!0,i={detail:e,preventDefault:function(){n=!1}},r=0;r<s.length;r++)s[r](t,i);return n}}}function n(t){return"none"===window.getComputedStyle(t).display}function x(t){this.elem=t}function A(t){return function(){return t().elem}}function C(i,r){function e(t,e){return(t.msMatchesSelector||t.webkitMatchesSelector||t.matches).call(t,e)}function s(t){return!(n(t)||e(t,":disabled")||t.hasAttribute("contenteditable"))&&(t.hasAttribute("tabindex")||e(t,"input,select,textarea,button,a[href],area[href],iframe"))}function o(t){for(var e=t.getElementsByTagName("*"),n=0;n<e.length;n++)if(s(e[n]))return e[n]}var t;i.beforeShow(function(){t=document.activeElement}),i.afterShow(function(){if(r()){var t=o(i.modalElem());t&&t.focus()}}),i.afterClose(function(){r()&&t&&t.focus(),t=null}),a.watch(function(t){if(r()&&i.isVisible()){var e=o(i.modalElem()),n=function(t){for(var e=t.getElementsByTagName("*"),n=e.length;n--;)if(s(e[n]))return e[n]}(i.modalElem());(t.shiftKey?e:n)===document.activeElement&&((t.shiftKey?n:e).focus(),t.preventDefault())}})}x.make=function(t,e){"string"==typeof t&&(t=document.querySelector(t));var n=document.createElement(e||"div");return(t||document.body).appendChild(n),new x(n)},x.prototype={child:function(t){return x.make(this.elem,t)},stylize:function(t){for(var e in void 0!==(t=t||{}).opacity&&(t.filter="alpha(opacity="+100*t.opacity+")"),t)t.hasOwnProperty(e)&&(this.elem.style[e]=t[e]);return this},clazz:function(t){return this.elem.className+=" "+t,this},html:function(t){return _(t)?this.elem.appendChild(t):this.elem.innerHTML=t,this},onClick:function(t){return this.elem.addEventListener("click",t),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(t,e){return void 0!==e&&this.elem.setAttribute(t,e),this},anyAncestor:function(t){for(var e=this.elem;e;){if(t(new x(e)))return!0;e=e.parentNode}return!1},isVisible:function(){return!n(this.elem)}};var E=1,k=w(),a=w();return document.documentElement.addEventListener("keydown",function(t){var e=t.which||t.keyCode;27===e?k.trigger():9===e&&a.trigger(t)}),function(i){function s(t,e){var n=i[t];return"function"==typeof n&&(n=n(e)),void 0===n?e:n}function e(t){y().hide(),v().hide(),m.trigger(a,t)}function o(t){g.trigger(a,t)&&e(t)}function t(t){return function(){return t.apply(this,arguments),a}}function n(t,e){if(!l){var n=function(t,e){var n=t("width","auto");"number"==typeof n&&(n+="px");var i=t("modalId","pico-"+E++);return x.make(t("parent")).clazz("pico-content").clazz(t("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:n,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(t("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(t("content")).attr("id",i).attr("role","dialog").attr("aria-labelledby",t("ariaLabelledBy")).attr("aria-describedby",t("ariaDescribedBy",i)).onClick(function(t){new x(t.target).anyAncestor(function(t){return/\bpico-close\b/.test(t.elem.className)})&&e()})}(s,o);l={modal:n,overlay:(i=s,r=o,x.make(i("parent")).clazz("pico-overlay").clazz(i("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(i("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){i("overlayClose",!0)&&r()})),close:function(t,e){if(e("closeButton",!0))return t.child("button").html(e("closeHtml","&#xD7;")).clazz("pico-close").clazz(e("closeClass","")).stylize(e("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",e("close-label","Close"))}(n,s)},d.trigger(a,e)}var i,r;return l[t]}("string"==typeof i||_(i))&&(i={content:i});var a,l,r,c,h,u,d=w(),f=w(),p=w(),g=w(),m=w(),v=n.bind(window,"modal"),y=n.bind(window,"overlay"),b=n.bind(window,"close");return C(a={modalElem:A(v),closeElem:A(b),overlayElem:A(y),buildDom:t(n.bind(null,null)),isVisible:function(){return!!(l&&v&&v().isVisible())},show:function(t){return f.trigger(a,t)&&(y().show(),b(),v().show(),p.trigger(a,t)),this},close:t(o),forceClose:t(e),destroy:function(){v().destroy(),y().destroy(),y=v=b=void 0},options:function(e){Object.keys(e).map(function(t){i[t]=e[t]})},afterCreate:t(d.watch),beforeShow:t(f.watch),afterShow:t(p.watch),beforeClose:t(g.watch),afterClose:t(m.watch)},s.bind(null,"focus",!0)),r=a,c=s.bind(null,"bodyOverflow",!0),u=new x(document.body),r.beforeShow(function(){h=u.elem.style.overflow,c()&&u.stylize({overflow:"hidden"})}),r.afterClose(function(){u.stylize({overflow:h})}),k.watch(function(){s("escCloses",!0)&&a.isVisible()&&a.close()}),a}})?r.apply(i,s):r)&&(n.exports=o)}()},function(t,e,n){var A=n(61),i=n(66),C=n(68),r=n(58).translate,E=n(54).debounce;t.exports=function(w,t){var x=w.getValue(),e='<label class="pico-modal-contents"><div class="pico-modal-header">'+r("transform")+'</div><p>Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.</p><table><tbody><tr>  <th>'+r("transformWizardLabel")+' </th>  <td>  <div id="wizard" class="jsoneditor-jmespath-wizard">  <div>    <div class="jsoneditor-jmespath-wizard-label">'+r("transformWizardFilter")+'</div>    <div class="jsoneditor-jmespath-filter">      <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >        <select id="filterField">        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >        <select id="filterRelation">          <option value="==">==</option>          <option value="!=">!=</option>          <option value="<">&lt;</option>          <option value="<=">&lt;=</option>          <option value=">">&gt;</option>          <option value=">=">&gt;=</option>        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >        <input placeholder="value..." id="filterValue" />      </div>    </div>  </div>  <div>    <div class="jsoneditor-jmespath-wizard-label">'+r("transformWizardSortBy")+'</div>    <div class="jsoneditor-jmespath-filter">      <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">        <select id="sortField">        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >        <select id="sortOrder">          <option value="asc">Ascending</option>          <option value="desc">Descending</option>        </select>      </div>    </div>  </div>  <div id="selectFieldsPart">    <div class="jsoneditor-jmespath-wizard-label">'+r("transformWizardSelectFields")+'</div>    <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple>    </select>  </div>  </div>  </td></tr><tr>  <th>'+r("transformQueryLabel")+' </th>  <td class="jsoneditor-modal-input">    <textarea id="query"               rows="4"               autocomplete="off"               autocorrect="off"               autocapitalize="off"               spellcheck="false"              title="'+r("transformQueryTitle")+'">[*]</textarea>  </td></tr><tr>  <th>'+r("transformPreviewLabel")+' </th>  <td class="jsoneditor-modal-input">    <textarea id="preview"         class="jsoneditor-transform-preview"        readonly> </textarea>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+r("ok")+'" autofocus /></td></tr></tbody></table></div>';i({parent:t,content:e,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate(function(e){function r(t){return"."===t[0]?"."===t?"@":t.slice(1):t}function t(){if(o.value&&a.value&&l.value){var t=o.value,e=JSON.stringify(w._stringCast(l.value));d.value="[? "+t+" "+a.value+" `"+e+"`]"}else d.value="[*]";if(c.value&&h.value){var n=c.value;"desc"===h.value?d.value+=" | reverse(sort_by(@, &"+n+"))":d.value+=" | sort_by(@, &"+n+")"}if(u.value){for(var i=[],r=0;r<u.options.length;r++)if(u.options[r].selected){var s=u.options[r].value;i.push(s)}"]"!==d.value[d.value.length-1]&&(d.value+=" | [*]"),1===i.length?d.value+="."+s:1<i.length&&(d.value+=".{"+i.map(function(t){var e=t.split(".");return e[e.length-1]+": "+t}).join(", ")+"}")}_()}var n=e.modalElem(),i=n.querySelector("#wizard"),s=n.querySelector("#ok"),o=n.querySelector("#filterField"),a=n.querySelector("#filterRelation"),l=n.querySelector("#filterValue"),c=n.querySelector("#sortField"),h=n.querySelector("#sortOrder"),u=n.querySelector("#selectFields"),d=n.querySelector("#query"),f=n.querySelector("#preview");Array.isArray(x)||(i.style.display="none",i.parentNode.style.fontStyle="italic",i.parentNode.appendChild(document.createTextNode("(wizard not available for objects, only for arrays)"))),w.getChildPaths().forEach(function(t){var e=r(t),n=document.createElement("option");n.text=e,n.value=e,o.appendChild(n);var i=document.createElement("option");i.text=e,i.value=e,c.appendChild(i)});var p=w.getChildPaths(!0).filter(function(t){return"."!==t});0<p.length?p.forEach(function(t){var e=r(t),n=document.createElement("option");n.text=e,n.value=e,u.appendChild(n)}):n.querySelector("#selectFieldsPart").style.display="none";var g=new C(o,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),m=new C(a,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),v=new C(c,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),y=new C(h,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),b=new C(u,{multiple:!0,clearable:!0,defaultSelected:!1});g.on("selectr.change",t),m.on("selectr.change",t),l.oninput=t,v.on("selectr.change",t),y.on("selectr.change",t),b.on("selectr.change",t),n.querySelector(".pico-modal-contents").onclick=function(t){t.preventDefault()},d.value=Array.isArray(x)?"[*]":"@";var _=E(function(){try{var t=A.search(x,d.value),e=JSON.stringify(t,null,2).split("\n");100<e.length&&(e=e.slice(0,100).concat(["..."])),f.className="jsoneditor-transform-preview",f.value=e.join("\n"),s.disabled=!1}catch(t){f.className="jsoneditor-transform-preview jsoneditor-error",f.value=t.toString(),s.disabled=!0}},300);(d.oninput=_)(),s.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.close(),w.transform(d.value)},setTimeout(function(){d.select(),d.focus(),d.selectionStart=3,d.selectionEnd=3})}).afterClose(function(t){t.destroy()}).show()}},function(t,e){"use strict";function l(t,e){return t.hasOwnProperty(e)&&(!0===t[e]||t[e].length)}function a(t,e,n){t.parentNode?t.parentNode.parentNode||e.appendChild(t.parentNode):e.appendChild(t),u.removeClass(t,"excluded"),n||(t.innerHTML=t.textContent)}var n={defaultSelected:!0,width:"auto",disabled:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag..."},i=function(){};i.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){this._events=this._events||{},t in this._events!=0&&this._events[t].splice(this._events[t].indexOf(e),1)},emit:function(t){if(this._events=this._events||{},t in this._events!=0)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(t){for(var e=["on","off","emit"],n=0;n<e.length;n++)"function"==typeof t?t.prototype[e[n]]=i.prototype[e[n]]:t[e[n]]=i.prototype[e[n]];return t};var u={extend:function(t,e){var n;for(n in e=e||{},t)t.hasOwnProperty(n)&&(e.hasOwnProperty(n)||(e[n]=t[n]));return e},each:function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(n,i,t[i],t);else for(var r=0,s=t.length;r<s;r++)e.call(n,r,t[r],t)},createElement:function(t,e){var n,i=document,r=i.createElement(t);if(e&&"[object Object]"===Object.prototype.toString.call(e))for(n in e)if(n in r)r[n]=e[n];else if("html"===n)r.innerHTML=e[n];else if("text"===n){var s=i.createTextNode(e[n]);r.appendChild(s)}else r.setAttribute(n,e[n]);return r},hasClass:function(t,e){if(t)return t.classList?t.classList.contains(e):!!t.className&&!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){u.hasClass(t,e)||(t.classList?t.classList.add(e):t.className=t.className.trim()+" "+e)},removeClass:function(t,e){u.hasClass(t,e)&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(t,e){return t&&t!==document.body&&(e(t)?t:u.closest(t.parentNode,e))},isInt:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},debounce:function(i,r,s){var o;return function(){var t=this,e=arguments,n=s&&!o;clearTimeout(o),o=setTimeout(function(){o=null,s||i.apply(t,e)},r),n&&i.apply(t,e)}},rect:function(t,e){var n=window,i=t.getBoundingClientRect(),r=e?n.pageXOffset:0,s=e?n.pageYOffset:0;return{bottom:i.bottom+s,height:i.height,left:i.left+r,right:i.right+r,top:i.top+s,width:i.width}},includes:function(t,e){return-1<t.indexOf(e)},truncate:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},r=function(){if(this.items.length){var n=document.createDocumentFragment();if(this.config.pagination){var t=this.pages.slice(0,this.pageIndex);u.each(t,function(t,e){u.each(e,function(t,e){a(e,n,this.customOption)},this)},this)}else u.each(this.items,function(t,e){a(e,n,this.customOption)},this);n.childElementCount&&(u.removeClass(this.items[this.navIndex],"active"),this.navIndex=n.querySelector(".selectr-option").idx,u.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(n)}},c=function(t,e){e=e||t;var n=this.customOption?this.config.renderOption(e):t.textContent,i=u.createElement("li",{class:"selectr-option",html:n,role:"treeitem","aria-selected":!1});return i.idx=t.idx,this.items.push(i),t.defaultSelected&&this.defaultSelected.push(t.idx),t.disabled&&(i.disabled=!0,u.addClass(i,"disabled")),i},s=function(){var t=this.tree;if(t.scrollTop>=t.scrollHeight-t.offsetHeight&&this.pageIndex<this.pages.length){var n=document.createDocumentFragment();u.each(this.pages[this.pageIndex],function(t,e){a(e,n,this.customOption)},this),t.appendChild(n),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length})}},o=function(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&u.removeClass(this.inputContainer,"active"),u.hasClass(this.container,"notice")&&(u.removeClass(this.container,"notice"),u.addClass(this.container,"open"),this.input.focus()),u.each(this.items,function(t,e){u.removeClass(e,"excluded"),this.customOption||(e.innerHTML=e.textContent)},this))},h=function(t,e){if(e=e||{},!t)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if("string"==typeof(this.el=t)&&(this.el=document.querySelector(t)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(e)};h.prototype.render=function(t){if(!this.rendered){this.config=u.extend(n,t),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=l(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"==typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"==typeof this.config.renderSelection,i.mixin(this),function(){this.requiresPagination=this.config.pagination&&0<this.config.pagination,l(this.config,"width")&&(u.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":u.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=u.createElement("div",{class:"selectr-container"}),this.config.customClass&&u.addClass(this.container,this.config.customClass),this.mobileDevice?u.addClass(this.container,"selectr-mobile"):u.addClass(this.container,"selectr-desktop"),this.el.tabIndex=-1,this.config.nativeDropdown||this.mobileDevice?u.addClass(this.el,"selectr-visible"):u.addClass(this.el,"selectr-hidden"),this.selected=u.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:1,"aria-expanded":!1}),this.label=u.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var t=u.createElement("div",{class:"selectr-options-container"});if(this.tree=u.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=u.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple&&(u.addClass(this.label,"selectr-tags"),u.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.getSelectedProperties("value"),this.selectedIndexes=this.getSelectedProperties("idx")),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=u.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),u.addClass(this.container,"clearable")),this.config.taggable){var e=u.createElement("li",{class:"input-tag"});this.input=u.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),e.appendChild(this.input),this.label.appendChild(e),u.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators&&(this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators))}this.config.searchable&&(this.input=u.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),this.inputClear=u.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=u.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),t.appendChild(this.inputContainer)),t.appendChild(this.notice),t.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var n,i=!1,r=0;if(this.el.children.length&&u.each(this.el.children,function(t,e){"OPTGROUP"===e.nodeName?(i=u.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+e.label+"</li>"}),u.each(e.children,function(t,e){e.idx=r,i.appendChild(c.call(this,e,i)),r++},this)):(e.idx=r,c.call(this,e),r++)},this),this.config.data&&Array.isArray(this.config.data)){var s,o=!(this.data=[]);i=!1,r=0,u.each(this.config.data,function(t,e){l(e,"children")?(o=u.createElement("optgroup",{label:e.text}),i=u.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+e.text+"</li>"}),u.each(e.children,function(t,e){(s=new Option(e.text,e.value,!1,e.hasOwnProperty("selected")&&!0===e.selected)).disabled=l(e,"disabled"),this.options.push(s),o.appendChild(s),s.idx=r,i.appendChild(c.call(this,s,e)),this.data[r]=e,r++},this)):((s=new Option(e.text,e.value,!1,e.hasOwnProperty("selected")&&!0===e.selected)).disabled=l(e,"disabled"),this.options.push(s),s.idx=r,c.call(this,s,e),this.data[r]=e,r++)},this)}this.setSelected(!0);for(var a=this.navIndex=0;a<this.items.length;a++)if(n=this.items[a],!u.hasClass(n,"disabled")){u.addClass(n,"active"),this.navIndex=a;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(t),this.placeEl=u.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el)}.call(this),this.bindEvents(),this.update(),this.optsRect=u.rect(this.tree),this.rendered=!0,this.el.multiple||(this.el.selectedIndex=this.selectedIndex);var e=this;setTimeout(function(){e.emit("selectr.init")},20)}},h.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")},h.prototype.getSelectedProperties=function(e){var t=this.getSelected();return[].slice.call(t).map(function(t){return t[e]}).filter(function(t){return null!=t})},h.prototype.bindEvents=function(){var i=this;if(this.events={},this.events.dismiss=function(t){var e=t.target;this.container.contains(e)||!this.opened&&!u.hasClass(this.container,"notice")||this.close()}.bind(this),this.events.navigate=function(t){if(t=t||window.event,this.items.length&&this.opened&&u.includes([13,38,40],t.which)){if(t.preventDefault(),13===t.which)return!(this.config.taggable&&0<this.input.value.length)&&this.change(this.navIndex);var e,n=this.items[this.navIndex];switch(t.which){case 38:(e=0)<this.navIndex&&this.navIndex--;break;case 40:e=1,this.navIndex<this.items.length-1&&this.navIndex++}for(this.navigating=!0;u.hasClass(this.items[this.navIndex],"disabled")||u.hasClass(this.items[this.navIndex],"excluded");)if(e?this.navIndex++:this.navIndex--,this.searching){if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}var i=u.rect(this.items[this.navIndex]);e?(0===this.navIndex?this.tree.scrollTop=0:i.top+i.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(i.top+i.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&s.call(this)):0===this.navIndex?this.tree.scrollTop=0:i.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(i.top-this.optsRect.top)),n&&u.removeClass(n,"active"),u.addClass(this.items[this.navIndex],"active")}else this.navigating=!1}.bind(this),this.events.reset=this.reset.bind(this),this.config.nativeDropdown||this.mobileDevice){this.container.addEventListener("touchstart",function(t){t.changedTouches[0].target===i.el&&i.toggle()}),(this.config.nativeDropdown||this.mobileDevice)&&this.container.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),t.target===i.el&&i.toggle()});this.el.addEventListener("change",function(t){if(i.el.multiple){var e=i.getSelectedProperties("idx"),n=function(t,e){for(var n,i=[],r=t.slice(0),s=0;s<e.length;s++)-1<(n=r.indexOf(e[s]))?r.splice(n,1):i.push(e[s]);return[i,r]}(i.selectedIndexes,e);u.each(n[0],function(t,e){i.select(e)},i),u.each(n[1],function(t,e){i.deselect(e)},i)}else-1<i.el.selectedIndex&&i.select(i.el.selectedIndex)})}this.config.nativeDropdown&&this.container.addEventListener("keydown",function(t){"Enter"===t.key&&i.selected===document.activeElement&&(i.toggle(),setTimeout(function(){i.el.focus()},200))}),this.selected.addEventListener("click",function(t){i.disabled||i.toggle(),t.preventDefault(),t.stopPropagation()}),this.label.addEventListener("click",function(t){u.hasClass(t.target,"selectr-tag-remove")&&i.deselect(t.target.parentNode.idx)}),this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this)),this.tree.addEventListener("mousedown",function(t){t.preventDefault()}),this.tree.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=u.closest(t.target,function(t){return t&&u.hasClass(t,"selectr-option")});e&&(u.hasClass(e,"disabled")||(u.hasClass(e,"selected")?(i.el.multiple||!i.el.multiple&&i.config.allowDeselect)&&i.deselect(e.idx):i.select(e.idx),i.opened&&!i.el.multiple&&i.close()))}),this.tree.addEventListener("mouseover",function(t){u.hasClass(t.target,"selectr-option")&&(u.hasClass(t.target,"disabled")||(u.removeClass(i.items[i.navIndex],"active"),u.addClass(t.target,"active"),i.navIndex=[].slice.call(i.items).indexOf(t.target)))}),this.config.searchable&&(this.input.addEventListener("focus",function(t){i.searching=!0}),this.input.addEventListener("blur",function(t){i.searching=!1}),this.input.addEventListener("keyup",function(t){i.search(),i.config.taggable||(this.value.length?u.addClass(this.parentNode,"active"):u.removeClass(this.parentNode,"active"))}),this.inputClear.addEventListener("click",function(t){i.input.value=null,o.call(i),i.tree.childElementCount||r.call(i)})),this.config.taggable&&this.input.addEventListener("keyup",function(t){if(i.search(),i.config.taggable&&this.value.length){var n=this.value.trim();(13===t.which||u.includes(i.tagSeperators,t.key))&&(u.each(i.tagSeperators,function(t,e){n=n.replace(e,"")}),i.add({value:n,text:n,selected:!0},!0)?(i.close(),o.call(i)):(this.value="",i.setMessage("That tag is already in use.")))}}),this.update=u.debounce(function(){i.opened&&i.config.closeOnScroll&&i.close(),i.width&&(i.container.style.width=i.width),i.invert()},50),this.requiresPagination&&(this.paginateItems=u.debounce(function(){s.call(this)},50),this.tree.addEventListener("scroll",this.paginateItems.bind(this))),document.addEventListener("click",this.events.dismiss),window.addEventListener("keydown",this.events.navigate),window.addEventListener("resize",this.update),window.addEventListener("scroll",this.update),this.el.form&&this.el.form.addEventListener("reset",this.events.reset)},h.prototype.setSelected=function(t){if(this.config.data||this.el.multiple||!this.el.options.length||(0===this.el.selectedIndex&&(this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1)),this.selectedIndex=this.el.selectedIndex,-1<this.selectedIndex&&this.select(this.selectedIndex)),this.config.multiple&&"select-one"===this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),u.each(this.options,function(t,e){e.selected&&e.defaultSelected&&this.select(e.idx)},this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data){!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&this.select(0);var n=0;u.each(this.config.data,function(t,e){l(e,"children")?u.each(e.children,function(t,e){e.hasOwnProperty("selected")&&!0===e.selected&&this.select(n),n++},this):(e.hasOwnProperty("selected")&&!0===e.selected&&this.select(n),n++)},this)}},h.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.innerHTML=""),u.removeClass(this.el,"selectr-hidden"),this.el.form&&u.off(this.el.form,"reset",this.events.reset),u.off(document,"click",this.events.dismiss),u.off(document,"keydown",this.events.navigate),u.off(window,"resize",this.update),u.off(window,"scroll",this.update),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1)},h.prototype.change=function(t){var e=this.items[t],n=this.options[t];n.disabled||(n.selected&&u.hasClass(e,"selected")?this.deselect(t):this.select(t),this.opened&&!this.el.multiple&&this.close())},h.prototype.select=function(i){var t=this.items[i],e=[].slice.call(this.el.options),n=this.options[i];if(this.el.multiple){if(u.includes(this.selectedIndexes,i))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage("A maximum of "+this.config.maxSelections+" items can be selected.",!0),!1;this.selectedValues.push(n.value),this.selectedIndexes.push(i),function(t){var c,h=this,n=document.createDocumentFragment(),e=this.options[t.idx],i=this.data?this.data[t.idx]:e,r=this.customSelected?this.config.renderSelection(i):e.textContent,s=u.createElement("li",{class:"selectr-tag",html:r}),o=u.createElement("button",{class:"selectr-tag-remove",type:"button"});if(s.appendChild(o),s.idx=t.idx,s.tag=e.value,this.tags.push(s),this.config.sortSelected){var a=this.tags.slice();c=function(t,i){t.replace(/(\d+)|(\D+)/g,function(t,e,n){i.push([e||1/0,n||""])})},a.sort(function(t,e){var n,i,r=[],s=[];for(!0===h.config.sortSelected?(n=t.tag,i=e.tag):"text"===h.config.sortSelected&&(n=t.textContent,i=e.textContent),c(n,r),c(i,s);r.length&&s.length;){var o=r.shift(),a=s.shift(),l=o[0]-a[0]||o[1].localeCompare(a[1]);if(l)return l}return r.length-s.length}),u.each(a,function(t,e){n.appendChild(e)}),this.label.innerHTML=""}else n.appendChild(s);this.config.taggable?this.label.insertBefore(n,this.input.parentNode):this.label.appendChild(n)}.call(this,t)}else{var r=this.data?this.data[i]:n;this.label.innerHTML=this.customSelected?this.config.renderSelection(r):n.textContent,this.selectedValue=n.value,this.selectedIndex=i,u.each(this.options,function(t,e){var n=this.items[t];t!==i&&(n&&u.removeClass(n,"selected"),e.selected=!1,e.removeAttribute("selected"))},this)}u.includes(e,n)||this.el.add(n),t.setAttribute("aria-selected",!0),u.addClass(t,"selected"),u.addClass(this.container,"has-selected"),n.selected=!0,n.setAttribute("selected",""),this.emit("selectr.change",n),this.emit("selectr.select",n)},h.prototype.deselect=function(t,e){var n=this.items[t],i=this.options[t];if(this.el.multiple){var r=this.selectedIndexes.indexOf(t);this.selectedIndexes.splice(r,1);var s=this.selectedValues.indexOf(i.value);this.selectedValues.splice(s,1),function(n){var i=!1;u.each(this.tags,function(t,e){e.idx===n.idx&&(i=e)},this),i&&(this.label.removeChild(i),this.tags.splice(this.tags.indexOf(i),1))}.call(this,n),this.tags.length||u.removeClass(this.container,"has-selected")}else{if(!e&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.innerHTML="",this.selectedValue=null,this.el.selectedIndex=this.selectedIndex=-1,u.removeClass(this.container,"has-selected")}this.items[t].setAttribute("aria-selected",!1),u.removeClass(this.items[t],"selected"),i.selected=!1,i.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",i)},h.prototype.setValue=function(n){var i=Array.isArray(n);if(i||(n=n.toString().trim()),!this.el.multiple&&i)return!1;u.each(this.options,function(t,e){(i&&u.includes(n.toString(),e.value)||e.value===n)&&this.change(e.idx)},this)},h.prototype.getValue=function(t,e){var i;if(this.el.multiple)t?this.selectedIndexes.length&&((i={}).values=[],u.each(this.selectedIndexes,function(t,e){var n=this.options[e];i.values[t]={value:n.value,text:n.textContent}},this)):i=this.selectedValues.slice();else if(t){var n=this.options[this.selectedIndex];i={value:n.value,text:n.textContent}}else i=this.selectedValue;return t&&e&&(i=JSON.stringify(i)),i},h.prototype.add=function(n,i){if(n){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(n))u.each(n,function(t,e){this.add(e,i)},this);else if("[object Object]"===Object.prototype.toString.call(n)){if(i){var r=!1;if(u.each(this.options,function(t,e){e.value.toLowerCase()===n.value.toLowerCase()&&(r=!0)}),r)return!1}var t=u.createElement("option",n);return this.data.push(n),this.options.push(t),t.idx=0<this.options.length?this.options.length-1:0,c.call(this,t),n.selected&&this.select(t.idx),t}return this.setPlaceholder(),this.config.pagination&&this.paginate(),!0}},h.prototype.remove=function(n){var i,r=[];(Array.isArray(n)?u.each(n,function(t,e){u.isInt(e)?r.push(this.getOptionByIndex(e)):"string"==typeof n&&r.push(this.getOptionByValue(e))},this):u.isInt(n)?r.push(this.getOptionByIndex(n)):"string"==typeof n&&r.push(this.getOptionByValue(n)),r.length)&&(u.each(r,function(t,e){i=e.idx,this.el.remove(e),this.options.splice(i,1);var n=this.items[i].parentNode;n&&n.removeChild(this.items[i]),this.items.splice(i,1),u.each(this.options,function(t,e){e.idx=t,this.items[t].idx=t},this)},this),this.setPlaceholder(),this.config.pagination&&this.paginate())},h.prototype.removeAll=function(){this.clear(!0),u.each(this.el.options,function(t,e){this.el.remove(e)},this),u.truncate(this.tree),this.items=[],this.options=[],this.data=[],this.navIndex=0,this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]),this.setPlaceholder()},h.prototype.search=function(s){if(!this.navigating){s=s||this.input.value;var o=document.createDocumentFragment();if(this.removeMessage(),u.truncate(this.tree),1<s.length)if(u.each(this.options,function(t,e){var n,i,r=this.items[e.idx];u.includes(e.textContent.toLowerCase(),s.toLowerCase())&&!e.disabled?(a(r,o,this.customOption),u.removeClass(r,"excluded"),this.customOption||(r.innerHTML=(n=e,!!(i=new RegExp(s,"i").exec(n.textContent))&&n.textContent.replace(i[0],"<span class='selectr-match'>"+i[0]+"</span>")))):u.addClass(r,"excluded")},this),o.childElementCount){var t=this.items[this.navIndex],e=o.firstElementChild;u.removeClass(t,"active"),this.navIndex=e.idx,u.addClass(e,"active")}else this.config.taggable||this.setMessage("no results.");else r.call(this);this.tree.appendChild(o)}},h.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())},h.prototype.open=function(){var t=this;return!!this.options.length&&(this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(u.addClass(this.container,"native-open"),void(this.config.data&&u.each(this.options,function(t,e){this.el.add(e)},this))):(u.addClass(this.container,"open"),r.call(this),this.invert(),this.tree.scrollTop=0,u.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),void(this.config.searchable&&!this.config.taggable&&setTimeout(function(){t.input.focus(),t.input.tabIndex=0},10))))},h.prototype.close=function(){if(this.opened&&this.emit("selectr.close"),this.opened=!1,this.mobileDevice||this.config.nativeDropdown)u.removeClass(this.container,"native-open");else{var t=u.hasClass(this.container,"notice");this.config.searchable&&!t&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),t&&(u.removeClass(this.container,"notice"),this.notice.textContent=""),u.removeClass(this.container,"open"),u.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),u.truncate(this.tree),o.call(this)}},h.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,this.el.multiple&&u.each(this.tags,function(t,e){e.lastElementChild.tabIndex=0}),u.removeClass(this.container,"selectr-disabled")},h.prototype.disable=function(t){t||(this.el.disabled=!0),this.selected.tabIndex=-1,this.el.multiple&&u.each(this.tags,function(t,e){e.lastElementChild.tabIndex=-1}),this.disabled=!0,u.addClass(this.container,"selectr-disabled")},h.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),u.each(this.defaultSelected,function(t,e){this.select(e)},this),this.emit("selectr.reset"))},h.prototype.clear=function(t){if(this.el.multiple){if(this.selectedIndexes.length){var e=this.selectedIndexes.slice();u.each(e,function(t,e){this.deselect(e)},this)}}else-1<this.selectedIndex&&this.deselect(this.selectedIndex,t);this.emit("selectr.clear")},h.prototype.serialise=function(t){var i=[];return u.each(this.options,function(t,e){var n={value:e.value,text:e.textContent};e.selected&&(n.selected=!0),e.disabled&&(n.disabled=!0),i[t]=n}),t?JSON.stringify(i):i},h.prototype.serialize=function(t){return this.serialise(t)},h.prototype.setPlaceholder=function(t){t=t||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(t="No options available"),this.placeEl.innerHTML=t},h.prototype.paginate=function(){if(this.items.length){var n=this;return this.pages=this.items.map(function(t,e){return e%n.config.pagination==0?n.items.slice(e,e+n.config.pagination):null}).filter(function(t){return t}),this.pages}},h.prototype.setMessage=function(t,e){e&&this.close(),u.addClass(this.container,"notice"),this.notice.textContent=t},h.prototype.removeMessage=function(){u.removeClass(this.container,"notice"),this.notice.innerHTML=""},h.prototype.invert=function(){var t=u.rect(this.selected),e=this.tree.parentNode.offsetHeight,n=window.innerHeight;t.top+t.height+e>n?(u.addClass(this.container,"inverted"),this.isInverted=!0):(u.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=u.rect(this.tree)},h.prototype.getOptionByIndex=function(t){return this.options[t]},h.prototype.getOptionByValue=function(t){for(var e=!1,n=0,i=this.options.length;n<i;n++)if(this.options[n].value.trim()===t.toString().trim()){e=this.options[n];break}return e},t.exports=h},function(t,e,n){"use strict";function i(t,e,n,i){for(var r={code:{text:"Code",title:"Switch to code highlighter",click:function(){i("code")}},form:{text:"Form",title:"Switch to form editor",click:function(){i("form")}},text:{text:"Text",title:"Switch to plain text editor",click:function(){i("text")}},tree:{text:"Tree",title:"Switch to tree editor",click:function(){i("tree")}},view:{text:"View",title:"Switch to tree view",click:function(){i("view")}}},s=[],o=0;o<e.length;o++){var a=e[o],l=r[a];if(!l)throw new Error('Unknown mode "'+a+'"');l.className="jsoneditor-type-modes"+(n==a?" jsoneditor-selected":""),s.push(l)}var c=r[n];if(!c)throw new Error('Unknown mode "'+n+'"');var h=c.text,u=document.createElement("button");u.type="button",u.className="jsoneditor-modes jsoneditor-separator",u.innerHTML=h+" &#x25BE;",u.title="Switch editor mode",u.onclick=function(){new f(s).show(u)};var d=document.createElement("div");d.className="jsoneditor-modes",d.style.position="relative",d.appendChild(u),t.appendChild(d),this.dom={container:t,box:u,frame:d}}var f=n(57);i.prototype.focus=function(){this.dom.box.focus()},i.prototype.destroy=function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null},t.exports=i},function(t,e){"use strict";t.exports=function(l){function o(t){var e,n;document.createRange?((e=document.createRange()).selectNodeContents(t),e.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(e)):document.selection&&((e=document.body.createTextRange()).moveToElementText(t),e.collapse(!1),e.select())}function a(t){return void 0===e&&((e=document.createElement("span")).style.visibility="hidden",e.style.position="fixed",e.style.outline="0",e.style.margin="0",e.style.padding="0",e.style.border="0",e.style.left="0",e.style.whiteSpace="pre",e.style.fontSize=i,e.style.fontFamily=r,e.style.fontWeight="normal",document.body.appendChild(e)),e.innerHTML=String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.getBoundingClientRect().right}(l=l||{}).confirmKeys=l.confirmKeys||[39,35,9],l.caseSensitive=l.caseSensitive||!1;var i="",r="",s=document.createElement("div");s.style.position="relative",s.style.outline="0",s.style.border="0",s.style.margin="0",s.style.padding="0";var c=document.createElement("div");c.className="autocomplete dropdown",c.style.position="absolute",c.style.visibility="hidden";var e,h,u,d,f,n,p,g,m,v,y={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:s,show:function(t,e,n){this.startFrom=e,this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null),""==i&&(i=window.getComputedStyle(t).getPropertyValue("font-size")),""==r&&(r=window.getComputedStyle(t).getPropertyValue("font-family")),t.getBoundingClientRect().right,t.getBoundingClientRect().left,c.style.marginLeft="0",c.style.marginTop=t.getBoundingClientRect().height+"px",this.options=n,this.element!=t&&(this.element=t,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}),this.element.style.zIndex=3,this.element.style.position="relative",this.element.style.backgroundColor="transparent",this.element.style.borderColor="transparent",this.elementHint=t.cloneNode(),this.elementHint.className="autocomplete hint",this.elementHint.style.zIndex=2,this.elementHint.style.position="absolute",this.elementHint.onfocus=function(){this.element.focus()}.bind(this),this.element.addEventListener&&(this.element.removeEventListener("keydown",_),this.element.addEventListener("keydown",_,!1),this.element.removeEventListener("blur",w),this.element.addEventListener("blur",w,!1)),s.appendChild(this.elementHint),s.appendChild(c),t.parentElement.appendChild(s),this.repaint(t)},setText:function(t){this.element.innerText=t},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null,b.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor)},repaint:function(t){var e=t.innerText;e=e.replace("\n","");var n=(this.startFrom,this.options,this.options.length),i=e.substring(this.startFrom);h=e.substring(0,this.startFrom);for(var r=0;r<n;r++){var s=this.options[r];if(!l.caseSensitive&&0===s.toLowerCase().indexOf(i.toLowerCase())||l.caseSensitive&&0===s.indexOf(i)){this.elementHint.innerText=h+i+s.substring(i.length),this.elementHint.realInnerText=h+s;break}}c.style.left=a(h)+"px",b.refresh(i,this.options),this.elementHint.style.width=a(this.elementHint.innerText)+10+"px","hidden"==c.style.visibility||(this.elementHint.style.width=a(this.elementHint.innerText)+c.clientWidth+"px")}},b=(u=c,d=[],f=0,n=-1,p=function(){this.style.outline="1px solid #ddd"},g=function(){this.style.outline="0"},m=function(){v.hide(),v.onmouseselection(this.__hint,v.rs)},v={rs:y,hide:function(){u.style.visibility="hidden"},refresh:function(t,e){u.style.visibility="hidden",f=0,u.innerHTML="";var n=window.innerHeight||document.documentElement.clientHeight,i=u.parentNode.getBoundingClientRect(),r=i.top-6,s=n-i.bottom-6;d=[];for(var o=0;o<e.length;o++)if(!(l.caseSensitive&&0!==e[o].indexOf(t)||!l.caseSensitive&&0!==e[o].toLowerCase().indexOf(t.toLowerCase()))){var a=document.createElement("div");a.className="item",a.onmouseover=p,a.onmouseout=g,a.onmousedown=m,a.__hint=e[o],a.innerHTML=e[o].substring(0,t.length)+"<b>"+e[o].substring(t.length)+"</b>",d.push(a),u.appendChild(a)}0!==d.length&&(1===d.length&&(t.toLowerCase()===d[0].__hint.toLowerCase()&&!l.caseSensitive||t===d[0].__hint&&l.caseSensitive)||d.length<2||(v.highlight(0),3*s<r?(u.style.maxHeight=r+"px",u.style.top="",u.style.bottom="100%"):(u.style.top="100%",u.style.bottom="",u.style.maxHeight=s+"px"),u.style.visibility="visible"))},highlight:function(t){-1!=n&&d[n]&&(d[n].className="item"),d[t].className="item hover",n=t},move:function(t){return"hidden"===u.style.visibility?"":(f+t===-1||f+t===d.length||(f+=t,v.highlight(f)),d[f].__hint)},onmouseselection:function(){}}),_=function(t){var e=(t=t||window.event).keyCode;if(null!=this.elementHint&&33!=e&&34!=e){if(27==e)return y.hideDropDown(),y.element.focus(),t.preventDefault(),void t.stopPropagation();var n=this.element.innerText;if(n=n.replace("\n",""),this.startFrom,0<=l.confirmKeys.indexOf(e))return 9==e&&0==this.elementHint.innerText.length&&y.onTab(),void(0<this.elementHint.innerText.length&&this.element.innerText!=this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,y.hideDropDown(),o(this.element),9==e&&(y.element.focus(),t.preventDefault(),t.stopPropagation())));if(13!=e){if(40==e){var i=n.substring(this.startFrom);return""==(r=b.move(1))&&y.onArrowDown(),this.elementHint.innerText=h+i+r.substring(i.length),this.elementHint.realInnerText=h+r,t.preventDefault(),void t.stopPropagation()}var r;if(38==e)return i=n.substring(this.startFrom),""==(r=b.move(-1))&&y.onArrowUp(),this.elementHint.innerText=h+i+r.substring(i.length),this.elementHint.realInnerText=h+r,t.preventDefault(),void t.stopPropagation()}else if(0==this.elementHint.innerText.length)y.onEnter();else{var s="hidden"==c.style.visibility;if(b.hide(),s)return y.hideDropDown(),y.element.focus(),void y.onEnter();this.element.innerText=this.elementHint.realInnerText,y.hideDropDown(),o(this.element),t.preventDefault(),t.stopPropagation()}}}.bind(y),w=function(t){y.hideDropDown()}.bind(y);return b.onmouseselection=function(t,e){e.element.innerText=e.elementHint.innerText=h+t,e.hideDropDown(),window.setTimeout(function(){e.element.focus(),o(e.element)},1)},y}},function(t,e,b){"use strict";var _=b(72),w=b(69),x=b(54),n={create:function(t,e){void 0===(e=e||{}).statusBar&&(e.statusBar=!0),(this.options=e).indentation?this.indentation=Number(e.indentation):this.indentation=2;var n=e.ace?e.ace:_;if(this.mode="code"==e.mode?"code":"text","code"==this.mode&&void 0===n&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=e.theme||"ace/theme/jsoneditor","ace/theme/jsoneditor"===this.theme&&n)try{b(78)}catch(t){console.error(t)}e.onTextSelectionChange&&this.onTextSelectionChange(e.onTextSelectionChange);var i=this;this.container=t,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this._debouncedValidate=x.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=t.clientWidth,this.height=t.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(t){t.preventDefault()},this.frame.onkeydown=function(t){i._onKeyDown(t)},this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var r=document.createElement("button");r.type="button",r.className="jsoneditor-format",r.title="Format JSON data, with proper indentation and line feeds (Ctrl+\\)",this.menu.appendChild(r),r.onclick=function(){try{i.format(),i._onChange()}catch(t){i._onError(t)}};var s=document.createElement("button");s.type="button",s.className="jsoneditor-compact",s.title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",this.menu.appendChild(s),s.onclick=function(){try{i.compact(),i._onChange()}catch(t){i._onError(t)}};var o=document.createElement("button");o.type="button",o.className="jsoneditor-repair",o.title="Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",this.menu.appendChild(o),o.onclick=function(){try{i.repair(),i._onChange()}catch(t){i._onError(t)}},this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new w(this.menu,this.options.modes,this.options.mode,function(t){i.setMode(t),i.modeSwitcher.focus()}));var a=this.options.onEditable&&typeof("function"===this.options.onEditable)&&!this.options.onEditable({});if(this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"==this.mode){this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom);var l=n.edit(this.editorDom);l.$blockScrolling=1/0,l.setTheme(this.theme),l.setOptions({readOnly:a}),l.setShowPrintMargin(!1),l.setFontSize(13),l.getSession().setMode("ace/mode/json"),l.getSession().setTabSize(this.indentation),l.getSession().setUseSoftTabs(!0),l.getSession().setUseWrapMode(!0),l.commands.bindKey("Ctrl-L",null),l.commands.bindKey("Command-L",null),this.aceEditor=l,this.hasOwnProperty("editor")||Object.defineProperty(this,"editor",{get:function(){return console.warn('Property "editor" has been renamed to "aceEditor".'),i.aceEditor},set:function(t){console.warn('Property "editor" has been renamed to "aceEditor".'),i.aceEditor=t}});var c=document.createElement("a");c.appendChild(document.createTextNode("powered by ace")),c.href="http://ace.ajax.org",c.target="_blank",c.className="jsoneditor-poweredBy",c.onclick=function(){window.open(c.href,c.target)},this.menu.appendChild(c),l.on("change",this._onChange.bind(this)),l.on("changeSelection",this._onSelect.bind(this))}else{var h=document.createElement("textarea");h.className="jsoneditor-text",h.spellcheck=!1,this.content.appendChild(h),this.textarea=h,this.textarea.readOnly=a,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),h.onselect=this._onSelect.bind(this),h.onmousedown=this._onMouseDown.bind(this),h.onblur=this._onBlur.bind(this)}var u=document.createElement("div");if(u.className="validation-errors-container",this.dom.validationErrorsContainer=u,this.frame.appendChild(u),e.statusBar){x.addClassName(this.content,"has-status-bar"),this.curserInfoElements={};var d=document.createElement("div");(this.dom.statusBar=d).className="jsoneditor-statusbar",this.frame.appendChild(d);var f=document.createElement("span");f.className="jsoneditor-curserinfo-label",f.innerText="Ln:";var p=document.createElement("span");p.className="jsoneditor-curserinfo-val",p.innerText="1",d.appendChild(f),d.appendChild(p);var g=document.createElement("span");g.className="jsoneditor-curserinfo-label",g.innerText="Col:";var m=document.createElement("span");m.className="jsoneditor-curserinfo-val",m.innerText="1",d.appendChild(g),d.appendChild(m),this.curserInfoElements.colVal=m,this.curserInfoElements.lnVal=p;var v=document.createElement("span");v.className="jsoneditor-curserinfo-label",v.innerText="characters selected",v.style.display="none";var y=document.createElement("span");y.className="jsoneditor-curserinfo-count",y.innerText="0",y.style.display="none",this.curserInfoElements.countLabel=v,this.curserInfoElements.countVal=y,d.appendChild(y),d.appendChild(v)}this.setSchema(this.options.schema,this.options.schemaRefs)},_onChange:function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(t){console.error("Error in onChange callback: ",t)}},_onSelect:function(){this._updateCursorInfo(),this._emitSelectionChange()},_onKeyDown:function(t){var e=!1;220==(t.which||t.keyCode)&&t.ctrlKey&&(t.shiftKey?this.compact():this.format(),this._onChange(),e=!0),e&&(t.preventDefault(),t.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange()},_onMouseDown:function(t){this._updateCursorInfo(),this._emitSelectionChange()},_onBlur:function(t){this._updateCursorInfo(),this._emitSelectionChange()},_updateCursorInfo:function(){function e(){s.curserInfoElements.countVal.innerText!==r&&(s.curserInfoElements.countVal.innerText=r,s.curserInfoElements.countVal.style.display=r?"inline":"none",s.curserInfoElements.countLabel.style.display=r?"inline":"none"),s.curserInfoElements.lnVal.innerText=n,s.curserInfoElements.colVal.innerText=i}var n,i,r,s=this;if(this.textarea)setTimeout(function(){var t=x.getInputSelection(s.textarea);t.startIndex!==t.endIndex&&(r=t.endIndex-t.startIndex),r&&s.cursorInfo&&s.cursorInfo.line===t.end.row&&s.cursorInfo.column===t.end.column?(n=t.start.row,i=t.start.column):(n=t.end.row,i=t.end.column),s.cursorInfo={line:n,column:i,count:r},s.options.statusBar&&e()},0);else if(this.aceEditor&&this.curserInfoElements){var t=this.aceEditor.getCursorPosition(),o=this.aceEditor.getSelectedText();n=t.row+1,i=t.column+1,r=o.length,s.cursorInfo={line:n,column:i,count:r},this.options.statusBar&&e()}},_emitSelectionChange:function(){if(this._selectionChangedHandler){var t=this.getTextSelection();this._selectionChangedHandler(t.start,t.end,t.text)}},destroy:function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode==this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null},compact:function(){var t=this.get(),e=JSON.stringify(t);this.setText(e)},format:function(){var t=this.get(),e=JSON.stringify(t,null,this.indentation);this.setText(e)},repair:function(){var t=this.getText(),e=x.sanitize(t);this.setText(e)},focus:function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},resize:function(){this.aceEditor&&this.aceEditor.resize(!1)},set:function(t){this.setText(JSON.stringify(t,null,this.indentation))},get:function(){var e,n=this.getText();try{e=x.parse(n)}catch(t){n=x.sanitize(n),e=x.parse(n)}return e},getText:function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},setText:function(t){var e;if(e=!0===this.options.escapeUnicode?x.escapeUnicodeChars(t):t,this.textarea&&(this.textarea.value=e),this.aceEditor){var n=this.options.onChange;this.options.onChange=null,this.aceEditor.setValue(e,-1),this.options.onChange=n}this.validate()},validate:function(){this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.content.style.marginBottom="",this.content.style.paddingBottom="");var t,e=!1,n=[];try{t=this.get(),e=!0}catch(t){}if(e&&this.validateSchema&&(this.validateSchema(t)||(n=this.validateSchema.errors.map(function(t){return x.improveSchemaError(t)}))),0<n.length){if(3<n.length){n=n.slice(0,3);var i=this.validateSchema.errors.length-3;n.push("("+i+" more errors...)")}var r=document.createElement("div");r.innerHTML='<table class="jsoneditor-text-errors"><tbody>'+n.map(function(t){return'<tr><td><button class="jsoneditor-schema-error"></button></td>'+("string"==typeof t?'<td colspan="2"><pre>'+t+"</pre></td>":"<td>"+t.dataPath+"</td><td>"+t.message+"</td>")+"</tr>"}).join("")+"</tbody></table>",this.dom.validationErrors=r,this.dom.validationErrorsContainer.appendChild(r);var s=r.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0);this.content.style.marginBottom=-s+"px",this.content.style.paddingBottom=s+"px"}this.aceEditor&&this.aceEditor.resize(!1)},getTextSelection:function(){var t={};if(this.textarea){var e=x.getInputSelection(this.textarea);return this.cursorInfo&&this.cursorInfo.line===e.end.row&&this.cursorInfo.column===e.end.column?(t.start=e.end,t.end=e.start):t=e,{start:t.start,end:t.end,text:this.textarea.value.substring(e.startIndex,e.endIndex)}}if(this.aceEditor){var n=this.aceEditor.getSelection(),i=this.aceEditor.getSelectedText(),r=n.getRange(),s=n.getSelectionLead();return s.row===r.end.row&&s.column===r.end.column?t=r:(t.start=r.end,t.end=r.start),{start:{row:t.start.row+1,column:t.start.column+1},end:{row:t.end.row+1,column:t.end.column+1},text:i}}},onTextSelectionChange:function(t){"function"==typeof t&&(this._selectionChangedHandler=x.debounce(t,this.DEBOUNCE_INTERVAL))},setTextSelection:function(t,e){if(t&&e)if(this.textarea){var n=x.getIndexForPosition(this.textarea,t.row,t.column),i=x.getIndexForPosition(this.textarea,e.row,e.column);if(-1<n&&-1<i)if(this.textarea.setSelectionRange)this.textarea.focus(),this.textarea.setSelectionRange(n,i);else if(this.textarea.createTextRange){(r=this.textarea.createTextRange()).collapse(!0),r.moveEnd("character",i),r.moveStart("character",n),r.select()}}else if(this.aceEditor){var r={start:{row:t.row-1,column:t.column-1},end:{row:e.row-1,column:e.column-1}};this.aceEditor.selection.setRange(r)}}};t.exports=[{mode:"text",mixin:n,data:"text",load:n.format},{mode:"code",mixin:n,data:"text",load:n.format}]},function(t,e,n){var i;if(window.ace)i=window.ace;else try{i=n(73),n(75),n(77)}catch(t){}t.exports=i},function(t,e,_){!function(){var t=function(){return this}();t||"undefined"==typeof window||(t=window);var s=function(t,e,n){"string"==typeof t?(2==arguments.length&&(n=e),s.modules[t]||(s.payloads[t]=n,s.modules[t]=null)):s.original?s.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};s.modules={},s.payloads={};var e,o=function(t,e,n){if("string"==typeof e){var i=c(t,e);if(null!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(e)){for(var r=[],s=0,o=e.length;s<o;++s){var a=c(t,e[s]);if(null==a&&l.original)return;r.push(a)}return n&&n.apply(null,r)||!0}},l=function(t,e){var n=o("",t,e);return null==n&&l.original?l.original.apply(this,arguments):n},a=function(t,e){if(-1!==e.indexOf("!")){var n=e.split("!");return a(t,n[0])+"!"+a(t,n[1])}if("."==e.charAt(0))for(e=t.split("/").slice(0,-1).join("/")+"/"+e;-1!==e.indexOf(".")&&i!=e;){var i=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return e},c=function(t,n){n=a(t,n);var e=s.modules[n];if(!e){if("function"==typeof(e=s.payloads[n])){var i={},r={id:n,uri:"",exports:i,packaged:!0};i=e(function(t,e){return o(n,t,e)},i,r)||r.exports,s.modules[n]=i,delete s.payloads[n]}e=s.modules[n]=i||e}return e};(e=t).ace||(t.ace={}),(e=t.ace).define&&e.define.packaged||(s.original=e.define,e.define=s,e.define.packaged=!0),e.acequire&&e.acequire.packaged||(l.original=e.acequire,e.acequire=l,e.acequire.packaged=!0)}(),ace.define("ace/lib/regexp",["require","exports","module"],function(t,e,n){"use strict";var o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},a=void 0===o.exec.call(/()??/,"")[1],l=(o.test.call(/^/g,""),!/^/g.lastIndex);l&&a||(RegExp.prototype.exec=function(t){var e,n,i,r=o.exec.apply(this,arguments);if("string"==typeof t&&r){if(!a&&1<r.length&&-1<function(t,e,n){if(Array.prototype.indexOf)return t.indexOf(e,n);for(var i=n||0;i<t.length;i++)if(t[i]===e)return i;return-1}(r,"")&&(n=RegExp(this.source,o.replace.call(((i=this).global?"g":"")+(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),"g","")),o.replace.call(t.slice(r.index),n,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(r[t]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var s=1;s<r.length;s++)(e=this._xregexp.captureNames[s-1])&&(r[e]=r[s]);!l&&this.global&&!r[0].length&&this.lastIndex>r.index&&this.lastIndex--}return r},l||(RegExp.prototype.test=function(t){var e=o.exec.call(this,t);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(t,e,n){function s(){}function i(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(t){}}function r(t){return(t=+t)!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(0<t||-1)*Math.floor(Math.abs(t))),t}Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var i=p.call(arguments,1),r=function(){if(this instanceof r){var t=n.apply(this,i.concat(p.call(arguments)));return Object(t)===t?t:this}return n.apply(e,i.concat(p.call(arguments)))};return n.prototype&&(s.prototype=n.prototype,r.prototype=new s,s.prototype=null),r});var o,a,l,c,h,u=Function.prototype.call,d=Array.prototype,f=Object.prototype,p=d.slice,g=u.bind(f.toString),m=u.bind(f.hasOwnProperty);if((h=m(f,"__defineGetter__"))&&(o=u.bind(f.__defineGetter__),a=u.bind(f.__defineSetter__),l=u.bind(f.__lookupGetter__),c=u.bind(f.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function t(t){var e=new Array(t+2);return e[0]=e[1]=0,e}var e,n=[];if(n.splice.apply(n,t(20)),n.splice.apply(n,t(26)),e=n.length,n.splice(5,0,"XXX"),n.length,e+1==n.length)return!0}()){var v=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?v.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(p.call(arguments,2))):[]}}else Array.prototype.splice=function(t,e){var n=this.length;0<t?n<t&&(t=n):null==t?t=0:t<0&&(t=Math.max(n+t,0)),t+e<n||(e=n-t);var i=this.slice(t,t+e),r=p.call(arguments,2),s=r.length;if(t===n)s&&this.push.apply(this,r);else{var o=Math.min(e,n-t),a=t+o,l=a+s-o,c=n-a,h=n-o;if(l<a)for(var u=0;u<c;++u)this[l+u]=this[a+u];else if(a<l)for(u=c;u--;)this[l+u]=this[a+u];if(s&&t===h)this.length=h,this.push.apply(this,r);else for(this.length=h+s,u=0;u<s;++u)this[t+u]=r[u]}return i};Array.isArray||(Array.isArray=function(t){return"[object Array]"==g(t)});var y,b,_=Object("a"),w="a"!=_[0]||!(0 in _);(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=P(this),n=w&&"[object String]"==g(this)?this.split(""):e,i=arguments[1],r=-1,s=n.length>>>0;if("[object Function]"!=g(t))throw new TypeError;for(;++r<s;)r in n&&t.call(i,n[r],r,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=P(this),n=w&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0,r=Array(i),s=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var o=0;o<i;o++)o in n&&(r[o]=t.call(s,n[o],o,e));return r}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,n=P(this),i=w&&"[object String]"==g(this)?this.split(""):n,r=i.length>>>0,s=[],o=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var a=0;a<r;a++)a in i&&(e=i[a],t.call(o,e,a,n)&&s.push(e));return s}),Array.prototype.every||(Array.prototype.every=function(t){var e=P(this),n=w&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var s=0;s<i;s++)if(s in n&&!t.call(r,n[s],s,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=P(this),n=w&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var s=0;s<i;s++)if(s in n&&t.call(r,n[s],s,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=P(this),n=w&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,s=0;if(2<=arguments.length)r=arguments[1];else for(;;){if(s in n){r=n[s++];break}if(++s>=i)throw new TypeError("reduce of empty array with no initial value")}for(;s<i;s++)s in n&&(r=t.call(void 0,r,n[s],s,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=P(this),n=w&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,s=i-1;if(2<=arguments.length)r=arguments[1];else for(;;){if(s in n){r=n[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}for(;s in this&&(r=t.call(void 0,r,n[s],s,e)),s--;);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var e=w&&"[object String]"==g(this)?this.split(""):P(this),n=e.length>>>0;if(!n)return-1;var i=0;for(1<arguments.length&&(i=r(arguments[1])),i=0<=i?i:Math.max(0,n+i);i<n;i++)if(i in e&&e[i]===t)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var e=w&&"[object String]"==g(this)?this.split(""):P(this),n=e.length>>>0;if(!n)return-1;var i=n-1;for(1<arguments.length&&(i=Math.min(i,r(arguments[1]))),i=0<=i?i:n-Math.abs(i);0<=i;i--)if(i in e&&t===e[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:f)}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+t);if(m(t,e)){var n;if(n={enumerable:!0,configurable:!0},h){var i=t.__proto__;t.__proto__=f;var r=l(t,e),s=c(t,e);if(t.__proto__=i,r||s)return r&&(n.get=r),s&&(n.set=s),n}return n.value=t[e],n}}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),Object.create)||(y=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var t={};for(var e in t)t[e]=null;return t.constructor=t.hasOwnProperty=t.propertyIsEnumerable=t.isPrototypeOf=t.toLocaleString=t.toString=t.valueOf=t.__proto__=null,t},Object.create=function(t,e){var n;if(null===t)n=y();else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var i=function(){};i.prototype=t,(n=new i).__proto__=t}return void 0!==e&&Object.defineProperties(n,e),n});if(Object.defineProperty){var x=i({}),A="undefined"==typeof document||i(document.createElement("div"));if(!x||!A)var C=Object.defineProperty}Object.defineProperty&&!C||(Object.defineProperty=function(t,e,n){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.defineProperty called on non-object: "+t);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Property description must be an object: "+n);if(C)try{return C.call(Object,t,e,n)}catch(t){}if(m(n,"value"))if(h&&(l(t,e)||c(t,e))){var i=t.__proto__;t.__proto__=f,delete t[e],t[e]=n.value,t.__proto__=i}else t[e]=n.value;else{if(!h)throw new TypeError("getters & setters can not be defined on this javascript engine");m(n,"get")&&o(t,e,n.get),m(n,"set")&&a(t,e,n.set)}return t}),Object.defineProperties||(Object.defineProperties=function(t,e){for(var n in e)m(e,n)&&Object.defineProperty(t,n,e[n]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(t){Object.freeze=(b=Object.freeze,function(t){return"function"==typeof t?t:b(t)})}if(Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;for(var e="";m(t,e);)e+="?";t[e]=!0;var n=m(t,e);return delete t[e],n}),!Object.keys){var E=!0,k=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],S=k.length;for(var F in{toString:null})E=!1;Object.keys=function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var e=[];for(var n in t)m(t,n)&&e.push(n);if(E)for(var i=0,r=S;i<r;i++){var s=k[i];m(t,s)&&e.push(s)}return e}}Date.now||(Date.now=function(){return(new Date).getTime()});var T="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||T.trim()){T="["+T+"]";var D=new RegExp("^"+T+T+"*"),M=new RegExp(T+T+"*$");String.prototype.trim=function(){return String(this).replace(D,"").replace(M,"")}}var P=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(t,e,n){"use strict";t("./regexp"),t("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(t,a,e){"use strict";a.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},a.createElement=function(t,e){return document.createElementNS?document.createElementNS(e||"http://www.w3.org/1999/xhtml",t):document.createElement(t)},a.hasCssClass=function(t,e){return-1!==(t.className+"").split(/\s+/g).indexOf(e)},a.addCssClass=function(t,e){a.hasCssClass(t,e)||(t.className+=" "+e)},a.removeCssClass=function(t,e){for(var n=t.className.split(/\s+/g);;){var i=n.indexOf(e);if(-1==i)break;n.splice(i,1)}t.className=n.join(" ")},a.toggleCssClass=function(t,e){for(var n=t.className.split(/\s+/g),i=!0;;){var r=n.indexOf(e);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(e),t.className=n.join(" "),i},a.setCssClass=function(t,e,n){n?a.addCssClass(t,e):a.removeCssClass(t,e)},a.hasCssString=function(t,e){var n,i=0;if((e=e||document).createStyleSheet&&(n=e.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===t)return!0}else if(n=e.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===t)return!0;return!1},a.importCssString=function(t,e,n){if(n=n||document,e&&a.hasCssString(e,n))return null;var i;e&&(t+="\n/*# sourceURL=ace/css/"+e+" */"),n.createStyleSheet?((i=n.createStyleSheet()).cssText=t,e&&(i.owningElement.id=e)):((i=a.createElement("style")).appendChild(n.createTextNode(t)),e&&(i.id=e),a.getDocumentHead(n).appendChild(i))},a.importCssStylsheet=function(t,e){if(e.createStyleSheet)e.createStyleSheet(t);else{var n=a.createElement("link");n.rel="stylesheet",n.href=t,a.getDocumentHead(e).appendChild(n)}},a.getInnerWidth=function(t){return parseInt(a.computedStyle(t,"paddingLeft"),10)+parseInt(a.computedStyle(t,"paddingRight"),10)+t.clientWidth},a.getInnerHeight=function(t){return parseInt(a.computedStyle(t,"paddingTop"),10)+parseInt(a.computedStyle(t,"paddingBottom"),10)+t.clientHeight},a.scrollbarWidth=function(t){var e=a.createElement("ace_inner");e.style.width="100%",e.style.minWidth="0px",e.style.height="200px",e.style.display="block";var n=a.createElement("ace_outer"),i=n.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",n.appendChild(e);var r=t.documentElement;r.appendChild(n);var s=e.offsetWidth;i.overflow="scroll";var o=e.offsetWidth;return s==o&&(o=n.clientWidth),r.removeChild(n),s-o},"undefined"!=typeof document?(void 0!==window.pageYOffset?(a.getPageScrollTop=function(){return window.pageYOffset},a.getPageScrollLeft=function(){return window.pageXOffset}):(a.getPageScrollTop=function(){return document.body.scrollTop},a.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?a.computedStyle=function(t,e){return e?(window.getComputedStyle(t,"")||{})[e]||"":window.getComputedStyle(t,"")||{}}:a.computedStyle=function(t,e){return e?t.currentStyle[e]:t.currentStyle},a.setInnerHtml=function(t,e){var n=t.cloneNode(!1);return n.innerHTML=e,t.parentNode.replaceChild(n,t),n},"textContent"in document.documentElement?(a.setInnerText=function(t,e){t.textContent=e},a.getInnerText=function(t){return t.textContent}):(a.setInnerText=function(t,e){t.innerText=e},a.getInnerText=function(t){return t.innerText}),a.getParentWindow=function(t){return t.defaultView||t.parentWindow}):a.importCssString=function(){}}),ace.define("ace/lib/oop",["require","exports","module"],function(t,n,e){"use strict";n.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},n.mixin=function(t,e){for(var n in e)t[n]=e[n];return t},n.implement=function(t,e){n.mixin(t,e)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(t,e,n){"use strict";t("./fixoldbrowsers");var i=t("./oop"),r=function(){var t,e,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(e in n.FUNCTION_KEYS)t=n.FUNCTION_KEYS[e].toLowerCase(),n[t]=parseInt(e,10);for(e in n.PRINTABLE_KEYS)t=n.PRINTABLE_KEYS[e].toLowerCase(),n[t]=parseInt(e,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)n.KEY_MODS[e]=t.filter(function(t){return e&n.KEY_MODS[t]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(e,r),e.keyCodeToString=function(t){var e=r[t];return"string"!=typeof e&&(e=String.fromCharCode(t)),e.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(t,e,n){"use strict";if(e.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},e.getOS=function(){return e.isMac?e.OS.MAC:e.isLinux?e.OS.LINUX:e.OS.WINDOWS},"object"==typeof navigator){var i=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),r=navigator.userAgent;e.isWin="win"==i,e.isMac="mac"==i,e.isLinux="linux"==i,e.isIE="Microsoft Internet Explorer"==navigator.appName||0<=navigator.appName.indexOf("MSAppHost")?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),e.isOldIE=e.isIE&&e.isIE<9,e.isGecko=e.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,e.isOldGecko=e.isGecko&&parseInt((r.match(/rv:(\d+)/)||[])[1],10)<4,e.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),e.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,e.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,e.isAIR=0<=r.indexOf("AdobeAIR"),e.isIPad=0<=r.indexOf("iPad"),e.isChromeOS=0<=r.indexOf(" CrOS "),e.isIOS=/iPad|iPhone|iPod/.test(r)&&!window.MSStream,e.isIOS&&(e.isMac=!0)}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,u,e){"use strict";function s(t,e,n){var i=h(e);if(!d.isMac&&l){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win"))&&(i|=8),l.altGr){if(3==(3&i))return;l.altGr=0}if(18===n||17===n){var r="location"in e?e.location:e.keyLocation;if(17===n&&1===r)1==l[n]&&(c=e.timeStamp);else if(18===n&&3===i&&2===r){e.timeStamp-c<50&&(l.altGr=!0)}}}if((n in a.MODIFIER_KEYS&&(n=-1),8&i&&91<=n&&n<=93&&(n=-1),!i&&13===n)&&(3===(r="location"in e?e.location:e.keyLocation)&&(t(e,i,-n),e.defaultPrevented)))return;if(d.isChromeOS&&8&i){if(t(e,i,n),e.defaultPrevented)return;i&=-9}return!!(i||n in a.FUNCTION_KEYS||n in a.PRINTABLE_KEYS)&&t(e,i,n)}function o(){l=Object.create(null)}var a=t("./keys"),d=t("./useragent"),l=null,c=0;u.addListener=function(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1);if(t.attachEvent){var i=function(){n.call(t,window.event)};n._wrapper=i,t.attachEvent("on"+e,i)}},u.removeListener=function(t,e,n){if(t.removeEventListener)return t.removeEventListener(e,n,!1);t.detachEvent&&t.detachEvent("on"+e,n._wrapper||n)},u.stopEvent=function(t){return u.stopPropagation(t),u.preventDefault(t),!1},u.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},u.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},u.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||d.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.preventDefault?t.button:{1:0,2:2,4:1}[t.button]},u.capture=function(t,e,n){function i(t){e&&e(t),n&&n(t),u.removeListener(document,"mousemove",e,!0),u.removeListener(document,"mouseup",i,!0),u.removeListener(document,"dragstart",i,!0)}return u.addListener(document,"mousemove",e,!0),u.addListener(document,"mouseup",i,!0),u.addListener(document,"dragstart",i,!0),i},u.addTouchMoveListener=function(t,i){var r,s;u.addListener(t,"touchstart",function(t){var e=t.touches[0];r=e.clientX,s=e.clientY}),u.addListener(t,"touchmove",function(t){var e=t.touches;if(!(1<e.length)){var n=e[0];t.wheelX=r-n.clientX,t.wheelY=s-n.clientY,r=n.clientX,s=n.clientY,i(t)}})},u.addMouseWheelListener=function(t,e){"onmousewheel"in t?u.addListener(t,"mousewheel",function(t){void 0!==t.wheelDeltaX?(t.wheelX=-t.wheelDeltaX/8,t.wheelY=-t.wheelDeltaY/8):(t.wheelX=0,t.wheelY=-t.wheelDelta/8),e(t)}):"onwheel"in t?u.addListener(t,"wheel",function(t){switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=.35*t.deltaX||0,t.wheelY=.35*t.deltaY||0;break;case t.DOM_DELTA_LINE:case t.DOM_DELTA_PAGE:t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0)}e(t)}):u.addListener(t,"DOMMouseScroll",function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),e(t)})},u.addMultiMouseDownListener=function(t,n,i,r){function e(t){if(0!==u.getButton(t)?c=0:1<t.detail?4<++c&&(c=1):c=1,d.isIE){var e=5<Math.abs(t.clientX-o)||5<Math.abs(t.clientY-a);l&&!e||(c=1),l&&clearTimeout(l),l=setTimeout(function(){l=null},n[c-1]||600),1==c&&(o=t.clientX,a=t.clientY)}if(t._clicks=c,i[r]("mousedown",t),4<c)c=0;else if(1<c)return i[r](h[c],t)}function s(t){c=2,l&&clearTimeout(l),l=setTimeout(function(){l=null},n[c-1]||600),i[r]("mousedown",t),i[r](h[c],t)}var o,a,l,c=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(t)||(t=[t]),t.forEach(function(t){u.addListener(t,"mousedown",e),d.isOldIE&&u.addListener(t,"dblclick",s)})};var h=!d.isMac||!d.isOpera||"KeyboardEvent"in window?function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)}:function(t){return 0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0)};u.getModifierString=function(t){return a.KEY_MODS[h(t)]},u.addCommandKeyListener=function(t,n){var e=u.addListener;if(d.isOldGecko||d.isOpera&&!("KeyboardEvent"in window)){var i=null;e(t,"keydown",function(t){i=t.keyCode}),e(t,"keypress",function(t){return s(n,t,i)})}else{var r=null;e(t,"keydown",function(t){l[t.keyCode]=(l[t.keyCode]||0)+1;var e=s(n,t,t.keyCode);return r=t.defaultPrevented,e}),e(t,"keypress",function(t){r&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(u.stopEvent(t),r=null)}),e(t,"keyup",function(t){l[t.keyCode]=null}),l||(o(),e(window,"focus",o))}},"object"==typeof window&&window.postMessage&&!d.isOldIE&&(u.nextTick=function(n,i){i=i||window,u.addListener(i,"message",function t(e){"zero-timeout-message-1"==e.data&&(u.stopPropagation(e),u.removeListener(i,"message",t),n())}),i.postMessage("zero-timeout-message-1","*")}),u.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),u.nextFrame?u.nextFrame=u.nextFrame.bind(window):u.nextFrame=function(t){setTimeout(t,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(t,e,n){"use strict";e.last=function(t){return t[t.length-1]},e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(t,e){for(var n="";0<e;)1&e&&(n+=t),(e>>=1)&&(t+=t);return n},e.stringTrimLeft=function(t){return t.replace(/^\s\s*/,"")},e.stringTrimRight=function(t){return t.replace(/\s\s*$/,"")},e.copyObject=function(t){var e={};for(var n in t)e[n]=t[n];return e},e.copyArray=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&"object"==typeof t[n]?e[n]=this.copyObject(t[n]):e[n]=t[n];return e},e.deepCopy=function t(e){if("object"!=typeof e||!e)return e;var n;if(Array.isArray(e)){n=[];for(var i=0;i<e.length;i++)n[i]=t(e[i]);return n}if("[object Object]"!==Object.prototype.toString.call(e))return e;for(var i in n={},e)n[i]=t(e[i]);return n},e.arrayToMap=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=1;return e},e.createMap=function(t){var e=Object.create(null);for(var n in t)e[n]=t[n];return e},e.arrayRemove=function(t,e){for(var n=0;n<=t.length;n++)e===t[n]&&t.splice(n,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return t.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(t,e){var n=[];return t.replace(e,function(t){n.push({offset:arguments[arguments.length-2],length:t.length})}),n},e.deferredCall=function(t){var e=null,n=function(){e=null,t()},i=function(t){return i.cancel(),e=setTimeout(n,t||0),i};return(i.schedule=i).call=function(){return this.cancel(),t(),i},i.cancel=function(){return clearTimeout(e),e=null,i},i.isPending=function(){return e},i},e.delayedCall=function(t,e){var n=null,i=function(){n=null,t()},r=function(t){null==n&&(n=setTimeout(i,t||e))};return r.delay=function(t){n&&clearTimeout(n),n=setTimeout(i,t||e)},(r.schedule=r).call=function(){this.cancel(),t()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}}),ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(t,e,n){"use strict";var D=t("../lib/event"),M=t("../lib/useragent"),P=t("../lib/dom"),L=t("../lib/lang"),B=t("../lib/keys"),$=B.KEY_MODS,R=M.isChrome<18,O=M.isIE;e.TextInput=function(t,l){function i(t){if(!a){if(a=!0,m)e=0,n=t?0:h.value.length-1;else var e=4,n=5;try{h.setSelectionRange(e,n)}catch(t){}a=!1}}function r(){a||(h.value=e,M.isWebKit&&g.schedule())}function c(){clearTimeout(E),E=setTimeout(function(){u&&(h.style.cssText=u,u=""),null==l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=!0,l.renderer.$moveTextAreaToCursor())},0)}var h=P.createElement("textarea");h.className=M.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input",M.isTouchPad&&h.setAttribute("x-palm-disable-auto-cap",!0),h.setAttribute("wrap","off"),h.setAttribute("autocorrect","off"),h.setAttribute("autocapitalize","off"),h.setAttribute("spellcheck",!1),h.style.opacity="0",t.insertBefore(h,t.firstChild);var e="\n aaaa a\n",s=!1,o=!1,n=!1,a=!1,u="",d=!0;try{var f=document.activeElement===h}catch(t){}D.addListener(h,"blur",function(t){l.onBlur(t),f=!1}),D.addListener(h,"focus",function(t){f=!0,l.onFocus(t),i()}),this.focus=function(){if(u)return h.focus();h.style.position="fixed",h.focus()},this.blur=function(){h.blur()},this.isFocused=function(){return f};var p=L.delayedCall(function(){f&&i(d)}),g=L.delayedCall(function(){a||(h.value=e,f&&i())});M.isWebKit||l.addEventListener("changeSelection",function(){l.selection.isEmpty()!=d&&(d=!d,p.schedule())}),r(),f&&l.onFocus();var m=null;this.setInputHandler=function(t){m=t};var v=(this.getInputHandler=function(){return m},!1),y=function(t){4===h.selectionStart&&5===h.selectionEnd||(m&&(t=m(t),m=null),n?(i(),t&&l.onPaste(t),n=!1):t==e.substr(0)&&4===h.selectionStart?v?l.execCommand("del",{source:"ace"}):l.execCommand("backspace",{source:"ace"}):s||(t.substring(0,9)==e&&t.length>e.length?t=t.substr(9):t.substr(0,4)==e.substr(0,4)?t=t.substr(4,t.length-e.length+1):t.charAt(t.length-1)==e.charAt(0)&&(t=t.slice(0,-1)),t==e.charAt(0)||t.charAt(t.length-1)==e.charAt(0)&&(t=t.slice(0,-1)),t&&l.onTextInput(t)),s&&(s=!1),v&&(v=!1))},b=function(t){if(!a){var e=h.value;y(e),r()}},_=function(t,e,n){var i=t.clipboardData||window.clipboardData;if(i&&!R){var r=O||n?"Text":"text/plain";try{return e?!1!==i.setData(r,e):i.getData(r)}catch(t){if(!n)return _(t,e,!0)}}},w=function(t,e){var n=l.getCopyText();if(!n)return D.preventDefault(t);_(t,n)?(M.isIOS&&(o=e,h.value="\n aa"+n+"a a\n",h.setSelectionRange(4,4+n.length),s={value:n}),e?l.onCut():l.onCopy(),M.isIOS||D.preventDefault(t)):(s=!0,h.value=n,h.select(),setTimeout(function(){s=!1,r(),i(),e?l.onCut():l.onCopy()}))};D.addCommandKeyListener(h,l.onCommandKey.bind(l)),D.addListener(h,"select",function(t){var e;0===(e=h).selectionStart&&e.selectionEnd===e.value.length?(l.selectAll(),i()):m&&i(l.selection.isEmpty())}),D.addListener(h,"input",b),D.addListener(h,"cut",function(t){w(t,!0)}),D.addListener(h,"copy",function(t){w(t,!1)}),D.addListener(h,"paste",function(t){var e=_(t);"string"==typeof e?(e&&l.onPaste(e,t),M.isIE&&setTimeout(i),D.preventDefault(t)):(h.value="",n=!0)});var x=function(){if(a&&l.onCompositionUpdate&&!l.$readOnly){var t=h.value.replace(/\x01/g,"");if(a.lastValue!==t&&(l.onCompositionUpdate(t),a.lastValue&&l.undo(),a.canUndo&&(a.lastValue=t),a.lastValue)){var e=l.selection.getRange();l.insert(a.lastValue),l.session.markUndoGroup(),a.range=l.selection.getRange(),l.selection.setRange(e),l.selection.clearSelection()}}},A=function(t){if(l.onCompositionEnd&&!l.$readOnly){var e=a;a=!1;var n=setTimeout(function(){n=null;var t=h.value.replace(/\x01/g,"");a||(t==e.lastValue?r():!e.lastValue&&t&&(r(),y(t)))});m=function(t){return n&&clearTimeout(n),(t=t.replace(/\x01/g,""))==e.lastValue?"":(e.lastValue&&n&&l.undo(),t)},l.onCompositionEnd(),l.removeListener("mousedown",A),"compositionend"==t.type&&e.range&&l.selection.setRange(e.range),(M.isChrome&&53<=M.isChrome||M.isWebKit&&603<=M.isWebKit)&&b()}},C=L.delayedCall(x,50);D.addListener(h,"compositionstart",function(t){a||!l.onCompositionStart||l.$readOnly||((a={}).canUndo=l.session.$undoManager,l.onCompositionStart(),setTimeout(x,0),l.on("mousedown",A),a.canUndo&&!l.selection.isEmpty()&&(l.insert(""),l.session.markUndoGroup(),l.selection.clearSelection()),l.session.markUndoGroup())}),M.isGecko?D.addListener(h,"text",function(){C.schedule()}):(D.addListener(h,"keyup",function(){C.schedule()}),D.addListener(h,"keydown",function(){C.schedule()})),D.addListener(h,"compositionend",A),this.getElement=function(){return h},this.setReadOnly=function(t){h.readOnly=t},this.onContextMenu=function(t){v=!0,i(l.selection.isEmpty()),l._emit("nativecontextmenu",{target:l,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,e){u||(u=h.style.cssText),h.style.cssText=(e?"z-index:100000;":"")+"height:"+h.style.height+";"+(M.isIE?"opacity:0.1;":"");var n=l.container.getBoundingClientRect(),i=P.computedStyle(l.container),r=n.top+(parseInt(i.borderTopWidth)||0),s=n.left+(parseInt(n.borderLeftWidth)||0),o=n.bottom-r-h.clientHeight-2,a=function(t){h.style.left=t.clientX-s-2+"px",h.style.top=Math.min(t.clientY-r-2,o)+"px"};a(t),"mousedown"==t.type&&(l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=null),clearTimeout(E),M.isWin&&D.capture(l.container,a,c))},this.onContextMenuClose=c;var E,k=function(t){l.textInput.onContextMenu(t),c()};if(D.addListener(h,"mouseup",k),D.addListener(h,"mousedown",function(t){t.preventDefault(),c()}),D.addListener(l.renderer.scroller,"contextmenu",k),D.addListener(h,"contextmenu",k),M.isIOS){var S=null,F=!1;t.addEventListener("keydown",function(t){S&&clearTimeout(S),F=!0}),t.addEventListener("keyup",function(t){S=setTimeout(function(){F=!1},100)});var T=function(t){if(document.activeElement===h&&!F){if(o)return setTimeout(function(){o=!1},100);var e=h.selectionStart,n=h.selectionEnd;if(h.setSelectionRange(4,5),e==n)switch(e){case 0:l.onCommandKey(null,0,B.up);break;case 1:l.onCommandKey(null,0,B.home);break;case 2:l.onCommandKey(null,$.option,B.left);break;case 4:l.onCommandKey(null,0,B.left);break;case 5:l.onCommandKey(null,0,B.right);break;case 7:l.onCommandKey(null,$.option,B.right);break;case 8:l.onCommandKey(null,0,B.end);break;case 9:l.onCommandKey(null,0,B.down)}else{switch(n){case 6:l.onCommandKey(null,$.shift,B.right);break;case 7:l.onCommandKey(null,$.shift|$.option,B.right);break;case 8:l.onCommandKey(null,$.shift,B.end);break;case 9:l.onCommandKey(null,$.shift,B.down)}switch(e){case 0:l.onCommandKey(null,$.shift,B.up);break;case 1:l.onCommandKey(null,$.shift,B.home);break;case 2:l.onCommandKey(null,$.shift|$.option,B.left);break;case 3:l.onCommandKey(null,$.shift,B.left)}}}};document.addEventListener("selectionchange",T),l.on("destroy",function(){document.removeEventListener("selectionchange",T)})}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],function(t,e,n){"use strict";var T=t("../lib/event"),D=t("../lib/useragent"),M=t("../lib/dom"),P=t("../lib/lang"),L=D.isChrome<18,B=D.isIE,$=t("./textinput_ios").TextInput;e.TextInput=function(t,l){function i(t){if(!o){if(o=!0,g)var e=0,n=t?0:h.value.length-1;else e=t?2:1,n=2;try{h.setSelectionRange(e,n)}catch(t){}o=!1}}function r(){o||(h.value=e,D.isWebKit&&p.schedule())}function c(){clearTimeout(S),S=setTimeout(function(){u&&(h.style.cssText=u,u=""),null==l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=!0,l.renderer.$moveTextAreaToCursor())},0)}if(D.isIOS)return $.call(this,t,l);var h=M.createElement("textarea");h.className="ace_text-input",h.setAttribute("wrap","off"),h.setAttribute("autocorrect","off"),h.setAttribute("autocapitalize","off"),h.setAttribute("spellcheck",!1),h.style.opacity="0",t.insertBefore(h,t.firstChild);var e="\u2028\u2028",s=!1,n=!1,o=!1,u="",a=!0;try{var d=document.activeElement===h}catch(t){}T.addListener(h,"blur",function(t){l.onBlur(t),d=!1}),T.addListener(h,"focus",function(t){d=!0,l.onFocus(t),i()}),this.focus=function(){if(u)return h.focus();var t=h.style.top;h.style.position="fixed",h.style.top="0px",h.focus(),setTimeout(function(){h.style.position="","0px"==h.style.top&&(h.style.top=t)},0)},this.blur=function(){h.blur()},this.isFocused=function(){return d};var f=P.delayedCall(function(){d&&i(a)}),p=P.delayedCall(function(){o||(h.value=e,d&&i())});D.isWebKit||l.addEventListener("changeSelection",function(){l.selection.isEmpty()!=a&&(a=!a,f.schedule())}),r(),d&&l.onFocus();var g=null;this.setInputHandler=function(t){g=t};var m=(this.getInputHandler=function(){return g},!1),v=function(t){g&&(t=g(t),g=null),n?(i(),t&&l.onPaste(t),n=!1):t==e.charAt(0)?m?l.execCommand("del",{source:"ace"}):l.execCommand("backspace",{source:"ace"}):(t.substring(0,2)==e?t=t.substr(2):t.charAt(0)==e.charAt(0)?t=t.substr(1):t.charAt(t.length-1)==e.charAt(0)&&(t=t.slice(0,-1)),t.charAt(t.length-1)==e.charAt(0)&&(t=t.slice(0,-1)),t&&l.onTextInput(t)),m&&(m=!1)},y=function(t){if(!o){var e=h.value;v(e),r()}},b=function(t,e,n){var i=t.clipboardData||window.clipboardData;if(i&&!L){var r=B||n?"Text":"text/plain";try{return e?!1!==i.setData(r,e):i.getData(r)}catch(t){if(!n)return b(t,e,!0)}}},_=function(t,e){var n=l.getCopyText();if(!n)return T.preventDefault(t);b(t,n)?(e?l.onCut():l.onCopy(),T.preventDefault(t)):(s=!0,h.value=n,h.select(),setTimeout(function(){s=!1,r(),i(),e?l.onCut():l.onCopy()}))},w=function(t){_(t,!0)},x=function(t){_(t,!1)},A=function(t){var e=b(t);"string"==typeof e?(e&&l.onPaste(e,t),D.isIE&&setTimeout(i),T.preventDefault(t)):(h.value="",n=!0)};T.addCommandKeyListener(h,l.onCommandKey.bind(l)),T.addListener(h,"select",function(t){var e;s?s=!1:0===(e=h).selectionStart&&e.selectionEnd===e.value.length?(l.selectAll(),i()):g&&i(l.selection.isEmpty())}),T.addListener(h,"input",y),T.addListener(h,"cut",w),T.addListener(h,"copy",x),T.addListener(h,"paste",A),"oncut"in h&&"oncopy"in h&&"onpaste"in h||T.addListener(t,"keydown",function(t){if((!D.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:x(t);break;case 86:A(t);break;case 88:w(t)}});var C=function(){if(o&&l.onCompositionUpdate&&!l.$readOnly){var t=h.value.replace(/\u2028/g,"");if(o.lastValue!==t&&(l.onCompositionUpdate(t),o.lastValue&&l.undo(),o.canUndo&&(o.lastValue=t),o.lastValue)){var e=l.selection.getRange();l.insert(o.lastValue),l.session.markUndoGroup(),o.range=l.selection.getRange(),l.selection.setRange(e),l.selection.clearSelection()}}},E=function(t){if(l.onCompositionEnd&&!l.$readOnly){var e=o;o=!1;var n=setTimeout(function(){n=null;var t=h.value.replace(/\u2028/g,"");o||(t==e.lastValue?r():!e.lastValue&&t&&(r(),v(t)))});g=function(t){return n&&clearTimeout(n),(t=t.replace(/\u2028/g,""))==e.lastValue?"":(e.lastValue&&n&&l.undo(),t)},l.onCompositionEnd(),l.removeListener("mousedown",E),"compositionend"==t.type&&e.range&&l.selection.setRange(e.range),(D.isChrome&&53<=D.isChrome||D.isWebKit&&603<=D.isWebKit)&&y()}},k=P.delayedCall(C,50);T.addListener(h,"compositionstart",function(t){o||!l.onCompositionStart||l.$readOnly||((o={}).canUndo=l.session.$undoManager,l.onCompositionStart(),setTimeout(C,0),l.on("mousedown",E),o.canUndo&&!l.selection.isEmpty()&&(l.insert(""),l.session.markUndoGroup(),l.selection.clearSelection()),l.session.markUndoGroup())}),D.isGecko?T.addListener(h,"text",function(){k.schedule()}):(T.addListener(h,"keyup",function(){k.schedule()}),T.addListener(h,"keydown",function(){k.schedule()})),T.addListener(h,"compositionend",E),this.getElement=function(){return h},this.setReadOnly=function(t){h.readOnly=t},this.onContextMenu=function(t){m=!0,i(l.selection.isEmpty()),l._emit("nativecontextmenu",{target:l,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,e){u||(u=h.style.cssText),h.style.cssText=(e?"z-index:100000;":"")+"height:"+h.style.height+";"+(D.isIE?"opacity:0.1;":"");var n=l.container.getBoundingClientRect(),i=M.computedStyle(l.container),r=n.top+(parseInt(i.borderTopWidth)||0),s=n.left+(parseInt(n.borderLeftWidth)||0),o=n.bottom-r-h.clientHeight-2,a=function(t){h.style.left=t.clientX-s-2+"px",h.style.top=Math.min(t.clientY-r-2,o)+"px"};a(t),"mousedown"==t.type&&(l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=null),clearTimeout(S),D.isWin&&T.capture(l.container,a,c))},this.onContextMenuClose=c;var S,F=function(t){l.textInput.onContextMenu(t),c()};T.addListener(h,"mouseup",F),T.addListener(h,"mousedown",function(t){t.preventDefault(),c()}),T.addListener(l.renderer.scroller,"contextmenu",F),T.addListener(h,"contextmenu",F)}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e,n){"use strict";function i(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function l(t,e){if(t.start.row==t.end.row)var n=2*e.column-t.start.column-t.end.column;else if(t.start.row!=t.end.row-1||t.start.column||t.end.column)n=2*e.row-t.start.row-t.end.row;else n=e.column-4;return n<0?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}var o=(t("../lib/dom"),t("../lib/event"),t("../lib/useragent"));(function(){this.onMouseDown=function(t){var e=t.inSelection(),n=t.getDocumentPosition();this.mousedownEvent=t;var i=this.editor,r=t.getButton();if(0!==r){var s=i.getSelectionRange().isEmpty();return i.$blockScrolling++,(s||1==r)&&i.selection.moveToPosition(n),i.$blockScrolling--,void(2==r&&(i.textInput.onContextMenu(t.domEvent),o.isMozilla||t.preventDefault()))}return this.mousedownEvent.time=Date.now(),!e||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(n,1<t.domEvent._clicks),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t))},this.startSelect=function(t,e){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(t):e||n.selection.moveToPosition(t),e||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var t,e=this.editor,n=e.renderer.screenToTextCoordinates(this.x,this.y);if(e.$blockScrolling++,this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)t=this.$clickSelection.end;else if(1==i)t=this.$clickSelection.start;else{var r=l(this.$clickSelection,n);n=r.cursor,t=r.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(n),e.$blockScrolling--,e.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var e,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[t](i.row,i.column);if(n.$blockScrolling++,this.$clickSelection){var s=this.$clickSelection.comparePoint(r.start),o=this.$clickSelection.comparePoint(r.end);if(-1==s&&o<=0)e=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==o&&0<=s)e=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(-1==s&&1==o)i=r.end,e=r.start;else{var a=l(this.$clickSelection,i);i=a.cursor,e=a.anchor}n.selection.setSelectionAnchor(e.row,e.column)}n.selection.selectToPosition(i),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t,e,n,i,r=(t=this.mousedownEvent.x,e=this.mousedownEvent.y,n=this.x,i=this.y,Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))),s=Date.now();(0<r||s-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var e=t.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(e);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(t){var e=t.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(e.row,e.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(e.row),this.select()},this.onQuadClick=function(t){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=t.domEvent.timeStamp,r=i-n.t,s=t.wheelX/r,o=t.wheelY/r;r<250&&(s=(s+n.vx)/2,o=(o+n.vy)/2);var a=Math.abs(s/o),l=!1;if(1<=a&&e.renderer.isScrollableBy(t.wheelX*t.speed,0)&&(l=!0),a<=1&&e.renderer.isScrollableBy(0,t.wheelY*t.speed)&&(l=!0),l)n.allowed=i;else if(i-n.allowed<250){Math.abs(s)<=1.1*Math.abs(n.vx)&&Math.abs(o)<=1.1*Math.abs(n.vy)?(l=!0,n.allowed=i):n.allowed=0}return n.t=i,n.vx=s,n.vy=o,l?(e.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}},this.onTouchMove=function(t){this.editor._emit("mousewheel",t)}}).call(i.prototype),e.DefaultHandlers=i}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(t,e,n){"use strict";function i(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}var r=(t("./lib/oop"),t("./lib/dom"));(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){r.setInnerText(this.getElement(),t)},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(t,e){this.getElement().style.left=t+"px",this.getElement().style.top=e+"px"},this.setClassName=function(t){r.addCssClass(this.getElement(),t)},this.show=function(t,e,n){null!=t&&this.setText(t),null!=e&&null!=n&&this.setPosition(e,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(i.prototype),e.Tooltip=i}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(t,e,n){"use strict";function i(t){o.call(this,t)}var r=t("../lib/dom"),s=t("../lib/oop"),p=t("../lib/event"),o=t("../tooltip").Tooltip;s.inherits(i,o),function(){this.setPosition=function(t,e){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),s=this.getHeight();n<(t+=15)+r&&(t-=t+r-n),i<(e+=15)+s&&(e-=20+s),o.prototype.setPosition.call(this,t,e)}}.call(i.prototype),e.GutterHandler=function(o){function a(){n&&(n=clearTimeout(n)),h&&(f.hide(),h=null,u._signal("hideGutterTooltip",f),u.removeEventListener("mousewheel",a))}function l(t){f.setPosition(t.x,t.y)}var n,c,h,u=o.editor,d=u.renderer.$gutterLayer,f=new i(u.container);o.editor.setDefaultHandler("guttermousedown",function(t){if(u.isFocused()&&0==t.getButton()&&"foldWidgets"!=d.getRegion(t)){var e=t.getDocumentPosition().row,n=u.session.selection;if(t.getShiftKey())n.selectTo(e,0);else{if(2==t.domEvent.detail)return u.selectAll(),t.preventDefault();o.$clickSelection=u.selection.getLineRange(e)}return o.setState("selectByLines"),o.captureMouse(t),t.preventDefault()}}),o.editor.setDefaultHandler("guttermousemove",function(t){var e=t.domEvent.target||t.domEvent.srcElement;if(r.hasCssClass(e,"ace_fold-widget"))return a();h&&o.$tooltipFollowsMouse&&l(t),c=t,n||(n=setTimeout(function(){n=null,c&&!o.isMousePressed?function(){var t=c.getDocumentPosition().row,e=d.$annotations[t];if(!e)return a();if(t==u.session.getLength()){var n=u.renderer.pixelToScreenCoordinates(0,c.y).row,i=c.$pos;if(n>u.session.documentToScreenRow(i.row,i.column))return a()}if(h!=e)if(h=e.text.join("<br/>"),f.setHtml(h),f.show(),u._signal("showGutterTooltip",f),u.on("mousewheel",a),o.$tooltipFollowsMouse)l(c);else{var r=c.domEvent.target.getBoundingClientRect(),s=f.getElement().style;s.left=r.right+"px",s.top=r.bottom+"px"}}():a()},50))}),p.addListener(u.renderer.$gutter,"mouseout",function(t){c=null,h&&!n&&(n=setTimeout(function(){n=null,a()},50))}),u.on("changeSession",a)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e,n){"use strict";var i=t("../lib/event"),r=t("../lib/useragent"),s=e.MouseEvent=function(t,e){this.domEvent=t,this.editor=e,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var e=this.getDocumentPosition();this.$inSelection=t.contains(e.row,e.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e,n){"use strict";function i(e){function t(){var t,e,n,i,r,s=u;u=f.renderer.screenToTextCoordinates(p,g),t=u,e=s,n=Date.now(),i=!e||t.row!=e.row,r=!e||t.column!=e.column,!y||i||r?(f.$blockScrolling+=1,f.moveCursorToPosition(t),f.$blockScrolling-=1,y=n,b={x:p,y:g}):5<A(b.x,b.y,p,g)?y=null:200<=n-y&&(f.renderer.scrollCursorIntoView(),y=null),function(t,e){var n=Date.now(),i=f.renderer.layerConfig.lineHeight,r=f.renderer.layerConfig.characterWidth,s=f.renderer.scroller.getBoundingClientRect(),o={x:{left:p-s.left,right:s.right-p},y:{top:g-s.top,bottom:s.bottom-g}},a=Math.min(o.x.left,o.x.right),l=Math.min(o.y.top,o.y.bottom),c={row:t.row,column:t.column};a/r<=2&&(c.column+=o.x.left<o.x.right?-3:2),l/i<=1&&(c.row+=o.y.top<o.y.bottom?-1:1);var h=t.row!=c.row,u=t.column!=c.column,d=!e||t.row!=e.row;h||u&&!d?v?200<=n-v&&f.renderer.scrollCursorIntoView(c):v=n:v=null}(u,s)}function n(){h=f.selection.toOrientedRange(),l=f.session.addMarker(h,"ace_selection",f.getSelectionStyle()),f.clearSelection(),f.isFocused()&&f.renderer.$cursorLayer.setBlinking(!1),clearInterval(c),t(),c=setInterval(t,20),w=0,E.addListener(document,"mousemove",r)}function i(){clearInterval(c),f.session.removeMarker(l),l=null,f.$blockScrolling+=1,f.selection.fromOrientedRange(h),f.$blockScrolling-=1,f.isFocused()&&!m&&f.renderer.$cursorLayer.setBlinking(!f.getReadOnly()),w=0,y=v=u=h=null,E.removeListener(document,"mousemove",r)}function r(){null==x&&(x=setTimeout(function(){null!=x&&l&&i()},20))}function s(t){var e=t.types;return!e||Array.prototype.some.call(e,function(t){return"text/plain"==t||"Text"==t})}function o(t){var e=["copy","copymove","all","uninitialized"],n=k.isMac?t.altKey:t.ctrlKey,i="uninitialized";try{i=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var r="none";return n&&0<=e.indexOf(i)?r="copy":0<=["move","copymove","linkmove","all","uninitialized"].indexOf(i)?r="move":0<=e.indexOf(i)&&(r="copy"),r}var f=e.editor,a=C.createElement("img");a.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",k.isOpera&&(a.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(t){e[t]=this[t]},this),f.addEventListener("mousedown",this.onMouseDown.bind(e));var l,p,g,c,h,u,d,m,v,y,b,_=f.container,w=0;this.onDragStart=function(t){if(this.cancelDrag||!_.draggable){var e=this;return setTimeout(function(){e.startSelect(),e.captureMouse(t)},0),t.preventDefault()}h=f.getSelectionRange();var n=t.dataTransfer;n.effectAllowed=f.getReadOnly()?"copy":"copyMove",k.isOpera&&(f.container.appendChild(a),a.scrollTop=0),n.setDragImage&&n.setDragImage(a,0,0),k.isOpera&&f.container.removeChild(a),n.clearData(),n.setData("Text",f.session.getTextRange()),m=!0,this.setState("drag")},this.onDragEnd=function(t){if(_.draggable=!1,m=!1,this.setState(null),!f.getReadOnly()){var e=t.dataTransfer.dropEffect;d||"move"!=e||f.session.remove(f.getSelectionRange()),f.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){if(!f.getReadOnly()&&s(t.dataTransfer))return p=t.clientX,g=t.clientY,l||n(),w++,t.dataTransfer.dropEffect=d=o(t),E.preventDefault(t)},this.onDragOver=function(t){if(!f.getReadOnly()&&s(t.dataTransfer))return p=t.clientX,g=t.clientY,l||(n(),w++),null!==x&&(x=null),t.dataTransfer.dropEffect=d=o(t),E.preventDefault(t)},this.onDragLeave=function(t){if(--w<=0&&l)return i(),d=null,E.preventDefault(t)},this.onDrop=function(t){if(u){var e=t.dataTransfer;if(m)switch(d){case"move":h=h.contains(u.row,u.column)?{start:u,end:u}:f.moveText(h,u);break;case"copy":h=f.moveText(h,u,!0)}else{var n=e.getData("Text");h={start:u,end:f.session.insert(u,n)},f.focus(),d=null}return i(),E.preventDefault(t)}},E.addListener(_,"dragstart",this.onDragStart.bind(e)),E.addListener(_,"dragend",this.onDragEnd.bind(e)),E.addListener(_,"dragenter",this.onDragEnter.bind(e)),E.addListener(_,"dragover",this.onDragOver.bind(e)),E.addListener(_,"dragleave",this.onDragLeave.bind(e)),E.addListener(_,"drop",this.onDrop.bind(e));var x=null}function A(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}var C=t("../lib/dom"),E=t("../lib/event"),k=t("../lib/useragent");(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor;t.container.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var e=k.isWin?"default":"move";t.renderer.setCursorStyle(e),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;k.isIE&&"dragReady"==this.state&&(3<A(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&e.dragDrop());"dragWait"===this.state&&(0<A(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,n=t.inSelection(),i=t.getButton();if(1===(t.domEvent.detail||1)&&0===i&&n){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=t.domEvent.target||t.domEvent.srcElement;"unselectable"in r&&(r.unselectable="on"),e.getDragDelay()?(k.isWebKit&&(this.cancelDrag=!0,e.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(i.prototype),e.DragdropHandler=i}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,e,n){"use strict";var r=t("./dom");e.get=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&e(n.responseText)},n.send(null)},e.loadScript=function(t,n){var e=r.getDocumentHead(),i=document.createElement("script");i.src=t,e.appendChild(i),i.onload=i.onreadystatechange=function(t,e){!e&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,e||n())}},e.qualifyURL=function(t){var e=document.createElement("a");return e.href=t,e.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(t,e,n){"use strict";var i={},s=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(t,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[t]||[],i=this._defaultHandlers[t];if(n.length||i){"object"==typeof e&&e||(e={}),e.type||(e.type=t),e.stopPropagation||(e.stopPropagation=s),e.preventDefault||(e.preventDefault=o),n=n.slice();for(var r=0;r<n.length&&(n[r](e,this),!e.propagationStopped);r++);return i&&!e.defaultPrevented?i(e,this):void 0}},i._signal=function(t,e){var n=(this._eventRegistry||{})[t];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](e,this)}},i.once=function(e,n){var i=this;n&&this.addEventListener(e,function t(){i.removeEventListener(e,t),n.apply(null,arguments)})},i.setDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[t]){var i=n[t],r=n._disabled_[t];r||(n._disabled_[t]=r=[]),r.push(i);var s=r.indexOf(e);-1!=s&&r.splice(s,1)}n[t]=e},i.removeDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n){var i=n._disabled_[t];if(n[t]==e)n[t],i&&this.setDefaultHandler(t,i.pop());else if(i){var r=i.indexOf(e);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(t,e,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[t];return i||(i=this._eventRegistry[t]=[]),-1==i.indexOf(e)&&i[n?"unshift":"push"](e),e},i.off=i.removeListener=i.removeEventListener=function(t,e){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(t){this._eventRegistry&&(this._eventRegistry[t]=[])},e.EventEmitter=i}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,n){function i(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function r(t,e){var n=new Error(t);n.data=e,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var s=t("./oop"),o=t("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(t){var e={};return t?Array.isArray(t)||(e=t,t=Object.keys(e)):t=Object.keys(this.$options),t.forEach(function(t){e[t]=this.getOption(t)},this),e},setOption:function(t,e){if(this["$"+t]!==e){var n=this.$options[t];if(!n)return i('misspelled option "'+t+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(t,e);n.handlesSet||(this["$"+t]=e),n&&n.set&&n.set.call(this,e)}},getOption:function(t){var e=this.$options[t];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(t):e&&e.get?e.get.call(this):this["$"+t]:i('misspelled option "'+t+'"')}},l=function(){this.$defaultOptions={}};(function(){s.implement(this,o),this.defineOptions=function(n,t,i){return n.$options||(this.$defaultOptions[t]=n.$options={}),Object.keys(i).forEach(function(t){var e=i[t];"string"==typeof e&&(e={forwardTo:e}),e.name||(e.name=t),"initialValue"in(n.$options[e.name]=e)&&(n["$"+e.name]=e.initialValue)}),s.implement(n,a),this},this.resetOptions=function(n){Object.keys(n.$options).forEach(function(t){var e=n.$options[t];"value"in e&&n.setOption(t,e.value)})},this.setDefaultValue=function(t,e,n){var i=this.$defaultOptions[t]||(this.$defaultOptions[t]={});i[e]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,e,n):i[e].value=n)},this.setDefaultValues=function(e,n){Object.keys(n).forEach(function(t){this.setDefaultValue(e,t,n[t])},this)},this.warn=i,this.reportError=r}).call(l.prototype),e.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(g,m,v){function t(t){if(y&&y.document){b.packaged=t||g.packaged||v.packaged||y.define&&_(74).packaged;for(var e={},n="",i=document.currentScript||document._currentScript,r=(i&&i.ownerDocument||document).getElementsByTagName("script"),s=0;s<r.length;s++){var o=r[s],a=o.src||o.getAttribute("src");if(a){for(var l=o.attributes,c=0,h=l.length;c<h;c++){var u=l[c];0===u.name.indexOf("data-ace-")&&(e[(p=u.name.replace(/^data-ace-/,""),p.replace(/-(.)/g,function(t,e){return e.toUpperCase()}))]=u.value)}var d=a.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);d&&(n=d[1])}}for(var f in n&&(e.base=e.base||n,e.packaged=!0),e.basePath=e.base,e.workerPath=e.workerPath||e.base,e.modePath=e.modePath||e.base,e.themePath=e.themePath||e.base,delete e.base,e)void 0!==e[f]&&m.set(f,e[f])}var p}var e=g("./lib/lang"),s=(g("./lib/oop"),g("./lib/net")),n=g("./lib/app_config").AppConfig;v.exports=m=new n;var y=function(){return this||"undefined"!=typeof window&&window}(),b={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};m.get=function(t){if(!b.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return b[t]},m.set=function(t,e){if(!b.hasOwnProperty(t))throw new Error("Unknown config key: "+t);b[t]=e},m.all=function(){return e.copyObject(b)},m.moduleUrl=function(t,e){if(b.$moduleUrls[t])return b.$moduleUrls[t];var n=t.split("/"),i="snippets"==(e=e||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==e&&"-"==i){var s=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");r=r.replace(s,"")}(!r||r==e)&&1<n.length&&(r=n[n.length-2]);var o=b[e+"Path"];return null==o?o=b.basePath:"/"==i&&(e=i=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+e+i+r+this.get("suffix")},m.setModuleUrl=function(t,e){return b.$moduleUrls[t]=e},m.$loading={},m.loadModule=function(n,t){var e,i;Array.isArray(n)&&(i=n[0],n=n[1]);try{e=g(n)}catch(t){}if(e&&!m.$loading[n])return t&&t(e);if(m.$loading[n]||(m.$loading[n]=[]),m.$loading[n].push(t),!(1<m.$loading[n].length)){var r=function(){g([n],function(e){m._emit("load.module",{name:n,module:e});var t=m.$loading[n];m.$loading[n]=null,t.forEach(function(t){t&&t(e)})})};if(!m.get("packaged"))return r();s.loadScript(m.moduleUrl(n,i),r)}},t(!0),m.init=t}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(t,e,n){"use strict";var l=t("../lib/event"),c=t("../lib/useragent"),i=t("./default_handlers").DefaultHandlers,o=t("./default_gutter_handler").GutterHandler,h=t("./mouse_event").MouseEvent,a=t("./dragdrop_handler").DragdropHandler,r=t("../config"),s=function(r){var s=this;this.editor=r,new i(this),new o(this),new a(this);var t=function(t){(!document.hasFocus||!document.hasFocus()||!r.isFocused()&&document.activeElement==(r.textInput&&r.textInput.getElement()))&&window.focus(),r.focus()},e=r.renderer.getMouseEventTarget();l.addListener(e,"click",this.onMouseEvent.bind(this,"click")),l.addListener(e,"mousemove",this.onMouseMove.bind(this,"mousemove")),l.addMultiMouseDownListener([e,r.renderer.scrollBarV&&r.renderer.scrollBarV.inner,r.renderer.scrollBarH&&r.renderer.scrollBarH.inner,r.textInput&&r.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),l.addMouseWheelListener(r.container,this.onMouseWheel.bind(this,"mousewheel")),l.addTouchMoveListener(r.container,this.onTouchMove.bind(this,"touchmove"));var n=r.renderer.$gutter;l.addListener(n,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),l.addListener(n,"click",this.onMouseEvent.bind(this,"gutterclick")),l.addListener(n,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),l.addListener(n,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),l.addListener(e,"mousedown",t),l.addListener(n,"mousedown",t),c.isIE&&r.renderer.scrollBarV&&(l.addListener(r.renderer.scrollBarV.element,"mousedown",t),l.addListener(r.renderer.scrollBarH.element,"mousedown",t)),r.on("mousemove",function(t){if(!s.state&&!s.$dragDelay&&s.$dragEnabled){var e=r.renderer.screenToTextCoordinates(t.x,t.y),n=r.session.selection.getRange(),i=r.renderer;!n.isEmpty()&&n.insideStart(e.row,e.column)?i.setCursorStyle("default"):i.setCursorStyle("")}})};(function(){this.onMouseEvent=function(t,e){this.editor._emit(t,new h(e,this.editor))},this.onMouseMove=function(t,e){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(t,new h(e,this.editor))},this.onMouseWheel=function(t,e){var n=new h(e,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.onTouchMove=function(t,e){var n=new h(e,this.editor);n.speed=1,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.setState=function(t){this.state=t},this.captureMouse=function(t,e){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var i=this,r=function(t){if(t){if(c.isWebKit&&!t.which&&i.releaseMouse)return i.releaseMouse();i.x=t.clientX,i.y=t.clientY,e&&e(t),i.mouseEvent=new h(t,i.editor),i.$mouseMoved=!0}},s=function(t){clearInterval(a),o(),i[i.state+"End"]&&i[i.state+"End"](t),i.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),i.isMousePressed=!1,i.$onCaptureMouseMove=i.releaseMouse=null,t&&i.onMouseEvent("mouseup",t)},o=function(){i[i.state]&&i[i.state](),i.$mouseMoved=!1};if(c.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout(function(){s(t)});i.$onCaptureMouseMove=r,i.releaseMouse=l.capture(this.editor.container,r,s);var a=setInterval(o,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&l.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(s.prototype),r.defineOptions(s.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:c.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),e.MouseHandler=s}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(t,e,n){"use strict";e.FoldHandler=function(o){o.on("click",function(t){var e=t.getDocumentPosition(),n=o.session,i=n.getFoldAt(e.row,e.column,1);i&&(t.getAccelKey()?n.removeFold(i):n.expandFold(i),t.stop())}),o.on("gutterclick",function(t){if("foldWidgets"==o.renderer.$gutterLayer.getRegion(t)){var e=t.getDocumentPosition().row,n=o.session;n.foldWidgets&&n.foldWidgets[e]&&o.session.onFoldWidgetClick(e,t),o.isFocused()||o.focus(),t.stop()}}),o.on("gutterdblclick",function(t){if("foldWidgets"==o.renderer.$gutterLayer.getRegion(t)){var e=t.getDocumentPosition().row,n=o.session,i=n.getParentFoldRangeData(e,!0),r=i.range||i.firstRange;if(r){e=r.start.row;var s=n.getFoldAt(e,n.getLine(e).length,1);s?n.removeFold(s):(n.addFold("...",r),o.renderer.scrollCursorIntoView({row:r.start.row,column:0}))}t.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,e,n){"use strict";var r=t("../lib/keys"),l=t("../lib/event"),i=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(t){var e=this.$handlers;if(e[e.length-1]!=t){for(;e[e.length-1]&&e[e.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(e[e.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,e){if(t){"function"!=typeof t||t.handleKeyboard||(t.handleKeyboard=t);var n=this.$handlers.indexOf(t);-1!=n&&this.$handlers.splice(n,1),null==e?this.$handlers.push(t):this.$handlers.splice(e,0,t),-1==n&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var e=this.$handlers.indexOf(t);return-1!=e&&(this.$handlers.splice(e,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,n=e.editor;return this.$handlers.map(function(t){return t.getStatusText&&t.getStatusText(n,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(t,e,n,i){for(var r,s=!1,o=this.$editor.commands,a=this.$handlers.length;a--&&!((r=this.$handlers[a].handleKeyboard(this.$data,t,e,n,i))&&r.command&&((s="null"==r.command||o.exec(r.command,this.$editor,r.args,i))&&i&&-1!=t&&1!=r.passEvent&&1!=r.command.passEvent&&l.stopEvent(i),s)););return s||-1!=t||(r={command:"insertstring"},s=o.exec("insertstring",this.$editor,e)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",r),s},this.onCommandKey=function(t,e,n){var i=r.keyCodeToString(n);this.$callKeyboardHandlers(e,i,n,t)},this.onTextInput=function(t){this.$callKeyboardHandlers(-1,t)}}).call(i.prototype),e.KeyBinding=i}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(t,l,e){"use strict";function c(t,e,n){if(!(y<t)){if(1==t&&1==v&&!_)return void n.reverse();for(var i,r,s,o,a=n.length,l=0;l<a;){if(e[l]>=t){for(i=l+1;i<a&&e[i]>=t;)i++;for(r=l,s=i-1;r<s;r++,s--)o=n[r],n[r]=n[s],n[s]=o;l=i}l++}}}function g(t,e,n,i){var r,s,o,a,l=e[i];switch(l){case u:case d:b=!1;case C:case p:return l;case f:return b?p:f;case S:return b=!0,d;case F:return C;case T:return i<1||i+1>=e.length||(r=n[i-1])!=f&&r!=p||(s=e[i+1])!=f&&s!=p?C:(b&&(s=p),s==r?s:C);case D:return(r=0<i?n[i-1]:E)==f&&i+1<e.length&&e[i+1]==f?f:C;case M:if(0<i&&n[i-1]==f)return f;if(b)return C;for(a=i+1,o=e.length;a<o&&e[a]==M;)a++;return a<o&&e[a]==f?f:C;case P:for(o=e.length,a=i+1;a<o&&e[a]==P;)a++;if(a<o){var c=t[i],h=1425<=c&&c<=2303||64286==c;if(r=e[a],h&&(r==d||r==S))return d}return i<1||(r=e[i-1])==E?C:n[i-1];case E:return _=!(b=!1),v;case k:return w=!0,C;case L:case B:case R:case O:case $:b=!1;case I:return C}}function m(t){var e=t.charCodeAt(0),n=e>>8;return 0==n?191<e?u:i[e]:5==n?/[\u0591-\u05f4]/.test(t)?d:u:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(t)?P:/[\u0660-\u0669\u066b-\u066c]/.test(t)?p:1642==e?M:/[\u06f0-\u06f9]/.test(t)?f:S:32==n&&e<=8287?r[255&e]:254==n&&65136<=e?S:C}var v=0,y=0,b=!1,_=!1,w=!1,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=0,d=1,f=2,p=3,C=4,E=5,k=6,S=7,F=8,T=9,D=10,M=11,P=12,L=13,B=14,$=15,R=16,O=17,I=18,i=[I,I,I,I,I,I,I,I,I,k,E,k,F,E,I,I,I,I,I,I,I,I,I,I,I,I,I,I,E,E,E,k,F,C,C,M,M,M,C,C,C,C,C,D,T,D,T,T,f,f,f,f,f,f,f,f,f,f,T,C,C,C,C,C,C,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,C,C,C,C,C,C,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,C,C,C,C,I,I,I,I,I,I,E,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,T,C,M,M,M,M,C,C,C,C,u,C,C,I,C,C,M,M,f,f,C,u,C,C,C,f,u,C,C,C,C,C],r=[F,F,F,F,F,F,F,F,F,F,F,I,I,I,u,d,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,F,E,L,B,$,R,O,T,M,M,M,M,M,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,T,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,F];l.L=u,l.R=d,l.EN=f,l.ON_R=3,l.AN=4,l.R_H=5,l.B=6,l.DOT="·",l.doBidiReorder=function(t,e,n){if(t.length<2)return{};var i=t.split(""),r=new Array(i.length),s=new Array(i.length),o=[];v=n?1:0,function(t,e,n,i){var r=v?A:x,s=null,o=null,a=null,l=0,c=null,h=-1,u=null,d=null,f=[];if(!i)for(u=0,i=[];u<n;u++)i[u]=m(t[u]);for(y=v,w=_=b=!1,d=0;d<n;d++){if(s=l,f[d]=o=g(t,i,f,d),c=240&(l=r[s][o]),l&=15,e[d]=a=r[l][5],0<c)if(16==c){for(u=h;u<d;u++)e[u]=1;h=-1}else h=-1;if(r[l][6])-1==h&&(h=d);else if(-1<h){for(u=h;u<d;u++)e[u]=a;h=-1}i[d]==E&&(e[d]=0),y|=a}if(w)for(u=0;u<n;u++)if(i[u]==k){e[u]=v;for(var p=u-1;0<=p&&i[p]==F;p--)e[p]=v}}(i,o,i.length,e);for(var a=0;a<r.length;r[a]=a,a++);c(2,o,r),c(1,o,r);for(a=0;a<r.length-1;a++)e[a]===p?o[a]=l.AN:o[a]===d&&(e[a]>S&&e[a]<L||e[a]===C||e[a]===I)?o[a]=l.ON_R:0<a&&"ل"===i[a-1]&&/\u0622|\u0623|\u0625|\u0627/.test(i[a])&&(o[a-1]=o[a]=l.R_H,a++);i[i.length-1]===l.DOT&&(o[i.length-1]=l.B);for(a=0;a<r.length;a++)s[a]=o[r[a]];return{logicalFromVisual:r,bidiLevels:s}},l.hasBidiCharacters=function(t,e){for(var n=!1,i=0;i<t.length;i++)e[i]=m(t.charAt(i)),n||e[i]!=d&&e[i]!=S||(n=!0);return n},l.getVisualFromLogicalIdx=function(t,e){for(var n=0;n<e.logicalFromVisual.length;n++)if(e.logicalFromVisual[n]==t)return n;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],function(t,e,n){"use strict";var p=t("./lib/bidiutil"),o=t("./lib/lang"),i=t("./lib/useragent"),r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,s=function(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=p,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.isLastRow=!1,this.EOF="¶",this.seenBidi=!1};(function(){this.isBidiRow=function(t,e,n){return!!this.seenBidi&&(t!==this.currentRow&&(this.currentRow=t,this.updateRowLine(e,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(t){this.seenBidi?this.currentRow=null:"insert"==t.action&&r.test(t.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var t=0,e=this.session.$screenRowCache;if(e.length){var n=this.session.$getRowCacheIndex(e,this.currentRow);0<=n&&(t=this.session.$docRowCache[n])}return t},this.getSplitIndex=function(){var t=0,e=this.session.$screenRowCache;if(e.length)for(var n,i=this.session.$getRowCacheIndex(e,this.currentRow);0<this.currentRow-t&&(n=this.session.$getRowCacheIndex(e,this.currentRow-t-1))===i;)i=n,t++;return t},this.updateRowLine=function(t,e){if(void 0===t&&(t=this.getDocumentRow()),this.wrapIndent=0,this.isLastRow=t===this.session.getLength()-1,this.line=this.session.getLine(t),this.session.$useWrapMode){var n=this.session.$wrapData[t];n&&(void 0===e&&(e=this.getSplitIndex()),0<e&&n.length?(this.wrapIndent=n.indent,this.line=e<n.length?this.line.substring(n[e-1],n[n.length-1]):this.line.substring(n[n.length-1])):this.line=this.line.substring(0,n[e]))}var i,r=this.session,s=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(t,e){return"\t"===t||r.isFullWidth(t.charCodeAt(0))?(i="\t"===t?r.getScreenTabSize(e+s):2,s+=i-1,o.stringRepeat(p.DOT,i)):t})},this.updateBidiMap=function(){var t=[],e=this.isLastRow?this.EOF:this.EOL,n=this.line+(this.showInvisibles?e:p.DOT);p.hasBidiCharacters(n,t)?this.bidiMap=p.doBidiReorder(n,t,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(t){if(this.seenBidi&&this.characterWidth!==t.$characterSize.width){var e=this.characterWidth=t.$characterSize.width,n=t.$measureCharWidth("ה");this.charWidths[p.L]=this.charWidths[p.EN]=this.charWidths[p.ON_R]=e,this.charWidths[p.R]=this.charWidths[p.AN]=n,this.charWidths[p.R_H]=i.isChrome?n:.45*n,this.charWidths[p.B]=0,this.currentRow=null}},this.getShowInvisibles=function(){return this.showInvisibles},this.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},this.setEolChar=function(t){this.EOL=t},this.setTextDir=function(t){this.isRtlDir=t},this.getPosLeft=function(t){t-=this.wrapIndent;var e=p.getVisualFromLogicalIdx(0<t?t-1:0,this.bidiMap),n=this.bidiMap.bidiLevels,i=0;0===t&&n[e]%2!=0&&e++;for(var r=0;r<e;r++)i+=this.charWidths[n[r]];return 0!==t&&n[e]%2==0&&(i+=this.charWidths[n[e]]),this.wrapIndent&&(i+=this.wrapIndent*this.charWidths[p.L]),i},this.getSelections=function(t,e){for(var n,i,r=this.bidiMap,s=r.bidiLevels,o=this.wrapIndent*this.charWidths[p.L],a=[],l=Math.min(t,e)-this.wrapIndent,c=Math.max(t,e)-this.wrapIndent,h=!1,u=!1,d=0,f=0;f<s.length;f++)i=r.logicalFromVisual[f],n=s[f],(h=l<=i&&i<c)&&!u?d=o:!h&&u&&a.push({left:d,width:o-d}),o+=this.charWidths[n],u=h;return h&&f===s.length&&a.push({left:d,width:o-d}),a},this.offsetToCol=function(t){var e=0,n=(t=Math.max(t,0),0),i=0,r=this.bidiMap.bidiLevels,s=this.charWidths[r[i]];for(this.wrapIndent&&(t-=this.wrapIndent*this.charWidths[p.L]);n+s/2<t;){if(n+=s,i===r.length-1){s=0;break}s=this.charWidths[r[++i]]}return 0<i&&r[i-1]%2!=0&&r[i]%2==0?(t<n&&i--,e=this.bidiMap.logicalFromVisual[i]):0<i&&r[i-1]%2==0&&r[i]%2!=0?e=1+(n<t?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===r.length-1&&0===s&&r[i-1]%2==0||!this.isRtlDir&&0===i&&r[i]%2!=0?e=1+this.bidiMap.logicalFromVisual[i]:(0<i&&r[i-1]%2!=0&&0!==s&&i--,e=this.bidiMap.logicalFromVisual[i]),e+this.wrapIndent}}).call(s.prototype),e.BidiHandler=s}),ace.define("ace/range",["require","exports","module"],function(t,e,n){"use strict";var s=function(t,e,n,i){this.start={row:t,column:e},this.end={row:n,column:i}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,e){return 0==this.compare(t,e)},this.compareRange=function(t){var e,n=t.end,i=t.start;return 1==(e=this.compare(n.row,n.column))?1==(e=this.compare(i.row,i.column))?2:0==e?1:0:-1==e?-2:-1==(e=this.compare(i.row,i.column))?-1:1==e?42:0},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var e=this.compareRange(t);return-1==e||0==e||1==e},this.isEnd=function(t,e){return this.end.row==t&&this.end.column==e},this.isStart=function(t,e){return this.start.row==t&&this.start.column==e},this.setStart=function(t,e){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=e)},this.setEnd=function(t,e){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=e)},this.inside=function(t,e){return 0==this.compare(t,e)&&!this.isEnd(t,e)&&!this.isStart(t,e)},this.insideStart=function(t,e){return 0==this.compare(t,e)&&!this.isEnd(t,e)},this.insideEnd=function(t,e){return 0==this.compare(t,e)&&!this.isStart(t,e)},this.compare=function(t,e){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?e>=this.start.column?0:-1:this.end.row===t?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(t,e){return this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.compareEnd=function(t,e){return this.end.row==t&&this.end.column==e?1:this.compare(t,e)},this.compareInside=function(t,e){return this.end.row==t&&this.end.column==e?1:this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.clipRows=function(t,e){if(this.end.row>e)var n={row:e+1,column:0};else if(this.end.row<t)n={row:t,column:0};if(this.start.row>e)var i={row:e+1,column:0};else if(this.start.row<t)i={row:t,column:0};return s.fromPoints(i||this.start,n||this.end)},this.extend=function(t,e){var n=this.compare(t,e);if(0==n)return this;if(-1==n)var i={row:t,column:e};else var r={row:t,column:e};return s.fromPoints(i||this.start,r||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return s.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new s(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new s(this.start.row,0,this.end.row,0)},this.toScreenRange=function(t){var e=t.documentToScreenPosition(this.start),n=t.documentToScreenPosition(this.end);return new s(e.row,e.column,n.row,n.column)},this.moveBy=function(t,e){this.start.row+=t,this.start.column+=e,this.end.row+=t,this.end.column+=e}}).call(s.prototype),s.fromPoints=function(t,e){return new s(t.row,t.column,e.row,e.column)},s.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},s.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},e.Range=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,e,n){"use strict";var i=t("./lib/oop"),o=t("./lib/lang"),r=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var e=this;this.lead.on("change",function(t){e._emit("changeCursor"),e.$isEmpty||e._emit("changeSelection"),e.$keepDesiredColumnOnChange||t.old.column==t.value.column||(e.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){e.$isEmpty||e._emit("changeSelection")})};(function(){i.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.anchor.setPosition(t,e),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(t){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+t);else{var e=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();i&&0===e.column||this.setSelectionAnchor(e.row,e.column+t),(i||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+t)})}},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.isEmpty()?s.fromPoints(e,e):this.isBackwards()?s.fromPoints(e,t):s.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var t=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(t,this.doc.getLine(t).length)},this.setRange=this.setSelectionRange=function(t,e){e?(this.setSelectionAnchor(t.end.row,t.end.column),this.selectTo(t.start.row,t.start.column)):(this.setSelectionAnchor(t.start.row,t.start.column),this.selectTo(t.end.row,t.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection(function(){this.moveCursorTo(t,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if(void 0===e){var n=t||this.lead;t=n.row,e=n.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var n,i="number"==typeof t?t:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===e?new s(i,0,n,this.session.getLine(n).length):new s(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,e,n){var i=t.column,r=t.column+e;return n<0&&(i=t.column-e,r=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(i,r).split(" ").length-1==e},this.moveCursorLeft=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===e.column)0<e.row&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(e,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();e=this.lead;this.wouldMoveIntoSoftTab(e,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,n=this.session.documentToScreenRow(t,e),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(t,null,i.row,i.column).match(/^\s*/);r[0].length==e||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var n=this.session.getLine(e.row);if(e.column==n.length){var i=n.search(/\s+$/);0<i&&(e.column=i)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,e,1);return r?void this.moveCursorTo(r.end.row,r.end.column):(this.session.nonTokenRe.exec(i)&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(e)),e>=n.length?(this.moveCursorTo(t,n.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight())):(this.session.tokenRe.exec(i)&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,e)))},this.moveCursorLongWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))this.moveCursorTo(t.start.row,t.start.column);else{var i=this.session.getFoldStringAt(e,n,-1);null==i&&(i=this.doc.getLine(e).substring(0,n));var r=o.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(r)&&(n-=this.session.nonTokenRe.lastIndex,r=r.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(e,0),this.moveCursorLeft(),void(0<e&&this.moveCursorWordLeft());this.session.tokenRe.exec(r)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,n)}},this.$shortWordEndIndex=function(t){var e,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(t))n=this.session.tokenRe.lastIndex;else{for(;(e=t[n])&&i.test(e);)n++;if(n<1)for(r.lastIndex=0;(e=t[n])&&!r.test(e);)if(r.lastIndex=0,n++,i.test(e)){if(2<n){n--;break}for(;(e=t[n])&&i.test(e);)n++;if(2<n)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e),r=this.session.getFoldAt(t,e,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(e==n.length){for(var s=this.doc.getLength();t++,i=this.doc.getLine(t),t<s&&/^\s*$/.test(i););/^\s+/.test(i)||(i=""),e=0}var o=this.$shortWordEndIndex(i);this.moveCursorTo(t,e+o)},this.moveCursorShortWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))return this.moveCursorTo(t.start.row,t.start.column);var i=this.session.getLine(e).substring(0,n);if(0===n){for(;e--,i=this.doc.getLine(e),0<e&&/^\s*$/.test(i););n=i.length,/\s+$/.test(i)||(i="")}var r=o.stringReverse(i),s=this.$shortWordEndIndex(r);return this.moveCursorTo(e,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===e&&(0!==t&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column);var r=this.session.screenToDocumentPosition(i.row+t,i.column,n);0!==t&&0===e&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&(0<r.row||0<t)&&r.row++,this.moveCursorTo(r.row,r.column+e,0===e)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,n){var i=this.session.getFoldAt(t,e,1);i&&(t=i.start.row,e=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(r.charAt(e))&&r.charAt(e-1)&&(this.lead.row==t&&this.lead.column==e+1?e-=1:e+=1),this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,n){var i=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var n=this.getCursor();return s.fromPoints(e,n)}catch(t){return s.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(t){var e=t.clone();return e.isBackwards=t.cursor==t.start,e});else(t=this.getRange()).isBackwards=this.isBackwards();return t},this.fromJSON=function(t){if(null==t.start){if(this.rangeList){this.toSingleRange(t[0]);for(var e=t.length;e--;){var n=s.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(a.prototype),e.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(t,e,n){"use strict";var i=t("./config"),y=2e3,r=function(t){for(var e in this.states=t,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[e],i=[],r=0,s=this.matchMappings[e]={defaultToken:"text"},o="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(s.defaultToken=c.defaultToken),c.caseInsensitive&&(o="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var h=c.regex,u=new RegExp("(?:("+h+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==u?c.token=c.token[0]:u-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:u-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=1<u?this.$applyToken:c.token),1<u&&(/\\\d/.test(c.regex)?h=c.regex.replace(/\\([0-9]+)/g,function(t,e){return"\\"+(parseInt(e,10)+r+1)}):(u=1,h=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),s[r]=l,r+=u,i.push(h),c.onMatch||(c.onMatch=null)}}i.length||(s[0]=0,i.push("$")),a.forEach(function(t){t.splitRegex=this.createSplitterRegexp(t.regex,o)},this),this.regExps[e]=new RegExp("("+i.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(t){y=0|t},this.$applyToken=function(t){var e=this.splitRegex.exec(t).slice(1),n=this.token.apply(this,e);if("string"==typeof n)return[{type:n,value:t}];for(var i=[],r=0,s=n.length;r<s;r++)e[r]&&(i[i.length]={type:n[r],value:e[r]});return i},this.$arrayTokens=function(t){if(!t)return[];var e=this.splitRegex.exec(t);if(!e)return"text";for(var n=[],i=this.tokenArray,r=0,s=i.length;r<s;r++)e[r+1]&&(n[n.length]={type:i[r],value:e[r+1]});return n},this.removeCapturingGroups=function(t){return t.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(t,e){return e?"(?:":t})},this.createSplitterRegexp=function(t,e){if(-1!=t.indexOf("(?=")){var o=0,a=!1,l={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(t,e,n,i,r,s){return a?a="]"!=r:r?a=!0:i?(o==l.stack&&(l.end=s+1,l.stack=-1),o--):n&&(o++,1!=n.length&&(l.stack=o,l.start=s)),t}),null!=l.end&&/^\)*$/.test(t.substr(l.end))&&(t=t.substring(0,l.start)+t.substr(l.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(e||"").replace("g",""))},this.getLineTokens=function(t,e){if(e&&"string"!=typeof e)"#tmp"===(e=(n=e.slice(0))[0])&&(n.shift(),e=n.shift());else var n=[];var i=e||"start",r=this.states[i];r||(i="start",r=this.states[i]);for(var s,o=this.matchMappings[i],a=this.regExps[i],l=[],c=a.lastIndex=0,h=0,u={type:null,value:""};s=a.exec(t);){var d=o.defaultToken,f=null,p=s[0],g=a.lastIndex;if(g-p.length>c){var m=t.substring(c,g-p.length);u.type==d?u.value+=m:(u.type&&l.push(u),u={type:d,value:m})}for(var v=0;v<s.length-2;v++)if(void 0!==s[v+1]){d=(f=r[o[v]]).onMatch?f.onMatch(p,i,n,t):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),(r=this.states[i])||(this.reportError("state doesn't exist",i),i="start",r=this.states[i]),o=this.matchMappings[i],c=g,(a=this.regExps[i]).lastIndex=g),f.consumeLineEnd&&(c=g);break}if(p)if("string"==typeof d)f&&!1===f.merge||u.type!==d?(u.type&&l.push(u),u={type:d,value:p}):u.value+=p;else if(d){u.type&&l.push(u),u={type:null,value:""};for(v=0;v<d.length;v++)l.push(d[v])}if(c==t.length)break;if(c=g,h++>y){for(h>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:e,line:t});c<t.length;)u.type&&l.push(u),u={value:t.substring(c,c+=2e3),type:"overflow"};i="start",n=[];break}}return u.type&&l.push(u),1<n.length&&n[0]!==i&&n.unshift("#tmp",i),{tokens:l,state:n.length?n:i}},this.reportError=i.reportError}).call(r.prototype),e.Tokenizer=r}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(t,e,n){"use strict";var c=t("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,e){if(e)for(var n in t){for(var i=t[n],r=0;r<i.length;r++){var s=i[r];(s.next||s.onMatch)&&("string"==typeof s.next&&0!==s.next.indexOf(e)&&(s.next=e+s.next),s.nextState&&0!==s.nextState.indexOf(e)&&(s.nextState=e+s.nextState))}this.$rules[e+n]=i}else for(var n in t)this.$rules[n]=t[n]},this.getRules=function(){return this.$rules},this.embedRules=function(t,e,n,i,r){var s="function"==typeof t?(new t).getRules():t;if(i)for(var o=0;o<i.length;o++)i[o]=e+i[o];else for(var a in i=[],s)i.push(e+a);if(this.addRules(s,e),n){var l=Array.prototype[r?"push":"unshift"];for(o=0;o<i.length;o++)l.apply(this.$rules[i[o]],c.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var f=function(t,e){return("start"!=t||e.length)&&e.unshift(this.nextState,t),this.nextState},p=function(t,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){var u=0,d=this.$rules;Object.keys(d).forEach(function t(e){var n=d[e];n.processed=!0;for(var i=0;i<n.length;i++){var r=n[i],s=null;Array.isArray(r)&&(s=r,r={}),!r.regex&&r.start&&(r.regex=r.start,r.next||(r.next=[]),r.next.push({defaultToken:r.token},{token:r.token+".end",regex:r.end||r.start,next:"pop"}),r.token=r.token+".start",r.push=!0);var o=r.next||r.push;if(o&&Array.isArray(o)){var a=r.stateName;a||("string"!=typeof(a=r.token)&&(a=a[0]||""),d[a]&&(a+=u++)),d[a]=o,t(r.next=a)}else"pop"==o&&(r.next=p);if(r.push&&(r.nextState=r.next||r.push,r.next=f,delete r.push),r.rules)for(var l in r.rules)d[l]?d[l].push&&d[l].push.apply(d[l],r.rules[l]):d[l]=r.rules[l];var c="string"==typeof r?r:r.include;if(c&&(s=Array.isArray(c)?c.map(function(t){return d[t]}):d[c]),s){var h=[i,1].concat(s);r.noEscape&&(h=h.filter(function(t){return!t.next})),n.splice.apply(n,h),i--}r.keywordMap&&(r.token=this.createKeywordMapper(r.keywordMap,r.defaultToken||"text",r.caseInsensitive),delete r.defaultToken)}},this)},this.createKeywordMapper=function(r,e,s,o){var a=Object.create(null);return Object.keys(r).forEach(function(t){var e=r[t];s&&(e=e.toLowerCase());for(var n=e.split(o||"|"),i=n.length;i--;)a[n[i]]=t}),Object.getPrototypeOf(a)&&(a.__proto__=null),this.$keywordList=Object.keys(a),r=null,s?function(t){return a[t.toLowerCase()]||e}:function(t){return a[t]||e}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),e.TextHighlightRules=i}),ace.define("ace/mode/behaviour",["require","exports","module"],function(t,e,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(t,e,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][e]=n},this.addBehaviours=function(t){for(var e in t)for(var n in t[e])this.add(e,n,t[e][n])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,e){if("function"==typeof t)var n=(new t).getBehaviours(e);else n=t.getBehaviours(e);this.addBehaviours(n)},this.getBehaviours=function(t){if(t){for(var e={},n=0;n<t.length;n++)this.$behaviours[t[n]]&&(e[t[n]]=this.$behaviours[t[n]]);return e}return this.$behaviours}}).call(i.prototype),e.Behaviour=i}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(t,e,n){"use strict";var i=t("./range").Range,r=function(t,e,n){this.$session=t,this.$row=e,this.$rowTokens=t.getTokens(e);var i=t.getTokenAt(e,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var t;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,e=this.$tokenIndex,n=t[e].start;if(void 0!==n)return n;for(n=0;0<e;)n+=t[e-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],e=this.getCurrentTokenColumn();return new i(this.$row,e,this.$row,e+t.value.length)}}).call(r.prototype),e.TokenIterator=r}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,e,n){"use strict";var p,i=t("../../lib/oop"),r=t("../behaviour").Behaviour,s=t("../../token_iterator").TokenIterator,g=t("../../lib/lang"),o=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],l={},w={'"':'"',"'":"'"},x=function(t){var e=-1;if(t.multiSelect&&(e=t.selection.index,l.rangeCount!=t.multiSelect.rangeCount&&(l={rangeCount:t.multiSelect.rangeCount})),l[e])return p=l[e];p=l[e]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},A=function(t,e,n,i){var r=t.end.row-t.start.row;return{text:n+e+i,selection:[0,t.start.column+1,r,t.end.column+(r?0:1)]}},m=function(f){this.add("braces","insertion",function(t,e,n,i,r){var s=n.getCursorPosition(),o=i.doc.getLine(s.row);if("{"==r){x(n);var a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(""!==l&&"{"!==l&&n.getWrapBehavioursEnabled())return A(a,l,"{","}");if(m.isSaneInsertion(n,i))return/[\]\}\)]/.test(o[s.column])||n.inMultiSelectMode||f&&f.braces?(m.recordAutoInsert(n,i,"}"),{text:"{}",selection:[1,1]}):(m.recordMaybeInsert(n,i,"{"),{text:"{",selection:[1,1]})}else if("}"==r){if(x(n),"}"==o.substring(s.column,s.column+1))if(null!==i.$findOpeningBracket("}",{column:s.column+1,row:s.row})&&m.isAutoInsertedClosing(s,o,r))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==r||"\r\n"==r){x(n);var c="";if(m.isMaybeInsertedClosing(s,o)&&(c=g.stringRepeat("}",p.maybeInsertedBrackets),m.clearMaybeInsertedClosing()),"}"===o.substring(s.column,s.column+1)){var h=i.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!h)return null;var u=this.$getIndent(i.getLine(h.row))}else{if(!c)return void m.clearMaybeInsertedClosing();u=this.$getIndent(o)}var d=u+i.getTabString();return{text:"\n"+d+"\n"+u+c,selection:[1,d.length,1,d.length]}}m.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"{"==s){if(x(n),"}"==i.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r;p.maybeInsertedBrackets--}}),this.add("parens","insertion",function(t,e,n,i,r){if("("==r){x(n);var s=n.getSelectionRange(),o=i.doc.getTextRange(s);if(""!==o&&n.getWrapBehavioursEnabled())return A(s,o,"(",")");if(m.isSaneInsertion(n,i))return m.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){x(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1))if(null!==i.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&m.isAutoInsertedClosing(a,l,r))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==s&&(x(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r}),this.add("brackets","insertion",function(t,e,n,i,r){if("["==r){x(n);var s=n.getSelectionRange(),o=i.doc.getTextRange(s);if(""!==o&&n.getWrapBehavioursEnabled())return A(s,o,"[","]");if(m.isSaneInsertion(n,i))return m.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){x(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1))if(null!==i.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&m.isAutoInsertedClosing(a,l,r))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==s&&(x(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r}),this.add("string_dquotes","insertion",function(t,e,n,i,r){var s=i.$mode.$quotes||w;if(1==r.length&&s[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;x(n);var o=r,a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(!(""===l||1==l.length&&s[l])&&n.getWrapBehavioursEnabled())return A(a,l,o,o);if(!l){var c=n.getCursorPosition(),h=i.doc.getLine(c.row),u=h.substring(c.column-1,c.column),d=h.substring(c.column,c.column+1),f=i.getTokenAt(c.row,c.column),p=i.getTokenAt(c.row,c.column+1);if("\\"==u&&f&&/escape/.test(f.type))return null;var g,m=f&&/string|escape/.test(f.type),v=!p||/string|escape/.test(p.type);if(d==o)(g=m!==v)&&/string\.end/.test(p.type)&&(g=!1);else{if(m&&!v)return null;if(m&&v)return null;var y=i.$mode.tokenRe;y.lastIndex=0;var b=y.test(u);y.lastIndex=0;var _=y.test(u);if(b||_)return null;if(d&&!/[\s;,.})\]\\]/.test(d))return null;g=!0}return{text:g?o+o:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==s||"'"==s)&&(x(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s))return r.end.column++,r})};m.isSaneInsertion=function(t,e){var n=t.getCursorPosition(),i=new s(e,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",o)){var r=new s(e,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",o))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",a)},m.$matchTokenType=function(t,e){return-1<e.indexOf(t.type||t)},m.recordAutoInsert=function(t,e,n){var i=t.getCursorPosition(),r=e.doc.getLine(i.row);this.isAutoInsertedClosing(i,r,p.autoInsertedLineEnd[0])||(p.autoInsertedBrackets=0),p.autoInsertedRow=i.row,p.autoInsertedLineEnd=n+r.substr(i.column),p.autoInsertedBrackets++},m.recordMaybeInsert=function(t,e,n){var i=t.getCursorPosition(),r=e.doc.getLine(i.row);this.isMaybeInsertedClosing(i,r)||(p.maybeInsertedBrackets=0),p.maybeInsertedRow=i.row,p.maybeInsertedLineStart=r.substr(0,i.column)+n,p.maybeInsertedLineEnd=r.substr(i.column),p.maybeInsertedBrackets++},m.isAutoInsertedClosing=function(t,e,n){return 0<p.autoInsertedBrackets&&t.row===p.autoInsertedRow&&n===p.autoInsertedLineEnd[0]&&e.substr(t.column)===p.autoInsertedLineEnd},m.isMaybeInsertedClosing=function(t,e){return 0<p.maybeInsertedBrackets&&t.row===p.maybeInsertedRow&&e.substr(t.column)===p.maybeInsertedLineEnd&&e.substr(0,t.column)==p.maybeInsertedLineStart},m.popAutoInsertedClosing=function(){p.autoInsertedLineEnd=p.autoInsertedLineEnd.substr(1),p.autoInsertedBrackets--},m.clearMaybeInsertedClosing=function(){p&&(p.maybeInsertedBrackets=0,p.maybeInsertedRow=-1)},i.inherits(m,r),e.CstyleBehaviour=m}),ace.define("ace/unicode",["require","exports","module"],function(t,n,e){"use strict";n.packages={},function(t){for(var e in t)n.packages[e]=t[e].replace(/\w{4}/g,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,e,n){"use strict";var i=t("../tokenizer").Tokenizer,r=t("./text_highlight_rules").TextHighlightRules,s=t("./behaviour/cstyle").CstyleBehaviour,o=t("../unicode"),w=t("../lib/lang"),g=t("../token_iterator").TokenIterator,m=t("../range").Range,a=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,r,n,i){function e(t){for(var e=n;e<=i;e++)t(s.getLine(e),e)}var s=r.doc,o=!0,a=!0,l=1/0,c=r.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var u=this.lineCommentStart.map(w.escapeRegExp).join("|"),d=this.lineCommentStart[0];else u=w.escapeRegExp(this.lineCommentStart),d=this.lineCommentStart;u=new RegExp("^(\\s*)(?:"+u+") ?"),h=r.getUseSoftTabs();var f=function(t,e){var n=t.match(u);if(n){var i=n[1].length,r=n[0].length;v(t,i,r)||" "!=n[0][r-1]||r--,s.removeInLine(e,i,r)}},p=d+" ",g=function(t,e){o&&!/\S/.test(t)||(v(t,l,l)?s.insertInLine({row:e,column:l},p):s.insertInLine({row:e,column:l},d))},m=function(t,e){return u.test(t)},v=function(t,e,n){for(var i=0;e--&&" "==t.charAt(e);)i++;if(i%c!=0)return!1;for(i=0;" "==t.charAt(n++);)i++;return 2<c?i%c!=c-1:i%c==0}}else{if(!this.blockComment)return!1;d=this.blockComment.start;var y=this.blockComment.end,b=(u=new RegExp("^(\\s*)(?:"+w.escapeRegExp(d)+")"),new RegExp("(?:"+w.escapeRegExp(y)+")\\s*$"));g=function(t,e){m(t,e)||o&&!/\S/.test(t)||(s.insertInLine({row:e,column:t.length},y),s.insertInLine({row:e,column:l},d))},f=function(t,e){var n;(n=t.match(b))&&s.removeInLine(e,t.length-n[0].length,t.length),(n=t.match(u))&&s.removeInLine(e,n[1].length,n[0].length)},m=function(t,e){if(u.test(t))return!0;for(var n=r.getTokens(e),i=0;i<n.length;i++)if("comment"===n[i].type)return!0}}var _=1/0;e(function(t,e){var n=t.search(/\S/);-1!==n?(n<l&&(l=n),a&&!m(t,e)&&(a=!1)):_>t.length&&(_=t.length)}),l==1/0&&(l=_,a=o=!1),h&&l%c!=0&&(l=Math.floor(l/c)*c),e(a?f:g)},this.toggleBlockComment=function(t,e,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var s,o,a=(f=new g(e,i.row,i.column)).getCurrentToken(),l=(e.selection,e.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var c,h;a&&/comment/.test(a.type);){if(-1!=(p=a.value.indexOf(r.start))){var u=f.getCurrentTokenRow(),d=f.getCurrentTokenColumn()+p;c=new m(u,d,u,d+r.start.length);break}a=f.stepBackward()}var f;for(a=(f=new g(e,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var p;if(-1!=(p=a.value.indexOf(r.end))){u=f.getCurrentTokenRow(),d=f.getCurrentTokenColumn()+p;h=new m(u,d,u,d+r.end.length);break}a=f.stepForward()}h&&e.remove(h),c&&(e.remove(c),s=c.start.row,o=-r.start.length)}else o=r.start.length,s=n.start.row,e.insert(n.end,r.end),e.insert(n.start,r.start);l.start.row==s&&(l.start.column+=o),l.end.row==s&&(l.end.column+=o),e.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(t,e,n){return this.$getIndent(e)},this.checkOutdent=function(t,e,n){return!1},this.autoOutdent=function(t,e,n){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(t){return null},this.createModeDelegates=function(t){for(var i in this.$embeds=[],this.$modes={},t)t[i]&&(this.$embeds.push(i),this.$modes[i]=new t[i]);var r=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(i=0;i<r.length;i++)!function(t){var e=r[i],n=t[e];t[r[i]]=function(){return this.$delegator(e,arguments,n)}}(this)},this.$delegator=function(t,e,n){var i=e[0];"string"!=typeof i&&(i=i[0]);for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var s=i.split(this.$embeds[r]);if(!s[0]&&s[1]){e[0]=s[1];var o=this.$modes[this.$embeds[r]];return o[t].apply(o,e)}}var a=n.apply(this,e);return n?a:void 0},this.transformAction=function(t,e,n,i,r){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][e]){var a=s[o][e].apply(this,arguments);if(a)return a}}},this.getKeywords=function(t){if(!this.completionKeywords){var e=this.$tokenizer.rules,n=[];for(var i in e)for(var r=e[i],s=0,o=r.length;s<o;s++)if("string"==typeof r[s].token)/keyword|support|storage/.test(r[s].token)&&n.push(r[s].regex);else if("object"==typeof r[s].token)for(var a=0,l=r[s].token.length;a<l;a++)if(/keyword|support|storage/.test(r[s].token[a])){i=r[s].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return t?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(t,e,n,i){return(this.$keywordList||this.$createKeywordList()).map(function(t){return{name:t,value:t,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(a.prototype),e.Mode=a}),ace.define("ace/apply_delta",["require","exports","module"],function(t,e,n){"use strict";e.applyDelta=function(t,e,n){var i=e.start.row,r=e.start.column,s=t[i]||"";switch(e.action){case"insert":if(1===e.lines.length)t[i]=s.substring(0,r)+e.lines[0]+s.substring(r);else{var o=[i,1].concat(e.lines);t.splice.apply(t,o),t[i]=s.substring(0,r)+t[i],t[i+e.lines.length-1]+=s.substring(r)}break;case"remove":var a=e.end.column,l=e.end.row;i===l?t[i]=s.substring(0,r)+s.substring(a):t.splice(i,l-i+1,s.substring(0,r)+t[l].substring(a))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,s=e.Anchor=function(t,e,n){this.$onChange=this.onChange.bind(this),this.attach(t),void 0===n?this.setPosition(e.row,e.column):this.setPosition(e,n)};(function(){function h(t,e,n){var i=n?t.column<=e.column:t.column<e.column;return t.row<e.row||t.row==e.row&&i}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var e=(n=t,i={row:this.row,column:this.column},r=this.$insertRight,s="insert"==n.action,o=(s?1:-1)*(n.end.row-n.start.row),a=(s?1:-1)*(n.end.column-n.start.column),l=n.start,c=s?l:n.end,h(i,l,r)?{row:i.row,column:i.column}:h(c,i,!r)?{row:i.row+o,column:i.column+(i.row==c.row?a:0)}:{row:l.row,column:l.column});this.setPosition(e.row,e.column,!0)}var n,i,r,s,o,a,l,c},this.setPosition=function(t,e,n){var i;if(i=n?{row:t,column:e}:this.$clipPositionToDocument(t,e),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var n={};return t>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):t<0?(n.row=0,n.column=0):(n.row=t,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,e))),e<0&&(n.column=0),n}}).call(s.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./apply_delta").applyDelta,s=t("./lib/event_emitter").EventEmitter,h=t("./range").Range,o=t("./anchor").Anchor,a=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){i.implement(this,s),this.setValue=function(t){var e=this.getLength()-1;this.remove(new h(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,e){return new o(this,t,e)},0==="aaa".split(/a/).length?this.$split=function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,e){return this.$lines.slice(t,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var e;if(t.start.row===t.end.row)e=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{(e=this.getLines(t.start.row,t.end.row))[0]=(e[0]||"").substring(t.start.column);var n=e.length-1;t.end.row-t.start.row==n&&(e[n]=e[n].substring(0,t.end.column))}return e},this.insertLines=function(t,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,e)},this.removeLines=function(t,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,e)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,e){return this.getLength()<=1&&this.$detectNewLine(e),this.insertMergedLines(t,this.$split(e))},this.insertInLine=function(t,e){var n=this.clippedPos(t.row,t.column),i=this.pos(t.row,t.column+e.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[e]},!0),this.clonePos(i)},this.clippedPos=function(t,e){var n=this.getLength();void 0===t?t=n:t<0?t=0:n<=t&&(t=n-1,e=void 0);var i=this.getLine(t);return null==e&&(e=i.length),{row:t,column:e=Math.min(Math.max(e,0),i.length)}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,e){return{row:t,column:e}},this.$clipPosition=function(t){var e=this.getLength();return t.row>=e?(t.row=Math.max(0,e-1),t.column=this.getLine(e-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,e){var n=0;(t=Math.min(Math.max(t,0),this.getLength()))<this.getLength()?(e=e.concat([""]),n=0):(e=[""].concat(e),t--,n=this.$lines[t].length),this.insertMergedLines({row:t,column:n},e)},this.insertMergedLines=function(t,e){var n=this.clippedPos(t.row,t.column),i={row:n.row+e.length-1,column:(1==e.length?n.column:0)+e[e.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:e}),this.clonePos(i)},this.remove=function(t){var e=this.clippedPos(t.start.row,t.start.column),n=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:e,end:n,action:"remove",lines:this.getLinesForRange({start:e,end:n})}),this.clonePos(e)},this.removeInLine=function(t,e,n){var i=this.clippedPos(t,e),r=this.clippedPos(t,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(t,e){t=Math.min(Math.max(0,t),this.getLength()-1);var n=(e=Math.min(Math.max(0,e),this.getLength()-1))==this.getLength()-1&&0<t,i=e<this.getLength()-1,r=n?t-1:t,s=n?this.getLine(r).length:0,o=i?e+1:e,a=i?0:this.getLine(o).length,l=new h(r,s,o,a),c=this.$lines.slice(t,e+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),c},this.removeNewLine=function(t){t<this.getLength()-1&&0<=t&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,e){return t instanceof h||(t=h.fromPoints(t.start,t.end)),0===e.length&&t.isEmpty()?t.start:e==this.getTextRange(t)?t.end:(this.remove(t),e?this.insert(t.start,e):t.start)},this.applyDeltas=function(t){for(var e=0;e<t.length;e++)this.applyDelta(t[e])},this.revertDeltas=function(t){for(var e=t.length-1;0<=e;e--)this.revertDelta(t[e])},this.applyDelta=function(t,e){var n="insert"==t.action;(n?t.lines.length<=1&&!t.lines[0]:!h.comparePoints(t.start,t.end))||(n&&2e4<t.lines.length&&this.$splitAndapplyLargeDelta(t,2e4),r(this.$lines,t,e),this._signal("change",t))},this.$splitAndapplyLargeDelta=function(t,e){for(var n=t.lines,i=n.length,r=t.start.row,s=t.start.column,o=0,a=0;;){o=a,a+=e-1;var l=n.slice(o,a);if(i<a){t.lines=l,t.start.row=r+o,t.start.column=s;break}l.push(""),this.applyDelta({start:this.pos(r+o,s),end:this.pos(r+a,s=0),action:t.action,lines:l},!0)}},this.revertDelta=function(t){this.applyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=e||0,s=n.length;r<s;r++)if((t-=n[r].length+i)<0)return{row:r,column:t+n[r].length+i};return{row:s-1,column:n[s-1].length}},this.positionToIndex=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,s=Math.min(t.row,n.length),o=e||0;o<s;++o)r+=n[o].length+i;return r+t.column}}).call(a.prototype),e.Document=a}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,s=function(t,e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var a=this;this.$worker=function(){if(a.running){for(var t=new Date,e=a.currentLine,n=-1,i=a.doc,r=e;a.lines[e];)e++;var s=i.getLength(),o=0;for(a.running=!1;e<s;){for(a.$tokenizeRow(e),n=e;e++,a.lines[e];);if(++o%5==0&&20<new Date-t){a.running=setTimeout(a.$worker,20);break}}a.currentLine=e,-1==n&&(n=e),r<=n&&a.fireUpdateEvent(r,n)}}};(function(){i.implement(this,r),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,e){var n={first:t,last:e};this._signal("update",{data:n})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var e=t.start.row,n=t.end.row-e;if(0===n)this.lines[e]=null;else if("remove"==t.action)this.lines.splice(e,n+1,null),this.states.splice(e,n+1,null);else{var i=Array(n+1);i.unshift(e,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(e,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var e=this.doc.getLine(t),n=this.states[t-1],i=this.tokenizer.getLineTokens(e,n,t);return this.states[t]+""!=i.state+""?(this.states[t]=i.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=i.tokens}}).call(s.prototype),e.BackgroundTokenizer=s}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e,n){"use strict";var c=t("./lib/lang"),h=(t("./lib/oop"),t("./range").Range),i=function(t,e,n){this.setRegexp(t),this.clazz=e,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,e,n,i){if(this.regExp)for(var r=i.firstRow,s=i.lastRow,o=r;o<=s;o++){var a=this.cache[o];null==a&&((a=c.getMatchOffsets(n.getLine(o),this.regExp)).length>this.MAX_RANGES&&(a=a.slice(0,this.MAX_RANGES)),a=a.map(function(t){return new h(o,t.offset,o,t.offset+t.length)}),this.cache[o]=a.length?a:"");for(var l=a.length;l--;)e.drawSingleLineMarker(t,a[l].toScreenRange(n),this.clazz,i)}}}).call(i.prototype),e.SearchHighlight=i}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,e,n){"use strict";function c(t,e){this.foldData=t,Array.isArray(e)?this.folds=e:e=this.folds=[e];var n=e[e.length-1];this.range=new i(e[0].start.row,e[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}var i=t("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort(function(t,e){return-t.range.compareEnd(e.start.row,e.start.column)}),0<this.range.compareEnd(t.start.row,t.start.column)?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,e,n){var i,r,s=0,o=this.folds,a=!0;null==e&&(e=this.end.row,n=this.end.column);for(var l=0;l<o.length;l++){if(-1==(r=(i=o[l]).range.compareStart(e,n)))return void t(null,e,n,s,a);if(!t(null,i.start.row,i.start.column,s,a)&&t(i.placeholder,i.start.row,i.start.column,s)||0===r)return;a=!i.sameRow,s=i.end.column}t(null,e,n,s,a)},this.getNextFoldTo=function(t,e){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(t,e)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(t,e,n){var i,r,s=this.getNextFoldTo(t,e);if(s)if(i=s.fold,"inside"==s.kind&&i.start.column!=e&&i.start.row!=t)window.console&&window.console.log(t,e,i);else if(i.start.row==t){var o=(r=this.folds).indexOf(i);for(0===o&&(this.start.column+=n);o<r.length;o++){if((i=r[o]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(t,e){var n=this.getNextFoldTo(t,e);if(!n||"inside"==n.kind)return null;var i=n.fold,r=this.folds,s=this.foldData,o=r.indexOf(i),a=r[o-1];this.end.row=a.end.row,this.end.column=a.end.column;var l=new c(s,r=r.splice(o,r.length-o));return s.splice(s.indexOf(this)+1,0,l),l},this.merge=function(t){for(var e=t.folds,n=0;n<e.length;n++)this.addFold(e[n]);var i=this.foldData;i.splice(i.indexOf(t),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(t){for(var e=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((t-=i.start.column-e)<0)return{row:i.start.row,column:i.start.column+t};if((t-=i.placeholder.length)<0)return i.start;e=i.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(c.prototype),e.FoldLine=c}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(t,e,n){"use strict";var l=t("./range").Range.comparePoints,i=function(){this.ranges=[]};(function(){this.comparePoints=l,this.pointIndex=function(t,e,n){for(var i=this.ranges,r=n||0;r<i.length;r++){var s=i[r],o=l(t,s.end);if(!(0<o)){var a=l(t,s.start);return 0===o?e&&0!==a?-r-2:r:0<a||0===a&&!e?r:-r-1}}return-r-1},this.add=function(t){var e=!t.isEmpty(),n=this.pointIndex(t.start,e);n<0&&(n=-n-1);var i=this.pointIndex(t.end,e,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,t)},this.addList=function(t){for(var e=[],n=t.length;n--;)e.push.apply(e,this.add(t[n]));return e},this.substractPoint=function(t){var e=this.pointIndex(t);if(0<=e)return this.ranges.splice(e,1)},this.merge=function(){for(var t,e=[],n=this.ranges,i=(n=n.sort(function(t,e){return l(t.start,e.start)}))[0],r=1;r<n.length;r++){t=i,i=n[r];var s=l(t.end,i.start);s<0||(0!=s||t.isEmpty()||i.isEmpty())&&(l(t.end,i.end)<0&&(t.end.row=i.end.row,t.end.column=i.end.column),n.splice(r,1),e.push(i),i=t,r--)}return this.ranges=n,e},this.contains=function(t,e){return 0<=this.pointIndex({row:t,column:e})},this.containsPoint=function(t){return 0<=this.pointIndex(t)},this.rangeAtPoint=function(t){var e=this.pointIndex(t);if(0<=e)return this.ranges[e]},this.clipRows=function(t,e){var n=this.ranges;if(n[0].start.row>e||n[n.length-1].start.row<t)return[];var i=this.pointIndex({row:t,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:e,column:0},i);r<0&&(r=-r-1);for(var s=[],o=i;o<r;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){if("insert"==t.action)var e=t.start,n=t.end;else n=t.start,e=t.end;for(var i=e.row,r=n.row-i,s=-e.column+n.column,o=this.ranges,a=0,l=o.length;a<l;a++){if(!((c=o[a]).end.row<i)){if(c.start.row>i)break;if(c.start.row==i&&c.start.column>=e.column&&(c.start.column==e.column&&this.$insertRight||(c.start.column+=s,c.start.row+=r)),c.end.row==i&&c.end.column>=e.column){if(c.end.column==e.column&&this.$insertRight)continue;c.end.column==e.column&&0<s&&a<l-1&&c.end.column>c.start.column&&c.end.column==o[a+1].start.column&&(c.end.column-=s),c.end.column+=s,c.end.row+=r}}}if(0!=r&&a<l)for(;a<l;a++){var c;(c=o[a]).start.row+=r,c.end.row+=r}}}).call(i.prototype),e.RangeList=i}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(t,e,n){"use strict";function c(t,e){t.row-=e.row,0==t.row&&(t.column-=e.column)}function i(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row}var r=(t("../range").Range,t("../range_list").RangeList),s=t("../lib/oop"),o=e.Fold=function(t,e){this.foldLine=null,this.placeholder=e,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};s.inherits(o,r),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var t=this.range.clone(),e=new o(t,this.placeholder);return this.subFolds.forEach(function(t){e.subFolds.push(t.clone())}),e.collapseChildren=this.collapseChildren,e},this.addSubFold=function(t){if(!this.range.isEqual(t)){if(!this.range.containsRange(t))throw new Error("A fold can't intersect already existing fold"+t.range+this.range);a=t,l=this.start,c(a.start,l),c(a.end,l);for(var e=t.start.row,n=t.start.column,i=0,r=-1;i<this.subFolds.length&&1==(r=this.subFolds[i].range.compare(e,n));i++);var s=this.subFolds[i];if(0==r)return s.addSubFold(t);e=t.range.end.row,n=t.range.end.column;var o=i;for(r=-1;o<this.subFolds.length&&1==(r=this.subFolds[o].range.compare(e,n));o++);if(this.subFolds[o],0==r)throw new Error("A fold can't intersect already existing fold"+t.range+this.range);return this.subFolds.splice(i,o-i,t),t.setFoldLine(this.foldLine),t}var a,l},this.restoreRange=function(t){return e=t,n=this.start,i(e.start,n),void i(e.end,n);var e,n}}.call(o.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(t,e,n){"use strict";var h=t("../range").Range,g=t("./fold_line").FoldLine,m=t("./fold").Fold,u=t("../token_iterator").TokenIterator;e.Folding=function(){this.getFoldAt=function(t,e,n){var i=this.getFoldLine(t);if(!i)return null;for(var r=i.folds,s=0;s<r.length;s++){var o=r[s];if(o.range.contains(t,e)){if(1==n&&o.range.isEnd(t,e))continue;if(-1==n&&o.range.isStart(t,e))continue;return o}}},this.getFoldsInRange=function(t){var e=t.start,n=t.end,i=this.$foldData,r=[];e.column+=1,n.column-=1;for(var s=0;s<i.length;s++){var o=i[s].range.compareRange(t);if(2!=o){if(-2==o)break;for(var a=i[s].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(o=c.range.compareRange(t)))break;if(2!=o){if(42==o)break;r.push(c)}}}}return e.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach(function(t){e=e.concat(this.getFoldsInRange(t))},this)}else e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,n=0;n<e.length;n++)for(var i=0;i<e[n].folds.length;i++)t.push(e[n].folds[i]);return t},this.getFoldStringAt=function(t,e,n,i){if(!(i=i||this.getFoldLine(t)))return null;for(var r,s,o={end:{column:0}},a=0;a<i.folds.length;a++){var l=(s=i.folds[a]).range.compareEnd(t,e);if(-1==l){r=this.getLine(s.start.row).substring(o.end.column,s.start.column);break}if(0===l)return null;o=s}return r||(r=this.getLine(s.start.row).substring(o.end.column)),-1==n?r.substring(0,e-o.end.column):1==n?r.substring(e-o.end.column):r},this.getFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=t&&r.end.row>=t)return r;if(r.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=t)return r}return null},this.getFoldedRowCount=function(t,e){for(var n=this.$foldData,i=e-t+1,r=0;r<n.length;r++){var s=n[r],o=s.end.row,a=s.start.row;if(e<=o){a<e&&(t<=a?i-=e-a:i=0);break}t<=o&&(i-=t<=a?o-a:o-t+1)}return i},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(t,e){return t.start.row-e.start.row}),t},this.addFold=function(t,e){var n,i=this.$foldData,r=!1;t instanceof m?n=t:(n=new m(e,t)).collapseChildren=e.collapseChildren,this.$clipRangeToDocument(n.range);var s=n.start.row,o=n.start.column,a=n.end.row,l=n.end.column;if(!(s<a||s==a&&o<=l-2))throw new Error("The range has to be at least 2 characters width");var c=this.getFoldAt(s,o,1),h=this.getFoldAt(a,l,-1);if(c&&h==c)return c.addSubFold(n);c&&!c.range.isStart(s,o)&&this.removeFold(c),h&&!h.range.isEnd(a,l)&&this.removeFold(h);var u=this.getFoldsInRange(n.range);0<u.length&&(this.removeFolds(u),u.forEach(function(t){n.addSubFold(t)}));for(var d=0;d<i.length;d++){var f=i[d];if(a==f.start.row){f.addFold(n),r=!0;break}if(s==f.end.row){if(f.addFold(n),r=!0,!n.sameRow){var p=i[d+1];if(p&&p.start.row==a){f.merge(p);break}}break}if(a<=f.start.row)break}return r||(f=this.$addFoldLine(new g(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(f.start.row,f.start.row):this.$updateRowLengthCache(f.start.row,f.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(t){t.forEach(function(t){this.addFold(t)},this)},this.removeFold=function(t){var e=t.foldLine,n=e.start.row,i=e.end.row,r=this.$foldData,s=e.folds;if(1==s.length)r.splice(r.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))s.pop(),e.end.row=s[s.length-1].end.row,e.end.column=s[s.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))s.shift(),e.start.row=s[0].start.row,e.start.column=s[0].start.column;else if(t.sameRow)s.splice(s.indexOf(t),1);else{var o=e.split(t.start.row,t.start.column);(s=o.folds).shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);e.forEach(function(t){this.removeFold(t)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),0<e.collapseChildren&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(t){t.forEach(function(t){this.expandFold(t)},this)},this.unfold=function(t,e){var n,i;if(null==t?(n=new h(0,0,this.getLength(),0),e=!0):n="number"==typeof t?new h(t,0,t,this.getLine(t).length):"row"in t?h.fromPoints(t,t):t,i=this.getFoldsInRangeList(n),e)this.removeFolds(i);else for(var r=i;r.length;)this.expandFolds(r),r=this.getFoldsInRangeList(n);if(i.length)return i},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var n=this.getFoldLine(t,e);return n?n.end.row:t},this.getRowFoldStart=function(t,e){var n=this.getFoldLine(t,e);return n?n.start.row:t},this.getFoldDisplayLine=function(t,e,n,r,s){null==r&&(r=t.start.row),null==s&&(s=0),null==e&&(e=t.end.row),null==n&&(n=this.getLine(e).length);var o=this.doc,a="";return t.walk(function(t,e,n,i){if(!(e<r)){if(e==r){if(n<s)return;i=Math.max(s,i)}a+=null!=t?t:o.getLine(e).substring(i,n)}},e,n),a},this.getDisplayLine=function(t,e,n,i){var r,s=this.getFoldLine(t);return s?this.getFoldDisplayLine(s,t,e,n,i):(r=this.doc.getLine(t)).substring(i||0,e||r.length)},this.$cloneFoldData=function(){var n=[];return n=this.$foldData.map(function(t){var e=t.folds.map(function(t){return t.clone()});return new g(n,e)})},this.toggleFold=function(t){var e,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(e=this.getFoldAt(r.row,r.column))return void this.expandFold(e);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var s=this.getFoldsInRange(i);if(t&&s.length)return void this.expandFolds(s);1==s.length&&(e=s[0])}if(e||(e=this.getFoldAt(i.start.row,i.start.column)),e&&e.range.toString()==i.toString())this.expandFold(e);else{var o="...";if(!i.isMultiLine()){if((o=this.getTextRange(i)).length<4)return;o=o.trim().substring(0,2)+".."}this.addFold(o,i)}},this.getCommentFoldRange=function(t,e,n){var i=new u(this,t,e),r=i.getCurrentToken(),s=r.type;if(r&&/^comment|string/.test(s)){"comment"==(s=s.match(/comment|string/)[0])&&(s+="|doc-start");var o=new RegExp(s),a=new h;if(1!=n){for(;(r=i.stepBackward())&&o.test(r.type););i.stepForward()}if(a.start.row=i.getCurrentTokenRow(),a.start.column=i.getCurrentTokenColumn()+2,i=new u(this,t,e),-1!=n){var l=-1;do{if(r=i.stepForward(),-1==l){var c=this.getState(i.$row);o.test(c)||(l=i.$row)}else if(i.$row>l)break}while(r&&o.test(r.type));r=i.stepBackward()}else r=i.getCurrentToken();return a.end.row=i.getCurrentTokenRow(),a.end.column=i.getCurrentTokenColumn()+r.value.length-2,a}},this.foldAll=function(t,e,n){null==n&&(n=1e5);var i=this.foldWidgets;if(i){e=e||this.getLength();for(var r=t=t||0;r<e;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]){var s=this.getFoldWidgetRange(r);if(s&&s.isMultiLine()&&s.end.row<=e&&s.start.row>=t){r=s.end.row;try{var o=this.addFold("...",s);o&&(o.collapseChildren=n)}catch(t){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){"manual"==(this.$foldStyle=t)&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){if(this.$foldMode!=t){if(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!t||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(t,e){var n=this.foldWidgets;if(!n||e&&n[t])return{};for(var i,r=t-1;0<=r;){var s=n[r];if(null==s&&(s=n[r]=this.getFoldWidget(r)),"start"==s){var o=this.getFoldWidgetRange(r);if(i||(i=o),o&&o.end.row>=t)break}r--}return{range:-1!==r&&o,firstRange:i}},this.onFoldWidgetClick=function(t,e){var n={children:(e=e.domEvent).shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey};if(!this.$toggleFoldWidget(t,n)){var i=e.target||e.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var n=this.getFoldWidget(t),i=this.getLine(t),r="end"===n?-1:1,s=this.getFoldAt(t,-1===r?0:i.length,r);if(s)return e.children||e.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(t,!0);if(o&&!o.isMultiLine()&&(s=this.getFoldAt(o.start.row,o.start.column,1))&&o.isEqual(s.range))return this.removeFold(s),s;if(e.siblings){var a=this.getParentFoldRangeData(t);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,e.all?1e4:0)}else e.children?(c=o?o.end.row:this.getLength(),this.foldAll(t+1,c,e.all?1e4:0)):o&&(e.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(t){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var n=this.$toggleFoldWidget(e,{});if(!n){var i=this.getParentFoldRangeData(e,!0);if(n=i.range||i.firstRange){e=n.start.row;var r=this.getFoldAt(e,this.getLine(e).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(t){var e=t.start.row,n=t.end.row-e;if(0===n)this.foldWidgets[e]=null;else if("remove"==t.action)this.foldWidgets.splice(e,n+1,null);else{var i=Array(n+1);i.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,e,n){"use strict";var u=t("../token_iterator").TokenIterator,a=t("../range").Range;e.BracketMatch=function(){this.findMatchingBracket=function(t,e){if(0==t.column)return null;var n=e||this.getLine(t.row).charAt(t.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],t):this.$findOpeningBracket(i[2],t):null},this.getBracketRange=function(t){var e,n=this.getLine(t.row),i=!0,r=n.charAt(t.column-1),s=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(s||(r=n.charAt(t.column),t={row:t.row,column:t.column+1},s=r&&r.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){if(!(o=this.$findClosingBracket(s[1],t)))return null;e=a.fromPoints(t,o),i||(e.end.column++,e.start.column--),e.cursor=e.end}else{var o;if(!(o=this.$findOpeningBracket(s[2],t)))return null;e=a.fromPoints(o,t),i||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(t,e,n){var i=this.$brackets[t],r=1,s=new u(this,e.row,e.column),o=s.getCurrentToken();if(o||(o=s.stepForward()),o){n||(n=new RegExp("(\\.?"+o.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var a=e.column-s.getCurrentTokenColumn()-2,l=o.value;;){for(;0<=a;){var c=l.charAt(a);if(c==i){if(0==(r-=1))return{row:s.getCurrentTokenRow(),column:a+s.getCurrentTokenColumn()}}else c==t&&(r+=1);a-=1}for(;(o=s.stepBackward())&&!n.test(o.type););if(null==o)break;a=(l=o.value).length-1}return null}},this.$findClosingBracket=function(t,e,n){var i=this.$brackets[t],r=1,s=new u(this,e.row,e.column),o=s.getCurrentToken();if(o||(o=s.stepForward()),o){n||(n=new RegExp("(\\.?"+o.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var a=e.column-s.getCurrentTokenColumn();;){for(var l=o.value,c=l.length;a<c;){var h=l.charAt(a);if(h==i){if(0==(r-=1))return{row:s.getCurrentTokenRow(),column:a+s.getCurrentTokenColumn()}}else h==t&&(r+=1);a+=1}for(;(o=s.stepForward())&&!n.test(o.type););if(null==o)break;a=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/lang"),s=t("./bidihandler").BidiHandler,o=t("./config"),l=t("./lib/event_emitter").EventEmitter,a=t("./selection").Selection,c=t("./mode/text").Mode,h=t("./range").Range,u=t("./document").Document,d=t("./background_tokenizer").BackgroundTokenizer,f=t("./search_highlight").SearchHighlight,p=function(t,e){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new u(t)),this.$bidiHandler=new s(this),this.setDocument(t),this.selection=new a(this),o.resetOptions(this),this.setMode(e),o._signal("session",this)};p.$uid=0,function(){function a(t){return!(t<4352)&&(4352<=t&&t<=4447||4515<=t&&t<=4519||4602<=t&&t<=4607||9001<=t&&t<=9002||11904<=t&&t<=11929||11931<=t&&t<=12019||12032<=t&&t<=12245||12272<=t&&t<=12283||12288<=t&&t<=12350||12353<=t&&t<=12438||12441<=t&&t<=12543||12549<=t&&t<=12589||12593<=t&&t<=12686||12688<=t&&t<=12730||12736<=t&&t<=12771||12784<=t&&t<=12830||12832<=t&&t<=12871||12880<=t&&t<=13054||13056<=t&&t<=19903||19968<=t&&t<=42124||42128<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||55216<=t&&t<=55238||55243<=t&&t<=55291||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65106||65108<=t&&t<=65126||65128<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510)}i.implement(this,l),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),(this.doc=t).on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var e=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,t)+1;n<e&&(this.$docRowCache.splice(n,e),this.$screenRowCache.splice(n,e))},this.$getRowCacheIndex=function(t,e){for(var n=0,i=t.length-1;n<=i;){var r=n+i>>1,s=t[r];if(s<e)n=r+1;else{if(!(e<s))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){var e=t.data;this.$resetRowCache(e.start.row)},this.onChange=function(t){this.$modified=!0,this.$bidiHandler.onChange(t),this.$resetRowCache(t.start.row);var e=this.$updateInternalDataOnChange(t);this.$fromUndo||!this.$undoManager||t.ignore||(this.$deltasDoc.push(t),e&&0!=e.length&&this.$deltasFold.push({action:"removeFolds",folds:e}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,e){var n,i=this.bgTokenizer.getTokens(t),r=0;if(null==e){var s=i.length-1;r=this.getLine(t).length}else for(s=0;s<i.length&&!((r+=i[s].value.length)>=e);s++);return(n=i[s])?(n.index=s,n.start=r-n.value.length,n):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),t){var e=this;this.$syncInformUndoManager=function(){e.$informUndoManager.cancel(),e.$deltasFold.length&&(e.$deltas.push({group:"fold",deltas:e.$deltasFold}),e.$deltasFold=[]),e.$deltasDoc.length&&(e.$deltas.push({group:"doc",deltas:e.$deltasDoc}),e.$deltasDoc=[]),0<e.$deltas.length&&t.execute({action:"aceupdate",args:[e.$deltas,e],merge:e.mergeUndoDeltas}),e.mergeUndoDeltas=!1,e.$deltas=[]},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(t){this.setOption("navigateWithinSoftTabs",t)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,e){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+e,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(t,e){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+e,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var e=0;e<t.length;e++)this.$breakpoints[t[e]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(t,e){void 0===e&&(e="ace_breakpoint"),e?this.$breakpoints[t]=e:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(t,e,n,i){var r=this.$markerId++,s={range:t,type:n||"line",renderer:"function"==typeof n?n:null,clazz:e,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=s,this._signal("changeFrontMarker")):(this.$backMarkers[r]=s,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(t,e){if(t.update){var n=this.$markerId++;return t.id=n,t.inFront=!!e,e?(this.$frontMarkers[n]=t,this._signal("changeFrontMarker")):(this.$backMarkers[n]=t,this._signal("changeBackMarker")),t}},this.removeMarker=function(t){var e=this.$frontMarkers[t]||this.$backMarkers[t];if(e){var n=e.inFront?this.$frontMarkers:this.$backMarkers;e&&(delete n[t],this._signal(e.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var e=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(e)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,e,n,i){"number"!=typeof e&&(n=e,e=t),n||(n="ace_step");var r=new h(t,0,e,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r?\n)/m);this.$autoNewLine=e?e[1]:"\n"},this.getWordRange=function(t,e){var n=this.getLine(t),i=!1;if(0<e&&(i=!!n.charAt(e-1).match(this.tokenRe)),i||(i=!!n.charAt(e).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(e-1,e+1)))r=/\s/;else r=this.nonTokenRe;var s=e;if(0<s){for(;0<=--s&&n.charAt(s).match(r););s++}for(var o=e;o<n.length&&n.charAt(o).match(r);)o++;return new h(t,s,t,o)},this.getAWordRange=function(t,e){for(var n=this.getWordRange(t,e),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){var e=t.data;this.bgTokenizer.start(e.first),this._signal("tokenizerUpdate",t)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(t,e){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var n=t,i=n.path}else i=t||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(e&&e());this.$modeId=i,o.loadModule(["mode",i],function(t){if(this.$modeId!==i)return e&&e();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):t&&t.Mode&&(t=new t.Mode(n),n||((this.$modes[i]=t).$id=i),this.$onChangeMode(t)),e&&e()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(t,e){if(e||(this.$modeId=t.$id),this.$mode!==t){this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=t.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new d(n);var r=this;this.bgTokenizer.addEventListener("update",function(t){r._signal("tokenizerUpdate",t)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,e||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){o.warn("Could not load worker",t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var e=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,s=this.$foldData[r],o=s?s.start.row:1/0,a=e.length,l=0;l<a;l++){if(o<l){if((l=s.end.row+1)>=a)break;o=(s=this.$foldData[r++])?s.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(e[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,e){return this.doc.getLines(t,e)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,e){return this.doc.insert(t,e)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(t,e){return this.doc.removeFullLines(t,e)},this.undoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=null,i=t.length-1;-1!=i;i--){var r=t[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach(function(t){this.addFolds(t.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!e&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=null,i=0;i<t.length;i++){var r=t[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!e&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,e,n){function i(t){return e?"insert"!==t.action:"insert"===t.action}var r,s,o=t[0];r=i(o)?h.fromPoints(o.start,o.end):h.fromPoints(o.start,o.start);for(var a=1;a<t.length;a++)i(o=t[a])?(s=o.start,-1==r.compare(s.row,s.column)&&r.setStart(s),s=o.end,1==r.compare(s.row,s.column)&&r.setEnd(s)):(s=o.start,-1==r.compare(s.row,s.column)&&(r=h.fromPoints(o.start,o.start)));if(null!=n){0===h.comparePoints(n.start,r.start)&&(n.start.column+=r.end.column-r.start.column,n.end.column+=r.end.column-r.start.column);var l=n.compareRange(r);1==l?r.setStart(n.start):-1==l&&r.setEnd(n.end)}return r},this.replace=function(t,e){return this.doc.replace(t,e)},this.moveText=function(t,e,n){var i=this.getTextRange(t),r=this.getFoldsInRange(t),s=h.fromPoints(e,e);if(!n){this.remove(t);var o=t.start.row-t.end.row;(c=o?-t.end.column:t.start.column-t.end.column)&&(s.start.row==t.end.row&&s.start.column>t.end.column&&(s.start.column+=c),s.end.row==t.end.row&&s.end.column>t.end.column&&(s.end.column+=c)),o&&s.start.row>=t.end.row&&(s.start.row+=o,s.end.row+=o)}if(s.end=this.insert(s.start,i),r.length){var a=t.start,l=s.start,c=(o=l.row-a.row,l.column-a.column);this.addFolds(r.map(function(t){return(t=t.clone()).start.row==a.row&&(t.start.column+=c),t.end.row==a.row&&(t.end.column+=c),t.start.row+=o,t.end.row+=o,t}))}return s},this.indentRows=function(t,e,n){n=n.replace(/\t/g,this.getTabString());for(var i=t;i<=e;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(t){for(var e=t.collapseRows(),n=new h(0,0,0,0),i=this.getTabSize(),r=e.start.row;r<=e.end.row;++r){var s=this.getLine(r);n.start.row=r,n.end.row=r;for(var o=0;o<i&&" "==s.charAt(o);++o);o<i&&"\t"==s.charAt(o)?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(t,e,n){if(t=this.getRowFoldStart(t),e=this.getRowFoldEnd(e),n<0){if((r=this.getRowFoldStart(t+n))<0)return 0;var i=r-t}else if(0<n){var r;if((r=this.getRowFoldEnd(e+n))>this.doc.getLength()-1)return 0;i=r-e}else{t=this.$clipRowToDocument(t);i=(e=this.$clipRowToDocument(e))-t+1}var s=new h(t,0,e,Number.MAX_VALUE),o=this.getFoldsInRange(s).map(function(t){return(t=t.clone()).start.row+=i,t.end.row+=i,t}),a=0==n?this.doc.getLines(t,e):this.doc.removeFullLines(t,e);return this.doc.insertFullLines(t+i,a),o.length&&this.addFolds(o),i},this.moveLinesUp=function(t,e){return this.$moveLines(t,e,-1)},this.moveLinesDown=function(t,e){return this.$moveLines(t,e,1)},this.duplicateLines=function(t,e){return this.$moveLines(t,e,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,e){return e<0?0:Math.min(this.doc.getLine(t).length,e)},this.$clipPositionToDocument=function(t,e){if(e=Math.max(0,e),t<0)e=t=0;else{var n=this.doc.getLength();n<=t?(t=n-1,e=this.doc.getLine(n-1).length):e=Math.min(this.doc.getLine(t).length,e)}return{row:t,column:e}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var e=this.doc.getLength()-1;return t.end.row>e?(t.end.row=e,t.end.column=this.doc.getLine(e).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var e=this.getLength();this.$wrapData=Array(e),this.$updateWrapData(0,e-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,e){this.$wrapLimitRange.min===t&&this.$wrapLimitRange.max===e||(this.$wrapLimitRange={min:t,max:e},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(t,e){var n=this.$wrapLimitRange;n.max<0&&(n={min:e,max:e});var i=this.$constrainWrapLimit(t,n.min,n.max);return i!=this.$wrapLimit&&1<i&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(t,e,n){return e&&(t=Math.max(e,t)),n&&(t=Math.min(n,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var e=this.$useWrapMode,n=t.action,i=t.start,r=t.end,s=i.row,o=r.row,a=o-s,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[e?"$wrapData":"$rowLengthCache"].splice(s,a);var c=this.$foldData;l=this.getFoldsInRange(t),this.removeFolds(l);var h=0;if(g=this.getFoldLine(r.row)){g.addRemoveChars(r.row,r.column,i.column-r.column),g.shiftRow(-a);var u=this.getFoldLine(s);u&&u!==g&&(u.merge(g),g=u),h=c.indexOf(g)+1}for(;h<c.length;h++){(g=c[h]).start.row>=r.row&&g.shiftRow(-a)}o=s}else{var d=Array(a);d.unshift(s,0);var f=e?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,d);c=this.$foldData,h=0;if(g=this.getFoldLine(s)){var p=g.range.compareInside(i.row,i.column);0==p?(g=g.split(i.row,i.column))&&(g.shiftRow(a),g.addRemoveChars(o,0,r.column-i.column)):-1==p&&(g.addRemoveChars(s,0,r.column-i.column),g.shiftRow(a)),h=c.indexOf(g)+1}for(;h<c.length;h++){var g;(g=c[h]).start.row>=s&&g.shiftRow(a)}}else a=Math.abs(t.start.column-t.end.column),"remove"===n&&(l=this.getFoldsInRange(t),this.removeFolds(l),a=-a),(g=this.getFoldLine(s))&&g.addRemoveChars(s,i.column,a);return e&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,e?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),l},this.$updateRowLengthCache=function(t,e,n){this.$rowLengthCache[t]=null,this.$rowLengthCache[e]=null},this.$updateWrapData=function(t,e){var o,n,a=this.doc.getAllLines(),i=this.getTabSize(),r=this.$wrapData,s=this.$wrapLimit,l=t;for(e=Math.min(e,a.length-1);l<=e;)(n=this.getFoldLine(l,n))?(o=[],n.walk(function(t,e,n,i){var r;if(null!=t){(r=this.$getDisplayTokens(t,o.length))[0]=p;for(var s=1;s<r.length;s++)r[s]=g}else r=this.$getDisplayTokens(a[e].substring(i,n),o.length);o=o.concat(r)}.bind(this),n.end.row,a[n.end.row].length+1),r[n.start.row]=this.$computeWrapSplits(o,s,i),l=n.end.row+1):(o=this.$getDisplayTokens(a[l]),r[l]=this.$computeWrapSplits(o,s,i),l++)};var p=3,g=4;this.$computeWrapSplits=function(i,t,r){function e(t){var e=i.slice(o,t),n=e.length;e.join("").replace(/12/g,function(){n-=1}).replace(/2/g,function(){n-=1}),s.length||(u=function(){var t=0;if(0===h)return t;if(c)for(var e=0;e<i.length;e++){var n=i[e];if(10==n)t+=1;else{if(11!=n){if(12==n)continue;break}t+=r}}return l&&!1!==c&&(t+=r),Math.min(t,h)}(),s.indent=u),a+=n,s.push(a),o=t}if(0==i.length)return[];for(var s=[],n=i.length,o=0,a=0,l=this.$wrapAsCode,c=this.$indentedSoftWrap,h=t<=Math.max(2*r,8)||!1===c?0:Math.floor(t/2),u=0;t-u<n-o;){var d=o+t-u;if(10<=i[d-1]&&10<=i[d])e(d);else if(i[d]!=p&&i[d]!=g){for(var f=Math.max(d-(t-(t>>2)),o-1);f<d&&i[d]<p;)d--;if(l){for(;f<d&&i[d]<p;)d--;for(;f<d&&9==i[d];)d--}else for(;f<d&&i[d]<10;)d--;f<d?e(++d):(2==i[d=o+t]&&d--,e(d-u))}else{for(;d!=o-1&&i[d]!=p;d--);if(o<d){e(d);continue}for(d=o+t;d<i.length&&i[d]==g;d++);if(d==i.length)break;e(d)}}return s},this.$getDisplayTokens=function(t,e){var n,i=[];e=e||0;for(var r=0;r<t.length;r++){var s=t.charCodeAt(r);if(9==s){n=this.getScreenTabSize(i.length+e),i.push(11);for(var o=1;o<n;o++)i.push(12)}else 32==s?i.push(10):39<s&&s<48||57<s&&s<64?i.push(9):4352<=s&&a(s)?i.push(1,2):i.push(1)}return i},this.$getStringScreenWidth=function(t,e,n){if(0==e)return[0,0];var i,r;for(null==e&&(e=1/0),n=n||0,r=0;r<t.length&&(9==(i=t.charCodeAt(r))?n+=this.getScreenTabSize(n):4352<=i&&a(i)?n+=2:n+=1,!(e<n));r++);return[n,r]},this.lineWidgets=null,this.getRowLength=function(t){if(this.lineWidgets)var e=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0;else e=0;return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(t){if(this.$useWrapMode){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE),n=this.$wrapData[e.row];return n.length&&n[0]<e.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(t){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(t,e){var n=this.documentToScreenRow(t,e);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(t,e){var n=this.documentToScreenRow(t,e);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-t%this.$tabSize},this.screenToDocumentRow=function(t,e){return this.screenToDocumentPosition(t,e).row},this.screenToDocumentColumn=function(t,e){return this.screenToDocumentPosition(t,e).column},this.screenToDocumentPosition=function(t,e,n){if(t<0)return{row:0,column:0};var i,r,s=0,o=0,a=0,l=0,c=this.$screenRowCache,h=this.$getRowCacheIndex(c,t),u=c.length;if(u&&0<=h){a=c[h],s=this.$docRowCache[h];var d=t>c[u-1]}else d=!u;for(var f=this.getLength()-1,p=this.getNextFoldLine(s),g=p?p.start.row:1/0;a<=t&&!(t<a+(l=this.getRowLength(s))||f<=s);)a+=l,++s>g&&(s=p.end.row+1,g=(p=this.getNextFoldLine(s,p))?p.start.row:1/0),d&&(this.$docRowCache.push(s),this.$screenRowCache.push(a));if(p&&p.start.row<=s)i=this.getFoldDisplayLine(p),s=p.start.row;else{if(a+l<=t||f<s)return{row:f,column:this.getLine(f).length};i=this.getLine(s),p=null}var m=0,v=Math.floor(t-a);if(this.$useWrapMode){var y=this.$wrapData[s];y&&(r=y[v],0<v&&y.length&&(m=y.indent,o=y[v-1]||y[y.length-1],i=i.substring(o)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,s,v)&&(e=this.$bidiHandler.offsetToCol(n)),o+=this.$getStringScreenWidth(i,e-m)[1],this.$useWrapMode&&r<=o&&(o=r-1),p?p.idxToPosition(o):{row:s,column:o}},this.documentToScreenPosition=function(t,e){if(void 0===e)var n=this.$clipPositionToDocument(t.row,t.column);else n=this.$clipPositionToDocument(t,e);t=n.row,e=n.column;var i,r=0,s=null;(i=this.getFoldAt(t,e,1))&&(t=i.start.row,e=i.start.column);var o,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,t),h=l.length;if(h&&0<=c){a=l[c],r=this.$screenRowCache[c];var u=t>l[h-1]}else u=!h;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;a<t;){if(f<=a){if((o=d.end.row+1)>t)break;f=(d=this.getNextFoldLine(o,d))?d.start.row:1/0}else o=a+1;r+=this.getRowLength(a),a=o,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var p="";d&&f<=a?(p=this.getFoldDisplayLine(d,t,e),s=d.start.row):(p=this.getLine(t).substring(0,e),s=t);var g=0;if(this.$useWrapMode){var m=this.$wrapData[s];if(m){for(var v=0;p.length>=m[v];)r++,v++;p=p.substring(m[v-1]||0,p.length),g=0<v?m.indent:0}}return{row:r,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(t,e){return this.documentToScreenPosition(t,e).column},this.documentToScreenRow=function(t,e){return this.documentToScreenPosition(t,e).row},this.getScreenLength=function(){var t=0,e=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=0,s=(e=this.$foldData[r++])?e.start.row:1/0;i<n;){var o=this.$wrapData[i];t+=o?o.length+1:1,s<++i&&(i=e.end.row+1,s=(e=this.$foldData[r++])?e.start.row:1/0)}else{t=this.getLength();var a=this.$foldData;for(r=0;r<a.length;r++)t-=(e=a[r]).end.row-e.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},this.$setFontMetrics=function(s){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,e,n){if(0===e)return[0,0];var i,r;for(e||(e=1/0),n=n||0,r=0;r<t.length&&!((n+="\t"===(i=t.charAt(r))?this.getScreenTabSize(n):s.getCharacterWidth(i))>e);r++);return[n,r]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=a}.call(p.prototype),t("./edit_session/folding").Folding.call(p.prototype),t("./edit_session/bracket_match").BracketMatch.call(p.prototype),o.defineOptions(p.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t){var e="number"==typeof t?t:null;this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){(t="auto"==t?"text"!=this.$mode.type:"text"!=t)!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){isNaN(t)||this.$tabSize===t||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(t){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId}}}),e.EditSession=p}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e,n){"use strict";var _=t("./lib/lang"),i=t("./lib/oop"),w=t("./range").Range,r=function(){this.$options={}};(function(){this.set=function(t){return i.mixin(this.$options,t),this},this.getOptions=function(){return _.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var r=this.$options,e=this.$matchIterator(t,r);if(!e)return!1;var s=null;return e.forEach(function(t,e,n,i){return s=new w(t,e,n,i),!(e==i&&r.start&&r.start.start&&0!=r.skipCurrent&&s.isEqual(r.start)&&(s=null,1))}),s},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var n=e.range,i=n?t.getLines(n.start.row,n.end.row):t.doc.getAllLines(),r=[],s=e.re;if(e.$isMultiLine){var o,a=s.length,l=i.length-a;t:for(var c=s.offset||0;c<=l;c++){for(var h=0;h<a;h++)if(-1==i[c+h].search(s[h]))continue t;var u=i[c],d=i[c+a-1],f=u.length-u.match(s[0])[0].length,p=d.match(s[a-1])[0].length;o&&o.end.row===c&&o.end.column>f||(r.push(o=new w(c,f,c+a-1,p)),2<a&&(c=c+a-2))}}else for(var g=0;g<i.length;g++){var m=_.getMatchOffsets(i[g],s);for(h=0;h<m.length;h++){var v=m[h];r.push(new w(g,v.offset,g,v.offset+v.length))}}if(n){var y=n.start.column,b=n.start.column;for(g=0,h=r.length-1;g<h&&r[g].start.column<y&&r[g].start.row==n.start.row;)g++;for(;g<h&&r[h].end.column>b&&r[h].end.row==n.end.row;)h--;for(r=r.slice(g,h+1),g=0,h=r.length;g<h;g++)r[g].start.row+=n.start.row,r[g].end.row+=n.start.row}return r},this.replace=function(t,e){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return e;if(i){var r=i.exec(t);if(!r||r[0].length!=t.length)return null;if(e=t.replace(i,e),n.preserveCase){e=e.split("");for(var s=Math.min(t.length,t.length);s--;){var o=t[s];o&&o.toLowerCase()!=o?e[s]=e[s].toUpperCase():e[s]=e[s].toLowerCase()}e=e.join("")}return e}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var n=t.needle;if(!t.needle)return t.re=!1;t.regExp||(n=_.escapeRegExp(n)),t.wholeWord&&(n=function(t,e){function n(t){return/\w/.test(t)||e.regExp?"\\b":""}return n(t[0])+t+n(t[t.length-1])}(n,t));var i=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(n),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(n,i);try{var r=new RegExp(n,i)}catch(t){r=!1}return t.re=r},this.$assembleMultilineRegExp=function(t,e){for(var n=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],e))}catch(t){return!1}return i},this.$matchIterator=function(h,n){var u=this.$assembleRegExp(n);if(!u)return!1;var l=1==n.backwards,t=0!=n.skipCurrent,e=n.range,i=n.start;i||(i=e?e[l?"end":"start"]:h.selection.getRange()),i.start&&(i=i[t!=l?"end":"start"]);var r=e?e.start.row:0,s=e?e.end.row:h.getLength()-1;if(l)var o=function(t){var e=i.row;if(!a(e,i.column,t)){for(e--;r<=e;e--)if(a(e,Number.MAX_VALUE,t))return;if(0!=n.wrap)for(e=s,r=i.row;r<=e;e--)if(a(e,Number.MAX_VALUE,t))return}};else o=function(t){var e=i.row;if(!a(e,i.column,t)){for(e+=1;e<=s;e++)if(a(e,0,t))return;if(0!=n.wrap)for(e=r,s=i.row;e<=s;e++)if(a(e,0,t))return}};if(n.$isMultiLine)var c=u.length,a=function(t,e,n){var i=l?t-c+1:t;if(!(i<0)){var r=h.getLine(i),s=r.search(u[0]);if(!(!l&&s<e||-1===s)){for(var o=1;o<c;o++)if(-1==(r=h.getLine(i+o)).search(u[o]))return;var a=r.match(u[c-1])[0].length;if(!(l&&e<a))return!!n(i,s,i+c-1,a)||void 0}}};else if(l)a=function(t,e,n){var i,r=h.getLine(t),s=[],o=0;for(u.lastIndex=0;i=u.exec(r);){var a=i[0].length;if(o=i.index,!a){if(o>=r.length)break;u.lastIndex=o+=1}if(i.index+a>e)break;s.push(i.index,a)}for(var l=s.length-1;0<=l;l-=2){var c=s[l-1];if(n(t,c,t,c+(a=s[l])))return!0}};else a=function(t,e,n){var i,r=h.getLine(t),s=e;for(u.lastIndex=e;i=u.exec(r);){var o=i[0].length;if(n(t,s=i.index,t,s+o))return!0;if(!o&&(u.lastIndex=s+=1,s>=r.length))return!1}};return{forEach:o}}}).call(r.prototype),e.Search=r}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e,n){"use strict";function i(t,e){this.platform=e||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function r(t,e){i.call(this,t,e),this.$singleCommand=!1}var a=t("../lib/keys"),s=t("../lib/useragent"),l=a.KEY_MODS;r.prototype=i.prototype,function(){function o(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||(t.isDefault?-100:0)}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),(this.commands[t.name]=t).bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,e){var n=t&&("string"==typeof t?t:t.name);t=this.commands[n],e||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var s=i[r];if(s==t)delete i[r];else if(Array.isArray(s)){var o=s.indexOf(t);-1!=o&&(s.splice(o,1),1==s.length&&(i[r]=s[0]))}}},this.bindKey=function(t,s,o){if("object"==typeof t&&t&&(null==o&&(o=t.position),t=t[this.platform]),t)return"function"==typeof s?this.addCommand({exec:s,bindKey:t,name:s.name||t}):void t.split("|").forEach(function(t){var i="";if(-1!=t.indexOf(" ")){var e=t.split(/\s+/);t=e.pop(),e.forEach(function(t){var e=this.parseKeys(t),n=l[e.hashId]+e.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")},this),i+=" "}var n=this.parseKeys(t),r=l[n.hashId]+n.key;this._addCommandToBinding(i+r,s,o)},this)},this._addCommandToBinding=function(t,e,n){var i,r=this.commandKeyBinding;if(e)if(!r[t]||this.$singleCommand)r[t]=e;else{Array.isArray(r[t])?-1!=(i=r[t].indexOf(e))&&r[t].splice(i,1):r[t]=[r[t]],"number"!=typeof n&&(n=o(e));var s=r[t];for(i=0;i<s.length;i++){if(n<o(s[i]))break}s.splice(i,0,e)}else delete r[t]},this.addCommands=function(n){n&&Object.keys(n).forEach(function(t){var e=n[t];if(e){if("string"==typeof e)return this.bindKey(e,t);"function"==typeof e&&(e={exec:e}),"object"==typeof e&&(e.name||(e.name=t),this.addCommand(e))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(t){return t}),n=e.pop(),i=a[n];if(a.FUNCTION_KEYS[i])n=a.FUNCTION_KEYS[i].toLowerCase();else{if(!e.length)return{key:n,hashId:-1};if(1==e.length&&"shift"==e[0])return{key:n.toUpperCase(),hashId:-1}}for(var r=0,s=e.length;s--;){var o=a.KEY_MODS[e[s]];if(null==o)return"undefined"!=typeof console&&console.error("invalid modifier "+e[s]+" in "+t),!1;r|=o}return{key:n,hashId:r}},this.findKeyCommand=function(t,e){var n=l[t]+e;return this.commandKeyBinding[n]},this.handleKeyboard=function(t,e,n,i){if(!(i<0)){var r=l[e]+n,s=this.commandKeyBinding[r];return t.$keyChain&&(t.$keyChain+=" "+r,s=this.commandKeyBinding[t.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(t.$keyChain&&(e&&4!=e||1!=n.length?(-1==e||0<i)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-r.length-1)),{command:s}):(t.$keyChain=t.$keyChain||r,{command:"null"})}},this.getStatusText=function(t,e){return e.$keyChain||""}}.call(i.prototype),e.HashHandler=i,e.MultiHashHandler=r}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("../keyboard/hash_handler").MultiHashHandler,s=t("../lib/event_emitter").EventEmitter,o=function(t,e){r.call(this,e,t),this.byName=this.commands,this.setDefaultHandler("exec",function(t){return t.command.exec(t.editor,t.args||{})})};i.inherits(o,r),function(){i.implement(this,s),this.exec=function(t,e,n){if(Array.isArray(t)){for(var i=t.length;i--;)if(this.exec(t[i],e,n))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(e&&e.$readOnly&&!t.readOnly)return!1;if(t.isAvailable&&!t.isAvailable(e))return!1;var r={editor:e,command:t,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(t){if(!this.$inReplay)return t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map(function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}}.call(o.prototype),e.CommandManager=o}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,e,n){"use strict";function i(t,e){return{win:t,mac:e}}var c=t("../lib/lang"),r=t("../config"),h=t("../range").Range;e.commands=[{name:"showSettingsMenu",bindKey:i("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:i("Alt-E","F4"),exec:function(e){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:i("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:i("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",bindKey:i(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:i("Ctrl-L","Command-L"),exec:function(t){var e=parseInt(prompt("Enter line number:"),10);isNaN(e)||t.gotoLine(e)},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:i("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:i("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:i("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:i("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:i("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",bindKey:i("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:i("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:i("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:i("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:i("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:i("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:i("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:i("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:i("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:i("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:i("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:i("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:i("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:i("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:i("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:i(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:i(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:i("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:i("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",bindKey:i("Ctrl-P","Ctrl-P"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:i("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(t){},readOnly:!0},{name:"cut",exec:function(t){var e=t.getSelectionRange();t._emit("cut",e),t.selection.isEmpty()||(t.session.remove(e),t.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",bindKey:i("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:i("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:i("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:i("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:i("Shift-Delete",null),exec:function(t){if(!t.selection.isEmpty())return!1;t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:i("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:i("Ctrl-Shift-Backspace",null),exec:function(t){var e=t.selection.getRange();e.start.column=0,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:i("Ctrl-Shift-Delete",null),exec:function(t){var e=t.selection.getRange();e.end.column=Number.MAX_VALUE,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:i("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(t,e){t.insert(c.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:i(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:i("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:i(null,null),exec:function(t){for(var e=t.selection.isBackwards(),n=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),i=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),r=t.session.doc.getLine(n.row).length,s=t.session.doc.getTextRange(t.selection.getRange()).replace(/\n\s*/," ").length,o=t.session.doc.getLine(n.row),a=n.row+1;a<=i.row+1;a++){var l=c.stringTrimLeft(c.stringTrimRight(t.session.doc.getLine(a)));0!==l.length&&(l=" "+l),o+=l}i.row+1<t.session.doc.getLength()-1&&(o+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new h(n.row,0,i.row+2,0),o),0<s?(t.selection.moveCursorTo(n.row,n.column),t.selection.selectTo(n.row,n.column+s)):(r=t.session.doc.getLine(n.row).length>r?r+1:r,t.selection.moveCursorTo(n.row,r))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:i(null,null),exec:function(t){var e=t.session.doc.getLength()-1,n=t.session.doc.getLine(e).length,i=t.selection.rangeList.ranges,r=[];i.length<1&&(i=[t.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row===e&&i[s].end.column===n||r.push(new h(i[s].end.row,i[s].end.column,e,n))),0===s?0===i[s].start.row&&0===i[s].start.column||r.push(new h(0,0,i[s].start.row,i[s].start.column)):r.push(new h(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));t.exitMultiSelectMode(),t.clearSelection();for(s=0;s<r.length;s++)t.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(t,e,n){"use strict";t("./lib/fixoldbrowsers");var s=t("./lib/oop"),i=t("./lib/dom"),c=t("./lib/lang"),r=t("./lib/useragent"),o=t("./keyboard/textinput").TextInput,a=t("./mouse/mouse_handler").MouseHandler,l=t("./mouse/fold_handler").FoldHandler,h=t("./keyboard/keybinding").KeyBinding,u=t("./edit_session").EditSession,d=t("./search").Search,g=t("./range").Range,f=t("./lib/event_emitter").EventEmitter,p=t("./commands/command_manager").CommandManager,m=t("./commands/default_commands").commands,v=t("./config"),y=t("./token_iterator").TokenIterator,b=function(t,e){var n=t.getContainerElement();this.container=n,this.renderer=t,this.id="editor"+ ++b.$uid,this.commands=new p(r.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new o(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new l(this)),this.keyBinding=new h(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=c.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(t,e){e._$emitInputEvent.schedule(31)}),this.setSession(e||new u("")),v.resetOptions(this),v._signal("editor",this)};b.$uid=0,function(){s.implement(this,f),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=c.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(t){if(this.curOp){if(t&&!1===t.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var e=this.curOp.command;e.name&&0<this.$blockScrolling&&this.$blockScrolling--;var n=e&&e.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var e=this.prevOp,n=this.$mergeableCommands,i=e.command&&t.command.name==e.command.name;if("insertstring"==t.command.name){var r=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(e.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&2e3<Date.now()-this.sequenceStartTime&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,n){if(e&&"string"==typeof e){this.$keybindingId=e;var i=this;v.loadModule(["keybinding",e],function(t){i.$keybindingId==e&&i.keyBinding.setKeyboardHandler(t&&t.handler),n&&n()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),n&&n()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var e=this.session;if(e){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}(this.session=t)?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:e}),this.curOp=null,e&&e._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this}),t&&t.bgTokenizer&&t.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(t,e){return this.session.doc.setValue(t),e?1==e?this.navigateFileEnd():-1==e&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t,e){this.renderer.setTheme(t,e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var i=this;this.$highlightPending=!0,setTimeout(function(){i.$highlightPending=!1;var t=i.session;if(t&&t.bgTokenizer){var e=t.findMatchingBracket(i.getCursorPosition());if(e)var n=new g(e.row,e.column,e.row,e.column+1);else if(t.$mode.getMatching)n=t.$mode.getMatching(i.session);n&&(t.$bracketHighlight=t.addMarker(n,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var u=this;this.$highlightTagPending=!0,setTimeout(function(){u.$highlightTagPending=!1;var t=u.session;if(t&&t.bgTokenizer){var e=u.getCursorPosition(),n=new y(u.session,e.row,e.column),i=n.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==i.type.indexOf("tag-open")||(i=n.stepForward())){var r=i.value,s=0,o=n.stepBackward();if("<"==o.value)for(;o=i,(i=n.stepForward())&&i.value===r&&-1!==i.type.indexOf("tag-name")&&("<"===o.value?s++:"</"===o.value&&s--),i&&0<=s;);else{for(;i=o,o=n.stepBackward(),i&&i.value===r&&-1!==i.type.indexOf("tag-name")&&("<"===o.value?s++:"</"===o.value&&s--),o&&s<=0;);n.stepForward()}if(!i)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var a=n.getCurrentTokenRow(),l=n.getCurrentTokenColumn(),c=new g(a,l,a,l+i.value.length),h=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=h&&0!==c.compareRange(h.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),c&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(c,"ace_bracket","text"))}}},50)}},this.focus=function(){var t=this;setTimeout(function(){t.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(t){var e=this.session.$useWrapMode,n=t.start.row==t.end.row?t.end.row:1/0;this.renderer.updateLines(t.start.row,n,e),this._signal("change",t),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(t){var e=t.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var t,e=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||1<this.renderer.$minLines||(t=!1)),e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var n=new g(t.row,t.column,t.row,1/0);n.id=e.addMarker(n,"ace_active-line","screenLine"),e.$highlightLineMarker=n}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))},this.onSelectionChange=function(t){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();e.$selectionMarker=e.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,e=this.getSelectionRange();if(!e.isEmpty()&&!e.isMultiLine()){var n=e.start.column-1,i=e.end.column+1,r=t.getLine(e.start.row),s=r.length,o=r.substring(Math.max(n,0),Math.min(i,s));if(!(0<=n&&/^[\w\d]/.test(o)||i<=s&&/[\w\d]$/.test(o))&&(o=r.substring(e.start.column,e.end.column),/^[\w\d]+$/.test(o)))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o})}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText();return this._signal("copy",t),t},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t,e){var n={text:t,event:e};this.commands.exec("paste",this,n)},this.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var e=t.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(e);else{var n=e.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges;if(n.length>i.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,e);for(var r=i.length;r--;){var s=i[r];s.isEmpty()||this.session.remove(s),this.session.insert(s.start,n[r])}}},this.execCommand=function(t,e){return this.commands.exec(t,this,e)},this.insert=function(t,e){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!e){var s=i.transformAction(n.getState(r.row),"insertion",this,n,t);s&&(t!==s.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),t=s.text)}if("\t"==t&&(t=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==t.indexOf("\n"))(o=new g.fromPoints(r,r)).end.column+=t.length,this.session.remove(o)}else{var o=this.getSelectionRange();r=this.session.remove(o),this.clearSelection()}if("\n"==t||"\r\n"==t){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,h=n.getState(r.row),u=(a=n.getLine(r.row),i.checkOutdent(h,a,t));if(n.insert(r,t),s&&s.selection&&(2==s.selection.length?this.selection.setSelectionRange(new g(r.row,c+s.selection[0],r.row,c+s.selection[1])):this.selection.setSelectionRange(new g(r.row+s.selection[0],s.selection[1],r.row+s.selection[2],s.selection[3]))),n.getDocument().isNewLine(t)){var d=i.getNextLineIndent(h,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}u&&i.autoOutdent(h,n,r.row)},this.onTextInput=function(t){this.keyBinding.onTextInput(t)},this.onCommandKey=function(t,e,n){this.keyBinding.onCommandKey(t,e,n)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var e=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(e.start.row),r=n.getMode().transformAction(i,"deletion",this,n,e);if(0===e.end.column){var s=n.getTextRange(e);if("\n"==s[s.length-1]){var o=n.getLine(e.end.row);/^\s+$/.test(o)&&(e.end.column=o.length)}}r&&(e=r)}this.session.remove(e),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),e=t.column;if(0!==e){var n,i,r=this.session.getLine(t.row);e<r.length?(n=r.charAt(e)+r.charAt(e-1),i=new g(t.row,e-1,t.row,e+1)):(n=r.charAt(e-1)+r.charAt(e-2),i=new g(t.row,e-2,t.row,e)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,e=this.getSelectionRange();if(e.start.row<e.end.row){var n=this.$getSelectedRows();t.indentRows(n.first,n.last,"\t")}else{if(!(e.start.column<e.end.column)||/^\s+$/.test(t.getTextRange(e))){var i=t.getLine(e.start.row),r=e.start,s=t.getTabSize(),o=t.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var a=s-o%s,l=c.stringRepeat(" ",a);else{for(a=o%s;" "==i[e.start.column-1]&&a;)e.start.column--,a--;this.selection.setSelectionRange(e),l="\t"}return this.insert(l)}n=this.$getSelectedRows();t.indentRows(n.first,n.last,"\t")}},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"\t")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){for(var t=this.$getSelectedRows(),e=this.session,n=[],i=t.first;i<=t.last;i++)n.push(e.getLine(i));n.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0});var r=new g(0,0,0,0);for(i=t.first;i<=t.last;i++){var s=e.getLine(i);r.start.row=i,r.end.row=i,r.end.column=s.length,e.replace(r,n[i-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),e=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,e.first,e.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),e=this.session.getState(t.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(e,this.session,n,t)},this.getNumberAt=function(t,e){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(t);n.lastIndex<e;){var r=n.exec(i);if(r.index<=e&&r.index+r[0].length>=e)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(t){var e=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new g(e,n-1,e,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var s=this.getNumberAt(e,n);if(s){var o=0<=s.value.indexOf(".")?s.start+s.value.indexOf(".")+1:s.end,a=s.start+s.value.length-o,l=parseFloat(s.value);l*=Math.pow(10,a),o!==s.end&&n<o?t*=Math.pow(10,s.end-n-1):t*=Math.pow(10,s.end-n),l+=t;var c=(l/=Math.pow(10,a)).toFixed(a),h=new g(e,s.start,e,s.end);this.session.replace(h,c),this.moveCursorTo(e,Math.max(s.start+1,n+c.length-s.value.length))}}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,e=this.session,n=t.getRange(),i=t.isBackwards();if(n.isEmpty()){var r=n.start.row;e.duplicateLines(r,r)}else{var s=i?n.start:n.end,o=e.insert(s,e.getTextRange(n),!1);n.start=s,n.end=o,t.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(t,e,n){return this.session.moveText(t,e,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(t,e){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var s=r.toOrientedRange();n=this.$getSelectedRows(s),i=this.session.$moveLines(n.first,n.last,e?0:t),e&&-1==t&&(i=0),s.moveBy(i,0),r.fromOrientedRange(s)}else{var o=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=o.length,h=0;h<c;h++){var u=h;o[h].moveBy(a,0);for(var d=(n=this.$getSelectedRows(o[h])).first,f=n.last;++h<c;){l&&o[h].moveBy(l,0);var p=this.$getSelectedRows(o[h]);if(e&&p.first!=f)break;if(!e&&p.first>f+1)break;f=p.last}for(h--,a=this.session.$moveLines(d,f,e?0:t),e&&-1==t&&(u=h+1);u<=h;)o[u].moveBy(a,0),u++;e||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(t){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,e){var n=this.renderer,i=this.renderer.layerConfig,r=t*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,!0===e?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):!1===e&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var s=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=e&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,e,n,i){this.renderer.scrollToLine(t,e,n,i)},this.centerSelection=function(){var t=this.getSelectionRange(),e={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,e){this.selection.moveCursorTo(t,e)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t,e){var n=this.getCursorPosition(),i=new y(this.session,n.row,n.column),r=i.getCurrentToken(),s=r||i.stepForward();if(s){var o,a,l=!1,c={},h=n.column-s.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(s.value.match(/[{}()\[\]]/g)){for(;h<s.value.length&&!l;h++)if(u[s.value[h]])switch(a=u[s.value[h]]+"."+s.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),s.value[h]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(o="bracket",l=!0)}}else s&&-1!==s.type.indexOf("tag-name")&&(isNaN(c[s.value])&&(c[s.value]=0),"<"===r.value?c[s.value]++:"</"===r.value&&c[s.value]--,-1===c[s.value]&&(o="tag",l=!0));l||(r=s,s=i.stepForward(),h=0)}while(s&&!l);if(o){var d,f;if("bracket"===o)(d=this.session.getBracketRange(n))||(f=(d=new g(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+h-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+h-1)).start,(e||f.row===n.row&&Math.abs(f.column-n.column)<2)&&(d=this.session.getBracketRange(f)));else if("tag"===o){if(!s||-1===s.type.indexOf("tag-name"))return;var p=s.value;if(0===(d=new g(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column))for(l=!1;s=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),s.value===p&&-1!==s.type.indexOf("tag-name")&&("<"===r.value?c[p]++:"</"===r.value&&c[p]--,0===c[p]&&(l=!0))),r&&!l;);s&&s.type.indexOf("tag-name")&&((f=d.start).row==n.row&&Math.abs(f.column-n.column)<2&&(f=d.end))}(f=d&&d.cursor||f)&&(t?d&&e?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(t,e,n){this.selection.clearSelection(),this.session.unfold({row:t-1,column:e||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,e||0),this.$blockScrolling-=1,this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,n)},this.navigateTo=function(t,e){this.selection.moveTo(t,e)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var e=this.getSelectionRange().start;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var e=this.getSelectionRange().end;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,e){e&&this.$search.set(e);var n=this.$search.find(this.session),i=0;return n&&(this.$tryReplace(n,t)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end))),i},this.replaceAll=function(t,e){e&&this.$search.set(e);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;0<=s;--s)this.$tryReplace(n[s],t)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(t,e){var n=this.session.getTextRange(t);return null!==(e=this.$search.replace(n,e))?(t.end=this.session.replace(t,e),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,e,n){e||(e={}),"string"==typeof t||t instanceof RegExp?e.needle=t:"object"==typeof t&&s.mixin(e,t);var i=this.selection.getRange();null==e.needle&&((t=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),t=this.session.getTextRange(i)),this.$search.set({needle:t})),this.$search.set(e),e.start||this.$search.set({start:i});var r=this.$search.find(this.session);return e.preventScroll?r:r?(this.revealRange(r,n),r):(e.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(t,e){this.find({skipCurrent:!0,backwards:!1},t,e)},this.findPrevious=function(t,e){this.find(t,{skipCurrent:!0,backwards:!0},e)},this.revealRange=function(t,e){this.$blockScrolling+=1,this.session.unfold(t),this.selection.setSelectionRange(t),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),!1!==e&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(t){if(t){var r,s=this,o=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var a=this.$scrollAnchor;a.style.cssText="position:absolute",this.container.insertBefore(a,this.container.firstChild);var e=this.on("changeSelection",function(){o=!0}),n=this.renderer.on("beforeRender",function(){o&&(r=s.renderer.container.getBoundingClientRect())}),i=this.renderer.on("afterRender",function(){if(o&&r&&(s.isFocused()||s.searchBox&&s.searchBox.isFocused())){var t=s.renderer,e=t.$cursorLayer.$pixelPos,n=t.layerConfig,i=e.top-n.offset;null!=(o=0<=e.top&&i+r.top<0||!(e.top<n.height&&e.top+r.top+n.lineHeight>window.innerHeight)&&null)&&(a.style.top=i+"px",a.style.left=e.left+"px",a.style.height=n.lineHeight+"px",a.scrollIntoView(o)),o=r=null}});this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",e),this.renderer.off("afterRender",i),this.renderer.off("beforeRender",n))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",e=this.renderer.$cursorLayer;e&&(e.setSmoothBlinking(/smooth/.test(t)),e.isBlinking=!this.$readOnly&&"wide"!=t,i.setCssClass(e.element,"ace_slim-cursors",/slim/.test(t)))}}.call(b.prototype),v.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(t){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(t){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),e.Editor=b}),ace.define("ace/undomanager",["require","exports","module"],function(t,e,n){"use strict";var i=function(){this.reset()};(function(){function e(t){return{action:t.action,start:t.start,end:t.end,lines:1==t.lines.length?null:t.lines,text:1==t.lines.length?t.lines[0]:null}}function n(t){return{action:t.action,start:t.start,end:t.end,lines:t.lines||[t.text]}}function i(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++){for(var r=t[i],s={group:r.group,deltas:new Array(r.length)},o=0;o<r.deltas.length;o++){var a=r.deltas[o];s.deltas[o]=e(a)}n[i]=s}return n}this.execute=function(t){var e=t.args[0];this.$doc=t.args[1],t.merge&&this.hasUndo()&&(this.dirtyCounter--,e=this.$undoStack.pop().concat(e)),this.$undoStack.push(e),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(t){var e=this.$undoStack.pop(),n=null;return e&&(n=this.$doc.undoChanges(e,t),this.$redoStack.push(e),this.dirtyCounter--),n},this.redo=function(t){var e=this.$redoStack.pop(),n=null;return e&&(n=this.$doc.redoChanges(this.$deserializeDeltas(e),t),this.$undoStack.push(e),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return 0<this.$undoStack.length},this.hasRedo=function(){return 0<this.$redoStack.length},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return i(t,e)},this.$deserializeDeltas=function(t){return i(t,n)}}).call(i.prototype),e.UndoManager=i}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(t,e,n){"use strict";var w=t("../lib/dom"),i=t("../lib/oop"),a=t("../lib/lang"),r=t("../lib/event_emitter").EventEmitter,s=function(t){this.element=w.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,r),this.setSession=function(t){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),(this.session=t)&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,e)},this.setAnnotations=function(t){this.$annotations=[];for(var e=0;e<t.length;e++){var n=t[e],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var s=n.text;s=s?a.escapeHTML(s):n.html||"",-1===r.text.indexOf(s)&&r.text.push(s);var o=n.type;"error"==o?r.className=" ace_error":"warning"==o&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=o||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var e=t.start.row,n=t.end.row-e;if(0===n);else if("remove"==t.action)this.$annotations.splice(e,n+1,null);else{var i=new Array(n+1);i.unshift(e,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(t){for(var e=this.session,n=t.firstRow,i=Math.min(t.lastRow+t.gutterOffset,e.getLength()-1),r=e.getNextFoldLine(n),s=r?r.start.row:1/0,o=this.$showFoldWidgets&&e.foldWidgets,a=e.$breakpoints,l=e.$decorations,c=e.$firstLineNumber,h=0,u=e.gutterRenderer||this.$renderer,d=null,f=-1,p=n;;){if(s<p&&(p=r.end.row+1,s=(r=e.getNextFoldLine(p,r))?r.start.row:1/0),i<p){for(;this.$cells.length>f+1;)d=this.$cells.pop(),this.element.removeChild(d.element);break}(d=this.$cells[++f])||((d={element:null,textNode:null,foldWidget:null}).element=w.createElement("div"),d.textNode=document.createTextNode(""),d.element.appendChild(d.textNode),this.element.appendChild(d.element),this.$cells[f]=d);var g="ace_gutter-cell ";if(a[p]&&(g+=a[p]),l[p]&&(g+=l[p]),this.$annotations[p]&&(g+=this.$annotations[p].className),d.element.className!=g&&(d.element.className=g),(v=e.getRowLength(p)*t.lineHeight+"px")!=d.element.style.height&&(d.element.style.height=v),o){var m=o[p];null==m&&(m=o[p]=e.getFoldWidget(p))}if(m){d.foldWidget||(d.foldWidget=w.createElement("span"),d.element.appendChild(d.foldWidget));g="ace_fold-widget ace_"+m;"start"==m&&p==s&&p<r.end.row?g+=" ace_closed":g+=" ace_open",d.foldWidget.className!=g&&(d.foldWidget.className=g);var v=t.lineHeight+"px";d.foldWidget.style.height!=v&&(d.foldWidget.style.height=v)}else d.foldWidget&&(d.element.removeChild(d.foldWidget),d.foldWidget=null);var y=h=u?u.getText(e,p):p+c;y!==d.textNode.data&&(d.textNode.data=y),p++}this.element.style.height=t.minHeight+"px",(this.$fixedWidth||e.$useWrapMode)&&(h=e.getLength()+c);var b=u?u.getWidth(e,h,t):h.toString().length*t.characterWidth,_=this.$padding||this.$computePadding();(b+=_.left+_.right)===this.gutterWidth||isNaN(b)||(this.gutterWidth=b,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",b))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?w.addCssClass(this.element,"ace_folding-enabled"):w.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=w.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(t.paddingLeft)+1||0,this.$padding.right=parseInt(t.paddingRight)||0,this.$padding},this.getRegion=function(t){var e=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return t.x<e.left+n.left?"markers":this.$showFoldWidgets&&t.x>n.right-e.right?"foldWidgets":void 0}}).call(s.prototype),e.Gutter=s}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,e,n){"use strict";var p=t("../range").Range,i=t("../lib/dom"),r=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.update=function(t){if(t){this.config=t;var e=[];for(var n in this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var s=this.$getTop(r.start.row,t),o=this.$padding+(this.session.$bidiHandler.isBidiRow(r.start.row)?this.session.$bidiHandler.getPosLeft(r.start.column):r.start.column*t.characterWidth);i.renderer(e,r,o,s,t)}else"fullLine"==i.type?this.drawFullLineMarker(e,r,i.clazz,t):"screenLine"==i.type?this.drawScreenLineMarker(e,r,i.clazz,t):r.isMultiLine()?"text"==i.type?this.drawTextMarker(e,r,i.clazz,t):this.drawMultiLineMarker(e,r,i.clazz,t):this.session.$bidiHandler.isBidiRow(r.start.row)?this.drawBidiSingleLineMarker(e,r,i.clazz+" ace_start ace_br15",t):this.drawSingleLineMarker(e,r,i.clazz+" ace_start ace_br15",t)}else i.update(e,this,this.session,t)}this.element.innerHTML=e.join("")}},this.$getTop=function(t,e){return(t-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(t,e,n,i,r){for(var s=this.session,o=e.start.row,a=e.end.row,l=o,c=0,h=0,u=s.getScreenLastRowColumn(l),d=null,f=new p(l,e.start.column,l,h);l<=a;l++)f.start.row=f.end.row=l,f.start.column=l==o?e.start.column:s.getRowWrapIndent(l),c=h,h=f.end.column=u,u=l+1<a?s.getScreenLastRowColumn(l+1):l==a?0:e.end.column,d=n+(l==o?" ace_start":"")+" ace_br"+((l==o||l==o+1&&e.start.column?1:0)|(c<h?2:0)|(u<h?4:0)|(l==a?8:0)),this.session.$bidiHandler.isBidiRow(l)?this.drawBidiSingleLineMarker(t,f,d,i,l==a?0:1,r):this.drawSingleLineMarker(t,f,d,i,l==a?0:1,r)},this.drawMultiLineMarker=function(t,e,n,i,r){var s,o,a,l=this.$padding;(r=r||"",this.session.$bidiHandler.isBidiRow(e.start.row))?((c=e.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(t,c,n+" ace_br1 ace_start",i,null,r)):(s=i.lineHeight,o=this.$getTop(e.start.row,i),a=l+e.start.column*i.characterWidth,t.push("<div class='",n," ace_br1 ace_start' style='","height:",s,"px;","right:0;","top:",o,"px;","left:",a,"px;",r,"'></div>"));if(this.session.$bidiHandler.isBidiRow(e.end.row)){var c;(c=e.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(t,c,n+" ace_br12",i,null,r)}else{var h=e.end.column*i.characterWidth;s=i.lineHeight,o=this.$getTop(e.end.row,i),t.push("<div class='",n," ace_br12' style='","height:",s,"px;","width:",h,"px;","top:",o,"px;","left:",l,"px;",r,"'></div>")}if(!((s=(e.end.row-e.start.row-1)*i.lineHeight)<=0)){o=this.$getTop(e.start.row+1,i);var u=(e.start.column?1:0)|(e.end.column?0:8);t.push("<div class='",n,u?" ace_br"+u:"","' style='","height:",s,"px;","right:0;","top:",o,"px;","left:",l,"px;",r,"'></div>")}},this.drawSingleLineMarker=function(t,e,n,i,r,s){var o=i.lineHeight,a=(e.end.column+(r||0)-e.start.column)*i.characterWidth,l=this.$getTop(e.start.row,i),c=this.$padding+e.start.column*i.characterWidth;t.push("<div class='",n,"' style='","height:",o,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",s||"","'></div>")},this.drawBidiSingleLineMarker=function(e,t,n,i,r,s){var o=i.lineHeight,a=this.$getTop(t.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach(function(t){e.push("<div class='",n,"' style='","height:",o,"px;","width:",t.width+(r||0),"px;","top:",a,"px;","left:",l+t.left,"px;",s||"","'></div>")})},this.drawFullLineMarker=function(t,e,n,i,r){var s=this.$getTop(e.start.row,i),o=i.lineHeight;e.start.row!=e.end.row&&(o+=this.$getTop(e.end.row,i)-s),t.push("<div class='",n,"' style='","height:",o,"px;","top:",s,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(t,e,n,i,r){var s=this.$getTop(e.start.row,i),o=i.lineHeight;t.push("<div class='",n,"' style='","height:",o,"px;","top:",s,"px;","left:0;right:0;",r||"","'></div>")}}).call(r.prototype),e.Marker=r}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("../lib/oop"),c=t("../lib/dom"),u=t("../lib/lang"),r=(t("../lib/useragent"),t("../lib/event_emitter").EventEmitter),s=function(t){this.element=c.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){i.implement(this,r),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var t="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(t){this.$padding=t,this.element.style.padding="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){(this.session=t)&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(t){return this.showInvisibles!=t&&(this.showInvisibles=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides!=t&&(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var e=this.$tabStrings=[0],n=1;n<t+1;n++)this.showInvisibles?e.push("<span class='ace_invisible ace_invisible_tab'>"+u.stringRepeat(this.TAB_CHAR,n)+"</span>"):e.push(u.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",r="",s="";if(this.showInvisibles){i+=" ace_invisible",r=" ace_invisible_space",s=" ace_invisible_tab";var o=u.stringRepeat(this.SPACE_CHAR,this.tabSize),a=u.stringRepeat(this.TAB_CHAR,this.tabSize)}else a=o=u.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+i+r+"'>"+o+"</span>",this.$tabStrings["\t"]="<span class='"+i+s+"'>"+a+"</span>"}},this.updateLines=function(t,e,n){this.config.lastRow==t.lastRow&&this.config.firstRow==t.firstRow||this.scrollLines(t),this.config=t;for(var i=Math.max(e,t.firstRow),r=Math.min(n,t.lastRow),s=this.element.childNodes,o=0,a=t.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}o++}a=i;for(var l,c=(l=this.session.getNextFoldLine(a))?l.start.row:1/0;c<a&&(a=l.end.row+1,c=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(r<a);){var h=s[o++];if(h){var u=[];this.$renderLine(u,a,!this.$useLineGroups(),a==c&&l),h.style.height=t.lineHeight*this.session.getRowLength(a)+"px",h.innerHTML=u.join("")}a++}},this.scrollLines=function(t){var e=this.config;if(this.config=t,!e||e.lastRow<t.firstRow)return this.update(t);if(t.lastRow<e.firstRow)return this.update(t);var n=this.element;if(e.firstRow<t.firstRow)for(var i=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);0<i;i--)n.removeChild(n.firstChild);if(e.lastRow>t.lastRow)for(i=this.session.getFoldedRowCount(t.lastRow+1,e.lastRow);0<i;i--)n.removeChild(n.lastChild);if(t.firstRow<e.firstRow){var r=this.$renderLinesFragment(t,t.firstRow,e.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}if(t.lastRow>e.lastRow){r=this.$renderLinesFragment(t,e.lastRow+1,t.lastRow);n.appendChild(r)}},this.$renderLinesFragment=function(t,e,n){for(var i=this.element.ownerDocument.createDocumentFragment(),r=e,s=this.session.getNextFoldLine(r),o=s?s.start.row:1/0;o<r&&(r=s.end.row+1,o=(s=this.session.getNextFoldLine(r,s))?s.start.row:1/0),!(n<r);){var a=c.createElement("div"),l=[];if(this.$renderLine(l,r,!1,r==o&&s),a.innerHTML=l.join(""),this.$useLineGroups())a.className="ace_line_group",i.appendChild(a),a.style.height=t.lineHeight*this.session.getRowLength(r)+"px";else for(;a.firstChild;)i.appendChild(a.firstChild);r++}return i},this.update=function(t){for(var e=[],n=(this.config=t).firstRow,i=t.lastRow,r=n,s=this.session.getNextFoldLine(r),o=s?s.start.row:1/0;o<r&&(r=s.end.row+1,o=(s=this.session.getNextFoldLine(r,s))?s.start.row:1/0),!(i<r);)this.$useLineGroups()&&e.push("<div class='ace_line_group' style='height:",t.lineHeight*this.session.getRowLength(r),"px'>"),this.$renderLine(e,r,!1,r==o&&s),this.$useLineGroups()&&e.push("</div>"),r++;this.element.innerHTML=e.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,l,e,n){var c=this,i=n.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(t,e,n,i,r){if(e)return c.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+u.stringRepeat(c.SPACE_CHAR,t.length)+"</span>":t;if("&"==t)return"&#38;";if("<"==t)return"&#60;";if(">"==t)return"&#62;";if("\t"==t){var s=c.session.getScreenTabSize(l+i);return l+=s-1,c.$tabStrings[s]}if("　"==t){var o=c.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",a=c.showInvisibles?c.SPACE_CHAR:"";return l+=1,"<span class='"+o+"' style='width:"+2*c.config.characterWidth+"px'>"+a+"</span>"}return n?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+c.SPACE_CHAR+"</span>":(l+=1,"<span class='ace_cjk' style='width:"+2*c.config.characterWidth+"px'>"+t+"</span>")});if(this.$textToken[e.type])t.push(i);else{var r="ace_"+e.type.replace(/\./g," ace_"),s="";"fold"==e.type&&(s=" style='width:"+e.value.length*this.config.characterWidth+"px;' "),t.push("<span class='",r,"'",s,">",i,"</span>")}return l+n.length},this.renderIndentGuide=function(t,e,n){var i=e.search(this.$indentGuideRe);return i<=0||n<=i?e:" "==e[0]?(i-=i%this.tabSize,t.push(u.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),e.substr(i)):"\t"==e[0]?(t.push(u.stringRepeat(this.$tabStrings["\t"],i)),e.substr(i)):e},this.$renderWrappedLine=function(t,e,n,i){for(var r=0,s=0,o=n[0],a=0,l=0;l<e.length;l++){var c=e[l],h=c.value;if(0==l&&this.displayIndentGuides){if(r=h.length,!(h=this.renderIndentGuide(t,h,o)))continue;r-=h.length}if(r+h.length<o)a=this.$renderToken(t,a,c,h),r+=h.length;else{for(;r+h.length>=o;)a=this.$renderToken(t,a,c,h.substring(0,o-r)),h=h.substring(o-r),r=o,i||t.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),t.push(u.stringRepeat(" ",n.indent)),a=0,o=n[++s]||Number.MAX_VALUE;0!=h.length&&(r+=h.length,a=this.$renderToken(t,a,c,h))}}},this.$renderSimpleLine=function(t,e){var n=0,i=e[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(t,r)),r&&(n=this.$renderToken(t,n,i,r));for(var s=1;s<e.length;s++)r=(i=e[s]).value,n=this.$renderToken(t,n,i,r)},this.$renderLine=function(t,e,n,i){if(i||0==i||(i=this.session.getFoldLine(e)),i)var r=this.$getFoldLineTokens(e,i);else r=this.session.getTokens(e);if(n||t.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(e)),"px'>"),r.length){var s=this.session.getRowSplitData(e);s&&s.length?this.$renderWrappedLine(t,r,s,n):this.$renderSimpleLine(t,r)}this.showInvisibles&&(i&&(e=i.end.row),t.push("<span class='ace_invisible ace_invisible_eol'>",e==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||t.push("</div>")},this.$getFoldLineTokens=function(t,e){var s=this.session,o=[],a=s.getTokens(t);return e.walk(function(t,e,n,i,r){null!=t?o.push({type:"fold",value:t}):(r&&(a=s.getTokens(e)),a.length&&function(t,e,n){for(var i=0,r=0;r+t[i].value.length<e;)if(r+=t[i].value.length,++i==t.length)return;for(r!=e&&((s=t[i].value.substring(e-r)).length>n-e&&(s=s.substring(0,n-e)),o.push({type:t[i].type,value:s}),r=e+s.length,i+=1);r<n&&i<t.length;){var s;(s=t[i].value).length+r>n?o.push({type:t[i].type,value:s.substring(0,n-r)}):o.push(t[i]),r+=s.length,i+=1}}(a,i,n))},e.end.row,this.session.getLine(e.end.row).length),o},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(s.prototype),e.Text=s}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,e,n){"use strict";var i,r=t("../lib/dom"),s=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),void 0===i&&(i=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(i?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(t){for(var e=this.cursors,n=e.length;n--;)e[n].style.visibility=t?"":"hidden"},this.$updateOpacity=function(t){for(var e=this.cursors,n=e.length;n--;)e[n].style.opacity=t?"":"0"},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t==this.smoothBlinking||i||(this.smoothBlinking=t,r.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var t=r.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(1<this.cursors.length){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var e=function(){this.timeoutId=setTimeout(function(){t(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){t(!0),e()},this.blinkInterval),e()}},this.getPixelPosition=function(t,e){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(t);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,t.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(t){this.config=t;var e=this.session.$selectionMarkers,n=0,i=0;void 0!==e&&0!==e.length||(e=[{cursor:null}]);n=0;for(var r=e.length;n<r;n++){var s=this.getPixelPosition(e[n].cursor,!0);if(!((s.top>t.height+t.offset||s.top<0)&&1<n)){var o=(this.cursors[i++]||this.addCursor()).style;this.drawCursor?this.drawCursor(o,s,t,e[n],this.session):(o.left=s.left+"px",o.top=s.top+"px",o.width=t.characterWidth+"px",o.height=t.lineHeight+"px")}}for(;this.cursors.length>i;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&((this.overwrite=t)?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(s.prototype),e.Cursor=s}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/dom"),s=t("./lib/event"),o=t("./lib/event_emitter").EventEmitter,a=function(t){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)};(function(){i.implement(this,o),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1}}).call(a.prototype);var l=function(t,e){a.call(this,t),this.scrollTop=0,this.scrollHeight=0,e.$scrollbarWidth=this.width=r.scrollbarWidth(t.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};i.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var t=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-t)/(this.coeff-t)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=this.setScrollHeight=function(t){32768<(this.scrollHeight=t)?(this.coeff=32768/t,t=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=t,this.element.scrollTop=t*this.coeff)}}.call(l.prototype);var c=function(t,e){a.call(this,t),this.scrollLeft=0,this.height=e.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(c,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}.call(c.prototype),e.ScrollBar=l,e.ScrollBarV=l,e.ScrollBarH=c,e.VScrollBar=l,e.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,e,n){"use strict";var i=t("./lib/event"),r=function(t,e){this.onRender=t,this.pending=!1,this.changes=0,this.window=e||window};(function(){this.schedule=function(t){if(this.changes=this.changes|t,!this.pending&&this.changes){this.pending=!0;var e=this;i.nextFrame(function(){e.pending=!1;for(var t;t=e.changes;)e.changes=0,e.onRender(t)},this.window)}}}).call(r.prototype),e.RenderLoop=r}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(t,e,n){var i=t("../lib/oop"),r=t("../lib/dom"),s=t("../lib/lang"),o=t("../lib/useragent"),a=t("../lib/event_emitter").EventEmitter,l=0,c=e.FontMetrics=function(t){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=s.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){i.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var t=r.createElement("div");this.$setMeasureNodeStyles(t.style),t.style.width="0.2px",document.documentElement.appendChild(t);var e=t.getBoundingClientRect().width;l=0<e&&e<1?50:100,t.parentNode.removeChild(t)},this.$setMeasureNodeStyles=function(t,e){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",o.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=e?"hidden":"visible"},this.checkForSizeChanges=function(){var t=this.$measureSizes();if(t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var e=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=e&&e.width===t.width&&e.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=setInterval(function(){t.checkForSizeChanges()},500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var t=null;try{t=this.$measureNode.getBoundingClientRect()}catch(e){t={width:0,height:0}}var e={height:t.height,width:t.width/l}}else e={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===e.width||0===e.height?null:e},this.$measureCharWidth=function(t){return this.$main.innerHTML=s.stringRepeat(t,l),this.$main.getBoundingClientRect().width/l},this.getCharacterWidth=function(t){var e=this.charSizes[t];return void 0===e&&(e=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),e},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),s=t("./lib/dom"),o=t("./config"),r=t("./lib/useragent"),a=t("./layer/gutter").Gutter,l=t("./layer/marker").Marker,c=t("./layer/text").Text,h=t("./layer/cursor").Cursor,u=t("./scrollbar").HScrollBar,d=t("./scrollbar").VScrollBar,f=t("./renderloop").RenderLoop,p=t("./layer/font_metrics").FontMetrics,g=t("./lib/event_emitter").EventEmitter;s.importCssString('.ace_editor {\tposition: relative;\toverflow: hidden;\tfont: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\tdirection: ltr;\ttext-align: left;\t-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\t}\t.ace_scroller {\tposition: absolute;\toverflow: hidden;\ttop: 0;\tbottom: 0;\tbackground-color: inherit;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\tcursor: text;\t}\t.ace_content {\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmin-width: 100%;\t}\t.ace_dragging .ace_scroller:before{\tposition: absolute;\ttop: 0;\tleft: 0;\tright: 0;\tbottom: 0;\tcontent: \'\';\tbackground: rgba(250, 250, 250, 0.01);\tz-index: 1000;\t}\t.ace_dragging.ace_dark .ace_scroller:before{\tbackground: rgba(0, 0, 0, 0.01);\t}\t.ace_selecting, .ace_selecting * {\tcursor: text !important;\t}\t.ace_gutter {\tposition: absolute;\toverflow : hidden;\twidth: auto;\ttop: 0;\tbottom: 0;\tleft: 0;\tcursor: default;\tz-index: 4;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\t}\t.ace_gutter-active-line {\tposition: absolute;\tleft: 0;\tright: 0;\t}\t.ace_scroller.ace_scroll-left {\tbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\t}\t.ace_gutter-cell {\tpadding-left: 19px;\tpadding-right: 6px;\tbackground-repeat: no-repeat;\t}\t.ace_gutter-cell.ace_error {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\tbackground-repeat: no-repeat;\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_warning {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\tbackground-position: 2px center;\t}\t.ace_dark .ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\t}\t.ace_scrollbar {\tposition: absolute;\tright: 0;\tbottom: 0;\tz-index: 6;\t}\t.ace_scrollbar-inner {\tposition: absolute;\tcursor: text;\tleft: 0;\ttop: 0;\t}\t.ace_scrollbar-v{\toverflow-x: hidden;\toverflow-y: scroll;\ttop: 0;\t}\t.ace_scrollbar-h {\toverflow-x: scroll;\toverflow-y: hidden;\tleft: 0;\t}\t.ace_print-margin {\tposition: absolute;\theight: 100%;\t}\t.ace_text-input {\tposition: absolute;\tz-index: 0;\twidth: 0.5em;\theight: 1em;\topacity: 0;\tbackground: transparent;\t-moz-appearance: none;\tappearance: none;\tborder: none;\tresize: none;\toutline: none;\toverflow: hidden;\tfont: inherit;\tpadding: 0 1px;\tmargin: 0 -1px;\ttext-indent: -1em;\t-ms-user-select: text;\t-moz-user-select: text;\t-webkit-user-select: text;\tuser-select: text;\twhite-space: pre!important;\t}\t.ace_text-input.ace_composition {\tbackground: inherit;\tcolor: inherit;\tz-index: 1000;\topacity: 1;\ttext-indent: 0;\t}\t.ace_layer {\tz-index: 1;\tposition: absolute;\toverflow: hidden;\tword-wrap: normal;\twhite-space: pre;\theight: 100%;\twidth: 100%;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tpointer-events: none;\t}\t.ace_gutter-layer {\tposition: relative;\twidth: auto;\ttext-align: right;\tpointer-events: auto;\t}\t.ace_text-layer {\tfont: inherit !important;\t}\t.ace_cjk {\tdisplay: inline-block;\ttext-align: center;\t}\t.ace_cursor-layer {\tz-index: 4;\t}\t.ace_cursor {\tz-index: 4;\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tborder-left: 2px solid;\ttransform: translatez(0);\t}\t.ace_multiselect .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_slim-cursors .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_overwrite-cursors .ace_cursor {\tborder-left-width: 0;\tborder-bottom: 1px solid;\t}\t.ace_hidden-cursors .ace_cursor {\topacity: 0.2;\t}\t.ace_smooth-blinking .ace_cursor {\t-webkit-transition: opacity 0.18s;\ttransition: opacity 0.18s;\t}\t.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\tposition: absolute;\tz-index: 3;\t}\t.ace_marker-layer .ace_selection {\tposition: absolute;\tz-index: 5;\t}\t.ace_marker-layer .ace_bracket {\tposition: absolute;\tz-index: 6;\t}\t.ace_marker-layer .ace_active-line {\tposition: absolute;\tz-index: 2;\t}\t.ace_marker-layer .ace_selected-word {\tposition: absolute;\tz-index: 4;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\t}\t.ace_line .ace_fold {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tdisplay: inline-block;\theight: 11px;\tmargin-top: -2px;\tvertical-align: middle;\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\tbackground-repeat: no-repeat, repeat-x;\tbackground-position: center center, top left;\tcolor: transparent;\tborder: 1px solid black;\tborder-radius: 2px;\tcursor: pointer;\tpointer-events: auto;\t}\t.ace_dark .ace_fold {\t}\t.ace_fold:hover{\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\t}\t.ace_tooltip {\tbackground-color: #FFF;\tbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\tbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\tborder: 1px solid gray;\tborder-radius: 1px;\tbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\tcolor: black;\tmax-width: 100%;\tpadding: 3px 4px;\tposition: fixed;\tz-index: 999999;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tcursor: default;\twhite-space: pre;\tword-wrap: break-word;\tline-height: normal;\tfont-style: normal;\tfont-weight: normal;\tletter-spacing: normal;\tpointer-events: none;\t}\t.ace_folding-enabled > .ace_gutter-cell {\tpadding-right: 13px;\t}\t.ace_fold-widget {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmargin: 0 -12px 0 1px;\tdisplay: none;\twidth: 11px;\tvertical-align: top;\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\tbackground-repeat: no-repeat;\tbackground-position: center;\tborder-radius: 3px;\tborder: 1px solid transparent;\tcursor: pointer;\t}\t.ace_folding-enabled .ace_fold-widget {\tdisplay: inline-block;   \t}\t.ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\t}\t.ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\t}\t.ace_fold-widget:hover {\tborder: 1px solid rgba(0, 0, 0, 0.3);\tbackground-color: rgba(255, 255, 255, 0.2);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\t}\t.ace_fold-widget:active {\tborder: 1px solid rgba(0, 0, 0, 0.4);\tbackground-color: rgba(0, 0, 0, 0.05);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\t}\t.ace_dark .ace_fold-widget {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\t}\t.ace_dark .ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\t}\t.ace_dark .ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\t}\t.ace_dark .ace_fold-widget:hover {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\tbackground-color: rgba(255, 255, 255, 0.1);\t}\t.ace_dark .ace_fold-widget:active {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\t}\t.ace_fold-widget.ace_invalid {\tbackground-color: #FFB4B4;\tborder-color: #DE5555;\t}\t.ace_fade-fold-widgets .ace_fold-widget {\t-webkit-transition: opacity 0.4s ease 0.05s;\ttransition: opacity 0.4s ease 0.05s;\topacity: 0;\t}\t.ace_fade-fold-widgets:hover .ace_fold-widget {\t-webkit-transition: opacity 0.05s ease 0.05s;\ttransition: opacity 0.05s ease 0.05s;\topacity:1;\t}\t.ace_underline {\ttext-decoration: underline;\t}\t.ace_bold {\tfont-weight: bold;\t}\t.ace_nobold .ace_bold {\tfont-weight: normal;\t}\t.ace_italic {\tfont-style: italic;\t}\t.ace_error-marker {\tbackground-color: rgba(255, 0, 0,0.2);\tposition: absolute;\tz-index: 9;\t}\t.ace_highlight-marker {\tbackground-color: rgba(255, 255, 0,0.2);\tposition: absolute;\tz-index: 8;\t}\t.ace_br1 {border-top-left-radius    : 3px;}\t.ace_br2 {border-top-right-radius   : 3px;}\t.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\t.ace_br4 {border-bottom-right-radius: 3px;}\t.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\t.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\t.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\t.ace_br8 {border-bottom-left-radius : 3px;}\t.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\t.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\t.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\t.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\t.ace_text-input-ios {\tposition: absolute !important;\ttop: -100000px !important;\tleft: -100000px !important;\t}\t',"ace_editor.css");var m=function(t,e){var n=this;this.container=t||s.createElement("div"),this.$keepTextAreaAtCursor=!r.isOldIE,s.addCssClass(this.container,"ace_editor"),this.setTheme(e),this.$gutter=s.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=s.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=s.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var i=this.$textLayer=new c(this.content);this.canvas=i.element,this.$markerFront=new l(this.content),this.$cursorLayer=new h(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",function(t){n.$scrollAnimation||n.session.setScrollTop(t.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(t){n.$scrollAnimation||n.session.setScrollLeft(t.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(t){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",t)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,g),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),(this.session=t)&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(t,e,n){if(void 0===e&&(e=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<e&&(this.$changedLines.lastRow=e)):this.$changedLines={firstRow:t,lastRow:e},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(t,e,n,i){if(!(2<this.resizing)){0<this.resizing?this.resizing++:this.resizing=t?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var s=this.$updateCachedSize(t,e,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(t,e,n,i){i-=this.$extraHeight||0;var r=0,s=this.$size,o={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};return i&&(t||s.height!=i)&&(s.height=i,r|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),n&&(t||s.width!=n)&&(r|=this.CHANGE_SIZE,s.width=n,null==e&&(e=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=e,this.scrollBarH.element.style.left=this.scroller.style.left=e+"px",s.scrollerWidth=Math.max(0,n-e-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(r|=this.CHANGE_FULL)),s.$dirty=!n||!i,r&&this._signal("resize",o),r},this.onGutterResize=function(){var t=this.$showGutter?this.$gutter.offsetWidth:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var t=this.$size.scrollerWidth-2*this.$padding,e=Math.floor(t/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t),this.session.$bidiHandler.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var t=this.$cursorLayer.$pixelPos,e=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,t=this.$cursorLayer.getPixelPosition(n,!0),e*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=t.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=e+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=s.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=s.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var e=this.$printMarginEl.style;e.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var t=this.layerConfig,e=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;e-=t.offset;var i=this.textarea.style,r=this.lineHeight;if(e<0||e>t.height-r)return void(i.top=i.left="0");var s=this.characterWidth;if(this.$composition){var o=this.textarea.value.replace(/^\x01+/,"");s*=this.session.$getStringScreenWidth(o)[0]+2,r+=2}(n-=this.scrollLeft)>this.$size.scrollerWidth-s&&(n=this.$size.scrollerWidth-s),n+=this.gutterWidth,i.height=r+"px",i.width=s+"px",i.left=Math.min(n,this.$size.scrollerWidth-s)+"px",i.top=Math.min(e,this.$size.height-r)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=this.layerConfig,e=t.lastRow;return this.session.documentToScreenRow(e,0)*t.lineHeight-this.session.getScrollTop()>t.height-t.lineHeight?e-1:e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,e,n,i){var r=this.scrollMargin;r.top=0|t,r.bottom=0|e,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,e=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(t-=(e-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>t-e&&(t=this.scrollTop+e,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(t,e){if(this.$changes&&(t|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(t||e)){if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;0<i&&(this.scrollTop=i,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return t&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()):t&this.CHANGE_SCROLL?(t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor()):(t&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n)),void this._signal("afterRender")}this.$changes|=t},this.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,e=this.$maxLines*this.lineHeight,n=Math.min(e,Math.max((this.$minLines||1)*this.lineHeight,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=e<t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var t=this.session,e=this.$size,n=e.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),s=!n&&(this.$hScrollBarAlwaysVisible||e.scrollerWidth-r-2*this.$padding<0),o=this.$horizScroll!==s;o&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var a=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();var l=this.scrollTop%this.lineHeight,c=e.scrollerHeight+this.lineHeight,h=!this.$maxLines&&this.$scrollPastEnd?(e.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=h;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,i-e.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-e.scrollerWidth+u.right)));var d=!n&&(this.$vScrollBarAlwaysVisible||e.scrollerHeight-i+h<0||this.scrollTop>u.top),f=a!==d;f&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var p,g,m=Math.ceil(c/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-l)/this.lineHeight)),y=v+m,b=this.lineHeight;v=t.screenToDocumentRow(v,0);var _=t.getFoldLine(v);_&&(v=_.start.row),p=t.documentToScreenRow(v,0),g=t.getRowLength(v)*b,y=Math.min(t.screenToDocumentRow(y,0),t.getLength()-1),c=e.scrollerHeight+t.getRowLength(y)*b+g,l=this.scrollTop-p*b;var w=0;return this.layerConfig.width!=r&&(w=this.CHANGE_H_SCROLL),(o||f)&&(w=this.$updateCachedSize(!0,this.gutterWidth,e.width,e.height),this._signal("scrollbarVisibilityChanged"),f&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:c,maxHeight:i,offset:l,gutterOffset:b?Math.max(0,Math.ceil((l+e.height-e.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},w},this.$updateLines=function(){if(this.$changedLines){var t=this.$changedLines.firstRow,e=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(t>n.lastRow+1||e<n.firstRow))return e===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,t,e),!0)}},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,e){this.$gutterLayer.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){this.$gutterLayer.removeGutterDecoration(t,e)},this.updateBreakpoints=function(t){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,e,n){this.scrollCursorIntoView(t,n),this.scrollCursorIntoView(e,n)},this.scrollCursorIntoView=function(t,e,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(t),r=i.left,s=i.top,o=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;s<l+o?(e&&l+o>s+this.lineHeight&&(s-=e*this.$size.scrollerHeight),0===s&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):l+this.$size.scrollerHeight-a<s+this.lineHeight&&(e&&l+this.$size.scrollerHeight-a<s-this.lineHeight&&(s+=e*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;r<c?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,e){"number"==typeof t&&(t={row:t,column:0});var n=this.$cursorLayer.getPixelPosition(t),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(e||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(t,e){var n,i,r=0,s=this.STEPS,o=[];for(r=0;r<s;++r)o.push((n=r/this.STEPS,(e-(i=t))*(Math.pow(n-1,3)+1)+i));return o},this.scrollToLine=function(t,e,n,i){var r=this.$cursorLayer.getPixelPosition({row:t,column:0}).top;e&&(r-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(s,i)},this.animateScrolling=function(t,e){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(t!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(t=r[0])==n)return}var s=i.$calcSteps(t,n);this.$scrollAnimation={from:t,to:n,steps:s},clearInterval(this.$timer),i.session.setScrollTop(s.shift()),i.session.$scrollTop=n,this.$timer=setInterval(function(){s.length?(i.session.setScrollTop(s.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,e&&e())},10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,e){this.session.setScrollTop(e),this.session.setScrollLeft(e)},this.scrollBy=function(t,e){e&&this.session.setScrollTop(this.session.getScrollTop()+e),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,e){return e<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||0<e&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||t<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||0<t&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=t+this.scrollLeft-n.left-this.$padding,r=i/this.characterWidth,s=Math.floor((e+this.scrollTop-n.top)/this.lineHeight),o=Math.round(r);return{row:s,column:o,side:0<r-o?1:-1,offsetX:i}},this.screenToTextCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=t+this.scrollLeft-n.left-this.$padding,r=Math.round(i/this.characterWidth),s=(e+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(s,Math.max(r,0),i)},this.textToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(t,e),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,t)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),s=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){s.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){s.removeCssClass(this.container,"ace_focus")},this.showComposition=function(t){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,s.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(t){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(s.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(n,i){function t(t){if(r.$themeId!=n)return i&&i();if(!t||!t.cssClass)throw new Error("couldn't load module "+n+" or it didn't call define");s.importCssString(t.cssText,t.cssClass,r.container.ownerDocument),r.theme&&s.removeCssClass(r.container,r.theme.cssClass);var e="padding"in t?t.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&e!=r.$padding&&r.setPadding(e),r.$theme=t.cssClass,r.theme=t,s.addCssClass(r.container,t.cssClass),s.setCssClass(r.container,"ace_dark",t.isDark),r.$size&&(r.$size.width=0,r.$updateSizeAsync()),r._dispatchEvent("themeLoaded",{theme:t}),i&&i()}var r=this;if(this.$themeId=n,r._dispatchEvent("themeChange",{theme:n}),n&&"string"!=typeof n)t(n);else{var e=n||this.$options.theme.initialValue;o.loadModule(["theme",e],t)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(t,e){s.setCssClass(this.container,t,!1!==e)},this.unsetStyle=function(t){s.removeCssClass(this.container,t)},this.setCursorStyle=function(t){this.scroller.style.cursor!=t&&(this.scroller.style.cursor=t)},this.setMouseCursor=function(t){this.scroller.style.cursor=t},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(m.prototype),o.defineOptions(m.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){s.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t)},initialValue:!0},showLineNumbers:{set:function(t){this.$gutterLayer.setShowLineNumbers(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=s.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=t?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(t){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(t){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(t){this.updateFull()}},minLines:{set:function(t){this.updateFull()}},maxPixelHeight:{set:function(t){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){t=+t||0,this.$scrollPastEnd!=t&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),e.VirtualRenderer=m}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(a,t,e){"use strict";function l(t,e){var n=function(t,e){var n=e.src;r.qualifyURL(t);try{return new Blob([n],{type:"application/javascript"})}catch(t){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return i.append(n),i.getBlob("application/javascript")}}(t,e),i=(window.URL||window.webkitURL).createObjectURL(n);return new Worker(i)}var n=a("../lib/oop"),r=a("../lib/net"),c=a("../lib/event_emitter").EventEmitter,h=a("../config"),i=function(t,e,n,i,r){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),h.get("packaged")||!a.toUrl)i=i||h.moduleUrl(e.id,"worker");else{var s=this.$normalizePath;i=i||s(a.toUrl("ace/worker/worker.js",null,"_"));var o={};t.forEach(function(t){o[t]=s(a.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=l(i,e),r&&this.send("importScripts",r),this.$worker.postMessage({init:!0,tlns:o,module:e.id,classname:n}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,c),this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var n=this.callbacks[e.id];n&&(n(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return r.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,e.push(i)}this.send(t,e)},this.emit=function(t,e){try{this.$worker.postMessage({event:t,data:{data:e.data}})}catch(t){console.error(t.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==t.action?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,50<t.length&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(i.prototype);var s=function(t,e,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var i=null,r=!1,s=Object.create(c),o=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(t){o.messageBuffer.push(t),i&&(r?setTimeout(a):a())},this.setEmitSync=function(t){r=t};var a=function(){var t=o.messageBuffer.shift();t.command?i[t.command].apply(i,t.args):t.event&&s._signal(t.event,t.data)};s.postMessage=function(t){o.onMessage({data:t})},s.callback=function(t,e){this.postMessage({type:"call",id:e,data:t})},s.emit=function(t,e){this.postMessage({type:"event",name:t,data:e})},h.loadModule(["worker",e],function(t){for(i=new t[n](s);o.messageBuffer.length;)a()})};s.prototype=i.prototype,t.UIWorkerClient=s,t.WorkerClient=i,t.createWorker=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,e,n){"use strict";var l=t("./range").Range,i=t("./lib/event_emitter").EventEmitter,r=t("./lib/oop"),s=function(t,e,n,i,r,s){var o=this;this.length=e,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var a=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,i),this.setup=function(){var n=this,i=this.doc,t=this.session;this.selectionBefore=t.selection.toJSON(),t.selection.inMultiSelectMode&&t.selection.toSingleRange(),this.pos=i.createAnchor(this.$pos.row,this.$pos.column);var e=this.pos;e.$insertRight=!0,e.detach(),e.markerId=t.addMarker(new l(e.row,e.column,e.row,e.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(t){var e=i.createAnchor(t.row,t.column);e.$insertRight=!0,e.detach(),n.others.push(e)}),t.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,n=this;this.othersActive=!0,this.others.forEach(function(t){t.markerId=e.addMarker(new l(t.row,t.column,t.row,t.column+n.length),n.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var e=t;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;var n="insert"===t.action?e.end.column-e.start.column:e.start.column-e.end.column,i=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,r=e.start.column-this.pos.column;if(this.updateAnchors(t),i&&(this.length+=n),i&&!this.session.$fromUndo)if("insert"===t.action)for(var s=this.others.length-1;0<=s;s--){var o={row:(a=this.others[s]).row,column:a.column+r};this.doc.insertMergedLines(o,t.lines)}else if("remove"===t.action)for(s=this.others.length-1;0<=s;s--){var a;o={row:(a=this.others[s]).row,column:a.column+r};this.doc.remove(new l(o.row,o.column,o.row,o.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(t){this.pos.onChange(t);for(var e=this.others.length;e--;)this.others[e].onChange(t);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var n=this,i=this.session,t=function(t,e){i.removeMarker(t.markerId),t.markerId=i.addMarker(new l(t.row,t.column,t.row,t.column+n.length),e,null,!1)};t(this.pos,this.mainClass);for(var e=this.others.length;e--;)t(this.others[e],this.othersClass)}},this.onCursorChange=function(t){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),e=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,n=0;n<e;n++)t.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),e.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e,n){function E(t,e){return t.row==e.row&&t.column==e.column}var k=t("../lib/event"),S=t("../lib/useragent");e.onMouseDown=function(t){var e=t.domEvent,n=e.altKey,i=e.shiftKey,r=e.ctrlKey,s=t.getAccelKey(),o=t.getButton();if(r&&S.isMac&&(o=e.button),t.editor.inMultiSelectMode&&2==o)t.editor.textInput.onContextMenu(t.domEvent);else if(r||n||s){if(0===o){var a,l=t.editor,c=l.selection,h=l.inMultiSelectMode,u=t.getDocumentPosition(),d=c.getCursor(),f=t.inSelection()||c.isEmpty()&&E(u,d),p=t.x,g=t.y,m=l.session,v=l.renderer.pixelToScreenCoordinates(p,g),y=v;if(l.$mouseHandler.$enableJumpToDef)r&&n||s&&n?a=i?"block":"add":n&&l.$blockSelectEnabled&&(a="block");else if(s&&!n){if(a="add",!h&&i)return}else n&&l.$blockSelectEnabled&&(a="block");if(a&&S.isMac&&e.ctrlKey&&l.$mouseHandler.cancelContextMenu(),"add"==a){if(!h&&f)return;if(!h){var b=c.toOrientedRange();l.addSelectionMarker(b)}var _=c.rangeList.rangeAtPoint(u);l.$blockScrolling++,l.inVirtualSelectionMode=!0,i&&(_=null,b=c.ranges[0]||b,l.removeSelectionMarker(b)),l.once("mouseup",function(){var t=c.toOrientedRange();_&&t.isEmpty()&&E(_.cursor,t.cursor)?c.substractPoint(t.cursor):(i?c.substractPoint(b.cursor):b&&(l.removeSelectionMarker(b),c.addRange(b)),c.addRange(t)),l.$blockScrolling--,l.inVirtualSelectionMode=!1})}else if("block"==a){t.stop(),l.inVirtualSelectionMode=!0;var w,x=[];l.$blockScrolling++,h&&!s?c.toSingleRange():!h&&s&&(w=c.toOrientedRange(),l.addSelectionMarker(w)),i?v=m.documentToScreenPosition(c.lead):c.moveToPosition(u),l.$blockScrolling--,y={row:-1,column:-1};var A=function(){var t=l.renderer.pixelToScreenCoordinates(p,g),e=m.screenToDocumentPosition(t.row,t.column,t.offsetX);E(y,t)&&E(e,c.lead)||(y=t,l.$blockScrolling++,l.selection.moveToPosition(e),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(x),x=c.rectangularRangeBlock(y,v),l.$mouseHandler.$clickSelection&&1==x.length&&x[0].isEmpty()&&(x[0]=l.$mouseHandler.$clickSelection.clone()),x.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers(),l.$blockScrolling--)};k.capture(l.container,function(t){p=t.clientX,g=t.clientY},function(t){clearInterval(C),l.removeSelectionMarkers(x),x.length||(x=[c.toOrientedRange()]),l.$blockScrolling++,w&&(l.removeSelectionMarker(w),c.toSingleRange(w));for(var e=0;e<x.length;e++)c.addRange(x[e]);l.inVirtualSelectionMode=!1,l.$mouseHandler.$clickSelection=null,l.$blockScrolling--});var C=setInterval(function(){A()},20);return t.preventDefault()}}}else 0===o&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,e,n){e.defaultCommands=[{name:"addCursorAbove",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(t){t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],e.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var i=t("../keyboard/hash_handler").HashHandler;e.keyboardHandler=new i(e.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,e,n){function i(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=e.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",s),t.commands.addCommands(a.defaultCommands),function(n){function i(t){r&&(n.renderer.setMouseCursor(""),r=!1)}var t=n.textInput.getElement(),r=!1;o.addListener(t,"keydown",function(t){var e=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);n.$blockSelectEnabled&&e?r||(n.renderer.setMouseCursor("crosshair"),r=!0):r&&i()}),o.addListener(t,"keyup",i),o.addListener(t,"blur",i)}(t))}var r=t("./range_list").RangeList,_=t("./range").Range,g=t("./selection").Selection,s=t("./mouse/multi_select_handler").onMouseDown,o=t("./lib/event"),m=t("./lib/lang"),a=t("./commands/multi_select_commands");e.commands=a.defaultCommands.concat(a.multiSelectCommands);var h=new(t("./search").Search),l=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(l.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,e){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),e||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}t.cursor||(t.cursor=t.end);var i=this.rangeList.add(t);return this.$onAddRange(t),i.length&&this.$onRemoveRange(i),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),e||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var e=this.rangeList.removeAll();e.length&&this.$onRemoveRange(e),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var e=this.rangeList.substractPoint(t);if(e)return this.$onRemoveRange(e),e[0]},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length?this.$onRemoveRange(t):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var e=this.rangeList.ranges.pop();t.push(e),this.rangeCount=0}for(var n=t.length;n--;){var i=this.ranges.indexOf(t[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(e=e||this.ranges[0])&&!e.isEqual(this.getRange())&&this.fromOrientedRange(e)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new r,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(1<this.rangeCount){var t=this.rangeList.ranges,e=t[t.length-1],n=_.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{n=this.getRange();var i=this.isBackwards(),r=n.start.row,s=n.end.row;if(r==s){if(i)var o=n.end,a=n.start;else o=n.start,a=n.end;return this.addRange(_.fromPoints(a,a)),void this.addRange(_.fromPoints(o,o))}var l=[],c=this.getLineRange(r,!0);c.start.column=n.start.column,l.push(c);for(var h=r+1;h<s;h++)l.push(this.getLineRange(h,!0));(c=this.getLineRange(s,!0)).end.column=n.end.column,l.push(c),l.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(1<this.rangeCount){var t=this.rangeList.ranges,e=t[t.length-1],n=_.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(i,r).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,e,n){var i=[],r=t.column<e.column;if(r)var s=t.column,o=e.column,a=t.offsetX,l=e.offsetX;else s=e.column,o=t.column,a=e.offsetX,l=t.offsetX;var c,h,u=t.row<e.row;if(u)var d=t.row,f=e.row;else d=e.row,f=t.row;s<0&&(s=0),d<0&&(d=0),d==f&&(n=!0);for(var p=d;p<=f;p++){var g=_.fromPoints(this.session.screenToDocumentPosition(p,s,a),this.session.screenToDocumentPosition(p,o,l));if(g.isEmpty()){if(m&&(c=g.end,h=m,c.row==h.row&&c.column==h.column))break;var m=g.end}g.cursor=r?g.start:g.end,i.push(g)}if(u&&i.reverse(),!n){for(var v=i.length-1;i[v].isEmpty()&&0<v;)v--;if(0<v)for(var y=0;i[y].isEmpty();)y++;for(var b=v;y<=b;b--)i[b].isEmpty()&&i.splice(b,1)}return i}}.call(g.prototype);var c=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var e=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",e),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var e=this.session.$selectionMarkers.indexOf(t);-1!=e&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var e=this.session.$selectionMarkers,n=t.length;n--;){var i=t[n];if(i.marker){this.session.removeMarker(i.marker);var r=e.indexOf(i);-1!=r&&e.splice(r,1)}}this.session.selectionMarkerCount=e.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(t){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(a.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(t){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(a.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var e=t.command,n=t.editor;if(n.multiSelect){if(e.multiSelectAction)"forEach"==e.multiSelectAction?i=n.forEachSelection(e,t.args):"forEachLine"==e.multiSelectAction?i=n.forEachSelection(e,t.args,!0):"single"==e.multiSelectAction?(n.exitMultiSelectMode(),i=e.exec(n,t.args||{})):i=e.multiSelectAction(n,t.args||{});else{var i=e.exec(n,t.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(t,e,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,s=1==n||n&&n.$byLines,o=this.session,a=this.selection,l=a.rangeList,c=(r?a:l).ranges;if(!c.length)return t.exec?t.exec(this,e||{}):t(this,e||{});var h=a._eventRegistry;a._eventRegistry={};var u=new g(o);this.inVirtualSelectionMode=!0;for(var d=c.length;d--;){if(s)for(;0<d&&c[d].start.row==c[d-1].end.row;)d--;u.fromOrientedRange(c[d]),u.index=d,this.selection=o.selection=u;var f=t.exec?t.exec(this,e||{}):t(this,e||{});i||void 0===f||(i=f),u.toOrientedRange(c[d])}u.detach(),this.selection=o.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges();var p=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),p&&p.from==p.to&&this.renderer.animateScrolling(p.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var e=this.multiSelect.rangeList.ranges,n=[],i=0;i<e.length;i++)n.push(this.session.getTextRange(e[i]));var r=this.session.getDocument().getNewLineCharacter();(t=n.join(r)).length==(n.length-1)*r.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,e){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&e==this.multiSelect.anchor)return;var i=e==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row==e.row&&this.session.$clipPositionToDocument(i.row,i.column).column==e.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(t,e,n){if((e=e||{}).needle=t||e.needle,null==e.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();e.needle=this.session.getTextRange(i)}this.$search.set(e);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var s=this.multiSelect;n||s.toSingleRange(r[0]);for(var o=r.length;o--;)s.addRange(r[o],!0);return i&&s.rangeList.rangeAtPoint(i.start)&&s.addRange(i,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(t,e){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var s,o=this.session.screenToDocumentPosition(r.row+t,r.column);if(n.isEmpty())var a=o;else{var l=this.session.documentToScreenPosition(i?n.end:n.start);a=this.session.screenToDocumentPosition(l.row+t,l.column)}i?(s=_.fromPoints(o,a)).cursor=s.start:(s=_.fromPoints(a,o)).cursor=s.end;if(s.desiredColumn=r.column,this.selection.inMultiSelectMode){if(e)var c=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),c&&this.selection.substractPoint(c)},this.transposeSelections=function(t){for(var e=this.session,n=e.multiSelect,i=n.ranges,r=i.length;r--;){if((a=i[r]).isEmpty()){var s=e.getWordRange(a.start.row,a.start.column);a.start.row=s.start.row,a.start.column=s.start.column,a.end.row=s.end.row,a.end.column=s.end.column}}n.mergeOverlappingRanges();var o=[];for(r=i.length;r--;){var a=i[r];o.unshift(e.getTextRange(a))}t<0?o.unshift(o.pop()):o.push(o.shift());for(r=i.length;r--;){s=(a=i[r]).clone();e.replace(a,o[r]),a.start.row=s.start.row,a.start.column=s.start.column}},this.selectMore=function(t,e,n){var i,r,s,o=this.session,a=o.multiSelect.toOrientedRange();if(!a.isEmpty()||((a=o.getWordRange(a.start.row,a.start.column)).cursor=-1==t?a.start:a.end,this.multiSelect.addRange(a),!n)){var l=o.getTextRange(a),c=(i=o,r=l,s=t,h.$options.wrap=!0,h.$options.needle=r,h.$options.backwards=-1==s,h.find(i));c&&(c.cursor=-1==t?c.start:c.end,this.$blockScrolling+=1,this.session.unfold(c),this.multiSelect.addRange(c),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),e&&this.multiSelect.substractPoint(a.cursor)}},this.alignCursors=function(){var s=this.session,e=s.multiSelect,t=e.ranges,n=-1,i=t.filter(function(t){if(t.cursor.row==n)return!0;n=t.cursor.row});if(t.length&&i.length!=t.length-1){i.forEach(function(t){e.substractPoint(t.cursor)});var o=0,a=1/0,l=t.map(function(t){var e=t.cursor,n=s.getLine(e.row).substr(e.column).search(/\S/g);return-1==n&&(n=0),e.column>o&&(o=e.column),n<a&&(a=n),n});t.forEach(function(t,e){var n=t.cursor,i=o-n.column,r=l[e]-a;r<i?s.insert(n,m.stringRepeat(" ",i-r)):s.remove(new _(n.row,n.column,n.row,n.column-i+r)),t.start.column=t.end.column=o,t.start.row=t.end.row=n.row,t.cursor=t.end}),e.fromOrientedRange(t[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var r=this.selection.getRange(),c=r.start.row,h=r.end.row,u=c==h;if(u){for(var d,f=this.session.getLength();d=this.session.getLine(h),/[=:]/.test(d)&&++h<f;);for(;d=this.session.getLine(c),/[=:]/.test(d)&&0<--c;);c<0&&(c=0),f<=h&&(h=f-1)}var p=this.session.removeFullLines(c,h);p=this.$reAlignText(p,u),this.session.insert({row:c,column:0},p.join("\n")+"\n"),u||(r.start.column=0,r.end.column=p[p.length-1].length),this.selection.setRange(r)}},this.$reAlignText=function(t,e){function n(t){return m.stringRepeat(" ",t)}function i(t){return t[2]?n(r)+t[2]+n(s-t[2].length+o)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}var r,s,o,a=!0,l=!0;return t.map(function(t){var e=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return e?(null==r?(r=e[1].length,s=e[2].length,o=e[3].length):(r+s+o!=e[1].length+e[2].length+e[3].length&&(l=!1),r!=e[1].length&&(a=!1),r>e[1].length&&(r=e[1].length),s<e[2].length&&(s=e[2].length),o>e[3].length&&(o=e[3].length)),e):[t]}).map(e?i:a?l?function(t){return t[2]?n(r+s-t[2].length)+t[2]+n(o)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}:i:function(t){return t[2]?n(r)+t[2]+n(o)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]})}}).call(c.prototype),e.onSessionChange=function(t){var e=t.session;e&&!e.multiSelect&&(e.$selectionMarkers=[],e.selection.$initRangeList(),e.multiSelect=e.selection),this.multiSelect=e&&e.multiSelect;var n=t.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),e&&(e.multiSelect.on("addRange",this.$onAddRange),e.multiSelect.on("removeRange",this.$onRemoveRange),e.multiSelect.on("multiSelect",this.$onMultiSelect),e.multiSelect.on("singleSelect",this.$onSingleSelect),e.multiSelect.lead.on("change",this.$checkMultiselectChange),e.multiSelect.anchor.on("change",this.$checkMultiselectChange)),e&&this.inMultiSelectMode!=e.selection.inMultiSelectMode&&(e.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},e.MultiSelect=i,t("./config").defineOptions(c.prototype,"editor",{enableMultiselect:{set:function(t){i(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",s)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",s))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,e,n){"use strict";var u=t("../../range").Range,i=e.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,e,n){var i=t.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==e&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(t,e,n){return null},this.indentationBlock=function(t,e,n){var i=t.getLine(e),r=i.search(/\S/);if(-1!=r){for(var s=n||i.length,o=t.getLength(),a=e,l=e;++e<o;){var c=t.getLine(e).search(/\S/);if(-1!=c){if(c<=r)break;l=e}}if(a<l){var h=t.getLine(l).length;return new u(a,s,l,h)}}},this.openingBracketBlock=function(t,e,n,i,r){var s={row:n,column:i+1},o=t.$findClosingBracket(e,s,r);if(o){var a=t.foldWidgets[o.row];return null==a&&(a=t.getFoldWidget(o.row)),"start"==a&&o.row>s.row&&(o.row--,o.column=t.getLine(o.row).length),u.fromPoints(s,o)}},this.closingBracketBlock=function(t,e,n,i,r){var s={row:n,column:i},o=t.$findOpeningBracket(e,s);if(o)return o.column++,s.column--,u.fromPoints(o,s)}}).call(i.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(t,e,n){"use strict";e.isDark=!1,e.cssClass="ace-tm",e.cssText='.ace-tm .ace_gutter {\tbackground: #f0f0f0;\tcolor: #333;\t}\t.ace-tm .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8;\t}\t.ace-tm .ace_fold {\tbackground-color: #6B72E6;\t}\t.ace-tm {\tbackground-color: #FFFFFF;\tcolor: black;\t}\t.ace-tm .ace_cursor {\tcolor: black;\t}\t.ace-tm .ace_invisible {\tcolor: rgb(191, 191, 191);\t}\t.ace-tm .ace_storage,\t.ace-tm .ace_keyword {\tcolor: blue;\t}\t.ace-tm .ace_constant {\tcolor: rgb(197, 6, 11);\t}\t.ace-tm .ace_constant.ace_buildin {\tcolor: rgb(88, 72, 246);\t}\t.ace-tm .ace_constant.ace_language {\tcolor: rgb(88, 92, 246);\t}\t.ace-tm .ace_constant.ace_library {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_invalid {\tbackground-color: rgba(255, 0, 0, 0.1);\tcolor: red;\t}\t.ace-tm .ace_support.ace_function {\tcolor: rgb(60, 76, 114);\t}\t.ace-tm .ace_support.ace_constant {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_support.ace_type,\t.ace-tm .ace_support.ace_class {\tcolor: rgb(109, 121, 222);\t}\t.ace-tm .ace_keyword.ace_operator {\tcolor: rgb(104, 118, 135);\t}\t.ace-tm .ace_string {\tcolor: rgb(3, 106, 7);\t}\t.ace-tm .ace_comment {\tcolor: rgb(76, 136, 107);\t}\t.ace-tm .ace_comment.ace_doc {\tcolor: rgb(0, 102, 255);\t}\t.ace-tm .ace_comment.ace_doc.ace_tag {\tcolor: rgb(128, 159, 191);\t}\t.ace-tm .ace_constant.ace_numeric {\tcolor: rgb(0, 0, 205);\t}\t.ace-tm .ace_variable {\tcolor: rgb(49, 132, 149);\t}\t.ace-tm .ace_xml-pe {\tcolor: rgb(104, 104, 91);\t}\t.ace-tm .ace_entity.ace_name.ace_function {\tcolor: #0000A2;\t}\t.ace-tm .ace_heading {\tcolor: rgb(12, 7, 255);\t}\t.ace-tm .ace_list {\tcolor:rgb(185, 6, 144);\t}\t.ace-tm .ace_meta.ace_tag {\tcolor:rgb(0, 22, 142);\t}\t.ace-tm .ace_string.ace_regex {\tcolor: rgb(255, 0, 0)\t}\t.ace-tm .ace_marker-layer .ace_selection {\tbackground: rgb(181, 213, 255);\t}\t.ace-tm.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px white;\t}\t.ace-tm .ace_marker-layer .ace_step {\tbackground: rgb(252, 255, 0);\t}\t.ace-tm .ace_marker-layer .ace_stack {\tbackground: rgb(164, 229, 101);\t}\t.ace-tm .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid rgb(192, 192, 192);\t}\t.ace-tm .ace_marker-layer .ace_active-line {\tbackground: rgba(0, 0, 0, 0.07);\t}\t.ace-tm .ace_gutter-active-line {\tbackground-color : #dcdcdc;\t}\t.ace-tm .ace_marker-layer .ace_selected-word {\tbackground: rgb(250, 250, 255);\tborder: 1px solid rgb(200, 200, 250);\t}\t.ace-tm .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\t}\t',t("../lib/dom").importCssString(e.cssText,e.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(t,e,n){"use strict";function i(t){this.session=t,(this.session.widgetManager=this).session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var s=(t("./lib/oop"),t("./lib/dom"));t("./range").Range,function(){this.getRowLength=function(t){var e;return e=this.lineWidgets&&this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),(this.editor=t)&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(t){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))})}},this.updateOnFold=function(t,e){var n=e.lineWidgets;if(n&&t.action){for(var i=t.data,r=i.start.row,s=i.end.row,o="add"==t.action,a=r+1;a<s;a++)n[a]&&(n[a].hidden=o);n[s]&&(o?n[r]?n[s].hidden=o:n[r]=n[s]:(n[r]==n[s]&&(n[r]=void 0),n[s].hidden=o))}},this.updateOnChange=function(t){var e=this.session.lineWidgets;if(e){var n=t.start.row,i=t.end.row-n;if(0===i);else if("remove"==t.action){e.splice(n+1,i).forEach(function(t){t&&this.removeLineWidget(t)},this),this.$updateRows()}else{var r=new Array(i);r.unshift(n,0),e.splice.apply(e,r),this.$updateRows()}}},this.$updateRows=function(){var t=this.session.lineWidgets;if(t){var n=!0;t.forEach(function(t,e){if(t)for(n=!1,t.row=e;t.$oldWidget;)t.$oldWidget.row=e,t=t.$oldWidget}),n&&(this.session.lineWidgets=null)}},this.addLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var e=this.session.lineWidgets[t.row];e&&((t.$oldWidget=e).el&&e.el.parentNode&&(e.el.parentNode.removeChild(e.el),e._inDocument=!1)),(this.session.lineWidgets[t.row]=t).session=this.session;var n=this.editor.renderer;t.html&&!t.el&&(t.el=s.createElement("div"),t.el.innerHTML=t.html),t.el&&(s.addCssClass(t.el,"ace_lineWidgetContainer"),t.el.style.position="absolute",t.el.style.zIndex=5,n.container.appendChild(t.el),t._inDocument=!0),t.coverGutter||(t.el.style.zIndex=3),null==t.pixelHeight&&(t.pixelHeight=t.el.offsetHeight),null==t.rowCount&&(t.rowCount=t.pixelHeight/n.layerConfig.lineHeight);var i=this.session.getFoldAt(t.row,0);if(t.$fold=i){var r=this.session.lineWidgets;t.row!=i.end.row||r[i.start.row]?t.hidden=!0:r[i.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(t),t},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(t){}if(this.session.lineWidgets){var e=this.session.lineWidgets[t.row];if(e==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;e;){if(e.$oldWidget==t){e.$oldWidget=t.$oldWidget;break}e=e.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(t){for(var e=this.session.lineWidgets,n=e&&e[t],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(t,e){var n=this.session._changedWidgets,i=e.layerConfig;if(n&&n.length){for(var r=1/0,s=0;s<n.length;s++){var o=n[s];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,e.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/i.characterWidth));var a=o.h/i.lineHeight;o.coverLine&&(a-=this.session.getRowLineCount(o.row))<0&&(a=0),o.rowCount!=a&&(o.rowCount=a,o.row<r&&(r=o.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(t,e){var n=e.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,i.length);0<r&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,e.$cursorLayer.config=n;for(var o=r;o<=s;o++){var a=i[o];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,e.container.appendChild(a.el));var l=e.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:e.gutterWidth;a.fixedWidth||(c-=e.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=e.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}.call(i.prototype),e.LineWidgets=i}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(t,e,n){"use strict";var p=t("../line_widgets").LineWidgets,g=t("../lib/dom"),m=t("../range").Range;e.showErrorMarker=function(t,e){var n=t.session;n.widgetManager||(n.widgetManager=new p(n),n.widgetManager.attach(t));var i=t.getCursorPosition(),r=i.row,s=n.widgetManager.getWidgetsAtRow(r).filter(function(t){return"errorMarker"==t.type})[0];s?s.destroy():r-=e;var o,a=function(t,e,n){var i=t.getAnnotations().sort(m.comparePoints);if(i.length){var r=function(t,e,n){for(var i=0,r=t.length-1;i<=r;){var s=i+r>>1,o=n(e,t[s]);if(0<o)i=s+1;else{if(!(o<0))return s;r=s-1}}return-(i+1)}(i,{row:e,column:-1},m.comparePoints);r<0&&(r=-r-1),r>=i.length?r=0<n?0:i.length-1:0===r&&n<0&&(r=i.length-1);var s=i[r];if(s&&n){if(s.row===e){for(;(s=i[r+=n])&&s.row===e;);if(!s)return i.slice()}var o=[];for(e=s.row;o[n<0?"unshift":"push"](s),(s=i[r+=n])&&s.row==e;);return o.length&&o}}}(n,r,e);if(a){var l=a[0];i.column=(l.pos&&"number"!=typeof l.column?l.pos.sc:l.column)||0,i.row=l.row,o=t.renderer.$gutterLayer.$annotations[i.row]}else{if(s)return;o={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(i.row),t.selection.moveToPosition(i);var c={row:i.row,fixedWidth:!0,coverGutter:!0,el:g.createElement("div"),type:"errorMarker"},h=c.el.appendChild(g.createElement("div")),u=c.el.appendChild(g.createElement("div"));u.className="error_widget_arrow "+o.className;var d=t.renderer.$cursorLayer.getPixelPosition(i).left;u.style.left=d+t.renderer.gutterWidth-5+"px",c.el.className="error_widget_wrapper",h.className="error_widget "+o.className,h.innerHTML=o.text.join("<br>"),h.appendChild(g.createElement("div"));var f=function(t,e,n){if(0===e&&("esc"===n||"return"===n))return c.destroy(),{command:"null"}};c.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(f),n.widgetManager.removeLineWidget(c),t.off("changeSelection",c.destroy),t.off("changeSession",c.destroy),t.off("mouseup",c.destroy),t.off("change",c.destroy))},t.keyBinding.addKeyboardHandler(f),t.on("changeSelection",c.destroy),t.on("changeSession",c.destroy),t.on("mouseup",c.destroy),t.on("change",c.destroy),t.session.widgetManager.addLineWidget(c),c.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:c.el.offsetHeight})},g.importCssString("\t    .error_widget_wrapper {\t        background: inherit;\t        color: inherit;\t        border:none\t    }\t    .error_widget {\t        border-top: solid 2px;\t        border-bottom: solid 2px;\t        margin: 5px 0;\t        padding: 10px 40px;\t        white-space: pre-wrap;\t    }\t    .error_widget.ace_error, .error_widget_arrow.ace_error{\t        border-color: #ff5a5a\t    }\t    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\t        border-color: #F1D817\t    }\t    .error_widget.ace_info, .error_widget_arrow.ace_info{\t        border-color: #5a5a5a\t    }\t    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\t        border-color: #5aaa5a\t    }\t    .error_widget_arrow {\t        position: absolute;\t        border: solid 5px;\t        border-top-color: transparent!important;\t        border-right-color: transparent!important;\t        border-left-color: transparent!important;\t        top: -5px;\t    }\t","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(t,a,e){"use strict";t("./lib/fixoldbrowsers");var l=t("./lib/dom"),c=t("./lib/event"),h=t("./editor").Editor,i=t("./edit_session").EditSession,r=t("./undomanager").UndoManager,u=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),a.config=t("./config"),a.acequire=t,a.define=_(74),a.edit=function(t){if("string"==typeof t){var e=t;if(!(t=document.getElementById(e)))throw new Error("ace.edit can't find div #"+e)}if(t&&t.env&&t.env.editor instanceof h)return t.env.editor;var n="";if(t&&/input|textarea/i.test(t.tagName)){var i=t;n=i.value,t=l.createElement("pre"),i.parentNode.replaceChild(t,i)}else t&&(n=l.getInnerText(t),t.innerHTML="");var r=a.createEditSession(n),s=new h(new u(t));s.setSession(r);var o={document:r,editor:s,onResize:s.resize.bind(s,null)};return i&&(o.textarea=i),c.addListener(window,"resize",o.onResize),s.on("destroy",function(){c.removeListener(window,"resize",o.onResize),o.editor.container.env=null}),s.container.env=s.env=o,s},a.createEditSession=function(t,e){var n=new i(t,e);return n.setUndoManager(new r),n},a.EditSession=i,a.UndoManager=r,a.version="1.2.9"}),ace.acequire(["ace/ace"],function(t){for(var e in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(e)&&(window.ace[e]=t[e])}),t.exports=window.ace.acequire("ace/ace")},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,u){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};i.inherits(s,r),e.JsonHighlightRules=s}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,e,n){"use strict";var o=t("../range").Range,i=function(){};(function(){this.checkOutdent=function(t,e){return!!/^\s+$/.test(t)&&/^\s*\}/.test(e)},this.autoOutdent=function(t,e){var n=t.getLine(e).match(/^(\s*\})/);if(!n)return 0;var i=n[1].length,r=t.findMatchingBracket({row:e,column:i});if(!r||r.row==e)return 0;var s=this.$getIndent(t.getLine(r.row));t.replace(new o(e,0,e,i-1),s)},this.$getIndent=function(t){return t.match(/^\s*/)[0]}}).call(i.prototype),e.MatchingBraceOutdent=i}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,e,n){"use strict";var i=t("../../lib/oop"),h=t("../../range").Range,r=t("./fold_mode").FoldMode,s=e.FoldMode=function(t){t&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+t.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+t.end)))};i.inherits(s,r),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(t,e,n){var i=t.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(t,e,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(t,e,n,i){var r,s=t.getLine(n);if(this.startRegionRe.test(s))return this.getCommentRegionBlock(t,s,n);if(r=s.match(this.foldingStartMarker)){var o=r.index;if(r[1])return this.openingBracketBlock(t,r[1],n,o);var a=t.getCommentFoldRange(n,o+r[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(t,n):"all"!=e&&(a=null)),a}if("markbegin"!==e&&(r=s.match(this.foldingStopMarker))){o=r.index+r[0].length;return r[1]?this.closingBracketBlock(t,r[1],n,o):t.getCommentFoldRange(n,o,-1)}},this.getSectionRange=function(t,e){for(var n=t.getLine(e),i=n.search(/\S/),r=e,s=n.length,o=e+=1,a=t.getLength();++e<a;){var l=(n=t.getLine(e)).search(/\S/);if(-1!==l){if(l<i)break;var c=this.getFoldWidgetRange(t,"all",e);if(c){if(c.start.row<=r)break;if(c.isMultiLine())e=c.end.row;else if(i==l)break}o=e}}return new h(r,s,o,t.getLine(o).length)},this.getCommentRegionBlock=function(t,e,n){for(var i=e.search(/\s*$/),r=t.getLength(),s=n,o=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,a=1;++n<r;){e=t.getLine(n);var l=o.exec(e);if(l&&(l[1]?a--:a++,!a))break}if(s<n)return new h(s,i,n,e.length)}}.call(s.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("./text").Mode,s=t("./json_highlight_rules").JsonHighlightRules,o=t("./matching_brace_outdent").MatchingBraceOutdent,a=t("./behaviour/cstyle").CstyleBehaviour,l=t("./folding/cstyle").FoldMode,c=t("../worker/worker_client").WorkerClient,h=function(){this.HighlightRules=s,this.$outdent=new o,this.$behaviour=new a,this.foldingRules=new l};i.inherits(h,r),function(){this.getNextLineIndent=function(t,e,n){var i=this.$getIndent(e);return"start"==t&&e.match(/^.*[\{\(\[]\s*$/)&&(i+=n),i},this.checkOutdent=function(t,e,n){return this.$outdent.checkOutdent(e,n)},this.autoOutdent=function(t,e,n){this.$outdent.autoOutdent(e,n)},this.createWorker=function(e){var t=new c(["ace"],u(76),"JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/json"}.call(h.prototype),e.Mode=h})},function(t,e){t.exports.id="ace/mode/json_worker",t.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(t,e){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(t,e,n){"use strict";var r=t("../lib/dom"),i=t("../lib/lang"),o=t("../lib/event"),s=t("../keyboard/hash_handler").HashHandler,a=t("../lib/keys");r.importCssString('\t.ace_search {\tbackground-color: #ddd;\tcolor: #666;\tborder: 1px solid #cbcbcb;\tborder-top: 0 none;\toverflow: hidden;\tmargin: 0;\tpadding: 4px 6px 0 4px;\tposition: absolute;\ttop: 0;\tz-index: 99;\twhite-space: normal;\t}\t.ace_search.left {\tborder-left: 0 none;\tborder-radius: 0px 0px 5px 0px;\tleft: 0;\t}\t.ace_search.right {\tborder-radius: 0px 0px 0px 5px;\tborder-right: 0 none;\tright: 0;\t}\t.ace_search_form, .ace_replace_form {\tmargin: 0 20px 4px 0;\toverflow: hidden;\tline-height: 1.9;\t}\t.ace_replace_form {\tmargin-right: 0;\t}\t.ace_search_form.ace_nomatch {\toutline: 1px solid red;\t}\t.ace_search_field {\tborder-radius: 3px 0 0 3px;\tbackground-color: white;\tcolor: black;\tborder: 1px solid #cbcbcb;\tborder-right: 0 none;\tbox-sizing: border-box!important;\toutline: 0;\tpadding: 0;\tfont-size: inherit;\tmargin: 0;\tline-height: inherit;\tpadding: 0 6px;\tmin-width: 17em;\tvertical-align: top;\t}\t.ace_searchbtn {\tborder: 1px solid #cbcbcb;\tline-height: inherit;\tdisplay: inline-block;\tpadding: 0 6px;\tbackground: #fff;\tborder-right: 0 none;\tborder-left: 1px solid #dcdcdc;\tcursor: pointer;\tmargin: 0;\tposition: relative;\tbox-sizing: content-box!important;\tcolor: #666;\t}\t.ace_searchbtn:last-child {\tborder-radius: 0 3px 3px 0;\tborder-right: 1px solid #cbcbcb;\t}\t.ace_searchbtn:disabled {\tbackground: none;\tcursor: default;\t}\t.ace_searchbtn:hover {\tbackground-color: #eef1f6;\t}\t.ace_searchbtn.prev, .ace_searchbtn.next {\tpadding: 0px 0.7em\t}\t.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\tcontent: "";\tborder: solid 2px #888;\twidth: 0.5em;\theight: 0.5em;\tborder-width:  2px 0 0 2px;\tdisplay:inline-block;\ttransform: rotate(-45deg);\t}\t.ace_searchbtn.next:after {\tborder-width: 0 2px 2px 0 ;\t}\t.ace_searchbtn_close {\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\tborder-radius: 50%;\tborder: 0 none;\tcolor: #656565;\tcursor: pointer;\tfont: 16px/16px Arial;\tpadding: 0;\theight: 14px;\twidth: 14px;\ttop: 9px;\tright: 7px;\tposition: absolute;\t}\t.ace_searchbtn_close:hover {\tbackground-color: #656565;\tbackground-position: 50% 100%;\tcolor: white;\t}\t.ace_button {\tmargin-left: 2px;\tcursor: pointer;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\toverflow: hidden;\topacity: 0.7;\tborder: 1px solid rgba(100,100,100,0.23);\tpadding: 1px;\tbox-sizing:    border-box!important;\tcolor: black;\t}\t.ace_button:hover {\tbackground-color: #eee;\topacity:1;\t}\t.ace_button:active {\tbackground-color: #ddd;\t}\t.ace_button.checked {\tborder-color: #3399ff;\topacity:1;\t}\t.ace_search_options{\tmargin-bottom: 3px;\ttext-align: right;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\tclear: both;\t}\t.ace_search_counter {\tfloat: left;\tfont-family: arial;\tpadding: 0 8px;\t}',"ace_searchbox");var l='<div class="ace_search right">\t    <span action="hide" class="ace_searchbtn_close"></span>\t    <div class="ace_search_form">\t        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>\t        <span action="findPrev" class="ace_searchbtn prev"></span>\t        <span action="findNext" class="ace_searchbtn next"></span>\t        <span action="findAll" class="ace_searchbtn" title="Alt-Enter">All</span>\t    </div>\t    <div class="ace_replace_form">\t        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>\t        <span action="replaceAndFindNext" class="ace_searchbtn">Replace</span>\t        <span action="replaceAll" class="ace_searchbtn">All</span>\t    </div>\t    <div class="ace_search_options">\t        <span action="toggleReplace" class="ace_button" title="Toggel Replace mode"\t            style="float:left;margin-top:-2px;padding:0 5px;">+</span>\t        <span class="ace_search_counter"></span>\t        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>\t        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>\t        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>\t        <span action="searchInSelection" class="ace_button" title="Search In Selection">S</span>\t    </div>\t</div>'.replace(/> +/g,">"),c=function(t,e,n){var i=r.createElement("div");i.innerHTML=l,this.element=i.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(t)};(function(){this.setEditor=function(t){t.searchBox=this,t.renderer.scroller.appendChild(this.element),this.editor=t},this.setSession=function(t){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(t){this.searchBox=t.querySelector(".ace_search_form"),this.replaceBox=t.querySelector(".ace_replace_form"),this.searchOption=t.querySelector("[action=searchInSelection]"),this.replaceOption=t.querySelector("[action=toggleReplace]"),this.regExpOption=t.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=t.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=t.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=t.querySelector(".ace_search_counter")},this.$init=function(){var t=this.element;this.$initElements(t);var s=this;o.addListener(t,"mousedown",function(t){setTimeout(function(){s.activeInput.focus()},0),o.stopPropagation(t)}),o.addListener(t,"click",function(t){var e=(t.target||t.srcElement).getAttribute("action");e&&s[e]?s[e]():s.$searchBarKb.commands[e]&&s.$searchBarKb.commands[e].exec(s),o.stopPropagation(t)}),o.addCommandKeyListener(t,function(t,e,n){var i=a.keyCodeToString(n),r=s.$searchBarKb.findKeyCommand(e,i);r&&r.exec&&(r.exec(s),o.stopEvent(t))}),this.$onChange=i.delayedCall(function(){s.find(!1,!1)}),o.addListener(this.searchInput,"input",function(){s.$onChange.schedule(20)}),o.addListener(this.searchInput,"focus",function(){s.activeInput=s.searchInput,s.searchInput.value&&s.highlight()}),o.addListener(this.replaceInput,"focus",function(){s.activeInput=s.replaceInput,s.searchInput.value&&s.highlight()})},this.$closeSearchBarKb=new s([{bindKey:"Esc",name:"closeSearchBar",exec:function(t){t.searchBox.hide()}}]),this.$searchBarKb=new s,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(t){var e=t.isReplace=!t.isReplace;t.replaceBox.style.display=e?"":"none",t.replaceOption.checked=!1,t.$syncOptions(),t.searchInput.focus()},"Ctrl-H|Command-Option-F":function(t){t.replaceOption.checked=!0,t.$syncOptions(),t.replaceInput.focus()},"Ctrl-G|Command-G":function(t){t.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(t){t.findPrev()},esc:function(t){setTimeout(function(){t.hide()})},Return:function(t){t.activeInput==t.replaceInput&&t.replace(),t.findNext()},"Shift-Return":function(t){t.activeInput==t.replaceInput&&t.replace(),t.findPrev()},"Alt-Return":function(t){t.activeInput==t.replaceInput&&t.replaceAll(),t.findAll()},Tab:function(t){(t.activeInput==t.replaceInput?t.searchInput:t.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(t){t.regExpOption.checked=!t.regExpOption.checked,t.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(t){t.caseSensitiveOption.checked=!t.caseSensitiveOption.checked,t.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(t){t.wholeWordOption.checked=!t.wholeWordOption.checked,t.$syncOptions()}},{name:"toggleReplace",exec:function(t){t.replaceOption.checked=!t.replaceOption.checked,t.$syncOptions()}},{name:"searchInSelection",exec:function(t){t.searchOption.checked=!t.searchRange,t.setSearchRange(t.searchOption.checked&&t.editor.getSelectionRange()),t.$syncOptions()}}]),this.setSearchRange=function(t){(this.searchRange=t)?this.searchRangeMarker=this.editor.session.addMarker(t,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(t){r.setCssClass(this.replaceOption,"checked",this.searchRange),r.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",r.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),r.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),r.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked),this.replaceBox.style.display=this.replaceOption.checked?"":"none",this.find(!1,!1,t)},this.highlight=function(t){this.editor.session.highlight(t||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(t,e,n){var i=!this.editor.find(this.searchInput.value,{skipCurrent:t,backwards:e,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:n,range:this.searchRange})&&this.searchInput.value;r.setCssClass(this.searchBox,"ace_nomatch",i),this.editor._emit("findSearchBox",{match:!i}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var t=this.editor,e=t.$search.$options.re,n=0,i=0;if(e){var r=this.searchRange?t.session.getTextRange(this.searchRange):t.getValue(),s=t.session.doc.positionToIndex(t.selection.anchor);this.searchRange&&(s-=t.session.doc.positionToIndex(this.searchRange.start));for(var o,a=e.lastIndex=0;(o=e.exec(r))&&(n++,(a=o.index)<=s&&i++,!(999<n))&&(o[0]||(e.lastIndex=a+=1,!(a>=r.length))););}this.searchCounter.textContent=i+" of "+(999<n?"999+":n)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var t=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;r.setCssClass(this.searchBox,"ace_nomatch",t),this.editor._emit("findSearchBox",{match:!t}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(t,e){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=e,t&&(this.searchInput.value=t),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var t=document.activeElement;return t==this.searchInput||t==this.replaceInput}}).call(c.prototype),e.SearchBox=c,e.Search=function(t,e){(t.searchBox||new c(t)).show(t.session.getTextRange(),e)}}),ace.acequire(["ace/ext/searchbox"],function(){})},function(t,e){ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(t,e,n){e.isDark=!1,e.cssClass="ace-jsoneditor",e.cssText='.ace-jsoneditor .ace_gutter {\tbackground: #ebebeb;\tcolor: #333\t}\t\t.ace-jsoneditor.ace_editor {\tfont-family: "dejavu sans mono", "droid sans mono", consolas, monaco, "lucida console", "courier new", courier, monospace, sans-serif;\tline-height: 1.3;\tbackground-color: #fff;\t}\t.ace-jsoneditor .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8\t}\t.ace-jsoneditor .ace_scroller {\tbackground-color: #FFFFFF\t}\t.ace-jsoneditor .ace_text-layer {\tcolor: gray\t}\t.ace-jsoneditor .ace_variable {\tcolor: #1a1a1a\t}\t.ace-jsoneditor .ace_cursor {\tborder-left: 2px solid #000000\t}\t.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\tborder-left: 0px;\tborder-bottom: 1px solid #000000\t}\t.ace-jsoneditor .ace_marker-layer .ace_selection {\tbackground: lightgray\t}\t.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px #FFFFFF;\tborder-radius: 2px\t}\t.ace-jsoneditor .ace_marker-layer .ace_step {\tbackground: rgb(255, 255, 0)\t}\t.ace-jsoneditor .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid #BFBFBF\t}\t.ace-jsoneditor .ace_marker-layer .ace_active-line {\tbackground: #FFFBD1\t}\t.ace-jsoneditor .ace_gutter-active-line {\tbackground-color : #dcdcdc\t}\t.ace-jsoneditor .ace_marker-layer .ace_selected-word {\tborder: 1px solid lightgray\t}\t.ace-jsoneditor .ace_invisible {\tcolor: #BFBFBF\t}\t.ace-jsoneditor .ace_keyword,\t.ace-jsoneditor .ace_meta,\t.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\tcolor: #AF956F\t}\t.ace-jsoneditor .ace_keyword.ace_operator {\tcolor: #484848\t}\t.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\tcolor: #96DC5F\t}\t.ace-jsoneditor .ace_constant.ace_language {\tcolor: darkorange\t}\t.ace-jsoneditor .ace_constant.ace_numeric {\tcolor: red\t}\t.ace-jsoneditor .ace_constant.ace_character.ace_entity {\tcolor: #BF78CC\t}\t.ace-jsoneditor .ace_invalid {\tcolor: #FFFFFF;\tbackground-color: #FF002A;\t}\t.ace-jsoneditor .ace_fold {\tbackground-color: #AF956F;\tborder-color: #000000\t}\t.ace-jsoneditor .ace_storage,\t.ace-jsoneditor .ace_support.ace_class,\t.ace-jsoneditor .ace_support.ace_function,\t.ace-jsoneditor .ace_support.ace_other,\t.ace-jsoneditor .ace_support.ace_type {\tcolor: #C52727\t}\t.ace-jsoneditor .ace_string {\tcolor: green\t}\t.ace-jsoneditor .ace_comment {\tcolor: #BCC8BA\t}\t.ace-jsoneditor .ace_entity.ace_name.ace_tag,\t.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\tcolor: #606060\t}\t.ace-jsoneditor .ace_markup.ace_underline {\ttext-decoration: underline\t}\t.ace-jsoneditor .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\t}',t("../lib/dom").importCssString(e.cssText,e.cssClass)})}])}),function(){function jfj(t,e,n){return kfj(t,e,n)}function kfj(t,i,r,s){s=s||{},i&&!function(t){for(var e=0,n=tfj.length,e=0;e<n;++e)if("function"!=typeof t[tfj[e]])return!1;return!0}(i)&&(r=i,i=void 0),i=i||new Date,(r=r||sfj).formats=r.formats||{};var e,n,o=i.getTime(),a=typeof(l=s.timezone);if((s.utc||"number"==a||"string"==a)&&(n=6e4*((e=i).getTimezoneOffset()||0),i=new Date(e.getTime()+n)),l){if("string"==a)var l=60*("-"==l[0]?-1:1)*parseInt(l.slice(1,3),10)+parseInt(l.slice(3,5),10);a&&(i=new Date(i.getTime()+6e4*l))}return t.replace(/%([-_0]?.)/g,function(t,e){var n;if(2==e.length){if("-"==(n=e[0]))n="";else if("_"==n)n=" ";else{if("0"!=n)return t;n="0"}e=e[1]}switch(e){case"A":return r.days[i.getDay()];case"a":return r.shortDays[i.getDay()];case"B":return r.months[i.getMonth()];case"b":return r.shortMonths[i.getMonth()];case"C":return nfj(Math.floor(i.getFullYear()/100),n);case"D":return kfj(r.formats.D||"%m/%d/%y",i,r);case"d":return nfj(i.getDate(),n);case"e":return i.getDate();case"F":return kfj(r.formats.F||"%Y-%m-%d",i,r);case"H":return nfj(i.getHours(),n);case"h":return r.shortMonths[i.getMonth()];case"I":return nfj(ofj(i),n);case"j":return n=new Date(i.getFullYear(),0,1),nfj(n=Math.ceil((i.getTime()-n.getTime())/864e5),3);case"k":return nfj(i.getHours(),null==n?" ":n);case"L":return nfj(Math.floor(o%1e3),3);case"l":return nfj(ofj(i),null==n?" ":n);case"M":return nfj(i.getMinutes(),n);case"m":return nfj(i.getMonth()+1,n);case"n":return"\n";case"o":return String(i.getDate())+function(t){var e=t%10;if(11<=(t%=100)&&t<=13||0===e||4<=e)return"th";switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}}(i.getDate());case"P":return i.getHours()<12?r.am:r.pm;case"p":return i.getHours()<12?r.AM:r.PM;case"R":return kfj(r.formats.R||"%H:%M",i,r);case"r":return kfj(r.formats.r||"%I:%M:%S %p",i,r);case"S":return nfj(i.getSeconds(),n);case"s":return Math.floor(o/1e3);case"T":return kfj(r.formats.T||"%H:%M:%S",i,r);case"t":return"\t";case"U":return nfj(qfj(i,"sunday"),n);case"u":return 0==(n=i.getDay())?7:n;case"v":return kfj(r.formats.v||"%e-%b-%Y",i,r);case"W":return nfj(qfj(i,"monday"),n);case"w":return i.getDay();case"Y":return i.getFullYear();case"y":return(n=String(i.getFullYear())).slice(n.length-2);case"Z":return s.utc?"GMT":(n=i.toString().match(/\((\w+)\)/))&&n[1]||"";case"z":return s.utc?"+0000":((n="number"==typeof l?l:-i.getTimezoneOffset())<0?"-":"+")+nfj(Math.abs(n/60))+nfj(n%60);default:return e}})}function nfj(t,e,n){if("number"==typeof e&&(n=e,e="0"),null==e&&(e="0"),n=n||2,t=String(t),e)for(;t.length<n;)t=e+t;return t}function ofj(t){return 0==(t=t.getHours())?t=12:12<t&&(t-=12),t}function qfj(t,e){e=e||"sunday";var n=t.getDay();"monday"==e&&(0==n?n=6:n--);var i=new Date(t.getFullYear(),0,1);return Math.floor(((t-i)/864e5+7-n)/7)}var rfj;rfj="undefined"!=typeof module?module.exports=jfj:function(){return this||eval("this")}();var sfj={days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),AM:"AM",PM:"PM",am:"am",pm:"pm"};rfj.strftime=jfj,rfj.strftimeTZ=jfj.strftimeTZ=function(t,e,n,i){return"number"!=typeof n&&"string"!=typeof n||null!=i||(i=n,n=void 0),kfj(t,e,n,{timezone:i})},rfj.strftimeUTC=jfj.strftimeUTC=function(t,e,n){return kfj(t,e,n,{utc:!0})},rfj.localizedStrftime=jfj.localizedStrftime=function(n){return function(t,e){return kfj(t,e,n)}};var tfj=["getTime","getTimezoneOffset","getDay","getDate","getMonth","getFullYear","getYear","getHours","getMinutes","getSeconds"]}(),d3.fisheye={scale:function(t){return function t(a,l,c){function e(t){var e=a(t),n=e<c,i=d3.extent(a.range()),r=i[0],s=i[1],o=n?c-r:s-c;return 0==o&&(o=s-r),(n?-1:1)*o*(l+1)/(l+o/Math.abs(e-c))+c}return e.distortion=function(t){return arguments.length?(l=+t,e):l},e.focus=function(t){return arguments.length?(c=+t,e):c},e.copy=function(){return t(a.copy(),l,c)},e.nice=a.nice,e.ticks=a.ticks,e.tickFormat=a.tickFormat,d3.rebind(e,a,"domain","range")}(t(),3,0)},circular:function(){function e(t){var e=t.x-l[0],n=t.y-l[1],i=Math.sqrt(e*e+n*n);if(!i||a<=i)return{x:t.x,y:t.y,z:1};var r=s*(1-Math.exp(-i*o))/i*.75+.25;return{x:l[0]+e*r,y:l[1]+n*r,z:Math.min(r,10)}}function n(){return s=(s=Math.exp(i))/(s-1)*a,o=i/a,e}var s,o,a=200,i=2,l=[0,0];return e.radius=function(t){return arguments.length?(a=+t,n()):a},e.distortion=function(t){return arguments.length?(i=+t,n()):i},e.focus=function(t){return arguments.length?(l=t,e):l},n()}},function(a){"use strict";function l(t){}function c(t){t.stopPropagation()}a.fn.pagination=function(t){function n(t,e){var n=1<=e&&e<=s.lastPage,i=a("<a/>").append(t),r=a("<li/>").append(i);return n?(i.click(function(){s.click(e)}),a(".arango-pagination").next().children().first().removeClass("disabledPag"),a(".arango-pagination").prev().children().first().removeClass("disabledPag")):(r.addClass("disabledPag"),setTimeout(function(){a(r).find("i").hasClass("fa-angle-right")?a(".arango-pagination").next().children().first().addClass("disabledPag"):a(r).find("i").hasClass("fa-angle-left")&&a(".arango-pagination").prev().children().first().addClass("disabledPag")},50)),i.click(c),e===s.page&&r.addClass("active active-arango-pagination-button"),r}function i(){var t,e=a('<ul class="arango-pagination"/>');for(e.append(n(s.prev,s.page-1)),t=r;t<=o;t+=1)e.append(n(t,t));return e.append(n(s.next,s.page+1))}var s=a.extend({prev:'<span><i class="fa fa-angle-left"/></span>',next:'<span><i class="fa fa-angle-right"/></span>',left:3,right:3,page:1,lastPage:1,click:l},t||{}),e=s.left+s.right,r=Math.max(1,s.page-s.left),o=r+e;return s.lastPage<o&&(r=Math.max(1,s.lastPage-e),o=s.lastPage),this.each(function(t){var e=a(this),n=e.children("ul");n.length?n.replaceWith(i()):e.append(i())})}}(jQuery),function(){var m,r,o,n,s,a,l,c,h,v,y,u,i,d,f=function(t,e){return function(){return t.apply(e,arguments)}},p=[].slice;m=jQuery,c="jqconsole-",s=c+"header",h=c+"prompt",l=c+"old-prompt",a=c+"input",n=c+"blurred",y="<span/>",v=":empty",o=c+"ansi-",u=/\[(\d*)(?:;(\d*))*m/,r=function(){function t(){this.stylize=f(this.stylize,this),this._closeSpan=f(this._closeSpan,this),this._openSpan=f(this._openSpan,this),this.getClasses=f(this.getClasses,this),this._style=f(this._style,this),this._color=f(this._color,this),this._remove=f(this._remove,this),this._append=f(this._append,this),this.klasses=[]}return t.prototype.COLORS=["black","red","green","yellow","blue","magenta","cyan","white"],t.prototype._append=function(t){if(t=""+o+t,-1===this.klasses.indexOf(t))return this.klasses.push(t)},t.prototype._remove=function(){var r,s,t,e,n,i;for(i=[],e=0,n=(t=1<=arguments.length?p.call(arguments,0):[]).length;e<n;e++)"fonts"===(s=t[e])||"color"===s||"background-color"===s?i.push(this.klasses=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.klasses).length;t<e;t++)(r=n[t]).indexOf(s)!==o.length&&i.push(r);return i}.call(this)):(s=""+o+s,i.push(this.klasses=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.klasses).length;t<e;t++)(r=n[t])!==s&&i.push(r);return i}.call(this)));return i},t.prototype._color=function(t){return this.COLORS[t]},t.prototype._style=function(t){if(""===t&&(t=0),t=parseInt(t),!isNaN(t))switch(t){case 0:return this.klasses=[];case 1:return this._append("bold");case 2:return this._append("lighter");case 3:return this._append("italic");case 4:return this._append("underline");case 5:return this._append("blink");case 6:return this._append("blink-rapid");case 8:return this._append("hidden");case 9:return this._append("line-through");case 10:return this._remove("fonts");case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:return this._remove("fonts"),this._append("fonts-"+(t-10));case 20:return this._append("fraktur");case 21:case 22:return this._remove("bold","lighter");case 23:return this._remove("italic","fraktur");case 24:return this._remove("underline");case 25:return this._remove("blink","blink-rapid");case 28:return this._remove("hidden");case 29:return this._remove("line-through");case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:return this._remove("color"),this._append("color-"+this._color(t-30));case 39:return this._remove("color");case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return this._remove("background-color"),this._append("background-color-"+this._color(t-40));case 49:return this._remove("background-color");case 51:return this._append("framed");case 53:return this._append("overline");case 54:return this._remove("framed");case 55:return this._remove("overline")}},t.prototype.getClasses=function(){return this.klasses.join(" ")},t.prototype._openSpan=function(t){return'<span class="'+this.getClasses()+'">'+t},t.prototype._closeSpan=function(t){return t+"</span>"},t.prototype.stylize=function(t){var e,n,i,r,s,o;for(t=this._openSpan(t),i=0;(i=t.indexOf("",i))&&-1!==i;)if(n=t.slice(i).match(u)){for(r=0,s=(o=n.slice(1)).length;r<s;r++)e=o[r],this._style(e);t=this._closeSpan(t.slice(0,i))+this._openSpan(t.slice(i+1+n[0].length))}else i++;return this._closeSpan(t)},t}(),d=function(t,e){return'<span class="'+t+'">'+(e||"")+"</span>"},i=function(){function t(t,e,n,i){this._HideComposition=f(this._HideComposition,this),this._ShowComposition=f(this._ShowComposition,this),this._UpdateComposition=f(this._UpdateComposition,this),this._EndComposition=f(this._EndComposition,this),this._StartComposition=f(this._StartComposition,this),this._CheckComposition=f(this._CheckComposition,this),this._ProcessMatch=f(this._ProcessMatch,this),this._HandleKey=f(this._HandleKey,this),this._HandleChar=f(this._HandleChar,this),this.isMobile=!!navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),this.isIos=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),this.isAndroid=!!navigator.userAgent.match(/Android/i),this.$window=m(window),this.header=e||"",this.prompt_label_main="string"==typeof n?n:">>> ",this.prompt_label_continue=i||"... ",this.indent_width=2,this.state=1,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.history=[],this.history_index=0,this.history_new="",this.history_active=!1,this.shortcuts={},this.$container=m("<div/>").appendTo(t),this.$container.css({top:0,left:0,right:0,bottom:0,position:"absolute",overflow:"auto"}),this.$console=m('<pre class="jqconsole"/>').appendTo(this.$container),this.$console.css({margin:0,position:"relative","min-height":"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"}),this.$console_focused=!0,this.$input_container=m("<div/>").appendTo(this.$container),this.$input_container.css({position:"absolute",width:1,height:0,overflow:"hidden"}),this.$input_source=this.isAndroid?m("<input/>"):m("<textarea/>"),this.$input_source.attr({wrap:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false",autocomplete:"off"}),this.$input_source.css({position:"absolute",width:2}),this.$input_source.appendTo(this.$input_container),this.$composition=m("<div/>"),this.$composition.addClass(c+"composition"),this.$composition.css({display:"inline",position:"relative"}),this.matchings={openings:{},closings:{},clss:[]},this.ansi=new r,this._InitPrompt(),this._SetupEvents(),this.Write(this.header,s),m(t).data("jqconsole",this)}return t.prototype.ResetHistory=function(){return this.SetHistory([])},t.prototype.ResetShortcuts=function(){return this.shortcuts={}},t.prototype.ResetMatchings=function(){return this.matchings={openings:{},closings:{},clss:[]}},t.prototype.Reset=function(){1!==this.state&&this.ClearPromptText(!0),this.state=1,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.ResetHistory(),this.ResetShortcuts(),this.ResetMatchings(),this.$prompt.detach(),this.$input_container.detach(),this.$console.html(""),this.$prompt.appendTo(this.$console),this.$input_container.appendTo(this.$container),this.Write(this.header,s)},t.prototype.GetHistory=function(){return this.history},t.prototype.SetHistory=function(t){return this.history=t.slice(),this.history_index=this.history.length},t.prototype._CheckKeyCode=function(t){if(!(0<(t=isNaN(t)?t.charCodeAt(0):parseInt(t,10))&&t<256)||isNaN(t))throw new Error("Key code must be a number between 0 and 256 exclusive.");return t},t.prototype._LetterCaseHelper=function(t,e){if(e(t),65<=t&&t<=90&&e(t+32),97<=t&&t<=122)return e(t-32)},t.prototype.RegisterShortcut=function(t,e){var n,i=this;if(t=this._CheckKeyCode(t),"function"!=typeof e)throw new Error("Callback must be a function, not "+e+".");n=function(t){return t in i.shortcuts||(i.shortcuts[t]=[]),i.shortcuts[t].push(e)},this._LetterCaseHelper(t,n)},t.prototype.UnRegisterShortcut=function(t,e){var n,i=this;t=this._CheckKeyCode(t),n=function(t){if(t in i.shortcuts)return e?i.shortcuts[t].splice(i.shortcuts[t].indexOf(e),1):delete i.shortcuts[t]},this._LetterCaseHelper(t,n)},t.prototype.GetColumn=function(){var t;return this.$prompt_right.detach(),this.$prompt_cursor.text(""),t=this.$console.text().split("\n"),this.$prompt_cursor.html("&nbsp;"),this.$prompt_cursor.after(this.$prompt_right),t[t.length-1].length},t.prototype.GetLine=function(){return this.$console.text().split("\n").length-1},t.prototype.ClearPromptText=function(t){if(1===this.state)throw new Error("ClearPromptText() is not allowed in output state.");this.$prompt_before.html(""),this.$prompt_after.html(""),this.$prompt_label.text(t?"":this._SelectPromptLabel(!1)),this.$prompt_left.text(""),this.$prompt_right.text("")},t.prototype.GetPromptText=function(t){var e,n,i,r,s;if(1===this.state)throw new Error("GetPromptText() is not allowed in output state.");return t?(this.$prompt_cursor.text(""),s=this.$prompt.text(),this.$prompt_cursor.html("&nbsp;"),s):((n=(r=function(t){var e;return e=[],t.children().each(function(){return e.push(m(this).children().last().text())}),e.join("\n")})(this.$prompt_before))&&(n+="\n"),i=this.$prompt_left.text()+this.$prompt_right.text(),(e=r(this.$prompt_after))&&(e="\n"+e),n+i+e)},t.prototype.SetPromptText=function(t){if(1===this.state)throw new Error("SetPromptText() is not allowed in output state.");this.ClearPromptText(!1),this._AppendPromptText(t),this._ScrollToEnd()},t.prototype.SetPromptLabel=function(t,e){this.prompt_label_main=t,null!=e&&(this.prompt_label_continue=e)},t.prototype.Write=function(t,e,n){var i;return null==n&&(n=!0),n&&(t=this.ansi.stylize(m(y).text(t).html())),i=m(y).html(t),null!=e&&i.addClass(e),this.Append(i)},t.prototype.Append=function(t){var e;return e=m(t).insertBefore(this.$prompt),this._ScrollToEnd(),this.$prompt_cursor.detach().insertAfter(this.$prompt_left),e},t.prototype.Input=function(t){var e,n,i,r,s=this;if(2===this.state)i=this.input_callback,r=this.multiline_callback,n=this.history_active,e=this.async_multiline,this.AbortPrompt(),this.input_queue.unshift(function(){return s.Prompt(n,i,r,e)});else if(1!==this.state)return void this.input_queue.push(function(){return s.Input(t)});this.history_active=!1,this.input_callback=t,this.multiline_callback=null,this.state=0,this.$prompt.attr("class",a),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),this._ScrollToEnd()},t.prototype.Prompt=function(t,e,n,i){var r=this;1===this.state?(this.history_active=t,this.input_callback=e,this.multiline_callback=n,this.async_multiline=i,this.state=2,this.$prompt.attr("class",h+" "+this.ansi.getClasses()),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),this._ScrollToEnd()):this.input_queue.push(function(){return r.Prompt(t,e,n,i)})},t.prototype.AbortPrompt=function(){if(2!==this.state)throw new Error("Cannot abort prompt when not in prompt state.");this.Write(this.GetPromptText(!0)+"\n",l),this.ClearPromptText(!0),this.state=1,this.input_callback=this.multiline_callback=null,this._CheckInputQueue()},t.prototype.Focus=function(){this.IsDisabled()||this.$input_source.focus()},t.prototype.SetIndentWidth=function(t){return this.indent_width=t},t.prototype.GetIndentWidth=function(){return this.indent_width},t.prototype.RegisterMatching=function(t,e,n){var i;return i={opening_char:t,closing_char:e,cls:n},this.matchings.clss.push(n),this.matchings.openings[t]=i,this.matchings.closings[e]=i},t.prototype.UnRegisterMatching=function(t,e){var n;return n=this.matchings.openings[t].cls,delete this.matchings.openings[t],delete this.matchings.closings[e],this.matchings.clss.splice(this.matchings.clss.indexOf(n),1)},t.prototype.Dump=function(){var i,r;return i=this.$console.find("."+s).nextUntil("."+h).addBack(),function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)r=i[t],m(r).is("."+l)?n.push(m(r).text().replace(/^\s+/,">>> ")):n.push(m(r).text());return n}().join("")},t.prototype.GetState=function(){return 0===this.state?"input":1===this.state?"output":"prompt"},t.prototype.Disable=function(){return this.$input_source.attr("disabled",!0),this.$input_source.blur()},t.prototype.Enable=function(){return this.$input_source.attr("disabled",!1)},t.prototype.IsDisabled=function(){return Boolean(this.$input_source.attr("disabled"))},t.prototype.MoveToStart=function(t){this._MoveTo(t,!0)},t.prototype.MoveToEnd=function(t){this._MoveTo(t,!1)},t.prototype.Clear=function(){return this.$console.find("."+s).nextUntil("."+h).addBack().text(""),this.$prompt_cursor.detach(),this.$prompt_after.before(this.$prompt_cursor)},t.prototype._CheckInputQueue=function(){if(this.input_queue.length)return this.input_queue.shift()()},t.prototype._InitPrompt=function(){if(this.$prompt=m(d(a)).appendTo(this.$console),this.$prompt_before=m(y).appendTo(this.$prompt),this.$prompt_current=m(y).appendTo(this.$prompt),this.$prompt_after=m(y).appendTo(this.$prompt),this.$prompt_label=m(y).appendTo(this.$prompt_current),this.$prompt_left=m(y).appendTo(this.$prompt_current),this.$prompt_right=m(y).appendTo(this.$prompt_current),this.$prompt_right.css({position:"relative"}),this.$prompt_cursor=m(d("jqconsole-cursor","&nbsp;")),this.$prompt_cursor.insertBefore(this.$prompt_right),this.$prompt_cursor.css({color:"transparent",display:"inline",zIndex:0}),!this.isMobile)return this.$prompt_cursor.css("position","absolute")},t.prototype._SetupEvents=function(){var e=this;return this.isMobile?this.$console.click(function(t){return t.preventDefault(),e.Focus()}):this.$console.mouseup(function(t){return 2===t.which?e.Focus():setTimeout(function(){if(!window.getSelection().toString())return t.preventDefault(),e.Focus()},0)}),this.$input_source.focus(function(){return e._ScrollToEnd(),e.$console_focused=!0,e.$console.removeClass(n),setTimeout(function(){if(e.$console_focused)return e.$console.removeClass(n)},100),setTimeout(function(){if(e.isIos&&e.$console_focused)return e.$input_source.hide()},500)}),this.$input_source.blur(function(){return e.$console_focused=!1,e.isIos&&e.$input_source.show(),setTimeout(function(){if(!e.$console_focused)return e.$console.addClass(n)},100)}),this.$input_source.bind("paste",function(){return setTimeout(function(){if(!e.in_composition)return e._AppendPromptText(e.$input_source.val()),e.$input_source.val(""),e.Focus()},0)}),this.$input_source.keypress(this._HandleChar),this.$input_source.keydown(this._HandleKey),this.$input_source.keydown(this._CheckComposition),this.$input_source.bind("compositionstart",this._StartComposition),this.$input_source.bind("compositionend",function(t){return setTimeout(function(){return e._EndComposition(t)},0)}),this.isAndroid?(this.$input_source.bind("input",this._StartComposition),this.$input_source.bind("input",this._UpdateComposition)):this.$input_source.bind("text",this._UpdateComposition)},t.prototype._HandleChar=function(t){var e;return!(1!==this.state&&!t.metaKey&&!t.ctrlKey)||(8===(e=t.which)||9===e||13===e||(this.$prompt_left.text(this.$prompt_left.text()+String.fromCharCode(e)),this._ScrollToEnd()),!1)},t.prototype._HandleKey=function(t){var e;if(1===this.state)return!0;if(e=t.keyCode||t.which,setTimeout(m.proxy(this._CheckMatchings,this),0),t.altKey)return!0;if(t.ctrlKey||t.metaKey)return this._HandleCtrlShortcut(e);if(t.shiftKey){switch(e){case 13:this._HandleEnter(!0);break;case 9:this._Unindent();break;case 38:this._MoveUp();break;case 40:this._MoveDown();break;case 33:this._ScrollPage("up");break;case 34:this._ScrollPage("down");break;default:return!0}return!1}switch(e){case 13:this._HandleEnter(!1);break;case 9:this._Indent();break;case 46:this._Delete(!1);break;case 8:this._Backspace(!1);break;case 37:this._MoveLeft(!1);break;case 39:this._MoveRight(!1);break;case 38:this._HistoryPrevious();break;case 40:this._HistoryNext();break;case 36:this.MoveToStart(!1);break;case 35:this.MoveToEnd(!1);break;case 33:this._ScrollPage("up");break;case 34:this._ScrollPage("down");break;default:return!0}return!1},t.prototype._HandleCtrlShortcut=function(t){var e,n,i;switch(t){case 46:this._Delete(!0);break;case 8:this._Backspace(!0);break;case 37:this._MoveLeft(!0);break;case 39:this._MoveRight(!0);break;case 38:this._MoveUp();break;case 40:this._MoveDown();break;case 35:this.MoveToEnd(!0);break;case 36:this.MoveToStart(!0);break;default:if(t in this.shortcuts){for(e=0,n=(i=this.shortcuts[t]).length;e<n;e++)i[e].call(this);return!1}return!0}return!1},t.prototype._HandleEnter=function(t){var e,o,a=this;return this._EndComposition(),t?this._InsertNewLine(!0):(o=this.GetPromptText(),e=function(t){var e,n,i,r,s;if(!1!==t){for(a.MoveToEnd(!0),a._InsertNewLine(!0),s=[],i=0,r=Math.abs(t);0<=r?i<r:r<i;0<=r?++i:--i)0<t?s.push(a._Indent()):s.push(a._Unindent());return s}return n=0===a.state?"input":"prompt",a.Write(a.GetPromptText(!0)+"\n",c+"old-"+n),a.ClearPromptText(!0),a.history_active&&(a.history.length&&a.history[a.history.length-1]===o||a.history.push(o),a.history_index=a.history.length),a.state=1,e=a.input_callback,a.input_callback=null,e&&e(o),a._CheckInputQueue()},this.multiline_callback?this.async_multiline?this.multiline_callback(o,e):e(this.multiline_callback(o)):e(!1))},t.prototype._GetDirectionals=function(t){return{$prompt_which:t?this.$prompt_left:this.$prompt_right,$prompt_opposite:t?this.$prompt_right:this.$prompt_left,$prompt_relative:t?this.$prompt_before:this.$prompt_after,$prompt_rel_opposite:t?this.$prompt_after:this.$prompt_before,MoveToLimit:t?m.proxy(this.MoveToStart,this):m.proxy(this.MoveToEnd,this),MoveDirection:t?m.proxy(this._MoveLeft,this):m.proxy(this._MoveRight,this),which_end:t?"last":"first",where_append:t?"prependTo":"appendTo"}},t.prototype._VerticalMove=function(t){var e,n,i,r,s,o,a,l;if(i=(l=this._GetDirectionals(t)).$prompt_which,e=l.$prompt_opposite,n=l.$prompt_relative,s=l.MoveToLimit,r=l.MoveDirection,!n.is(v))return o=this.$prompt_left.text().length,s(),r(),a=i.text(),e.text(t?a.slice(o):a.slice(0,o)),i.text(t?a.slice(0,o):a.slice(o))},t.prototype._MoveUp=function(){return this._VerticalMove(!0)},t.prototype._MoveDown=function(){return this._VerticalMove()},t.prototype._HorizontalMove=function(t,e){var n,i,r,s,o,a,l,c,h,u,d,f,p,g;if(o=(g=this._GetDirectionals(e)).$prompt_which,i=g.$prompt_opposite,s=g.$prompt_relative,r=g.$prompt_rel_opposite,f=g.which_end,d=g.where_append,c=e?/\w*\W*$/:/^\w*\W*/,h=o.text()){if(t){if(!(p=h.match(c)))return;return p=p[0],u=i.text(),i.text(e?p+u:u+p),l=p.length,o.text(e?h.slice(0,-l):h.slice(l))}return u=i.text(),i.text(e?h.slice(-1)+u:u+h[0]),o.text(e?h.slice(0,-1):h.slice(1))}if(!s.is(v))return(a=m(y)[d](r)).append(m(y).text(this.$prompt_label.text())),a.append(m(y).text(i.text())),n=s.children()[f]().detach(),this.$prompt_label.text(n.children().first().text()),o.text(n.children().last().text()),i.text("")},t.prototype._MoveLeft=function(t){return this._HorizontalMove(t,!0)},t.prototype._MoveRight=function(t){return this._HorizontalMove(t)},t.prototype._MoveTo=function(t,e){var n,i,r,s,o,a,l;if(r=(a=this._GetDirectionals(e)).$prompt_which,n=a.$prompt_opposite,i=a.$prompt_relative,o=a.MoveToLimit,s=a.MoveDirection,t){for(l=[];!i.is(v)||""!==r.text();)o(!1),l.push(s(!1));return l}return n.text(this.$prompt_left.text()+this.$prompt_right.text()),r.text("")},t.prototype._Delete=function(t){var e,n,i;if(n=this.$prompt_right.text()){if(t){if(!(i=n.match(/^\w*\W*/)))return;return i=i[0],this.$prompt_right.text(n.slice(i.length))}return this.$prompt_right.text(n.slice(1))}if(!this.$prompt_after.is(v))return e=this.$prompt_after.children().first().detach(),this.$prompt_right.text(e.children().last().text())},t.prototype._Backspace=function(t){var e,n,i;if(setTimeout(m.proxy(this._ScrollToEnd,this),0),n=this.$prompt_left.text()){if(t){if(!(i=n.match(/\w*\W*$/)))return;return i=i[0],this.$prompt_left.text(n.slice(0,-i.length))}return this.$prompt_left.text(n.slice(0,-1))}if(!this.$prompt_before.is(v))return e=this.$prompt_before.children().last().detach(),this.$prompt_label.text(e.children().first().text()),this.$prompt_left.text(e.children().last().text())},t.prototype._Indent=function(){return this.$prompt_left.prepend(function(){var t,e,n;for(n=[],t=1,e=this.indent_width;1<=e?t<=e:e<=t;1<=e?++t:--t)n.push(" ");return n}.call(this).join(""))},t.prototype._Unindent=function(){var t,e,n,i;for(t=this.$prompt_left.text()+this.$prompt_right.text(),i=[],e=1,n=this.indent_width;(1<=n?e<=n:n<=e)&&/^ /.test(t);1<=n?++e:--e)this.$prompt_left.text()?this.$prompt_left.text(this.$prompt_left.text().slice(1)):this.$prompt_right.text(this.$prompt_right.text().slice(1)),i.push(t=t.slice(1));return i},t.prototype._InsertNewLine=function(t){var e,n,i;return null==t&&(t=!1),i=this._SelectPromptLabel(!this.$prompt_before.is(v)),(e=m(y).appendTo(this.$prompt_before)).append(m(y).text(i)),e.append(m(y).text(this.$prompt_left.text())),this.$prompt_label.text(this._SelectPromptLabel(!0)),t&&(n=this.$prompt_left.text().match(/^\s+/))?this.$prompt_left.text(n[0]):this.$prompt_left.text(""),this._ScrollToEnd()},t.prototype._AppendPromptText=function(t){var e,n,i,r,s,o;for(n=t.split("\n"),this.$prompt_left.text(this.$prompt_left.text()+n[0]),o=[],i=0,r=(s=n.slice(1)).length;i<r;i++)e=s[i],this._InsertNewLine(),o.push(this.$prompt_left.text(e));return o},t.prototype._ScrollPage=function(t){var e;return e=this.$container[0].scrollTop,"up"===t?e-=this.$container.height():e+=this.$container.height(),this.$container.stop().animate({scrollTop:e},"fast")},t.prototype._ScrollToEnd=function(){var t;return this.$container.scrollTop(this.$container[0].scrollHeight),t=this.$prompt_cursor.position(),this.$input_container.css({left:t.left,top:t.top}),setTimeout(this.ScrollWindowToPrompt.bind(this),50)},t.prototype.ScrollWindowToPrompt=function(){var t,e,n,i,r;if(e=this.$prompt_cursor.height(),r=this.$window.scrollTop(),this.$window.scrollLeft(),t=document.documentElement.clientHeight,n=(i=this.$prompt_cursor.offset()).top-2*e,this.isMobile&&"undefined"!=typeof orientation&&null!==orientation){if(r<i.top||r>i.top)return this.$window.scrollTop(n)}else{if(r+t<i.top)return this.$window.scrollTop(i.top-t+e);if(n<r)return this.$window.scrollTop(i.top)}},t.prototype._SelectPromptLabel=function(t){return 2===this.state?t?" \n"+this.prompt_label_continue:this.prompt_label_main:t?"\n ":" "},t.prototype._Wrap=function(t,e,n){var i,r;return i=(r=t.html()).slice(0,e)+d(n,r[e])+r.slice(e+1),t.html(i)},t.prototype._WalkCharacters=function(r,t,e,n,s){var i,o,a;for(o=s?r.length:0,r=r.split(""),a=function(){var t,e,n,i;return s?(r=2<=(n=r).length?p.call(n,0,e=n.length-1):(e=0,[]),t=n[e++]):(t=(i=r)[0],r=2<=i.length?p.call(i,1):[]),t&&(o+=s?-1:1),t};i=a();)if(i===t?n++:i===e&&n--,0===n)return{index:o,current_count:n};return{index:-1,current_count:n}},t.prototype._ProcessMatch=function(r,s,t){var e,n,i,o,a,l,c,h,u,d,f,p,g=this;return d=s?[r.closing_char,r.opening_char]:[r.opening_char,r.closing_char],o=d[0],h=d[1],i=(f=this._GetDirectionals(s)).$prompt_which,n=f.$prompt_relative,l=!(a=1),u=i.html(),s||(u=u.slice(1)),t&&s&&(u=u.slice(0,-1)),p=this._WalkCharacters(u,o,h,a,s),c=p.index,a=p.current_count,-1<c?(this._Wrap(i,c,r.cls),l=!0):(e=n.children(),(e=s?Array.prototype.reverse.call(e):e).each(function(t,e){var n,i;if(n=m(e).children().last(),u=n.html(),i=g._WalkCharacters(u,o,h,a,s),c=i.index,a=i.current_count,-1<c)return s||c--,g._Wrap(n,c,r.cls),!(l=!0)})),l},t.prototype._CheckMatchings=function(t){var e,n,i,r,s,o,a;for(i=t?this.$prompt_left.text().slice(this.$prompt_left.text().length-1):this.$prompt_right.text()[0],s=0,o=(a=this.matchings.clss).length;s<o;s++)e=a[s],m("."+e,this.$console).contents().unwrap();if((n=this.matchings.closings[i])?r=this._ProcessMatch(n,!0,t):(n=this.matchings.openings[i])?r=this._ProcessMatch(n,!1,t):t||this._CheckMatchings(!0),t){if(r)return this._Wrap(this.$prompt_left,this.$prompt_left.html().length-1,n.cls)}else if(r)return this._Wrap(this.$prompt_right,0,n.cls)},t.prototype._HistoryPrevious=function(){if(this.history_active&&!(this.history_index<=0))return this.history_index===this.history.length&&(this.history_new=this.GetPromptText()),this.SetPromptText(this.history[--this.history_index])},t.prototype._HistoryNext=function(){if(this.history_active&&!(this.history_index>=this.history.length))return this.history_index===this.history.length-1?(this.history_index++,this.SetPromptText(this.history_new)):this.SetPromptText(this.history[++this.history_index])},t.prototype._CheckComposition=function(t){if(229===(t.keyCode||t.which))return this.in_composition?this._UpdateComposition():this._StartComposition()},t.prototype._StartComposition=function(){if(!this.in_composition)return this.in_composition=!0,this._ShowComposition(),setTimeout(this._UpdateComposition,0)},t.prototype._EndComposition=function(){if(this.in_composition)return this._HideComposition(),this.$prompt_left.text(this.$prompt_left.text()+this.$composition.text()),this.$composition.text(""),this.$input_source.val(""),this.in_composition=!1},t.prototype._UpdateComposition=function(t){var e=this;return setTimeout(function(){if(e.in_composition)return e.$composition.text(e.$input_source.val())},0)},t.prototype._ShowComposition=function(){return this.$composition.css("height",this.$prompt_cursor.height()),this.$composition.empty(),this.$composition.appendTo(this.$prompt_left)},t.prototype._HideComposition=function(){return this.$composition.detach()},t}(),m.fn.jqconsole=function(t,e,n){return new i(this,t,e,n)},m.fn.jqconsole.JQConsole=i,m.fn.jqconsole.Ansi=r}.call(this),function(t){var e="object"==typeof window&&window||"object"==typeof self&&self;"undefined"!=typeof exports?t(exports):e&&(e.hljs=t({}),"function"==typeof define&&define.amd&&define([],function(){return e.hljs}))}(function(r){var d=[],c=Object.keys,y={},f={},e=/^(no-?highlight|plain|text)$/i,p=/\blang(?:uage)?-([\w-]+)\b/i,n=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,b="</span>",_={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};function w(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(t){return t.nodeName.toLowerCase()}function x(t,e){var n=t&&t.exec(e);return n&&0===n.index}function m(t){return e.test(t)}function h(t){var e,n={},i=Array.prototype.slice.call(arguments,1);for(e in t)n[e]=t[e];return i.forEach(function(t){for(e in t)n[e]=t[e]}),n}function v(t){var r=[];return function t(e,n){for(var i=e.firstChild;i;i=i.nextSibling)3===i.nodeType?n+=i.nodeValue.length:1===i.nodeType&&(r.push({event:"start",offset:n,node:i}),n=t(i,n),g(i).match(/br|hr|img|input/)||r.push({event:"stop",offset:n,node:i}));return n}(t,0),r}function A(o){function a(t){return t&&t.source||t}function l(t,e){return new RegExp(a(t),"m"+(o.case_insensitive?"i":"")+(e?"g":""))}!function e(n,t){if(!n.compiled){if(n.compiled=!0,n.keywords=n.keywords||n.beginKeywords,n.keywords){var i={},r=function(n,t){o.case_insensitive&&(t=t.toLowerCase()),t.split(" ").forEach(function(t){var e=t.split("|");i[e[0]]=[n,e[1]?Number(e[1]):1]})};"string"==typeof n.keywords?r("keyword",n.keywords):c(n.keywords).forEach(function(t){r(t,n.keywords[t])}),n.keywords=i}n.lexemesRe=l(n.lexemes||/\w+/,!0),t&&(n.beginKeywords&&(n.begin="\\b("+n.beginKeywords.split(" ").join("|")+")\\b"),n.begin||(n.begin=/\B|\b/),n.beginRe=l(n.begin),n.end||n.endsWithParent||(n.end=/\B|\b/),n.end&&(n.endRe=l(n.end)),n.terminator_end=a(n.end)||"",n.endsWithParent&&t.terminator_end&&(n.terminator_end+=(n.end?"|":"")+t.terminator_end)),n.illegal&&(n.illegalRe=l(n.illegal)),null==n.relevance&&(n.relevance=1),n.contains||(n.contains=[]),n.contains=Array.prototype.concat.apply([],n.contains.map(function(t){return(e="self"===t?n:t).variants&&!e.cached_variants&&(e.cached_variants=e.variants.map(function(t){return h(e,{variants:null},t)})),e.cached_variants||e.endsWithParent&&[h(e)]||[e];var e})),n.contains.forEach(function(t){e(t,n)}),n.starts&&e(n.starts,t);var s=n.contains.map(function(t){return t.beginKeywords?"\\.?("+t.begin+")\\.?":t.begin}).concat([n.terminator_end,n.illegal]).map(a).filter(Boolean);n.terminators=s.length?l(s.join("|"),!0):{exec:function(){return null}}}}(o)}function C(t,e,a,n){function l(t,e,n,i){var r='<span class="'+(i?"":_.classPrefix);return(r+=t+'">')+e+(n?"":b)}function c(){f+=null!=d.subLanguage?function(){var t="string"==typeof d.subLanguage;if(t&&!y[d.subLanguage])return w(p);var e=t?C(d.subLanguage,p,!0,s[d.subLanguage]):E(p,d.subLanguage.length?d.subLanguage:void 0);return 0<d.relevance&&(g+=e.relevance),t&&(s[d.subLanguage]=e.top),l(e.language,e.value,!1,!0)}():function(){var t,e,n,i,r,s,o;if(!d.keywords)return w(p);for(i="",e=0,d.lexemesRe.lastIndex=0,n=d.lexemesRe.exec(p);n;)i+=w(p.substring(e,n.index)),r=d,s=n,o=u.case_insensitive?s[0].toLowerCase():s[0],(t=r.keywords.hasOwnProperty(o)&&r.keywords[o])?(g+=t[1],i+=l(t[0],w(n[0]))):i+=w(n[0]),e=d.lexemesRe.lastIndex,n=d.lexemesRe.exec(p);return i+w(p.substr(e))}(),p=""}function h(t){f+=t.className?l(t.className,"",!0):"",d=Object.create(t,{parent:{value:d}})}function i(t,e){if(p+=t,null==e)return c(),0;var n=function(t,e){var n,i;for(n=0,i=e.contains.length;n<i;n++)if(x(e.contains[n].beginRe,t))return e.contains[n]}(e,d);if(n)return n.skip?p+=e:(n.excludeBegin&&(p+=e),c(),n.returnBegin||n.excludeBegin||(p=e)),h(n),n.returnBegin?0:e.length;var i,r,s=function t(e,n){if(x(e.endRe,n)){for(;e.endsParent&&e.parent;)e=e.parent;return e}if(e.endsWithParent)return t(e.parent,n)}(d,e);if(s){var o=d;for(o.skip?p+=e:(o.returnEnd||o.excludeEnd||(p+=e),c(),o.excludeEnd&&(p=e));d.className&&(f+=b),d.skip||(g+=d.relevance),(d=d.parent)!==s.parent;);return s.starts&&h(s.starts),o.returnEnd?0:e.length}if(i=e,r=d,!a&&x(r.illegalRe,i))throw new Error('Illegal lexeme "'+e+'" for mode "'+(d.className||"<unnamed>")+'"');return p+=e,e.length||1}var u=S(t);if(!u)throw new Error('Unknown language: "'+t+'"');A(u);var r,d=n||u,s={},f="";for(r=d;r!==u;r=r.parent)r.className&&(f=l(r.className,"",!0)+f);var p="",g=0;try{for(var o,m,v=0;d.terminators.lastIndex=v,o=d.terminators.exec(e);)m=i(e.substring(v,o.index),o[0]),v=o.index+m;for(i(e.substr(v)),r=d;r.parent;r=r.parent)r.className&&(f+=b);return{relevance:g,value:f,language:t,top:d}}catch(t){if(t.message&&-1!==t.message.indexOf("Illegal"))return{relevance:0,value:w(e)};throw t}}function E(n,t){t=t||_.languages||c(y);var i={relevance:0,value:w(n)},r=i;return t.filter(S).forEach(function(t){var e=C(t,n,!1);e.language=t,e.relevance>r.relevance&&(r=e),e.relevance>i.relevance&&(r=i,i=e)}),r.language&&(i.second_best=r),i}function k(t){return _.tabReplace||_.useBR?t.replace(n,function(t,e){return _.useBR&&"\n"===t?"<br>":_.tabReplace?e.replace(/\t/g,_.tabReplace):""}):t}function i(t){var e,n,i,r,s,o,a,l,c,h,u=function(t){var e,n,i,r,s=t.className+" ";if(s+=t.parentNode?t.parentNode.className:"",n=p.exec(s))return S(n[1])?n[1]:"no-highlight";for(e=0,i=(s=s.split(/\s+/)).length;e<i;e++)if(m(r=s[e])||S(r))return r}(t);m(u)||(_.useBR?(e=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=t.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):e=t,s=e.textContent,i=u?C(u,s,!0):E(s),(n=v(e)).length&&((r=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=i.value,i.value=function(t,e,n){var i=0,r="",s=[];function o(){return t.length&&e.length?t[0].offset!==e[0].offset?t[0].offset<e[0].offset?t:e:"start"===e[0].event?t:e:t.length?t:e}function a(t){r+="<"+g(t)+d.map.call(t.attributes,function(t){return" "+t.nodeName+'="'+w(t.value).replace('"',"&quot;")+'"'}).join("")+">"}function l(t){r+="</"+g(t)+">"}function c(t){("start"===t.event?a:l)(t.node)}for(;t.length||e.length;){var h=o();if(r+=w(n.substring(i,h[0].offset)),i=h[0].offset,h===t){for(s.reverse().forEach(l);c(h.splice(0,1)[0]),(h=o())===t&&h.length&&h[0].offset===i;);s.reverse().forEach(a)}else"start"===h[0].event?s.push(h[0].node):s.pop(),c(h.splice(0,1)[0])}return r+w(n.substr(i))}(n,v(r),s)),i.value=k(i.value),t.innerHTML=i.value,t.className=(o=t.className,a=u,l=i.language,c=a?f[a]:l,h=[o.trim()],o.match(/\bhljs\b/)||h.push("hljs"),-1===o.indexOf(c)&&h.push(c),h.join(" ").trim()),t.result={language:i.language,re:i.relevance},i.second_best&&(t.second_best={language:i.second_best.language,re:i.second_best.relevance}))}function s(){if(!s.called){s.called=!0;var t=document.querySelectorAll("pre code");d.forEach.call(t,i)}}function S(t){return t=(t||"").toLowerCase(),y[t]||y[f[t]]}return r.highlight=C,r.highlightAuto=E,r.fixMarkup=k,r.highlightBlock=i,r.configure=function(t){_=h(_,t)},r.initHighlighting=s,r.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",s,!1),addEventListener("load",s,!1)},r.registerLanguage=function(e,t){var n=y[e]=t(r);n.aliases&&n.aliases.forEach(function(t){f[t]=e})},r.listLanguages=function(){return c(y)},r.getLanguage=S,r.inherit=h,r.IDENT_RE="[a-zA-Z]\\w*",r.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",r.NUMBER_RE="\\b\\d+(\\.\\d+)?",r.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",r.BINARY_NUMBER_RE="\\b(0b[01]+)",r.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",r.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},r.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[r.BACKSLASH_ESCAPE]},r.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[r.BACKSLASH_ESCAPE]},r.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},r.COMMENT=function(t,e,n){var i=r.inherit({className:"comment",begin:t,end:e,contains:[]},n||{});return i.contains.push(r.PHRASAL_WORDS_MODE),i.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),i},r.C_LINE_COMMENT_MODE=r.COMMENT("//","$"),r.C_BLOCK_COMMENT_MODE=r.COMMENT("/\\*","\\*/"),r.HASH_COMMENT_MODE=r.COMMENT("#","$"),r.NUMBER_MODE={className:"number",begin:r.NUMBER_RE,relevance:0},r.C_NUMBER_MODE={className:"number",begin:r.C_NUMBER_RE,relevance:0},r.BINARY_NUMBER_MODE={className:"number",begin:r.BINARY_NUMBER_RE,relevance:0},r.CSS_NUMBER_MODE={className:"number",begin:r.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},r.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[r.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[r.BACKSLASH_ESCAPE]}]},r.TITLE_MODE={className:"title",begin:r.IDENT_RE,relevance:0},r.UNDERSCORE_TITLE_MODE={className:"title",begin:r.UNDERSCORE_IDENT_RE,relevance:0},r.METHOD_GUARD={begin:"\\.\\s*"+r.UNDERSCORE_IDENT_RE,relevance:0},r}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Joi=t()}}(function(){return function s(o,a,l){function c(n,t){if(!a[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(h)return h(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[n]={exports:{}};o[n][0].call(r.exports,function(t){var e=o[n][1][t];return c(e||t)},r,r.exports,s,o,a,l)}return a[n].exports}for(var h="function"==typeof require&&require,t=0;t<l.length;t++)c(l[t]);return c}({1:[function(t,e,n){var s=t("hoek"),i=t("./any"),o=t("./cast"),r=t("./ref"),c=t("./errors"),a={Alternatives:function(){i.call(this),this._type="alternatives",this._invalids.remove(null),this._inner.matches=[]}};s.inherits(a.Alternatives,i),a.Alternatives.prototype._base=function(t,e,n){for(var i=[],r=0,s=this._inner.matches.length;r<s;++r){var o=this._inner.matches[r],a=o.schema;if(!a)if(!(a=o.is._validate(o.ref(e.parent,n),null,n,e.parent).errors?o.otherwise:o.then))continue;var l=a._validate(t,e,n);if(!l.errors)return l;i=i.concat(l.errors)}return{errors:i.length?i:c.create("alternatives.base",null,e,n)}},a.Alternatives.prototype.try=function(){var t=s.flatten(Array.prototype.slice.call(arguments));s.assert(t.length,"Cannot add other alternatives without at least one schema");for(var e=this.clone(),n=0,i=t.length;n<i;++n){var r=o.schema(t[n]);r._refs.length&&(e._refs=e._refs.concat(r._refs)),e._inner.matches.push({schema:r})}return e},a.Alternatives.prototype.when=function(t,e){s.assert(r.isRef(t)||"string"==typeof t,"Invalid reference:",t),s.assert(e,"Missing options"),s.assert("object"==typeof e,"Invalid options"),s.assert(e.hasOwnProperty("is"),'Missing "is" directive'),s.assert(void 0!==e.then||void 0!==e.otherwise,'options must have at least one of "then" or "otherwise"');var n=this.clone(),i={ref:o.ref(t),is:o.schema(e.is),then:void 0!==e.then?o.schema(e.then):void 0,otherwise:void 0!==e.otherwise?o.schema(e.otherwise):void 0};return r.push(n._refs,i.ref),n._refs=n._refs.concat(i.is._refs),i.then&&i.then._refs&&(n._refs=n._refs.concat(i.then._refs)),i.otherwise&&i.otherwise._refs&&(n._refs=n._refs.concat(i.otherwise._refs)),n._inner.matches.push(i),n},a.Alternatives.prototype.describe=function(){for(var t=[],e=0,n=this._inner.matches.length;e<n;++e){var i=this._inner.matches[e];if(i.schema)t.push(i.schema.describe());else{var r={ref:i.ref.toString(),is:i.is.describe()};i.then&&(r.then=i.then.describe()),i.otherwise&&(r.otherwise=i.otherwise.describe()),t.push(r)}}return t},e.exports=new a.Alternatives},{"./any":2,"./cast":6,"./errors":8,"./ref":14,hoek:16}],2:[function(l,t,e){(function(a){l("path");var h=l("hoek"),u=l("./ref"),d=l("./errors"),s=null,o=null,f={defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{}}};t.exports=f.Any=function(){this.isJoi=!0,this._type="any",this._settings=null,this._valids=new f.Set,this._invalids=new f.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}},f.Any.prototype.isImmutable=!0,f.Any.prototype.clone=function(){var t={};t.__proto__=Object.getPrototypeOf(this),t.isJoi=!0,t._type=this._type,t._settings=f.concatSettings(this._settings),t._valids=h.clone(this._valids),t._invalids=h.clone(this._invalids),t._tests=this._tests.slice(),t._refs=this._refs.slice(),t._flags=h.clone(this._flags),t._description=this._description,t._unit=this._unit,t._notes=this._notes.slice(),t._tags=this._tags.slice(),t._examples=this._examples.slice(),t._meta=this._meta.slice(),t._inner={};for(var e=Object.keys(this._inner),n=0,i=e.length;n<i;++n){var r=e[n];t._inner[r]=this._inner[r]?this._inner[r].slice():null}return t},f.Any.prototype.concat=function(t){h.assert(t&&t.isJoi,"Invalid schema object"),h.assert("any"===t._type||t._type===this._type,"Cannot merge with another type:",t._type);var e=this.clone();e._settings=e._settings?f.concatSettings(e._settings,t._settings):t._settings,e._valids.merge(t._valids,t._invalids),e._invalids.merge(t._invalids,t._valids),e._tests=e._tests.concat(t._tests),e._refs=e._refs.concat(t._refs),h.merge(e._flags,t._flags),e._description=t._description||e._description,e._unit=t._unit||e._unit,e._notes=e._notes.concat(t._notes),e._tags=e._tags.concat(t._tags),e._examples=e._examples.concat(t._examples),e._meta=e._meta.concat(t._meta);for(var n=Object.keys(t._inner),i=0,r=n.length;i<r;++i){var s=n[i];t._inner[s]&&(e._inner[s]=e._inner[s]?e._inner[s].concat(t._inner[s]):t._inner[s].slice())}return e},f.Any.prototype._test=function(t,e,n){h.assert(!this._flags.allowOnly,"Cannot define rules when valid values specified");var i=this.clone();return i._tests.push({func:n,name:t,arg:e}),i},f.Any.prototype.options=function(t){h.assert(!t.context,"Cannot override context");var e=this.clone();return e._settings=f.concatSettings(e._settings,t),e},f.Any.prototype.strict=function(){var t=this.clone();return t._settings=t._settings||{},t._settings.convert=!1,t},f.Any.prototype._allow=function(){for(var t=h.flatten(Array.prototype.slice.call(arguments)),e=0,n=t.length;e<n;++e){var i=t[e];this._invalids.remove(i),this._valids.add(i,this._refs)}},f.Any.prototype.allow=function(){var t=this.clone();return t._allow.apply(t,arguments),t},f.Any.prototype.valid=f.Any.prototype.equal=function(){h.assert(!this._tests.length,"Cannot set valid values when rules specified");var t=this.allow.apply(this,arguments);return t._flags.allowOnly=!0,t},f.Any.prototype.invalid=f.Any.prototype.not=function(t){for(var e=this.clone(),n=h.flatten(Array.prototype.slice.call(arguments)),i=0,r=n.length;i<r;++i){t=n[i];e._valids.remove(t),e._invalids.add(t,this._refs)}return e},f.Any.prototype.required=f.Any.prototype.exist=function(){var t=this.clone();return t._flags.presence="required",t},f.Any.prototype.optional=function(){var t=this.clone();return delete t._flags.presence,t},f.Any.prototype.default=function(t){var e=this.clone();return e._flags.default=t,u.push(e._refs,t),e},f.Any.prototype.forbidden=function(){var t=this.clone();return t._flags.presence="forbidden",t},f.Any.prototype.when=function(t,e){h.assert(e&&"object"==typeof e,"Invalid options"),h.assert(void 0!==e.then||void 0!==e.otherwise,'options must have at least one of "then" or "otherwise"'),o=o||l("./cast");var n=e.then?this.concat(o.schema(e.then)):this,i=e.otherwise?this.concat(o.schema(e.otherwise)):this,r=(s=s||l("./alternatives")).when(t,{is:e.is,then:n,otherwise:i});return r._flags.presence="ignore",r},f.Any.prototype.description=function(t){h.assert(t&&"string"==typeof t,"Description must be a non-empty string");var e=this.clone();return e._description=t,e},f.Any.prototype.notes=function(t){h.assert(t&&("string"==typeof t||Array.isArray(t)),"Notes must be a non-empty string or array");var e=this.clone();return e._notes=e._notes.concat(t),e},f.Any.prototype.tags=function(t){h.assert(t&&("string"==typeof t||Array.isArray(t)),"Tags must be a non-empty string or array");var e=this.clone();return e._tags=e._tags.concat(t),e},f.Any.prototype.meta=function(t){h.assert(void 0!==t,"Meta cannot be undefined");var e=this.clone();return e._meta=e._meta.concat(t),e},f.Any.prototype.example=function(t){h.assert(arguments.length,"Missing example");var e=this._validate(t,null,f.defaults);h.assert(!e.errors,"Bad example:",e.errors&&d.process(e.errors,t));var n=this.clone();return n._examples=n._examples.concat(t),n},f.Any.prototype.unit=function(t){h.assert(t&&"string"==typeof t,"Unit name must be a non-empty string");var e=this.clone();return e._unit=t,e},f.Any.prototype._validate=function(t,e,n,i){var r=this;e=e||{key:"",path:"",parent:null,reference:i},this._settings&&(n=f.concatSettings(n,this._settings));var s=[],o=function(){return{value:void 0!==t?t:u.isRef(r._flags.default)?r._flags.default(e.parent,n):r._flags.default,errors:s.length?s:null}};if(this._flags.presence){if("required"===this._flags.presence&&void 0===t)return s.push(d.create("any.required",null,e,n)),o();if("forbidden"===this._flags.presence)return void 0===t||s.push(d.create("any.unknown",null,e,n)),o()}else if(void 0===t)return o();if(this._valids.has(t,e,n,this._flags.insensitive))return o();if(this._invalids.has(t,e,n,this._flags.insensitive)&&(s.push(d.create(""===t?"any.empty":"any.invalid",null,e,n)),n.abortEarly||void 0===t))return o();if(this._base){var a=this._base.call(this,t,e,n);if(a.errors)return t=a.value,s=s.concat(a.errors),o();if(a.value!==t){if(t=a.value,this._valids.has(t,e,n,this._flags.insensitive))return o();if(this._invalids.has(t,e,n,this._flags.insensitive)&&(s.push(d.create("any.invalid",null,e,n)),n.abortEarly))return o()}}if(this._flags.allowOnly&&(s.push(d.create("any.allowOnly",{valids:this._valids.toString(!1)},e,n)),n.abortEarly))return o();for(var l=0,c=this._tests.length;l<c;++l){var h=this._tests[l].func.call(this,t,e,n);if(h&&(s.push(h),n.abortEarly))return o()}return o()},f.Any.prototype._validateWithOptions=function(t,e,n){var i=f.concatSettings(f.defaults,e),r=this._validate(t,null,i),s=d.process(r.errors,t);return n?n(s,r.value):{error:s,value:r.value}},f.Any.prototype.validate=function(t,e){var n=this._validate(t,null,f.defaults),i=d.process(n.errors,t);return e?e(i,n.value):{error:i,value:n.value}},f.Any.prototype.describe=function(){var t={type:this._type};Object.keys(this._flags).length&&(t.flags=this._flags),this._description&&(t.description=this._description),this._notes.length&&(t.notes=this._notes),this._tags.length&&(t.tags=this._tags),this._meta.length&&(t.meta=this._meta),this._examples.length&&(t.examples=this._examples),this._unit&&(t.unit=this._unit);var e=this._valids.values();e.length&&(t.valids=e);var n=this._invalids.values();n.length&&(t.invalids=n),t.rules=[];for(var i=0,r=this._tests.length;i<r;++i){var s=this._tests[i],o={name:s.name};s.arg&&(o.arg=s.arg),t.rules.push(o)}return t.rules.length||delete t.rules,t},f.Set=function(){this._set=[]},f.Set.prototype.add=function(t,e){h.assert(null==t||t instanceof Date||a.isBuffer(t)||u.isRef(t)||"function"!=typeof t&&"object"!=typeof t,"Value cannot be an object or function"),"function"!=typeof t&&this.has(t,null,null,!1)||(u.push(e,t),this._set.push(t))},f.Set.prototype.merge=function(t,e){for(var n=0,i=t._set.length;n<i;++n)this.add(t._set[n]);for(n=0,i=e._set.length;n<i;++n)this.remove(e._set[n])},f.Set.prototype.remove=function(e){this._set=this._set.filter(function(t){return e!==t})},f.Set.prototype.has=function(t,e,n,i){for(var r=0,s=this._set.length;r<s;++r){var o=this._set[r];if(u.isRef(o)&&(o=o(e.reference||e.parent,n)),typeof t==typeof o&&(t===o||t instanceof Date&&o instanceof Date&&t.getTime()===o.getTime()||i&&"string"==typeof t&&t.toLowerCase()===o.toLowerCase()||a.isBuffer(t)&&a.isBuffer(o)&&t.length===o.length&&t.toString("binary")===o.toString("binary")))return!0}return!1},f.Set.prototype.values=function(){return this._set.slice()},f.Set.prototype.toString=function(t){for(var e="",n=0,i=this._set.length;n<i;++n){var r=this._set[n];(void 0!==r||t)&&(e+=(e?", ":"")+f.stringify(r))}return e},f.stringify=function(t){return void 0===t?"undefined":null===t?"null":"string"==typeof t?t:t.toString()},f.concatSettings=function(t,e){if(!t&&!e)return null;var n={};if(t)for(var i=Object.keys(t),r=0,s=i.length;r<s;++r){n[c=i[r]]=t[c]}if(e)for(var o=Object.keys(e),a=0,l=o.length;a<l;++a){var c;"language"===(c=o[a])&&n.hasOwnProperty(c)?n[c]=h.applyToDefaults(n[c],e[c]):n[c]=e[c]}return n}}).call(this,l("buffer").Buffer)},{"./alternatives":1,"./cast":6,"./errors":8,"./ref":14,buffer:24,hoek:16,path:28}],3:[function(t,e,n){var i=t("./any"),r=t("./cast"),f=t("./errors"),s=t("hoek"),o={Array:function(){i.call(this),this._type="array",this._inner.inclusions=[],this._inner.exclusions=[]}};s.inherits(o.Array,i),o.Array.prototype._base=function(t,e,n){var i={value:t};if("string"==typeof t&&n.convert)try{var r=JSON.parse(t);Array.isArray(r)&&(i.value=r)}catch(t){}if(!Array.isArray(i.value))return i.errors=f.create("array.base",null,e,n),i;if(this._inner.inclusions.length||this._inner.exclusions.length)for(var s=0,o=i.value.length;s<o;++s){for(var a=i.value[s],l=!1,c={key:s,path:(e.path?e.path+".":"")+s,parent:i.value,reference:e.reference},h=0,u=this._inner.exclusions.length;h<u;++h){if(!(d=this._inner.exclusions[h]._validate(a,c,{})).errors)return i.errors=f.create("array.excludes",{pos:s},{key:e.key,path:c.path},n),i}for(h=0,u=this._inner.inclusions.length;h<u;++h){var d;if(!(d=this._inner.inclusions[h]._validate(a,c,n)).errors){i.value[s]=d.value,l=!0;break}if(1===u)return i.errors=f.create("array.includesOne",{pos:s,reason:d.errors},{key:e.key,path:c.path},n),i}if(this._inner.inclusions.length&&!l)return i.errors=f.create("array.includes",{pos:s},{key:e.key,path:c.path},n),i}return i},o.Array.prototype.describe=function(){var t=i.prototype.describe.call(this);if(this._inner.inclusions.length){t.includes=[];for(var e=0,n=this._inner.inclusions.length;e<n;++e)t.includes.push(this._inner.inclusions[e].describe())}if(this._inner.exclusions.length){t.excludes=[];for(e=0,n=this._inner.exclusions.length;e<n;++e)t.excludes.push(this._inner.exclusions[e].describe())}return t},o.Array.prototype.includes=function(){var t=s.flatten(Array.prototype.slice.call(arguments)).map(function(t){return r.schema(t)}),e=this.clone();return e._inner.inclusions=e._inner.inclusions.concat(t),e},o.Array.prototype.excludes=function(){var t=s.flatten(Array.prototype.slice.call(arguments)).map(function(t){return r.schema(t)}),e=this.clone();return e._inner.exclusions=e._inner.exclusions.concat(t),e},o.Array.prototype.min=function(i){return s.assert(s.isInteger(i)&&0<=i,"limit must be a positive integer"),this._test("min",i,function(t,e,n){return t.length>=i?null:f.create("array.min",{limit:i},e,n)})},o.Array.prototype.max=function(i){return s.assert(s.isInteger(i)&&0<=i,"limit must be a positive integer"),this._test("max",i,function(t,e,n){return t.length<=i?null:f.create("array.max",{limit:i},e,n)})},o.Array.prototype.length=function(i){return s.assert(s.isInteger(i)&&0<=i,"limit must be a positive integer"),this._test("length",i,function(t,e,n){return t.length===i?null:f.create("array.length",{limit:i},e,n)})},e.exports=new o.Array},{"./any":2,"./cast":6,"./errors":8,hoek:16}],4:[function(i,r,t){(function(s){var t=i("./any"),o=i("./errors"),n=i("hoek"),e={Binary:function(){t.call(this),this._type="binary"}};n.inherits(e.Binary,t),e.Binary.prototype._base=function(t,e,n){var i={value:t};if("string"==typeof t&&n.convert)try{var r=new s(t,this._flags.encoding);i.value=r}catch(t){}return i.errors=s.isBuffer(i.value)?null:o.create("binary.base",null,e,n),i},e.Binary.prototype.encoding=function(t){n.assert(s.isEncoding(t),"Invalid encoding:",t);var e=this.clone();return e._flags.encoding=t,e},e.Binary.prototype.min=function(i){return n.assert(n.isInteger(i)&&0<=i,"limit must be a positive integer"),this._test("min",i,function(t,e,n){return t.length>=i?null:o.create("binary.min",{limit:i},e,n)})},e.Binary.prototype.max=function(i){return n.assert(n.isInteger(i)&&0<=i,"limit must be a positive integer"),this._test("max",i,function(t,e,n){return t.length<=i?null:o.create("binary.max",{limit:i},e,n)})},e.Binary.prototype.length=function(i){return n.assert(n.isInteger(i)&&0<=i,"limit must be a positive integer"),this._test("length",i,function(t,e,n){return t.length===i?null:o.create("binary.length",{limit:i},e,n)})},r.exports=new e.Binary}).call(this,i("buffer").Buffer)},{"./any":2,"./errors":8,buffer:24,hoek:16}],5:[function(t,e,n){var i=t("./any"),s=t("./errors"),r={Boolean:function(){i.call(this),this._type="boolean"}};t("hoek").inherits(r.Boolean,i),r.Boolean.prototype._base=function(t,e,n){var i={value:t};if("string"==typeof t&&n.convert){var r=t.toLowerCase();i.value="true"===r||"yes"===r||"on"===r||"false"!==r&&"no"!==r&&"off"!==r&&t}return i.errors="boolean"==typeof i.value?null:s.create("boolean.base",null,e,n),i},e.exports=new r.Boolean},{"./any":2,"./errors":8,hoek:16}],6:[function(e,t,n){var i=e("hoek"),r=e("./ref"),s={any:null,date:e("./date"),string:e("./string"),number:e("./number"),boolean:e("./boolean"),alt:null,object:null};n.schema=function(t){return s.any=s.any||new(e("./any")),s.alt=s.alt||e("./alternatives"),s.object=s.object||e("./object"),t&&"object"==typeof t?t.isJoi?t:Array.isArray(t)?s.alt.try(t):t instanceof RegExp?s.string.regex(t):t instanceof Date?s.date.valid(t):s.object.keys(t):"string"==typeof t?s.string.valid(t):"number"==typeof t?s.number.valid(t):"boolean"==typeof t?s.boolean.valid(t):r.isRef(t)?s.any.valid(t):(i.assert(null===t,"Invalid schema content:",t),s.any.valid(null))},n.ref=function(t){return r.isRef(t)?t:r.create(t)}},{"./alternatives":1,"./any":2,"./boolean":5,"./date":7,"./number":12,"./object":13,"./ref":14,"./string":15,hoek:16}],7:[function(t,e,n){var i=t("./any"),r=t("./errors"),s=t("hoek"),o={Date:function(){i.call(this),this._type="date"}};s.inherits(o.Date,i),o.Date.prototype._base=function(t,e,n){var i={value:n.convert&&o.toDate(t)||t};return i.errors=i.value instanceof Date&&!isNaN(i.value.getTime())?null:r.create("date.base",null,e,n),i},o.toDate=function(t){if(t instanceof Date)return t;if("string"==typeof t||s.isInteger(t)){"string"==typeof t&&/^\d+$/.test(t)&&(t=parseInt(t,10));var e=new Date(t);if(!isNaN(e.getTime()))return e}return null},o.Date.prototype.min=function(i){return i=o.toDate(i),s.assert(i,"Invalid date format"),this._test("min",i,function(t,e,n){return t.getTime()>=i.getTime()?null:r.create("date.min",{limit:i},e,n)})},o.Date.prototype.max=function(i){return i=o.toDate(i),s.assert(i,"Invalid date format"),this._test("max",i,function(t,e,n){return t.getTime()<=i.getTime()?null:r.create("date.max",{limit:i},e,n)})},e.exports=new o.Date},{"./any":2,"./errors":8,hoek:16}],8:[function(t,e,n){var v=t("hoek"),i=t("./language"),l={Err:function(t,e,n,i){this.type=t,this.context=e||{},this.context.key=n.key,this.path=n.path,this.options=i}};l.Err.prototype.toString=function(){var s=this,t=this.options.language;this.context.key=this.context.key||t.root||i.errors.root;var e=v.reach(t,this.type)||v.reach(i.errors,this.type);return(e=/\{\{\!?key\}\}/.test(e)?e:"{{!key}} "+e).replace(/\{\{(\!?)([^}]+)\}\}/g,function(t,e,n){var i=v.reach(s.context,n),r=Array.isArray(i)?i.join(", "):i.toString();return e?v.escapeHtml(r):r})},n.create=function(t,e,n,i){return new l.Err(t,e,n,i)},n.process=function(t,e){if(!t||!t.length)return null;for(var n=[],i=0,r=t.length;i<r;++i){var s=t[i];n.push({message:s.toString(),path:s.path||s.context.key,type:s.type})}var o="";n.forEach(function(t){o+=(o?". ":"")+t.message});var a=new Error(o);return a.name="ValidationError",a.details=n,a._object=e,a.annotate=l.annotate,a},l.annotate=function(){for(var t=v.clone(this._object||{}),e={},n=this.details.length,i=n-1;0<=i;--i)for(var r=n-i,s=this.details[i],o=s.path.split("."),a=t,l=0,c=o.length;l<c&&a;++l){var h=o[l];if(l+1<c)a=a[h];else{var u=a[h];if(void 0!==u){delete a[h];var d=h+"_$key$_"+r+"_$end$_";a[d]=u,e[s.path]=d}else if(e[s.path]){var f=e[s.path],p=f.replace("_$end$_",", "+r+"_$end$_");a[p]=a[f],e[s.path]=p,delete a[f]}else a["_$miss$_"+h+"|"+r+"_$end$_"]="__missing__"}}var g=JSON.stringify(t,null,2),m=(g=g.replace(/_\$key\$_([, \d]+)_\$end\$_\"/g,function(t,e){return'" [31m['+e+"][0m"})).replace(/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,function(t,e,n){return'[41m"'+e+'"[0m[31m ['+n+"]: -- missing --[0m"});for(m+="\n[31m",i=0;i<n;++i)m+="\n["+(i+1)+"] "+this.details[i].message;return m+="[0m"}},{"./language":11,hoek:16}],9:[function(t,e,n){var i=t("./any"),r=t("./errors"),s={Function:function(){i.call(this),this._type="func"}};t("hoek").inherits(s.Function,i),s.Function.prototype._base=function(t,e,n){return{value:t,errors:"function"==typeof t?null:r.create("function.base",null,e,n)}},e.exports=new s.Function},{"./any":2,"./errors":8,hoek:16}],10:[function(t,e,n){t("hoek");var r=t("./any"),o=t("./cast"),a=t("./ref"),l={alternatives:t("./alternatives"),array:t("./array"),boolean:t("./boolean"),binary:t("./binary"),date:t("./date"),func:t("./function"),number:t("./number"),object:t("./object"),string:t("./string"),root:function(){var s=new r,i=s.clone();return i.any=function(){return s},i.alternatives=i.alt=function(){return arguments.length?l.alternatives.try.apply(l.alternatives,arguments):l.alternatives},i.array=function(){return l.array},i.boolean=i.bool=function(){return l.boolean},i.binary=function(){return l.binary},i.date=function(){return l.date},i.func=function(){return l.func},i.number=function(){return l.number},i.object=function(){return arguments.length?l.object.keys.apply(l.object,arguments):l.object},i.string=function(){return l.string},i.ref=function(){return a.create.apply(null,arguments)},i.isRef=function(t){return a.isRef(t)},i.validate=function(t){var e=arguments[arguments.length-1],n="function"==typeof e?e:null,i=arguments.length-(n?1:0);if(1===i)return s.validate(t,n);var r=3===i?arguments[2]:{};return o.schema(arguments[1])._validateWithOptions(t,r,n)},i.describe=function(){return(arguments.length?o.schema(arguments[0]):s).describe()},i.compile=function(t){return o.schema(t)},i.assert=function(t,e){var n=i.validate(t,e).error;if(n)throw new Error(n.annotate())},i}};e.exports=l.root()},{"./alternatives":1,"./any":2,"./array":3,"./binary":4,"./boolean":5,"./cast":6,"./date":7,"./function":9,"./number":12,"./object":13,"./ref":14,"./string":15,hoek:16}],11:[function(t,e,n){n.errors={root:"value",any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}"},alternatives:{base:"not matching any of the allowed alternatives"},array:{base:"must be an array",includes:"position {{pos}} does not match any of the allowed types",includesOne:"position {{pos}} fails because {{reason}}",excludes:"position {{pos}} contains an excluded value",min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}"},function:{base:"must be a Function"},object:{base:"must be an object",min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:"is not allowed",with:"missing required peer {{peer}}",without:"conflict with forbidden peer {{peer}}",missing:"must contain at least one of {{peers}}",xor:"contains a conflict between exclusive peers {{peers}}",or:"must contain at least one of {{peers}}",and:"contains {{present}} without its required peers {{missing}}",assert:"validation failed because {{ref}} failed to {{message}}",rename:{multiple:"cannot rename child {{from}} because multiple renames are disabled and another key was already renamed to {{to}}",override:"cannot rename child {{from}} because override is disabled and target {{to}} exists"}},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:"fails to match the required pattern",email:"must be a valid email",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hostname:"must be a valid hostname",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace"}}},{}],12:[function(t,e,n){var i=t("./any"),s=t("./errors"),r=t("hoek"),o={Number:function(){i.call(this),this._type="number"}};r.inherits(o.Number,i),o.Number.prototype._base=function(t,e,n){var i={errors:null,value:t};if("string"==typeof t&&n.convert){var r=parseFloat(t);i.value=isNaN(r)||!isFinite(t)?NaN:r}return i.errors="number"!=typeof i.value||isNaN(i.value)?s.create("number.base",null,e,n):null,i},o.Number.prototype.min=function(i){return r.assert(r.isInteger(i),"limit must be an integer"),this._test("min",i,function(t,e,n){return i<=t?null:s.create("number.min",{limit:i},e,n)})},o.Number.prototype.max=function(i){return r.assert(r.isInteger(i),"limit must be an integer"),this._test("max",i,function(t,e,n){return t<=i?null:s.create("number.max",{limit:i},e,n)})},o.Number.prototype.integer=function(){return this._test("integer",void 0,function(t,e,n){return r.isInteger(t)?null:s.create("number.integer",null,e,n)})},o.Number.prototype.negative=function(){return this._test("negative",void 0,function(t,e,n){return t<0?null:s.create("number.negative",null,e,n)})},o.Number.prototype.positive=function(){return this._test("positive",void 0,function(t,e,n){return 0<t?null:s.create("number.positive",null,e,n)})},e.exports=new o.Number},{"./any":2,"./errors":8,hoek:16}],13:[function(t,e,n){var L=t("hoek"),u=t("topo"),s=t("./any"),d=t("./cast"),B=(t("./ref"),t("./errors")),$={Object:function(){s.call(this),this._type="object",this._inner.children=null,this._inner.renames=[],this._inner.dependencies=[],this._inner.patterns=[]}};L.inherits($.Object,s),$.Object.prototype._base=function(t,e,n){var i=t,r=[],s=function(){return{value:i,errors:r.length?r:null}};if("string"==typeof t&&n.convert)try{t=JSON.parse(t)}catch(m){}if(!t||"object"!=typeof t||Array.isArray(t))return r.push(B.create("object.base",null,e,n)),s();if(i===t){(i={}).__proto__=Object.getPrototypeOf(t);for(var o=Object.keys(t),a=0,l=o.length;a<l;++a)i[o[a]]=t[o[a]]}else i=t;for(var c={},h=0,u=this._inner.renames.length;h<u;++h){var d=this._inner.renames[h];if(void 0!==i[d.from]){if(!d.options.multiple&&c[d.to]&&(r.push(B.create("object.rename.multiple",{from:d.from,to:d.to},e,n)),n.abortEarly))return s();if(i.hasOwnProperty(d.to)&&!d.options.override&&!c[d.to]&&(r.push(B.create("object.rename.override",{from:d.from,to:d.to},e,n)),n.abortEarly))return s();i[d.to]=i[d.from],c[d.to]=!0,d.options.alias||delete i[d.from]}}for(var f=0,p=this._inner.dependencies.length;f<p;++f){var g=this._inner.dependencies[f],m=$[g.type](null!==g.key&&t[g.key],g.peers,i,{key:g.key,path:(e.path?e.path+".":"")+g.key},n);if(m&&(r.push(m),n.abortEarly))return s()}if(!this._inner.children&&!this._inner.patterns.length)return s();var v=L.mapToObject(Object.keys(i));if(this._inner.children)for(var y=0,b=this._inner.children.length;y<b;++y){var _=this._inner.children[y],w=_.key;d=i[w];delete v[w];var x={key:w,path:(e.path?e.path+".":"")+w,parent:i,reference:e.reference};if((S=_.schema._validate(d,x,n)).errors&&(r=r.concat(S.errors),n.abortEarly))return s();void 0!==S.value&&(i[w]=S.value)}var A=Object.keys(v);if(A.length&&this._inner.patterns.length){for(y=0,b=A.length;y<b;++y){w=A[y];for(var C=0,E=this._inner.patterns.length;C<E;++C){var k=this._inner.patterns[C];if(k.regex.test(w)){delete v[w];var S;d=i[w],x={key:w,path:(e.path?e.path+".":"")+w,parent:i,reference:e.reference};if((S=k.rule._validate(d,x,n)).errors&&(r=r.concat(S.errors),n.abortEarly))return s();void 0!==S.value&&(i[w]=S.value)}}}A=Object.keys(v)}if(A.length){if(n.stripUnknown||n.skipFunctions){for(var F=!1,T=0,D=A.length;T<D;++T)w=A[T],n.stripUnknown?delete i[w]:"function"==typeof i[w]&&(delete v[w],F=!0);if(n.stripUnknown)return s();F&&(A=Object.keys(v))}if(A.length&&(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!n.allowUnknown))for(var M=0,P=A.length;M<P;++M)r.push(B.create("object.allowUnknown",null,{key:A[M],path:e.path},n))}return s()},$.Object.prototype.keys=function(t){L.assert(null==t||"object"==typeof t,"Object schema must be a valid object"),L.assert(!t||!t.isJoi,"Object schema cannot be a joi schema");var e=this.clone();if(!t)return e._inner.children=null,e;var n=Object.keys(t);if(!n.length)return e._inner.children=[],e;var i=new u;if(e._inner.children)for(var r=0,s=e._inner.children.length;r<s;++r){var o=e._inner.children[r];i.add(o,{after:o._refs,group:o.key})}for(var a=0,l=n.length;a<l;++a){var c=n[a],h=(o=t[c],d.schema(o));i.add({key:c,schema:h},{after:h._refs,group:c})}return e._inner.children=i.nodes,e},$.Object.prototype.unknown=function(t){var e=this.clone();return e._flags.allowUnknown=!1!==t,e},$.Object.prototype.length=function(i){return L.assert(L.isInteger(i)&&0<=i,"limit must be a positive integer"),this._test("length",i,function(t,e,n){return Object.keys(t).length===i?null:B.create("object.length",{limit:i},e,n)})},$.Object.prototype.min=function(i){return L.assert(L.isInteger(i)&&0<=i,"limit must be a positive integer"),this._test("min",i,function(t,e,n){return Object.keys(t).length>=i?null:B.create("object.min",{limit:i},e,n)})},$.Object.prototype.max=function(i){return L.assert(L.isInteger(i)&&0<=i,"limit must be a positive integer"),this._test("max",i,function(t,e,n){return Object.keys(t).length<=i?null:B.create("object.max",{limit:i},e,n)})},$.Object.prototype.pattern=function(t,e){L.assert(t instanceof RegExp,"Invalid regular expression"),L.assert(void 0!==e,"Invalid rule");var n=this.clone();return n._inner.patterns.push({regex:t,rule:d.schema(e)}),n},$.Object.prototype.with=function(t,e){return this._dependency("with",t,e)},$.Object.prototype.without=function(t,e){return this._dependency("without",t,e)},$.Object.prototype.xor=function(){var t=L.flatten(Array.prototype.slice.call(arguments));return this._dependency("xor",null,t)},$.Object.prototype.or=function(){var t=L.flatten(Array.prototype.slice.call(arguments));return this._dependency("or",null,t)},$.Object.prototype.and=function(){var t=L.flatten(Array.prototype.slice.call(arguments));return this._dependency("and",null,t)},$.renameDefaults={alias:!1,multiple:!1,override:!1},$.Object.prototype.rename=function(t,e,n){L.assert("string"==typeof t,"Rename missing the from argument"),L.assert("string"==typeof e,"Rename missing the to argument"),L.assert(e!==t,"Cannot rename key to same name:",t);for(var i=0,r=this._inner.renames.length;i<r;++i)L.assert(this._inner.renames[i].from!==t,"Cannot rename the same key multiple times");var s=this.clone();return s._inner.renames.push({from:t,to:e,options:L.applyToDefaults($.renameDefaults,n||{})}),s},$.Object.prototype._dependency=function(t,e,n){for(var i=0,r=(n=[].concat(n)).length;i<r;i++)L.assert("string"==typeof n[i],t,"peers must be a string or array of strings");var s=this.clone();return s._inner.dependencies.push({type:t,key:e,peers:n}),s},$.with=function(t,e,n,i,r){if(void 0===t)return null;for(var s=0,o=e.length;s<o;++s){var a=e[s];if(!n.hasOwnProperty(a)||void 0===n[a])return B.create("object.with",{peer:a},i,r)}return null},$.without=function(t,e,n,i,r){if(void 0===t)return null;for(var s=0,o=e.length;s<o;++s){var a=e[s];if(n.hasOwnProperty(a)&&void 0!==n[a])return B.create("object.without",{peer:a},i,r)}return null},$.xor=function(t,e,n,i,r){for(var s=[],o=0,a=e.length;o<a;++o){var l=e[o];n.hasOwnProperty(l)&&void 0!==n[l]&&s.push(l)}return 1===s.length?null:0===s.length?B.create("object.missing",{peers:e},i,r):B.create("object.xor",{peers:e},i,r)},$.or=function(t,e,n,i,r){for(var s=0,o=e.length;s<o;++s){var a=e[s];if(n.hasOwnProperty(a)&&void 0!==n[a])return null}return B.create("object.missing",{peers:e},i,r)},$.and=function(t,e,n,i,r){for(var s=[],o=[],a=e.length,l=0;l<a;++l){var c=e[l];n.hasOwnProperty(c)&&void 0!==n[c]?o.push(c):s.push(c)}return s.length===a||o.length===a?null:B.create("object.and",{present:o,missing:s},i,r)},$.Object.prototype.describe=function(t){var e=s.prototype.describe.call(this);if(this._inner.children&&!t){e.children={};for(var n=0,i=this._inner.children.length;n<i;++n){var r=this._inner.children[n];e.children[r.key]=r.schema.describe()}}return this._inner.dependencies.length&&(e.dependencies=L.clone(this._inner.dependencies)),e},$.Object.prototype.assert=function(i,t,r){i=d.ref(i),L.assert(i.isContext||1<i.depth,"Cannot use assertions for root level references - use direct key rules instead");var s=d.schema(t);return this._test("assert",{cast:s,ref:i},function(t,e,n){return s._validate(i(t),null,n,t).errors?B.create("object.assert",{ref:i.path.join("."),message:r},e,n):null})},e.exports=new $.Object},{"./any":2,"./cast":6,"./errors":8,"./ref":14,hoek:16,topo:21}],14:[function(t,e,n){var r=t("hoek");n.create=function(t,e){r.assert("string"==typeof t,"Invalid reference key:",t);var n=r.clone(e),i=function(t,e){return r.reach(i.isContext?e.context:t,i.key,n)};return i.isContext=t[0]===(n&&n.contextPrefix||"$"),i.key=i.isContext?t.slice(1):t,i.path=i.key.split(n&&n.separator||"."),i.depth=i.path.length,i.root=i.path[0],i.isJoi=!0,i.toString=function(){return(i.isContext?"context:":"ref:")+i.key},i},n.isRef=function(t){return"function"==typeof t&&t.isJoi},n.push=function(t,e){n.isRef(e)&&!e.isContext&&t.push(e.root)}},{hoek:16}],15:[function(s,l,t){(function(o){var r=s("net"),t=s("hoek"),i=s("isemail"),e=s("./any"),a=s("./errors"),n={String:function(){e.call(this),this._type="string",this._invalids.add("")}};t.inherits(n.String,e),n.String.prototype._base=function(t,e,n){return"string"==typeof t&&n.convert&&(this._flags.case&&(t="upper"===this._flags.case?t.toLocaleUpperCase():t.toLocaleLowerCase()),this._flags.trim&&(t=t.trim())),{value:t,errors:"string"==typeof t?null:a.create("string.base",null,e,n)}},n.String.prototype.insensitive=function(){var t=this.clone();return t._flags.insensitive=!0,t},n.String.prototype.min=function(r,s){return t.assert(t.isInteger(r)&&0<=r,"limit must be a positive integer"),t.assert(!s||o.isEncoding(s),"Invalid encoding:",s),this._test("min",r,function(t,e,n){var i=s?o.byteLength(t,s):t.length;return r<=i?null:a.create("string.min",{limit:r},e,n)})},n.String.prototype.max=function(i,r){return t.assert(t.isInteger(i)&&0<=i,"limit must be a positive integer"),t.assert(!r||o.isEncoding(r),"Invalid encoding:",r),this._test("max",i,function(t,e,n){return(r?o.byteLength(t,r):t.length)<=i?null:a.create("string.max",{limit:i},e,n)})},n.String.prototype.length=function(i,r){return t.assert(t.isInteger(i)&&0<=i,"limit must be a positive integer"),t.assert(!r||o.isEncoding(r),"Invalid encoding:",r),this._test("length",i,function(t,e,n){return(r?o.byteLength(t,r):t.length)===i?null:a.create("string.length",{limit:i},e,n)})},n.String.prototype.regex=function(i){return t.assert(i instanceof RegExp,"pattern must be a RegExp"),this._test("regex",i,function(t,e,n){return i.test(t)?null:a.create("string.regex",null,e,n)})},n.String.prototype.alphanum=function(){return this._test("alphanum",void 0,function(t,e,n){return/^[a-zA-Z0-9]+$/.test(t)?null:a.create("string.alphanum",null,e,n)})},n.String.prototype.token=function(){return this._test("token",void 0,function(t,e,n){return/^\w+$/.test(t)?null:a.create("string.token",null,e,n)})},n.String.prototype.email=function(){return this._test("email",void 0,function(t,e,n){return i(t)?null:a.create("string.email",null,e,n)})},n.String.prototype.isoDate=function(){var i=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/;return this._test("isoDate",void 0,function(t,e,n){return i.test(t)?null:a.create("string.isoDate",null,e,n)})},n.String.prototype.guid=function(){var i=/^[A-F0-9]{8}(?:-?[A-F0-9]{4}){3}-?[A-F0-9]{12}$/i,r=/^\{[A-F0-9]{8}(?:-?[A-F0-9]{4}){3}-?[A-F0-9]{12}\}$/i;return this._test("guid",void 0,function(t,e,n){return i.test(t)||r.test(t)?null:a.create("string.guid",null,e,n)})},n.String.prototype.hostname=function(){var i=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,function(t,e,n){return t.length<=255&&i.test(t)||r.isIPv6(t)?null:a.create("string.hostname",null,e,n)})},n.String.prototype.lowercase=function(){var t=this._test("lowercase",void 0,function(t,e,n){return n.convert||t===t.toLocaleLowerCase()?null:a.create("string.lowercase",null,e,n)});return t._flags.case="lower",t},n.String.prototype.uppercase=function(t){var e=this._test("uppercase",void 0,function(t,e,n){return n.convert||t===t.toLocaleUpperCase()?null:a.create("string.uppercase",null,e,n)});return e._flags.case="upper",e},n.String.prototype.trim=function(){var t=this._test("trim",void 0,function(t,e,n){return n.convert||t===t.trim()?null:a.create("string.trim",null,e,n)});return t._flags.trim=!0,t},l.exports=new n.String}).call(this,s("buffer").Buffer)},{"./any":2,"./errors":8,buffer:24,hoek:16,isemail:19,net:23}],16:[function(t,e,n){e.exports=t("./lib")},{"./lib":18}],17:[function(t,e,n){(function(i){var s={};n.escapeJavaScript=function(t){if(!t)return"";for(var e="",n=0,i=t.length;n<i;++n){var r=t.charCodeAt(n);s.isSafe(r)?e+=t[n]:e+=s.escapeJavaScriptChar(r)}return e},n.escapeHtml=function(t){if(!t)return"";for(var e="",n=0,i=t.length;n<i;++n){var r=t.charCodeAt(n);s.isSafe(r)?e+=t[n]:e+=s.escapeHtmlChar(r)}return e},s.escapeJavaScriptChar=function(t){if(256<=t)return"\\u"+s.padLeft(""+t,4);var e=new i(String.fromCharCode(t),"ascii").toString("hex");return"\\x"+s.padLeft(e,2)},s.escapeHtmlChar=function(t){var e=s.namedHtml[t];if(void 0!==e)return e;if(256<=t)return"&#"+t+";";var n=new i(String.fromCharCode(t),"ascii").toString("hex");return"&#x"+s.padLeft(n,2)+";"},s.padLeft=function(t,e){for(;t.length<e;)t="0"+t;return t},s.isSafe=function(t){return void 0!==s.safeCharCodes[t]},s.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},s.safeCharCodes=function(){for(var t={},e=32;e<123;++e)(97<=e||65<=e&&e<=90||48<=e&&e<=57||32===e||46===e||44===e||45===e||58===e||95===e)&&(t[e]=null);return t}()}).call(this,t("buffer").Buffer)},{buffer:24}],18:[function(s,t,d){(function(i,u){var n=s("path"),t=s("util"),e=s("./escape"),r={};d.clone=function(t,e){if("object"!=typeof t||null===t)return t;var n,i=(e=e||{orig:[],copy:[]}).orig.indexOf(t);if(-1!==i)return e.copy[i];var r=!1;if(Array.isArray(t))n=[],r=!0;else if(u.isBuffer(t))n=new u(t);else if(t instanceof Date)n=new Date(t.getTime());else if(t instanceof RegExp)n=new RegExp(t);else{var s=Object.getPrototypeOf(t);!s||s.isImmutable?n=t:((n={}).__proto__=s,r=!0)}if(e.orig.push(t),e.copy.push(n),r)for(var o in t)t.hasOwnProperty(o)&&(n[o]=d.clone(t[o],e));return n},d.merge=function(t,e,n,i){if(d.assert(t&&"object"==typeof t,"Invalid target value: must be an object"),d.assert(null==e||"object"==typeof e,"Invalid source value: must be null, undefined, or an object"),!e)return t;if(Array.isArray(e)){d.assert(Array.isArray(t),"Cannot merge array onto an object"),!1===i&&(t.length=0);for(var r=0,s=e.length;r<s;++r)t.push(d.clone(e[r]));return t}for(var o=Object.keys(e),a=0,l=o.length;a<l;++a){var c=o[a],h=e[c];h&&"object"==typeof h?!t[c]||"object"!=typeof t[c]||Array.isArray(t[c])^Array.isArray(h)||h instanceof Date||u.isBuffer(h)||h instanceof RegExp?t[c]=d.clone(h):d.merge(t[c],h,n,i):null!=h?t[c]=h:!1!==n&&(t[c]=h)}return t},d.applyToDefaults=function(t,e){if(d.assert(t&&"object"==typeof t,"Invalid defaults value: must be an object"),d.assert(!e||!0===e||"object"==typeof e,"Invalid options value: must be true, falsy or an object"),!e)return null;var n=d.clone(t);return!0===e?n:d.merge(n,e,!1,!1)},d.cloneWithShallow=function(t,e){return t&&"object"==typeof t?r.shallow(t,e,function(){return d.clone(t)}):t},d.applyToDefaultsWithShallow=function(t,e,n){return r.shallow(e,n,function(){return d.applyToDefaults(t,e)})},r.shallow=function(t,e,n){for(var i={},r=0,s=e.length;r<s;++r){var o=e[r];t.hasOwnProperty(o)&&(i[o]=t[o],t[o]=void 0)}var a=n();for(r=0;r<s;++r){o=e[r];i.hasOwnProperty(o)&&(t[o]=i[o],a[o]=i[o])}return a},d.unique=function(t,e){for(var n={},i=[],r=0,s=t.length;r<s;++r){var o=e?t[r][e]:t[r];!0!==n[o]&&(i.push(t[r]),n[o]=!0)}return i},d.mapToObject=function(t,e){if(!t)return null;for(var n={},i=0,r=t.length;i<r;++i)e?t[i][e]&&(n[t[i][e]]=!0):n[t[i]]=!0;return n},d.intersect=function(t,e,n){if(!t||!e)return[];for(var i=[],r=Array.isArray(t)?d.mapToObject(t):t,s={},o=0,a=e.length;o<a;++o)if(r[e[o]]&&!s[e[o]]){if(n)return e[o];i.push(e[o]),s[e[o]]=!0}return n?null:i},d.flatten=function(t,e){for(var n=e||[],i=0,r=t.length;i<r;++i)Array.isArray(t[i])?d.flatten(t[i],n):n.push(t[i]);return n},d.reach=function(t,e,n){"string"==typeof(n=n||{})&&(n={separator:n});for(var i=e.split(n.separator||"."),r=t,s=0,o=i.length;s<o;++s){if(!r||!r.hasOwnProperty(i[s])||"object"!=typeof r&&!1===n.functions){d.assert(!n.strict||s+1===o,"Missing segment",i[s],"in reach path ",e),d.assert("object"==typeof r||!0===n.functions||"function"!=typeof r,"Invalid segment",i[s],"in reach path ",e),r=n.default||void 0;break}r=r[i[s]]}return r},d.formatStack=function(t){for(var e=[],n=0,i=t.length;n<i;++n){var r=t[n];e.push([r.getFileName(),r.getLineNumber(),r.getColumnNumber(),r.getFunctionName(),r.isConstructor()])}return e},d.formatTrace=function(t){for(var e=[],n=0,i=t.length;n<i;++n){var r=t[n];e.push((r[4]?"new ":"")+r[3]+" ("+r[0]+":"+r[1]+":"+r[2]+")")}return e},d.callStack=function(t){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(t,e){return e};var n={};Error.captureStackTrace(n,arguments.callee);var i=n.stack;Error.prepareStackTrace=e;var r=d.formatStack(i);return t?r.slice(t):r},d.displayStack=function(t){var e=d.callStack(void 0===t?1:t+1);return d.formatTrace(e)},d.abortThrow=!1,d.abort=function(t,e){if("test"===i.env.NODE_ENV||!0===d.abortThrow)throw new Error(t||"Unknown error");var n="";e||(n=d.displayStack(1).join("\n\t")),console.log("ABORT: "+t+"\n\t"+n),i.exit(1)},d.assert=function(t){if(!t){for(var e=[],n=1,i=arguments.length;n<i;++n)e.push(arguments[n]);throw e=e.map(function(t){return"string"==typeof t?t:t instanceof Error?t.message:JSON.stringify(t)}),new Error(e.join(" ")||"Unknown error")}},d.Timer=function(){this.ts=0,this.reset()},d.Timer.prototype.reset=function(){this.ts=Date.now()},d.Timer.prototype.elapsed=function(){return Date.now()-this.ts},d.Bench=function(){this.ts=0,this.reset()},d.Bench.prototype.reset=function(){this.ts=d.Bench.now()},d.Bench.prototype.elapsed=function(){return d.Bench.now()-this.ts},d.Bench.now=function(){var t=i.hrtime();return 1e3*t[0]+t[1]/1e6},d.escapeRegex=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},d.base64urlEncode=function(t,e){return(u.isBuffer(t)?t:new u(t,e||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},d.base64urlDecode=function(t,e){if(t&&!/^[\w\-]*$/.test(t))return new Error("Invalid character");try{var n=new u(t,"base64");return"buffer"===e?n:n.toString(e||"binary")}catch(t){return t}},d.escapeHeaderAttribute=function(t){return d.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(t),"Bad attribute value ("+t+")"),t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},d.escapeHtml=function(t){return e.escapeHtml(t)},d.escapeJavaScript=function(t){return e.escapeJavaScript(t)},d.nextTick=function(e){return function(){var t=arguments;i.nextTick(function(){e.apply(null,t)})}},d.once=function(t){if(t._hoekOnce)return t;var e=!1,n=function(){e||(e=!0,t.apply(null,arguments))};return n._hoekOnce=!0,n},d.isAbsolutePath=function(t,e){return!!t&&(n.isAbsolute?n.isAbsolute(t):"win32"!==(e=e||i.platform)?"/"===t[0]:!!/^(?:[a-zA-Z]:[\\\/])|(?:[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/])/.test(t))},d.isInteger=function(t){return"number"==typeof t&&parseFloat(t)===parseInt(t,10)&&!isNaN(t)},d.ignore=function(){},d.inherits=t.inherits,d.transform=function(t,e,n){d.assert(null==t||"object"==typeof t,"Invalid source object: must be null, undefined, or an object");for(var i={},r=Object.keys(e),s=0,o=r.length;s<o;++s){var a,l=r[s],c=l.split("."),h=e[l];d.assert("string"==typeof h,'All mappings must be "." delineated strings');for(var u=i;1<c.length;)u[a=c.shift()]||(u[a]={}),u=u[a];u[a=c.shift()]=d.reach(t,h,n)}return i}}).call(this,s("_process"),s("buffer").Buffer)},{"./escape":17,_process:29,buffer:24,path:28,util:31}],19:[function(t,e,n){e.exports=t("./lib/isemail")},{"./lib/isemail":20}],20:[function(L,e,t){(function(k){var S,F,T=void 0!==L,D='()<>[]:;@\\,."',M=/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,t=/^[a-fA-F\d]{0,4}$/;function P(t){for(var e=-1/0,n=0,i=t.length;n<i;n++)t[n]>e&&(e=t[n]);return e}window.hasOwnProperty("TEST_BUILD")||(F=t.test.bind(t)),e.exports=function(t,e,r){var s,o;"function"==typeof e&&(r=e,e={}),e||(e={}),"number"==typeof e.errorLevel?(o=!0,s=e.errorLevel):(o=!!e.errorLevel,s=0);var a=[0],n={now:0,prev:0,stack:[0]},i="",l="",c=0,h={},u={};h[0]="",h[1]="",u[0]=[""],u[1]=[""];for(var d=0,f=0,p=!1,g=!1,m=0,v=0;v<t.length;v++){switch(i=t[v],n.now){case 0:switch(i){case"(":0===f?a.push(0===d?17:37):(a.push(17),g=!0),n.stack.push(n.now),n.now=3;break;case".":0===f?a.push(0===d?141:132):(g&&a.push(33),g=!1,d++,h[f=0]+=i,u[0][d]="");break;case'"':0===f?(a.push(0===d?11:33),h[0]+=i,u[0][d]+=i,f++,g=!0,n.stack.push(n.now),n.now=5):a.push(137);break;case"\r":case" ":case"\t":if("\r"===i&&(++v===t.length||"\n"!==t[v])){a.push(150);break}0===f?a.push(0===d?18:34):g=!0,n.stack.push(n.now),n.now=4,l=i;break;case"@":if(1!==n.stack.length)throw new Error("unexpected item on context stack");0===h[0].length?a.push(130):0===f?a.push(142):64<h[0].length?a.push(67):3!==n.prev&&4!==n.prev||a.push(49),n.now=1,n.stack=[1],f=d=0,g=!1;break;default:if(g)switch(n.prev){case 3:case 4:a.push(133);break;case 5:a.push(134);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+n.prev)}else n.prev=n.now,((c=i.charCodeAt(0))<33||126<c||10===c||~D.indexOf(i))&&a.push(137),h[0]+=i,u[0][d]+=i,f++}break;case 1:switch(i){case"(":0===f?a.push(0===d?49:37):(a.push(17),g=!0),n.stack.push(n.now),n.now=3;break;case".":0===f?a.push(0===d?141:132):p?a.push(144):63<f&&a.push(69),g=!1,f=0,d++,u[1][d]="",h[1]+=i;break;case"[":0===h[1].length?(g=!0,f++,n.stack.push(n.now),n.now=2,h[1]+=i,u[1][d]+=i,h[2]=""):a.push(137);break;case"\r":case" ":case"\t":if("\r"===i&&(++v===t.length||"\n"!==t[v])){a.push(150);break}0===f?a.push(0===d?49:34):(a.push(18),g=!0),n.stack.push(n.now),n.now=4,l=i;break;default:if(g)switch(n.prev){case 3:case 4:a.push(133);break;case 2:a.push(135);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+n.prev)}p=!1,(c=i.charCodeAt(0))<33||126<c||~D.indexOf(i)?a.push(137):"-"===i?(0===f&&a.push(143),p=!0):47<c&&c<58||64<c&&c<91||96<c&&c<123||a.push(65),h[1]+=i,u[1][d]+=i,f++}break;case 2:switch(i){case"]":if(P(a)<63){var y,b=8,_=!1,w=h[2];if((y=M.exec(w))&&0!==(_=y.index)&&(w=w.substr(0,y.index)+"0:0"),0===_)a.push(12);else if("ipv6:"!==w.slice(0,5).toLowerCase())a.push(70);else{var x=w.substr(5);y=x.split(":"),~(_=x.indexOf("::"))?_!==x.lastIndexOf("::")?a.push(73):(0!==_&&_!==x.length-2||b++,y.length>b?a.push(75):y.length===b&&a.push(13)):y.length!==b&&a.push(72),":"===x[0]&&":"!==x[1]?a.push(76):":"===x[x.length-1]&&":"!==x[x.length-2]?a.push(77):y.every(F)?a.push(12):a.push(74)}}else a.push(70);h[1]+=i,u[1][d]+=i,f++,n.prev=n.now,n.now=n.stack.pop();break;case"\\":a.push(71),n.stack.push(n.now),n.now=6;break;case"\r":case" ":case"\t":if("\r"===i&&(++v===t.length||"\n"!==t[v])){a.push(150);break}a.push(18),n.stack.push(n.now),n.now=4,l=i;break;default:if(127<(c=i.charCodeAt(0))||0===c||"["===i){a.push(129);break}(c<33||127===c)&&a.push(71),h[2]+=i,h[1]+=i,u[1][d]+=i,f++}break;case 5:switch(i){case"\\":n.stack.push(n.now),n.now=6;break;case"\r":case"\t":if("\r"===i&&(++v===t.length||"\n"!==t[v])){a.push(150);break}h[0]+=" ",u[0][d]+=" ",f++,a.push(18),n.stack.push(n.now),n.now=4,l=i;break;case'"':h[0]+=i,u[0][d]+=i,f++,n.prev=n.now,n.now=n.stack.pop();break;default:127<(c=i.charCodeAt(0))||0===c||10===c?a.push(138):(c<32||127===c)&&a.push(35),h[0]+=i,u[0][d]+=i,f++}break;case 6:switch(127<(c=i.charCodeAt(0))?a.push(136):(c<31&&9!==c||127===c)&&a.push(36),n.prev=n.now,n.now=n.stack.pop(),i="\\"+i,n.now){case 3:break;case 5:h[0]+=i,u[0][d]+=i,f+=2;break;case 2:h[1]+=i,u[1][d]+=i,f+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+n.now)}break;case 3:switch(i){case"(":n.stack.push(n.now),n.now=3;break;case")":n.prev=n.now,n.now=n.stack.pop();break;case"\\":n.stack.push(n.now),n.now=6;break;case"\r":case" ":case"\t":if("\r"===i&&(++v===t.length||"\n"!==t[v])){a.push(150);break}a.push(18),n.stack.push(n.now),n.now=4,l=i;break;default:if(127<(c=i.charCodeAt(0))||0===c||10===c){a.push(139);break}(c<32||127===c)&&a.push(38)}break;case 4:if("\r"===l){if("\r"===i){a.push(148);break}1<++m?a.push(34):m=1}switch(i){case"\r":++v!==t.length&&"\n"===t[v]||a.push(150);break;case" ":case"\t":break;default:"\r"===l&&a.push(149),m=0,n.prev=n.now,n.now=n.stack.pop(),v--}l=i;break;default:throw new Error("unknown context: "+n.now)}if(127<P(a))break}P(a)<127&&(5===n.now?a.push(145):6===n.now?a.push(140):3===n.now?a.push(146):2===n.now?a.push(147):"\r"===i?a.push(149):0===h[1].length?a.push(131):0===f?a.push(142):p?a.push(144):255<h[1].length?a.push(68):254<h[0].length+h[1].length+1?a.push(66):63<f&&a.push(69));var A=!1;if(e.checkDNS&&P(a)<7&&T){S||(S=L("dns")),0===d&&(h[1]+=".");var C=h[1];S.resolveMx(C,function(t,e){if(t&&t.code!==S.NODATA||!t&&!e)return a.push(6),E();if(e&&e.length)return A=!0,E();var n=!1,i=3;function r(t,e){if(!n){if(i--,!t&&e&&e.length)return n=!0,E();0===i&&(a.push(6),n=!0,E())}}a.push(5),S.resolveCname(C,r),S.resolve4(C,r),S.resolve6(C,r)})}else{if(!e.checkDNS)return E();k.nextTick(E)}function E(){if(!A&&P(a)<7)if(0===d)a.push(9);else{var t=u[1][d].charCodeAt(0);48<=t&&t<=57&&a.push(10)}for(var e={},n=0;n<a.length;)e[a[n]]?a.splice(n,1):(e[a[n]]=!0,n++);var i=P(a);return 1!==a.length&&a.shift(),i<s&&(i=0),i=o?i:i<16,r&&r(i),i}}}).call(this,L("_process"))},{_process:29,dns:23}],21:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{"./lib":22}],22:[function(t,e,n){var a=t("hoek"),i={};e.exports=i.Topo=function(){this._items=[],this.nodes=[]},i.Topo.prototype.add=function(t,e){var i=this,r=[].concat((e=e||{}).before||[]),s=[].concat(e.after||[]),o=e.group||"?";a.assert(-1===r.indexOf(o),"Item cannot come before itself:",o),a.assert(-1===r.indexOf("?"),"Item cannot come before unassociated items"),a.assert(-1===s.indexOf(o),"Item cannot come after itself:",o),a.assert(-1===s.indexOf("?"),"Item cannot come after unassociated items"),[].concat(t).forEach(function(t,e){var n={seq:i._items.length,before:r,after:s,group:o,node:t};i._items.push(n)});var n=this._sort();return a.assert(!n,"item","?"!==o?"added into group "+o:"","created a dependencies error"),this.nodes},i.Topo.prototype._sort=function(){for(var t={},e={},n={},i=0,r=this._items.length;i<r;++i){var s=this._items[i],o=s.seq;t[g=s.group]=t[g]||[],t[g].push(o),e[o]=[s.before];for(var a=s.after,l=0,c=a.length;l<c;++l)n[a[l]]=(n[a[l]]||[]).concat(o)}var h=Object.keys(e);for(i=0,r=h.length;i<r;++i){var u=h[i],d=[],f=Object.keys(e[u]);for(l=0,c=f.length;l<c;++l){t[g=e[u][f[l]]]=t[g]||[],t[g].forEach(function(t){d.push(t)})}e[u]=d}var p=Object.keys(n);for(i=0,r=p.length;i<r;++i){var g;if(t[g=p[i]])for(l=0,c=t[g].length;l<c;++l){e[u=t[g][l]]=e[u].concat(n[g])}}var m={};for(i=0,r=(h=Object.keys(e)).length;i<r;++i){var v=e[u=h[i]];for(l=0,c=v.length;l<c;++l)m[v[l]]=(m[v[l]]||[]).concat(u)}var y={},b=[];for(i=0,r=this._items.length;i<r;++i){var _=i;if(m[i])for(_=null,l=0,c=this._items.length;l<c;++l)if(!0!==y[l]){m[l]||(m[l]=[]);for(var w=m[l].length,x=0,A=0,C=w;A<C;++A)0<=b.indexOf(m[l][A])&&++x;if(x===w){_=l;break}}null!==_&&(y[_=_.toString()]=!0,b.push(_))}if(b.length!==this._items.length)return new Error("Invalid dependencies");var E={};this._items.forEach(function(t){E[t.seq]=t});var k=[];this._items=b.map(function(t){var e=E[t];return k.push(e.node),e}),this.nodes=k}},{hoek:16}],23:[function(t,e,n){},{}],24:[function(t,e,i){var a=t("base64-js"),s=t("ieee754");i.Buffer=c,i.SlowBuffer=c,i.INSPECT_MAX_BYTES=50,c.poolSize=8192;var l=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(t){return!1}}();function c(t,e,n){if(!(this instanceof c))return new c(t,e,n);var i,r,s,o,a=typeof t;if("number"===a)i=0<t?t>>>0:0;else if("string"===a)"base64"===e&&(t=function(t){t=(e=t,e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(x,"");var e;for(;t.length%4!=0;)t+="=";return t}(t)),i=c.byteLength(t,e);else{if("object"!==a||null===t)throw new Error("First argument needs to be a number, array or string.");"Buffer"===t.type&&A(t.data)&&(t=t.data),i=0<+t.length?Math.floor(+t.length):0}if(l?r=c._augment(new Uint8Array(i)):((r=this).length=i,r._isBuffer=!0),l&&"number"==typeof t.byteLength)r._set(t);else if(A(o=t)||c.isBuffer(o)||o&&"object"==typeof o&&"number"==typeof o.length)if(c.isBuffer(t))for(s=0;s<i;s++)r[s]=t.readUInt8(s);else for(s=0;s<i;s++)r[s]=(t[s]%256+256)%256;else if("string"===a)r.write(t,0,e);else if("number"===a&&!l&&!n)for(s=0;s<i;s++)r[s]=0;return r}function m(t,e,n,i){return S(function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function h(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;r++)i+=String.fromCharCode(t[r]);return i}function o(t,e,n,i){i||(P("boolean"==typeof n,"missing or invalid endian"),P(null!=e,"missing offset"),P(e+1<t.length,"Trying to read beyond buffer length"));var r,s=t.length;if(!(s<=e))return n?(r=t[e],e+1<s&&(r|=t[e+1]<<8)):(r=t[e]<<8,e+1<s&&(r|=t[e+1])),r}function u(t,e,n,i){i||(P("boolean"==typeof n,"missing or invalid endian"),P(null!=e,"missing offset"),P(e+3<t.length,"Trying to read beyond buffer length"));var r,s=t.length;if(!(s<=e))return n?(e+2<s&&(r=t[e+2]<<16),e+1<s&&(r|=t[e+1]<<8),r|=t[e],e+3<s&&(r+=t[e+3]<<24>>>0)):(e+1<s&&(r=t[e+1]<<16),e+2<s&&(r|=t[e+2]<<8),e+3<s&&(r|=t[e+3]),r+=t[e]<<24>>>0),r}function n(t,e,n,i){if(i||(P("boolean"==typeof n,"missing or invalid endian"),P(null!=e,"missing offset"),P(e+1<t.length,"Trying to read beyond buffer length")),!(t.length<=e)){var r=o(t,e,n,!0);return 32768&r?-1*(65535-r+1):r}}function r(t,e,n,i){if(i||(P("boolean"==typeof n,"missing or invalid endian"),P(null!=e,"missing offset"),P(e+3<t.length,"Trying to read beyond buffer length")),!(t.length<=e)){var r=u(t,e,n,!0);return 2147483648&r?-1*(4294967295-r+1):r}}function d(t,e,n,i){return i||(P("boolean"==typeof n,"missing or invalid endian"),P(e+3<t.length,"Trying to read beyond buffer length")),s.read(t,e,n,23,4)}function f(t,e,n,i){return i||(P("boolean"==typeof n,"missing or invalid endian"),P(e+7<t.length,"Trying to read beyond buffer length")),s.read(t,e,n,52,8)}function p(t,e,n,i,r){r||(P(null!=e,"missing value"),P("boolean"==typeof i,"missing or invalid endian"),P(null!=n,"missing offset"),P(n+1<t.length,"trying to write beyond buffer length"),T(e,65535));var s=t.length;if(!(s<=n)){for(var o=0,a=Math.min(s-n,2);o<a;o++)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o);return n+2}}function g(t,e,n,i,r){r||(P(null!=e,"missing value"),P("boolean"==typeof i,"missing or invalid endian"),P(null!=n,"missing offset"),P(n+3<t.length,"trying to write beyond buffer length"),T(e,4294967295));var s=t.length;if(!(s<=n)){for(var o=0,a=Math.min(s-n,4);o<a;o++)t[n+o]=e>>>8*(i?o:3-o)&255;return n+4}}function v(t,e,n,i,r){if(r||(P(null!=e,"missing value"),P("boolean"==typeof i,"missing or invalid endian"),P(null!=n,"missing offset"),P(n+1<t.length,"Trying to write beyond buffer length"),D(e,32767,-32768)),!(t.length<=n))return p(t,0<=e?e:65535+e+1,n,i,r),n+2}function y(t,e,n,i,r){if(r||(P(null!=e,"missing value"),P("boolean"==typeof i,"missing or invalid endian"),P(null!=n,"missing offset"),P(n+3<t.length,"Trying to write beyond buffer length"),D(e,2147483647,-2147483648)),!(t.length<=n))return g(t,0<=e?e:4294967295+e+1,n,i,r),n+4}function b(t,e,n,i,r){if(r||(P(null!=e,"missing value"),P("boolean"==typeof i,"missing or invalid endian"),P(null!=n,"missing offset"),P(n+3<t.length,"Trying to write beyond buffer length"),M(e,34028234663852886e22,-34028234663852886e22)),!(t.length<=n))return s.write(t,e,n,i,23,4),n+4}function _(t,e,n,i,r){if(r||(P(null!=e,"missing value"),P("boolean"==typeof i,"missing or invalid endian"),P(null!=n,"missing offset"),P(n+7<t.length,"Trying to write beyond buffer length"),M(e,17976931348623157e292,-17976931348623157e292)),!(t.length<=n))return s.write(t,e,n,i,52,8),n+8}c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.byteLength=function(t,e){var n;switch(t=t.toString(),e||"utf8"){case"hex":n=t.length/2;break;case"utf8":case"utf-8":n=E(t).length;break;case"ascii":case"binary":case"raw":n=t.length;break;case"base64":n=k(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;default:throw new Error("Unknown encoding")}return n},c.concat=function(t,e){if(P(A(t),"Usage: Buffer.concat(list[, length])"),0===t.length)return new c(0);if(1===t.length)return t[0];var n;if(void 0===e)for(n=e=0;n<t.length;n++)e+=t[n].length;var i=new c(e),r=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(i,r),r+=s.length}return i},c.compare=function(t,e){P(c.isBuffer(t)&&c.isBuffer(e),"Arguments must be Buffers");for(var n=t.length,i=e.length,r=0,s=Math.min(n,i);r<s&&t[r]===e[r];r++);return r!==s&&(n=t[r],i=e[r]),n<i?-1:i<n?1:0},c.prototype.write=function(t,e,n,i){if(isFinite(e))isFinite(n)||(i=n,n=void 0);else{var r=i;i=e,e=n,n=r}e=Number(e)||0;var s,o,a,l,c,h,u,d,f,p,g=this.length-e;switch(n?g<(n=Number(n))&&(n=g):n=g,i=String(i||"utf8").toLowerCase()){case"hex":s=function(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?r<(i=Number(i))&&(i=r):i=r;var s=e.length;P(s%2==0,"Invalid hex string"),s/2<i&&(i=s/2);for(var o=0;o<i;o++){var a=parseInt(e.substr(2*o,2),16);P(!isNaN(a),"Invalid hex string"),t[n+o]=a}return o}(this,t,e,n);break;case"utf8":case"utf-8":d=this,f=e,p=n,s=S(E(t),d,f,p);break;case"ascii":s=m(this,t,e,n);break;case"binary":s=m(this,t,e,n);break;case"base64":c=this,h=e,u=n,s=S(k(t),c,h,u);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=this,a=e,l=n,s=S(function(t){for(var e,n,i,r=[],s=0;s<t.length;s++)e=t.charCodeAt(s),n=e>>8,i=e%256,r.push(i),r.push(n);return r}(t),o,a,l);break;default:throw new Error("Unknown encoding")}return s},c.prototype.toString=function(t,e,n){var i,r,s,o;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,(n=void 0===n?this.length:Number(n))===e)return"";switch(t){case"hex":i=function(t,e,n){var i=t.length;(!e||e<0)&&(e=0);(!n||n<0||i<n)&&(n=i);for(var r="",s=e;s<n;s++)r+=C(t[s]);return r}(this,e,n);break;case"utf8":case"utf-8":i=function(t,e,n){var i="",r="";n=Math.min(t.length,n);for(var s=e;s<n;s++)t[s]<=127?(i+=F(r)+String.fromCharCode(t[s]),r=""):r+="%"+t[s].toString(16);return i+F(r)}(this,e,n);break;case"ascii":i=h(this,e,n);break;case"binary":i=h(this,e,n);break;case"base64":r=this,o=n,i=0===(s=e)&&o===r.length?a.fromByteArray(r):a.fromByteArray(r.slice(s,o));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=function(t,e,n){for(var i=t.slice(e,n),r="",s=0;s<i.length;s+=2)r+=String.fromCharCode(i[s]+256*i[s+1]);return r}(this,e,n);break;default:throw new Error("Unknown encoding")}return i},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.equals=function(t){return P(c.isBuffer(t),"Argument must be a Buffer"),0===c.compare(this,t)},c.prototype.compare=function(t){return P(c.isBuffer(t),"Argument must be a Buffer"),c.compare(this,t)},c.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e||(e=0),i!==n&&0!==t.length&&0!==this.length){P(n<=i,"sourceEnd < sourceStart"),P(0<=e&&e<t.length,"targetStart out of bounds"),P(0<=n&&n<this.length,"sourceStart out of bounds"),P(0<=i&&i<=this.length,"sourceEnd out of bounds"),i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r=i-n;if(r<100||!l)for(var s=0;s<r;s++)t[s+e]=this[s+n];else t._set(this.subarray(n,n+r),e)}},c.prototype.slice=function(t,e){var n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),l)return c._augment(this.subarray(t,e));for(var i=e-t,r=new c(i,void 0,!0),s=0;s<i;s++)r[s]=this[s+t];return r},c.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},c.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},c.prototype.readUInt8=function(t,e){if(e||(P(null!=t,"missing offset"),P(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return this[t]},c.prototype.readUInt16LE=function(t,e){return o(this,t,!0,e)},c.prototype.readUInt16BE=function(t,e){return o(this,t,!1,e)},c.prototype.readUInt32LE=function(t,e){return u(this,t,!0,e)},c.prototype.readUInt32BE=function(t,e){return u(this,t,!1,e)},c.prototype.readInt8=function(t,e){if(e||(P(null!=t,"missing offset"),P(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return 128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){return n(this,t,!0,e)},c.prototype.readInt16BE=function(t,e){return n(this,t,!1,e)},c.prototype.readInt32LE=function(t,e){return r(this,t,!0,e)},c.prototype.readInt32BE=function(t,e){return r(this,t,!1,e)},c.prototype.readFloatLE=function(t,e){return d(this,t,!0,e)},c.prototype.readFloatBE=function(t,e){return d(this,t,!1,e)},c.prototype.readDoubleLE=function(t,e){return f(this,t,!0,e)},c.prototype.readDoubleBE=function(t,e){return f(this,t,!1,e)},c.prototype.writeUInt8=function(t,e,n){if(n||(P(null!=t,"missing value"),P(null!=e,"missing offset"),P(e<this.length,"trying to write beyond buffer length"),T(t,255)),!(e>=this.length))return this[e]=t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return p(this,t,e,!0,n)},c.prototype.writeUInt16BE=function(t,e,n){return p(this,t,e,!1,n)},c.prototype.writeUInt32LE=function(t,e,n){return g(this,t,e,!0,n)},c.prototype.writeUInt32BE=function(t,e,n){return g(this,t,e,!1,n)},c.prototype.writeInt8=function(t,e,n){if(n||(P(null!=t,"missing value"),P(null!=e,"missing offset"),P(e<this.length,"Trying to write beyond buffer length"),D(t,127,-128)),!(e>=this.length))return 0<=t?this.writeUInt8(t,e,n):this.writeUInt8(255+t+1,e,n),e+1},c.prototype.writeInt16LE=function(t,e,n){return v(this,t,e,!0,n)},c.prototype.writeInt16BE=function(t,e,n){return v(this,t,e,!1,n)},c.prototype.writeInt32LE=function(t,e,n){return y(this,t,e,!0,n)},c.prototype.writeInt32BE=function(t,e,n){return y(this,t,e,!1,n)},c.prototype.writeFloatLE=function(t,e,n){return b(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return b(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return _(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return _(this,t,e,!1,n)},c.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),P(e<=n,"end < start"),n!==e&&0!==this.length){var i;if(P(0<=e&&e<this.length,"start out of bounds"),P(0<=n&&n<=this.length,"end out of bounds"),"number"==typeof t)for(i=e;i<n;i++)this[i]=t;else{var r=E(t.toString()),s=r.length;for(i=e;i<n;i++)this[i]=r[i%s]}return this}},c.prototype.inspect=function(){for(var t=[],e=this.length,n=0;n<e;n++)if(t[n]=C(this[n]),n===i.INSPECT_MAX_BYTES){t[n+1]="...";break}return"<Buffer "+t.join(" ")+">"},c.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(l)return new c(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;e<n;e+=1)t[e]=this[e];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var w=c.prototype;c._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=w.get,t.set=w.set,t.write=w.write,t.toString=w.toString,t.toLocaleString=w.toString,t.toJSON=w.toJSON,t.equals=w.equals,t.compare=w.compare,t.copy=w.copy,t.slice=w.slice,t.readUInt8=w.readUInt8,t.readUInt16LE=w.readUInt16LE,t.readUInt16BE=w.readUInt16BE,t.readUInt32LE=w.readUInt32LE,t.readUInt32BE=w.readUInt32BE,t.readInt8=w.readInt8,t.readInt16LE=w.readInt16LE,t.readInt16BE=w.readInt16BE,t.readInt32LE=w.readInt32LE,t.readInt32BE=w.readInt32BE,t.readFloatLE=w.readFloatLE,t.readFloatBE=w.readFloatBE,t.readDoubleLE=w.readDoubleLE,t.readDoubleBE=w.readDoubleBE,t.writeUInt8=w.writeUInt8,t.writeUInt16LE=w.writeUInt16LE,t.writeUInt16BE=w.writeUInt16BE,t.writeUInt32LE=w.writeUInt32LE,t.writeUInt32BE=w.writeUInt32BE,t.writeInt8=w.writeInt8,t.writeInt16LE=w.writeInt16LE,t.writeInt16BE=w.writeInt16BE,t.writeInt32LE=w.writeInt32LE,t.writeInt32BE=w.writeInt32BE,t.writeFloatLE=w.writeFloatLE,t.writeFloatBE=w.writeFloatBE,t.writeDoubleLE=w.writeDoubleLE,t.writeDoubleBE=w.writeDoubleBE,t.fill=w.fill,t.inspect=w.inspect,t.toArrayBuffer=w.toArrayBuffer,t};var x=/[^+\/0-9A-z]/g;function A(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function C(t){return t<16?"0"+t.toString(16):t.toString(16)}function E(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else{var r=n;55296<=i&&i<=57343&&n++;for(var s=encodeURIComponent(t.slice(r,n+1)).substr(1).split("%"),o=0;o<s.length;o++)e.push(parseInt(s[o],16))}}return e}function k(t){return a.toByteArray(t)}function S(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);r++)e[r+n]=t[r];return r}function F(t){try{return decodeURIComponent(t)}catch(t){return String.fromCharCode(65533)}}function T(t,e){P("number"==typeof t,"cannot write a non-number as a number"),P(0<=t,"specified a negative value for writing an unsigned value"),P(t<=e,"value is larger than maximum value for type"),P(Math.floor(t)===t,"value has a fractional component")}function D(t,e,n){P("number"==typeof t,"cannot write a non-number as a number"),P(t<=e,"value larger than maximum allowed value"),P(n<=t,"value smaller than minimum allowed value"),P(Math.floor(t)===t,"value has a fractional component")}function M(t,e,n){P("number"==typeof t,"cannot write a non-number as a number"),P(t<=e,"value larger than maximum allowed value"),P(n<=t,"value smaller than minimum allowed value")}function P(t,e){if(!t)throw new Error(e||"Failed assertion")}},{"base64-js":25,ieee754:26}],25:[function(t,e,n){!function(t){"use strict";var h="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),i="/".charCodeAt(0),r="0".charCodeAt(0),s="a".charCodeAt(0),o="A".charCodeAt(0);function u(t){var e=t.charCodeAt(0);return e===n?62:e===i?63:e<r?-1:e<r+10?e-r+26+26:e<o+26?e-o:e<s+26?e-s+26:void 0}t.toByteArray=function(t){var e,n,i,r,s,o;if(0<t.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var a=t.length;s="="===t.charAt(a-2)?2:"="===t.charAt(a-1)?1:0,o=new h(3*t.length/4-s),i=0<s?t.length-4:t.length;var l=0;function c(t){o[l++]=t}for(n=e=0;e<i;e+=4,n+=3)c((16711680&(r=u(t.charAt(e))<<18|u(t.charAt(e+1))<<12|u(t.charAt(e+2))<<6|u(t.charAt(e+3))))>>16),c((65280&r)>>8),c(255&r);return 2===s?c(255&(r=u(t.charAt(e))<<2|u(t.charAt(e+1))>>4)):1===s&&(c((r=u(t.charAt(e))<<10|u(t.charAt(e+1))<<4|u(t.charAt(e+2))>>2)>>8&255),c(255&r)),o},t.fromByteArray=function(t){var e,n,i,r,s=t.length%3,o="";function a(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)}for(e=0,i=t.length-s;e<i;e+=3)n=(t[e]<<16)+(t[e+1]<<8)+t[e+2],o+=a((r=n)>>18&63)+a(r>>12&63)+a(r>>6&63)+a(63&r);switch(s){case 1:o+=a((n=t[t.length-1])>>2),o+=a(n<<4&63),o+="==";break;case 2:o+=a((n=(t[t.length-2]<<8)+t[t.length-1])>>10),o+=a(n>>4&63),o+=a(n<<2&63),o+="="}return o}}(void 0===n?this.base64js={}:n)},{}],26:[function(t,e,n){n.read=function(t,e,n,i,r){var s,o,a=8*r-i-1,l=(1<<a)-1,c=l>>1,h=-7,u=n?r-1:0,d=n?-1:1,f=t[e+u];for(u+=d,s=f&(1<<-h)-1,f>>=-h,h+=a;0<h;s=256*s+t[e+u],u+=d,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=i;0<h;o=256*o+t[e+u],u+=d,h-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,i),s-=c}return(f?-1:1)*o*Math.pow(2,s-i)},n.write=function(t,e,n,i,r,s){var o,a,l,c=8*s-r-1,h=(1<<c)-1,u=h>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:s-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),2<=(e+=1<=o+u?d/l:d*Math.pow(2,1-u))*l&&(o++,l/=2),h<=o+u?(a=0,o=h):1<=o+u?(a=(e*l-1)*Math.pow(2,r),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,r),o=0));8<=r;t[n+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,c+=r;0<c;t[n+f]=255&o,f+=p,o/=256,c-=8);t[n+f-p]|=128*g}},{}],27:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],28:[function(t,e,c){(function(r){function s(t,e){for(var n=0,i=t.length-1;0<=i;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return e.exec(t).slice(1)};function a(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}c.resolve=function(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){var i=0<=n?arguments[n]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,e="/"===i.charAt(0))}return(e?"/":"")+(t=s(a(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},c.normalize=function(t){var e=c.isAbsolute(t),n="/"===i(t,-1);return(t=s(a(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},c.isAbsolute=function(t){return"/"===t.charAt(0)},c.join=function(){var t=Array.prototype.slice.call(arguments,0);return c.normalize(a(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},c.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;0<=n&&""===t[n];n--);return n<e?[]:t.slice(e,n-e+1)}t=c.resolve(t).substr(1),e=c.resolve(e).substr(1);for(var i=n(t.split("/")),r=n(e.split("/")),s=Math.min(i.length,r.length),o=s,a=0;a<s;a++)if(i[a]!==r[a]){o=a;break}var l=[];for(a=o;a<i.length;a++)l.push("..");return(l=l.concat(r.slice(o))).join("/")},c.sep="/",c.delimiter=":",c.dirname=function(t){var e=o(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},c.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},c.extname=function(t){return o(t)[3]};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:29}],29:[function(t,e,n){var i=e.exports={};function r(){}i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;e!==window&&null!==e||"process-tick"!==t.data||(t.stopPropagation(),0<n.length&&n.shift()())},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],30:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],31:[function(d,t,S){(function(i,r){var a=/%[sdj%]/g;S.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(l(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,r=i.length,s=String(t).replace(a,function(t){if("%%"===t)return"%";if(r<=n)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),o=i[n];n<r;o=i[++n])y(o)||!h(o)?s+=" "+o:s+=" "+l(o);return s},S.deprecate=function(t,e){if(w(r.process))return function(){return S.deprecate(t,e).apply(this,arguments)};if(!0===i.noDeprecation)return t;var n=!1;return function(){if(!n){if(i.throwDeprecation)throw new Error(e);i.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}};var t,s={};function l(t,e){var n={seen:[],stylize:c};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),v(e)?n.showHidden=e:e&&S._extend(n,e),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),f(n,t,n.depth)}function o(t,e){var n=l.styles[e];return n?"["+l.colors[n][0]+"m"+t+"["+l.colors[n][1]+"m":t}function c(t,e){return t}function f(e,n,i){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==S.inspect&&(!n.constructor||n.constructor.prototype!==n)){var t=n.inspect(i,e);return _(t)||(t=f(e,t,i)),t}var r=function(t,e){if(w(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(b(e))return t.stylize(""+e,"number");if(v(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(e,n);if(r)return r;var s,o=Object.keys(n),a=(s={},o.forEach(function(t,e){s[t]=!0}),s);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),C(n)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return p(n);if(0===o.length){if(E(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(x(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return e.stylize(Date.prototype.toString.call(n),"date");if(C(n))return p(n)}var c,h="",u=!1,d=["{","}"];(m(n)&&(u=!0,d=["[","]"]),E(n))&&(h=" [Function"+(n.name?": "+n.name:"")+"]");return x(n)&&(h=" "+RegExp.prototype.toString.call(n)),A(n)&&(h=" "+Date.prototype.toUTCString.call(n)),C(n)&&(h=" "+p(n)),0!==o.length||u&&0!=n.length?i<0?x(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=u?function(e,n,i,r,t){for(var s=[],o=0,a=n.length;o<a;++o)k(n,String(o))?s.push(g(e,n,i,r,String(o),!0)):s.push("");return t.forEach(function(t){t.match(/^\d+$/)||s.push(g(e,n,i,r,t,!0))}),s}(e,n,i,a,o):o.map(function(t){return g(e,n,i,a,t,u)}),e.seen.pop(),function(t,e,n){if(60<t.reduce(function(t,e){return 0,0<=e.indexOf("\n")&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0))return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,h,d)):d[0]+h+d[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function g(t,e,n,i,r,s){var o,a,l;if((l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),k(i,r)||(o="["+r+"]"),a||(t.seen.indexOf(l.value)<0?-1<(a=y(n)?f(t,l.value,null):f(t,l.value,n-1)).indexOf("\n")&&(a=s?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),w(o)){if(s&&r.match(/^\d+$/))return a;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function m(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function y(t){return null===t}function b(t){return"number"==typeof t}function _(t){return"string"==typeof t}function w(t){return void 0===t}function x(t){return h(t)&&"[object RegExp]"===e(t)}function h(t){return"object"==typeof t&&null!==t}function A(t){return h(t)&&"[object Date]"===e(t)}function C(t){return h(t)&&("[object Error]"===e(t)||t instanceof Error)}function E(t){return"function"==typeof t}function e(t){return Object.prototype.toString.call(t)}function n(t){return t<10?"0"+t.toString(10):t.toString(10)}S.debuglog=function(e){if(w(t)&&(t=i.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(t)){var n=i.pid;s[e]=function(){var t=S.format.apply(S,arguments);console.error("%s %d: %s",e,n,t)}}else s[e]=function(){};return s[e]},(S.inspect=l).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},S.isArray=m,S.isBoolean=v,S.isNull=y,S.isNullOrUndefined=function(t){return null==t},S.isNumber=b,S.isString=_,S.isSymbol=function(t){return"symbol"==typeof t},S.isUndefined=w,S.isRegExp=x,S.isObject=h,S.isDate=A,S.isError=C,S.isFunction=E,S.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},S.isBuffer=d("./support/isBuffer");var u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S.log=function(){var t,e;console.log("%s - %s",(t=new Date,e=[n(t.getHours()),n(t.getMinutes()),n(t.getSeconds())].join(":"),[t.getDate(),u[t.getMonth()],e].join(" ")),S.format.apply(S,arguments))},S.inherits=d("inherits"),S._extend=function(t,e){if(!e||!h(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,d("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":30,_process:29,inherits:27}],joi:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{"./lib":10}]},{},[])("joi")});var CryptoJS=CryptoJS||function(a,t){var e={},n=e.lib={},i=function(){},r=n.Base={extend:function(t){i.prototype=this;var e=new i;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=n.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||o).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var r=0;r<t;r++)e[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<t;r+=4)e[i+r>>>2]=n[r>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=a.ceil(e/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(4294967296*a.random()|0);return new l.init(e,t)}}),s=e.enc={},o=s.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++){var r=e[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new l.init(n,e/2)}},c=s.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new l.init(n,e)}},h=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},u=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,i=e.sigBytes,r=this.blockSize,s=i/(4*r);if(t=(s=t?a.ceil(s):a.max((0|s)-this._minBufferSize,0))*r,i=a.min(4*t,i),t){for(var o=0;o<t;o+=r)this._doProcessBlock(n,o);o=n.splice(0,t),e.sigBytes-=i}return new l.init(o,i)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=u.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,e){return new n.init(e).finalize(t)}},_createHmacHelper:function(n){return function(t,e){return new d.HMAC.init(n,e).finalize(t)}}});var d=e.algo={};return e}(Math);!function(s){function A(t,e,n,i,r,s,o){return((t=t+(e&n|~e&i)+r+o)<<s|t>>>32-s)+e}function C(t,e,n,i,r,s,o){return((t=t+(e&i|n&~i)+r+o)<<s|t>>>32-s)+e}function E(t,e,n,i,r,s,o){return((t=t+(e^n^i)+r+o)<<s|t>>>32-s)+e}function k(t,e,n,i,r,s,o){return((t=t+(n^(e|~i))+r+o)<<s|t>>>32-s)+e}for(var t=CryptoJS,e=(i=t.lib).WordArray,n=i.Hasher,i=t.algo,S=[],r=0;r<64;r++)S[r]=4294967296*s.abs(s.sin(r+1))|0;i=i.MD5=n.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=t[o=e+n];t[o]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}n=this._hash.words;var r,s,o=t[e+0],a=(i=t[e+1],t[e+2]),l=t[e+3],c=t[e+4],h=t[e+5],u=t[e+6],d=t[e+7],f=t[e+8],p=t[e+9],g=t[e+10],m=t[e+11],v=t[e+12],y=t[e+13],b=t[e+14],_=t[e+15],w=n[0],x=k(x=k(x=k(x=k(x=E(x=E(x=E(x=E(x=C(x=C(x=C(x=C(x=A(x=A(x=A(x=A(x=n[1],s=A(s=n[2],r=A(r=n[3],w=A(w,x,s,r,o,7,S[0]),x,s,i,12,S[1]),w,x,a,17,S[2]),r,w,l,22,S[3]),s=A(s,r=A(r,w=A(w,x,s,r,c,7,S[4]),x,s,h,12,S[5]),w,x,u,17,S[6]),r,w,d,22,S[7]),s=A(s,r=A(r,w=A(w,x,s,r,f,7,S[8]),x,s,p,12,S[9]),w,x,g,17,S[10]),r,w,m,22,S[11]),s=A(s,r=A(r,w=A(w,x,s,r,v,7,S[12]),x,s,y,12,S[13]),w,x,b,17,S[14]),r,w,_,22,S[15]),s=C(s,r=C(r,w=C(w,x,s,r,i,5,S[16]),x,s,u,9,S[17]),w,x,m,14,S[18]),r,w,o,20,S[19]),s=C(s,r=C(r,w=C(w,x,s,r,h,5,S[20]),x,s,g,9,S[21]),w,x,_,14,S[22]),r,w,c,20,S[23]),s=C(s,r=C(r,w=C(w,x,s,r,p,5,S[24]),x,s,b,9,S[25]),w,x,l,14,S[26]),r,w,f,20,S[27]),s=C(s,r=C(r,w=C(w,x,s,r,y,5,S[28]),x,s,a,9,S[29]),w,x,d,14,S[30]),r,w,v,20,S[31]),s=E(s,r=E(r,w=E(w,x,s,r,h,4,S[32]),x,s,f,11,S[33]),w,x,m,16,S[34]),r,w,b,23,S[35]),s=E(s,r=E(r,w=E(w,x,s,r,i,4,S[36]),x,s,c,11,S[37]),w,x,d,16,S[38]),r,w,g,23,S[39]),s=E(s,r=E(r,w=E(w,x,s,r,y,4,S[40]),x,s,o,11,S[41]),w,x,l,16,S[42]),r,w,u,23,S[43]),s=E(s,r=E(r,w=E(w,x,s,r,p,4,S[44]),x,s,v,11,S[45]),w,x,_,16,S[46]),r,w,a,23,S[47]),s=k(s,r=k(r,w=k(w,x,s,r,o,6,S[48]),x,s,d,10,S[49]),w,x,b,15,S[50]),r,w,h,21,S[51]),s=k(s,r=k(r,w=k(w,x,s,r,v,6,S[52]),x,s,l,10,S[53]),w,x,g,15,S[54]),r,w,i,21,S[55]),s=k(s,r=k(r,w=k(w,x,s,r,f,6,S[56]),x,s,_,10,S[57]),w,x,u,15,S[58]),r,w,y,21,S[59]),s=k(s,r=k(r,w=k(w,x,s,r,c,6,S[60]),x,s,m,10,S[61]),w,x,a,15,S[62]),r,w,p,21,S[63]);n[0]=n[0]+w|0,n[1]=n[1]+x|0,n[2]=n[2]+s|0,n[3]=n[3]+r|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32;var r=s.floor(n/4294967296);for(e[15+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process(),e=(t=this._hash).words,n=0;n<4;n++)i=e[n],e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}}),t.MD5=n._createHelper(i),t.HmacMD5=n._createHmacHelper(i)}(Math),function(){"use strict";var t=function(t){if("number"!=typeof t||(e=t)!=e)throw new TypeError("Expected a number");var e,n,i=t<0,r=["B","kB","MB","GB","TB","PB","EB","ZB","YB"];return i&&(t=-t),t<1?(i?"-":"")+t+" B":(n=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),r.length-1),(i?"-":"")+(t=1*(t/Math.pow(1e3,n)).toFixed(2))+" "+r[n])};"undefined"!=typeof module&&module.exports?module.exports=t:self.prettyBytes=t}(),function(){var d={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:e,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:e,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:e,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function l(t){this.tokens=[],this.tokens.links={},this.options=t||f.defaults,this.rules=d.normal,this.options.gfm&&(this.options.tables?this.rules=d.tables:this.rules=d.gfm)}d.bullet=/(?:[*+-]|\d+\.)/,d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,d.item=t(d.item,"gm")(/bull/g,d.bullet)(),d.list=t(d.list)(/bull/g,d.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+d.def.source+")")(),d.blockquote=t(d.blockquote)("def",d.def)(),d._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",d.html=t(d.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,d._tag)(),d.paragraph=t(d.paragraph)("hr",d.hr)("heading",d.heading)("lheading",d.lheading)("blockquote",d.blockquote)("tag","<"+d._tag)("def",d.def)(),d.normal=u({},d),d.gfm=u({},d.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),d.gfm.paragraph=t(d.paragraph)("(?!","(?!"+d.gfm.fences.source.replace("\\1","\\2")+"|"+d.list.source.replace("\\1","\\3")+"|")(),d.tables=u({},d.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),l.rules=d,l.lex=function(t,e){return new l(e).lex(t)},l.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},l.prototype.token=function(t,e,n){var i,r,s,o,a,l,c,h,u;for(t=t.replace(/^ +$/gm,"");t;)if((s=this.rules.newline.exec(t))&&(t=t.substring(s[0].length),1<s[0].length&&this.tokens.push({type:"space"})),s=this.rules.code.exec(t))t=t.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?s:s.replace(/\n+$/,"")});else if(s=this.rules.fences.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]||""});else if(s=this.rules.heading.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if(e&&(s=this.rules.nptable.exec(t))){for(t=t.substring(s[0].length),l={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},h=0;h<l.align.length;h++)/^ *-+: *$/.test(l.align[h])?l.align[h]="right":/^ *:-+: *$/.test(l.align[h])?l.align[h]="center":/^ *:-+ *$/.test(l.align[h])?l.align[h]="left":l.align[h]=null;for(h=0;h<l.cells.length;h++)l.cells[h]=l.cells[h].split(/ *\| */);this.tokens.push(l)}else if(s=this.rules.lheading.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(s=this.rules.hr.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,e,!0),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(t)){for(t=t.substring(s[0].length),o=s[2],this.tokens.push({type:"list_start",ordered:1<o.length}),i=!1,u=(s=s[0].match(this.rules.item)).length,h=0;h<u;h++)c=(l=s[h]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&h!==u-1&&(o===(a=d.bullet.exec(s[h+1])[0])||1<o.length&&1<a.length||(t=s.slice(h+1).join("\n")+t,h=u-1)),r=i||/\n\n(?!\s*$)/.test(l),h!==u-1&&(i="\n"===l.charAt(l.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(t))t=t.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]});else if(!n&&e&&(s=this.rules.def.exec(t)))t=t.substring(s[0].length),this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]};else if(e&&(s=this.rules.table.exec(t))){for(t=t.substring(s[0].length),l={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},h=0;h<l.align.length;h++)/^ *-+: *$/.test(l.align[h])?l.align[h]="right":/^ *:-+: *$/.test(l.align[h])?l.align[h]="center":/^ *:-+ *$/.test(l.align[h])?l.align[h]="left":l.align[h]=null;for(h=0;h<l.cells.length;h++)l.cells[h]=l.cells[h].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(e&&(s=this.rules.paragraph.exec(t)))t=t.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:e,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:e,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function i(t,e){if(this.options=e||f.defaults,this.links=t,this.rules=n.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=n.breaks:this.rules=n.gfm:this.options.pedantic&&(this.rules=n.pedantic)}function r(t){this.options=t||{}}function c(t){this.tokens=[],this.token=null,this.options=t||f.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function h(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function t(i,r){return i=i.source,r=r||"",function t(e,n){return e?(n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),i=i.replace(e,n),t):new RegExp(i,r)}}function e(){}function u(t){for(var e,n,i=1;i<arguments.length;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function f(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null);var r,s,o=(n=u({},f.defaults,n||{})).highlight,e=0;try{r=l.lex(t,n)}catch(t){return i(t)}s=r.length;var a=function(e){if(e)return n.highlight=o,i(e);var t;try{t=c.parse(r,n)}catch(t){e=t}return n.highlight=o,e?i(e):i(null,t)};if(!o||o.length<3)return a();if(delete n.highlight,!s)return a();for(;e<r.length;e++)!function(n){"code"!==n.type?--s||a():o(n.text,n.lang,function(t,e){return t?a(t):null==e||e===n.text?--s||a():(n.text=e,n.escaped=!0,void(--s||a()))})}(r[e])}else try{return n&&(n=u({},f.defaults,n)),c.parse(l.lex(t,n),n)}catch(t){if(t.message+="\nPlease report this to https://github.com/chjj/marked.",(n||f.defaults).silent)return"<p>An error occured:</p><pre>"+h(t.message+"",!0)+"</pre>";throw t}}n._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,n._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,n.link=t(n.link)("inside",n._inside)("href",n._href)(),n.reflink=t(n.reflink)("inside",n._inside)(),n.normal=u({},n),n.pedantic=u({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),n.gfm=u({},n.normal,{escape:t(n.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:t(n.text)("]|","~]|")("|","|https?://|")()}),n.breaks=u({},n.gfm,{br:t(n.br)("{2,}","*")(),text:t(n.gfm.text)("{2,}","*")()}),i.rules=n,i.output=function(t,e,n){return new i(e,n).output(t)},i.prototype.output=function(t){for(var e,n,i,r,s="";t;)if(r=this.rules.escape.exec(t))t=t.substring(r[0].length),s+=r[1];else if(r=this.rules.autolink.exec(t))t=t.substring(r[0].length),"@"===r[2]?(n=":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),i=this.mangle("mailto:")+n):i=n=h(r[1]),s+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(t))){if(r=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),t=t.substring(r[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):h(r[0]):r[0];else if(r=this.rules.link.exec(t))t=t.substring(r[0].length),this.inLink=!0,s+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(t))||(r=this.rules.nolink.exec(t))){if(t=t.substring(r[0].length),e=(r[2]||r[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){s+=r[0].charAt(0),t=r[0].substring(1)+t;continue}this.inLink=!0,s+=this.outputLink(r,e),this.inLink=!1}else if(r=this.rules.strong.exec(t))t=t.substring(r[0].length),s+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(t))t=t.substring(r[0].length),s+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(t))t=t.substring(r[0].length),s+=this.renderer.codespan(h(r[2],!0));else if(r=this.rules.br.exec(t))t=t.substring(r[0].length),s+=this.renderer.br();else if(r=this.rules.del.exec(t))t=t.substring(r[0].length),s+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(t))t=t.substring(r[0].length),s+=this.renderer.text(h(this.smartypants(r[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(r[0].length),i=n=h(r[1]),s+=this.renderer.link(i,null,n);return s},i.prototype.outputLink=function(t,e){var n=h(e.href),i=e.title?h(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,h(t[1]))},i.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},i.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",i=t.length,r=0;r<i;r++)e=t.charCodeAt(r),.5<Math.random()&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},r.prototype.code=function(t,e,n){if(this.options.highlight){var i=this.options.highlight(t,e);null!=i&&i!==t&&(n=!0,t=i)}return e?'<pre><code class="'+this.options.langPrefix+h(e,!0)+'">'+(n?t:h(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:h(t,!0))+"\n</code></pre>"},r.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},r.prototype.html=function(t){return t},r.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(t,e){var n=e?"ol":"ul";return"<"+n+">\n"+t+"</"+n+">\n"},r.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},r.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},r.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},r.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},r.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},r.prototype.strong=function(t){return"<strong>"+t+"</strong>"},r.prototype.em=function(t){return"<em>"+t+"</em>"},r.prototype.codespan=function(t){return"<code>"+t+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(t){return"<del>"+t+"</del>"},r.prototype.link=function(t,e,n){if(this.options.sanitize){try{var i=decodeURIComponent((r=t,r.replace(/&([#\w]+);/g,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var r,s='<a href="'+t+'"';return e&&(s+=' title="'+e+'"'),s+=">"+n+"</a>"},r.prototype.image=function(t,e,n){var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=this.options.xhtml?"/>":">"},r.prototype.text=function(t){return t},c.parse=function(t,e,n){return new c(e,n).parse(t)},c.prototype.parse=function(t){this.inline=new i(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},c.prototype.next=function(){return this.token=this.tokens.pop()},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,i,r="",s="";for(n="",t=0;t<this.token.header.length;t++)({header:!0,align:this.token.align[t]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(r+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",i=0;i<e.length;i++)n+=this.renderer.tablecell(this.inline.output(e[i]),{header:!1,align:this.token.align[i]});s+=this.renderer.tablerow(n)}return this.renderer.table(r,s);case"blockquote_start":for(s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":s="";for(var o=this.token.ordered;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,o);case"list_item_start":for(s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(s);case"loose_item_start":for(s="";"list_item_end"!==this.next().type;)s+=this.tok();return this.renderer.listitem(s);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},e.exec=e,f.options=f.setOptions=function(t){return u(f.defaults,t),f},f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1},f.Parser=c,f.parser=c.parse,f.Renderer=r,f.Lexer=l,f.lexer=l.lex,f.InlineLexer=i,f.inlineLexer=i.output,f.parse=f,"undefined"!=typeof module&&"object"==typeof exports?module.exports=f:"function"==typeof define&&define.amd?define(function(){return f}):this.marked=f}.call(function(){return this||("undefined"!=typeof window?window:global)}()),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L={})}(this,function(t){"use strict";function l(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(e in r=arguments[n])t[e]=r[e];return t}function p(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}function h(t){return t._leaflet_id=t._leaflet_id||++Ut,t._leaflet_id}function e(t,e,n){var i,r,s,o;return o=function(){i=!1,r&&(s.apply(n,r),r=!1)},s=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(o,e),i=!0)}}function n(t,e,n){var i=e[1],r=e[0],s=i-r;return t===i&&n?t:((t-r)%s+s)%s+r}function a(){return!1}function i(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function r(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function c(t){return r(t).split(/\s+/)}function o(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?Vt(t.options):{}),e)t.options[n]=e[n];return t.options}function u(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}function s(t,i){return t.replace(Yt,function(t,e){var n=i[e];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(i)),n})}function d(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function f(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function g(t){var e=+new Date,n=Math.max(0,16-(e-Gt));return Gt=e+n,window.setTimeout(t,n)}function _(t,e,n){if(!n||Kt!==g)return Kt.call(window,p(t,e));t.call(e)}function m(t){t&&Xt.call(window,t)}function v(){}function y(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}function b(t,e,n){return t instanceof y?t:qt(t)?new y(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new y(t.x,t.y):new y(t,e,n)}function w(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function x(t,e){return!t||t instanceof w?t:new w(t,e)}function A(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function C(t,e){return t instanceof A?t:new A(t,e)}function E(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function k(t,e,n){return t instanceof E?t:qt(t)&&"object"!=typeof t[0]?3===t.length?new E(t[0],t[1],t[2]):2===t.length?new E(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new E(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new E(t,e,n)}function S(t,e,n,i){if(qt(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function F(t,e,n,i){return new S(t,e,n,i)}function T(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function D(t,e){var n,i,r,s,o,a,l="";for(n=0,r=t.length;n<r;n++){for(i=0,s=(o=t[n]).length;i<s;i++)l+=(i?"L":"M")+(a=o[i]).x+" "+a.y;l+=e?je?"z":"x":""}return l||"M0 0"}function M(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}function P(t,e,n,i){return"touchstart"===e?(h=t,u=n,d=i,f=p(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Ge.indexOf(t.target.tagName)<0))return;mt(t)}O(t,u)}),h["_leaflet_touchstart"+d]=f,h.addEventListener(Ue,f,!1),Xe||(document.documentElement.addEventListener(Ue,B,!0),document.documentElement.addEventListener(Ye,$,!0),document.documentElement.addEventListener(qe,R,!0),document.documentElement.addEventListener(Ze,R,!0),Xe=!0)):"touchmove"===e?(l=n,c=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&O(t,l)},(a=t)["_leaflet_touchmove"+i]=c,a.addEventListener(Ye,c,!1)):"touchend"===e&&(s=n,o=function(t){O(t,s)},(r=t)["_leaflet_touchend"+i]=o,r.addEventListener(qe,o,!1),r.addEventListener(Ze,o,!1)),this;var r,s,o,a,l,c,h,u,d,f}function B(t){Ke[t.pointerId]=t,Qe++}function $(t){Ke[t.pointerId]&&(Ke[t.pointerId]=t)}function R(t){delete Ke[t.pointerId],Qe--}function O(t,e){for(var n in t.touches=[],Ke)t.touches.push(Ke[n]);t.changedTouches=[t],e(t)}function I(t,r,e){function n(t){var e;if(Re){if(!ge||"mouse"===t.pointerType)return;e=Qe}else e=t.touches.length;if(!(1<e)){var n=Date.now(),i=n-(s||n);o=t.touches?t.touches[0]:t,a=0<i&&i<=250,s=n}}function i(t){if(a&&!o.cancelBubble){if(Re){if(!ge||"mouse"===t.pointerType)return;var e,n,i={};for(n in o)e=o[n],i[n]=e&&e.bind?e.bind(o):e;o=i}o.type="dblclick",r(o),s=null}}var s,o,a=!1;return t[en+Je+e]=n,t[en+tn+e]=i,t[en+"dblclick"+e]=r,t.addEventListener(Je,n,!1),t.addEventListener(tn,i,!1),t.addEventListener("dblclick",r,!1),this}function N(t,e){var n=t[en+Je+e],i=t[en+tn+e],r=t[en+"dblclick"+e];return t.removeEventListener(Je,n,!1),t.removeEventListener(tn,i,!1),ge||t.removeEventListener("dblclick",r,!1),this}function z(t){return"string"==typeof t?document.getElementById(t):t}function H(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function j(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function W(t){var e=t.parentNode;e&&e.removeChild(t)}function V(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function U(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function Y(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function q(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=X(t);return 0<n.length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function Z(t,e){if(void 0!==t.classList)for(var n=c(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!q(t,e)){var s=X(t);K(t,(s?s+" ":"")+e)}}function G(t,e){void 0!==t.classList?t.classList.remove(e):K(t,r((" "+X(t)+" ").replace(" "+e+" "," ")))}function K(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function X(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function Q(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function J(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function tt(t,e,n){var i=e||new y(0,0);t.style[nn]=(Fe?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function et(t,e){t._leaflet_pos=e,Me?tt(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function nt(t){return t._leaflet_pos||new y(0,0)}function it(){ct(window,"dragstart",mt)}function rt(){ht(window,"dragstart",mt)}function st(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(ot(),ln=(an=t).style.outline,t.style.outline="none",ct(window,"keydown",ot))}function ot(){an&&(an.style.outline=ln,ln=an=void 0,ht(window,"keydown",ot))}function at(t){for(;!((t=t.parentNode).offsetWidth&&t.offsetHeight||t===document.body););return t}function lt(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}function ct(t,e,n,i){if("object"==typeof e)for(var r in e)ut(t,r,e[r],n);else for(var s=0,o=(e=c(e)).length;s<o;s++)ut(t,e[s],n,i);return this}function ht(t,e,n,i){if("object"==typeof e)for(var r in e)dt(t,r,e[r],n);else if(e)for(var s=0,o=(e=c(e)).length;s<o;s++)dt(t,e[s],n,i);else{for(var a in t[un])dt(t,a,t[un][a]);delete t[un]}return this}function ut(e,t,n,i){var r=t+h(n)+(i?"_"+h(i):"");if(e[un]&&e[un][r])return this;var s=function(t){return n.call(i||e,t||window.event)},o=s;Re&&0===t.indexOf("touch")?P(e,t,s,r):!Oe||"dblclick"!==t||Re&&xe?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",s,!1):"mouseenter"===t||"mouseleave"===t?(s=function(t){t=t||window.event,xt(e,t)&&o(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",s,!1)):("click"===t&&ve&&(s=function(t){var e,n,i,r;n=o,i=(e=t).timeStamp||e.originalEvent&&e.originalEvent.timeStamp,(r=cn&&i-cn)&&100<r&&r<500||e.target._simulatedClick&&!e._simulated?vt(e):(cn=i,n(e))}),e.addEventListener(t,s,!1)):"attachEvent"in e&&e.attachEvent("on"+t,s):I(e,s,r),e[un]=e[un]||{},e[un][r]=s}function dt(t,e,n,i){var r=e+h(n)+(i?"_"+h(i):""),s=t[un]&&t[un][r];if(!s)return this;Re&&0===e.indexOf("touch")?(o=t,a=e,l=r,c=o["_leaflet_"+a+l],"touchstart"===a?o.removeEventListener(Ue,c,!1):"touchmove"===a?o.removeEventListener(Ye,c,!1):"touchend"===a&&(o.removeEventListener(qe,c,!1),o.removeEventListener(Ze,c,!1))):!Oe||"dblclick"!==e||Re&&xe?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s):N(t,r),t[un][r]=null;var o,a,l,c}function ft(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,wt(t),this}function pt(t){return ut(t,"mousewheel",ft),this}function gt(t){return ct(t,"mousedown touchstart dblclick",ft),ut(t,"click",_t),this}function mt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function vt(t){return mt(t),ft(t),this}function yt(t,e){if(!e)return new y(t.clientX,t.clientY);var n=lt(e),i=n.boundingClientRect;return new y((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}function bt(t){return ge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/dn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function _t(t){fn[t.type]=!0}function wt(t){var e=fn[t.type];return fn[t.type]=!1,e}function xt(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}function At(t,e){if(!e||!t.length)return t.slice();var n=e*e;return function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function t(e,n,i,r,s){var o,a,l,c=0;for(a=r+1;a<=s-1;a++)(l=Ft(e[a],e[r],e[s],!0))>c&&(o=a,c=l);i<c&&(n[o]=1,t(e,n,i,r,o),t(e,n,i,o,s))}(t,i,e,0,n-1);var r,s=[];for(r=0;r<n;r++)i[r]&&s.push(t[r]);return s}(t=function(t,e){for(var n=[t[0]],i=1,r=0,s=t.length;i<s;i++)o=t[i],a=t[r],void 0,void 0,l=a.x-o.x,c=a.y-o.y,e<l*l+c*c&&(n.push(t[i]),r=i);var o,a,l,c;return r<s-1&&n.push(t[s-1]),n}(t,n),n)}function Ct(t,e,n){return Math.sqrt(Ft(t,e,n,!0))}function Et(t,e,n,i,r){var s,o,a,l=i?Cn:St(t,n),c=St(e,n);for(Cn=c;;){if(!(l|c))return[t,e];if(l&c)return!1;a=St(o=kt(t,e,s=l||c,n,r),n),s===l?(t=o,l=a):(e=o,c=a)}}function kt(t,e,n,i,r){var s,o,a=e.x-t.x,l=e.y-t.y,c=i.min,h=i.max;return 8&n?(s=t.x+a*(h.y-t.y)/l,o=h.y):4&n?(s=t.x+a*(c.y-t.y)/l,o=c.y):2&n?(s=h.x,o=t.y+l*(h.x-t.x)/a):1&n&&(s=c.x,o=t.y+l*(c.x-t.x)/a),new y(s,o,r)}function St(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Ft(t,e,n,i){var r,s=e.x,o=e.y,a=n.x-s,l=n.y-o,c=a*a+l*l;return 0<c&&(1<(r=((t.x-s)*a+(t.y-o)*l)/c)?(s=n.x,o=n.y):0<r&&(s+=a*r,o+=l*r)),a=t.x-s,l=t.y-o,i?a*a+l*l:new y(s,o)}function Tt(t){return!qt(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Dt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Tt(t)}function Mt(t,e,n){var i,r,s,o,a,l,c,h,u,d=[1,4,2,8];for(r=0,c=t.length;r<c;r++)t[r]._code=St(t[r],e);for(o=0;o<4;o++){for(h=d[o],i=[],r=0,s=(c=t.length)-1;r<c;s=r++)a=t[r],l=t[s],a._code&h?l._code&h||((u=kt(l,a,h,e,n))._code=St(u,e),i.push(u)):(l._code&h&&((u=kt(l,a,h,e,n))._code=St(u,e),i.push(u)),i.push(a));t=i}return t}function Pt(t,e){var n,i,r,s,o="Feature"===t.type?t.geometry:t,a=o?o.coordinates:null,l=[],c=e&&e.pointToLayer,h=e&&e.coordsToLatLng||Lt;if(!a&&!o)return null;switch(o.type){case"Point":return n=h(a),c?c(t,n):new Un(n);case"MultiPoint":for(r=0,s=a.length;r<s;r++)n=h(a[r]),l.push(c?c(t,n):new Un(n));return new Hn(l);case"LineString":case"MultiLineString":return i=Bt(a,"LineString"===o.type?0:1,h),new Gn(i,e);case"Polygon":case"MultiPolygon":return i=Bt(a,"Polygon"===o.type?1:2,h),new Kn(i,e);case"GeometryCollection":for(r=0,s=o.geometries.length;r<s;r++){var u=Pt({geometry:o.geometries[r],type:"Feature",properties:t.properties},e);u&&l.push(u)}return new Hn(l);default:throw new Error("Invalid GeoJSON object.")}}function Lt(t){return new E(t[1],t[0],t[2])}function Bt(t,e,n){for(var i,r=[],s=0,o=t.length;s<o;s++)i=e?Bt(t[s],e-1,n):(n||Lt)(t[s]),r.push(i);return r}function $t(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[i(t.lng,e),i(t.lat,e),i(t.alt,e)]:[i(t.lng,e),i(t.lat,e)]}function Rt(t,e,n,i){for(var r=[],s=0,o=t.length;s<o;s++)r.push(e?Rt(t[s],e-1,n,i):$t(t[s],i));return!e&&n&&r.push(r[0]),r}function Ot(t,e){return t.feature?l({},t.feature,{geometry:e}):It(e)}function It(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function Nt(t,e){return new Xn(t,e)}function zt(t,e){return new ai(t,e)}function Ht(t){return He?new hi(t):null}function jt(t){return je||We?new pi(t):null}var Wt=Object.freeze;Object.freeze=function(t){return t};var Vt=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),Ut=0,Yt=/\{ *([\w_-]+) *\}/g,qt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Zt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Gt=0,Kt=window.requestAnimationFrame||f("RequestAnimationFrame")||g,Xt=window.cancelAnimationFrame||f("CancelAnimationFrame")||f("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},Qt=(Object.freeze||Object)({freeze:Wt,extend:l,create:Vt,bind:p,lastId:Ut,stamp:h,throttle:e,wrapNum:n,falseFn:a,formatNum:i,trim:r,splitWords:c,setOptions:o,getParamString:u,template:s,isArray:qt,indexOf:d,emptyImageUrl:Zt,requestFn:Kt,cancelFn:Xt,requestAnimFrame:_,cancelAnimFrame:m});v.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,i=Vt(n);for(var r in(i.constructor=e).prototype=i,this)this.hasOwnProperty(r)&&"prototype"!==r&&"__super__"!==r&&(e[r]=this[r]);return t.statics&&(l(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=qt(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),l.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=l(Vt(i.options),t.options)),l(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},v.include=function(t){return l(this.prototype,t),this},v.mergeOptions=function(t){return l(this.prototype.options,t),this},v.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var Jt={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var r=0,s=(t=c(t)).length;r<s;r++)this._on(t[r],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var r=0,s=(t=c(t)).length;r<s;r++)this._off(t[r],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},s=i,o=0,a=s.length;o<a;o++)if(s[o].fn===e&&s[o].ctx===n)return;s.push(r)},_off:function(t,e,n){var i,r,s;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(r=0,s=i.length;r<s;r++){var o=i[r];if(o.ctx===n&&o.fn===e)return o.fn=a,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}else{for(r=0,s=i.length;r<s;r++)i[r].fn=a;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=l({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,o=r.length;s<o;s++){var a=r[s];a.fn.call(a.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var r=p(function(){this.off(t,e,n).off(t,r,n)},this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[h(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[h(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,l({layer:t.target,propagatedFrom:t.target},t),!0)}};Jt.addEventListener=Jt.on,Jt.removeEventListener=Jt.clearAllEventListeners=Jt.off,Jt.addOneTimeEventListener=Jt.once,Jt.fireEvent=Jt.fire,Jt.hasEventListeners=Jt.listens;var te=v.extend(Jt),ee=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};y.prototype={clone:function(){return new y(this.x,this.y)},add:function(t){return this.clone()._add(b(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(b(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new y(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new y(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(t){var e=(t=b(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=b(t)).x===this.x&&t.y===this.y},contains:function(t){return t=b(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+i(this.x)+", "+i(this.y)+")"}},w.prototype={extend:function(t){return t=b(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new y(this.min.x,this.max.y)},getTopRight:function(){return new y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof y?b(t):x(t))instanceof w?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=x(t);var e=this.min,n=this.max,i=t.min,r=t.max,s=r.x>=e.x&&i.x<=n.x,o=r.y>=e.y&&i.y<=n.y;return s&&o},overlaps:function(t){t=x(t);var e=this.min,n=this.max,i=t.min,r=t.max,s=r.x>e.x&&i.x<n.x,o=r.y>e.y&&i.y<n.y;return s&&o},isValid:function(){return!(!this.min||!this.max)}},A.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof E)n=e=t;else{if(!(t instanceof A))return t?this.extend(k(t)||C(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new E(e.lat,e.lng),this._northEast=new E(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new A(new E(e.lat-i,e.lng-r),new E(n.lat+i,n.lng+r))},getCenter:function(){return new E((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new E(this.getNorth(),this.getWest())},getSouthEast:function(){return new E(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof E||"lat"in t?k(t):C(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof A?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=C(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),s=r.lat>=e.lat&&i.lat<=n.lat,o=r.lng>=e.lng&&i.lng<=n.lng;return s&&o},overlaps:function(t){t=C(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),s=r.lat>e.lat&&i.lat<n.lat,o=r.lng>e.lng&&i.lng<n.lng;return s&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=C(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}};var ne,ie={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new w(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!(E.prototype={equals:function(t,e){return!!t&&(t=k(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+i(this.lat,t)+", "+i(this.lng,t)+")"},distanceTo:function(t){return re.distance(this,k(t))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return C([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new E(this.lat,this.lng,this.alt)}}),wrapLatLng:function(t){var e=this.wrapLng?n(t.lng,this.wrapLng,!0):t.lng;return new E(this.wrapLat?n(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var s=t.getSouthWest(),o=t.getNorthEast();return new A(new E(s.lat-i,s.lng-r),new E(o.lat-i,o.lng-r))}},re=l({},ie,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,s=Math.sin((e.lat-t.lat)*n/2),o=Math.sin((e.lng-t.lng)*n/2),a=s*s+Math.cos(i)*Math.cos(r)*o*o,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),se={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new y(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new E((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(ne=6378137*Math.PI,new w([-ne,-ne],[ne,ne]))};S.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new y((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var oe,ae,le,ce,he=l({},re,{code:"EPSG:3857",projection:se,transformation:(ce=.5/(Math.PI*se.R),F(ce,.5,-ce,.5))}),ue=l({},he,{code:"EPSG:900913"}),de=document.documentElement.style,fe="ActiveXObject"in window,pe=fe&&!document.addEventListener,ge="msLaunchUri"in navigator&&!("documentMode"in document),me=M("webkit"),ve=M("android"),ye=M("android 2")||M("android 3"),be=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_e=ve&&M("Google")&&be<537&&!("AudioNode"in window),we=!!window.opera,xe=M("chrome"),Ae=M("gecko")&&!me&&!we&&!fe,Ce=!xe&&M("safari"),Ee=M("phantom"),ke="OTransition"in de,Se=0===navigator.platform.indexOf("Win"),Fe=fe&&"transition"in de,Te="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ye,De="MozPerspective"in de,Me=!window.L_DISABLE_3D&&(Fe||Te||De)&&!ke&&!Ee,Pe="undefined"!=typeof orientation||M("mobile"),Le=Pe&&me,Be=Pe&&Te,$e=!window.PointerEvent&&window.MSPointerEvent,Re=!(!window.PointerEvent&&!$e),Oe=!window.L_NO_TOUCH&&(Re||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ie=Pe&&we,Ne=Pe&&Ae,ze=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),He=!!document.createElement("canvas").getContext,je=!(!document.createElementNS||!T("svg").createSVGRect),We=!je&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),Ve=(Object.freeze||Object)({ie:fe,ielt9:pe,edge:ge,webkit:me,android:ve,android23:ye,androidStock:_e,opera:we,chrome:xe,gecko:Ae,safari:Ce,phantom:Ee,opera12:ke,win:Se,ie3d:Fe,webkit3d:Te,gecko3d:De,any3d:Me,mobile:Pe,mobileWebkit:Le,mobileWebkit3d:Be,msPointer:$e,pointer:Re,touch:Oe,mobileOpera:Ie,mobileGecko:Ne,retina:ze,canvas:He,svg:je,vml:We}),Ue=$e?"MSPointerDown":"pointerdown",Ye=$e?"MSPointerMove":"pointermove",qe=$e?"MSPointerUp":"pointerup",Ze=$e?"MSPointerCancel":"pointercancel",Ge=["INPUT","SELECT","OPTION"],Ke={},Xe=!1,Qe=0,Je=$e?"MSPointerDown":Re?"pointerdown":"touchstart",tn=$e?"MSPointerUp":Re?"pointerup":"touchend",en="_leaflet_",nn=J(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),rn=J(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),sn="webkitTransition"===rn||"OTransition"===rn?rn+"End":"transitionend";if("onselectstart"in document)oe=function(){ct(window,"selectstart",mt)},ae=function(){ht(window,"selectstart",mt)};else{var on=J(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);oe=function(){if(on){var t=document.documentElement.style;le=t[on],t[on]="none"}},ae=function(){on&&(document.documentElement.style[on]=le,le=void 0)}}var an,ln,cn,hn=(Object.freeze||Object)({TRANSFORM:nn,TRANSITION:rn,TRANSITION_END:sn,get:z,getStyle:H,create:j,remove:W,empty:V,toFront:U,toBack:Y,hasClass:q,addClass:Z,removeClass:G,setClass:K,getClass:X,setOpacity:Q,testProp:J,setTransform:tt,setPosition:et,getPosition:nt,disableTextSelection:oe,enableTextSelection:ae,disableImageDrag:it,enableImageDrag:rt,preventOutline:st,restoreOutline:ot,getSizedParentNode:at,getScale:lt}),un="_leaflet_events",dn=Se&&xe?2*window.devicePixelRatio:Ae?window.devicePixelRatio:1,fn={},pn=(Object.freeze||Object)({on:ct,off:ht,stopPropagation:ft,disableScrollPropagation:pt,disableClickPropagation:gt,preventDefault:mt,stop:vt,getMousePosition:yt,getWheelDelta:bt,fakeStop:_t,skipped:wt,isExternalTarget:xt,addListener:ct,removeListener:ht}),gn=te.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=nt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),et(this._el,n),this.fire("step")},_complete:function(){m(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),mn=te.extend({options:{crs:he,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=o(this,e),this._initContainer(t),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(k(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=rn&&Me&&!Ie&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ct(this._proxy,sn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(k(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=l({animate:n.animate},n.zoom),n.pan=l({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan))?clearTimeout(this._sizeTimer):this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Me?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Me?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),s=(t instanceof y?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/i),o=this.containerPointToLatLng(r.add(s));return this.setView(o,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():C(t);var n=b(e.paddingTopLeft||e.padding||[0,0]),i=b(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var s=i.subtract(n).divideBy(2),o=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r);return{center:this.unproject(o.add(a).divideBy(2).add(s),r),zoom:r}},fitBounds:function(t,e){if(!(t=C(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=b(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){Z(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(s,o,t){function e(t){var e=(r*r-d*d+(t?-1:1)*g*g*f*f)/(2*(t?r:d)*g*f),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function n(t){return(Math.exp(t)-Math.exp(-t))/2}function a(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return d*(a(m)*(n(e=m+p*t)/a(e))-n(m))/g;var e}if(!1===(t=t||{}).animate||!Me)return this.setView(s,o,t);this._stop();var c=this.project(this.getCenter()),h=this.project(s),i=this.getSize(),u=this._zoom;s=k(s),o=void 0===o?u:o;var d=Math.max(i.x,i.y),r=d*this.getZoomScale(u,o),f=h.distanceTo(c)||1,p=1.42,g=p*p,m=e(0),v=Date.now(),y=(e(1)-m)/p,b=t.duration?1e3*t.duration:1e3*y*.8;return this._moveStart(!0,t.noMoveStart),function t(){var e,n,i=(Date.now()-v)/b,r=(e=i,(1-Math.pow(1-e,1.5))*y);i<=1?(this._flyToFrame=_(t,this),this._move(this.unproject(c.add(h.subtract(c).multiplyBy(l(r)/f)),u),this.getScaleZoom(d/(n=r,d*(a(m)/a(m+p*n))),u),{flyTo:!0})):this._move(s,o)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=C(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,C(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=l({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),r=n.divideBy(2).round(),s=i.subtract(r);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=l({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=p(this._handleGeolocationResponse,this),n=p(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new E(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(r,i.maxZoom):r)}var s={latlng:e,bounds:n,timestamp:t.timestamp};for(var o in t.coords)"number"==typeof t.coords[o]&&(s[o]=t.coords[o]);this.fire("locationfound",s)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),W(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(m(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)W(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=j("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new A(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=C(t),n=b(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),s=this.getMaxZoom(),o=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(n),c=x(this.project(a,i),this.project(o,i)).getSize(),h=Me?this.options.zoomSnap:1,u=l.x/c.x,d=l.y/c.y,f=e?Math.max(u,d):Math.min(u,d);return i=this.getScaleZoom(f,i),h&&(i=Math.round(i/(h/100))*(h/100),i=e?Math.ceil(i/h)*h:Math.floor(i/h)*h),Math.max(r,Math.min(s,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new w(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(k(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(b(t),e)},layerPointToLatLng:function(t){var e=b(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(k(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(k(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(C(t))},distance:function(t,e){return this.options.crs.distance(k(t),k(e))},containerPointToLayerPoint:function(t){return b(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return b(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(b(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(k(t)))},mouseEventToContainerPoint:function(t){return yt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=z(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");ct(e,"scroll",this._onScroll,this),this._containerId=h(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me,Z(t,"leaflet-container"+(Oe?" leaflet-touch":"")+(ze?" leaflet-retina":"")+(pe?" leaflet-oldie":"")+(Ce?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=H(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),et(this._mapPane,new y(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Z(t.markerPane,"leaflet-zoom-hide"),Z(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){et(this._mapPane,new y(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return m(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){et(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var e=t?ht:ct;e((this._targets[h(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Me&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){m(this._resizeRequest),this._resizeRequest=_(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],r="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,o=!1;s;){if((n=this._targets[h(s)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){o=!0;break}if(n&&n.listens(e,!0)){if(r&&!xt(s,t))break;if(i.push(n),r)break}if(s===this._container)break;s=s.parentNode}return i.length||o||r||!xt(s,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!wt(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||st(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var i=l({},t);i.type="preclick",this._fireDOMEvent(i,i.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var r=n[0];"contextmenu"===e&&r.listens(e,!0)&&mt(t);var s={originalEvent:t};if("keypress"!==t.type){var o=r.getLatLng&&(!r._radius||r._radius<=10);s.containerPoint=o?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=o?r.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var a=0;a<n.length;a++)if(n[a].fire(e,s,!0),s.originalEvent._stopped||!1===n[a].options.bubblingMouseEvents&&-1!==d(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return nt(this._mapPane)||new y(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return x([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),s=new w(i.subtract(r),i.add(r)),o=this._getBoundsOffset(s,n,e);return o.round().equals([0,0])?t:this.unproject(i.add(o),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new w(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=x(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),s=i.max.subtract(t.max);return new y(this._rebound(r.x,-s.x),this._rebound(r.y,-s.y))},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Me?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){G(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=j("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=nn,n=this._proxy.style[e];tt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();tt(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){W(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r)||(_(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,Z(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&G(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),_(function(){this._moveEnd(!0)},this))}}),vn=v.extend({options:{position:"topright"},initialize:function(t){o(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return Z(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map&&(W(this._container),this.onRemove&&this.onRemove(this._map),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}}),yn=function(t){return new vn(t)};mn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,e){var n=r+t+" "+r+e;i[t+e]=j("div",n,s)}var i=this._controlCorners={},r="leaflet-",s=this._controlContainer=j("div",r+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)W(this._controlCorners[t]);W(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bn=vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in o(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return vn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(h(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){Z(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(Z(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):G(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return G(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=j("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),gt(e),pt(e);var i=this._form=j("form",t+"-list");n&&(this._map.on("click",this.collapse,this),ve||ct(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=j("a",t+"-toggle",e);r.href="#",r.title="Layers",Oe?(ct(r,"click",vt),ct(r,"click",this.expand,this)):ct(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=j("div",t+"-base",i),this._separator=j("div",t+"-separator",i),this._overlaysList=j("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&h(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(p(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;V(this._baseLayersList),V(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&1<r,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(h(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers",i),this._layerControlInputs.push(e),e.layerId=h(t.layer),ct(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var s=document.createElement("div");return n.appendChild(s),s.appendChild(e),s.appendChild(r),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var s=n.length-1;0<=s;s--)t=n[s],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(s=0;s<r.length;s++)this._map.hasLayer(r[s])&&this._map.removeLayer(r[s]);for(s=0;s<i.length;s++)this._map.hasLayer(i[s])||this._map.addLayer(i[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;0<=r;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),_n=vn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=j("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var s=j("a",n,i);return s.innerHTML=t,s.href="#",s.title=e,s.setAttribute("role","button"),s.setAttribute("aria-label",e),gt(s),ct(s,"click",vt),ct(s,"click",r,this),ct(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";G(this._zoomInButton,e),G(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&Z(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&Z(this._zoomInButton,e)}});mn.mergeOptions({zoomControl:!0}),mn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new _n,this.addControl(this.zoomControl))});var wn=vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=j("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=j("div",e,n)),t.imperial&&(this._iScale=j("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;5280<r?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=10<=n?10:5<=n?5:3<=n?3:2<=n?2:1)}}),xn=vn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=j("div","leaflet-control-attribution"),gt(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});mn.mergeOptions({attributionControl:!0}),mn.addInitHook(function(){this.options.attributionControl&&(new xn).addTo(this)}),vn.Layers=bn,vn.Zoom=_n,vn.Scale=wn,vn.Attribution=xn,yn.layers=function(t,e,n){return new bn(t,e,n)},yn.zoom=function(t){return new _n(t)},yn.scale=function(t){return new wn(t)},yn.attribution=function(t){return new xn(t)};var An=v.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});An.addTo=function(t,e){return t.addHandler(e,this),this};var Cn,En,kn={Events:Jt},Sn=Oe?"touchstart mousedown":"mousedown",Fn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Tn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Dn=te.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){o(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(ct(this._dragStartTarget,Sn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Dn._dragging===this&&this.finishDrag(),ht(this._dragStartTarget,Sn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!q(this._element,"leaflet-zoom-anim")&&!(Dn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((Dn._dragging=this)._preventOutline&&st(this._element),it(),oe(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=at(this._element);this._startPoint=new y(e.clientX,e.clientY),this._parentScale=lt(n),ct(document,Tn[t.type],this._onMove,this),ct(document,Fn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&1<t.touches.length)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new y(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,mt(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=nt(this._element).subtract(n),Z(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Z(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,m(this._animRequest),this._lastEvent=t,this._animRequest=_(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),et(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in G(document.body,"leaflet-dragging"),this._lastTarget&&(G(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Tn)ht(document,Tn[t],this._onMove,this),ht(document,Fn[t],this._onUp,this);rt(),ae(),this._moved&&this._moving&&(m(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Dn._dragging=!1}}),Mn=(Object.freeze||Object)({simplify:At,pointToSegmentDistance:Ct,closestPointOnSegment:function(t,e,n){return Ft(t,e,n)},clipSegment:Et,_getEdgeIntersection:kt,_getBitCode:St,_sqClosestPointOnSegment:Ft,isFlat:Tt,_flat:Dt}),Pn=(Object.freeze||Object)({clipPolygon:Mt}),Ln={project:function(t){return new y(t.lng,t.lat)},unproject:function(t){return new E(t.y,t.x)},bounds:new w([-180,-90],[180,90])},Bn={R:6378137,R_MINOR:6356752.314245179,bounds:new w([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,s=Math.sqrt(1-r*r),o=s*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-o)/(1+o),s/2);return i=-n*Math.log(Math.max(a,1e-10)),new y(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,s=Math.sqrt(1-r*r),o=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(o),l=0,c=.1;l<15&&1e-7<Math.abs(c);l++)e=s*Math.sin(a),e=Math.pow((1-e)/(1+e),s/2),a+=c=Math.PI/2-2*Math.atan(o*e)-a;return new E(a*n,t.x*n/i)}},$n=(Object.freeze||Object)({LonLat:Ln,Mercator:Bn,SphericalMercator:se}),Rn=l({},re,{code:"EPSG:3395",projection:Bn,transformation:(En=.5/(Math.PI*Bn.R),F(En,.5,-En,.5))}),On=l({},re,{code:"EPSG:4326",projection:Ln,transformation:F(1/180,1,-1/180,.5)}),In=l({},ie,{projection:Ln,transformation:F(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});ie.Earth=re,ie.EPSG3395=Rn,ie.EPSG3857=he,ie.EPSG900913=ue,ie.EPSG4326=On,ie.Simple=In;var Nn=te.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[h(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[h(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});mn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=h(t);return this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=h(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return!!t&&h(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?qt(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[h(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=h(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zn=Nn.extend({initialize:function(t,e){var n,i;if(o(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return h(t)}}),Hn=zn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),zn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),zn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new A;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),jn=v.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){o(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var r=b(i),s=b("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return ze&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Wn=jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Wn.imagePath||(Wn.imagePath=this._detectIconPath()),(this.options.imagePath||Wn.imagePath)+jn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=j("div","leaflet-default-icon-path",document.body),e=H(t,"background-image")||H(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Vn=An.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Dn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Z(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&G(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,s=nt(e._icon),o=n.getPixelBounds(),a=n.getPixelOrigin(),l=x(o.min._subtract(a).add(r),o.max._subtract(a).subtract(r));if(!l.contains(s)){var c=b((Math.max(l.max.x,s.x)-l.max.x)/(o.max.x-l.max.x)-(Math.min(l.min.x,s.x)-l.min.x)/(o.min.x-l.min.x),(Math.max(l.max.y,s.y)-l.max.y)/(o.max.y-l.max.y)-(Math.min(l.min.y,s.y)-l.min.y)/(o.min.y-l.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),et(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=_(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(m(this._panRequest),this._panRequest=_(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=nt(e._icon),r=e._map.layerPointToLatLng(i);n&&et(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){m(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Un=Nn.extend({options:{icon:new Wn,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){o(this,e),this._latlng=k(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=k(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),Z(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),s=!1;r!==this._shadow&&(this._removeShadow(),s=!0),r&&(Z(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&s&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),W(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&W(this._shadow),this._shadow=null},_setPos:function(t){et(this._icon,t),this._shadow&&et(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(Z(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Vn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Vn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;Q(this._icon,t),this._shadow&&Q(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Yn=Nn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return o(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),qn=Yn.extend({options:{fill:!0,radius:10},initialize:function(t,e){o(this,e),this._latlng=k(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=k(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Yn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new w(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Zn=qn.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=l({},n,{radius:e})),o(this,e),this._latlng=k(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new A(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Yn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===re.distance){var r=Math.PI/180,s=this._mRadius/re.R/r,o=n.project([e+s,t]),a=n.project([e-s,t]),l=o.add(a).divideBy(2),c=n.unproject(l).lat,h=Math.acos((Math.cos(s*r)-Math.sin(e*r)*Math.sin(c*r))/(Math.cos(e*r)*Math.cos(c*r)))/r;(isNaN(h)||0===h)&&(h=s/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(h)?0:l.x-n.project([c,t-h]).x,this._radiusY=l.y-o.y}else{var u=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(u).x}this._updateBounds()}}),Gn=Yn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){o(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,s=Ft,o=0,a=this._parts.length;o<a;o++)for(var l=this._parts[o],c=1,h=l.length;c<h;c++){var u=s(t,e=l[c-1],n=l[c],!0);u<i&&(i=u,r=s(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,s,o,a=this._rings[0],l=a.length;if(!l)return null;for(e=t=0;t<l-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(i=t=0;t<l-1;t++)if(r=a[t],s=a[t+1],(i+=n=r.distanceTo(s))>e)return o=(i-e)/n,this._map.layerPointToLatLng([s.x-o*(s.x-r.x),s.y-o*(s.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=k(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new A,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Tt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Tt(t),i=0,r=t.length;i<r;i++)n?(e[i]=k(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new w;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new y(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,r,s=t[0]instanceof E,o=t.length;if(s){for(r=[],i=0;i<o;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<o;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,r,s,o,a,l=this._parts;for(i=e=0,r=this._rings.length;e<r;e++)for(n=0,s=(a=this._rings[e]).length;n<s-1;n++)(o=Et(a[n],a[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(o[0]),o[1]===a[n+1]&&n!==s-2||(l[i].push(o[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=At(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,s,o,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,s=this._parts.length;n<s;n++)for(i=0,r=(o=(a=this._parts[n]).length)-1;i<o;r=i++)if((e||0!==i)&&Ct(t,a[r],a[i])<=l)return!0;return!1}});Gn._flat=Dt;var Kn=Gn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,s,o,a,l,c=this._rings[0],h=c.length;if(!h)return null;for(s=o=a=0,t=0,e=h-1;t<h;e=t++)n=c[t],i=c[e],r=n.y*i.x-i.y*n.x,o+=(n.x+i.x)*r,a+=(n.y+i.y)*r,s+=3*r;return l=0===s?c[0]:[o/s,a/s],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=Gn.prototype._convertLatLngs.call(this,t),n=e.length;return 2<=n&&e[0]instanceof E&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Gn.prototype._setLatLngs.call(this,t),Tt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Tt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new y(e,e);if(t=new w(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,s=this._rings.length;r<s;r++)(i=Mt(this._rings[r],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,s,o,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(s=0,o=(l=(e=this._parts[r]).length)-1;s<l;o=s++)n=e[s],i=e[o],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||Gn.prototype._containsPoint.call(this,t,!0)}}),Xn=Hn.extend({initialize:function(t,e){o(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=qt(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((i=r[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var o=Pt(t,s);return o?(o.feature=It(t),o.defaultOptions=o.options,this.resetStyle(o),s.onEachFeature&&s.onEachFeature(t,o),this.addLayer(o)):this},resetStyle:function(t){return t.options=l({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),Qn={toGeoJSON:function(t){return Ot(this,{type:"Point",coordinates:$t(this.getLatLng(),t)})}};Un.include(Qn),Zn.include(Qn),qn.include(Qn),Gn.include({toGeoJSON:function(t){var e=!Tt(this._latlngs);return Ot(this,{type:(e?"Multi":"")+"LineString",coordinates:Rt(this._latlngs,e?1:0,!1,t)})}}),Kn.include({toGeoJSON:function(t){var e=!Tt(this._latlngs),n=e&&!Tt(this._latlngs[0]),i=Rt(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Ot(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),zn.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(t){n.push(t.toGeoJSON(e).geometry.coordinates)}),Ot(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(i){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(i);var r="GeometryCollection"===t,s=[];return this.eachLayer(function(t){if(t.toGeoJSON){var e=t.toGeoJSON(i);if(r)s.push(e.geometry);else{var n=It(e);"FeatureCollection"===n.type?s.push.apply(s,n.features):s.push(n)}}}),r?Ot(this,{geometries:s,type:"GeometryCollection"}):{type:"FeatureCollection",features:s}}});var Jn=Nt,ti=Nn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=C(e),o(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Z(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){W(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&U(this._image),this},bringToBack:function(){return this._map&&Y(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=C(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:j("img");Z(e,"leaflet-image-layer"),this._zoomAnimated&&Z(e,"leaflet-zoom-animated"),this.options.className&&Z(e,this.options.className),e.onselectstart=a,e.onmousemove=a,e.onload=p(this.fire,this,"load"),e.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;tt(this._image,n,e)},_reset:function(){var t=this._image,e=new w(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();et(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){Q(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),ei=ti.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:j("video");if(Z(e,"leaflet-image-layer"),this._zoomAnimated&&Z(e,"leaflet-zoom-animated"),e.onselectstart=a,e.onmousemove=a,e.onloadeddata=p(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=0<n.length?i:[e.src]}else{qt(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var o=j("source");o.src=this._url[s],e.appendChild(o)}}}}),ni=Nn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){o(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Q(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Q(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(Q(this._container,0),this._removeTimeout=setTimeout(p(W,void 0,this._container),200)):W(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=k(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&U(this._container),this},bringToBack:function(){return this._map&&Y(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=b(this.options.offset),n=this._getAnchor();this._zoomAnimated?et(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),ii=ni.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){ni.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yn||this._source.on("preclick",ft))},onRemove:function(t){ni.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yn||this._source.off("preclick",ft))},getEvents:function(){var t=ni.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=j("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=j("div",t+"-content-wrapper",e);if(this._contentNode=j("div",t+"-content",n),gt(n),pt(this._contentNode),ct(n,"contextmenu",ft),this._tipContainer=j("div",t+"-tip-container",e),this._tip=j("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=j("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",ct(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight;r&&r<i?(e.height=r+"px",Z(t,"leaflet-popup-scrolled")):G(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();et(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(H(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new y(this._containerLeft,-n-this._containerBottom);r._add(nt(this._container));var s=t.layerPointToContainerPoint(r),o=b(this.options.autoPanPadding),a=b(this.options.autoPanPaddingTopLeft||o),l=b(this.options.autoPanPaddingBottomRight||o),c=t.getSize(),h=0,u=0;s.x+i+l.x>c.x&&(h=s.x+i-c.x+l.x),s.x-h-a.x<0&&(h=s.x-a.x),s.y+n+l.y>c.y&&(u=s.y+n-c.y+l.y),s.y-u-a.y<0&&(u=s.y-a.y),(h||u)&&t.fire("autopanstart").panBy([h,u])}},_onCloseButtonClick:function(t){this._close(),vt(t)},_getAnchor:function(){return b(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});mn.mergeOptions({closePopupOnClick:!0}),mn.include({openPopup:function(t,e,n){return t instanceof ii||(t=new ii(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Nn.include({bindPopup:function(t,e){return t instanceof ii?(o(t,e),(this._popup=t)._source=this):(this._popup&&!e||(this._popup=new ii(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof Nn||(e=t,t=this),t instanceof Hn)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(vt(t),e instanceof Yn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var ri=ni.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){ni.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){ni.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=ni.prototype.getEvents.call(this);return Oe&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=j("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),s=this.options.direction,o=n.offsetWidth,a=n.offsetHeight,l=b(this.options.offset),c=this._getAnchor();"top"===s?t=t.add(b(-o/2+l.x,-a+l.y+c.y,!0)):"bottom"===s?t=t.subtract(b(o/2-l.x,-l.y,!0)):"center"===s?t=t.subtract(b(o/2+l.x,a/2-c.y+l.y,!0)):"right"===s||"auto"===s&&r.x<i.x?(s="right",t=t.add(b(l.x+c.x,c.y-a/2+l.y,!0))):(s="left",t=t.subtract(b(o+c.x-l.x,a/2-c.y-l.y,!0))),G(n,"leaflet-tooltip-right"),G(n,"leaflet-tooltip-left"),G(n,"leaflet-tooltip-top"),G(n,"leaflet-tooltip-bottom"),Z(n,"leaflet-tooltip-"+s),et(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Q(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return b(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});mn.include({openTooltip:function(t,e,n){return t instanceof ri||(t=new ri(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Nn.include({bindTooltip:function(t,e){return t instanceof ri?(o(t,e),(this._tooltip=t)._source=this):(this._tooltip&&!e||(this._tooltip=new ri(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Oe&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof Nn||(e=t,t=this),t instanceof Hn)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(Z(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(G(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var si=jn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=b(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});jn.Default=Wn;var oi=Nn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){o(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),W(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(U(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Y(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=e(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof y?t:new y(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,s=n.length;r<s;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!pe){Q(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var s=Math.min(1,(t-r.loaded)/200);Q(r.el,s),s<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(m(this._fadeFrame),this._fadeFrame=_(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=j("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(W(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||((i=this._levels[t]={}).el=j("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)W(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),s=Math.floor(e/2),o=n-1,a=new y(+r,+s);a.z=+o;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?c.retain=!0:(c&&c.loaded&&(c.retain=!0),i<o&&this._retainParent(r,s,o,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var s=2*e;s<2*e+2;s++){var o=new y(r,s);o.z=n+1;var a=this._tileCoordsToKey(o),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(r,s,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var s=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!s||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Me?tt(t.el,r,i):et(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),s=e.getSize().divideBy(2*i);return new w(r.subtract(s),r.add(s))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),s=r.getCenter(),o=[],a=this.options.keepBuffer,l=new w(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var h=this._tiles[c].coords;h.z===this._tileZoom&&l.contains(new y(h.x,h.y))||(this._tiles[c].current=!1)}if(1<Math.abs(n-this._tileZoom))this._setView(t,n);else{for(var u=r.min.y;u<=r.max.y;u++)for(var d=r.min.x;d<=r.max.x;d++){var f=new y(d,u);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:o.push(f)}}if(o.sort(function(t,e){return t.distanceTo(s)-e.distanceTo(s)}),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(d=0;d<o.length;d++)this._addTile(o[d],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return C(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n);return[e.unproject(i,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new A(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new y(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(_e||e.el.setAttribute("src",Zt),W(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Z(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=a,t.onmousemove=a,pe&&this.options.opacity<1&&Q(t,this.options.opacity),ve&&!ye&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),p(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&_(p(this._tileReady,this,t,null,r)),et(r,n),this._tiles[i]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){if(this._map&&n.getAttribute("src")!==Zt){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(Q(n.el,0),m(this._fadeFrame),this._fadeFrame=_(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(Z(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),pe||!this._map._fadeAnimated?_(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new y(this._wrapX?n(t.x,this._wrapX):t.x,this._wrapY?n(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new w(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ai=oi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=o(this,e)).detectRetina&&ze&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),ve||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return ct(n,"load",p(this._tileOnLoad,this,e,n)),ct(n,"error",p(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:ze?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return s(this._url,l(e,this.options))},_tileOnLoad:function(t,e){pe?setTimeout(p(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=a,e.onerror=a,e.complete||(e.src=Zt,W(e),delete this._tiles[t]))}}),li=ai.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=l({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);var r=(e=o(this,e)).detectRetina&&ze?2:1,s=this.getTileSize();n.width=s.x*r,n.height=s.y*r,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[e]=this._crs.code,ai.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=x(n.project(e[0]),n.project(e[1])),r=i.min,s=i.max,o=(1.3<=this._wmsVersion&&this._crs===On?[r.y,r.x,s.y,s.x]:[r.x,r.y,s.x,s.y]).join(","),a=ai.prototype.getTileUrl.call(this,t);return a+u(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return l(this.wmsParams,t),e||this.redraw(),this}});ai.WMS=li,zt.wms=function(t,e){return new li(t,e)};var ci=Nn.extend({options:{padding:.1,tolerance:0},initialize:function(t){o(this,t),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Z(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=nt(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),o=this._map.project(t,e).subtract(s),a=r.multiplyBy(-n).add(i).add(r).subtract(o);Me?tt(this._container,a,n):et(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new w(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),hi=ci.extend({getEvents:function(){var t=ci.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ci.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ct(t,"mousemove",e(this._onMouseMove,32,this),this),ct(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ct(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){m(this._redrawRequest),delete this._ctx,W(this._container),ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},ci.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=ze?2:1;et(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",ze&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ci.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t);var e=(this._layers[h(t)]=t)._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete this._drawnLayers[t._leaflet_id],delete t._order,delete this._layers[h(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n=t.options.dashArray.split(","),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||_(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new w,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,s,o=t._parts,a=o.length,l=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,l.beginPath(),n=0;n<a;n++){for(i=0,r=o[n].length;i<r;i++)s=o[n][i],l[i?"lineTo":"moveTo"](s.x,s.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(_t(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(G(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(Z(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,i=e.prev;n&&((n.prev=i)?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,(this._drawLast.next=e).next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,i=e.prev;i&&((i.next=n)?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),ui=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),di={_initContainer:function(){this._container=j("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ci.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ui("shape");Z(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ui("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[h(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;W(e),t.removeInteractiveTarget(e),delete this._layers[h(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=ui("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=qt(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=ui("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){U(t._container)},_bringToBack:function(t){Y(t._container)}},fi=We?ui:T,pi=ci.extend({getEvents:function(){var t=ci.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=fi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){W(this._container),ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ci.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),et(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=fi("path");t.options.className&&Z(e,t.options.className),t.options.interactive&&Z(e,"leaflet-interactive"),this._updateStyle(t),this._layers[h(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){W(t._path),t.removeInteractiveTarget(t._path),delete this._layers[h(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,D(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){U(t._path)},_bringToBack:function(t){Y(t._path)}});We&&pi.include(di),mn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Ht(t)||jt(t)}});var gi=Kn.extend({initialize:function(t,e){Kn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=C(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pi.create=fi,pi.pointsToPath=D,Xn.geometryToLayer=Pt,Xn.coordsToLatLng=Lt,Xn.coordsToLatLngs=Bt,Xn.latLngToCoords=$t,Xn.latLngsToCoords=Rt,Xn.getFeature=Ot,Xn.asFeature=It,mn.mergeOptions({boxZoom:!0});var mi=An.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){W(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),oe(),it(),this._startPoint=this._map.mouseEventToContainerPoint(t),ct(document,{contextmenu:vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=j("div","leaflet-zoom-box",this._container),Z(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new w(this._point,this._startPoint),n=e.getSize();et(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(W(this._box),G(this._container,"leaflet-crosshair")),ae(),rt(),ht(document,{contextmenu:vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var e=new A(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});mn.addInitHook("addHandler","boxZoom",mi),mn.mergeOptions({doubleClickZoom:!0});var vi=An.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});mn.addInitHook("addHandler","doubleClickZoom",vi),mn.mergeOptions({dragging:!0,inertia:!ye,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yi=An.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Dn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Z(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){G(this._map._container,"leaflet-grab"),G(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=C(this._map.options.maxBounds);this._offsetLimit=x(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,s=(i+e+n)%t-e-n,o=Math.abs(r+n)<Math.abs(s+n)?r:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,a=r.multiplyBy(o/s),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),h=a.multiplyBy(c/l),u=c/(n.inertiaDeceleration*o),d=h.multiplyBy(-u/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),_(function(){e.panBy(d,{duration:u,easeLinearity:o,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});mn.addInitHook("addHandler","dragging",yi),mn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bi=An.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ct(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=b(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}vt(t)}}});mn.addInitHook("addHandler","keyboard",bi),mn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _i=An.extend({addHooks:function(){ct(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ht(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=bt(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),i),vt(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,s=n?Math.ceil(r/n)*n:r,o=t._limitZoom(e+(0<this._delta?s:-s))-e;this._delta=0,this._startTime=null,o&&("center"===t.options.scrollWheelZoom?t.setZoom(e+o):t.setZoomAround(this._lastMousePos,e+o))}});mn.addInitHook("addHandler","scrollWheelZoom",_i),mn.mergeOptions({tap:!0,tapTolerance:15});var wi=An.extend({addHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(mt(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new y(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&Z(n,"leaflet-active"),this._holdTimeout=setTimeout(p(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),ct(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),ht(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&G(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new y(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});Oe&&!Re&&mn.addInitHook("addHandler","tap",wi),mn.mergeOptions({touchZoom:Oe&&!ye,bounceAtZoomLimits:!0});var xi=An.extend({addHooks:function(){Z(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){G(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend",this._onTouchEnd,this),mt(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&1<r)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),m(this._animRequest);var o=p(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=_(o,this,!0),mt(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,m(this._animRequest),ht(document,"touchmove",this._onTouchMove),ht(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});mn.addInitHook("addHandler","touchZoom",xi),mn.BoxZoom=mi,mn.DoubleClickZoom=vi,mn.Drag=yi,mn.Keyboard=bi,mn.ScrollWheelZoom=_i,mn.Tap=wi,mn.TouchZoom=xi,Object.freeze=Wt,t.version="1.3.3+HEAD.b22aef4",t.Control=vn,t.control=yn,t.Browser=Ve,t.Evented=te,t.Mixin=kn,t.Util=Qt,t.Class=v,t.Handler=An,t.extend=l,t.bind=p,t.stamp=h,t.setOptions=o,t.DomEvent=pn,t.DomUtil=hn,t.PosAnimation=gn,t.Draggable=Dn,t.LineUtil=Mn,t.PolyUtil=Pn,t.Point=y,t.point=b,t.Bounds=w,t.bounds=x,t.Transformation=S,t.transformation=F,t.Projection=$n,t.LatLng=E,t.latLng=k,t.LatLngBounds=A,t.latLngBounds=C,t.CRS=ie,t.GeoJSON=Xn,t.geoJSON=Nt,t.geoJson=Jn,t.Layer=Nn,t.LayerGroup=zn,t.layerGroup=function(t,e){return new zn(t,e)},t.FeatureGroup=Hn,t.featureGroup=function(t){return new Hn(t)},t.ImageOverlay=ti,t.imageOverlay=function(t,e,n){return new ti(t,e,n)},t.VideoOverlay=ei,t.videoOverlay=function(t,e,n){return new ei(t,e,n)},t.DivOverlay=ni,t.Popup=ii,t.popup=function(t,e){return new ii(t,e)},t.Tooltip=ri,t.tooltip=function(t,e){return new ri(t,e)},t.Icon=jn,t.icon=function(t){return new jn(t)},t.DivIcon=si,t.divIcon=function(t){return new si(t)},t.Marker=Un,t.marker=function(t,e){return new Un(t,e)},t.TileLayer=ai,t.tileLayer=zt,t.GridLayer=oi,t.gridLayer=function(t){return new oi(t)},t.SVG=pi,t.svg=jt,t.Renderer=ci,t.Canvas=hi,t.canvas=Ht,t.Path=Yn,t.CircleMarker=qn,t.circleMarker=function(t,e){return new qn(t,e)},t.Circle=Zn,t.circle=function(t,e,n){return new Zn(t,e,n)},t.Polyline=Gn,t.polyline=function(t,e){return new Gn(t,e)},t.Polygon=Kn,t.polygon=function(t,e){return new Kn(t,e)},t.Rectangle=gi,t.rectangle=function(t,e){return new gi(t,e)},t.Map=mn,t.map=function(t,e){return new mn(t,e)};var Ai=window.L;t.noConflict=function(){return window.L=Ai,this},window.L=t}),function(t){var r="a. b. c. d.".split(" "),o=function(t,e,n,i){return{url:["http://{S}tile.stamen.com/",t,"/{Z}/{X}/{Y}.",e].join(""),type:e,subdomains:r.slice(),minZoom:n,maxZoom:i,attribution:['Map tiles by <a href="http://stamen.com/">Stamen Design</a>, ','under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. ','Data by <a href="http://openstreetmap.org/">OpenStreetMap</a>, ','under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.'].join("")}},a={toner:o("toner","png",0,20),terrain:o("terrain","png",0,18),"terrain-classic":o("terrain-classic","png",0,18),watercolor:o("watercolor","jpg",1,18),"trees-cabs-crime":{url:"http://{S}.tiles.mapbox.com/v3/stamen.trees-cabs-crime/{Z}/{X}/{Y}.png",type:"png",subdomains:"a b c d".split(" "),minZoom:11,maxZoom:18,extent:[{lat:37.853,lon:-122.577},{lat:37.684,lon:-122.313}],attribution:['Design by Shawn Allen at <a href="http://stamen.com/">Stamen</a>.','Data courtesy of <a href="http://fuf.net/">FuF</a>,','<a href="http://www.yellowcabsf.com/">Yellow Cab</a>','&amp; <a href="http://sf-police.org/">SFPD</a>.'].join(" ")}};a["terrain-classic"].url="http://{S}tile.stamen.com/terrain/{Z}/{X}/{Y}.png",h("toner",["hybrid","labels","lines","background","lite"]),h("terrain",["background","labels","lines"]),c("toner",["2010"]),c("toner",["2011","2011-lines","2011-labels","2011-lite"]);for(var e,n,i=["toner","toner-hybrid","toner-labels","toner-lines","toner-background","toner-lite","terrain","terrain-background","terrain-lines","terrain-labels","terrain-classic"],s=0;s<i.length;s++){var l=i[s];a[l].retina=!0,a[l].attribution=['Map tiles by <a href="http://stamen.com/">Stamen Design</a>, ','under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. ','Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, ','under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.'].join("")}function c(t,e){for(var n=u(t),i=0;i<e.length;i++){var r=[t,e[i]].join("-");a[r]=o(r,n.type,n.minZoom,n.maxZoom),a[r].deprecated=!0}}function h(t,e,n){for(var i=u(t),r=0;r<e.length;r++){var s=[t,e[r]].join("-");a[s]=o(s,n||i.type,i.minZoom,i.maxZoom)}}function u(t){if(t in a){var e=a[t];return e.deprecated&&console&&console.warn&&console.warn(t+" is a deprecated style; it will be redirected to its replacement. For performance improvements, please change your reference."),e}throw"No such provider ("+t+")"}if(t.stamen=t.stamen||{},t.stamen.tile=t.stamen.tile||{},t.stamen.tile.providers=a,t.stamen.tile.getProvider=u,"object"==typeof MM){var d="function"==typeof MM.Template?MM.Template:MM.TemplatedMapProvider;MM.StamenTileLayer=function(t){var e=u(t);this._provider=e,MM.Layer.call(this,new d(e.url,e.subdomains)),this.provider.setZoomRange(e.minZoom,e.maxZoom),this.attribution=e.attribution},MM.StamenTileLayer.prototype={setCoordLimits:function(t){var e=this._provider;return!!e.extent&&(t.coordLimits=[t.locationCoordinate(e.extent[0]).zoomTo(e.minZoom),t.locationCoordinate(e.extent[1]).zoomTo(e.maxZoom)],!0)}},MM.extend(MM.StamenTileLayer,MM.Layer)}if("object"==typeof L&&(L.StamenTileLayer=L.TileLayer.extend({initialize:function(t,e){var n=u(t),i=n.url.replace(/({[A-Z]})/g,function(t){return t.toLowerCase()}),r=L.Util.extend({},e,{minZoom:n.minZoom,maxZoom:n.maxZoom,subdomains:n.subdomains,scheme:"xyz",attribution:n.attribution,sa_id:t});L.TileLayer.prototype.initialize.call(this,i,r)}}),L.stamenTileLayer=function(t,e){return new L.StamenTileLayer(t,e)}),"object"==typeof OpenLayers){function f(t){return t.replace(/({.})/g,function(t){return"$"+t.toLowerCase()})}OpenLayers.Layer.Stamen=OpenLayers.Class(OpenLayers.Layer.OSM,{initialize:function(t,e){var n=u(t),i=n.url,r=n.subdomains,s=[];if(-1<i.indexOf("{S}"))for(var o=0;o<r.length;o++)s.push(f(i.replace("{S}",r[o])));else s.push(f(i));return e=OpenLayers.Util.extend({numZoomLevels:n.maxZoom,buffer:0,transitionEffect:"resize",tileOptions:{crossOriginKeyword:null},attribution:n.attribution},e),OpenLayers.Layer.OSM.prototype.initialize.call(this,t,s,e)}})}"object"==typeof google&&"object"==typeof google.maps&&(google.maps.ImageMapType=(e=google.maps.ImageMapType,(n=function(){arguments.length&&e.apply(this,arguments)}).prototype=e.prototype,n),google.maps.StamenMapType=function(t){var a=u(t),l=a.subdomains;return google.maps.ImageMapType.call(this,{getTileUrl:function(t,e){var n=1<<e,i=t.x%n,r=i<0?i+n:i,s=t.y,o=(e+r+s)%l.length;return a.url.replace("{S}",l[o]).replace("{Z}",e).replace("{X}",r).replace("{Y}",s)},tileSize:new google.maps.Size(256,256),name:t,minZoom:a.minZoom,maxZoom:a.maxZoom})},google.maps.StamenMapType.prototype=new google.maps.ImageMapType)}("undefined"==typeof exports?this:exports),function(){var t=function(){return this}();if(t||"undefined"==typeof window||(t=window),"undefined"==typeof requirejs){var s=function(t,e,n){"string"==typeof t?(2==arguments.length&&(n=e),s.modules[t]||(s.payloads[t]=n,s.modules[t]=null)):s.original?s.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};s.modules={},s.payloads={};var e,n,o=function(t,e,n){if("string"==typeof e){var i=c(t,e);if(null!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(e)){for(var r=[],s=0,o=e.length;s<o;++s){var a=c(t,e[s]);if(null==a&&l.original)return;r.push(a)}return n&&n.apply(null,r)||!0}},l=function(t,e){var n=o("",t,e);return null==n&&l.original?l.original.apply(this,arguments):n},a=function(t,e){if(-1!==e.indexOf("!")){var n=e.split("!");return a(t,n[0])+"!"+a(t,n[1])}if("."==e.charAt(0))for(e=t.split("/").slice(0,-1).join("/")+"/"+e;-1!==e.indexOf(".")&&i!=e;){var i=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return e},c=function(t,n){n=a(t,n);var e=s.modules[n];if(!e){if("function"==typeof(e=s.payloads[n])){var i={},r={id:n,uri:"",exports:i,packaged:!0};i=e(function(t,e){return o(n,t,e)},i,r)||r.exports,s.modules[n]=i,delete s.payloads[n]}e=s.modules[n]=i||e}return e};n=t,(e="")&&(t[e]||(t[e]={}),n=t[e]),n.define&&n.define.packaged||(s.original=n.define,n.define=s,n.define.packaged=!0),n.require&&n.require.packaged||(l.original=n.require,n.require=l,n.require.packaged=!0)}}(),define("ace/lib/regexp",["require","exports","module"],function(t,e,n){"use strict";var i,o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},a=void 0===o.exec.call(/()??/,"")[1],l=(i=/^/g,o.test.call(i,""),!i.lastIndex);l&&a||(RegExp.prototype.exec=function(t){var e,n,i,r=o.exec.apply(this,arguments);if("string"==typeof t&&r){if(!a&&1<r.length&&-1<function(t,e,n){if(Array.prototype.indexOf)return t.indexOf(e,n);for(var i=n||0;i<t.length;i++)if(t[i]===e)return i;return-1}(r,"")&&(n=RegExp(this.source,o.replace.call(((i=this).global?"g":"")+(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),"g","")),o.replace.call(t.slice(r.index),n,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(r[t]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var s=1;s<r.length;s++)(e=this._xregexp.captureNames[s-1])&&(r[e]=r[s]);!l&&this.global&&!r[0].length&&this.lastIndex>r.index&&this.lastIndex--}return r},l||(RegExp.prototype.test=function(t){var e=o.exec.call(this,t);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}))}),define("ace/lib/es5-shim",["require","exports","module"],function(t,e,n){function s(){}Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var i=d.call(arguments,1),r=function(){if(this instanceof r){var t=n.apply(this,i.concat(d.call(arguments)));return Object(t)===t?t:this}return n.apply(e,i.concat(d.call(arguments)))};return n.prototype&&(s.prototype=n.prototype,r.prototype=new s,s.prototype=null),r});var r,o,a,l,c,i=Function.prototype.call,h=Array.prototype,u=Object.prototype,d=h.slice,f=i.bind(u.toString),p=i.bind(u.hasOwnProperty);if((c=p(u,"__defineGetter__"))&&(r=i.bind(u.__defineGetter__),o=i.bind(u.__defineSetter__),a=i.bind(u.__lookupGetter__),l=i.bind(u.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function t(t){var e=new Array(t+2);return e[0]=e[1]=0,e}var e,n=[];if(n.splice.apply(n,t(20)),n.splice.apply(n,t(26)),e=n.length,n.splice(5,0,"XXX"),n.length,e+1==n.length)return!0}()){var g=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?g.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(d.call(arguments,2))):[]}}else Array.prototype.splice=function(t,e){var n=this.length;0<t?n<t&&(t=n):null==t?t=0:t<0&&(t=Math.max(n+t,0)),t+e<n||(e=n-t);var i=this.slice(t,t+e),r=d.call(arguments,2),s=r.length;if(t===n)s&&this.push.apply(this,r);else{var o=Math.min(e,n-t),a=t+o,l=a+s-o,c=n-a,h=n-o;if(l<a)for(var u=0;u<c;++u)this[l+u]=this[a+u];else if(a<l)for(u=c;u--;)this[l+u]=this[a+u];if(s&&t===h)this.length=h,this.push.apply(this,r);else for(this.length=h+s,u=0;u<s;++u)this[t+u]=r[u]}return i};Array.isArray||(Array.isArray=function(t){return"[object Array]"==f(t)});var m,v,y=Object("a"),b="a"!=y[0]||!(0 in y);if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=P(this),n=b&&"[object String]"==f(this)?this.split(""):e,i=arguments[1],r=-1,s=n.length>>>0;if("[object Function]"!=f(t))throw new TypeError;for(;++r<s;)r in n&&t.call(i,n[r],r,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=P(this),n=b&&"[object String]"==f(this)?this.split(""):e,i=n.length>>>0,r=Array(i),s=arguments[1];if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");for(var o=0;o<i;o++)o in n&&(r[o]=t.call(s,n[o],o,e));return r}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,n=P(this),i=b&&"[object String]"==f(this)?this.split(""):n,r=i.length>>>0,s=[],o=arguments[1];if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");for(var a=0;a<r;a++)a in i&&(e=i[a],t.call(o,e,a,n)&&s.push(e));return s}),Array.prototype.every||(Array.prototype.every=function(t){var e=P(this),n=b&&"[object String]"==f(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");for(var s=0;s<i;s++)if(s in n&&!t.call(r,n[s],s,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=P(this),n=b&&"[object String]"==f(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");for(var s=0;s<i;s++)if(s in n&&t.call(r,n[s],s,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=P(this),n=b&&"[object String]"==f(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,s=0;if(2<=arguments.length)r=arguments[1];else for(;;){if(s in n){r=n[s++];break}if(++s>=i)throw new TypeError("reduce of empty array with no initial value")}for(;s<i;s++)s in n&&(r=t.call(void 0,r,n[s],s,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=P(this),n=b&&"[object String]"==f(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,s=i-1;if(2<=arguments.length)r=arguments[1];else for(;;){if(s in n){r=n[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}for(;s in this&&(r=t.call(void 0,r,n[s],s,e)),s--;);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var e=b&&"[object String]"==f(this)?this.split(""):P(this),n=e.length>>>0;if(!n)return-1;var i=0;for(1<arguments.length&&(i=M(arguments[1])),i=0<=i?i:Math.max(0,n+i);i<n;i++)if(i in e&&e[i]===t)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var e=b&&"[object String]"==f(this)?this.split(""):P(this),n=e.length>>>0;if(!n)return-1;var i=n-1;for(1<arguments.length&&(i=Math.min(i,M(arguments[1]))),i=0<=i?i:n-Math.abs(i);0<=i;i--)if(i in e&&t===e[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:u)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+t);if(p(t,e)){var n;if(n={enumerable:!0,configurable:!0},c){var i=t.__proto__;t.__proto__=u;var r=a(t,e),s=l(t,e);if(t.__proto__=i,r||s)return r&&(n.get=r),s&&(n.set=s),n}return n.value=t[e],n}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),Object.create)||(m=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var t={};for(var e in t)t[e]=null;return t.constructor=t.hasOwnProperty=t.propertyIsEnumerable=t.isPrototypeOf=t.toLocaleString=t.toString=t.valueOf=t.__proto__=null,t},Object.create=function(t,e){var n;if(null===t)n=m();else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var i=function(){};i.prototype=t,(n=new i).__proto__=t}return void 0!==e&&Object.defineProperties(n,e),n});function _(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(t){}}if(Object.defineProperty){var w=_({}),x="undefined"==typeof document||_(document.createElement("div"));if(!w||!x)var A=Object.defineProperty}if(!Object.defineProperty||A){Object.defineProperty=function(t,e,n){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.defineProperty called on non-object: "+t);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Property description must be an object: "+n);if(A)try{return A.call(Object,t,e,n)}catch(t){}if(p(n,"value"))if(c&&(a(t,e)||l(t,e))){var i=t.__proto__;t.__proto__=u,delete t[e],t[e]=n.value,t.__proto__=i}else t[e]=n.value;else{if(!c)throw new TypeError("getters & setters can not be defined on this javascript engine");p(n,"get")&&r(t,e,n.get),p(n,"set")&&o(t,e,n.set)}return t}}Object.defineProperties||(Object.defineProperties=function(t,e){for(var n in e)p(e,n)&&Object.defineProperty(t,n,e[n]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(t){Object.freeze=(v=Object.freeze,function(t){return"function"==typeof t?t:v(t)})}if(Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;for(var e="";p(t,e);)e+="?";t[e]=!0;var n=p(t,e);return delete t[e],n}),!Object.keys){var C=!0,E=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],k=E.length;for(var S in{toString:null})C=!1;Object.keys=function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var e=[];for(var n in t)p(t,n)&&e.push(n);if(C)for(var i=0,r=k;i<r;i++){var s=E[i];p(t,s)&&e.push(s)}return e}}Date.now||(Date.now=function(){return(new Date).getTime()});var F="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||F.trim()){F="["+F+"]";var T=new RegExp("^"+F+F+"*"),D=new RegExp(F+F+"*$");String.prototype.trim=function(){return String(this).replace(T,"").replace(D,"")}}function M(t){return(t=+t)!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(0<t||-1)*Math.floor(Math.abs(t))),t}var P=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}}),define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(t,e,n){"use strict";t("./regexp"),t("./es5-shim")}),define("ace/lib/dom",["require","exports","module"],function(t,a,e){"use strict";a.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},a.createElement=function(t,e){return document.createElementNS?document.createElementNS(e||"http://www.w3.org/1999/xhtml",t):document.createElement(t)},a.hasCssClass=function(t,e){return-1!==(t.className+"").split(/\s+/g).indexOf(e)},a.addCssClass=function(t,e){a.hasCssClass(t,e)||(t.className+=" "+e)},a.removeCssClass=function(t,e){for(var n=t.className.split(/\s+/g);;){var i=n.indexOf(e);if(-1==i)break;n.splice(i,1)}t.className=n.join(" ")},a.toggleCssClass=function(t,e){for(var n=t.className.split(/\s+/g),i=!0;;){var r=n.indexOf(e);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(e),t.className=n.join(" "),i},a.setCssClass=function(t,e,n){n?a.addCssClass(t,e):a.removeCssClass(t,e)},a.hasCssString=function(t,e){var n,i=0;if((e=e||document).createStyleSheet&&(n=e.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===t)return!0}else if(n=e.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===t)return!0;return!1},a.importCssString=function(t,e,n){if(n=n||document,e&&a.hasCssString(e,n))return null;var i;e&&(t+="\n/*# sourceURL=ace/css/"+e+" */"),n.createStyleSheet?((i=n.createStyleSheet()).cssText=t,e&&(i.owningElement.id=e)):((i=a.createElement("style")).appendChild(n.createTextNode(t)),e&&(i.id=e),a.getDocumentHead(n).appendChild(i))},a.importCssStylsheet=function(t,e){if(e.createStyleSheet)e.createStyleSheet(t);else{var n=a.createElement("link");n.rel="stylesheet",n.href=t,a.getDocumentHead(e).appendChild(n)}},a.getInnerWidth=function(t){return parseInt(a.computedStyle(t,"paddingLeft"),10)+parseInt(a.computedStyle(t,"paddingRight"),10)+t.clientWidth},a.getInnerHeight=function(t){return parseInt(a.computedStyle(t,"paddingTop"),10)+parseInt(a.computedStyle(t,"paddingBottom"),10)+t.clientHeight},a.scrollbarWidth=function(t){var e=a.createElement("ace_inner");e.style.width="100%",e.style.minWidth="0px",e.style.height="200px",e.style.display="block";var n=a.createElement("ace_outer"),i=n.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",n.appendChild(e);var r=t.documentElement;r.appendChild(n);var s=e.offsetWidth;i.overflow="scroll";var o=e.offsetWidth;return s==o&&(o=n.clientWidth),r.removeChild(n),s-o},"undefined"!=typeof document?(void 0!==window.pageYOffset?(a.getPageScrollTop=function(){return window.pageYOffset},a.getPageScrollLeft=function(){return window.pageXOffset}):(a.getPageScrollTop=function(){return document.body.scrollTop},a.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?a.computedStyle=function(t,e){return e?(window.getComputedStyle(t,"")||{})[e]||"":window.getComputedStyle(t,"")||{}}:a.computedStyle=function(t,e){return e?t.currentStyle[e]:t.currentStyle},a.setInnerHtml=function(t,e){var n=t.cloneNode(!1);return n.innerHTML=e,t.parentNode.replaceChild(n,t),n},"textContent"in document.documentElement?(a.setInnerText=function(t,e){t.textContent=e},a.getInnerText=function(t){return t.textContent}):(a.setInnerText=function(t,e){t.innerText=e},a.getInnerText=function(t){return t.innerText}),a.getParentWindow=function(t){return t.defaultView||t.parentWindow}):a.importCssString=function(){}}),define("ace/lib/oop",["require","exports","module"],function(t,n,e){"use strict";n.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},n.mixin=function(t,e){for(var n in e)t[n]=e[n];return t},n.implement=function(t,e){n.mixin(t,e)}}),define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(t,e,n){"use strict";t("./fixoldbrowsers");var i=t("./oop"),r=function(){var t,e,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(e in n.FUNCTION_KEYS)t=n.FUNCTION_KEYS[e].toLowerCase(),n[t]=parseInt(e,10);for(e in n.PRINTABLE_KEYS)t=n.PRINTABLE_KEYS[e].toLowerCase(),n[t]=parseInt(e,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)n.KEY_MODS[e]=t.filter(function(t){return e&n.KEY_MODS[t]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(e,r),e.keyCodeToString=function(t){var e=r[t];return"string"!=typeof e&&(e=String.fromCharCode(t)),e.toLowerCase()}}),define("ace/lib/useragent",["require","exports","module"],function(t,e,n){"use strict";if(e.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},e.getOS=function(){return e.isMac?e.OS.MAC:e.isLinux?e.OS.LINUX:e.OS.WINDOWS},"object"==typeof navigator){var i=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),r=navigator.userAgent;e.isWin="win"==i,e.isMac="mac"==i,e.isLinux="linux"==i,e.isIE="Microsoft Internet Explorer"==navigator.appName||0<=navigator.appName.indexOf("MSAppHost")?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),e.isOldIE=e.isIE&&e.isIE<9,e.isGecko=e.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,e.isOldGecko=e.isGecko&&parseInt((r.match(/rv:(\d+)/)||[])[1],10)<4,e.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),e.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,e.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,e.isAIR=0<=r.indexOf("AdobeAIR"),e.isIPad=0<=r.indexOf("iPad"),e.isTouchPad=0<=r.indexOf("TouchPad"),e.isChromeOS=0<=r.indexOf(" CrOS ")}}),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,u,e){"use strict";var s=t("./keys"),d=t("./useragent"),o=null,a=0;u.addListener=function(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1);if(t.attachEvent){var i=function(){n.call(t,window.event)};n._wrapper=i,t.attachEvent("on"+e,i)}},u.removeListener=function(t,e,n){if(t.removeEventListener)return t.removeEventListener(e,n,!1);t.detachEvent&&t.detachEvent("on"+e,n._wrapper||n)},u.stopEvent=function(t){return u.stopPropagation(t),u.preventDefault(t),!1},u.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},u.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},u.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||d.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.preventDefault?t.button:{1:0,2:2,4:1}[t.button]},u.capture=function(t,e,n){function i(t){e&&e(t),n&&n(t),u.removeListener(document,"mousemove",e,!0),u.removeListener(document,"mouseup",i,!0),u.removeListener(document,"dragstart",i,!0)}return u.addListener(document,"mousemove",e,!0),u.addListener(document,"mouseup",i,!0),u.addListener(document,"dragstart",i,!0),i},u.addTouchMoveListener=function(t,n){var i,r;"ontouchmove"in t&&(u.addListener(t,"touchstart",function(t){var e=t.changedTouches[0];i=e.clientX,r=e.clientY}),u.addListener(t,"touchmove",function(t){var e=t.changedTouches[0];t.wheelX=-(e.clientX-i)/1,t.wheelY=-(e.clientY-r)/1,i=e.clientX,r=e.clientY,n(t)}))},u.addMouseWheelListener=function(t,e){"onmousewheel"in t?u.addListener(t,"mousewheel",function(t){void 0!==t.wheelDeltaX?(t.wheelX=-t.wheelDeltaX/8,t.wheelY=-t.wheelDeltaY/8):(t.wheelX=0,t.wheelY=-t.wheelDelta/8),e(t)}):"onwheel"in t?u.addListener(t,"wheel",function(t){switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=.35*t.deltaX||0,t.wheelY=.35*t.deltaY||0;break;case t.DOM_DELTA_LINE:case t.DOM_DELTA_PAGE:t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0)}e(t)}):u.addListener(t,"DOMMouseScroll",function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),e(t)})},u.addMultiMouseDownListener=function(t,n,i,r){var s,o,a,l=0,c={2:"dblclick",3:"tripleclick",4:"quadclick"};function e(t){if(0!==u.getButton(t)?l=0:1<t.detail?4<++l&&(l=1):l=1,d.isIE){var e=5<Math.abs(t.clientX-s)||5<Math.abs(t.clientY-o);a&&!e||(l=1),a&&clearTimeout(a),a=setTimeout(function(){a=null},n[l-1]||600),1==l&&(s=t.clientX,o=t.clientY)}if(t._clicks=l,i[r]("mousedown",t),4<l)l=0;else if(1<l)return i[r](c[l],t)}function h(t){l=2,a&&clearTimeout(a),a=setTimeout(function(){a=null},n[l-1]||600),i[r]("mousedown",t),i[r](c[l],t)}Array.isArray(t)||(t=[t]),t.forEach(function(t){u.addListener(t,"mousedown",e),d.isOldIE&&u.addListener(t,"dblclick",h)})};var l=!d.isMac||!d.isOpera||"KeyboardEvent"in window?function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)}:function(t){return 0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0)};function c(t,e,n){var i=l(e);if(!d.isMac&&o){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win"))&&(i|=8),o.altGr){if(3==(3&i))return;o.altGr=0}if(18===n||17===n){var r="location"in e?e.location:e.keyLocation;if(17===n&&1===r)1==o[n]&&(a=e.timeStamp);else if(18===n&&3===i&&2===r){e.timeStamp-a<50&&(o.altGr=!0)}}}if((n in s.MODIFIER_KEYS&&(n=-1),8&i&&91<=n&&n<=93&&(n=-1),!i&&13===n)&&(3===(r="location"in e?e.location:e.keyLocation)&&(t(e,i,-n),e.defaultPrevented)))return;if(d.isChromeOS&&8&i){if(t(e,i,n),e.defaultPrevented)return;i&=-9}return!!(i||n in s.FUNCTION_KEYS||n in s.PRINTABLE_KEYS)&&t(e,i,n)}function h(){o=Object.create(null)}if(u.getModifierString=function(t){return s.KEY_MODS[l(t)]},u.addCommandKeyListener=function(t,n){var e=u.addListener;if(d.isOldGecko||d.isOpera&&!("KeyboardEvent"in window)){var i=null;e(t,"keydown",function(t){i=t.keyCode}),e(t,"keypress",function(t){return c(n,t,i)})}else{var r=null;e(t,"keydown",function(t){o[t.keyCode]=(o[t.keyCode]||0)+1;var e=c(n,t,t.keyCode);return r=t.defaultPrevented,e}),e(t,"keypress",function(t){r&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(u.stopEvent(t),r=null)}),e(t,"keyup",function(t){o[t.keyCode]=null}),o||(h(),e(window,"focus",h))}},"object"==typeof window&&window.postMessage&&!d.isOldIE){u.nextTick=function(n,i){i=i||window;var r="zero-timeout-message-1";u.addListener(i,"message",function t(e){e.data==r&&(u.stopPropagation(e),u.removeListener(i,"message",t),n())}),i.postMessage(r,"*")}}u.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),u.nextFrame?u.nextFrame=u.nextFrame.bind(window):u.nextFrame=function(t){setTimeout(t,17)}}),define("ace/lib/lang",["require","exports","module"],function(t,e,n){"use strict";e.last=function(t){return t[t.length-1]},e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(t,e){for(var n="";0<e;)1&e&&(n+=t),(e>>=1)&&(t+=t);return n};var i=/^\s\s*/,r=/\s\s*$/;e.stringTrimLeft=function(t){return t.replace(i,"")},e.stringTrimRight=function(t){return t.replace(r,"")},e.copyObject=function(t){var e={};for(var n in t)e[n]=t[n];return e},e.copyArray=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&"object"==typeof t[n]?e[n]=this.copyObject(t[n]):e[n]=t[n];return e},e.deepCopy=function t(e){if("object"!=typeof e||!e)return e;var n;if(Array.isArray(e)){n=[];for(var i=0;i<e.length;i++)n[i]=t(e[i]);return n}if("[object Object]"!==Object.prototype.toString.call(e))return e;for(var i in n={},e)n[i]=t(e[i]);return n},e.arrayToMap=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=1;return e},e.createMap=function(t){var e=Object.create(null);for(var n in t)e[n]=t[n];return e},e.arrayRemove=function(t,e){for(var n=0;n<=t.length;n++)e===t[n]&&t.splice(n,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return t.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(t,e){var n=[];return t.replace(e,function(t){n.push({offset:arguments[arguments.length-2],length:t.length})}),n},e.deferredCall=function(t){var e=null,n=function(){e=null,t()},i=function(t){return i.cancel(),e=setTimeout(n,t||0),i};return(i.schedule=i).call=function(){return this.cancel(),t(),i},i.cancel=function(){return clearTimeout(e),e=null,i},i.isPending=function(){return e},i},e.delayedCall=function(t,e){var n=null,i=function(){n=null,t()},r=function(t){null==n&&(n=setTimeout(i,t||e))};return r.delay=function(t){n&&clearTimeout(n),n=setTimeout(i,t||e)},(r.schedule=r).call=function(){this.cancel(),t()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}}),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(t,e,n){"use strict";var $=t("../lib/event"),R=t("../lib/useragent"),O=t("../lib/dom"),I=t("../lib/lang"),N=R.isChrome<18,z=R.isIE;e.TextInput=function(t,l){var c=O.createElement("textarea");c.className="ace_text-input",R.isTouchPad&&c.setAttribute("x-palm-disable-auto-cap",!0),c.setAttribute("wrap","off"),c.setAttribute("autocorrect","off"),c.setAttribute("autocapitalize","off"),c.setAttribute("spellcheck",!1),c.style.opacity="0",R.isOldIE&&(c.style.top="-1000px"),t.insertBefore(c,t.firstChild);var n="",i=!1,r=!1,s=!1,h="",e=!0;try{var o=document.activeElement===c}catch(t){}$.addListener(c,"blur",function(t){l.onBlur(t),o=!1}),$.addListener(c,"focus",function(t){o=!0,l.onFocus(t),d()}),this.focus=function(){if(h)return c.focus();var t=c.style.top;c.style.position="fixed",c.style.top="0px",c.focus(),setTimeout(function(){c.style.position="","0px"==c.style.top&&(c.style.top=t)},0)},this.blur=function(){c.blur()},this.isFocused=function(){return o};var a=I.delayedCall(function(){o&&d(e)}),u=I.delayedCall(function(){s||(c.value=n,o&&d())});function d(t){if(!s){if(s=!0,b)e=0,n=t?0:c.value.length-1;else var e=t?2:1,n=2;try{c.setSelectionRange(e,n)}catch(t){}s=!1}}function f(){s||(c.value=n,R.isWebKit&&u.schedule())}R.isWebKit||l.addEventListener("changeSelection",function(){l.selection.isEmpty()!=e&&(e=!e,a.schedule())}),f(),o&&l.onFocus();var p=function(t){return 0===t.selectionStart&&t.selectionEnd===t.value.length};if(!c.setSelectionRange&&c.createTextRange&&(c.setSelectionRange=function(t,e){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",e),n.select()},p=function(t){try{var e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&e.text==t.value}),R.isOldIE){var g=!1,m=function(t){if(!g){var e=c.value;if(!s&&e&&e!=n){if(t&&e==n[0])return v.schedule();w(e),g=!0,f(),g=!1}}},v=I.delayedCall(m);$.addListener(c,"propertychange",m);var y={13:1,27:1};$.addListener(c,"keyup",function(t){if(!s||c.value&&!y[t.keyCode]||setTimeout(M,0),(c.value.charCodeAt(0)||0)<129)return v.call();s?D():T()}),$.addListener(c,"keydown",function(t){v.schedule(50)})}var b=null;this.setInputHandler=function(t){b=t};var _=(this.getInputHandler=function(){return b},!1),w=function(t){b&&(t=b(t),b=null),r?(d(),t&&l.onPaste(t),r=!1):t==n.charAt(0)?_?l.execCommand("del",{source:"ace"}):l.execCommand("backspace",{source:"ace"}):(t.substring(0,2)==n?t=t.substr(2):t.charAt(0)==n.charAt(0)?t=t.substr(1):t.charAt(t.length-1)==n.charAt(0)&&(t=t.slice(0,-1)),t.charAt(t.length-1)==n.charAt(0)&&(t=t.slice(0,-1)),t&&l.onTextInput(t)),_&&(_=!1)},x=function(t){if(!s){var e=c.value;w(e),f()}},A=function(t,e,n){var i=t.clipboardData||window.clipboardData;if(i&&!N){var r=z||n?"Text":"text/plain";try{return e?!1!==i.setData(r,e):i.getData(r)}catch(t){if(!n)return A(t,e,!0)}}},C=function(t,e){var n=l.getCopyText();if(!n)return $.preventDefault(t);A(t,n)?(e?l.onCut():l.onCopy(),$.preventDefault(t)):(i=!0,c.value=n,c.select(),setTimeout(function(){i=!1,f(),d(),e?l.onCut():l.onCopy()}))},E=function(t){C(t,!0)},k=function(t){C(t,!1)},S=function(t){var e=A(t);"string"==typeof e?(e&&l.onPaste(e,t),R.isIE&&setTimeout(d),$.preventDefault(t)):(c.value="",r=!0)};$.addCommandKeyListener(c,l.onCommandKey.bind(l)),$.addListener(c,"select",function(t){i?i=!1:p(c)?(l.selectAll(),d()):b&&d(l.selection.isEmpty())}),$.addListener(c,"input",x),$.addListener(c,"cut",E),$.addListener(c,"copy",k),$.addListener(c,"paste",S),"oncut"in c&&"oncopy"in c&&"onpaste"in c||$.addListener(t,"keydown",function(t){if((!R.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:k(t);break;case 86:S(t);break;case 88:E(t)}});var F,T=function(t){s||!l.onCompositionStart||l.$readOnly||((s={}).canUndo=l.session.$undoManager,l.onCompositionStart(),setTimeout(D,0),l.on("mousedown",M),s.canUndo&&!l.selection.isEmpty()&&(l.insert(""),l.session.markUndoGroup(),l.selection.clearSelection()),l.session.markUndoGroup())},D=function(){if(s&&l.onCompositionUpdate&&!l.$readOnly){var t=c.value.replace(/\x01/g,"");if(s.lastValue!==t&&(l.onCompositionUpdate(t),s.lastValue&&l.undo(),s.canUndo&&(s.lastValue=t),s.lastValue)){var e=l.selection.getRange();l.insert(s.lastValue),l.session.markUndoGroup(),s.range=l.selection.getRange(),l.selection.setRange(e),l.selection.clearSelection()}}},M=function(t){if(l.onCompositionEnd&&!l.$readOnly){var e=s;s=!1;var n=setTimeout(function(){n=null;var t=c.value.replace(/\x01/g,"");s||(t==e.lastValue?f():!e.lastValue&&t&&(f(),w(t)))});b=function(t){return n&&clearTimeout(n),(t=t.replace(/\x01/g,""))==e.lastValue?"":(e.lastValue&&n&&l.undo(),t)},l.onCompositionEnd(),l.removeListener("mousedown",M),"compositionend"==t.type&&e.range&&l.selection.setRange(e.range),R.isChrome&&53<=R.isChrome&&x()}},P=I.delayedCall(D,50);function L(){clearTimeout(F),F=setTimeout(function(){h&&(c.style.cssText=h,h=""),null==l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=!0,l.renderer.$moveTextAreaToCursor())},R.isOldIE?200:0)}$.addListener(c,"compositionstart",T),R.isGecko?$.addListener(c,"text",function(){P.schedule()}):($.addListener(c,"keyup",function(){P.schedule()}),$.addListener(c,"keydown",function(){P.schedule()})),$.addListener(c,"compositionend",M),this.getElement=function(){return c},this.setReadOnly=function(t){c.readOnly=t},this.onContextMenu=function(t){_=!0,d(l.selection.isEmpty()),l._emit("nativecontextmenu",{target:l,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,e){if(e||!R.isOldIE){h||(h=c.style.cssText),c.style.cssText=(e?"z-index:100000;":"")+"height:"+c.style.height+";"+(R.isIE?"opacity:0.1;":"");var n=l.container.getBoundingClientRect(),i=O.computedStyle(l.container),r=n.top+(parseInt(i.borderTopWidth)||0),s=n.left+(parseInt(n.borderLeftWidth)||0),o=n.bottom-r-c.clientHeight-2,a=function(t){c.style.left=t.clientX-s-2+"px",c.style.top=Math.min(t.clientY-r-2,o)+"px"};a(t),"mousedown"==t.type&&(l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=null),clearTimeout(F),R.isWin&&!R.isOldIE&&$.capture(l.container,a,L))}},this.onContextMenuClose=L;var B=function(t){l.textInput.onContextMenu(t),L()};$.addListener(c,"mouseup",B),$.addListener(c,"mousedown",function(t){t.preventDefault(),L()}),$.addListener(l.renderer.scroller,"contextmenu",B),$.addListener(c,"contextmenu",B)}}),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e,n){"use strict";t("../lib/dom"),t("../lib/event"),t("../lib/useragent");function i(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function l(t,e){if(t.start.row==t.end.row)var n=2*e.column-t.start.column-t.end.column;else if(t.start.row!=t.end.row-1||t.start.column||t.end.column)n=2*e.row-t.start.row-t.end.row;else var n=e.column-4;return n<0?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}(function(){this.onMouseDown=function(t){var e=t.inSelection(),n=t.getDocumentPosition();this.mousedownEvent=t;var i=this.editor,r=t.getButton();if(0!==r){var s=i.getSelectionRange().isEmpty();return i.$blockScrolling++,(s||1==r)&&i.selection.moveToPosition(n),i.$blockScrolling--,void(2==r&&i.textInput.onContextMenu(t.domEvent))}return this.mousedownEvent.time=Date.now(),!e||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(n,1<t.domEvent._clicks),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t))},this.startSelect=function(t,e){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(t):e||n.selection.moveToPosition(t),e||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var t,e=this.editor,n=e.renderer.screenToTextCoordinates(this.x,this.y);if(e.$blockScrolling++,this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)t=this.$clickSelection.end;else if(1==i)t=this.$clickSelection.start;else{var r=l(this.$clickSelection,n);n=r.cursor,t=r.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(n),e.$blockScrolling--,e.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var e,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[t](i.row,i.column);if(n.$blockScrolling++,this.$clickSelection){var s=this.$clickSelection.comparePoint(r.start),o=this.$clickSelection.comparePoint(r.end);if(-1==s&&o<=0)e=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==o&&0<=s)e=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(-1==s&&1==o)i=r.end,e=r.start;else{var a=l(this.$clickSelection,i);i=a.cursor,e=a.anchor}n.selection.setSelectionAnchor(e.row,e.column)}n.selection.selectToPosition(i),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t,e,n,i,r=(t=this.mousedownEvent.x,e=this.mousedownEvent.y,n=this.x,i=this.y,Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))),s=Date.now();(0<r||s-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var e=t.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(e);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(t){var e=t.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(e.row,e.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(e.row),this.select()},this.onQuadClick=function(t){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var e=t.domEvent.timeStamp,n=e-(this.$lastScrollTime||0),i=this.editor;return i.renderer.isScrollableBy(t.wheelX*t.speed,t.wheelY*t.speed)||n<200?(this.$lastScrollTime=e,i.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}},this.onTouchMove=function(t){var e=t.domEvent.timeStamp,n=e-(this.$lastScrollTime||0),i=this.editor;if(i.renderer.isScrollableBy(t.wheelX*t.speed,t.wheelY*t.speed)||n<200)return this.$lastScrollTime=e,i.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()}}).call(i.prototype),e.DefaultHandlers=i}),define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(t,e,n){"use strict";t("./lib/oop");var i=t("./lib/dom");function r(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){i.setInnerText(this.getElement(),t)},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(t,e){this.getElement().style.left=t+"px",this.getElement().style.top=e+"px"},this.setClassName=function(t){i.addCssClass(this.getElement(),t)},this.show=function(t,e,n){null!=t&&this.setText(t),null!=e&&null!=n&&this.setPosition(e,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(r.prototype),e.Tooltip=r}),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(t,e,n){"use strict";var i=t("../lib/dom"),r=t("../lib/oop"),s=t("../lib/event"),o=t("../tooltip").Tooltip;function p(t){o.call(this,t)}r.inherits(p,o),function(){this.setPosition=function(t,e){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),s=this.getHeight();n<(t+=15)+r&&(t-=t+r-n),i<(e+=15)+s&&(e-=20+s),o.prototype.setPosition.call(this,t,e)}}.call(p.prototype),e.GutterHandler=function(o){var n,a,l,c=o.editor,h=c.renderer.$gutterLayer,u=new p(c.container);function d(){n&&(n=clearTimeout(n)),l&&(u.hide(),l=null,c._signal("hideGutterTooltip",u),c.removeEventListener("mousewheel",d))}function f(t){u.setPosition(t.x,t.y)}o.editor.setDefaultHandler("guttermousedown",function(t){if(c.isFocused()&&0==t.getButton()&&"foldWidgets"!=h.getRegion(t)){var e=t.getDocumentPosition().row,n=c.session.selection;if(t.getShiftKey())n.selectTo(e,0);else{if(2==t.domEvent.detail)return c.selectAll(),t.preventDefault();o.$clickSelection=c.selection.getLineRange(e)}return o.setState("selectByLines"),o.captureMouse(t),t.preventDefault()}}),o.editor.setDefaultHandler("guttermousemove",function(t){var e=t.domEvent.target||t.domEvent.srcElement;if(i.hasCssClass(e,"ace_fold-widget"))return d();l&&o.$tooltipFollowsMouse&&f(t),a=t,n||(n=setTimeout(function(){n=null,a&&!o.isMousePressed?function(){var t=a.getDocumentPosition().row,e=h.$annotations[t];if(!e)return d();if(t==c.session.getLength()){var n=c.renderer.pixelToScreenCoordinates(0,a.y).row,i=a.$pos;if(n>c.session.documentToScreenRow(i.row,i.column))return d()}if(l!=e)if(l=e.text.join("<br/>"),u.setHtml(l),u.show(),c._signal("showGutterTooltip",u),c.on("mousewheel",d),o.$tooltipFollowsMouse)f(a);else{var r=a.domEvent.target.getBoundingClientRect(),s=u.getElement().style;s.left=r.right+"px",s.top=r.bottom+"px"}}():d()},50))}),s.addListener(c.renderer.$gutter,"mouseout",function(t){a=null,l&&!n&&(n=setTimeout(function(){n=null,d()},50))}),c.on("changeSession",d)}}),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e,n){"use strict";var i=t("../lib/event"),r=t("../lib/useragent"),s=e.MouseEvent=function(t,e){this.domEvent=t,this.editor=e,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var e=this.getDocumentPosition();this.$inSelection=t.contains(e.row,e.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)}),define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e,n){"use strict";var A=t("../lib/dom"),C=t("../lib/event"),E=t("../lib/useragent");function i(e){var f=e.editor,i=A.createElement("img");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",E.isOpera&&(i.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(t){e[t]=this[t]},this),f.addEventListener("mousedown",this.onMouseDown.bind(e));var n,p,g,t,r,o,s,a,m,l,c,h=f.container,u=0;function d(){var t,e,n,i,r,s=o;o=f.renderer.screenToTextCoordinates(p,g),t=o,e=s,n=Date.now(),i=!e||t.row!=e.row,r=!e||t.column!=e.column,!l||i||r?(f.$blockScrolling+=1,f.moveCursorToPosition(t),f.$blockScrolling-=1,l=n,c={x:p,y:g}):5<k(c.x,c.y,p,g)?l=null:200<=n-l&&(f.renderer.scrollCursorIntoView(),l=null),function(t,e){var n=Date.now(),i=f.renderer.layerConfig.lineHeight,r=f.renderer.layerConfig.characterWidth,s=f.renderer.scroller.getBoundingClientRect(),o={x:{left:p-s.left,right:s.right-p},y:{top:g-s.top,bottom:s.bottom-g}},a=Math.min(o.x.left,o.x.right),l=Math.min(o.y.top,o.y.bottom),c={row:t.row,column:t.column};a/r<=2&&(c.column+=o.x.left<o.x.right?-3:2),l/i<=1&&(c.row+=o.y.top<o.y.bottom?-1:1);var h=t.row!=c.row,u=t.column!=c.column,d=!e||t.row!=e.row;h||u&&!d?m?200<=n-m&&f.renderer.scrollCursorIntoView(c):m=n:m=null}(o,s)}function v(){r=f.selection.toOrientedRange(),n=f.session.addMarker(r,"ace_selection",f.getSelectionStyle()),f.clearSelection(),f.isFocused()&&f.renderer.$cursorLayer.setBlinking(!1),clearInterval(t),d(),t=setInterval(d,20),u=0,C.addListener(document,"mousemove",_)}function y(){clearInterval(t),f.session.removeMarker(n),n=null,f.$blockScrolling+=1,f.selection.fromOrientedRange(r),f.$blockScrolling-=1,f.isFocused()&&!a&&f.renderer.$cursorLayer.setBlinking(!f.getReadOnly()),u=0,l=m=o=r=null,C.removeListener(document,"mousemove",_)}this.onDragStart=function(t){if(this.cancelDrag||!h.draggable){var e=this;return setTimeout(function(){e.startSelect(),e.captureMouse(t)},0),t.preventDefault()}r=f.getSelectionRange();var n=t.dataTransfer;n.effectAllowed=f.getReadOnly()?"copy":"copyMove",E.isOpera&&(f.container.appendChild(i),i.scrollTop=0),n.setDragImage&&n.setDragImage(i,0,0),E.isOpera&&f.container.removeChild(i),n.clearData(),n.setData("Text",f.session.getTextRange()),a=!0,this.setState("drag")},this.onDragEnd=function(t){if(h.draggable=!1,a=!1,this.setState(null),!f.getReadOnly()){var e=t.dataTransfer.dropEffect;s||"move"!=e||f.session.remove(f.getSelectionRange()),f.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){if(!f.getReadOnly()&&w(t.dataTransfer))return p=t.clientX,g=t.clientY,n||v(),u++,t.dataTransfer.dropEffect=s=x(t),C.preventDefault(t)},this.onDragOver=function(t){if(!f.getReadOnly()&&w(t.dataTransfer))return p=t.clientX,g=t.clientY,n||(v(),u++),null!==b&&(b=null),t.dataTransfer.dropEffect=s=x(t),C.preventDefault(t)},this.onDragLeave=function(t){if(--u<=0&&n)return y(),s=null,C.preventDefault(t)},this.onDrop=function(t){if(o){var e=t.dataTransfer;if(a)switch(s){case"move":r=r.contains(o.row,o.column)?{start:o,end:o}:f.moveText(r,o);break;case"copy":r=f.moveText(r,o,!0)}else{var n=e.getData("Text");r={start:o,end:f.session.insert(o,n)},f.focus(),s=null}return y(),C.preventDefault(t)}},C.addListener(h,"dragstart",this.onDragStart.bind(e)),C.addListener(h,"dragend",this.onDragEnd.bind(e)),C.addListener(h,"dragenter",this.onDragEnter.bind(e)),C.addListener(h,"dragover",this.onDragOver.bind(e)),C.addListener(h,"dragleave",this.onDragLeave.bind(e)),C.addListener(h,"drop",this.onDrop.bind(e));var b=null;function _(){null==b&&(b=setTimeout(function(){null!=b&&n&&y()},20))}function w(t){var e=t.types;return!e||Array.prototype.some.call(e,function(t){return"text/plain"==t||"Text"==t})}function x(t){var e=["copy","copymove","all","uninitialized"],n=E.isMac?t.altKey:t.ctrlKey,i="uninitialized";try{i=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var r="none";return n&&0<=e.indexOf(i)?r="copy":0<=["move","copymove","linkmove","all","uninitialized"].indexOf(i)?r="move":0<=e.indexOf(i)&&(r="copy"),r}}function k(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor;t.container.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var e=E.isWin?"default":"move";t.renderer.setCursorStyle(e),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;E.isIE&&"dragReady"==this.state&&(3<k(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&e.dragDrop());"dragWait"===this.state&&(0<k(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,n=t.inSelection(),i=t.getButton();if(1===(t.domEvent.detail||1)&&0===i&&n){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in r&&(r.unselectable="on"),e.getDragDelay()){if(E.isWebKit)this.cancelDrag=!0,e.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(i.prototype),e.DragdropHandler=i}),define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,e,n){"use strict";var r=t("./dom");e.get=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&e(n.responseText)},n.send(null)},e.loadScript=function(t,n){var e=r.getDocumentHead(),i=document.createElement("script");i.src=t,e.appendChild(i),i.onload=i.onreadystatechange=function(t,e){!e&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,e||n())}},e.qualifyURL=function(t){var e=document.createElement("a");return e.href=t,e.href}}),define("ace/lib/event_emitter",["require","exports","module"],function(t,e,n){"use strict";var i={},s=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(t,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[t]||[],i=this._defaultHandlers[t];if(n.length||i){"object"==typeof e&&e||(e={}),e.type||(e.type=t),e.stopPropagation||(e.stopPropagation=s),e.preventDefault||(e.preventDefault=o),n=n.slice();for(var r=0;r<n.length&&(n[r](e,this),!e.propagationStopped);r++);return i&&!e.defaultPrevented?i(e,this):void 0}},i._signal=function(t,e){var n=(this._eventRegistry||{})[t];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](e,this)}},i.once=function(e,n){var i=this;n&&this.addEventListener(e,function t(){i.removeEventListener(e,t),n.apply(null,arguments)})},i.setDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[t]){var i=n[t],r=n._disabled_[t];r||(n._disabled_[t]=r=[]),r.push(i);var s=r.indexOf(e);-1!=s&&r.splice(s,1)}n[t]=e},i.removeDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n){var i=n._disabled_[t];if(n[t]==e){n[t];i&&this.setDefaultHandler(t,i.pop())}else if(i){var r=i.indexOf(e);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(t,e,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[t];return i||(i=this._eventRegistry[t]=[]),-1==i.indexOf(e)&&i[n?"unshift":"push"](e),e},i.off=i.removeListener=i.removeEventListener=function(t,e){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(t){this._eventRegistry&&(this._eventRegistry[t]=[])},e.EventEmitter=i}),define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,n){var r=t("./oop"),i=t("./event_emitter").EventEmitter,s={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(t){var e={};return t?Array.isArray(t)||(e=t,t=Object.keys(e)):t=Object.keys(this.$options),t.forEach(function(t){e[t]=this.getOption(t)},this),e},setOption:function(t,e){if(this["$"+t]!==e){var n=this.$options[t];if(!n)return o('misspelled option "'+t+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(t,e);n.handlesSet||(this["$"+t]=e),n&&n.set&&n.set.call(this,e)}},getOption:function(t){var e=this.$options[t];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(t):e&&e.get?e.get.call(this):this["$"+t]:o('misspelled option "'+t+'"')}};function o(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(t,e){var n=new Error(t);n.data=e,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var l=function(){this.$defaultOptions={}};(function(){r.implement(this,i),this.defineOptions=function(n,t,i){return n.$options||(this.$defaultOptions[t]=n.$options={}),Object.keys(i).forEach(function(t){var e=i[t];"string"==typeof e&&(e={forwardTo:e}),e.name||(e.name=t),"initialValue"in(n.$options[e.name]=e)&&(n["$"+e.name]=e.initialValue)}),r.implement(n,s),this},this.resetOptions=function(n){Object.keys(n.$options).forEach(function(t){var e=n.$options[t];"value"in e&&n.setOption(t,e.value)})},this.setDefaultValue=function(t,e,n){var i=this.$defaultOptions[t]||(this.$defaultOptions[t]={});i[e]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,e,n):i[e].value=n)},this.setDefaultValues=function(e,n){Object.keys(n).forEach(function(t){this.setDefaultValue(e,t,n[t])},this)},this.warn=o,this.reportError=a}).call(l.prototype),e.AppConfig=l}),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(g,m,v){var t=g("./lib/lang"),s=(g("./lib/oop"),g("./lib/net")),e=g("./lib/app_config").AppConfig;v.exports=m=new e;var y=function(){return this||"undefined"!=typeof window&&window}(),b={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};function n(t){if(y&&y.document){b.packaged=t||g.packaged||v.packaged||y.define&&define.packaged;for(var e,n={},i="",r=document.currentScript||document._currentScript,s=(r&&r.ownerDocument||document).getElementsByTagName("script"),o=0;o<s.length;o++){var a=s[o],l=a.src||a.getAttribute("src");if(l){for(var c=a.attributes,h=0,u=c.length;h<u;h++){var d=c[h];0===d.name.indexOf("data-ace-")&&(n[(e=d.name.replace(/^data-ace-/,""),e.replace(/-(.)/g,function(t,e){return e.toUpperCase()}))]=d.value)}var f=l.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);f&&(i=f[1])}}for(var p in i&&(n.base=n.base||i,n.packaged=!0),n.basePath=n.base,n.workerPath=n.workerPath||n.base,n.modePath=n.modePath||n.base,n.themePath=n.themePath||n.base,delete n.base,n)void 0!==n[p]&&m.set(p,n[p])}}m.get=function(t){if(!b.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return b[t]},m.set=function(t,e){if(!b.hasOwnProperty(t))throw new Error("Unknown config key: "+t);b[t]=e},m.all=function(){return t.copyObject(b)},m.moduleUrl=function(t,e){if(b.$moduleUrls[t])return b.$moduleUrls[t];var n=t.split("/"),i="snippets"==(e=e||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==e&&"-"==i){var s=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");r=r.replace(s,"")}(!r||r==e)&&1<n.length&&(r=n[n.length-2]);var o=b[e+"Path"];return null==o?o=b.basePath:"/"==i&&(e=i=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+e+i+r+this.get("suffix")},m.setModuleUrl=function(t,e){return b.$moduleUrls[t]=e},m.$loading={},m.loadModule=function(n,t){var e,i;Array.isArray(n)&&(i=n[0],n=n[1]);try{e=g(n)}catch(t){}if(e&&!m.$loading[n])return t&&t(e);if(m.$loading[n]||(m.$loading[n]=[]),m.$loading[n].push(t),!(1<m.$loading[n].length)){var r=function(){g([n],function(e){m._emit("load.module",{name:n,module:e});var t=m.$loading[n];m.$loading[n]=null,t.forEach(function(t){t&&t(e)})})};if(!m.get("packaged"))return r();s.loadScript(m.moduleUrl(n,i),r)}},n(!0),m.init=n}),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(t,e,n){"use strict";var l=t("../lib/event"),c=t("../lib/useragent"),i=t("./default_handlers").DefaultHandlers,o=t("./default_gutter_handler").GutterHandler,h=t("./mouse_event").MouseEvent,a=t("./dragdrop_handler").DragdropHandler,r=t("../config"),s=function(r){var s=this;this.editor=r,new i(this),new o(this),new a(this);var t=function(t){(!document.hasFocus||!document.hasFocus()||!r.isFocused()&&document.activeElement==(r.textInput&&r.textInput.getElement()))&&window.focus(),r.focus()},e=r.renderer.getMouseEventTarget();l.addListener(e,"click",this.onMouseEvent.bind(this,"click")),l.addListener(e,"mousemove",this.onMouseMove.bind(this,"mousemove")),l.addMultiMouseDownListener([e,r.renderer.scrollBarV&&r.renderer.scrollBarV.inner,r.renderer.scrollBarH&&r.renderer.scrollBarH.inner,r.textInput&&r.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),l.addMouseWheelListener(r.container,this.onMouseWheel.bind(this,"mousewheel")),l.addTouchMoveListener(r.container,this.onTouchMove.bind(this,"touchmove"));var n=r.renderer.$gutter;l.addListener(n,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),l.addListener(n,"click",this.onMouseEvent.bind(this,"gutterclick")),l.addListener(n,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),l.addListener(n,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),l.addListener(e,"mousedown",t),l.addListener(n,"mousedown",t),c.isIE&&r.renderer.scrollBarV&&(l.addListener(r.renderer.scrollBarV.element,"mousedown",t),l.addListener(r.renderer.scrollBarH.element,"mousedown",t)),r.on("mousemove",function(t){if(!s.state&&!s.$dragDelay&&s.$dragEnabled){var e=r.renderer.screenToTextCoordinates(t.x,t.y),n=r.session.selection.getRange(),i=r.renderer;!n.isEmpty()&&n.insideStart(e.row,e.column)?i.setCursorStyle("default"):i.setCursorStyle("")}})};(function(){this.onMouseEvent=function(t,e){this.editor._emit(t,new h(e,this.editor))},this.onMouseMove=function(t,e){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(t,new h(e,this.editor))},this.onMouseWheel=function(t,e){var n=new h(e,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.onTouchMove=function(t,e){var n=new h(e,this.editor);n.speed=1,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.setState=function(t){this.state=t},this.captureMouse=function(t,e){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var i=this,r=function(t){if(t){if(c.isWebKit&&!t.which&&i.releaseMouse)return i.releaseMouse();i.x=t.clientX,i.y=t.clientY,e&&e(t),i.mouseEvent=new h(t,i.editor),i.$mouseMoved=!0}},s=function(t){clearInterval(a),o(),i[i.state+"End"]&&i[i.state+"End"](t),i.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),i.isMousePressed=!1,i.$onCaptureMouseMove=i.releaseMouse=null,t&&i.onMouseEvent("mouseup",t)},o=function(){i[i.state]&&i[i.state](),i.$mouseMoved=!1};if(c.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout(function(){s(t)});i.$onCaptureMouseMove=r,i.releaseMouse=l.capture(this.editor.container,r,s);var a=setInterval(o,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&l.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(s.prototype),r.defineOptions(s.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:c.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),e.MouseHandler=s}),define("ace/mouse/fold_handler",["require","exports","module"],function(t,e,n){"use strict";e.FoldHandler=function(o){o.on("click",function(t){var e=t.getDocumentPosition(),n=o.session,i=n.getFoldAt(e.row,e.column,1);i&&(t.getAccelKey()?n.removeFold(i):n.expandFold(i),t.stop())}),o.on("gutterclick",function(t){if("foldWidgets"==o.renderer.$gutterLayer.getRegion(t)){var e=t.getDocumentPosition().row,n=o.session;n.foldWidgets&&n.foldWidgets[e]&&o.session.onFoldWidgetClick(e,t),o.isFocused()||o.focus(),t.stop()}}),o.on("gutterdblclick",function(t){if("foldWidgets"==o.renderer.$gutterLayer.getRegion(t)){var e=t.getDocumentPosition().row,n=o.session,i=n.getParentFoldRangeData(e,!0),r=i.range||i.firstRange;if(r){e=r.start.row;var s=n.getFoldAt(e,n.getLine(e).length,1);s?n.removeFold(s):(n.addFold("...",r),o.renderer.scrollCursorIntoView({row:r.start.row,column:0}))}t.stop()}})}}),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,e,n){"use strict";var r=t("../lib/keys"),l=t("../lib/event"),i=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(t){var e=this.$handlers;if(e[e.length-1]!=t){for(;e[e.length-1]&&e[e.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(e[e.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,e){if(t){"function"!=typeof t||t.handleKeyboard||(t.handleKeyboard=t);var n=this.$handlers.indexOf(t);-1!=n&&this.$handlers.splice(n,1),null==e?this.$handlers.push(t):this.$handlers.splice(e,0,t),-1==n&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var e=this.$handlers.indexOf(t);return-1!=e&&(this.$handlers.splice(e,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,n=e.editor;return this.$handlers.map(function(t){return t.getStatusText&&t.getStatusText(n,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(t,e,n,i){for(var r,s=!1,o=this.$editor.commands,a=this.$handlers.length;a--&&!((r=this.$handlers[a].handleKeyboard(this.$data,t,e,n,i))&&r.command&&((s="null"==r.command||o.exec(r.command,this.$editor,r.args,i))&&i&&-1!=t&&1!=r.passEvent&&1!=r.command.passEvent&&l.stopEvent(i),s)););return s||-1!=t||(r={command:"insertstring"},s=o.exec("insertstring",this.$editor,e)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",r),s},this.onCommandKey=function(t,e,n){var i=r.keyCodeToString(n);this.$callKeyboardHandlers(e,i,n,t)},this.onTextInput=function(t){this.$callKeyboardHandlers(-1,t)}}).call(i.prototype),e.KeyBinding=i}),define("ace/range",["require","exports","module"],function(t,e,n){"use strict";var s=function(t,e,n,i){this.start={row:t,column:e},this.end={row:n,column:i}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,e){return 0==this.compare(t,e)},this.compareRange=function(t){var e,n=t.end,i=t.start;return 1==(e=this.compare(n.row,n.column))?1==(e=this.compare(i.row,i.column))?2:0==e?1:0:-1==e?-2:-1==(e=this.compare(i.row,i.column))?-1:1==e?42:0},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var e=this.compareRange(t);return-1==e||0==e||1==e},this.isEnd=function(t,e){return this.end.row==t&&this.end.column==e},this.isStart=function(t,e){return this.start.row==t&&this.start.column==e},this.setStart=function(t,e){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=e)},this.setEnd=function(t,e){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=e)},this.inside=function(t,e){return 0==this.compare(t,e)&&(!this.isEnd(t,e)&&!this.isStart(t,e))},this.insideStart=function(t,e){return 0==this.compare(t,e)&&!this.isEnd(t,e)},this.insideEnd=function(t,e){return 0==this.compare(t,e)&&!this.isStart(t,e)},this.compare=function(t,e){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?e>=this.start.column?0:-1:this.end.row===t?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(t,e){return this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.compareEnd=function(t,e){return this.end.row==t&&this.end.column==e?1:this.compare(t,e)},this.compareInside=function(t,e){return this.end.row==t&&this.end.column==e?1:this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.clipRows=function(t,e){if(this.end.row>e)var n={row:e+1,column:0};else if(this.end.row<t)n={row:t,column:0};if(this.start.row>e)var i={row:e+1,column:0};else if(this.start.row<t)i={row:t,column:0};return s.fromPoints(i||this.start,n||this.end)},this.extend=function(t,e){var n=this.compare(t,e);if(0==n)return this;if(-1==n)var i={row:t,column:e};else var r={row:t,column:e};return s.fromPoints(i||this.start,r||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return s.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new s(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new s(this.start.row,0,this.end.row,0)},this.toScreenRange=function(t){var e=t.documentToScreenPosition(this.start),n=t.documentToScreenPosition(this.end);return new s(e.row,e.column,n.row,n.column)},this.moveBy=function(t,e){this.start.row+=t,this.start.column+=e,this.end.row+=t,this.end.column+=e}}).call(s.prototype),s.fromPoints=function(t,e){return new s(t.row,t.column,e.row,e.column)},s.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},s.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},e.Range=s}),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,e,n){"use strict";var i=t("./lib/oop"),o=t("./lib/lang"),r=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var e=this;this.lead.on("change",function(t){e._emit("changeCursor"),e.$isEmpty||e._emit("changeSelection"),e.$keepDesiredColumnOnChange||t.old.column==t.value.column||(e.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){e.$isEmpty||e._emit("changeSelection")})};(function(){i.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.anchor.setPosition(t,e),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(t){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+t);else{var e=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();i&&0===e.column||this.setSelectionAnchor(e.row,e.column+t),(i||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+t)})}},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.isEmpty()?s.fromPoints(e,e):this.isBackwards()?s.fromPoints(e,t):s.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var t=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(t,this.doc.getLine(t).length)},this.setRange=this.setSelectionRange=function(t,e){e?(this.setSelectionAnchor(t.end.row,t.end.column),this.selectTo(t.start.row,t.start.column)):(this.setSelectionAnchor(t.start.row,t.start.column),this.selectTo(t.end.row,t.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection(function(){this.moveCursorTo(t,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if(void 0===e){var n=t||this.lead;t=n.row,e=n.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var n,i="number"==typeof t?t:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===e?new s(i,0,n,this.session.getLine(n).length):new s(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===e.column)0<e.row&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column-n,e.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();e=this.lead;this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column,e.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,n=this.session.documentToScreenRow(t,e),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(t,null,i.row,i.column).match(/^\s*/);r[0].length==e||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var n=this.session.getLine(e.row);if(e.column==n.length){var i=n.search(/\s+$/);0<i&&(e.column=i)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,e,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(e)),e>=n.length)return this.moveCursorTo(t,n.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)}},this.moveCursorLongWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))this.moveCursorTo(t.start.row,t.start.column);else{var i=this.session.getFoldStringAt(e,n,-1);null==i&&(i=this.doc.getLine(e).substring(0,n));var r=o.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(r)&&(n-=this.session.nonTokenRe.lastIndex,r=r.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(e,0),this.moveCursorLeft(),void(0<e&&this.moveCursorWordLeft());this.session.tokenRe.exec(r)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,n)}},this.$shortWordEndIndex=function(t){var e,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(t))n=this.session.tokenRe.lastIndex;else{for(;(e=t[n])&&i.test(e);)n++;if(n<1)for(r.lastIndex=0;(e=t[n])&&!r.test(e);)if(r.lastIndex=0,n++,i.test(e)){if(2<n){n--;break}for(;(e=t[n])&&i.test(e);)n++;if(2<n)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e),r=this.session.getFoldAt(t,e,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(e==n.length){for(var s=this.doc.getLength();t++,i=this.doc.getLine(t),t<s&&/^\s*$/.test(i););/^\s+/.test(i)||(i=""),e=0}var o=this.$shortWordEndIndex(i);this.moveCursorTo(t,e+o)},this.moveCursorShortWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))return this.moveCursorTo(t.start.row,t.start.column);var i=this.session.getLine(e).substring(0,n);if(0===n){for(;e--,i=this.doc.getLine(e),0<e&&/^\s*$/.test(i););n=i.length,/\s+$/.test(i)||(i="")}var r=o.stringReverse(i),s=this.$shortWordEndIndex(r);return this.moveCursorTo(e,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===e&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+t,n.column);0!==t&&0===e&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&(0<i.row||0<t)&&i.row++,this.moveCursorTo(i.row,i.column+e,0===e)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,n){var i=this.session.getFoldAt(t,e,1);i&&(t=i.start.row,e=i.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,n){var i=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var n=this.getCursor();return s.fromPoints(e,n)}catch(t){return s.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(t){var e=t.clone();return e.isBackwards=t.cursor==t.start,e});else(t=this.getRange()).isBackwards=this.isBackwards();return t},this.fromJSON=function(t){if(null==t.start){if(this.rangeList){this.toSingleRange(t[0]);for(var e=t.length;e--;){var n=s.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(a.prototype),e.Selection=a}),define("ace/tokenizer",["require","exports","module","ace/config"],function(t,e,n){"use strict";var i=t("./config"),y=2e3,r=function(t){for(var e in this.states=t,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[e],i=[],r=0,s=this.matchMappings[e]={defaultToken:"text"},o="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(s.defaultToken=c.defaultToken),c.caseInsensitive&&(o="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var h=c.regex,u=new RegExp("(?:("+h+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==u?c.token=c.token[0]:u-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:u-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=1<u?this.$applyToken:c.token),1<u&&(/\\\d/.test(c.regex)?h=c.regex.replace(/\\([0-9]+)/g,function(t,e){return"\\"+(parseInt(e,10)+r+1)}):(u=1,h=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),s[r]=l,r+=u,i.push(h),c.onMatch||(c.onMatch=null)}}i.length||(s[0]=0,i.push("$")),a.forEach(function(t){t.splitRegex=this.createSplitterRegexp(t.regex,o)},this),this.regExps[e]=new RegExp("("+i.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(t){y=0|t},this.$applyToken=function(t){var e=this.splitRegex.exec(t).slice(1),n=this.token.apply(this,e);if("string"==typeof n)return[{type:n,value:t}];for(var i=[],r=0,s=n.length;r<s;r++)e[r]&&(i[i.length]={type:n[r],value:e[r]});return i},this.$arrayTokens=function(t){if(!t)return[];var e=this.splitRegex.exec(t);if(!e)return"text";for(var n=[],i=this.tokenArray,r=0,s=i.length;r<s;r++)e[r+1]&&(n[n.length]={type:i[r],value:e[r+1]});return n},this.removeCapturingGroups=function(t){return t.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(t,e){return e?"(?:":t})},this.createSplitterRegexp=function(t,e){if(-1!=t.indexOf("(?=")){var o=0,a=!1,l={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(t,e,n,i,r,s){return a?a="]"!=r:r?a=!0:i?(o==l.stack&&(l.end=s+1,l.stack=-1),o--):n&&(o++,1!=n.length&&(l.stack=o,l.start=s)),t}),null!=l.end&&/^\)*$/.test(t.substr(l.end))&&(t=t.substring(0,l.start)+t.substr(l.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(e||"").replace("g",""))},this.getLineTokens=function(t,e){if(e&&"string"!=typeof e)"#tmp"===(e=(n=e.slice(0))[0])&&(n.shift(),e=n.shift());else var n=[];var i=e||"start",r=this.states[i];r||(i="start",r=this.states[i]);for(var s,o=this.matchMappings[i],a=this.regExps[i],l=[],c=a.lastIndex=0,h=0,u={type:null,value:""};s=a.exec(t);){var d=o.defaultToken,f=null,p=s[0],g=a.lastIndex;if(g-p.length>c){var m=t.substring(c,g-p.length);u.type==d?u.value+=m:(u.type&&l.push(u),u={type:d,value:m})}for(var v=0;v<s.length-2;v++)if(void 0!==s[v+1]){d=(f=r[o[v]]).onMatch?f.onMatch(p,i,n):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),(r=this.states[i])||(this.reportError("state doesn't exist",i),i="start",r=this.states[i]),o=this.matchMappings[i],c=g,(a=this.regExps[i]).lastIndex=g);break}if(p)if("string"==typeof d)f&&!1===f.merge||u.type!==d?(u.type&&l.push(u),u={type:d,value:p}):u.value+=p;else if(d){u.type&&l.push(u),u={type:null,value:""};for(v=0;v<d.length;v++)l.push(d[v])}if(c==t.length)break;if(c=g,h++>y){for(h>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:e,line:t});c<t.length;)u.type&&l.push(u),u={value:t.substring(c,c+=2e3),type:"overflow"};i="start",n=[];break}}return u.type&&l.push(u),1<n.length&&n[0]!==i&&n.unshift("#tmp",i),{tokens:l,state:n.length?n:i}},this.reportError=i.reportError}).call(r.prototype),e.Tokenizer=r}),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(t,e,n){"use strict";var c=t("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,e){if(e)for(var n in t){for(var i=t[n],r=0;r<i.length;r++){var s=i[r];(s.next||s.onMatch)&&("string"==typeof s.next&&0!==s.next.indexOf(e)&&(s.next=e+s.next),s.nextState&&0!==s.nextState.indexOf(e)&&(s.nextState=e+s.nextState))}this.$rules[e+n]=i}else for(var n in t)this.$rules[n]=t[n]},this.getRules=function(){return this.$rules},this.embedRules=function(t,e,n,i,r){var s="function"==typeof t?(new t).getRules():t;if(i)for(var o=0;o<i.length;o++)i[o]=e+i[o];else for(var a in i=[],s)i.push(e+a);if(this.addRules(s,e),n){var l=Array.prototype[r?"push":"unshift"];for(o=0;o<i.length;o++)l.apply(this.$rules[i[o]],c.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var f=function(t,e){return("start"!=t||e.length)&&e.unshift(this.nextState,t),this.nextState},p=function(t,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){var u=0,d=this.$rules;Object.keys(d).forEach(function t(e){var n=d[e];n.processed=!0;for(var i=0;i<n.length;i++){var r=n[i],s=null;Array.isArray(r)&&(s=r,r={}),!r.regex&&r.start&&(r.regex=r.start,r.next||(r.next=[]),r.next.push({defaultToken:r.token},{token:r.token+".end",regex:r.end||r.start,next:"pop"}),r.token=r.token+".start",r.push=!0);var o=r.next||r.push;if(o&&Array.isArray(o)){var a=r.stateName;a||("string"!=typeof(a=r.token)&&(a=a[0]||""),d[a]&&(a+=u++)),d[a]=o,t(r.next=a)}else"pop"==o&&(r.next=p);if(r.push&&(r.nextState=r.next||r.push,r.next=f,delete r.push),r.rules)for(var l in r.rules)d[l]?d[l].push&&d[l].push.apply(d[l],r.rules[l]):d[l]=r.rules[l];var c="string"==typeof r?r:"string"==typeof r.include?r.include:"";if(c&&(s=d[c]),s){var h=[i,1].concat(s);r.noEscape&&(h=h.filter(function(t){return!t.next})),n.splice.apply(n,h),i--}r.keywordMap&&(r.token=this.createKeywordMapper(r.keywordMap,r.defaultToken||"text",r.caseInsensitive),delete r.defaultToken)}},this)},this.createKeywordMapper=function(r,e,s,o){var a=Object.create(null);return Object.keys(r).forEach(function(t){var e=r[t];s&&(e=e.toLowerCase());for(var n=e.split(o||"|"),i=n.length;i--;)a[n[i]]=t}),Object.getPrototypeOf(a)&&(a.__proto__=null),this.$keywordList=Object.keys(a),r=null,s?function(t){return a[t.toLowerCase()]||e}:function(t){return a[t]||e}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),e.TextHighlightRules=i}),define("ace/mode/behaviour",["require","exports","module"],function(t,e,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(t,e,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][e]=n},this.addBehaviours=function(t){for(var e in t)for(var n in t[e])this.add(e,n,t[e][n])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,e){if("function"==typeof t)var n=(new t).getBehaviours(e);else n=t.getBehaviours(e);this.addBehaviours(n)},this.getBehaviours=function(t){if(t){for(var e={},n=0;n<t.length;n++)this.$behaviours[t[n]]&&(e[t[n]]=this.$behaviours[t[n]]);return e}return this.$behaviours}}).call(i.prototype),e.Behaviour=i}),define("ace/token_iterator",["require","exports","module"],function(t,e,n){"use strict";var i=function(t,e,n){this.$session=t,this.$row=e,this.$rowTokens=t.getTokens(e);var i=t.getTokenAt(e,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var t;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,e=this.$tokenIndex,n=t[e].start;if(void 0!==n)return n;for(n=0;0<e;)n+=t[e-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(i.prototype),e.TokenIterator=i}),define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,e,n){"use strict";var f,i=t("../../lib/oop"),r=t("../behaviour").Behaviour,s=t("../../token_iterator").TokenIterator,p=t("../../lib/lang"),o=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],l={},_=function(t){var e=-1;if(t.multiSelect&&(e=t.selection.index,l.rangeCount!=t.multiSelect.rangeCount&&(l={rangeCount:t.multiSelect.rangeCount})),l[e])return f=l[e];f=l[e]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},w=function(t,e,n,i){var r=t.end.row-t.start.row;return{text:n+e+i,selection:[0,t.start.column+1,r,t.end.column+(r?0:1)]}},g=function(){this.add("braces","insertion",function(t,e,n,i,r){var s=n.getCursorPosition(),o=i.doc.getLine(s.row);if("{"==r){_(n);var a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(""!==l&&"{"!==l&&n.getWrapBehavioursEnabled())return w(a,l,"{","}");if(g.isSaneInsertion(n,i))return/[\]\}\)]/.test(o[s.column])||n.inMultiSelectMode?(g.recordAutoInsert(n,i,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(n,i,"{"),{text:"{",selection:[1,1]})}else if("}"==r){if(_(n),"}"==o.substring(s.column,s.column+1))if(null!==i.$findOpeningBracket("}",{column:s.column+1,row:s.row})&&g.isAutoInsertedClosing(s,o,r))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==r||"\r\n"==r){_(n);var c="";if(g.isMaybeInsertedClosing(s,o)&&(c=p.stringRepeat("}",f.maybeInsertedBrackets),g.clearMaybeInsertedClosing()),"}"===o.substring(s.column,s.column+1)){var h=i.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!h)return null;var u=this.$getIndent(i.getLine(h.row))}else{if(!c)return void g.clearMaybeInsertedClosing();u=this.$getIndent(o)}var d=u+i.getTabString();return{text:"\n"+d+"\n"+u+c,selection:[1,d.length,1,d.length]}}g.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"{"==s){if(_(n),"}"==i.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r;f.maybeInsertedBrackets--}}),this.add("parens","insertion",function(t,e,n,i,r){if("("==r){_(n);var s=n.getSelectionRange(),o=i.doc.getTextRange(s);if(""!==o&&n.getWrapBehavioursEnabled())return w(s,o,"(",")");if(g.isSaneInsertion(n,i))return g.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){_(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1))if(null!==i.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&g.isAutoInsertedClosing(a,l,r))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==s&&(_(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r}),this.add("brackets","insertion",function(t,e,n,i,r){if("["==r){_(n);var s=n.getSelectionRange(),o=i.doc.getTextRange(s);if(""!==o&&n.getWrapBehavioursEnabled())return w(s,o,"[","]");if(g.isSaneInsertion(n,i))return g.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){_(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1))if(null!==i.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&g.isAutoInsertedClosing(a,l,r))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==s&&(_(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r}),this.add("string_dquotes","insertion",function(t,e,n,i,r){if('"'==r||"'"==r){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;_(n);var s=r,o=n.getSelectionRange(),a=i.doc.getTextRange(o);if(""!==a&&"'"!==a&&'"'!=a&&n.getWrapBehavioursEnabled())return w(o,a,s,s);if(!a){var l=n.getCursorPosition(),c=i.doc.getLine(l.row),h=c.substring(l.column-1,l.column),u=c.substring(l.column,l.column+1),d=i.getTokenAt(l.row,l.column),f=i.getTokenAt(l.row,l.column+1);if("\\"==h&&d&&/escape/.test(d.type))return null;var p,g=d&&/string|escape/.test(d.type),m=!f||/string|escape/.test(f.type);if(u==s)(p=g!==m)&&/string\.end/.test(f.type)&&(p=!1);else{if(g&&!m)return null;if(g&&m)return null;var v=i.$mode.tokenRe;v.lastIndex=0;var y=v.test(h);v.lastIndex=0;var b=v.test(h);if(y||b)return null;if(u&&!/[\s;,.})\]\\]/.test(u))return null;p=!0}return{text:p?s+s:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==s||"'"==s)&&(_(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s))return r.end.column++,r})};g.isSaneInsertion=function(t,e){var n=t.getCursorPosition(),i=new s(e,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",o)){var r=new s(e,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",o))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",a)},g.$matchTokenType=function(t,e){return-1<e.indexOf(t.type||t)},g.recordAutoInsert=function(t,e,n){var i=t.getCursorPosition(),r=e.doc.getLine(i.row);this.isAutoInsertedClosing(i,r,f.autoInsertedLineEnd[0])||(f.autoInsertedBrackets=0),f.autoInsertedRow=i.row,f.autoInsertedLineEnd=n+r.substr(i.column),f.autoInsertedBrackets++},g.recordMaybeInsert=function(t,e,n){var i=t.getCursorPosition(),r=e.doc.getLine(i.row);this.isMaybeInsertedClosing(i,r)||(f.maybeInsertedBrackets=0),f.maybeInsertedRow=i.row,f.maybeInsertedLineStart=r.substr(0,i.column)+n,f.maybeInsertedLineEnd=r.substr(i.column),f.maybeInsertedBrackets++},g.isAutoInsertedClosing=function(t,e,n){return 0<f.autoInsertedBrackets&&t.row===f.autoInsertedRow&&n===f.autoInsertedLineEnd[0]&&e.substr(t.column)===f.autoInsertedLineEnd},g.isMaybeInsertedClosing=function(t,e){return 0<f.maybeInsertedBrackets&&t.row===f.maybeInsertedRow&&e.substr(t.column)===f.maybeInsertedLineEnd&&e.substr(0,t.column)==f.maybeInsertedLineStart},g.popAutoInsertedClosing=function(){f.autoInsertedLineEnd=f.autoInsertedLineEnd.substr(1),f.autoInsertedBrackets--},g.clearMaybeInsertedClosing=function(){f&&(f.maybeInsertedBrackets=0,f.maybeInsertedRow=-1)},i.inherits(g,r),e.CstyleBehaviour=g}),define("ace/unicode",["require","exports","module"],function(t,i,e){"use strict";i.packages={},function(t){var e=/\w{4}/g;for(var n in t)i.packages[n]=t[n].replace(e,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,e,n){"use strict";var i=t("../tokenizer").Tokenizer,r=t("./text_highlight_rules").TextHighlightRules,s=t("./behaviour/cstyle").CstyleBehaviour,o=t("../unicode"),w=t("../lib/lang"),g=t("../token_iterator").TokenIterator,m=t("../range").Range,a=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,r,n,i){var s=r.doc,o=!0,a=!0,l=1/0,c=r.getTabSize(),e=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))p=this.lineCommentStart.map(w.escapeRegExp).join("|"),d=this.lineCommentStart[0];else p=w.escapeRegExp(this.lineCommentStart),d=this.lineCommentStart;p=new RegExp("^(\\s*)(?:"+p+") ?"),e=r.getUseSoftTabs();v=function(t,e){var n=t.match(p);if(n){var i=n[1].length,r=n[0].length;u(t,i,r)||" "!=n[0][r-1]||r--,s.removeInLine(e,i,r)}};var h=d+" ",u=(m=function(t,e){o&&!/\S/.test(t)||(u(t,l,l)?s.insertInLine({row:e,column:l},h):s.insertInLine({row:e,column:l},d))},y=function(t,e){return p.test(t)},function(t,e,n){for(var i=0;e--&&" "==t.charAt(e);)i++;if(i%c!=0)return!1;for(i=0;" "==t.charAt(n++);)i++;return 2<c?i%c!=c-1:i%c==0})}else{if(!this.blockComment)return!1;var d=this.blockComment.start,f=this.blockComment.end,p=new RegExp("^(\\s*)(?:"+w.escapeRegExp(d)+")"),g=new RegExp("(?:"+w.escapeRegExp(f)+")\\s*$"),m=function(t,e){y(t,e)||o&&!/\S/.test(t)||(s.insertInLine({row:e,column:t.length},f),s.insertInLine({row:e,column:l},d))},v=function(t,e){var n;(n=t.match(g))&&s.removeInLine(e,t.length-n[0].length,t.length),(n=t.match(p))&&s.removeInLine(e,n[1].length,n[0].length)},y=function(t,e){if(p.test(t))return!0;for(var n=r.getTokens(e),i=0;i<n.length;i++)if("comment"===n[i].type)return!0}}function b(t){for(var e=n;e<=i;e++)t(s.getLine(e),e)}var _=1/0;b(function(t,e){var n=t.search(/\S/);-1!==n?(n<l&&(l=n),a&&!y(t,e)&&(a=!1)):_>t.length&&(_=t.length)}),l==1/0&&(l=_,a=o=!1),e&&l%c!=0&&(l=Math.floor(l/c)*c),b(a?v:m)},this.toggleBlockComment=function(t,e,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var s,o,a=(f=new g(e,i.row,i.column)).getCurrentToken(),l=(e.selection,e.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var c,h;a&&/comment/.test(a.type);){if(-1!=(p=a.value.indexOf(r.start))){var u=f.getCurrentTokenRow(),d=f.getCurrentTokenColumn()+p;c=new m(u,d,u,d+r.start.length);break}a=f.stepBackward()}var f;for(a=(f=new g(e,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var p;if(-1!=(p=a.value.indexOf(r.end))){u=f.getCurrentTokenRow(),d=f.getCurrentTokenColumn()+p;h=new m(u,d,u,d+r.end.length);break}a=f.stepForward()}h&&e.remove(h),c&&(e.remove(c),s=c.start.row,o=-r.start.length)}else o=r.start.length,s=n.start.row,e.insert(n.end,r.end),e.insert(n.start,r.start);l.start.row==s&&(l.start.column+=o),l.end.row==s&&(l.end.column+=o),e.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(t,e,n){return this.$getIndent(e)},this.checkOutdent=function(t,e,n){return!1},this.autoOutdent=function(t,e,n){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(t){return null},this.createModeDelegates=function(t){for(var i in this.$embeds=[],this.$modes={},t)t[i]&&(this.$embeds.push(i),this.$modes[i]=new t[i]);var r=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(i=0;i<r.length;i++)!function(t){var e=r[i],n=t[e];t[r[i]]=function(){return this.$delegator(e,arguments,n)}}(this)},this.$delegator=function(t,e,n){var i=e[0];"string"!=typeof i&&(i=i[0]);for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var s=i.split(this.$embeds[r]);if(!s[0]&&s[1]){e[0]=s[1];var o=this.$modes[this.$embeds[r]];return o[t].apply(o,e)}}var a=n.apply(this,e);return n?a:void 0},this.transformAction=function(t,e,n,i,r){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][e]){var a=s[o][e].apply(this,arguments);if(a)return a}}},this.getKeywords=function(t){if(!this.completionKeywords){var e=this.$tokenizer.rules,n=[];for(var i in e)for(var r=e[i],s=0,o=r.length;s<o;s++)if("string"==typeof r[s].token)/keyword|support|storage/.test(r[s].token)&&n.push(r[s].regex);else if("object"==typeof r[s].token)for(var a=0,l=r[s].token.length;a<l;a++)if(/keyword|support|storage/.test(r[s].token[a])){i=r[s].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return t?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(t,e,n,i){return(this.$keywordList||this.$createKeywordList()).map(function(t){return{name:t,value:t,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(a.prototype),e.Mode=a}),define("ace/apply_delta",["require","exports","module"],function(t,e,n){"use strict";e.applyDelta=function(t,e,n){var i=e.start.row,r=e.start.column,s=t[i]||"";switch(e.action){case"insert":if(1===e.lines.length)t[i]=s.substring(0,r)+e.lines[0]+s.substring(r);else{var o=[i,1].concat(e.lines);t.splice.apply(t,o),t[i]=s.substring(0,r)+t[i],t[i+e.lines.length-1]+=s.substring(r)}break;case"remove":var a=e.end.column,l=e.end.row;i===l?t[i]=s.substring(0,r)+s.substring(a):t.splice(i,l-i+1,s.substring(0,r)+t[l].substring(a))}}}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,s=e.Anchor=function(t,e,n){this.$onChange=this.onChange.bind(this),this.attach(t),void 0===n?this.setPosition(e.row,e.column):this.setPosition(e,n)};(function(){function l(t,e,n){var i=n?t.column<=e.column:t.column<e.column;return t.row<e.row||t.row==e.row&&i}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var e=function(t,e,n){var i="insert"==t.action,r=(i?1:-1)*(t.end.row-t.start.row),s=(i?1:-1)*(t.end.column-t.start.column),o=t.start,a=i?o:t.end;if(l(e,o,n))return{row:e.row,column:e.column};if(l(a,e,!n))return{row:e.row+r,column:e.column+(e.row==a.row?s:0)};return{row:o.row,column:o.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(e.row,e.column,!0)}},this.setPosition=function(t,e,n){var i;if(i=n?{row:t,column:e}:this.$clipPositionToDocument(t,e),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var n={};return t>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):t<0?(n.row=0,n.column=0):(n.row=t,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,e))),e<0&&(n.column=0),n}}).call(s.prototype)}),define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./apply_delta").applyDelta,s=t("./lib/event_emitter").EventEmitter,h=t("./range").Range,o=t("./anchor").Anchor,a=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){i.implement(this,s),this.setValue=function(t){var e=this.getLength()-1;this.remove(new h(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,e){return new o(this,t,e)},0==="aaa".split(/a/).length?this.$split=function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,e){return this.$lines.slice(t,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var e;if(t.start.row===t.end.row)e=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{(e=this.getLines(t.start.row,t.end.row))[0]=(e[0]||"").substring(t.start.column);var n=e.length-1;t.end.row-t.start.row==n&&(e[n]=e[n].substring(0,t.end.column))}return e},this.insertLines=function(t,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,e)},this.removeLines=function(t,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,e)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,e){return this.getLength()<=1&&this.$detectNewLine(e),this.insertMergedLines(t,this.$split(e))},this.insertInLine=function(t,e){var n=this.clippedPos(t.row,t.column),i=this.pos(t.row,t.column+e.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[e]},!0),this.clonePos(i)},this.clippedPos=function(t,e){var n=this.getLength();void 0===t?t=n:t<0?t=0:n<=t&&(t=n-1,e=void 0);var i=this.getLine(t);return null==e&&(e=i.length),{row:t,column:e=Math.min(Math.max(e,0),i.length)}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,e){return{row:t,column:e}},this.$clipPosition=function(t){var e=this.getLength();return t.row>=e?(t.row=Math.max(0,e-1),t.column=this.getLine(e-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,e){var n=0;(t=Math.min(Math.max(t,0),this.getLength()))<this.getLength()?(e=e.concat([""]),n=0):(e=[""].concat(e),t--,n=this.$lines[t].length),this.insertMergedLines({row:t,column:n},e)},this.insertMergedLines=function(t,e){var n=this.clippedPos(t.row,t.column),i={row:n.row+e.length-1,column:(1==e.length?n.column:0)+e[e.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:e}),this.clonePos(i)},this.remove=function(t){var e=this.clippedPos(t.start.row,t.start.column),n=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:e,end:n,action:"remove",lines:this.getLinesForRange({start:e,end:n})}),this.clonePos(e)},this.removeInLine=function(t,e,n){var i=this.clippedPos(t,e),r=this.clippedPos(t,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(t,e){t=Math.min(Math.max(0,t),this.getLength()-1);var n=(e=Math.min(Math.max(0,e),this.getLength()-1))==this.getLength()-1&&0<t,i=e<this.getLength()-1,r=n?t-1:t,s=n?this.getLine(r).length:0,o=i?e+1:e,a=i?0:this.getLine(o).length,l=new h(r,s,o,a),c=this.$lines.slice(t,e+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),c},this.removeNewLine=function(t){t<this.getLength()-1&&0<=t&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,e){return t instanceof h||(t=h.fromPoints(t.start,t.end)),0===e.length&&t.isEmpty()?t.start:e==this.getTextRange(t)?t.end:(this.remove(t),e?this.insert(t.start,e):t.start)},this.applyDeltas=function(t){for(var e=0;e<t.length;e++)this.applyDelta(t[e])},this.revertDeltas=function(t){for(var e=t.length-1;0<=e;e--)this.revertDelta(t[e])},this.applyDelta=function(t,e){var n="insert"==t.action;(n?t.lines.length<=1&&!t.lines[0]:!h.comparePoints(t.start,t.end))||(n&&2e4<t.lines.length&&this.$splitAndapplyLargeDelta(t,2e4),r(this.$lines,t,e),this._signal("change",t))},this.$splitAndapplyLargeDelta=function(t,e){for(var n=t.lines,i=n.length,r=t.start.row,s=t.start.column,o=0,a=0;;){o=a,a+=e-1;var l=n.slice(o,a);if(i<a){t.lines=l,t.start.row=r+o,t.start.column=s;break}l.push(""),this.applyDelta({start:this.pos(r+o,s),end:this.pos(r+a,s=0),action:t.action,lines:l},!0)}},this.revertDelta=function(t){this.applyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=e||0,s=n.length;r<s;r++)if((t-=n[r].length+i)<0)return{row:r,column:t+n[r].length+i};return{row:s-1,column:n[s-1].length}},this.positionToIndex=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,s=Math.min(t.row,n.length),o=e||0;o<s;++o)r+=n[o].length+i;return r+t.column}}).call(a.prototype),e.Document=a}),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,s=function(t,e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var a=this;this.$worker=function(){if(a.running){for(var t=new Date,e=a.currentLine,n=-1,i=a.doc,r=e;a.lines[e];)e++;var s=i.getLength(),o=0;for(a.running=!1;e<s;){for(a.$tokenizeRow(e),n=e;e++,a.lines[e];);if(++o%5==0&&20<new Date-t){a.running=setTimeout(a.$worker,20);break}}a.currentLine=e,r<=n&&a.fireUpdateEvent(r,n)}}};(function(){i.implement(this,r),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,e){var n={first:t,last:e};this._signal("update",{data:n})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var e=t.start.row,n=t.end.row-e;if(0===n)this.lines[e]=null;else if("remove"==t.action)this.lines.splice(e,n+1,null),this.states.splice(e,n+1,null);else{var i=Array(n+1);i.unshift(e,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(e,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var e=this.doc.getLine(t),n=this.states[t-1],i=this.tokenizer.getLineTokens(e,n,t);return this.states[t]+""!=i.state+""?(this.states[t]=i.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=i.tokens}}).call(s.prototype),e.BackgroundTokenizer=s}),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e,n){"use strict";var c=t("./lib/lang"),h=(t("./lib/oop"),t("./range").Range),i=function(t,e,n){this.setRegexp(t),this.clazz=e,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,e,n,i){if(this.regExp)for(var r=i.firstRow,s=i.lastRow,o=r;o<=s;o++){var a=this.cache[o];null==a&&((a=c.getMatchOffsets(n.getLine(o),this.regExp)).length>this.MAX_RANGES&&(a=a.slice(0,this.MAX_RANGES)),a=a.map(function(t){return new h(o,t.offset,o,t.offset+t.length)}),this.cache[o]=a.length?a:"");for(var l=a.length;l--;)e.drawSingleLineMarker(t,a[l].toScreenRange(n),this.clazz,i)}}}).call(i.prototype),e.SearchHighlight=i}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,e,n){"use strict";var i=t("../range").Range;function c(t,e){this.foldData=t,Array.isArray(e)?this.folds=e:e=this.folds=[e];var n=e[e.length-1];this.range=new i(e[0].start.row,e[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort(function(t,e){return-t.range.compareEnd(e.start.row,e.start.column)}),0<this.range.compareEnd(t.start.row,t.start.column)?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,e,n){var i,r,s=0,o=this.folds,a=!0;null==e&&(e=this.end.row,n=this.end.column);for(var l=0;l<o.length;l++){if(-1==(r=(i=o[l]).range.compareStart(e,n)))return void t(null,e,n,s,a);if(!t(null,i.start.row,i.start.column,s,a)&&t(i.placeholder,i.start.row,i.start.column,s)||0===r)return;a=!i.sameRow,s=i.end.column}t(null,e,n,s,a)},this.getNextFoldTo=function(t,e){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(t,e)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(t,e,n){var i,r,s=this.getNextFoldTo(t,e);if(s)if(i=s.fold,"inside"==s.kind&&i.start.column!=e&&i.start.row!=t)window.console&&window.console.log(t,e,i);else if(i.start.row==t){var o=(r=this.folds).indexOf(i);for(0===o&&(this.start.column+=n);o<r.length;o++){if((i=r[o]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(t,e){var n=this.getNextFoldTo(t,e);if(!n||"inside"==n.kind)return null;var i=n.fold,r=this.folds,s=this.foldData,o=r.indexOf(i),a=r[o-1];this.end.row=a.end.row,this.end.column=a.end.column;var l=new c(s,r=r.splice(o,r.length-o));return s.splice(s.indexOf(this)+1,0,l),l},this.merge=function(t){for(var e=t.folds,n=0;n<e.length;n++)this.addFold(e[n]);var i=this.foldData;i.splice(i.indexOf(t),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(t){for(var e=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((t-=i.start.column-e)<0)return{row:i.start.row,column:i.start.column+t};if((t-=i.placeholder.length)<0)return i.start;e=i.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(c.prototype),e.FoldLine=c}),define("ace/range_list",["require","exports","module","ace/range"],function(t,e,n){"use strict";var l=t("./range").Range.comparePoints,i=function(){this.ranges=[]};(function(){this.comparePoints=l,this.pointIndex=function(t,e,n){for(var i=this.ranges,r=n||0;r<i.length;r++){var s=i[r],o=l(t,s.end);if(!(0<o)){var a=l(t,s.start);return 0===o?e&&0!==a?-r-2:r:0<a||0===a&&!e?r:-r-1}}return-r-1},this.add=function(t){var e=!t.isEmpty(),n=this.pointIndex(t.start,e);n<0&&(n=-n-1);var i=this.pointIndex(t.end,e,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,t)},this.addList=function(t){for(var e=[],n=t.length;n--;)e.push.apply(e,this.add(t[n]));return e},this.substractPoint=function(t){var e=this.pointIndex(t);if(0<=e)return this.ranges.splice(e,1)},this.merge=function(){for(var t,e=[],n=this.ranges,i=(n=n.sort(function(t,e){return l(t.start,e.start)}))[0],r=1;r<n.length;r++){t=i,i=n[r];var s=l(t.end,i.start);s<0||(0!=s||t.isEmpty()||i.isEmpty())&&(l(t.end,i.end)<0&&(t.end.row=i.end.row,t.end.column=i.end.column),n.splice(r,1),e.push(i),i=t,r--)}return this.ranges=n,e},this.contains=function(t,e){return 0<=this.pointIndex({row:t,column:e})},this.containsPoint=function(t){return 0<=this.pointIndex(t)},this.rangeAtPoint=function(t){var e=this.pointIndex(t);if(0<=e)return this.ranges[e]},this.clipRows=function(t,e){var n=this.ranges;if(n[0].start.row>e||n[n.length-1].start.row<t)return[];var i=this.pointIndex({row:t,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:e,column:0},i);r<0&&(r=-r-1);for(var s=[],o=i;o<r;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){if("insert"==t.action)var e=t.start,n=t.end;else n=t.start,e=t.end;for(var i=e.row,r=n.row-i,s=-e.column+n.column,o=this.ranges,a=0,l=o.length;a<l;a++){if(!((c=o[a]).end.row<i)){if(c.start.row>i)break;if(c.start.row==i&&c.start.column>=e.column&&(c.start.column==e.column&&this.$insertRight||(c.start.column+=s,c.start.row+=r)),c.end.row==i&&c.end.column>=e.column){if(c.end.column==e.column&&this.$insertRight)continue;c.end.column==e.column&&0<s&&a<l-1&&c.end.column>c.start.column&&c.end.column==o[a+1].start.column&&(c.end.column-=s),c.end.column+=s,c.end.row+=r}}}if(0!=r&&a<l)for(;a<l;a++){var c;(c=o[a]).start.row+=r,c.end.row+=r}}}).call(i.prototype),e.RangeList=i}),define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(t,e,n){"use strict";t("../range").Range;var i=t("../range_list").RangeList,r=t("../lib/oop"),s=e.Fold=function(t,e){this.foldLine=null,this.placeholder=e,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};function c(t,e){t.row-=e.row,0==t.row&&(t.column-=e.column)}function o(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row}r.inherits(s,i),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var t=this.range.clone(),e=new s(t,this.placeholder);return this.subFolds.forEach(function(t){e.subFolds.push(t.clone())}),e.collapseChildren=this.collapseChildren,e},this.addSubFold=function(t){if(!this.range.isEqual(t)){if(!this.range.containsRange(t))throw new Error("A fold can't intersect already existing fold"+t.range+this.range);var e,n;e=t,n=this.start,c(e.start,n),c(e.end,n);for(var i=t.start.row,r=t.start.column,s=0,o=-1;s<this.subFolds.length&&1==(o=this.subFolds[s].range.compare(i,r));s++);var a=this.subFolds[s];if(0==o)return a.addSubFold(t);i=t.range.end.row,r=t.range.end.column;var l=s;for(o=-1;l<this.subFolds.length&&1==(o=this.subFolds[l].range.compare(i,r));l++);this.subFolds[l];if(0==o)throw new Error("A fold can't intersect already existing fold"+t.range+this.range);this.subFolds.splice(s,l-s,t);return t.setFoldLine(this.foldLine),t}},this.restoreRange=function(t){return e=t,n=this.start,o(e.start,n),void o(e.end,n);var e,n}}.call(s.prototype)}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(t,e,n){"use strict";var a=t("../range").Range,g=t("./fold_line").FoldLine,m=t("./fold").Fold,l=t("../token_iterator").TokenIterator;e.Folding=function(){this.getFoldAt=function(t,e,n){var i=this.getFoldLine(t);if(!i)return null;for(var r=i.folds,s=0;s<r.length;s++){var o=r[s];if(o.range.contains(t,e)){if(1==n&&o.range.isEnd(t,e))continue;if(-1==n&&o.range.isStart(t,e))continue;return o}}},this.getFoldsInRange=function(t){var e=t.start,n=t.end,i=this.$foldData,r=[];e.column+=1,n.column-=1;for(var s=0;s<i.length;s++){var o=i[s].range.compareRange(t);if(2!=o){if(-2==o)break;for(var a=i[s].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(o=c.range.compareRange(t)))break;if(2!=o){if(42==o)break;r.push(c)}}}}return e.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach(function(t){e=e.concat(this.getFoldsInRange(t))},this)}else e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,n=0;n<e.length;n++)for(var i=0;i<e[n].folds.length;i++)t.push(e[n].folds[i]);return t},this.getFoldStringAt=function(t,e,n,i){if(!(i=i||this.getFoldLine(t)))return null;for(var r,s,o={end:{column:0}},a=0;a<i.folds.length;a++){var l=(s=i.folds[a]).range.compareEnd(t,e);if(-1==l){r=this.getLine(s.start.row).substring(o.end.column,s.start.column);break}if(0===l)return null;o=s}return r||(r=this.getLine(s.start.row).substring(o.end.column)),-1==n?r.substring(0,e-o.end.column):1==n?r.substring(e-o.end.column):r},this.getFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=t&&r.end.row>=t)return r;if(r.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=t)return r}return null},this.getFoldedRowCount=function(t,e){for(var n=this.$foldData,i=e-t+1,r=0;r<n.length;r++){var s=n[r],o=s.end.row,a=s.start.row;if(e<=o){a<e&&(t<=a?i-=e-a:i=0);break}t<=o&&(i-=t<=a?o-a:o-t+1)}return i},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(t,e){return t.start.row-e.start.row}),t},this.addFold=function(t,e){var n,i=this.$foldData,r=!1;t instanceof m?n=t:(n=new m(e,t)).collapseChildren=e.collapseChildren,this.$clipRangeToDocument(n.range);var s=n.start.row,o=n.start.column,a=n.end.row,l=n.end.column;if(!(s<a||s==a&&o<=l-2))throw new Error("The range has to be at least 2 characters width");var c=this.getFoldAt(s,o,1),h=this.getFoldAt(a,l,-1);if(c&&h==c)return c.addSubFold(n);c&&!c.range.isStart(s,o)&&this.removeFold(c),h&&!h.range.isEnd(a,l)&&this.removeFold(h);var u=this.getFoldsInRange(n.range);0<u.length&&(this.removeFolds(u),u.forEach(function(t){n.addSubFold(t)}));for(var d=0;d<i.length;d++){var f=i[d];if(a==f.start.row){f.addFold(n),r=!0;break}if(s==f.end.row){if(f.addFold(n),r=!0,!n.sameRow){var p=i[d+1];if(p&&p.start.row==a){f.merge(p);break}}break}if(a<=f.start.row)break}return r||(f=this.$addFoldLine(new g(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(f.start.row,f.start.row):this.$updateRowLengthCache(f.start.row,f.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(t){t.forEach(function(t){this.addFold(t)},this)},this.removeFold=function(t){var e=t.foldLine,n=e.start.row,i=e.end.row,r=this.$foldData,s=e.folds;if(1==s.length)r.splice(r.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))s.pop(),e.end.row=s[s.length-1].end.row,e.end.column=s[s.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))s.shift(),e.start.row=s[0].start.row,e.start.column=s[0].start.column;else if(t.sameRow)s.splice(s.indexOf(t),1);else{var o=e.split(t.start.row,t.start.column);(s=o.folds).shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);e.forEach(function(t){this.removeFold(t)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),0<e.collapseChildren&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(t){t.forEach(function(t){this.expandFold(t)},this)},this.unfold=function(t,e){var n,i;if(null==t?(n=new a(0,0,this.getLength(),0),e=!0):n="number"==typeof t?new a(t,0,t,this.getLine(t).length):"row"in t?a.fromPoints(t,t):t,i=this.getFoldsInRangeList(n),e)this.removeFolds(i);else for(var r=i;r.length;)this.expandFolds(r),r=this.getFoldsInRangeList(n);if(i.length)return i},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var n=this.getFoldLine(t,e);return n?n.end.row:t},this.getRowFoldStart=function(t,e){var n=this.getFoldLine(t,e);return n?n.start.row:t},this.getFoldDisplayLine=function(t,e,n,r,s){null==r&&(r=t.start.row),null==s&&(s=0),null==e&&(e=t.end.row),null==n&&(n=this.getLine(e).length);var o=this.doc,a="";return t.walk(function(t,e,n,i){if(!(e<r)){if(e==r){if(n<s)return;i=Math.max(s,i)}a+=null!=t?t:o.getLine(e).substring(i,n)}},e,n),a},this.getDisplayLine=function(t,e,n,i){var r,s=this.getFoldLine(t);return s?this.getFoldDisplayLine(s,t,e,n,i):(r=this.doc.getLine(t)).substring(i||0,e||r.length)},this.$cloneFoldData=function(){var n=[];return n=this.$foldData.map(function(t){var e=t.folds.map(function(t){return t.clone()});return new g(n,e)})},this.toggleFold=function(t){var e,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(e=this.getFoldAt(r.row,r.column))return void this.expandFold(e);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var s=this.getFoldsInRange(i);if(t&&s.length)return void this.expandFolds(s);1==s.length&&(e=s[0])}if(e||(e=this.getFoldAt(i.start.row,i.start.column)),e&&e.range.toString()==i.toString())this.expandFold(e);else{var o="...";if(!i.isMultiLine()){if((o=this.getTextRange(i)).length<4)return;o=o.trim().substring(0,2)+".."}this.addFold(o,i)}},this.getCommentFoldRange=function(t,e,n){var i=new l(this,t,e),r=i.getCurrentToken();if(r&&/^comment|string/.test(r.type)){var s=new a,o=new RegExp(r.type.replace(/\..*/,"\\."));if(1!=n){for(;(r=i.stepBackward())&&o.test(r.type););i.stepForward()}if(s.start.row=i.getCurrentTokenRow(),s.start.column=i.getCurrentTokenColumn()+2,i=new l(this,t,e),-1!=n){for(;(r=i.stepForward())&&o.test(r.type););r=i.stepBackward()}else r=i.getCurrentToken();return s.end.row=i.getCurrentTokenRow(),s.end.column=i.getCurrentTokenColumn()+r.value.length-2,s}},this.foldAll=function(t,e,n){null==n&&(n=1e5);var i=this.foldWidgets;if(i){e=e||this.getLength();for(var r=t=t||0;r<e;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]){var s=this.getFoldWidgetRange(r);if(s&&s.isMultiLine()&&s.end.row<=e&&s.start.row>=t){r=s.end.row;try{var o=this.addFold("...",s);o&&(o.collapseChildren=n)}catch(t){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){"manual"==(this.$foldStyle=t)&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){this.$foldMode!=t&&(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),t&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(t,e){var n=this.foldWidgets;if(!n||e&&n[t])return{};for(var i,r=t-1;0<=r;){var s=n[r];if(null==s&&(s=n[r]=this.getFoldWidget(r)),"start"==s){var o=this.getFoldWidgetRange(r);if(i||(i=o),o&&o.end.row>=t)break}r--}return{range:-1!==r&&o,firstRange:i}},this.onFoldWidgetClick=function(t,e){var n={children:(e=e.domEvent).shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey};if(!this.$toggleFoldWidget(t,n)){var i=e.target||e.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var n=this.getFoldWidget(t),i=this.getLine(t),r="end"===n?-1:1,s=this.getFoldAt(t,-1===r?0:i.length,r);if(s)return e.children||e.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(t,!0);if(o&&!o.isMultiLine()&&(s=this.getFoldAt(o.start.row,o.start.column,1))&&o.isEqual(s.range))return this.removeFold(s),s;if(e.siblings){var a=this.getParentFoldRangeData(t);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,e.all?1e4:0)}else e.children?(c=o?o.end.row:this.getLength(),this.foldAll(t+1,c,e.all?1e4:0)):o&&(e.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(t){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var n=this.$toggleFoldWidget(e,{});if(!n){var i=this.getParentFoldRangeData(e,!0);if(n=i.range||i.firstRange){e=n.start.row;var r=this.getFoldAt(e,this.getLine(e).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(t){var e=t.start.row,n=t.end.row-e;if(0===n)this.foldWidgets[e]=null;else if("remove"==t.action)this.foldWidgets.splice(e,n+1,null);else{var i=Array(n+1);i.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}}),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,e,n){"use strict";var u=t("../token_iterator").TokenIterator,a=t("../range").Range;e.BracketMatch=function(){this.findMatchingBracket=function(t,e){if(0==t.column)return null;var n=e||this.getLine(t.row).charAt(t.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],t):this.$findOpeningBracket(i[2],t):null},this.getBracketRange=function(t){var e,n=this.getLine(t.row),i=!0,r=n.charAt(t.column-1),s=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(s||(r=n.charAt(t.column),t={row:t.row,column:t.column+1},s=r&&r.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){if(!(o=this.$findClosingBracket(s[1],t)))return null;e=a.fromPoints(t,o),i||(e.end.column++,e.start.column--),e.cursor=e.end}else{var o;if(!(o=this.$findOpeningBracket(s[2],t)))return null;e=a.fromPoints(o,t),i||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(t,e,n){var i=this.$brackets[t],r=1,s=new u(this,e.row,e.column),o=s.getCurrentToken();if(o||(o=s.stepForward()),o){n||(n=new RegExp("(\\.?"+o.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var a=e.column-s.getCurrentTokenColumn()-2,l=o.value;;){for(;0<=a;){var c=l.charAt(a);if(c==i){if(0==(r-=1))return{row:s.getCurrentTokenRow(),column:a+s.getCurrentTokenColumn()}}else c==t&&(r+=1);a-=1}for(;(o=s.stepBackward())&&!n.test(o.type););if(null==o)break;a=(l=o.value).length-1}return null}},this.$findClosingBracket=function(t,e,n){var i=this.$brackets[t],r=1,s=new u(this,e.row,e.column),o=s.getCurrentToken();if(o||(o=s.stepForward()),o){n||(n=new RegExp("(\\.?"+o.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var a=e.column-s.getCurrentTokenColumn();;){for(var l=o.value,c=l.length;a<c;){var h=l.charAt(a);if(h==i){if(0==(r-=1))return{row:s.getCurrentTokenRow(),column:a+s.getCurrentTokenColumn()}}else h==t&&(r+=1);a+=1}for(;(o=s.stepForward())&&!n.test(o.type););if(null==o)break;a=0}return null}}}}),define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/lang"),s=t("./config"),o=t("./lib/event_emitter").EventEmitter,a=t("./selection").Selection,l=t("./mode/text").Mode,h=t("./range").Range,c=t("./document").Document,u=t("./background_tokenizer").BackgroundTokenizer,d=t("./search_highlight").SearchHighlight,f=function(t,e){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++f.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new c(t)),this.setDocument(t),this.selection=new a(this),s.resetOptions(this),this.setMode(e),s._signal("session",this)};(function(){i.implement(this,o),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),(this.doc=t).on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var e=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,t)+1;n<e&&(this.$docRowCache.splice(n,e),this.$screenRowCache.splice(n,e))},this.$getRowCacheIndex=function(t,e){for(var n=0,i=t.length-1;n<=i;){var r=n+i>>1,s=t[r];if(s<e)n=r+1;else{if(!(e<s))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){var e=t.data;this.$resetRowCache(e.start.row)},this.onChange=function(t){this.$modified=!0,this.$resetRowCache(t.start.row);var e=this.$updateInternalDataOnChange(t);this.$fromUndo||!this.$undoManager||t.ignore||(this.$deltasDoc.push(t),e&&0!=e.length&&this.$deltasFold.push({action:"removeFolds",folds:e}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,e){var n,i=this.bgTokenizer.getTokens(t),r=0;if(null==e)s=i.length-1,r=this.getLine(t).length;else for(var s=0;s<i.length&&!(e<=(r+=i[s].value.length));s++);return(n=i[s])?(n.index=s,n.start=r-n.value.length,n):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),t){var e=this;this.$syncInformUndoManager=function(){e.$informUndoManager.cancel(),e.$deltasFold.length&&(e.$deltas.push({group:"fold",deltas:e.$deltasFold}),e.$deltasFold=[]),e.$deltasDoc.length&&(e.$deltas.push({group:"doc",deltas:e.$deltasDoc}),e.$deltasDoc=[]),0<e.$deltas.length&&t.execute({action:"aceupdate",args:[e.$deltas,e],merge:e.mergeUndoDeltas}),e.mergeUndoDeltas=!1,e.$deltas=[]},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,e){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+e,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(t,e){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+e,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var e=0;e<t.length;e++)this.$breakpoints[t[e]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(t,e){void 0===e&&(e="ace_breakpoint"),e?this.$breakpoints[t]=e:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(t,e,n,i){var r=this.$markerId++,s={range:t,type:n||"line",renderer:"function"==typeof n?n:null,clazz:e,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=s,this._signal("changeFrontMarker")):(this.$backMarkers[r]=s,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(t,e){if(t.update){var n=this.$markerId++;return t.id=n,t.inFront=!!e,e?(this.$frontMarkers[n]=t,this._signal("changeFrontMarker")):(this.$backMarkers[n]=t,this._signal("changeBackMarker")),t}},this.removeMarker=function(t){var e=this.$frontMarkers[t]||this.$backMarkers[t];if(e){var n=e.inFront?this.$frontMarkers:this.$backMarkers;e&&(delete n[t],this._signal(e.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var e=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(e)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,e,n,i){"number"!=typeof e&&(n=e,e=t),n||(n="ace_step");var r=new h(t,0,e,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r?\n)/m);this.$autoNewLine=e?e[1]:"\n"},this.getWordRange=function(t,e){var n=this.getLine(t),i=!1;if(0<e&&(i=!!n.charAt(e-1).match(this.tokenRe)),i||(i=!!n.charAt(e).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(e-1,e+1)))r=/\s/;else r=this.nonTokenRe;var s=e;if(0<s){for(;0<=--s&&n.charAt(s).match(r););s++}for(var o=e;o<n.length&&n.charAt(o).match(r);)o++;return new h(t,s,t,o)},this.getAWordRange=function(t,e){for(var n=this.getWordRange(t,e),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){var e=t.data;this.bgTokenizer.start(e.first),this._signal("tokenizerUpdate",t)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(t,e){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var n=t,i=n.path}else i=t||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(e&&e());this.$modeId=i,s.loadModule(["mode",i],function(t){if(this.$modeId!==i)return e&&e();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):t&&t.Mode&&(t=new t.Mode(n),n||((this.$modes[i]=t).$id=i),this.$onChangeMode(t)),e&&e()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(t,e){if(e||(this.$modeId=t.$id),this.$mode!==t){this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=t.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new u(n);var r=this;this.bgTokenizer.addEventListener("update",function(t){r._signal("tokenizerUpdate",t)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,e||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){s.warn("Could not load worker",t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var e=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,s=this.$foldData[r],o=s?s.start.row:1/0,a=e.length,l=0;l<a;l++){if(o<l){if(a<=(l=s.end.row+1))break;o=(s=this.$foldData[r++])?s.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(e[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,e){return this.doc.getLines(t,e)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,e){return this.doc.insert(t,e)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(t,e){return this.doc.removeFullLines(t,e)},this.undoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=null,i=t.length-1;-1!=i;i--){var r=t[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach(function(t){this.addFolds(t.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!e&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=null,i=0;i<t.length;i++){var r=t[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!e&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,e,n){function i(t){return e?"insert"!==t.action:"insert"===t.action}var r,s,o=t[0];i(o)?r=h.fromPoints(o.start,o.end):r=h.fromPoints(o.start,o.start);for(var a=1;a<t.length;a++)i(o=t[a])?(s=o.start,-1==r.compare(s.row,s.column)&&r.setStart(s),s=o.end,1==r.compare(s.row,s.column)&&r.setEnd(s),!0):(s=o.start,-1==r.compare(s.row,s.column)&&(r=h.fromPoints(o.start,o.start)),!1);if(null!=n){0===h.comparePoints(n.start,r.start)&&(n.start.column+=r.end.column-r.start.column,n.end.column+=r.end.column-r.start.column);var l=n.compareRange(r);1==l?r.setStart(n.start):-1==l&&r.setEnd(n.end)}return r},this.replace=function(t,e){return this.doc.replace(t,e)},this.moveText=function(t,e,n){var i=this.getTextRange(t),r=this.getFoldsInRange(t),s=h.fromPoints(e,e);if(!n){this.remove(t);var o=t.start.row-t.end.row;(c=o?-t.end.column:t.start.column-t.end.column)&&(s.start.row==t.end.row&&s.start.column>t.end.column&&(s.start.column+=c),s.end.row==t.end.row&&s.end.column>t.end.column&&(s.end.column+=c)),o&&s.start.row>=t.end.row&&(s.start.row+=o,s.end.row+=o)}if(s.end=this.insert(s.start,i),r.length){var a=t.start,l=s.start,c=(o=l.row-a.row,l.column-a.column);this.addFolds(r.map(function(t){return(t=t.clone()).start.row==a.row&&(t.start.column+=c),t.end.row==a.row&&(t.end.column+=c),t.start.row+=o,t.end.row+=o,t}))}return s},this.indentRows=function(t,e,n){n=n.replace(/\t/g,this.getTabString());for(var i=t;i<=e;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(t){for(var e=t.collapseRows(),n=new h(0,0,0,0),i=this.getTabSize(),r=e.start.row;r<=e.end.row;++r){var s=this.getLine(r);n.start.row=r,n.end.row=r;for(var o=0;o<i&&" "==s.charAt(o);++o);o<i&&"\t"==s.charAt(o)?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(t,e,n){if(t=this.getRowFoldStart(t),e=this.getRowFoldEnd(e),n<0){if((r=this.getRowFoldStart(t+n))<0)return 0;var i=r-t}else if(0<n){var r;if((r=this.getRowFoldEnd(e+n))>this.doc.getLength()-1)return 0;i=r-e}else{t=this.$clipRowToDocument(t);i=(e=this.$clipRowToDocument(e))-t+1}var s=new h(t,0,e,Number.MAX_VALUE),o=this.getFoldsInRange(s).map(function(t){return(t=t.clone()).start.row+=i,t.end.row+=i,t}),a=0==n?this.doc.getLines(t,e):this.doc.removeFullLines(t,e);return this.doc.insertFullLines(t+i,a),o.length&&this.addFolds(o),i},this.moveLinesUp=function(t,e){return this.$moveLines(t,e,-1)},this.moveLinesDown=function(t,e){return this.$moveLines(t,e,1)},this.duplicateLines=function(t,e){return this.$moveLines(t,e,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,e){return e<0?0:Math.min(this.doc.getLine(t).length,e)},this.$clipPositionToDocument=function(t,e){if(e=Math.max(0,e),t<0)e=t=0;else{var n=this.doc.getLength();n<=t?(t=n-1,e=this.doc.getLine(n-1).length):e=Math.min(this.doc.getLine(t).length,e)}return{row:t,column:e}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var e=this.doc.getLength()-1;return t.end.row>e?(t.end.row=e,t.end.column=this.doc.getLine(e).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var e=this.getLength();this.$wrapData=Array(e),this.$updateWrapData(0,e-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,e){this.$wrapLimitRange.min===t&&this.$wrapLimitRange.max===e||(this.$wrapLimitRange={min:t,max:e},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(t,e){var n=this.$wrapLimitRange;n.max<0&&(n={min:e,max:e});var i=this.$constrainWrapLimit(t,n.min,n.max);return i!=this.$wrapLimit&&1<i&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(t,e,n){return e&&(t=Math.max(e,t)),n&&(t=Math.min(n,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var e=this.$useWrapMode,n=t.action,i=t.start,r=t.end,s=i.row,o=r.row,a=o-s,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[e?"$wrapData":"$rowLengthCache"].splice(s,a);var c=this.$foldData;l=this.getFoldsInRange(t),this.removeFolds(l);var h=0;if(g=this.getFoldLine(r.row)){g.addRemoveChars(r.row,r.column,i.column-r.column),g.shiftRow(-a);var u=this.getFoldLine(s);u&&u!==g&&(u.merge(g),g=u),h=c.indexOf(g)+1}for(;h<c.length;h++){(g=c[h]).start.row>=r.row&&g.shiftRow(-a)}o=s}else{var d=Array(a);d.unshift(s,0);var f=e?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,d);c=this.$foldData,h=0;if(g=this.getFoldLine(s)){var p=g.range.compareInside(i.row,i.column);0==p?(g=g.split(i.row,i.column))&&(g.shiftRow(a),g.addRemoveChars(o,0,r.column-i.column)):-1==p&&(g.addRemoveChars(s,0,r.column-i.column),g.shiftRow(a)),h=c.indexOf(g)+1}for(;h<c.length;h++){var g;(g=c[h]).start.row>=s&&g.shiftRow(a)}}else a=Math.abs(t.start.column-t.end.column),"remove"===n&&(l=this.getFoldsInRange(t),this.removeFolds(l),a=-a),(g=this.getFoldLine(s))&&g.addRemoveChars(s,i.column,a);return e&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,e?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),l},this.$updateRowLengthCache=function(t,e,n){this.$rowLengthCache[t]=null,this.$rowLengthCache[e]=null},this.$updateWrapData=function(t,e){var o,n,a=this.doc.getAllLines(),i=this.getTabSize(),r=this.$wrapData,s=this.$wrapLimit,l=t;for(e=Math.min(e,a.length-1);l<=e;)(n=this.getFoldLine(l,n))?(o=[],n.walk(function(t,e,n,i){var r;if(null!=t){(r=this.$getDisplayTokens(t,o.length))[0]=p;for(var s=1;s<r.length;s++)r[s]=g}else r=this.$getDisplayTokens(a[e].substring(i,n),o.length);o=o.concat(r)}.bind(this),n.end.row,a[n.end.row].length+1),r[n.start.row]=this.$computeWrapSplits(o,s,i),l=n.end.row+1):(o=this.$getDisplayTokens(a[l]),r[l]=this.$computeWrapSplits(o,s,i),l++)};var p=3,g=4;function a(t){return!(t<4352)&&(4352<=t&&t<=4447||4515<=t&&t<=4519||4602<=t&&t<=4607||9001<=t&&t<=9002||11904<=t&&t<=11929||11931<=t&&t<=12019||12032<=t&&t<=12245||12272<=t&&t<=12283||12288<=t&&t<=12350||12353<=t&&t<=12438||12441<=t&&t<=12543||12549<=t&&t<=12589||12593<=t&&t<=12686||12688<=t&&t<=12730||12736<=t&&t<=12771||12784<=t&&t<=12830||12832<=t&&t<=12871||12880<=t&&t<=13054||13056<=t&&t<=19903||19968<=t&&t<=42124||42128<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||55216<=t&&t<=55238||55243<=t&&t<=55291||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65106||65108<=t&&t<=65126||65128<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510)}this.$computeWrapSplits=function(i,t,r){if(0==i.length)return[];var s=[],e=i.length,o=0,a=0,l=this.$wrapAsCode,c=this.$indentedSoftWrap,h=t<=Math.max(2*r,8)||!1===c?0:Math.floor(t/2);function n(t){var e=i.slice(o,t),n=e.length;e.join("").replace(/12/g,function(){n-=1}).replace(/2/g,function(){n-=1}),s.length||(u=function(){var t=0;if(0===h)return t;if(c)for(var e=0;e<i.length;e++){var n=i[e];if(10==n)t+=1;else{if(11!=n){if(12==n)continue;break}t+=r}}return l&&!1!==c&&(t+=r),Math.min(t,h)}(),s.indent=u),a+=n,s.push(a),o=t}for(var u=0;t-u<e-o;){var d=o+t-u;if(10<=i[d-1]&&10<=i[d])n(d);else if(i[d]!=p&&i[d]!=g){for(var f=Math.max(d-(t-(t>>2)),o-1);f<d&&i[d]<p;)d--;if(l){for(;f<d&&i[d]<p;)d--;for(;f<d&&9==i[d];)d--}else for(;f<d&&i[d]<10;)d--;f<d?n(++d):(2==i[d=o+t]&&d--,n(d-u))}else{for(;d!=o-1&&i[d]!=p;d--);if(o<d){n(d);continue}for(d=o+t;d<i.length&&i[d]==g;d++);if(d==i.length)break;n(d)}}return s},this.$getDisplayTokens=function(t,e){var n,i=[];e=e||0;for(var r=0;r<t.length;r++){var s=t.charCodeAt(r);if(9==s){n=this.getScreenTabSize(i.length+e),i.push(11);for(var o=1;o<n;o++)i.push(12)}else 32==s?i.push(10):39<s&&s<48||57<s&&s<64?i.push(9):4352<=s&&a(s)?i.push(1,2):i.push(1)}return i},this.$getStringScreenWidth=function(t,e,n){if(0==e)return[0,0];var i,r;for(null==e&&(e=1/0),n=n||0,r=0;r<t.length&&(9==(i=t.charCodeAt(r))?n+=this.getScreenTabSize(n):4352<=i&&a(i)?n+=2:n+=1,!(e<n));r++);return[n,r]},this.lineWidgets=null,this.getRowLength=function(t){if(this.lineWidgets)var e=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0;else e=0;return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(t){if(this.$useWrapMode){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE),n=this.$wrapData[e.row];return n.length&&n[0]<e.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(t){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(t,e){var n=this.documentToScreenRow(t,e);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(t,e){var n=this.documentToScreenRow(t,e);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-t%this.$tabSize},this.screenToDocumentRow=function(t,e){return this.screenToDocumentPosition(t,e).row},this.screenToDocumentColumn=function(t,e){return this.screenToDocumentPosition(t,e).column},this.screenToDocumentPosition=function(t,e){if(t<0)return{row:0,column:0};var n,i,r=0,s=0,o=0,a=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,t),h=l.length;if(h&&0<=c){o=l[c],r=this.$docRowCache[c];var u=t>l[h-1]}else u=!h;for(var d=this.getLength()-1,f=this.getNextFoldLine(r),p=f?f.start.row:1/0;o<=t&&!(t<o+(a=this.getRowLength(r))||d<=r);)o+=a,p<++r&&(r=f.end.row+1,p=(f=this.getNextFoldLine(r,f))?f.start.row:1/0),u&&(this.$docRowCache.push(r),this.$screenRowCache.push(o));if(f&&f.start.row<=r)n=this.getFoldDisplayLine(f),r=f.start.row;else{if(o+a<=t||d<r)return{row:d,column:this.getLine(d).length};n=this.getLine(r),f=null}var g=0;if(this.$useWrapMode){var m=this.$wrapData[r];if(m){var v=Math.floor(t-o);i=m[v],0<v&&m.length&&(g=m.indent,s=m[v-1]||m[m.length-1],n=n.substring(s))}}return s+=this.$getStringScreenWidth(n,e-g)[1],this.$useWrapMode&&i<=s&&(s=i-1),f?f.idxToPosition(s):{row:r,column:s}},this.documentToScreenPosition=function(t,e){if(void 0===e)var n=this.$clipPositionToDocument(t.row,t.column);else n=this.$clipPositionToDocument(t,e);t=n.row,e=n.column;var i,r=0,s=null;(i=this.getFoldAt(t,e,1))&&(t=i.start.row,e=i.start.column);var o,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,t),h=l.length;if(h&&0<=c){a=l[c],r=this.$screenRowCache[c];var u=t>l[h-1]}else u=!h;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;a<t;){if(f<=a){if(t<(o=d.end.row+1))break;f=(d=this.getNextFoldLine(o,d))?d.start.row:1/0}else o=a+1;r+=this.getRowLength(a),a=o,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var p="";d&&f<=a?(p=this.getFoldDisplayLine(d,t,e),s=d.start.row):(p=this.getLine(t).substring(0,e),s=t);var g=0;if(this.$useWrapMode){var m=this.$wrapData[s];if(m){for(var v=0;p.length>=m[v];)r++,v++;p=p.substring(m[v-1]||0,p.length),g=0<v?m.indent:0}}return{row:r,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(t,e){return this.documentToScreenPosition(t,e).column},this.documentToScreenRow=function(t,e){return this.documentToScreenPosition(t,e).row},this.getScreenLength=function(){var t=0,e=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(a=0,(e=this.$foldData[a++])?e.start.row:1/0);i<n;){var s=this.$wrapData[i];t+=s?s.length+1:1,r<++i&&(i=e.end.row+1,r=(e=this.$foldData[a++])?e.start.row:1/0)}else{t=this.getLength();for(var o=this.$foldData,a=0;a<o.length;a++)t-=(e=o[a]).end.row-e.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},this.$setFontMetrics=function(s){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,e,n){if(0===e)return[0,0];var i,r;for(e||(e=1/0),n=n||0,r=0;r<t.length&&!(e<(n+="\t"===(i=t.charAt(r))?this.getScreenTabSize(n):s.getCharacterWidth(i)));r++);return[n,r]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(f.prototype),t("./edit_session/folding").Folding.call(f.prototype),t("./edit_session/bracket_match").BracketMatch.call(f.prototype),s.defineOptions(f.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t){var e="number"==typeof t?t:null;this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){(t="auto"==t?"text"!=this.$mode.type:"text"!=t)!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){isNaN(t)||this.$tabSize===t||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(t){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId}}}),e.EditSession=f}),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e,n){"use strict";var _=t("./lib/lang"),i=t("./lib/oop"),w=t("./range").Range,r=function(){this.$options={}};(function(){this.set=function(t){return i.mixin(this.$options,t),this},this.getOptions=function(){return _.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var r=this.$options,e=this.$matchIterator(t,r);if(!e)return!1;var s=null;return e.forEach(function(t,e,n){if(t.start)s=t;else{var i=t.offset+(n||0);if(s=new w(e,i,e,i+t.length),!t.length&&r.start&&r.start.start&&0!=r.skipCurrent&&s.isEqual(r.start))return s=null,!1}return!0}),s},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var n=e.range,i=n?t.getLines(n.start.row,n.end.row):t.doc.getAllLines(),r=[],s=e.re;if(e.$isMultiLine){var o,a=s.length,l=i.length-a;t:for(var c=s.offset||0;c<=l;c++){for(var h=0;h<a;h++)if(-1==i[c+h].search(s[h]))continue t;var u=i[c],d=i[c+a-1],f=u.length-u.match(s[0])[0].length,p=d.match(s[a-1])[0].length;o&&o.end.row===c&&o.end.column>f||(r.push(o=new w(c,f,c+a-1,p)),2<a&&(c=c+a-2))}}else for(var g=0;g<i.length;g++){var m=_.getMatchOffsets(i[g],s);for(h=0;h<m.length;h++){var v=m[h];r.push(new w(g,v.offset,g,v.offset+v.length))}}if(n){var y=n.start.column,b=n.start.column;for(g=0,h=r.length-1;g<h&&r[g].start.column<y&&r[g].start.row==n.start.row;)g++;for(;g<h&&r[h].end.column>b&&r[h].end.row==n.end.row;)h--;for(r=r.slice(g,h+1),g=0,h=r.length;g<h;g++)r[g].start.row+=n.start.row,r[g].end.row+=n.start.row}return r},this.replace=function(t,e){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return e;if(i){var r=i.exec(t);if(!r||r[0].length!=t.length)return null;if(e=t.replace(i,e),n.preserveCase){e=e.split("");for(var s=Math.min(t.length,t.length);s--;){var o=t[s];o&&o.toLowerCase()!=o?e[s]=e[s].toUpperCase():e[s]=e[s].toLowerCase()}e=e.join("")}return e}},this.$matchIterator=function(a,t){var l,c=this.$assembleRegExp(t);if(!c)return!1;if(t.$isMultiLine)var h=c.length,e=function(t,e,n){var i=t.search(c[0]);if(-1!=i){for(var r=1;r<h;r++)if(-1==(t=a.getLine(e+r)).search(c[r]))return;var s=t.match(c[h-1])[0].length,o=new w(e,i,e+h-1,s);return 1==c.offset?(o.start.row--,o.start.column=Number.MAX_VALUE):n&&(o.start.column+=n),!!l(o)||void 0}};else if(t.backwards)e=function(t,e,n){for(var i=_.getMatchOffsets(t,c),r=i.length-1;0<=r;r--)if(l(i[r],e,n))return!0};else e=function(t,e,n){for(var i=_.getMatchOffsets(t,c),r=0;r<i.length;r++)if(l(i[r],e,n))return!0};var n=this.$lineIterator(a,t);return{forEach:function(t){l=t,n.forEach(e)}}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var n=t.needle;if(!t.needle)return t.re=!1;t.regExp||(n=_.escapeRegExp(n)),t.wholeWord&&(n=function(t,e){function n(t){return/\w/.test(t)||e.regExp?"\\b":""}return n(t[0])+t+n(t[t.length-1])}(n,t));var i=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(n),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(n,i);try{var r=new RegExp(n,i)}catch(t){r=!1}return t.re=r},this.$assembleMultilineRegExp=function(t,e){for(var n=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],e))}catch(t){return!1}return""==n[0]?(i.shift(),i.offset=1):i.offset=0,i},this.$lineIterator=function(n,i){var t=1==i.backwards,e=0!=i.skipCurrent,r=i.range,s=i.start;s||(s=r?r[t?"end":"start"]:n.selection.getRange()),s.start&&(s=s[e!=t?"end":"start"]);var o=r?r.start.row:0,a=r?r.end.row:n.getLength()-1;return{forEach:t?function(t){var e=s.row;if(!t(n.getLine(e).substring(0,s.column),e)){for(e--;o<=e;e--)if(t(n.getLine(e),e))return;if(0!=i.wrap)for(e=a,o=s.row;o<=e;e--)if(t(n.getLine(e),e))return}}:function(t){var e=s.row;if(!t(n.getLine(e).substr(s.column),e,s.column)){for(e+=1;e<=a;e++)if(t(n.getLine(e),e))return;if(0!=i.wrap)for(e=o,a=s.row;e<=a;e++)if(t(n.getLine(e),e))return}}}}}).call(r.prototype),e.Search=r}),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e,n){"use strict";var a=t("../lib/keys"),i=t("../lib/useragent"),l=a.KEY_MODS;function r(t,e){this.platform=e||(i.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function s(t,e){r.call(this,t,e),this.$singleCommand=!1}s.prototype=r.prototype,function(){function o(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||0}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),(this.commands[t.name]=t).bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,e){var n=t&&("string"==typeof t?t:t.name);t=this.commands[n],e||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var s=i[r];if(s==t)delete i[r];else if(Array.isArray(s)){var o=s.indexOf(t);-1!=o&&(s.splice(o,1),1==s.length&&(i[r]=s[0]))}}},this.bindKey=function(t,s,o){if("object"==typeof t&&t&&(null==o&&(o=t.position),t=t[this.platform]),t)return"function"==typeof s?this.addCommand({exec:s,bindKey:t,name:s.name||t}):void t.split("|").forEach(function(t){var i="";if(-1!=t.indexOf(" ")){var e=t.split(/\s+/);t=e.pop(),e.forEach(function(t){var e=this.parseKeys(t),n=l[e.hashId]+e.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")},this),i+=" "}var n=this.parseKeys(t),r=l[n.hashId]+n.key;this._addCommandToBinding(i+r,s,o)},this)},this._addCommandToBinding=function(t,e,n){var i,r=this.commandKeyBinding;if(e)if(!r[t]||this.$singleCommand)r[t]=e;else{Array.isArray(r[t])?-1!=(i=r[t].indexOf(e))&&r[t].splice(i,1):r[t]=[r[t]],"number"!=typeof n&&(n=n||e.isDefault?-100:o(e));var s=r[t];for(i=0;i<s.length;i++){if(n<o(s[i]))break}s.splice(i,0,e)}else delete r[t]},this.addCommands=function(n){n&&Object.keys(n).forEach(function(t){var e=n[t];if(e){if("string"==typeof e)return this.bindKey(e,t);"function"==typeof e&&(e={exec:e}),"object"==typeof e&&(e.name||(e.name=t),this.addCommand(e))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(t){return t}),n=e.pop(),i=a[n];if(a.FUNCTION_KEYS[i])n=a.FUNCTION_KEYS[i].toLowerCase();else{if(!e.length)return{key:n,hashId:-1};if(1==e.length&&"shift"==e[0])return{key:n.toUpperCase(),hashId:-1}}for(var r=0,s=e.length;s--;){var o=a.KEY_MODS[e[s]];if(null==o)return"undefined"!=typeof console&&console.error("invalid modifier "+e[s]+" in "+t),!1;r|=o}return{key:n,hashId:r}},this.findKeyCommand=function(t,e){var n=l[t]+e;return this.commandKeyBinding[n]},this.handleKeyboard=function(t,e,n,i){if(!(i<0)){var r=l[e]+n,s=this.commandKeyBinding[r];return t.$keyChain&&(t.$keyChain+=" "+r,s=this.commandKeyBinding[t.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(t.$keyChain&&(e&&4!=e||1!=n.length?(-1==e||0<i)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-r.length-1)),{command:s}):(t.$keyChain=t.$keyChain||r,{command:"null"})}},this.getStatusText=function(t,e){return e.$keyChain||""}}.call(r.prototype),e.HashHandler=r,e.MultiHashHandler=s}),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("../keyboard/hash_handler").MultiHashHandler,s=t("../lib/event_emitter").EventEmitter,o=function(t,e){r.call(this,e,t),this.byName=this.commands,this.setDefaultHandler("exec",function(t){return t.command.exec(t.editor,t.args||{})})};i.inherits(o,r),function(){i.implement(this,s),this.exec=function(t,e,n){if(Array.isArray(t)){for(var i=t.length;i--;)if(this.exec(t[i],e,n))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(e&&e.$readOnly&&!t.readOnly)return!1;var r={editor:e,command:t,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(t){if(!this.$inReplay)return t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map(function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}}.call(o.prototype),e.CommandManager=o}),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,e,n){"use strict";var c=t("../lib/lang"),i=t("../config"),h=t("../range").Range;function r(t,e){return{win:t,mac:e}}e.commands=[{name:"showSettingsMenu",bindKey:r("Ctrl-,","Command-,"),exec:function(e){i.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:r("Alt-E","F4"),exec:function(e){i.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:r("Alt-Shift-E","Shift-F4"),exec:function(e){i.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:r("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",bindKey:r(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:r("Ctrl-L","Command-L"),exec:function(t){var e=parseInt(prompt("Enter line number:"),10);isNaN(e)||t.gotoLine(e)},readOnly:!0},{name:"fold",bindKey:r("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:r("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:r("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:r("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:r("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:r("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:r("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:r("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:r("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:r("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",bindKey:r("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:r("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:r("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:r("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:r("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:r("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:r("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:r("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:r("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:r("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:r("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:r("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:r("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:r("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:r("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:r("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:r("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:r("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:r("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:r("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:r("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:r(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:r("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:r(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:r("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:r("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:r("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",bindKey:r("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",bindKey:r("Ctrl-P","Ctrl-P"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:r("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:r("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:r(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(t){},readOnly:!0},{name:"cut",exec:function(t){var e=t.getSelectionRange();t._emit("cut",e),t.selection.isEmpty()||(t.session.remove(e),t.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",bindKey:r("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:r("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:r("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:r("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:r("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:r("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:r("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:r("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:r("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",bindKey:r("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",bindKey:r("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:r("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:r("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:r("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:r("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:r("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:r("Shift-Delete",null),exec:function(t){if(!t.selection.isEmpty())return!1;t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:r("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:r("Alt-Delete","Ctrl-K"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:r("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:r("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:r("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:r("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:r("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:r("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(t,e){t.insert(c.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:r(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:r("Ctrl-T","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:r("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:r("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:r("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:r(null,null),exec:function(t){for(var e=t.selection.isBackwards(),n=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),i=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),r=t.session.doc.getLine(n.row).length,s=t.session.doc.getTextRange(t.selection.getRange()).replace(/\n\s*/," ").length,o=t.session.doc.getLine(n.row),a=n.row+1;a<=i.row+1;a++){var l=c.stringTrimLeft(c.stringTrimRight(t.session.doc.getLine(a)));0!==l.length&&(l=" "+l),o+=l}i.row+1<t.session.doc.getLength()-1&&(o+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new h(n.row,0,i.row+2,0),o),0<s?(t.selection.moveCursorTo(n.row,n.column),t.selection.selectTo(n.row,n.column+s)):(r=t.session.doc.getLine(n.row).length>r?r+1:r,t.selection.moveCursorTo(n.row,r))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:r(null,null),exec:function(t){var e=t.session.doc.getLength()-1,n=t.session.doc.getLine(e).length,i=t.selection.rangeList.ranges,r=[];i.length<1&&(i=[t.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row===e&&i[s].end.column===n||r.push(new h(i[s].end.row,i[s].end.column,e,n))),0===s?0===i[s].start.row&&0===i[s].start.column||r.push(new h(0,0,i[s].start.row,i[s].start.column)):r.push(new h(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));t.exitMultiSelectMode(),t.clearSelection();for(s=0;s<r.length;s++)t.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"}]}),define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(t,e,n){"use strict";t("./lib/fixoldbrowsers");var s=t("./lib/oop"),i=t("./lib/dom"),h=t("./lib/lang"),r=t("./lib/useragent"),o=t("./keyboard/textinput").TextInput,a=t("./mouse/mouse_handler").MouseHandler,l=t("./mouse/fold_handler").FoldHandler,c=t("./keyboard/keybinding").KeyBinding,u=t("./edit_session").EditSession,d=t("./search").Search,g=t("./range").Range,f=t("./lib/event_emitter").EventEmitter,p=t("./commands/command_manager").CommandManager,m=t("./commands/default_commands").commands,v=t("./config"),y=t("./token_iterator").TokenIterator,b=function(t,e){var n=t.getContainerElement();this.container=n,this.renderer=t,this.commands=new p(r.isMac?"mac":"win",m),this.textInput=new o(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new c(this),this.$mouseHandler=new a(this),new l(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=h.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(t,e){e._$emitInputEvent.schedule(31)}),this.setSession(e||new u("")),v.resetOptions(this),v._signal("editor",this)};(function(){s.implement(this,f),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=h.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(t){if(this.curOp){if(t&&!1===t.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var e=this.curOp.command;e.name&&0<this.$blockScrolling&&this.$blockScrolling--;var n=e&&e.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var e=this.prevOp,n=this.$mergeableCommands,i=e.command&&t.command.name==e.command.name;if("insertstring"==t.command.name){var r=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(e.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&2e3<Date.now()-this.sequenceStartTime&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,n){if(e&&"string"==typeof e){this.$keybindingId=e;var i=this;v.loadModule(["keybinding",e],function(t){i.$keybindingId==e&&i.keyBinding.setKeyboardHandler(t&&t.handler),n&&n()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),n&&n()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var e=this.session;if(e){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}(this.session=t)?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:e}),this.curOp=null,e&&e._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(t,e){return this.session.doc.setValue(t),e?1==e?this.navigateFileEnd():-1==e&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t,e){this.renderer.setTheme(t,e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var i=this;this.$highlightPending=!0,setTimeout(function(){i.$highlightPending=!1;var t=i.session;if(t&&t.bgTokenizer){var e=t.findMatchingBracket(i.getCursorPosition());if(e)var n=new g(e.row,e.column,e.row,e.column+1);else if(t.$mode.getMatching)n=t.$mode.getMatching(i.session);n&&(t.$bracketHighlight=t.addMarker(n,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var u=this;this.$highlightTagPending=!0,setTimeout(function(){u.$highlightTagPending=!1;var t=u.session;if(t&&t.bgTokenizer){var e=u.getCursorPosition(),n=new y(u.session,e.row,e.column),i=n.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==i.type.indexOf("tag-open")||(i=n.stepForward())){var r=i.value,s=0,o=n.stepBackward();if("<"==o.value)for(;o=i,(i=n.stepForward())&&i.value===r&&-1!==i.type.indexOf("tag-name")&&("<"===o.value?s++:"</"===o.value&&s--),i&&0<=s;);else{for(;i=o,o=n.stepBackward(),i&&i.value===r&&-1!==i.type.indexOf("tag-name")&&("<"===o.value?s++:"</"===o.value&&s--),o&&s<=0;);n.stepForward()}if(!i)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var a=n.getCurrentTokenRow(),l=n.getCurrentTokenColumn(),c=new g(a,l,a,l+i.value.length),h=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=h&&0!==c.compareRange(h.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),c&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(c,"ace_bracket","text"))}}},50)}},this.focus=function(){var t=this;setTimeout(function(){t.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(t){var e=this.session.$useWrapMode,n=t.start.row==t.end.row?t.end.row:1/0;this.renderer.updateLines(t.start.row,n,e),this._signal("change",t),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(t){var e=t.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var t,e=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||1<this.renderer.$minLines||(t=!1)),e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var n=new g(t.row,t.column,t.row,1/0);n.id=e.addMarker(n,"ace_active-line","screenLine"),e.$highlightLineMarker=n}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))},this.onSelectionChange=function(t){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();e.$selectionMarker=e.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,e=this.getSelectionRange();if(!e.isEmpty()&&!e.isMultiLine()){var n=e.start.column-1,i=e.end.column+1,r=t.getLine(e.start.row),s=r.length,o=r.substring(Math.max(n,0),Math.min(i,s));if(!(0<=n&&/^[\w\d]/.test(o)||i<=s&&/[\w\d]$/.test(o)))if(o=r.substring(e.start.column,e.end.column),/^[\w\d]+$/.test(o))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o})}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText();return this._signal("copy",t),t},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t,e){var n={text:t,event:e};this.commands.exec("paste",this,n)},this.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var e=t.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(e);else{var n=e.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges;if(n.length>i.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,e);for(var r=i.length;r--;){var s=i[r];s.isEmpty()||this.session.remove(s),this.session.insert(s.start,n[r])}}},this.execCommand=function(t,e){return this.commands.exec(t,this,e)},this.insert=function(t,e){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!e){var s=i.transformAction(n.getState(r.row),"insertion",this,n,t);s&&(t!==s.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),t=s.text)}if("\t"==t&&(t=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){(o=new g.fromPoints(r,r)).end.column+=t.length,this.session.remove(o)}}else{var o=this.getSelectionRange();r=this.session.remove(o),this.clearSelection()}if("\n"==t||"\r\n"==t){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,h=n.getState(r.row),u=(a=n.getLine(r.row),i.checkOutdent(h,a,t));n.insert(r,t);if(s&&s.selection&&(2==s.selection.length?this.selection.setSelectionRange(new g(r.row,c+s.selection[0],r.row,c+s.selection[1])):this.selection.setSelectionRange(new g(r.row+s.selection[0],s.selection[1],r.row+s.selection[2],s.selection[3]))),n.getDocument().isNewLine(t)){var d=i.getNextLineIndent(h,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}u&&i.autoOutdent(h,n,r.row)},this.onTextInput=function(t){this.keyBinding.onTextInput(t)},this.onCommandKey=function(t,e,n){this.keyBinding.onCommandKey(t,e,n)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var e=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(e.start.row),r=n.getMode().transformAction(i,"deletion",this,n,e);if(0===e.end.column){var s=n.getTextRange(e);if("\n"==s[s.length-1]){var o=n.getLine(e.end.row);/^\s+$/.test(o)&&(e.end.column=o.length)}}r&&(e=r)}this.session.remove(e),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),e=t.column;if(0!==e){var n,i,r=this.session.getLine(t.row);e<r.length?(n=r.charAt(e)+r.charAt(e-1),i=new g(t.row,e-1,t.row,e+1)):(n=r.charAt(e-1)+r.charAt(e-2),i=new g(t.row,e-2,t.row,e)),this.session.replace(i,n)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,e=this.getSelectionRange();if(!(e.start.row<e.end.row)){if(e.start.column<e.end.column){var n=t.getTextRange(e);if(!/^\s+$/.test(n)){c=this.$getSelectedRows();return void t.indentRows(c.first,c.last,"\t")}}var i=t.getLine(e.start.row),r=e.start,s=t.getTabSize(),o=t.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var a=s-o%s,l=h.stringRepeat(" ",a);else{for(a=o%s;" "==i[e.start.column-1]&&a;)e.start.column--,a--;this.selection.setSelectionRange(e),l="\t"}return this.insert(l)}var c=this.$getSelectedRows();t.indentRows(c.first,c.last,"\t")},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"\t")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){var t=this.$getSelectedRows(),e=this.session,n=[];for(r=t.first;r<=t.last;r++)n.push(e.getLine(r));n.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0});for(var i=new g(0,0,0,0),r=t.first;r<=t.last;r++){var s=e.getLine(r);i.start.row=r,i.end.row=r,i.end.column=s.length,e.replace(i,n[r-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),e=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,e.first,e.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),e=this.session.getState(t.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(e,this.session,n,t)},this.getNumberAt=function(t,e){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(t);n.lastIndex<e;){var r=n.exec(i);if(r.index<=e&&r.index+r[0].length>=e)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(t){var e=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new g(e,n-1,e,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var s=this.getNumberAt(e,n);if(s){var o=0<=s.value.indexOf(".")?s.start+s.value.indexOf(".")+1:s.end,a=s.start+s.value.length-o,l=parseFloat(s.value);l*=Math.pow(10,a),o!==s.end&&n<o?t*=Math.pow(10,s.end-n-1):t*=Math.pow(10,s.end-n),l+=t;var c=(l/=Math.pow(10,a)).toFixed(a),h=new g(e,s.start,e,s.end);this.session.replace(h,c),this.moveCursorTo(e,Math.max(s.start+1,n+c.length-s.value.length))}}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,e=this.session,n=t.getRange(),i=t.isBackwards();if(n.isEmpty()){var r=n.start.row;e.duplicateLines(r,r)}else{var s=i?n.start:n.end,o=e.insert(s,e.getTextRange(n),!1);n.start=s,n.end=o,t.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(t,e,n){return this.session.moveText(t,e,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(t,e){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var s=r.toOrientedRange();n=this.$getSelectedRows(s),i=this.session.$moveLines(n.first,n.last,e?0:t),e&&-1==t&&(i=0),s.moveBy(i,0),r.fromOrientedRange(s)}else{var o=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=o.length,h=0;h<c;h++){var u=h;o[h].moveBy(a,0);for(var d=(n=this.$getSelectedRows(o[h])).first,f=n.last;++h<c;){l&&o[h].moveBy(l,0);var p=this.$getSelectedRows(o[h]);if(e&&p.first!=f)break;if(!e&&p.first>f+1)break;f=p.last}for(h--,a=this.session.$moveLines(d,f,e?0:t),e&&-1==t&&(u=h+1);u<=h;)o[u].moveBy(a,0),u++;e||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(t){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,e){var n=this.renderer,i=this.renderer.layerConfig,r=t*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,!0===e?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):!1===e&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var s=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=e&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,e,n,i){this.renderer.scrollToLine(t,e,n,i)},this.centerSelection=function(){var t=this.getSelectionRange(),e={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,e){this.selection.moveCursorTo(t,e)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t,e){var n=this.getCursorPosition(),i=new y(this.session,n.row,n.column),r=i.getCurrentToken(),s=r||i.stepForward();if(s){var o,a,l=!1,c={},h=n.column-s.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(s.value.match(/[{}()\[\]]/g)){for(;h<s.value.length&&!l;h++)if(u[s.value[h]])switch(a=u[s.value[h]]+"."+s.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),s.value[h]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(o="bracket",l=!0)}}else s&&-1!==s.type.indexOf("tag-name")&&(isNaN(c[s.value])&&(c[s.value]=0),"<"===r.value?c[s.value]++:"</"===r.value&&c[s.value]--,-1===c[s.value]&&(o="tag",l=!0));l||(r=s,s=i.stepForward(),h=0)}while(s&&!l);if(o){var d,f;if("bracket"===o)(d=this.session.getBracketRange(n))||(f=(d=new g(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+h-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+h-1)).start,(e||f.row===n.row&&Math.abs(f.column-n.column)<2)&&(d=this.session.getBracketRange(f)));else if("tag"===o){if(!s||-1===s.type.indexOf("tag-name"))return;var p=s.value;if(0===(d=new g(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column))for(l=!1;s=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),s.value===p&&-1!==s.type.indexOf("tag-name")&&("<"===r.value?c[p]++:"</"===r.value&&c[p]--,0===c[p]&&(l=!0))),r&&!l;);s&&s.type.indexOf("tag-name")&&(f=d.start).row==n.row&&Math.abs(f.column-n.column)<2&&(f=d.end)}(f=d&&d.cursor||f)&&(t?d&&e?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(t,e,n){this.selection.clearSelection(),this.session.unfold({row:t-1,column:e||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,e||0),this.$blockScrolling-=1,this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,n)},this.navigateTo=function(t,e){this.selection.moveTo(t,e)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var e=this.getSelectionRange().start;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var e=this.getSelectionRange().end;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,e){e&&this.$search.set(e);var n=this.$search.find(this.session),i=0;return n&&(this.$tryReplace(n,t)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end))),i},this.replaceAll=function(t,e){e&&this.$search.set(e);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;0<=s;--s)this.$tryReplace(n[s],t)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(t,e){var n=this.session.getTextRange(t);return null!==(e=this.$search.replace(n,e))?(t.end=this.session.replace(t,e),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,e,n){e||(e={}),"string"==typeof t||t instanceof RegExp?e.needle=t:"object"==typeof t&&s.mixin(e,t);var i=this.selection.getRange();null==e.needle&&((t=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),t=this.session.getTextRange(i)),this.$search.set({needle:t})),this.$search.set(e),e.start||this.$search.set({start:i});var r=this.$search.find(this.session);return e.preventScroll?r:r?(this.revealRange(r,n),r):(e.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(t,e){this.find({skipCurrent:!0,backwards:!1},t,e)},this.findPrevious=function(t,e){this.find(t,{skipCurrent:!0,backwards:!0},e)},this.revealRange=function(t,e){this.$blockScrolling+=1,this.session.unfold(t),this.selection.setSelectionRange(t),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),!1!==e&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(t){if(t){var r,s=this,o=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var a=this.$scrollAnchor;a.style.cssText="position:absolute",this.container.insertBefore(a,this.container.firstChild);var e=this.on("changeSelection",function(){o=!0}),n=this.renderer.on("beforeRender",function(){o&&(r=s.renderer.container.getBoundingClientRect())}),i=this.renderer.on("afterRender",function(){if(o&&r&&(s.isFocused()||s.searchBox&&s.searchBox.isFocused())){var t=s.renderer,e=t.$cursorLayer.$pixelPos,n=t.layerConfig,i=e.top-n.offset;null!=(o=0<=e.top&&i+r.top<0||!(e.top<n.height&&e.top+r.top+n.lineHeight>window.innerHeight)&&null)&&(a.style.top=i+"px",a.style.left=e.left+"px",a.style.height=n.lineHeight+"px",a.scrollIntoView(o)),o=r=null}});this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",e),this.renderer.off("afterRender",i),this.renderer.off("beforeRender",n))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",e=this.renderer.$cursorLayer;e&&(e.setSmoothBlinking(/smooth/.test(t)),e.isBlinking=!this.$readOnly&&"wide"!=t,i.setCssClass(e.element,"ace_slim-cursors",/slim/.test(t)))}}).call(b.prototype),v.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(t){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(t){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),e.Editor=b}),define("ace/undomanager",["require","exports","module"],function(t,e,n){"use strict";var i=function(){this.reset()};(function(){function e(t){return{action:t.action,start:t.start,end:t.end,lines:1==t.lines.length?null:t.lines,text:1==t.lines.length?t.lines[0]:null}}function n(t){return{action:t.action,start:t.start,end:t.end,lines:t.lines||[t.text]}}function i(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++){for(var r=t[i],s={group:r.group,deltas:new Array(r.length)},o=0;o<r.deltas.length;o++){var a=r.deltas[o];s.deltas[o]=e(a)}n[i]=s}return n}this.execute=function(t){var e=t.args[0];this.$doc=t.args[1],t.merge&&this.hasUndo()&&(this.dirtyCounter--,e=this.$undoStack.pop().concat(e)),this.$undoStack.push(e),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(t){var e=this.$undoStack.pop(),n=null;return e&&(n=this.$doc.undoChanges(e,t),this.$redoStack.push(e),this.dirtyCounter--),n},this.redo=function(t){var e=this.$redoStack.pop(),n=null;return e&&(n=this.$doc.redoChanges(this.$deserializeDeltas(e),t),this.$undoStack.push(e),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return 0<this.$undoStack.length},this.hasRedo=function(){return 0<this.$redoStack.length},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return i(t,e)},this.$deserializeDeltas=function(t){return i(t,n)}}).call(i.prototype),e.UndoManager=i}),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(t,e,n){"use strict";var w=t("../lib/dom"),i=t("../lib/oop"),a=t("../lib/lang"),r=t("../lib/event_emitter").EventEmitter,s=function(t){this.element=w.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,r),this.setSession=function(t){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),(this.session=t)&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,e)},this.setAnnotations=function(t){this.$annotations=[];for(var e=0;e<t.length;e++){var n=t[e],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var s=n.text;s=s?a.escapeHTML(s):n.html||"",-1===r.text.indexOf(s)&&r.text.push(s);var o=n.type;"error"==o?r.className=" ace_error":"warning"==o&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=o||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var e=t.start.row,n=t.end.row-e;if(0===n);else if("remove"==t.action)this.$annotations.splice(e,n+1,null);else{var i=new Array(n+1);i.unshift(e,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(t){for(var e=this.session,n=t.firstRow,i=Math.min(t.lastRow+t.gutterOffset,e.getLength()-1),r=e.getNextFoldLine(n),s=r?r.start.row:1/0,o=this.$showFoldWidgets&&e.foldWidgets,a=e.$breakpoints,l=e.$decorations,c=e.$firstLineNumber,h=0,u=e.gutterRenderer||this.$renderer,d=null,f=-1,p=n;;){if(s<p&&(p=r.end.row+1,s=(r=e.getNextFoldLine(p,r))?r.start.row:1/0),i<p){for(;this.$cells.length>f+1;)d=this.$cells.pop(),this.element.removeChild(d.element);break}(d=this.$cells[++f])||((d={element:null,textNode:null,foldWidget:null}).element=w.createElement("div"),d.textNode=document.createTextNode(""),d.element.appendChild(d.textNode),this.element.appendChild(d.element),this.$cells[f]=d);var g="ace_gutter-cell ";if(a[p]&&(g+=a[p]),l[p]&&(g+=l[p]),this.$annotations[p]&&(g+=this.$annotations[p].className),d.element.className!=g&&(d.element.className=g),(v=e.getRowLength(p)*t.lineHeight+"px")!=d.element.style.height&&(d.element.style.height=v),o){var m=o[p];null==m&&(m=o[p]=e.getFoldWidget(p))}if(m){d.foldWidget||(d.foldWidget=w.createElement("span"),d.element.appendChild(d.foldWidget));g="ace_fold-widget ace_"+m;"start"==m&&p==s&&p<r.end.row?g+=" ace_closed":g+=" ace_open",d.foldWidget.className!=g&&(d.foldWidget.className=g);var v=t.lineHeight+"px";d.foldWidget.style.height!=v&&(d.foldWidget.style.height=v)}else d.foldWidget&&(d.element.removeChild(d.foldWidget),d.foldWidget=null);var y=h=u?u.getText(e,p):p+c;y!=d.textNode.data&&(d.textNode.data=y),p++}this.element.style.height=t.minHeight+"px",(this.$fixedWidth||e.$useWrapMode)&&(h=e.getLength()+c);var b=u?u.getWidth(e,h,t):h.toString().length*t.characterWidth,_=this.$padding||this.$computePadding();(b+=_.left+_.right)===this.gutterWidth||isNaN(b)||(this.gutterWidth=b,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",b))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?w.addCssClass(this.element,"ace_folding-enabled"):w.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=w.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(t.paddingLeft)+1||0,this.$padding.right=parseInt(t.paddingRight)||0,this.$padding},this.getRegion=function(t){var e=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return t.x<e.left+n.left?"markers":this.$showFoldWidgets&&t.x>n.right-e.right?"foldWidgets":void 0}}).call(s.prototype),e.Gutter=s}),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,e,n){"use strict";var f=t("../range").Range,i=t("../lib/dom"),r=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.update=function(t){if(t=t||this.config){this.config=t;var e=[];for(var n in this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var s=this.$getTop(r.start.row,t),o=this.$padding+r.start.column*t.characterWidth;i.renderer(e,r,o,s,t)}else"fullLine"==i.type?this.drawFullLineMarker(e,r,i.clazz,t):"screenLine"==i.type?this.drawScreenLineMarker(e,r,i.clazz,t):r.isMultiLine()?"text"==i.type?this.drawTextMarker(e,r,i.clazz,t):this.drawMultiLineMarker(e,r,i.clazz,t):this.drawSingleLineMarker(e,r,i.clazz+" ace_start ace_br15",t)}else i.update(e,this,this.session,t)}this.element.innerHTML=e.join("")}},this.$getTop=function(t,e){return(t-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(t,e,n,i,r){for(var s=this.session,o=e.start.row,a=e.end.row,l=o,c=0,h=0,u=s.getScreenLastRowColumn(l),d=new f(l,e.start.column,l,h);l<=a;l++)d.start.row=d.end.row=l,d.start.column=l==o?e.start.column:s.getRowWrapIndent(l),c=h,h=d.end.column=u,u=l+1<a?s.getScreenLastRowColumn(l+1):l==a?0:e.end.column,this.drawSingleLineMarker(t,d,n+(l==o?" ace_start":"")+" ace_br"+((l==o||l==o+1&&e.start.column?1:0)|(c<h?2:0)|(u<h?4:0)|(l==a?8:0)),i,l==a?0:1,r)},this.drawMultiLineMarker=function(t,e,n,i,r){var s=this.$padding,o=i.lineHeight,a=this.$getTop(e.start.row,i),l=s+e.start.column*i.characterWidth;r=r||"",t.push("<div class='",n," ace_br1 ace_start' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",l,"px;",r,"'></div>"),a=this.$getTop(e.end.row,i);var c=e.end.column*i.characterWidth;if(t.push("<div class='",n," ace_br12' style='","height:",o,"px;","width:",c,"px;","top:",a,"px;","left:",s,"px;",r,"'></div>"),!((o=(e.end.row-e.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(e.start.row+1,i);var h=(e.start.column?1:0)|(e.end.column?0:8);t.push("<div class='",n,h?" ace_br"+h:"","' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",s,"px;",r,"'></div>")}},this.drawSingleLineMarker=function(t,e,n,i,r,s){var o=i.lineHeight,a=(e.end.column+(r||0)-e.start.column)*i.characterWidth,l=this.$getTop(e.start.row,i),c=this.$padding+e.start.column*i.characterWidth;t.push("<div class='",n,"' style='","height:",o,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",s||"","'></div>")},this.drawFullLineMarker=function(t,e,n,i,r){var s=this.$getTop(e.start.row,i),o=i.lineHeight;e.start.row!=e.end.row&&(o+=this.$getTop(e.end.row,i)-s),t.push("<div class='",n,"' style='","height:",o,"px;","top:",s,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(t,e,n,i,r){var s=this.$getTop(e.start.row,i),o=i.lineHeight;t.push("<div class='",n,"' style='","height:",o,"px;","top:",s,"px;","left:0;right:0;",r||"","'></div>")}}).call(r.prototype),e.Marker=r}),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("../lib/oop"),c=t("../lib/dom"),u=t("../lib/lang"),r=(t("../lib/useragent"),t("../lib/event_emitter").EventEmitter),s=function(t){this.element=c.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){i.implement(this,r),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var t="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(t){this.$padding=t,this.element.style.padding="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){(this.session=t)&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(t){return this.showInvisibles!=t&&(this.showInvisibles=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides!=t&&(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var e=this.$tabStrings=[0],n=1;n<t+1;n++)this.showInvisibles?e.push("<span class='ace_invisible ace_invisible_tab'>"+u.stringRepeat(this.TAB_CHAR,n)+"</span>"):e.push(u.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",r="",s="";if(this.showInvisibles){i+=" ace_invisible",r=" ace_invisible_space",s=" ace_invisible_tab";var o=u.stringRepeat(this.SPACE_CHAR,this.tabSize),a=u.stringRepeat(this.TAB_CHAR,this.tabSize)}else a=o=u.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+i+r+"'>"+o+"</span>",this.$tabStrings["\t"]="<span class='"+i+s+"'>"+a+"</span>"}},this.updateLines=function(t,e,n){this.config.lastRow==t.lastRow&&this.config.firstRow==t.firstRow||this.scrollLines(t),this.config=t;for(var i=Math.max(e,t.firstRow),r=Math.min(n,t.lastRow),s=this.element.childNodes,o=0,a=t.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}o++}a=i;for(var l,c=(l=this.session.getNextFoldLine(a))?l.start.row:1/0;c<a&&(a=l.end.row+1,c=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(r<a);){var h=s[o++];if(h){var u=[];this.$renderLine(u,a,!this.$useLineGroups(),a==c&&l),h.style.height=t.lineHeight*this.session.getRowLength(a)+"px",h.innerHTML=u.join("")}a++}},this.scrollLines=function(t){var e=this.config;if(this.config=t,!e||e.lastRow<t.firstRow)return this.update(t);if(t.lastRow<e.firstRow)return this.update(t);var n=this.element;if(e.firstRow<t.firstRow)for(var i=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);0<i;i--)n.removeChild(n.firstChild);if(e.lastRow>t.lastRow)for(i=this.session.getFoldedRowCount(t.lastRow+1,e.lastRow);0<i;i--)n.removeChild(n.lastChild);if(t.firstRow<e.firstRow){var r=this.$renderLinesFragment(t,t.firstRow,e.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}if(t.lastRow>e.lastRow){r=this.$renderLinesFragment(t,e.lastRow+1,t.lastRow);n.appendChild(r)}},this.$renderLinesFragment=function(t,e,n){for(var i=this.element.ownerDocument.createDocumentFragment(),r=e,s=this.session.getNextFoldLine(r),o=s?s.start.row:1/0;o<r&&(r=s.end.row+1,o=(s=this.session.getNextFoldLine(r,s))?s.start.row:1/0),!(n<r);){var a=c.createElement("div"),l=[];if(this.$renderLine(l,r,!1,r==o&&s),a.innerHTML=l.join(""),this.$useLineGroups())a.className="ace_line_group",i.appendChild(a),a.style.height=t.lineHeight*this.session.getRowLength(r)+"px";else for(;a.firstChild;)i.appendChild(a.firstChild);r++}return i},this.update=function(t){for(var e=[],n=(this.config=t).firstRow,i=t.lastRow,r=n,s=this.session.getNextFoldLine(r),o=s?s.start.row:1/0;o<r&&(r=s.end.row+1,o=(s=this.session.getNextFoldLine(r,s))?s.start.row:1/0),!(i<r);)this.$useLineGroups()&&e.push("<div class='ace_line_group' style='height:",t.lineHeight*this.session.getRowLength(r),"px'>"),this.$renderLine(e,r,!1,r==o&&s),this.$useLineGroups()&&e.push("</div>"),r++;this.element.innerHTML=e.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,l,e,n){var c=this,i=n.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,function(t,e,n,i,r){if(e)return c.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+u.stringRepeat(c.SPACE_CHAR,t.length)+"</span>":t;if("&"==t)return"&#38;";if("<"==t)return"&#60;";if(">"==t)return"&#62;";if("\t"==t){var s=c.session.getScreenTabSize(l+i);return l+=s-1,c.$tabStrings[s]}if("　"==t){var o=c.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",a=c.showInvisibles?c.SPACE_CHAR:"";return l+=1,"<span class='"+o+"' style='width:"+2*c.config.characterWidth+"px'>"+a+"</span>"}return n?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+c.SPACE_CHAR+"</span>":(l+=1,"<span class='ace_cjk' style='width:"+2*c.config.characterWidth+"px'>"+t+"</span>")});if(this.$textToken[e.type])t.push(i);else{var r="ace_"+e.type.replace(/\./g," ace_"),s="";"fold"==e.type&&(s=" style='width:"+e.value.length*this.config.characterWidth+"px;' "),t.push("<span class='",r,"'",s,">",i,"</span>")}return l+n.length},this.renderIndentGuide=function(t,e,n){var i=e.search(this.$indentGuideRe);return i<=0||n<=i?e:" "==e[0]?(i-=i%this.tabSize,t.push(u.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),e.substr(i)):"\t"==e[0]?(t.push(u.stringRepeat(this.$tabStrings["\t"],i)),e.substr(i)):e},this.$renderWrappedLine=function(t,e,n,i){for(var r=0,s=0,o=n[0],a=0,l=0;l<e.length;l++){var c=e[l],h=c.value;if(0==l&&this.displayIndentGuides){if(r=h.length,!(h=this.renderIndentGuide(t,h,o)))continue;r-=h.length}if(r+h.length<o)a=this.$renderToken(t,a,c,h),r+=h.length;else{for(;r+h.length>=o;)a=this.$renderToken(t,a,c,h.substring(0,o-r)),h=h.substring(o-r),r=o,i||t.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),t.push(u.stringRepeat(" ",n.indent)),a=0,o=n[++s]||Number.MAX_VALUE;0!=h.length&&(r+=h.length,a=this.$renderToken(t,a,c,h))}}},this.$renderSimpleLine=function(t,e){var n=0,i=e[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(t,r)),r&&(n=this.$renderToken(t,n,i,r));for(var s=1;s<e.length;s++)r=(i=e[s]).value,n=this.$renderToken(t,n,i,r)},this.$renderLine=function(t,e,n,i){if(i||0==i||(i=this.session.getFoldLine(e)),i)var r=this.$getFoldLineTokens(e,i);else r=this.session.getTokens(e);if(n||t.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(e)),"px'>"),r.length){var s=this.session.getRowSplitData(e);s&&s.length?this.$renderWrappedLine(t,r,s,n):this.$renderSimpleLine(t,r)}this.showInvisibles&&(i&&(e=i.end.row),t.push("<span class='ace_invisible ace_invisible_eol'>",e==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||t.push("</div>")},this.$getFoldLineTokens=function(t,e){var s=this.session,o=[];var a=s.getTokens(t);return e.walk(function(t,e,n,i,r){null!=t?o.push({type:"fold",value:t}):(r&&(a=s.getTokens(e)),a.length&&function(t,e,n){for(var i=0,r=0;r+t[i].value.length<e;)if(r+=t[i].value.length,++i==t.length)return;for(r!=e&&((s=t[i].value.substring(e-r)).length>n-e&&(s=s.substring(0,n-e)),o.push({type:t[i].type,value:s}),r=e+s.length,i+=1);r<n&&i<t.length;){var s;(s=t[i].value).length+r>n?o.push({type:t[i].type,value:s.substring(0,n-r)}):o.push(t[i]),r+=s.length,i+=1}}(a,i,n))},e.end.row,this.session.getLine(e.end.row).length),o},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(s.prototype),e.Text=s}),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,e,n){"use strict";var i,r=t("../lib/dom"),s=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),void 0===i&&(i=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(i?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(t){for(var e=this.cursors,n=e.length;n--;)e[n].style.visibility=t?"":"hidden"},this.$updateOpacity=function(t){for(var e=this.cursors,n=e.length;n--;)e[n].style.opacity=t?"":"0"},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t==this.smoothBlinking||i||(this.smoothBlinking=t,r.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var t=r.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(1<this.cursors.length){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var e=function(){this.timeoutId=setTimeout(function(){t(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){t(!0),e()},this.blinkInterval),e()}},this.getPixelPosition=function(t,e){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(t);return{left:this.$padding+n.column*this.config.characterWidth,top:(n.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(t){this.config=t;var e=this.session.$selectionMarkers,n=0,i=0;void 0!==e&&0!==e.length||(e=[{cursor:null}]);n=0;for(var r=e.length;n<r;n++){var s=this.getPixelPosition(e[n].cursor,!0);if(!((s.top>t.height+t.offset||s.top<0)&&1<n)){var o=(this.cursors[i++]||this.addCursor()).style;this.drawCursor?this.drawCursor(o,s,t,e[n],this.session):(o.left=s.left+"px",o.top=s.top+"px",o.width=t.characterWidth+"px",o.height=t.lineHeight+"px")}}for(;this.cursors.length>i;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&((this.overwrite=t)?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(s.prototype),e.Cursor=s}),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/dom"),s=t("./lib/event"),o=t("./lib/event_emitter").EventEmitter,a=function(t){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)};(function(){i.implement(this,o),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1}}).call(a.prototype);var l=function(t,e){a.call(this,t),this.scrollTop=0,this.scrollHeight=0,e.$scrollbarWidth=this.width=r.scrollbarWidth(t.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};i.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var t=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-t)/(this.coeff-t)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=this.setScrollHeight=function(t){32768<(this.scrollHeight=t)?(this.coeff=32768/t,t=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=t,this.element.scrollTop=t*this.coeff)}}.call(l.prototype);var c=function(t,e){a.call(this,t),this.scrollLeft=0,this.height=e.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(c,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}.call(c.prototype),e.ScrollBar=l,e.ScrollBarV=l,e.ScrollBarH=c,e.VScrollBar=l,e.HScrollBar=c}),define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,e,n){"use strict";var i=t("./lib/event"),r=function(t,e){this.onRender=t,this.pending=!1,this.changes=0,this.window=e||window};(function(){this.schedule=function(t){if(this.changes=this.changes|t,!this.pending&&this.changes){this.pending=!0;var e=this;i.nextFrame(function(){var t;for(e.pending=!1;t=e.changes;)e.changes=0,e.onRender(t)},this.window)}}}).call(r.prototype),e.RenderLoop=r}),define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(t,e,n){var i=t("../lib/oop"),r=t("../lib/dom"),s=t("../lib/lang"),o=t("../lib/useragent"),a=t("../lib/event_emitter").EventEmitter,l=0,c=e.FontMetrics=function(t){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=s.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){i.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var t=r.createElement("div");this.$setMeasureNodeStyles(t.style),t.style.width="0.2px",document.documentElement.appendChild(t);var e=t.getBoundingClientRect().width;l=0<e&&e<1?50:100,t.parentNode.removeChild(t)},this.$setMeasureNodeStyles=function(t,e){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",o.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=e?"hidden":"visible"},this.checkForSizeChanges=function(){var t=this.$measureSizes();if(t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var e=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=e&&e.width===t.width&&e.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=setInterval(function(){t.checkForSizeChanges()},500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var t={height:e.height,width:e.width/l}}else t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(t){return this.$main.innerHTML=s.stringRepeat(t,l),this.$main.getBoundingClientRect().width/l},this.getCharacterWidth=function(t){var e=this.charSizes[t];return void 0===e&&(e=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),e},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)}),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),s=t("./lib/dom"),o=t("./config"),r=t("./lib/useragent"),a=t("./layer/gutter").Gutter,l=t("./layer/marker").Marker,c=t("./layer/text").Text,h=t("./layer/cursor").Cursor,u=t("./scrollbar").HScrollBar,d=t("./scrollbar").VScrollBar,f=t("./renderloop").RenderLoop,p=t("./layer/font_metrics").FontMetrics,g=t("./lib/event_emitter").EventEmitter;s.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}',"ace_editor.css");var m=function(t,e){var n=this;this.container=t||s.createElement("div"),this.$keepTextAreaAtCursor=!r.isOldIE,s.addCssClass(this.container,"ace_editor"),this.setTheme(e),this.$gutter=s.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=s.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=s.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var i=this.$textLayer=new c(this.content);this.canvas=i.element,this.$markerFront=new l(this.content),this.$cursorLayer=new h(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",function(t){n.$scrollAnimation||n.session.setScrollTop(t.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(t){n.$scrollAnimation||n.session.setScrollLeft(t.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(t){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",t)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,g),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),(this.session=t)&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(t,e,n){if(void 0===e&&(e=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<e&&(this.$changedLines.lastRow=e)):this.$changedLines={firstRow:t,lastRow:e},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(t,e,n,i){if(!(2<this.resizing)){0<this.resizing?this.resizing++:this.resizing=t?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var s=this.$updateCachedSize(t,e,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(t,e,n,i){i-=this.$extraHeight||0;var r=0,s=this.$size,o={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};return i&&(t||s.height!=i)&&(s.height=i,r|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),n&&(t||s.width!=n)&&(r|=this.CHANGE_SIZE,s.width=n,null==e&&(e=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=e,this.scrollBarH.element.style.left=this.scroller.style.left=e+"px",s.scrollerWidth=Math.max(0,n-e-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(r|=this.CHANGE_FULL)),s.$dirty=!n||!i,r&&this._signal("resize",o),r},this.onGutterResize=function(){var t=this.$showGutter?this.$gutter.offsetWidth:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var t=this.$size.scrollerWidth-2*this.$padding,e=Math.floor(t/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var t=this.$cursorLayer.$pixelPos,e=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,t=this.$cursorLayer.getPixelPosition(n,!0),e*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=t.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=e+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=s.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=s.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var e=this.$printMarginEl.style;e.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var t=this.layerConfig,e=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;e-=t.offset;var i=this.textarea.style,r=this.lineHeight;if(e<0||e>t.height-r)i.top=i.left="0";else{var s=this.characterWidth;if(this.$composition){var o=this.textarea.value.replace(/^\x01+/,"");s*=this.session.$getStringScreenWidth(o)[0]+2,r+=2}(n-=this.scrollLeft)>this.$size.scrollerWidth-s&&(n=this.$size.scrollerWidth-s),n+=this.gutterWidth,i.height=r+"px",i.width=s+"px",i.left=Math.min(n,this.$size.scrollerWidth-s)+"px",i.top=Math.min(e,this.$size.height-r)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=this.layerConfig,e=t.lastRow;return this.session.documentToScreenRow(e,0)*t.lineHeight-this.session.getScrollTop()>t.height-t.lineHeight?e-1:e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,e,n,i){var r=this.scrollMargin;r.top=0|t,r.bottom=0|e,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,e=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(t-=(e-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>t-e&&(t=this.scrollTop+e,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(t,e){if(this.$changes&&(t|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(t||e)){if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;0<i&&(this.scrollTop=i,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}if(t&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL)return this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender");if(t&this.CHANGE_SCROLL)return t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender");t&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender")}else this.$changes|=t},this.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,e=this.$maxLines*this.lineHeight,n=Math.min(e,Math.max((this.$minLines||1)*this.lineHeight,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=e<t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var t=this.session,e=this.$size,n=e.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),s=!n&&(this.$hScrollBarAlwaysVisible||e.scrollerWidth-r-2*this.$padding<0),o=this.$horizScroll!==s;o&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var a=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();var l=this.scrollTop%this.lineHeight,c=e.scrollerHeight+this.lineHeight,h=!this.$maxLines&&this.$scrollPastEnd?(e.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=h;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,i-e.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-e.scrollerWidth+u.right)));var d=!n&&(this.$vScrollBarAlwaysVisible||e.scrollerHeight-i+h<0||this.scrollTop>u.top),f=a!==d;f&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var p,g,m=Math.ceil(c/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-l)/this.lineHeight)),y=v+m,b=this.lineHeight;v=t.screenToDocumentRow(v,0);var _=t.getFoldLine(v);_&&(v=_.start.row),p=t.documentToScreenRow(v,0),g=t.getRowLength(v)*b,y=Math.min(t.screenToDocumentRow(y,0),t.getLength()-1),c=e.scrollerHeight+t.getRowLength(y)*b+g,l=this.scrollTop-p*b;var w=0;return this.layerConfig.width!=r&&(w=this.CHANGE_H_SCROLL),(o||f)&&(w=this.$updateCachedSize(!0,this.gutterWidth,e.width,e.height),this._signal("scrollbarVisibilityChanged"),f&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:c,maxHeight:i,offset:l,gutterOffset:b?Math.max(0,Math.ceil((l+e.height-e.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},w},this.$updateLines=function(){var t=this.$changedLines.firstRow,e=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(t>n.lastRow+1||e<n.firstRow))return e===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,t,e),!0)},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,e){this.$gutterLayer.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){this.$gutterLayer.removeGutterDecoration(t,e)},this.updateBreakpoints=function(t){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,e,n){this.scrollCursorIntoView(t,n),this.scrollCursorIntoView(e,n)},this.scrollCursorIntoView=function(t,e,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(t),r=i.left,s=i.top,o=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;s<l+o?(e&&l+o>s+this.lineHeight&&(s-=e*this.$size.scrollerHeight),0===s&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):l+this.$size.scrollerHeight-a<s+this.lineHeight&&(e&&l+this.$size.scrollerHeight-a<s-this.lineHeight&&(s+=e*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;r<c?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,e){"number"==typeof t&&(t={row:t,column:0});var n=this.$cursorLayer.getPixelPosition(t),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(e||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(t,e){var n,i,r=0,s=this.STEPS,o=[];for(r=0;r<s;++r)o.push((n=r/this.STEPS,(e-(i=t))*(Math.pow(n-1,3)+1)+i));return o},this.scrollToLine=function(t,e,n,i){var r=this.$cursorLayer.getPixelPosition({row:t,column:0}).top;e&&(r-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(s,i)},this.animateScrolling=function(t,e){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(t!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(t=r[0])==n)return}var s=i.$calcSteps(t,n);this.$scrollAnimation={from:t,to:n,steps:s},clearInterval(this.$timer),i.session.setScrollTop(s.shift()),i.session.$scrollTop=n,this.$timer=setInterval(function(){s.length?(i.session.setScrollTop(s.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,e&&e())},10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,e){this.session.setScrollTop(e),this.session.setScrollLeft(e)},this.scrollBy=function(t,e){e&&this.session.setScrollTop(this.session.getScrollTop()+e),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,e){return e<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(0<e&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(t<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(0<t&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=(t+this.scrollLeft-n.left-this.$padding)/this.characterWidth,r=Math.floor((e+this.scrollTop-n.top)/this.lineHeight),s=Math.round(i);return{row:r,column:s,side:0<i-s?1:-1}},this.screenToTextCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=Math.round((t+this.scrollLeft-n.left-this.$padding)/this.characterWidth),r=(e+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(r,Math.max(i,0))},this.textToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(t,e),r=this.$padding+Math.round(i.column*this.characterWidth),s=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){s.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){s.removeCssClass(this.container,"ace_focus")},this.showComposition=function(t){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,s.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(t){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(s.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(n,i){var r=this;if(this.$themeId=n,r._dispatchEvent("themeChange",{theme:n}),n&&"string"!=typeof n)e(n);else{var t=n||this.$options.theme.initialValue;o.loadModule(["theme",t],e)}function e(t){if(r.$themeId!=n)return i&&i();if(!t||!t.cssClass)throw new Error("couldn't load module "+n+" or it didn't call define");s.importCssString(t.cssText,t.cssClass,r.container.ownerDocument),r.theme&&s.removeCssClass(r.container,r.theme.cssClass);var e="padding"in t?t.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&e!=r.$padding&&r.setPadding(e),r.$theme=t.cssClass,r.theme=t,s.addCssClass(r.container,t.cssClass),s.setCssClass(r.container,"ace_dark",t.isDark),r.$size&&(r.$size.width=0,r.$updateSizeAsync()),r._dispatchEvent("themeLoaded",{theme:t}),i&&i()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(t,e){s.setCssClass(this.container,t,!1!==e)},this.unsetStyle=function(t){s.removeCssClass(this.container,t)},this.setCursorStyle=function(t){this.scroller.style.cursor!=t&&(this.scroller.style.cursor=t)},this.setMouseCursor=function(t){this.scroller.style.cursor=t},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(m.prototype),o.defineOptions(m.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){s.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t)},initialValue:!0},showLineNumbers:{set:function(t){this.$gutterLayer.setShowLineNumbers(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=s.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=t?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(t){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(t){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(t){this.updateFull()}},minLines:{set:function(t){this.updateFull()}},maxPixelHeight:{set:function(t){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){t=+t||0,this.$scrollPastEnd!=t&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),e.VirtualRenderer=m}),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(c,t,e){"use strict";var n=c("../lib/oop"),i=c("../lib/net"),l=c("../lib/event_emitter").EventEmitter,h=c("../config"),r=function(t,e,n,i){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),c.nameToUrl&&!c.toUrl&&(c.toUrl=c.nameToUrl),h.get("packaged")||!c.toUrl)i=i||h.moduleUrl(e,"worker");else{var r=this.$normalizePath;i=i||r(c.toUrl("ace/worker/worker.js",null,"_"));var s={};t.forEach(function(t){s[t]=r(c.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(i)}catch(t){if(!(t instanceof window.DOMException))throw t;var o=this.$workerBlob(i),a=window.URL||window.webkitURL,l=a.createObjectURL(o);this.$worker=new Worker(l),a.revokeObjectURL(l)}this.$worker.postMessage({init:!0,tlns:s,module:e,classname:n}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,l),this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var n=this.callbacks[e.id];n&&(n(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return i.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,e.push(i)}this.send(t,e)},this.emit=function(t,e){try{this.$worker.postMessage({event:t,data:{data:e.data}})}catch(t){console.error(t.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==t.action?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,50<t.length&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))},this.$workerBlob=function(t){var e="importScripts('"+i.qualifyURL(t)+"');";try{return new Blob([e],{type:"application/javascript"})}catch(t){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(e),n.getBlob("application/javascript")}}}).call(r.prototype);var s=function(t,e,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var i=null,r=!1,s=Object.create(l),o=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(t){o.messageBuffer.push(t),i&&(r?setTimeout(a):a())},this.setEmitSync=function(t){r=t};var a=function(){var t=o.messageBuffer.shift();t.command?i[t.command].apply(i,t.args):t.event&&s._signal(t.event,t.data)};s.postMessage=function(t){o.onMessage({data:t})},s.callback=function(t,e){this.postMessage({type:"call",id:e,data:t})},s.emit=function(t,e){this.postMessage({type:"event",name:t,data:e})},h.loadModule(["worker",e],function(t){for(i=new t[n](s);o.messageBuffer.length;)a()})};s.prototype=r.prototype,t.UIWorkerClient=s,t.WorkerClient=r}),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,e,n){"use strict";var l=t("./range").Range,i=t("./lib/event_emitter").EventEmitter,r=t("./lib/oop"),s=function(t,e,n,i,r,s){var o=this;this.length=e,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var a=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,i),this.setup=function(){var n=this,i=this.doc,t=this.session;this.selectionBefore=t.selection.toJSON(),t.selection.inMultiSelectMode&&t.selection.toSingleRange(),this.pos=i.createAnchor(this.$pos.row,this.$pos.column);var e=this.pos;e.$insertRight=!0,e.detach(),e.markerId=t.addMarker(new l(e.row,e.column,e.row,e.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(t){var e=i.createAnchor(t.row,t.column);e.$insertRight=!0,e.detach(),n.others.push(e)}),t.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,n=this;this.othersActive=!0,this.others.forEach(function(t){t.markerId=e.addMarker(new l(t.row,t.column,t.row,t.column+n.length),n.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var e=t;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;var n="insert"===t.action?e.end.column-e.start.column:e.start.column-e.end.column,i=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,r=e.start.column-this.pos.column;if(this.updateAnchors(t),i&&(this.length+=n),i&&!this.session.$fromUndo)if("insert"===t.action)for(var s=this.others.length-1;0<=s;s--){var o={row:(a=this.others[s]).row,column:a.column+r};this.doc.insertMergedLines(o,t.lines)}else if("remove"===t.action)for(s=this.others.length-1;0<=s;s--){var a;o={row:(a=this.others[s]).row,column:a.column+r};this.doc.remove(new l(o.row,o.column,o.row,o.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(t){this.pos.onChange(t);for(var e=this.others.length;e--;)this.others[e].onChange(t);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var n=this,i=this.session,t=function(t,e){i.removeMarker(t.markerId),t.markerId=i.addMarker(new l(t.row,t.column,t.row,t.column+n.length),e,null,!1)};t(this.pos,this.mainClass);for(var e=this.others.length;e--;)t(this.others[e],this.othersClass)}},this.onCursorChange=function(t){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),e=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,n=0;n<e;n++)t.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),e.PlaceHolder=s}),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e,n){var E=t("../lib/event"),k=t("../lib/useragent");function S(t,e){return t.row==e.row&&t.column==e.column}e.onMouseDown=function(t){var e=t.domEvent,n=e.altKey,i=e.shiftKey,r=e.ctrlKey,s=t.getAccelKey(),o=t.getButton();if(r&&k.isMac&&(o=e.button),t.editor.inMultiSelectMode&&2==o)t.editor.textInput.onContextMenu(t.domEvent);else if(r||n||s){if(0===o){var a,l=t.editor,c=l.selection,h=l.inMultiSelectMode,u=t.getDocumentPosition(),d=c.getCursor(),f=t.inSelection()||c.isEmpty()&&S(u,d),p=t.x,g=t.y,m=l.session,v=l.renderer.pixelToScreenCoordinates(p,g),y=v;if(l.$mouseHandler.$enableJumpToDef)r&&n||s&&n?a=i?"block":"add":n&&l.$blockSelectEnabled&&(a="block");else if(s&&!n){if(a="add",!h&&i)return}else n&&l.$blockSelectEnabled&&(a="block");if(a&&k.isMac&&e.ctrlKey&&l.$mouseHandler.cancelContextMenu(),"add"==a){if(!h&&f)return;if(!h){var b=c.toOrientedRange();l.addSelectionMarker(b)}var _=c.rangeList.rangeAtPoint(u);l.$blockScrolling++,l.inVirtualSelectionMode=!0,i&&(_=null,b=c.ranges[0]||b,l.removeSelectionMarker(b)),l.once("mouseup",function(){var t=c.toOrientedRange();_&&t.isEmpty()&&S(_.cursor,t.cursor)?c.substractPoint(t.cursor):(i?c.substractPoint(b.cursor):b&&(l.removeSelectionMarker(b),c.addRange(b)),c.addRange(t)),l.$blockScrolling--,l.inVirtualSelectionMode=!1})}else if("block"==a){var w;t.stop(),l.inVirtualSelectionMode=!0;var x=[];l.$blockScrolling++,h&&!s?c.toSingleRange():!h&&s&&(w=c.toOrientedRange(),l.addSelectionMarker(w)),i?v=m.documentToScreenPosition(c.lead):c.moveToPosition(u),l.$blockScrolling--,y={row:-1,column:-1};var A=function(){var t=l.renderer.pixelToScreenCoordinates(p,g),e=m.screenToDocumentPosition(t.row,t.column);S(y,t)&&S(e,c.lead)||(y=t,l.$blockScrolling++,l.selection.moveToPosition(e),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(x),x=c.rectangularRangeBlock(y,v),l.$mouseHandler.$clickSelection&&1==x.length&&x[0].isEmpty()&&(x[0]=l.$mouseHandler.$clickSelection.clone()),x.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers(),l.$blockScrolling--)};E.capture(l.container,function(t){p=t.clientX,g=t.clientY},function(t){clearInterval(C),l.removeSelectionMarkers(x),x.length||(x=[c.toOrientedRange()]),l.$blockScrolling++,w&&(l.removeSelectionMarker(w),c.toSingleRange(w));for(var e=0;e<x.length;e++)c.addRange(x[e]);l.inVirtualSelectionMode=!1,l.$mouseHandler.$clickSelection=null,l.$blockScrolling--});var C=setInterval(function(){A()},20);return t.preventDefault()}}}else 0===o&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode()}}),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,e,n){e.defaultCommands=[{name:"addCursorAbove",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(t){t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],e.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var i=t("../keyboard/hash_handler").HashHandler;e.keyboardHandler=new i(e.multiSelectCommands)}),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,e,n){var i=t("./range_list").RangeList,y=t("./range").Range,g=t("./selection").Selection,r=t("./mouse/multi_select_handler").onMouseDown,s=t("./lib/event"),m=t("./lib/lang"),o=t("./commands/multi_select_commands");e.commands=o.defaultCommands.concat(o.multiSelectCommands);var h=new(t("./search").Search);var a=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(a.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,e){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),e||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}t.cursor||(t.cursor=t.end);var i=this.rangeList.add(t);return this.$onAddRange(t),i.length&&this.$onRemoveRange(i),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),e||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var e=this.rangeList.removeAll();e.length&&this.$onRemoveRange(e),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var e=this.rangeList.substractPoint(t);if(e)return this.$onRemoveRange(e),e[0]},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length?this.$onRemoveRange(t):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var e=this.rangeList.ranges.pop();t.push(e),this.rangeCount=0}for(var n=t.length;n--;){var i=this.ranges.indexOf(t[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(e=e||this.ranges[0])&&!e.isEqual(this.getRange())&&this.fromOrientedRange(e)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(1<this.rangeCount){var t=this.rangeList.ranges,e=t[t.length-1],n=y.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{n=this.getRange();var i=this.isBackwards(),r=n.start.row,s=n.end.row;if(r==s){if(i)var o=n.end,a=n.start;else o=n.start,a=n.end;return this.addRange(y.fromPoints(a,a)),void this.addRange(y.fromPoints(o,o))}var l=[],c=this.getLineRange(r,!0);c.start.column=n.start.column,l.push(c);for(var h=r+1;h<s;h++)l.push(this.getLineRange(h,!0));(c=this.getLineRange(s,!0)).end.column=n.end.column,l.push(c),l.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(1<this.rangeCount){var t=this.rangeList.ranges,e=t[t.length-1],n=y.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(i,r).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,e,n){var i=[],r=t.column<e.column;if(r)var s=t.column,o=e.column;else s=e.column,o=t.column;var a,l,c=t.row<e.row;if(c)var h=t.row,u=e.row;else h=e.row,u=t.row;s<0&&(s=0),h<0&&(h=0),h==u&&(n=!0);for(var d=h;d<=u;d++){var f=y.fromPoints(this.session.screenToDocumentPosition(d,s),this.session.screenToDocumentPosition(d,o));if(f.isEmpty()){if(p&&(a=f.end,l=p,a.row==l.row&&a.column==l.column))break;var p=f.end}f.cursor=r?f.start:f.end,i.push(f)}if(c&&i.reverse(),!n){for(var g=i.length-1;i[g].isEmpty()&&0<g;)g--;if(0<g)for(var m=0;i[m].isEmpty();)m++;for(var v=g;m<=v;v--)i[v].isEmpty()&&i.splice(v,1)}return i}}.call(g.prototype);var l=t("./editor").Editor;function c(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=e.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",r),t.commands.addCommands(o.defaultCommands),function(n){var t=n.textInput.getElement(),i=!1;function r(t){i&&(n.renderer.setMouseCursor(""),i=!1)}s.addListener(t,"keydown",function(t){var e=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);n.$blockSelectEnabled&&e?i||(n.renderer.setMouseCursor("crosshair"),i=!0):i&&r()}),s.addListener(t,"keyup",r),s.addListener(t,"blur",r)}(t))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var e=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",e),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var e=this.session.$selectionMarkers.indexOf(t);-1!=e&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var e=this.session.$selectionMarkers,n=t.length;n--;){var i=t[n];if(i.marker){this.session.removeMarker(i.marker);var r=e.indexOf(i);-1!=r&&e.splice(r,1)}}this.session.selectionMarkerCount=e.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(t){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(o.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(t){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(o.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var e=t.command,n=t.editor;if(n.multiSelect){if(e.multiSelectAction)"forEach"==e.multiSelectAction?i=n.forEachSelection(e,t.args):"forEachLine"==e.multiSelectAction?i=n.forEachSelection(e,t.args,!0):"single"==e.multiSelectAction?(n.exitMultiSelectMode(),i=e.exec(n,t.args||{})):i=e.multiSelectAction(n,t.args||{});else{var i=e.exec(n,t.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(t,e,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,s=1==n||n&&n.$byLines,o=this.session,a=this.selection,l=a.rangeList,c=(r?a:l).ranges;if(!c.length)return t.exec?t.exec(this,e||{}):t(this,e||{});var h=a._eventRegistry;a._eventRegistry={};var u=new g(o);this.inVirtualSelectionMode=!0;for(var d=c.length;d--;){if(s)for(;0<d&&c[d].start.row==c[d-1].end.row;)d--;u.fromOrientedRange(c[d]),u.index=d,this.selection=o.selection=u;var f=t.exec?t.exec(this,e||{}):t(this,e||{});i||void 0===f||(i=f),u.toOrientedRange(c[d])}u.detach(),this.selection=o.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges();var p=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),p&&p.from==p.to&&this.renderer.animateScrolling(p.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var e=this.multiSelect.rangeList.ranges,n=[],i=0;i<e.length;i++)n.push(this.session.getTextRange(e[i]));var r=this.session.getDocument().getNewLineCharacter();(t=n.join(r)).length==(n.length-1)*r.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,e){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&e==this.multiSelect.anchor)return;var i=e==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row==e.row&&this.session.$clipPositionToDocument(i.row,i.column).column==e.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(t,e,n){if((e=e||{}).needle=t||e.needle,null==e.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();e.needle=this.session.getTextRange(i)}this.$search.set(e);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var s=this.multiSelect;n||s.toSingleRange(r[0]);for(var o=r.length;o--;)s.addRange(r[o],!0);return i&&s.rangeList.rangeAtPoint(i.start)&&s.addRange(i,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(t,e){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var s,o=this.session.screenToDocumentPosition(r.row+t,r.column);if(n.isEmpty())l=o;else var a=this.session.documentToScreenPosition(i?n.end:n.start),l=this.session.screenToDocumentPosition(a.row+t,a.column);i?(s=y.fromPoints(o,l)).cursor=s.start:(s=y.fromPoints(l,o)).cursor=s.end;if(s.desiredColumn=r.column,this.selection.inMultiSelectMode){if(e)var c=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),c&&this.selection.substractPoint(c)},this.transposeSelections=function(t){for(var e=this.session,n=e.multiSelect,i=n.ranges,r=i.length;r--;){if((a=i[r]).isEmpty()){var s=e.getWordRange(a.start.row,a.start.column);a.start.row=s.start.row,a.start.column=s.start.column,a.end.row=s.end.row,a.end.column=s.end.column}}n.mergeOverlappingRanges();var o=[];for(r=i.length;r--;){var a=i[r];o.unshift(e.getTextRange(a))}t<0?o.unshift(o.pop()):o.push(o.shift());for(r=i.length;r--;){s=(a=i[r]).clone();e.replace(a,o[r]),a.start.row=s.start.row,a.start.column=s.start.column}},this.selectMore=function(t,e,n){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=i.getWordRange(r.start.row,r.start.column)).cursor=-1==t?r.start:r.end,this.multiSelect.addRange(r),!n)){var s,o,a,l=i.getTextRange(r),c=(s=i,o=l,a=t,h.$options.wrap=!0,h.$options.needle=o,h.$options.backwards=-1==a,h.find(s));c&&(c.cursor=-1==t?c.start:c.end,this.$blockScrolling+=1,this.session.unfold(c),this.multiSelect.addRange(c),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),e&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var s=this.session,e=s.multiSelect,t=e.ranges,n=-1,i=t.filter(function(t){if(t.cursor.row==n)return!0;n=t.cursor.row});if(t.length&&i.length!=t.length-1){i.forEach(function(t){e.substractPoint(t.cursor)});var o=0,a=1/0,l=t.map(function(t){var e=t.cursor,n=s.getLine(e.row).substr(e.column).search(/\S/g);return-1==n&&(n=0),e.column>o&&(o=e.column),n<a&&(a=n),n});t.forEach(function(t,e){var n=t.cursor,i=o-n.column,r=l[e]-a;r<i?s.insert(n,m.stringRepeat(" ",i-r)):s.remove(new y(n.row,n.column,n.row,n.column-i+r)),t.start.column=t.end.column=o,t.start.row=t.end.row=n.row,t.cursor=t.end}),e.fromOrientedRange(t[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var r=this.selection.getRange(),c=r.start.row,h=r.end.row,u=c==h;if(u){for(var d,f=this.session.getLength();d=this.session.getLine(h),/[=:]/.test(d)&&++h<f;);for(;d=this.session.getLine(c),/[=:]/.test(d)&&0<--c;);c<0&&(c=0),f<=h&&(h=f-1)}var p=this.session.removeFullLines(c,h);p=this.$reAlignText(p,u),this.session.insert({row:c,column:0},p.join("\n")+"\n"),u||(r.start.column=0,r.end.column=p[p.length-1].length),this.selection.setRange(r)}},this.$reAlignText=function(t,e){var n,i,r,s=!0,o=!0;return t.map(function(t){var e=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return e?(null==n?(n=e[1].length,i=e[2].length,r=e[3].length):(n+i+r!=e[1].length+e[2].length+e[3].length&&(o=!1),n!=e[1].length&&(s=!1),n>e[1].length&&(n=e[1].length),i<e[2].length&&(i=e[2].length),r>e[3].length&&(r=e[3].length)),e):[t]}).map(e?l:s?o?function(t){return t[2]?a(n+i-t[2].length)+t[2]+a(r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}:l:function(t){return t[2]?a(n)+t[2]+a(r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]});function a(t){return m.stringRepeat(" ",t)}function l(t){return t[2]?a(n)+t[2]+a(i-t[2].length+r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}}}).call(l.prototype),e.onSessionChange=function(t){var e=t.session;e&&!e.multiSelect&&(e.$selectionMarkers=[],e.selection.$initRangeList(),e.multiSelect=e.selection),this.multiSelect=e&&e.multiSelect;var n=t.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),e&&(e.multiSelect.on("addRange",this.$onAddRange),e.multiSelect.on("removeRange",this.$onRemoveRange),e.multiSelect.on("multiSelect",this.$onMultiSelect),e.multiSelect.on("singleSelect",this.$onSingleSelect),e.multiSelect.lead.on("change",this.$checkMultiselectChange),e.multiSelect.anchor.on("change",this.$checkMultiselectChange)),e&&this.inMultiSelectMode!=e.selection.inMultiSelectMode&&(e.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},e.MultiSelect=c,t("./config").defineOptions(l.prototype,"editor",{enableMultiselect:{set:function(t){c(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",r)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",r))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})}),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,e,n){"use strict";var d=t("../../range").Range,i=e.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,e,n){var i=t.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==e&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(t,e,n){return null},this.indentationBlock=function(t,e,n){var i=/\S/,r=t.getLine(e),s=r.search(i);if(-1!=s){for(var o=n||r.length,a=t.getLength(),l=e,c=e;++e<a;){var h=t.getLine(e).search(i);if(-1!=h){if(h<=s)break;c=e}}if(l<c){var u=t.getLine(c).length;return new d(l,o,c,u)}}},this.openingBracketBlock=function(t,e,n,i,r){var s={row:n,column:i+1},o=t.$findClosingBracket(e,s,r);if(o){var a=t.foldWidgets[o.row];return null==a&&(a=t.getFoldWidget(o.row)),"start"==a&&o.row>s.row&&(o.row--,o.column=t.getLine(o.row).length),d.fromPoints(s,o)}},this.closingBracketBlock=function(t,e,n,i,r){var s={row:n,column:i},o=t.$findOpeningBracket(e,s);if(o)return o.column++,s.column--,d.fromPoints(o,s)}}).call(i.prototype)}),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(t,e,n){"use strict";e.isDark=!1,e.cssClass="ace-tm",e.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t("../lib/dom").importCssString(e.cssText,e.cssClass)}),define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(t,e,n){"use strict";t("./lib/oop");var s=t("./lib/dom");t("./range").Range;function i(t){this.session=t,(this.session.widgetManager=this).session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(t){var e;return e=this.lineWidgets&&this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),(this.editor=t)&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(t){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))})}},this.updateOnFold=function(t,e){var n=e.lineWidgets;if(n&&t.action){for(var i=t.data,r=i.start.row,s=i.end.row,o="add"==t.action,a=r+1;a<s;a++)n[a]&&(n[a].hidden=o);n[s]&&(o?n[r]?n[s].hidden=o:n[r]=n[s]:(n[r]==n[s]&&(n[r]=void 0),n[s].hidden=o))}},this.updateOnChange=function(t){var e=this.session.lineWidgets;if(e){var n=t.start.row,i=t.end.row-n;if(0===i);else if("remove"==t.action){e.splice(n+1,i).forEach(function(t){t&&this.removeLineWidget(t)},this),this.$updateRows()}else{var r=new Array(i);r.unshift(n,0),e.splice.apply(e,r),this.$updateRows()}}},this.$updateRows=function(){var t=this.session.lineWidgets;if(t){var n=!0;t.forEach(function(t,e){if(t)for(n=!1,t.row=e;t.$oldWidget;)t.$oldWidget.row=e,t=t.$oldWidget}),n&&(this.session.lineWidgets=null)}},this.addLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var e=this.session.lineWidgets[t.row];e&&(t.$oldWidget=e).el&&e.el.parentNode&&(e.el.parentNode.removeChild(e.el),e._inDocument=!1),(this.session.lineWidgets[t.row]=t).session=this.session;var n=this.editor.renderer;t.html&&!t.el&&(t.el=s.createElement("div"),t.el.innerHTML=t.html),t.el&&(s.addCssClass(t.el,"ace_lineWidgetContainer"),t.el.style.position="absolute",t.el.style.zIndex=5,n.container.appendChild(t.el),t._inDocument=!0),t.coverGutter||(t.el.style.zIndex=3),null==t.pixelHeight&&(t.pixelHeight=t.el.offsetHeight),null==t.rowCount&&(t.rowCount=t.pixelHeight/n.layerConfig.lineHeight);var i=this.session.getFoldAt(t.row,0);if(t.$fold=i){var r=this.session.lineWidgets;t.row!=i.end.row||r[i.start.row]?t.hidden=!0:r[i.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(t),t},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(t){}if(this.session.lineWidgets){var e=this.session.lineWidgets[t.row];if(e==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;e;){if(e.$oldWidget==t){e.$oldWidget=t.$oldWidget;break}e=e.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(t){for(var e=this.session.lineWidgets,n=e&&e[t],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(t,e){var n=this.session._changedWidgets,i=e.layerConfig;if(n&&n.length){for(var r=1/0,s=0;s<n.length;s++){var o=n[s];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,e.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/i.characterWidth));var a=o.h/i.lineHeight;o.coverLine&&(a-=this.session.getRowLineCount(o.row))<0&&(a=0),o.rowCount!=a&&(o.rowCount=a,o.row<r&&(r=o.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(t,e){var n=e.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,i.length);0<r&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,e.$cursorLayer.config=n;for(var o=r;o<=s;o++){var a=i[o];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,e.container.appendChild(a.el));var l=e.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:e.gutterWidth;a.fixedWidth||(c-=e.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=e.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(i.prototype),e.LineWidgets=i}),define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(t,e,n){"use strict";var p=t("../line_widgets").LineWidgets,g=t("../lib/dom"),m=t("../range").Range;e.showErrorMarker=function(t,e){var n=t.session;n.widgetManager||(n.widgetManager=new p(n),n.widgetManager.attach(t));var i=t.getCursorPosition(),r=i.row,s=n.widgetManager.getWidgetsAtRow(r).filter(function(t){return"errorMarker"==t.type})[0];s?s.destroy():r-=e;var o,a=function(t,e,n){var i=t.getAnnotations().sort(m.comparePoints);if(i.length){var r=function(t,e,n){for(var i=0,r=t.length-1;i<=r;){var s=i+r>>1,o=n(e,t[s]);if(0<o)i=s+1;else{if(!(o<0))return s;r=s-1}}return-(i+1)}(i,{row:e,column:-1},m.comparePoints);r<0&&(r=-r-1),r>=i.length?r=0<n?0:i.length-1:0===r&&n<0&&(r=i.length-1);var s=i[r];if(s&&n){if(s.row===e){for(;(s=i[r+=n])&&s.row===e;);if(!s)return i.slice()}var o=[];for(e=s.row;o[n<0?"unshift":"push"](s),(s=i[r+=n])&&s.row==e;);return o.length&&o}}}(n,r,e);if(a){var l=a[0];i.column=(l.pos&&"number"!=typeof l.column?l.pos.sc:l.column)||0,i.row=l.row,o=t.renderer.$gutterLayer.$annotations[i.row]}else{if(s)return;o={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(i.row),t.selection.moveToPosition(i);var c={row:i.row,fixedWidth:!0,coverGutter:!0,el:g.createElement("div"),type:"errorMarker"},h=c.el.appendChild(g.createElement("div")),u=c.el.appendChild(g.createElement("div"));u.className="error_widget_arrow "+o.className;var d=t.renderer.$cursorLayer.getPixelPosition(i).left;u.style.left=d+t.renderer.gutterWidth-5+"px",c.el.className="error_widget_wrapper",h.className="error_widget "+o.className,h.innerHTML=o.text.join("<br>"),h.appendChild(g.createElement("div"));var f=function(t,e,n){if(0===e&&("esc"===n||"return"===n))return c.destroy(),{command:"null"}};c.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(f),n.widgetManager.removeLineWidget(c),t.off("changeSelection",c.destroy),t.off("changeSession",c.destroy),t.off("mouseup",c.destroy),t.off("change",c.destroy))},t.keyBinding.addKeyboardHandler(f),t.on("changeSelection",c.destroy),t.on("changeSession",c.destroy),t.on("mouseup",c.destroy),t.on("change",c.destroy),t.session.widgetManager.addLineWidget(c),c.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:c.el.offsetHeight})},g.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(t,a,e){"use strict";t("./lib/fixoldbrowsers");var l=t("./lib/dom"),c=t("./lib/event"),h=t("./editor").Editor,i=t("./edit_session").EditSession,r=t("./undomanager").UndoManager,u=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),a.config=t("./config"),a.require=t,"function"==typeof define&&(a.define=define),a.edit=function(t){if("string"==typeof t){var e=t;if(!(t=document.getElementById(e)))throw new Error("ace.edit can't find div #"+e)}if(t&&t.env&&t.env.editor instanceof h)return t.env.editor;var n="";if(t&&/input|textarea/i.test(t.tagName)){var i=t;n=i.value,t=l.createElement("pre"),i.parentNode.replaceChild(t,i)}else t&&(n=l.getInnerText(t),t.innerHTML="");var r=a.createEditSession(n),s=new h(new u(t));s.setSession(r);var o={document:r,editor:s,onResize:s.resize.bind(s,null)};return i&&(o.textarea=i),c.addListener(window,"resize",o.onResize),s.on("destroy",function(){c.removeListener(window,"resize",o.onResize),o.editor.container.env=null}),s.container.env=s.env=o,s},a.createEditSession=function(t,e){var n=new i(t,e);return n.setUndoManager(new r),n},a.EditSession=i,a.UndoManager=r,a.version="1.2.6"}),window.require(["ace/ace"],function(t){for(var e in t&&(t.config.init(!0),t.define=window.define),window.ace||(window.ace=t),t)t.hasOwnProperty(e)&&(window.ace[e]=t[e])}),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(t,e,n){e.isDark=!1,e.cssClass="ace-tm",e.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm .ace_scroller {background-color: #FFFFFF;}.ace-tm .ace_cursor {border-left: 2px solid black;}.ace-tm .ace_overwrite-cursors .ace_cursor {border-left: 0px;border-bottom: 1px solid black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_markup.ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_markup.ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t("../lib/dom").importCssString(e.cssText,e.cssClass)}),define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(t,e,n){var i=t("../lib/oop"),r=t("./text").Mode,s=t("../tokenizer").Tokenizer,o=t("./json_highlight_rules").JsonHighlightRules,a=t("./matching_brace_outdent").MatchingBraceOutdent,l=t("./behaviour/cstyle").CstyleBehaviour,c=t("./folding/cstyle").FoldMode,h=t("../worker/worker_client").WorkerClient,u=function(){this.$tokenizer=new s((new o).getRules()),this.$outdent=new a,this.$behaviour=new l,this.foldingRules=new c};i.inherits(u,r),function(){this.getNextLineIndent=function(t,e,n){var i=this.$getIndent(e);"start"==t&&(e.match(/^.*[\{\(\[]\s*$/)&&(i+=n));return i},this.checkOutdent=function(t,e,n){return this.$outdent.checkOutdent(e,n)},this.autoOutdent=function(t,e,n){this.$outdent.autoOutdent(e,n)},this.createWorker=function(e){var t=new h(["ace"],"ace/mode/json_worker","JsonWorker");return t.attachToDocument(e.getDocument()),t.on("error",function(t){e.setAnnotations([t.data])}),t.on("ok",function(){e.clearAnnotations()}),t}}.call(u.prototype),e.Mode=u}),define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,e,n){var i=t("../lib/oop"),r=t("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'[^"\\\\]+'},{token:"string",regex:'"',next:"start"},{token:"string",regex:"",next:"start"}]}};i.inherits(s,r),e.JsonHighlightRules=s}),define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,e,n){var o=t("../range").Range,i=function(){};(function(){this.checkOutdent=function(t,e){return!!/^\s+$/.test(t)&&/^\s*\}/.test(e)},this.autoOutdent=function(t,e){var n=t.getLine(e).match(/^(\s*\})/);if(!n)return 0;var i=n[1].length,r=t.findMatchingBracket({row:e,column:i});if(!r||r.row==e)return 0;var s=this.$getIndent(t.getLine(r.row));t.replace(new o(e,0,e,i-1),s)},this.$getIndent=function(t){var e=t.match(/^(\s+)/);return e?e[1]:""}}).call(i.prototype),e.MatchingBraceOutdent=i}),define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,e,n){var i=t("../../lib/oop"),r=t("../behaviour").Behaviour,s=t("../../token_iterator").TokenIterator,u=t("../../lib/lang"),o=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],l=0,c=-1,h="",d=0,f=-1,p="",g="",m=function(){m.isSaneInsertion=function(t,e){var n=t.getCursorPosition(),i=new s(e,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",o)){var r=new s(e,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",o))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",a)},m.$matchTokenType=function(t,e){return-1<e.indexOf(t.type||t)},m.recordAutoInsert=function(t,e,n){var i=t.getCursorPosition(),r=e.doc.getLine(i.row);this.isAutoInsertedClosing(i,r,h[0])||(l=0),c=i.row,h=n+r.substr(i.column),l++},m.recordMaybeInsert=function(t,e,n){var i=t.getCursorPosition(),r=e.doc.getLine(i.row);this.isMaybeInsertedClosing(i,r)||(d=0),f=i.row,p=r.substr(0,i.column)+n,g=r.substr(i.column),d++},m.isAutoInsertedClosing=function(t,e,n){return 0<l&&t.row===c&&n===h[0]&&e.substr(t.column)===h},m.isMaybeInsertedClosing=function(t,e){return 0<d&&t.row===f&&e.substr(t.column)===g&&e.substr(0,t.column)==p},m.popAutoInsertedClosing=function(){h=h.substr(1),l--},m.clearMaybeInsertedClosing=function(){d=0,f=-1},this.add("braces","insertion",function(t,e,n,i,r){var s=n.getCursorPosition(),o=i.doc.getLine(s.row);if("{"==r){var a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(""!==l&&"{"!==l&&n.getWrapBehavioursEnabled())return{text:"{"+l+"}",selection:!1};if(m.isSaneInsertion(n,i))return/[\]\}\)]/.test(o[s.column])?(m.recordAutoInsert(n,i,"}"),{text:"{}",selection:[1,1]}):(m.recordMaybeInsert(n,i,"{"),{text:"{",selection:[1,1]})}else if("}"==r){if("}"==o.substring(s.column,s.column+1))if(null!==i.$findOpeningBracket("}",{column:s.column+1,row:s.row})&&m.isAutoInsertedClosing(s,o,r))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else if("\n"==r||"\r\n"==r){var c="";if(m.isMaybeInsertedClosing(s,o)&&(c=u.stringRepeat("}",d),m.clearMaybeInsertedClosing()),"}"==o.substring(s.column,s.column+1)||""!==c){if(!i.findMatchingBracket({row:s.row,column:s.column},"}"))return null;var h=this.getNextLineIndent(t,o.substring(0,s.column),i.getTabString());return{text:"\n"+h+"\n"+this.$getIndent(o)+c,selection:[1,h.length,1,h.length]}}}}),this.add("braces","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"{"==s){if("}"==i.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r;d--}}),this.add("parens","insertion",function(t,e,n,i,r){if("("==r){var s=n.getSelectionRange(),o=i.doc.getTextRange(s);if(""!==o&&n.getWrapBehavioursEnabled())return{text:"("+o+")",selection:!1};if(m.isSaneInsertion(n,i))return m.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1))if(null!==i.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&m.isAutoInsertedClosing(a,l,r))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==s&&")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2))return r.end.column++,r}),this.add("brackets","insertion",function(t,e,n,i,r){if("["==r){var s=n.getSelectionRange(),o=i.doc.getTextRange(s);if(""!==o&&n.getWrapBehavioursEnabled())return{text:"["+o+"]",selection:!1};if(m.isSaneInsertion(n,i))return m.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1))if(null!==i.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&m.isAutoInsertedClosing(a,l,r))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==s&&"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2))return r.end.column++,r}),this.add("string_dquotes","insertion",function(t,e,n,i,r){if('"'==r||"'"==r){var s=r,o=n.getSelectionRange(),a=i.doc.getTextRange(o);if(""!==a&&"'"!==a&&'"'!=a&&n.getWrapBehavioursEnabled())return{text:s+a+s,selection:!1};var l=n.getCursorPosition(),c=i.doc.getLine(l.row);if("\\"==c.substring(l.column-1,l.column))return null;for(var h,u=i.getTokens(o.start.row),d=0,f=-1,p=0;p<u.length&&("string"==(h=u[p]).type?f=-1:f<0&&(f=h.value.indexOf(s)),!(h.value.length+d>o.start.column));p++)d+=u[p].value.length;if(!h||f<0&&"comment"!==h.type&&("string"!==h.type||o.start.column!==h.value.length+d-1&&h.value.lastIndexOf(s)===h.value.length-1)){if(!m.isSaneInsertion(n,i))return;return{text:s+s,selection:[1,1]}}if(h&&"string"===h.type&&c.substring(l.column,l.column+1)==s)return{text:"",selection:[1,1]}}}),this.add("string_dquotes","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==s||"'"==s)&&i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s)return r.end.column++,r})};i.inherits(m,r),e.CstyleBehaviour=m}),define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,e,n){var i=t("../../lib/oop"),r=(t("../../range").Range,t("./fold_mode").FoldMode),s=e.FoldMode=function(){};i.inherits(s,r),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(t,e,n){var i,r=t.getLine(n);if(i=r.match(this.foldingStartMarker)){var s=i.index;return i[1]?this.openingBracketBlock(t,i[1],n,s):t.getCommentFoldRange(n,s+i[0].length,1)}if("markbeginend"===e&&(i=r.match(this.foldingStopMarker))){s=i.index+i[0].length;return i[1]?this.closingBracketBlock(t,i[1],n,s):t.getCommentFoldRange(n,s,-1)}}}.call(s.prototype)}),define("ace/mode/aql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/aql_highlight_rules","ace/range"],function(t,e,n){var i=t("../lib/oop"),r=t("./text").Mode,s=t("../tokenizer").Tokenizer,o=t("./aql_highlight_rules").AqlHighlightRules,c=t("../range").Range,a=function(){this.$tokenizer=new s((new o).getRules())};i.inherits(a,r),function(){this.toggleCommentLines=function(t,e,n,i){for(var r=!0,s=/^(\s*)\/\//,o=n;o<=i;o++)if(!s.test(e.getLine(o))){r=!1;break}if(r){var a=new c(0,0,0,0);for(o=n;o<=i;o++){var l=e.getLine(o).match(s);a.start.row=o,a.end.row=o,a.end.column=l[0].length,e.replace(a,l[1])}}else e.indentRows(n,i,"//")}}.call(a.prototype),e.Mode=a}),define("ace/mode/aql_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,e,n){var i=t("../lib/oop"),r=t("./text_highlight_rules").TextHighlightRules,s=function(){var t=this.createKeywordMapper({"support.function":"(to_bool|to_number|to_string|to_list|is_null|is_bool|is_number|is_string|is_list|is_document|typename|json_stringify|json_parse|concat|concat_separator|char_length|lower|upper|substring|left|right|trim|reverse|contains|log|log2|log10|exp|exp2|sin|cos|tan|asin|acos|atan|atan2|radians|degrees|pi|regex_test|like|floor|ceil|round|abs|rand|sqrt|pow|length|count|min|max|average|sum|median|variance_population|variance_sample|first|last|unique|outersection|matches|merge|merge_recursive|has|attributes|values|unset|unset_recursive|keep|near|within|within_rectangle|is_in_polygon|distance|fulltext|paths|traversal|traversal_tree|edges|stddev_sample|stddev_population|slice|nth|position|translate|zip|call|apply|push|append|pop|shift|unshift|remove_value|remove_values|remove_nth|date_now|date_timestamp|date_iso8601|date_dayofweek|date_year|date_month|date_day|date_hour|date_minute|date_second|date_millisecond|date_dayofyear|date_isoweek|date_leapyear|date_quarter|date_days_in_month|date_add|date_subtract|date_diff|date_compare|date_format|fail|passthru|sleep|not_null|first_list|first_document|parse_identifier|current_user|current_database|collections|document|union|union_distinct|intersection|flatten|is_same_collection|ltrim|rtrim|find_first|find_last|split|substitute|md5|sha1|hash|random_token|to_base64|to_hex|encode_uri_component|soundex|assert|warn|is_key|sorted|sorted_unique|count_distinct|levenshtein_distance|regex_matches|regex_split|uuid|tokens|exists|starts_with|phrase|min_match|boost|analyzer|to_hex|encode_uri_component|soundex|assert|warn|is_key|sorted|sorted_unique|count_distinct|geo_point|geo_multipoint|geo_polygon|geo_linestring|geo_multilinestring|geo_contains|geo_intersects|geo_equals|geo_distance|AQL_LAST_ENTRY)",keyword:"for|return|filter|search|sort|limit|let|collect|asc|desc|in|into|insert|update|remove|replace|upsert|options|with|and|or|not|distinct|graph|shortest_path|outbound|inbound|any|all|none|aggregate|like","constant.language":"null","constant.language.boolean":"true|false"},"identifier",!0);this.$rules={start:[{token:"comment",regex:/\/\/.*$/},{token:"comment",regex:/\/\*/,next:"comment_ml"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:t,regex:"[a-zA-Z_][a-zA-Z0-9_]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|@>|<@|&&|\\|\\||!|<|>|<=|=>|==|!=|=|\\[\\*\\]"},{token:"paren.lparen",regex:"[\\(\\{]"},{token:"paren.rparen",regex:"[\\)\\}]"},{token:"text",regex:"\\s+"}],comment_ml:[{token:"comment",regex:/\*\//,next:"start"},{defaultToken:"comment"}]}};i.inherits(s,r),e.AqlHighlightRules=s});
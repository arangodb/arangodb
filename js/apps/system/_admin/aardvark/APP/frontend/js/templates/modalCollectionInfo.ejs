<script id="modalCollectionInfo.ejs" type="text/template">
<%
    var figuresData = content.getFigures();
    var revision    = content.getRevision();
    var index       = content.getIndex();
%>

    <ul id="infoTab" class="nav nav-tabs">
      <li class="active"><a href="#info" data-toggle="tab">Info</a></li>
      <li><a href="#figures" data-toggle="tab">Figures</a></li>
    </ul>

    <div class="tab-content" id="tab-content-collection-info">

			<div class="tab-pane active" id="info">

        <table id="collectionInfoTable">
          <tr id="collectionSizeBox">
            <th class="collectionInfoTh2">Journal size:</th>
            <th class="collectionInfoTh">
              <div id="show-collection-size" class="modal-text">
                <%=prettyBytes(figuresData.journalSize)%>
              </div>
            </th>
            <th class="tooltipInfoTh">
              <div>
                <a class="modalTooltips" data-toggle="tooltip" data-placement="left" title="The maximal size of a journal or datafile (in MB). Must be at least 1.">
                  <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>
                </a>
              </div>
            </th>
          </tr>
          <tr id="collectionSyncBox">
            <th class="collectionInfoTh2">Wait for sync:</th>
            <th class="collectionInfoTh">
                <div id="show-collection-sync" class="modal-text">
                  <%=figuresData.waitForSync%>
                </div>
            </th>
            <th class="tooltipInfoTh">
              <div>
                <a class="modalTooltips" data-toggle="tooltip" data-placement="left" title="Synchronize to disk before returning from a create or update of a document.">
                  <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>
                </a>
              </div>
            </th>
          </tr>

          <tr>
            <th class="collectionInfoTh2">ID:</th>
            <th class="collectionInfoTh">
              <div id="show-collection-id" class="modal-text">
                <%=content.get("id")%>
              </div>
            <th>
          </tr>

          <tr id="collectionRevBox">
            <th class="collectionInfoTh2">Revision:</th>
            <th class="collectionInfoTh">
              <div id="show-collection-rev" class="modal-text">
                <%=revision.revision%>
              </div>
            </th>
          </tr>

          <tr>
            <th class="collectionInfoTh2">Type:</th>
            <th class="collectionInfoTh">
              <div class="modal-text"><%=content.get("type")%></div>
            </th>
          </tr>

          <tr>
            <th class="collectionInfoTh2">Status:</th>
            <th class="collectionInfoTh">
              <div class="modal-text"><%=content.get("status")%></div>
            </th>
          </tr>
          
          <tr>
            <th class="collectionInfoTh2">Index buckets:</th>
            <th class="collectionInfoTh">
              <div class="modal-text"><%=figuresData.indexBuckets%></div>
            </th>
          </tr>
          <tr>
            <th class="collectionInfoTh2">Compaction status:</th>
            <th class="collectionInfoTh">
              <div class="modal-text"><%=figuresData.figures.compactionStatus.message + " (" + figuresData.figures.compactionStatus.time + ")" %></div>
            </th>
          </tr>
          <tr>
            <th class="collectionInfoTh2">Waiting for:</th>
            <th class="collectionInfoTh">
              <div class="modal-text"><%=figuresData.figures.waitingFor%></div>
            </th>
          </tr>
        </table>

      </div>

      <div class="tab-pane collection-info-figures" id="figures">
        <table class="figures1">
          <tr class="figuresHeader">
            <th class="">Type</th>
            <th>Count</th>
            <th>Size</th>
            <th>Info</th>
          </tr>
          <tr>
            <th class="modal-text">Datafiles</th>
            <th class="modal-text"><%=numeral(figuresData.figures.datafiles.count).format('0,0')%></th>
            <th class="modal-text">
            <%=prettyBytes(figuresData.figures.datafiles.fileSize)%>
            </th>
            <th class="tooltipInfoTh">
              <div>
                <a class="modalTooltips" data-toggle="tooltip" data-placement="left" title="Number and total size of active datafiles.">
                  <span class="arangoicon icon_arangodb_info"></span>
                </a>
              </div>
            </th>
          </tr>
          <tr>
            <th class="modal-text">Journals</th>
            <th class="modal-text"><%=numeral(figuresData.figures.journals.count).format('0,0')%></th>
            <th class="modal-text">
            <%=prettyBytes(figuresData.figures.journals.fileSize)%>
            </th>
            <th class="tooltipInfoTh">
              <a class="modalTooltips" title="Number and total size of journal files.">
                <span class="arangoicon icon_arangodb_info"></span></a>
            </th>
          </tr>
          <tr>
            <th class="modal-text">Compactors</th>
            <th class="modal-text"><%=numeral(figuresData.figures.compactors.count).format('0,0')%></th>
            <th class="modal-text">
            <%=prettyBytes(figuresData.figures.compactors.fileSize)%>
            </th>
            <th class="tooltipInfoTh">
              <a class="modalTooltips" title="Number and total size of compactor files.">
                <span class="arangoicon icon_arangodb_info"></span></a>
            </th>
          </tr>
          <tr>
            <th class="modal-text">Shape files</th>
            <th class="modal-text"><%=numeral(figuresData.figures.shapefiles.count).format('0,0')%></th>
            <th class="modal-text">
            <%=prettyBytes(figuresData.figures.shapefiles.fileSize)%>
            </th>
            <th class="tooltipInfoTh">
              <a class="modalTooltips" title="Number and total size of shape files.">
                <span class="arangoicon icon_arangodb_info"></span></a>
            </th>
          </tr>
          <tr>
            <th class="modal-text">Indexes</th>
            <th class="modal-text"><%=numeral(figuresData.figures.indexes.count).format('0,0')%></th>
            <th class="modal-text">
            <%=prettyBytes(figuresData.figures.indexes.size)%>
            </th>
            <th class="tooltipInfoTh">
              <a class="modalTooltips" title="Number and total memory usage of indexes.">
                <span class="arangoicon icon_arangodb_info"></span></a>
            </th>
          </tr>
        </table>

        <table class="figures2">
          <tr class="figuresHeader">
            <th>Type</th>
            <th>Count</th>
            <th>Info</th>
          </tr>
          <tr>
            <th class="modal-text">Shapes</th>
            <th class="modal-text"><%=numeral(figuresData.figures.shapes.count).format('0,0')%></th>
            <th class="tooltipInfoTh">
              <a class="modalTooltips" title="Total number of shapes in the collection">
                <span class="arangoicon icon_arangodb_info"></span></a>
            </th>
          </tr>
          <tr>
            <th class="modal-text">Attributes</th>
            <th class="modal-text"><%=numeral(figuresData.figures.attributes.count).format('0,0')%></th>
            <th class="tooltipInfoTh">
              <a class="modalTooltips" title="Total number of attributes in the collection">
                <span class="arangoicon icon_arangodb_info"></span></a>
            </th>
          </tr>
          <tr>
            <th class="modal-text">Uncollected</th>
            <th class="modal-text"><%=figuresData.figures.uncollectedLogfileEntries%></th>
            <th class="tooltipInfoTh">
              <a class="modalTooltips" title="Total number of uncollected WAL entries">
                <span class="arangoicon icon_arangodb_info"></span></a>
            </th>
          </tr>
          <tr>
            <th class="modal-text">References</th>
            <th class="modal-text"><%=figuresData.figures.documentReferences%></th>
            <th class="tooltipInfoTh">
              <a class="modalTooltips" title="Total number of objects pointing to documents in collection datafiles">
                <span class="arangoicon icon_arangodb_info"></span></a>
            </th>
          </tr>
        </table>

        <table class="figures3">
          <tr class="figuresHeader">
            <th>Type</th>
            <th>Count</th>
            <th>Size</th>
            <th>Deletion</th>
            <th>Info</th>
          </tr>
          <tr>
            <th class="modal-text">Alive</th>
            <th class="modal-text"><%=numeral(figuresData.figures.alive.count).format('0,0')%></th>
            <th class="modal-text">
            <%=prettyBytes(figuresData.figures.alive.size)%>
            </th>
            <th class="modal-text"> -</th>
            <th class="tooltipInfoTh">
              <a class="modalTooltips" title="Total number and size of all living documents.">
                <span class="arangoicon icon_arangodb_info"></span>
              </a>
            </th>
          </tr>
          <tr>
            <th class="modal-text">Dead</th>
            <th class="modal-text"><%=numeral(figuresData.figures.dead.count).format('0,0')%></th>
            <th class="modal-text">
            <%=prettyBytes(figuresData.figures.dead.size)%>
            </th>
            <th class="modal-text"><%=figuresData.figures.dead.deletion%></th>

            <th class="tooltipInfoTh">
              <div>
                <a class="modalTooltips" title="Total number and size of all dead documents.">
                <span class="arangoicon icon_arangodb_info"></span>
                </a>
            </div>
            </th>

          </tr>
          <tr><th><div> </div></th></tr>
        </table>
      </div>

	  </div>
</script>

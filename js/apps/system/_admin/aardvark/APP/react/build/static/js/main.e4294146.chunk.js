/*! For license information please see main.e4294146.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(68).concat([function(e,t,n){var i={"./applicationListView.ejs":450,"./applicationsView.ejs":451,"./applierView.ejs":452,"./arangoTabbar.ejs":453,"./arangoTable.ejs":454,"./clusterView.ejs":455,"./collectionsItemView.ejs":456,"./collectionsView.ejs":457,"./dashboardView.ejs":458,"./databaseView.ejs":459,"./dbSelectionView.ejs":460,"./documentView.ejs":461,"./documentsView.ejs":462,"./edgeDefinitionTable.ejs":463,"./editListEntryView.ejs":464,"./filterSelect.ejs":465,"./footerView.ejs":466,"./foxxActiveView.ejs":467,"./foxxEditView.ejs":468,"./foxxMountView.ejs":469,"./foxxRepoView.ejs":470,"./graphManagementView.ejs":471,"./graphSettingsView.ejs":472,"./graphViewGroupByEntry.ejs":473,"./graphViewer2.ejs":474,"./helpUsView.ejs":475,"./indicesView.ejs":476,"./infoView.ejs":477,"./lineChartDetailView.ejs":478,"./loadingTableView.ejs":479,"./loggerView.ejs":480,"./loggerViewEntries.ejs":481,"./loginView.ejs":482,"./maintenanceView.ejs":484,"./metricsView.ejs":485,"./modalApplicationMount.ejs":486,"./modalBase.ejs":488,"./modalCollectionInfo.ejs":489,"./modalDownloadFoxx.ejs":490,"./modalGraph.ejs":491,"./modalGraphTable.ejs":492,"./modalHotkeys.ejs":493,"./modalTable.ejs":494,"./modalTestResults.ejs":495,"./navigationView.ejs":496,"./nodeView.ejs":497,"./nodesView.ejs":498,"./notificationItem.ejs":499,"./notificationView.ejs":500,"./progressBase.ejs":501,"./queryManagementViewActive.ejs":502,"./queryManagementViewSlow.ejs":503,"./queryView.ejs":504,"./queryViewOutput.ejs":505,"./rebalanceShardsView.ejs":506,"./replicationView.ejs":507,"./scaleView.ejs":508,"./serviceDetailView.ejs":509,"./serviceInstallGitHubView.ejs":510,"./serviceInstallNewView.ejs":511,"./serviceInstallUploadView.ejs":512,"./serviceInstallUrlView.ejs":513,"./serviceInstallView.ejs":514,"./shardDistributionView.ejs":515,"./shardsView.ejs":516,"./spotlightView.ejs":517,"./statisticBarView.ejs":518,"./storeDetailView.ejs":522,"./subNavigationView.ejs":523,"./supportView.ejs":524,"./tableView.ejs":529,"./userBarView.ejs":530,"./userManagementView.ejs":531,"./userPermissionView.ejs":532,"./validationView.ejs":533,"./viewView.ejs":534,"./viewsView.ejs":535,"./warningList.ejs":536};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=68},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){!function(){"use strict";window.PaginationView=Backbone.View.extend({collection:null,paginationDiv:"",idPrefix:"",rerender:function(){},jumpTo:function(e){this.collection.setPage(e),this.rerender()},firstPage:function(){this.jumpTo(1)},lastPage:function(){this.jumpTo(this.collection.getLastPageNumber())},firstDocuments:function(){this.jumpTo(1)},lastDocuments:function(){this.jumpTo(this.collection.getLastPageNumber())},prevDocuments:function(){this.jumpTo(this.collection.getPage()-1)},nextDocuments:function(){this.jumpTo(this.collection.getPage()+1)},renderPagination:function(){$(this.paginationDiv).html("");var e=this,t=this.collection.getPage(),n=this.collection.getLastPageNumber(),i=$(this.paginationDiv),a={page:t,lastPage:n,click:function(t){var n=window.location.hash.split("/");"documents"===n[2]?(a.page=t,window.location.hash=n[0]+"/"+n[1]+"/"+n[2]+"/"+t):(e.jumpTo(t),a.page=t)}};i.html(""),i.pagination(a),$(this.paginationDiv).prepend('<ul class="pre-pagi"><li><a id="'+this.idPrefix+'_first" class="pagination-button"><span><i class="fa fa-angle-double-left"/></span></a></li></ul>'),$(this.paginationDiv).append('<ul class="las-pagi"><li><a id="'+this.idPrefix+'_last" class="pagination-button"><span><i class="fa fa-angle-double-right"/></span></a></li></ul>')}})}()},function(e,t){!function(){"use strict";window.ApplicationDetailView=Backbone.View.extend({el:"#content",divs:["#readme","#swagger","#app-info","#sideinformation","#information","#settings"],navs:["#service-info","#service-api","#service-readme","#service-settings"],template:templateEngine.createTemplate("serviceDetailView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click .open":"openApp","click .delete":"deleteApp","click #app-deps":"showDepsDialog","click #app-switch-mode":"toggleDevelopment","click #app-scripts [data-script]":"runScript","click #app-tests":"runTests","click #app-replace":"replaceApp","click #download-app":"downloadApp","click .subMenuEntries li":"changeSubview","click #jsonLink":"toggleSwagger","mouseenter #app-scripts":"showDropdown","mouseleave #app-scripts":"hideDropdown"},resize:function(e){e?$(".innerContent").css("height","auto"):($(".innerContent").height($(".centralRow").height()-150),$("#swagger iframe").height($(".centralRow").height()-150),$("#swagger #swaggerJsonContent").height($(".centralRow").height()-150))},toggleSwagger:function(){var e=function(e){$("#jsonLink").html("JSON"),this.jsonEditor.setValue(JSON.stringify(e,null,"\t"),1),$("#swaggerJsonContent").show(),$("#swagger iframe").hide()}.bind(this);if("Swagger"===$("#jsonLink").html()){var t=arangoHelper.databaseUrl("/_admin/aardvark/foxxes/docs/swagger.json?mount="+encodeURIComponent(this.model.get("mount")));arangoHelper.download(t,e)}else $("#swaggerJsonContent").hide(),$("#swagger iframe").show(),$("#jsonLink").html("Swagger")},changeSubview:function(e){if(_.each(this.navs,(function(e){$(e).removeClass("active")})),$(e.currentTarget).addClass("active"),_.each(this.divs,(function(e){$(".headerButtonBar").hide(),$(e).hide()})),"service-readme"===e.currentTarget.id)this.resize(!0),$("#readme").show();else if("service-api"===e.currentTarget.id){this.resize(),$("#swagger").show(),$("#swaggerIframe").remove();var t=window.location.pathname.split("/"),n=window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/"+t[1]+"/"+t[2]+"/_admin/aardvark/foxxes/docs/index.html?mount="+encodeURIComponent(this.model.get("mount"));$("<iframe/>",{id:"swaggerIframe",src:n}).appendTo("#swagger").on("load",(function(){$("#swagger").height($(".centralRow").height()-150)}))}else"service-info"===e.currentTarget.id?(this.resize(!0),this.render(),$("#information").show(),$("#sideinformation").show()):"service-settings"===e.currentTarget.id&&(this.resize(!0),this.showConfigDialog(),$(".headerButtonBar").show(),$("#settings").show())},downloadApp:function(){this.model.isSystem()||this.model.download()},replaceApp:function(){window.App.replaceApp=!0,window.App.replaceAppData={model:this.model,mount:this.model.get("mount")},window.App.navigate("services/install",{trigger:!0})},updateConfig:function(){this.model.getConfiguration(function(){$("#app-warning")[this.model.needsAttention()?"show":"hide"](),$("#app-warning-config")[this.model.needsConfiguration()?"show":"hide"](),this.model.needsConfiguration()?$("#app-config").addClass("error"):$("#app-config").removeClass("error")}.bind(this))},updateDeps:function(){this.model.getDependencies(function(){$("#app-warning")[this.model.needsAttention()?"show":"hide"](),$("#app-warning-deps")[this.model.hasUnconfiguredDependencies()?"show":"hide"](),this.model.hasUnconfiguredDependencies()?$("#app-deps").addClass("error"):$("#app-deps").removeClass("error")}.bind(this))},toggleDevelopment:function(){this.model.toggleDevelopment(!this.model.isDevelopment(),function(){this.model.isDevelopment()?($(".app-switch-mode").text("Set Production"),$("#app-development-indicator").css("display","inline"),$("#app-development-path").css("display","inline")):($(".app-switch-mode").text("Set Development"),$("#app-development-indicator").css("display","none"),$("#app-development-path").css("display","none"))}.bind(this))},runScript:function(e){e.preventDefault();var t=$(e.currentTarget).attr("data-script"),n=[window.modalView.createBlobEntry("app_script_arguments","Script arguments","",null,"optional",!1,[{rule:function(e){return e&&JSON.parse(e)},msg:"Must be well-formed JSON or empty"}])],i=[window.modalView.createSuccessButton("Run script",function(){var e=$("#app_script_arguments").val();e=e&&JSON.parse(e),window.modalView.hide(),this.model.runScript(t,e,(function(e,n){var i;i=e?"<p>The script failed with an error"+(e.statusCode?" (HTTP "+e.statusCode+")":"")+":</p><pre>"+e.message+"</pre>":n?"<p>Script results:</p><pre>"+arangoHelper.escapeHtml(n)+"</pre>":"<p>The script ran successfully.</p>",window.modalView.show("modalTable.ejs",'Result of script "'+t+'"',void 0,void 0,void 0,i)}))}.bind(this))];window.modalView.show("modalTable.ejs",'Run script "'+t+'" on "'+this.model.get("mount")+'"',i,n)},showSwagger:function(e){e.preventDefault(),this.render("swagger")},showReadme:function(e){e.preventDefault(),this.render("readme")},runTests:function(e){e.preventDefault();var t="<p><strong>WARNING:</strong> Running tests may result in destructive side-effects including data loss. Please make sure not to run tests on a production database.</p>";this.model.isDevelopment()&&(t+="<p><strong>WARNING:</strong> This app is running in <strong>development mode</strong>. If any of the tests access the app's HTTP API they may become non-deterministic.</p>");var n=[window.modalView.createSuccessButton("Run tests",function(){window.modalView.hide(),this.model.runTests({reporter:"suite"},(function(e,t){window.modalView.show("modalTestResults.ejs","Test results",void 0,void 0,void 0,e||t)}))}.bind(this))];window.modalView.show("modalTable.ejs",'Run tests for app "'+this.model.get("mount")+'"',n,void 0,void 0,t)},render:function(e){return this.resize(),this.model.fetchThumbnail(function(){var t=function(t,n){var i=this;t?arangoHelper.arangoError("DB","Could not get current database"):($(this.el).html(this.template.render({app:this.model,baseUrl:arangoHelper.databaseUrl("",n),mode:e,installed:!0})),i.jsonEditor=ace.edit("swaggerJsonEditor"),i.jsonEditor.setReadOnly(!0),i.jsonEditor.getSession().setMode("ace/mode/json"),$.ajax({type:"GET",url:this.appUrl(n),headers:{accept:"text/html,*/*;q=0.9"},success:function(){$(".open",i.el).prop("disabled",!1)}}),this.updateConfig(),this.updateDeps(),"swagger"===e&&$.ajax({url:"./foxxes/docs/swagger.json?mount="+encodeURIComponent(this.model.get("mount")),success:function(e){Object.keys(e.paths).length<1&&(i.render("readme"),$("#app-show-swagger").attr("disabled","true"))}})),this.breadcrumb()}.bind(this);arangoHelper.currentDatabase(t),_.isEmpty(this.model.get("config"))&&$("#service-settings").attr("disabled",!0)}.bind(this)),$(this.el)},breadcrumb:function(){var e="Service: "+this.model.get("name")+'<i class="fa fa-ellipsis-v" aria-hidden="true"></i>',t='<p class="mount"><span>Contributors:</span>';this.model.get("contributors")&&this.model.get("contributors").length>0?_.each(this.model.get("contributors"),(function(e){e.email?t+='<a href="mailto:'+e.email+'">'+(e.name||e.email)+"</a>":e.name&&(t+="<a>contributor.name</a>")})):t+="No contributors",t+="</p>",$(".information").append(t),this.model.get("author")&&$(".information").append('<p class="mount"><span>Author:</span>'+this.model.get("author")+"</p>"),this.model.get("mount")&&$(".information").append('<p class="mount"><span>Mount:</span>'+this.model.get("mount")+"</p>"),this.model.get("development")&&this.model.get("path")&&$(".information").append('<p class="path"><span>Path:</span>'+this.model.get("path")+"</p>"),$("#subNavigationBar .breadcrumb").html(e)},openApp:function(){var e=function(e,t){e?arangoHelper.arangoError("DB","Could not get current database"):window.open(this.appUrl(t),this.model.get("title")).focus()}.bind(this);arangoHelper.currentDatabase(e)},deleteApp:function(){var e=[window.modalView.createDeleteButton("Delete",function(){var e={teardown:$("#app_delete_run_teardown").is(":checked")};this.model.destroy(e,(function(e,t){e||!1!==t.error||(window.modalView.hide(),window.App.navigate("services",{trigger:!0}))}))}.bind(this))],t=[window.modalView.createCheckboxEntry("app_delete_run_teardown","Run teardown?",!0,"Should this app's teardown script be executed before removing the app?",!0)];window.modalView.show("modalTable.ejs",'Delete Foxx App mounted at "'+this.model.get("mount")+'"',e,t,void 0,"<p>Are you sure? There is no way back...</p>",!0)},appUrl:function(e){return arangoHelper.databaseUrl(this.model.get("mount"),e)},applyConfig:function(){var e={};_.each(this.model.get("config"),(function(t,n){var i=$("#app_config_"+CryptoJS.MD5(n).toString()),a=i.val();if("boolean"!==t.type&&"bool"!==t.type)return""===a&&t.hasOwnProperty("default")?(e[n]=t.default,void("json"===t.type&&(e[n]=JSON.stringify(t.default)))):void("number"===t.type?e[n]=parseFloat(a):"integer"===t.type||"int"===t.type?e[n]=parseInt(a,10):"json"===t.type?e[n]=a&&JSON.stringify(JSON.parse(a)):e[n]=a);e[n]=i.is(":checked")})),this.model.setConfiguration(e,function(){this.updateConfig(),arangoHelper.arangoNotification(this.model.get("name"),"Settings applied.")}.bind(this))},showConfigDialog:function(){if(_.isEmpty(this.model.get("config")))$("#settings .buttons").html($("#hidden_buttons").html());else{var e=_.map(this.model.get("config"),(function(e,t){var n=void 0===e.default?"":String(e.default),i=void 0===e.current?"":String(e.current),a="createTextEntry",r=!1,o=[];return"boolean"===e.type||"bool"===e.type?(a="createCheckboxEntry",e.default=e.default||!1,n=e.default||!1,i=e.current||!1):"json"===e.type?(a="createBlobEntry",n=void 0===e.default?"":JSON.stringify(e.default),i=void 0===e.current?"":JSON.stringify(e.current),o.push({rule:function(e){return e&&JSON.parse(e)},msg:"Must be well-formed JSON or empty."})):"integer"===e.type||"int"===e.type?o.push({rule:Joi.number().integer().optional().allow(""),msg:"Has to be an integer."}):"number"===e.type?o.push({rule:Joi.number().optional().allow(""),msg:"Has to be a number."}):("password"===e.type&&(a="createPasswordEntry"),o.push({rule:Joi.string().optional().allow(""),msg:"Has to be a string."})),void 0===e.default&&!1!==e.required&&(r=!0,o.unshift({rule:Joi.any().required(),msg:"This field is required."})),window.modalView[a]("app_config_"+CryptoJS.MD5(t).toString(),t,i,e.description,n,r,o)})),t=[window.modalView.createSuccessButton("Apply",this.applyConfig.bind(this))];window.modalView.show("modalTable.ejs","Configuration",t,e,null,null,null,null,null,"settings"),$(".modal-footer").prepend($("#hidden_buttons").html())}},applyDeps:function(){var e={};_.each(this.model.get("deps"),(function(t,n){var i=$("#app_deps_"+n);e[n]=window.arangoHelper.escapeHtml(i.val())})),this.model.setDependencies(e,function(){window.modalView.hide(),this.updateDeps()}.bind(this))},showDepsDialog:function(){if(!_.isEmpty(this.model.get("deps"))){var e=_.map(this.model.get("deps"),(function(e,t){var n=void 0===e.current?"":String(e.current),i=e.definition.name;"*"!==e.definition.version&&(i+="@"+e.definition.version);var a=[{rule:Joi.string().optional().allow(""),msg:"Has to be a string."}];return e.definition.required&&a.push({rule:Joi.string().required(),msg:"This value is required."}),window.modalView.createTextEntry("app_deps_"+t,e.title,n,i,"",e.definition.required,a)})),t=[window.modalView.createSuccessButton("Apply",this.applyDeps.bind(this))];window.modalView.show("modalTable.ejs","Dependencies",t,e)}},showDropdown:function(){_.isEmpty(this.model.get("scripts"))||$("#scripts_dropdown").show(200)},hideDropdown:function(){$("#scripts_dropdown").hide()}})}()},function(e,t){!function(){"use strict";window.ApplicationsView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("applicationsView.ejs"),events:{"click #addApp":"createInstallModal","click #foxxToggle":"slideToggle","click #checkDevel":"toggleDevel","click #checkProduction":"toggleProduction","click #checkSystem":"toggleSystem"},fixCheckboxes:function(){this._showDevel?$("#checkDevel").attr("checked","checked"):$("#checkDevel").removeAttr("checked"),this._showSystem?$("#checkSystem").attr("checked","checked"):$("#checkSystem").removeAttr("checked"),this._showProd?$("#checkProduction").attr("checked","checked"):$("#checkProduction").removeAttr("checked"),$("#checkDevel").next().removeClass("fa fa-check-square-o fa-square-o").addClass("fa"),$("#checkSystem").next().removeClass("fa fa-check-square-o fa-square-o").addClass("fa"),$("#checkProduction").next().removeClass("fa fa-check-square-o fa-square-o").addClass("fa"),arangoHelper.setCheckboxStatus("#foxxDropdown")},toggleDevel:function(){var e=this;this._showDevel=!this._showDevel,_.each(this._installedSubViews,(function(t){t.toggle("devel",e._showDevel)})),this.fixCheckboxes()},toggleProduction:function(){var e=this;this._showProd=!this._showProd,_.each(this._installedSubViews,(function(t){t.toggle("production",e._showProd)})),this.fixCheckboxes()},toggleSystem:function(){this._showSystem=!this._showSystem;var e=this;_.each(this._installedSubViews,(function(t){t.toggle("system",e._showSystem)})),this.fixCheckboxes()},reload:function(){var e=this;_.each(this._installedSubViews,(function(e){e.undelegateEvents()})),this.collection.fetch({success:function(){e.createSubViews(),e.render()}})},createSubViews:function(){var e=this;this._installedSubViews={},e.collection.each((function(t){var n=new window.FoxxActiveView({model:t,appsView:e});e._installedSubViews[t.get("mount")]=n}))},initialize:function(){this._installedSubViews={},this._showDevel=!0,this._showProd=!0,this._showSystem=!1},slideToggle:function(){$("#foxxToggle").toggleClass("activated"),$("#foxxDropdownOut").slideToggle(200)},createInstallModal:function(e){this.readOnly||(e.preventDefault(),window.App.navigate("services/install",{trigger:!0}))},setReadOnly:function(){this.readOnly=!0,$("#addApp").parent().parent().addClass("disabled"),$("#addApp").addClass("disabled")},render:function(){this.collection.sort(),$(this.el).html(this.template.render({})),_.each(this._installedSubViews,(function(e){$("#installedList").append(e.render())})),this.delegateEvents(),$("#checkDevel").attr("checked",this._showDevel),$("#checkProduction").attr("checked",this._showProd),$("#checkSystem").attr("checked",this._showSystem),arangoHelper.setCheckboxStatus("#foxxDropdown");var e=this;return _.each(this._installedSubViews,(function(t){t.toggle("devel",e._showDevel),t.toggle("system",e._showSystem)})),arangoHelper.fixTooltips("icon_arangodb","left"),arangoHelper.checkDatabasePermissions(this.setReadOnly.bind(this)),this},installCallback:function(e){var t=this;if(!1===e.error)this.collection.fetch({success:function(){window.modalView.hide(),t.reload(),arangoHelper.arangoNotification("Services","Service "+e.name+" installed.")}});else{var n=e;switch(e.hasOwnProperty("responseJSON")&&(n=e.responseJSON),n.errorNum){case 1752:arangoHelper.arangoError("Services","Unable to download application from the given repository.");break;default:arangoHelper.arangoError("Services",n.errorNum+". "+n.errorMessage)}}}})}()},function(e,t){!function(){"use strict";window.ApplierView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("applierView.ejs"),endpoint:null,events:{},render:function(){this.getMode()},breadcrumb:function(e){var t=this;if(window.App.naviView){var n="Database";e&&(n=n+": "+e),$("#subNavigationBar .breadcrumb").html(n)}else window.setTimeout((function(){t.breadcrumb()}),100)},continueRender:function(){this.$el.html(this.template.render({}))},getApplierState:function(e,t){var n,i=this;n="_system"===this.database||t?this.endpoint+"/_api/replication/applier-state":this.endpoint+"/_db/"+encodeURIComponent(this.database)+"/_api/replication/applier-state",t?(n+="?global=true",i.breadcrumb("All databases")):i.breadcrumb(i.database),$.ajax({type:"GET",cache:!1,url:n,contentType:"application/json",success:function(e){i.$el.html(i.template.render({data:e}))},error:function(){arangoHelper.arangoError("Replication","Could not fetch the applier state of: "+e)}})},getMode:function(e){var t=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/aardvark/replication/mode"),contentType:"application/json",success:function(e){3===e.mode||2===e.mode?t.getApplierState(this.endpoint,!0):t.getApplierState(this.endpoint,!1)},error:function(){arangoHelper.arangoError("Replication","Could not fetch the replication state.")}})}})}()},function(e,t){!function(){"use strict";window.ClusterView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("clusterView.ejs"),events:{},coordshortSuccess:void 0,statsEnabled:!1,historyInit:!1,initDone:!1,interval:1e4,maxValues:100,knownServers:[],chartData:{},charts:{},nvcharts:[],startHistory:{},startHistoryAccumulated:{},initialize:function(e){var t=this;window.App.isCluster&&(this.dbServers=e.dbServers,this.coordinators=e.coordinators,this.updateServerTime(),window.setInterval((function(){if("#cluster"===window.location.hash||""===window.location.hash||"#"===window.location.hash){t.getCoordStatHistory((function(e){t.rerenderValues(e),t.rerenderGraphs(e)}))}else{t.getCoordStatHistory((function(e){t.rerenderGraphs(e,!0)}))}}),this.interval))},render:function(){var e=this;this.$el.html(this.template.render({})),this.initDone||(void 0!==this.coordinators.first()?this.getServerStatistics():this.waitForCoordinators(),this.initDone=!0),this.initGraphs();this.getCoordStatHistory((function(t){e.rerenderValues(t)})),arangoHelper.buildClusterSubNav("Dashboard")},waitForCoordinators:function(){var e=this;window.setTimeout((function(){e.coordinators?e.getServerStatistics():e.waitForCoordinators()}),500)},updateServerTime:function(){this.serverTime=(new Date).getTime()},getServerStatistics:function(){var e=this;this.data=void 0;var t=this.coordinators.first();this.statCollectCoord=new window.ClusterStatisticsCollection([],{host:t.get("address")}),this.statCollectDBS=new window.ClusterStatisticsCollection([],{host:t.get("address")});var n=[];_.each(this.dbServers,(function(e){e.each((function(e){n.push(e)}))})),_.each(n,(function(n){if("ok"===n.get("status")){-1===e.knownServers.indexOf(n.id)&&e.knownServers.push(n.id);var i=new window.Statistics({name:n.id});i.url=t.get("protocol")+"://"+t.get("address")+"/_admin/cluster/statistics?DBserver="+encodeURIComponent(n.get("name")),e.statCollectDBS.add(i)}})),this.coordinators.forEach((function(t){if("ok"===t.get("status")){-1===e.knownServers.indexOf(t.id)&&e.knownServers.push(t.id);var n=new window.Statistics({name:t.id});n.url=t.get("protocol")+"://"+t.get("address")+"/_admin/statistics",e.statCollectCoord.add(n)}}));e.getCoordStatHistory((function(t){e.rerenderValues(t),e.rerenderGraphs(t)})),e.renderNodes()},rerenderValues:function(e){this.renderNodes(),arangoHelper.renderStatisticsBoxValue("#clusterConnections",Math.round(e.clientConnectionsCurrent)),arangoHelper.renderStatisticsBoxValue("#clusterConnectionsAvg",Math.round(e.clientConnections15M));var t=e.physicalMemory,n=e.residentSizeCurrent;arangoHelper.renderStatisticsBoxValue("#clusterRam",[n,t])},renderNodes:function(){var e=function(e){var t=0,n=0,i=0,a=0,r=0,o=0;_.each(e,(function(e){"Coordinator"===e.Role?(t++,"GOOD"!==e.Status&&n++):"DBServer"===e.Role?(i++,"GOOD"!==e.Status&&a++):"Agent"===e.Role&&(r++,"GOOD"!==e.Status&&o++)})),n>0?arangoHelper.renderStatisticsBoxValue("#clusterCoordinators",t-n+"/"+t,!0):arangoHelper.renderStatisticsBoxValue("#clusterCoordinators",t),a>0?arangoHelper.renderStatisticsBoxValue("#clusterDBServers",i-a+"/"+i,!0):arangoHelper.renderStatisticsBoxValue("#clusterDBServers",i),o>0?arangoHelper.renderStatisticsBoxValue("#clusterAgentServers",r-o+"/"+r,!0):arangoHelper.renderStatisticsBoxValue("#clusterAgentServers",r)}.bind(this);window.App&&window.App.lastHealthCheckResult?e(window.App.lastHealthCheckResult.Health):(arangoHelper.renderStatisticsBoxValue("#clusterCoordinators","N/A",!0),arangoHelper.renderStatisticsBoxValue("#clusterDBServers","N/A",!0))},initValues:function(){_.each(["#clusterNodes","#clusterRam","#clusterConnections","#clusterConnectionsAvg"],(function(e){$(e).html('<i class="fa fa-spin fa-circle-o-notch" style="color: rgba(0, 0, 0, 0.64);"></i>')}))},graphData:{data:{sent:[],received:[]},http:[],average:[]},insertDummyElements:function(){var e=this;_.each(e.chartsOptions,(function(t,n){_.each(t.options,(function(t,i){if(t.values.length<e.maxValues-1){var a,r=e.maxValues-t.values.length;try{a=e.chartsOptions[n].options[i].values[0].x}catch(l){a=(Date.now()/1e3).toFixed(0)}for(var o=0;o<r;o++){var s=a-e.interval/1e3*o;s=parseInt(s),e.chartsOptions[n].options[i].values.unshift({x:s,y:0})}}}))}))},checkArraySizes:function(){var e=this;_.each(e.chartsOptions,(function(t,n){_.each(t.options,(function(t,i){t.values.length>e.maxValues-1&&e.chartsOptions[n].options[i].values.shift()}))}))},formatDataForGraph:function(e){var t=this;t.historyInit?(t.checkArraySizes(),t.chartsOptions[0].options[0].values.push({x:e.times[e.times.length-1],y:e.bytesSentPerSecond[e.bytesSentPerSecond.length-1]}),t.chartsOptions[0].options[1].values.push({x:e.times[e.times.length-1],y:e.bytesReceivedPerSecond[e.bytesReceivedPerSecond.length-1]}),t.chartsOptions[1].options[0].values.push({x:e.times[e.times.length-1],y:t.calcTotalHttp(e.http,e.bytesSentPerSecond.length-1)}),t.chartsOptions[2].options[0].values.push({x:e.times[e.times.length-1],y:e.avgRequestTime[e.bytesSentPerSecond.length-1]})):(_.each(e.times,(function(n,i){t.chartsOptions[0].options[0].values.push({x:n,y:e.bytesSentPerSecond[i]}),t.chartsOptions[0].options[1].values.push({x:n,y:e.bytesReceivedPerSecond[i]}),t.chartsOptions[1].options[0].values.push({x:n,y:t.calcTotalHttp(e.http,i)}),t.chartsOptions[2].options[0].values.push({x:n,y:e.avgRequestTime[i]})})),t.historyInit=!0,t.insertDummyElements())},chartsOptions:[{id:"#clusterData",type:"bytes",count:2,options:[{area:!0,values:[],key:"Bytes out",color:"rgb(23,190,207)",strokeWidth:2,fillOpacity:.1},{area:!0,values:[],key:"Bytes in",color:"rgb(188, 189, 34)",strokeWidth:2,fillOpacity:.1}]},{id:"#clusterHttp",type:"number",options:[{area:!0,values:[],key:"Requests per second",color:"rgb(0, 166, 90)",fillOpacity:.1}]},{id:"#clusterAverage",data:[],type:"seconds",options:[{area:!0,values:[],key:"Seconds",color:"rgb(243, 156, 18)",fillOpacity:.1}]}],initGraphs:function(){var e=this;_.each(e.chartsOptions,(function(t){nv.addGraph((function(){var n;e.charts[t.id]=nv.models.stackedAreaChart().options({useInteractiveGuideline:!0,showControls:!1,noData:"No data...",duration:0}),e.charts[t.id].xAxis.axisLabel("").tickFormat((function(e){var t=new Date(1e3*e);return(t.getHours()<10?"0":"")+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+":"+(t.getSeconds()<10?"0":"")+t.getSeconds()})).staggerLabels(!1),e.charts[t.id].yAxis.axisLabel("").tickFormat((function(e){var n;return"bytes"===t.type?null===e?"N/A":(n=parseFloat(d3.format(".2f")(e)),prettyBytes(n)):"seconds"===t.type?null===e?"N/A":n=parseFloat(d3.format(".3f")(e)):"number"===t.type?null===e?"N/A":n=parseFloat(d3.format(".2f")(e)):void 0}));var i=e.returnGraphOptions(t.id);return i.length>0?_.each(i,(function(e,n){t.options[n].values=e})):t.options[0].values=[],n=t.options,e.chartData[t.id]=d3.select(t.id).append("svg").datum(n).transition().duration(300).call(e.charts[t.id]).each("start",(function(){window.setTimeout((function(){d3.selectAll(t.id+" *").each((function(){this.__transition__&&(this.__transition__.duration=0)}))}),0)})),nv.utils.windowResize(e.charts[t.id].update),e.nvcharts.push(e.charts[t.id]),e.charts[t.id]}))}))},returnGraphOptions:function(e){return"#clusterData"===e?[this.chartsOptions[0].options[0].values,this.chartsOptions[0].options[1].values]:"#clusterHttp"===e?[this.chartsOptions[1].options[0].values]:"#clusterAverage"===e?[this.chartsOptions[2].options[0].values]:[]},rerenderGraphs:function(e,t){if(this.statsEnabled){var n,i,a=this;0!==Object.keys(e).length&&(this.formatDataForGraph(e),_.each(a.chartsOptions,(function(e){(i=a.returnGraphOptions(e.id)).length>0?_.each(i,(function(t,n){e.options[n].values=t})):e.options[0].values=[],n=e.options,void 0!==t&&!1!==t||n[0].values.length>0&&a.historyInit&&a.charts[e.id]&&a.charts[e.id].update()})))}},calcTotalHttp:function(e,t){var n=0;return _.each(e,(function(e){n+=e[t]})),n},getCoordStatHistory:function(e){var t=this;if(this.coordshortSuccess||void 0===this.coordshortSuccess||(Date.now()-this.coordshortTimestamp)/1e3>60){this.coordshortSuccess=!1;var n="statistics/coordshort";frontendConfig.react&&(n=arangoHelper.databaseUrl("/_admin/aardvark/"+n)),$.ajax({url:n,json:!0,type:"GET",success:function(n){t.coordshortTimestamp=Date.now(),t.coordshortSuccess=!0,t.statsEnabled=n.enabled,e(n.data)},error:function(){t.coordshortTimestamp=Date.now(),t.coordshortSuccess=!1}})}}})}()},function(e,t){!function(){"use strict";window.CollectionListItemView=Backbone.View.extend({tagName:"div",className:"tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6",template:templateEngine.createTemplate("collectionsItemView.ejs"),initialize:function(e){this.collectionsView=e.collectionsView},events:{"click .iconSet.icon_arangodb_settings2":"createEditPropertiesModal","click .pull-left":"noop","click .icon_arangodb_settings2":"editProperties","click .spanInfo":"showProperties",click:"selectCollection"},render:function(){return this.model.get("locked")||"corrupted"===this.model.get("status")?($(this.el).addClass("locked"),$(this.el).addClass(this.model.get("lockType"))):$(this.el).removeClass("locked"),$(this.el).html(this.template.render({model:this.model})),$(this.el).attr("id","collection_"+this.model.get("name")),this},editProperties:function(e){if(this.model.get("locked"))return 0;e.stopPropagation(),this.createEditPropertiesModal()},showProperties:function(e){if(this.model.get("locked"))return 0;e.stopPropagation(),this.createInfoModal()},selectCollection:function(e){return $(e.target).hasClass("disabled")||this.model.get("locked")||"corrupted"===this.model.get("status")?0:void window.App.navigate("collection/"+encodeURIComponent(this.model.get("name"))+"/documents/1",{trigger:!0})},noop:function(e){e.stopPropagation()},truncateCollection:function(){this.model.truncateCollection(),window.modalView.hide()},warumupCollection:function(){this.model.warumupCollection(),window.modalView.hide()},deleteCollection:function(){this.model.destroy({error:function(e,t){arangoHelper.arangoError("Could not drop collection: "+t.responseJSON.errorMessage)},success:function(){window.modalView.hide()}}),this.collectionsView.render()},saveModifiedCollection:function(){var e=function(e,t){if(e)arangoHelper.arangoError("Error","Could not get coordinator info");else{var n;n=t?this.model.get("name"):$("#change-collection-name").val();var i=function(e){e?arangoHelper.arangoError("Collection error: "+e.responseText):(this.collectionsView.render(),window.modalView.hide())}.bind(this),a=function(e){if(e)arangoHelper.arangoError("Collection error: "+e.responseText);else{var t,n=$("#change-collection-sync").val();frontendConfig.isCluster&&(t=$("#change-replication-factor").val()),this.model.changeCollection(n,t,i)}}.bind(this);!1===frontendConfig.isCluster?this.model.renameCollection(n,a):a()}}.bind(this);window.isCoordinator(e)},createEditPropertiesModal:function(){var e=function(e,t){if(e)arangoHelper.arangoError("Error","Could not get coordinator info");else{var n=[],i=[];t||i.push(window.modalView.createTextEntry("change-collection-name","Name",this.model.get("name"),!1,"",!0,[{rule:Joi.string().regex(/^[a-zA-Z]/),msg:"Collection name must always start with a letter."},{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only Symbols "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No collection name given."}]));var a=function(){i.push(window.modalView.createReadOnlyEntry("change-collection-id","ID",this.model.get("id"),"")),i.push(window.modalView.createReadOnlyEntry("change-collection-type","Type",this.model.get("type"),"")),i.push(window.modalView.createReadOnlyEntry("change-collection-status","Status",this.model.get("status"),"")),n.push(window.modalView.createDeleteButton("Delete",this.deleteCollection.bind(this))),n.push(window.modalView.createDeleteButton("Truncate",this.truncateCollection.bind(this))),"rocksdb"===frontendConfig.engine&&n.push(window.modalView.createDeleteButton("Load Indexes into Memory",this.warumupCollection.bind(this))),n.push(window.modalView.createSuccessButton("Save",this.saveModifiedCollection.bind(this)));window.modalView.show(["modalTable.ejs","indicesView.ejs"],"Modify Collection",n,i,null,null,this.events,null,["General","Indexes"]),this.getIndex()}.bind(this);this.model.getProperties((function(e,t){if(e)arangoHelper.arangoError("Collection","Could not fetch properties");else{var n=t.waitForSync;i.push(window.modalView.createSelectEntry("change-collection-sync","Wait for sync",n,"Synchronize to disk before returning from a create or update of a document.",[{value:!1,label:"No"},{value:!0,label:"Yes"}]))}a()}))}}.bind(this);window.isCoordinator(e)},bindIndexEvents:function(){this.unbindIndexEvents();var e=this;$("#indexEditView #addIndex").bind("click",(function(){e.toggleNewIndexView(),$("#cancelIndex").unbind("click"),$("#cancelIndex").bind("click",(function(){e.toggleNewIndexView()})),$("#createIndex").unbind("click"),$("#createIndex").bind("click",(function(){e.createIndex()}))})),$("#newIndexType").bind("change",(function(){e.selectIndexType()})),$(".deleteIndex").bind("click",(function(t){e.prepDeleteIndex(t)})),$("#infoTab a").bind("click",(function(e){if($("#indexDeleteModal").remove(),"Indexes"!==$(e.currentTarget).html()||$(e.currentTarget).parent().hasClass("active")||($("#newIndexView").hide(),$("#indexEditView").show(),$("#modal-dialog .modal-footer .button-danger").hide(),$("#modal-dialog .modal-footer .button-success").hide(),$("#modal-dialog .modal-footer .button-notification").hide()),"General"===$(e.currentTarget).html()&&!$(e.currentTarget).parent().hasClass("active")){$("#modal-dialog .modal-footer .button-danger").show(),$("#modal-dialog .modal-footer .button-success").show(),$("#modal-dialog .modal-footer .button-notification").show();var t=$(".index-button-bar2")[0];$("#cancelIndex").is(":visible")&&($("#cancelIndex").detach().appendTo(t),$("#createIndex").detach().appendTo(t))}}))},unbindIndexEvents:function(){$("#indexEditView #addIndex").unbind("click"),$("#newIndexType").unbind("change"),$("#infoTab a").unbind("click"),$(".deleteIndex").unbind("click")},createInfoModal:function(){var e=function(e,t,n){if(e)arangoHelper.arangoError("Figures","Could not get revision.");else{var i={figures:n,revision:t,model:this.model};window.modalView.show("modalCollectionInfo.ejs","Collection: "+(this.model.get("name").length>64?this.model.get("name").substr(0,64)+"...":this.model.get("name")),[],i)}}.bind(this),t=function(t,n){if(t)arangoHelper.arangoError("Figures","Could not get figures.");else{var i=n;this.model.getRevision(e,i)}}.bind(this);this.model.getFigures(t)},resetIndexForms:function(){$("#indexHeader input").val("").prop("checked",!1),$("#newIndexType").val("Geo").prop("selected",!0),this.selectIndexType()},createIndex:function(){var e,t,n,i=this,a={};switch($("#newIndexType").val()){case"Ttl":e=$("#newTtlFields").val();var r=parseInt($("#newTtlExpireAfter").val(),10)||0;a={type:"ttl",fields:i.stringToArray(e),expireAfter:r};break;case"Geo":e=$("#newGeoFields").val();var o=i.checkboxToValue("#newGeoJson"),s=i.checkboxToValue("#newGeoConstraint"),l=i.checkboxToValue("#newGeoIgnoreNull");a={type:"geo",fields:i.stringToArray(e),geoJson:o,constraint:s,ignoreNull:l};break;case"Hash":e=$("#newHashFields").val(),t=i.checkboxToValue("#newHashUnique"),n=i.checkboxToValue("#newHashSparse"),a={type:"hash",fields:i.stringToArray(e),unique:t,sparse:n};break;case"Fulltext":e=$("#newFulltextFields").val();var c=parseInt($("#newFulltextMinLength").val(),10)||0;a={type:"fulltext",fields:i.stringToArray(e),minLength:c};break;case"Skiplist":e=$("#newSkiplistFields").val(),t=i.checkboxToValue("#newSkiplistUnique"),n=i.checkboxToValue("#newSkiplistSparse"),a={type:"skiplist",fields:i.stringToArray(e),unique:t,sparse:n}}window.modalView.hide(),i.model.createIndex(a,(function(e,t){if(e)if(t){var n=JSON.parse(t.responseText);arangoHelper.arangoError("Document error",n.errorMessage)}else arangoHelper.arangoError("Document error","Could not create index.");i.refreshCollectionsView()}))},lastTarget:null,prepDeleteIndex:function(e){var t=this;this.lastTarget=e,this.lastId=$(this.lastTarget.currentTarget).parent().parent().first().children().first().text(),$("#modal-dialog .modal-footer").after('<div id="indexDeleteModal" style="display:block;" class="alert alert-error modal-delete-confirmation"><strong>Really delete?</strong><button id="indexConfirmDelete" class="button-danger pull-right modal-confirm-delete">Yes</button><button id="indexAbortDelete" class="button-neutral pull-right">No</button></div>'),$("#indexConfirmDelete").unbind("click"),$("#indexConfirmDelete").bind("click",(function(){$("#indexDeleteModal").remove(),t.deleteIndex()})),$("#indexAbortDelete").unbind("click"),$("#indexAbortDelete").bind("click",(function(){$("#indexDeleteModal").remove()}))},refreshCollectionsView:function(){window.App.arangoCollectionsStore.fetch({success:function(){window.App.collectionsView.render()}})},deleteIndex:function(){var e=function(e){e?(arangoHelper.arangoError("Could not delete index"),$("tr th:contains('"+this.lastId+"')").parent().children().last().html('<span class="deleteIndex icon_arangodb_roundminus" data-original-title="Delete index" title="Delete index"></span>'),this.model.set("locked",!1),this.refreshCollectionsView()):e||void 0===e||($("tr th:contains('"+this.lastId+"')").parent().remove(),this.model.set("locked",!1),this.refreshCollectionsView()),this.refreshCollectionsView()}.bind(this);this.model.set("locked",!0),this.model.deleteIndex(this.lastId,e),$("tr th:contains('"+this.lastId+"')").parent().children().last().html('<i class="fa fa-circle-o-notch fa-spin"></i>')},selectIndexType:function(){$(".newIndexClass").hide();var e=$("#newIndexType").val();$("#newIndexType"+e).show()},getIndex:function(){var e=function(e,t){e?window.arangoHelper.arangoError("Index",t.errorMessage):this.renderIndex(t)}.bind(this);this.model.getIndex(e)},renderIndex:function(e){this.index=e;var t="collectionInfoTh modal-text";if(this.index){var n="",i="";_.each(this.index.indexes,(function(e){i="primary"===e.type||"edge"===e.type?'<span class="icon_arangodb_locked" data-original-title="No action"></span>':'<span class="deleteIndex icon_arangodb_roundminus" data-original-title="Delete index" title="Delete index"></span>',void 0!==e.fields&&(n=e.fields.join(", "));var a=e.id.indexOf("/"),r=e.id.substr(a+1,e.id.length),o=e.hasOwnProperty("selectivityEstimate")?(100*e.selectivityEstimate).toFixed(2)+"%":"n/a",s=e.hasOwnProperty("sparse")?e.sparse:"n/a";$("#collectionEditIndexTable").append("<tr><th class="+JSON.stringify(t)+">"+r+"</th><th class="+JSON.stringify(t)+">"+e.type+"</th><th class="+JSON.stringify(t)+">"+e.unique+"</th><th class="+JSON.stringify(t)+">"+s+"</th><th class="+JSON.stringify(t)+">"+o+"</th><th class="+JSON.stringify(t)+">"+n+"</th><th class="+JSON.stringify(t)+">"+i+"</th></tr>")}))}this.bindIndexEvents()},toggleNewIndexView:function(){var e=$(".index-button-bar2")[0];$("#indexEditView").is(":visible")?($("#indexEditView").hide(),$("#newIndexView").show(),$("#cancelIndex").detach().appendTo("#modal-dialog .modal-footer"),$("#createIndex").detach().appendTo("#modal-dialog .modal-footer")):($("#indexEditView").show(),$("#newIndexView").hide(),$("#cancelIndex").detach().appendTo(e),$("#createIndex").detach().appendTo(e)),arangoHelper.fixTooltips(".icon_arangodb, .arangoicon","right"),this.resetIndexForms()},stringToArray:function(e){var t=[];return e.split(",").forEach((function(e){""!==(e=e.replace(/(^\s+|\s+$)/g,""))&&t.push(e)})),t},checkboxToValue:function(e){return $(e).prop("checked")}})}()},function(e,t){!function(){"use strict";window.CollectionsView=Backbone.View.extend({el:"#content",el2:"#collectionsThumbnailsIn",readOnly:!1,defaultReplicationFactor:0,minReplicationFactor:0,maxReplicationFactor:0,maxNumberOfShards:0,searchTimeout:null,refreshRate:1e4,template:templateEngine.createTemplate("collectionsView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},refetchCollections:function(){var e=this;this.collection.fetch({cache:!1,success:function(){e.checkLockedCollections()}})},checkLockedCollections:function(){var e=function(e,t){var n=this;e||(this.collection.each((function(e){e.set("locked",!1)})),_.each(t,(function(e){var t=n.collection.findWhere({id:e.collection});t.set("locked",!0),t.set("lockType",e.type),t.set("desc",e.desc)})),this.collection.each((function(e){$("#collection_"+e.get("name")).removeClass("locked"),$("#collection_"+e.get("name")+" .corneredBadge").hasClass("inProgress")&&$("#collection_"+e.get("name")+" .corneredBadge").removeClass("inProgress")})))}.bind(this);frontendConfig.ldapEnabled||window.arangoHelper.syncAndReturnUnfinishedAardvarkJobs("index",e)},initialize:function(){var e=this;this.defaultReplicationFactor=frontendConfig.defaultReplicationFactor,this.minReplicationFactor=frontendConfig.minReplicationFactor,this.maxReplicationFactor=frontendConfig.maxReplicationFactor,this.maxNumberOfShards=frontendConfig.maxNumberOfShards,window.setInterval((function(){"#collections"===window.location.hash&&window.VISIBLE&&e.refetchCollections()}),e.refreshRate)},render:function(){this.checkLockedCollections();var e=!1;$("#collectionsDropdown").is(":visible")&&(e=!0),$(this.el).html(this.template.render({})),this.setFilterValues(),!0===e&&$("#collectionsDropdown2").show();var t,n=this.collection.searchOptions;this.collection.getFiltered(n).forEach((function(e){$("#collectionsThumbnailsIn",this.el).append(new window.CollectionListItemView({model:e,collectionsView:this}).render().el)}),this),"none"===$("#collectionsDropdown2").css("display")?$("#collectionsToggle").removeClass("activated"):$("#collectionsToggle").addClass("activated"),arangoHelper.setCheckboxStatus("#collectionsDropdown");try{t=n.searchPhrase.length}catch(i){}return $("#searchInput").val(n.searchPhrase),$("#searchInput").focus(),$("#searchInput")[0].setSelectionRange(t,t),arangoHelper.fixTooltips(".icon_arangodb, .arangoicon","left"),arangoHelper.checkDatabasePermissions(this.setReadOnly.bind(this)),this},setReadOnly:function(){this.readOnly=!0,$("#createCollection").parent().parent().addClass("disabled")},events:{"click #createCollection":"createCollection","keydown #searchInput":"restrictToSearchPhraseKey","change #searchInput":"restrictToSearchPhrase","click #searchSubmit":"restrictToSearchPhrase","click .checkSystemCollections":"checkSystem","click #checkDocument":"checkDocument","click #checkEdge":"checkEdge","click #sortName":"sortName","click #sortType":"sortType","click #sortOrder":"sortOrder","click #collectionsToggle":"toggleView","click .css-label":"checkBoxes"},updateCollectionsView:function(){var e=this;this.collection.fetch({cache:!1,success:function(){e.render()}})},toggleView:function(){$("#collectionsToggle").toggleClass("activated"),$("#collectionsDropdown2").slideToggle(200)},checkBoxes:function(e){var t=e.currentTarget.id;$("#"+t).click()},checkSystem:function(){var e=this.collection.searchOptions,t=e.includeSystem;e.includeSystem=!0===$(".checkSystemCollections").is(":checked"),t!==e.includeSystem&&this.render()},checkEdge:function(){var e=this.collection.searchOptions,t=e.includeEdge;e.includeEdge=!0===$("#checkEdge").is(":checked"),t!==e.includeEdge&&this.render()},checkDocument:function(){var e=this.collection.searchOptions,t=e.includeDocument;e.includeDocument=!0===$("#checkDocument").is(":checked"),t!==e.includeDocument&&this.render()},sortName:function(){var e=this.collection.searchOptions,t=e.sortBy;e.sortBy=!0===$("#sortName").is(":checked")?"name":"type",t!==e.sortBy&&this.render()},sortType:function(){var e=this.collection.searchOptions,t=e.sortBy;e.sortBy=!0===$("#sortType").is(":checked")?"type":"name",t!==e.sortBy&&this.render()},sortOrder:function(){var e=this.collection.searchOptions,t=e.sortOrder;e.sortOrder=!0===$("#sortOrder").is(":checked")?-1:1,t!==e.sortOrder&&this.render()},setFilterValues:function(){var e=this.collection.searchOptions;$(".checkSystemCollections").attr("checked",e.includeSystem),$("#checkEdge").attr("checked",e.includeEdge),$("#checkDocument").attr("checked",e.includeDocument),$("#sortName").attr("checked","type"!==e.sortBy),$("#sortType").attr("checked","type"===e.sortBy),$("#sortOrder").attr("checked",1!==e.sortOrder)},search:function(){var e=this.collection.searchOptions,t=$("#searchInput").val();t!==e.searchPhrase&&(e.searchPhrase=t,this.render())},resetSearch:function(){this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.collection.searchOptions.searchPhrase=null},restrictToSearchPhraseKey:function(){var e=this;this.resetSearch(),e.searchTimeout=setTimeout((function(){e.search()}),200)},restrictToSearchPhrase:function(){this.resetSearch(),this.search()},createCollection:function(e){if(!this.readOnly){e.preventDefault();var t=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/engine"),contentType:"application/json",processData:!1,success:function(e){t.engine=e,t.createNewCollectionModal(e)},error:function(){arangoHelper.arangoError("Engine","Could not fetch ArangoDB Engine details.")}})}},submitCreateCollection:function(){var e=this,t=function(t,n){if(t)arangoHelper.arangoError("DB","Could not check coordinator state");else{var i=$("#new-collection-name").val(),a=$("#new-collection-size").val(),r=Number($("#new-replication-factor").val()),o=Number($("#new-write-concern").val()),s=$("#new-collection-type").val(),l=$("#new-collection-sync").val(),c=1,d=[],u="",h="";if(""===r&&(r=e.defaultReplicationFactor?e.defaultReplicationFactor:1),""===o&&(o=1),"true"===$("#is-satellite-collection").val()&&(r="satellite"),n){if(frontendConfig.isEnterprise&&""!==$("#smart-join-attribute").val()&&(u=$("#smart-join-attribute").val().trim()),frontendConfig.isEnterprise)try{h=$("#distribute-shards-like").val().trim()}catch(v){}try{c=$("#new-collection-shards").val()}catch(v){c=1}if(""===c&&(c=1),(c=parseInt(c,10))<1)return arangoHelper.arangoError("Number of shards has to be an integer value greater or equal 1"),0;0===(d=_.pluck($("#new-collection-shardKeys").select2("data"),"text")).length?d.push("_key"):_.each(d,(function(e,t){d[t]=arangoHelper.escapeHtml(e)}))}if("_"===i.substr(0,1))return arangoHelper.arangoError('No "_" allowed as first character!'),0;var p="true"===l;if(a>0)try{a=1024*JSON.parse(a)*1024}catch(b){return arangoHelper.arangoError("Please enter a valid number"),0}if(""===i)return arangoHelper.arangoError("No collection name entered!"),0;var f=function(e,t){if(e)try{t=JSON.parse(t.responseText),arangoHelper.arangoError("Error",t.errorMessage)}catch(n){}else"#collections"===window.location.hash&&this.updateCollectionsView(),arangoHelper.arangoNotification("Collection",'Collection "'+t.name+'" successfully created.')}.bind(this),g=!1;try{Number.parseInt(o)>Number.parseInt(r)&&(arangoHelper.arangoError("New Collection","Write concern is not allowed to be greater than replication factor"),g=!0)}catch(y){}var m={collName:i,wfs:p,isSystem:!1,collType:s,shards:c,shardKeys:d};""!==u&&(m.smartJoinAttribute=u),m.distributeShardsLike=h,""===h&&window.App.isCluster&&(m.replicationFactor="satellite"===r?r:Number(r),m.writeConcern=Number(o)),g||(this.collection.newCollection(m,f),window.modalView.hide(),arangoHelper.arangoNotification("Collection",'Collection "'+i+'" will be created.'))}}.bind(this);window.isCoordinator(t)},createNewCollectionModal:function(){var e=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/database/current"),contentType:"application/json",processData:!1,success:function(t){e.createNewCollectionModalReal(t.result)},error:function(){arangoHelper.arangoError("Engine","Could not fetch default collection properties.")}})},createNewCollectionModalReal:function(e){var t=function(t,n){if(t)arangoHelper.arangoError("DB","Could not check coordinator state");else{var i=[],a=[],r={},o=[];if(a.push(window.modalView.createTextEntry("new-collection-name","Name","",!1,"",!0,[{rule:Joi.string().regex(/^[a-zA-Z]/),msg:"Collection name must always start with a letter."},{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only symbols, "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No collection name given."}])),a.push(window.modalView.createSelectEntry("new-collection-type","Type","","The type of the collection to create.",[{value:2,label:"Document"},{value:3,label:"Edge"}])),n)if("single"!==e.sharding&&!frontendConfig.forceOneShard?a.push(window.modalView.createTextEntry("new-collection-shards","Number of shards",1===this.maxNumberOfShards?String(this.maxNumberOfShards):0,"The number of shards to create. The maximum value is "+this.maxNumberOfShards+". You cannot change this afterwards.","",!0)):a.push(window.modalView.createReadOnlyEntry("new-collection-shards-readonly","Number of shards",1===this.maxNumberOfShards?String(this.maxNumberOfShards):1,"")),a.push(window.modalView.createSelect2Entry("new-collection-shardKeys","Shard keys","","The keys used to distribute documents on shards. Type the key and press return to add it.","_key",!1)),window.App.isCluster){var s=this.minReplicationFactor?this.minReplicationFactor:1,l=this.maxReplicationFactor?this.maxReplicationFactor:10,c="";e.replicationFactor&&((c=parseInt(e.replicationFactor))<s&&(c=s),c>l&&(c=l)),a.push(window.modalView.createTextEntry("new-replication-factor","Replication factor",String(c),"Numeric value. Must be between "+s+" and "+l+". Total number of copies of the data in the cluster","",!1,[{rule:Joi.string().allow("").optional().regex(/^[1-9][0-9]*$/),msg:"Must be a number between "+s+" and "+l+"."}]))}if(i.push(window.modalView.createSuccessButton("Save",this.submitCreateCollection.bind(this))),window.App.isCluster&&(frontendConfig.isEnterprise&&("single"===e.sharding||frontendConfig.forceOneShard||o.push(window.modalView.createTextEntry("distribute-shards-like","Distribute shards like","","Name of another collection that should be used as a prototype for sharding this collection.","",!1,[])),o.push(window.modalView.createSelectEntry("is-satellite-collection","SatelliteCollection","","Create SatelliteCollection? This will disable replication factor.",[{value:!1,label:"No"},{value:!0,label:"Yes"}])),o.push(window.modalView.createTextEntry("smart-join-attribute","SmartJoin attribute","","String attribute name. Can be left empty if SmartJoins are not used.","",!1,[]))),o.push(window.modalView.createTextEntry("new-write-concern","Write concern",e.writeConcern?e.writeConcern:"","Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[1-9]*$/),msg:"Must be a number. Must be at least 1 and has to be smaller or equal compared to the replicationFactor."}]))),o.push(window.modalView.createSelectEntry("new-collection-sync","Wait for sync","","Synchronize to disk before returning from a create or update of a document.",[{value:!1,label:"No"},{value:!0,label:"Yes"}])),r.header="Advanced",r.content=o,window.modalView.show("modalTable.ejs","New Collection",i,a,r),$("#s2id_new-collection-shardKeys .select2-search-field input").on("focusout",(function(e){$(".select2-drop").is(":visible")&&($("#select2-search-field input").is(":focus")||window.setTimeout((function(){$(e.currentTarget).parent().parent().parent().select2("close")}),200))})),window.App.isCluster&&frontendConfig.isEnterprise){var d=["#new-replication-factor","#new-write-concern","#new-collection-shards","#smart-join-attribute"];$("#is-satellite-collection").on("change",(function(e){"true"===$("#is-satellite-collection").val()?(_.each(d,(function(e){$(e).prop("disabled",!0)})),$("#s2id_new-collection-shardKeys").select2("disable")):(_.each(d,(function(e){$(e).prop("disabled",!1)})),$("#s2id_new-collection-shardKeys").select2("enable")),_.each(d,(function(e){$(e).val("").focus().focusout()}))}))}}}.bind(this);window.isCoordinator(t)}})}()},function(e,t){!function(){"use strict";function e(e,t){return void 0!==e&&null!==e||(e=0),e.toFixed(t)}window.DashboardView=Backbone.View.extend({el:"#content",interval:1e4,defaultTimeFrame:12e5,reRender:!0,reRenderDistribution:!0,isVisible:!0,distributionCharts:{totalTimeDistribution:null,dataTransferDistribution:null},residentChart:null,history:{},graphs:{},events:{"click .subViewNavbar .subMenuEntry":"toggleViews"},tendencies:{asyncPerSecondCurrent:["asyncPerSecondCurrent","asyncPerSecondPercentChange"],syncPerSecondCurrent:["syncPerSecondCurrent","syncPerSecondPercentChange"],clientConnectionsCurrent:["clientConnectionsCurrent","clientConnectionsPercentChange"],clientConnectionsAverage:["clientConnections15M","clientConnections15MPercentChange"],numberOfThreadsCurrent:["numberOfThreadsCurrent","numberOfThreadsPercentChange"],numberOfThreadsAverage:["numberOfThreads15M","numberOfThreads15MPercentChange"],virtualSizeCurrent:["virtualSizeCurrent","virtualSizePercentChange"],virtualSizeAverage:["virtualSize15M","virtualSize15MPercentChange"]},barCharts:{totalTimeDistribution:["queueTimeDistributionPercent","requestTimeDistributionPercent"],dataTransferDistribution:["bytesSentDistributionPercent","bytesReceivedDistributionPercent"]},barChartsElementNames:{queueTimeDistributionPercent:"Queue",requestTimeDistributionPercent:"Computation",bytesSentDistributionPercent:"Bytes sent",bytesReceivedDistributionPercent:"Bytes received"},getDetailFigure:function(e){return $(e.currentTarget).attr("id").replace(/ChartButton/g,"")},hidden:function(){this.detailGraph.destroy(),delete this.detailGraph,delete this.detailGraphFigure},getCurrentSize:function(e){return"#"!==e.substr(0,1)&&(e="#"+e),$(e).attr("style",""),{height:$(e).height(),width:$(e).width()}},prepareDygraphs:function(){var e,t=this;this.dygraphConfig.getDashBoardFigures().forEach((function(n){e=t.dygraphConfig.getDefaultConfig(n);var i=t.getCurrentSize(e.div);e.height=i.height,e.width=i.width,t.graphs[n]=new Dygraph(document.getElementById(e.div),t.history[t.server][n]||[],e)}))},initialize:function(e){this.options=e,this.dygraphConfig=e.dygraphConfig,this.d3NotInitialized=!0,this.events["mousedown .dygraph-rangesel-zoomhandle"]=this.stopUpdating.bind(this),this.events["mouseup .dygraph-rangesel-zoomhandle"]=this.startUpdating.bind(this),void 0===e.serverToShow&&(e.serverToShow={}),void 0===e.serverToShow.target&&0===window.location.hash.indexOf("#node/")&&(e.serverToShow.target=window.location.hash.split("/")[1]),this.serverInfo=e.serverToShow,this.serverInfo?this.server=this.serverInfo.target:this.server="-local-",this.history[this.server]={}},toggleViews:function(e){var t=this,n=e.currentTarget.id.split("-")[0],i=["requests","system","metrics"];if(frontendConfig.isCluster&&i.push("logs"),_.each(i,(function(e){n!==e?$("#"+e).hide():($("#"+e).show(),t.resize(),$(window).resize())})),$(".subMenuEntries").children().removeClass("active"),$("#"+n+"-statistics").addClass("active"),"logs"===n&&frontendConfig.isCluster){var a=this.serverInfo.target,r=new window.ArangoLogs({upto:!0,loglevel:4,endpoint:a});this.currentLogView=new window.LoggerView({collection:r,endpoint:a,contentDiv:"#nodeLogContentView"}),this.currentLogView.render(!0)}else if("metrics"===n&&frontendConfig.metricsEnabled){var o,s=this.serverInfo.target;frontendConfig.isCluster?(o=new window.ArangoMetrics({endpoint:s}),this.currentMetricsView=new window.MetricsView({collection:o,endpoint:s,contentDiv:"#nodeMetricsContentView"})):(o=new window.ArangoMetrics({}),this.currentMetricsView=new window.MetricsView({collection:o,contentDiv:"#nodeMetricsContentView"})),this.currentMetricsView.render()}window.setTimeout((function(){t.resize(),$(window).resize()}),200)},updateCharts:function(){var e=this;this.detailGraph?this.updateLineChart(this.detailGraphFigure,!0):(this.prepareD3Charts(this.isUpdating),this.prepareResidentSize(this.isUpdating),this.updateTendencies(),Object.keys(this.graphs).forEach((function(t){e.updateLineChart(t,!1)})))},updateTendencies:function(){var e=this,t=this.tendencies,n="";Object.keys(t).forEach((function(t){var i="",a=0;e.history.hasOwnProperty(e.server)&&e.history[e.server].hasOwnProperty(t)&&(a=e.history[e.server][t][1]),a<0?n="#d05448":(n="#77DB99",i="+"),e.history.hasOwnProperty(e.server)&&e.history[e.server].hasOwnProperty(t)?$("#"+t).html(e.history[e.server][t][0]+'<br/><span class="dashboard-figurePer" style="color: '+n+';">'+i+a+"%</span>"):$("#"+t).html('<br/><span class="dashboard-figurePer" style="color: #000;"><p class="dataNotReadyYet">data not ready yet</p></span>')}))},updateDateWindow:function(e,t){var n=(new Date).getTime();return t&&e.dateWindow_?[e.dateWindow_[0],n-e.dateWindow_[1]-5*this.interval>0?e.dateWindow_[1]:n]:[n-this.defaultTimeFrame,n]},updateLineChart:function(e,t){var n=t?this.detailGraph:this.graphs[e],i={file:this.history[this.server][e],dateWindow:this.updateDateWindow(n,t)},a=0,r=[];_.each(i.file,(function(e){var t=e[0].getSeconds()-e[0].getSeconds()%10;i.file[a][0].setSeconds(t),r.push(i.file[a][0]),a++}));for(var o=new Date(Math.max.apply(null,r)),s=new Date(Math.min.apply(null,r)),l=new Date(s.getTime()),c=[],d=[];l<o;)l=new Date(l.setSeconds(l.getSeconds()+10)),d.push(l);_.each(d,(function(e){var t=!1;_.each(i.file,(function(n){Math.floor(e.getTime()/1e3)===Math.floor(n[0].getTime()/1e3)&&(t=!0)})),!1===t&&e<new Date&&c.push(e)})),_.each(c,(function(t){"systemUserTime"!==e&&"requests"!==e&&"pageFaults"!==e&&"dataTransfer"!==e||i.file.push([t,0,0]),"totalTime"===e&&i.file.push([t,0,0,0])})),void 0===i.file?($("#loadingScreen span").text("Statistics not ready yet. Waiting."),"#dashboard"!==window.location.hash&&""!==window.location.hash&&"#"!==window.location.hash||($("#loadingScreen").show(),$("#content").hide())):($("#content").show(),$("#loadingScreen").hide(),i.file.sort((function(e,t){return new Date(t[0])-new Date(e[0])})),n.updateOptions(i)),$(window).trigger("resize"),this.resize()},mergeDygraphHistory:function(e,t){var n,i=this;this.dygraphConfig.getDashBoardFigures(!0).forEach((function(a){if(i.dygraphConfig.mapStatToFigure[a]&&(i.history[i.server][a]||(i.history[i.server][a]=[]),n=[],i.dygraphConfig.mapStatToFigure[a].forEach((function(i){e[i]&&("times"===i?n.push(new Date(1e3*e[i][t])):n.push(e[i][t]))})),n.length>1)){var r=0,o=0;9===n.length&&(r+=n[1],r+=n[6],r+=n[7],r+=n[8],o+=n[2],o+=n[3],o+=n[4],o+=n[5],n=[n[0],r,o]),i.history[i.server][a].unshift(n)}}))},cutOffHistory:function(e,t){for(var n=this.history[this.server][e];0!==n.length&&!(n[n.length-1][0]>=t);)n.pop()},cutOffDygraphHistory:function(e){var t=this,n=new Date(e);this.dygraphConfig.getDashBoardFigures(!0).forEach((function(e){t.dygraphConfig.mapStatToFigure[e]&&t.history[t.server][e]&&t.cutOffHistory(e,n)}))},mergeHistory:function(t){var n,i=this;for(n=0;n<t.times.length;++n)this.mergeDygraphHistory(t,n);this.cutOffDygraphHistory((new Date).getTime()-this.defaultTimeFrame),Object.keys(this.tendencies).forEach((function(n){var a=1;"virtualSizeCurrent"===n||"virtualSizeAverage"===n?(t[i.tendencies[n][0]]/=1073741824,a=2):("clientConnectionsCurrent"===n||"numberOfThreadsCurrent"===n)&&(a=0),i.history[i.server][n]=[e(t[i.tendencies[n][0]],a),e(100*t[i.tendencies[n][1]],1)]})),Object.keys(this.barCharts).forEach((function(e){i.history[i.server][e]=i.mergeBarChartData(i.barCharts[e],t)})),i.history[i.server].physicalMemory=t.physicalMemory,i.history[i.server].residentSizeCurrent=t.residentSizeCurrent,i.history[i.server].residentSizePercent=t.residentSizePercent,i.history[i.server].residentSizeChart=[{key:"",color:this.dygraphConfig.colors[1],values:[{label:"used",value:parseFloat((100*t.residentSizePercent).toFixed(2))}]},{key:"",color:this.dygraphConfig.colors[2],values:[{label:"used",value:parseFloat((100-100*t.residentSizePercent).toFixed(2))}]}],this.nextStart=t.nextStart},mergeBarChartData:function(e,t){var n,i={key:this.barChartsElementNames[e[0]],color:this.dygraphConfig.colors[1],values:[]},a={key:this.barChartsElementNames[e[1]],color:this.dygraphConfig.colors[2],values:[]};for(n=t[e[0]].values.length-1;n>=0;--n)i.values.push({label:this.getLabel(t[e[0]].cuts,n),value:t[e[0]].values[n]}),a.values.push({label:this.getLabel(t[e[1]].cuts,n),value:t[e[1]].values[n]});return[i,a]},getLabel:function(e,t){return e[t]?0===t?"0 - "+e[t]:e[t-1]+" - "+e[t]:">"+e[t-1]},checkState:function(){"#dashboard"===window.location.hash||"#node"===window.location.hash.substr(0,5)?this.isVisible=!0:(this.residentChart=null,this.isVisible=!1,this.reRender=!0,this.reRenderDistribution=!1)},renderStatisticBox:function(e,t,n,i){var a=e.replaceAll(" ","");if($("#node-info #nodeattribute-"+e).length)$("#node-info #nodeattribute-"+e).html(t);else{var r="";r+=6===i?'<div class="pure-u-1-2 pure-u-md-1-3 pure-u-lg-1-6" style="background-color: #fff">':'<div class="pure-u-1-2 pure-u-md-1-4" style="background-color: #fff">',r+='<div class="valueWrapper">',r+=n?'<div id="nodeattribute-'+a+'" class="value tippy" title="'+n+'">'+t+"</div>":'<div id="nodeattribute-'+a+'" class="value">'+t+"</div>",r+='<div class="graphLabel">'+e+"</div>",r+="</div>",r+="</div>",$("#node-info").append(r)}},fetchMetricsNodeBased:function(e){var t=this,n=this.serverInfo.target,i=new window.ArangoMetrics({endpoint:n});i.fetch({success:function(n){!function(n){_.each(e,(function(e){var i=n.findWhere({name:e.name});i&&(e.type?"bytes"===e.type?t.renderStatisticBox(e.shortName,prettyBytes(parseInt(i.get("metrics")[0].value)),i.get("info"),6):"percent"===e.type?t.renderStatisticBox(e.shortName,parseFloat(i.get("metrics")[0].value).toFixed(2)+" %",i.get("info"),6):"ms"===e.type&&t.renderStatisticBox(e.shortName,parseInt(i.get("metrics")[0].value)+" ms",i.get("info"),6):t.renderStatisticBox(e.shortName,i.get("metrics")[0].value,i.get("info"),6))})),arangoHelper.createTooltips()}(n)}})},fetchAdditionalDBStatistics:function(){this.fetchMetricsNodeBased([{name:"arangodb_scheduler_low_prio_queue_last_dequeue_time",shortName:"lowprio queue dequeue time",type:"ms"},{name:"arangodb_scheduler_queue_length",shortName:"scheduler queue length"},{name:"arangodb_server_statistics_cpu_cores",shortName:"number of cpu cores"},{name:"arangodb_server_statistics_user_percent",shortName:"user cpu time",type:"percent"},{name:"arangodb_server_statistics_system_percent",shortName:"system cpu time",type:"percent"},{name:"arangodb_server_statistics_idle_percent",shortName:"idle cpu time",type:"percent"},{name:"arangodb_server_statistics_iowait_percent",shortName:"iowait cpu time",type:"percent"},{name:"rocksdb_free_disk_space",shortName:"database directory free disk space",type:"bytes"},{name:"rocksdb_total_disk_space",shortName:"database directory total disk space",type:"bytes"}])},getNodeInfo:function(){var e=this;frontendConfig.isCluster?(this.serverInfo.isDBServer?this.renderStatisticBox("Role","DBServer",void 0,6):this.renderStatisticBox("Role","Coordinator",void 0,6),this.renderStatisticBox("Host",this.serverInfo.raw,this.serverInfo.raw,6),$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/nodeVersion?ServerID="+encodeURIComponent(this.serverInfo.target)),contentType:"application/json",processData:!1,success:function(t){e.renderStatisticBox("Version",frontendConfig.version.version,void 0,6),e.renderStatisticBox("Edition",frontendConfig.version.license,void 0,6)},error:function(t){e.renderStatisticBox("Version","Error"),e.renderStatisticBox("Edition","Error")}}),$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/nodeEngine?ServerID="+encodeURIComponent(this.serverInfo.target)),contentType:"application/json",processData:!1,success:function(t){e.renderStatisticBox("Engine",t.name,void 0,6)},error:function(t){e.renderStatisticBox("Engine","Error",void 0,6)}}),$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/nodeStatistics?ServerID="+encodeURIComponent(this.serverInfo.target)),contentType:"application/json",processData:!1,success:function(t){e.renderStatisticBox("Uptime",moment.duration(t.server.uptime,"seconds").humanize(),void 0,6)},error:function(t){e.renderStatisticBox("Uptime","Error",void 0,6)}}),this.serverInfo.isDBServer&&frontendConfig.metricsEnabled&&this.fetchAdditionalDBStatistics()):(this.renderStatisticBox("Version",frontendConfig.version.version),this.renderStatisticBox("Edition",frontendConfig.version.license),this.renderStatisticBox("Engine",frontendConfig.engine),$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/statistics"),contentType:"application/json",processData:!1,success:function(t){e.renderStatisticBox("Uptime",moment.duration(t.server.uptime,"seconds").humanize())},error:function(){e.renderStatisticBox("Uptime","N/A")}})),arangoHelper.createTooltips()},getStatistics:function(e,t){var n=this;n.checkState();var i=arangoHelper.databaseUrl("/_admin/aardvark/statistics/short","_system"),a="?start=";n.nextStart?("number"===typeof n.nextStart&&(n.nextStart=Number.parseInt(n.nextStart)),a+=n.nextStart):a+=Number.parseInt(((new Date).getTime()-n.defaultTimeFrame)/1e3),"-local-"!==n.server&&(n.serverInfo.target&&(a+="&DBserver="+encodeURIComponent(n.serverInfo.target)),n.history.hasOwnProperty(n.server)||(n.history[n.server]={})),$.ajax({url:i+a,xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,success:function(i){i.times.length>0&&(n.isUpdating=!0,n.mergeHistory(i)),!1!==n.isUpdating&&(e&&e(i.enabled,t),n.updateCharts())},error:function(e){arangoHelper.arangoError("Statistics","stat fetch req error:"+JSON.stringify(e))}})},addEmptyDataLabels:function(){0===$(".dataNotReadyYet").length&&($("#dataTransferDistribution").prepend('<p class="dataNotReadyYet"> data not ready yet </p>'),$("#totalTimeDistribution").prepend('<p class="dataNotReadyYet"> data not ready yet </p>'),$(".dashboard-bar-chart-title").append('<p class="dataNotReadyYet"> data not ready yet </p>'))},removeEmptyDataLabels:function(){$(".dataNotReadyYet").remove()},prepareResidentSize:function(t){var n=this,i=this.getCurrentSize("#residentSizeChartContainer"),a=n.history[n.server].residentSizeCurrent/1024/1024,r="";r=a<1025?e(a,2)+" MB":e(a/1024,2)+" GB";var o,s=e(100*n.history[n.server].residentSizePercent,2);if(n.history[n.server].physicalMemory)if(this.removeEmptyDataLabels(),o=[prettyBytes(n.history[n.server].physicalMemory)],void 0!==n.history[n.server].residentSizeChart)if(this.removeEmptyDataLabels(),n.reRender&&n.isVisible){var l={top:($("#residentSizeChartContainer").outerHeight()-$("#residentSizeChartContainer").height())/2,right:1,bottom:($("#residentSizeChartContainer").outerHeight()-$("#residentSizeChartContainer").height())/2,left:1};Number.isNaN(l.top)&&(l.top=1),Number.isNaN(l.bottom)&&(l.bottom=1),nv.addGraph((function(){return n.residentChart=nv.models.multiBarHorizontalChart().x((function(e){return e.label})).y((function(e){return e.value})).width(i.width).height(i.height).margin(l).showValues(!1).showYAxis(!1).showXAxis(!1).showLegend(!1).showControls(!1).stacked(!0),n.residentChart.yAxis.tickFormat((function(e){return e+"%"})).showMaxMin(!1),n.residentChart.xAxis.tickFormat((function(){return""})).showMaxMin(!1),d3.select("#residentSizeChart svg").datum(n.history[n.server].residentSizeChart).call(n.residentChart),d3.select("#residentSizeChart svg").select(".nv-zeroLine").remove(),t&&(d3.select("#residentSizeChart svg").select("#total").remove(),d3.select("#residentSizeChart svg").select("#percentage").remove()),d3.select(".dashboard-bar-chart-title .percentage").html(r+" ("+s+" %)"),d3.select(".dashboard-bar-chart-title .absolut").html(o[0]),nv.utils.windowResize(n.residentChart.update),n.residentChart}),(function(){d3.selectAll("#residentSizeChart .nv-bar").on("click",(function(){}))})),n.reRender=!1}else n.residentChart&&n.isVisible&&(n.residentChart.width(i.width),n.residentChart.height(i.height),d3.select(".dashboard-bar-chart-title .percentage").html(r+" ("+s+" %)"),d3.select(".dashboard-bar-chart-title .absolut").html(o[0]),d3.select("#residentSizeChart svg").datum(n.history[n.server].residentSizeChart).call(n.residentChart),nv.utils.windowResize(n.residentChart.update));else this.addEmptyDataLabels();else this.addEmptyDataLabels()},prepareD3Charts:function(t){var n=this;this.d3NotInitialized&&(!1,this.d3NotInitialized=!1),_.each(Object.keys({totalTimeDistribution:["queueTimeDistributionPercent","requestTimeDistributionPercent"],dataTransferDistribution:["bytesSentDistributionPercent","bytesReceivedDistributionPercent"]}),(function(t){var i=n.getCurrentSize("#"+t+"Container .dashboard-interior-chart"),a="#"+t+"Container svg";void 0===n.history[n.server].residentSizeChart?n.addEmptyDataLabels():n.removeEmptyDataLabels(),n.reRenderDistribution&&n.isVisible?($("#"+t+"Container").append('<div class="dashboard-legend-inner"><span style="color: rgb(238, 190, 77);"><div style="display: inline-block; position: relative; bottom: .5ex; padding-left: 1em; height: 1px; border-bottom: 2px solid rgb(238, 190, 77);"></div> Bytes sent</span><span style="color: rgb(142, 209, 220);"><div style="display: inline-block; position: relative; bottom: .5ex; padding-left: 1em; height: 1px; border-bottom: 2px solid rgb(142, 209, 220);"></div> Bytes received</span></div>'),nv.addGraph((function(){var r=[0,.25,.5,.75,1],o=75,s=23,l=6;return i.width<219?(r=[0,.5,1],o=72,s=21,l=5):i.width<299?(r=[0,.3334,.6667,1],o=77):i.width<379?o=87:i.width<459?o=95:i.width<539?o=100:i.width<619&&(o=105),n.distributionCharts[t]=nv.models.multiBarHorizontalChart().x((function(e){return e.label})).y((function(e){return e.value})).width(i.width).height(i.height).margin({top:5,right:20,bottom:s,left:o}).showValues(!1).showYAxis(!0).showXAxis(!0).showLegend(!1).showControls(!1).forceY([0,1]),n.distributionCharts[t].yAxis.showMaxMin(!1),d3.select(".nv-y.nv-axis").selectAll("text").attr("transform","translate (0, "+l+")"),n.distributionCharts[t].yAxis.tickValues(r).tickFormat((function(t){return e(100*t*100/100,0)+"%"})),n.history[n.server][t]?d3.select(a).datum(n.history[n.server][t]).call(n.distributionCharts[t]):d3.select(a).datum([]).call(n.distributionCharts[t]),nv.utils.windowResize(n.distributionCharts[t].update),n.distributionCharts[t]}),(function(){d3.selectAll(a+" .nv-bar").on("click",(function(){}))}))):n.distributionCharts[t]&&n.isVisible&&(n.distributionCharts[t].width(i.width),n.distributionCharts[t].height(i.height),n.history[n.server][t]?d3.select(a).datum(n.history[n.server][t]).call(n.distributionCharts[t]):d3.select(a).datum([]).call(n.distributionCharts[t]),nv.utils.windowResize(n.distributionCharts[t].update))})),n.reRenderDistribution&&n.isVisible&&(n.reRenderDistribution=!1)},stopUpdating:function(){this.isUpdating=!1},startUpdating:function(){var e=this;e.timer||(e.timer=window.setInterval((function(){window.App.isCluster?window.location.hash.indexOf(e.serverInfo.target)>-1&&e.getStatistics():e.getStatistics()}),e.interval))},clearInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.timer&&clearInterval(this.timer)})),resize:function(){if(this.isUpdating){var e,t=this;_.each(this.graphs,(function(n){e=t.getCurrentSize(n.maindiv_.id),n.resize(e.width,e.height)})),this.detailGraph&&(e=this.getCurrentSize(this.detailGraph.maindiv_.id),this.detailGraph.resize(e.width,e.height)),this.prepareD3Charts(!0),this.prepareResidentSize(!0)}},template:templateEngine.createTemplate("dashboardView.ejs"),checkEnabledStatistics:function(){return!(!frontendConfig.statisticsEnabled||"_system"!==frontendConfig.db)||($(this.el).html(""),this.server?$(this.el).append('<div style="color: red">Server statistics ('+this.server+") are disabled.</div>"):$(this.el).append('<div style="color: red">Server statistics are disabled.</div>'),!1)},render:function(e){if(this.checkEnabledStatistics())if(void 0===this.serverInfo&&(this.serverInfo={isDBServer:!1}),!0!==this.serverInfo.isDBServer){this.delegateEvents(this.events);var t=function(e,t){t||($(this.el).html(this.template.render({hideStatistics:!1,isCluster:frontendConfig.isCluster})),this.getNodeInfo()),this.prepareDygraphs(),this.isUpdating&&(this.prepareD3Charts(),this.prepareResidentSize(),this.updateTendencies(),$(window).trigger("resize")),this.startUpdating(),$(window).resize()}.bind(this),n=function(){$(this.el).html(""),$(".contentDiv").remove(),$(".headerBar").remove(),$(".dashboard-headerbar").remove(),$(".dashboard-row").remove(),$(this.el).append('<div style="color: red">You do not have permission to view this page.</div>'),$(this.el).append("<div style=\"color: red\">You can switch to '_system' to see the dashboard.</div>")}.bind(this);if("_system"!==frontendConfig.db)return void n();var i=function(i,a){i||(a?this.getStatistics(t,e):n())}.bind(this);void 0===window.App.currentDB.get("name")?window.setTimeout(function(){"_system"===window.App.currentDB.get("name")?this.options.database.hasSystemAccess(i):n()}.bind(this),300):this.options.database.hasSystemAccess(i)}else $(this.el).html(this.template.render({hideStatistics:!0,isCluster:frontendConfig.isCluster})),frontendConfig.isCluster?$("#system-statistics").remove():$("#subNavigationBar .breadcrumb").html(""),this.getNodeInfo()}})}()},function(e,t){!function(){"use strict";window.DatabaseView=Backbone.View.extend({users:null,el:"#content",readOnly:!1,template:templateEngine.createTemplate("databaseView.ejs"),dropdownVisible:!1,currentDB:"",events:{"click #createDatabase":"createDatabase","click #submitCreateDatabase":"submitCreateDatabase","click .editDatabase":"editDatabase","click #userManagementView .icon":"editDatabase","click #selectDatabase":"updateDatabase","click #submitDeleteDatabase":"submitDeleteDatabase","click .contentRowInactive a":"changeDatabase","keyup #databaseSearchInput":"search","click #databaseSearchSubmit":"search","click #databaseToggle":"toggleSettingsDropdown","click .css-label":"checkBoxes","click #dbSortDesc":"sorting"},sorting:function(){$("#dbSortDesc").is(":checked")?this.collection.setSortingDesc(!0):this.collection.setSortingDesc(!1),this.checkVisibility(),this.render()},initialize:function(){this.collection.fetch({async:!0,cache:!1})},checkBoxes:function(e){var t=e.currentTarget.id;$("#"+t).click()},setReadOnly:function(){$("#createDatabase").parent().parent().addClass("disabled")},render:function(){arangoHelper.checkDatabasePermissions(this.continueRender.bind(this),this.continueRender.bind(this))},continueRender:function(e){var t=this;e&&(this.readOnly=e);return this.collection.getCurrentDatabase((function(n,i){n?arangoHelper.arangoError("DB","Could not get current database properties"):(t.currentDB=i,t.collection.fetch({cache:!1,success:function(){t.collection.sort(),$(t.el).html(t.template.render({collection:t.collection,searchString:"",currentDB:t.currentDB,readOnly:e})),e&&t.setReadOnly(),!0===t.dropdownVisible&&($("#dbSortDesc").attr("checked",t.collection.sortOptions.desc),$("#databaseToggle").addClass("activated"),$("#databaseDropdown2").show()),arangoHelper.setCheckboxStatus("#databaseDropdown"),t.replaceSVGs()}}))})),this},checkVisibility:function(){$("#databaseDropdown").is(":visible")?this.dropdownVisible=!0:this.dropdownVisible=!1,arangoHelper.setCheckboxStatus("#databaseDropdown")},toggleSettingsDropdown:function(){var e=this;$("#dbSortDesc").attr("checked",this.collection.sortOptions.desc),$("#databaseToggle").toggleClass("activated"),$("#databaseDropdown2").slideToggle(200,(function(){e.checkVisibility()}))},selectedDatabase:function(){return $("#selectDatabases").val()},handleError:function(e,t){409===e.status?arangoHelper.arangoError("DB","Database "+_.escape(t)+" already exists."):400===e.status?arangoHelper.arangoError("DB","Invalid Parameters: "+_.escape(e.responseJSON.errorMessage)):403===e.status&&arangoHelper.arangoError("DB","Insufficient rights. Execute this from _system database")},createDatabase:function(e){e.preventDefault(),$("#createDatabase").parent().parent().hasClass("disabled")||this.createAddDatabaseModal()},switchDatabase:function(e){if(!$(e.target).parent().hasClass("iconSet")){var t=$(e.currentTarget).find("h5").text();if(""!==t){var n=this.collection.createDatabaseURL(t);window.location.replace(n)}}},submitCreateDatabase:function(){var e=this,t=String($("#newDatabaseName").val()).trim();try{t=t.normalize("NFC")}catch(s){}var n=$("#newUser").val(),i=$("#newSharding").val();frontendConfig.forceOneShard&&(i="single");var a=$("#new-replication-factor").val(),r=$("#new-write-concern").val(),o={name:t,options:{sharding:i,replicationFactor:Number(a),writeConcern:Number(r)},users:[{username:n}]};this.collection.create(o,{error:function(n,i){e.handleError(i,t)},success:function(t){"#databases"===window.location.hash&&e.updateDatabases(),arangoHelper.arangoNotification("Database "+_.escape(t.get("name"))+" created.")}}),arangoHelper.arangoNotification("Database creation in progress."),window.modalView.hide()},submitDeleteDatabase:function(e){this.collection.where({name:e})[0].destroy({wait:!0,url:arangoHelper.databaseUrl("/_api/database/"+encodeURIComponent(e))}),this.updateDatabases(),window.App.naviView.dbSelectionView.render($("#dbSelect")),window.modalView.hide()},changeDatabase:function(e){var t=$(e.currentTarget).attr("id"),n=this.collection.createDatabaseURL(t);window.location.replace(n)},updateDatabases:function(){var e=this;this.collection.fetch({cache:!1,success:function(){e.render(),window.App.handleSelectDatabase()}})},editDatabase:function(e){var t=this.evaluateDatabaseName($(e.currentTarget).attr("id"),"_edit-database"),n=!0;t===this.currentDB&&(n=!1),this.createEditDatabaseModal(t,n)},search:function(){var e,t,n,i;e=$("#databaseSearchInput"),t=arangoHelper.escapeHtml($("#databaseSearchInput").val()),i=this.collection.filter((function(e){return-1!==e.get("name").indexOf(t)})),$(this.el).html(this.template.render({collection:i,searchString:t,currentDB:this.currentDB,readOnly:this.readOnly})),this.replaceSVGs(),n=(e=$("#databaseSearchInput")).val().length,e.focus(),e[0].setSelectionRange(n,n)},replaceSVGs:function(){$(".svgToReplace").each((function(){var e=$(this),t=e.attr("id"),n=e.attr("src");$.get(n,(function(n){var i=$(n).find("svg");i.attr("id",t).attr("class","tile-icon-svg").removeAttr("xmlns:a"),e.replaceWith(i)}),"xml")}))},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},evaluateDatabaseName:function(e,t){var n=e.lastIndexOf(t);return e.substring(0,n)},createEditDatabaseModal:function(e,t){var n=[],i=[];i.push(window.modalView.createReadOnlyEntry("id_name","Name",_.escape(e),"")),t?n.push(window.modalView.createDeleteButton("Delete",this.submitDeleteDatabase.bind(this,e))):n.push(window.modalView.createDisabledButton("Delete")),window.modalView.show("modalTable.ejs","Delete database",n,i)},createAddDatabaseModal:function(){var e=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/server/databaseDefaults"),contentType:"application/json",processData:!1,success:function(t){e.createAddDatabaseModalReal(t)},error:function(){arangoHelper.arangoError("Engine","Could not fetch ArangoDB database defaults.")}})},createAddDatabaseModalReal:function(e){var t=e,n=[],i=[];if(i.push(window.modalView.createTextEntry("newDatabaseName","Name","",!1,"Database Name",!0,[{rule:Joi.string().required(),msg:"No database name given."}])),window.App.isCluster&&(i.push(window.modalView.createTextEntry("new-replication-factor","Replication factor",t.replicationFactor,"Numeric value. Must be at least 1. Total number of copies of the data in the cluster","Default replication factor",!1,[{rule:Joi.string().allow("").optional().regex(/^([1-9]|10)$/),msg:"Must be a number between 1 and 10."}])),i.push(window.modalView.createTextEntry("new-write-concern","Write concern",t.writeConcern,"Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created.","Default write concern",!1,[{rule:Joi.string().allow("").optional().regex(/^([1-9]|10)$/),msg:"Must be a number between 1 and 10. Has to be smaller or equal compared to the replicationFactor."}]))),window.App.isCluster&&frontendConfig.isEnterprise&&!frontendConfig.forceOneShard){i.push(window.modalView.createSelectEntry("newSharding","Sharding","flexible","Selects the default sharding setup for new collections in this database.\n*Sharded* means that collections can have any number of shards, and that shards will be randomly distributed to database servers.\n*OneShard* means that all collections in the database will have only have a single but are all distributed to the same database server. This enables performance optimizations, e.g. pushing down entire queries to database servers. Use *OneShard* when it is known that the dataset fits on a single instance, and *Sharded* for larger datasets.",[{value:"",label:"Sharded"},{value:"single",label:"OneShard"}]))}var a=[];window.App.userCollection.each((function(e){a.push({value:e.get("user"),label:e.get("user")})})),i.push(window.modalView.createSelectEntry("newUser","Username",null!==this.users?this.users.whoAmI():"root","Please define the owner of this database. This will be the only user having initial access to this database if authentication is turned on. Please note that if you specify a username different to your account you will not be able to access the database with your account after having creating it. Specifying a username is mandatory even with authentication turned off. If there is a failure you will be informed.",a)),n.push(window.modalView.createSuccessButton("Create",this.submitCreateDatabase.bind(this))),window.modalView.show("modalTable.ejs","Create Database",n,i),$("#useDefaultPassword").change((function(){"true"===$("#useDefaultPassword").val()?$("#row_newPassword").hide():$("#row_newPassword").show()})),$("#row_newPassword").hide()}})}()},function(e,t){!function(){"use strict";window.DBSelectionView=Backbone.View.extend({template:templateEngine.createTemplate("dbSelectionView.ejs"),events:{"click .dbSelectionLink":"changeDatabase"},initialize:function(e){this.current=e.current},changeDatabase:function(e){var t=$(e.currentTarget).closest(".dbSelectionLink.tab").attr("id"),n=this.collection.createDatabaseURL(t);window.location.replace(n)},render:function(e){var t=function(t,n){t?arangoHelper.arangoError("DB","Could not fetch databases"):(this.$el=e,this.$el.html(this.template.render({list:n,current:this.current.get("name")})),this.delegateEvents())}.bind(this);return this.collection.getDatabasesForUser(t),this.el}})}()},function(e,t){!function(){"use strict";var e=function(e){var t=e.split("/");return"collection/"+encodeURIComponent(t[0])+"/"+encodeURIComponent(t[1])};window.DocumentView=Backbone.View.extend({el:"#content",readOnly:!1,colid:0,docid:0,customView:!1,defaultMode:"tree",editFromActive:!1,editToActive:!1,template:templateEngine.createTemplate("documentView.ejs"),events:{"click #saveDocumentButton":"saveDocument","click #deleteDocumentButton":"deleteDocumentModal","click #confirmDeleteDocument":"deleteDocument","click #document-from":"navigateToDocument","click #document-to":"navigateToDocument","click #edit-from .fa-edit":"editFrom","click #edit-from .fa-check":"applyFrom","click #edit-from .fa-times":"abortFrom","click #edit-to .fa-edit":"editTo","click #edit-to .fa-check":"applyTo","click #edit-to .fa-times":"abortTo","keydown #documentEditor .ace_editor":"keyPress","keyup .jsoneditor .search input":"checkSearchBox","click #addDocument":"addDocument"},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},checkSearchBox:function(e){""===$(e.currentTarget).val()&&this.editor.expandAll()},initialize:function(){var e=localStorage.getItem("JSONEditorMode");e&&(this.defaultMode=e)},addDocument:function(e){this.readOnly||window.App.documentsView.addDocumentModal(e)},storeMode:function(e){localStorage.setItem("JSONEditorMode",e),this.defaultMode=e,this.editor.setMode(this.defaultMode)},keyPress:function(e){(e.ctrlKey&&13===e.keyCode||e.metaKey&&13===e.keyCode)&&(e.preventDefault(),this.saveDocument())},editor:0,setType:function(){var e=this,t=function(t,n,i){t?e.renderNotFound(i):(this.type=i,this.breadcrumb(),this.fillInfo(),this.fillEditor(),arangoHelper.checkCollectionPermissions(this.colid,this.changeViewToReadOnly.bind(this)))}.bind(this);this.collection.getDocument(this.colid,this.docid,t)},renderNotFound:function(e,t){var n="Document not found",i="ID";t&&(n="Collection not found",i="name"),$(".document-info-div").remove(),$(".headerButton").remove(),$(".document-content-div").html('<div class="infoBox errorBox"><h4>Error</h4><p>'+n+". Requested "+i+' was: "'+arangoHelper.escapeHtml(e)+'".</p></div>')},deleteDocumentModal:function(){if(!this.readOnly){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry("doc-delete-button","Confirm delete, document id is",this.type._id||this.docid,void 0,void 0,!1,/[<>&'"]/)),e.push(window.modalView.createDeleteButton("Delete",this.deleteDocument.bind(this))),window.modalView.show("modalTable.ejs","Delete Document",e,t)}},deleteDocument:function(){var e=function(){if(this.customView)this.customDeleteFunction&&this.customDeleteFunction();else{var e="collection/"+encodeURIComponent(this.colid)+"/documents/1";window.modalView.hide(),window.App.navigate(e,{trigger:!0})}}.bind(this);if(this.type._from&&this.type._to){this.collection.deleteEdge(this.colid,this.docid,(function(t){t?arangoHelper.arangoError("Edge error","Could not delete edge"):e()}))}else{this.collection.deleteDocument(this.colid,this.docid,(function(t){t?arangoHelper.arangoError("Error","Could not delete document"):e()}))}},navigateToDocument:function(e){if($(e.target).hasClass("unsaved"))this.editFromActive?arangoHelper.arangoWarning("Document","Unsaved _from value found. Save changes first."):arangoHelper.arangoWarning("Document","Unsaved _to value found. Save changes first.");else{var t=$(e.target).attr("documentLink"),n=t.split("/");(t=[n[0],n[1],n[2]].join("/"))&&window.App.navigate(t,{trigger:!0})}},editFrom:function(){this.editEdge("from")},applyFrom:function(){this.applyEdge("from")},abortFrom:function(){this.abortEdge("from")},editTo:function(){this.editEdge("to")},applyTo:function(){this.applyEdge("to")},abortTo:function(){this.abortEdge("to")},setEditMode:function(e,t){"from"===e?this.editFromActive=t:this.editToActive=t},toggleEditIcons:function(e,t){var n="#edit-"+e;t?($(n+" .fa-edit").show(),$(n+" .fa-check").hide(),$(n+" .fa-times").hide()):($(n+" .fa-edit").hide(),$(n+" .fa-check").show(),$(n+" .fa-times").show())},editEdge:function(e){this.setEditMode(e,!0),this.toggleEditIcons(e),this.addEdgeEditInputBox(e),$("#input-edit-"+e).focus()},addEdgeEditInputBox:function(e){var t=this.collection.first(),n=$("#document-"+e).text();n||(n="from"===e?t.get("_from"):t.get("_to")),$("#document-"+e).hide(),$("#document-"+e).after('<input type="text" id="input-edit-'.concat(e,'" value="').concat(arangoHelper.escapeHtml(n),'" placeholder="').concat(arangoHelper.escapeHtml(n),'">'))},applyEdge:function(e){var t=this.collection.first();this.setEditMode(e,!1);var n=$("#input-edit-".concat(e)).val();("from"===e?n!==t.get("_from"):n!==t.get("_to"))&&($("#document-"+e).html(arangoHelper.escapeHtml(n)),$("#document-"+e).addClass("unsaved"),this.enableSaveButton()),this.toggleEditIcons(e,!0),$("#input-edit-".concat(e)).remove(),$("#document-"+e).show()},abortEdge:function(e){this.setEditMode(e,!1),this.toggleEditIcons(e,!0),$("#input-edit-".concat(e)).remove(),$("#document-"+e).show()},fillInfo:function(){var t=this.collection.first(),n=t.get("_id"),i=t.get("_key"),a=t.get("_rev"),r=t.get("_from"),o=t.get("_to");if($("#document-type").css("margin-left","10px"),$("#document-type").text("_id:"),$("#document-id").css("margin-left","0"),$("#document-id").text(n),$("#document-key").text(i),$("#document-rev").text(a),r&&o){var s=e(r),l=e(o);$("#document-from").text(r),$("#document-from").attr("documentLink",s),$("#document-to").text(o),$("#document-to").attr("documentLink",l)}else $(".edge-info-container").hide(),$(".edge-edit-container").hide()},fillEditor:function(){var e=this.removeReadonlyKeys(this.collection.first().attributes);$(".disabledBread").last().text(this.collection.first().get("_key")),this.editor.set(e),$(".ace_content").attr("font-size","11pt")},jsonContentChanged:function(){this.enableSaveButton()},resize:function(){$("#documentEditor").height($(".centralRow").height()-300)},render:function(){$(this.el).html(this.template.render({})),this.resize(),this.disableSaveButton();var e=this,t=document.getElementById("documentEditor"),n={onChange:function(){e.jsonContentChanged()},onModeChange:function(t){e.storeMode(t)},search:!0,mode:"tree",modes:["tree","code"],ace:window.ace};this.editor=new JSONEditor(t,n);var i=localStorage.getItem("JSONEditorMode");return"code"!==i&&"tree"!==i||(this.defaultMode=i),this.defaultMode&&this.editor.setMode(this.defaultMode),this},changeViewToReadOnly:function(){this.readOnly=!0,$(".breadcrumb").find("a").html($(".breadcrumb").find("a").html()+" (read-only)"),this.editor.setMode("view"),$(".jsoneditor-modes").hide(),$(".bottomButtonBar button").addClass("disabled"),$(".bottomButtonBar button").unbind("click"),$("#addDocument").addClass("disabled")},cleanupEditor:function(){this.editor&&this.editor.destroy()},removeReadonlyKeys:function(e){return _.omit(e,["_key","_id","_from","_to","_rev"])},saveDocument:function(){if(void 0===$("#saveDocumentButton").attr("disabled"))if("_"===this.collection.first().attributes._id.substr(0,1)){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry("doc-save-system-button","Caution","You are modifying a system collection. Really continue?",void 0,void 0,!1,/[<>&'"]/)),e.push(window.modalView.createSuccessButton("Save",this.confirmSaveDocument.bind(this))),window.modalView.show("modalTable.ejs","Modify System Collection",e,t)}else this.confirmSaveDocument()},confirmSaveDocument:function(){var t,n=this;window.modalView.hide();try{t=this.editor.get()}catch(s){return this.errorConfirmation(s),void this.disableSaveButton()}if(t=JSON.stringify(t),"edge"===this.type||this.type._from){var i=function(t,i,a){if(t)arangoHelper.arangoError("Error",i.responseJSON.errorMessage);else{if(i[0].error)return void arangoHelper.arangoError("Error",i[0].errorMessage);this.successConfirmation();var r=this.collection.first(),o=i[0].new._from,s=i[0].new._to;r.set("_from",o),r.set("_to",s),$("#document-from").removeClass("unsaved"),$("#document-to").removeClass("unsaved"),$("#document-from").attr("documentlink",e(o)),$("#document-to").attr("documentlink",e(s)),this.disableSaveButton(),n.customView&&n.customSaveFunction&&n.customSaveFunction(i)}}.bind(this),a=$("#document-from").html(),r=$("#document-to").html();this.collection.saveEdge(this.colid,this.docid,a,r,t,i)}else{var o=function(e,t){e||t[0]&&t[0].error?t[0]&&t[0].error?arangoHelper.arangoError("Error",t[0].errorMessage):arangoHelper.arangoError("Error",t.responseJSON.errorMessage):(this.successConfirmation(),this.disableSaveButton(),n.customView&&n.customSaveFunction&&n.customSaveFunction(t))}.bind(this);this.collection.saveDocument(this.colid,this.docid,t,o)}},successConfirmation:function(){arangoHelper.arangoNotification("Document saved.")},errorConfirmation:function(e){arangoHelper.arangoError("Document editor: ",e)},enableSaveButton:function(){$("#saveDocumentButton").prop("disabled",!1),$("#saveDocumentButton").addClass("button-success"),$("#saveDocumentButton").removeClass("button-close")},disableSaveButton:function(){$("#saveDocumentButton").prop("disabled",!0),$("#saveDocumentButton").addClass("button-close"),$("#saveDocumentButton").removeClass("button-success")},breadcrumb:function(){var e=window.location.hash.split("/");$("#subNavigationBar .breadcrumb").html('<a href="#collection/'+e[1]+'/documents/1">Collection: '+_.escape(e[1].length>64?e[1].substr(0,64)+"...":e[1])+'</a><i class="fa fa-chevron-right"></i>'+this.type.charAt(0).toUpperCase()+this.type.slice(1)+": "+_.escape(decodeURIComponent(e[2])))}})}()},function(e,t){!function(){"use strict";window.DocumentsView=window.PaginationView.extend({filters:{0:!0},filterId:0,paginationDiv:"#documentsToolbarF",idPrefix:"documents",addDocumentSwitch:!0,activeFilter:!1,lastCollectionName:void 0,restoredFilters:[],editMode:!1,allowUpload:!1,el:"#content",table:"#documentsTableID",template:templateEngine.createTemplate("documentsView.ejs"),collectionContext:{prev:null,next:null},unbindEvents:function(){this.$el.empty().off(),this.stopListening(),this.unbind()},editButtons:["#deleteSelected","#moveSelected"],initialize:function(e){this.documentStore=e.documentStore,this.collectionsStore=e.collectionsStore,this.tableView=new window.TableView({el:this.table,collection:this.collection}),this.tableView.setRowClick(this.clicked.bind(this)),this.tableView.setRemoveClick(this.remove.bind(this))},resize:function(){var e=!1;_.each($(".documentsDropdown").first().children(),(function(t){$(t).is(":visible")&&(e=!0)})),e?($("#docPureTable").height($(".centralRow").height()-210-57),$("#docPureTable .pure-table-body").css("max-height",$("#docPureTable").height()-47)):($("#docPureTable").height($(".centralRow").height()-210),$("#docPureTable .pure-table-body").css("max-height",$("#docPureTable").height()-47))},setCollectionId:function(e,t){var n=this;this.collection.setCollection(e,t),this.collection.setPage(t),this.page=t;var i=function(t,i,a){t?n.renderNotFound(this.collection.collectionID):(this.type=i,this.collectionName=a?a.name:e,0===n.restoredFilters.length&&(this.collection.getDocuments(this.getDocsCallback.bind(this)),this.collectionModel=this.collectionsStore.get(e),this.renderPaginationElements()),this.breadcrumb())}.bind(this);arangoHelper.collectionApiType(e,null,i)},getDocsCallback:function(e){$("#documents_last").css("visibility","hidden"),$("#documents_first").css("visibility","hidden"),e?(window.progressView.hide(),arangoHelper.arangoError("Document error","Could not fetch requested documents.")):e&&void 0===e||(window.progressView.hide(),this.drawTable(),this.renderPaginationElements(),arangoHelper.checkCollectionPermissions(this.collection.collectionID,this.changeViewToReadOnly))},renderNotFound:function(e){$(".headerButton").remove(),$("#documentSize").hide(),$("#docPureTable").html('<div class="infoBox errorBox"><h4>Error</h4><p>Collection not found. Requested name was: "'+arangoHelper.escapeHtml(e)+'".</p></div>'),$("#subNavigationBar .breadcrumb").html()},events:{"click #collectionPrev":"prevCollection","click #collectionNext":"nextCollection","click #filterCollection":"filterCollection","click #markDocuments":"editDocuments","click #importCollection":"importCollection","click #exportCollection":"exportCollection","click #filterSend":"sendFilter","click #addFilterItem":"addFilterItem","click .removeFilterItem":"removeFilterItem","click #deleteSelected":"deleteSelectedDocs","click #moveSelected":"moveSelectedDocs","click #addDocumentButton":"addDocumentModal","click #documents_first":"firstDocuments","click #documents_last":"lastDocuments","click #documents_prev":"prevDocuments","click #documents_next":"nextDocuments","click #confirmDeleteBtn":"confirmDelete","click .key":"nop",keyup:"returnPressedHandler","keydown .queryline input":"filterValueKeydown","click #importModal":"showImportModal","click #resetView":"resetView","click #confirmDocImport":"startUpload","click #exportDocuments":"startDownload","change #documentSize":"setPagesize","change #docsSort":"setSorting"},showSpinner:function(){$(".upload-indicator").show()},hideSpinner:function(){$(".upload-indicator").hide()},showImportModal:function(){$("#docImportModal").modal("show")},hideImportModal:function(){$("#docImportModal").modal("hide")},setPagesize:function(){var e=$("#documentSize").find(":selected").val();this.collection.setPagesize(e),this.collection.getDocuments(this.getDocsCallback.bind(this))},setSorting:function(){var e=$("#docsSort").val();""!==e&&void 0!==e&&null!==e||(e="_key"),this.collection.setSort(e)},returnPressedHandler:function(e){13===e.keyCode&&$(e.target).is($("#docsSort"))&&this.collection.getDocuments(this.getDocsCallback.bind(this)),13===e.keyCode&&!1===$("#confirmDeleteBtn").attr("disabled")&&this.confirmDelete()},nop:function(e){e.stopPropagation()},resetView:function(){$("input").val(""),$("select").val("=="),this.removeAllFilterItems(),$("#documentSize").val(this.collection.getPageSize()),$("#documents_last").css("visibility","visible"),$("#documents_first").css("visibility","visible"),this.addDocumentSwitch=!0,this.collection.resetFilter(),this.collection.loadCollectionConfig((function(e){e&&arangoHelper.arangoError("Document","Could not fetch documents count")})),this.restoredFilters=[],this.allowUpload=!1,this.files=void 0,this.file=void 0,$("#confirmDocImport").attr("disabled",!0),this.markFilterToggle(),this.collection.getDocuments(this.getDocsCallback.bind(this))},startDownload:function(){var e=this.collection.buildDownloadDocumentQuery();if(""!==e||void 0!==e||null!==e){var t="query/result/download/"+btoa(JSON.stringify(e));arangoHelper.download(t)}else arangoHelper.arangoError("Document error","could not download documents")},startUpload:function(){var e=function(e,t){e?arangoHelper.arangoError("Upload",t):(arangoHelper.arangoMessage("Upload",t),this.hideImportModal(),this.resetView()),this.hideSpinner()}.bind(this);!0===this.allowUpload&&(this.showSpinner(),this.collection.uploadDocuments(this.file,e))},uploadSetup:function(){var e=this;$("#importDocuments").change((function(t){e.files=t.target.files||t.dataTransfer.files,e.file=e.files[0],$("#confirmDocImport").attr("disabled",!1),e.allowUpload=!0}))},buildCollectionLink:function(e){return"collection/"+encodeURIComponent(e.get("name"))+"/documents/1"},markFilterToggle:function(){this.restoredFilters.length>0?$("#filterCollection").addClass("activated"):$("#filterCollection").removeClass("activated")},editDocuments:function(e){if(!$(e.currentTarget).hasClass("disabled")){$("#importCollection").removeClass("activated"),$("#exportCollection").removeClass("activated"),this.markFilterToggle(),$("#markDocuments").toggleClass("activated"),this.changeEditMode(),$("#filterHeader").hide(),$("#importHeader").hide(),$("#editHeader").slideToggle(1),$("#exportHeader").hide();var t=this;window.setTimeout((function(){t.resize()}),50)}},filterCollection:function(){$("#importCollection").removeClass("activated"),$("#exportCollection").removeClass("activated"),$("#markDocuments").removeClass("activated"),this.changeEditMode(!1),this.markFilterToggle(),this.activeFilter=!0,$("#importHeader").hide(),$("#editHeader").hide(),$("#exportHeader").hide(),$("#filterHeader").slideToggle(1);var e,t=this;for(e in window.setTimeout((function(){t.resize()}),50),this.filters)if(this.filters.hasOwnProperty(e))return void $("#attribute_name"+e).focus()},exportCollection:function(){$("#importCollection").removeClass("activated"),$("#filterHeader").removeClass("activated"),$("#markDocuments").removeClass("activated"),this.changeEditMode(!1),$("#exportCollection").toggleClass("activated"),this.markFilterToggle(),$("#exportHeader").slideToggle(1),$("#importHeader").hide(),$("#filterHeader").hide(),$("#editHeader").hide();var e=this;window.setTimeout((function(){e.resize()}),50)},importCollection:function(e){if(!$(e.currentTarget).hasClass("disabled")){this.markFilterToggle(),$("#markDocuments").removeClass("activated"),this.changeEditMode(!1),$("#importCollection").toggleClass("activated"),$("#exportCollection").removeClass("activated"),$("#importHeader").slideToggle(1),$("#filterHeader").hide(),$("#editHeader").hide(),$("#exportHeader").hide();var t=this;window.setTimeout((function(){t.resize()}),50)}},changeEditMode:function(e){!1===e||!0===this.editMode?($("#docPureTable .pure-table-body .pure-table-row").css("cursor","default"),$(".deleteButton").fadeIn(),$(".addButton").fadeIn(),$(".selected-row").removeClass("selected-row"),this.editMode=!1,this.tableView.setRowClick(this.clicked.bind(this))):($("#docPureTable .pure-table-body .pure-table-row").css("cursor","copy"),$(".deleteButton").fadeOut(),$(".addButton").fadeOut(),$(".selectedCount").text(0),this.editMode=!0,this.tableView.setRowClick(this.editModeClick.bind(this)))},getFilterContent:function(){var e,t,n=[];for(e in this.filters)if(this.filters.hasOwnProperty(e)){t=$("#attribute_value"+e).val();try{t=JSON.parse(t)}catch(i){t=String(t)}""!==$("#attribute_name"+e).val()&&void 0!==$("#operator"+e).val()&&n.push({attribute:$("#attribute_name"+e).val(),operator:$("#operator"+e).val(),value:t})}return n},sendFilter:function(){this.restoredFilters=this.getFilterContent();var e=this;this.collection.resetFilter(),this.addDocumentSwitch=!1,_.each(this.restoredFilters,(function(t){void 0!==t.operator&&e.collection.addFilter(t.attribute,t.operator,t.value)})),this.collection.setToFirst(),this.collection.getDocuments(this.getDocsCallback.bind(this)),this.markFilterToggle()},restoreFilter:function(){var e=this,t=0;this.filterId=0,$("#docsSort").val(this.collection.getSort()),_.each(this.restoredFilters,(function(n){0!==t&&e.addFilterItem(),void 0!==n.operator&&($("#attribute_name"+t).val(n.attribute),$("#operator"+t).val(n.operator),$("#attribute_value"+t).val(n.value)),t++,e.collection.addFilter(n.attribute,n.operator,n.value)})),e.rerender()},addFilterItem:function(){var e=++this.filterId;$("#filterHeader").append(' <div class="queryline querylineAdd"><input id="attribute_name'+e+'" type="text" placeholder="Attribute name"><select name="operator" id="operator'+e+'" class="filterSelect">    <option value="==">==</option>    <option value="!=">!=</option>    <option value="&lt;">&lt;</option>    <option value="&lt;=">&lt;=</option>    <option value="&gt;">&gt;</option>    <option value="&gt;=">&gt;=</option>    <option value="LIKE">LIKE</option>    <option value="IN">IN</option>    <option value="=~">NOT IN</option>    <option value="REGEX">REGEX</option></select><input id="attribute_value'+e+'" type="text" placeholder="Attribute value" class="filterValue"> <a class="removeFilterItem" id="removeFilter'+e+'"><i class="fa fa-minus-circle"></i></a></div>'),this.filters[e]=!0,this.checkFilterState()},filterValueKeydown:function(e){13===e.keyCode&&this.sendFilter()},checkFilterState:function(){if(1===$("#filterHeader .queryline").length)$("#filterHeader .removeFilterItem").remove();else if(0===$("#filterHeader .queryline").first().find(".removeFilterItem").length){var e=$("#filterHeader .queryline").first().children().first().attr("id"),t=e.substr(14,e.length);$("#filterHeader .queryline").first().find(".add-filter-item").after(' <a class="removeFilterItem" id="removeFilter'+t+'"><i class="fa fa-minus-circle"></i></a>')}0===$("#filterHeader .queryline").first().find(".add-filter-item").length&&$("#filterHeader .queryline").first().find(".filterValue").after('<a id="addFilterItem" class="add-filter-item"><i style="margin-left: 4px;" class="fa fa-plus-circle"></i></a>')},removeFilterItem:function(e){var t=e.currentTarget,n=t.id.replace(/^removeFilter/,"");delete this.filters[n],delete this.restoredFilters[n],$(t.parentElement).remove(),this.checkFilterState()},removeAllFilterItems:function(){var e,t=$("#filterHeader").children().length;for(e=1;e<=t;e++)$("#removeFilter"+e).parent().remove();this.filters={0:!0},this.filterId=0},addDocumentModal:function(e){if(!$(e.currentTarget).hasClass("disabled")){var t=window.location.hash.split("/")[1],n=[],i=[],a=function(e,t){if(e)arangoHelper.arangoError("Error","Could not fetch collection type");else{this.collection.getSmartJoinAttribute()?(i.push(this.createDocumentKeyInput(!0)),i.push(window.modalView.createTextEntry("new-smart-val-attr","SmartJoin value ("+this.collection.getSmartJoinAttribute()+")",void 0,"This smartJoinAttribute must be populated for all documents in the collection, and must always contain a string value.","",!0,[{rule:Joi.string(),msg:""}])),i.push(window.modalView.createJsonEditor()),n.push(window.modalView.createSuccessButton("Create",this.addSmartAttributeDocument.bind(this))),window.modalView.show("modalTable.ejs","Create document",n,i),$("#new-document-key-attr").css("width","50%").css("float","right"),$("#new-document-key-attr").before('<input type="text" id="new-document-key-prefix-attr" value="" placeholder="<smart-prefix>" disabled style="width: 40%; float: left;"><div style="width: 2px; float: left; margin-top: 15px; margin-left: 5px; font-weight: 800;">:</div>'),$("new-smart-val-attr").unbind("keyup"),$("#new-smart-val-attr").on("keyup",(function(e){$("#new-document-key-prefix-attr").val($(e.currentTarget).val())}))):this.collection.getSmartGraphAttribute()?(i.push(this.createDocumentKeyInput(!1)),i.push(window.modalView.createTextEntry("new-smartGraph-val-attr","SmartGraph Value ("+this.collection.getSmartGraphAttribute()+")",void 0,"This smartGraphAttribute can be populated for all documents in the collection and then contain a string value. Otherwise it will be null.","",!1,[{rule:Joi.string().allow("").optional(),msg:""}])),i.push(window.modalView.createJsonEditor()),n.push(window.modalView.createSuccessButton("Create",this.addSmartGraphDocument.bind(this))),window.modalView.show("modalTable.ejs","Create document",n,i),$("#new-document-key-attr").css("width","50%").css("float","right"),$("#new-document-key-attr").before('<input type="text" id="new-document-key-prefix-attr" value="" placeholder="<smart-prefix>" disabled style="width: 40%; float: left;"><div style="width: 2px; float: left; margin-top: 15px; margin-left: 5px; font-weight: 800;">:</div>'),$("#new-smartGraph-val-attr").unbind("keyup"),$("#new-smartGraph-val-attr").on("keyup",(function(e){$("#new-document-key-prefix-attr").val($(e.currentTarget).val())}))):"edge"===t?(i.push(window.modalView.createTextEntry("new-edge-from-attr","_from","","document _id: document handle of the linked vertex (incoming relation)",void 0,!1,[{rule:Joi.string().required(),msg:"No _from attribute given."}])),i.push(window.modalView.createTextEntry("new-edge-to","_to","","document _id: document handle of the linked vertex (outgoing relation)",void 0,!1,[{rule:Joi.string().required(),msg:"No _to attribute given."}])),i.push(window.modalView.createTextEntry("new-edge-key-attr","_key",void 0,"the edge's unique key (optional attribute, leave empty for autogenerated key)","is optional: leave empty for autogenerated key",!1,[{rule:Joi.string().allow("").optional(),msg:""}])),i.push(window.modalView.createJsonEditor()),n.push(window.modalView.createSuccessButton("Create",this.addEdge.bind(this))),window.modalView.show("modalTable.ejs","Create edge",n,i)):(i.push(this.createDocumentKeyInput(!1)),i.push(window.modalView.createJsonEditor()),n.push(window.modalView.createSuccessButton("Create",this.addDocument.bind(this))),window.modalView.show("modalTable.ejs","Create document",n,i));var a=document.getElementById("jsoneditor");this.resize();var r={onChange:function(){},onModeChange:function(e){},search:!0,mode:"code",modes:["tree","code"],ace:window.ace};this.editor=new JSONEditor(a,r)}}.bind(this);arangoHelper.collectionApiType(t,!0,a)}},createDocumentKeyInput:function(e){var t="leave empty for autogenerated key",n="the documents unique key";return e?t="":n+=" (optional attribute, leave empty for autogenerated key)",window.modalView.createTextEntry("new-document-key-attr","_key",void 0,n,t,e||!1,[{rule:Joi.string().allow("").optional(),msg:""}])},addEdge:function(){var e,t=window.location.hash.split("/")[1],n=$(".modal-body #new-edge-from-attr").last().val(),i=$(".modal-body #new-edge-to").last().val(),a=$(".modal-body #new-edge-key-attr").last().val();try{e=this.editor.get()}catch(x){return void arangoHelper.arangoError("failed to parse JSON document",x.message)}this.documentStore.createTypeEdge(t,n,i,""!==a||void 0!==a?a:null,e,this.goToDocument)},addDocument:function(){var e,t=window.location.hash.split("/")[1],n=$(".modal-body #new-document-key-attr").last().val();try{e=this.editor.get()}catch(x){return void arangoHelper.arangoError("failed to parse JSON document",x.message)}this.documentStore.createTypeDocument(t,""!==n||void 0!==n?n:null,e,this.goToDocument)},addSmartAttributeDocument:function(){var e,t=window.location.hash.split("/")[1],n=$(".modal-body #new-document-key-attr").last().val(),i=$(".modal-body #new-smart-val-attr").last().val();try{e=this.editor.get()}catch(x){return void arangoHelper.arangoError("failed to parse JSON document",x.message)}this.documentStore.createTypeDocument(t,""!==n||void 0!==n?n:null,e,this.goToDocument,!1,this.collection.getSmartJoinAttribute(),i,null,null)},addSmartGraphDocument:function(){var e,t=window.location.hash.split("/")[1],n=$(".modal-body #new-document-key-attr").last().val(),i=$(".modal-body #new-smartGraph-val-attr").last().val();try{e=this.editor.get()}catch(x){return void arangoHelper.arangoError("failed to parse JSON document",x.message)}""===i&&(i=null);var a=null;this.collection.getSmartGraphAttribute()&&(a=this.collection.getSmartGraphAttribute()),""===n&&(n=null),this.documentStore.createTypeDocument(t,n,e,this.goToDocument,!1,null,null,a,i)},goToDocument:function(e,t,n){e?arangoHelper.arangoError("Error",n.errorMessage):(window.modalView.hide(),t=t.split("/"),window.location.hash="collection/"+encodeURIComponent(t[0])+"/"+encodeURIComponent(t[1]))},moveSelectedDocs:function(){var e=[],t=[];0!==this.getSelectedDocs().length?(t.push(window.modalView.createTextEntry("move-documents-to","Move to","",!1,"collection-name",!0,[{rule:Joi.string().regex(/^[a-zA-Z]/),msg:"Collection name must always start with a letter."},{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only Symbols "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No collection name given."}])),e.push(window.modalView.createSuccessButton("Move",this.confirmMoveSelectedDocs.bind(this))),window.modalView.show("modalTable.ejs","Move documents",e,t)):arangoHelper.arangoMessage("Move documents","No documents selected!")},confirmMoveSelectedDocs:function(){var e=this.getSelectedDocs(),t=this,n=$("#move-documents-to").val(),i=function(e){e?arangoHelper.arangoError("Error","Could not move document."):(t.collection.setTotalMinusOne(),this.collection.getDocuments(this.getDocsCallback.bind(this)),$("#markDocuments").click(),window.modalView.hide())}.bind(this);_.each(e,(function(e){t.collection.moveDocument(e,t.collection.collectionID,n,i)}))},deleteSelectedDocs:function(){var e=[],t=[],n=this.getSelectedDocs();0!==n.length?(t.push(window.modalView.createReadOnlyEntry(void 0,n.length+" documents selected","Do you want to delete all selected documents?",void 0,void 0,!1,void 0)),e.push(window.modalView.createDeleteButton("Delete",this.confirmDeleteSelectedDocs.bind(this))),window.modalView.show("modalTable.ejs","Delete documents",e,t)):arangoHelper.arangoMessage("Delete documents","No documents selected!")},confirmDeleteSelectedDocs:function(){var e=this.getSelectedDocs(),t=[],n=this;_.each(e,(function(e){if("document"===n.type){var i=function(e){e?(t.push(!1),arangoHelper.arangoError("Document error","Could not delete document.")):(t.push(!0),n.collection.setTotalMinusOne(),n.collection.getDocuments(this.getDocsCallback.bind(this)),$("#markDocuments").click(),window.modalView.hide())}.bind(n);n.documentStore.deleteDocument(n.collection.collectionID,e,i)}else if("edge"===n.type){var a=function(e){e?(t.push(!1),arangoHelper.arangoError("Edge error","Could not delete edge")):(n.collection.setTotalMinusOne(),t.push(!0),n.collection.getDocuments(this.getDocsCallback.bind(this)),$("#markDocuments").click(),window.modalView.hide())}.bind(n);n.documentStore.deleteEdge(n.collection.collectionID,e,a)}}))},getSelectedDocs:function(){var e=[];return _.each($("#docPureTable .pure-table-body .pure-table-row"),(function(t){$(t).hasClass("selected-row")&&e.push($($(t).children()[1]).find(".key").text())})),e},remove:function(e){$(e.currentTarget).hasClass("disabled")||(this.docid=$(e.currentTarget).parent().parent().prev().find(".key").text(),$("#confirmDeleteBtn").attr("disabled",!1),$("#docDeleteModal").modal("show"))},confirmDelete:function(){$("#confirmDeleteBtn").attr("disabled",!0),"source"!==window.location.hash.split("/")[3]&&this.reallyDelete()},reallyDelete:function(){if("document"===this.type){var e=function(e){e?arangoHelper.arangoError("Error","Could not delete document"):(this.collection.setTotalMinusOne(),this.collection.getDocuments(this.getDocsCallback.bind(this)),$("#docDeleteModal").modal("hide"))}.bind(this);this.documentStore.deleteDocument(this.collection.collectionID,this.docid,e)}else if("edge"===this.type){var t=function(e){e?arangoHelper.arangoError("Edge error","Could not delete edge"):(this.collection.setTotalMinusOne(),this.collection.getDocuments(this.getDocsCallback.bind(this)),$("#docDeleteModal").modal("hide"))}.bind(this);this.documentStore.deleteEdge(this.collection.collectionID,this.docid,t)}},editModeClick:function(e){var t=$(e.currentTarget);t.hasClass("selected-row")?t.removeClass("selected-row"):t.addClass("selected-row");var n=this.getSelectedDocs();$(".selectedCount").text(n.length),_.each(this.editButtons,(function(e){n.length>0?($(e).prop("disabled",!1),$(e).removeClass("button-neutral"),$(e).removeClass("disabled"),"#moveSelected"===e?$(e).addClass("button-success"):$(e).addClass("button-danger")):($(e).prop("disabled",!0),$(e).addClass("disabled"),$(e).addClass("button-neutral"),"#moveSelected"===e?$(e).removeClass("button-success"):$(e).removeClass("button-danger"))}))},clicked:function(e){var t=e.currentTarget;if($(t).attr("id")){var n=$(t).attr("id").substr(4);window.location.hash="collection/"+encodeURIComponent(this.collection.collectionID)+"/"+encodeURIComponent(n)}},drawTable:function(){this.tableView.setElement($("#docPureTable")).render(),arangoHelper.fixTooltips(".icon_arangodb, .arangoicon","top"),this.resize(),document.querySelectorAll("code").forEach((function(e){window.hljs.highlightBlock(e)}))},checkCollectionState:function(){this.lastCollectionName===this.collectionName?this.activeFilter&&(this.filterCollection(),this.restoreFilter()):void 0!==this.lastCollectionName&&(this.collection.resetFilter(),this.collection.setSort(""),this.restoredFilters=[],this.activeFilter=!1)},render:function(){return this.collectionName=window.location.hash.split("/")[1],$(this.el).html(this.template.render({})),2===this.type?this.type="document":3===this.type&&(this.type="edge"),this.tableView.setElement($(this.table)).drawLoading(),this.collectionContext=this.collectionsStore.getPosition(this.collection.collectionID),this.checkCollectionState(),this.lastCollectionName=this.collectionName,this.uploadSetup(),arangoHelper.fixTooltips([".icon_arangodb",".arangoicon","top","[data-toggle=tooltip]",".upload-info"]),this.selectActivePagesize(),this.markFilterToggle(),this.resize(),this},changeViewToReadOnly:function(){$(".breadcrumb").html($(".breadcrumb").html()+" (read-only)"),$("#importCollection").addClass("disabled"),$("#markDocuments").addClass("disabled"),$("#addDocumentButton").addClass("disabled"),$("#addDocumentButton .fa-plus-circle").css("color","#d3d3d3"),$("#addDocumentButton .fa-plus-circle").css("cursor","not-allowed"),$(".deleteButton").addClass("disabled"),$(".deleteButton .fa-minus-circle").css("color","#d3d3d3"),$(".deleteButton .fa-minus-circle").css("cursor","not-allowed")},rerender:function(){this.collection.getDocuments(this.getDocsCallback.bind(this)),this.resize()},selectActivePagesize:function(){$("#documentSize").val(this.collection.getPageSize())},renderPaginationElements:function(){this.renderPagination();var e=$("#totalDocuments");0===e.length&&($("#documentsToolbarFL").append('<a id="totalDocuments" class="totalDocuments"></a>'),e=$("#totalDocuments")),"document"===this.type&&e.html(numeral(this.collection.getTotal()).format("0,0")+" doc(s)"),"edge"===this.type&&e.html(numeral(this.collection.getTotal()).format("0,0")+" edge(s)"),this.collection.getTotal()>this.collection.MAX_SORT?($("#docsSort").attr("disabled",!0),$("#docsSort").attr("placeholder","Sort limit reached (docs count)")):($("#docsSort").attr("disabled",!1),$("#docsSort").attr("placeholder","Sort by attribute"))},breadcrumb:function(){var e=this;window.App.naviView&&void 0!==$("#subNavigationBar .breadcrumb").html()?($("#subNavigationBar .breadcrumb").html("Collection: "+_.escape(this.collectionName.length>64?this.collectionName.substr(0,64)+"...":this.collectionName)),arangoHelper.buildCollectionSubNav(this.collectionName,"Content")):window.setTimeout((function(){e.breadcrumb()}),100)}})}()},function(e,t){!function(){"use strict";window.FilterSelectView=Backbone.View.extend({el:"#filterSelectDiv",filterOptionsEl:".filterOptions",initialize:function(e){this.name=e.name,this.options=e.options,this.position=e.position,this.callback=e.callback,this.multiple=e.multiple},template:templateEngine.createTemplate("filterSelect.ejs"),events:{"click .filterOptions .inactive":"changeState","click .filterOptions .active":"changeState","click #showAll":"showAll","click #closeFilter":"hide","keyup .filterInput input":"filter"},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},changeState:function(e){var t=$(e.currentTarget).attr("name");$(e.currentTarget).hasClass("active")?(this.options[t].active=!1,$(e.currentTarget).removeClass("active").addClass("inactive"),$(e.currentTarget).find(".marked").css("visibility","hidden")):(this.options[t].active=!0,$(e.currentTarget).removeClass("inactive").addClass("active"),$(e.currentTarget).find(".marked").css("visibility","visible")),this.callback&&this.callback(this.options)},filter:function(){var e=$("#"+this.name+"-filter").val();_.each(this.options,(function(t){t.name.search(e)>-1?$("#"+t.name+"-option").css("display","block"):$("#"+t.name+"-option").css("display","none")}))},clearFilter:function(){$("#"+this.name+"-filter").val(""),this.filter()},showAll:function(){this.clearFilter(),_.each(this.options,(function(e){e.active=!1,$("#"+e.name+"-option").removeClass("active").addClass("inactive"),$("#"+e.name+"-option").find(".marked").css("visibility","hidden")})),this.callback(this.options)},render:function(){var e=this;$("#filterSelectDiv").on("click",(function(t){"filterSelectDiv"===t.target.id&&e.hide()})),_.each(e.options,(function(e){e.color||(e.color=arangoHelper.alphabetColors[e.name.charAt(0).toLowerCase()])})),this.$el.html(this.template.render({name:e.name,options:e.options})),$("#filterSelectDiv > div").css("right",this.position.right+"px"),$("#filterSelectDiv > div").css("top",this.position.top+30),this.show(),$("#"+this.name+"-filter").focus()},show:function(){$(this.el).show()},hide:function(){$("#filterSelectDiv").unbind("click"),$(this.el).hide(),this.remove()}})}()},function(e,t){!function(){"use strict";window.FooterView=Backbone.View.extend({el:"#footerBar",system:{},isOffline:!0,isOfflineCounter:0,firstLogin:!0,timer:15e3,lap:0,timerFunction:null,lastTokenRenewal:Date.now()/1e3,events:{"click .footer-center p":"showShortcutModal"},initialize:function(){var e=this;window.setInterval((function(){e.getVersion()}),e.timer),e.getVersion(),window.VISIBLE=!0,document.addEventListener("visibilitychange",(function(){window.VISIBLE=!window.VISIBLE})),$("#offlinePlaceholder button").on("click",(function(){e.getVersion()})),window.setTimeout((function(){!0===window.frontendConfig.isCluster&&($(".health-state").css("cursor","pointer"),$(".health-state").on("click",(function(){window.App.navigate("#nodes",{trigger:!0})})))}),1e3),arangoHelper.noteActivity(),window.setInterval((function(){if(!e.isOffline){var t=frontendConfig.sessionTimeout>=1800?.95:.8,n=frontendConfig.sessionTimeout*t,i=Date.now()/1e3,a=arangoHelper.lastActivity(),r=5400;r>.95*n&&(r=.95*n),a>0&&i-a>r||i-e.lastTokenRenewal<n||arangoHelper.renewJwt((function(){e.lastTokenRenewal=i}))}}),15e3)},template:templateEngine.createTemplate("footerView.ejs"),showServerStatus:function(e){window.App.isCluster?this.renderClusterState(e):!0===e?($("#healthStatus").removeClass("negative"),$("#healthStatus").addClass("positive"),$(".health-state").html("GOOD"),$(".health-icon").html('<i class="fa fa-check-circle"></i>'),$("#offlinePlaceholder").hide()):($("#healthStatus").removeClass("positive"),$("#healthStatus").addClass("negative"),$(".health-state").html("UNKNOWN"),$(".health-icon").html('<i class="fa fa-exclamation-circle"></i>'),window.modalView.hide(),$("#offlinePlaceholder").show(),Noty.clearQueue(),Noty.closeAll(),this.reconnectAnimation(0))},reconnectAnimation:function(e){var t=this;0===e&&(t.lap=e,$("#offlineSeconds").text(t.timer/1e3),clearTimeout(t.timerFunction)),t.lap<this.timer/1e3&&(t.lap++,$("#offlineSeconds").text(t.timer/1e3-t.lap),t.timerFunction=window.setTimeout((function(){t.timer/1e3-t.lap===0?t.getVersion():t.reconnectAnimation(t.lap)}),1e3))},renderClusterState:function(e){if(e){$("#offlinePlaceholder").hide();"jwt-all"!==frontendConfig.clusterApiJwtPolicy&&$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/health"),contentType:"application/json",processData:!1,async:!0,success:function(e){window.App&&(window.App.lastHealthCheckResult=e),function(e){window.clusterHealth=e.Health;var t=0;0!==Object.keys(window.clusterHealth).length?(_.each(window.clusterHealth,(function(e){"DBServer"!==e.Role&&"Coordinator"!==e.Role||"GOOD"!==e.Status&&t++})),t>0?($("#healthStatus").removeClass("positive"),$("#healthStatus").addClass("negative"),$(".health-state").html(t+" NODE(S) ERROR"),$(".health-icon").html('<i class="fa fa-exclamation-circle"></i>')):($("#healthStatus").removeClass("negative"),$("#healthStatus").addClass("positive"),$(".health-state").html("NODES OK"),$(".health-icon").html('<i class="fa fa-check-circle"></i>'))):($(".health-state").html("HEALTH ERROR"),$("#healthStatus").removeClass("positive"),$("#healthStatus").addClass("negative"),$(".health-icon").html('<i class="fa fa-exclamation-circle"></i>'))}(e),"#nodes"===window.location.hash&&window.App&&window.App.nodesView&&window.App.nodesView.render(!1)},error:function(){window.App&&(window.App.lastHealthCheckResult=null)}})}else $("#healthStatus").removeClass("positive"),$("#healthStatus").addClass("negative"),$(".health-state").html(window.location.host+" OFFLINE"),$(".health-icon").html('<i class="fa fa-exclamation-circle"></i>'),$("#offlinePlaceholder").show(),this.reconnectAnimation(0)},showShortcutModal:function(){window.arangoHelper.hotkeysFunctions.showHotkeysModal()},getVersion:function(){var e=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/version"),contentType:"application/json",processData:!1,async:!0,success:function(t){frontendConfig.version=t,frontendConfig.version.hasOwnProperty("version")||(frontendConfig.version.version="N/A"),e.showServerStatus(!0),!0===e.isOffline&&(e.isOffline=!1,e.isOfflineCounter=0,e.firstLogin?e.firstLogin=!1:window.setTimeout((function(){e.showServerStatus(!0)}),1e3),e.system.name=t.server,e.system.version=t.version,e.render())},error:function(t){401===t.status?(e.showServerStatus(!0),window.App.navigate("login",{trigger:!0})):(e.isOffline=!0,e.isOfflineCounter++,e.isOfflineCounter>=1&&e.showServerStatus(!1))}}),e.system.hasOwnProperty("database")||$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/database/current"),contentType:"application/json",processData:!1,async:!0,success:function(t){var n=t.result.name;e.system.database=n;var i=window.setInterval((function(){$("#databaseNavi")&&(window.clearTimeout(i),i=null,e.render())}),50)}})},renderVersion:function(){this.system.hasOwnProperty("database")&&this.system.hasOwnProperty("name")&&$(this.el).html(this.template.render({name:this.system.name,version:this.system.version,database:this.system.database}))},render:function(){return this.system.version||this.getVersion(),$(this.el).html(this.template.render({name:this.system.name,version:this.system.version})),this}})}()},function(e,t){},function(e,t){!function(){"use strict";window.FoxxActiveView=Backbone.View.extend({tagName:"div",className:"foxxTile tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-5",template:templateEngine.createTemplate("foxxActiveView.ejs"),_show:!0,events:{click:"openAppDetailView"},openAppDetailView:function(){window.App.navigate("service/"+encodeURIComponent(this.model.get("mount")),{trigger:!0})},toggle:function(e,t){switch(e){case"devel":this.model.isDevelopment()&&(this._show=t);break;case"production":this.model.isDevelopment()||this.model.isSystem()||(this._show=t);break;case"system":this.model.isSystem()&&(this._show=t)}this._show?$(this.el).show():$(this.el).hide()},render:function(){return this.model.fetchThumbnail(function(){$(this.el).html(this.template.render({model:this.model}));var e=function(){this.model.needsConfiguration()&&($(this.el).find(".warning-icons").length>0?$(this.el).find(".warning-icons").append('<span class="fa fa-cog" title="Needs configuration"></span>'):$(this.el).find("img").after('<span class="warning-icons"><span class="fa fa-cog" title="Needs configuration"></span></span>'))}.bind(this),t=function(){this.model.hasUnconfiguredDependencies()&&($(this.el).find(".warning-icons").length>0?$(this.el).find(".warning-icons").append('<span class="fa fa-cubes" title="Unconfigured dependencies"></span>'):$(this.el).find("img").after('<span class="warning-icons"><span class="fa fa-cubes" title="Unconfigured dependencies"></span></span>'))}.bind(this);this.model.getConfiguration(e),this.model.getDependencies(t)}.bind(this)),$(this.el)}})}()},function(e,t){!function(){"use strict";window.FoxxRepoView=Backbone.View.extend({tagName:"div",className:"foxxTile tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-5",template:templateEngine.createTemplate("foxxRepoView.ejs"),_show:!0,categories:[],events:{"click .installFoxx":"installStoreService","click .borderBox":"goToServiceDetail","click img":"goToServiceDetail","click .foxxDesc":"goToServiceDetail"},initialize:function(e){this.categories=[],this.fetchCategories(),e.functionsCollection&&(this.functionsCollection=e.functionsCollection),e.upgrade&&(this._upgrade=e.upgrade)},openAppDetailView:function(){window.App.navigate("service/detail/"+encodeURIComponent(this.model.get("name")),{trigger:!0})},render:function(){return this.model.fetchThumbnail(function(e){e&&$(this.el).remove();var t=this.model.get("defaultThumbnailUrl");if(this.model.get("manifest"))try{this.model.get("manifest").thumbnail&&(t=this.model.getThumbnailUrl())}catch(n){}$(this.el).html(this.template.render({model:this.model.toJSON(),thumbnail:t,upgrade:this._upgrade}))}.bind(this)),this.model.get("categories")&&$(this.el).attr("category",this.model.get("categories")),$(this.el)},goToServiceDetail:function(e){window.App.navigate("store/"+encodeURIComponent(this.model.get("name")),{trigger:!0})},installStoreService:function(e){this.toInstall=$(e.currentTarget).attr("appId"),this.version=$(e.currentTarget).attr("appVersion"),arangoHelper.createMountPointModal(this.installFoxxFromStore.bind(this))},categoriesCallbackFunction:function(e){this.categoryOptions=e,this.applyFilter()},onlyUnique:function(e,t,n){return n.indexOf(e)===t},fetchCategories:function(){var e=[];_.each(window.App.foxxRepo.models,(function(t){_.each(t.get("categories"),(function(t){e.push(t)}))})),this.categories=e.filter(this.onlyUnique)},renderCategories:function(e){var t,n=this;this.categoryOptions||(this.categoryOptions={}),_.each(this.categories,(function(e,i){n.categoryOptions[i]&&(t=n.categoryOptions[i].active),n.categoryOptions[e]={name:e,active:t||!1}}));var i=$(e.currentTarget).position();i.right="30",this.categoryView=new window.FilterSelectView({name:"Category",options:n.categoryOptions,position:i,callback:n.categoriesCallbackFunction.bind(this),multiple:!1}),this.categoryView.render()},resetFilters:function(){_.each(this.categoryOptions,(function(e){e.active=!1})),this.applyFilter()},isFilterActive:function(e){var t=!1;return _.each(e,(function(e){e.active&&(t=!0)})),t},applyFilter:function(){var e=this;this.isFilterActive(this.categoryOptions)?(_.each($("#availableFoxxes").children(),(function(t){var n=$(t).attr("category").split(","),i=!1;_.each(n,(function(t){!0===e.categoryOptions[t].active&&(i=!0)})),i?($(t).show(),$(t).attr("shown","true")):($(t).hide(),$(t).attr("shown","false"))})),this.changeButton("category")):(_.each($("#availableFoxxes").children(),(function(e){$(e).show(),$(e).attr("shown","true")})),this.changeButton());var t=0;_.each($("#logEntries").children(),(function(e){"block"===$(e).css("display")&&t++})),1===t?($(".logBorder").css("visibility","hidden"),$("#noLogEntries").hide()):0===t?$("#noLogEntries").show():($(".logBorder").css("visibility","visible"),$("#noLogEntries").hide())},changeButton:function(e){e?($("#categorySelection").addClass("button-success").removeClass("button-default"),$("#filterDesc").html(e),$("#foxxFilters").show()):($("#categorySelection").addClass("button-default").removeClass("button-success"),$("#foxxFilters").hide(),$("#filterDesc").html(""))},installFoxxFromStore:function(e){var t,n,i;window.modalView.modalTestAll()&&(this._upgrade?t=window.App.replaceAppData.mount:"/"!==(t=window.arangoHelper.escapeHtml($("#new-app-mount").val())).charAt(0)&&(t="/"+t),n={name:this.toInstall,version:this.version},i=arangoHelper.getFoxxFlags(),this.collection.install("store",n,t,i,this.installCallback.bind(this)),window.modalView.hide(),this._upgrade?arangoHelper.arangoNotification("Services","Upgrading "+this.toInstall+"."):arangoHelper.arangoNotification("Services","Installing "+this.toInstall+"."),this.toInstall=null,this.version=null)},installCallback:function(e){window.App.navigate("#services",{trigger:!0}),window.App.applicationsView.installCallback(e)}})}()},function(e,t){!function(){"use strict";window.GraphManagementView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("graphManagementView.ejs"),edgeDefintionTemplate:templateEngine.createTemplate("edgeDefinitionTable.ejs"),eCollList:[],removedECollList:[],readOnly:!1,dropdownVisible:!1,initialize:function(e){this.options=e},events:{"click #deleteGraph":"deleteGraph","click .icon_arangodb_settings2.editGraph":"editGraph","click #createGraph":"addNewGraph","keyup #graphManagementSearchInput":"search","click #graphManagementSearchSubmit":"search","click .tile-graph":"redirectToGraphViewer","click #graphManagementToggle":"toggleGraphDropdown","click .css-label":"checkBoxes","change #graphSortDesc":"sorting"},toggleTab:function(e){var t=e.currentTarget.id;t=t.replace("tab-",""),$("#tab-content-create-graph .tab-pane").removeClass("active"),$("#tab-content-create-graph #"+t).addClass("active"),"exampleGraphs"===t?$("#modal-dialog .modal-footer .button-success").css("display","none"):$("#modal-dialog .modal-footer .button-success").css("display","initial"),"smartGraph"===t?this.setSmartGraphRows(!0):"satelliteGraph"===t?this.setSatelliteGraphRows(!0):"createGraph"===t&&this.setGeneralGraphRows(!1)},generalGraphRows:["row_general-numberOfShards","row_general-replicationFactor","row_general-writeConcern"],potentiallyNeededSmartGraphRows:["smartGraphInfoOneShard"],neededSmartGraphRows:["smartGraphInfo","row_new-smartGraphAttribute","row_new-numberOfShards","row_new-replicationFactor","row_new-writeConcern","row_hybridSatelliteCollections","row_new-isDisjoint"],notNeededSatelliteGraphRows:["row_general-numberOfShards","row_general-replicationFactor","row_hybridSatelliteCollections","row_general-writeConcern"],setGeneralGraphRows:function(e){this.setCacheModeState(e),this.hideSmartGraphRows(),_.each(this.generalGraphRows,(function(e){$("#"+e).show()}))},setSatelliteGraphRows:function(e){$("#createGraph").addClass("active"),this.setCacheModeState(e),this.showGeneralGraphRows(),this.hideSmartGraphRows(),_.each(this.notNeededSatelliteGraphRows,(function(e){$("#"+e).hide()}))},checkSmartGraphOneShardInfoHint:function(){var e=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/database/current"),contentType:"application/json",processData:!1,async:!0,success:function(t){"single"===t.result.sharding&&$("#"+e.potentiallyNeededSmartGraphRows[0]).show()},error:function(e){}})},setSmartGraphRows:function(e){$("#createGraph").addClass("active"),this.setCacheModeState(e),this.hideGeneralGraphRows(),this.checkSmartGraphOneShardInfoHint(),_.each(this.neededSmartGraphRows,(function(e){$("#"+e).show()}))},hideSmartGraphRows:function(){_.each(this.neededSmartGraphRows,(function(e){$("#"+e).hide()})),_.each(this.potentiallyNeededSmartGraphRows,(function(e){$("#"+e).hide()}))},showGeneralGraphRows:function(){_.each(this.generalGraphRows,(function(e){$("#"+e).show()}))},hideGeneralGraphRows:function(){_.each(this.generalGraphRows,(function(e){$("#"+e).hide()}))},redirectToGraphViewer:function(e){var t=$(e.currentTarget).attr("id");t&&(t=t.substr(0,t.length-5),window.App.navigate("graph/"+encodeURIComponent(t),{trigger:!0}))},loadGraphViewer:function(e,t){var n=function(t){if(t)arangoHelper.arangoError("","");else{var n=this.collection.get(e).get("edgeDefinitions");if(!n||0===n.length)return;var i={type:"gharial",graphName:e,baseUrl:arangoHelper.databaseUrl("/")},a=$("#content").width()-75;$("#content").html("");var r=arangoHelper.calculateCenterDivHeight();this.ui=new GraphViewerUI($("#content")[0],i,a,$(".centralRow").height()-135,{nodeShaper:{label:"_key",color:{type:"attribute",key:"_key"}}},!0),$(".contentDiv").height(r)}}.bind(this);t?this.collection.fetch({cache:!1,success:function(){n()}}):n()},handleResize:function(e){this.width&&this.width===e||(this.width=e,this.ui&&this.ui.changeWidth(e))},addNewGraph:function(e){e.preventDefault(),this.readOnly||(frontendConfig.isEnterprise?this.createEditGraphModal():(this.createEditGraphModal(),$("#tab-smartGraph").parent().remove(),$("#tab-satelliteGraph").parent().remove()))},deleteGraph:function(){var e=this,t=$("#editGraphName")[0].value;if($("#dropGraphCollections").is(":checked")){this.collection.dropAndDeleteGraph(t,(function(n,i){window.modalView.hide(),n?e.collection.remove(e.collection.get(t)):i&&i.error&&i.errorMessage?arangoHelper.arangoError("Graph",i.errorMessage):arangoHelper.arangoError("Graph","Could not delete Graph."),e.updateGraphManagementView()}))}else this.collection.get(t).destroy({success:function(){e.updateGraphManagementView(),window.modalView.hide()},error:function(e,t){var n=JSON.parse(t.responseText).errorMessage;arangoHelper.arangoError(n),window.modalView.hide()}})},checkBoxes:function(e){var t=e.currentTarget.id;$("#"+t).click()},checkVisibility:function(){$("#graphManagementDropdown").is(":visible")?this.dropdownVisible=!0:this.dropdownVisible=!1,arangoHelper.setCheckboxStatus("#graphManagementDropdown")},toggleGraphDropdown:function(){var e=this;$("#graphSortDesc").attr("checked",this.collection.sortOptions.desc),$("#graphManagementToggle").toggleClass("activated"),$("#graphManagementDropdown2").slideToggle(200,(function(){e.checkVisibility()}))},sorting:function(){$("#graphSortDesc").is(":checked")?this.collection.setSortingDesc(!0):this.collection.setSortingDesc(!1),this.checkVisibility(),this.render()},createExampleGraphs:function(e){var t=$(e.currentTarget).attr("graph-id"),n=this;$.ajax({type:"POST",url:arangoHelper.databaseUrl("/_admin/aardvark/graph-examples/create/"+encodeURIComponent(t)),success:function(){window.modalView.hide(),n.updateGraphManagementView(),arangoHelper.arangoNotification("Example Graphs","Graph: "+t+" created.")},error:function(n){if(window.modalView.hide(),n.responseText)try{var i=JSON.parse(n.responseText);arangoHelper.arangoError("Example Graphs",i.errorMessage)}catch(e){arangoHelper.arangoError("Example Graphs","Could not create example graph: "+t)}else arangoHelper.arangoError("Example Graphs","Could not create example graph: "+t)}})},forgetCachedCollectionsState:function(){var e,t=[];for(this.options.collectionCollection.models.forEach((function(e){e.get("isSystem")||t.push(e.id)})),e=0;e<this.counter;e++)$("#newEdgeDefinitions"+e).select2({tags:this.eCollList,maximumSelectionSize:1}),$("#newEdgeDefinitions"+e).select2("data",this.cachedNewEdgeDefinitions),$("#newEdgeDefinitions"+e).attr("disabled",this.cachedNewEdgeDefinitionsState),$("#fromCollections"+e).select2({tags:t}),$("#fromCollections"+e).select2("data",this.cachedFromCollections),$("#fromCollections"+e).attr("disabled",this.cachedFromCollectionsState),$("#toCollections"+e).select2({tags:t}),$("#toCollections"+e).select2("data",this.cachedToCollections),$("#toCollections"+e).attr("disabled",this.cachedToCollectionsState);$("#newVertexCollections").select2({tags:t}),$("#newVertexCollections").select2("data",this.cachedNewVertexCollections),$("#newVertexCollections").attr("disabled",this.cachedNewVertexCollectionsState)},rememberCachedCollectionsState:function(){var e;for(e=0;e<this.counter;e++)$("#newEdgeDefinitions"+e).select2({tags:[],maximumSelectionSize:1}),this.cachedNewEdgeDefinitions=$("#newEdgeDefinitions"+e).select2("data"),this.cachedNewEdgeDefinitionsState=$("#newEdgeDefinitions"+e).attr("disabled"),$("#newEdgeDefinitions"+e).select2("data",""),$("#newEdgeDefinitions"+e).attr("disabled",!1),$("#newEdgeDefinitions"+e).change(),$("#fromCollections"+e).select2({tags:[]}),this.cachedFromCollections=$("#fromCollections"+e).select2("data"),this.cachedFromCollectionsState=$("#fromCollections"+e).attr("disabled"),$("#fromCollections"+e).select2("data",""),$("#fromCollections"+e).attr("disabled",!1),$("#fromCollections"+e).change(),$("#toCollections"+e).select2({tags:[]}),this.cachedToCollections=$("#toCollections"+e).select2("data"),this.cachedToCollectionsState=$("#toCollections"+e).attr("disabled"),$("#toCollections"+e).select2("data",""),$("#toCollections"+e).attr("disabled",!1),$("#toCollections"+e).change();$("#newVertexCollections").select2({tags:[]}),this.cachedNewVertexCollections=$("#newVertexCollections").select2("data"),this.cachedNewVertexCollectionsState=$("#newVertexCollections").attr("disabled"),$("#newVertexCollections").select2("data",""),$("#newVertexCollections").attr("disabled",!1),$("#newVertexCollections").change()},setCacheModeState:function(e){frontendConfig.isEnterprise&&(e?this.forgetCachedCollectionsState():this.rememberCachedCollectionsState())},render:function(e,t){var n=this;return this.collection.fetch({cache:!1,success:function(){n.collection.sort(),$(n.el).html(n.template.render({graphs:n.collection,searchString:""})),!0===n.dropdownVisible&&($("#graphManagementDropdown2").show(),$("#graphSortDesc").attr("checked",n.collection.sortOptions.desc),$("#graphManagementToggle").toggleClass("activated"),$("#graphManagementDropdown").show()),n.events['change tr[id*="newEdgeDefinitions"]']=n.setFromAndTo.bind(n),n.events["click .graphViewer-icon-button"]=n.addRemoveDefinition.bind(n),n.events["click #graphTab a"]=n.toggleTab.bind(n),n.events["click .createExampleGraphs"]=n.createExampleGraphs.bind(n),n.events["focusout .select2-search-field input"]=function(e){$(".select2-drop").is(":visible")&&($("#select2-search-field input").is(":focus")||window.setTimeout((function(){$(e.currentTarget).parent().parent().parent().select2("close")}),200))},arangoHelper.setCheckboxStatus("#graphManagementDropdown"),arangoHelper.checkDatabasePermissions(n.setReadOnly.bind(n))}}),e&&this.loadGraphViewer(e,t),this},setReadOnly:function(){this.readOnly=!0,$("#createGraph").parent().parent().addClass("disabled"),$("#createGraph").addClass("disabled")},setFromAndTo:function(e){e.stopPropagation();var t,n=this.calculateEdgeDefinitionMap();if($("#tab-smartGraph").parent().hasClass("active")){if(e.added){if(-1===this.eCollList.indexOf(e.added.id)&&-1!==this.removedECollList.indexOf(e.added.id))return t=e.currentTarget.id.split("row_newEdgeDefinitions")[1],$('input[id*="newEdgeDefinitions'+t+'"]').select2("val",null),void $('input[id*="newEdgeDefinitions'+t+'"]').attr("placeholder","The collection "+e.added.id+" is already used.");this.removedECollList.push(e.added.id),this.eCollList.splice(this.eCollList.indexOf(e.added.id),1)}else e.removed&&(this.eCollList.push(e.removed.id),this.removedECollList.splice(this.removedECollList.indexOf(e.removed.id),1));n[e.val]?(t=e.currentTarget.id.split("row_newEdgeDefinitions")[1],$("#s2id_fromCollections"+t).select2("val",n[e.val].from),$("#fromCollections"+t).attr("disabled",!0),$("#s2id_toCollections"+t).select2("val",n[e.val].to),$("#toCollections"+t).attr("disabled",!0)):(t=e.currentTarget.id.split("row_newEdgeDefinitions")[1],$("#s2id_fromCollections"+t).select2("val",null),$("#fromCollections"+t).attr("disabled",!1),$("#s2id_toCollections"+t).select2("val",null),$("#toCollections"+t).attr("disabled",!1))}},editGraph:function(e){e.stopPropagation(),this.collection.fetch({cache:!1}),this.graphToEdit=this.evaluateGraphName($(e.currentTarget).attr("id"),"_settings");var t=this.collection.findWhere({_key:this.graphToEdit});t.get("isSmart")?this.createEditGraphModal(t,!0):"satellite"===t.get("replicationFactor")?this.createEditGraphModal(t,!1,!0):this.createEditGraphModal(t)},saveEditedGraph:function(){var e,t,n,i,a=$("#editGraphName")[0].value,r=_.pluck($("#newVertexCollections").select2("data"),"text"),o=[],s={};if($("[id^=s2id_newEdgeDefinitions]").toArray().forEach((function(a){if(i=(i=$(a).attr("id")).replace("s2id_newEdgeDefinitions",""),(e=_.pluck($("#s2id_newEdgeDefinitions"+i).select2("data"),"text")[0])&&""!==e&&(t=_.pluck($("#s2id_fromCollections"+i).select2("data"),"text"),n=_.pluck($("#s2id_toCollections"+i).select2("data"),"text"),0!==t.length&&0!==n.length)){var r={collection:e,from:t,to:n};o.push(r),s[e]=r}})),0===o.length)return $("#s2id_newEdgeDefinitions0 .select2-choices").css("border-color","red"),$("#s2id_newEdgeDefinitions0").parent().parent().next().find(".select2-choices").css("border-color","red"),void $("#s2id_newEdgeDefinitions0").parent().parent().next().next().find(".select2-choices").css("border-color","red");var l=this.collection.findWhere({_key:a}),c=l.get("edgeDefinitions"),d=l.get("orphanCollections"),u=[];d.forEach((function(e){-1===r.indexOf(e)&&l.deleteVertexCollection(e)})),r.forEach((function(e){-1===d.indexOf(e)&&l.addVertexCollection(e)}));var h=[],p=[],f=[];c.forEach((function(e){var t=e.collection;u.push(t);var n=s[t];void 0===n?f.push(t):JSON.stringify(n)!==JSON.stringify(e)&&p.push(t)})),o.forEach((function(e){var t=e.collection;-1===u.indexOf(t)&&h.push(t)}));var g={},m=$("#s2id_new-hybridSatelliteCollections").select2("data");m.length>0&&(g.satellites=[],_.forEach(m,(function(e){g.satellites.push(e.id)}))),h.forEach((function(e){l.addEdgeDefinition(s[e],g)})),p.forEach((function(e){l.modifyEdgeDefinition(s[e],g)})),f.forEach((function(e){l.deleteEdgeDefinition(e)})),this.updateGraphManagementView(),window.modalView.hide()},evaluateGraphName:function(e,t){var n=e.lastIndexOf(t);return e.substring(0,n)},search:function(){var e,t,n,i;e=$("#graphManagementSearchInput"),t=arangoHelper.escapeHtml($("#graphManagementSearchInput").val()),i=this.collection.filter((function(e){return-1!==e.get("_key").indexOf(t)})),$(this.el).html(this.template.render({graphs:i,searchString:t})),n=(e=$("#graphManagementSearchInput")).val().length,e.focus(),e[0].setSelectionRange(n,n)},updateGraphManagementView:function(){var e=this;this.collection.fetch({cache:!1,success:function(){e.render()}})},createNewGraph:function(){var e,t,n,i,a=$("#createNewGraphName").val(),r=_.pluck($("#newVertexCollections").select2("data"),"text"),o=[],s=this;if(!a)return arangoHelper.arangoError("A name for the graph has to be provided."),0;if(this.collection.findWhere({_key:a}))return arangoHelper.arangoError("The graph '"+a+"' already exists."),0;if($("[id^=s2id_newEdgeDefinitions]").toArray().forEach((function(a){i=(i=$(a).attr("id")).replace("s2id_newEdgeDefinitions",""),(e=_.pluck($("#s2id_newEdgeDefinitions"+i).select2("data"),"text")[0])&&""!==e&&(t=_.pluck($("#s2id_fromCollections"+i).select2("data"),"text"),n=_.pluck($("#s2id_toCollections"+i).select2("data"),"text"),1!==t&&1!==n&&o.push({collection:e,from:t,to:n}))})),0===o.length)return $("#s2id_newEdgeDefinitions0 .select2-choices").css("border-color","red"),$("#s2id_newEdgeDefinitions0").parent().parent().next().find(".select2-choices").css("border-color","red"),void $("#s2id_newEdgeDefinitions0").parent().parent().next().next().find(".select2-choices").css("border-color","red");var l={name:a,edgeDefinitions:o,orphanCollections:r};if($("#tab-smartGraph").parent().hasClass("active")){if(""===$("#new-numberOfShards").val()||""===$("#new-smartGraphAttribute").val())return void arangoHelper.arangoError("SmartGraph creation","numberOfShards and/or smartGraphAttribute not set!");l.isSmart=!0,l.options={numberOfShards:parseInt($("#new-numberOfShards").val()),smartGraphAttribute:$("#new-smartGraphAttribute").val(),replicationFactor:parseInt($("#new-replicationFactor").val()),minReplicationFactor:parseInt($("#new-writeConcern").val()),isDisjoint:$("#new-isDisjoint").is(":checked")};var c=$("#s2id_hybridSatelliteCollections").select2("data");if(c.length>0){var d=[];_.forEach(c,(function(e){d.push(e.id)})),l.options.satellites=d}}else $("#tab-satelliteGraph").parent().hasClass("active")?l.options={replicationFactor:"satellite"}:frontendConfig.isCluster&&($("#general-numberOfShards").val().length>0&&(l.options={numberOfShards:parseInt($("#general-numberOfShards").val())}),$("#general-replicationFactor").val().length>0&&(l.options?l.options.replicationFactor=parseInt($("#general-replicationFactor").val()):l.options={replicationFactor:parseInt($("#general-replicationFactor").val())}),$("#general-writeConcern").val().length>0&&(l.options?l.options.minReplicationFactor=parseInt($("#general-writeConcern").val()):l.options={minReplicationFactor:parseInt($("#general-writeConcern").val())}));this.collection.create(l,{success:function(){s.updateGraphManagementView(),window.modalView.hide()},error:function(e,t){var n=JSON.parse(t.responseText).errorMessage;n=(n=n.replace("<","")).replace(">",""),arangoHelper.arangoError(n)}})},createEditGraphModal:function(e,t,n){var i,a=[],r=[],o=[],s=this.options.collectionCollection.models,l=this,c="",d=[{collection:"",from:"",to:""}],u="",h=function(e,t){return(e=e.toLowerCase())<(t=t.toLowerCase())?-1:e>t?1:0};if(this.eCollList=[],this.removedECollList=[],s.forEach((function(e){e.get("isSystem")||("edge"===e.get("type")?l.eCollList.push(e.id):r.push(e.id))})),this.counter=0,e){if(i=t?"Edit SmartGraph":n?"Edit SatelliteGraph":"Edit Graph",c=e.get("_key"),(d=e.get("edgeDefinitions"))&&0!==d.length||(d=[{collection:"",from:"",to:""}]),u=e.get("orphanCollections"),o.push(window.modalView.createReadOnlyEntry("editGraphName","Name",c,"The name to identify the graph. Has to be unique")),t&&o.push(window.modalView.createReadOnlyEntry("smartGraphAttribute","SmartGraph Attribute",e.get("smartGraphAttribute"),"The attribute name that is used to smartly shard the vertices of a graph. \nEvery vertex in this Graph has to have this attribute. \n")),e.get("numberOfShards")&&o.push(window.modalView.createReadOnlyEntry("numberOfShards","Shards",e.get("numberOfShards"),"Number of shards the graph is using.")),e.get("replicationFactor")&&o.push(window.modalView.createReadOnlyEntry("replicationFactor","Replication factor",e.get("replicationFactor"),"Total number of desired copies of the data in the cluster.")),e.get("minReplicationFactor")&&o.push(window.modalView.createReadOnlyEntry("writeConcern","Write concern",e.get("minReplicationFactor"),"Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created.")),t){var p="No";e.get("isDisjoint")&&(p="Yes"),o.push(window.modalView.createReadOnlyEntry("isDisjoint","Disjoint SmartGraph",p,"Disjoint SmartGraph: Creating edges between different SmartGraph components is not allowed.")),o.push(window.modalView.createSelect2Entry("new-hybridSatelliteCollections","New Satellite collections","","Insert vertex collections here which are being used in new edge definitions (fromCollections, toCollections).Those defined collections will be created as SatelliteCollections, and therefore will be replicated to all DB-Servers.","New Satellite Collections",!1,!1,!1,null,r.sort(h)))}a.push(window.modalView.createDeleteButton("Delete",this.deleteGraph.bind(this))),a.push(window.modalView.createNotificationButton("Reset display settings",this.resetDisplaySettings.bind(this))),a.push(window.modalView.createSuccessButton("Save",this.saveEditedGraph.bind(this)))}else i="Create Graph",o.push(window.modalView.createTextEntry("createNewGraphName","Name","","The name to identify the graph. Has to be unique.","graphName",!0)),a.push(window.modalView.createSuccessButton("Create",this.createNewGraph.bind(this)));if(!0!==frontendConfig.isEnterprise||e||(o.push(window.modalView.createTextEntry("new-numberOfShards","Shards*","","Number of shards the SmartGraph is using.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[0-9]*$/),msg:"Must be a number."}])),o.push(window.modalView.createTextEntry("new-replicationFactor","Replication factor","","Numeric value. Must be at least 1. Total number of copies of the data in the cluster.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[1-9]*$/),msg:"Must be a number."}])),o.push(window.modalView.createTextEntry("new-writeConcern","Write concern","","Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[1-9]*$/),msg:"Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created."}])),o.push(window.modalView.createCheckboxEntry("new-isDisjoint","Create disjoint graph",!1,"Creates a Disjoint SmartGraph. Creating edges between different SmartGraph components is not allowed.")),o.push(window.modalView.createTextEntry("new-smartGraphAttribute","SmartGraph Attribute*","","The attribute name that is used to smartly shard the vertices of a graph. \nEvery vertex in this Graph has to have this attribute. \nCannot be modified later.","",!1,[{rule:Joi.string().allow("").optional(),msg:"Must be a string."}]))),frontendConfig.isCluster&&!e&&(o.push(window.modalView.createTextEntry("general-numberOfShards","Shards","","Number of shards the graph is using.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[0-9]*$/),msg:"Must be a number."}])),o.push(window.modalView.createTextEntry("general-replicationFactor","Replication factor","","Numeric value. Must be at least 1. Total number of desired copies of the data in the cluster.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[1-9]*$/),msg:"Must be a number."}])),o.push(window.modalView.createTextEntry("general-writeConcern","Write concern","","Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[1-9]*$/),msg:"Must be a number. Must be at least 1 and has to be smaller or equal compared to the replicationFactor."}])),o.push(window.modalView.createSelect2Entry("hybridSatelliteCollections","Satellite collections","","Insert vertex collections here which are being used in your edge definitions (fromCollections, toCollections).Those defined collections will be created as SatelliteCollections, and therefore will be replicated to all DB-Servers.","Satellite Collections",!1,!1,!1,null,r.sort(h)))),d.forEach((function(e){0===l.counter?(e.collection&&(l.removedECollList.push(e.collection),l.eCollList.splice(l.eCollList.indexOf(e.collection),1)),o.push(window.modalView.createSelect2Entry("newEdgeDefinitions"+l.counter,"Edge definitions",e.collection,"An edge definition defines a relation of the graph","Edge definitions",!0,!1,!0,1,l.eCollList.sort(h)))):o.push(window.modalView.createSelect2Entry("newEdgeDefinitions"+l.counter,"Edge definitions",e.collection,"An edge definition defines a relation of the graph","Edge definitions",!1,!0,!1,1,l.eCollList.sort(h))),o.push(window.modalView.createSelect2Entry("fromCollections"+l.counter,"fromCollections",e.from,"The collections that contain the start vertices of the relation.","fromCollections",!0,!1,!1,null,r.sort(h))),o.push(window.modalView.createSelect2Entry("toCollections"+l.counter,"toCollections",e.to,"The collections that contain the end vertices of the relation.","toCollections",!0,!1,!1,null,r.sort(h))),l.counter++})),o.push(window.modalView.createSelect2Entry("newVertexCollections","Vertex collections",u,"Collections that are part of a graph but not used in an edge definition","Vertex Collections",!1,!1,!1,null,r.sort(h))),window.modalView.show("modalGraphTable.ejs",i,a,o,void 0,void 0,this.events),$("#tab-createGraph").parent().hasClass("active")&&l.hideSmartGraphRows(),e){var f;for($(".modal-body table").css("border-collapse","separate"),$(".modal-body .spacer").remove(),f=0;f<=this.counter;f++)$("#row_fromCollections"+f).show(),$("#row_toCollections"+f).show(),$("#row_newEdgeDefinitions"+f).addClass("first"),$("#row_fromCollections"+f).addClass("middle"),$("#row_toCollections"+f).addClass("last"),$("#row_toCollections"+f).after('<tr id="spacer'+f+'" class="spacer"></tr>');$("#graphTab").hide(),$("#modal-dialog .modal-delete-confirmation").append('<fieldset><input type="checkbox" id="dropGraphCollections" name="" value=""><label for="dropGraphCollections">also drop collections?</label></fieldset>')}},resetDisplaySettings:function(){var e=$("#editGraphName").val(),t=new window.GraphSettingsView({name:e,userConfig:window.App.userConfig});t.setDefaults(!0,!0),t.remove(),window.modalView.hide(),arangoHelper.arangoNotification("Graph","Reset successful.")},addRemoveDefinition:function(e){var t=[];this.options.collectionCollection.models.forEach((function(e){e.get("isSystem")||"edge"!==e.get("type")&&t.push(e.id)})),e.stopPropagation();var n,i,a=$(e.currentTarget).attr("id");if(-1===a.indexOf("addAfter_newEdgeDefinitions"))-1!==a.indexOf("remove_newEdgeDefinitions")&&(n=a.split("remove_newEdgeDefinitions")[1],$("#row_newEdgeDefinitions"+n).remove(),$("#row_fromCollections"+n).remove(),$("#row_toCollections"+n).remove(),$("#spacer"+n).remove());else for(this.counter++,$("#row_newVertexCollections").before(this.edgeDefintionTemplate.render({number:this.counter})),$("#newEdgeDefinitions"+this.counter).select2({tags:this.eCollList,showSearchBox:!1,minimumResultsForSearch:-1,width:"336px",maximumSelectionSize:1}),$("#fromCollections"+this.counter).select2({tags:t,showSearchBox:!1,minimumResultsForSearch:-1,width:"336px"}),$("#toCollections"+this.counter).select2({tags:t,showSearchBox:!1,minimumResultsForSearch:-1,width:"336px"}),window.modalView.undelegateEvents(),window.modalView.delegateEvents(this.events),arangoHelper.fixTooltips(".icon_arangodb, .arangoicon","right"),$(".modal-body .spacer").remove(),i=0;i<=this.counter;i++)$("#row_fromCollections"+i).show(),$("#row_toCollections"+i).show(),$("#row_newEdgeDefinitions"+i).addClass("first"),$("#row_fromCollections"+i).addClass("middle"),$("#row_toCollections"+i).addClass("last"),$("#row_toCollections"+i).after('<tr id="spacer'+i+'" class="spacer"></tr>')},calculateEdgeDefinitionMap:function(){var e={};return this.collection.models.forEach((function(t){t.get("edgeDefinitions").forEach((function(t){e[t.collection]={from:t.from,to:t.to}}))})),e}})}()},function(e,t){!function(){"use strict";window.GraphSettingsView=Backbone.View.extend({el:"#graphSettingsContent",remove:function(){return this.$el.empty().off(),this.stopListening(),this},general:{graph:{type:"divider",name:"Graph"},nodeStart:{type:"string",name:"Startnode",desc:"A valid node id or space seperated list of id's. If empty, a random node will be chosen.",value:2},layout:{type:"select",name:"Layout",desc:"Different graph algorithms. No overlap is very fast (more than 5000 nodes), force is slower (less than 5000 nodes) and fruchtermann is the slowest (less than 500 nodes).",noverlap:{name:"No overlap",val:"noverlap"},force:{name:"Force",val:"force"},fruchtermann:{name:"Fruchtermann",val:"fruchtermann"}},renderer:{type:"select",name:"Renderer",desc:"Canvas enables editing, WebGL is only for displaying a graph but much faster.",canvas:{name:"Canvas",val:"canvas"},webgl:{name:"WebGL (experimental)",val:"webgl"}},depth:{desc:"Search depth, starting from your start node.",type:"number",name:"Search Depth",value:2},limit:{desc:"Limit nodes count. If empty or zero, no limit is set.",type:"number",name:"Limit",value:250}},specific:{nodes:{type:"divider",name:"Nodes"},nodeLabel:{type:"string",name:"Label",desc:"Node label. Please choose a valid and available node attribute.",default:"_key"},nodeLabelByCollection:{type:"select",name:"Add Collection Name",desc:"Append collection name to the label?",yes:{name:"Yes",val:"true"},no:{name:"No",val:"false"}},nodeColorByCollection:{type:"select",name:"Color By Collections",no:{name:"No",val:"false"},yes:{name:"Yes",val:"true"},desc:"Should nodes be colorized by their collection? If enabled, node color and node color attribute will be ignored."},nodeColor:{type:"color",name:"Color",desc:"Default node color. RGB or HEX value.",default:"#2ecc71"},nodeColorAttribute:{type:"string",name:"Color Attribute",desc:"If an attribute is given, nodes will then be colorized by the attribute. This setting ignores default node color if set."},nodeSizeByEdges:{type:"select",name:"Size By Connections",yes:{name:"Yes",val:"true"},no:{name:"No",val:"false"},desc:"Should nodes be sized by their edges count? If enabled, node sizing attribute will be ignored."},nodeSize:{type:"string",name:"Sizing Attribute",desc:"Default node size. Numeric value > 0."},edges:{type:"divider",name:"Edges"},edgeLabel:{type:"string",name:"Label",desc:"Default edge label."},edgeLabelByCollection:{type:"select",name:"Add Collection Name",desc:"Set label text by collection. If activated edge label attribute will be ignored.",yes:{name:"Yes",val:"true"},no:{name:"No",val:"false"}},edgeColorByCollection:{type:"select",name:"Color By Collections",no:{name:"No",val:"false"},yes:{name:"Yes",val:"true"},desc:"Should edges be colorized by their collection? If enabled, edge color and edge color attribute will be ignored."},edgeColor:{type:"color",name:"Color",desc:"Default edge color. RGB or HEX value.",default:"#cccccc"},edgeColorAttribute:{type:"string",name:"Color Attribute",desc:"If an attribute is given, edges will then be colorized by the attribute. This setting ignores default edge color if set."},edgeEditable:{type:"select",hide:"true",name:"Editable",yes:{name:"Yes",val:"true"},no:{name:"No",val:"false"},desc:"Should edges be editable?"},edgeType:{type:"select",name:"Type",desc:"The type of the edge",line:{name:"Line",val:"line"},arrow:{name:"Arrow",val:"arrow"},curve:{name:"Curve",val:"curve"},dotted:{name:"Dotted",val:"dotted"},dashed:{name:"Dashed",val:"dashed"},tapered:{name:"Tapered",val:"tapered"}}},template:templateEngine.createTemplate("graphSettingsView.ejs"),initialize:function(e){this.name=e.name,this.userConfig=e.userConfig,this.saveCallback=e.saveCallback,e.noDefinedGraph&&(this.noDefinedGraph=e.noDefinedGraph)},events:{"click #saveGraphSettings":"saveGraphSettings","click #restoreGraphSettings":"setDefaults","keyup #graphSettingsView input":"checkEnterKey","keyup #graphSettingsView select":"checkEnterKey",'change input[type="range"]':"saveGraphSettings",'change input[type="color"]':"checkColor","change select":"saveGraphSettings","focus #graphSettingsView input":"lastFocus","focus #graphSettingsView select":"lastFocus",'focusout #graphSettingsView input[type="text"]':"checkinput"},lastFocus:function(e){this.lastFocussed=e.currentTarget.id,this.lastFocussedValue=$(e.currentTarget).val()},checkinput:function(e){new Date-this.lastSaved>500&&e.currentTarget.id===this.lastFocussed&&this.lastFocussedValue!==$(e.currentTarget).val()&&this.saveGraphSettings()},checkEnterKey:function(e){13===e.keyCode&&this.saveGraphSettings(e)},getGraphSettings:function(e){var t=this,n=frontendConfig.db+"_"+this.name;this.userConfig.fetch({success:function(i){t.graphConfig=i.toJSON().graphs[n],e&&t.continueRender()}})},checkColor:function(){this.lastConfigChange?new Date-this.lastConfigChange>750&&this.saveGraphSettings(null,!0):this.saveGraphSettings(null,!0)},saveGraphSettings:function(e,t,n,i,a,r){var o=this,s=function(){var e=!$("#g_nodeColor").is(":disabled"),t=!$("#g_edgeColor").is(":disabled");window.App.graphViewer.updateColors(e,t,$("#g_nodeColor").val(),$("#g_edgeColor").val())};if(this.noDefinedGraph){t?s():"g_layout"===e.currentTarget.id?window.App.graphViewer.rerenderAQL($("#g_layout").val(),null):"g_nodeColorByCollection"===e.currentTarget.id?"true"===$("#g_nodeColorByCollection").val()?window.App.graphViewer.switchNodeColorByCollection(!0):window.App.graphViewer.switchNodeColorByCollection(!1):"g_edgeColorByCollection"===e.currentTarget.id?"true"===$("#g_edgeColorByCollection").val()?window.App.graphViewer.switchEdgeColorByCollection(!0):window.App.graphViewer.switchEdgeColorByCollection(!1):"g_nodeSizeByEdges"===e.currentTarget.id?"true"===$("#g_nodeSizeByEdges").val()?window.App.graphViewer.switchNodeSizeByCollection(!0):window.App.graphViewer.switchNodeSizeByCollection(!1):"g_edgeType"===e.currentTarget.id&&window.App.graphViewer.switchEdgeType($("#g_edgeType").val())}else{o.lastSaved=new Date;var l=frontendConfig.db+"_"+this.name,c={};if(i)c[l]=i;else{var d,u={};$("#graphSettingsView select").each((function(e,t){d=t.id,u[d.substr(2,t.id.length)]=$(t).val()})),$("#graphSettingsView input").each((function(e,t){d=t.id,u[d.substr(2,t.id.length)]=$(t).val()})),c[l]=u}n&&(c[l].nodeStart=n),c[l].edgeEditable="true";var h=function(){if(o.lastConfigChange=new Date,window.App.graphViewer){if(e){if("g_layout"===e.currentTarget.id)return void window.App.graphViewer.switchLayout($("#g_layout").val());if("g_nodeColorByCollection"===e.currentTarget.id)return void("true"===$("#g_nodeColorByCollection").val()?window.App.graphViewer.switchNodeColorByCollection(!0):$("#g_nodeColorAttribute").is(":disabled")?window.App.graphViewer.switchNodeColorByCollection(!1):window.App.graphViewer.switchNodeColorByCollection(!1,!0));if("g_edgeColorByCollection"===e.currentTarget.id)return void("true"===$("#g_edgeColorByCollection").val()?window.App.graphViewer.switchEdgeColorByCollection(!0):$("#g_nodeColorAttribute").is(":disabled")?window.App.graphViewer.switchEdgeColorByCollection(!1):window.App.graphViewer.switchEdgeColorByCollection(!1,!0))}""!==t&&void 0!==t?s():window.App.graphViewer.render(o.lastFocussed)}else a||arangoHelper.arangoNotification("Graph "+this.name,"Configuration saved.");r&&r()}.bind(this);this.userConfig.setItem("graphs",c,h)}this.handleDependencies()},setDefaults:function(e,t,n){var i={layout:"force",renderer:"canvas",depth:"2",limit:"250",nodeColor:"#2ecc71",nodeColorAttribute:"",nodeColorByCollection:"true",edgeColor:"#cccccc",edgeColorAttribute:"",edgeColorByCollection:"false",nodeLabel:"_key",edgeLabel:"",edgeType:"arrow",nodeSize:"",nodeSizeByEdges:"true",edgeEditable:"true",nodeLabelByCollection:"false",edgeLabelByCollection:"false",nodeStart:"",barnesHutOptimize:!0};!0===e?t?this.saveGraphSettings(null,null,null,i,t,n):this.saveGraphSettings(null,null,null,i):(this.saveGraphSettings(null,null,null,i,null),this.render(),window.App.graphViewer.render(this.lastFocussed))},toggle:function(){$(this.el).is(":visible")?this.hide():this.show()},show:function(){$(this.el).show("slide",{direction:"right"},250)},hide:function(){$(this.el).hide("slide",{direction:"right"},250)},render:function(){this.noDefinedGraph?this.continueRender():(this.getGraphSettings(!0),this.lastSaved=new Date)},handleDependencies:function(){"true"===$("#g_nodeSizeByEdges").val()?$("#g_nodeSize").prop("disabled",!0):$("#g_nodeSize").removeAttr("disabled"),"true"===$("#g_nodeColorByCollection").val()?($("#g_nodeColorAttribute").prop("disabled",!0),$("#g_nodeColor").prop("disabled",!0)):($("#g_nodeColorAttribute").removeAttr("disabled"),$("#g_nodeColor").removeAttr("disabled")),this.noDefinedGraph||""!==$("#g_nodeColorAttribute").val()&&$("#g_nodeColor").prop("disabled",!0),"true"===$("#g_edgeColorByCollection").val()?($("#g_edgeColorAttribute").prop("disabled",!0),$("#g_edgeColor").prop("disabled",!0)):($("#g_edgeColorAttribute").removeAttr("disabled"),$("#g_edgeColor").removeAttr("disabled")),this.noDefinedGraph||""!==$("#g_edgeColorAttribute").val()&&$("#g_edgeColor").prop("disabled",!0)},continueRender:function(){$(this.el).html(this.template.render({general:this.general,specific:this.specific})),arangoHelper.fixTooltips(".gv-tooltips","top"),this.graphConfig?_.each(this.graphConfig,(function(e,t){$("#g_"+t).val(e)})):this.noDefinedGraph?this.fitSettingsAQLMode():this.setDefaults(!0),this.handleDependencies()},fitSettingsAQLMode:function(){_.each(["g_nodeStart","g_depth","g_limit","g_renderer","g_nodeLabel","g_nodeLabelByCollection","g_nodeColorAttribute","g_nodeSize","g_edgeLabel","g_edgeColorAttribute","g_edgeLabelByCollection"],(function(e){$("#"+e).parent().prev().remove(),$("#"+e).parent().remove()})),$("#saveGraphSettings").remove(),$("#restoreGraphSettings").remove(),$("#g_nodeColorByCollection").val("false"),$("#g_edgeColorByCollection").val("false"),$("#g_nodeSizeByEdges").val("false"),$("#g_edgeType").val("arrow"),$("#g_layout").val("force")}})}()},function(e,t){!function(){"use strict";window.GraphViewer=Backbone.View.extend({el:"#content",remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},template:templateEngine.createTemplate("graphViewer2.ejs"),initialize:function(e){var t=this;e.id&&(this.setElement(e.id),this.graphData=e.data,this.aqlMode=!0),e.noDefinedGraph&&(this.noDefinedGraph=e.noDefinedGraph,this.graphData=e.data),this.name=e.name,this.userConfig=e.userConfig,this.documentStore=e.documentStore,void 0!==this.name&&this.collection.fetch({cache:!1,success:function(n){t.model=t.collection.findWhere({_key:e.name}).toJSON()}})},colors:{hotaru:["#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5"],random1:["#292F36","#4ECDC4","#F7FFF7","#DD6363","#FFE66D"],jans:["rgba(166, 109, 161, 1)","rgba(64, 74, 83, 1)","rgba(90, 147, 189, 1)","rgba(153,63,0,1)","rgba(76,0,92,1)","rgba(25,25,25,1)","rgba(0,92,49,1)","rgba(43,206,72,1)","rgba(255,204,153,1)","rgba(128,128,128,1)","rgba(148,255,181,1)","rgba(143,124,0,1)","rgba(157,204,0,1)","rgba(194,0,136,1)","rgba(0,51,128,1)","rgba(255,164,5,1)","rgba(255,168,187,1)","rgba(66,102,0,1)","rgba(255,0,16,1)","rgba(94,241,242,1)","rgba(0,153,143,1)","rgba(224,255,102,1)","rgba(116,10,255,1)","rgba(153,0,0,1)","rgba(255,255,128,1)","rgba(255,255,0,1)","rgba(255,80,5,1)"],gv:["#68BDF6","#6DCE9E","#FF756E","#DE9BF9","#FB95AF","#FFD86E","#A5ABB6"]},activeNodes:[],selectedNodes:{},aqlMode:!1,events:{"click #downloadPNG":"downloadPNG","click #loadFullGraph":"loadFullGraphModal","click #reloadGraph":"reloadGraph","click #settingsMenu":"toggleSettings","click #toggleForce":"toggleLayout","click #selectNodes":"toggleLasso"},cursorX:0,cursorY:0,layouting:!1,model:null,viewStates:{captureMode:!1},graphConfig:null,graphSettings:null,downloadPNG:function(){var e=parseInt($("#graph-container").width(),10);sigma.plugins.image(this.currentGraph,this.currentGraph.renderers[0],{download:!0,size:e,clip:!0,labels:!0,background:"white",zoom:!1})},loadFullGraphModal:function(){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry("load-full-graph-a","Caution","Really load full graph? If no limit is set, your result set could be too big.")),e.push(window.modalView.createSuccessButton("Load full graph",this.loadFullGraph.bind(this))),window.modalView.show("modalTable.ejs","Load full graph",e,t)},loadFullGraph:function(){var e=this,t={};this.graphConfig&&(delete(t=_.clone(this.graphConfig)).layout,delete t.edgeType,delete t.renderer),t.mode="all",$.ajax({type:"GET",url:arangoHelper.databaseUrl("/_admin/aardvark/graph/"+encodeURIComponent(this.name)),contentType:"application/json",data:t,success:function(t){e.killCurrentGraph(),e.renderGraph(t)},error:function(e){arangoHelper.arangoError("Graph","Could not load full graph.")}}),window.modalView.hide()},resize:function(){$("#graph-container").width($(".centralContent").width()),$("#graph-container").height($(".centralRow").height()-155)},toggleSettings:function(){this.graphSettingsView.toggle()},render:function(e){this.$el.html(this.template.render({})),$("#subNavigationBar .breadcrumb").html("Graph: "+this.name),this.resize(),this.fetchGraph(e),this.initFullscreen()},initFullscreen:function(){var e=this;if(!1===window.App.initializedFullscreen||void 0===window.App.initializedFullscreen){window.App.initializedFullscreen=!0,this.isFullscreen=!1;var t=function(t){(document.webkitIsFullScreen||document.mozFullScreen||null!==document.msFullscreenElement)&&(!1===e.isFullscreen?(e.isFullscreen=!0,$("#toggleForce").css("bottom","10px"),$("#toggleForce").css("right","10px"),$("#objectCount").css("bottom","10px"),$("#objectCount").css("left","10px"),$(".nodeInfoDiv").css("top","10px"),$(".nodeInfoDiv").css("left","10px")):(e.isFullscreen=!1,$("#toggleForce").css("bottom","40px"),$("#toggleForce").css("right","40px"),$("#objectCount").css("bottom","50px"),$("#objectCount").css("left","25px"),$(".nodeInfoDiv").css("top",""),$(".nodeInfoDiv").css("left","165px")))};document.addEventListener&&(document.addEventListener("webkitfullscreenchange",t,!1),document.addEventListener("mozfullscreenchange",t,!1),document.addEventListener("fullscreenchange",t,!1),document.addEventListener("MSFullscreenChange",t,!1))}},renderAQLPreview:function(e){this.$el.html(this.template.render({})),this.$el.find(".headerBar").remove();var t=$(".centralRow").height()-250;this.$el.find("#graph-container").css("height",t),this.graphData.modified=this.parseData(this.graphData.original,this.graphData.graphInfo);var n=!1;try{this.renderGraph(this.graphData.modified,null,!0),n=!0}catch(i){}return n},renderAQL:function(e){this.$el.html(this.template.render({})),$("#subNavigationBar .breadcrumb").html("AQL Graph"),$("#subNavigationBar .bottom").html(""),$(".queries-menu").removeClass("active"),this.resize(),this.graphData.modified=this.parseData(this.graphData.original,this.graphData.graphInfo),this.renderGraph(this.graphData.modified,null,!1),this.initFullscreen(),this.graphSettingsView=new window.GraphSettingsView({name:this.name,userConfig:void 0,saveCallback:void 0,noDefinedGraph:!0}),this.graphSettingsView.render()},killCurrentGraph:function(){if(this.currentGraph&&this.currentGraph.renderers)for(var e in this.currentGraph.renderers)try{this.currentGraph.renderers[e].clear(),this.currentGraph.kill(e)}catch(t){}},rerenderAQL:function(e,t){this.killCurrentGraph(),this.renderGraph(this.graphData.modified,null,!1,e,"canvas"),"true"===$("#g_nodeColorByCollection").val()?this.switchNodeColorByCollection(!0):$("#g_nodeColor").is(":disabled")?this.updateColors(!0,!0,null,null,!0):this.ncolor?this.updateColors(!0,!0,this.ncolor,this.ecolor):this.updateColors(!0,!0,"#2ecc71","#2ecc71"),"true"===$("#g_edgeColorByCollection").val()?this.switchEdgeColorByCollection(!0):$("#g_edgeColor").is(":disabled")?this.updateColors(!0,!0,null,null,!0):this.ecolor?this.updateColors(!0,!0,this.ncolor,this.ecolor):this.updateColors(!0,!0,"#2ecc71","#2ecc71")},buildCollectionColors:function(){var e=this;if(!e.collectionColors){e.collectionColors={};var t=0,n={},i={};_.each(this.currentGraph.graph.nodes(),(function(e){n[e.id]=void 0})),_.each(e.currentGraph.graph.edges(),(function(e){i[e.id]=void 0})),_.each(n,(function(n,i){void 0===e.collectionColors[i.split("/")[0]]&&(e.collectionColors[i.split("/")[0]]={color:e.colors.jans[t]},t++)})),t=0,_.each(i,(function(n,i){void 0===e.collectionColors[i.split("/")[0]]&&(e.collectionColors[i.split("/")[0]]={color:e.colors.jans[t]},t++)}))}},switchNodeColorByCollection:function(e,t){var n=this;n.buildCollectionColors(),e?(n.currentGraph.graph.nodes().forEach((function(e){e.color=n.collectionColors[e.id.split("/")[0]].color})),n.currentGraph.refresh()):t?this.updateColors(!0,null,null,null,t):this.ncolor?this.updateColors(!0,null,this.ncolor,this.ecolor):this.updateColors(!0,null,"#2ecc71","#2ecc71")},switchEdgeColorByCollection:function(e,t){var n=this;n.buildCollectionColors(),e?(n.currentGraph.graph.edges().forEach((function(e){e.color=n.collectionColors[e.id.split("/")[0]].color})),n.currentGraph.refresh()):t?this.updateColors(!0,null,null,null,t):this.ecolor?this.updateColors(null,!0,this.ncolor,this.ecolor):this.updateColors(null,!0,"#2ecc71","#2ecc71")},buildCollectionSizes:function(){var e=this;if(!e.nodeEdgesCount){e.nodeEdgesCount={};var t={};_.each(this.currentGraph.graph.edges(),(function(n){void 0===t[n.id]&&(t[n.id]=!0,void 0===e.nodeEdgesCount[n.source]?e.nodeEdgesCount[n.source]=1:e.nodeEdgesCount[n.source]+=1,void 0===e.nodeEdgesCount[n.target]?e.nodeEdgesCount[n.target]=1:e.nodeEdgesCount[n.target]+=1)}))}},switchNodeSizeByCollection:function(e){var t=this;e?(t.buildCollectionSizes(),t.currentGraph.graph.nodes().forEach((function(e){e.size=t.nodeEdgesCount[e.id]}))):t.currentGraph.graph.nodes().forEach((function(e){e.size=15})),t.currentGraph.refresh()},switchEdgeType:function(e){var t={nodes:this.currentGraph.graph.nodes(),edges:this.currentGraph.graph.edges(),settings:{}};this.killCurrentGraph(),this.renderGraph(t,null,!1,null,null,e)},switchLayout:function(e){var t={nodes:this.currentGraph.graph.nodes(),edges:this.currentGraph.graph.edges(),settings:{}};this.killCurrentGraph(),this.renderGraph(t,null,!1,e),"true"===$("#g_nodeColorByCollection").val()&&this.switchNodeColorByCollection(!0),"true"===$("#g_edgeColorByCollection").val()?this.switchEdgeColorByCollection(!0):this.switchEdgeColorByCollection(!1)},parseData:function(e,t){var n={},i={},a="#2ecc71",r={nodes:[],edges:[],settings:{}};if(this.ncolor&&(a=this.ncolor),"object"===t){_.each(e,(function(e){e.edges&&e.vertices&&(_.each(e.edges,(function(e){null!==e&&(i[e._id]={id:e._id,source:e._from,color:"#cccccc",target:e._to})})),_.each(e.vertices,(function(e){null!==e&&(n[e._id]={id:e._id,label:e._key,size:.3,color:a,x:Math.random(),y:Math.random()})})))}));var o=[];_.each(n,(function(e){r.nodes.push(e),o.push(e.id)})),_.each(i,(function(e){o.includes(e.source)&&o.includes(e.target)&&r.edges.push(e)}))}else if("array"===t){var s={};_.each(e,(function(e){e&&(n[e._from]=null,n[e._to]=null,e._id&&(s[e._id]={id:e._id,source:e._from,color:"#cccccc",target:e._to}))})),_.each(n,(function(e,t){r.nodes.push({id:t,label:t,size:.3,color:a,x:Math.random(),y:Math.random()})})),_.each(s,(function(e){r.edges.push(e)}))}return r},rerender:function(){this.fetchGraph()},fetchGraph:function(e){var t=this;$(this.el).append('<div id="calculatingGraph" style="position: absolute; left: 25px; top: 130px;"><i class="fa fa-circle-o-notch fa-spin" style="margin-right: 10px;"></i><span id="calcText">Fetching graph data. Please wait ... </span></br></br></br><span style="font-weight: 100; opacity: 0.6; font-size: 9pt;">If it`s taking too much time to draw the graph, please navigate to: <a style="font-weight: 500" href="'+window.location.href+'/graphs">Graphs View</a></br>Click the settings icon and reset the display settings.It is possible that the graph is too big to be handled by the browser.</span></div>');var n=function(){var n={};t.graphConfig&&(delete(n=_.clone(t.graphConfig)).layout,delete n.edgeType,delete n.renderer),t.tmpStartNode&&(t.graphConfig?0===t.graphConfig.nodeStart.length&&(n.nodeStart=t.tmpStartNode):n.nodeStart=t.tmpStartNode),t.setupSigma(),t.fetchStarted=new Date,$.ajax({type:"GET",url:arangoHelper.databaseUrl("/_admin/aardvark/graph/"+encodeURIComponent(t.name)),contentType:"application/json",data:n,success:function(n){!0===n.empty?t.renderGraph(n,e):(n.settings&&n.settings.startVertex&&void 0===t.graphConfig.startNode&&void 0===t.tmpStartNode&&(t.tmpStartNode=n.settings.startVertex._id),t.fetchFinished=new Date,t.calcStart=t.fetchFinished,$("#calcText").html("Server response took "+Math.abs(t.fetchFinished.getTime()-t.fetchStarted.getTime())+" ms. Initializing graph engine. Please wait ... "),window.setTimeout((function(){t.renderGraph(n,e)}),50))},error:function(e){try{var n;if(e.responseJSON.exception)if(n=e.responseJSON.exception,-1!==e.responseJSON.exception.search("1205")){var i='Starting point: <span style="font-weight: 400">'+t.graphConfig.nodeStart+"</span> is invalid";$("#calculatingGraph").html('<div style="font-weight: 300; font-size: 10.5pt"><span style="font-weight: 400">Stopped. </span></br></br>'+i+'. Please <a style="color: #3498db" href="'+window.location.href+'/settings">choose a different start node.</a></div>')}else $("#calculatingGraph").html("Failed to fetch graph information.");else n=e.responseJSON.errorMessage,$("#calculatingGraph").html("Failed to fetch graph information: "+e.responseJSON.errorMessage);arangoHelper.arangoError("Graph",n)}catch(a){}}})};void 0===t.graphConfig||null===t.graphConfig?t.userConfig.fetch({success:function(e){var i=frontendConfig.db+"_"+t.name;try{t.graphConfig=e.toJSON().graphs[i],t.getGraphSettings(n),void 0===t.graphConfig||null===t.graphConfig?(t.graphSettingsView=new window.GraphSettingsView({name:t.name,userConfig:t.userConfig,saveCallback:t.render}),t.graphSettingsView.setDefaults(!0,!0)):(t.graphSettingsView&&t.graphSettingsView.remove(),t.graphSettingsView=new window.GraphSettingsView({name:t.name,userConfig:t.userConfig,saveCallback:t.render}),t.graphSettingsView.render())}catch(a){t.getGraphSettings(n)}}}):this.getGraphSettings(n)},setupSigma:function(){if(this.graphConfig&&this.graphConfig.edgeLabel){sigma.utils.pkg("sigma.settings");sigma.settings=sigma.utils.extend(sigma.settings||{},{defaultEdgeLabelColor:"#000",defaultEdgeLabelActiveColor:"#000",defaultEdgeLabelSize:12,edgeLabelSize:"fixed",edgeLabelThreshold:1,edgeLabelSizePowRatio:1}),sigma.settings.drawEdgeLabels=!0,sigma.settings.clone=!0}},contextState:{createEdge:!1,_from:!1,_to:!1,fromX:!1,fromY:!1},removeOldContextMenu:function(){$("#nodeContextMenu").remove()},clearOldContextMenu:function(e){var t=this;$("#nodeContextMenu").remove();$("#graph-container").append('<div id="nodeContextMenu" class="nodeContextMenu animated zoomIn"></div>'),e&&_.each(this.contextState,(function(e,n){t.contextState[n]=!1})),document.getElementsByClassName("sigma-mouse")[0].removeEventListener("mousemove",t.drawLine.bind(this),!1)},trackCursorPosition:function(e){this.cursorX=e.x,this.cursorY=e.y},deleteNode:function(e,t){var n,i,a,r=this;i=(n=t||$("#delete-node-attr-id").text()).split("/")[0],a=n.split("/")[1];var o=arangoHelper.databaseUrl("/_api/gharial/"+encodeURIComponent(r.name)+"/vertex/"+encodeURIComponent(n.split("/")[0])+"/"+encodeURIComponent(n.split("/")[1]));if("yes"===$("#delete-node-edges-attr").val())$.ajax({cache:!1,type:"DELETE",contentType:"application/json",url:o,success:function(e){r.currentGraph.graph.dropNode(n),r.currentGraph.refresh()},error:function(){arangoHelper.arangoError("Graph","Could not delete node.")}});else{this.documentStore.deleteDocument(i,a,(function(e){e?arangoHelper.arangoError("Graph","Could not delete node."):(r.currentGraph.graph.dropNode(n),r.currentGraph.refresh())}))}window.modalView.hide()},deleteNodes:function(){var e=this;try{var t=JSON.parse($("#delete-nodes-arr-id").text());_.each(t,(function(t){e.deleteNode(null,t)}))}catch(n){}},deleteNodesModal:function(){var e=[];if(_.each(this.selectedNodes,(function(t){e.push(t)})),0!==e.length){var t=[],n=[];n.push(window.modalView.createReadOnlyEntry("delete-nodes-arr-id","Really delete nodes",JSON.stringify(e))),t.push(window.modalView.createDeleteButton("Delete",this.deleteNodes.bind(this))),window.modalView.show("modalTable.ejs","Delete nodes",t,n)}else arangoHelper.arangoNotification("Graph","No nodes selected.")},deleteNodeModal:function(e){var t=[],n=[];n.push(window.modalView.createReadOnlyEntry("delete-node-attr-id","Really delete node",e)),this.noDefinedGraph||n.push(window.modalView.createSelectEntry("delete-node-edges-attr","Also delete edges?",void 0,void 0,[{value:"yes",label:"Yes"},{value:"no",label:"No"}])),t.push(window.modalView.createDeleteButton("Delete",this.deleteNode.bind(this))),window.modalView.show("modalTable.ejs","Delete node",t,n)},addNode:function(){var e=this,t=$(".modal-body #new-node-collection-attr").val(),n=$(".modal-body #new-node-key-attr").last().val(),i={};try{i=this.editor.get()}catch(x){return void arangoHelper.arangoError("failed to parse JSON document",x.message)}if(""!==n&&void 0!==n&&(i._key=n),this.graphSettings.isSmart){var a=$("#new-smart-key-attr").val();i[this.graphSettings.smartGraphAttribute]=""!==a&&void 0!==a?a:null}this.collection.createNode(e.name,t,i,(function(t,n,i){t?arangoHelper.arangoError("Could not create node",i):($("#emptyGraph").remove(),e.currentGraph.graph.addNode({id:n,label:n.split("/")[1]||"",size:e.graphConfig.nodeSize||15,color:e.graphConfig.nodeColor||e.ncolor||"#2ecc71",originalColor:e.graphConfig.nodeColor||e.ncolor||"#2ecc71",x:e.addNodeX+e.currentGraph.camera.x,y:e.addNodeY+e.currentGraph.camera.y}),window.modalView.hide(),e.currentGraph.refresh(),e.cameraToNode(e.currentGraph.graph.nodes(n)))}))},deleteEdgeModal:function(e){var t=[],n=[];n.push(window.modalView.createReadOnlyEntry("delete-edge-attr-id","Really delete edge",e)),t.push(window.modalView.createDeleteButton("Delete",this.deleteEdge.bind(this))),window.modalView.show("modalTable.ejs","Delete edge",t,n)},deleteEdge:function(){var e=this,t=$("#delete-edge-attr-id").text(),n=t.split("/")[0],i=t.split("/")[1];this.documentStore.deleteDocument(n,i,(function(n){n?arangoHelper.arangoError("Graph","Could not delete edge."):(e.currentGraph.graph.dropEdge(t),e.currentGraph.refresh())})),window.modalView.hide()},addNodeModal:function(){if(0!==this.graphSettings.vertexCollections){var e=[],t=[],n=[];_.each(this.graphSettings.vertexCollections,(function(e){n.push({label:e.name,value:e.name})})),t.push(window.modalView.createTextEntry("new-node-key-attr","_key",void 0,"The node's unique key (optional attribute, leave empty for autogenerated key)","is optional: leave empty for autogenerated key",!1,[{rule:Joi.string().allow("").optional(),msg:""}])),this.graphSettings.isSmart&&t.push(window.modalView.createTextEntry("new-smart-key-attr",this.graphSettings.smartGraphAttribute+"*",void 0,"The attribute value that is used to shard the vertices of a SmartGraph. \nEvery vertex in this SmartGraph has to have this attribute. \nCannot be modified later.","Cannot be modified later.",!1,[{rule:Joi.string().allow("").optional(),msg:""}])),t.push(window.modalView.createSelectEntry("new-node-collection-attr","Collection",void 0,"Please select the target collection for the new node.",n)),t.push(window.modalView.createJsonEditor()),e.push(window.modalView.createSuccessButton("Create",this.addNode.bind(this))),window.modalView.show("modalTable.ejs","Create node",e,t);var i=document.getElementById("jsoneditor");this.resize();var a={onChange:function(){},onModeChange:function(e){},search:!0,mode:"code",modes:["tree","code"],ace:window.ace};this.editor=new JSONEditor(i,a)}else arangoHelper.arangoError("Graph","No valid vertex collections found.")},addEdge:function(){var e,t=this,n=t.contextState._from,i=t.contextState._to;e=""===$(".modal-body #new-edge-collection-attr").val()?$(".modal-body #new-edge-collection-attr").text():$(".modal-body #new-edge-collection-attr").val();var a,r=$(".modal-body #new-edge-key-attr").last().val(),o=function(e,a,r){if(e)arangoHelper.arangoError("Could not create edge",r);else{var o;try{o=this.editor.get()}catch(x){return void arangoHelper.arangoError("failed to parse JSON document",x.message)}try{o.source=n}catch(x){(o={}).source=n}o.target=i,o.id=a,o.color=t.graphConfig.edgeColor||t.ecolor,"true"===t.graphConfig.edgeEditable&&(o.size=1),t.currentGraph.graph.addEdge(o),t.graphConfig&&"curve"===t.graphConfig.edgeType&&sigma.canvas.edges.autoCurve(t.currentGraph),t.currentGraph.refresh()}t.clearOldContextMenu(!0),window.modalView.hide()}.bind(this);try{a=this.editor.get()}catch(x){return void arangoHelper.arangoError("failed to parse JSON document",x.message)}try{a._from=n}catch(x){(a={})._from=n}a._to=i,""!==r&&void 0!==r&&(a._key=r),this.collection.createEdge(t.name,e,a,o)},addEdgeModal:function(e){if(0!==e){var t=[],n=[];if(n.push(window.modalView.createTextEntry("new-edge-key-attr","_key",void 0,"The edge's unique key (optional attribute, leave empty for autogenerated key)","is optional: leave empty for autogenerated key",!1,[{rule:Joi.string().allow("").optional(),msg:""}])),e.length>1){var i=[];_.each(e,(function(e){i.push({label:e,value:e})})),n.push(window.modalView.createSelectEntry("new-edge-collection-attr","Edge collection",void 0,"Please select the target collection for the new edge.",i))}else n.push(window.modalView.createReadOnlyEntry("new-edge-collection-attr","Edge collection",e[0],"The edge collection to be used."));n.push(window.modalView.createJsonEditor()),t.push(window.modalView.createSuccessButton("Create",this.addEdge.bind(this))),window.modalView.show("modalTable.ejs","Create edge",t,n);var a=document.getElementById("jsoneditor");this.resize();var r={onChange:function(){},onModeChange:function(e){},search:!0,mode:"code",modes:["tree","code"],ace:window.ace};this.editor=new JSONEditor(a,r)}else arangoHelper.arangoError("Graph","No valid edge definitions found.")},updateColors:function(e,t,n,i,a){var r=frontendConfig.db+"_"+this.name,o=this;n&&(o.ncolor=n),i&&(o.ecolor=i),this.userConfig.fetch({success:function(s){if(!0===e){o.graphConfig=s.toJSON().graphs[r];try{o.currentGraph.graph.nodes().forEach((function(e){e.color=a?e.sortColor:n}))}catch(l){o.graphNotInitialized=!0,o.tmpGraphArray=[e,t,n,i]}}if(!0===t)try{o.currentGraph.graph.edges().forEach((function(e){e.color=a?e.sortColor:i}))}catch(c){o.graphNotInitialized=!0,o.tmpGraphArray=[e,t,n,i]}o.currentGraph&&o.currentGraph.refresh()}})},nodesContextMenuCheck:function(e){this.nodesContextEventState=e,this.openNodesDate=new Date},createContextMenu:function(e){var t=this,n=t.cursorX-50,i=t.cursorY-50;this.clearOldContextMenu();$("#nodeContextMenu").css("position","fixed"),$("#nodeContextMenu").css("left",n),$("#nodeContextMenu").css("top",i),$("#nodeContextMenu").width(100),$("#nodeContextMenu").height(100),function(e){var n=new wheelnav("nodeContextMenu");n.maxPercent=1,n.wheelRadius=50,n.clockwise=!1,n.colors=t.colors.hotaru,n.multiSelect=!0,n.clickModeRotate=!1,n.slicePathFunction=slicePath().DonutSlice,n.createWheel([icon.plus,icon.arrowleft2]),n.navItems[0].selected=!1,n.navItems[0].hovered=!1,n.navItems[0].navigateFunction=function(e){t.clearOldContextMenu(),t.addNodeModal(),t.removeOldContextMenu(),t.removeHelp()},n.navItems[1].navigateFunction=function(e){t.clearOldContextMenu(),t.removeOldContextMenu()};_.each(["Add new node.","Close menu."],(function(e,i){n.navItems[i].navTitle.mouseover((function(){t.drawHelp(e)})),n.navItems[i].navTitle.mouseout((function(){t.removeHelp()}))})),n.navItems[0].selected=!1,n.navItems[0].hovered=!1}()},createEdgeContextMenu:function(e,t){var n=this,i=this.cursorX-165,a=this.cursorY-120;this.clearOldContextMenu();$("#nodeContextMenu").css("left",i+115),$("#nodeContextMenu").css("top",a+72),$("#nodeContextMenu").width(100),$("#nodeContextMenu").height(100),function(e,t){var i=new wheelnav("nodeContextMenu");i.maxPercent=1,i.wheelRadius=50,i.clockwise=!1,i.colors=["#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5"],i.multiSelect=!0,i.clickModeRotate=!1,i.slicePathFunction=slicePath().DonutSlice,i.createWheel(["imgsrc:img/gv_edit.png","imgsrc:img/gv_trash.png"]),i.navItems[0].selected=!1,i.navItems[0].hovered=!1,i.navItems[0].navigateFunction=function(e){n.clearOldContextMenu(),n.editEdge(t),n.removeHelp()},i.navItems[1].navigateFunction=function(e){n.clearOldContextMenu(),n.deleteEdgeModal(t),n.removeHelp()};_.each(["Edit the edge.","Delete the edge."],(function(e,t){i.navItems[t].navTitle.mouseover((function(){n.drawHelp(e)})),i.navItems[t].navTitle.mouseout((function(){n.removeHelp()}))})),i.navItems[0].selected=!1,i.navItems[0].hovered=!1}(0,e)},createNodeContextMenu:function(e,t){var n,i,a,r=this;_.each(t.data.node,(function(e,t){"renderer"===t.substr(0,8)&&"x"===t.charAt(t.length-1)&&(n=e),"renderer"===t.substr(0,8)&&"y"===t.charAt(t.length-1)&&(i=e),"renderer"===t.substr(0,8)&&"e"===t.charAt(t.length-1)&&(a=e)})),void 0===n&&void 0===i&&_.each(t.data.node,(function(e,t){"read_cam"===t.substr(0,8)&&"x"===t.charAt(t.length-1)&&(n=e+$("#graph-container").width()/2),"read_cam"===t.substr(0,8)&&"y"===t.charAt(t.length-1)&&(i=e+$("#graph-container").height()/2)}));var o=2.5*a;o<75&&(o=75),this.clearOldContextMenu();var s=$("#graph-container").offset();$("#nodeContextMenu").width(2*o),$("#nodeContextMenu").height(2*o),$("#nodeContextMenu").css("left",n+s.left-o),$("#nodeContextMenu").css("top",i+s.top-o),function(e,t){var a=new wheelnav("nodeContextMenu");a.maxPercent=1,a.wheelRadius=o,a.clockwise=!1,a.colors=["#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5"],a.multiSelect=!1,a.clickModeRotate=!1,a.sliceHoverAttr={stroke:"#fff","stroke-width":2},a.slicePathFunction=slicePath().DonutSlice,r.noDefinedGraph?a.createWheel(["imgsrc:img/gv_edit.png","imgsrc:img/gv_trash.png"]):a.createWheel(["imgsrc:img/gv_edit.png","imgsrc:img/gv_trash.png","imgsrc:img/gv_flag.png","imgsrc:img/gv_link.png","imgsrc:img/gv_expand.png"]),$("#nodeContextMenu").addClass("animated bounceIn"),window.setTimeout((function(){a.navItems[0].navigateFunction=function(e){r.clearOldContextMenu(),r.editNode(t),r.removeHelp()},a.navItems[1].navigateFunction=function(e){r.clearOldContextMenu(),r.deleteNodeModal(t),r.removeHelp()},r.noDefinedGraph||(a.navItems[2].navigateFunction=function(e){r.clearOldContextMenu(),r.setStartNode(t),r.removeHelp()},a.navItems[3].navigateFunction=function(e){r.contextState.createEdge=!0,r.contextState._from=t,r.contextState.fromX=n,r.contextState.fromY=i;var a=document.getElementsByClassName("sigma-mouse")[0];r.drawHelp("Now click destination node, or click background to cancel."),a.addEventListener("mousemove",r.drawLine.bind(this),!1),r.clearOldContextMenu(),r.removeHelp()},a.navItems[4].navigateFunction=function(e){r.clearOldContextMenu(),r.expandNode(t),r.removeHelp()});var e=["Edit the node.","Delete the node."];r.noDefinedGraph||(e.push("Set as startnode."),e.push("Draw edge."),e.push("Expand the node.")),_.each(e,(function(e,t){a.navItems[t].navTitle.mouseover((function(){r.drawHelp(e)})),a.navItems[t].navTitle.mouseout((function(){r.removeHelp()}))})),a.navItems[0].selected=!1,a.navItems[0].hovered=!1}),300)}(0,e)},drawHelp:function(e){null===document.getElementById("helpTooltip")?$(this.el).append('<div id="helpTooltip" class="helpTooltip"><span>'+e+"</span></div>"):$("#helpTooltip span").text(e),$("#helpTooltip").show()},removeHelp:function(){$("#helpTooltip").remove()},clearMouseCanvas:function(){var e=document.getElementsByClassName("sigma-mouse")[0];e.getContext("2d").clearRect(0,0,$(e).width(),$(e).height())},expandNode:function(e){var t=this,n={};this.graphConfig&&(delete(n=_.clone(this.graphConfig)).layout,delete n.edgeType,delete n.renderer),n.query="FOR v, e, p IN 1..1 ANY "+JSON.stringify(e)+" GRAPH "+JSON.stringify(t.name)+" RETURN p",$.ajax({type:"GET",url:arangoHelper.databaseUrl("/_admin/aardvark/graph/"+encodeURIComponent(this.name)),contentType:"application/json",data:n,success:function(n){t.checkExpand(n,e)},error:function(t){arangoHelper.arangoError("Graph","Could not expand node: "+e+".")}}),t.removeHelp()},checkExpand:function(e,t){var n,i=this,a=e.nodes,r=e.edges,o=this.currentGraph.graph.nodes(),s=0,l=0;_.each(a,(function(e){n=!1,_.each(o,(function(i){!1===n&&(e.id===i.id?(i.id===t&&-1===i.label.indexOf(" (expanded)")&&(i.label=i.label+" (expanded)"),n=!0):n=!1)})),!1===n&&(e.originalColor=e.color,i.currentGraph.graph.addNode(e),s++)})),_.each(r,(function(e){void 0===i.currentGraph.graph.edges(e.id)&&(e.originalColor=e.color,i.currentGraph.graph.addEdge(e),l++)})),$("#nodesCount").text(parseInt($("#nodesCount").text(),10)+s),$("#edgesCount").text(parseInt($("#edgesCount").text(),10)+l),(s>0||l>0)&&("force"===i.algorithm?i.startLayout(!0,t):"fruchtermann"===i.algorithm?(sigma.layouts.fruchtermanReingold.start(i.currentGraph),i.currentGraph.refresh(),i.cameraToNode(t,1e3)):"noverlap"===i.algorithm&&i.startLayout(!0,t))},cameraToNode:function(e,t){var n=this;"string"===typeof e&&(e=n.currentGraph.graph.nodes(e));var i=function(e){sigma.misc.animation.camera(n.currentGraph.camera,{x:e.x,y:e.y},{duration:1e3})};t?window.setTimeout((function(){i(e)}),t):i(e)},drawLine:function(e){var t=window.App.graphViewer.contextState;if(t.createEdge){var n=t.fromX,i=t.fromY,a=e.offsetX,r=e.offsetY,o=document.getElementsByClassName("sigma-mouse")[0],s=o.getContext("2d");s.clearRect(0,0,$(o).width(),$(o).height()),s.beginPath(),s.moveTo(n,i),s.lineTo(a,r),s.strokeStyle=this.newEdgeColor,s.stroke()}},getGraphSettings:function(e){var t=this;this.userConfig.fetch({success:function(n){var i=frontendConfig.db+"_"+t.name;t.graphConfig=n.toJSON().graphs[i],t.graphSettingsView&&t.graphSettingsView.remove(),t.graphSettingsView=new window.GraphSettingsView({name:t.name,userConfig:t.userConfig,saveCallback:t.render});var a=function(){t.graphSettingsView.render(),e&&e(t.graphConfig)};void 0===t.graphConfig?(t.graphSettingsView.setDefaults(!0,!0),t.userConfig.fetch({success:function(e){t.graphConfig=e.toJSON().graphs[i],a()}})):a()}})},setStartNode:function(e){this.graphConfig.nodeStart=e,this.graphSettingsView.saveGraphSettings(void 0,void 0,e)},editNode:function(e){var t=function(e){this.updateNodeLabel(e)}.bind(this);arangoHelper.openDocEditor(e,"doc",t)},updateNodeLabel:function(e){var t=e[0]._id;if(this.graphConfig.nodeLabel&&this.currentGraph.graph.nodes(t).label!==e[0][this.graphConfig.nodeLabel]){var n=e[0].new[this.graphConfig.nodeLabel];this.currentGraph.graph.nodes(t).label="string"===typeof n?n:JSON.stringify(n),this.currentGraph.refresh({skipIndexation:!0})}},editEdge:function(e){var t=function(e){this.updateEdgeLabel(e)}.bind(this);arangoHelper.openDocEditor(e,"edge",t)},updateEdgeLabel:function(e){var t=e[0]._id;if(this.graphConfig.edgeLabel&&this.currentGraph.graph.edges(t).label!==e[0][this.graphConfig.edgeLabel]){var n=e[0].new[this.graphConfig.edgeLabel];this.currentGraph.graph.edges(t).label="string"===typeof n?n:JSON.stringify(n),this.currentGraph.refresh({skipIndexation:!0})}},reloadGraph:function(){Backbone.history.loadUrl(Backbone.history.fragment)},getEdgeDefinitionCollections:function(e,t){var n=[];return _.each(this.model.edgeDefinitions,(function(i){_.each(i.from,(function(a){a===e&&_.each(i.to,(function(e){e===t&&n.push(i.collection)}))}))})),n},initializeGraph:function(e,t){e.refresh()},renderGraph:function(e,t,n,i,a,r){var o=this;this.graphSettings=e.settings;var s="#2ecc71";if(o.ncolor&&(s=o.ncolor),e.edges&&e.nodes){0===e.nodes.length&&0===e.edges.length&&e.nodes.push({id:e.settings.startVertex._id,label:e.settings.startVertex._key,size:10,color:s,x:Math.random(),y:Math.random()});this.aqlMode||$("#graph-container").append('<div id="objectCount" style="position: absolute; left: 25px; bottom: 50px; animated fadeIn"><span style="margin-right: 10px" class="arangoState"><span id="nodesCount">'+e.nodes.length+'</span> nodes</span><span class="arangoState"><span id="edgesCount">'+e.edges.length+"</span> edges</span></div>")}this.Sigma=sigma,o.algorithm=i||"force",o.renderer=a||"canvas",this.graphConfig&&(this.graphConfig.layout&&(i||(o.algorithm=this.graphConfig.layout)),this.graphConfig.renderer&&(a||(o.renderer=this.graphConfig.renderer))),"canvas"===o.renderer&&(o.isEditable=!0);var l={scalingMode:"inside",borderSize:3,defaultNodeBorderColor:"#8c8c8c",doubleClickEnabled:!1,minNodeSize:5,labelThreshold:9,maxNodeSize:15,batchEdgesDrawing:!0,minEdgeSize:1,maxEdgeSize:1,enableEdgeHovering:!0,edgeHoverColor:"#8c8c8c",defaultEdgeHoverColor:"#8c8c8c",defaultEdgeType:"arrow",edgeHoverSizeRatio:2.5,edgeHoverExtremities:!0,nodesPowRatio:.5,autoRescale:!0,mouseEnabled:!0,touchEnabled:!0,approximateLabelWidth:!0,font:"Roboto",nodeHaloColor:"rgba(146,197,192, 0.8)",nodeHaloStroke:!1,nodeHaloStrokeColor:"#000",nodeHaloStrokeWidth:0,nodeHaloSize:25,nodeHaloClustering:!1,nodeHaloClusteringMaxRadius:1e3,edgeHaloColor:"#fff",edgeHaloSize:10,drawHalo:!0};"canvas"===o.renderer&&(l.autoCurveSortByDirection=!0),e.nodes&&e.nodes.length>250&&(l.hideEdgesOnMove=!0),this.graphConfig&&this.graphConfig.edgeType&&(l.defaultEdgeType=this.graphConfig.edgeType),r&&(l.defaultEdgeType=r),"arrow"===l.defaultEdgeType&&(l.minArrowSize=7),n&&(o.renderer="canvas",e.nodes.length<500?o.algorithm="fruchtermann":l.scalingMode="outside",l.drawEdgeLabels=!1,l.minNodeSize=2,l.maxNodeSize=8),"webgl"===o.renderer&&(l.enableEdgeHovering=!1);var c=new this.Sigma({graph:e,container:"graph-container",renderer:{container:document.getElementById("graph-container"),type:o.renderer},settings:l});if(this.currentGraph=c,this.aqlMode||sigma.plugins.fullScreen({container:"graph-container",btnId:"graph-fullscreen-btn"}),c.graph.nodes().forEach((function(e){e.originalColor=e.color})),c.graph.edges().forEach((function(e){e.originalColor=e.color})),"noverlap"===o.algorithm)c.configNoverlap({nodeMargin:.1,scaleNodes:1.05,gridSize:75,easing:"quadraticInOut",duration:1500}).bind("start stop interpolate",(function(e){e.type,e.type}));else if("fruchtermann"===o.algorithm){sigma.layouts.fruchtermanReingold.configure(c,{iterations:100,easing:"quadraticInOut",duration:1500}).bind("start stop interpolate",(function(e){}))}if(!o.aqlMode){var d=function(e,t){if($(".nodeInfoDiv").remove(),!1===o.contextState.createEdge&&window.location.hash.indexOf("graph")>-1){var n=function(e,t,n){if(e)o.currentGraph.graph.dropNode(n),o.currentGraph.refresh();else{var i="";i+='<span class="title">ID </span> <span class="nodeId">'+t.documents[0]._id+"</span>",Object.keys(t.documents[0]).length>3&&(i+='<span class="title">ATTRIBUTES </span>'),_.each(t.documents[0],(function(e,t){"_key"!==t&&"_id"!==t&&"_rev"!==t&&"_from"!==t&&"_to"!==t&&(i+='<span class="nodeAttribute">'+t+"</span>")}));var a='<div id="nodeInfoDiv" class="nodeInfoDiv" style="display: none;">'+i+"</div>";$("#graph-container").append(a),o.isFullscreen&&($(".nodeInfoDiv").css("top","10px"),$(".nodeInfoDiv").css("left","10px")),$("#nodeInfoDiv").fadeIn("slow")}};t?o.documentStore.getDocument(e.data.node.id.split("/")[0],e.data.node.id.split("/")[1],n):o.documentStore.getDocument(e.data.edge.id.split("/")[0],e.data.edge.id.split("/")[1],n)}};c.bind("clickNode",(function(e){if(!0===o.contextState.createEdge){o.clearMouseCanvas(),o.removeHelp(),o.contextState._to=e.data.node.id;var t=o.contextState._from.split("/")[0],n=o.contextState._to.split("/")[0],i=o.getEdgeDefinitionCollections(t,n);0===i.length?arangoHelper.arangoNotification("Graph","No valid edge definition found."):(o.addEdgeModal(i,o.contextState._from,o.contextState._to),o.clearOldContextMenu(!1))}else o.dragging||(!0===o.contextState.createEdge?o.newEdgeColor="#ff0000":o.newEdgeColor="#000000","canvas"===o.renderer&&o.currentGraph.renderers[0].halo({nodes:o.currentGraph.graph.nodes(),nodeHaloColor:"#DF0101",nodeHaloSize:100}),d(e,!0),o.activeNodes=[e.data.node],"canvas"===o.renderer&&c.renderers[0].halo({nodes:[e.data.node]}),o.createNodeContextMenu(e.data.node.id,e))})),o.noDefinedGraph?c.bind("clickStage",(function(e){o.clearOldContextMenu(!0),o.clearMouseCanvas(),o.removeHelp()})):c.bind("clickStage",(function(e){e.data.captor.isDragging?(o.clearOldContextMenu(!0),o.clearMouseCanvas()):!0===o.contextState.createEdge?(o.clearOldContextMenu(!0),o.clearMouseCanvas(),o.removeHelp()):($("#nodeContextMenu").is(":visible")?(o.clearOldContextMenu(!0),o.clearMouseCanvas(),o.removeOldContextMenu()):(o.addNodeX=e.data.captor.x,o.addNodeY=e.data.captor.y,o.createContextMenu(e),o.clearMouseCanvas()),c.renderers[0].halo({nodes:o.activeNodes}))}))}if("canvas"===o.renderer){this.graphConfig&&"curve"===this.graphConfig.edgeType&&sigma.canvas.edges.autoCurve(c),c.bind("clickEdge",(function(e){d(e,!1)})),c.renderers[0].bind("render",(function(e){c.renderers[0].halo({nodes:o.activeNodes})}));var u=function(){o.nodeHighlighted=!1,o.activeNodes=[],c.graph.nodes().forEach((function(e){e.color=e.originalColor})),c.graph.edges().forEach((function(e){e.color=e.originalColor})),$(".nodeInfoDiv").remove(),c.refresh({skipIndexation:!0})};c.bind("rightClickStage",(function(e){o.nodeHighlighted="undefinedid",u()})),c.bind("rightClickNode",(function(e){if(o.nodeHighlighted!==e.data.node.id){var t=e.data.node.id,n=c.graph.neighbors(t);n[t]=e.data.node,c.graph.nodes().forEach((function(e){n[e.id]?e.color=e.originalColor:e.color="#eee"})),c.graph.edges().forEach((function(e){n[e.source]&&n[e.target]?e.color="rgb(64, 74, 83)":e.color="#eee"})),o.nodeHighlighted=!0,c.refresh({skipIndexation:!0})}else u()})),this.graphConfig&&this.graphConfig.edgeEditable&&c.bind("clickEdge",(function(e){var t=e.data.edge.id;o.createEdgeContextMenu(t,e)}))}if("noverlap"===o.algorithm)c.startNoverlap();else if("force"===o.algorithm){var h="color: rgb(64, 74, 83); cursor: pointer; position: absolute; right: 30px; bottom: 40px; z-index: 9999;";o.aqlMode&&(h="color: rgb(64, 74, 83); cursor: pointer; position: absolute; right: 30px; margin-top: 10px; margin-right: -15px"),$("#graph-container").after('<div id="toggleForce" style="'+h+'"><i style="margin-right: 5px;" class="fa fa-pause"></i><span> Stop layout</span></div>'),o.startLayout();var p=250;e.nodes&&(p=e.nodes.length,n?p<250?p=250:p+=500:(p<=250&&(p=500),p+=500)),e.empty&&arangoHelper.arangoNotification("Graph","Your graph is empty. Click inside the white window to create your first node."),window.setTimeout((function(){o.stopLayout()}),p)}else"fruchtermann"===o.algorithm&&sigma.layouts.fruchtermanReingold.start(c);"force"!==o.algorithm&&o.reInitDragListener(),document.getElementsByClassName("sigma-mouse")[0].addEventListener("mousemove",o.trackCursorPosition.bind(this),!1),t&&($("#"+t).focus(),$("#graphSettingsContent").animate({scrollTop:$("#"+t).offset().top},2e3)),$("#calculatingGraph").fadeOut("slow"),o.calcFinished=new Date,!0===e.empty&&$(".sigma-background").before('<span id="emptyGraph" style="position: absolute; margin-left: 10px; margin-top: 10px;">The graph is empty. Please right-click to add a node.<span>'),!0===o.graphNotInitialized&&(o.updateColors(o.tmpGraphArray),o.graphNotInitialized=!1,o.tmpGraphArray=[]),"force"===o.algorithm?$("#toggleForce").fadeIn("fast"):$("#toggleForce").fadeOut("fast")},reInitDragListener:function(){var e=this;void 0!==this.dragListener&&(sigma.plugins.killDragNodes(this.currentGraph),this.dragListener={}),this.dragListener=sigma.plugins.dragNodes(this.currentGraph,this.currentGraph.renderers[0]),this.dragListener.bind("drag",(function(t){e.dragging=!0})),this.dragListener.bind("drop",(function(t){window.setTimeout((function(){e.dragging=!1}),400)}))},keyUpFunction:function(e){switch(e.keyCode){case 76:e.altKey&&this.toggleLasso()}},toggleLayout:function(){this.layouting?this.stopLayout():this.startLayout()},startLayout:function(e,t){var n=this;this.currentGraph.settings("drawLabels",!1),this.currentGraph.settings("drawEdgeLabels",!1),sigma.plugins.killDragNodes(this.currentGraph),!0===e&&(this.currentGraph.killForceAtlas2(),window.setTimeout((function(){n.stopLayout(),t&&n.currentGraph.refresh({skipIndexation:!0})}),500)),$("#toggleForce .fa").removeClass("fa-play").addClass("fa-pause"),$("#toggleForce span").html("Stop layout"),this.layouting=!0,this.aqlMode,this.currentGraph.startForceAtlas2({worker:!0})},stopLayout:function(){$("#toggleForce .fa").removeClass("fa-pause").addClass("fa-play"),$("#toggleForce span").html("Resume layout"),this.layouting=!1,this.currentGraph.stopForceAtlas2(),this.currentGraph.settings("drawLabels",!0),this.currentGraph.settings("drawEdgeLabels",!0),this.currentGraph.refresh({skipIndexation:!0}),this.reInitDragListener()}})}()},function(e,t){!function(){"use strict";window.HelpUsView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("helpUsView.ejs"),render:function(){this.$el.html(this.template.render({}))}})}()},function(e,t){!function(){"use strict";window.IndicesView=Backbone.View.extend({el:"#content",initialize:function(e){var t=this;this.collectionName=e.collectionName,this.model=this.collection,t.interval=window.setInterval((function(){-1!==window.location.hash.indexOf("cIndices/"+encodeURIComponent(t.collectionName))&&window.VISIBLE&&$("#collectionEditIndexTable").is(":visible")&&!$("#indexDeleteModal").is(":visible")&&t.rerender()}),t.refreshRate)},interval:null,refreshRate:1e4,template:templateEngine.createTemplate("indicesView.ejs"),events:{},remove:function(){return this.interval&&window.clearInterval(this.interval),this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},render:function(){var e=this,t=function(t){var n=t.supports.aliases;n=n?n.indexes:{},$(e.el).html(e.template.render({model:e.model,supported:t.supports.indexes.filter((function(e){return!n.hasOwnProperty(e)}))})),e.breadcrumb(),window.arangoHelper.buildCollectionSubNav(e.collectionName,"Indexes"),e.getIndex(),arangoHelper.checkCollectionPermissions(e.collectionName,e.changeViewToReadOnly)};this.engineData?t(this.engineData):$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/engine"),contentType:"application/json",processData:!1,success:function(n){e.engineData=n,t(n)},error:function(){arangoHelper.arangoNotification("Index","Could not fetch index information.")}})},rerender:function(){this.getIndex(!0)},changeViewToReadOnly:function(){$(".breadcrumb").html($(".breadcrumb").html()+" (read-only)"),$("#addIndex").addClass("disabled"),$("#addIndex").css("color","rgba(0,0,0,.5)"),$("#addIndex").css("cursor","not-allowed")},breadcrumb:function(){$("#subNavigationBar .breadcrumb").html("Collection: "+_.escape(this.collectionName.length>64?this.collectionName.substr(0,64)+"...":this.collectionName))},getIndex:function(e){var t=function(t,n,i){t?window.arangoHelper.arangoError("Index",n.errorMessage):this.renderIndex(n,i,e)}.bind(this);this.model.getIndex(t)},createIndex:function(){var e,t,n,i,a,r,o,s=this,l={};switch($("#newIndexType").val()){case"Zkd":e=$("#newZkdFields").val();var c=$("#newZkdFieldValueTypes").val();r=s.checkboxToValue("#newZkdBackground"),o=$("#newZkdName").val(),l={type:"zkd",fields:s.stringToArray(e),fieldValueTypes:c,inBackground:r,name:o};break;case"Ttl":e=$("#newTtlFields").val();var d=parseInt($("#newTtlExpireAfter").val(),10)||0;r=s.checkboxToValue("#newTtlBackground"),o=$("#newTtlName").val(),l={type:"ttl",fields:s.stringToArray(e),expireAfter:d,inBackground:r,name:o};break;case"Geo":e=$("#newGeoFields").val(),r=s.checkboxToValue("#newGeoBackground");var u=s.checkboxToValue("#newGeoJson");o=$("#newGeoName").val(),l={type:"geo",fields:s.stringToArray(e),geoJson:u,inBackground:r,name:o};break;case"Persistent":e=$("#newPersistentFields").val(),t=s.checkboxToValue("#newPersistentUnique"),n=s.checkboxToValue("#newPersistentSparse"),i=s.checkboxToValue("#newPersistentDeduplicate"),a=s.checkboxToValue("#newPersistentEstimates"),r=s.checkboxToValue("#newPersistentBackground"),o=$("#newPersistentName").val(),l={type:"persistent",fields:s.stringToArray(e),unique:t,sparse:n,deduplicate:i,estimates:a,inBackground:r,name:o};break;case"Hash":e=$("#newHashFields").val(),t=s.checkboxToValue("#newHashUnique"),n=s.checkboxToValue("#newHashSparse"),i=s.checkboxToValue("#newHashDeduplicate"),a=s.checkboxToValue("#newHashEstimates"),r=s.checkboxToValue("#newHashBackground"),o=$("#newHashName").val(),l={type:"hash",fields:s.stringToArray(e),unique:t,sparse:n,deduplicate:i,estimates:a,inBackground:r,name:o};break;case"Fulltext":e=$("#newFulltextFields").val();var h=parseInt($("#newFulltextMinLength").val(),10)||0;r=s.checkboxToValue("#newFulltextBackground"),o=$("#newFulltextName").val(),l={type:"fulltext",fields:s.stringToArray(e),minLength:h,inBackground:r,name:o};break;case"Skiplist":e=$("#newSkiplistFields").val(),t=s.checkboxToValue("#newSkiplistUnique"),n=s.checkboxToValue("#newSkiplistSparse"),i=s.checkboxToValue("#newSkiplistDeduplicate"),a=s.checkboxToValue("#newSkiplistEstimates"),r=s.checkboxToValue("#newSkiplistBackground"),o=$("#newSkiplistName").val(),l={type:"skiplist",fields:s.stringToArray(e),unique:t,sparse:n,deduplicate:i,estimates:a,inBackground:r,name:o}}this.model.createIndex(l,(function(e,t){if(e)if(t){var n=JSON.parse(t.responseText);arangoHelper.arangoError("Index error",n.errorMessage)}else arangoHelper.arangoError("Index error","Could not create index.");else arangoHelper.arangoNotification("Index","Creation in progress. This may take a while.");s.toggleNewIndexView(),s.render()}))},bindIndexEvents:function(){this.unbindIndexEvents();var e=this;$("#indexEditView #addIndex").bind("click",(function(){e.toggleNewIndexView(),$("#cancelIndex").unbind("click"),$("#cancelIndex").bind("click",(function(){e.toggleNewIndexView(),e.render()})),$("#createIndex").unbind("click"),$("#createIndex").bind("click",(function(){e.createIndex()}))})),$("#newIndexType").bind("change",(function(){e.selectIndexType()})),$(".deleteIndex").bind("click",(function(t){e.prepDeleteIndex(t)})),$("#infoTab a").bind("click",(function(e){if($("#indexDeleteModal").remove(),"Indexes"!==$(e.currentTarget).html()||$(e.currentTarget).parent().hasClass("active")||($("#newIndexView").hide(),$("#indexEditView").show(),$("#indexHeaderContent #modal-dialog .modal-footer .button-danger").hide(),$("#indexHeaderContent #modal-dialog .modal-footer .button-success").hide(),$("#indexHeaderContent #modal-dialog .modal-footer .button-notification").hide()),"General"===$(e.currentTarget).html()&&!$(e.currentTarget).parent().hasClass("active")){$("#indexHeaderContent #modal-dialog .modal-footer .button-danger").show(),$("#indexHeaderContent #modal-dialog .modal-footer .button-success").show(),$("#indexHeaderContent #modal-dialog .modal-footer .button-notification").show();var t=$(".index-button-bar2")[0];$("#cancelIndex").is(":visible")&&($("#cancelIndex").detach().appendTo(t),$("#createIndex").detach().appendTo(t))}}))},prepDeleteIndex:function(e){var t=this;this.lastTarget=e,this.lastId=$(this.lastTarget.currentTarget).parent().parent().first().children().first().text(),$("#indexDeleteModal").length||($("#content #modal-dialog .modal-footer").after('<div id="indexDeleteModal" style="display:block;" class="alert alert-error modal-delete-confirmation"><strong>Really delete?</strong><button id="indexConfirmDelete" class="button-danger pull-right modal-confirm-delete">Yes</button><button id="indexAbortDelete" class="button-neutral pull-right">No</button></div>'),$("#indexHeaderContent #indexConfirmDelete").unbind("click"),$("#indexHeaderContent #indexConfirmDelete").bind("click",(function(){$("#indexHeaderContent #indexDeleteModal").remove(),t.deleteIndex()})),$("#indexHeaderContent #indexAbortDelete").unbind("click"),$("#indexHeaderContent #indexAbortDelete").bind("click",(function(){$("#indexHeaderContent #indexDeleteModal").remove()})))},unbindIndexEvents:function(){$("#indexHeaderContent #indexEditView #addIndex").unbind("click"),$("#indexHeaderContent #newIndexType").unbind("change"),$("#indexHeaderContent #infoTab a").unbind("click"),$("#indexHeaderContent .deleteIndex").unbind("click")},deleteIndex:function(){var e=function(e){e?(arangoHelper.arangoError("Could not delete index"),$("tr th:contains('"+this.lastId+"')").parent().children().last().html('<span class="deleteIndex icon_arangodb_roundminus" data-original-title="Delete index" title="Delete index"></span>'),this.model.set("locked",!1)):e||void 0===e||($("tr th:contains('"+this.lastId+"')").parent().remove(),this.model.set("locked",!1))}.bind(this);this.model.set("locked",!0),this.model.deleteIndex(this.lastId,e),$("tr th:contains('"+this.lastId+"')").parent().children().last().html('<i class="fa fa-circle-o-notch fa-spin"></i>')},renderIndex:function(e,t,n){this.index=e;arangoHelper.getAardvarkJobs((function(e,n){if(e)arangoHelper.arangoError("Jobs","Could not read pending jobs.");else{var i=function(e,t,n){e?404===t.responseJSON.code?arangoHelper.deleteAardvarkJob(n):400===t.responseJSON.code?(arangoHelper.arangoError("Index creation failed",t.responseJSON.errorMessage),arangoHelper.deleteAardvarkJob(n)):204===t.responseJSON.code&&arangoHelper.arangoMessage("Index","There is at least one new index in the queue or in the process of being created."):arangoHelper.deleteAardvarkJob(n)};_.each(n,(function(e){e.collection===t&&$.ajax({type:"PUT",cache:!1,url:arangoHelper.databaseUrl("/_api/job/"+encodeURIComponent(e.id)),contentType:"application/json",success:function(t,n,a){i(!1,t,e.id)},error:function(t){i(!0,t,e.id)}})}))}}));var i="collectionInfoTh modal-text";if(this.index){var a="",r="";n&&$("#collectionEditIndexTable tbody").empty(),_.each(this.index.indexes,(function(e){r="primary"===e.type||"edge"===e.type?'<span class="icon_arangodb_locked" data-original-title="No action"></span>':'<span class="deleteIndex icon_arangodb_roundminus" data-original-title="Delete index" title="Delete index"></span>',void 0!==e.fields&&(a=e.fields.join(", "));var t=e.id.indexOf("/"),n=e.id.substr(t+1,e.id.length),o=e.hasOwnProperty("selectivityEstimate")?(100*e.selectivityEstimate).toFixed(2)+"%":"n/a",s=e.hasOwnProperty("sparse")?e.sparse:"n/a",l=[];["deduplicate","expireAfter","minLength","geoJson","estimates"].forEach((function(t){e.hasOwnProperty(t)&&l.push(t+": "+e[t])})),$("#collectionEditIndexTable").append("<tr><th class="+JSON.stringify(i)+">"+arangoHelper.escapeHtml(n)+"</th><th class="+JSON.stringify(i)+">"+arangoHelper.escapeHtml(e.type)+"</th><th class="+JSON.stringify(i)+">"+arangoHelper.escapeHtml(e.unique)+"</th><th class="+JSON.stringify(i)+">"+arangoHelper.escapeHtml(s)+"</th><th class="+JSON.stringify(i)+">"+arangoHelper.escapeHtml(l.join(", "))+"</th><th class="+JSON.stringify(i)+">"+arangoHelper.escapeHtml(o)+"</th><th class="+JSON.stringify(i)+">"+arangoHelper.escapeHtml(a)+"</th><th class="+JSON.stringify(i)+">"+arangoHelper.escapeHtml(e.name)+"</th><th class="+JSON.stringify(i)+">"+r+"</th></tr>")}))}this.bindIndexEvents()},selectIndexType:function(){$(".newIndexClass").hide();var e=$("#newIndexType").val();null===e&&(e=$("#newIndexType").children().first().attr("value"),$("#newIndexType").val(arangoHelper.escapeHtml(e))),$("#newIndexType"+e).show(),e&&($("#new"+e+"Estimates").prop("checked",!0),$("#new"+e+"Background").prop("checked",!0))},resetIndexForms:function(){$("#indexHeader input").val("").prop("checked",!1),$("#newIndexType").val("unknown").prop("selected",!0),this.selectIndexType()},toggleNewIndexView:function(){if(!$("#addIndex").hasClass("disabled")){var e=$(".index-button-bar2")[0];$("#indexEditView").is(":visible")?($("#indexEditView").hide(),$("#newIndexView").show(),$("#cancelIndex").detach().appendTo("#indexHeaderContent #modal-dialog .modal-footer"),$("#createIndex").detach().appendTo("#indexHeaderContent #modal-dialog .modal-footer")):($("#indexEditView").show(),$("#newIndexView").hide(),$("#cancelIndex").detach().appendTo(e),$("#createIndex").detach().appendTo(e)),this.resetIndexForms()}arangoHelper.createTooltips(".index-tooltip")},stringToArray:function(e){var t=[];return e.split(",").forEach((function(e){""!==(e=e.replace(/(^\s+|\s+$)/g,""))&&t.push(e)})),t},checkboxToValue:function(e){return $(e).prop("checked")}})}()},function(e,t){!function(){"use strict";window.InfoView=Backbone.View.extend({el:"#content",initialize:function(e){this.collectionName=e.collectionName,this.model=this.collection},events:{},render:function(){var e=this;if(this.breadcrumb(),window.arangoHelper.buildCollectionSubNav(this.collectionName,"Info"),frontendConfig.isCluster){var t={};this.model.getShardCounts((function(n,i){n&&(arangoHelper.arangoError("Figures","Could not get figures."),e.renderInfoView()),t.shardCounts=i.count,e.renderInfoView(t)}))}else this.renderInfoView();arangoHelper.checkCollectionPermissions(this.collectionName,this.changeViewToReadOnly)},changeViewToReadOnly:function(){$(".breadcrumb").html($(".breadcrumb").html()+" (read-only)")},breadcrumb:function(){$("#subNavigationBar .breadcrumb").html("Collection: "+_.escape(this.collectionName.length>64?this.collectionName.substr(0,64)+"...":this.collectionName))},renderInfoView:function(e){if(this.model.get("locked"))return 0;var t=function(t,n,i){if(t)arangoHelper.arangoError("Figures","Could not get revision.");else{var a={figures:i,revision:n,model:this.model,cluster:e||{}};window.modalView.show("modalCollectionInfo.ejs","Collection: "+(this.model.get("name").length>64?this.model.get("name").substr(0,64)+"...":this.model.get("name")),[],a,null,null,null,null,null,"content")}}.bind(this),n=function(e,n){if(e)arangoHelper.arangoError("Figures","Could not get figures.");else{var i=n;this.model.getRevision(t,i)}}.bind(this);this.model.getFiguresCombined(n,frontendConfig.isCluster)}})}()},function(e,t){!function(){"use strict";window.ServiceInstallGitHubView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("serviceInstallGitHubView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},initialize:function(){window.App.replaceApp&&(this._upgrade=!0)},events:{"click #installGitHubService":"installGitHubService","keydown input":"checkValidators"},checkValidators:function(){1!==window.modalView._validators.length&&(window.modalView.clearValidators(),this.setGithubValidators())},render:function(){return $(this.el).html(this.template.render({services:this.collection,upgrade:this._upgrade})),this.breadcrumb(),this.setGithubValidators(),arangoHelper.createTooltips(".modalTooltips"),this},breadcrumb:function(){var e=this;if(window.App.naviView){var t="New";this._upgrade&&(t="Replace ("+window.App.replaceAppData.mount+")"),$("#subNavigationBar .breadcrumb").html('<a href="#services">Services:</a> '+t),arangoHelper.buildServicesSubNav("GitHub")}else window.setTimeout((function(){e.breadcrumb()}),100)},installGitHubService:function(){arangoHelper.createMountPointModal(this.installFoxxFromGithub.bind(this))},installFoxxFromGithub:function(){if(window.modalView.modalTestAll()){var e,t,n,i,a;this._upgrade?e=window.App.replaceAppData.mount:"/"!==(e=window.arangoHelper.escapeHtml($("#new-app-mount").val())).charAt(0)&&(e="/"+e),i=window.arangoHelper.escapeHtml($("#repository").val()),""===(a=window.arangoHelper.escapeHtml($("#tag").val()))&&(a="master");try{Joi.assert(i,Joi.string().regex(/^[a-zA-Z0-9_-]+\/[a-zA-Z0-9_-]+$/))}catch(r){return}t={url:i,version:a},(n=arangoHelper.getFoxxFlags()).legacy=Boolean($("#github-app-islegacy")[0].checked),this.collection.install("git",t,e,n,this.installCallback.bind(this))}},installCallback:function(e){window.App.navigate("#services",{trigger:!0}),window.App.applicationsView.installCallback(e)},setGithubValidators:function(){window.modalView.modalBindValidation({id:"repository",validateInput:function(){return[{rule:Joi.string().required().regex(/^[a-zA-Z0-9_-]+\/[a-zA-Z0-9_-]+$/),msg:"No valid Github account and repository."}]}}),window.modalView.modalTestAll()}})}()},function(e,t){!function(){"use strict";window.ServiceInstallNewView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("serviceInstallNewView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #installNewService":"installNewService","keydown input":"checkValidators"},checkValidators:function(){4!==window.modalView._validators.length&&(window.modalView.clearValidators(),this.setNewAppValidators())},initialize:function(){window.App.replaceApp&&(this._upgrade=!0)},render:function(){return $(this.el).html(this.template.render({services:this.collection,upgrade:this._upgrade})),this.renderSelects(),this.breadcrumb(),this.setNewAppValidators(),arangoHelper.createTooltips(".modalTooltips"),this},installNewService:function(){arangoHelper.createMountPointModal(this.generateNewFoxxApp.bind(this))},generateNewFoxxApp:function(){var e,t,n;window.modalView.modalTestAll()&&(this._upgrade?e=window.App.replaceAppData.mount:"/"!==(e=window.arangoHelper.escapeHtml($("#new-app-mount").val())).charAt(0)&&(e="/"+e),t={name:window.arangoHelper.escapeHtml($("#new-app-name").val()),documentCollections:_.map($("#new-app-document-collections").select2("data"),(function(e){return window.arangoHelper.escapeHtml(e.text)})),edgeCollections:_.map($("#new-app-edge-collections").select2("data"),(function(e){return window.arangoHelper.escapeHtml(e.text)})),author:window.arangoHelper.escapeHtml($("#new-app-author").val()),license:window.arangoHelper.escapeHtml($("#new-app-license").val()),description:window.arangoHelper.escapeHtml($("#new-app-description").val())},n=arangoHelper.getFoxxFlags(),this.collection.install("generate",t,e,n,this.installCallback.bind(this)));window.modalView.hide()},checkValidation:function(){window.modalView.modalTestAll()},installCallback:function(e){window.App.navigate("#services",{trigger:!0}),window.App.applicationsView.installCallback(e)},renderSelects:function(){$("#new-app-document-collections").select2({tags:[],showSearchBox:!1,minimumResultsForSearch:-1,width:"336px"}),$("#new-app-edge-collections").select2({tags:[],showSearchBox:!1,minimumResultsForSearch:-1,width:"336px"})},setNewAppValidators:function(){window.modalView.modalBindValidation({id:"new-app-author",validateInput:function(){return[{rule:Joi.string().required().min(1),msg:"Has to be non empty."}]}}),window.modalView.modalBindValidation({id:"new-app-name",validateInput:function(){return[{rule:Joi.string().required().regex(/^[a-zA-Z\-_][a-zA-Z0-9\-_]*$/),msg:"Can only contain a to z, A to Z, 0-9, '-' and '_'. Cannot start with a number."}]}}),window.modalView.modalBindValidation({id:"new-app-description",validateInput:function(){return[{rule:Joi.string().required().min(1),msg:"Has to be non empty."}]}}),window.modalView.modalBindValidation({id:"new-app-license",validateInput:function(){return[{rule:Joi.string().required().regex(/^[a-zA-Z0-9 .,;-]+$/),msg:"Can only contain a to z, A to Z, 0-9, '-', '.', ',' and ';'."}]}}),window.modalView.modalTestAll()},breadcrumb:function(){var e=this;if(window.App.naviView){var t="New";this._upgrade&&(t="Replace ("+window.App.replaceAppData.mount+")"),$("#subNavigationBar .breadcrumb").html('<a href="#services">Services:</a> '+t),arangoHelper.buildServicesSubNav("New")}else window.setTimeout((function(){e.breadcrumb()}),100)}})}()},function(e,t){!function(){"use strict";window.ServiceInstallView=Backbone.View.extend({el:"#content",readOnly:!1,foxxStoreRetry:0,template:templateEngine.createTemplate("serviceInstallView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #categorySelection":"renderCategories","click #foxxFilters":"resetFilters","keyup #foxxSearch":"search"},initialize:function(e){this.functionsCollection=e.functionsCollection,window.App.replaceApp&&(this._upgrade=!0)},fetchStore:function(){var e=this;this.foxxStoreRetry=1,this.collection.fetch({cache:!1,success:function(){"#services/install"===window.location.hash&&e.render()}})},search:function(){this._installedSubViews[Object.keys(this._installedSubViews)[0]].applyFilter();var e=$("#foxxSearch").val();e?_.each(this._installedSubViews,(function(t){t.model.get("name").includes(e)?"true"===$(t.el).attr("shown")&&$(t.el).show():$(t.el).hide()})):this._installedSubViews[Object.keys(this._installedSubViews)[0]].applyFilter()},createSubViews:function(){var e=this;this._installedSubViews={},e.collection.each((function(t){var n=new window.FoxxRepoView({collection:e.functionsCollection,model:t,appsView:e,upgrade:e._upgrade});e._installedSubViews[t.get("name")]=n}))},renderCategories:function(e){this._installedSubViews[Object.keys(this._installedSubViews)[0]].renderCategories(e)},resetFilters:function(){$("#foxxSearch").val(""),this._installedSubViews[Object.keys(this._installedSubViews)[0]].resetFilters()},render:function(){if($(this.el).html(this.template.render({services:this.collection})),arangoHelper.buildServicesSubNav("Store"),this.breadcrumb(),0!==this.collection.length||0!==this.foxxStoreRetry)return this.collection.sort(),this.createSubViews(),_.each(this._installedSubViews,(function(e){$("#availableFoxxes").append(e.render())})),this;this.fetchStore()},breadcrumb:function(){var e="New";this._upgrade&&(e="Replace ("+window.App.replaceAppData.mount+")"),$("#subNavigationBar .breadcrumb").html('<a href="#services">Services:</a> '+e)}})}()},function(e,t){!function(){"use strict";window.ServiceInstallUploadView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("serviceInstallUploadView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},initialize:function(){window.App.replaceApp&&(this._upgrade=!0)},events:{"click #installUploadService":"installFromUpload"},render:function(){return $(this.el).html(this.template.render({services:this.collection,upgrade:this._upgrade})),this.prepareUpload(),this.breadcrumb(),arangoHelper.createTooltips(".modalTooltips"),this},installFromUpload:function(){arangoHelper.createMountPointModal(this.installFoxxFromZip.bind(this))},testFunction:function(e,t){window.foxxData||(window.foxxData={}),window.foxxData.files=e,window.foxxData.data=t,$("#installUploadService").attr("disabled",!1)},prepareUpload:function(){$("#upload-foxx-zip").uploadFile({url:arangoHelper.databaseUrl("/_api/upload?multipart=true"),allowedTypes:"zip,js",multiple:!1,onSuccess:this.testFunction})},installFoxxFromZip:function(){var e,t,n;(void 0===window.foxxData.data?window.foxxData.data=this._uploadData:this._uploadData=window.foxxData.data,window.foxxData.data&&window.modalView.modalTestAll())&&(this._upgrade?e=window.App.replaceAppData.mount:"/"!==(e=window.arangoHelper.escapeHtml($("#new-app-mount").val())).charAt(0)&&(e="/"+e),t={zipFile:window.foxxData.data.filename},(n=arangoHelper.getFoxxFlags()).legacy=Boolean($("#zip-app-islegacy")[0].checked),this.collection.install("zip",t,e,n,this.installCallback.bind(this)));window.modalView.hide()},installCallback:function(e){window.App.navigate("#services",{trigger:!0}),window.App.applicationsView.installCallback(e)},breadcrumb:function(){var e=this;if(window.App.naviView){var t="New";this._upgrade&&(t="Replace ("+window.App.replaceAppData.mount+")"),$("#subNavigationBar .breadcrumb").html('<a href="#services">Services:</a> '+t),arangoHelper.buildServicesSubNav("Upload")}else window.setTimeout((function(){e.breadcrumb()}),100)}})}()},function(e,t){!function(){"use strict";window.ServiceInstallUrlView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("serviceInstallUrlView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},initialize:function(){window.App.replaceApp&&(this._upgrade=!0)},events:{"click #installUrlService":"installUrlService"},render:function(){return $(this.el).html(this.template.render({services:this.collection,upgrade:this._upgrade})),this.breadcrumb(),this.setUrlValidators(),arangoHelper.createTooltips(".modalTooltips"),this},breadcrumb:function(){var e=this;if(window.App.naviView){var t="New";this._upgrade&&(t="Replace ("+window.App.replaceAppData.mount+")"),$("#subNavigationBar .breadcrumb").html('<a href="#services">Services:</a> '+t),arangoHelper.buildServicesSubNav("Remote")}else window.setTimeout((function(){e.breadcrumb()}),100)},installUrlService:function(){arangoHelper.createMountPointModal(this.installFoxxFromUrl.bind(this))},installFoxxFromUrl:function(){var e,t,n;window.modalView.modalTestAll()&&(this._upgrade?e=window.App.replaceAppData.mount:"/"!==(e=window.arangoHelper.escapeHtml($("#new-app-mount").val())).charAt(0)&&(e="/"+e),t={url:window.arangoHelper.escapeHtml($("#repository").val())},n=arangoHelper.getFoxxFlags(),this.collection.install("url",t,e,n,this.installCallback.bind(this)))},setUrlValidators:function(){window.modalView.modalBindValidation({id:"repository",validateInput:function(){return[{rule:Joi.string().required().regex(/^(http)|^(https)/),msg:"No valid http or https url."}]}}),window.modalView.modalTestAll()},installCallback:function(e){window.App.navigate("#services",{trigger:!0}),window.App.applicationsView.installCallback(e)}})}()},function(e,t){!function(){"use strict";window.LoggerView=Backbone.View.extend({el:"#content",logsel:"#logEntries",initDone:!1,fetchedEntries:[],pageSize:20,currentPage:0,logTopics:{},logLevels:[],initialize:function(e){var t=this;if(e&&(this.options=e,e.endpoint&&(this.endpoint=e.endpoint),e.contentDiv&&(this.el=e.contentDiv)),this.collection.setPageSize(this.pageSize),!this.initDone){var n=arangoHelper.databaseUrl("/_admin/log/level");this.endpoint&&(n+="?serverId=".concat(encodeURIComponent(this.endpoint))),$.ajax({type:"GET",cache:!1,url:n,contentType:"application/json",processData:!1,success:function(e){t.logTopics=e,_.each(["fatal","error","warning","info","debug"],(function(e){t.logLevels.push(e)})),t.initDone=!0}})}},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},currentLoglevel:void 0,defaultLoglevel:"info",events:{"click #logLevelSelection":"renderLogLevel","click #logTopicSelection":"renderLogTopic","click #logFilters":"resetFilters","click #loadMoreEntries":"loadMoreEntries","click #downloadDisplayedEntries":"downloadEntries"},template:templateEngine.createTemplate("loggerView.ejs"),templateEntries:templateEngine.createTemplate("loggerViewEntries.ejs"),renderLogTopic:function(e){var t,n=this;this.logTopicOptions||(this.logTopicOptions={}),_.each(this.logTopics,(function(e,i){n.logTopicOptions[i]&&(t=n.logTopicOptions[i].active),n.logTopicOptions[i]={name:i,active:t||!1}}));var i=$(e.currentTarget).position();i.right="30",this.logTopicView=new window.FilterSelectView({name:"Topic",options:n.logTopicOptions,position:i,callback:n.logTopicCallbackFunction.bind(this),multiple:!0}),this.logTopicView.render()},downloadEntries:function(){this.fetchedEntries.sort((function(e,t){var n=new Date(e.date);return new Date(t.date)-n||t.lid-e.lid}));var e=new Date,t="LOGS-".concat(e.toISOString());arangoHelper.downloadLocalBlob(JSON.stringify(this.fetchedEntries,null,2),"json",t)},loadMoreEntries:function(){this.convertModelToJSON()},logTopicCallbackFunction:function(e){this.logTopicOptions=e,this.applyFilter()},logLevelCallbackFunction:function(e){this.logLevelOptions=e,this.applyFilter()},resetFilters:function(){_.each(this.logTopicOptions,(function(e){e.active=!1})),_.each(this.logLevelOptions,(function(e){e.active=!1})),this.applyFilter()},isFilterActive:function(e){var t=!1;return _.each(e,(function(e){e.active&&(t=!0)})),t},changeButton:function(e){e?("level"===e?($("#logLevelSelection").addClass("button-success").removeClass("button-default"),$("#logTopicSelection").addClass("button-default").removeClass("button-success"),$("#filterDesc").html(e)):"topic"===e?($("#logTopicSelection").addClass("button-success").removeClass("button-default"),$("#logLevelSelection").addClass("button-default").removeClass("button-success"),$("#filterDesc").html(e)):"both"===e&&($("#logTopicSelection").addClass("button-success").removeClass("button-default"),$("#logLevelSelection").addClass("button-success").removeClass("button-default"),$("#filterDesc").html("level, topic")),$("#logFilters").show()):($("#logTopicSelection").addClass("button-default").removeClass("button-success"),$("#logLevelSelection").addClass("button-default").removeClass("button-success"),$("#logFilters").hide(),$("#filterDesc").html(""))},applyFilter:function(){var e=this,t=this.isFilterActive(this.logLevelOptions),n=this.isFilterActive(this.logTopicOptions);t&&n?(_.each($("#logEntries").children(),(function(t){!1===e.logLevelOptions[$(t).attr("level")].active||!1===e.logTopicOptions[$(t).attr("topic")].active?$(t).hide():e.logLevelOptions[$(t).attr("level")].active&&e.logTopicOptions[$(t).attr("topic")].active&&$(t).show()})),this.changeButton("both")):t&&!n?(_.each($("#logEntries").children(),(function(t){!1===e.logLevelOptions[$(t).attr("level")].active?$(t).hide():$(t).show()})),this.changeButton("level")):!t&&n?(_.each($("#logEntries").children(),(function(t){!1===e.logTopicOptions[$(t).attr("topic")].active?$(t).hide():$(t).show()})),this.changeButton("topic")):t||n||(_.each($("#logEntries").children(),(function(e){$(e).show()})),this.changeButton());var i=0;_.each($("#logEntries").children(),(function(e){"flex"===$(e).css("display")&&$(e).css("display","block"),"block"===$(e).css("display")&&i++})),1===i?($(".logBorder").css("visibility","hidden"),$("#noLogEntries").hide()):0===i?$("#noLogEntries").show():($(".logBorder").css("visibility","visible"),$("#noLogEntries").hide())},renderLogLevel:function(e){var t,n=this;this.logLevelOptions||(this.logLevelOptions={}),_.each(this.logLevels,(function(e){n.logLevelOptions[e]&&(t=n.logLevelOptions[e].active),n.logLevelOptions[e]={name:e,active:t||!1};var i=arangoHelper.statusColors[e];i&&(n.logLevelOptions[e].color=i)}));var i=$(e.currentTarget).position();i.right="115",this.logLevelView=new window.FilterSelectView({name:"Level",options:n.logLevelOptions,position:i,callback:n.logLevelCallbackFunction.bind(this),multiple:!1}),this.logLevelView.render()},setActiveLoglevel:function(e){},initTotalAmount:function(){var e=this;this.collection.fetch({data:$.param({test:!0}),success:function(){e.convertModelToJSON()}}),this.fetchedAmount=!0},invertArray:function(e){var t,n=[],i=0;for(t=e.length-1;t>=0;t--)n[i]=e[t],i++;return n},convertModelToJSON:function(){if(this.fetchedAmount){this.collection.page=this.currentPage,this.currentPage++;var e,t=this,n=[];this.collection.fetch({success:function(i){t.collection.each((function(i){e=new Date(1e3*i.get("timestamp"));var a={status:i.getLogStatus(),date:arangoHelper.formatDT(e),timestamp:i.get("timestamp"),msg:i.get("text"),topic:i.get("topic")};n.push(a),t.fetchedEntries.push(i.toJSON())})),t.renderLogs(t.invertArray(n),i.lastInverseOffset)}})}else this.initTotalAmount()},render:function(e){var t=this;return e&&(this.currentPage=0,this.fetchedEntries=[]),this.initDone?($(this.el).html(this.template.render({})),this.convertModelToJSON()):window.setTimeout((function(){t.render(!1)}),100),this},renderLogs:function(e,t){_.each(e,(function(e){e.msg.indexOf("{"+e.topic+"}")>-1&&(e.msg=e.msg.replace("{"+e.topic+"}","")),e.msg=arangoHelper.escapeHtml(e.msg)})),0===this.currentPage?$(this.logsel).html(this.templateEntries.render({entries:e})):$(this.logsel).append(this.templateEntries.render({entries:e})),t<=0?$("#loadMoreEntries").attr("disabled",!0):$("#loadMoreEntries").attr("disabled",!1),arangoHelper.createTooltips(),this.applyFilter()}})}()},function(e,t){!function(){"use strict";window.LoginView=Backbone.View.extend({el:"#content",el2:".header",el3:".footer",loggedIn:!1,loginCounter:0,events:{"keyPress #loginForm input":"keyPress","click #submitLogin":"validate","submit #dbForm":"goTo","click #logout":"logout","change #loginDatabase":"renderDBS","keyup #databaseInputName":"renderDBS"},template:templateEngine.createTemplate("loginView.ejs"),render:function(e){var t=this;$(this.el).html(this.template.render({})),$(this.el2).hide(),$(this.el3).hide();var n=function(e,n,i){var a;a=e?arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(e)+"/database","_system"):arangoHelper.databaseUrl("/_api/database/user"),!1===frontendConfig.authenticationEnabled&&($("#logout").hide(),$(".login-window #databases").css("height","90px")),$("#loginForm").hide(),$(".login-window #databases").show(),$.ajax({type:"GET",url:a,success:function(e){t.renderDatabasesDropdown(e.result),t.renderDBS()},error:function(e){n?n():(arangoHelper.setCurrentJwt(null,null),location.reload(!0))}})};if(frontendConfig.authenticationEnabled&&!0!==e){var i=arangoHelper.getCurrentJwtUsername();if(null!==i&&"undefined"!==i&&void 0!==i){n(arangoHelper.getCurrentJwtUsername(),(function(){t.collection.logout(),window.setTimeout((function(){$("#loginUsername").focus()}),300)}))}else window.setTimeout((function(){$("#loginUsername").focus()}),300)}else frontendConfig.authenticationEnabled&&e?n(arangoHelper.getCurrentJwtUsername(),null):n(null,null);return $(".bodyWrapper").show(),this.setVersion(),this},setVersion:function(){window.frontendConfig&&window.frontendConfig.isEnterprise?$("#ArangoDBLogoVersion").attr("src","img/ArangoDB-enterprise-edition-Web-UI.png"):$("#ArangoDBLogoVersion").attr("src","img/ArangoDB-community-edition-Web-UI.png")},sortDatabases:function(e){var t;return frontendConfig.authenticationEnabled?(t=_.pairs(e),t=_.sortBy(t,(function(e){return e[0].toLowerCase()})),t=_.object(t)):t=_.sortBy(e,(function(e){return e.toLowerCase()})),t},clear:function(){$("#loginForm input").removeClass("form-error"),$(".wrong-credentials").hide()},keyPress:function(e){(e.ctrlKey&&13===e.keyCode||e.metaKey&&13===e.keyCode)&&(e.preventDefault(),this.validate())},validate:function(e){e.preventDefault(),this.clear();var t=$("#loginUsername").val(),n=$("#loginPassword").val();t&&this.collection.login(t,n,this.loginCallback.bind(this,t,n))},loginCallback:function(e,t,n){if(n){if(0===this.loginCounter)return this.loginCounter++,void this.collection.login(e,t,this.loginCallback.bind(this,e));this.loginCounter=0,$(".wrong-credentials").show(),$("#loginDatabase").html(""),$("#loginDatabase").append("<option>_system</option>")}else this.renderDBSelection(e)},renderDBSelection:function(e){var t=this,n=arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(e)+"/database","_system");!1===frontendConfig.authenticationEnabled&&(n=arangoHelper.databaseUrl("/_api/database/user")),$(".wrong-credentials").hide(),t.loggedIn=!0,$.ajax({type:"GET",url:n,success:function(e){$("#loginForm").hide(),$(".login-window #databases").show(),t.renderDatabasesDropdown(e.result),t.renderDBS()},error:function(){$(".wrong-credentials").show()}})},renderDatabasesDropdown:function(e){if($("#loginDatabase").html(""),Object.keys(e).length>0){$("#databaseInputName").remove();var t=this.sortDatabases(e);_.each(t,(function(e,t){var n;n=frontendConfig.authenticationEnabled?t:e,$("#loginDatabase").append('<option value="'+_.escape(n)+'"><pre>'+_.escape(n)+"</pre></option>")})),$("#loginDatabase").show(),$(".fa-database").show()}else $("#loginDatabase").hide(),$(".fa-database").hide(),$("#loginDatabase").after('<input id="databaseInputName" class="databaseInput login-input" placeholder="_system" value="_system"></input>')},renderDBS:function(){var e="Select DB: ";$("#noAccess").hide(),0===$("#loginDatabase").children().length?$("#loginDatabase").is(":visible")?($("#dbForm").remove(),$(".login-window #databases").prepend('<div class="no-database">You do not have permission to a database.</div>'),e+=$("#loginDatabase").val(),window.setTimeout((function(){$("#goToDatabase").focus()}),150)):e+=$("#databaseInputName").val():(e+=$("#loginDatabase").val(),window.setTimeout((function(){$("#goToDatabase").focus()}),150)),$("#goToDatabase").html(_.escape(e))},logout:function(){this.collection.logout()},goTo:function(e){e.preventDefault();var t,n=$("#loginUsername").val();t=$("#databaseInputName").is(":visible")?$("#databaseInputName").val():$("#loginDatabase").val();var i=function(e){e&&arangoHelper.arangoError("User","Could not fetch user settings")},a=window.location.protocol+"//"+window.location.host+frontendConfig.basePath+"/_db/"+encodeURIComponent(t)+"/_admin/aardvark/index.html";frontendConfig.react&&(a=window.location.protocol+"//"+window.location.host+"/_db/"+encodeURIComponent(t)+"/_admin/aardvark/index.html");var r=function(){window.location.href=a,$(this.el2).show(),$(this.el3).show(),$(".bodyWrapper").show(),$(".navbar").show(),$("#currentUser").text(n),this.collection.loadUserSettings(i)}.bind(this);$.ajax({url:a,success:function(e){r()},error:function(e){e.responseJSON&&e.responseJSON.errorMessage?$("#noAccess").html("Error (DB: "+_.escape(t)+"): "+_.escape(e.responseJSON.errorMessage)):$("#noAccess").html("Error (DB: "+_.escape(t)+"): "+_.escape(e.statusText)),$("#noAccess").show()}})}})}()},function(e,t){!function(){"use strict";window.MaintenanceView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("maintenanceView.ejs"),interval:1e4,events:{"click #enableMaintenanceMode":"enableMaintenanceMode","click #disableMaintenanceMode":"disableMaintenanceMode"},initialize:function(e){var t=this;clearInterval(this.intervalFunction),window.App.isCluster&&(this.intervalFunction=window.setInterval((function(){"#maintenance"===window.location.hash&&t.render(!1)}),this.interval))},remove:function(){return clearInterval(this.intervalFunction),this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},render:function(e){if("#maintenance"===window.location.hash){var t=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/maintenance"),contentType:"application/json",processData:!1,async:!0,success:function(e){t.continueRender(e.result,!1)},error:function(e){t.continueRender(e,!0)}}),!1!==e&&arangoHelper.buildClusterSubNav("Maintenance")}},enableMaintenanceMode:function(){this.changeMaintenance("on")},disableMaintenanceMode:function(){this.changeMaintenance("off")},changeMaintenance:function(e){var t,n=[],i=[];t="off"===e?"Disable Maintenance Mode":"Enable Maintenance Mode";i.push(window.modalView.createReadOnlyEntry("change-maintenance-button",t,"<blockquote>\n        Modifies the cluster supervision maintenance mode. Be aware that no automatic failovers of any\n        kind will take place while the maintenance mode is enabled. The cluster supervision reactivates\n        itself automatically after the selected duration in case it is not manually prolonged.<blockquote>\n      ")),"off"!==e?(i.push(window.modalView.createSelectEntry("maintenance-duration","Maintenance duration",3600,"The duration that the supervision maintenance will be enabled.",[{value:600,label:"10 minutes"},{value:1200,label:"20 minutes"},{value:1800,label:"30 minutes"},{value:2700,label:"45 minutes"},{value:3600,label:"1 hour"},{value:5400,label:"1.5 hours"},{value:7200,label:"2 hours"},{value:10800,label:"3 hours"},{value:14400,label:"4 hours"},{value:18e3,label:"5 hours"},{value:36e3,label:"10 hours"},{value:86400,label:"24 hours"}])),n.push(window.modalView.createNotificationButton(t,this.confirmChangeMaintenance.bind(this,e)))):n.push(window.modalView.createSuccessButton(t,this.confirmChangeMaintenance.bind(this,e))),window.modalView.show("modalTable.ejs","Supervision Maintenance Mode",n,i)},confirmChangeMaintenance:function(e){var t=this,n=e;"off"!==e&&(n=$("#maintenance-duration").val()),$.ajax({type:"PUT",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/maintenance"),contentType:"application/json",processData:!1,data:JSON.stringify(n),async:!0,success:function(){arangoHelper.arangoNotification("Maintenance","Set supervision maintenance mode to: "+e),t.render()},error:function(){arangoHelper.arangoError("Maintenance","Could not change supervision maintenance mode!")}}),window.modalView.hide()},continueRender:function(e,t){this.$el.html(this.template.render({maintenanceMode:"Normal"!==e,error:t,canChange:"jwt-compat"===frontendConfig.clusterApiJwtPolicy}))}})}()},function(e,t){!function(){"use strict";window.MetricsView=Backbone.View.extend({template:templateEngine.createTemplate("metricsView.ejs"),infoTemplate:templateEngine.createTemplate("infoView.ejs"),el:"#content",metricsel:void 0,interval:1e4,activeView:"table",events:{"click #toggleView":"toggleView","click #downloadAs":"downloadAs","click #reloadMetrics":"reloadMetrics"},initialize:function(e){e&&(this.options=e,e.endpoint&&(this.endpoint=e.endpoint),e.contentDiv&&(this.metricsel=e.contentDiv))},downloadAs:function(){var e=new Date,t="METRICS-".concat(e.toISOString());"table"===this.activeView?arangoHelper.downloadLocalBlob(JSON.stringify(this.collection.toJSON(),null,2),"json",t):arangoHelper.downloadLocalBlob(this.collection.metricsAsText(),"text",t)},toggleView:function(){"table"===this.activeView?($("#toggleView").text("Show Table"),$("#metricsAsText").show(),$("#metricsAsTable").hide(),this.activeView="text"):($("#toggleView").text("Show Text"),$("#metricsAsText").hide(),$("#metricsAsTable").show(),this.activeView="table")},breadcrumb:function(e){$("#subNavigationBar .breadcrumb").html("Metrics")},reloadMetrics:function(){var e=this;this.collection.fetch({success:function(){arangoHelper.arangoNotification("Metrics","Reloaded metrics."),e.continueRender()}})},render:function(){var e=this;if(frontendConfig.metricsEnabled)this.collection.fetch({success:function(){e.continueRender()}});else{var t={title:"Metrics",message:"Metrics are disabled."};this.metricsel?$(this.metricsel).html(this.infoTemplate.render(t)):this.$el.html(this.infoTemplate.render(t))}},continueRender:function(){this.metricsel?$(this.metricsel).html(this.template.render({collection:this.collection,activeView:this.activeView})):this.$el.html(this.template.render({collection:this.collection,activeView:this.activeView}))}})}()},function(e,t){!function(){"use strict";var e=function(e,t,n,i,a){var r={type:e,title:t,callback:n,confirm:i};return a&&(r.style=a),r},t=function(e,t,n,i,a,r,o,s,l,c,d,u){var h={type:e,label:t};return u&&(h.style=u),n&&(h.value=n),void 0!==i&&(h.info=i),void 0!==a&&(h.placeholder=a),void 0!==r&&(h.mandatory=r),void 0!==s&&(h.addDelete=s),void 0!==l&&(h.addAdd=l),void 0!==c&&(h.maxEntrySize=c),void 0!==d&&(h.tags=d),o&&(h.validateInput=function(){return o}),h};window.ModalView=Backbone.View.extend({_validators:[],_validateWatchers:[],baseTemplate:templateEngine.createTemplate("modalBase.ejs"),tableTemplate:templateEngine.createTemplate("modalTable.ejs"),el:"#modalPlaceholder",contentEl:"#modalContent",hideFooter:!1,confirm:{list:"#modal-delete-confirmation",yes:"#modal-confirm-delete",no:"#modal-abort-delete"},enabledHotkey:!1,enableHotKeys:!0,buttons:{SUCCESS:"success",NOTIFICATION:"notification",DELETE:"danger",NEUTRAL:"neutral",DISABLED:"disabled",CLOSE:"close"},tables:{READONLY:"readonly",TEXT:"text",BLOB:"blob",PASSWORD:"password",SELECT:"select",SELECT2:"select2",JSONEDITOR:"jsoneditor",CHECKBOX:"checkbox",TABLE:"table"},initialize:function(){Object.freeze(this.buttons),Object.freeze(this.tables)},createModalHotkeys:function(){$(this.el).unbind("keydown"),$(this.el).unbind("return"),$("#modal-dialog .modal-body .collectionTh > input").unbind("keydown"),$("#modal-dialog .modal-body .collectionTh > input").unbind("return"),$("#modal-dialog .modal-body .collectionTh > input",$(this.el)).bind("keydown","return",(function(e){$("#modal-dialog .modal-footer .button-success").is(":disabled")||13!==e.keyCode||$("#modal-dialog .modal-footer .button-success").click()})),$("#modal-dialog .modal-body .collectionTh > select").unbind("keydown"),$("#modal-dialog .modal-body .collectionTh > select").unbind("return"),$("#modal-dialog .modal-body .collectionTh > select",$(this.el)).bind("keydown","return",(function(e){$("#modal-dialog .modal-footer .button-success").is(":disabled")||13!==e.keyCode||$("#modal-dialog .modal-footer .button-success").click()}))},createInitModalHotkeys:function(){var e=this;$(this.el).bind("keydown","left",(function(){e.navigateThroughButtons("left")})),$(this.el).bind("keydown","right",(function(){e.navigateThroughButtons("right")}))},navigateThroughButtons:function(e){var t=$(".createModalDialog .modal-footer button").is(":focus");!1===t?"left"===e?$(".createModalDialog .modal-footer button").first().focus():"right"===e&&$(".createModalDialog .modal-footer button").last().focus():!0===t&&("left"===e?$(":focus").prev().focus():"right"===e&&$(":focus").next().focus())},createCloseButton:function(t,n){var i=this;return e(this.buttons.CLOSE,t,(function(){i.hide(),n&&n()}))},createSuccessButton:function(t,n){return e(this.buttons.SUCCESS,t,n)},createNotificationButton:function(t,n){return e(this.buttons.NOTIFICATION,t,n)},createDeleteButton:function(t,n,i){return e(this.buttons.DELETE,t,n,i)},createNeutralButton:function(t,n){return e(this.buttons.NEUTRAL,t,n)},createDisabledButton:function(t,n){var i=e(this.buttons.DISABLED,t,n);return i.disabled=!0,i},createReadOnlyEntry:function(e,n,i,a,r,o,s){var l=t(this.tables.READONLY,n,i,a,void 0,void 0,void 0,r,o,void 0,void 0,s);return l.id=e,l},createTextEntry:function(e,n,i,a,r,o,s,l){var c=t(this.tables.TEXT,n,i,a,r,o,s,void 0,void 0,void 0,void 0,l);return c.id=e,c},createBlobEntry:function(e,n,i,a,r,o,s,l){var c=t(this.tables.BLOB,n,i,a,r,o,s,void 0,void 0,void 0,void 0,l);return c.id=e,c},createSelect2Entry:function(e,n,i,a,r,o,s,l,c,d){var u=t(this.tables.SELECT2,n,i,a,r,o,void 0,s,l,c,d);return u.id=e,u},createJsonEditor:function(e,n,i,a,r,o,s,l,c,d,u){var h=t(this.tables.JSONEDITOR,"Document body",i,"",r,o,void 0,s,l,c,d,u);return h.id=e,h},createPasswordEntry:function(e,n,i,a,r,o,s,l){var c=t(this.tables.PASSWORD,n,i,a,r,o,s,void 0,void 0,void 0,void 0,l);return c.id=e,c},createCheckboxEntry:function(e,n,i,a,r,o){var s=t(this.tables.CHECKBOX,n,i,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,o);return s.id=e,r&&(s.checked=r),i&&(s.checked=i),s},createSelectEntry:function(e,n,i,a,r,o){var s=t(this.tables.SELECT,n,null,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,o);return s.id=e,i&&(s.selected=i),s.options=r,s},createOptionEntry:function(e,t,n){return{label:e,value:t||e,style:n}},createTableEntry:function(e,t,n,i,a,r){return{id:e,label:t,info:a,type:this.tables.TABLE,head:n,rows:i,style:r+" ; display: table; "}},renameDangerButton:function(e){var t=$(e).text();$("#modal-delete-confirmation strong").html("Really "+t.toLowerCase()+"?")},handleSelect2Row:function(e){var t={tags:e.tags||[],showSearchBox:!1,minimumResultsForSearch:-1,width:e.width||"336px"};e.maxEntrySize&&(t.maximumSelectionSize=e.maxEntrySize),$("#"+e.id).select2(t)},show:function(e,t,n,i,a,r,o,s,l,c){var d,u,h,p=this,f=!1;if(n=n||[],s=Boolean(s),this.clearValidators(),n.length>0?(n.forEach((function(e){e.type===p.buttons.CLOSE&&(f=!0),e.type===p.buttons.DELETE&&(u=u||e.confirm)})),f||(d=n.pop(),n.push(p.createCloseButton("Cancel")),n.push(d))):n.push(p.createCloseButton("Close")),c?($("#"+c).html(this.baseTemplate.render({title:t,buttons:n,hideFooter:this.hideFooter,confirm:u,tabBar:l})),$("#"+c+" #modal-dialog").removeClass("fade hide modal"),$("#"+c+" .modal-header").remove(),$("#"+c+" .modal-tabbar").remove(),$("#"+c+" .modal-tabbar").remove(),$("#"+c+" .button-close").remove(),0===$("#"+c+" .modal-footer").children().length&&$("#"+c+" .modal-footer").remove()):$(this.el).html(this.baseTemplate.render({title:t,buttons:n,hideFooter:this.hideFooter,confirm:u,tabBar:l})),_.each(n,(function(e,t){if(!e.disabled&&"disabled"!==e.type&&e.callback){if(e.type===p.buttons.DELETE&&!s){var n="#modalButton"+t;return c&&(n="#"+c+" #modalButton"+t),void $(n).bind("click",(function(){c?($("#"+c+" "+p.confirm.yes).unbind("click"),$("#"+c+" "+p.confirm.yes).bind("click",e.callback),$("#"+c+" "+p.confirm.list).css("display","block"),p.renameDangerButton(n)):($(p.confirm.yes).unbind("click"),$(p.confirm.yes).bind("click",e.callback),$(p.confirm.list).css("display","block"),p.renameDangerButton(n))}))}c?$("#"+c+" #modalButton"+t).bind("click",e.callback):$("#modalButton"+t).bind("click",e.callback)}else c?$("#"+c+" #modalButton"+t).attr("disabled",!0):$("#modalButton"+t).attr("disabled",!0)})),c?$("#"+c+" "+this.confirm.no).bind("click",(function(){$("#"+c+" "+p.confirm.list).css("display","none")})):$(this.confirm.no).bind("click",(function(){$(p.confirm.list).css("display","none")})),"string"===typeof e)h=templateEngine.createTemplate(e),c?$("#"+c+" .createModalDialog .modal-body").html(h.render({content:i,advancedContent:a,info:r})):$("#modalPlaceholder .createModalDialog .modal-body").html(h.render({content:i,advancedContent:a,info:r}));else{var g=0;_.each(e,(function(e){h=templateEngine.createTemplate(e),$(".createModalDialog .modal-body .tab-content #"+l[g]).html(h.render({content:i,advancedContent:a,info:r})),g++}))}arangoHelper.createTooltips(".createModalDialog .modalTooltips","left");var m=i||[];a&&a.content?m=m.concat(a.content):Array.isArray(a)&&_.each(a,(function(e){e.content&&(m=m.concat(e.content))})),_.each(m,(function(e){p.modalBindValidation(e),e.type===p.tables.SELECT2&&p.handleSelect2Row(e),e.type===p.tables.TABLE&&e.rows.forEach((function(e){_.each(e,p.modalBindValidation,p),_.each(e,(function(e){e.type===p.tables.SELECT2&&(e.width="resolve",p.handleSelect2Row(e))}))}))})),o&&(this.events=o,this.delegateEvents());var v,b=function(e){$("#accordion".concat(e))&&($("#accordion".concat(e," .accordion-toggle")).bind("click",(function(){$("#collapseOne".concat(e)).is(":visible")?($("#collapseOne".concat(e)).hide(),setTimeout((function(){$("#accordion".concat(e," .accordion-toggle")).addClass("collapsed")}),100)):($("#collapseOne".concat(e)).show(),setTimeout((function(){$("#accordion".concat(e," .accordion-toggle")).removeClass("collapsed")}),100))})),$("#collapseOne".concat(e)).hide(),setTimeout((function(){$("#accordion".concat(e," .accordion-toggle")).addClass("collapsed")}),100))};if(a&&Array.isArray(a)){var y=2;_.each(a,(function(e){b(y),y++}))}else a&&b(2);c||$("#modal-dialog").modal("show"),!1===this.enabledHotkey&&(this.createInitModalHotkeys(),this.enabledHotkey=!0),this.enableHotKeys&&this.createModalHotkeys(),(v=c?$("#"+c+" #modal-dialog").find("input"):$("#modal-dialog").find("input"))&&setTimeout((function(){(v=c?$("#"+c+" #modal-dialog"):$("#modal-dialog")).length>0&&(v=v.find("input")).length>0&&$(v[0]).focus()}),400)},modalBindValidation:function(e){var t=this;if(e.hasOwnProperty("id")&&e.hasOwnProperty("validateInput")){var n=function(t){if(t){var n=$(t.target),i=e.validateInput(n),a=!1;if(_.each(i,(function(e){var i=n.val();if(e.rule||(e={rule:e}),"function"===typeof e.rule)try{e.rule(i)}catch(t){a=e.msg||t.message}else{var r=Joi.validate(i,e.rule);r.error&&(a=e.msg||r.error.message)}if(a)return!1})),a)return a}},i=$("#"+e.id);i.on("keyup focusout",(function(e){var i=$(e.target),a=n(e),r=i.next()[0];a?(i.addClass("invalid-input"),r?$(r).text(a):i.after('<p class="errorMessage">'+a+"</p>"),$("#modal-dialog").is(":visible")?$("#modal-dialog .modal-footer .button-success").prop("disabled",!0).addClass("disabled"):$(".createModalDialog .modal-footer .button-success").prop("disabled",!0).addClass("disabled")):(i.removeClass("invalid-input"),r&&$(r).remove(),t.modalTestAll())})),this._validators.push(n),this._validateWatchers.push(i)}},modalTestAll:function(){var e=_.map(this._validators,(function(e){return e()})),t=_.any(e);return t?$("#modal-dialog").is(":visible")?$("#modal-dialog .modal-footer .button-success").prop("disabled",!0).addClass("disabled"):$(".createModalDialog .modal-footer .button-success").prop("disabled",!0).addClass("disabled"):$("#modal-dialog").is(":visible")?$("#modal-dialog .modal-footer .button-success").prop("disabled",!1).removeClass("disabled"):$(".createModalDialog .modal-footer .button-success").prop("disabled",!1).removeClass("disabled"),!t},clearValidators:function(){this._validators=[],_.each(this._validateWatchers,(function(e){e.unbind("keyup focusout")})),this._validateWatchers=[]},hide:function(){this.clearValidators(),$("#modal-dialog").modal("hide")}})}()},function(e,t){!function(){"use strict";window.NavigationView=Backbone.View.extend({el:"#navigationBar",subEl:"#subNavigationBar",events:{"change #arangoCollectionSelect":"navigateBySelect","click .tab":"navigateByTab","click li":"switchTab","click .arangodbLogo":"selectMenuItem","click .shortcut-icons p":"showShortcutModal"},renderFirst:!0,activeSubMenu:void 0,changeDB:function(){window.location.hash="#login"},initialize:function(e){var t=this;this.userCollection=e.userCollection,this.currentDB=e.currentDB,this.dbSelectionView=new window.DBSelectionView({collection:e.database,current:this.currentDB}),this.userBarView=new window.UserBarView({userCollection:this.userCollection}),this.notificationView=new window.NotificationView({collection:e.notificationCollection}),this.statisticBarView=new window.StatisticBarView({currentDB:this.currentDB}),this.isCluster=e.isCluster,this.foxxApiEnabled=e.foxxApiEnabled,this.statisticsInAllDatabases=e.statisticsInAllDatabases,this.handleKeyboardHotkeys(),Backbone.history.on("all",(function(){t.selectMenuItem()}))},showShortcutModal:function(){arangoHelper.hotkeysFunctions.showHotkeysModal()},handleSelectDatabase:function(){this.dbSelectionView.render($("#dbSelect"))},template:templateEngine.createTemplate("navigationView.ejs"),templateSub:templateEngine.createTemplate("subNavigationView.ejs"),render:function(){$(this.subEl).html(this.templateSub.render({frontendConfig:window.frontendConfig,currentDB:this.currentDB.toJSON()})),arangoHelper.checkDatabasePermissions(this.continueRender.bind(this),this.continueRender.bind(this)),!0===window.frontendConfig.isEnterprise&&this.fetchServerTime()},continueRender:function(e){var t=this;$(this.el).html(this.template.render({currentDB:this.currentDB,statisticsInAllDatabases:this.statisticsInAllDatabases,isCluster:this.isCluster,foxxApiEnabled:this.foxxApiEnabled,readOnly:e})),"_system"!==this.currentDB.get("name")&&$("#dashboard").parent().remove(),this.dbSelectionView.render($("#dbSelect"));var n=function(e){e||this.userBarView.render()}.bind(this);return this.userCollection.whoAmI(n),this.renderFirst&&(this.renderFirst=!1,this.selectMenuItem(),$(".arangodbLogo").on("click",(function(){t.selectMenuItem()})),$("#dbStatus").on("click",(function(){t.changeDB()}))),t.resize(),!0===window.frontendConfig.isEnterprise?($("#ArangoDBLogo").after('<span id="enterpriseLabel" style="display: none">Enterprise Edition</span>'),$("#enterpriseLabel").fadeIn("slow")):($("#ArangoDBLogo").after('<span id="communityLabel" style="display: none">Community Edition</span>'),$("#communityLabel").fadeIn("slow"),$(".enterprise-menu").show()),this},fetchLicenseInfo:function(e){var t=this,n=arangoHelper.databaseUrl("/_admin/license");$.ajax({type:"GET",url:n,success:function(n){n.status&&n.features&&n.features.expires?t.renderLicenseInfo(n.status,n.features.expires,e):t.showLicenseError()},error:function(){t.showLicenseError()}})},fetchServerTime:function(){var e=this,t=arangoHelper.databaseUrl("/_admin/time");$.ajax({type:"GET",url:t,success:function(t){console.log("timeData: ",t),!t.error&&200===t.code&&t.time?e.fetchLicenseInfo(t.time):e.showGetTimeError()},error:function(){e.showGetTimeError()}})},showLicenseError:function(){$("#licenseInfoArea").append('<div id="subNavLicenseInfo" class="alert alert-danger alert-license"><span><i class="fa fa-exclamation-triangle"></i></span> <span id="licenseInfoText">Error: Failed to fetch license information</span></div>')},showGetTimeError:function(){$("#licenseInfoArea").append('<div id="subNavLicenseInfo" class="alert alert-danger alert-license"><span><i class="fa fa-exclamation-triangle"></i></span> <span id="licenseInfoText">Error: Failed to fetch server time</span></div>')},renderLicenseInfo:function(e,t,n){if(null!==e&&null!==t){var i="",a="alert alert-license";switch(e){case"expiring":var r=t-Math.round(n),o=Math.ceil(r/86400),s="";i="Your license is expiring in under ",i+=o>1?o+" days":(s=Math.ceil(r/3600))>1?s+" hours":Math.ceil(r/60)+" minutes",i+=". Please contact ArangoDB sales to extend your license urgently.",this.appendLicenseInfoToUi(i,a);break;case"expired":i="Your license expired "+(o=Math.floor((Math.round(n)-t)/86400))+" days ago. New enterprise features cannot be created. Please contact ArangoDB sales immediately.",a+=" alert-danger",this.appendLicenseInfoToUi(i,a);break;case"read-only":i="Your license has expired. This installation has been restricted to read-only mode. Please contact ArangoDB sales immediately to extend your license.",a+=" alert-danger",this.appendLicenseInfoToUi(i,a)}}},appendLicenseInfoToUi:function(e,t){var n='<div id="subNavLicenseInfo" class="'+t+'"><span><i class="fa fa-exclamation-triangle"></i></span> <span id="licenseInfoText">'+e+"</span></div>";$("#licenseInfoArea").append(n)},resize:function(){var e=$(window).height()-$(".subMenuEntries").first().height(),t=$("#navigationBar");t.css("min-height",e),t.css("height",e)},navigateBySelect:function(){var e=$("#arangoCollectionSelect").find("option:selected").val();window.App.navigate(e,{trigger:!0})},handleKeyboardHotkeys:function(){arangoHelper.enableKeyboardHotkeys(!0)},navigateByTab:function(e){var t=e.target||e.srcElement,n=t.id,i=!1;"enterprise"!==n&&($(t).hasClass("fa")||(""===n&&(n=$(t).attr("class")),"links"===n?(i=!0,$("#link_dropdown").slideToggle(1),e.preventDefault()):"tools"===n?(i=!0,$("#tools_dropdown").slideToggle(1),e.preventDefault()):"dbselection"===n&&(i=!0,$("#dbs_dropdown").slideToggle(1),e.preventDefault()),i||(window.App.navigate(n,{trigger:!0}),e.preventDefault())))},handleSelectNavigation:function(){var e=this;$("#arangoCollectionSelect").change((function(){e.navigateBySelect()}))},subViewConfig:{documents:"collections",collection:"collections"},subMenuConfig:{collections:[{name:"",view:void 0,active:!1}],queries:[{name:"Editor",route:"query",active:!0},{name:"Running Queries",route:"queryManagement",params:{active:!0},active:void 0},{name:"Slow Query History",route:"queryManagement",params:{active:!1},active:void 0}]},renderSubMenu:function(e){var t=this;if(void 0===e&&(e=window.isCluster?"cluster":"dashboard"),this.subMenuConfig[e]){$(this.subEl+" .bottom").html("");var n="";_.each(this.subMenuConfig[e],(function(e){n=e.active?"active":"",e.disabled&&(n="disabled"),$(t.subEl+" .bottom").append('<li class="subMenuEntry '+n+'"><a>'+e.name+"</a></li>"),e.disabled||$(t.subEl+" .bottom").children().last().bind("click",(function(n){$("#subNavigationBar .breadcrumb").html(""),t.activeSubMenu=e,t.renderSubView(e,n)}))}))}else $(t.subEl+" .bottom").append('<li class="subMenuEntry</li>')},renderSubView:function(e,t){window.App[e.route]?(window.App[e.route].resetState&&window.App[e.route].resetState(),window.App[e.route]()):e.href&&window.App.navigate(e.href,{trigger:!0}),$(this.subEl+" .bottom").children().removeClass("active"),$(t.currentTarget).addClass("active")},switchTab:function(e){var t=$(e.currentTarget).children().first().attr("id");"enterprise"!==t?t&&this.selectMenuItem(t+"-menu"):window.open("https://www.arangodb.com/download-arangodb-enterprise/","_blank")},selectMenuItem:function(e,t){void 0===e&&(e=(e=window.location.hash.split("/")[0]).substr(1,e.length-1)),""===e?e=window.App.isCluster?"cluster":"dashboard":"cNodes"!==e&&"dNodes"!==e||(e="nodes");try{this.renderSubMenu(e.split("-")[0])}catch(n){this.renderSubMenu(e)}$(".navlist li").removeClass("active"),"string"===typeof e&&(t?$("."+this.subViewConfig[e]+"-menu").addClass("active"):e&&($("."+e).addClass("active"),$("."+e+"-menu").addClass("active"))),arangoHelper.hideArangoNotifications()}})}()},function(e,t){!function(){"use strict";window.NodeView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("nodeView.ejs"),interval:5e3,dashboards:[],events:{},initialize:function(e){window.App.isCluster&&(this.coordinators=e.coordinators,this.dbServers=e.dbServers,this.coordid=e.coordid,this.updateServerTime())},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},breadcrumb:function(e){$("#subNavigationBar .breadcrumb").html("Node: "+e)},render:function(){this.$el.html(this.template.render({coords:[]}));var e=function(){this.continueRender(),this.breadcrumb(arangoHelper.getCoordinatorShortName(this.coordid)),$(window).trigger("resize")}.bind(this);this.initCoordDone||this.waitForCoordinators(),this.initDBDone?(this.coordid=window.location.hash.split("/")[1],this.coordinator=this.coordinators.findWhere({id:this.coordid}),e()):this.waitForDBServers(e)},continueRender:function(){var e,t=this;if(this.coordinator)e=this.coordinator.get("name"),this.dashboards[e]&&this.dashboards[e].clearInterval(),this.dashboards[e]=new window.DashboardView({dygraphConfig:window.dygraphConfig,database:window.App.arangoDatabase,serverToShow:{raw:this.coordinator.get("address"),isDBServer:!1,endpoint:this.coordinator.get("protocol")+"://"+this.coordinator.get("address"),target:this.coordinator.get("id")}});else{var n=this.dbServer.toJSON();e=n.name,this.dashboards[e]&&this.dashboards[e].clearInterval(),this.dashboards[e]=new window.DashboardView({dygraphConfig:null,database:window.App.arangoDatabase,serverToShow:{raw:n.address,isDBServer:!0,endpoint:n.endpoint,id:n.id,name:n.name,status:n.status,target:n.id}})}this.dashboards[e].render(),window.setTimeout((function(){t.dashboards[e].resize()}),500)},waitForCoordinators:function(e){var t=this;window.setTimeout((function(){0===t.coordinators.length?t.waitForCoordinators(e):(t.coordinator=t.coordinators.findWhere({id:t.coordid}),t.initCoordDone=!0,e&&e())}),200)},waitForDBServers:function(e){var t=this;window.setTimeout((function(){0===t.dbServers[0].length?t.waitForDBServers(e):(t.initDBDone=!0,t.dbServer=t.dbServers[0],t.dbServer.each((function(e){var n=e.get("id");n===window.location.hash.split("/")[1]&&(t.dbServer=t.dbServer.findWhere({id:n}))})),e())}),200)},updateServerTime:function(){this.serverTime=(new Date).getTime()}})}()},function(e,t){!function(){"use strict";window.NodesView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("nodesView.ejs"),interval:1e4,knownServers:[],events:{"click #nodesContent .coords-nodes .pure-table-row":"navigateToNode","click #nodesContent .dbs-nodes .pure-table-row":"navigateToNode","click #nodesContent .coords-nodes .pure-table-row .fa-trash-o":"deleteNode","click #nodesContent .dbs-nodes .pure-table-row .fa-trash-o":"deleteNode","click #addCoord":"addCoord","click #removeCoord":"removeCoord","click #addDBs":"addDBs","click #removeDBs":"removeDBs","click .abortClusterPlan":"abortClusterPlanModal","keyup #plannedCoords":"checkKey","keyup #plannedDBs":"checkKey"},remove:function(){return clearInterval(this.intervalFunction),this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},checkKey:function(e){if(13===e.keyCode){var t=this;this.changePlanModal(function(e){var n;if("plannedCoords"===e.target.id)try{"number"===typeof(n=JSON.parse($("#plannedCoords").val()))?(window.modalView.hide(),t.setCoordSize(n)):arangoHelper.arangoError("Error","Invalid value. Must be a number.")}catch(e){arangoHelper.arangoError("Error","Invalid value. Must be a number.")}else if("plannedDBs"===e.target.id)try{"number"===typeof(n=JSON.parse($("#plannedCoords").val()))?(window.modalView.hide(),t.setDBsSize(n)):arangoHelper.arangoError("Error","Invalid value. Must be a number.")}catch(e){arangoHelper.arangoError("Error","Invalid value. Must be a number.")}}.bind(null,e))}},changePlanModal:function(e,t){var n=[],i=[];i.push(window.modalView.createReadOnlyEntry("plan-confirm-button","Caution","You are changing the cluster plan. Continue?",void 0,void 0,!1,/[<>&'"]/)),n.push(window.modalView.createSuccessButton("Yes",e.bind(this,t))),window.modalView.show("modalTable.ejs","Modify Cluster Size",n,i)},initialize:function(){var e=this;clearInterval(this.intervalFunction),window.App.isCluster&&(this.updateServerTime(),this.intervalFunction=window.setInterval((function(){"#nodes"===window.location.hash&&e.render(!1)}),this.interval))},deleteNode:function(e){if(!$(e.currentTarget).hasClass("noHover")){var t=this,n=$(e.currentTarget.parentNode.parentNode).attr("node").slice(0,-5);return window.confirm("Do you want to delete this node?")&&$.ajax({type:"POST",url:arangoHelper.databaseUrl("/_admin/cluster/removeServer"),contentType:"application/json",async:!0,data:JSON.stringify(n),success:function(e){t.render(!1)},error:function(){"#nodes"===window.location.hash&&arangoHelper.arangoError("Cluster","Could not fetch cluster information")}}),!1}},navigateToNode:function(e){var t=$(e.currentTarget).attr("node").slice(0,-5);$(e.currentTarget).hasClass("noHover")||window.App.navigate("#node/"+encodeURIComponent(t),{trigger:!0})},render:function(e){if("#nodes"===window.location.hash){var t=this;$("#content").is(":empty")&&arangoHelper.renderEmpty("Please wait. Requesting cluster information...","fa fa-spin fa-circle-o-notch");window.App&&window.App.lastHealthCheckResult&&(n=window.App.lastHealthCheckResult.Health,$.ajax({type:"GET",url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",success:function(e){"#nodes"===window.location.hash&&(arangoHelper.buildNodesSubNav("Overview",!1),t.continueRender(n,e))},error:function(e){arangoHelper.buildNodesSubNav("Overview",!0),t.renderFailure(e)}}))}var n},renderFailure:function(e){var t="Unexpected Failure",n="See the browser developer console for more details.";$(this.el).html(""),e.responseJSON&&403===e.responseJSON.code?(t="Forbidden",n="No access to read nodes data."):e.responseJSON&&e.responseJSON.code&&e.responseJSON.errorMessage?(t="Error code: "+e.responseJSON.code,n=e.responseJSON.errorMessage):console.log(e),$(this.el).append('<div class="infoBox errorBox" style="background: white;"><h4>'+t+"</h4><p>"+n+"</p></div>")},continueRender:function(e,t){var n=[],i=[],a=[],r=!1;_.each(e,(function(e,t){e.id=t,"Coordinator"===e.Role?n.push(e):"DBServer"===e.Role?i.push(e):"Agent"===e.Role&&a.push(e)})),n=_.sortBy(n,(function(e){return e.ShortName})),i=_.sortBy(i,(function(e){return e.ShortName})),null!==t.numberOfDBServers&&null!==t.numberOfCoordinators&&(r=!0);var o=function(e){this.$el.html(this.template.render({coords:n,dbs:i,agents:a,scaling:r,scaleProperties:e,plannedDBs:t.numberOfDBServers,plannedCoords:t.numberOfCoordinators})),arangoHelper.createTooltips(),r||($(".title").css("position","relative"),$(".title").css("top","-4px"),$(".sectionHeader .information").css("margin-top","-3px"))}.bind(this);this.renderCounts(r,o)},updatePlanned:function(e){e.numberOfCoordinators&&($("#plannedCoords").val(e.numberOfCoordinators),this.renderCounts(!0)),e.numberOfDBServers&&($("#plannedDBs").val(e.numberOfDBServers),this.renderCounts(!0))},setCoordSize:function(e){var t=this,n={numberOfCoordinators:e};$.ajax({type:"PUT",url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",data:JSON.stringify(n),success:function(){t.updatePlanned(n)},error:function(){arangoHelper.arangoError("Scale","Could not set coordinator size.")}})},setDBsSize:function(e){var t=this,n={numberOfDBServers:e};$.ajax({type:"PUT",url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",data:JSON.stringify(n),success:function(){t.updatePlanned(n)},error:function(){arangoHelper.arangoError("Scale","Could not set coordinator size.")}})},abortClusterPlanModal:function(){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry("plan-abort-button","Caution","You are aborting the planned cluster plan. All pending servers are going to be removed. Continue?",void 0,void 0,!1,/[<>&'"]/)),e.push(window.modalView.createSuccessButton("Yes",this.abortClusterPlan.bind(this))),window.modalView.show("modalTable.ejs","Modify Cluster Size",e,t)},abortClusterPlan:function(){window.modalView.hide();try{var e=JSON.parse($("#infoCoords > .positive > span").text()),t=JSON.parse($("#infoDBs > .positive > span").text());this.setCoordSize(e),this.setDBsSize(t)}catch(n){arangoHelper.arangoError("Plan","Could not abort Cluster Plan")}},renderCounts:function(e,t){var n=this,i=function(t,n,i,a){var r='<span class="positive"><span>'+n+'</span><i class="fa fa-check-circle"></i></span>';i&&!0===e&&(r=r+'<span class="warning"><span>'+i+'</span><i class="fa fa-circle-o-notch fa-spin"></i></span><button class="abortClusterPlan button-navbar button-default">Abort</button>'),a&&(r=r+'<span class="negative"><span>'+a+'</span><i class="fa fa-exclamation-circle"></i></span>'),$(t).html(r),e||($(".title").css("position","relative"),$(".title").css("top","-4px"))};window.App&&window.App.lastHealthCheckResult&&function(e){var a=0,r=0,o=0,s=0,l=0,c=0,d=0,u=0;_.each(e,(function(e){"Coordinator"===e.Role?"GOOD"===e.Status?r++:a++:"DBServer"===e.Role?"GOOD"===e.Status?s++:l++:"Agent"===e.Role&&("GOOD"===e.Status?d++:u++)})),$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",processData:!1,success:function(e){o=Math.abs(r+a-e.numberOfCoordinators),c=Math.abs(s+l-e.numberOfDBServers),t?t({coordsPending:o,coordsOk:r,coordsErrors:a,dbsPending:c,dbsOk:s,dbsErrors:l,agentsOk:d,agentErrors:u}):(i("#infoDBs",s,c,l),i("#infoCoords",r,o,a)),n.isPlanFinished()||($(".scaleGroup").addClass("no-hover"),$("#plannedCoords").attr("disabled","disabled"),$("#plannedDBs").attr("disabled","disabled"))}})}(window.App.lastHealthCheckResult.Health)},isPlanFinished:function(){return!($("#infoDBs").find(".warning").length>0)&&!($("#infoCoords").find(".warning").length>0)},addCoord:function(){this.isPlanFinished()?this.changePlanModal(function(){window.modalView.hide(),this.setCoordSize(this.readNumberFromID("#plannedCoords",!0))}.bind(this)):(arangoHelper.arangoNotification("Cluster Plan","Planned state not yet finished."),$(".noty_buttons .button-danger").remove())},removeCoord:function(){this.isPlanFinished()?this.changePlanModal(function(){window.modalView.hide(),this.setCoordSize(this.readNumberFromID("#plannedCoords",!1,!0))}.bind(this)):(arangoHelper.arangoNotification("Cluster Plan","Planned state not yet finished."),$(".noty_buttons .button-danger").remove())},addDBs:function(){this.isPlanFinished()?this.changePlanModal(function(){window.modalView.hide(),this.setDBsSize(this.readNumberFromID("#plannedDBs",!0))}.bind(this)):(arangoHelper.arangoNotification("Cluster Plan","Planned state not yet finished."),$(".noty_buttons .button-danger").remove())},removeDBs:function(){this.isPlanFinished()?this.changePlanModal(function(){window.modalView.hide(),this.setDBsSize(this.readNumberFromID("#plannedDBs",!1,!0))}.bind(this)):(arangoHelper.arangoNotification("Cluster Plan","Planned state not yet finished."),$(".noty_buttons .button-danger").remove())},readNumberFromID:function(e,t,n){var i=$(e).val(),a=!1;try{a=JSON.parse(i)}catch(r){}return t&&a++,n&&1!==a&&a--,a},updateServerTime:function(){this.serverTime=(new Date).getTime()}})}()},function(e,t){!function(){"use strict";window.NotificationView=Backbone.View.extend({events:{"click .navlogo #stat_hd":"toggleNotification","click .notificationItem .fa":"removeNotification","click #removeAllNotifications":"removeAllNotifications"},initialize:function(){this.collection.bind("add",this.renderNotifications.bind(this)),this.collection.bind("remove",this.renderNotifications.bind(this)),this.collection.bind("reset",this.renderNotifications.bind(this)),window.setTimeout((function(){!1===frontendConfig.authenticationEnabled&&!1===frontendConfig.isCluster&&!0===arangoHelper.showAuthDialog()&&window.arangoHelper.arangoWarning("Warning","Authentication is disabled. Do not use this setup in production mode.")}),2e3)},notificationItem:templateEngine.createTemplate("notificationItem.ejs"),el:"#notificationBar",template:templateEngine.createTemplate("notificationView.ejs"),toggleNotification:function(){0!==this.collection.length&&$("#notification_menu").toggle()},removeAllNotifications:function(){Noty.clearQueue(),Noty.closeAll(),this.collection.reset(),$("#notification_menu").hide()},removeNotification:function(e){var t=e.target.id;this.collection.get(t).destroy()},renderNotifications:function(e,t,n){if(n&&n.add){var i,a=this.collection.at(this.collection.length-1),r=a.get("title"),o=5e3,s=["click"];if(a.get("content")&&(r=r+": "+a.get("content")),"error"===a.get("type")?(o=!1,s=["button"],i=[Noty.button("Close","btn btn-error",(function(e){console.log("button 1 clicked"),e.close()}),{id:"button1","data-status":"ok"})]):"warning"===a.get("type")?(o=15e3,i=[Noty.button("Close","btn btn-warning",(function(e){e.close()}),{id:"button2","data-status":"true"}),Noty.button("Do not show again.","btn btn-error",(function(e){window.arangoHelper.doNotShowAgain(),e.close()}),{id:"button3","data-status":"false"})]):"info"===a.get("type")&&(o=1e4),arangoHelper.hideArangoNotifications(),new Noty({type:a.get("type"),layout:"bottom",theme:"sunset",text:r,buttons:i,timeout:o,closeWidth:s}).show(),"success"===a.get("type"))return void a.destroy()}},render:function(){return $(this.el).html(this.template.render({notifications:this.collection})),this.renderNotifications(),this.delegateEvents(),this.el}})}()},function(e,t){!function(){"use strict";window.ProgressView=Backbone.View.extend({template:templateEngine.createTemplate("progressBase.ejs"),el:"#progressPlaceholder",el2:"#progressPlaceholderIcon",toShow:!1,lastDelay:0,action:function(){},events:{"click .progress-action button":"performAction"},performAction:function(){"function"===typeof this.action&&this.action(),window.progressView.hide()},initialize:function(){},showWithDelay:function(e,t,n,i){var a=this;a.toShow=!0,a.lastDelay=e,setTimeout((function(){!0===a.toShow&&a.show(t,n,i)}),a.lastDelay)},show:function(e,t,n){$(this.el).html(this.template.render({})),$(".progress-text").text(e),n?$(".progress-action").html('<button class="button-danger">'+n+"</button>"):$(".progress-action").html('<button class="button-danger">Cancel</button>'),this.action=t||this.hide(),$(this.el).show()},hide:function(){this.toShow=!1,$(this.el).hide(),this.action=function(){}}})}()},function(e,t){!function(){"use strict";window.QueryManagementView=Backbone.View.extend({el:"#content",id:"#queryManagementContent",templateActive:templateEngine.createTemplate("queryManagementViewActive.ejs"),templateSlow:templateEngine.createTemplate("queryManagementViewSlow.ejs"),table:templateEngine.createTemplate("arangoTable.ejs"),active:!0,shouldRender:!0,timer:0,refreshRate:2e3,initialize:function(){var e=this;this.activeCollection=new window.QueryManagementActive,this.slowCollection=new window.QueryManagementSlow,this.convertModelToJSON(!0),e.interval=window.setInterval((function(){"#queries"===window.location.hash&&window.VISIBLE&&e.shouldRender&&"queryManagement"===arangoHelper.getCurrentSub().route&&(e.active?$("#arangoQueryManagementTable").is(":visible")&&e.convertModelToJSON(!0):$("#arangoQueryManagementTable").is(":visible")&&e.convertModelToJSON(!1))}),e.refreshRate)},remove:function(){return this.interval&&window.clearInterval(this.interval),this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #deleteSlowQueryHistory":"deleteSlowQueryHistoryModal","click #arangoQueryManagementTable .fa-minus-circle":"deleteRunningQueryModal"},tableDescription:{id:"arangoQueryManagementTable",titles:["ID","Query String","Bind parameters","User","Runtime","Started",""],rows:[],unescaped:[!1,!1,!1,!1,!1,!1,!0]},deleteRunningQueryModal:function(e){this.killQueryId=$(e.currentTarget).attr("data-id");var t=[],n=[];n.push(window.modalView.createReadOnlyEntry(void 0,"Running Query","Do you want to kill the running query?",void 0,void 0,!1,void 0)),t.push(window.modalView.createDeleteButton("Kill",this.killRunningQuery.bind(this))),window.modalView.show("modalTable.ejs","Kill Running Query",t,n),$(".modal-delete-confirmation strong").html("Really kill?")},killRunningQuery:function(){this.collection.killRunningQuery(this.killQueryId,this.killRunningQueryCallback.bind(this)),window.modalView.hide()},killRunningQueryCallback:function(){this.convertModelToJSON(!0),this.renderActive()},deleteSlowQueryHistoryModal:function(){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry(void 0,"Slow Query Log","Do you want to delete the slow query log entries?",void 0,void 0,!1,void 0)),e.push(window.modalView.createDeleteButton("Delete",this.deleteSlowQueryHistory.bind(this))),window.modalView.show("modalTable.ejs","Delete Slow Query Log",e,t)},deleteSlowQueryHistory:function(){this.collection.deleteSlowQueryHistory(this.slowQueryCallback.bind(this)),window.modalView.hide()},slowQueryCallback:function(){this.convertModelToJSON(!1),this.renderSlow()},render:function(){arangoHelper.getCurrentSub().params.active?(this.active=!0,this.convertModelToJSON(!0)):(this.active=!1,this.convertModelToJSON(!1))},addEvents:function(){var e=this;$("#queryManagementContent tbody").on("mousedown",(function(){clearTimeout(e.timer),e.shouldRender=!1})),$("#queryManagementContent tbody").on("mouseup",(function(){e.timer=window.setTimeout((function(){e.shouldRender=!0}),3e3)}))},renderActive:function(){this.$el.html(this.templateActive.render({})),$(this.id).append(this.table.render({content:this.tableDescription,type:{1:"pre",2:"pre"}})),$("#activequeries").addClass("arango-active-tab"),this.addEvents()},renderSlow:function(){this.$el.html(this.templateSlow.render({})),$(this.id).append(this.table.render({content:this.tableDescription,type:{1:"pre",2:"pre"}})),$("#slowqueries").addClass("arango-active-tab"),this.addEvents()},convertModelToJSON:function(e){var t=this,n=[];this.collection=!0===e?this.activeCollection:this.slowCollection,this.collection.fetch({success:function(){t.collection.each((function(t){var i="";e&&(i='<i data-id="'+t.get("id")+'" class="fa fa-minus-circle"></i>'),n.push([t.get("id"),t.get("query"),JSON.stringify(t.get("bindVars"),null,2),t.get("user"),t.get("runTime").toFixed(2)+"s",t.get("started"),i])}));var i="No running queries.";e||(i="No slow queries."),0===n.length?n.push([i,"","","","",""]):n=n.sort((function(e,t){return(e=String(e[0]).padStart(20,"0"))===(t=String(t[0]).padStart(20,"0"))?0:e<t?1:-1})),t.tableDescription.rows=n,e?t.renderActive():t.renderSlow()}})}})}()},function(e,t){!function(){"use strict";window.QueryView=Backbone.View.extend({el:"#content",bindParamId:"#bindParamEditor",myQueriesId:"#queryTable",template:templateEngine.createTemplate("queryView.ejs"),table:templateEngine.createTemplate("arangoTable.ejs"),outputDiv:"#outputEditors",outputTemplate:templateEngine.createTemplate("queryViewOutput.ejs"),outputCounter:0,maps:{},allowUpload:!1,renderComplete:!1,loadedCachedQuery:!1,customQueries:[],cachedQueries:{},queriesHistory:{},graphViewers:[],queries:[],state:{lastQuery:{query:void 0,bindParam:void 0}},graphs:[],settings:{aqlWidth:void 0},currentQuery:{},initDone:!1,bindParamRegExp:/@(@?\w+\d*)/,bindParamTableObj:{},bindParamMode:"table",bindParamTableDesc:{id:"arangoBindParamTable",titles:["Key","Value"],rows:[]},myQueriesTableDesc:{id:"arangoMyQueriesTable",titles:["Name","Actions"],rows:[]},execPending:!1,aqlEditor:null,queryPreview:null,initialize:function(){this.refreshAQL()},allowParamToggle:!0,events:{"click #executeQuery":"executeQuery","click #explainQuery":"explainQuery","click #profileQuery":"profileQuery","click #debugQuery":"debugDownloadDialog","click #clearQuery":"clearQuery","click .outputEditorWrapper #downloadQueryResult":"downloadQueryResult","click .outputEditorWrapper #downloadCsvResult":"downloadCsvResult","click .outputEditorWrapper .switchAce span":"switchAce","click .outputEditorWrapper .closeResult":"closeResult","click #toggleQueries1":"toggleQueries","click #toggleQueries2":"toggleQueries","click #createNewQuery":"createAQL","click #saveCurrentQuery":"addAQL","click #updateCurrentQuery":"updateAQL","click #exportQuery":"exportCustomQueries","click #importQuery":"openImportDialog","click #removeResults":"removeResults","click #querySpotlight":"showSpotlight","click #deleteQuery":"selectAndDeleteQueryFromTable","click #explQuery":"selectAndExplainQueryFromTable","click .closeProfile":"closeProfile","keydown #arangoBindParamTable input":"updateBindParams","change #arangoBindParamTable input":"updateBindParams","change #querySize":"storeQuerySize","click #arangoMyQueriesTable tbody tr":"showQueryPreview","dblclick #arangoMyQueriesTable tbody tr":"selectQueryFromTable","click #arangoMyQueriesTable #copyQuery":"selectQueryFromTable","click #closeQueryModal":"closeExportDialog","click #confirmQueryImport":"importCustomQueries","click #switchTypes":"toggleBindParams","click #arangoMyQueriesTable #runQuery":"selectAndRunQueryFromTable"},clearQuery:function(){this.aqlEditor.setValue("",1)},closeProfile:function(e){var t=$(e.currentTarget).parent().attr("counter");_.each($(".queryProfile"),(function(e){$(e).attr("counter")===t&&$(e).fadeOut("fast").remove()}))},storeQuerySize:function(e){"undefined"!==typeof Storage&&sessionStorage.setItem("querySize",$(e.currentTarget).val())},restoreQuerySize:function(){"undefined"!==typeof Storage&&sessionStorage.getItem("querySize")&&$("#querySize").val(sessionStorage.getItem("querySize"))},toggleBindParams:function(){this.allowParamToggle?($("#bindParamEditor").toggle(),$("#bindParamAceEditor").toggle(),"JSON"===$("#switchTypes").text()?(this.bindParamMode="json",$("#switchTypes").text("Table"),this.updateQueryTable(),this.bindParamAceEditor.setValue(JSON.stringify(this.bindParamTableObj,null,"\t"),1),this.deselect(this.bindParamAceEditor)):(this.bindParamMode="table",$("#switchTypes").text("JSON"),this.renderBindParamTable()),this.setCachedQuery(this.aqlEditor.getValue(),JSON.stringify(this.bindParamTableObj))):arangoHelper.arangoError("Bind parameters","Could not parse bind parameters"),this.resize()},openExportDialog:function(){$("#queryImportDialog").modal("show")},closeExportDialog:function(){$("#queryImportDialog").modal("hide")},initQueryImport:function(){var e=this;e.allowUpload&&$("#confirmQueryImport").removeClass("disabled"),$("#importQueries").change((function(t){e.files=t.target.files||t.dataTransfer.files,e.file=e.files[0],e.allowUpload=!0,$("#confirmQueryImport").removeClass("disabled")}))},importCustomQueries:function(){var e=this;if(!0===this.allowUpload){var t=function(){this.collection.fetch({success:function(){e.updateLocalQueries(),e.updateQueryTable(),e.resize(),$("#queryImportDialog").modal("hide")},error:function(e){arangoHelper.arangoError("Custom Queries",e.responseText)}})}.bind(this);e.collection.saveImportQueries(e.file,t.bind(this))}},removeResults:function(){var e=this;this.cachedQueries={},this.queriesHistory={},_.each($(".outputEditorWrapper"),(function(t){e.closeAceResults(t.id.replace(/^\D+/g,""))}))},removeInputEditors:function(){this.closeAceResults(null,$("#aqlEditor")),this.closeAceResults(null,$("#bindParamAceEditor"))},getCustomQueryParameterByName:function(e){return this.collection.findWhere({name:e}).get("parameter")},getCustomQueryValueByName:function(e){var t;return e&&(t=this.collection.findWhere({name:e})),t?t=t.get("value"):_.each(this.queries,(function(n){n.name===e&&(t=n.value)})),t},openImportDialog:function(){$("#queryImportDialog").modal("show")},closeImportDialog:function(){$("#queryImportDialog").modal("hide")},exportCustomQueries:function(){var e=this;$.ajax({type:"GET",url:"whoAmI?_="+Date.now(),success:function(t){var n=t.user;if(null!==n&&!1!==n||(n="root"),frontendConfig.ldapEnabled)e.collection.downloadLocalQueries();else{var i="query/download/"+encodeURIComponent(n);arangoHelper.download(i)}}})},toggleQueries:function(e){e?"toggleQueries1"===e.currentTarget.id?(this.updateQueryTable(),$("#bindParamAceEditor").hide(),$("#bindParamEditor").show(),$("#switchTypes").text("JSON"),$(".aqlEditorWrapper").first().width(.33*$(window).width()),this.queryPreview.setValue("No query selected.",1),this.deselect(this.queryPreview)):($("#updateCurrentQuery").hide(),void 0===this.settings.aqlWidth?$(".aqlEditorWrapper").first().width(.33*$(window).width()):$(".aqlEditorWrapper").first().width(this.settings.aqlWidth),"undefined"!==sessionStorage.getItem("lastOpenQuery")&&$("#updateCurrentQuery").show()):void 0===this.settings.aqlWidth?$(".aqlEditorWrapper").first().width(.33*$(window).width()):$(".aqlEditorWrapper").first().width(this.settings.aqlWidth),this.resize();_.each(["aqlEditor","queryTable","previewWrapper","querySpotlight","bindParamEditor","toggleQueries1","toggleQueries2","createNewQuery","saveCurrentQuery","querySize","executeQuery","switchTypes","explainQuery","profileQuery","debugQuery","importQuery","exportQuery"],(function(e){$("#"+e).toggle()})),this.resize()},showQueryPreview:function(e){$("#arangoMyQueriesTable tr").removeClass("selected"),$(e.currentTarget).addClass("selected");var t=this.getQueryNameFromTable(e);try{this.queryPreview.setValue(this.getCustomQueryValueByName(t),1)}catch(e){throw this.queryPreview.setValue("Invalid query name",1),arangoHelper.arangoError("Query","Invalid query name"),e}this.deselect(this.queryPreview)},getQueryNameFromTable:function(e){var t;return $(e.currentTarget).is("tr")?t=arangoHelper.escapeHtml($(e.currentTarget).children().first().text()):$(e.currentTarget).is("span")&&(t=arangoHelper.escapeHtml($(e.currentTarget).parent().parent().prev().text())),t},deleteQueryModal:function(e){var t=[],n=[];n.push(window.modalView.createReadOnlyEntry(void 0,e,"Do you want to delete the query?",void 0,void 0,!1,void 0)),t.push(window.modalView.createDeleteButton("Delete",this.deleteAQL.bind(this,e))),window.modalView.show("modalTable.ejs","Delete Query",t,n)},selectAndDeleteQueryFromTable:function(e){var t=this.getQueryNameFromTable(e);this.deleteQueryModal(t)},selectAndExplainQueryFromTable:function(e){this.selectQueryFromTable(e,!1),this.explainQuery()},selectAndRunQueryFromTable:function(e){this.selectQueryFromTable(e,!1),this.executeQuery()},selectQueryFromTable:function(e,t){var n=this.getQueryNameFromTable(e),i=this;void 0===t&&this.toggleQueries();var a=sessionStorage.getItem("lastOpenQuery");this.state.lastQuery.query=this.aqlEditor.getValue(),this.state.lastQuery.bindParam=this.bindParamTableObj;try{this.aqlEditor.setValue(this.getCustomQueryValueByName(n),1),this.fillBindParamTable(this.getCustomQueryParameterByName(n))}catch(e){throw arangoHelper.arangoError("Query","Invalid query name"),e}this.updateBindParams(),this.currentQuery=this.collection.findWhere({name:n}),this.currentQuery&&sessionStorage.setItem("lastOpenQuery",this.currentQuery.get("name")),$("#updateCurrentQuery").show(),$("#lastQuery").remove(),a!==n&&($("#queryContent .arangoToolbarTop .pull-left").append('<span id="lastQuery" class="clickable">Previous Query</span>'),this.breadcrumb(n)),$("#lastQuery").hide().fadeIn(500).on("click",(function(){$("#updateCurrentQuery").hide(),i.aqlEditor.setValue(i.state.lastQuery.query,1),i.fillBindParamTable(i.state.lastQuery.bindParam),i.updateBindParams(),i.collection.each((function(e){(e=e.toJSON()).value===i.state.lastQuery.query?i.breadcrumb(e.name):i.breadcrumb()})),$("#lastQuery").fadeOut(500,(function(){$(this).remove()}))}))},deleteAQL:function(e){var t=function(e){e?arangoHelper.arangoError("Query","Could not delete query."):(this.updateLocalQueries(),this.updateQueryTable(),this.resize(),window.modalView.hide())}.bind(this),n=this.collection.findWhere({name:e});this.collection.remove(n),this.collection.saveCollectionQueries(t)},switchAce:function(e){var t=$(e.currentTarget).attr("counter"),n=e.currentTarget;if(!$(n).hasClass("disabled")){_.each($(n).parent().children(),(function(e){$(e).removeClass("active")}));var i=$(n).attr("val");$(n).addClass("active"),$(n).text(i.charAt(0).toUpperCase()+i.slice(1)),"JSON"===i?($("#outputEditor"+t).show(),$("#outputGraph"+t).hide(),$("#outputTable"+t).hide(),$("#outputGeo"+t).hide()):"Table"===i?($("#outputTable"+t).show(),$("#outputGraph"+t).hide(),$("#outputEditor"+t).hide(),$("#outputGeo"+t).hide()):"Graph"===i?($("#outputGraph"+t).show(),$("#outputTable"+t).hide(),$("#outputEditor"+t).hide(),$("#outputGeo"+t).hide()):"Geo"===i&&($("#outputGeo"+t).show(),$("#outputGraph"+t).hide(),$("#outputTable"+t).hide(),$("#outputEditor"+t).hide()),this.deselect(ace.edit("outputEditor"+t))}},downloadQueryResult:function(e){var t,n=$(e.currentTarget).attr("counter"),i=this.queriesHistory[n].sentQuery;""!==i&&void 0!==i&&null!==i?(t=0===Object.keys(this.queriesHistory[n].bindParam).length?"query/result/download/"+encodeURIComponent(btoa(JSON.stringify({query:i}))):"query/result/download/"+encodeURIComponent(btoa(JSON.stringify({query:i,bindVars:this.queriesHistory[n].bindParam}))),arangoHelper.download(t)):arangoHelper.arangoError("Query error","Could not download the result.")},profileQuery:function(){this.explainQuery(!0)},explainQuery:function(e){if(e=!0===e,!this.verifyQueryAndParams()){this.lastSentQueryString=this.aqlEditor.getValue();var t="Explain";e&&(t="Profile"),this.$(this.outputDiv).prepend(this.outputTemplate.render({counter:this.outputCounter,type:t}));var n=this.outputCounter,i=ace.edit("outputEditor"+n);i.setReadOnly(!0),i.getSession().setMode("ace/mode/aql"),i.setOption("vScrollBarAlwaysVisible",!0),i.setOption("showPrintMargin",!1),this.setEditorAutoHeight(i),this.queriesHistory[n]={sentQuery:this.aqlEditor.getValue(),bindParam:this.bindParamTableObj},this.fillExplain(i,n,e),this.outputCounter++}},debugDownloadDialog:function(){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry("debug-download-package-disclaimer","Disclaimer","<p>This will generate a package containing a lot of commonly required information about your query and environment that helps the ArangoDB Team to reproduce your issue. This debug package will include:</p><ul><li>collection names</li><li>collection indexes</li><li>attribute names</li><li>bind parameters</li></ul><p>Additionally, samples of your data will be included with all <b>string values obfuscated</b> in a non-reversible way if below checkbox is ticked.</p><p>If disabled, this package will not include any data.</p><p>Please open the package locally and check if it contains anything that you are not allowed/willing to share and obfuscate it before uploading. Including this package in bug reports will lower the amount of questioning back and forth to reproduce the issue on our side and is much appreciated.</p>",void 0,!1,!1)),t.push(window.modalView.createCheckboxEntry("debug-download-package-examples","Include obfuscated examples","includeExamples","Includes an example set of documents, obfuscating all string values inside the data. This helps the ArangoDB Team as many issues are related to the document structure / format and the indexes defined on them.",!0)),e.push(window.modalView.createSuccessButton("Download Package",this.downloadDebugZip.bind(this))),window.modalView.show("modalTable.ejs","Download Query Debug Package",e,t,void 0,void 0)},downloadDebugZip:function(){if(!this.verifyQueryAndParams()){var e=this.aqlEditor.getValue();if(""!==e&&void 0!==e&&null!==e){var t={query:e,bindVars:this.bindParamTableObj||{},examples:$("#debug-download-package-examples").is(":checked")};arangoHelper.downloadPost("query/debugDump",JSON.stringify(t),(function(){window.modalView.hide()}),(function(e,t){window.arangoHelper.arangoError("Debug Dump",e+": "+t),window.modalView.hide()}))}else arangoHelper.arangoError("Query error","Could not create a debug package.")}},fillExplain:function(e,t,n){var i,a=this;if(i=n?this.readQueryData(null,null,!0):this.readQueryData()){$("#outputEditorWrapper"+t+" .queryExecutionTime").text(""),this.execPending=!1;var r,o=function(){$("#outputEditorWrapper"+t+" #spinner").remove(),$("#outputEditor"+t).css("opacity","1"),$("#outputEditorWrapper"+t+" .fa-close").show(),$("#outputEditorWrapper"+t+" .switchAce").show()};r=n?arangoHelper.databaseUrl("/_admin/aardvark/query/profile"):arangoHelper.databaseUrl("/_admin/aardvark/query/explain"),$.ajax({type:"POST",url:r,data:JSON.stringify(i),contentType:"application/json",processData:!1,success:function(i){i.msg&&i.msg.errorMessage?(a.removeOutputEditor(t),n?arangoHelper.arangoError("Profile",i.msg):arangoHelper.arangoError("Explain",i.msg)):(a.cachedQueries[t]=i,e.setValue(i.msg,1),a.deselect(e),Noty.clearQueue(),Noty.closeAll(),a.handleResult(t),$(".centralRow").animate({scrollTop:$("#queryContent").height()},"fast")),o()},error:function(e){try{var i=JSON.parse(e.responseText);n?arangoHelper.arangoError("Profile",i.errorMessage):arangoHelper.arangoError("Explain",i.errorMessage)}catch(r){n?arangoHelper.arangoError("Profile","ERROR"):arangoHelper.arangoError("Explain","ERROR")}a.handleResult(t),a.removeOutputEditor(t),o()}})}},removeOutputEditor:function(e){$("#outputEditorWrapper"+e).hide(),$("#outputEditorWrapper"+e).remove(),0===$(".outputEditorWrapper").length&&$("#removeResults").hide()},getCachedQueryAfterRender:function(){if(!1===this.renderComplete&&this.aqlEditor){var e=this.getCachedQuery();if(null!==e&&void 0!==e&&""!==e&&Object.keys(e).length>0){this.aqlEditor.setValue(e.query,1);var t=sessionStorage.getItem("lastOpenQuery");if(void 0!==t&&"undefined"!==t)try{this.collection.findWhere({name:t}).toJSON().value===e.query&&(this.breadcrumb(t),$("#updateCurrentQuery").show())}catch(n){}if(this.aqlEditor.getSession().setUndoManager(new ace.UndoManager),""!==e.parameter||void 0!==e)try{this.bindParamTableObj=JSON.parse(e.parameter),this.fillBindParamTable(this.bindParamTableObj),this.setCachedQuery(this.aqlEditor.getValue(),JSON.stringify(this.bindParamTableObj))}catch(n){}}this.renderComplete=!0}},getCachedQuery:function(){if("undefined"!==Storage){var e=sessionStorage.getItem("cachedQuery");if(void 0!==e){var t=JSON.parse(e);this.currentQuery=t;try{this.bindParamTableObj=JSON.parse(t.parameter)}catch(n){}return t}}},setCachedQuery:function(e,t){if(""!==e&&"undefined"!==Storage){var n={query:e,parameter:t};this.currentQuery=n,sessionStorage.setItem("cachedQuery",JSON.stringify(n))}},closeAceResults:function(e,t){var n=this;e?ace.edit("outputEditor"+e).destroy():ace.edit($(t).attr("id")).destroy(),$("#outputEditorWrapper"+this.outputCounter).hide();var i=function(e){$(e).hide("fast",(function(){$(e).remove(),0===$(".outputEditorWrapper").length&&(n.cachedQueries={},$("#removeResults").hide())}))};t?i(t):_.each($("#outputEditors").children(),(function(e){i(e)}))},closeResult:function(e){var t=$("#"+$(e.currentTarget).attr("element")).parent(),n=$(t).attr("id").replace(/^\D+/g,"");this.closeAceResults(n,t),delete this.cachedQueries[n],delete this.queriesHistory[n]},fillSelectBoxes:function(){var e=$("#querySize");e.empty(),[100,250,500,1e3,2500,5e3,1e4,"all"].forEach((function(t){e.append('<option value="'+_.escape(t)+'"'+(1e3===t?" selected":"")+">"+_.escape(t)+" results</option>")}))},render:function(){this.refreshAQL(),this.renderComplete=!1,this.$el.html(this.template.render({})),this.afterRender(),this.initDone||(this.settings.aqlWidth=$(".aqlEditorWrapper").width()),"json"===this.bindParamMode&&this.toggleBindParams(),this.initDone=!0,this.renderBindParamTable(!0),this.restoreCachedQueries(),this.delegateEvents(),this.restoreQuerySize(),this.getCachedQueryAfterRender()},cleanupGraphs:function(){void 0===this.graphViewers&&null===this.graphViewers||(_.each(this.graphViewers,(function(e){void 0!==e&&(e.killCurrentGraph(),e.remove())})),$("canvas").remove(),this.graphViewers=null,this.graphViewers=[])},afterRender:function(){var e=this;this.initAce(),this.initTables(),this.fillSelectBoxes(),this.makeResizeable(),this.initQueryImport(),$(".inputEditorWrapper").height($(window).height()/10*5+25),window.setTimeout((function(){e.resize()}),10),e.deselect(e.aqlEditor)},restoreCachedQueries:function(){var e=this;Object.keys(this.cachedQueries).length>0&&(_.each(this.cachedQueries,(function(t,n){e.renderQueryResultBox(n,null,!0),e.renderQueryResult(t,n,!0),t.sentQuery&&e.bindQueryResultButtons(null,n)})),$("#removeResults").show())},showSpotlight:function(e){var t,n;if(void 0!==e&&"click"!==e.type||(e="aql"),"aql"===e)t=function(e){this.aqlEditor.insert(e),$("#aqlEditor .ace_text-input").focus()}.bind(this),n=function(){$("#aqlEditor .ace_text-input").focus()};else{var i=$(":focus");t=function(e){var t=$(i).val();$(i).val(t+e),$(i).focus()},n=function(){$(i).focus()}}window.spotlightView.show(t,n,e)},resize:function(){this.resizeFunction()},resizeFunction:function(){$("#toggleQueries1").is(":visible")?(this.aqlEditor.resize(),$("#arangoBindParamTable thead").css("width",$("#bindParamEditor").width()),$("#arangoBindParamTable thead th").css("width",$("#bindParamEditor").width()/2),$("#arangoBindParamTable tr").css("width",$("#bindParamEditor").width()),$("#arangoBindParamTable tbody").css("height",$("#aqlEditor").height()-35),$("#arangoBindParamTable tbody").css("width",$("#bindParamEditor").width()),$("#arangoBindParamTable tbody tr").css("width",$("#bindParamEditor").width()),$("#arangoBindParamTable tbody td").css("width",$("#bindParamEditor").width()/2)):(this.queryPreview.resize(),$("#arangoMyQueriesTable thead").css("width",$("#queryTable").width()),$("#arangoMyQueriesTable thead th").css("width",$("#queryTable").width()/2),$("#arangoMyQueriesTable tr").css("width",$("#queryTable").width()),$("#arangoMyQueriesTable tbody").css("height",$("#queryTable").height()-35),$("#arangoMyQueriesTable tbody").css("width",$("#queryTable").width()),$("#arangoMyQueriesTable tbody td").css("width",$("#queryTable").width()/2))},makeResizeable:function(){var e=this;$(".aqlEditorWrapper").resizable({resize:function(){e.resizeFunction(),e.settings.aqlWidth=$(".aqlEditorWrapper").width()},handles:"e"}),$(".inputEditorWrapper").resizable({resize:function(){e.resizeFunction()},handles:"s"}),this.resizeFunction()},initTables:function(){this.$(this.bindParamId).html(this.table.render({content:this.bindParamTableDesc})),this.$(this.myQueriesId).html(this.table.render({content:this.myQueriesTableDesc}))},checkType:function(e){var t="stringtype";try{t=(e=JSON.parse(e))instanceof Array?"arraytype":typeof e+"type"}catch(n){}return t},updateBindParams:function(e){var t,n=this;if(e){t=$(e.currentTarget).attr("name"),this.bindParamTableObj[t]=arangoHelper.parseInput(e.currentTarget);_.each(["arraytype","objecttype","booleantype","numbertype","stringtype"],(function(t){$(e.currentTarget).removeClass(t)})),$(e.currentTarget).addClass(n.checkType($(e.currentTarget).val()))}else _.each($("#arangoBindParamTable input"),(function(e){t=$(e).attr("name"),n.bindParamTableObj[t]=arangoHelper.parseInput(e)}));this.setCachedQuery(this.aqlEditor.getValue(),JSON.stringify(this.bindParamTableObj)),e&&((e.ctrlKey||e.metaKey)&&13===e.keyCode&&(e.preventDefault(),this.executeQuery()),(e.ctrlKey||e.metaKey)&&32===e.keyCode&&(e.preventDefault(),this.showSpotlight("bind")))},parseQuery:function(e){var t,n,i,a,r=this,o=0,s=(e+=" ").length,l=[];for(n=0;n<s;++n)switch(i=e.charAt(n),o){case 0:"@"===i?(o=6,t=n):"'"===i?o=1:'"'===i?o=2:"`"===i?o=3:"\xb4"===i?o=7:"/"===i&&n+1<s&&("/"===e.charAt(n+1)?(o=4,++n):"*"===e.charAt(n+1)&&(o=5,++n));break;case 4:"\r"!==i&&"\n"!==i||(o=0);break;case 5:"*"===i&&n+1<=s&&"/"===e.charAt(n+1)&&(o=0,++n);break;case 1:"\\"===i?++n:"'"===i&&(o=0);break;case 2:"\\"===i?++n:'"'===i&&(o=0);break;case 3:"`"===i&&(o=0);break;case 7:"\xb4"===i&&(o=0);break;case 6:/^[@a-zA-Z0-9_]+$/.test(i)||(l.push(e.substring(t,n)),o=0,t=void 0)}return _.each(l,(function(e,t){(a=e.match(r.bindParamRegExp))&&(l[t]=a[1])})),{query:e,bindParams:l}},checkForNewBindParams:function(){var e=this,t=this.parseQuery(this.aqlEditor.getValue()).bindParams,n={};_.each(t,(function(t){e.bindParamTableObj[t]?n[t]=e.bindParamTableObj[t]:null===e.bindParamTableObj[t]?n[t]=null:n[t]=""})),Object.keys(t).forEach((function(t){Object.keys(e.bindParamTableObj).forEach((function(i){t===i&&(n[t]=e.bindParamTableObj[i])}))})),e.bindParamTableObj=n},renderBindParamTable:function(e){$("#arangoBindParamTable tbody").html(""),e&&this.getCachedQuery();var t=0;this.checkForNewBindParams(),_.each(this.bindParamTableObj,(function(e,n){$("#arangoBindParamTable tbody").append("<tr><td>"+n+"</td><td><input name="+n+' type="text"></input></td></tr>'),t++})),0===t?$("#arangoBindParamTable tbody").append('<tr class="noBgColor"><td>No bind parameters defined.</td><td></td></tr>'):this.fillBindParamTable(this.bindParamTableObj);var n=sessionStorage.getItem("lastOpenQuery"),i=this.collection.findWhere({name:n});try{i=i.toJSON()}catch(a){}i&&!1===this.loadedCachedQuery&&(this.loadedCachedQuery=!0,this.fillBindParamTable(i.parameter))},fillBindParamTable:function(e){_.each(e,(function(e,t){_.each($("#arangoBindParamTable input"),(function(n){if($(n).attr("name")===t)if(e instanceof Array)$(n).val(JSON.stringify(e)).addClass("arraytype");else if("object"===typeof e)$(n).val(JSON.stringify(e)).addClass(typeof e+"type");else if("number"===typeof e)$(n).val(e).addClass(typeof e+"type");else{var i=!1;try{"number"===typeof JSON.parse(e)&&(i=!0)}catch(a){}i?$(n).val('"'+e+'"').addClass(typeof e+"type"):$(n).val(e).addClass(typeof e+"type")}}))}))},initAce:function(){var e=this;this.aqlEditor=ace.edit("aqlEditor"),this.aqlEditor.$blockScrolling=1/0,this.aqlEditor.getSession().setMode("ace/mode/aql"),this.aqlEditor.getSession().setUseWrapMode(!0),this.aqlEditor.setFontSize("10pt"),this.aqlEditor.setShowPrintMargin(!1),this.bindParamAceEditor=ace.edit("bindParamAceEditor"),this.bindParamAceEditor.$blockScrolling=1/0,this.bindParamAceEditor.getSession().setMode("ace/mode/json"),this.bindParamAceEditor.setFontSize("10pt"),this.bindParamAceEditor.setShowPrintMargin(!1),this.bindParamAceEditor.getSession().on("change",(function(){try{e.bindParamTableObj=JSON.parse(e.bindParamAceEditor.getValue()),e.allowParamToggle=!0,e.setCachedQuery(e.aqlEditor.getValue(),JSON.stringify(e.bindParamTableObj))}catch(t){""===e.bindParamAceEditor.getValue()?(_.each(e.bindParamTableObj,(function(t,n){e.bindParamTableObj[n]=""})),e.allowParamToggle=!0):e.allowParamToggle=!1}})),this.aqlEditor.getSession().on("change",(function(){if(e.aqlEditor.getValue().length<1&&Object.keys(e.bindParamTableObj).length>0&&(e.lastCachedBindParameter=e.bindParamTableObj),e.checkForNewBindParams(),e.renderBindParamTable(),e.parseQuery(e.aqlEditor.getValue()).bindParams.length>0){var t=[];if(_.each(e.parseQuery(e.aqlEditor.getValue()).bindParams,(function(n){if(void 0!==$("input[name='"+n+"']")&&$("input[name='"+n+"']").length>0&&0===$("input[name='"+n+"']").val().length&&e.lastCachedBindParameter){var i=$("input[name='"+n+"']").val();e.lastCachedBindParameter[n]&&e.lastCachedBindParameter[n]!==i&&t.push(n)}})),t.length>0){var n={};_.each(t,(function(t,i){n[t]=e.lastCachedBindParameter[t]})),e.bindParamTableObj=n,e.renderBindParamTable()}}e.initDone&&e.setCachedQuery(e.aqlEditor.getValue(),JSON.stringify(e.bindParamTableObj)),e.bindParamAceEditor.setValue(JSON.stringify(e.bindParamTableObj,null,"\t"),1),$("#aqlEditor .ace_text-input").focus(),e.resize()}));var t=function(e){_.each($(".outputEditors"),(function(t){var n=$(t).children().first().attr("id");n=n.replace("Wrapper",""),ace.edit(n).setFontSize(e)}))},n=[this.aqlEditor,this.bindParamAceEditor];_.each(n,(function(n){n.commands.addCommand({name:"togglecomment",bindKey:{win:"Ctrl-Shift-C",linux:"Ctrl-Shift-C",mac:"Command-Shift-C"},exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEach"}),n.commands.addCommand({name:"increaseFontSize",bindKey:{win:"Shift-Alt-Up",linux:"Shift-Alt-Up",mac:"Shift-Alt-Up"},exec:function(n){var i=parseInt(e.aqlEditor.getFontSize().match(/\d+/)[0],10)+1;i+="pt",e.aqlEditor.setFontSize(i),t(i)},multiSelectAction:"forEach"}),n.commands.addCommand({name:"decreaseFontSize",bindKey:{win:"Shift-Alt-Down",linux:"Shift-Alt-Down",mac:"Shift-Alt-Down"},exec:function(n){var i=parseInt(e.aqlEditor.getFontSize().match(/\d+/)[0],10)-1;i+="pt",e.aqlEditor.setFontSize(i),t(i)},multiSelectAction:"forEach"}),n.commands.addCommand({name:"executeQuery",bindKey:{win:"Ctrl-Return",mac:"Command-Return",linux:"Ctrl-Return"},exec:function(){e.executeQuery()}}),n.commands.addCommand({name:"executeSelectedQuery",bindKey:{win:"Ctrl-Alt-Return",mac:"Command-Alt-Return",linux:"Ctrl-Alt-Return"},exec:function(){e.executeQuery(void 0,!0)}}),n.commands.addCommand({name:"saveQuery",bindKey:{win:"Ctrl-Shift-S",mac:"Command-Shift-S",linux:"Ctrl-Shift-S"},exec:function(){e.addAQL()}}),n.commands.addCommand({name:"explainQuery",bindKey:{win:"Ctrl-Shift-Return",mac:"Command-Shift-Return",linux:"Ctrl-Shift-Return"},exec:function(){e.explainQuery()}}),n.commands.addCommand({name:"togglecomment",bindKey:{win:"Ctrl-Shift-C",linux:"Ctrl-Shift-C",mac:"Command-Shift-C"},exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEach"}),n.commands.addCommand({name:"showSpotlight",bindKey:{win:"Ctrl-Space",mac:"Ctrl-Space",linux:"Ctrl-Space"},exec:function(){e.showSpotlight()}})})),this.queryPreview=ace.edit("queryPreview"),this.queryPreview.getSession().setMode("ace/mode/aql"),this.queryPreview.setReadOnly(!0),this.queryPreview.setFontSize("13px"),this.queryPreview.setShowPrintMargin(!1),$("#aqlEditor .ace_text-input").focus()},updateQueryTable:function(){var e=this;this.updateLocalQueries(),this.myQueriesTableDesc.rows=this.customQueries,_.each(this.myQueriesTableDesc.rows,(function(e){e.secondRow='<span class="spanWrapper"><span id="copyQuery" title="Copy query"><i class="fa fa-copy"></i></span><span id="explQuery" title="Explain query"><i class="fa fa-comments"></i></i></span><span id="runQuery" title="Run query"><i class="fa fa-play-circle-o"></i></i></span><span id="deleteQuery" title="Delete query"><i class="fa fa-minus-circle"></i></span></span>',e.hasOwnProperty("parameter")&&delete e.parameter,delete e.value})),this.myQueriesTableDesc.rows.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),_.each(this.queries,(function(t){t.hasOwnProperty("parameter")&&delete t.parameter,e.myQueriesTableDesc.rows.push({name:t.name,thirdRow:'<span class="spanWrapper"><span id="copyQuery" title="Copy query"><i class="fa fa-copy"></i></span></span>'})})),this.myQueriesTableDesc.unescaped=[!1,!0,!0],this.$(this.myQueriesId).html(this.table.render({content:this.myQueriesTableDesc}))},listenKey:function(e){13===e.keyCode&&"Update"===$("#modalButton1").html()&&this.saveAQL(),this.checkSaveName()},addAQL:function(){this.refreshAQL(!0),this.createCustomQueryModal(),setTimeout((function(){$("#new-query-name").focus()}),500)},updateAQL:function(){var e=this.aqlEditor.getValue(),t=$("#lastQueryName").html(),n=this.collection.findWhere({name:t});if(n){n.set("value",e),n.set("parameter",this.bindParamTableObj);var i=function(e){if(e)arangoHelper.arangoError("Query","Could not save query");else{var n=this;arangoHelper.arangoNotification("Saved query",'"'+t+'"'),this.collection.fetch({success:function(){n.updateLocalQueries()}})}}.bind(this);this.collection.saveCollectionQueries(i)}this.refreshAQL(!0)},createAQL:function(){sessionStorage.setItem("lastOpenQuery",void 0),this.aqlEditor.setValue(""),this.refreshAQL(!0),this.breadcrumb(),$("#updateCurrentQuery").hide()},createCustomQueryModal:function(){var e=[],t=[];t.push(window.modalView.createTextEntry("new-query-name","Name","",void 0,void 0,!1,[{rule:Joi.string().regex(/^(\s*[a-zA-Z0-9\-._]+\s*)+$/).required(),msg:'A query name is required. Characters, numbers and ".", "_", "-" symbols are allowed.'}])),e.push(window.modalView.createSuccessButton("Save",this.saveAQL.bind(this))),window.modalView.show("modalTable.ejs","Save Query",e,t,void 0,void 0,{"keyup #new-query-name":this.listenKey.bind(this)})},checkSaveName:function(){var e=arangoHelper.escapeHtml($("#new-query-name").val());"Insert Query"!==e?this.customQueries.some((function(t){return t.name===e}))?($("#modalButton1").removeClass("button-success"),$("#modalButton1").addClass("button-warning"),$("#modalButton1").text("Update")):($("#modalButton1").removeClass("button-warning"),$("#modalButton1").addClass("button-success"),$("#modalButton1").text("Save")):$("#new-query-name").val("")},saveAQL:function(e){e&&e.stopPropagation(),this.refreshAQL();var t=arangoHelper.escapeHtml($("#new-query-name").val()),n=this.bindParamTableObj;if(!$("#new-query-name").hasClass("invalid-input")&&""!==t.trim()){var i=this.aqlEditor.getValue(),a=!1;if(_.each(this.customQueries,(function(e){e.name===t&&(e.value=i,a=!0)})),!0===a)this.collection.findWhere({name:t}).set("value",i);else{if(""!==n&&void 0!==n||(n="{}"),"string"===typeof n)try{n=JSON.parse(n)}catch(o){arangoHelper.arangoError("Query","Could not parse bind parameter")}this.collection.add({name:t,parameter:n,value:i})}var r=function(e){if(e)arangoHelper.arangoError("Query","Could not save query");else{var n=this;this.collection.fetch({success:function(){n.updateLocalQueries(),$("#updateCurrentQuery").show(),n.breadcrumb(t)}})}}.bind(this);this.collection.saveCollectionQueries(r),window.modalView.hide()}},breadcrumb:function(e){window.setTimeout((function(){e?$("#subNavigationBar .breadcrumb").html('Query: <span id="lastQueryName">'+e+"</span>"):$("#subNavigationBar .breadcrumb").html("")}),50)},verifyQueryAndParams:function(){var e=!1;if(0===this.aqlEditor.getValue().length&&(arangoHelper.arangoError("Query","Your query is empty"),e=!0),$("#bindParamAceEditor").is(":visible"))try{JSON.parse(this.bindParamAceEditor.getValue())}catch(t){arangoHelper.arangoError("Bind Parameter","Could not parse bind parameter"),e=!0}return e},executeQuery:function(e,t){this.verifyQueryAndParams()||($("#outputEditorWrapper"+this.outputCounter).hide(),$("#outputEditorWrapper"+this.outputCounter).show("fast"),this.lastSentQueryString=this.aqlEditor.getValue(),this.renderQueryResultBox(this.outputCounter,t))},renderQueryResultBox:function(e,t,n){this.$(this.outputDiv).prepend(this.outputTemplate.render({counter:e,type:"Query"}));var i=ace.edit("outputEditor"+e);i.setFontSize("13px"),i.$blockScrolling=1/0,i.getSession().setMode("ace/mode/json"),i.setReadOnly(!0),i.setOption("vScrollBarAlwaysVisible",!0),i.setShowPrintMargin(!1),this.setEditorAutoHeight(i),n||(this.queriesHistory[e]={sentQuery:this.aqlEditor.getValue(),bindParam:this.bindParamTableObj},this.fillResult(e,t),this.outputCounter++)},readQueryData:function(e,t,n){var i={};if(n||(i.id="currentFrontendQuery"),i.query=e?this.aqlEditor.getSelectedText():this.aqlEditor.getValue(),0===i.query.length)return e?arangoHelper.arangoError("Query","Your query selection is empty!"):arangoHelper.arangoError("Query","Your query is empty!"),!1;var a={};return Object.keys(this.bindParamTableObj).length>0&&(_.each(this.bindParamTableObj,(function(e,t){i.query.indexOf(t)>-1&&(a[t]=e)})),i.bindVars=this.bindParamTableObj),Object.keys(a).length>0&&(i.bindVars=a),t&&(i.options={profile:!0}),i},fillResult:function(e,t){var n=this,i=this.readQueryData(t,!0);i&&$.ajax({type:"POST",url:arangoHelper.databaseUrl("/_api/cursor"),headers:{"x-arango-async":"store"},data:JSON.stringify(i),contentType:"application/json",processData:!1,success:function(t,i,a){a.getResponseHeader("x-arango-async-id")&&n.queryCallbackFunction(a.getResponseHeader("x-arango-async-id"),e),Noty.clearQueue(),Noty.closeAll(),n.handleResult(e)},error:function(t){try{var i=JSON.parse(t.responseText);arangoHelper.arangoError("["+i.errorNum+"]",i.errorMessage)}catch(a){arangoHelper.arangoError("Query error","ERROR")}n.handleResult(e)}})},handleResult:function(){var e=this;window.progressView.hide(),$("#removeResults").show(),window.setTimeout((function(){e.aqlEditor.focus()}),300)},setEditorAutoHeight:function(e){var t=($(".centralRow").height()-250)/17;e.setOptions({maxLines:t,minLines:10})},deselect:function(e){var t=e.getSelection(),n=t.lead.row,i=t.lead.column;t.setSelectionRange({start:{row:n,column:i},end:{row:n,column:i}}),e.focus()},warningsFunc:function(e,t){var n="";e.extra&&e.extra.warnings&&e.extra.warnings.length>0&&(n+="Warnings:\r\n\r\n",e.extra.warnings.forEach((function(e){n+="["+e.code+"], '"+e.message+"'\r\n"}))),""!==n&&(n+="\r\nResult:\r\n\r\n"),t.setValue(n+JSON.stringify(e.result,void 0,2),1),t.getSession().setScrollTop(0)},renderQueryResult:function(e,t,n,i){var a,r=this,o="query";try{o=window.App.naviView.activeSubMenu.route}catch(y){}if("#queries"===window.location.hash&&"query"===o){var s,l,c=ace.edit("outputEditor"+t),d=$(".centralRow").height()-250,u=0;if(!e.msg){if("table"===(a=r.analyseQuery(e.result)).defaultType||"geotable"===a.defaultType?($("#outputEditorWrapper"+t+" .arangoToolbarTop").after('<div id="outputTable'+t+'" class="outputTable"></div>'),$("#outputTable"+t).show(),r.renderOutputTable(a,t),$(".outputEditorWrapper .tableWrapper").css("max-height",d),$("#outputEditor"+t).hide(),s=!0):"graph"===a.defaultType&&($("#outputEditorWrapper"+t+" .arangoToolbarTop").after('<div id="outputGraph'+t+'"></div>'),$("#outputGraph"+t).show(),(s=r.renderOutputGraph(a,t))?($("#outputEditor"+t).hide(),$("#outputEditorWrapper"+t+" #copy2gV").show(),$("#outputEditorWrapper"+t+" #copy2gV").bind("click",(function(){r.showResultInGraphViewer(a,t)}))):$("#outputGraph"+t).remove()),"geo"===a.defaultType||"geotable"===a.defaultType){$("#outputEditor"+t).hide(),$("#outputEditorWrapper"+t+" .arangoToolbarTop").after('<div class="geoContainer" id="outputGeo'+t+'" style="height: 500px; maxheight: '+d+'px;"></div>'),r.maps[t]=L.map("outputGeo"+t).setView([51.505,-.09],13),r.maps[t].addLayer(new L.StamenTileLayer("terrain",{detectRetina:!0}));var h,p=1,f={color:"#3498db",opacity:1,weight:3},g={radius:8,fillColor:"#2ecc71",color:"white",weight:1,opacity:1,fillOpacity:.64},m=[];_.each(e.result,(function(n){var i={};if("Point"===(i=n.hasOwnProperty("geometry")?n.geometry:n).type||"MultiPoint"===i.type)try{h=new L.GeoJSON(i,{onEachFeature:function(e,t,i){t.bindPopup('<pre style="width: 250px; max-height: 250px;">'+JSON.stringify(n,null,2)+"</pre>")},pointToLayer:function(e,t){var n=L.circleMarker(t,g);return m.push(n),n}}).addTo(r.maps[t])}catch(y){u++}else if("Polygon"===i.type||"LineString"===i.type||"MultiLineString"===i.type||"MultiPolygon"===i.type)try{h=new L.GeoJSON(i,{style:f,onEachFeature:function(e,t){t.bindPopup('<pre style="width: 250px;">'+JSON.stringify(e,null,2)+"</pre>")}}).addTo(r.maps[t]),m.push(h)}catch(y){u++}if(p===e.result.length)if(m.length>0)try{var a=new L.FeatureGroup(m);r.maps[t].fitBounds(a.getBounds())}catch(y){}else try{r.maps[t].fitBounds(h.getBounds())}catch(y){}p++}))}!1!==s&&("geotable"===a.defaultType||"geo"===a.defaultType?($("#outputTable"+t).hide(),"geotable"===a.defaultType&&$("#table-switch").css("display","inline"),e.result.length===u?($("#outputGeo"+t).remove(),"geotable"===a.defaultType?($("#outputTable"+t).show(),$("#table-switch").addClass("active").css("display","inline")):($("#outputEditor"+t).show(),$("#json-switch").addClass("active").css("display","inline"))):$("#geo-switch").addClass("active").css("display","inline")):$("#"+a.defaultType+"-switch").addClass("active").css("display","inline"),$("#json-switch").css("display","inline"),!a.fallback||"geo"!==a.fallback&&"geotable"!==a.fallback||($("#geo-switch").addClass("disabled").css("display","inline").css("opacity","0.5"),$("#geo-switch").addClass("tippy").attr("title","No internet connection. Map is not available."),arangoHelper.createTooltips()));var v=function(e,n,i){i||(i=""),$("#outputEditorWrapper"+t+" .arangoToolbarTop .pull-left").append('<span class="'+i+'"><i class="fa '+n+'"></i><i class="iconText">'+e+"</i></span>")},b="-";e&&e.extra&&e.extra.stats&&(e.extra.stats.executionTime>1?(b=numeral(e.extra.stats.executionTime).format("0.000"),b+=" s"):(b=numeral(1e3*e.extra.stats.executionTime).format("0.000"),b+=" ms")),v(e.result.length+" elements","fa-calculator"),v(b,"fa-clock-o"),e.extra&&(e.extra.profile&&(v("","fa-caret-down"),r.appendProfileDetails(t,e.extra.profile)),e.extra.stats&&(e.extra.stats.writesExecuted>0||e.extra.stats.writesIgnored>0)&&(v(e.extra.stats.writesExecuted+" writes","fa-check-circle positive"),0===e.extra.stats.writesIgnored?v(e.extra.stats.writesIgnored+" writes ignored","fa-check-circle positive","additional"):v(e.extra.stats.writesIgnored+" writes ignored","fa-exclamation-circle warning","additional")))}$("#outputEditorWrapper"+t+" .pull-left #spinner").remove(),$("#outputEditorWrapper"+t+" #cancelCurrentQuery").remove(),r.warningsFunc(e,c),window.progressView.hide(),$("#outputEditorWrapper"+t+" .switchAce").show(),$("#outputEditorWrapper"+t+" .fa-close").show(),$("#outputEditor"+t).css("opacity","1"),e.msg||($("#outputEditorWrapper"+t+" #downloadQueryResult").show(),$("#outputEditorWrapper"+t+" #copy2aqlEditor").show()),r.setEditorAutoHeight(c),r.deselect(c),i&&e.hasMore?l=arangoHelper.databaseUrl("/_api/cursor/"+encodeURIComponent(i)):e.id&&e.hasMore&&(l=arangoHelper.databaseUrl("/_api/cursor/"+encodeURIComponent(e.id))),l&&$.ajax({url:l,type:"DELETE"}),n||(r.cachedQueries[t]=e,this.cachedQueries[t].sentQuery=r.aqlEditor.getValue()),e.msg&&(e.extra.profile?$("#outputEditorWrapper"+t+" .toolbarType").html("Profile"):$("#outputEditorWrapper"+t+" .toolbarType").html("Explain"),c.setValue(e.msg,1)),"table"!==a.defaultType&&"geotable"!==a.defaultType||r.checkCSV(t)}else r.cachedQueries[t]=e,r.cachedQueries[t].sentQuery=r.lastSentQueryString,arangoHelper.arangoNotification("Query finished","Return to queries view to see the result.")},bindQueryResultButtons:function(e,t){var n=this;if(e)var i=function(e,t){$.ajax({url:arangoHelper.databaseUrl("/_api/job/"+encodeURIComponent(e)+"/cancel"),type:"PUT",success:function(){window.clearTimeout(n.checkQueryTimer),$("#outputEditorWrapper"+t).remove(),arangoHelper.arangoNotification("Query","Query canceled.")}})};$("#outputEditorWrapper"+t+" #cancelCurrentQuery").bind("click",(function(){i(e,t)})),$("#outputEditorWrapper"+t+" #copy2aqlEditor").bind("click",(function(){$("#toggleQueries1").is(":visible")||n.toggleQueries();var e=n.queriesHistory[t].sentQuery,i=n.queriesHistory[t].bindParam;n.aqlEditor.setValue(e,1),n.deselect(n.aqlEditor),Object.keys(i).length>0&&(n.bindParamTableObj=i,n.setCachedQuery(n.aqlEditor.getValue(),JSON.stringify(n.bindParamTableObj)),$("#bindParamEditor").is(":visible")?n.renderBindParamTable():(n.bindParamAceEditor.setValue(JSON.stringify(i),1),n.deselect(n.bindParamAceEditor))),$(".centralRow").animate({scrollTop:0},"fast"),n.resize()}))},queryCallbackFunction:function(e,t){var n,i=this;i.tmpQueryResult=null,this.bindQueryResultButtons(e,t),this.execPending=!1;try{n=parseInt($("#querySize").val())}catch(r){arangoHelper.arangoError("Parse Error","Could not parse defined user limit.")}isNaN(n)&&(n=!0);var a=function(e){null===i.tmpQueryResult&&(i.tmpQueryResult={result:[],complete:!0}),_.each(e,(function(t,a){"result"!==a?i.tmpQueryResult[a]=t:_.each(e.result,(function(e){i.tmpQueryResult.result.length<=n||!0===n?(i.tmpQueryResult.result.length<n||!0===n)&&i.tmpQueryResult.result.push(e):i.tmpQueryResult.complete=!1}))}))};!function o(s){var l="PUT",c=arangoHelper.databaseUrl("/_api/job/"+encodeURIComponent(e));s&&(l="POST",c=arangoHelper.databaseUrl("/_api/cursor/"+encodeURIComponent(s))),$.ajax({type:l,url:c,contentType:"application/json",processData:!1,success:function(r,s,l){var c=!0;i.tmpQueryResult&&i.tmpQueryResult.result&&i.tmpQueryResult.result.length&&(c=i.tmpQueryResult.result.length<n||!0===n),201===l.status||200===l.status?r.hasMore&&c?(a(r),o(r.id)):(a(r),i.renderQueryResult(i.tmpQueryResult,t,!1,e),i.tmpQueryResult=null,$(".centralRow").animate({scrollTop:$("#queryContent").height()},"fast")):204===l.status&&(i.checkQueryTimer=window.setTimeout((function(){o()}),500))},error:function(e){var n;try{if("Gone"===e.statusText)return arangoHelper.arangoNotification("Query","Query execution aborted."),void i.removeOutputEditor(t);n=JSON.parse(e.responseText),arangoHelper.arangoError("Query",n.errorMessage),n.errorMessage&&(null!==n.errorMessage.match(/\d+:\d+/g)?i.markPositionError(n.errorMessage.match(/'.*'/g)[0],n.errorMessage.match(/\d+:\d+/g)[0]):i.markPositionError(n.errorMessage.match(/\(\w+\)/g)[0]),i.removeOutputEditor(t))}catch(r){if(i.removeOutputEditor(t),409===n.code)return;400!==n.code&&404!==n.code&&500!==n.code&&403!==n.code&&501!==n.code&&arangoHelper.arangoNotification("Query","Successfully aborted.")}window.progressView.hide()}})}()},appendProfileDetails:function(e,t){var n="#outputEditorWrapper"+e;$(n+" .fa-caret-down").first().on("click",(function(){var i=$(n).find(".queryProfile");if($(i).is(":visible"))$(n).find(".queryProfile").remove();else{$(n).append('<div class="queryProfile" counter="'+e+'"></div>');var a=$(n+" .queryProfile").first();a.hide(),a.css("position","absolute").css("left",215).css("top",55);var r=["A","B","C","D","E","F","G","H"],o=["rgb(48, 125, 153)","rgb(241, 124, 176)","rgb(137, 110, 37)","rgb(93, 165, 218)","rgb(250, 164, 58)","rgb(64, 74, 83)","rgb(96, 189, 104)","rgb(221, 224, 114)"],s=["startup time for query engine","query parsing","abstract syntax tree optimizations","loading collections","instanciation of initial execution plan","execution plan optimization and permutation","query execution","query finalization"];a.append('<i class="fa fa-close closeProfile"></i><span class="profileHeader">Profiling information</span><div class="pure-g pure-table pure-table-body" style="width: auto;"></div><div class="prof-progress"></div><div class="prof-progress-label"></div><div class="clear"></div>');var l=0;_.each(t,(function(e,t){"finished"!==t&&(l+=1e3*e)}));var c,d=0,u=0,h="";_.each(t,(function(e,t){"finished"!==t&&(e>1?(h=numeral(e).format("0.000"),h+=" s"):(h=numeral(1e3*e).format("0.000"),h+=" ms"),a.find(".pure-g").append('<div class="pure-table-row noHover"><div class="pure-u-1-24 left"><p class="bold" style="background:'+o[d]+'">'+r[d]+'</p></div><div class="pure-u-4-24 left">'+h+'</div><div class="pure-u-6-24 left">'+t+'</div><div class="pure-u-13-24 left">'+s[d]+"</div></div>"),0===(c=Math.floor(1e3*e/l*100))&&(c=1,u++),7!==d?(a.find(".prof-progress").append('<div style="width: '+c+"%; background-color: "+o[d]+'"></div>'),c>1?a.find(".prof-progress-label").append('<div style="width: '+c+'%;">'+r[d]+"</div>"):a.find(".prof-progress-label").append('<div style="width: '+c+'%; font-size: 9px">'+r[d]+"</div>")):(u>0&&(c-=u),a.find(".prof-progress").append('<div style="width: '+c+"%; background-color: "+o[d]+'"></div>'),c>1?a.find(".prof-progress-label").append('<div style="width: '+c+'%;">'+r[d]+"</div>"):a.find(".prof-progress-label").append('<div style="width: '+c+'%; font-size: 9px">'+r[d]+"</div>")),d++)})),a.width(590),a.height("auto"),a.fadeIn("fast")}}))},analyseQuery:function(e){var t={defaultType:null,original:e,modified:null},n=!1;if(!Array.isArray(e))return t.defaultType="json",t;for(var i=0,a=0;a<e.length;a++)if(e[a]){i=a;break}if(e[i])if(e[i].vertices&&e[i].edges){var r=0,o=0;_.each(e,(function(e){e.edges&&_.each(e.edges,(function(e){null!==e&&(e._from&&e._to&&r++,o++)}))}));var s=0;o>0&&(s=r/o*100),s>=95&&(n=!0,t.defaultType="graph",t.graphInfo="object")}else{var l=0,c=e.length;_.each(e,(function(e){e&&e._from&&e._to&&e._id&&l++}));var d=0;c>0&&(d=l/c*100),d>=95&&(n=!0,t.defaultType="graph",t.graphInfo="array")}var u=0;if(!n){var h=!0,p={};if(e.length<1&&(h=!1),h){_.each(e,(function(e){if("object"===typeof e&&null!==e&&!Array.isArray(e)){if("object"===typeof e)if(e.hasOwnProperty("coordinates")&&e.hasOwnProperty("type"))"Point"!==e.type&&"MultiPoint"!==e.type&&"Polygon"!==e.type&&"MultiPolygon"!==e.type&&"LineString"!==e.type&&"MultiLineString"!==e.type||u++;else if(e.hasOwnProperty("geometry"))try{e.geometry.hasOwnProperty("coordinates")&&e.geometry.hasOwnProperty("type")&&("Point"!==e.geometry.type&&"MultiPoint"!==e.geometry.type&&"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type&&"LineString"!==e.geometry.type&&"MultiLineString"!==e.geometry.type||u++)}catch(t){}_.each(e,(function(e,t){p.hasOwnProperty(t)?++p[t]:p[t]=1}))}}));var f=0;_.each(p,(function(t,n){!1!==h&&(f=t/e.length*100)<=95&&(h=!1)})),f<=95&&(h=!1)}h&&(n=!0,e.length===u?t.defaultType="geotable":t.defaultType="table")}return n||(0!==e.length&&e.length===u?t.defaultType="geo":t.defaultType="json"),"geo"!==t.defaultType&&"geotable"!==t.defaultType||window.activeInternetConnection||(t.fallback=t.defaultType,"geo"===t.defaultType?t.defaultType="json":t.defaultType="table"),t},markPositionError:function(e,t){var n;if(t&&(n=t.split(":")[0],e=e.substr(1,e.length-2)),!this.aqlEditor.find(e)&&t){try{(n=parseInt(n))>0&&(n-=1)}catch(i){}this.aqlEditor.selection.moveCursorToPosition({row:n,column:0}),this.aqlEditor.selection.selectLine()}window.setTimeout((function(){$(".ace_start").first().css("background","rgba(255, 129, 129, 0.7)")}),100)},refreshAQL:function(){var e=this,t=function(t){t?arangoHelper.arangoError("Query","Could not reload queries"):(e.updateLocalQueries(),e.updateQueryTable())};this.getAQL((function(){e.getSystemQueries(t)}))},getSystemQueries:function(e){e&&e(!1),this.queries=window.aqltemplates},updateLocalQueries:function(){var e=this;this.customQueries=[],this.collection.each((function(t){e.customQueries.push({name:t.get("name"),value:t.get("value"),parameter:t.get("parameter")})}))},renderOutputTable:function(e,t){var n={id:"outputTableData"+t,titles:[],rows:[]},i=!0,a={},r=0;_.each(e.original,(function(e){!0===i&&e&&(Object.keys(e).forEach((function(e){a[String(e)]=r++,n.titles.push(_.escape(String(e)))})),i=!1);var t=Array(r);_.each(e,(function(e,n){a.hasOwnProperty(n)&&("object"===typeof e&&(e=JSON.stringify(e)),t[a[n]]=e)})),n.rows.push(t)})),$("#outputTable"+t).append(this.table.render({content:n}))},renderOutputGraph:function(e,t){return this.graphViewers[t]=new window.GraphViewer({name:void 0,documentStore:window.App.arangoDocumentStore,collection:new window.GraphCollection,userConfig:window.App.userConfig,id:"#outputGraph"+t,data:e}),this.graphViewers[t].renderAQLPreview()},showResultInGraphViewer:function(e,t){window.location.hash="#aql_graph",window.App.graphViewer&&(window.App.graphViewer.graphSettingsView&&window.App.graphViewer.graphSettingsView.remove(),window.App.graphViewer.remove()),window.App.graphViewer=new window.GraphViewer({name:void 0,documentStore:window.App.arangoDocumentStore,collection:new window.GraphCollection,userConfig:window.App.userConfig,noDefinedGraph:!0,data:e}),window.App.graphViewer.renderAQL()},getAQL:function(e){var t=this;this.collection.fetch({success:function(){t.getCachedQueryAfterRender();var n=sessionStorage.getItem("customQueries");if(n){var i=JSON.parse(n);_.each(i,(function(e){t.collection.add({value:e.value,name:e.name})}));t.collection.saveCollectionQueries((function(e){e?arangoHelper.arangoError("Custom Queries","Could not import old local storage queries"):sessionStorage.removeItem("customQueries")}))}t.updateLocalQueries(),e&&e()},error:function(e,t){arangoHelper.arangoError("User Queries",t.responseText)}})},checkCSV:function(e){var t=ace.edit("outputEditor"+e).getValue(),n=!1;try{t=JSON.parse(t),n=!0,_.each(t,(function(e,t){_.each(e,(function(e,t){try{"object"===typeof JSON.parse(e)&&(n=!1)}catch(i){}}))}))}catch(i){}n&&$("#outputEditorWrapper"+e+" #downloadCsvResult").show()},doCSV:function(e){var t=this.arrayFrom(e),n=[];for(var i in t)n[n.length]=this.parse_object(t[i]);return $.csv.fromObjects(n)},downloadCsvResult:function(e){var t,n=$(e.currentTarget).attr("counter"),i=ace.edit("outputEditor"+n).getValue();i=JSON.parse(i),(t=$.csv.fromObjects(i,{justArrays:!0})).length>0?arangoHelper.downloadLocalBlob(t,"csv"):arangoHelper.arangoError("Query error","Could not download the result.")}})}()},function(e,t){!function(){"use strict";window.RebalanceShardsView=Backbone.View.extend({el:"#content",maxNumberOfMoveShards:void 0,template:templateEngine.createTemplate("rebalanceShardsView.ejs"),events:{"click #rebalanceShardsBtn":"rebalanceShards"},initialize:function(e){this.maxNumberOfMoveShards=e.maxNumberOfMoveShards},render:function(){"#rebalanceShards"===window.location.hash&&(arangoHelper.buildNodesSubNav("Rebalance Shards",!1),this.$el.html(this.template.render({maxNumberOfMoveShards:this.maxNumberOfMoveShards})),arangoHelper.createTooltips())},rebalanceShards:function(){$.ajax({type:"POST",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/rebalanceShards"),contentType:"application/json",processData:!1,data:JSON.stringify({}),async:!0,success:function(e){0===e.result.operations?arangoHelper.arangoNotification("No move shards operations were scheduled."):arangoHelper.arangoNotification("Started rebalance process. Scheduled "+e.result.operations+" shards move operation(s).")},error:function(){arangoHelper.arangoError("Could not start rebalance process.")}}),window.modalView.hide()},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this}})}()},function(e,t){!function(){"use strict";window.ReplicationView=Backbone.View.extend({el:"#content",mode:null,interval:5e3,keepEntries:100,charts:{},nvchartsInit:!1,loggerGraphsData:[],info:{state:null,mode:null,level:null,role:null,health:"Good",msg:"No issues detected."},nodes:{leader:null,followers:[]},initialize:function(e){var t=this;window.setInterval((function(){t.getStateData()}),this.interval)},template:templateEngine.createTemplate("replicationView.ejs"),events:{"click #nodes-followers-id span":"goToApplier","click #repl-follower-table tr":"goToApplierFromTable"},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},render:function(){this.undelegateEvents(),this.getMode(this.continueRender.bind(this))},continueRender:function(){this.$el.html(this.template.render({mode:this.mode,info:this.info,nodes:this.nodes})),this.getStateData(),this.delegateEvents()},renderStatisticBox:function(e,t,n,i){if($("#replication-info #nodeattribute-"+e).length)$("#replication-info #nodeattribute-"+e).html(t);else{var a="";a+=6===i?'<div class="pure-u-1-2 pure-u-md-1-3 pure-u-lg-1-6" style="background-color: #fff">':'<div class="pure-u-1-2 pure-u-md-1-4" style="background-color: #fff">',a+='<div class="valueWrapper">',a+=n?'<div id="nodeattribute-'+e+'" class="value tippy" title="'+t+'">'+t+"</div>":'<div id="nodeattribute-'+e+'" class="value">'+t+"</div>",a+='<div class="graphLabel">'+e+"</div>",a+="</div>",a+="</div>",$("#replication-info").append(a)}},goToApplier:function(e){var t=btoa($(e.currentTarget).attr("data"));window.App.navigate("#replication/applier/"+t+"/"+btoa("_system"),{trigger:!0})},goToApplierFromTable:function(e){var t=btoa(window.location.origin),n=btoa($(e.currentTarget).find("#applier-database-id").html()),i=$(e.currentTarget).find("#applier-running-id").html();"true"===i||!0===i?window.App.navigate("#replication/applier/"+t+"/"+n,{trigger:!0}):arangoHelper.arangoMessage("Replication","This applier is not running.")},getActiveFailoverEndpoints:function(){var e=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/cluster/endpoints"),contentType:"application/json",success:function(t){t.endpoints?e.renderEndpoints(t.endpoints):e.renderEndpoints()},error:function(){e.renderEndpoints()}})},renderEndpoints:function(e){var t=this;if(e){var n=e[0],i=e.slice(1,e.length);$("#nodes-leader-id").html(n.endpoint),$("#nodes-followers-id").html(""),_.each(i,(function(e){$("#nodes-followers-id").append('<span data="'+t.parseEndpoint(e.endpoint,!0)+'">'+e.endpoint+"</span>")}))}else $("#nodes-leader-id").html("Error"),$("#nodes-followers-id").html("Error")},parseEndpoint:function(e,t){var n;return"[::1]"===e.slice(6,11)?n=window.location.host.split(":")[0]+":"+e.split(":")[4]:"tcp://"===e.slice(0,6)?n="http://"+e.slice(6,e.length):"ssl://"===e.slice(0,6)&&(n="https://"+e.slice(6,e.length)),t&&(n=window.location.protocol+"//"+n),n||e},getLoggerState:function(){var e=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/replication/logger-state"),contentType:"application/json",success:function(t){"#replication"===window.location.hash?(e.updateLoggerGraphsData(t),e.nvchartsInit?e.rerenderLoggerGraphs():e.initLoggerGraphs(),e.renderLoggerState(t.server,t.clients,t.state)):e.updateLoggerGraphsData(t)},error:function(){arangoHelper.arangoError("Replication","Could not fetch the leaders logger state.")}})},getApplierStates:function(e){var t,n=this;t=e?arangoHelper.databaseUrl("/_api/replication/applier-state?global=true"):arangoHelper.databaseUrl("/_api/replication/applier-state-all"),$.ajax({type:"GET",cache:!1,url:t,contentType:"application/json",success:function(t){e?n.renderApplierState(t,!0):n.renderApplierState(t)},error:function(){e?arangoHelper.arangoError("Replication","Could not fetch the followers global applier state."):arangoHelper.arangoError("Replication","Could not fetch the followers applier state.")}})},renderApplierState:function(e,t){var n,i=this;t&&(e.database="All databases",e={"All databases":e});var a,r=0,o=[],s=[];_.each(e,(function(t,n){t.state.running?o.push(e[n]):(e[n].database=n,s.push(e[n]))})),o=_.sortBy(o,"database"),s=_.sortBy(s,"database"),e=o.concat(s),$("#repl-follower-table tbody").html(""),_.each(e,(function(e,t){var o;n="undefined"!==e.endpoint&&e.endpoint?i.parseEndpoint(e.endpoint):"not available","inactive"!==e.state.phase&&!0!==e.state.running&&r++;var s="active";"inactive"===e.state.phase&&(s="inactive"),0===e.state.lastError.errorNum?o="inactive"!==e.state.phase||e.state.running?'<i class="fa fa-check-circle positive"></i>':"n/a":(o='<i class="fa fa-times-circle negative"></i>',r++),$("#repl-follower-table tbody").append('<tr class="'+s+'"><td id="applier-database-id">'+e.database+'</td><td id="applier-running-id">'+e.state.running+"</td><td>"+e.state.phase+'</td><td id="applier-endpoint-id">'+n+"</td><td>"+e.state.lastAppliedContinuousTick+"</td><td>"+o+"</td></tr>"),a=e.server.serverId})),$("#logger-lastLogTick-id").html(a),0===r?this.renderHealth(!1):this.renderHealth(!0,"Some appliers are not running or do have errors.")},renderHealth:function(e,t){e?($("#info-msg-id").addClass("negative"),$("#info-msg-id").removeClass("positive"),$("#info-msg-id").html('Bad <i class="fa fa-times-circle"></i>'),t&&($("#info-msg-id").attr("title",t),$("#info-msg-id").addClass("modalTooltips"),arangoHelper.createTooltips(".modalTooltips"))):($("#info-msg-id").addClass("positive"),$("#info-msg-id").removeClass("negative"),$("#info-msg-id").removeClass("modalTooltips"),$("#info-msg-id").html('Good <i class="fa fa-check-circle"></i>'))},getStateData:function(e){3===this.mode?(this.getActiveFailoverEndpoints(),this.getLoggerState()):2===this.mode?"leader"===this.info.role?this.getLoggerState():this.getApplierStates(!0):1===this.mode&&("leader"===this.info.role?this.getLoggerState():this.getApplierStates()),e&&e()},updateLoggerGraphsData:function(e){this.loggerGraphsData.length>this.keepEntries&&this.loggerGraphsData.pop(),this.loggerGraphsData.push(e)},parseLoggerData:function(){var e=this,t=this.loggerGraphsData;this.colors||(this.colors=randomColor({hue:"blue",count:this.loggerGraphsData.length}));var n={leader:{key:"Leader",values:[],strokeWidth:2,color:"#2ecc71"}},i={leader:{key:"Leader",values:[],strokeWidth:2,color:"#2ecc71"}};return _.each(t,(function(t){n.leader.values.push({x:Date.parse(t.state.time),y:0}),i.leader.values.push({x:Date.parse(t.state.time),y:0});var a=0;_.each(t.clients,(function(r){if(!n[r.serverId]){var o="Follower ("+r.serverId+")";n[r.serverId]={key:o,color:e.colors[a],strokeWidth:1,values:[]},i[r.serverId]={key:o,color:e.colors[a],strokeWidth:1,values:[]},a++}n[r.serverId].values.push({x:Date.parse(r.time),y:(Date.parse(t.state.time)-Date.parse(r.time))/1e3*-1}),i[r.serverId].values.push({x:Date.parse(r.time),y:-1*(t.state.lastLogTick-r.lastServedTick)})}))})),{graphDataTick:_.toArray(i),graphDataTime:_.toArray(n)}},initLoggerGraphs:function(){var e=this;nv.addGraph((function(){e.charts.replicationTimeChart=nv.models.lineChart().options({duration:300,useInteractiveGuideline:!0,forceY:[2,-10]}),e.charts.replicationTimeChart.xAxis.axisLabel("").tickFormat((function(e){var t=new Date(e);return(t.getHours()<10?"0":"")+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+":"+(t.getSeconds()<10?"0":"")+t.getSeconds()})).staggerLabels(!1),e.charts.replicationTimeChart.yAxis.axisLabel("Last call ago (in s)").tickFormat((function(e){return null===e?"N/A":d3.format(",.0f")(e)}));var t=e.parseLoggerData().graphDataTime;return d3.select("#replicationTimeChart svg").datum(t).call(e.charts.replicationTimeChart),nv.utils.windowResize(e.charts.replicationTimeChart.update),e.charts.replicationTimeChart})),nv.addGraph((function(){e.charts.replicationTickChart=nv.models.lineChart().options({duration:300,useInteractiveGuideline:!0,forceY:[2,void 0]}),e.charts.replicationTickChart.xAxis.axisLabel("").tickFormat((function(e){var t=new Date(e);return(t.getHours()<10?"0":"")+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+":"+(t.getSeconds()<10?"0":"")+t.getSeconds()})).staggerLabels(!1),e.charts.replicationTickChart.yAxis.axisLabel("Ticks behind").tickFormat((function(e){return null===e?"N/A":d3.format(",.0f")(e)}));var t=e.parseLoggerData().graphDataTick;return d3.select("#replicationTickChart svg").datum(t).call(e.charts.replicationTickChart),nv.utils.windowResize(e.charts.replicationTickChart.update),e.charts.replicationTickChart})),e.nvchartsInit=!0},rerenderLoggerGraphs:function(){d3.select("#replicationTimeChart svg").datum(this.parseLoggerData().graphDataTime).transition().duration(500).call(this.charts.replicationTimeChart),d3.select("#replicationTickChart svg").datum(this.parseLoggerData().graphDataTick).transition().duration(500).call(this.charts.replicationTickChart),_.each(this.charts,(function(e){nv.utils.windowResize(e.update)}))},renderLoggerState:function(e,t,n){e&&t&&n?($("#logger-running-id").html(n.running),$("#logger-version-id").html(e.version),$("#logger-serverid-id").html(e.serverId),$("#logger-time-id").html(n.time),$("#logger-lastLogTick-id").html(n.lastLogTick),$("#logger-totalEvents-id").html(n.totalEvents),$("#repl-logger-clients tbody").html(""),_.each(t,(function(e){$("#repl-logger-clients tbody").append("<tr><td>"+e.syncerId+"</td><td>"+e.serverId+"</td><td>"+e.clientInfo+"</td><td>"+e.time+"</td><td>"+e.lastServedTick+"</td></tr>")})),n.running?this.renderHealth(!1):this.renderHealth(!0,"The logger thread is not running")):($("#logger-running-id").html("Error"),$("#logger-endpoint-id").html("Error"),$("#logger-version-id").html("Error"),$("#logger-serverid-id").html("Error"),$("#logger-time-id").html("Error"),this.renderHealth(!0,"Unexpected data from the logger thread."))},getMode:function(e){var t=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/aardvark/replication/mode"),contentType:"application/json",success:function(n){(n.mode||0===n.mode)&&(Number.isInteger(n.mode)?(t.mode=n.mode,0!==n.mode?t.info.state="enabled":t.info.state="disabled"):t.mode="undefined",n.role&&(t.info.role=n.role),3===t.mode?(t.info.mode="Active Failover",t.info.level="Server"):2===t.mode?(t.info.mode="Leader/Follower",t.info.level="Server"):1===t.mode&&(t.info.mode="Leader/Follower","follower"===t.info.role?t.info.level="Database":t.info.level="Check followers for details")),e&&e()},error:function(){arangoHelper.arangoError("Replication","Could not fetch the replication state.")}})}})}()},function(e,t){!function(){"use strict";window.ScaleView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("scaleView.ejs"),interval:1e4,knownServers:[],events:{"click #addCoord":"addCoord","click #removeCoord":"removeCoord","click #addDBs":"addDBs","click #removeDBs":"removeDBs"},setCoordSize:function(e){var t=this,n={numberOfCoordinators:e};$.ajax({type:"PUT",url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",data:JSON.stringify(n),success:function(){t.updateTable(n)},error:function(){arangoHelper.arangoError("Scale","Could not set coordinator size.")}})},setDBsSize:function(e){var t=this,n={numberOfDBServers:e};$.ajax({type:"PUT",url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",data:JSON.stringify(n),success:function(){t.updateTable(n)},error:function(){arangoHelper.arangoError("Scale","Could not set coordinator size.")}})},addCoord:function(){this.setCoordSize(this.readNumberFromID("#plannedCoords",!0))},removeCoord:function(){this.setCoordSize(this.readNumberFromID("#plannedCoords",!1,!0))},addDBs:function(){this.setDBsSize(this.readNumberFromID("#plannedDBs",!0))},removeDBs:function(){this.setDBsSize(this.readNumberFromID("#plannedDBs",!1,!0))},readNumberFromID:function(e,t,n){var i=$(e).html(),a=!1;try{a=JSON.parse(i)}catch(r){}return t&&a++,n&&1!==a&&a--,a},initialize:function(e){var t=this;clearInterval(this.intervalFunction),window.App.isCluster&&"_system"===frontendConfig.db&&(this.dbServers=e.dbServers,this.coordinators=e.coordinators,this.updateServerTime(),this.intervalFunction=window.setInterval((function(){"#sNodes"===window.location.hash&&t.coordinators.fetch({success:function(){t.dbServers.fetch({success:function(){t.continueRender(!0)}})}})}),this.interval))},render:function(){var e=this,t=function(){this.waitForDBServers((function(){e.continueRender()}))}.bind(this);this.initDoneCoords?t():this.waitForCoordinators(t),window.arangoHelper.buildNodesSubNav("scale")},continueRender:function(e){var t,n,i=this;t=this.coordinators.toJSON(),n=this.dbServers.toJSON(),this.$el.html(this.template.render({runningCoords:t.length,runningDBs:n.length,plannedCoords:void 0,plannedDBs:void 0,initialized:e})),$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",processData:!1,success:function(e){i.updateTable(e)}})},updateTable:function(e){var t='<span class="warning">scaling in progress <i class="fa fa-circle-o-notch fa-spin"></i></span>',n='<span class="positive">no scaling process active</span>';e.numberOfCoordinators&&($("#plannedCoords").html(e.numberOfCoordinators),this.coordinators.toJSON().length===e.numberOfCoordinators?$("#statusCoords").html(n):$("#statusCoords").html(t)),e.numberOfDBServers&&($("#plannedDBs").html(e.numberOfDBServers),this.dbServers.toJSON().length===e.numberOfDBServers?$("#statusDBs").html(n):$("#statusDBs").html(t))},waitForDBServers:function(e){var t=this;0===this.dbServers.length?window.setInterval((function(){t.waitForDBServers(e)}),300):e()},waitForCoordinators:function(e){var t=this;window.setTimeout((function(){0===t.coordinators.length?t.waitForCoordinators(e):(t.initDoneCoords=!0,e())}),200)},updateServerTime:function(){this.serverTime=(new Date).getTime()}})}()},function(e,t){!function(){"use strict";window.SettingsView=Backbone.View.extend({el:"#content",readOnly:!1,initialize:function(e){this.collectionName=e.collectionName,this.model=this.collection},events:{},render:function(){this.breadcrumb(),arangoHelper.buildCollectionSubNav(this.collectionName,"Settings"),this.renderSettings()},breadcrumb:function(){$("#subNavigationBar .breadcrumb").html("Collection: "+_.escape(this.collectionName.length>64?this.collectionName.substr(0,64)+"...":this.collectionName))},truncateCollection:function(){this.readOnly||(this.model.truncateCollection(),$(".modal-delete-confirmation").hide(),window.modalView.hide())},warmupCollection:function(){this.readOnly||(this.model.warmupCollection(),$(".modal-delete-confirmation").hide(),window.modalView.hide())},deleteCollection:function(){this.readOnly||this.model.destroy({error:function(e,t){arangoHelper.arangoError("Could not drop collection: "+t.responseJSON.errorMessage)},success:function(){window.App.navigate("#collections",{trigger:!0})}})},saveModifiedCollection:function(){if(!this.readOnly){var e=function(e,t){if(e)arangoHelper.arangoError("Error","Could not get coordinator info");else{var n;n=t?this.model.get("name"):$("#change-collection-name").val();var i=this,a=function(e,t){e?(i.render(),arangoHelper.arangoError("Collection error: "+t.responseJSON.errorMessage)):(arangoHelper.arangoNotification("Collection: Successfully changed."),window.App.navigate("#cSettings/"+n,{trigger:!0}))},r=function(e){var t=!1;if(e)arangoHelper.arangoError("Collection error: "+e.responseText);else{var n,i,r=$("#change-collection-sync").val();if(frontendConfig.isCluster){n=$("#change-replication-factor").val(),i=$("#change-write-concern").val();try{Number.parseInt(i)>Number.parseInt(n)&&(arangoHelper.arangoError("Change Collection","Write concern is not allowed to be greater than replication factor"),t=!0)}catch(o){}}t||this.model.changeCollection(r,n,i,a)}}.bind(this);!1===frontendConfig.isCluster?this.model.renameCollection(n,r):r()}}.bind(this);window.isCoordinator(e)}},changeViewToReadOnly:function(){window.App.settingsView.readOnly=!0,$(".breadcrumb").html($(".breadcrumb").html()+" (read-only)"),$(".modal-body input").prop("disabled","true"),$(".modal-body select").prop("disabled","true"),$(".modal-footer button").addClass("disabled"),$(".modal-footer button").unbind("click")},renderSettings:function(){var e=this,t=function(t,n){if(t)arangoHelper.arangoError("Error","Could not get coordinator info");else{var i=[],a=[];n||("_"===this.model.get("name").substr(0,1)?a.push(window.modalView.createReadOnlyEntry("change-collection-name","Name",this.model.get("name"),!1,"",!0,[{rule:Joi.string().regex(/^[a-zA-Z]/),msg:"Collection name must always start with a letter."},{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only Symbols "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No collection name given."}])):a.push(window.modalView.createTextEntry("change-collection-name","Name",this.model.get("name"),!1,"",!0,[{rule:Joi.string().regex(/^[a-zA-Z]/),msg:"Collection name must always start with a letter."},{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only Symbols "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No collection name given."}])));var r=function(){a.push(window.modalView.createReadOnlyEntry("change-collection-id","ID",this.model.get("id"),"")),a.push(window.modalView.createReadOnlyEntry("change-collection-type","Type",this.model.get("type"),"")),a.push(window.modalView.createReadOnlyEntry("change-collection-status","Status",this.model.get("status"),"")),i.push(window.modalView.createDeleteButton("Delete",this.deleteCollection.bind(this))),i.push(window.modalView.createDeleteButton("Truncate",this.truncateCollection.bind(this))),"rocksdb"===frontendConfig.engine&&i.push(window.modalView.createNotificationButton("Load Indexes into Memory",this.warmupCollection.bind(this))),i.push(window.modalView.createSuccessButton("Save",this.saveModifiedCollection.bind(this)));window.modalView.show(["modalTable.ejs","indicesView.ejs"],"Modify Collection",i,a,null,null,this.events,null,["General","Indexes"],"content"),$($("#infoTab").children()[1]).remove()}.bind(this);this.model.getProperties((function(t,n){if(t)arangoHelper.arangoError("Collection","Could not fetch properties");else{var i=n.waitForSync;n.replicationFactor&&frontendConfig.isCluster&&("satellite"===n.replicationFactor?(a.push(window.modalView.createReadOnlyEntry("change-replication-factor","Replication factor",n.replicationFactor,"This collection is a SatelliteCollection. The replicationFactor is not changeable.","",!0)),a.push(window.modalView.createReadOnlyEntry("change-write-concern","Write concern",JSON.stringify(n.writeConcern),"This collection is a SatelliteCollection. The write concern is not changeable.","",!0))):(a.push(window.modalView.createTextEntry("change-replication-factor","Replication factor",n.replicationFactor,"The replicationFactor parameter is the total number of copies being kept, that is, it is one plus the number of followers. Must be a number.","",!0,[{rule:Joi.string().allow("").optional().regex(/^[0-9]*$/),msg:"Must be a number."}])),a.push(window.modalView.createTextEntry("change-write-concern","Write concern",n.writeConcern,"Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created.","",!0,[{rule:Joi.string().allow("").optional().regex(/^[1-9]*$/),msg:"Must be a number. Must be at least 1 and has to be smaller or equal compared to the replicationFactor."}])))),a.push(window.modalView.createSelectEntry("change-collection-sync","Wait for sync",i,"Synchronize to disk before returning from a create or update of a document.",[{value:!1,label:"No"},{value:!0,label:"Yes"}]))}r(),arangoHelper.checkCollectionPermissions(e.collectionName,e.changeViewToReadOnly.bind(this))}))}}.bind(this);window.isCoordinator(t)}})}()},function(e,t){!function(){"use strict";window.ShardDistributionView=Backbone.View.extend({el:"#content",hash:"#distribution",template:templateEngine.createTemplate("shardDistributionView.ejs"),interval:1e4,events:{},initialize:function(e){var t=this;clearInterval(this.intervalFunction),window.App.isCluster&&(this.intervalFunction=window.setInterval((function(){window.location.hash,t.hash}),this.interval))},remove:function(){return clearInterval(this.intervalFunction),this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},render:function(e){window.location.hash===this.hash&&(this.$el.html(this.template.render({})),this.fetchOverallStatistics(),!1!==e&&arangoHelper.buildClusterSubNav("Distribution"))},rerenderOverallValues:function(e){arangoHelper.renderStatisticsBoxValue("#clusterDatabases",e.databases),arangoHelper.renderStatisticsBoxValue("#clusterCollections",e.collections),arangoHelper.renderStatisticsBoxValue("#clusterDBServers",e.servers),arangoHelper.renderStatisticsBoxValue("#clusterLeaders",e.leaders),arangoHelper.renderStatisticsBoxValue("#clusterRealLeaders",e.realLeaders),arangoHelper.renderStatisticsBoxValue("#clusterFollowers",e.followers),arangoHelper.renderStatisticsBoxValue("#clusterShards",e.shards)},fetchOverallStatistics:function(){var e=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/shardStatistics"),contentType:"application/json",processData:!1,async:!0,success:function(t){e.rerenderOverallValues(t.result),e.fetchDetailsStatistics(t.result)},error:function(){arangoHelper.arangoError("Distribution",'Could not fetch "shardStatistics"')}})},rerenderDistributionDonuts:function(e){var t=function(e,t){nv.addGraph((function(){var n=nv.models.pieChart().x((function(e){return e.label})).y((function(e){return e.value})).showLabels(!0).showTooltipPercent(!0).legendPosition("bottom").labelThreshold(.05).labelType("percent").donut(!0).donutRatio(.35),i="".concat(t," svg");return d3.select(i).datum(e).transition().duration(350).call(n),n}))};t(e.shards,"#totalDonut"),t(e.leaders,"#leaderDonut"),t(e.followers,"#followerDonut")},rerenderDistributionTable:function(e){var t=Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{}),n=function(e){return(100*e).toFixed(2)+" % "};$("#shardDistributionTable tbody").html(""),_.each(t,(function(e,t){$("#shardDistributionTable tbody").append("\n            <tr>\n              <td>".concat(t,'</td>\n              <td class="alignRight">').concat(e.shards.total,'</td>\n              <td class="alignRight">').concat(n(e.shards.percent),'</td>\n              <td class="alignRight">').concat(e.leaders.total,'</td>\n              <td class="alignRight">').concat(n(e.leaders.percent),'</td>\n              <td class="alignRight">').concat(e.followers.total,'</td>\n              <td class="alignRight">').concat(n(e.followers.percent),"</td>\n             </tr>\n          "))}))},formatDBServerDetailsData:function(e,t){var n=e.shards,i=e.leaders,a=e.followers,r={shards:[],leaders:[],followers:[]},o={};_.each(t,(function(e,t){var s=arangoHelper.getDatabaseShortName(t);o[s]={shards:{total:0,percent:0},leaders:{total:0,percent:0},followers:{total:0,percent:0}},r.shards.push({label:s,value:e.shards/n}),o[s].shards.total=e.shards,o[s].shards.percent=e.shards/n,r.leaders.push({label:s,value:e.leaders/i}),o[s].leaders.total=e.leaders,o[s].leaders.percent=e.leaders/i,r.followers.push({label:s,value:e.followers/a}),o[s].followers.total=e.followers,o[s].followers.percent=e.followers/a})),this.rerenderDistributionDonuts(r),this.rerenderDistributionTable(o)},fetchDetailsStatistics:function(e){var t=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/shardStatistics?details=true&DBserver=all"),contentType:"application/json",processData:!1,async:!0,success:function(n){t.formatDBServerDetailsData(e,n.result)},error:function(){arangoHelper.arangoError("Distribution",'Could not fetch "shardStatistics" details.')}})}})}()},function(e,t){!function(){"use strict";window.ShardsView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("shardsView.ejs"),interval:1e4,knownServers:[],pending:!1,visibleCollections:[],events:{"click #toggleAllShards":"toggleAllShards","click #shardsContent .shardLeader span":"moveShard","click #shardsContent .shardFollowers span":"moveShardFollowers","click .sectionHeader":"toggleSection"},initialize:function(e){var t=this;t.dbServers=e.dbServers,clearInterval(this.intervalFunction),window.App.isCluster&&(this.updateServerTime(),this.intervalFunction=window.setInterval((function(){"#shards"===window.location.hash&&t.render(!1)}),this.interval))},remove:function(){return clearInterval(this.intervalFunction),this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},toggleAllShards:function(){var e=this.visibleCollections.length>0,t=this;this.visibleCollections=[],_.each($(".sectionShard"),(function(n){var i=$(n).attr("id");e?($(n).next().hide(),$(n).find(".fa-arrow-down").removeClass("fa-arrow-down").addClass("fa-arrow-right")):(t.visibleCollections.push(i),$(n).next().show(),$(n).find(".fa-arrow-right").removeClass("fa-arrow-right").addClass("fa-arrow-down"))})),t.render(!1)},toggleSection:function(e){var t=$(e.currentTarget).parent().attr("id");-1!==this.visibleCollections.indexOf(t)?(this.visibleCollections=this.visibleCollections.filter((function(e){return e!==t})),$(e.currentTarget).next().hide(),$(e.currentTarget).find(".fa-arrow-down").removeClass("fa-arrow-down").addClass("fa-arrow-right")):(this.visibleCollections.push(t),$(e.currentTarget).next().show(),$(e.currentTarget).find(".fa-arrow-right").removeClass("fa-arrow-right").addClass("fa-arrow-down"),this.getShardDetails(t))},renderShardDetail:function(e,t){var n=0,i=0,a=function(e){return e>100&&(e=100),e.toFixed(1)+"%"};_.each(t.results[e].Plan,(function(t,r){var o="",s="",l="";t.progress?(t.progress.hasOwnProperty("followersSyncing")&&t.progress.followersSyncing>0&&(s="<span>"+arangoHelper.escapeHtml(t.progress.followersSyncing)+" follower",t.progress.followersSyncing>1&&(s+="s"),s+=" syncing...</span> ",l=' <i class="fa fa-circle-o-notch fa-spin fa-fw"></i>'),t.progress.hasOwnProperty("followerPercent")&&"number"===typeof t.progress.followerPercent?o=a(t.progress.followerPercent):0!==t.progress.current&&(o=a(t.progress.current/t.progress.total*100)),""!==o&&""!==s||(o="waiting for follower..."),o="<span>"+arangoHelper.escapeHtml(o)+"</span>"):(o='<i class="fa fa-check-circle">',n++),$("#"+e+"-"+r+" .shardProgress").html(s+o+l),i++})),i===n?($("#"+e+" .shardSyncIcons i").addClass("fa-check-circle").removeClass(".fa-times-circle"),$("#"+e+" .notInSync").addClass("inSync").removeClass("notInSync")):$("#"+e+" .shardSyncIcons i").addClass("fa-times-circle").removeClass("fa-check-circle")},checkActiveShardDisplay:function(){var e=this;_.each($(".sectionShard"),(function(t){$(t).find(".sectionShardContent").is(":visible")&&e.getShardDetails($(t).attr("id"))}))},getShardDetails:function(e){var t=this,n={collection:e};$("#"+e+" .shardProgress").html('<i class="fa fa-circle-o-notch fa-spin fa-fw"></i>'),$.ajax({type:"PUT",cache:!1,data:JSON.stringify(n),url:arangoHelper.databaseUrl("/_admin/cluster/collectionShardDistribution"),contentType:"application/json",processData:!1,async:!0,success:function(n){t.renderShardDetail(e,n)},error:function(e){}})},render:function(e){if("#shards"===window.location.hash&&!1===this.pending){var t=this;t.pending=!0,$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/shardDistribution"),contentType:"application/json",processData:!1,async:!0,success:function(e){t.pending=!1;var n=!1;t.shardDistribution=e.results,_.each(e.results,(function(e,t){"error"!==t&&"code"!==t&&(n=!0)})),n?t.continueRender(e.results):arangoHelper.renderEmpty("No collections and no shards available"),t.checkActiveShardDisplay()},error:function(e){0!==e.readyState&&arangoHelper.arangoError("Cluster","Could not fetch sharding information.")}}),arangoHelper.buildNodesSubNav("Shards")}},moveShardFollowers:function(e){var t=$(e.currentTarget).html();this.moveShard(e,t)},moveShard:function(e,t){var n,i,a,r,o=this,s=window.App.currentDB.get("name");i=$(e.currentTarget).parent().parent().attr("collection"),a=$(e.currentTarget).parent().parent().attr("shard"),t?(r=$(e.currentTarget).parent().parent().attr("leader"),r=arangoHelper.getDatabaseServerId(r),n=arangoHelper.getDatabaseServerId(t)):(n=$(e.currentTarget).parent().parent().attr("leader"),n=arangoHelper.getDatabaseServerId(n));var l=[],c=[],d={},u=[];o.dbServers[0].fetch({success:function(){o.dbServers[0].each((function(e){e.get("id")!==n&&(d[e.get("name")]={value:e.get("id"),label:e.get("name")})})),t&&delete d[arangoHelper.getDatabaseShortName(r)],_.each(d,(function(e){u.push(e)})),0!==(u=u.reverse()).length?(c.push(window.modalView.createSelectEntry("toDBServer","Destination",void 0,"Please select the target database server. The selected database server will be the new leader of the shard.",u)),l.push(window.modalView.createSuccessButton("Move",o.confirmMoveShards.bind(this,s,i,a,n))),window.modalView.show("modalTable.ejs","Move shard: "+a,l,c)):arangoHelper.arangoMessage("Shards","No database server for moving the shard is available.")}})},confirmMoveShards:function(e,t,n,i){var a=$("#toDBServer").val(),r={database:e,collection:t,shard:n,fromServer:i,toServer:a};$.ajax({type:"POST",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/moveShard"),contentType:"application/json",processData:!1,data:JSON.stringify(r),async:!0,success:function(e){e.id&&(arangoHelper.arangoNotification("Shard "+n+" will be moved to "+arangoHelper.getDatabaseShortName(a)+"."),window.setTimeout((function(){window.App.shardsView.render()}),3e3))},error:function(){arangoHelper.arangoError("Shard "+n+" could not be moved to "+arangoHelper.getDatabaseShortName(a)+".")}}),window.modalView.hide()},continueRender:function(e){delete e.code,delete e.error,_.each(e,(function(t,n){var i={Plan:{},Current:{}};if(n.startsWith("_local_")){var a=n.substr(7,n.length-1),r=["_local_"+a,"_from_"+a,"_to_"+a,a],o=0;_.each(r,(function(t,n){e[r[o]]&&(_.each(e[r[o]].Current,(function(e,t){i.Current[t]=e})),_.each(e[r[o]].Plan,(function(e,t){i.Plan[t]=e}))),delete e[r[o]],e[a]=i,o++}))}}));var t={};Object.keys(e).sort((function(e,t){return"_"===e[0]&&"_"!==t[0]?1:"_"!==e[0]&&"_"===t[0]?-1:e===t?0:e<t?-1:1})).forEach((function(n){t[n]=e[n]}));var n={},i=window.App.lastHealthCheckResult;i&&i.Health&&Object.keys(i.Health).forEach((function(e){n[i.Health[e].ShortName]="FAILED"===i.Health[e].Status})),this.$el.html(this.template.render({collections:t,visible:this.visibleCollections,serversFailed:n})),1===$(".sectionShard").length&&$(".sectionHeader").first().click(),$(".innerContent").css("min-height","0px")},updateServerTime:function(){this.serverTime=(new Date).getTime()}})}()},function(e,t){!function(){"use strict";window.ShowClusterView=Backbone.View.extend({detailEl:"#modalPlaceholder",el:"#content",defaultFrame:12e5,template:templateEngine.createTemplate("showCluster.ejs"),modal:templateEngine.createTemplate("waitModal.ejs"),detailTemplate:templateEngine.createTemplate("detailView.ejs"),events:{"change #selectDB":"updateCollections","change #selectCol":"updateShards","click .dbserver.success":"dashboard","click .coordinator.success":"dashboard"},replaceSVGs:function(){$(".svgToReplace").each((function(){var e=$(this),t=e.attr("id"),n=e.attr("src");$.get(n,(function(n){var i=$(n).find("svg");i.attr("id",t).attr("class","icon").removeAttr("xmlns:a"),e.replaceWith(i)}),"xml")}))},updateServerTime:function(){this.serverTime=(new Date).getTime()},setShowAll:function(){this.graphShowAll=!0},resetShowAll:function(){this.graphShowAll=!1,this.renderLineChart()},initialize:function(e){this.options=e,this.interval=1e4,this.isUpdating=!1,this.timer=null,this.knownServers=[],this.graph=void 0,this.graphShowAll=!1,this.updateServerTime(),this.dygraphConfig=this.options.dygraphConfig,this.dbservers=new window.ClusterServers([],{interval:this.interval}),this.coordinators=new window.ClusterCoordinators([],{interval:this.interval}),this.documentStore=new window.ArangoDocuments,this.statisticsDescription=new window.StatisticsDescription,this.statisticsDescription.fetch({async:!1}),this.dbs=new window.ClusterDatabases([],{interval:this.interval}),this.cols=new window.ClusterCollections,this.shards=new window.ClusterShards,this.startUpdating()},listByAddress:function(e){var t=this;this.dbservers.byAddress({},(function(n){t.coordinators.byAddress(n,e)}))},updateCollections:function(){var e=this,t=$("#selectCol"),n=$("#selectDB").find(":selected").attr("id");if(n){var i=t.find(":selected").attr("id");t.html(""),this.cols.getList(n,(function(n){_.each(_.pluck(n,"name"),(function(e){t.append('<option id="'+e+'">'+e+"</option>")}));var a=$("#"+i,t);1===a.length&&a.prop("selected",!0),e.updateShards()}))}},updateShards:function(){var e=$("#selectDB").find(":selected").attr("id"),t=$("#selectCol").find(":selected").attr("id");this.shards.getList(e,t,(function(e){$(".shardCounter").html("0"),_.each(e,(function(e){$("#"+e.server+"Shards").html(e.shards.length)}))}))},updateServerStatus:function(e){var t=this,n=function(e,t,n){var i,a,r=n;r=(r=r.replace(/\./g,"-")).replace(/:/g,"_"),(a=$("#id"+r)).length<1||(i=a.attr("class").split(/\s+/)[1],a.attr("class",e+" "+i+" "+t),"coordinator"===e&&("success"===t?$(".button-gui",a.closest(".tile")).toggleClass("button-gui-disabled",!1):$(".button-gui",a.closest(".tile")).toggleClass("button-gui-disabled",!0)))};this.coordinators.getStatuses(n.bind(this,"coordinator"),(function(){t.dbservers.getStatuses(n.bind(t,"dbserver")),e()}))},updateDBDetailList:function(){var e=this,t=$("#selectDB"),n=t.find(":selected").attr("id");t.html(""),this.dbs.getList((function(i){_.each(_.pluck(i,"name"),(function(e){t.append('<option id="'+e+'">'+e+"</option>")}));var a=$("#"+n,t);1===a.length&&a.prop("selected",!0),e.updateCollections()}))},rerender:function(){var e=this;this.updateServerStatus((function(){e.getServerStatistics((function(){e.updateServerTime(),e.data=e.generatePieData(),e.renderPieChart(e.data),e.renderLineChart(),e.updateDBDetailList()}))}))},render:function(){this.knownServers=[],delete this.hist;var e=this;this.listByAddress((function(t){1===Object.keys(t).length?e.type="testPlan":e.type="other",e.updateDBDetailList(),e.dbs.getList((function(n){$(e.el).html(e.template.render({dbs:_.pluck(n,"name"),byAddress:t,type:e.type})),$(e.el).append(e.modal.render({})),e.replaceSVGs(),e.getServerStatistics((function(){e.data=e.generatePieData(),e.renderPieChart(e.data),e.renderLineChart(),e.updateDBDetailList(),e.startUpdating()}))}))}))},generatePieData:function(){var e=[],t=this;return this.data.forEach((function(n){e.push({key:n.get("name"),value:n.get("system").virtualSize,time:t.serverTime})})),e},addStatisticsItem:function(e,t,n,i){this.hasOwnProperty("hist")||(this.hist={}),this.hist.hasOwnProperty(e)||(this.hist[e]=[]);var a=this.hist[e],r=a.length;if(0===r)a.push({time:t,snap:i,requests:n,requestsPerSecond:0});else{var o=a[r-1].time,s=a[r-1].requests;if(s<n){var l=t-o,c=0;l>0&&(c=(n-s)/l),a.push({time:t,snap:i,requests:n,requestsPerSecond:c})}}},getServerStatistics:function(e){var t=this,n=Math.round(t.serverTime/1e3);this.data=void 0;var i=new window.ClusterStatisticsCollection,a=this.coordinators.first();this.dbservers.forEach((function(e){if("ok"===e.get("status")){-1===t.knownServers.indexOf(e.id)&&t.knownServers.push(e.id);var n=new window.Statistics({name:e.id});n.url=a.get("protocol")+"://"+a.get("address")+"/_admin/cluster/statistics?DBserver="+encodeURIComponent(e.get("name")),i.add(n)}})),this.coordinators.forEach((function(e){if("ok"===e.get("status")){-1===t.knownServers.indexOf(e.id)&&t.knownServers.push(e.id);var n=new window.Statistics({name:e.id});n.url=e.get("protocol")+"://"+e.get("address")+"/_admin/statistics",i.add(n)}}));var r=i.size();this.data=[];i.fetch((function(i){r--;var a=i.get("time"),o=i.get("name"),s=i.get("http").requestsTotal;t.addStatisticsItem(o,a,s,n),t.data.push(i),0===r&&e()}),(function(){0===--r&&e()}))},renderPieChart:function(e){var t=$("#clusterGraphs svg").width(),n=$("#clusterGraphs svg").height(),i=Math.min(t,n)/2,a=this.dygraphConfig.colors,r=d3.svg.arc().outerRadius(i-20).innerRadius(0),o=d3.layout.pie().sort((function(e){return e.value})).value((function(e){return e.value}));d3.select("#clusterGraphs").select("svg").remove();var s=d3.select("#clusterGraphs").append("svg").attr("class","clusterChart").append("g").attr("transform","translate("+t/2+","+(n/2-10)+")"),l=d3.svg.arc().outerRadius(i-2).innerRadius(i-2),c=s.selectAll(".arc").data(o(e)).enter().append("g").attr("class","slice");c.append("path").attr("d",r).style("fill",(function(e,t){return a[t%a.length]})).style("stroke",(function(e,t){return a[t%a.length]})),c.append("text").attr("transform",(function(e){return"translate("+r.centroid(e)+")"})).style("text-anchor","middle").text((function(e){return(e.data.value/1024/1024/1024).toFixed(2)})),c.append("text").attr("transform",(function(e){return"translate("+l.centroid(e)+")"})).style("text-anchor","middle").text((function(e){return e.data.key}))},renderLineChart:function(){var e,t,n,i,a,r,o=[],s=[],l=Math.round((new Date).getTime()/1e3)-1200,c=this.knownServers,d=function(){return null};for(n=0;n<c.length;++n)if(t=this.hist[c[n]])for(i=0;i<t.length;++i)(r=t[i].snap)<l||(s.hasOwnProperty(r)?e=s[r]:(a=new Date(1e3*r),e=s[r]=[a].concat(c.map(d))),e[n+1]=t[i].requestsPerSecond);o=[],Object.keys(s).sort().forEach((function(e){o.push(s[e])}));var u=this.dygraphConfig.getDefaultConfig("clusterRequestsPerSecond");u.labelsDiv=$("#lineGraphLegend")[0],u.labels=["datetime"].concat(c),this.graph=new Dygraph(document.getElementById("lineGraph"),o,u)},stopUpdating:function(){window.clearTimeout(this.timer),delete this.graph,this.isUpdating=!1},startUpdating:function(){if(!this.isUpdating){this.isUpdating=!0;var e=this;this.timer=window.setInterval((function(){e.rerender()}),this.interval)}},dashboard:function(e){this.stopUpdating();var t,n,i=$(e.currentTarget),a={},r=i.attr("id");r=(r=(r=r.replace(/-/g,".")).replace(/_/g,":")).substr(2),a.raw=r,a.isDBServer=i.hasClass("dbserver"),a.isDBServer?(t=this.dbservers.findWhere({address:a.raw}),n=this.coordinators.findWhere({status:"ok"}),a.endpoint=n.get("protocol")+"://"+n.get("address")):(t=this.coordinators.findWhere({address:a.raw}),a.endpoint=t.get("protocol")+"://"+t.get("address")),a.target=encodeURIComponent(t.get("name")),window.App.serverToShow=a,window.App.dashboard()},getCurrentSize:function(e){return"#"!==e.substr(0,1)&&(e="#"+e),$(e).attr("style",""),{height:$(e).height(),width:$(e).width()}},resize:function(){var e;this.graph&&(e=this.getCurrentSize(this.graph.maindiv_.id),this.graph.resize(e.width,e.height))}})}()},function(e,t){!function(){"use strict";window.SpotlightView=Backbone.View.extend({template:templateEngine.createTemplate("spotlightView.ejs"),el:"#spotlightPlaceholder",displayLimit:8,typeahead:null,callbackSuccess:null,callbackCancel:null,collections:{system:[],doc:[],edge:[]},events:{"focusout #spotlight .tt-input":"hide","keyup #spotlight .typeahead":"listenKey"},aqlKeywordsArray:[],aqlBuiltinFunctionsArray:[],aqlKeywords:"for|return|filter|search|sort|limit|let|collect|asc|desc|in|into|insert|update|remove|replace|upsert|options|with|and|or|not|distinct|graph|shortest_path|outbound|inbound|any|all|none|aggregate|like|count",hide:function(){this.typeahead=$("#spotlight .typeahead").typeahead("destroy"),$(this.el).hide()},listenKey:function(e){if(27===e.keyCode)this.callbackSuccess&&this.callbackCancel(),this.hide();else if(13===e.keyCode&&this.callbackSuccess){var t=$(this.typeahead).val();this.callbackSuccess(t),this.hide()}},substringMatcher:function(e){return function(t,n){var i,a;i=[],a=new RegExp(t,"i"),_.each(e,(function(e){a.test(e)&&i.push(e)})),n(i)}},updateDatasets:function(){var e=this;this.collections={system:[],doc:[],edge:[]},window.App.arangoCollectionsStore.each((function(t){t.get("isSystem")?e.collections.system.push(t.get("name")):"document"===t.get("type")?e.collections.doc.push(t.get("name")):e.collections.edge.push(t.get("name"))}))},stringToArray:function(){var e=this;_.each(this.aqlKeywords.split("|"),(function(t){e.aqlKeywordsArray.push(t.toUpperCase())})),e.aqlKeywordsArray.push(!0),e.aqlKeywordsArray.push(!1),e.aqlKeywordsArray.push(null)},fetchKeywords:function(e){var t=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/aql-builtin"),contentType:"application/json",success:function(n){t.stringToArray(),t.updateDatasets(),_.each(n.functions,(function(e){t.aqlBuiltinFunctionsArray.push(e.name)})),e&&e()},error:function(){e&&e(),arangoHelper.arangoError("AQL","Could not fetch AQL function definition.")}})},show:function(e,t,n){var i=this;this.callbackSuccess=e,this.callbackCancel=t;var a=function(){var e=function(e,t,n){var i='<div class="header-type"><h4>'+e+"</h4>";return t&&(i+='<span><i class="fa '+t+'"></i></span>'),n&&(i+='<span class="type">'+n.toUpperCase()+"</span>"),i+="</div>"};$(this.el).html(this.template.render({})),$(this.el).show(),this.typeahead="aql"===n?$("#spotlight .typeahead").typeahead({hint:!0,highlight:!0,minLength:1},{name:"Functions",source:i.substringMatcher(i.aqlBuiltinFunctionsArray),limit:i.displayLimit,templates:{header:e("Functions","fa-code","aql")}},{name:"Keywords",source:i.substringMatcher(i.aqlKeywordsArray),limit:i.displayLimit,templates:{header:e("Keywords","fa-code","aql")}},{name:"Documents",source:i.substringMatcher(i.collections.doc),limit:i.displayLimit,templates:{header:e("Documents","fa-file-text-o","Collection")}},{name:"Edges",source:i.substringMatcher(i.collections.edge),limit:i.displayLimit,templates:{header:e("Edges","fa-share-alt","Collection")}},{name:"System",limit:i.displayLimit,source:i.substringMatcher(i.collections.system),templates:{header:e("System","fa-cogs","Collection")}}):$("#spotlight .typeahead").typeahead({hint:!0,highlight:!0,minLength:1},{name:"Documents",source:i.substringMatcher(i.collections.doc),limit:i.displayLimit,templates:{header:e("Documents","fa-file-text-o","Collection")}},{name:"Edges",source:i.substringMatcher(i.collections.edge),limit:i.displayLimit,templates:{header:e("Edges","fa-share-alt","Collection")}},{name:"System",limit:i.displayLimit,source:i.substringMatcher(i.collections.system),templates:{header:e("System","fa-cogs","Collection")}}),$("#spotlight .typeahead").focus()}.bind(this);0===i.aqlBuiltinFunctionsArray.length?this.fetchKeywords(a):a()}})}()},function(e,t){!function(){"use strict";window.StatisticBarView=Backbone.View.extend({el:"#statisticBar",events:{"change #arangoCollectionSelect":"navigateBySelect","click .tab":"navigateByTab"},template:templateEngine.createTemplate("statisticBarView.ejs"),initialize:function(e){this.currentDB=e.currentDB},replaceSVG:function(e){var t=e.attr("id"),n=e.attr("class"),i=e.attr("src");$.get(i,(function(i){var a=$(i).find("svg");void 0===t&&(a=a.attr("id",t)),void 0===n&&(a=a.attr("class",n+" replaced-svg")),a=a.removeAttr("xmlns:a"),e.replaceWith(a)}),"xml")},render:function(){var e=this;return $(this.el).html(this.template.render({isSystem:this.currentDB.get("isSystem")})),$("img.svg").each((function(){e.replaceSVG($(this))})),this},navigateBySelect:function(){var e=$("#arangoCollectionSelect").find("option:selected").val();window.App.navigate(e,{trigger:!0})},navigateByTab:function(e){var t=(e.target||e.srcElement).id;return"links"===t?($("#link_dropdown").slideToggle(200),void e.preventDefault()):"tools"===t?($("#tools_dropdown").slideToggle(200),void e.preventDefault()):(window.App.navigate(t,{trigger:!0}),void e.preventDefault())},handleSelectNavigation:function(){$("#arangoCollectionSelect").change((function(){var e=$(this).find("option:selected").val();window.App.navigate(e,{trigger:!0})}))},selectMenuItem:function(e){$(".navlist li").removeClass("active"),e&&$("."+e).addClass("active")}})}()},function(e,t){!function(){"use strict";window.StoreDetailView=Backbone.View.extend({el:"#content",divs:["#readme","#swagger","#app-info","#sideinformation","#information","#settings"],navs:["#service-info","#service-api","#service-readme","#service-settings"],template:templateEngine.createTemplate("storeDetailView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #installService":"installService"},installService:function(){arangoHelper.createMountPointModal(this.installFoxxFromStore.bind(this))},installCallback:function(e){window.App.navigate("#services",{trigger:!0}),window.App.applicationsView.installCallback(e)},installFoxxFromStore:function(e){var t,n,i;window.modalView.modalTestAll()&&(this._upgrade?t=this.mount:"/"!==(t=window.arangoHelper.escapeHtml($("#new-app-mount").val())).charAt(0)&&(t="/"+t),n={name:this.model.get("name"),version:this.model.get("latestVersion")},i=arangoHelper.getFoxxFlags(),this.collection.install("store",n,t,i,this.installCallback.bind(this)),window.modalView.hide(),arangoHelper.arangoNotification("Services","Installing "+this.model.get("name")+"."))},resize:function(e){e?$(".innerContent").css("height","auto"):$(".innerContent").height($(".centralRow").height()-150)},render:function(){var e=this;return this.model.fetchThumbnail(function(t){var n=function(t,n){if(t)arangoHelper.arangoError("DB","Could not get current database");else{var i=this.model.get("defaultThumbnailUrl");if(this.model.get("manifest"))try{this.model.get("manifest").thumbnail&&(i=this.model.getThumbnailUrl())}catch(a){}$(this.el).html(this.template.render({app:this.model,baseUrl:arangoHelper.databaseUrl("",n),installed:!0,image:i})),this.model.fetchReadme(e.renderReadme)}this.breadcrumb()}.bind(this);arangoHelper.currentDatabase(n),_.isEmpty(this.model.get("config"))&&$("#service-settings").attr("disabled",!0)}.bind(this)),this.resize(!1),$(this.el)},renderReadme:function(e){var t=marked(e);$("#readme").html(t)},breadcrumb:function(){var e="Service: "+this.model.get("name")+'<i class="fa fa-ellipsis-v" aria-hidden="true"></i>',t='<p class="mount"><span>Contributors:</span>';this.model.get("contributors")&&this.model.get("contributors").length>0?_.each(this.model.get("contributors"),(function(e){e.email?t+='<a href="mailto:'+e.email+'">'+(e.name||e.email)+"</a>":e.name&&(t+="<a>contributor.name</a>")})):t+="No contributors",t+="</p>",$(".information").append(t),this.model.get("author")&&$(".information").append('<p class="mount"><span>Author:</span>'+this.model.get("author")+"</p>"),this.model.get("mount")&&$(".information").append('<p class="mount"><span>Mount:</span>'+this.model.get("mount")+"</p>"),this.model.get("development")&&this.model.get("path")&&$(".information").append('<p class="path"><span>Path:</span>'+this.model.get("path")+"</p>"),$("#subNavigationBar .breadcrumb").html(e)},storeUrl:function(e){return arangoHelper.databaseUrl(this.model.get("mount"),e)}})}()},function(e,t){!function(){"use strict";window.SupportView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("supportView.ejs"),events:{"click .subViewNavbar .subMenuEntry":"toggleViews"},render:function(){this.$el.html(this.template.render({parsedVersion:window.versionHelper.toDocuVersion(window.frontendConfig.version.version)}))},resize:function(e){e?$(".innerContent").css("height","auto"):$(".innerContent").height($(".centralRow").height()-170)},renderSwagger:function(){var e=window.location.pathname.split("/"),t=window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/"+encodeURIComponent(e[1])+"/"+encodeURIComponent(e[2])+"/_admin/aardvark/api/index.html?collapsed";$("#swagger").html(""),$("#swagger").append('<iframe src="'+t+'" style="border:none"></iframe>')},toggleViews:function(e){var t=this,n=e.currentTarget.id.split("-")[0];_.each(["community","documentation","swagger"],(function(e){n!==e?$("#"+e).hide():("swagger"===n?(t.renderSwagger(),$("#swagger iframe").css("height","100%"),$("#swagger iframe").css("width","100%"),$("#swagger iframe").css("margin-top","-13px"),t.resize()):t.resize(!0),$("#"+e).show())})),$(".subMenuEntries").children().removeClass("active"),$("#"+n+"-support").addClass("active")}})}()},function(e,t){!function(){"use strict";window.TableView=Backbone.View.extend({template:templateEngine.createTemplate("tableView.ejs"),loading:templateEngine.createTemplate("loadingTableView.ejs"),initialize:function(e){this.rowClickCallback=e.rowClick},events:{"click .pure-table-body .pure-table-row":"rowClick","click .deleteButton":"removeClick"},rowClick:function(e){this.hasOwnProperty("rowClickCallback")&&this.rowClickCallback(e)},removeClick:function(e){this.hasOwnProperty("removeClickCallback")&&(this.removeClickCallback(e),e.stopPropagation())},setRowClick:function(e){this.rowClickCallback=e},setRemoveClick:function(e){this.removeClickCallback=e},render:function(){$(this.el).html(this.template.render({docs:this.collection}))},drawLoading:function(){$(this.el).html(this.loading.render({}))}})}()},function(e,t){!function(){"use strict";window.UserBarView=Backbone.View.extend({events:{"change #userBarSelect":"navigateBySelect","click .tab":"navigateByTab","mouseenter .dropdown":"showDropdown","mouseleave .dropdown":"hideDropdown","click #userLogoutIcon":"userLogout","click #userLogout":"userLogout"},initialize:function(e){arangoHelper.checkDatabasePermissions(this.setUserCollectionMode.bind(this)),this.userCollection=e.userCollection,this.userCollection.fetch({cache:!1,async:!0}),this.userCollection.bind("change:extra",this.render.bind(this))},setUserCollectionMode:function(e){e&&(this.userCollection.authOptions.ro=!0)},template:templateEngine.createTemplate("userBarView.ejs"),navigateBySelect:function(){var e=$("#arangoCollectionSelect").find("option:selected").val();window.App.navigate(e,{trigger:!0})},navigateByTab:function(e){var t=e.target||e.srcElement,n=(t=$(t).closest("a")).attr("id");if("user"===n)return $("#user_dropdown").slideToggle(200),void e.preventDefault();window.App.navigate(n,{trigger:!0}),e.preventDefault()},toggleUserMenu:function(){$("#userBar .subBarDropdown").toggle()},showDropdown:function(){$("#user_dropdown").fadeIn(1)},hideDropdown:function(){$("#user_dropdown").fadeOut(1)},render:function(){if(!1!==frontendConfig.authenticationEnabled){var e=this;$("#userBar").on("click",(function(){e.toggleUserMenu()})),this.userCollection.whoAmI((function(t,n){if(t)arangoHelper.arangoErro("User","Could not fetch user.");else{var i=null,a=null,r=!1,o=null;if(!1!==n){var s=function(){return frontendConfig.ldapEnabled&&e.userCollection.add({name:window.App.currentUser,user:window.App.currentUser,username:window.App.currentUser,active:!0,img:void 0}),(o=e.userCollection.findWhere({user:n})).set({loggedIn:!0}),a=o.get("extra").name,i=o.get("extra").img,r=o.get("active"),i=i?"https://s.gravatar.com/avatar/"+i+"?s=80":"img/default_user.png",a||(a=""),e.$el=$("#userBar"),e.$el.html(e.template.render({img:i,name:a,username:n,active:r})),e.delegateEvents(),e.$el};0===e.userCollection.models.length?e.userCollection.fetch({success:function(){s()}}):s()}}}))}},userLogout:function(){var e=function(e){e?arangoHelper.arangoError("User","Logout error"):this.userCollection.logout()}.bind(this);this.userCollection.whoAmI(e)}})}()},function(e,t){!function(){"use strict";window.UserManagementView=Backbone.View.extend({el:"#content",el2:"#userManagementThumbnailsIn",template:templateEngine.createTemplate("userManagementView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #createUser":"createUser","click #submitCreateUser":"submitCreateUser","click #userManagementThumbnailsIn .tile":"editUser","click #submitEditUser":"submitEditUser","click #userManagementToggle":"toggleView","keyup #userManagementSearchInput":"search","click #userManagementSearchSubmit":"search","click #callEditUserPassword":"editUserPassword","click #submitEditUserPassword":"submitEditUserPassword","click #submitEditCurrentUserProfile":"submitEditCurrentUserProfile","click .css-label":"checkBoxes","change #userSortDesc":"sorting"},dropdownVisible:!1,initialize:function(){var e=this,t=function(e,t){!0===frontendConfig.authenticationEnabled&&(e||null===t?arangoHelper.arangoError("User","Could not fetch user data"):this.currentUser=this.collection.findWhere({user:t}))}.bind(this);this.collection.fetch({fetchAllUsers:!0,cache:!1,success:function(){e.collection.whoAmI(t)}})},checkBoxes:function(e){var t=e.currentTarget.id;$("#"+t).click()},sorting:function(){$("#userSortDesc").is(":checked")?this.collection.setSortingDesc(!0):this.collection.setSortingDesc(!1),$("#userManagementDropdown").is(":visible")?this.dropdownVisible=!0:this.dropdownVisible=!1,this.render()},render:function(e){var t=!1;$("#userManagementDropdown").is(":visible")&&(t=!0);var n=function(){this.collection.sort(),$(this.el).html(this.template.render({collection:this.collection,searchString:""})),!0===t&&($("#userManagementDropdown2").show(),$("#userSortDesc").attr("checked",this.collection.sortOptions.desc),$("#userManagementToggle").toggleClass("activated"),$("#userManagementDropdown").show()),e&&this.editCurrentUser(),arangoHelper.setCheckboxStatus("#userManagementDropdown")}.bind(this);return this.collection.fetch({fetchAllUsers:!0,cache:!1,success:function(){n()}}),this},search:function(){var e,t,n,i;e=$("#userManagementSearchInput"),t=arangoHelper.escapeHtml($("#userManagementSearchInput").val()),i=this.collection.filter((function(e){return-1!==e.get("user").indexOf(t)})),$(this.el).html(this.template.render({collection:i,searchString:t})),n=(e=$("#userManagementSearchInput")).val().length,e.focus(),e[0].setSelectionRange(n,n)},createUser:function(e){e.preventDefault(),this.createCreateUserModal()},submitCreateUser:function(){var e=this,t=$("#newUsername").val(),n=$("#newName").val(),i=$("#newPassword").val(),a=$("#newStatus").is(":checked");if(this.validateUserInfo(n,t,i,a)){var r={user:t,passwd:i,active:a,extra:{name:n}};frontendConfig.isEnterprise&&$("#newRole").is(":checked")&&(r.user=":role:"+t,delete r.passwd),this.collection.create(r,{wait:!0,error:function(e,t){arangoHelper.parseError("User",t,e)},success:function(){e.updateUserManagement(),window.modalView.hide()}})}},validateUserInfo:function(e,t,n,i){return""!==t||(arangoHelper.arangoError("You have to define an username"),$("#newUsername").closest("th").css("backgroundColor","red"),!1)},updateUserManagement:function(){var e=this;this.collection.fetch({fetchAllUsers:!0,cache:!1,success:function(){e.render()}})},editUser:function(e){if("createUser"!==$(e.currentTarget).find("a").attr("id")){$(e.currentTarget).hasClass("tile")&&($(e.currentTarget).find(".fa").attr("id")?e.currentTarget=$(e.currentTarget).find(".fa"):e.currentTarget=$(e.currentTarget).find(".icon")),this.collection.fetch({fetchAllUsers:!0,cache:!1});var t=this.evaluateUserName($(e.currentTarget).attr("id"),"_edit-user");""===t&&(t=$(e.currentTarget).attr("id")),window.App.navigate("user/"+encodeURIComponent(t),{trigger:!0})}},toggleView:function(){$("#userSortDesc").attr("checked",this.collection.sortOptions.desc),$("#userManagementToggle").toggleClass("activated"),$("#userManagementDropdown2").slideToggle(200)},createCreateUserModal:function(){var e=[],t=[];t.push(window.modalView.createTextEntry("newUsername","Username","",!1,"Username",!0,[{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only symbols, "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No username given."}])),t.push(window.modalView.createTextEntry("newName","Name","",!1,"Name",!1)),t.push(window.modalView.createPasswordEntry("newPassword","Password","",!1,"",!1)),frontendConfig.isEnterprise&&t.push(window.modalView.createCheckboxEntry("newRole","Role",!1,!1,!1)),t.push(window.modalView.createCheckboxEntry("newStatus","Active","active",!1,!0)),e.push(window.modalView.createSuccessButton("Create",this.submitCreateUser.bind(this))),window.modalView.show("modalTable.ejs","Create New User",e,t),frontendConfig.isEnterprise&&$("#newRole").on("change",(function(){$("#newRole").is(":checked")?$("#newPassword").attr("disabled",!0):$("#newPassword").attr("disabled",!1)}))},evaluateUserName:function(e,t){if(e){var n=e.lastIndexOf(t);return e.substring(0,n)}},updateUserProfile:function(){var e=this;this.collection.fetch({fetchAllUsers:!0,cache:!1,success:function(){e.render()}})}})}()},function(e,t){!function(){"use strict";window.UserPermissionView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("userPermissionView.ejs"),initialize:function(e){this.username=e.username},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #userPermissionView .dbCheckbox":"setDBPermission","click #userPermissionView .collCheckbox":"setCollPermission","click .db-row":"toggleAccordion"},render:function(e,t){var n=this;this.collection.fetch({fetchAllUsers:!0,success:function(){n.continueRender(e,t)}})},toggleAccordion:function(e){if(!$(e.target).attr("type")&&!$(e.target).parent().hasClass("noAction")&&!($(e.target).hasClass("inner")||$(e.target).is("span")||$(e.target).hasClass("fa-info-circle"))){var t=$(e.currentTarget).find(".collection-row").is(":visible"),n=$(e.currentTarget).attr("id").split("-")[0];$(".collection-row").hide(),$(".db-label").css("font-weight",200),$(".db-label").css("color","#8a969f"),$(e.currentTarget).find(".collection-row").children().length>4?($(".db-row .fa-caret-down").hide(),$(".db-row .fa-caret-right").show(),t?$(e.currentTarget).find(".collection-row").hide():($(e.currentTarget).find(".collection-row").fadeIn("fast"),$(e.currentTarget).find(".db-label").css("font-weight",600),$(e.currentTarget).find(".db-label").css("color","rgba(64, 74, 83, 1)"),$(e.currentTarget).find(".fa-caret-down").show(),$(e.currentTarget).find(".fa-caret-right").hide())):($(".db-row .fa-caret-down").hide(),$(".db-row .fa-caret-right").show(),arangoHelper.arangoNotification("Permissions",'No collections in "'+n+'" available.'))}},setCollPermission:function(e){var t,n=$(e.currentTarget).attr("db"),i=$(e.currentTarget).attr("collection");t=$(e.currentTarget).hasClass("readOnly")?"ro":$(e.currentTarget).hasClass("readWrite")?"rw":$(e.currentTarget).hasClass("noAccess")?"none":"undefined",this.sendCollPermission(this.currentUser.get("user"),n,i,t)},setDBPermission:function(e){var t,n=$(e.currentTarget).attr("name");if(t=$(e.currentTarget).hasClass("readOnly")?"ro":$(e.currentTarget).hasClass("readWrite")?"rw":$(e.currentTarget).hasClass("noAccess")?"none":"undefined","_system"===n){var i=[],a=[];a.push(window.modalView.createReadOnlyEntry("db-system-revoke-button","Caution","You are changing the _system database permission. Really continue?",void 0,void 0,!1)),i.push(window.modalView.createSuccessButton("Ok",this.sendDBPermission.bind(this,this.currentUser.get("user"),n,t))),i.push(window.modalView.createCloseButton("Cancel",this.rollbackInputButton.bind(this,n))),window.modalView.show("modalTable.ejs","Change _system Database Permission",i,a)}else this.sendDBPermission(this.currentUser.get("user"),n,t)},rollbackInputButton:function(e,t){var n;_.each($(".collection-row"),(function(e,t){$(e).is(":visible")&&(n=$(e).parent().attr("id"))})),n?this.render(n,t):this.render(),window.modalView.hide()},sendCollPermission:function(e,t,n,i){var a=this;"undefined"===i?this.revokeCollPermission(e,t,n):$.ajax({type:"PUT",url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(e)+"/database/"+encodeURIComponent(t)+"/"+encodeURIComponent(n)),contentType:"application/json",data:JSON.stringify({grant:i}),success:function(){a.rollbackInputButton(null)},error:function(e){a.rollbackInputButton(null,e)}})},revokeCollPermission:function(e,t,n){var i=this;$.ajax({type:"DELETE",url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(e)+"/database/"+encodeURIComponent(t)+"/"+encodeURIComponent(n)),contentType:"application/json",success:function(e){i.rollbackInputButton(null,e)},error:function(e){i.rollbackInputButton(null,e)}})},sendDBPermission:function(e,t,n){var i=this;"undefined"===n?this.revokeDBPermission(e,t):$.ajax({type:"PUT",url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(e)+"/database/"+encodeURIComponent(t)),contentType:"application/json",data:JSON.stringify({grant:n}),success:function(){i.rollbackInputButton(null)},error:function(e){i.rollbackInputButton(null,e)}})},revokeDBPermission:function(e,t){var n=this;$.ajax({type:"DELETE",url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(e)+"/database/"+encodeURIComponent(t)),contentType:"application/json",success:function(e){n.rollbackInputButton(null,e)},error:function(e){n.rollbackInputButton(null,e)}})},continueRender:function(e,t){var n=this;this.currentUser=this.collection.findWhere({user:this.username});var i=arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(n.currentUser.get("user"))+"/database?full=true");$.ajax({type:"GET",url:i,contentType:"application/json",success:function(i){n.finishRender(i.result,e,t)},error:function(e){arangoHelper.arangoError("User","Could not fetch user permissions")}})},finishRender:function(e,t,n){var i=_.pairs(e);i.sort(),i=_.object(i),$(this.el).html(this.template.render({permissions:i})),$(".noAction").first().appendTo(".pure-table-body"),$(".pure-table-body").height(window.innerHeight-200),t&&$("#"+t).click(),n&&n.responseJSON&&n.responseJSON.errorMessage&&arangoHelper.arangoError("User",n.responseJSON.errorMessage),this.styleDefaultRadios(e),arangoHelper.createTooltips(),this.checkRoot(),this.breadcrumb()},checkRoot:function(){"root"===this.currentUser.get("user")&&$("#_system-db #___-collection input").attr("disabled","true")},styleDefaultRadios:function(e,t){var n;try{n=e["*"].permission}catch(r){}var i=function(e){$(".db-row input").css("box-shadow","none");var t="rgba(0, 0, 0, 0.3) 0px 1px 4px 4px";_.each(e,(function(e,i){if(e.collections){var a=e.permission,r=e.collections["*"];"undefined"===a&&n&&("rw"===n?$("#"+i+"-db .mid > .readWrite").first().css("box-shadow",t):"ro"===n?$("#"+i+"-db .mid > .readOnly").first().css("box-shadow",t):"none"===n&&$("#"+i+"-db .mid > .noAccess").first().css("box-shadow",t)),_.each(e.collections,(function(e,o){if("_"!==o.charAt(0)&&"*"!==o.charAt(0)&&"undefined"===e){var s=(c=r,d=n,"undefined"===(l=a)&&"undefined"===c&&"undefined"!==d?d:"undefined"===c||"none"===c?"rw"===d||"rw"===l?"rw":"ro"===d||"ro"===l?"ro":"none"===d||"none"===l?"none":"undefined":"rw"===d||"rw"===l||"rw"===c?"rw":"ro"===d||"ro"===l||"ro"===c?"ro":"none"===l||"none"===c?"undefined"!==d?d:"none":"undefined");"rw"===s?$("#"+i+"-db #"+o+"-collection .readWrite").css("box-shadow",t):"ro"===s?$("#"+i+"-db #"+o+"-collection .readOnly").css("box-shadow",t):"none"===s&&$("#"+i+"-db #"+o+"-collection .noAccess").css("box-shadow",t)}var l,c,d}))}}))};if(t){var a=arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.currentUser.get("user"))+"/database?full=true");$.ajax({type:"GET",url:a,contentType:"application/json",success:function(e){i(e.result)},error:function(e){arangoHelper.arangoError("User","Could not fetch user permissions")}})}else i(e);window.modalView.hide()},breadcrumb:function(){var e=this;window.App.naviView?($("#subNavigationBar .breadcrumb").html("User: "+arangoHelper.escapeHtml(this.currentUser.get("user"))),arangoHelper.buildUserSubNav(e.currentUser.get("user"),"Permissions")):window.setTimeout((function(){e.breadcrumb()}),100)}})}()},function(e,t){!function(){"use strict";window.UserView=Backbone.View.extend({el:"#content",initialize:function(e){this.username=e.username},render:function(){var e=this;this.collection.fetch({fetchAllUsers:!0,success:function(){e.continueRender()}})},editCurrentUser:function(){this.createEditCurrentUserModal(this.currentUser.get("user"),this.currentUser.get("extra").name,this.currentUser.get("extra").img)},continueRender:function(){this.currentUser=this.collection.findWhere({user:this.username}),this.breadcrumb(),this.currentUser.get("loggedIn")?this.editCurrentUser():this.createEditUserModal(this.currentUser.get("user"),this.currentUser.get("extra").name,this.currentUser.get("active"))},createEditUserPasswordModal:function(){var e=[],t=[];t.push(window.modalView.createPasswordEntry("newCurrentPassword","New Password","",!1,"new password",!1)),t.push(window.modalView.createPasswordEntry("confirmCurrentPassword","Confirm New Password","",!1,"confirm new password",!1)),e.push(window.modalView.createSuccessButton("Save",this.submitEditUserPassword.bind(this))),window.modalView.show("modalTable.ejs","Edit User Password",e,t)},createEditCurrentUserModal:function(e,t,n){var i=[],a=[];a.push(window.modalView.createReadOnlyEntry("id_username","Username",e)),a.push(window.modalView.createTextEntry("editCurrentName","Name",t,!1,"Name",!1)),a.push(window.modalView.createTextEntry("editCurrentUserProfileImg","Gravatar account (Mail)",n,"Mailaddress or its md5 representation of your gravatar account.The address will be converted into a md5 string. Only the md5 string will be stored, not the mailaddress.","myAccount(at)gravatar.com")),":role:"===this.username.substring(0,6)?i.push(window.modalView.createDisabledButton("Change Password")):i.push(window.modalView.createNotificationButton("Change Password",this.editUserPassword.bind(this))),i.push(window.modalView.createSuccessButton("Save",this.submitEditCurrentUserProfile.bind(this))),window.modalView.show("modalTable.ejs","Edit User Profile",i,a,null,null,this.events,null,null,"content")},parseImgString:function(e){return-1===e.indexOf("@")?e:CryptoJS.MD5(e).toString()},createEditUserModal:function(e,t,n){var i,a;a=[{type:window.modalView.tables.READONLY,label:"Username",value:_.escape(e)},{type:window.modalView.tables.TEXT,label:"Name",value:_.escape(t),id:"editName",placeholder:"Name"},{type:window.modalView.tables.CHECKBOX,label:"Active",value:"active",checked:n,id:"editStatus"}],(i=[]).push({title:"Delete",type:window.modalView.buttons.DELETE,callback:this.submitDeleteUser.bind(this,e)}),":role:"===this.username.substring(0,6)?i.push({title:"Change Password",type:window.modalView.buttons.DISABLED,callback:this.createEditUserPasswordModal.bind(this,e)}):i.push({title:"Change Password",type:window.modalView.buttons.NOTIFICATION,callback:this.createEditUserPasswordModal.bind(this,e)}),i.push({title:"Save",type:window.modalView.buttons.SUCCESS,callback:this.submitEditUser.bind(this,e)}),window.modalView.show("modalTable.ejs","Edit User",i,a,null,null,this.events,null,null,"content")},validateStatus:function(e){return""!==e},submitDeleteUser:function(e){this.collection.findWhere({user:e}).destroy({wait:!0}),window.App.navigate("#users",{trigger:!0})},submitEditCurrentUserProfile:function(){var e=this,t=$("#editCurrentName").val(),n=$("#editCurrentUserProfileImg").val();n=this.parseImgString(n);this.currentUser.setExtras(t,n,(function(t,n){if(t)arangoHelper.arangoError("User","Could not edit user settings");else{if(n){var i=e.currentUser.get("extra");n.extra&&n.extra.name?i.name=n.extra.name:i.name=null,n.extra&&n.extra.img?i.img=n.extra.img:i.img=null,e.currentUser.set("extra",i),window.App.naviView.render()}arangoHelper.arangoNotification("User","Changes confirmed.")}})),window.modalView.hide()},submitEditUserPassword:function(){var e=$("#newCurrentPassword").val(),t=$("#confirmCurrentPassword").val();$("#newCurrentPassword").val(""),$("#confirmCurrentPassword").val(""),$("#newCurrentPassword").closest("th").css("backgroundColor","white"),$("#confirmCurrentPassword").closest("th").css("backgroundColor","white");var n=!1;e!==t&&(arangoHelper.arangoError("User","New passwords do not match."),n=!0),n||(this.currentUser.setPassword(e),arangoHelper.arangoNotification("User","Password changed."),window.modalView.hide())},editUserPassword:function(){window.modalView.hide(),this.createEditUserPasswordModal()},submitEditUser:function(e){var t=$("#editName").val(),n=$("#editStatus").is(":checked");if(this.validateStatus(n)){var i=this.collection.findWhere({user:e});i.save({extra:{name:t},active:n},{type:"PATCH",success:function(){arangoHelper.arangoNotification("User",i.get("user")+" updated.")},error:function(){arangoHelper.arangoError("User","Could not update "+i.get("user")+".")}})}else $("#editStatus").closest("th").css("backgroundColor","red")},breadcrumb:function(){var e=this;window.App.naviView?($("#subNavigationBar .breadcrumb").html("User: "+_.escape(this.username)),arangoHelper.buildUserSubNav(e.currentUser.get("user"),"General")):window.setTimeout((function(){e.breadcrumb()}),100)}})}()},function(e,t){!function(){"use strict";window.ValidationView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("validationView.ejs"),initialize:function(e){this.collectionName=e.collectionName,this.model=this.collection},events:{"click #saveValidationButton":"saveValidation"},render:function(){this.breadcrumb(),arangoHelper.buildCollectionSubNav(this.collectionName,"Schema"),$(this.el).html(this.template.render({})),this.renderValidationEditor(),this.getValidationProperties(),this.editor.focus()},resize:function(){$("#validationEditor").height($(".centralRow").height()-300)},renderValidationEditor:function(){var e=document.getElementById("validationEditor");this.resize();var t={onChange:function(){},onModeChange:function(e){},search:!0,mode:"code",modes:["tree","code"],ace:window.ace};this.editor=new JSONEditor(e,t)},getValidationProperties:function(){var e=this;this.model.getProperties((function(t,n){t?window.arangoHelper.arangoError("Error","Could not get collection properties"):e.editor.set(n.schema)}))},breadcrumb:function(){$("#subNavigationBar .breadcrumb").html("Collection: "+_.escape(this.collectionName.length>64?this.collectionName.substr(0,64)+"...":this.collectionName))},saveValidation:function(){var e=function(e,t){var n=this;if(e)arangoHelper.arangoError("Error","Could not save schema.");else{var i=null;try{i=this.editor.get()}catch(a){throw arangoHelper.arangoError("Error","Could not save schema: "+a),a}this.model.changeValidation(i,(function(e,t){e?arangoHelper.arangoError("Error","Could not save schema for collection "+n.model.get("name")+": "+t.responseJSON.errorMessage):arangoHelper.arangoNotification("Saved schema for collection "+n.model.get("name")+"."),n.editor.focus()}))}}.bind(this);window.isCoordinator(e)},changeViewToReadOnly:function(){window.App.validationView.readOnly=!0,$(".breadcrumb").html($(".breadcrumb").html()+" (read-only)"),$(".modal-body input").prop("disabled","true"),$(".modal-body select").prop("disabled","true"),$(".modal-footer button").addClass("disabled"),$(".modal-footer button").unbind("click")}})}()},function(e,t){!function(){"use strict";window.ViewView=Backbone.View.extend({el:"#content",readOnly:!1,refreshRate:5e3,template:templateEngine.createTemplate("viewView.ejs"),initialize:function(e){var t=localStorage.getItem("JSONViewEditorMode");t&&(this.defaultMode=t),this.name=e.name},defaultMode:"tree",storeMode:function(e){"view"!==e&&(localStorage.setItem("JSONViewEditorMode",e),this.defaultMode=e,this.editor.setMode(this.defaultMode))},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #savePropertiesButton":"patchView","click #renameViewButton":"renameView","click #deleteViewButton":"deleteView"},checkIfInProgress:function(){if(window.location.hash.search("view/")>-1&&$(".breadcrumb").text().search(this.model.get("name"))>-1){var e=this;frontendConfig.ldapEnabled||window.arangoHelper.syncAndReturnUnfinishedAardvarkJobs("view",(function(t,n){if(t)arangoHelper.arangoError("Views","Could not check locked views.");else{var i=!1;_.each(n,(function(t){e.model.get("name")===t.collection&&(i=!0)})),i?(e.getViewProperties(!0),e.setInProgress(!0),window.setTimeout((function(){e.checkIfInProgress()}),e.refreshRate)):(e.getViewProperties(!0),e.setInProgress(!1))}}))}},setReadOnlyPermissions:function(){this.readOnly=!0,$(".bottomButtonBar button").attr("disabled",!0),this.editor.setMode("view"),$(".jsoneditor-modes").hide(),this.breadcrumb(!0)},render:function(){this.breadcrumb(),this.$el.html(this.template.render({})),$("#propertiesEditor").height($(".centralRow").height()-300+70-$(".infoBox").innerHeight()-10),this.initAce(),this.getViewProperties(),this.checkIfInProgress()},jsonContentChanged:function(){this.enableSaveButton()},buttons:["#renameViewButton","#deleteViewButton"],disableAllButtons:function(){var e=this;_.each(this.buttons,(function(t){e.disableButton(t)})),this.disableSaveButton()},enableAllButtons:function(){var e=this;_.each(this.buttons,(function(t){e.enableButton(t)})),this.enableSaveButton()},enableButton:function(e){$(e).prop("disabled",!1)},disableButton:function(e){$(e).prop("disabled",!0)},enableSaveButton:function(){this.readOnly||($("#savePropertiesButton").prop("disabled",!1),$("#savePropertiesButton").addClass("button-success"),$("#savePropertiesButton").removeClass("button-close"))},disableSaveButton:function(){$("#savePropertiesButton").prop("disabled",!0),$("#savePropertiesButton").addClass("button-close"),$("#savePropertiesButton").removeClass("button-success")},initAce:function(e){var t=this,n=document.getElementById("propertiesEditor"),i={onChange:function(){t.jsonContentChanged()},onModeChange:function(e){t.storeMode(e)},search:!0,mode:"code",modes:["tree","code"],ace:window.ace};this.editor=new JSONEditor(n,i),this.defaultMode&&this.editor.setMode(this.defaultMode)},getViewProperties:function(e){var t=this;this.model.getProperties((function(n,i){n?arangoHelper.arangoError("View","Could not fetch properties for view:"+t.model.get("name")):(delete i.name,delete i.code,delete i.error,t.editor.set(i),e&&t.editor.expandAll&&t.editor.expandAll())}))},patchView:function(){var e,t=this;try{e=t.editor.get()}catch(n){arangoHelper.arangoError("View",n)}if(e){this.model.patchProperties(t.editor.get(),(function(e,n,i){e?arangoHelper.arangoError("View","Could not update view properties."):(n&&t.editor.set(n),i?t.setInProgress(!1):(arangoHelper.arangoNotification("View","Saving properties of view: "+t.model.get("name")+" in progress."),window.setTimeout((function(){t.checkIfInProgress()}),t.refreshRate),t.setInProgress(!0)))}))}},setInProgress:function(e){e?(this.disableAllButtons(),this.editor.setMode("view"),$("#viewProcessing").show(),$("#viewDocumentation").hide(),$(".jsoneditor").attr("style","background-color: rgba(0, 0, 0, 0.05) !important"),$(".jsoneditor-menu button").css("visibility","hidden"),$(".jsoneditor-modes").css("visibility","hidden")):(this.enableAllButtons(),this.editor.setMode(this.defaultMode),$(".buttonBarInfo").html(""),$("#viewProcessing").hide(),$("#viewDocumentation").show(),$(".jsoneditor").attr("style","background-color: rgba(255,255, 255, 1) !important"),$(".jsoneditor-menu button").css("visibility","inline"),$(".jsoneditor-modes").css("visibility","inline")),arangoHelper.checkDatabasePermissions(this.setReadOnlyPermissions.bind(this))},deleteView:function(){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry("view-delete-button","Delete","Really delete View?",void 0,void 0,!1,/[<>&'"]/)),e.push(window.modalView.createDeleteButton("Delete",this.deleteViewTrue.bind(this))),window.modalView.show("modalTable.ejs","Delete View",e,t)},deleteViewTrue:function(){this.model.deleteView((function(e,t){e?arangoHelper.arangoError("View","Could not delete the view."):(window.modalView.hide(),window.App.navigate("#views",{trigger:!0}))}))},renameView:function(){var e=[],t=[];t.push(window.modalView.createTextEntry("editCurrentName","Name",this.name,!1,"Name",!1)),e.push(window.modalView.createSuccessButton("Rename",this.renameViewTrue.bind(this))),window.modalView.show("modalTable.ejs","Rename View",e,t)},renameViewTrue:function(){var e=this;$("#editCurrentName").val()?$.ajax({type:"PUT",cache:!1,url:arangoHelper.databaseUrl("/_api/view/"+encodeURIComponent(e.name)+"/rename"),contentType:"application/json",processData:!1,data:JSON.stringify({name:$("#editCurrentName").val()}),success:function(t){e.name=t.name,e.model.set("name",t.name),e.breadcrumb(),window.modalView.hide()},error:function(e){window.modalView.hide(),arangoHelper.arangoError("View",e.responseJSON.errorMessage)}}):arangoHelper.arangoError("View","Please fill in a view name.")},breadcrumb:function(e){var t=this,n=t.name;e&&(n+=" (read-only)"),window.App.naviView?$("#subNavigationBar .breadcrumb").html("View: "+arangoHelper.escapeHtml(n)):window.setTimeout((function(){t.breadcrumb()}),100)}})}()},function(e,t,n){var i=n(34);!function(){"use strict";window.ViewsView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("viewsView.ejs"),initialize:function(){},refreshRate:1e4,sortOptions:{desc:!1},searchString:"",remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #createView":"createView","click #viewsToggle":"toggleSettingsDropdown","click .tile-view":"gotoView","keyup #viewsSearchInput":"search","click #viewsSearchSubmit":"search","click #viewsSortDesc":"sorting"},checkVisibility:function(){$("#viewsDropdown").is(":visible")?this.dropdownVisible=!0:this.dropdownVisible=!1,arangoHelper.setCheckboxStatus("#viewsDropdown")},checkIfInProgress:function(){if(window.location.hash.search("views")>-1){var e=this;frontendConfig.ldapEnabled||window.arangoHelper.syncAndReturnUnfinishedAardvarkJobs("view",(function(t,n){t?console.log("Could not check locked views"):(n.length>0?_.each(n,(function(e){$("#"+e.collection)?($("#"+e.collection+" .collection-type-icon").removeClass("fa-clone"),$("#"+e.collection+" .collection-type-icon").addClass("fa-spinner").addClass("fa-spin")):($("#"+e.collection+" .collection-type-icon").addClass("fa-clone"),$("#"+e.collection+" .collection-type-icon").removeClass("fa-spinner").removeClass("fa-spin"))})):$(".tile .collection-type-icon").addClass("fa-clone").removeClass("fa-spinner").removeClass("fa-spin"),window.setTimeout((function(){e.checkIfInProgress()}),e.refreshRate))}))}},sorting:function(){$("#viewsSortDesc").is(":checked")?this.setSortingDesc(!0):this.setSortingDesc(!1),this.checkVisibility(),this.render()},setSortingDesc:function(e){this.sortOptions.desc=e},search:function(){this.setSearchString(arangoHelper.escapeHtml($("#viewsSearchInput").val())),this.render()},toggleSettingsDropdown:function(){var e=this;$("#viewsSortDesc").attr("checked",this.sortOptions.desc),$("#viewsToggle").toggleClass("activated"),$("#viewsDropdown2").slideToggle(200,(function(){e.checkVisibility()}))},render:function(e){e?this.$el.html(this.template.render({views:this.applySorting(e.result),searchString:this.getSearchString()})):(this.getViews(),this.$el.html(this.template.render({views:[],searchString:this.getSearchString()}))),!0===this.dropdownVisible&&($("#viewsSortDesc").attr("checked",this.sortOptions.desc),$("#viewsToggle").addClass("activated"),$("#viewsDropdown2").show()),$("#viewsSortDesc").attr("checked",this.sortOptions.desc),arangoHelper.setCheckboxStatus("#viewsDropdown");var t=$("#viewsSearchInput"),n=t.val().length;t.focus(),t[0].setSelectionRange(n,n),arangoHelper.checkDatabasePermissions(this.setReadOnly.bind(this)),this.events["click .graphViewer-icon-button.add"]=this.addRow.bind(this),this.events["click .graphViewer-icon-button.delete"]=this.removeRow.bind(this)},setReadOnly:function(){this.readOnly=!0,$("#createView").parent().parent().addClass("disabled")},setSearchString:function(e){this.searchString=e},getSearchString:function(){return this.searchString.toLowerCase()},applySorting:function(e){var t=this;e=_.sortBy(e,"name"),this.sortOptions.desc&&(e=e.reverse());var n=[];return""===this.getSearchString()?e:(_.each(e,(function(e,i){e&&e.name&&-1!==e.name.toLowerCase().indexOf(t.getSearchString())&&n.push(e)})),n)},gotoView:function(e){var t=$(e.currentTarget).attr("id");if(t){var n="view/"+encodeURIComponent(t);window.App.navigate(n,{trigger:!0})}},getViews:function(){var e=this;this.collection.fetch({success:function(t){var n={result:[]};e.collection.each((function(e){n.result.push(e.toJSON())})),e.render(n),e.checkIfInProgress()},error:function(e){console.log(e)}})},createView:function(e){this.readOnly||(e.preventDefault(),this.createViewModal())},createViewModal:function(){var e=[],t=[],n=[],i=[],a=[],r=[];t.push(window.modalView.createTextEntry("newName","Name","",!1,"Name",!0,[{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only symbols, "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No view name given."}])),t.push(window.modalView.createReadOnlyEntry(void 0,"Type","arangosearch",void 0,void 0,!1,void 0)),t.push(window.modalView.createSelectEntry("newPrimarySortCompression","Primary Sort Compression","lz4",!1,[window.modalView.createOptionEntry("LZ4","lz4"),window.modalView.createOptionEntry("None","none")],"width: unset;")),i.push(window.modalView.createTableEntry("newPrimarySort",{noLabel:!0},["Field","Direction"],[[window.modalView.createTextEntry(void 0,void 0,"",!1,void 0,!0,[{rule:Joi.string().required(),msg:"No field name given."}]),window.modalView.createSelectEntry(_.uniqueId("direction-"),void 0,"asc",!1,[window.modalView.createOptionEntry("ASC","asc"),window.modalView.createOptionEntry("DESC","desc")])]],void 0,"padding-left: 0;")),a.push(window.modalView.createTableEntry("newStoredValues",{noLabel:!0},["Fields","Compression"],[[window.modalView.createSelect2Entry(_.uniqueId("field-"),null,null,null,null,!0,!1,!1,null),window.modalView.createSelectEntry(_.uniqueId("compression-"),void 0,"lz4",!1,[window.modalView.createOptionEntry("LZ4","lz4"),window.modalView.createOptionEntry("None","none")])]],void 0,"margin-top: 10px; padding-left: 0;")),r.push(window.modalView.createTextEntry("newWriteBufferIdle","Write Buffer Idle",64,!1,void 0,!1,[{rule:Joi.number().integer().min(0),msg:"Only non-negative integers allowed."}])),r.push(window.modalView.createTextEntry("newWriteBufferActive","Write Buffer Active","0",!1,void 0,!1,[{rule:Joi.number().integer().min(0),msg:"Only non-negative integers allowed."}])),r.push(window.modalView.createTextEntry("newWriteBufferSizeMax","Write Buffer Size Max",33554432,!1,void 0,!1,[{rule:Joi.number().integer().min(0),msg:"Only non-negative integers allowed."}])),n.push({header:"Primary Sort",content:i}),n.push({header:"Stored Values",content:a}),n.push({header:"Advanced",content:r}),e.push(window.modalView.createSuccessButton("Create",this.submitCreateView.bind(this))),window.modalView.show("modalTable.ejs","Create New View",e,t,n,void 0,this.events),this.select2FixSearchBar()},select2FixSearchBar:function(){$(".select2-search-field input").on("focusout",(function(e){$(".select2-drop").is(":visible")&&($("#select2-search-field input").is(":focus")||window.setTimeout((function(){$(e.currentTarget).parent().parent().parent().select2("close")}),200))}))},addRow:function(e){e.stopPropagation();var t,n=$(e.currentTarget).closest("table").find("tbody").children().last(),i=!1;n.find(".select2-container").length>0&&(i=!0);var a=(t=i?n.clone(!1):n.clone(!0)).attr("id").split("-");a[a.length-1]=parseInt(a[a.length-1])+1;var r=a.join("-");t.attr("id",r);var o="";if(i){o=r+"-select2",t.find("td:first-child").html('<input type="hidden" id="'+o+'"/>')}else{var s=t.find("input,textarea");s.val(""),s.attr("id",(function(e,t){return t?"".concat(t.split("-")[0],"-").concat(_.uniqueId()):t}))}if(!t.find("button.delete").length){var l=t.children().last().find("span");$('\n            <button style="margin-left: 5px;"\n                    class="graphViewer-icon-button gv_internal_remove_line gv-icon-small delete addDelete">\n            </button>\n        ').appendTo(l)}t.insertAfter(n),i&&(window.modalView.handleSelect2Row({id:o,width:"resolve"}),this.select2FixSearchBar())},removeRow:function(e){e.stopPropagation(),$(e.currentTarget).closest("tr").remove()},submitCreateView:function(){var e=this,t=$("#newName").val(),n=$("#newPrimarySortCompression").val(),a=parseInt($("#newWriteBufferIdle").val()),r=parseInt($("#newWriteBufferActive").val()),o=parseInt($("#newWriteBufferSizeMax").val()),s=[];$("#newPrimarySort tbody").children().each((function(e,t){var n=$(t).find("input,select").map((function(e,t){return t.value})),a=i(n,2),r=a[0],o=a[1];r&&s.push({field:r,direction:o||"asc"})}));var l=[];$("#newStoredValues tbody").children().each((function(e,t){var n=$(t).find(".select2-container"),i=$(t).find("select").val();if(n){var a=$(n).select2("data"),r=[];a.length>0&&_.each(a,(function(e,t){r.push(e.text)})),l.push({fields:r,compression:i||"lz4"})}}));var c=JSON.stringify({name:t,type:"arangosearch",primarySortCompression:n,writebufferIdle:a,writebufferActive:r,writebufferSizeMax:o,primarySort:s,storedValues:l});$.ajax({type:"POST",cache:!1,url:arangoHelper.databaseUrl("/_api/view"),contentType:"application/json",processData:!1,data:c,success:function(t){window.modalView.hide(),arangoHelper.arangoNotification("View","Creation in progress. This may take a while."),e.getViews()},error:function(e){e.responseJSON&&e.responseJSON.errorMessage&&arangoHelper.arangoError("Views",e.responseJSON.errorMessage)}})}})}()},function(e,t){!function(){"use strict";window.arangoCollectionModel=Backbone.Model.extend({idAttribute:"name",urlRoot:arangoHelper.databaseUrl("/_api/collection"),defaults:{id:"",name:"",status:"",type:"",isSystem:!1,picture:"",locked:!1,desc:void 0},getProperties:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/properties"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(t){e(!0,t)}})},getShards:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/shards?details=true"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(){e(!0)}})},getFigures:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/figures"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(){e(!0)}})},getFiguresCombined:function(e,t){var n=this;this.getFigures((function(i,a){if(i)e(!0);else{var r=a;t?n.getShards((function(t,n){t?e(!0):e(!1,Object.assign(r,{shards:n.shards}))})):e(!1,r)}}))},getShardCounts:function(e){frontendConfig.isCluster&&$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/count?details=true"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(){e(!0)}})},getRevision:function(e,t){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/revision"),contentType:"application/json",processData:!1,success:function(n){e(!1,n,t)},error:function(){e(!0)}})},getIndex:function(e){var t=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/index/?collection="+encodeURIComponent(this.get("id"))),contentType:"application/json",processData:!1,success:function(n){e(!1,n,t.get("id"))},error:function(n){e(!0,n,t.get("id"))}})},createIndex:function(e,t){var n=this;$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/index?collection="+encodeURIComponent(n.get("id"))),headers:{"x-arango-async":"store"},data:JSON.stringify(e),contentType:"application/json",processData:!1,success:function(e,i,a){a.getResponseHeader("x-arango-async-id")?(window.arangoHelper.addAardvarkJob({id:a.getResponseHeader("x-arango-async-id"),type:"index",desc:"Creating Index",collection:n.get("id")}),t(!1,e)):t(!0,e)},error:function(e){t(!0,e)}})},deleteIndex:function(e,t){var n=this;$.ajax({cache:!1,type:"DELETE",url:arangoHelper.databaseUrl("/_api/index/"+encodeURIComponent(this.get("name"))+"/"+encodeURIComponent(e)),headers:{"x-arango-async":"store"},success:function(e,i,a){a.getResponseHeader("x-arango-async-id")?(window.arangoHelper.addAardvarkJob({id:a.getResponseHeader("x-arango-async-id"),type:"index",desc:"Removing Index",collection:n.get("id")}),t(!1,e)):t(!0,e)},error:function(e){t(!0,e)}}),t()},truncateCollection:function(){$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/truncate"),success:function(){arangoHelper.arangoNotification("Collection truncated.")},error:function(e){arangoHelper.arangoError("Collection error: "+e.responseJSON.errorMessage)}})},warmupCollection:function(){$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/loadIndexesIntoMemory"),success:function(){arangoHelper.arangoNotification("Loading indexes into memory.")},error:function(e){arangoHelper.arangoError("Collection error: "+e.responseJSON.errorMessage)}})},loadCollection:function(e){$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/load"),success:function(){e(!1)},error:function(){e(!0)}}),e()},unloadCollection:function(e){$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/unload?flush=true"),success:function(){e(!1)},error:function(){e(!0)}}),e()},renameCollection:function(e,t){var n=this;$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/rename"),data:JSON.stringify({name:e}),contentType:"application/json",processData:!1,success:function(){n.set("name",e),t(!1)},error:function(e){t(!0,e)}})},changeCollection:function(e,t,n,i){"true"===e?e=!0:"false"===e&&(e=!1);var a={waitForSync:e};return t&&(a.replicationFactor=parseInt(t,10)),n&&(a.minReplicationFactor=parseInt(n,10)),$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/properties"),data:JSON.stringify(a),contentType:"application/json",processData:!1,success:function(){i(!1)},error:function(e){i(!0,e)}}),!1},changeValidation:function(e,t){e||(e=null);var n={schema:e};return $.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/properties"),data:JSON.stringify(n),contentType:"application/json",processData:!1,success:function(){t(!1)},error:function(e){t(!0,e)}}),!1}})}()},function(e,t){window.DatabaseModel=Backbone.Model.extend({idAttribute:"name",initialize:function(){},isNew:function(){"use strict";return!1},sync:function(e,t,n){"use strict";return"update"===e&&(e="create"),Backbone.sync(e,t,n)},url:arangoHelper.databaseUrl("/_api/database"),defaults:{}})},function(e,t){window.arangoDocumentModel=Backbone.Model.extend({initialize:function(){},urlRoot:arangoHelper.databaseUrl("/_api/document"),defaults:{_id:"",_rev:"",_key:""},getSorted:function(){"use strict";var e=this,t=Object.keys(e.attributes).sort((function(e,t){var n=arangoHelper.isSystemAttribute(e);return n!==arangoHelper.isSystemAttribute(t)?n?-1:1:e<t?-1:1})),n={};return _.each(t,(function(t){n[t]=e.attributes[t]})),n}})},function(e,t){!function(){"use strict";window.ArangoQuery=Backbone.Model.extend({urlRoot:arangoHelper.databaseUrl("/_api/user"),defaults:{name:"",type:"custom",value:""}})}()},function(e,t){window.Replication=Backbone.Model.extend({defaults:{state:{},server:{}},initialize:function(){}})},function(e,t){},function(e,t){window.Statistics=Backbone.Model.extend({defaults:{},url:function(){"use strict";return"/_admin/statistics"}})},function(e,t){window.StatisticsDescription=Backbone.Model.extend({defaults:{figures:"",groups:""},url:function(){"use strict";return"/_admin/statistics-description"}})},function(e,t){window.Users=Backbone.Model.extend({defaults:{user:"",active:!1,extra:{}},idAttribute:"user",parse:function(e){return this.isNotNew=!0,e},isNew:function(){return!this.isNotNew},url:function(){return this.isNew()||""===this.get("user")?arangoHelper.databaseUrl("/_api/user"):arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.get("user")))},setPassword:function(e){$.ajax({cache:!1,type:"PATCH",url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.get("user"))),data:JSON.stringify({passwd:e}),contentType:"application/json",processData:!1})},setExtras:function(e,t,n){$.ajax({cache:!1,type:"PATCH",url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.get("user"))),data:JSON.stringify({extra:{name:e,img:t}}),contentType:"application/json",processData:!1,success:function(e){n(!1,e)},error:function(){n(!0)}})}})},function(e,t){!function(){"use strict";window.arangoViewModel=Backbone.Model.extend({idAttribute:"name",urlRoot:arangoHelper.databaseUrl("/_api/view"),defaults:{id:"",name:"",type:"",globallyUniqueId:""},getProperties:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/view/"+encodeURIComponent(this.get("name"))+"/properties"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(t){e(!0,t)}})},patchProperties:function(e,t){var n=this;$.ajax({type:"PUT",cache:!1,data:JSON.stringify(e),url:arangoHelper.databaseUrl("/_api/view/"+encodeURIComponent(this.get("name"))+"/properties"),headers:{"x-arango-async":"store"},contentType:"application/json",processData:!1,success:function(e,i,a){a.getResponseHeader("x-arango-async-id")?(window.arangoHelper.addAardvarkJob({id:a.getResponseHeader("x-arango-async-id"),type:"view",desc:"Patching View",collection:n.get("name")}),t(!1,e,!0)):t(!0,e),t(!1,e,!1)}})},deleteView:function(e){var t=this;$.ajax({cache:!1,type:"DELETE",url:arangoHelper.databaseUrl("/_api/view/"+encodeURIComponent(t.get("name"))),headers:{"x-arango-async":"store"},success:function(n,i,a){a.getResponseHeader("x-arango-async-id")?(window.arangoHelper.addAardvarkJob({id:a.getResponseHeader("x-arango-async-id"),type:"view",desc:"Removing View",collection:t.get("name")}),e(!1,n)):e(!0,n)},error:function(t){e(!0,t)}})},renameView:function(e,t){var n=this;$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/view/"+encodeURIComponent(n.get("name"))+"/rename"),data:JSON.stringify({name:e}),contentType:"application/json",processData:!1,success:function(){n.set("name",e),t(!1)},error:function(e){t(!0,e)}})}})}()},function(e,t){!function(){"use strict";window.ClusterCoordinator=Backbone.Model.extend({defaults:{name:"",id:"",status:"ok",address:"",protocol:""},idAttribute:"name",forList:function(){return{name:this.get("name"),status:this.get("status"),url:this.get("url")}}})}()},function(e,t){!function(){"use strict";window.ClusterServer=Backbone.Model.extend({defaults:{name:"",address:"",role:"",status:"ok"},idAttribute:"name",forList:function(){return{name:this.get("name"),address:this.get("address"),status:this.get("status")}}})}()},function(e,t){!function(){"use strict";window.Coordinator=Backbone.Model.extend({defaults:{address:"",protocol:"",name:"",status:""}})}()},function(e,t){!function(){"use strict";window.CurrentDatabase=Backbone.Model.extend({url:arangoHelper.databaseUrl("/_api/database/current",frontendConfig.db),parse:function(e){return e.result}})}()},function(e,t){!function(){"use strict";var e=function(e,t,n,i,a,r){var o={contentType:"application/json",processData:!1,type:n};t=t||function(){},r=_.extend({mount:e.encodedMount()},r);var s=_.reduce(r,(function(e,t,n){return e+encodeURIComponent(n)+"="+encodeURIComponent(t)+"&"}),"?");o.url=arangoHelper.databaseUrl("/_admin/aardvark/foxxes"+(i?"/"+i:"")+s.slice(0,s.length-1)),void 0!==a&&(o.data=JSON.stringify(a)),$.ajax(o).then((function(e){t(null,e)}),(function(e){window.xhr=e,t(_.extend(e.status?new Error(e.responseJSON?e.responseJSON.errorMessage:e.responseText):new Error("Network Error"),{statusCode:e.status}))}))};window.Foxx=Backbone.Model.extend({idAttribute:"mount",defaults:{author:"Unknown Author",name:"",version:"Unknown Version",description:"No description",license:"Unknown License",contributors:[],scripts:{},config:{},deps:{},git:"",system:!1,development:!1},isNew:function(){return!1},encodedMount:function(){return encodeURIComponent(this.get("mount"))},destroy:function(t,n){e(this,n,"DELETE",void 0,void 0,t)},isBroken:function(){return!1},needsAttention:function(){return this.isBroken()||this.needsConfiguration()||this.hasUnconfiguredDependencies()},needsConfiguration:function(){return _.any(this.get("config"),(function(e){return void 0===e.current&&!1!==e.required}))},hasUnconfiguredDependencies:function(){return _.any(this.get("deps"),(function(e){return void 0===e.current&&!1!==e.definition.required}))},getConfiguration:function(t){e(this,function(e,n){e||this.set("config",n),"function"===typeof t&&t(e,n)}.bind(this),"GET","config")},setConfiguration:function(t,n){e(this,n,"PATCH","config",t)},getDependencies:function(t){e(this,function(e,n){e||this.set("deps",n),"function"===typeof t&&t(e,n)}.bind(this),"GET","deps")},setDependencies:function(t,n){e(this,n,"PATCH","deps",t)},toggleDevelopment:function(t,n){e(this,function(e,i){e||this.set("development",t),"function"===typeof n&&n(e,i)}.bind(this),"PATCH","devel",t)},runScript:function(t,n,i){e(this,i,"POST","scripts/"+t,n)},runTests:function(t,n){e(this,(function(e,t){"function"===typeof n&&n(e?e.responseJSON:e,t)}),"POST","tests",t)},isSystem:function(){return this.get("system")},isDevelopment:function(){return this.get("development")},download:function(){e(this,function(e,t){e?console.error(e.responseJSON):window.location.href=arangoHelper.databaseUrl("/_admin/aardvark/foxxes/download/zip?mount="+this.encodedMount()+"&nonce="+t.nonce)}.bind(this),"POST","download/nonce")},fetchThumbnail:function(e){var t=new XMLHttpRequest;t.responseType="blob",t.onload=function(){this.thumbnailUrl=URL.createObjectURL(t.response),e()}.bind(this),t.onerror=e,t.open("GET","foxxes/thumbnail?mount="+this.encodedMount()),window.arangoHelper.getCurrentJwt()&&t.setRequestHeader("Authorization","bearer "+window.arangoHelper.getCurrentJwt()),t.send()}})}()},function(e,t){!function(){"use strict";window.FoxxRepoModel=Backbone.Model.extend({idAttribute:"name",defaults:{name:"",description:"No description",author:"Unknown Author",latestVersion:"Unknown Version",legacy:!1,categories:"No category",defaultThumbnailUrl:"img/ArangoDB-Foxx-logo-bg.png"},httpGetAsync:function(e,t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&200===i.status?n?t(i.responseText,n):t(i.responseText):4===i.readyState&&404===i.status&&t()},i.open("GET",e,!0),i.send(null)},manifest:null,fetchManifest:function(e,t){var n=this;if(this.manifest)e&&e();else{var i="https://raw.githubusercontent.com/"+n.get("location")+"/v"+n.get("latestVersion")+"/manifest.json";this.httpGetAsync(i,(function(e,i){try{var a=JSON.parse(e);"object"===typeof a&&n.set("manifest",a),i(),t()}catch(r){i&&i(!0),t&&t(!0)}}),e)}},fetchReadme:function(e){this.httpGetAsync(this.getReadmeUrl(),e)},getReadmeUrl:function(){return"https://raw.githubusercontent.com/"+this.get("location")+"/v"+this.get("latestVersion")+"/README.md"},getThumbnailUrl:function(){return"https://raw.githubusercontent.com/"+this.get("location")+"/v"+this.get("latestVersion")+"/"+this.get("manifest").thumbnail},fetchThumbnail:function(e){var t=this,n=function(e){e&&e(t.manifest.thumbnail)};this.manifest?n(e):this.fetchManifest(n,e)}})}()},function(e,t){!function(){"use strict";window.Graph=Backbone.Model.extend({idAttribute:"_key",urlRoot:arangoHelper.databaseUrl("/_api/gharial"),isNew:function(){return!this.get("_id")},parse:function(e){return e.graph||e},addEdgeDefinition:function(e,t){t&&(e.options=t),$.ajax({async:!1,type:"POST",url:this.urlRoot+"/"+encodeURIComponent(this.get("_key"))+"/edge",data:JSON.stringify(e),error:function(e){arangoHelper.arangoError(e.responseJSON.errorMessage)}})},deleteEdgeDefinition:function(e){$.ajax({async:!1,type:"DELETE",url:this.urlRoot+"/"+encodeURIComponent(this.get("_key"))+"/edge/"+encodeURIComponent(e),error:function(e){arangoHelper.arangoError(e.responseJSON.errorMessage)}})},modifyEdgeDefinition:function(e,t){t&&(e.options=t),$.ajax({async:!1,type:"PUT",url:this.urlRoot+"/"+encodeURIComponent(this.get("_key"))+"/edge/"+encodeURIComponent(e.collection),data:JSON.stringify(e),error:function(e){arangoHelper.arangoError(e.responseJSON.errorMessage)}})},addVertexCollection:function(e){$.ajax({async:!1,type:"POST",url:this.urlRoot+"/"+encodeURIComponent(this.get("_key"))+"/vertex",data:JSON.stringify({collection:e}),error:function(e){arangoHelper.arangoError(e.responseJSON.errorMessage)}})},deleteVertexCollection:function(e){$.ajax({async:!1,type:"DELETE",url:this.urlRoot+"/"+encodeURIComponent(this.get("_key"))+"/vertex/"+encodeURIComponent(e),error:function(e){arangoHelper.arangoError(e.responseJSON.errorMessage)}})},defaults:{name:"",edgeDefinitions:[],orphanCollections:[]}})}()},function(e,t){!function(){"use strict";window.ArangoMetricModel=Backbone.Model.extend({defaults:{name:"",type:"",info:"",metrics:[]}})}()},function(e,t){!function(){"use strict";window.newArangoLog=Backbone.Model.extend({defaults:{lid:"",level:"",timestamp:"",text:"",totalAmount:""},getLogStatus:function(){switch(this.get("level")){case 1:return"Error";case 2:return"Warning";case 3:return"Info";case 4:return"Debug";default:return"Unknown"}}})}()},function(e,t){!function(){"use strict";window.Notification=Backbone.Model.extend({defaults:{title:"",date:0,content:"",priority:"",tags:"",seen:!1}})}()},function(e,t){!function(){"use strict";window.queryManagementModel=Backbone.Model.extend({defaults:{id:"",query:"",bindVars:"",started:"",runTime:""}})}()},function(e,t){window.UserConfig=Backbone.Model.extend({defaults:{graphs:"",queries:[]},ldapEnabled:!1,initialize:function(e){this.ldapEnabled=e.ldapEnabled,this.getUser()},model:window.UserConfigModel,fetch:function(e){e=_.extend({parse:!0},e);var t=this,n=e.success;if(!this.ldapEnabled)return Backbone.Collection.prototype.fetch.call(this,e);this.getLocalConfig(),e.success=void(n&&n.call(e.context,t,void 0,e))},getConfigPath:function(){return frontendConfig.db+"-"+this.username+"-config"},getLocalConfig:function(){var e=sessionStorage.getItem(this.getConfigPath());try{e=JSON.parse(e)}catch(t){}return e?this.set(e):this.set({}),this.toJSON()},saveLocalConfig:function(){sessionStorage.setItem(this.getConfigPath(),JSON.stringify(this.toJSON()))},getLocalItem:function(e,t){return t&&t(this.get(e)),this.get(e)},setLocalItem:function(e,t,n){try{this.set(e,t),this.saveLocalConfig(),n&&n()}catch(i){}},getUser:function(){window.App.currentUser?this.username=window.App.currentUser:this.username="root"},parse:function(e){return e.result},url:function(){return arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.username)+"/config")},setItem:function(e,t,n){if(this.ldapEnabled)this.setLocalItem(e,t,n);else{var i=this;$.ajax({type:"PUT",cache:!1,url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.username)+"/config/"+encodeURIComponent(e)),contentType:"application/json",processData:!1,data:JSON.stringify({value:t}),async:!0,success:function(){i.set(e,t),n&&n()},error:function(){arangoHelper.arangoError("User configuration","Could not update user configuration for key: "+e)}})}},getItem:function(e,t){this.ldapEnabled?this.getLocalItem(e,t):$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.username)+"/config/"+encodeURIComponent(e)),contentType:"application/json",processData:!1,async:!0,success:function(e){t(e)},error:function(){arangoHelper.arangoError("User configuration","Could not fetch user configuration for key: "+e)}})}})},function(e,t){!function(){"use strict";window.AutomaticRetryCollection=Backbone.Collection.extend({_retryCount:0,checkRetries:function(){var e=this;return this.updateUrl(),!(this._retryCount>10)||(window.setTimeout((function(){e._retryCount=0}),1e4),window.App.clusterUnreachable(),!1)},successFullTry:function(){this._retryCount=0},failureTry:function(e,t,n){401===n.status?window.App.requestAuth():(window.App.clusterPlan.rotateCoordinator(),this._retryCount++,e())}})}()},function(e,t){!function(){"use strict";window.PaginatedCollection=Backbone.Collection.extend({page:0,pagesize:10,totalAmount:null,getPage:function(){return this.page+1},setPage:function(e){e>=this.getLastPageNumber()&&null!==this.totalAmount?this.page=this.getLastPageNumber()-1:this.page=e<1?0:e-1},getLastPageNumber:function(){return Math.max(Math.ceil(this.totalAmount/this.pagesize),1)},getOffset:function(){return this.page*this.pagesize},getPageSize:function(){return this.pagesize},setPageSize:function(e){if("all"===e)this.pagesize="all";else try{e=parseInt(e,10),this.pagesize=e}catch(t){}},setToFirst:function(){this.page=0},setToLast:function(){this.setPage(this.getLastPageNumber())},setToPrev:function(){this.setPage(this.getPage()-1)},setToNext:function(){this.setPage(this.getPage()+1)},setTotal:function(e){this.totalAmount=e},getTotal:function(){return this.totalAmount},setTotalMinusOne:function(){this.totalAmount--}})}()},function(e,t){window.ClusterStatisticsCollection=Backbone.Collection.extend({model:window.Statistics,url:"/_admin/statistics",updateUrl:function(){this.url=window.App.getNewRoute(this.host)+this.url},initialize:function(e,t){this.host=t.host,window.App.registerForUpdate(this)}})},function(e,t){!function(){"use strict";window.ArangoCollections=Backbone.Collection.extend({url:arangoHelper.databaseUrl("/_api/collection"),model:arangoCollectionModel,searchOptions:{searchPhrase:null,includeSystem:!1,includeDocument:!0,includeEdge:!0,sortBy:"name",sortOrder:1},translateStatus:function(e){switch(e){case 0:return"corrupted";case 3:return"loaded";case 5:return"deleted";default:return"unknown"}},translateTypePicture:function(e){var t="";switch(e){case"document":t+="fa-file-text-o";break;case"edge":t+="fa-share-alt";break;case"unknown":t+="fa-question";break;default:t+="fa-cogs"}return t},parse:function(e){var t=this;return _.each(e.result,(function(e){e.isSystem=arangoHelper.isSystemCollection(e),e.type=arangoHelper.collectionType(e),e.status=t.translateStatus(e.status),e.picture=t.translateTypePicture(e.type)})),e.result},getPosition:function(e){var t,n=this.getFiltered(this.searchOptions),i=null,a=null;for(t=0;t<n.length;++t)n[t].get("name")===e&&(t>0&&(i=n[t-1]),t<n.length-1&&(a=n[t+1]));return{prev:i,next:a}},getFiltered:function(e){var t=[],n=[];if(null!==e.searchPhrase){var i=e.searchPhrase.toLowerCase();i=i.replace(/\s+/g," ").replace(/(^\s+|\s+$)/g,""),n=i.split(" ")}return this.models.forEach((function(i){if(n.length>0){var a,r=i.get("name").toLowerCase();for(a=0;a<n.length;++a)if(-1===r.indexOf(n[a]))return}!1===e.includeSystem&&i.get("isSystem")||!1===e.includeEdge&&"edge"===i.get("type")||!1===e.includeDocument&&"document"===i.get("type")||t.push(i)})),t.sort((function(t,n){var i,a;return"type"===e.sortBy?(i=t.get("type")+" "+t.get("name").toLowerCase(),a=n.get("type")+" "+n.get("name").toLowerCase()):(i=t.get("name").toLowerCase(),a=n.get("name").toLowerCase()),i!==a?e.sortOrder*(i<a?-1:1):0})),t},newCollection:function(e,t){var n={};n.name=e.collName,n.waitForSync=e.wfs,n.isSystem=e.isSystem,n.type=parseInt(e.collType,10),e.shards&&(n.numberOfShards=e.shards),n.shardKeys=e.shardKeys,e.smartJoinAttribute&&""!==e.smartJoinAttribute&&(n.smartJoinAttribute=e.smartJoinAttribute),n.distributeShardsLike=e.distributeShardsLike;var i=new RegExp(/^[0-9]+$/);e.replicationFactor&&(n.replicationFactor=e.replicationFactor,i.test(e.replicationFactor)&&(n.replicationFactor=JSON.parse(e.replicationFactor))),e.writeConcern&&(n.writeConcern=e.writeConcern,i.test(e.writeConcern)&&(n.writeConcern=JSON.parse(e.writeConcern))),$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/collection"),data:JSON.stringify(n),contentType:"application/json",processData:!1,success:function(e){t(!1,e)},error:function(e){t(!0,e)}})}})}()},function(e,t){!function(){"use strict";window.ArangoDatabase=Backbone.Collection.extend({model:window.DatabaseModel,sortOptions:{desc:!1},url:arangoHelper.databaseUrl("/_api/database/user"),comparator:function(e,t){var n=e.get("name").toLowerCase(),i=t.get("name").toLowerCase();return!0===this.sortOptions.desc?n<i?1:n>i?-1:0:n>i?1:n<i?-1:0},parse:function(e){if(e)return _.map(e.result,(function(e){return{name:e}}))},initialize:function(){var e=this;this.fetch({cache:!1}).done((function(){e.sort()}))},setSortingDesc:function(e){this.sortOptions.desc=e},getDatabases:function(){var e=this;return this.fetch({cache:!1}).done((function(){e.sort()})),this.models},getDatabasesForUser:function(e){$.ajax({type:"GET",cache:!1,url:this.url,contentType:"application/json",processData:!1,success:function(t){e(!1,t.result.sort())},error:function(){e(!0,[])}})},createDatabaseURL:function(e,t,n){var i=window.location,a=window.location.hash;t=t?"SSL"===t||"https:"===t?"https:":"http:":i.protocol,n=n||i.port;var r=t+"//"+window.location.hostname+":"+n+"/_db/"+encodeURIComponent(e)+"/_admin/aardvark/standalone.html";if(a){var o=a.split("/")[0];0===o.indexOf("#collection")&&(o="#collections"),0===o.indexOf("#service")&&(o="#services"),r+=o}return r},getCurrentDatabase:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/database/current"),contentType:"application/json",processData:!1,success:function(t){200===t.code?e(!1,t.result.name):e(!1,t)},error:function(t){e(!0,t)}})},hasSystemAccess:function(e){this.getDatabasesForUser((function(t,n){t?arangoHelper.arangoError("DB","Could not fetch databases"):e(!1,_.includes(n,"_system"))}))}})}()},function(e,t){window.ArangoDocument=Backbone.Collection.extend({url:"/_api/document/",model:arangoDocumentModel,collectionInfo:{},deleteEdge:function(e,t,n){this.deleteDocument(e,t,n)},deleteDocument:function(e,t,n){var i={keys:[t],collection:e};$.ajax({cache:!1,type:"PUT",contentType:"application/json",data:JSON.stringify(i),url:arangoHelper.databaseUrl("/_api/simple/remove-by-keys"),success:function(){n(!1)},error:function(){n(!0)}})},addDocument:function(e,t,n){this.createTypeDocument(e,t,n)},createTypeEdge:function(e,t,n,i,a,r){var o;try{i&&(a._key=i),a._from=t,a._to=n,o=JSON.stringify(a)}catch(x){return a={},this.createTypeEdge(e,t,n,i,a,r)}$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/document?collection="+encodeURIComponent(e)),data:o,contentType:"application/json",processData:!1,success:function(e){r(!1,e._id)},error:function(e){r(!0,e._id,e.responseJSON)}})},createTypeDocument:function(e,t,n,i,a,r,o,s,l){var c=n;try{r&&o&&t?(c._key=o+":"+t,c[r]=o):s&&l?(t&&(c._key=l+":"+t),c[s]=l):t&&(c._key=t)}catch(x){return n={},this.createTypeDocument(e,t,n,i,a,r,o,s,l)}c=JSON.stringify(c);var d=arangoHelper.databaseUrl("/_api/document?collection="+encodeURIComponent(e));a&&(d+="?returnNew=true"),$.ajax({cache:!1,type:"POST",url:d,data:c,contentType:"application/json",processData:!1,success:function(e){i(!1,a?e:e._id)},error:function(e){i(!0,e._id,e.responseJSON)}})},getCollectionInfo:function(e,t,n){var i=this;$.ajax({cache:!1,type:"GET",url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(e)+"?"+arangoHelper.getRandomToken()),contentType:"application/json",processData:!1,success:function(e){i.collectionInfo=e,t(!1,e,n)},error:function(e){t(!0,e,n)}})},getEdge:function(e,t,n){this.getDocument(e,t,n)},getDocument:function(e,t,n){var i=this;this.clearDocument();var a={keys:[t],collection:e};$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/simple/lookup-by-keys"),contentType:"application/json",data:JSON.stringify(a),processData:!1,success:function(a){a.documents[0]?(i.add(a.documents[0]),a.documents[0]._from&&a.documents[0]._to?n(!1,a,"edge"):n(!1,a,"document")):(i.add(!0,a),n(!0,a,e+"/"+t))},error:function(a){i.add(!0,a),arangoHelper.arangoError("Error",a.responseJSON.errorMessage+" - error number: "+a.responseJSON.errorNum),n(!0,a,e+"/"+t)}})},saveEdge:function(e,t,n,i,a,r){this.saveDocument(e,t,a,r,n,i)},saveDocument:function(e,t,n,i,a,r){if("string"===typeof n)try{n=JSON.parse(n)}catch(o){arangoHelper.arangoError("Could not parse document: "+n)}n._key=t,n._id=e+"/"+t,a&&r&&(n._from=a,n._to=r),$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/document/"+encodeURIComponent(e)+"?returnNew=true"),data:JSON.stringify([n]),contentType:"application/json",processData:!1,success:function(e){i(!1,e)},error:function(e){i(!0,e)}})},updateLocalDocument:function(e){this.clearDocument(),this.add(e)},clearDocument:function(){this.reset()}})},function(e,t){!function(){"use strict";window.ArangoDocuments=window.PaginatedCollection.extend({collectionID:1,filters:[],checkCursorTimer:void 0,MAX_SORT:12e3,lastQuery:{},type:"document",sortAttribute:"",smartJoinAttribute:null,smartGraphAttribute:null,url:arangoHelper.databaseUrl("/_api/documents"),model:window.arangoDocumentModel,setSmartJoinAttribute:function(e){this.smartJoinAttribute=e},getSmartJoinAttribute:function(){return this.smartJoinAttribute},setSmartGraphAttribute:function(e){this.smartGraphAttribute=e},getSmartGraphAttribute:function(){return this.smartGraphAttribute},loadCollectionConfig:function(e){var t=this;$.ajax({cache:!1,type:"GET",url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.collectionID)+"/count"),contentType:"application/json",processData:!1,success:function(n){(n.count||0===n.count)&&t.setTotal(n.count),n.smartJoinAttribute?t.setSmartJoinAttribute(n.smartJoinAttribute):t.setSmartJoinAttribute(null),n.smartGraphAttribute?t.setSmartGraphAttribute(n.smartGraphAttribute):t.setSmartGraphAttribute(null),e(!1)},error:function(){e(!0)}})},setCollection:function(e,t){this.resetFilter(),this.collectionID=e,t?this.setPage(t):this.setPage(1),this.loadCollectionConfig((function(e){e&&arangoHelper.arangoError("Documents","Could not fetch documents count")}))},setSort:function(e){this.sortAttribute=e},getSort:function(){return this.sortAttribute},addFilter:function(e,t,n){this.filters.push({attr:e,op:t,val:n})},setFiltersForQuery:function(e){return 0===this.filters.length?"":" FILTER "+_.map(this.filters,(function(t,n){var i="x.@attr"+n+" "+t.op+" @param"+n;return"LIKE"===t.op?e["param"+n]="%"+t.val+"%":"IN"===t.op||"NOT IN "===t.op?-1!==t.val.indexOf(",")?e["param"+n]=t.val.split(",").map((function(e){return e.replace(/(^ +| +$)/g,"")})):e["param"+n]=[t.val]:e["param"+n]=t.val,-1!==t.attr.indexOf(".")?e["attr"+n]=t.attr.split("."):e["attr"+n]=t.attr,i})).join(" && ")},setPagesize:function(e){this.setPageSize(e)},resetFilter:function(){this.filters=[]},moveDocument:function(e,t,n,i){var a={query:"FOR x IN @@fromCollection FILTER x._key == @filterid INSERT x IN @@toCollection",bindVars:{"@fromCollection":t,"@toCollection":n,filterid:e}},r={query:"FOR x in @@collection FILTER x._key == @filterid REMOVE x IN @@collection",bindVars:{"@collection":t,filterid:e}};window.progressView.show(),$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/cursor"),data:JSON.stringify(a),contentType:"application/json",success:function(){$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/cursor"),data:JSON.stringify(r),contentType:"application/json",success:function(){i&&i(!1),window.progressView.hide()},error:function(){i&&i(!0),window.progressView.hide(),arangoHelper.arangoError("Document error","Documents inserted, but could not be removed.")}})},error:function(){window.progressView.hide(),arangoHelper.arangoError("Document error","Could not move selected documents.")}})},getDocuments:function(e){var t,n,i,a=this,r=this.getPageSize();"all"===r&&(r=this.MAX_SORT+38e3),n={"@collection":this.collectionID},t='FOR x IN @@collection LET att = APPEND(SLICE(ATTRIBUTES(x), 0, 25), "_key", true)',t+=this.setFiltersForQuery(n),this.getTotal()<this.MAX_SORT&&""!==this.getSort()&&(t+=" SORT x.@sortAttribute",n.sortAttribute=this.getSort()),"all"!==n.count&&(t+=" LIMIT @offset, @count",n.offset=this.getOffset(),n.count=r),i={query:t+=" RETURN KEEP(x, att)",bindVars:n,batchSize:r},this.filters.length>0&&(i.options={fullCount:!0});$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/cursor"),data:JSON.stringify(i),headers:{"x-arango-async":"store"},contentType:"application/json",success:function(t,n,r){if(r.getResponseHeader("x-arango-async-id")){var o=r.getResponseHeader("x-arango-async-id");window.progressView.showWithDelay(1e3,"Fetching documents...",(function(){$.ajax({url:arangoHelper.databaseUrl("/_api/job/"+encodeURIComponent(o)+"/cancel"),type:"PUT",success:function(){window.clearTimeout(a.checkCursorTimer),arangoHelper.arangoNotification("Documents","Canceled operation."),$(".dataTables_empty").text("Canceled."),window.progressView.hide()}})})),function t(n){$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/job/"+encodeURIComponent(n)),contentType:"application/json",success:function(r,o,s){201===s.status?(window.progressView.toShow=!1,a.clearDocuments(),r.extra&&r.extra.stats&&void 0!==r.extra.stats.fullCount&&a.setTotal(r.extra.stats.fullCount),_.each(r.result,(function(e){a.add({id:e._id,rev:e._rev,key:e._key,content:e})})),a.lastQuery=i,e(!1,r)):204===s.status&&(a.checkCursorTimer=window.setTimeout((function(){t(n)}),500))},error:function(t){e(!1,t)}})}(o)}else e(!0,t)},error:function(t){e(!1,t)}})},clearDocuments:function(){this.reset()},buildDownloadDocumentQuery:function(){var e,t;return t={"@collection":this.collectionID},e="FOR x in @@collection",e+=this.setFiltersForQuery(t),this.getTotal()<this.MAX_SORT&&""!==this.getSort()&&(e+=" SORT x.@sortAttribute",t.sortAttribute=this.getSort()),{query:e+=" RETURN x",bindVars:t}},uploadDocuments:function(e,t){$.ajax({type:"POST",url:arangoHelper.databaseUrl("/_api/import?type=auto&details=true&collection="+encodeURIComponent(this.collectionID)+"&createCollection=false"),data:e,processData:!1,contentType:"json",dataType:"json",complete:function(e){e.responseJSON&&function(e){e.hasOwnProperty("error")&&delete e.error,e.errors>0?t(!0,"Info: "+JSON.stringify(e)):t(!1,"Info: "+JSON.stringify(e))}(e.responseJSON)},error:function(e){t(!0,e.responseJSON.errorMessage)}})}})}()},function(e,t){!function(){"use strict";window.ArangoLogs=window.PaginatedCollection.extend({upto:!1,loglevel:0,totalPages:0,parse:function(e){var t=[];return _.each(e.lid,(function(n,i){t.push({level:e.level[i],lid:n,topic:e.topic[i],text:e.text[i],timestamp:e.timestamp[i],totalAmount:e.totalAmount})})),this.totalAmount=e.totalAmount,this.totalPages=Math.ceil(this.totalAmount/this.pagesize),t},initialize:function(e){!0===e.upto&&(this.upto=!0),this.loglevel=e.loglevel,e.endpoint&&(this.endpoint=e.endpoint)},model:window.newArangoLog,url:function(){var e,t,n,i=this.totalAmount-(this.page+1)*this.pagesize;return i<0&&this.page===this.totalPages-1?(i=0,n=this.totalAmount%this.pagesize):n=this.pagesize,0===this.totalAmount&&(n=1),e=this.upto?"upto":"level",t="/_admin/log?".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(this.loglevel),"&size=").concat(encodeURIComponent(n),"&offset=").concat(encodeURIComponent(i)),this.endpoint&&(t+="&serverId=".concat(encodeURIComponent(this.endpoint))),this.lastInverseOffset=i,arangoHelper.databaseUrl(t)}})}()},function(e,t){!function(){"use strict";window.ArangoMetrics=Backbone.Collection.extend({txt:{},fetch:function(e){e=_.extend(e||{},{dataType:"text"}),this.constructor.__super__.fetch.call(this,e)},metricsAsText:function(){return this.txt},comparator:function(e){return e.get("name")},parse:function(e){var t=[];this.txt=e;var n=window.parsePrometheusTextFormat(e);return _.each(n,(function(e){t.push({name:e.name,type:e.type,info:e.help,metrics:e.metrics})})),t},initialize:function(e){e.endpoint&&(this.endpoint=e.endpoint)},model:window.ArangoMetricModel,url:function(){return this.endpoint?arangoHelper.databaseUrl("/_admin/metrics/v2?serverId="+encodeURIComponent(this.endpoint)):arangoHelper.databaseUrl("/_admin/metrics/v2")}})}()},function(e,t){!function(){"use strict";window.ArangoQueries=Backbone.Collection.extend({getQueryPath:function(){return frontendConfig.db+"-"+this.username+"-queries"},initialize:function(e,t){var n=this;$.ajax("whoAmI?_="+Date.now(),{async:!0}).done((function(e){!1===this.activeUser||null===this.activeUser?n.activeUser="root":n.activeUser=e.user}))},fetch:function(e){e=_.extend({parse:!0},e);var t=this,n=e.success;if(!frontendConfig.ldapEnabled)return frontendConfig.authenticationEnabled&&window.App.currentUser?this.url=arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(window.App.currentUser)):this.url=arangoHelper.databaseUrl("/_api/user/"),Backbone.Collection.prototype.fetch.call(this,e);this.fetchLocalQueries(),e.success=void(n&&n.call(e.context,t,void 0,e))},fetchLocalQueries:function(){this.reset();var e=this,t=sessionStorage.getItem(this.getQueryPath());try{t=JSON.parse(t),_.each(t,(function(t,n){e.add(t)}))}catch(n){}},url:arangoHelper.databaseUrl("/_api/user/"),model:ArangoQuery,activeUser:null,parse:function(e){var t,n=this;if(!1!==this.activeUser&&null!==this.activeUser||(this.activeUser="root"),e.user===n.activeUser)try{e.extra.queries&&(t=e.extra.queries)}catch(i){}else e.result&&e.result instanceof Array&&_.each(e.result,(function(e){e.user===n.activeUser&&(t=e.extra.queries)}));return t},saveLocalCollectionQueries:function(e,t){sessionStorage.setItem(this.getQueryPath(),JSON.stringify(e)),t&&t(!1,e)},saveCollectionQueries:function(e){var t=[];this.each((function(e){t.push({value:e.attributes.value,parameter:e.attributes.parameter,name:e.attributes.name})})),frontendConfig.ldapEnabled?this.saveLocalCollectionQueries(t,e):(!1!==this.activeUser&&null!==this.activeUser||(this.activeUser="root"),$.ajax({cache:!1,type:"PATCH",url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.activeUser)),data:JSON.stringify({extra:{queries:t}}),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(){e(!0)}}))},downloadLocalQueries:function(){arangoHelper.downloadLocalBlob(JSON.stringify(this.toJSON()),"json")},saveImportQueries:function(e,t){var n=this;if(0===this.activeUser)return!1;if(frontendConfig.ldapEnabled){if(e){var i=new FileReader;i.readAsText(e,"UTF-8"),i.onload=function(e){try{var i=JSON.parse(e.target.result);_.each(i,(function(e,t){e.name&&e.value&&e.parameter&&n.add(e)})),n.saveCollectionQueries(),t&&t()}catch(a){arangoHelper.arangoError("Query error","Queries could not be imported."),window.modalView.hide()}},i.onerror=function(e){window.modalView.hide(),arangoHelper.arangoError("Query error","Queries could not be imported.")}}}else window.progressView.show("Fetching documents..."),$.ajax({cache:!1,type:"POST",url:"query/upload/"+encodeURIComponent(this.activeUser),data:e,contentType:"application/json",processData:!1,success:function(){window.progressView.hide(),arangoHelper.arangoNotification("Queries successfully imported."),t()},error:function(){window.progressView.hide(),arangoHelper.arangoError("Query error","queries could not be imported")}})}})}()},function(e,t){window.ArangoReplication=Backbone.Collection.extend({model:window.Replication,url:"../api/user",getLogState:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/replication/logger-state"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(t){e(!0,t)}})},getApplyState:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/replication/applier-state"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(t){e(!0,t)}})}})},function(e,t){window.StatisticsCollection=Backbone.Collection.extend({model:window.Statistics,url:"/_admin/statistics"})},function(e,t){window.StatisticsDescriptionCollection=Backbone.Collection.extend({model:window.StatisticsDescription,url:"/_admin/statistics-description",parse:function(e){return e}})},function(e,t){window.ArangoUsers=Backbone.Collection.extend({model:window.Users,activeUser:null,activeUserSettings:{query:{},shell:{},testing:!0},sortOptions:{desc:!1},authOptions:{ro:!1},fetch:function(e){return e.fetchAllUsers?this.url=arangoHelper.databaseUrl("/_api/user/"):frontendConfig.authenticationEnabled&&window.App.currentUser?this.url=arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(window.App.currentUser)):this.url=arangoHelper.databaseUrl("/_api/user/"),Backbone.Collection.prototype.fetch.call(this,e)},url:frontendConfig.basePath+"/_api/user",comparator:function(e,t){var n=e.get("user").toLowerCase(),i=t.get("user").toLowerCase();return!0===this.sortOptions.desc?n<i?1:n>i?-1:0:n>i?1:n<i?-1:0},login:function(e,t,n){var i=this;$.ajax({url:arangoHelper.databaseUrl("/_open/auth"),method:"POST",data:JSON.stringify({username:e,password:t}),dataType:"json",success:function(e){var t=e.jwt.split(".");if(!t[1])throw new Error("Invalid JWT");if(!window.atob)throw new Error("base64 support missing in browser");var a=JSON.parse(atob(t[1]));i.activeUser=a.preferred_username,void 0===i.activeUser?arangoHelper.setCurrentJwt(e.jwt,null):arangoHelper.setCurrentJwt(e.jwt,i.activeUser),n(!1,i.activeUser)},error:function(){arangoHelper.setCurrentJwt(null,null),i.activeUser=null,n(!0,null)}})},setSortingDesc:function(e){this.sortOptions.desc=e},logout:function(){arangoHelper.setCurrentJwt(null),this.activeUser=null,this.reset(),window.App.navigate(""),window.location.reload()},loadUserSettings:function(e){var t,n=this;t=frontendConfig.authenticationEnabled?arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(n.activeUser)):arangoHelper.databaseUrl("/_api/user/root"),$.ajax({type:"GET",cache:!1,url:t,contentType:"application/json",processData:!1,success:function(t){n.activeUserSettings=t.extra,e(!1,t)},error:function(t){e(!0,t)}})},saveUserSettings:function(e){$.ajax({cache:!1,type:"PUT",url:frontendConfig.basePath+"/_api/user/"+encodeURIComponent(this.activeUser),data:JSON.stringify({extra:this.activeUserSettings}),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(t){e(!0,t)}})},parse:function(e){var t=[];return e.result?_.each(e.result,(function(e){t.push(e)})):t.push({user:e.user,active:e.active,extra:e.extra,changePassword:e.changePassword}),t},whoAmI:function(e){var t=this;if(this.activeUser)e(!1,this.activeUser);else{var n="whoAmI?_="+Date.now();frontendConfig.react&&(n=arangoHelper.databaseUrl("/_admin/aardvark/"+n)),$.ajax({type:"GET",url:n,success:function(n){t.activeUser=n.user,e(!1,n.user)},error:function(){e(!0,null)}})}}})},function(e,t){!function(){"use strict";window.ArangoViews=Backbone.Collection.extend({url:arangoHelper.databaseUrl("/_api/view"),model:arangoViewModel,parse:function(e){return e.result}})}()},function(e,t){!function(){"use strict";window.ClusterCoordinators=window.AutomaticRetryCollection.extend({model:window.ClusterCoordinator,url:arangoHelper.databaseUrl("/_admin/aardvark/cluster/Coordinators"),updateUrl:function(){this.url=window.App.getNewRoute("Coordinators")},initialize:function(){},statusClass:function(e){switch(e){case"ok":return"success";case"warning":return"warning";case"critical":return"danger";case"missing":return"inactive";default:return"danger"}},getStatuses:function(e,t){if(this.checkRetries()){var n=this;this.fetch({beforeSend:window.App.addAuth.bind(window.App),error:n.failureTry.bind(n,n.getStatuses.bind(n,e,t))}).done((function(){n.successFullTry(),n.forEach((function(t){e(n.statusClass(t.get("status")),t.get("address"))})),t()}))}},byAddress:function(e,t){if(this.checkRetries()){var n=this;this.fetch({beforeSend:window.App.addAuth.bind(window.App),error:n.failureTry.bind(n,n.byAddress.bind(n,e,t))}).done((function(){n.successFullTry(),e=e||{},n.forEach((function(t){var n=t.get("address");n=n.split(":")[0],e[n]=e[n]||{},e[n].coords=e[n].coords||[],e[n].coords.push(t)})),t(e)}))}},checkConnection:function(e){var t=this;this.checkRetries()&&this.fetch({beforeSend:window.App.addAuth.bind(window.App),error:t.failureTry.bind(t,t.checkConnection.bind(t,e))}).done((function(){t.successFullTry(),e()}))}})}()},function(e,t){!function(){"use strict";window.ClusterServers=window.AutomaticRetryCollection.extend({model:window.ClusterServer,host:"",url:arangoHelper.databaseUrl("/_admin/aardvark/cluster/DBServers"),updateUrl:function(){this.url=window.App.getNewRoute(this.host)+this.url},initialize:function(e,t){this.host=t.host},statusClass:function(e){switch(e){case"ok":return"success";case"warning":return"warning";case"critical":return"danger";case"missing":return"inactive";default:return"danger"}},getStatuses:function(e){if(this.checkRetries()){var t=this;this.fetch({beforeSend:window.App.addAuth.bind(window.App),error:t.failureTry.bind(t,t.getStatuses.bind(t,e))}).done((function(){t.successFullTry(),t._retryCount=0,t.forEach((function(n){e(t.statusClass(n.get("status")),n.get("address"))}))}))}},byAddress:function(e,t){if(this.checkRetries()){var n=this;this.fetch({beforeSend:window.App.addAuth.bind(window.App),error:n.failureTry.bind(n,n.byAddress.bind(n,e,t))}).done((function(){n.successFullTry(),e=e||{},n.forEach((function(t){var n=t.get("address");n=n.split(":")[0],e[n]=e[n]||{},e[n].dbs=e[n].dbs||[],e[n].dbs.push(t)})),t(e)})).error((function(e){console.log("error"),console.log(e)}))}},getList:function(){throw new Error("Do not use")},getOverview:function(){throw new Error("Do not use DbServer.getOverview")}})}()},function(e,t){!function(){"use strict";window.CoordinatorCollection=Backbone.Collection.extend({model:window.Coordinator,url:arangoHelper.databaseUrl("/_admin/aardvark/cluster/Coordinators")})}()},function(e,t){!function(){"use strict";window.FoxxCollection=Backbone.Collection.extend({model:window.Foxx,sortOptions:{desc:!1},url:arangoHelper.databaseUrl("/_admin/aardvark/foxxes"),comparator:function(e,t){var n,i;return!0===this.sortOptions.desc?(n=e.get("mount"))<(i=t.get("mount"))?1:n>i?-1:0:(n=e.get("mount"))>(i=t.get("mount"))?1:n<i?-1:0},setSortingDesc:function(e){this.sortOptions.desc=e},install:function(e,t,n,i,a){var r=arangoHelper.databaseUrl("/_admin/aardvark/foxxes/"+e+"?mount="+encodeURIComponent(n));i.legacy&&(r+="&legacy=true"),!0===i.setup?r+="&setup=true":!1===i.setup&&(r+="&setup=false"),!0===i.teardown?r+="&teardown=true":!1===i.teardown&&(r+="&teardown=false"),!0===i.replace?r+="&replace=true":!1===i.replace&&(r+="&upgrade=true"),$.ajax({cache:!1,type:"PUT",url:r,data:JSON.stringify(t),contentType:"application/json",processData:!1,success:function(e){a(e)},error:function(e){a(e)}})}})}()},function(e,t){!function(){"use strict";window.FoxxRepository=Backbone.Collection.extend({model:window.FoxxRepoModel,sortOptions:{desc:!1},url:arangoHelper.databaseUrl("/_admin/aardvark/foxxes/fishbowl"),parse:function(e){var t=[];return _.each(e,(function(e){e.legacy||t.push(e)})),t},comparator:function(e,t){var n,i;return!0===this.sortOptions.desc?(n=e.get("mount"))<(i=t.get("mount"))?1:n>i?-1:0:(n=e.get("mount"))>(i=t.get("mount"))?1:n<i?-1:0},setSortingDesc:function(e){this.sortOptions.desc=e}})}()},function(e,t){!function(){"use strict";window.GraphCollection=Backbone.Collection.extend({model:window.Graph,sortOptions:{desc:!1},url:arangoHelper.databaseUrl("/_api/gharial"),dropAndDeleteGraph:function(e,t){$.ajax({type:"DELETE",url:arangoHelper.databaseUrl("/_api/gharial/")+encodeURIComponent(e)+"?dropCollections=true",contentType:"application/json",processData:!0,success:function(){t(!0)},error:function(e){e.responseJSON?t(!1,e.responseJSON):t(!1)}})},createNode:function(e,t,n,i){$.ajax({type:"POST",url:arangoHelper.databaseUrl("/_api/gharial/")+encodeURIComponent(e)+"/vertex/"+encodeURIComponent(t),contentType:"application/json",data:JSON.stringify(n),processData:!0,success:function(e){i(!1,e.vertex._id)},error:function(e){i(!0,null,e.responseJSON.errorMessage)}})},createEdge:function(e,t,n,i){$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/gharial/")+encodeURIComponent(e)+"/edge/"+encodeURIComponent(t),data:JSON.stringify(n),contentType:"application/json",processData:!1,success:function(e){i(!1,e.edge._id)},error:function(e){i(!0,null,e.responseJSON.errorMessage)}})},comparator:function(e,t){var n=e.get("_key")||"",i=t.get("_key")||"";return n=n.toLowerCase(),i=i.toLowerCase(),!0===this.sortOptions.desc?n<i?1:n>i?-1:0:n>i?1:n<i?-1:0},setSortingDesc:function(e){this.sortOptions.desc=e},parse:function(e){if(!e.error)return e.graphs}})}()},function(e,t){!function(){"use strict";window.NotificationCollection=Backbone.Collection.extend({model:window.Notification,url:""})}()},function(e,t){!function(){"use strict";window.QueryManagementActive=Backbone.Collection.extend({model:window.queryManagementModel,url:function(){var e=frontendConfig.basePath+"/_api/query/current";return"_system"!==window.frontendConfig.db&&(e=arangoHelper.databaseUrl("/_api/query/current")),e},killRunningQuery:function(e,t){var n=frontendConfig.basePath+"/_api/query/"+encodeURIComponent(e);"_system"!==window.frontendConfig.db&&(n=arangoHelper.databaseUrl("/_api/query/"+encodeURIComponent(e))),$.ajax({url:n,type:"DELETE",success:function(e){t()}})}})}()},function(e,t){!function(){"use strict";window.QueryManagementSlow=Backbone.Collection.extend({model:window.queryManagementModel,url:function(){var e=frontendConfig.basePath+"/_api/query/slow";return"_system"!==window.frontendConfig.db&&(e=arangoHelper.databaseUrl("/_api/query/slow")),e},deleteSlowQueryHistory:function(e){var t=frontendConfig.basePath+"/_api/query/slow";"_system"!==window.frontendConfig.db&&(t=arangoHelper.databaseUrl("/_api/query/slow")),$.ajax({url:t,type:"DELETE",success:function(t){e()}})}})}()},,,,,,,,,,,function(e,t,n){e.exports=n(590)},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,,,,,,function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <tr class="foxx-store-row">\n    <td class="foxx-store-main">\n      <div class="foxx-name">'+(null==(__t=name)?"":__t)+(null==(__t=legacy?" (legacy)":"")?"":__t)+'</div>\n      <div class="foxx-author">'+(null==(__t=author)?"":__t)+'</div>\n      <div class="foxx-description">'+(null==(__t=description)?"":__t)+'</div>\n    </td>\n    <td class="foxx-store-version">\n      <div class="foxx-version">'+(null==(__t=latestVersion)?"":__t)+'</div>\n    </td>\n    <td class="foxx-store-install">\n      <button class="button-success install-app" appId="'+(null==(__t=name)?"":__t)+'" appVersion="'+(null==(__t=latestVersion)?"":__t)+'">Install</button>\n    </td>\n  </tr>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="headerBar">\n  <div class="headerButtonBar">\n    <ul class="headerButtonList">\n      <li>\n        <a id="foxxToggle" class="headerButton">\n          <span class="icon_arangodb_settings2" title="Settings"></span>\n        </a>\n      </li>\n    </ul>\n  </div>\n</div>\n\n<div id="foxxDropdownOut" class="headerDropdown">\n  <div id="foxxDropdown" class="dropdownInner">\n    <ul>\n      <li class="nav-header">Type</li>\n      <li><a href="#services">\n        <label class="checkbox checkboxLabel">\n          <input class="css-checkbox" type="checkbox" id="checkProduction"/>\n          <i class="fa"></i>\n          Production\n        </label>\n      </a></li>\n\n      <li><a href="#services">\n        <label class="checkbox checkboxLabel">\n          <input class="css-checkbox" type="checkbox" id="checkDevel"/>\n          <i class="fa"></i>\n          Development\n        </label>\n      </a></li>\n\n      <li><a href="#services">\n        <label class="checkbox checkboxLabel">\n          <input class="css-checkbox" id="checkSystem" type="checkbox"/>\n          <i class="fa"></i>\n          System Services\n        </label>\n      </a></li>\n    </ul>\n  </div>\n</div>\n\n<div class="contentDiv">\n  <div id="installed">\n    <div id="installedList" class="tileList pure-u">\n      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-5">\n        <div class="fullBorderBox">\n          <a id="addApp" class="add"><span class="pull-left add-Icon"><i class="fa fa-plus-circle"></i>\n</span> Add Service</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div id="applierContent" class="innerContent applierContent replicationContent">\n    <div class="repl-applier">\n\n      ',_.each(data,(function(e,t){__p+='\n\n        <div class="categoryBar">\n          <h4 style="text-transform: capitalize;">'+(null==(__t=t)?"":__t)+'</h4>\n        </div>\n\n          <table id="applier-'+(null==(__t=t)?"":__t)+'" class="pure-table">\n            <tbody>\n              ',"string"===typeof e?__p+="\n                <tr>\n                  <td>"+(null==(__t=t)?"":__t)+"</td>\n                  <td>"+(null==(__t=e)?"":__t)+"</td>\n                </tr>\n              ":(__p+="\n                ",_.each(e,(function(e,t){__p+="\n                  <tr>\n                    <td>"+(null==(__t=t)?"":__t)+"</td>\n\n                    <td>\n                      ","string"!==typeof e&&"number"!==typeof e&&"boolean"!==typeof e?(__p+="\n                        <table>\n                          <tbody>\n                            ",_.each(e,(function(e,t){__p+="\n                              <tr>\n                                <td>"+(null==(__t=t)?"":__t)+"</td>\n                                <td>"+(null==(__t=e)?"":__t)+"</td>\n                              </tr>\n                            "})),__p+="\n                          <tbody>\n                        </table>\n                      "):__p+="\n                        "+(null==(__t=e)?"":__t)+"\n                      ",__p+="\n                    </td>\n\n                  </tr>\n                "})),__p+="\n              "),__p+="\n            </tbody>\n          </table>\n\n      "})),__p+="\n\n    </div>\n  </div>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="arango-tabbar" id="'+(null==(__t=content.id)?"":__t)+'">\n  ',_.each(content.titles,(function(e,t){__p+="\n  ";var n=content.titles[t][0];__p+="\n  ";var i=content.titles[t][1];__p+='\n  <button class="arangodb-tabbar" id="'+(null==(__t=i)?"":__t)+'">'+(null==(__t=n)?"":__t)+"</button>\n  "})),__p+="\n</div>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='  <div class="tableWrapper">\n    ';var type=type;__p+='\n    <table class="arango-table" id="'+(null==(__t=content.id)?"":__t)+'">\n      <thead>\n        <tr>\n          ';var hcounter=0;if(__p+="\n          ",_.each(content.titles,(function(e){__p+='\n            <th class="arango-table-th table-cell'+(null==(__t=hcounter)?"":__t)+'">'+(null==(__t=e)?"":__t)+"</th>\n          ",hcounter++})),__p+="\n        </tr>\n      </thead>\n      <tbody>\n        ",_.each(content.rows,(function(e){var t=0;__p+="\n          <tr>\n            ",_.each(e,(function(e){__p+="\n              ",type&&"pre"===type[t]?__p+='\n                <td class="arango-table-td table-cell'+(null==(__t=t)?"":__t)+'">\n                  <pre class="tablePre">'+(null==(__t=content.unescaped&&content.unescaped[t]?e:_.escape(e))?"":__t)+"</pre>\n                </td>\n              ":__p+='\n                <td class="arango-table-td table-cell'+(null==(__t=t)?"":__t)+'">'+(null==(__t=content.unescaped&&content.unescaped[t]?e:_.escape(e))?"":__t)+"</td>\n              ",__p+="\n            ",t++})),__p+="\n          </tr>\n        "})),__p+="\n\n        ",0===content.rows.length){__p+="\n          <tr>\n            ";var xcounter=0;__p+="\n            ",_.each(content.titles,(function(e){__p+="\n              ",__p+=0===xcounter?"\n                <td>No content.</td>\n              ":"\n                <td></td>\n              ",__p+="\n            ",xcounter++})),__p+="\n          </tr>\n        "}__p+="\n      </tbody>\n    </table>\n  </div>\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n  <div class="headerBar" style="margin-top: -60px">\n    <div class="headerButtonBar">\n      <ul class="headerButtonList">\n      </ul>\n    </div>\n  </div>\n\n  <div id="clusterContent" class="innerContent">\n\n    <div class="pure-g cluster-values">\n\n      <div class="pure-u-1-2 pure-u-md-1-5">\n        <div class="valueWrapper">\n          <div id="clusterCoordinators" class="value"><i class="fa fa-spin fa-circle-o-notch" style="color: rgba(0, 0, 0, 0.64);"></i></div>\n          <div class="graphLabel">coordinators</div>\n        </div>\n      </div>\n\n      <div class="pure-u-1-2 pure-u-md-1-5">\n        <div class="valueWrapper">\n          <div id="clusterDBServers" class="value"><i class="fa fa-spin fa-circle-o-notch" style="color: rgba(0, 0, 0, 0.64);"></i></div>\n          <div class="graphLabel">DB Servers</div>\n        </div>\n      </div>\n\n      <div class="pure-u-1-2 pure-u-md-1-5">\n        <div class="valueWrapper">\n          <div id="clusterAgentServers" class="value"><i class="fa fa-spin fa-circle-o-notch" style="color: rgba(0, 0, 0, 0.64);"></i></div>\n          <div class="graphLabel">Agents</div>\n        </div>\n      </div>\n\n      <div class="pure-u-1-2 pure-u-md-1-5">\n        <div class="valueWrapper">\n          <div id="clusterRam" class="value"><i class="fa fa-spin fa-circle-o-notch" style="color: rgba(0, 0, 0, 0.64);"></i></div>\n          <div class="graphLabel">RAM</div>\n        </div>\n      </div>\n\n      <div class="pure-u-1-2 pure-u-md-1-5">\n        <div class="valueWrapper">\n          <div id="clusterConnections" class="value"><i class="fa fa-spin fa-circle-o-notch" style="color: rgba(0, 0, 0, 0.64);"></i></div>\n          <div class="graphLabel">Connections</div>\n        </div>\n      </div>\n\n    </div>\n\n\n    <div class="pure-g cluster-graphs">\n\n      <div class="pure-u-1-1 pure-u-md-24-24 pure-u-lg-12-24">\n        <div class="graphWrapper">\n          <div id=\'clusterData\'></div>\n          <div class="graphLabel">DATA</div>\n        </div>\n      </div>\n\n      <div class="pure-u-1-1 pure-u-md-12-24 pure-u-lg-6-24">\n        <div class="graphWrapper">\n          <div id=\'clusterHttp\'></div>\n          <div class="graphLabel">HTTP</div>\n        </div>\n      </div>\n\n      <div class="pure-u-1-1 pure-u-md-12-24 pure-u-lg-6-24">\n        <div class="graphWrapper">\n          <div id=\'clusterAverage\'></div>\n          <div class="graphLabel">AVG Request Time</div>\n        </div>\n      </div>\n\n    </div>\n\n  </div>\n\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="paddingBox">\n  <div class="borderBox"></div>\n  <i class="collection-type-icon fa '+(null==(__t=model.get("picture"))?"":__t)+'"></i>\n  <div class="tileBadge">\n    <span>\n    ',model.get("desc")?__p+='\n      <div class="corneredBadge inProgress">\n        '+(null==(__t=model.get("desc"))?"":__t)+"\n      </div>\n    ":"corrupted"===model.get("status")&&(__p+='\n      <div class="corneredBadge '+(null==(__t=model.get("status"))?"":__t)+'">\n        '+(null==(__t=model.get("status"))?"":__t)+"\n      </div>\n    "),__p+="\n    </span>\n  </div>\n\n  ","index"===model.get("lockType")?__p+='\n    \x3c!-- <progress max="100" value="80"></progress>--\x3e\n    <h5 class="collectionName">'+(null==(__t=model.get("name"))?"":__t)+"</h5>\n  ":__p+='\n    <h5 class="collectionName">'+(null==(__t=model.get("name"))?"":__t)+"</h5>\n  ",__p+="\n</div>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="headerBar">\n    <div class="search-field">\n      <input type="text" id="searchInput" class="search-input" placeholder="Search..."/>\n      \x3c!-- <img id="searchSubmit" class="search-submit-icon"/> --\x3e\n      <i id="searchSubmit" class="fa fa-search"></i>\n    </div>\n    <div class="headerButtonBar">\n      <ul class="headerButtonList">\n        <li class="enabled">\n          <a id="collectionsToggle" class="headerButton">\n            <span class="icon_arangodb_settings2" title="Settings"></span>\n          </a>\n        </li>\n      </ul>\n    </div>\n\n  </div>\n\n\n  <div id="collectionsDropdown2" class="headerDropdown">\n\n    <div id="collectionsDropdown" class="dropdownInner">\n\n      <ul>\n        <li class="nav-header">Type</li>\n        <li><a>\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox checkSystemCollections" type="checkbox">\n            <i class="fa"></i>\n            System\n          </label>\n        </a></li>\n\n        <li><a>\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="checkDocument">\n            <i class="fa"></i>\n            Document\n          </label>\n        </a></li>\n\n        <li><a>\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="checkEdge">\n            <i class="fa"></i>\n            Edge\n          </label>\n        </a></li>\n\n        </li>\n      </ul>\n\n      <ul>\n        <li class="nav-header">Sorting</li>\n\n        <li><a href="#">\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="sortName">\n            <i class="fa css-round-label"></i>\n            Sort by name\n          </label>\n        </a></li>\n\n        <li><a href="#">\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="sortType">\n            <i class="fa css-round-label"></i>\n            Sort by type\n          </label>\n        </a></li>\n\n        <li><a href="#">\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="sortOrder">\n            <i class="fa"></i>\n            Sort descending\n          </label>\n        </a></li>\n      </ul>\n    </div>\n\n  </div>\n\n  <div class="contentDiv" id="arangoCollectionsContainer">\n      <div id="collectionsThumbnailsIn" class="tileList pure-g">\n        <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">\n          <div class="fullBorderBox">\n            <a id="createCollection" class="add"><span id="newCollection" class="pull-left add-Icon"><i class="fa fa-plus-circle"></i>\n</span> Add Collection</a>\n          </div>\n        </div>\n      </div>\n  </div>\n\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var subBar=function(e){__p+='\n  <div class="dashboard-sub-bar">\n    <div class="dashboard-sub-bar-title">'+(null==(__t=e)?"":__t)+"</div>\n  </div>\n"};__p+="\n\n";var largeChart=function(e,t,n){__p+='\n  <div class="dashboard-large-chart pure-u-1-1 pure-u-sm-1-1 pure-u-md-2-3">\n    <div class="dashboard-large-chart-inner dashboard-chart" id="'+(null==(__t=e)?"":__t)+'Container">\n      <div class="dashboard-legend">\n        <div class="dashboard-legend-inner" id="'+(null==(__t=e)?"":__t)+'Legend"></div>\n      </div>\n      <div id="'+(null==(__t=e)?"":__t)+'" class="dashboard-interior-chart"></div>\n    </div>\n    ',subBar(t),__p+="\n  </div>\n"};__p+="\n\n";var mediumChart=function(e,t,n){__p+='\n  <div class="dashboard-medium-chart-outer pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-2">\n    <div class="dashboard-medium-chart">\n      <div class="dashboard-legend">\n        <div class="dashboard-legend-inner" id="'+(null==(__t=e)?"":__t)+'Legend"></div>\n      </div>\n      <div class="dashboard-medium-chart-inner dashboard-chart" id="'+(null==(__t=e)?"":__t)+'Container">\n        <div id="'+(null==(__t=e)?"":__t)+'" class="dashboard-interior-chart"></div>\n      </div>\n      ',subBar(t),__p+="\n    </div>\n  </div>\n"};__p+="\n\n";var smallChart=function(e,t,n){__p+='\n  <div class="dashboard-small-chart pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3">\n    <div class="dashboard-small-chart-inner dashboard-chart" id="'+(null==(__t=e)?"":__t)+'Container">\n      <div id="'+(null==(__t=e)?"":__t)+'" class="dashboard-interior-chart">\n        <svg></svg>\n      </div>\n    </div>\n    ',subBar(t),__p+="\n  </div>\n"};__p+="\n";var tendency=function(e,t,n){__p+='\n\n<div class="dashboard-tendency-container pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3">\n  <div class="dashboard-tendency-chart">\n    <div class="dashboard-tendency">\n      ',__p+="asyncRequests"===t?'\n        <div class="dashboard-subtitle-bar">sync</div>\n      <div class="dashboard-figure">\n        <span id="syncPerSecondCurrent"></span>\n        ':'\n          <div class="dashboard-subtitle-bar">current</div>\n        <div class="dashboard-figure">\n          <span id="'+(null==(__t=t)?"":__t)+'Current"></span>\n          ',__p+='\n        </div>\n      </div>\n      <div class="dashboard-tendency">\n        ',__p+="asyncRequests"===t?'\n          <div class="dashboard-subtitle-bar">async</div>\n        <div class="dashboard-figure">\n          <span id="asyncPerSecondCurrent"></span>\n          ':'\n            <div class="dashboard-subtitle-bar">15-min-avg</div>\n          <div class="dashboard-figure">\n            <span id="'+(null==(__t=t)?"":__t)+'Average"></span>\n            ',__p+='\n          </div>\n        </div>\n      </div>\n      <div class="dashboard-sub-bar">'+(null==(__t=e)?"":__t)+"</div>\n    </div>\n    "};__p+='\n\n    <ul class="subMenuEntries subViewNavbar">\n      <li id="requests-statistics" class="subMenuEntry active"><a>Statistics</a></li>\n      <li id="system-statistics" class="subMenuEntry "><a>System Resources</a></li>\n      ',isCluster&&(__p+='\n        <li id="logs-statistics" class="subMenuEntry "><a>Logs</a></li>\n      '),__p+='\n      <li id="metrics-statistics" class="subMenuEntry "><a>Metrics</a></li>\n    </ul>\n\n    <div id="requests">\n      <div class="contentDiv">\n        <div class="dashboard-row pure-u cluster-values" id="node-info"\n             style="width: 100%; margin-top: 0; padding-right: 2px; box-sizing: border-box;">\n        </div>\n\n        ',!0!==hideStatistics&&(__p+='\n          <div class="dashboard-row pure-u">\n            ',largeChart("requestsChart","Requests per Second"),__p+="\n\n            ",tendency("Request Types","asyncRequests",!1),__p+="\n            ",tendency("Number of Client Connections","clientConnections",!1),__p+='\n          </div>\n\n          <div class="dashboard-row pure-u small-label-padding">\n            ',largeChart("dataTransferChart","Transfer Size per Second"),__p+="\n            ",smallChart("dataTransferDistribution","Transfer Size per Second (distribution)",!1),__p+='\n          </div>\n\n          <div class="dashboard-row pure-u small-label-padding">\n            ',largeChart("totalTimeChart","Average Request Time (seconds)"),__p+="\n            ",smallChart("totalTimeDistribution","Average Request Time (distribution)",!1),__p+="\n          </div>\n        "),__p+='\n      </div>\n    </div>\n\n    <div id="system" class="tendency-box-sizing" style="display: none" ;>\n\n      <div class="dashboard-row pure-u" style="width: 100%;">\n        ',tendency("Number of threads","numberOfThreads",!1),__p+='\n\n        <div class="dashboard-bar-chart-container pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3">\n          <div class="dashboard-bar-chart">\n            <div class="dashboard-bar-chart-title">\n              <div class="percentage"></div>\n              <div class="absolut"></div>\n            </div>\n            <div class="dashboard-bar-chart-chart" id="residentSizeChartContainer">\n              <div id="residentSizeChart">\n                <svg></svg>\n              </div>\n            </div>\n          </div>\n          <div class="dashboard-sub-bar">Memory\n          </div>\n        </div>\n\n        ',tendency("Virtual Size in GB","virtualSize",!1),__p+='\n      </div>\n      <div class="dashboard-row pure-u" style="width: 100%">\n        ',mediumChart("pageFaultsChart","Major Page Faults"),__p+="\n        ",mediumChart("systemUserTimeChart","Used CPU Time per Second"),__p+='\n      </div>\n\n    </div>\n\n    <div id="logs" class="tendency-box-sizing" style="display: none">\n      <div id="nodeLogContentView"></div>\n    </div>\n\n    <div id="metrics" class="tendency-box-sizing" style="display: none">\n      <div id="nodeMetricsContentView"></div>\n    </div>\n\n  </div>\n</div>'}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="headerBar">\n    <div class="search-field">\n      <input type="text" value="'+(null==(__t=searchString)?"":__t)+'" id="databaseSearchInput" class="search-input" placeholder="Search..."/>\n      \x3c!-- <img id="databaseSearchSubmit" class="search-submit-icon">--\x3e\n      <i id="databaseSearchSubmit" class="fa fa-search"></i>\n    </div>\n    <div class="headerButtonBar">\n        <ul class="headerButtonList">\n          <li class="enabled">\n            <a id="databaseToggle" class="headerButton">\n              <span class="icon_arangodb_settings2" title="Settings"></span>\n            </a>\n          </li>\n        </ul>\n      </div>\n\n  </div>\n\n\n  <div id="databaseDropdown2" class="headerDropdown">\n\n    <div id="databaseDropdown" class="dropdownInner">\n      <ul>\n        <li class="nav-header">Sorting</li>\n        <li><a>\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="dbSortDesc">\n            <i class="fa"></i>\n            Sort descending\n          </label>\n        </a></li>\n      </ul>\n    </div>\n\n  </div>\n\n\n  <div class="contentDiv" id="userManagementView">\n    <div class="tileList pure-u">\n      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">\n        <div class="fullBorderBox">\n          <a href="#" id="createDatabase" class="add">\n            <span id="newDatabase" class="pull-left add-Icon"><i class="fa fa-plus-circle"></i></span>\n            Add Database\n          </a>\n        </div>\n      </div>\n      ',collection.forEach((function(e){var t=e.get("name");__p+="\n\n      ","_system"!==t&&(__p+='\n        <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6 defaultCursor">\n          <div class="fullBorderBox" style="border: 0;">\n            <div class="borderBox"></div>\n            <div class="iconSet">\n              ',readOnly||(__p+='\n                <span class="icon_arangodb_settings2 editDatabase" id="'+(null==(__t=_.escape(t))?"":__t)+'_edit-database" alt="Edit database" title="Edit database"></span>\n              '),__p+='\n            </div>\n            <i class="collection-type-icon fa fa-database defaultCursor"></i>\n            <div class="tileBadge">\n            </div>\n            <h5 class="collectionName" style="margin-left: 0; margin-right: 0;">'+(null==(__t=_.escape(t))?"":__t)+"</h5>\n          </div>\n        </div>\n      "),__p+="\n\n      "})),__p+="\n     </div>\n  </div>\n\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<a href="#" class="tab disabled" id="dbselection"><div class="dbselection"><i class="fa fa-database"></i><span class="db-name">DB: </span> '+(null==(__t=current)?"":__t)+'\n\x3c!-- <i class="fa fa-caret-square-o-down"></i> --\x3e\n</div>\n\x3c!-- <b class="caret"></b> --\x3e\n</a>\n\n\x3c!--\n<ul class="link-dropdown-menu" id="dbs_dropdown">\n',list.length>0&&(__p+='\n    <li class="dropdown-header">Databases</li>\n  ',_.each(list,(function(e){__p+='\n    <li class="dropdown-item">\n        <a id="'+(null==(__t=_.escape(e))?"":__t)+'" class="dbSelectionLink tab" href="#">'+(null==(__t=_.escape(e))?"":__t)+"</a>\n    </li>\n  "})),__p+="\n"),__p+="\n    ","_system"===current&&(__p+="\n    ",list.length>=2&&(__p+='\n      <li class="divider"></li>\n    '),__p+='\n    <li class="dropdown-header">Manager</li>\n    <li id="databaseNavi" class="dropdown-item">\n      <a id="databases" class="tab" href="#databases">Manage Databases</a>\n    </li>\n    '),__p+="\n</ul>\n--\x3e\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n  <div class="headerBar">\n    <div class="headerButtonBar">\n      <ul class="headerButtonList">\n        <li class="enabled">\n          <a id="addDocument" class="headerButton">\n            <span title="Add new document">\n              <i class="fa fa-file fa-stack-1x"></i>\n              <i class="fa fa-plus fa-stack-1x fa-top"></i>\n            </span>\n          </a>\n        </li>\n      </ul>\n    </div>\n\n  </div>\n\n  <div class="innerContent document-info-div">\n\n    <div class="document-info">\n\n      <div class="document-type-container">\n        <div id="document-type" class="document-bold-font"></div>\n        <div id="document-id" class="document-thin-font"></div>\n      </div>\n\n      <div class="document-info-container">\n\n        <div class="document-inner-info-container">\n          <div class="document-attribute">\n            <div class="document-bold-font">_rev:</div>\n            <div id="document-rev" class="document-thin-font"></div>\n          </div>\n          <div class="document-attribute">\n            <div class="document-bold-font">_key:</div>\n            <div id="document-key" class="document-thin-font"></div>\n          </div>\n        </div>\n\n        <div class="document-inner-info-container edge-info-container">\n          <div class="document-attribute">\n            <div class="document-bold-font">_from:</div>\n            <div id="document-from" class="document-thin-font document-link"></div>\n          </div>\n          <div class="document-attribute">\n            <div class="document-bold-font">_to:</div>\n            <div id="document-to" class="document-thin-font document-link"></div>\n          </div>\n        </div>\n\n        <div class="document-inner-info-container edge-edit-container">\n          <div id="edit-from" class="document-attribute">\n            <i class="fa fa-edit"></i>\n            <i class="fa fa-check" style="display: none"></i>\n            <i class="fa fa-times" style="display: none"></i>\n          </div>\n          <div id="edit-to" class="document-attribute">\n            <i class="fa fa-edit"></i>\n            <i class="fa fa-check" style="display: none"></i>\n            <i class="fa fa-times" style="display: none"></i>\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n\n  <div id="tableDiv" class="innerContent document-content-div">\n\n    <div id="documentEditor" class="document-editor"></div>\n    <div class="bottomButtonBar">\n      <button id="saveDocumentButton" class="button-success pull-right">Save</button>\n      <button id="deleteDocumentButton" class="button-danger pull-right">Delete</button>\n    </div>\n    <div class="pull-left shortcuts showHotkeyHelp"></div>\n\t</div>\n\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="transparentHeader" class="headerBar marginTop5">\n\n  <div id="documentsToolbar" class="headerButtonBar">\n\n  \x3c!-- remove marker for docupdiv--\x3e\n  <ul class="headerButtonList">\n    \x3c!-- Mark: removed prev/next collection button\n    <li class="enabled">\n      <a id="collectionNext" class="headerButton">\n        <span class="icon_arangodb_arrowright" title="Next collection"></span>\n      </a>\n    </li>\n    <li class="enabled">\n      <a id="collectionPrev" class="headerButton collection-pagination">\n        <span class="icon_arangodb_arrowleft" title="Previous collection"></span>\n      </a>\n    </li>\n    --\x3e\n    <li class="enabled">\n        <select id="documentSize" class="documents-size">\n          <option value="10" selected="">10 results</option>\n          <option value="20">20 results</option>\n          <option value="50">50 results</option>\n          <option value="100">100 results</option>\n          <option value="500">500 results</option>\n          <option value="1000">1000 results</option>\n          <option value="2500">2500 results</option>\n          <option value="5000">5000 results</option>\n          <option value="all">All results</option>\n        </select>\n      </a>\n    <li class="enabled">\n      <a id="markDocuments" class="headerButton">\n        <span title="Edit documents"><i class="fa fa-hand-pointer-o"></i></span>\n      </a>\n    </li>\n    <li class="enabled">\n      <a id="importCollection" class="headerButton">\n        <span title="Upload documents from JSON file"><i class="fa fa-upload"></i></span>\n      </a>\n    </li>\n    <li class="enabled">\n      <a id="exportCollection" class="headerButton">\n        <span title="Download documents as JSON file"><i class="fa fa-download" style="margin-top: 1px;"></i></span>\n      </a>\n    </li>\n    <li class="enabled" style="margin-right: 15px">\n      <a id="filterCollection" class="headerButton">\n        <span title="Filter collection"><i class="fa fa-filter"></i></span>\n      </a>\n    </li>\n  </ul>\n\n  </div>\n</div>\n\n<div class="arangoDropdown documentsDropdown">\n  <div id="filterHeader" class="headerDropdown">\n     <div style="float: right;">\n       <button id="resetView" class="button-warning btn-old-padding">Reset</button>\n       <button id="filterSend" class="button-success btn-old-padding">Filter</button>\n       <input type="text" id="docsSort" style="float: right" placeholder="Sort by attribute"></input>\n    </div>\n    <div class="queryline querylineAdd">\n       <input id="attribute_name0" type="text" placeholder="Attribute name"><select name="operator" id="operator0" class="filterSelect">\n           <option value="==">==</option>\n           <option value="!=">!=</option>\n           <option value="&lt;">&lt;</option>\n           <option value="&lt;=">&lt;=</option>\n           <option value="&gt;">&gt;</option>\n           <option value="&gt;=">&gt;=</option>\n           <option value="LIKE">LIKE</option>\n           <option value="IN">IN</option>\n           <option value="NOT IN">NOT IN</option>\n           <option value="=~">REGEX</option>\n       </select><input id="attribute_value0" type="text" placeholder="Attribute value" class="filterValue">\n       <a id="addFilterItem" class="add-filter-item"><i class="fa fa-plus-circle"></i></a>\n     </div>\n  </div>\n\n  <div id="importHeader" class="dropdownImport">\n    <div class="queryline">\n      <input id="importDocuments" name="importDocuments" type="file" accept="application/json" />\n      <button id="confirmDocImport" class="button-success btn-old-padding" style="float:right" disabled>\n        <span class="upload-indicator"><i id="uploadIndicator" class="fa fa-circle-o-notch fa-spin fa-fw"></i></span>Import JSON\n      </button>\n      <div title=\'Example input data:<br /><br /> I. Line-wise: <br /> { "_key": "key1", ... } <br /> { "_key": "key2", ... } <br /><br /> or <br /><br /> II. JSON documents embedded into a list: <br /> [ <br /> &nbsp; { "_key": "key1", ... }, <br /> &nbsp; { "_key": "key2", ... }, <br /> &nbsp; ... <br /> ]\' class="upload-info" style="float:left; margin-top:7px; margin-right: 10px;"><i style="font-size: 13pt;" class="fa fa-info-circle"></i></div>\n    </div>\n  </div>\n\n  <div id="exportHeader" class="headerDropdown">\n    <div class="queryline">\n      <div style="float:left; margin-top:7px"><i class="fa fa-exclamation-circle"></i>Please be careful. If no filter is set, the whole collection will be downloaded.</div>\n      <button id="exportDocuments" class="button-success btn-old-padding" style="float:right">Download JSON</button>\n    </div>\n  </div>\n\n  <div id="editHeader" class="dropdownImport">\n    <div class="queryline">\n      <div style="float:left; margin-top:5px"><div style="float:left" class="selectedCount">0</div> &nbsp; document(s) selected</div>\n      <button id="deleteSelected" class="button-neutral btn-old-padding" style="float:right">Delete</button>\n      <button id="moveSelected" class="button-neutral btn-old-padding" style="float:right">Move</button>\n    </div>\n  </div>\n\n</div>\n\n<div id="documentsDiv" class="innerContent">\n\n<div id="uploadMessages"></div>\n\n<div id="docPureTable">\n\n</div>\n\n\x3c!--\n<div id="documentsTableID_wrapper" class="dataTables_wrapper" role="grid">\n  <table class="display arangoDataTable dataTable" id="documentsTableID">\n  </table>\n</div>\n--\x3e\n\n    <div id="documentsToolbarFL">\n      <div id="documentsToolbarF" class="pagination-line">\n      </div>\n    </div>\n\n\x3c!-- Delete Modal --\x3e\n<div id="docDeleteModal" style="display:none" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>\n    <a class="arangoHeader">Delete Document?</a>\n  </div>\n  <div class="modal-body" id="deleteDoc">\n    <p style="padding: 20px;">There is no way back\u2026</p>\n  </div>\n  <div class="modal-footer">\n    <button class="button-close" data-dismiss="modal" aria-hidden="true">Close</button>\n    <button id="confirmDeleteBtn" class="button-danger" style="float:right" disabled="true">Delete</button>\n  </div>\n</div>\n\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <tr class="tableRow" id="row_newEdgeDefinitions'+(null==(__t=number)?"":__t)+'">\n    <th class="collectionTh">Edge definitions*:</th>\n    <th class="collectionTh">\n      <input type="hidden" id="newEdgeDefinitions'+(null==(__t=number)?"":__t)+'" value="" placeholder="Edge definitions" tabindex="-1" class="select2-offscreen">\n      <button id="remove_newEdgeDefinitions'+(null==(__t=number)?"":__t)+'" class="graphViewer-icon-button gv_internal_remove_line gv-icon-small delete"></button>\n    </th><th>\n    <span class="modalTooltips arangoicon icon_arangodb_info" title="An edge definition defines a relation of the graph">\n    </span>\n    </th>\n  </tr>\n  <tr class="tableRow" id="row_fromCollections'+(null==(__t=number)?"":__t)+'">\n    <th class="collectionTh">fromCollections*:</th>\n    <th class="collectionTh">\n      <input type="hidden" id="fromCollections'+(null==(__t=number)?"":__t)+'" value="" placeholder="fromCollections" tabindex="-1" class="select2-offscreen">\n    </th><th>\n    <span class="modalTooltips arangoicon icon_arangodb_info" title="The collection that contain the start vertices of the relation.">\n    </span>\n  </th>\n  </tr>\n  <tr class="tableRow" id="row_toCollections'+(null==(__t=number)?"":__t)+'">\n    <th class="collectionTh">toCollections*:</th>\n    <th class="collectionTh">\n      <input type="hidden" id="toCollections'+(null==(__t=number)?"":__t)+'" value="" placeholder="toCollections" tabindex="-1" class="select2-offscreen">\n    </th><th>\n    <span class="modalTooltips arangoicon icon_arangodb_info" title="The collection that contain the end vertices of the relation.">\n    </span>\n  </th>\n  </tr>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<td class="writable sorting_1">\n  ',isReadOnly?__p+='\n    <span class="key">'+(null==(__t=key)?"":__t)+"</span>\n  ":__p+='\n    <input type="text" class="key" placeholder="attribute" '+(null==(__t=key?"value="+key:"")?"":__t)+"></input>\n  ",__p+='\n</td>\n<td class="writeable rightCell">\n  ',isReadOnly?__p+='\n    <span class="val">'+(null==(__t=value)?"":__t)+"</span>\n  ":__p+='\n    <textarea class="val" placeholder="value">'+(null==(__t=value||"")?"":__t)+"</textarea>\n  ",__p+='\n</td>\n</td>\n<td class="leftCell">\n  <a class="deleteAttribute">\n    <span class="icon_arangodb_roundminus" data-original-title="Delete attribute"></span>\n  </a>\n</td>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){var cssClass;__p+='\n<div class="filterSelectBox">\n  <div class="filterLabel">'+(null==(__t=name)?"":__t)+'<span><i class="fa fa-close" id="closeFilter"></i></span></div>\n\n  <div class="filterInput">\n    <input type="text" id="'+(null==(__t=name)?"":__t)+'-filter" placeholder="Filter '+(null==(__t=name)?"":__t)+'" aria-label="Filter labels" autocomplete="off">\n  </div>\n\n  <div class="filterOptions">\n    <div id="showAll"><strong>Show all</strong></div>\n    ',__p+="\n    ",_.each(options,(function(e){__p+="\n      ",e.active?(__p+="\n      ",cssClass="active",__p+="\n      "):(__p+=" \n      ",cssClass="inactive",__p+="\n      "),__p+='\n      <div class="'+(null==(__t=cssClass)?"":__t)+'" name="'+(null==(__t=e.name)?"":__t)+'" id="'+(null==(__t=e.name)?"":__t)+'-option">\n        ';var t=e.color||"#f6f8fa";__p+="\n     \n        ",__p+="active"===cssClass?'\n          <span class="marked"><i class="fa fa-check"></i></span>\n        ':'\n          <span style="visibility: hidden;" class="marked"><i class="fa fa-check"></i></span>\n        ',__p+='\n\n        <span class="color" style="background-color: '+(null==(__t=t)?"":__t)+'">&nbsp;</span>\n        <span class="name">'+(null==(__t=e.name)?"":__t)+"</span>\n      </div>\n    "})),__p+="\n  </div>\n\n</div>\n\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){var n,v,db;__p+="",name&&(n=name||"",v=version||""),__p+='\n<div class="footer-left">\n\x3c!--\n  <div class="social-icons">\n    <p><a href="https://twitter.com/arangodb" target="_blank"><i class="fa fa-twitter"></i></a></p>\n    <p><a href="https://www.arangodb.com/community" target="_blank"></a><i class="fa fa-envelope"></i></a></p>\n    <p><a href="https://stackoverflow.com/questions/tagged/arangodb" target="_blank"></a><i class="fa fa-stack-overflow"></i></a></p>\n    <p><a href="https://groups.google.com/group/arangodb" target="_blank"></a><i class="fa fa-google"></i></a></p>\n  </div>\n--\x3e\n</div>\n\n<div class="footer-center">\n  <p>Help <i class="fa fa-keyboard-o"></i></p>\n</div>\n\n<div class="footer-right">\n  <p>',n&&(__p+="<a>"+(null==(__t=n)?"":__t)+" "+(null==(__t=v)?"":__t)+" "),__p+="</a></p>\n</div>\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="paddingBox">\n    <div class="foxxDesc">\n      <p><span class="foxxMount">'+(null==(__t=model.get("mount"))?"":__t)+'</span></p>\n      <p><span class="foxxName">'+(null==(__t=model.get("name"))?"":__t)+'</span></p>\n      <p><span class="foxxName">'+(null==(__t=model.get("version"))?"":__t)+'</span></p>\n      \x3c!--<p><span class="foxxCategory">'+(null==(__t=model.get("category"))?"":__t)+'</span></p>--\x3e\n    </div>\n    \x3c!-- <div class="foxxActions"><button class="installFoxx button-success" appId="'+(null==(__t=model.name)?"":__t)+'" appVersion="'+(null==(__t=model.latestVersion)?"":__t)+'" >Interface</button></div>--\x3e\n    <div class="borderBox"></div>\n    <img src="'+(null==(__t=model.thumbnailUrl)?"":__t)+'" height="50" width="50" alt="Icon for Service" class="icon">\n    ',model.isDevelopment()?__p+='\n      <div class="tileBadge">\n        <span>\n          <div class="corneredBadge development">\n            Development\n          </div>\n        </span>\n      </div>\n    ':__p+='\n      <div class="tileBadge">\n        <span>\n          <div class="corneredBadge production">\n            Production\n          </div>\n        </span>\n      </div>\n    ',__p+="\n  </div>\n";return __p}},function(module,exports,__webpack_require__){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var appInfos=attributes.app.split(":");__p+='\n<div id="change-foxx" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display:none">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>\n    <a class="arangoHeader">Modify Service</a>\n  </div>\n  <div class="modal-body">\n    <table>\n      <tr>\n        <th class="collectionTh">Name:</th>\n        <th class="collectionTh"><strong>'+(null==(__t=appInfos[1])?"":__t)+'</strong></th>\n      </tr>\n      <tr>\n        <th class="collectionTh">Documentation:</th>\n        <th class="collectionTh">'+(null==(__t=documentationJsonUrl)?"":__t)+'</th>\n      </tr>\n      <tr>\n        <th class="collectionTh">Mount:</th>\n        <th class="collectionTh"><input type="text" id="change-mount-point" name="mountpoint" value="'+(null==(__t=attributes.mount)?"":__t)+'"/></th>\n        <th><span class="modalTooltips arangoicon icon_arangodb_info" title="The path where the app can be reached."></span></th>\n      </tr>\n      <tr>\n        <th class="collectionTh">Version:</th>\n        <th class="collectionTh">\n          <select>\n            <option selected>'+(null==(__t=appInfos[2])?"":__t)+'</option>\n          </select>\n        <th>\n      </tr>\n      <tr>\n        <th class="collectionTh">System:</th>\n        <th class="collectionTh">\n          '+(null==(__t=attributes.isSystem?"Yes":"No")?"":__t)+'\n        <th>\n      </tr>\n      <tr>\n        <th class="collectionTh">Status:</th>\n        <th class="collectionTh">\n          ',attributes.active?__p+='\n            <div class="modal-text active">\n              Active\n            </div>\n          ':__p+='\n            <div class="modal-text inactive">\n              Inactive\n            </div>\n          ',__p+='\n        </th>\n      </tr>\n    </table>\n  </div>\n  <div id="colFooter" class="modal-footer">\n    <button id="uninstall" class="button-danger"'+(null==(__t=attributes.isSystem||attributes.development?" disabled":"")?"":__t)+'>Uninstall</button>\n    <button id="change" class="button-success pull-right">Save</button>\n    ',__p+="\n    \n  </div>\n</div>\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="install-foxx" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display:none">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>\n    <a class="arangoHeader">Install Service</a>\n  </div>\n  <div class="modal-body">\n    <table>\n      <tr>\n        <th class="collectionTh">Name:</th>\n        <th class="collectionTh"><strong>'+(null==(__t=attributes.name)?"":__t)+'</strong></th>\n      </tr>\n      <tr>\n        <th class="collectionTh">&nbsp;</th>\n        <th class="collectionTh">&nbsp;</th>\n      </tr>\n      <tr>\n        <th class="collectionTh">Mount:</th>\n        <th class="collectionTh">\n          <input type="text" id="mount-point" name="mountpoint" value="/'+(null==(__t=attributes.name)?"":__t)+'" placeholder="mount-path" />\n        </th>\n        <th><a class="modalTooltips" title="The path where the app can be reached."><i class="arangoicon icon_arangodb_info"></i></a></th>\n      </tr>\n      <tr>\n        <th class="collectionTh">Version:</th>\n        <th class="collectionTh">\n          '+(null==(__t=attributes.version)?"":__t)+'\n        <th>\n      </tr>\n      <tr>\n        <th class="collectionTh">System:</th>\n        <th class="collectionTh">\n          '+(null==(__t=attributes.isSystem?"Yes":"No")?"":__t)+'\n        <th>\n      </tr>\n    </table>\n  </div>\n  <div id="colFooter" class="modal-footer">\n    <button class="button-success pull-right installFoxx">Install</button>    \n    <button id="cancel" class="button-danger pull-right">Cancel</button>\n  </div>\n</div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="paddingBox">\n    <div class="foxxDesc">\n      <p><span class="foxxName">'+(null==(__t=model.name)?"":__t)+'</span></p>\n      <p><span class="foxxCategory">'+(null==(__t=model.categories)?"":__t)+'</span></p>\n      \x3c!--<p><i class="fa fa-star"></i><span class="foxxStars">23</span></p>--\x3e\n    </div>\n    <div class="foxxActions">\n      ',upgrade?__p+='\n        <button class="installFoxx button-success" appId="'+(null==(__t=model.name)?"":__t)+'" appVersion="'+(null==(__t=model.latestVersion)?"":__t)+'" >Replace</button>\n      ':__p+='\n        <button class="installFoxx button-success" appId="'+(null==(__t=model.name)?"":__t)+'" appVersion="'+(null==(__t=model.latestVersion)?"":__t)+'" >Install</button>\n      ',__p+='\n    </div>\n    <div class="borderBox"></div>\n    <img src="'+(null==(__t=thumbnail)?"":__t)+'" height="50" width="50" alt="Icon for Service" class="icon">\n  </div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="headerBar">\n    <div class="search-field">\n      <input type="text" value="'+(null==(__t=searchString)?"":__t)+'" id="graphManagementSearchInput" class="search-input" placeholder="Search..."/>\n      <i id="graphManagementSearchSubmit" class="fa fa-search"></i>\n      \x3c!-- <img id="graphManagementSearchSubmit" class="search-submit-icon"> --\x3e\n    </div>\n     <div class="headerButtonBar">\n        <ul class="headerButtonList">\n          <li class="enabled">\n            <a id="graphManagementToggle" class="headerButton">\n              <span class="icon_arangodb_settings2" title="Settings"></span>\n            </a>\n          </li>\n        </ul>\n      </div>\n  </div>\n\n\n  <div id="graphManagementDropdown2" class="headerDropdown">\n\n    <div id="graphManagementDropdown" class="dropdownInner">\n      <ul>\n        <li class="nav-header">Sorting</li>\n        <li><a>\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="graphSortDesc">\n            <i class="fa"></i>\n            Sort descending\n          </label>\n        </a></li>\n      </ul>\n    </div>\n\n  </div>\n\n\n  <div class="contentDiv" id="arangoCollectionsContainer">\n    <div id="graphManagementThumbnailsIn" class="tileList pure-u">\n      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">\n        <div class="fullBorderBox">\n          <a href="#" id="createGraph" class="add">\n            <span id="newGraph" class="pull-left add-Icon"><i class="fa fa-plus-circle"></i></span>\n            Add Graph\n          </a>\n        </div>\n      </div>\n\n\n      ',graphs.forEach((function(e){var t=e.get("_key"),n=e.get("isSmart"),i=e.get("isDisjoint"),a=e.get("isSatellite")||"satellite"==e.get("replicationFactor");__p+='\n\n      <div class="tile tile-graph pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6" id="'+(null==(__t=t)?"":__t)+'_tile">\n        <div class="paddingBox">\n          <div class="borderBox"></div>\n          <div class="iconSet">\n            <span class="icon_arangodb_settings2 editGraph" id="'+(null==(__t=t)?"":__t)+'_settings" alt="Edit graph" title="Edit graph"></span>\n          </div>\n          <span class="icon_arangodb_edge5 tile-icon"></span>\n          <span class="icon_arangodb_edge5 icon_arangodb_edge5-2 tile-icon"></span>\n          <div class="tileBadge">\n            ',!0===n?(__p+="\n              ",__p+=!0===i?'\n                <span><div class="corneredBadge inProgress">Disjoint Smart</div></span>\n              ':'\n                <span><div class="corneredBadge inProgress">Smart</div></span>\n              ',__p+="\n            "):!0===a&&(__p+='\n              <span><div class="corneredBadge inProgress">Satellite</div></span>\n            '),__p+='\n          </div>\n          <h5 class="collectionName">'+(null==(__t=t)?"":__t)+"</h5>\n        </div>\n      </div>\n\n      "})),__p+="\n     </div>\n  </div>\n\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="\n  ";var genClass="pure-u-1-3";__p+="\n  ";var genClass2="pure-u-2-3";__p+="\n\n  ";var formatName=function(e){return __p+="\n    ",e.charAt(0).toUpperCase()+string.slice(1)};__p+='\n\n  <div id="graphSettingsView" class="innerContent">\n    \n    <div class="pure-g" style="margin-top: -13px">\n      <div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1 pure-u-xl-1-1">\n    \n        <div class="pure-g pure-table pure-table-body">\n\n          ',_.each(general,(function(e,t){__p+="\n            ","divider"===e.type?__p+='\n              <div class="pure-u-1-1 left heading">'+(null==(__t=e.name)?"":__t)+"</div>\n            ":(__p+='\n            <div class="'+(null==(__t=genClass)?"":__t)+' left">\n              '+(null==(__t=e.name)?"":__t)+'\n            </div>\n            <div class="'+(null==(__t=genClass2)?"":__t)+' left">\n\n              ',"select"===e.type&&(__p+='\n                  <select id="g_'+(null==(__t=t)?"":__t)+'">\n                    ',_.each(e,(function(e,t){__p+="\n                      ",e.name&&(__p+='\n                        <option value="'+(null==(__t=e.val)?"":__t)+'"> '+(null==(__t=e.name)?"":__t)+" </option>\n                      "),__p+="\n                    "})),__p+="\n                  </select>\n              "),__p+="\n\n              ","string"===e.type&&(__p+='\n                <input id="g_'+(null==(__t=t)?"":__t)+'" type="text" placeholder="attribute"></input>\n              '),__p+="\n\n              ","number"===e.type&&(__p+='\n                <input id="g_'+(null==(__t=t)?"":__t)+'" type="text" id="'+(null==(__t=e)?"":__t)+'" value="'+(null==(__t=e.value)?"":__t)+'" placeholder=""></input>\n              '),__p+="\n\n              ","range"===e.type&&(__p+='\n                <label id="g_'+(null==(__t=t)?"":__t)+'_label" class="rangeLabel">1</label>\n                <input id="g_'+(null==(__t=t)?"":__t)+'" type=\'range\' min="0" max="9" val="1"/>\n              '),__p+="\n\n              ","color"===e.type&&(__p+='\n                <input id="g_'+(null==(__t=t)?"":__t)+"\" type='color' name='color' value=\""+(null==(__t=VALUE)?"":__t)+'"/>\n              '),__p+='\n\n              <i title="'+(null==(__t=e.desc)?"":__t)+'" class="fa fa-info-circle gv-tooltips" aria-hidden="true"></i>\n              </div>\n            '),__p+="\n\n          "})),__p+='\n        </div>\n\n      </div>\n\n      <div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1 pure-u-xl-1-1">\n    \n        <div class="pure-g pure-table pure-table-body">\n          ',_.each(specific,(function(e,t){if(__p+="\n\n            ","true"!==e.hide){var n;if(__p+="\n              ","divider"===e.type)__p+='\n                <div class="pure-u-1-1 left heading">'+(null==(__t=e.name)?"":__t)+"</div>\n              ";else __p+='\n                <div class="'+(null==(__t=genClass)?"":__t)+' left">\n                  '+(null==(__t=e.name)?"":__t)+'\n                </div>\n\n                <div class="'+(null==(__t=genClass2)?"":__t)+' left">\n\n                  ',__p+="\n                  ",e.value?(__p+="\n                    ",n=e.value,__p+="\n                  "):(__p+="\n                    ",n=e.default,__p+="\n                  "),__p+="\n\n                  ","string"===e.type&&(__p+='\n                    <input id="g_'+(null==(__t=t)?"":__t)+'" type="text" placeholder="attribute"></input>\n                  '),__p+="\n\n                  ","number"===e.type&&(__p+='\n                    <input id="g_'+(null==(__t=t)?"":__t)+'" type="text" placeholder="number"></input>\n                  '),__p+="\n\n                  ","color"===e.type&&(__p+='\n                    <input id="g_'+(null==(__t=t)?"":__t)+"\" type='color' name='color' value=\""+(null==(__t=n)?"":__t)+'"/>\n                  '),__p+="\n\n                  ","range"===e.type&&(__p+='\n                    <label id="g_'+(null==(__t=t)?"":__t)+'_label" class="rangeLabel">1</label>\n                    <input id="g_'+(null==(__t=t)?"":__t)+'" type=\'range\' min="0" max="9" val="1"/>\n                  '),__p+="\n\n                  ","select"===e.type&&(__p+='\n                    <select id="g_'+(null==(__t=t)?"":__t)+'">\n                      ',_.each(e,(function(e,t){__p+="\n                        ",e.name&&(__p+='\n                          <option value="'+(null==(__t=e.val)?"":__t)+'"> '+(null==(__t=e.name)?"":__t)+" </option>\n                        "),__p+="\n                      "})),__p+="\n                    </select>\n                  "),__p+='\n                  <i title="'+(null==(__t=e.desc)?"":__t)+'" class="fa fa-info-circle gv-tooltips" aria-hidden="true"></i>\n                </div>\n              ';__p+="\n            "}__p+="\n          "})),__p+='\n        </div>\n\n        <div class="pure-u-1-1">\n          <button id="saveGraphSettings" style="margin-top: 20px; margin-right: 10px;" class="button-success pull-right">Save</button>\n          <button id="restoreGraphSettings" style="margin-top: 20px;" class="button-success pull-right">Restore defaults</button>\n        </div>\n      </div>\n  </div>\n\n'}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="control-group">\n  <label for="'+(null==(__t=type)?"":__t)+"_"+(null==(__t=id)?"":__t)+'" class="control-label">Attribute '+(null==(__t=id)?"":__t)+'</label>\n  <div class="controls">\n    <input id="'+(null==(__t=type)?"":__t)+"_"+(null==(__t=id)?"":__t)+'" type="text" name="'+(null==(__t=type)?"":__t)+"_"+(null==(__t=id)?"":__t)+'" placeholder="Attribute" maxlength="75" class="input-xlarge">\n    <button id="remove_'+(null==(__t=type)?"":__t)+"_"+(null==(__t=id)?"":__t)+'" class="graphViewer-icon-button gv_internal_remove_line gv-icon-small delete" />\n  </div>\n</div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="graphContent" id="graphContainer">\n\n    <div class="headerBar">\n      <div class="headerButtonBar" style="margin: 0;">\n        <ul class="headerButtonList">\n          <li class="enabled">\n            <a id="settingsMenu" class="headerButton">\n              <span title="Configure graph settings">\n                <i class="fa fa-bars fa-stack-1x"></i>\n              </span>\n            </a>\n          </li>\n          <li class="enabled">\n            <a id="graph-fullscreen-btn" class="headerButton">\n              <span title="Switch to fullscreen mode">\n                <i class="fa fa-television"></i>\n              </span>\n            </a>\n          </li>\n          <li class="enabled">\n            <a id="downloadPNG" class="headerButton">\n              <span title="Download visible graph as png image">\n                <i class="fa fa-camera fa-stack-1x"></i>\n              </span>\n            </a>\n          </li>\n          <li class="enabled">\n            <a id="loadFullGraph" class="headerButton">\n              <span title="Fetch full graph - use with caution">\n                <i class="fa fa-share-alt"></i>\n              </span>\n            </a>\n          </li>\n          \x3c!--\n          <li class="enabled">\n            <a id="selectNodes" class="headerButton">\n              <span title="Lasso tool - Select and delete multiple nodes">\n                <i class="fa fa-paint-brush fa-stack-1x"></i>\n              </span>\n            </a>\n          </li>\n          --\x3e\n        </ul>\n      </div>\n    </div>\n\n    \x3c!--<div id="graph-fullscreen-btn"><i class="fa fa-desktop"></i></div>--\x3e\n    <div id="graph-container" oncontextmenu="return false;"></div>\n  </div>\n\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n<div class="helpUs">\n  <iframe src="https://docs.google.com/forms/d/1vsIwy0mJSeToEnfo_jnBaQebewbcURL730IkZIrkyEE/viewform?embedded=true" scrolling="no" width="100%" height="1300px" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>\n</div>\n\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="  ","undefined"!==typeof supported&&(__p+='\n    <div class="contentIn" id="indexHeaderContent">\n        <div id="indexEditView">\n          <table id="collectionEditIndexTable" class="edit-index-table arango-table">\n            <thead>\n              <tr class="figuresHeader">\n                <th class="collectionInfoTh">ID</th>\n                <th class="collectionInfoTh">Type</th>\n                <th class="collectionInfoTh">Unique</th>\n                <th class="collectionInfoTh">Sparse</th>\n                <th class="collectionInfoTh">Extras</th>\n                <th class="collectionInfoTh">Selectivity Est.</th>\n                <th class="collectionInfoTh">Fields</th>\n                <th class="collectionInfoTh">Name</th>\n                <th class="collectionInfoTh">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n            </tbody>\n            <tfoot>\n              <tr>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td><i class="fa fa-plus-circle" id="addIndex"></i></td>\n              </tr>\n            </tfoot>\n          </table>\n      </div>\n\n        <div id="newIndexView" class="new-index-view" style="display:none">\n            <table>\n                <tr>\n                    <th class="collectionTh">Type:</th>\n                    <th class="">\n                        <select id="newIndexType">\n                            <option style="display: none" disabled selected value="unknown"> -- select an index type\n                                --\n                            </option>\n                            ',supported.indexOf("persistent")>-1&&(__p+='\n                                <option value="Persistent">Persistent Index</option>\n                            '),__p+="\n                            ",supported.indexOf("geo")>-1&&(__p+='\n                                <option value="Geo">Geo Index</option>\n                            '),__p+="\n                            ",supported.indexOf("hash")>-1&&(__p+='\n                                <option value="Hash">Hash Index</option>\n                            '),__p+="\n                            ",supported.indexOf("fulltext")>-1&&(__p+='\n                                <option value="Fulltext">Fulltext Index</option>\n                            '),__p+="\n                            ",supported.indexOf("skiplist")>-1&&(__p+='\n                                <option value="Skiplist">Skiplist Index</option>\n                            '),__p+="\n                            ",supported.indexOf("ttl")>-1&&(__p+='\n                                <option value="Ttl">TTL Index</option>\n                            '),__p+="\n                            ",supported.indexOf("zkd")>-1&&(__p+='\n                                <option value="Zkd">ZKD Index (EXPERIMENTAL!)</option>\n                            '),__p+='\n                        </select>\n                    </th>\n                    <th class="tooltipInfoTh">\n                        <div class="tooltipDiv">\n                            <a class="index-tooltip" data-toggle="tooltip" data-placement="left"\n                               title="Type of index to create. ',supported.indexOf("hash")<=-1&&(__p+="Please note that for the RocksDB engine the index types hash, skiplist and persistent are identical, so that they are not offered seperately here."),__p+='">\n                                <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                            </a>\n                        </div>\n                    </th>\n                </tr>\n            </table>\n            <div id="newIndexTypeGeo" class="newIndexClass" style="display: none">\n              <table>\n                <tr>\n                  <th class="collectionTh">Fields:</th>\n                  <th><input type="text" id="newGeoFields" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="A comma-separated list with one or two attribute paths. Example: latitude,longitude">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Name:</th>\n                  <th><input type="text" id="newGeoName" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Geo JSON:</th>\n                  <th>\n                    <input id="newGeoJson" type="checkbox" name="newGeoJson" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Set geoJson to true if the coordinates stored in the specified attribute are arrays in the form [longitude,latitude].">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Create in background:</th>\n                  <th>\n                    <input id="newGeoBackground" type="checkbox" name="newGeoBackground" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Create the index in background.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n              </table>\n            </div>\n            <div id="newIndexTypePersistent" class="newIndexClass" style="display:none">\n              <table>\n                <tr>\n                  <th class="collectionTh">Fields:</th>\n                  <th><input type="text" id="newPersistentFields" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="A comma-separated list of attribute paths.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Name:</th>\n                  <th><input type="text" id="newPersistentName" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Unique:</th>\n                  <th>\n                    <input id="newPersistentUnique" type="checkbox" name="newPersistentUnique" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="If true, then create a unique index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Sparse:</th>\n                  <th>\n                    <input id="newPersistentSparse" type="checkbox" name="newPersistentSparse" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="If true, then create a sparse index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Deduplicate array values:</th>\n                  <th>\n                    <input id="newPersistentDeduplicate" type="checkbox" name="newPersistentDeduplicate" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Duplicate index values from the same document into a unique array index will lead to an error or not.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Maintain index selectivity estimates:</th>\n                  <th>\n                    <input id="newPersistentEstimates" type="checkbox" name="newPersistentEstimates" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Maintain index selectivity estimates for this index. This option can be turned off for non-unique-indexes to improve efficiency of write operations, but will lead to the optimizer being unaware of the data distribution inside this index">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Create in background:</th>\n                  <th>\n                    <input id="newPersistentBackground" type="checkbox" name="newPersistentBackground" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Create the index in background.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n              </table>\n            </div>\n            <div id="newIndexTypeHash" class="newIndexClass" style="display:none">\n              <table>\n                <tr>\n                  <th class="collectionTh">Fields:</th>\n                  <th><input type="text" id="newHashFields" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="A comma-separated list of attribute paths.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Name:</th>\n                  <th><input type="text" id="newHashName" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Unique:</th>\n                  <th>\n                    <input id="newHashUnique" type="checkbox" name="newHashUnique" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="If true, then create a unique index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Sparse:</th>\n                  <th>\n                    <input id="newHashSparse" type="checkbox" name="newHashSparse" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="If true, then create a sparse index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Deduplicate array values:</th>\n                  <th>\n                    <input id="newHashDeduplicate" type="checkbox" name="newHashDeduplicate" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Duplicate index values from the same document into a unique array index will lead to an error or not.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Maintain index selectivity estimates:</th>\n                  <th>\n                    <input id="newHashEstimates" type="checkbox" name="newHashEstimates" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Maintain index selectivity estimates for this index. This option can be turned off for non-unique-indexes to improve efficiency of write operations, but will lead to the optimizer being unaware of the data distribution inside this index">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Create in background:</th>\n                  <th>\n                    <input id="newHashBackground" type="checkbox" name="newHashBackground" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Create the index in background.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n              </table>\n            </div>\n            <div id="newIndexTypeFulltext" class="newIndexClass" style="display:none">\n              <table>\n                <tr>\n                  <th class="collectionTh">Fields:</th>\n                  <th><input type="text" id="newFulltextFields" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="A single attribute path. Example: message.text">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Name:</th>\n                  <th><input type="text" id="newFulltextName" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Min. length:</th>\n                  <th><input type="text" id="newFulltextMinLength" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Minimum character length of words to index. Will default to a server-defined value if unspecified. It is thus recommended to set this value explicitly when creating the index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Create in background:</th>\n                  <th>\n                    <input id="newFulltextBackground" type="checkbox" name="newFulltextBackground" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Create the index in background.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n              </table>\n\n            </div>\n            <div id="newIndexTypeSkiplist" class="newIndexClass" style="display:none">\n              <table>\n                <tr>\n                  <th class="collectionTh">Fields:</th>\n                  <th><input type="text" id="newSkiplistFields" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="A comma-separated list of attribute paths.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Name:</th>\n                  <th><input type="text" id="newSkiplistName" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Unique:</th>\n                  <th>\n                    <input id="newSkiplistUnique" type="checkbox" name="newSkiplistUnique" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="If true, then create a unique index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Sparse:</th>\n                  <th>\n                    <input id="newSkiplistSparse" type="checkbox" name="newSkiplistSparse" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="If true, then create a sparse index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Deduplicate array values:</th>\n                  <th>\n                    <input id="newSkiplistDeduplicate" type="checkbox" name="newSkiplistDeduplicate" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Duplicate index values from the same document into a unique array index will lead to an error or not.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Maintain index selectivity estimates:</th>\n                  <th>\n                    <input id="newSkiplistEstimates" type="checkbox" name="newSkiplistEstimates" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Maintain index selectivity estimates for this index. This option can be turned off for non-unique-indexes to improve efficiency of write operations, but will lead to the optimizer being unaware of the data distribution inside this index">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Create in background:</th>\n                  <th>\n                    <input id="newSkiplistBackground" type="checkbox" name="newSkiplistBackground" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Create the index in background.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n              </table>\n            </div>\n            <div id="newIndexTypeTtl" class="newIndexClass" style="display:none">\n              <table>\n                <tr>\n                  <th class="collectionTh">Fields:</th>\n                  <th><input type="text" id="newTtlFields" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="A single attribute path containing a numeric datetime value. Example: createdAt">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Name:</th>\n                  <th><input type="text" id="newTtlName" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Documents expire after (s):</th>\n                  <th><input type="text" id="newTtlExpireAfter" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Number of seconds to be added to the timestamp attribute value of each document. If documents have reached their expiration timepoint, they will eventually get deleted by a background process.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Create in background:</th>\n                  <th>\n                    <input id="newTtlBackground" type="checkbox" name="newTtlBackground" value="true">\n                  </th>\n                    <th class="tooltipInfoTh">\n                        <div class="tooltipDiv">\n                            <a class="index-tooltip" data-toggle="tooltip" data-placement="left"\n                               title="Create the index in background.">\n                                <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                            </a>\n                        </div>\n                    </th>\n                </tr>\n              </table>\n            </div>\n            <div id="newIndexTypeZkd" class="newIndexClass" style="display:none">\n                <table>\n                    <tr>\n                        <th class="collectionTh">Fields:</th>\n                        <th><input type="text" id="newZkdFields" value=""/></th>\n                        <th class="tooltipInfoTh">\n                            <div class="tooltipDiv">\n                                <a class="index-tooltip" data-toggle="tooltip" data-placement="left"\n                                   title="A comma-separated list of attribute paths.">\n                                    <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                                </a>\n                            </div>\n                        </th>\n                    </tr>\n                    <tr>\n                        <th class="collectionTh">Name:</th>\n                        <th><input type="text" id="newZkdName" value=""/></th>\n                        <th class="tooltipInfoTh">\n                            <div class="tooltipDiv">\n                                <a class="index-tooltip" data-toggle="tooltip" data-placement="left"\n                                   title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                                    <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                                </a>\n                            </div>\n                        </th>\n                    </tr>\n                    <tr>\n                        <th class="collectionTh">Field Value Types:</th>\n                        <th>\n                            <input type="text" id="newZkdFieldValueTypes" value="double" disabled\n                                   style="background: #dddddd !important; cursor: not-allowed"/>\n                        </th>\n                        <th class="tooltipInfoTh">\n                            <div class="tooltipDiv">\n                                <a class="index-tooltip" data-toggle="tooltip" data-placement="left"\n                                   title="The value type of the fields being indexed (only double supported for now).">\n                                    <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                                </a>\n                            </div>\n                        </th>\n                    </tr>\n                    <tr>\n                        <th class="collectionTh">Create in background:</th>\n                        <th>\n                            <input id="newZkdBackground" type="checkbox" name="newZkdBackground" value="true">\n                        </th>\n                        <th class="tooltipInfoTh">\n                            <div class="tooltipDiv">\n                                <a class="index-tooltip" data-toggle="tooltip" data-placement="left"\n                                   title="Create the index in background.">\n                                    <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                                </a>\n                            </div>\n                        </th>\n                    </tr>\n                </table>\n            </div>\n            <div class="index-button-bar index-button-bar2">\n                <button id="createIndex" class="button-success" style="margin-left: 15px;">Create</button>\n                <button id="cancelIndex" class="button-close" style="margin-left: 0;"><i class="fa fa-arrow-left"></i>\n                    <span style="margin-left: 5px;">Back</span>\n                </button>\n            </div>\n        </div>\n        <div id="modal-dialog">\n            <div class="modal-footer" style="border: none"></div>\n        </div>\n      </div>\n    '),__p+="\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="currentInfoBox" class="infoBox" style="margin-top: 10px; margin-bottom: 30px; background: #fff">\n  <h4>'+(null==(__t=title)?"":__t)+"</h4>\n  <p>"+(null==(__t=message)?"":__t)+"</p>\n</div>";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\t<div id="lineChartDetail" class="modal hide fade modal-chart-detail" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display:none">\n\t\t<div class="modal-header">\n\t\t\t<button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>\n\t\t\t<a class="arangoHeader">'+(null==(__t=figure)?"":__t)+'</a>\n\t\t</div>\n\t\t<div id="dashboardDetailedLineChart" class="dashboardDetailChart" style="position: absolute"></div>\n\t</div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<thead>\n  <tr role="row">\n    <th class="sorting_disabled docsFirstCol">Content</th>\n    <th class="sorting_disabled docsSecCol">_key</th>\n    <th class="sorting_disabled docsThirdCol">\n      <a id="addDocumentButton" class="pull-right addButton"><span class="arangoicon icon_arangodb_roundplus" title="Add a document"></span></a>\n    </th>\n  </tr>\n</thead>\n<tbody>\n  <tr class="odd">\n    <td valign="top" class="dataTables_empty">Loading...</td>\n  </tr>\n</tbody>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="loggerContent" class="logger-content-id innerContent">\n\n  <div class="arangoToolbar arangoToolbarTop">\n\n    <div class="pull-left">\n    </div>\n\n    <div class="pull-right">\n      <button id="logTopicSelection" class="button-default filterSelect">Topic <i class="fa fa-caret-down"></i></button>\n      <button id="logLevelSelection" class="button-default filterSelect">Level <i class="fa fa-caret-down"></i></button>\n      <button style="display: none" class="button-default filterSelect" id="logFilters">\n        <i class="fa fa-close"></i>Clear current <a id="filterDesc"></a> filter\n      </button>\n    </div>\n\n  </div>\n\n  <div id="noLogEntries" style="display: none">\n    <span>No suitable log entries found </span>\n  </div>\n\n  <div id="logEntries">\n  </div>\n\n  <div class="actions">\n    <button id="loadMoreEntries" class="button-success">Load older entries</button>\n    <button id="downloadDisplayedEntries" class="button-success">Download</button>\n  </div>\n\n</div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",_.each(entries,(function(e){__p+='\n  <div class="pure-g" level="'+(null==(__t=e.status.toLowerCase())?"":__t)+'" topic="'+(null==(__t=e.topic.toLowerCase())?"":__t)+'">\n    <div class="pure-u-1-24">\n      <p class="labels">\n        ';var t=arangoHelper.statusColors[e.status.toLowerCase()];__p+="\n        ";var n=arangoHelper.alphabetColors[e.topic.charAt(0).toLowerCase()];__p+='\n        <span class="tippy level" title="Level: '+(null==(__t=e.status)?"":__t)+'" style="background: '+(null==(__t=t)?"":__t)+'"></span>\n        <span class="tippy topic" title="Topic: '+(null==(__t=e.topic)?"":__t)+'" style="background: '+(null==(__t=n)?"":__t)+'"></span>\n      </p>\n    </div>\n    <div class="pure-u-19-24 desc">\n      <p class="msg">'+(null==(__t=e.msg)?"":__t)+'</p>\n    </div>\n    <div class="pure-u-4-24 date">\n      <p>\n        ';var i=moment(e.timestamp,"X").fromNow();__p+='\n        <i class="fa fa-clock-o" aria-hidden="true"></i>\n        <span class="tippy" title="'+(null==(__t=e.date)?"":__t)+'">'+(null==(__t=i)?"":__t)+'</span>\n      </p>\n    </div>\n    <div class="logBorder"></div>\n  </div>\n'})),__p+="\n";return __p}},function(module,exports,__webpack_require__){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="loginFixedWindow">\n\n  <div id="loginWindow" class="login-window">\n    <div class="login-logo-round">\n      <img id="ArangoDBLogoVersion"src="'+__webpack_require__(483)+'" />\n    </div>\n    <p class="wrong-credentials" style="display:none">Login failed!</p>\n    <p id="noAccess" class="no-access" style="display:none">Database not found!</p>\n    <p class="checking-password" style="display:none">\n      <i class="fa fa-circle-o-notch fa-spin fa-fw"></i>\n      <span class="sr-only">Loading...</span>\n    </p>\n    <form id="loginForm">\n      <input class="login-input" placeholder="username" id="loginUsername" type="text" name="username"><i class="fa fa-user"></i>\n      <input class="login-input" placeholder="password" id="loginPassword" type="password" name="password" autocomplete="off"><i class="fa fa-lock"></i>\n\n      <button id="submitLogin" class="button-success pull-right">Login</button>\n    </form>\n\n    <div id="databases" style="display: none">\n      <form id="dbForm">\n          <i class="fa fa-database"></i>\n          <select id="loginDatabase">\n            <option>database</option>\n          </select>\n          <button id="goToDatabase" class="button-success pull-right">Select</button>\n      </form>\n      <button id="logout" class="button-danger pull-right">Logout</button>\n    </div>\n  </div>\n</div>\n';return __p}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAClCAYAAAC+7wThAAAABmJLR0QA/wD/AP+gvaeTAAAlbUlEQVR42u1dB1hUV/Y3+9+eTbLZbEvZzZaUzWZ3s4nRmQFUsCNMQQUBxd4bMwOCPViw99iw0xRRERjAGikWLNhFVFBTNtHE1U1iiSV6/+e8mQdv7ntTmRlm4J7vO5+F4c179/7euaefZs0YMWLkXZSU1OwHPfQt34jUy1UROllchE4+K1InX9FDL8+I0Mrzeujke3iO1Ms29tApFsFnE3voFb0j9Yp24WNa/J6tIqNm4Ulv/zhcp2gToVdMBbDsBf4amNSTb0Zq5fsBdCk9tPKB4fEt/8xWuglQ9NiA53voZP0idIoCAMEdFwDJNmvlNRzQ9IrwsBEtX2C70EgoMCnwh5FaWXcTmB44CZC7cCz+F46+T6PjFVW94hXnkSN1ik/g/27Bzx/beZ2HwPkIsr5JgT9lu+ODpNEG/hIAFQ8b+bED0uV2zBjF6eFTWpdOXtJu/8K04LNrcpQ30g1qYovX5ihvLs7oUjV9RcfyhDmBJQMnBhyMjpNfsQK6r0CPS+45SvYK2y0fINioZ0G6TIONu20PkPqO8zsybkHbkmWbQqrTDarH9oDIEV6/XfXt7LWdT4yc1rokMk5xVeI+HsH9bogeLXud7Z4X0uDBzX8EusxIlATWwASbeH3oB61LZ63uVJGap77vaiDZ4kVpXSpRIoKu9z/q3r6He0sPjw34I9tNb7HwwLqDjam2ptv0m+BfPnNVp6Np+erv7QZCgYZs3dWdFJZGk32H+5KyY/3JgeMDyKETAznGv5ce7Qc/60N2H4whhpIosm1PONlYGGbz2hvyVHfGL2pbKiHF7sIRPonpYA1IuPiwEfMs6zGKr+LmBBXbqydl7+xGdu7vyYHm7IWRpOaqjlz+WO8UX7qiJacqh5P9Ff1JUWlPi2ADqflwPBzF6KqgrUl8Ydgue1pKaf3+DYt/VvK40yuuj53frhSkwj1rQMosCANpFEXKTw4i56tHOw0ie7gG+GTlMLLzQC/4Xo2E8q/6etDEgP3UszwBB+0S5eDmP2c77gGK0Cr6w6LfF4NKdiduTmAxHjOWwISSY0dZT3Lk9GBOqrgTTJb4Qk0sKT7SF+5FDLBpKzuUgwvjJvVcJ8Hx+ie2824iLuwCoRQpKdU70e9YSnbofywBKmdvBDkIR1xDgUmKq0BK7oCjl77XVVtCvoiOU9A64w0AVyBDgVusPvkmKSmFPicpMGUUqEkRSKczVSO8BkxSfPzsUJK9q5vZvYNeeKvXGD/6qL8PTtkwhgYXUfCo4J/AohpoUPWMV1xYlhV6RQpQO/ZHcwq4NwPKXNnXkY/K+4gsx5gEv+O0WwLDUgwVrvFP5dKgQs92ar76OxpU6B44dX6EzwCK5mNnhpJNRV3rwJWruttrjP9p6vkfY1YFQ4fz9BRYflk0qHQz2hwDf5S5lAJGP1ONjwKK1r1yP+oh9N7fg2PxgsihCjFQBhFnrD+9YhwNqjFzgkpoKYVvOOoplxsBqHiuhqMRHbO1Ote20JtRcYoaaj0eMF+Xo6DSydsb9Ym6hQRXwiHR0Qee7sqLIxsVqGoZHLS7wO9Vay1mh34JrohrVIjqvz3G+P2VIcYe5+eoVr+BRbsuXMChSa1KaVDhceFN7gO3OFav6rloAP/MSzKDL0bo5d9Skus8ZnMw5NjSq3SKXcKF6zvW/yidedAUQCWUXBgW4p993rrOp8QOYkUZZsUy+FggtHao8MwXqF/Qzs4mAype57qqJXn76hR69N1xIR/BWkXoZUsZgiQIxTl1BD6es67TSSGoNkOguKpmdJMClTCwnQM6Jb8WsTMDi0VxUq1sBEOSWGFfLFykUZAcRzs+j58b1iRBxXPlpVG1fi5wuTzpP97/EJ0iFKlr2YqhiT8CtfK3hFZglF5xmU7EK4Hcp4ZUok+eH0aKj/YlBcVR3HGMjDlYmIt15JTngtroWsGXjANXnuph7wS/k7SlyILWPLB08mxhusi89Z1OCUG1HTbxcj3yo5x2VsKxi5kIm3d0tZnPhekwmDlxxgOhJHQGC/Ptwcf1MQWuIxgKa+IKe8t3hMl6Ayb6H6YzOU+7IUxzvjoWcqRGgrQZRsqODua4/PhQUnF6ODl3cTQpAUBlFmmcSkEuKImGa4x0qwQtgFwy/vs+zAy5EinO8/+wqUsrQ51lI/92zZbQ68JN2nuot8MLf/GylpSfGEYKi/uR9O2RZFFqGJm+PIQkzu1IhiUFEgiR2KzaGTy5NRm/oCOZv15J1uc4Di4MM30Eacs1bpK0F2u0nDHDf98MSL2ms2nBUuzVJEEVGSuXCRdCPzuwjE7MuwiJcdJvrQ6CtsPJztL+JA3AM2+dhoyb15EMmtwG3BTmIOmVoCCxyUHkg6WdyPx1SrJyswZicF1JRn43srGgO8kqDOcY/54BvHZbGFm4QUkmLOwA1zKCcPiUQDJvbShJzXVMiuXu7cHF/9wBrtPnh8P91t2PbmabMjqHHk+Epqi0Z9XpBYqvIFXELGMBixUuwJt54NgQsn13b5KS1Z0krwgh2uR2kDZjLnX6jfMnExd15ACxdltXDiSbd3Qnm+zQj6wxWmEZhm5k2opgEhUn50CLkmztNvsBlgX3cNpNeWGYV1/3XaonfcaZK/OYP49V4E1HWulb/AHr6vgFGL+wbSlYghC26IIpumTM3CAyOrktbKbCDEAjpweR5JXBZOUm2Nh8I3iydnSzurEo+bbt7l5rzdGMP8NjxVaFzWb4njVbwkhfADECDIG8frt94MJrV5wb6hZ9y1AcZabMw719TnnmczGq0USUdvlssxyrCf5PIgUggiQ38sGSTiQFjq1Nhd1JNgDI2sbjz9B6xMDtfrCajsMmot8HMwUc089iOcsOiyxQv8McLykptixTTaLjjfe5dKO94NKAwTDc9Xn0l831LbSqaX0LwDa6UQIJq01AmQyCt2eyqSXQfUE26J2EeW0fzF0HQMoGPSZPZeN4CiP58JZiTR/6kM4BgPDNdZcVhunN6K/KoCpsNu/sTvSz2nLPgPqXvUerOzIyTlQOr/VvIWP1NZ3aHB4na+7zQFIl+D8D53swAGkmPNRBU1MMo3SaHHB50pL2ZR9uDCkDveoSLARXSLouuwtZuiKQLFroT+bNlNfy8sWtyab0LmTvvp5gxo9qMEcplokVlUWLJOXU5Z2551pmp+TCdB93OFSF/i3IsH0QFe9H53Bdion/19M+BSS84UhtyxCuiFQvP8rrTyCCvx82pdWFaSs6lK7cHFoOCuYNY0hCRZYsbU2S9G8TXfeXSX/FL0jvd39qkwfIf0ESu71CFo15l2xZ3ZmcOj7E4wArPznQ7FjOhCNuMhzbeCym5oXZBS5n3Cj26Ft5+yJrvwMblQhfaM4FAaEzrwYSlmNBXOp9U6ZnMd8mKCpe/t2o6W1OQ3+E4tVblZhG/C3/oJhSjGAa2/+vZIDfM3YByRb3ff/nZG7sP0l5aR+Pggv1sGyBXoNH3FBwdSSvDLHbWnRH5ivWLWYJLGHtzEDaBfE4ItavtXcl4YWH/x+nJ2llK+sacCgeD00KqJoJQFqzVYXZCKJmG6m5SjJ76vtkWIcXXAImKe7T/Gdk9sh/kMMH+nn0aBSCayMYGaAvYuk8sbes/9IVnVviiYIy/vsSdYrVXtEfoodeJscQAfA1XtmGngMHl2eFHOSPNosdVhb4kWHt3QcokQQDgC2bLCNVVSM9JrmEZfPaGW3JknT7/WQYi3THfe06EFO3B+nBl+hUbzxpGgRMXD0fl3inOMaBaYzi3viF7Y6t2ao8zSvblngLmOh5O8LJ1MFvegxQNI/s8GtSuDnMI+Aqhm40dVU1XaHoo73dwEJdzR2eeUwO3CbI3xo5tRVtJX4TFSv7neeOO8g5x+ZloOR9yVtwH2YEl6bnq29bWxxssIFl7Og7Kt3TkwwPer7BQCXk5SC9qi9r3Z4FkW6SWuhPwlhkqsF+z/zO/b3ccl9YY8m7ILCMrEeceTEGqjTuB5RO8TLXiBWU8Ci9/NHERe0PrMtVnrcmlfZC9S4m3+HbwT9MUXYYZ7l5A6h4Tur7Gjl31r2FrPmm1GH0daGe5UjIBzffXZXbaH3y3zNzVccDdEfB6Di/V90moUxe8DuoiKPutCFPeVlqATDv+kDFAHL+krTo3rauC6dEexOoeI7XvEwqK90Hrr2CEnndzLZkaabKoZjk7oPukVoYSRBaieKyfdkcl3vCwceUZOzXaRlQGIbAMMmpKuuhiLwMFac4eyOoeJ7S/w23HYsYMOfXbOyC9pBtoXQIWOgLQxC4496OnBpS+z0L04MvUIUYX2PvVhcFgOU9QIf6DP58MnZBu0Pg/a6RCpugJ9ceD/He/AjSr8XTXg0qnhcnNncPsI7UAStudjsyI6WLw5kUh04McptEFVb5QBD9KBWkHlkvQKEVAIDK4XKfZgVVAqCuSKXYYgzO3rendFdPr9OpbHFeutLlGyfsFoMpPNOXBzsMLCyrdxewUJEXFr4Kg9SYyuw8qLQt26JTEyyWb6D9NCbUPaEfLL84krPq7HYQgq9odKff+BSokIe0fo6cOuHaUBCfKpwFHnjcrGnLuziR++Ve9wjm5PPf1Wec/zGh1AqP9X/TmRQVPVoAo6cHnoLg5OdSehR2AXY0Q2Ce/h2fA5VQ33LlpvHN0zYVdec2ataqUKcSC6vc2A8VhQbvzIX+88epAoxpDuaUc2kqEIHvgHV6j6R6IFiy8qzxnrwInwUVz+gacZkfy7SemD+G673AQeWd5xPn3Ns5Z8/BmNq6RCizE7YDv2S/kq6T67iHTO1cIvUQqEs501OqBuJbCV1f9nlg6UNf5J7FlVYXn5+1NEPlFLCOnXFvtkYlpB3xTtPEeW1LqTTmt+wAVctWGB+avz64RKoV9VHoHOy0hQHKr6+DimdXhH34JrWYusxv0qotGq8EFjLfe2vtNuXXwvRw8GmNtacPwifjwJUgVZZU35tPgHyoxgKsqf3eqGcOlI5TunFtV8PRym/Shu3OAcsTbQQqztRlP0DH6RN1epbskK1avXn9xgd8Bsl039Chg/qC6sBHMY0GVHw+V9WFUfU4BgfXhnIwH8tYMRTgdFVQVbUHmp7Ay8B74yGxQDi44LHFabG9tM1fxHqyldmYren6FI2l41s0KmAh48vi7Hpg/wahNYicCPWNzoAKg/meyiXj02pW54TeEPq0cECDdNcWvWLu8KmtL4l8VOB5rW/BAYZDhrb5ZaMDVvGOKOecjhDm4k+CMXPb1QJrzuoQp4CFfibPdWiuMzhwTqPA7ZAuAhVOFMUeU8s3dTlI3/SZC/UPwOIGNDZQIR8q7e2kEmxyikIVtdC6WpHl3DGIx6on+23xVUe6GYElgpz4z8SZCnGyAPBNPKJ1K6wsccXNrJ/TutGBql/Lp8mlGseDv1gfyEurxPntzYDljOKeBQZAtYc76mAdJn43NrgzczvQDXNBjI2PndHmJH3TWOPvihuZNuhvjQ5Yk2L+6pTym7MnQlJaYY8HZ6RVQ/T/2mPK1Vqfp7wjdDtAckJfOnSTMZfyW2FGo6tuxBfjgrZ4+/oQp/sloLKNJf9CYM1IcVy/2gLhoOornu//xVu0yD3j5ZUCR+l82s1wOGWL0qy/1J5DMS65CVT8fSU1xl6OU73k8IYKiyeWZqhF7Y9WZ2u80ikqxWfBC8/fw5APWtV54fWynXQfzy9NlcW1v3D4lGtyfFAP6fNe4wEVPsvOrV0ddobmmPSS7J3hooYlmOue5iCoMHbXcC0wdbW5+mPnBwnDO5/QEutumkF1yx36FfLggGcbDbBWTpU7/Py7TQFcPAIxmY+WVtjeyBFQGSBNqboBWmAKeevu7iYFPrhC2K7TrNUk/Md3tEXoTOaCJZ7S7/VGAaoZQ99y+AgsPcZniGpIckqwZBfAlM32gwpL4asvNyyouDyyEmPcENoffCp8lujRstfNJZagpN3VIYLD+/v6vIM0echb5IKDLxsG7PmMgJTNYZKg6j+hFUnPU9lVkYN1iJevNjyohFIYOvw8FHrgMTFUCKyPof7vS+GDuLo7y8HiPmQUFIP6IqiWTmzpsKTiLCeTHoJdAi31LJ1tw9ueYTBOfD3nZUOlhMW2OCJYkOnQT+DHkh2iawHdkTh2AboKpy0M4lJ8fQFQqBvmpjme535A0IZxU1E412hNClTYQnJXWR+u+ARz3HjGzsv4f0dPD/HaMS3CZxSOrovQyj8QSqzMlGxzdwOmHLttIjsAbOOH7bym6lmqUcjSSS3JuXMj6gcqaPZhCVSctFql9ErQ2MOHoHpdUHN4SvBc6+okllY2ac66zsWeqvzgGauM1yT7k0F+z3pVduju3HCnWnkXCIZQYtYCVjZbAlWfxACwvEf5LLCwJSb/rAPG+5cLnm2fEFjd9TODKuhUDE+NtK2qGmWSYL9qMN/UdAg7OZutgIH6LbvqGmmsz+nKHXPW+sFjH3lfns9zWAAsaEcl6KWluCyc8vAGBKGxpbVZA4+TlZ4dboSl7GkLgkic8kXPlHO1eo4sSniP7N/jfJn6EbD8+C59+CcODrA1ZADbgjdEKMbV3Qml+pbiTB6hj/Qp9L6nbDXXszxxHFrsiwmbvXKqgmi7/M6lYEK3BzZaw0qbS9XOl6ajO6ZQMD4E89axzbYtUOHxeLDC92dRC/uWxk5vIxxV9y0d1slJnNeunJ5H45GUV1ud5o4MJLmpoWTphBZk6oA3SZz6Jc6yRIljifFYRcmHmRXYkgitu4rDrjFIUEoJG2agkt5/fIBNUHGpMdsifR5UyGi91gJrhhmw7otKvqBf+kNwlF4TggtTUZvyrD8zYwMKN/M+ijQr2F0G3WHsARTyWEg9rrmqaxRrIRxorpsZKGzOdpOepvUG/mDm6g7FtMfXFVmkPj282+RGMOt4XND1CZ36Yo37jW8FPT5HNpo1Eb5gWvOprRelqnTOY5/Q9HyV2SStXBfkvfsqY2qKcMoEBOu/mrio7QF7AVXnCO3fqNZFONEC2qYLJdYBqbJ6bNpPJn/YvowOLWAwtSkBCvOn8gWzZoAfL87sUtprjOJrR0CFvHZLRKNamypIhRJiA0oGyyUdpFSXY0wxfbJ2u+oErci7o7+4Ny6acUxJ3bND5e/p4VNan3cUUMhJH3ZpdNIejRchNoQhHYgVxkpVgT2Fx6FRJ8DCVfOMB5wc6okRsw0ylgQyF3aCQpoh7DOfp/o0cX5QuTOAMuaxB0GnltGNbq12ChR3SBC9I2zZDXOlAy1UQ8ti+Q/pZgceozvN4Nl6thGBCwdm4kRToWIO2Zw3k1d0KIE38b6zoIpJ8G8U/iqp8i/hWiWv7HhY8Ny3LQ4YMPVvuFsnyjl96zEd7vG0V94dIz7QFyOc3wyK+Z056zsXQ2/6b50FlCmsQZZkKN0yZ9CbHKPIAycGCA2ZbbZ6OKwx878Ym4Tcp1tDujMDwp1NxLBQBDvnCAGFLZtAytyoH6CMDIOlaq+NNXgYsBW2Hvdl6c43MjHqnirs6f9dXTGForeNJraKd6kOuWTolNZnoKvfVanZxee8/GjETcU0D76goW74k+p6ckqHIhjne9MVgOI9z1rwROPEUrqdI/Ybbcjxdq5quyTlv8IYIXbUttknCxK28uhF653gd3NldsghqZaRuGjeEP6hG7NiI3yhz8U0k+9TAFRJ/Y88q3wbXsai1duUV6Ty1jFt2Ze88MI0GS7VOjvkE2OPf15pl82ws/W2WGrxHD836PCGfNVlcV62sbf7yfPDGsTEvggDxjHrEo+67J2iec+PcVxd3JzAo9if3o2Aovm7oUmtSmEC7H+kusSga8PbIxvoZhJOicV2kTCc/IjgGe9FJvi/5EjLyA1WFNTHqHutz1VVSg7Yho1FaYGe64s1rm9wj2knOOEdjzisscuBwUJC35PAHK6BHgPFAyb6f+JG8CzDSQ04wMjKZx4Onhywf0VWyFWpQokCcMZyBaheJsVwjemZ2gnz21KDm2RTHO7vjhMIbC0s5OOcgRFkpWl56i8sjp2FsAim4eCRiUo/AgJ7cOJiYje6Oh7KOeCQ8TPI+2FcCoIUiwqwoT3O45ECkTmYOhcPmtyq2u0SSStbyE96D09s/hy2TeTH6Fng79GSWpYVesVSa22UYt7g0sGCEKGRw7kXVnU8Qk1f/cQu3UrCrzXc3kVGj/2IqW3OzdsQXLxuu+oM3Mh3znaoc4CfpOaqqnHSGI5f6Ts+4AuPHXMCUNGj9SL08kHYUdjK7z/uPyHg4JLMkEuWyr0w36vi7BCPqxVo7KArhn55YfrtUTMrEJ4Bxy47O0PgKazJd2bhISv1AUizszjXeXF6cMnqLaFHQKpVgwPyf86ACCXimm3KEwgibBOumxVYEZPod8uD+hINKtuTZbWKKPj8GSvXetJvvP/hudASyNpEVZy5U1UT63ZQoVGxRRB053ni4nZl9JxonKlUvxk6oJiZ1465ghWP0cocMKnVVQSfdlab41KMEnDAJP+rmHXRIACSYEiKXODoywkA0/DDQS0xjMq9MG5B0A6YESj94oECXVTak1MZXCnFcEwNzuMRDsDkGV7kazBDp0y0BuA1wPne9R/QBDEgGrFNkZ0AlbkbJ1bRCQBWZkOluKmdFYjqxP+sSbHio32dboWASYuovxrAaMiw8B2oT4F34LqEUChzSq+yMgJlWJMGllY+3VVriRPhbaoYWvltLFRYtVX5pTUVAS1iVPgRKOaGkJHxeMNQzN7y3lxTXaH3XIoXpAWfARXjlOSLBZIqfHjgL9wwQFw+oQmC6jFs8ih3DBSFgQ3vmyarWfOtPUBXxdKMkGp3GUE4tX7ayg7l0L/d0nH9HYAqwSXHn8W3DSaZNyFQPQDLONLdI5CxSwsaBDbcO096jfE/HT8nqMQVINuQq7o7A467IUmty+D4tWYEHYRMj795ZLg49vU2LnrjBRXGvyzmF7lrxjYcMyDBhtpS9E262DW0KHUz2xSjPgS+xPNgeV9Lgw4w5ta06mHKZuXnEGg/PXFx+/0YCYBM2LOU60CKL8K99HGrlJJcBOi2zE+tb4RcBYPUX2vWgATf/080FuBernpYlzwL3BPdJQ338DDqIkKnKGhcoFLswry0Zl5EUEX1jkm/3WeHpHGGP8WwFMaIvem5nwKED4Sbu+XjoHoIx0uix0W/g4RZmnhEm4a+73Xy1EBdzhChk8XBydPcq5+Ziy1Ca28bFo638kW00Jr5KMXE+/0WpE077LUOQJsYoZctBcmbgn/Cv2dh3ypMxEM3R3hswB8b9Jirh+71d5ytYj7TznulFB4BMfH/eroZI98glGD4tggTwrzLiw66IT2mg5FviWkQw1qQDCe9AlR6GfQml6nZzjQi4qwboyPwmocBdZdLXNTK32O70LjpqShdi7dN8cdNcCy5Oo/qEQCpAq6/BKRlONOhmrI0A30HE8fw2DRZMzsAINUmN8Y9qRAHts0BKVRj8lRvwngW9hp3S6CUUeMlVYL/M9FjA573NgcmI0aMGDFixIgRI0aMGDFixIgRI0aMGDFixIgRI0aMGDFixIgRo0ZH6fnq5AyDJptnGOKUnp3tg1UejYRw1DLknmXbZK0sFfLUFgGP6THa7x/Wrmn8rK3rybOw8gdbY3JjCHUtWzWTaDxnF6UaQl+mBwhwZdsF6k5sixuGYHMnO9kyoAISKLtIX1PubAfpK1hy5jDA0g2qWOmmEpoNbIt9C1h1xSTyJYFJgT90EbBqp1LQ17QBLPVhC91KvoHj8Gdsmz1PmL8PKdj+cCROkthg7Gu1x8hcuvYtC+BaLbxmdJzfq3DUdY3UyQ7RRSj89aAu4SP4s1I4EofqnZVg1wNkGkJft9oTtEDVlW1zw1G0rsVfxJur0Ag/g6XzUDvQ3lQ7QHcn7CPWteTLqc9doj+DzXsjdYoBEvWiH9t1JMKMmXFmQDKoq6h/Z9V3cZKSkn6QVhD2Foxwezd7Z/ivpD5TXBz4Q/jMP2B+T3PkDUUalxSZZhZ2fZW7ZqHm30uKgn/iyO9m7wl/LqNQ/U+473+t366pzb/flKv+A7xw4TRn5GuCLV0royj4WVwDvJf0PNWb9p4E9gCLp6i45r9GfYgC1mfQ0eZnjgKLJ/j9ZJEeZ88gAQDPGUqvCoQ/Hwj+7y4sgsVqmI0G5d+sSLx+CBD4s65bcIE60RxwsCkGlQF+dkfi92/A/SxaVxT+G4n7Lpf8znx1KffzAnUr+HcF9fO7oE9ORRBbf9mUf+QsY/N1uA+WcgquBUxw0Fp43hrhdQhp9lR6vqab6V6/pz57H/qC7knLD2vjKmBxQOAa7Fr/vCPAwqJfiRZIb1mXViAhqIe9wr1dBvVOs37kBnW0c8DSJOFim2+8Jor7jjyVP/z8uH2d6VRfZRo0Le0ClkF93rSZjyxer0C10fKLFvYOfOaWlfs5jEaNLWChqwb+nWrf82mSXAUsbATClctRUzWcBpaxw5BZOZ7Nsjv0XZkvuHqB6f+HmB+HKoOla+CxAMA7J/FGIos6AiOgjBJFM8nBtodfZhaEPF977wWqNfB/30p87q4F6Wd+HwZNO/pZ1hcH/hRfLnsGGlD//gzWIA3+HFj70uarFjrU396gHuEKYJmsv33U7xQ6AyxuCgc2aKMa31oFFSem6UWE44Nb4MIuv6f8Wg8s6UY8pRiUPxcfq7X8yCQFbmUUdX2FPwYBXLtNP/86I189Af1p3Pdv1/zJBBx6QFQcrbvh70kdoWkGTUKqIUyBeg9IvCIJqbVGpAcVaEZJSJOjqflKNV4Lr4n3akviGKWxCHwnMvLDQjkdK18TAf/+mPr5PTyCXQSsbMo6PGoNWNh7CyzFwTxjk190V2AbTeq7r9vsgIgLRT3YdaGnHUB2wPwNVw2yw3t/jJ7GBW/iaEuKalpO2G/hTV+cmhP2gkhxNh4ltPTYLuGDGykCYK7672agrxj8I9GRDMewhN52gpIin67NUz1j/hnle2LpbA4s+L98WtrSLyYo8K9ROlztiVFfYEXqZRup3zlhQ2LZwwboyfGGbWswX72EevhC3iLj3iqDajm1yPucAFZevcJM4g06aA+wAJQ/lrjWOvr4MrMe4ZilpQwclzMs3NddS8AyHaf3qZdytqSlaDQQLCr/3gQstC6xjeXgwc1/ZNmMNkqD6w7qOI835alecgRYAMZMR4CUtqvj07jBafnKP2cWdPsLXG8HrTg7Cyy4l5nU526ZuyVUrSWOuEBHgYVGhqi/eoG6vYXrDBRPozCXbB4C1m06Zgi61G7adWHifIstJ+FN6ehMz3A0s10NLPTp4BEAXCmhlxBXAQuljzVgoSNY9H1wb44CC3S3EFGv9Xzl25L7wOl/tEM67K36Agu851uo3znsrFUInv8YsUdfES4NrAL1eqcmcxnUR1wFLJSaps1+5MA9uA9Y+ZoY+jpS/jNbwJICKBojktcx+tqo6RGqd+uvvIvm+BicBZbJGNhDN7VrZsGkpiwbVU88gmiWePAn1jzijgBL5OpAK7RAtZk7HvJUHfD4gL+XeQpYJt8XLbFecxRY6Magr0P74AQgDLcFQkeBhaEY09EmdGjOrx+wZFOoz9+Q2FDRAt5FV4EVBdrMmkLzvr7AQktLYnPmS3z3Vk8BS0rHAl2vreM6ljj2CpZvD+mjUOQquY8vfj097/3FepGsY32ABeNvplKfv9PM1mbBOb/N2kXRoqEW6Vx9gQXjOd4XH7NhAQ0JLIwFinU8zSILwLpnw93whT3WscmxLDw59tfHKuRm9YhnTl4Upc84ACxU1FFHo4B6QRQIpUftWgvXGN8qZQvRGwiB2foAy+jOoA0DlVkUPq1QLZMIrbgNWKZr7acjB7TiDes11paDFBIkp1Of+R6VekpaDRdLSE1fZ4AVNqLlC0bnpsihSSDpr5sz2Q2c5x2cofCzdRKuh8W0N3iORNB2CGYAWIgD/tp0dN6jAYPBU15so1luFOuqr6gFh1nIKj0CiXYriJyDkPuFEgLCRxPTCjS5FkJEH6P+hUc36iLotIX/K5bIfJ2ODmDu3nZ2fZH7nNjHdh8+NwWepQvvGJbSeYAfoufemLJNSxhpYHHrZlBfk4g+FJsiCgclrnNa+EL0HCV7BS0yAMsqCZP/tikHC/kbK/Ny5ptbeDDpQiuLB+X+nGikXt31eLY0cuUe5nUJxbMVa081z8IxOMja72EA2nTt/9qw5solLKKVdliBkoPMEah4zzZ+97TJfzXa1vfwKTFcmKsuzORArFAcRDYp8ffsDbLT0YJ6ZpA+wrGAdN6UCzJIH4iOYW8DljG2qPnIyu8UWpAgbgNWrWEhdszWAsqUv3bXnuwEU9jsvK21QYVfwmXgDLCecBNdoR26BbeBs8C6zzldpUI6mAdliS1bP5BCYuX3+Bgft3lWr6+JseTLAvBEwuJuMeVOlWNKCwZ9TT//MRf4pa6HQXK8Z2vfCTpb/1p9zsrnkOkEQJRcnD8K7gWOv0PIGBJCA8PkrqEKT1RjLOmomPtlVCe4VJsy43OqSlBiY7EKfpe0dQdpyTBMyk4ebWxH7vdbqx55rLqx/5qJONwJ51uzJsMeIHRgShxlPdnKMLIds4SsC4suFZBiNLAwJ42tGiN7siowO7UafXh4pKYXqjqbQj45EjpSPlsxRjYJCygciF/ewCwMtmqMbB+D4NeyE1TVmPTHVoyRXcRVDhnBhYUQn4s86AbVKXBHxFuLrzJiZJMwdQaPO8zVZ1XhjBgxYsSIESNGjBgxYsSIESNGjBgxYsSIESNGjBgxYsSIESNGjBgxYsSIESOfof8HTVJLdhQ2ZBkAAAAASUVORK5CYII="},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="maintenanceContent" class="innerContent">\n\n  <div class="pure-g">\n\n    <div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1 pure-u-xl-1-1">\n      ',error?__p+='\n        <div id="maintenanceMode" class="infoBox errorBox" style="margin-top: 15px; margin-bottom: 20px">\n          <h4>Attention <i class="fa fa-check fa-exclamation"></i></h4>\n          <p>Could not fetch maintenance mode information. This may be due to missing privileges.</p>\n        </div>\n      ':maintenanceMode?(__p+='\n        <div id="maintenanceMode" class="infoBox warningBox" style="margin-top: 15px; margin-bottom: 20px">\n          <h4>Maintenance mode enabled <i class="fa fa-check fa-exclamation"></i></h4>\n          <p>The cluster supervision maintenance mode is currently enabled.</p>\n          <p>While the maintenance mode is enabled, the agency will not organize failovers for shards that are located on unavailable leaders or follower DB servers. This mode can be used for controlled shutdown/restart of servers, e.g. or for upgrading or other planned maintenance.</p>\n        </div>\n        ',canChange&&(__p+='\n          <button id="disableMaintenanceMode" class="button-success pull-right"\n                  style="margin-right: 20px;">Disable Maintenance Mode\n          </button>\n        '),__p+="\n      "):(__p+='\n        <div id="maintenanceMode" class="infoBox successBox" style="margin-top: 15px; margin-bottom: 20px">\n          <h4>Maintenance mode disabled <i class="fa fa-check"></i></h4>\n          <p>The cluster supervision maintenance mode is currently disabled.</p>\n          <p>This is the expected setting for normal operations: in case a leader or follower DB server becomes unavailable, the agency will organize failovers for all affected shards.\n        </div>\n        ',canChange&&(__p+='\n          <button id="enableMaintenanceMode" class="button-warning pull-right"\n                  style="margin-right: 20px; margin-bottom: 20px;">Enable Maintenance Mode\n          </button>\n        '),__p+="\n      "),__p+="\n    </div>\n\n  </div>\n\n</div>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";let tableStyle="",textStyle="",buttonText="";"text"===activeView?(tableStyle="display: none;",buttonText="Show Table"):(textStyle="display: none;",buttonText="Show Text"),__p+='\n\n<div id="metricContent" style="padding-top: 0;">\n\n  <div class="bottomButtonBar">\n    <button id="downloadAs" class="pull-right button-success">Download</button>\n    <button id="reloadMetrics" class="pull-right button-success">Reload</button>\n    <button id="toggleView" class="pull-right button-close">'+(null==(__t=buttonText)?"":__t)+'</button>\n  </div>\n\n  <div id="metricsAsTable" style="'+(null==(__t=tableStyle)?"":__t)+'">\n    <div class="header first">Counters</div>\n    <div class="pure-g" style="background: white; padding-top: 10px;">\n      <div id="'+(null==(__t=name)?"":__t)+'" class="metricsBox pure-u-1-1">\n        <table class="pure-table pure-table-metrics-counter">\n          <thead>\n          <tr>\n            <th>Name</th>\n            <th>Value</th>\n            <th>Info</th>\n          </tr>\n          </thead>\n\n          <tbody>\n          ',_.each(collection.where({type:"COUNTER"}),e=>{_.each(e.get("metrics"),t=>{let n=[];_.each(Object.keys(t.labels||{}),e=>{"role"!==e&&"shortname"!==e&&n.push(e+"="+JSON.stringify(t.labels[e]))});let i=" {"+n.join(", ")+"}";i.length<=3&&(i=""),__p+="\n            <tr>\n              <td>"+(null==(__t=e.get("name")+i)?"":__t)+'</td>\n              <td class="alignRight">'+(null==(__t=t.value)?"":__t)+"</td>\n              <td>"+(null==(__t=e.get("info"))?"":__t)+"</td>\n            </tr>\n          "}),__p+="\n          "}),__p+='\n          </tbody>\n\n          <tbody>\n          <tr>\n            <td style="border-right: 0; border-bottom: 1px solid rgba(0, 0, 0, .3);">\n              <div class="header">Gauges</div>\n            </td>\n            <td style="border-left: 0; border-bottom: 1px solid rgba(0, 0, 0, .3);">\n              <div class="header"></div>\n            </td>\n            <td style="border-left: 0; border-bottom: 1px solid rgba(0, 0, 0, .3);">\n              <div class="header"></div>\n            </td>\n          </tr>\n          </tbody>\n\n          <tbody>\n          ',_.each(collection.where({type:"GAUGE"}),e=>{_.each(e.get("metrics"),t=>{let n=[];_.each(Object.keys(t.labels||{}),e=>{"role"!==e&&"shortname"!==e&&n.push(e+"="+JSON.stringify(t.labels[e]))});let i=" {"+n.join(", ")+"}";i.length<=3&&(i=""),__p+="\n            <tr>\n              <td>"+(null==(__t=e.get("name")+i)?"":__t)+'</td>\n              <td class="alignRight">'+(null==(__t=t.value)?"":__t)+"</td>\n              <td>"+(null==(__t=e.get("info"))?"":__t)+"</td>\n            </tr>\n          "}),__p+="\n          "}),__p+='\n          </tbody>\n\n        </table>\n      </div>\n    </div>\n\n    <div class="header child">Histograms</div>\n    <div class="pure-g" style="background: white; padding-top: 10px;">\n      ',_.each(collection.where({type:"HISTOGRAM"}),e=>{_.each(e.get("metrics"),t=>{let n=[];_.each(Object.keys(t.labels||{}),e=>{"role"!==e&&"shortname"!==e&&n.push(e+"="+JSON.stringify(t.labels[e]))});let i=" {"+n.join(", ")+"}";i.length<=3&&(i=""),__p+='\n        <div id="'+(null==(__t=name)?"":__t)+'" class="metricsBox pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-2 pure-u-lg-1-3 pure-u-xl-1-3">\n          ';let a=t.count;t.hasOwnProperty("count")||(a=0,_.forEach(t.buckets,(e,t)=>{try{a=Number.parseFloat(e)}catch(n){a="n/A"}})),__p+='\n          <div class="tableHeader">'+(null==(__t=e.get("name")+i)?"":__t)+" ("+(null==(__t=a)?"":__t)+')\n            <div\n              style="font-weight: 100">'+(null==(__t=e.get("info"))?"":__t)+'</div>\n          </div>\n          <table class="pure-table pure-table-metrics-histogram">\n            <thead>\n            <tr>\n              <th>Bucket</th>\n              <th>Value</th>\n            </tr>\n            </thead>\n            <tbody>\n\n            ',_.forEach(t.buckets,(e,t)=>{__p+='\n              <tr>\n                <td class="alignRight">&lt;= '+(null==(__t=t)?"":__t)+'</td>\n                <td class="alignRight">'+(null==(__t=e)?"":__t)+"</td>\n              </tr>\n            "}),__p+="\n\n            </tbody>\n          </table>\n        </div>\n      "}),__p+="\n      "}),__p+='\n\n    </div>\n  </div>\n\n  <div id="metricsAsText" style="'+(null==(__t=textStyle)?"":__t)+'">\n    <pre>'+(null==(__t=collection.metricsAsText())?"":__t)+"</pre>\n  </div>\n\n</div>\n"}return __p}},function(module,exports,__webpack_require__){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <table>\n    <tr class="tableRow">\n      ',!0===content?__p+='\n        <th class="collectionInfoTh">\n          Run teardown:\n        </th>\n        <th class="collectionInfoTh">\n          <input type="checkbox" id="new-app-teardown"></input>\n        </th>\n      ':__p+='\n        <th class="collectionInfoTh">\n          Mount*:\n        </th>\n        <th class="collectionInfoTh">\n          <input type="text" id="new-app-mount" value="" placeholder="/my/foxx"></input>\n        </th>\n        <th>\n          <span class="modalTooltips arangoicon icon_arangodb_info" title="The path the app will be mounted. Has to start with /. Is not allowed to start with /_">\n          </span>\n        </th>\n      ',__p+='\n    </tr>\n  </table>\n\n  <ul id="infoTab" class="nav nav-tabs">\n    <li><a href="#newApp" data-toggle="tab" id="tab-new">New Service</a></li>\n    <li class="active"><a href="#appstore" data-toggle="tab" id="tab-store"><img src="'+__webpack_require__(487)+'" alt="ArangoDB" class="tab-icon" />Store</a></li>\n    <li><a href="#github" data-toggle="tab" id="tab-git">Github</a></li>\n    <li><a href="#zip" data-toggle="tab" id="tab-zip">Upload</a></li>\n  </ul>\n\n  <div class="tab-content" id="tab-content-application-info">\n\n    <div class="tab-pane" id="newApp">\n      <table id="new-app-information">\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            Author*:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="text" id="new-app-author" value="" placeholder="Your Name">\n          </th>\n        </tr>\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            Name*:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="text" id="new-app-name" value="" placeholder="Name of the Service">\n          </th>\n        </tr>\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            Description*:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="text" id="new-app-description" value="" placeholder="Please describe your Service here">\n          </th>\n        </tr>\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            License*:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="text" id="new-app-license" value="" placeholder="Apache 2"></input>\n          </th>\n        </tr>\n        \x3c!--\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            Authentication*:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="checkbox" id="new-app-authenticate" checked></input>\n          </th>\n        </tr>\n        --\x3e\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            Document Collections:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="hidden" id="new-app-document-collections" value="" placeholder="Document Collections"></input>\n          </th>\n          <th>\n            <span class="modalTooltips arangoicon icon_arangodb_info" title="A list of document collections that will be created specifically for this Service. A CRUD API for these will be generated.">\n            </span>\n          </th>\n        </tr>\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            Edge Collections:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="hidden" id="new-app-edge-collections" value="" placeholder="Edge Collections"></input>\n          </th>\n          <th>\n            <span class="modalTooltips arangoicon icon_arangodb_info" title="A list of edge collections that will be created specifically for this Service. A CRUD API for these will be generated.">\n            </span>\n          </th>\n        </tr>\n      </table>\n    </div>\n\n    <div class="tab-pane active" id="appstore">\n      <table id="appstore-content">\n        <tr>\n          <td>Fetching data...</td>\n        </tr>\n      </table>\n    </div>\n\n    <div class="tab-pane" id="github">\n      <div>\n        <p>\n          Download a Foxx service from a public <a href="https://www.github.com">github.com</a> repository. In order to define a version please add a <a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">git tag</a> to your repository using the following format: "v1.2.3". To connect to github your username and the name of the repository are sufficient.\n        </p>\n        <table>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Repository*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="text" id="repository" value="" placeholder="username/repository">\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Version*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="text" id="tag" value="" placeholder="master">\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Enable Legacy Mode:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="checkbox" id="github-app-islegacy" value="true">\n            </th>\n          <th>\n            <span class="modalTooltips arangoicon icon_arangodb_info" title="Legacy Compatibility Mode allows mounting some Foxx services written for ArangoDB 2.8 or older. This overrides the ArangoDB version specified in the service manifest. See the Foxx documentation for more information on running legacy services in ArangoDB 3.">\n            </span>\n          </th>\n          </tr>\n        </table>\n      </div>\n    </div>\n\n    <div class="tab-pane" id="zip">\n      <div>\n        <p>\nUpload a Foxx service bundle. The Foxx service bundle should be a zip archive containing all service files as a directory structure, including the manifest and any required <code style="padding: 0px 2px; font-weight: 10pt;">node_modules</code> dependencies. If your service doesn\'t have any dependencies, configuration or scripts you can also upload a single JavaScript file that will act as the service\'s entry point or "main" file.\n        </p>\n        <table>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Enable Legacy Mode:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="checkbox" id="zip-app-islegacy" value="true">\n            </th>\n          <th>\n            <span class="modalTooltips arangoicon icon_arangodb_info" title="Legacy Compatibility Mode allows mounting some Foxx services written for ArangoDB 2.8 or older. This overrides the ArangoDB version specified in the service manifest. See the Foxx documentation for more information on running legacy services in ArangoDB 3.">\n            </span>\n          </th>\n          </tr>\n        </table>\n      </div>\n      <div id="upload-foxx-zip">Upload File</div>\n    </div>\n  </div>\n';return __p}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASIAAADICAMAAAB7yBzUAAABJlBMVEUAAABXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThbdTlfNBRfeDtgeTpjOxdlfTxmPhpnQxtnfz9qgT1rSx9uSSBuhT9wUyJwhkNyiEFziUB0WyZ2VCZ4Yyp4jUJ4jUd8ay19kkN+XyyAlEuBczGBlkSEdjOFezWGajKGmkaJgziJm06LnkeOdDiQokmRolKSk0CUpkqWfz6Wm0OZqkyao0eaqVaeikSeq0uerk2js0+kslillUqlq06mtVGqt16quFOtoFCtu1axvlizvmG1qla1wVq4xF27xWW8x1+9tVzAymLBvWDDzGTDzGnFwGLHz2bK0mnM023Ny2jO1WvS2G3U2nHV1m7V23DZ3nLd4XVDf9nYAAAAEHRSTlMADx8vP09fb3+Pn6+/z9/v+t8hjgAAEl5JREFUeNrtnfl/4sYVwDnELc6lOFFNU+qQ4JR26WI2bMi6pq6CUQzGKjHEsAb9//9EAV0zoxlJoxPsvF82m8+u0X558y69eS8SOXaJMgyTSquy+w0T+UM0Nqk0my/hpMDm0kkm+qbxMKlcoWQpRTadiL1FPPE0W6KQYi4Vf1OHK5EtluilmEu+DW2KJnMl55JPvXpKjCP9eTuUoilL61zjdlJvtfa/cGXSn2KTrxNQLGuChmu0ur3B0CC9XrtV5zB2KfP6VIkhOjCu1cWwgWXQa9WryN/LMW8CUL3dG9qWQacBY2KZVw6o1qTAo0q/XXuFkLA2qN4eDB3KoFV9XZCiaaOXr3duhq6k1wBt0okbbsbg5mttEz6CIIrz1V4W4k5mgiDwBFUCIoL0Cae6UTSQLjf6BDjj6Xy1lbCy2fGajNG/cANAKiROlVACOWNVvAKNJvOVZC2r+YQnQsqdpCJFETNd62Dw8NPFRrIv6xmkTYO6HkueoCLFYSvEYTy8MF9L1LKejUDDrXu37KkpUgo+Yl2M+mwlh7IQgNPW1C1S/HQPWblj4LOUXMkKgNTTLdIJZbdRqBjdRIz0xCUfGZJulG70gDt7MmYI9GQ12M2P5lvJG5nr/k2PJNnTMEigry+3YQO9kryTzUT7uS294HYKsXYSVCEoE5tuJG9lqSlSR/f+8ZMi1PIV0E620xNkBBAqg6GQ4AOgg9nmT40RQIgDHNloJfkl28lpMQIINYEwSJT8lAV/QowAQh3/z5iek4xPhlEca4bmku+yFU6EUUyLh8p6uDhaS0HIFI0hC8cYQ+pZB0BospWCkTnKKH+EjLIYQqIUmCzkT9RfS+aPuPqhE1pIUtCMjjinjRt9Gb+SpFAZpY/UEGl5K7+WpDAY9Y+0fpRRn6oRHiEjo2Ny/YyW2odJSJJENDw6GrcWVUv5ZS0vW0mhyBRhdDSuXztmvVB8GSgTJDzKHpk3a4UQD6G5yBhhlDoKRCxqiCZSeLLlEdd/DK0jan5fVquw422IiKQ1wqgYfjU7WkQionCcGdn1h2+y02qV0avqx3ouCgeZzZ35xRnCKGyTHUOPmeDKkiyQ9o+Jk/faAuL6QzbZWcSb8S4M0WbK45pHNs5MNvB2LX4MSlRzHxGtJ6TmNWpIa6R6FGqUnUWCRsG5Bpl1N9JCmiNZPxt+cqZlrzb/KQ8PD5938sN3B/n4+fN/ehYtoiLdAZY18kYz2ZnQEOUQWy1akdlj+Rrfp16tt/smjOjexW3lRq2+9tMTIVsiK1v95eGXHZp31teEqk0TSjMH5qgTdmFEsUTVG6Ktfvh1xwZz8YPjWjvp9g6y+y/9LkyV3LU+3lCbI91khxNBxpBa7Ah4wt8fPn806E2Na+JvDMF3POpdAiOqWq/iIGuhRpCqEsEO/zeM4nD1Vqdno2e/35QpVVuEP7ygNkeDcogRpJqdqQ5/9OXh84fvnLHRpSt3CpcJkERqc9QNMYJMA8nZoNuCbyFWuWa75+wujHJ7odzBh0jU5qgZXgSplGM7CJ0qt1Mc0g2PxWqlX2Q43PZYzcWZMMbeXuAGLhmh5ijoCDJp8FNlromFMxJE4g0P7VQsoc58GVIZa7fnzs1RsK/W4ix8rvD3N4WpJRwozweOG2foBaS32Wh0FFwNkknlioDutLAGWZgt6Itr27l+f6FdBlMbUNa05qgeqDliwFEWXBOrO+PpwnnpcaFB6lcJesRvaJM17a5IzmcvnwDwVOG7vz/9qMh/Rbfv0LYi1JiPs0djWnPUC6C+Fk1k8sDV346qPP/+8e/f/+WrCiQXl59uH188aM07MCoPXOVrK9TzxwLA01Utz8//+haBA8r51b1jTFof7J4RhzNH9lVVRI4a66vt2bktzTD/9P2fK5by/tHd63m5So8NJOzXjwQ/j1oM8Fw7v6U/4M///KpiT87vXN5e6BLUyP5RU0rZPhw1JlPA4hkOf/y2QiFOIa15zWEP3B21pS9HTZ/CBNgeBdBfKpRy8eiG0YAQHNn3asqbtZ6HvVkan3K9g36B9ID2cvnsiJFaFSvfuExExp7mszH1fFUxQz1+/lvFoVw78W5zVY2wST/FK7u1h9X+JKsOZcCc//E//lRxLOf3DhgJijWqu62LiEjpyKnFjikDPqqtAe5G/f8uKq7kPb0irZQstIyvLK3pYbvKQ5QRMbihFePZzn3cnVVcyvmjMzW6AZu5oUyZ4lUmD5dFHKT8TE6ZyYBaRn4iD2S4qngg1846YWqlNl6NVrR2re3Y8StTmBo9nPrs5eWy4onQHrat4tPqQ7dqpBy1mjM1kgGVG4gFmsy1msPLRcUjuaBkNJZ7PKpD12q0hoMjlh4Q8sYBauzxjhA1o6niiYbu1UiE3z0yrgAhjU9eEqJlJCpfPelFNoVTk0tHmsW2+eoxhgFkGMjgLaEdIyeISLPpptQhRIsmNpKnn8CApobT7TWhSuXKAaI26R32ljqEKNsPsQ+BIgSIFzFFYc8JVSq39IhapBeTNG1xG0iNipZGqICOheGxbU5XFR/k0TtEVH3wcspftZXwRw/3Nuqgm59hVdYXQpWzFypEbRNEQ/pG0Y4dv39QoRo0sQLvGm4r/sglldNvmSFaUVv/YdnaYKcPRgg0eoTay33FL7mlsbB1M0R0d3JGoDUiVrGjLNpSQLor/nLmG6Izm0U2XskayIjomnQXoFMrkF7GF0qwD+WJk7veV/wTe0dtq2T6Joh4iV6NmqYdR/sxXtW+DRXy85jt5d52tNczRTSkazdeKoVMcqdIsgjPzSGrkPRy7iui8xe75rVVIkfX9JdMBaC2lif0kjdsNqFeV/wVO8WjiVrA8A7RCizRxrCnrGHzfd3zmc+I7ARHvGKKSn3PEMn1lSrBp8VgQrxp8H5VqYSuRist0jO7++CkktkinLQ8TMi0kPDsOyEbajRT7UbZBBH1HUEeMNhRw2VxoMBpMVrok/+IKnd2PPQAujPpwUGTwddwedrOVNd0X2ZxyfflLABEVpWjtVaRr3uJaAMU+nNoE3DfdvPJbSUIebbxdVdL5mGRg8kSY9UJIBWRNPhBltegzwNBdGt9zuR6fNcEkcMX4TXDLaxoUb+daV3yfQqEkEX9camX4018/ogeEXjSMpAS9eyX6q6CQXRpGTcq58FEiZzMlhjrPq0AKhFH8VPPjgDRRo9fOC99PnLS4sB1hJ79kvh9MIQqZ5bVtDI6a9TNayLYVTaRADsPfBPWY8sDOmemWrQBaqgdT02REj324PJsDPgYGzWo8yNANAVSqYFHN2bhH64E2AqiFNWEqueACJl5NFCJzNIPZxNsF8AQSEadMdSgUKK7oBDd2lMik9ja4ewEwBWoxgg4ZzaC0aBMUeXJPMdvo5MQvQitDcYop6ZnNxTm7SJ8hzYGXy33vVYipVYHRkYpPbK2E0YEpUSfzAMXtQhf9l6J5IovBxREslRTPZ6CQvRs2pk4MMzT9E6J5IPcBOw1qx1nO+fsMXSXL0BThzseuzPt7VMHsNcFLbS2048TVGz9aHrMtM7N0o1XJVnUXveBTFYPvuz0mlyHHBQdLn/o/b814gwRF4RkRQXiaz1VXh0NImLlWr6xoQ/3JnZfudp7AFRnC/L8Tpr6UzCR471p0KgfM2L24e4O7hz4Hg5hUZUG0WOoDn8Bz2YinjOXc2xXQHwd3yPiaI7vS5jebAVfryOeM7eTfteArjIgInuBxKXvhIidxfI9vXrJ6py5n4UMNKon6RE9hkZoO4YnMhIKjl7M9Qe8fjoSiVIi8tunWRDqgNNIcHGjJzt8AK+/76HR0hy7Ebuv72LfmxPqg6N+MPkZ783AcSQw0py+7TLm3VnwvgxDyFi1HokezYqe6oERe0hAqN/LvVz7A+nszpwQ6MwMxno0W0peiQgHRqxWcqH4Cl78sEgXzxaEahChD5vDpKyluNz/InkpSDkko6WxVB/z7Hn5kdxStB5hCJV+l3wTEfCdzP5VbMtZcuwtJJPr+iseR+iDFAyiVCSS0MpS1K93nzyLI80mY8h3YAcIIT+VCEKU3uexnLMu5UMg6QmkM7NhBtOh0Zft5LPkN6KuXuHXU30n73fdQzIFtBnjCX39xXdEwBvZvGavnVXq3EE6vzXralR2v3YMQxB/lYJElNVisJHDn/jk2HBf3lk/KpyXyfKDFBii0uEtUdXNSZO927WDV/3nn8yb9ZRDdlM3EHr3JQBEwHt9Ro9Tpy5+7P3VGR2fJ6van3zI+rVSwMfMiCiiZzu8uxzn/sqmLl3eWvHRpsp1yqWgjxkGEaufNNd7p57vrsxfaZ+/v7Zz+1UZl3bTwIyY9/uYqUMxAURAqyPvSar8dH99fWmQ99fXd0/2foCqQv0qbgr/g9+ElBkiACIGeO8b3voyoxXCeLK9fPT/AUYooghQWOC3oQNaK2uncXZ6J98E8AhDAFFRXdnRdNf85p1oU2TxKlR691sAzwAiYpX+GaCXL9wVZuosYoIKlUq/BPAQKyOiGHiTYnwEZ+ymSVqY8iGQ7wkcZ5TVLqPpZc7QLPZWXc/UrZIIffMliAcRQURp7TYa0My0DskI8eDY+NAMkYTsmUsCu0t7Nq+j+aTcvLp8wGQv0S/BPAvkLxhgKYW2PshVqubOSg87VRNCHwOyiPKjcFB3urzapOnqeokLWaqA+pzZbqvvAnocJeyowpeIY/AS5UC3KK8EdQx6w3T717svAT3QeAhMfcjCa4L1UfbBLXjVAbXK5oR+C+iJNkOMtdb2v+hXiANipAEyN0IBmmp1HJY6wTCGrqKqe9qDYh9Qr2a1ZO9jUISUWfPKbbe8caFZYxiYPQIAcZZrCP+6koI11h3jaL6YsR3e14x2qQEaNKwXNe4swGi2CVKJOMwUI3VfRUPv9hZ8iyH1zTl2AKlJtrAITIkGuFlYDPCN2Zhg5MZliDwVICAa8ayDyMKdqcYamT6jrT0p9+3MwXJsgvRdwn17gPbz7/ReoqmvvlaAlAidYZTENuvyc28VSF/gZcNIAwKMkxaWfh8ztS03S9geiO75G3llAbYLQf+pnVqJUgBII5+M0kr99khDnRlItcEeuYX747aB1uS1qiUHUtczJH7mw3nbqNWGKnFEKLw/EBxX4vKJ1iK4bLHXKDkVDpibNl54bCe36kM2yZPBGfLz7J5o7ozSej7hwbWmbRoFKppCGk6XfhDqms2ZzaHPAzd/j6ZLqi9uvRQFeKNpp06lNMW4sl6DCGkkbrwmpPUyYYdfxgzfmmE1ymgirizVab1aiBNk4Ss1H2VFubqkhaje3gSUW3B7n9lY8DTOSHZw614noiiuIJnv/o8oCOguXKd89CXu0XShZKrevPtYaT1CCRH3N+WxkVu9Q7VrGpVeq+bANINr7pMGSFX4i3Npu9XKOdCXmyBOuyYmkq2eQzz1siPnVYRNQYK1gORClbT1jwAhkyUOGbN8G79kmbjevdPkHLv3Ypyw1gYK3mDldmiV5ryRUN5sTVre4tmrXKvd65uyuel1W/VayY0U4+TtUYSQW47fqB3cSk+J9L7couny+HjR3j+ixnGN1k66PU06u9/WOXdszB8RFwMgE/kmVLHSAnAuwLXkBO0a88DF5EuMZYyBSRs+b4aFLnaSauglsOXCxuwREzrEAAZI5SYSvdkIuzdzKDppA07Fxr6d/DETwkNCjdJwZJZVbpczOHqDCjN2NhJFC0dNSNsHZA5pny9tcEnRZIT8Qbj2aW8tql2THRYhvOE2Qtq5OGEqqjIRBB7jf2FARbuLY8NjlLe9cDOGO27U8W0XDt3ycbsfHxqjPM1mW5xNqtHkSobSXobm48NhxNLu/k0WcHm3LUqDNhrBFRJ0Hx4Go2yEXpgcrjrZ7lucr6Yxws1Q72YOnpHD3cixNNYDc60ullOv08QlAKyTrcOxgOMjF0vIEzliRlnfZUVtPT0ilIVZxtkHR3NBOnsm4kaiSRdfaNbFZ6eO0NmTtT7liFIx4+6j4wEF2rloxAuJJnOUFjSXdP+hmSAIpSLeCZNm7fPx5pthCkduhvCYrLQpn0l4+IHpkzhkBtOUSLP4b7fAphmvPzPG+qhCqYiPEmVSaZaVVaq4+49MOsH49FGMXzESRd549JIsnJwKvQZIbCzy2iTpqU0qJCKvURjPav/FdOS1CiGvpgYUjbxmYbIu6ySFVw5Irj64oMQmI29EEhknJy6fikXeksSSWRpM+WzybfEBUiEbh47NJKKRtyy7VCjDEnKUPJtOMpE/RPV1zC5t1GX329P/N/0fvVS+gk+WV1QAAAAASUVORK5CYII="},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){if(__p+='  <div id="modal-dialog" class="modal hide fade createModalDialog" tabindex="-1" role="dialog"\n       aria-labelledby="myModalLabel" aria-hidden="true">\n   ',null!==title&&(__p+='\n   <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>\n      <a class="arangoHeader">'+(null==(__t=title)?"":__t)+"</a>\n   </div>\n   "),__p+="\n\n    ",tabBar){__p+='\n      <div class="modal-tabbar">\n        <ul id="infoTab" class="nav nav-tabs">\n          ';var counter=0;__p+="\n          ",_.each(tabBar,(function(e){__p+="\n            ",__p+=0===counter?'\n              <li class="active"><a href="#'+(null==(__t=e)?"":__t)+'" data-toggle="tab">'+(null==(__t=e)?"":__t)+"</a></li>\n            ":'\n              <li><a href="#'+(null==(__t=e)?"":__t)+'" data-toggle="tab">'+(null==(__t=e)?"":__t)+"</a></li>\n            ",__p+="\n            ",counter++,__p+="\n          "})),__p+="\n        </ul>\n      </div>\n    "}if(__p+='\n\n    <div class="modal-body">\n\n      ',tabBar){__p+='\n        <div class="tab-content">\n          ';var counter=0;__p+="\n          ",_.each(tabBar,(function(e){__p+="\n            ",__p+=0===counter?'\n              <div class="tab-pane tab-pane-modal active" id="'+(null==(__t=e)?"":__t)+'">\n              </div>\n            ':'\n              <div class="tab-pane tab-pane-modal" id="'+(null==(__t=e)?"":__t)+'">\n              </div>\n            ',__p+="\n            ",counter++,__p+="\n          "})),__p+="\n        </div>\n      "}__p+="\n\n    </div>\n\n    ",hideFooter||(__p+='\n    <div class="modal-footer">\n      ',_.each(buttons,(function(e,t){var n=e.type,i=e.title,a="";e.disabled&&(a="disabled"),__p+='\n      <button id="modalButton'+(null==(__t=t)?"":__t)+'" class="button-'+(null==(__t=n)?"":__t)+'" '+(null==(__t=a)?"":__t)+">"+(null==(__t=i)?"":__t)+"</button>\n      "})),__p+="\n    </div>\n    "),__p+='\n    <div class="alert alert-error modal-delete-confirmation" id="modal-delete-confirmation">\n      <strong>'+(null==(__t=confirm||"Really delete?")?"":__t)+'</strong>\n      <button id="modal-confirm-delete" class="button-danger pull-right modal-confirm-delete">Yes</button>\n      <button id="modal-abort-delete" class="button-neutral pull-right">No</button>\n    </div>\n  </div>\n'}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var figuresData=content.figures||{},revision=content.revision,clusterData=content.cluster||{};if(figuresData.figures||(figuresData.figures={}),__p+='\n\n<div>\n  <div\n    style="color: #717d90; font-weight: 600; font-size: 12.5pt; padding: 10px; border-bottom: 1px solid rgba(0, 0, 0, .3);">\n    Properties\n  </div>\n  <table id="collectionInfoTable" class="arango-table">\n    <tr id="collectionSyncBox">\n      <th class="collectionInfoTh2">Wait for sync:</th>\n      <th class="collectionInfoTh">\n        <div id="show-collection-sync" class="modal-text">\n          '+(null==(__t=figuresData.waitForSync)?"":__t)+'\n        </div>\n      </th>\n      <th class="tooltipInfoTh">\n        <div>\n                <span class="modalTooltips arangoicon icon_arangodb_info"\n                      title="Synchronize to disk before returning from a create or update of a document.">\n                </span>\n        </div>\n      </th>\n    </tr>\n\n    <tr>\n      <th class="collectionInfoTh2">ID:</th>\n      <th class="collectionInfoTh">\n        <div id="show-collection-id" class="modal-text">\n          '+(null==(__t=content.model.get("id"))?"":__t)+'\n        </div>\n      <th>\n    </tr>\n\n    <tr id="collectionRevBox">\n      <th class="collectionInfoTh2">Revision:</th>\n      <th class="collectionInfoTh">\n        <div id="show-collection-rev" class="modal-text">\n          '+(null==(__t=revision.revision)?"":__t)+'\n        </div>\n      </th>\n      <th class="collectionInfoTh">\n      </th>\n    </tr>\n\n    <tr>\n      <th class="collectionInfoTh2">Type:</th>\n      <th class="collectionInfoTh">\n        <div class="modal-text">'+(null==(__t=content.model.get("type"))?"":__t)+'</div>\n      </th>\n      <th class="collectionInfoTh">\n      </th>\n    </tr>\n\n    <tr>\n      <th class="collectionInfoTh2">Status:</th>\n      <th class="collectionInfoTh">\n        <div class="modal-text">'+(null==(__t=content.model.get("status"))?"":__t)+'</div>\n      </th>\n      <th class="collectionInfoTh">\n      </th>\n    </tr>\n\n    ',figuresData.hasOwnProperty("cacheEnabled")&&figuresData.cacheEnabled&&(__p+='\n      <tr>\n        <th class="collectionInfoTh2">Cache enabled:</th>\n        <th class="collectionInfoTh">\n          <div class="modal-text">'+(null==(__t=figuresData.cacheEnabled)?"":__t)+'</div>\n        </th>\n        <th class="collectionInfoTh">\n        </th>\n      </tr>\n    '),__p+="\n\n    ",figuresData.hasOwnProperty("isSystem")&&(__p+='\n      <tr>\n        <th class="collectionInfoTh2">System collection:</th>\n        <th class="collectionInfoTh">\n          <div class="modal-text">'+(null==(__t=figuresData.isSystem)?"":__t)+'</div>\n        </th>\n        <th class="collectionInfoTh">\n        </th>\n      </tr>\n    '),__p+="\n\n    ",figuresData.hasOwnProperty("syncByRevision")&&(__p+='\n      <tr>\n        <th class="collectionInfoTh2">Uses revision trees:</th>\n        <th class="collectionInfoTh">\n          <div class="modal-text">'+(null==(__t=figuresData.syncByRevision)?"":__t)+'</div>\n        </th>\n        <th class="collectionInfoTh">\n        </th>\n      </tr>\n    '),__p+="\n  </table>\n\n  ",figuresData.hasOwnProperty("figures")){if(__p+='\n    <div\n      style="color: #717d90; font-weight: 600; font-size: 12.5pt; padding: 10px; border-bottom: 1px solid rgba(0, 0, 0, .3); border-top: 1px solid rgba(0, 0, 0, .3)">\n      Figures\n    </div>\n    <table id="collectionFiguresTable" class="arango-table">\n\n      ',figuresData.figures.hasOwnProperty("documentsSize")&&(__p+='\n        <tr>\n          <th class="collectionInfoTh2">Estimated documents size:</th>\n          <th class="collectionInfoTh">\n            <div class="modal-text">'+(null==(__t=prettyBytes(figuresData.figures.documentsSize))?"":__t)+'</div>\n          </th>\n          <th class="tooltipInfoTh">\n            <div>\n                <span class="modalTooltips arangoicon icon_arangodb_info"\n                      title="The approximate cumulative size of all documents in this collection (on the leader). This is an estimate provided by the storage engine and may not be accurate.">\n                </span>\n            </div>\n          </th>\n        </tr>\n      '),__p+="\n\n      ",figuresData.figures.hasOwnProperty("indexes")){if(__p+="\n\n        ",figuresData.figures.indexes.hasOwnProperty("count")){__p+="\n          ";let amountOfIndexes=figuresData.figures.indexes.count;__p+='\n          <tr>\n            <th class="collectionInfoTh2">Number of indexes:</th>\n            <th class="collectionInfoTh">\n              <div class="modal-text">'+(null==(__t=amountOfIndexes)?"":__t)+'</div>\n            </th>\n            <th class="tooltipInfoTh">\n            </th>\n          </tr>\n\n          ',amountOfIndexes>0&&figuresData.figures.indexes.hasOwnProperty("size")&&(__p+='\n            <tr>\n              <th class="collectionInfoTh2">Estimated size of indexes:</th>\n              <th class="collectionInfoTh">\n                <div class="modal-text">'+(null==(__t=prettyBytes(figuresData.figures.indexes.size))?"":__t)+'</div>\n              </th>\n              <th class="tooltipInfoTh">\n                <div>\n                  <span class="modalTooltips arangoicon icon_arangodb_info"\n                        title="The approximate cumulative size of all indexes entries in this collection (on the leader). This is an estimate provided by the storage engine and may not be accurate.">\n                  </span>\n                </div>\n              </th>\n            </tr>\n          '),__p+="\n\n        "}__p+="\n\n      "}__p+="\n    </table>\n\n  "}if(__p+='\n\n  <div\n    style="color: #717d90; font-weight: 600; font-size: 12.5pt; padding: 10px; border-bottom: 1px solid rgba(0, 0, 0, .3); border-top: 1px solid rgba(0, 0, 0, .3)">\n    Data distribution\n  </div>\n  <table id="collectionDistributionTable" class="arango-table">\n    ',figuresData.replicationFactor&&(__p+='\n      <tr>\n        <th class="collectionInfoTh2">Replication factor:</th>\n        <th class="collectionInfoTh">\n          <div class="modal-text">'+(null==(__t=figuresData.replicationFactor)?"":__t)+'</div>\n        </th>\n        <th class="tooltipInfoTh">\n          <div>\n                <span class="modalTooltips arangoicon icon_arangodb_info"\n                      title="Determines how many copies of each shard are kept on different DB-Servers.">\n                </span>\n          </div>\n        </th>\n      </tr>\n    '),__p+="\n\n    ",figuresData.writeConcern&&(__p+='\n      <tr>\n        <th class="collectionInfoTh2">Write concern:</th>\n        <th class="collectionInfoTh">\n          <div class="modal-text">'+(null==(__t=figuresData.writeConcern)?"":__t)+'</div>\n        </th>\n        <th class="tooltipInfoTh">\n          <div>\n                <span class="modalTooltips arangoicon icon_arangodb_info"\n                      title="Determines how many copies of each shard are required to be in sync on the different DB-Servers. If there are less then these many copies in the cluster a shard will refuse to write. Writes to shards with enough up-to-date copies will succeed at the same time however. The value of writeConcern can not be larger than replicationFactor">\n                </span>\n          </div>\n        </th>\n      </tr>\n    '),__p+="\n\n    ",figuresData.shardKeys&&(__p+='\n      <tr>\n        <th class="collectionInfoTh2">Shard keys:</th>\n        <th class="collectionInfoTh">\n          <div class="modal-text">'+(null==(__t=JSON.stringify(figuresData.shardKeys))?"":__t)+'</div>\n        </th>\n        <th class="tooltipInfoTh">\n          <div>\n                <span class="modalTooltips arangoicon icon_arangodb_info"\n                      title="Contains the names of document attributes that are used to determine the target shard for documents.">\n                </span>\n          </div>\n        </th>\n      </tr>\n    '),__p+="\n\n    ",figuresData.distributeShardsLike&&(__p+='\n      <tr>\n        <th class="collectionInfoTh2">Distribute shards like:</th>\n        <th class="collectionInfoTh">\n          <div class="modal-text">'+(null==(__t=figuresData.distributeShardsLike)?"":__t)+'</div>\n        </th>\n        <th class="collectionInfoTh">\n        </th>\n      </tr>\n    '),__p+="\n\n    ",figuresData.smartJoinAttribute&&(__p+='\n      <tr>\n        <th class="collectionInfoTh2">SmartJoin attribute:</th>\n        <th class="collectionInfoTh">\n          <div class="modal-text">'+(null==(__t=figuresData.smartJoinAttribute)?"":__t)+'</div>\n        </th>\n        <th class="collectionInfoTh">\n        </th>\n      </tr>\n    '),__p+="\n\n    ",figuresData.hasOwnProperty("isSmartChild")&&figuresData.isSmartChild&&(__p+='\n      <tr>\n        <th class="collectionInfoTh2">SmartChild:</th>\n        <th class="collectionInfoTh">\n          <div class="modal-text">'+(null==(__t=figuresData.isSmartChild)?"":__t)+'</div>\n        </th>\n        <th class="collectionInfoTh">\n        </th>\n      </tr>\n    '),__p+="\n\n    ",figuresData.hasOwnProperty("isDisjoint")&&figuresData.isDisjoint&&(__p+='\n      <tr>\n        <th class="collectionInfoTh2">Disjoint collection:</th>\n        <th class="collectionInfoTh">\n          <div class="modal-text">'+(null==(__t=figuresData.isDisjoint)?"":__t)+'</div>\n        </th>\n        <th class="collectionInfoTh">\n        </th>\n      </tr>\n    '),__p+="\n\n    ",figuresData.numberOfShards&&(__p+='\n      <tr>\n        <th class="collectionInfoTh2">Number of shards:</th>\n        <th class="collectionInfoTh">\n          <div class="modal-text">'+(null==(__t=figuresData.numberOfShards)?"":__t)+'</div>\n        </th>\n        <th class="collectionInfoTh">\n        </th>\n      </tr>\n    '),__p+="\n\n    ",figuresData.shards){__p+='\n      <tr>\n        <th class="collectionInfoTh2">Shards:</th>\n        <th class="collectionInfoTh">\n          <div class="modal-text">\n            <table class="pure-table pure-table-inner">\n              <thead>\n              <tr>\n                <th>Name</th>\n                <th>Documents</th>\n                <th>Leader</th>\n                <th>Follower(s)</th>\n              </tr>\n\n              ';let allShards=Object.keys(figuresData.shards),shardCounts={};clusterData.hasOwnProperty("shardCounts")&&(shardCounts=clusterData.shardCounts),allShards.forEach((function(e,t){let n;n=shardCounts.hasOwnProperty(e)?shardCounts[e]:"n/A",__p+="\n\n              <tr>\n                <td>\n                  <span>"+(null==(__t=e)?"":__t)+"</span>\n                </td>\n                <td>\n                  <span>"+(null==(__t=n)?"":__t)+"</span>\n                </td>\n                <td>\n                  ";let i=figuresData.shards[e][0];try{i=window.arangoHelper.getDatabaseShortName(i)}catch(a){}__p+="\n                  <span>"+(null==(__t=i)?"":__t)+"</span>\n                </td>\n                <td>\n                  <ul>\n                    ",figuresData.shards[e].splice(1,figuresData.shards[e].length).forEach(e=>{let t=e;try{t=window.arangoHelper.getDatabaseShortName(t)}catch(a){}__p+="\n                      <li>\n                        <span>"+(null==(__t=t)?"":__t)+"</span>\n                      </li>\n                    "}),__p+="\n\n                  </ul>\n                </td>\n              </tr>\n\n              "})),__p+='\n\n              </thead>\n            </table>\n          </div>\n        </th>\n        <th class="collectionInfoTh">\n        </th>\n      </tr>\n    '}__p+="\n  </table>\n\n</div>\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="  <div>\n    Your new Foxx Service is ready for download.\n    You can edit it on your local system and repack it in a zip file to publish it on ArangoDB.\n  </div>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\t<div class="detail-chart">\n\t\t<div id="lineChartDetail" class="modal-inner-detail"></div>\n\t\t<div class="modal-dashboard-legend">\n\t\t\t<div class="dashboard-legend-inner" id="detailLegend"></div>\n\t\t</div>\n\t</div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='\n  <ul id="graphTab" class="nav nav-tabs">\n    <li class="active"><a href="#createGraph" data-toggle="tab" id="tab-createGraph">Graph</a></li>\n    <li><a href="#smartGraph" data-toggle="tab" id="tab-smartGraph">SmartGraph</a></li>\n    <li><a href="#satelliteGraph" data-toggle="tab" id="tab-satelliteGraph">SatelliteGraph</a></li>\n    <li><a href="#exampleGraphs" data-toggle="tab" id="tab-exampleGraphs">Examples</a></li>\n  </ul>\n\n  <div class="tab-content" id="tab-content-create-graph">\n\n    <div class="tab-pane" id="exampleGraphs">\n      <table style="margin-bottom: 10px">\n        <tbody>\n          <tr>\n            <td>Knows Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="knows_graph" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>Traversal Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="traversalGraph" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>k Shortest Paths Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="kShortestPathsGraph" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>Mps Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="mps_graph" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>World Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="worldCountry" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>Social Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="social" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>City Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="routeplanner" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>Connected Components Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="connectedComponentsGraph" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n     <p style="width: 100%; text-align: center;">Need help? Visit our <a style="font-weight: bold" href="https://www.arangodb.com/docs/stable/graphs.html#example-graphs" target="_blank">Graph Documentation</a></p>\n\n    </div>\n\n    <div class="active tab-pane" id="createGraph">\n\n    <div id="smartGraphInfo" class="infoMessage" style="display: none;">\n      <span>SmartGraph Info: Only use non-existent collection names (vertices/edges).</span>\n    </div>\n\n    <div id="smartGraphInfoOneShard" class="infoMessage" style="display: none">\n      <span>Creating SmartGraphs in a OneShard database is discouraged. SmartGraphs only make sense when data are actually distributed, which is exactly opposite to the purpose of the OneShard feature. Using a SmartGraph in a OneShard database may lead to some OneShard query optimizations being disabled.</span>\n    </div>\n\n    ';var createTR=function(e,t){var n="";switch(e.mandatory&&(n="*"),__p+='\n        <tr class="tableRow" id="'+(null==(__t="row_"+e.id)?"":__t)+'">\n          <th class="collectionTh">'+(null==(__t=e.label)?"":__t)+(null==(__t=n)?"":__t)+':</th>\n          <th class="collectionTh">\n            ',e.type){case"text":__p+='\n            <input type="text" id="'+(null==(__t=e.id)?"":__t)+'" value="'+(null==(__t=e.value||"")?"":__t)+'" placeholder="'+(null==(__t=e.placeholder||"")?"":__t)+'"></input>\n            ';break;case"password":__p+='\n            <input type="password" id="'+(null==(__t=e.id)?"":__t)+'" value="'+(null==(__t=e.value||"")?"":__t)+'" placeholder="'+(null==(__t=e.placeholder||"")?"":__t)+'"></input>\n            ';break;case"readonly":__p+='\n            <input type="text" id="'+(null==(__t=e.id)?"":__t)+'" value="'+(null==(__t=e.value||"")?"":__t)+'" placeholder="'+(null==(__t=e.placeholder||"")?"":__t)+'" disabled></input>\n            ';break;case"checkbox":var i="",a="";e.checked&&(i="checked"),e.disabled&&(a="disabled"),__p+='\n            <input type="checkbox" id="'+(null==(__t=e.id)?"":__t)+'" value="'+(null==(__t=e.value)?"":__t)+'" '+(null==(__t=i)?"":__t)+" "+(null==(__t=a)?"":__t)+"></input>\n            ";break;case"select":__p+='\n            <select id="'+(null==(__t=e.id)?"":__t)+'" class="modalSelect">\n            ',_.each(e.options,(function(t){__p+='\n              <option value="'+(null==(__t=t.value)?"":__t)+'" '+(null==(__t=e.selected===t.value?"selected":"")?"":__t)+">"+(null==(__t=t.label)?"":__t)+"</option>\n            "})),__p+="\n            </select>\n            ";break;case"select2":__p+='\n            <input type="hidden" id="'+(null==(__t=e.id)?"":__t)+'" value="'+(null==(__t=e.value||"")?"":__t)+'" placeholder="'+(null==(__t=e.placeholder||"")?"":__t)+'"></input>\n            ',e.addAdd&&(__p+='\n              <button id="'+(null==(__t="addAfter_"+e.id)?"":__t)+'" class="graphViewer-icon-button gv-icon-small add addAfter"></button>\n            '),__p+="\n            ",e.addDelete&&(__p+='\n              <button id="'+(null==(__t="remove_"+e.id)?"":__t)+'" class="graphViewer-icon-button gv_internal_remove_line gv-icon-small delete addDelete"></button>\n            '),__p+="\n            "}e.info&&(__p+='\n          <th>\n            <span class="modalTooltips arangoicon icon_arangodb_info" title="'+(null==(__t=e.info)?"":__t)+'">\n            </span>\n          </th>\n        '),__p+="\n        </tr>\n      "};__p+="\n\n    <table>\n      <tbody>\n        ",_.each(content,(function(e){createTR(e)})),__p+="\n\n      </tbody>\n    </table>\n      ",advancedContent&&(__p+='\n      <div class="accordion" id="accordion2">\n        <div class="accordion-group">\n          <div class="accordion-heading">\n            <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">\n              <span>'+(null==(__t=advancedContent.header)?"":__t)+'</span><span><b class="caret"></b></span>\n            </a>\n          </div>\n          <div id="collapseOne" class="accordion-body collapse out">\n            <div class="accordion-inner">\n              <table>\n                <tbody>\n                  ',_.each(advancedContent.content,(function(e){createTR(e)})),__p+="\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n      "),__p+="\n    </div>\n\n  </div>\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n  <ul class="hotkeysList">\n  ',_.each(content,(function(e){__p+='\n\n    <li class="hotkeysLabel">'+(null==(__t=e.name)?"":__t)+"</li>\n\n    ",_.each(e.content,(function(e){__p+='\n      <li class="hotkeysContent"><div class="hotkeysContentLabel">'+(null==(__t=e.label)?"":__t)+'</div><div class="hotkeysicons">&nbsp;&nbsp;'+(null==(__t=e.letter)?"":__t)+"&nbsp;&nbsp;</div></li>\n    "})),__p+="\n\n\n  "})),__p+="\n  <ul>\n\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";let advancedCounter=2;function createInput(e){switch(e.type){case"text":__p+='\n            <input type="text" id="'+(null==(__t=e.id)?"":__t)+'" value="'+(null==(__t=_.escape(e.value||""))?"":__t)+'"\n                placeholder="'+(null==(__t=e.placeholder||"")?"":__t)+'" '+(null==(__t=e.style?'style="'+e.style+'"':"")?"":__t)+"/>\n";break;case"blob":__p+='\n        <textarea id="'+(null==(__t=e.id)?"":__t)+'" placeholder="'+(null==(__t=e.placeholder||"")?"":__t)+'"\n                '+(null==(__t=e.style?'style="'+e.style+'"':"")?"":__t)+">"+(null==(__t=e.value||"")?"":__t)+"</textarea>\n";break;case"password":__p+='\n    <input type="password" id="'+(null==(__t=e.id)?"":__t)+'" value="'+(null==(__t=e.value||"")?"":__t)+'" placeholder="'+(null==(__t=e.placeholder||"")?"":__t)+'"\n            '+(null==(__t=e.style?'style="'+e.style+'"':"")?"":__t)+"/>\n";break;case"readonly":__p+='\n    <div class="modal-text" id="'+(null==(__t=e.id)?"":__t)+'" '+(null==(__t=e.style?'style="'+e.style+'"':"")?"":__t)+">\n        "+(null==(__t=e.value||"")?"":__t)+"\n    </div>\n";break;case"checkbox":var t="",n="";e.checked&&(t="checked"),e.disabled&&(n="disabled"),__p+='\n    <input type="checkbox" id="'+(null==(__t=e.id)?"":__t)+'" value="'+(null==(__t=e.value)?"":__t)+'" '+(null==(__t=t)?"":__t)+" "+(null==(__t=n)?"":__t)+"\n            "+(null==(__t=e.style?'style="'+e.style+'"':"")?"":__t)+"/>\n";break;case"select":__p+='\n        <select id="'+(null==(__t=e.id)?"":__t)+'" class="modalSelect" '+(null==(__t=e.style?'style="'+e.style+'"':"")?"":__t)+">\n        ",_.each(e.options,(function(t){__p+='\n            <option value="'+(null==(__t=t.value)?"":__t)+'" '+(null==(__t=e.selected===t.value?"selected":"")?"":__t)+"\n                    "+(null==(__t=t.style?'style="'+t.style+'"':"")?"":__t)+">\n                "+(null==(__t=t.label)?"":__t)+"\n            </option>\n        "})),__p+="\n        </select>\n";break;case"select2":__p+='\n    <input type="hidden" id="'+(null==(__t=e.id)?"":__t)+'" value="'+(null==(__t=e.value||"")?"":__t)+'" placeholder="'+(null==(__t=e.placeholder||"")?"":__t)+'"/>\n    ',e.addDelete&&(__p+='\n        <button class="graphViewer-icon-button gv-icon-small add"></button>\n    '),__p+="\n    ",e.addDelete&&(__p+='\n        <button class="graphViewer-icon-button gv_internal_remove_line gv-icon-small delete"></button>\n    '),__p+="\n";break;case"jsoneditor":__p+='\n    <div id="jsoneditor" '+(null==(__t=e.style?'style="'+e.style+'"':"")?"":__t)+"></div>\n";break;case"table":__p+='\n    <table class="pure-table pure-table-bordered" id="'+(null==(__t=e.id)?"":__t)+'" '+(null==(__t=e.style?'style="'+e.style+'"':"")?"":__t)+">\n        ",Array.isArray(e.head)&&e.head.length&&(__p+="\n            <thead>\n            <tr>\n                ",e.head.forEach(e=>{__p+='\n\n                    <th style="height: unset;">'+(null==(__t=e)?"":__t)+"</th>\n                "}),__p+='\n                <th style="height: unset; min-width: 30px;">\n                    <span style="display: inline-flex">\n                                <button class="graphViewer-icon-button gv-icon-small add addAfter"></button>\n                    </span>\n                </th>\n            </tr>\n            </thead>\n        '),__p+="\n        <tbody>\n        ",e.rows.forEach((t,n)=>{const i=`${e.id}-row-${n}`;__p+='\n            <tr id="'+(null==(__t=i)?"":__t)+'">\n            ',t.forEach(e=>{e.style=[e.style||"","width: unset;","margin: 0;"].join(" "),__p+="\n                <td>\n                    ",createInput(e),__p+="\n                </td>\n                "}),__p+='\n                <td>\n                            <span style="display: inline-flex">\n                                ',n&&(__p+='\n                                <button style="margin-left: 5px;"\n                                        class="graphViewer-icon-button gv_internal_remove_line gv-icon-small delete addDelete">\n                                </button>\n                                '),__p+="\n                            </span>\n                </td>\n            </tr>\n        "}),__p+="\n        </tbody>\n    </table>\n"}}function generateAdvancedSection(e,t){__p+='\n<div class="accordion" id="accordion'+(null==(__t=advancedCounter)?"":__t)+'">\n  <div class="accordion-group">\n    <div class="accordion-heading">\n      <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion'+(null==(__t=advancedCounter)?"":__t)+'" href="#collapseOne'+(null==(__t=advancedCounter)?"":__t)+'">\n        <span>'+(null==(__t=e)?"":__t)+'</span><span><b class="caret"></b></span>\n      </a>\n      </div>\n      <div id="collapseOne'+(null==(__t=advancedCounter)?"":__t)+'" class="accordion-body collapse out">\n        <div class="accordion-inner" style="margin-right: 15px;">\n          <table>\n            <tbody>\n            ',_.each(t,(function(e){createTR(e)})),__p+="\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n",advancedCounter++}var createTR=function(e){var t="";e.mandatory&&(t="*"),__p+='\n\n<tr class="tableRow" id="'+(null==(__t="row_"+e.id)?"":__t)+'">\n  ',"string"===typeof e.label&&(__p+='\n    <th class="collectionTh">\n      '+(null==(__t=e.label)?"":__t)+(null==(__t=t)?"":__t)+":\n    </th>\n  "),__p+='\n\n    <th class="collectionTh"'+(null==(__t=e.info?"":' colspan="2"')?"":__t)+">\n        ",createInput(e),__p+="\n        ",e.info&&(__p+='\n        </th>\n        <th>\n          <span class="modalTooltips arangoicon icon_arangodb_info" title="'+(null==(__t=e.info)?"":__t)+'">\n          </span>\n        '),__p+="\n      </th>\n    </tr>\n    "};__p+="\n  ",content&&(__p+="\n    <table>\n      <tbody>\n        ",_.each(content,(function(e){createTR(e)})),__p+="\n      </tbody>\n    </table>\n  "),__p+="\n  ",info&&(__p+="\n    "+(null==(__t=info)?"":__t)+"\n  "),__p+="\n  ",advancedContent&&Array.isArray(advancedContent)?_.forEach(advancedContent,(function(e){generateAdvancedSection(e.header,e.content)})):advancedContent&&generateAdvancedSection(advancedContent.header,advancedContent.content),__p+="\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){function createSuite(e){__p+='\n    <dt class="tests-result-spec-suite-title">\n      '+(null==(__t=e.title)?"":__t)+"\n    </dt>\n    <dd>\n      ",e.tests.length&&(__p+='\n        <ul class="tests-result-spec-tests">\n          ',_.each(e.tests,createTest),__p+="\n        </ul>\n      "),__p+="\n      ",e.suites.length&&(__p+='\n        <dl class="tests-result-spec-suites">\n          ',_.each(e.suites,createSuite),__p+="\n        </dl>\n      "),__p+="\n    </dd>\n    "}function createTest(e){var t=e.duration>75;switch(__p+='\n    <li class="tests-result-spec-test '+(null==(__t=e.result)?"":__t)+(null==(__t=t?" slow":"")?"":__t)+'">\n      <span class="tests-result-spec-test-title">\n        ',e.result){case"pass":__p+='\n          <span class="fa fa-check"></span>\n          ';break;case"fail":__p+='\n          <span class="fa fa-times"></span>\n          ';break;case"pending":__p+='\n          <span class="fa fa-circle"></span>\n        '}__p+="\n        "+(null==(__t=e.title)?"":__t)+"\n        "+(null==(__t=t?"("+e.duration+"ms)":"")?"":__t)+"\n      </span>\n      ",_.isEmpty(e.err)||(__p+='\n        <pre class="stack">'+(null==(__t=e.err.stack)?"":__t)+"</pre>\n      "),__p+="\n    </li>\n  "}__p+="",__p+='\n  <div class="tests-result">\n    ',info.stack?__p+='\n      <div class="tests-result-stats fail">\n        Test runner failed with an error.\n      </div>\n      <pre class="stack">'+(null==(__t=info.stack)?"":__t)+"</pre>\n    ":(__p+='\n      <div class="tests-result-stats">\n        Completed <b>'+(null==(__t=info.stats.tests)?"":__t)+"</b> tests in <b>"+(null==(__t=info.stats.duration)?"":__t)+'ms</b>\n        (<span class="pass" title="passes">'+(null==(__t=info.stats.passes)?"":__t)+'</span>/<span class="fail" title="failures">'+(null==(__t=info.stats.failures)?"":__t)+'</span>/<span class="pending" title="pending">'+(null==(__t=info.stats.pending)?"":__t)+'</span>)\n      </div>\n      <div class="tests-result-spec">\n        ',info.tests.length&&(__p+='\n          <ul class="tests-result-spec-tests">\n            ',_.each(info.tests,createTest),__p+="\n          </ul>\n        "),__p+="\n        ",info.suites.length&&(__p+='\n          <dl class="tests-result-spec-suites">\n            ',_.each(info.suites,createSuite),__p+="\n          </dl>\n        "),__p+="\n        ",info.tests.length||info.suites.length||(__p+='\n          <div class="tests-result-spec-empty">No tests found.</div>\n        '),__p+="\n      </div>\n    "),__p+="\n  </div>\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <ul class="navlist arango-collection-ul" id="arangoCollectionUl">\n    ',isCluster&&"jwt-all"!==frontendConfig.clusterApiJwtPolicy?(__p+="\n      ",(currentDB.get("isSystem")||statisticsInAllDatabases)&&(__p+='\n        <li class="cluster-menu"><a id="cluster" class="tab" href="#cluster"><i class="fa fa-circle-o"></i>Cluster</a></li>\n      '),__p+='\n      <li class="nodes-menu"><a id="nodes" class="tab" href="#nodes"><i class="fa fa-server"></i>Nodes</a></li>\n    '):isCluster||(__p+='\n      <li class="dashboard-menu"><a id="dashboard" class="tab" href="#dashboard"><i class="fa fa-dashboard"></i>Dashboard</a></li>\n    '),__p+='\n    <li class="navbar-spacer big"></li>\n    \x3c!-- <li id="dbSelect" class="dropdown databases-menu disabled"></li> --\x3e\n    <li class="collections-menu"><a id="collections" class="tab" href="#collections"><i class="fa fa-folder"></i>Collections</a></li>\n    <li class="analyzers-menu"><a id="analyzers" class="tab" href="#analyzers"><i class="fa fa-cog"></i>Analyzers</a></li>\n    <li class="views-menu"><a id="views" class="tab" href="#views"><i class="fa fa-eye"></i>Views</a></li>\n    <li class="queries-menu"><a id="queries" class="tab" href="#queries"><i class="fa fa-bolt"></i>Queries</a></li>\n    <li class="graphs-menu"><a id="graphs" class="tab" href="#graphs"><i class="fa fa-sitemap"></i>Graphs</a></li>\n    ',foxxApiEnabled&&(__p+='\n    <li class="services-menu">\n      <a id="services" class="tab" href="#services"><i class="fa fa-cogs"></i>Services</a>\n    </li>\n    '),__p+="\n    ",currentDB.get("isSystem")&&(__p+="\n      ",readOnly||(__p+='\n        <li class="users-menu"><a id="users" class="tab" href="#users"><i class="fa fa-users"></i>Users</a></li>\n      '),__p+="\n    "),__p+="\n    \x3c!--\n    ",currentDB.get("isSystem")&&(__p+='\n      <li class="navbar-spacer big"></li>\n      <li class="settings-menu"><a id="settings" class="tab" href="#settings"><i class="fa fa-cog"></i>Settings</a></li>\n    '),__p+="\n    --\x3e\n    ",(currentDB.get("isSystem")||currentDB.get(!isCluster))&&(__p+='\n      <li class="navbar-spacer big"></li>\n    '),__p+="\n    ",currentDB.get("isSystem")&&(__p+='\n      <li class="databases-menu"><a id="databases" class="tab" href="#databases"><i class="fa fa-database"></i>Databases</a></li>\n    '),__p+="\n    ",currentDB.get("isSystem")&&!isCluster&&(__p+='\n      <li class="replication-menu"><a id="replication" class="tab" href="#replication"><i class="fa fa-server"></i>Replication</a></li>\n    '),__p+="\n    ",isCluster||(__p+='\n      <li class="logs-menu"><a id="logs" class="tab" href="#logs"><i class="fa fa-file-text"></i>Logs</a></li>\n    '),__p+='\n    <li class="navbar-spacer big"></li>\n    <li class="support-menu"><a id="support" class="tab" href="#support"><i class="fa fa-support"></i>Support</a></li>\n    <li class="helpus-menu"><a id="helpus" class="tab" href="#helpus"><i class="fa fa-heart"></i>Help Us</a></li>\n    <li class="enterprise-menu" style="display: none; cursor: pointer"><a id="enterprise" class="tab" target="_blank"><i class="fa fa-external-link-square"></i>Get enterprise</a></li>\n  </ul>\n\n\n  <div class="shortcut-icons">\n    <p class="shortcut"><i class="fa fa-keyboard-o"></i></p>\n  </div>\n\n  <div class="social-icons">\n    <p><a href="https://twitter.com/arangodb" target="_blank"><i class="fa fa-twitter"></i></a></p>\n    <p><a href="https://slack.arangodb.com" target="_blank"><i class="fa fa-slack"></i></a></p>\n    <p><a href="https://stackoverflow.com/questions/tagged/arangodb" target="_blank"><i class="fa fa-stack-overflow"></i></a></p>\n    <p><a href="https://groups.google.com/group/arangodb" target="_blank"><i class="fa fa-google"></i></a></p>\n  </div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n  <div id="nodeContent" class="innerContent">\n\n\n  </div>\n\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){if(__p+='<div id="nodesContent" class="innerContent">\n\n  ',Object.keys(coords).length>0){__p+="\n\n  ";var disabled="";__p+='\n\n  <div class="pure-g">\n\n    <div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1 pure-u-xl-1-2">\n\n      <div class="sectionHeader pure-g">\n        <div class="pure-u-1-5">\n          <div class="title">\n            Coordinators\n          </div>\n        </div>\n\n\n        <div class="pure-u-4-5">\n\n          ',!0===scaling&&"_system"===frontendConfig.db&&(__p+='\n            <div class="scaleGroup" id="scaleCoords">\n              <div style="text-align: -webkit-right;">\n                <span class="left" id="removeCoord"><i class="fa fa-minus"></i></span>\n                <input id="plannedCoords" type="text" value="'+(null==(__t=plannedCoords)?"":__t)+'"/>\n                <span class="right" id="addCoord"><i class="fa fa-plus"></i></span>\n              </div>\n            </div>\n          '),__p+='\n\n          <div class="information" id="infoCoords">\n            <span class="positive"><span> '+(null==(__t=scaleProperties.coordsOk)?"":__t)+' </span><i\n                class="fa fa-check-circle"></i></span>\n            ',scaleProperties.coordsError&&(__p+='\n              <span class="negative"><span> '+(null==(__t=scaleProperties.coordsError)?"":__t)+' </span><i\n                  class="fa fa-exclamation-circle"></i></span>\n            '),__p+="\n            ",scaleProperties.coordsPending&&!0===scaling&&"_system"===frontendConfig.db&&(__p+='\n              <span class="warning"><span> '+(null==(__t=scaleProperties.coordsPending)?"":__t)+' </span><i\n                  class="fa fa-circle-o-notch fa-spin"></i></span>\n              <button class="abortClusterPlan button-navbar button-default">Abort</button>\n            '),__p+='\n          </div>\n        </div>\n\n      </div>\n\n      <div class="pure-g cluster-nodes-title pure-table pure-table-header pure-title" style="clear: both">\n        <div class="pure-table-row">\n          <div class="pure-u-9-24 left">Name</div>\n          <div class="pure-u-9-24 left">Endpoint</div>\n          <div class="pure-u-3-24">Version</div>\n          <div class="pure-u-2-24 mid hide-small">Since</div>\n          <div class="pure-u-1-24 mid"></div>\n        </div>\n      </div>\n\n      <div class="pure-g cluster-nodes coords-nodes pure-table pure-table-body">\n        ',_.each(coords,(function(e,t){__p+="\n          ";var n=e.id+"-node";__p+='\n\n          <div class="pure-table-row '+(null==(__t=disabled)?"":__t)+'" node="'+(null==(__t=n)?"":__t)+'">\n\n            <div class="pure-u-9-24 left" title="'+(null==(__t=e.id)?"":__t)+'">\n              '+(null==(__t=e.ShortName)?"":__t)+'\n              <i class="fa fa-bar-chart"></i>\n              ',e.CanBeDeleted&&"_system"===frontendConfig.db&&(__p+='\n                <i class="fa fa-trash-o"></i>\n              '),__p+='\n            </div>\n            <div class="pure-u-9-24 left">'+(null==(__t=e.Endpoint)?"":__t)+'</div>\n\n            <div class="pure-u-3-24">'+(null==(__t=e.Version)?"":__t)+"</div>\n\n            ";var i=e.LastAckedTime.substr(11,18);__p+="\n            ";var a=e.LastAckedTime;__p+='\n            <div class="pure-u-2-24 hide-small mid" title="'+(null==(__t=a)?"":__t)+'">'+(null==(__t=i)?"":__t)+'</div>\n\n            <div class="pure-u-1-24 right state">\n            ',"GOOD"===e.Status?__p+='\n              <i class="fa fa-check-circle tippy" title="'+(null==(__t=e.SyncStatus)?"":__t)+'"></i>\n            ':__p+='\n              <i class="fa fa-exclamation-circle"></i>\n            ',__p+="\n            </div>\n          </div>\n\n        "})),__p+="\n      </div>\n    </div>\n\n    "}if(__p+="\n\n    ",Object.keys(dbs).length>0){__p+="\n      ";var disabled="";__p+="\n      ",disabled=" dbserver",__p+='\n    <div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1 pure-u-xl-1-2">\n      <div class="sectionHeader pure-g">\n        <div class="pure-u-1-5">\n          <div class="title">\n            DB Servers\n          </div>\n        </div>\n\n        <div class="pure-u-4-5">\n\n          ',!0===scaling&&"_system"===frontendConfig.db&&(__p+='\n            <div class="scaleGroup" id="scaleCoords">\n              <div style="text-align: -webkit-right;">\n                <span class="left" id="removeDBs"><i class="fa fa-minus"></i></span>\n                <input id="plannedDBs" value="'+(null==(__t=plannedDBs)?"":__t)+'" type="text"/>\n                <span class="right" id="addDBs"><i class="fa fa-plus"></i></span>\n              </div>\n            </div>\n          '),__p+='\n\n          <div class="information" id="infoDBs">\n            <span class="positive"><span> '+(null==(__t=scaleProperties.dbsOk)?"":__t)+' </span><i class="fa fa-check-circle"></i></span>\n            ',scaleProperties.dbsError&&(__p+='\n              <span class="negative"><span> '+(null==(__t=scaleProperties.dbsError)?"":__t)+' </span><i\n                  class="fa fa-exclamation-circle"></i></span>\n            '),__p+="\n            ",scaleProperties.dbsPending&&!0===scaling&&"_system"===frontendConfig.db&&(__p+='\n              <span class="warning"><span> '+(null==(__t=scaleProperties.dbsPending)?"":__t)+' </span><i\n                  class="fa fa-circle-o-notch fa-spin"></i></span>\n              <button class="abortClusterPlan button-navbar button-default">Abort</button>\n            '),__p+='\n          </div>\n\n        </div>\n\n      </div>\n\n      <div class="pure-g cluster-nodes-title pure-table pure-table-header pure-title" style="clear: both">\n        <div class="pure-table-row">\n          <div class="pure-u-9-24 left">Name</div>\n          <div class="pure-u-9-24 left">Endpoint</div>\n          <div class="pure-u-3-24">Version</div>\n          <div class="pure-u-2-24 mid hide-small">Since</div>\n          <div class="pure-u-1-24 mid"></div>\n        </div>\n      </div>\n\n      '}__p+='\n\n      <div class="pure-g cluster-nodes dbs-nodes pure-table pure-table-body">\n        ',_.each(dbs,(function(e,t){__p+="\n          ";var n=e.id+"-node";__p+='\n\n          <div class="pure-table-row '+(null==(__t=disabled)?"":__t)+'" node="'+(null==(__t=n)?"":__t)+'">\n\n            <div class="pure-u-9-24 left" title="'+(null==(__t=e.id)?"":__t)+'">\n              '+(null==(__t=e.ShortName)?"":__t)+'\n              <i class="fa fa-bar-chart"></i>\n              ',e.CanBeDeleted&&"_system"===frontendConfig.db&&(__p+='\n                <i class="fa fa-trash-o"></i>\n              '),__p+='\n            </div>\n            <div class="pure-u-9-24 left">'+(null==(__t=e.Endpoint)?"":__t)+'</div>\n\n            <div class="pure-u-3-24">'+(null==(__t=e.Version)?"":__t)+"</div>\n\n            ";var i=e.LastAckedTime.substr(11,18);__p+="\n            ";var a=e.LastAckedTime;__p+='\n            <div class="pure-u-2-24 hide-small mid" title="'+(null==(__t=a)?"":__t)+'">'+(null==(__t=i)?"":__t)+'</div>\n\n            <div class="pure-u-1-24 right state">\n            ',"GOOD"===e.Status?__p+='\n              <i class="fa fa-check-circle tippy" title="'+(null==(__t=e.SyncStatus)?"":__t)+'"></i>\n            ':__p+='\n              <i class="fa fa-exclamation-circle"></i>\n            ',__p+="\n            </div>\n\n          </div>\n        "})),__p+="\n      </div>\n\n    </div>\n\n    ",Object.keys(agents).length>0&&(__p+='\n      <div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1 pure-u-xl-1-1">\n        <div class="sectionHeader pure-g">\n          <div class="pure-u-1-5">\n            <div class="title">\n              Agents\n            </div>\n          </div>\n\n          <div class="pure-u-4-5">\n            <div class="information" id="infoAgents">\n            <span class="positive"><span> '+(null==(__t=scaleProperties.agentsOk)?"":__t)+' </span><i\n                class="fa fa-check-circle"></i></span>\n              ',scaleProperties.coordsError&&(__p+='\n                <span class="negative"><span> '+(null==(__t=scaleProperties.agentError)?"":__t)+' </span><i\n                    class="fa fa-exclamation-circle"></i></span>\n              '),__p+='\n            </div>\n\n          </div>\n        </div>\n\n        <div class="pure-g cluster-nodes-title pure-table pure-table-header pure-title" style="clear: both">\n          <div class="pure-table-row">\n            <div class="pure-u-9-24 left">Name</div>\n            <div class="pure-u-3-24 left" style="text-align: center">Leading</div>\n            <div class="pure-u-6-24 left">Endpoint</div>\n            <div class="pure-u-3-24">Version</div>\n            \x3c!--div class="pure-u-2-24 mid hide-small">Since</div--\x3e\n            <div class="pure-u-3-24 mid"></div>\n          </div>\n        </div>\n\n        <div class="pure-g cluster-nodes agents-nodes pure-table pure-table-body">\n          ',_.each(agents,(function(e,t){__p+="\n            ";var n=e.id+"-node";let i,a;__p+='\n\n            <div class="pure-table-row disabled" node="'+(null==(__t=n)?"":__t)+'">\n\n              <div class="pure-u-9-24 left" title="'+(null==(__t=e.id)?"":__t)+'">\n                '+(null==(__t=e.id)?"":__t)+"\n              </div>\n              ",e.Leading?__p+='\n                <div class="pure-u-3-24 left" style="text-align: center">\n                  <i class="fa fa-check-circle tippy" title="The current leading agent!"></i>\n                </div>\n              ':__p+='\n                <div class="pure-u-3-24 left" style="text-align: center">\n                  <i style="color: rgba(0,0,0,.2); font-size: 16px;" class="fa fa-circle-o tippy"\n                     title="This agent is not leading."></i>\n                </div>\n              ',__p+='\n\n              <div class="pure-u-6-24 left">'+(null==(__t=e.Endpoint)?"":__t)+'</div>\n\n              <div class="pure-u-3-24">'+(null==(__t=e.Version)?"":__t)+"</div>\n\n              ";try{i=e.LastAckedTime.substr(11,18),a=e.LastAckedTime}catch(r){i="n/A",a="n/A"}__p+='\n              \x3c!--div class="pure-u-2-24 hide-small mid" title="'+(null==(__t=a)?"":__t)+'">'+(null==(__t=i)?"":__t)+'</div--\x3e\n\n              <div class="pure-u-3-24 right state">\n              ',"GOOD"===e.Status?__p+='\n                <i class="fa fa-check-circle tippy" title="'+(null==(__t=e.SyncStatus)?"":__t)+'"></i>\n              ':__p+='\n                <i class="fa fa-exclamation-circle"></i>\n              ',__p+="\n              </div>\n\n            </div>\n          "})),__p+="\n        </div>\n      </div>\n    "),__p+="\n\n  </div>\n</div>\n\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",notifications.forEach((function(e){__p+='\n  <li class="dropdown-item">\n    <div class="notificationItem">\n      ',e.get("info")&&(__p+='\n      <i title="'+(null==(__t=e.get("info"))?"":__t)+'" class="notificationInfoIcon fa fa-info-circle"></i>\n      '),__p+='\n\n      <i id="'+(null==(__t=e.cid)?"":__t)+'" class="fa fa-times-circle-o"></i>\n      <a class="notificationItemTitle">'+(null==(__t=e.get("title"))?"":__t)+'</a>\n      <div class="notificationItemContent">'+(null==(__t=e.get("content"))?"":__t)+"</div>\n\n    </div>\n  </li>\n"})),__p+="\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<ul class="navlist" id="notificationViewUl">\n\n  <div class="navlogo">\n    <div id="stat_hd" class="notificationButton"><p id="stat_hd_counter">0</p></div>\n  </div>\n\n  <li class="dropdown no-left-margin" style="border: 0">\n    <ul class="user-dropdown-menu fixedDropdown" id="notification_menu">\n      <li class="dropdown-header"><a>Notifications</a></li>\n      <ul class="innerDropdownInnerUL"></ul>\n      <button id="removeAllNotifications" class="button-close">Clear</button>\n    </ul>\n  </li>\n\n</ul>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="progress-view">\n    <div class="progress-content">\n      <div class="progress-text"></div>\n      <div class="pong-spinner"><i /></div>\n    </div>\n    <div class="progress-message">\n      <div class="progress-action"></div>\n    </div>\n  </div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div id="queryManagementContent" class="innerContent">\n  </div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div id="queryManagementContent" class="innerContent">\n  </div>\n\n  <div class="queryManagementBottomActions">\n    <button id="deleteSlowQueryHistory" class="button-danger query-button">Delete History</button>\n  </div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n    <div class="arangoToolbar arangoToolbarTop">\n      <div class="pull-left">\n        <button id="toggleQueries1" class="button-primary"><i class="fa fa-star-o"></i>Queries</button>\n        <button id="toggleQueries2" class="button-primary" style="display: none"><i class="fa fa-star"></i>Queries</button>\n        <button id="createNewQuery" class="button-warning">New</button>\n        <button id="updateCurrentQuery" class="button-success" style="display: none"><i class="fa fa-save"></i>Save</button>\n        <button id="saveCurrentQuery" class="button-success"><i class="fa fa-save"></i>Save as</button>\n      </div>\n\n      <div class="pull-right">\n        <span id="querySpotlight" class="action"><i class="fa fa-magic"></i></span>\n        <div class="styled-select">\n          <select id="querySize" class="query-size"></select>\n        </div>\n      </div>\n    </div>\n\n    <div class="inputEditorWrapper">\n      <div class="aqlEditorWrapper" class="arangoEditor">\n        <span id="clearQuery" class="aceAction"><i class="fa fa-times-circle"></i></span>\n        <div id="aqlEditor"></div>\n        <div id="queryTable" style="display: none"></div>\n      </div>\n\n      <div class="bindParamEditorWrapper" class="arangoEditor">\n        <span id="switchTypes" class="aceAction type">JSON</span>\n        <div id="bindParamEditor"></div>\n        <div id="bindParamAceEditor" style="display: none"></div>\n\n        <div id="previewWrapper" class="previewWrapper" style="display: none">\n          <div id="previewBar" class="previewBar">\n            <span>Preview</span>\n          </div>\n          <div id="queryPreview"></div>\n        </div>\n\n      </div>\n    </div>\n\n    <div class="arangoToolbar arangoToolbarBottom">\n      <div class="pull-right">\n        <button id="exportQuery" class="button-success query-button" style="display:none">Export Queries</button>\n        <button id="importQuery" class="button-success query-button" style="display:none">Import Queries</button>\n        <button id="executeQuery" class="button-success query-button">Execute</button>\n        <button id="explainQuery" class="button-info query-button">Explain</button>\n        <button id="profileQuery" class="button-info query-button">Profile</button>\n        <button id="debugQuery" class="button-warning query-button">Create Debug Package</button>\n        <button id="removeResults" class="button-close query-button" style="display: none">Remove all results</button>\n      </div>\n    </div>\n\n  </div>\n\n  <div id="outputEditors" class="outputEditors">\n  </div>\n\n  <div id="queryImportDialog" class="modal hide fade in" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false" style="display: none;">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>\n      <a class="arangoHeader">Import custom queries</a>\n    </div>\n\n    <div class="modal-body">\n      <table>\n        <tbody>\n          <tr class="tableRow">\n            <th class="collectionTh">Format:</th>\n            <th class="collectionTh" colspan="2">\n<pre><code>JSON documents embedded into a list:\n\n[{\n  "name": "Query Name",\n  "value": "Query Definition",\n  "parameter": "Query Bind Parameter as Object"\n}]</code></code>\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionTh">File:</th>\n            <th class="collectionTh" colspan="2">\n              <input id="importQueries" name="importQueries" type="file" style="border: 0" />\n            </th>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <div class="modal-footer">\n      <button id="confirmQueryImport" class="button-success disabled" style="float:right">Import</button>\n      <button id="closeQueryModal" class="button-close">Cancel</button>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="outputEditorWrapper'+(null==(__t=counter)?"":__t)+'" class="outputEditorWrapper">\n    <div class="arangoToolbar arangoToolbarTop">\n      <div class="pull-left">\n        <span class="toolbarType">'+(null==(__t=type)?"":__t)+'</span>\n          <span id="spinner"><i class="fa fa-spinner fa-spin"></i><i>Query is operating ...</i></span>\n      </div>\n      <div class="pull-right">\n        <span class="action closeResult" element="outputEditor'+(null==(__t=counter)?"":__t)+'"><i class="fa fa-close" style="display: none"></i></span>\n      </div>\n      <div class="pull-right">\n        <div class="switchAce" counter="'+(null==(__t=counter)?"":__t)+'">\n          <span id="json-switch" val="JSON" counter="'+(null==(__t=counter)?"":__t)+'">JSON</span>\n          <span id="table-switch" val="Table" counter="'+(null==(__t=counter)?"":__t)+'" style="display: none">Table</span>\n          <span id="graph-switch" val="Graph" counter="'+(null==(__t=counter)?"":__t)+'" style="display: none">Graph</span>\n          <span id="geo-switch" val="Geo" counter="'+(null==(__t=counter)?"":__t)+'" style="display: none">Geo</span>\n        </div>\n      </div>\n    </div>\n    <div id="outputEditor'+(null==(__t=counter)?"":__t)+'" style="opacity: 0.5"></div>\n    <div id="sentWrapper'+(null==(__t=counter)?"":__t)+'" class="sentWrapper" style="display: none">\n      <div class="pull-left">\n        <div id="sentQueryEditor'+(null==(__t=counter)?"":__t)+'"></div>\n      </div>\n      <div class="pull-right">\n        <div id="sentBindParamEditor'+(null==(__t=counter)?"":__t)+'"></div>\n      </div>\n    </div>\n    <div class="arangoToolbar arangoToolbarBottom">\n      <div class="pull-right">\n        ',"Query"===type&&(__p+='\n          <button id="copy2gV" counter="'+(null==(__t=counter)?"":__t)+'" style="display: none; margin-right: 0;" class="button-success">Graph Viewer</button>\n          <button id="downloadQueryResult" counter="'+(null==(__t=counter)?"":__t)+'" style="display: none; margin-right: 0;" class="button-success">Download</button>\n          <button id="downloadCsvResult" counter="'+(null==(__t=counter)?"":__t)+'" style="display: none; margin-right: 0;" class="button-success">CSV</button>\n          <button id="copy2aqlEditor" counter="'+(null==(__t=counter)?"":__t)+'" style="display: none; margin-right: 8px;" class="button-success">Copy To Editor</button>\n          <button id="cancelCurrentQuery" class="button-danger" style="margin-right: 5px">Cancel</button>\n        '),__p+="\n      </div>\n    </div>\n  </div>\n\n  </div>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="arangoToolbar arangoToolbarTop" style="margin-bottom: 5px;" id="rebalanceShards">\n  <div class="pull-right">\n    <button id="rebalanceShardsBtn" style="margin-left: 10px;" class="button-warning">Rebalance Shards</button>\n  </div>\n  <div style="font-size: 10pt; margin-left: 10px; margin-top: 12px; font-weight: 200">\n    <b>WARNING:</b> Clicking this button will start a\n      shard rebalancing process and schedule up to '+(null==(__t=maxNumberOfMoveShards)?"":__t)+" shards move operations,\n      which may cause background activity and increase the load in the cluster until finished.</div>\n</div>\n\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div id="replicationContent" class="innerContent replicationContent">\n\n    ',0!==mode&&(__p+='\n      <div class="pure-g cluster-values" style="margin-top: 0;">\n\n        <div class="pure-u-1-2 pure-u-md-1-3">\n          <div class="valueWrapper">\n            <div id="info-state-id" class="value">'+(null==(__t=info.state)?"":__t)+'</div>\n            <div class="graphLabel">State</div>\n          </div>\n        </div>\n\n        <div class="pure-u-1-2 pure-u-md-1-3">\n          <div class="valueWrapper">\n            <div id="info-mode-id" class="value">'+(null==(__t=info.mode)?"":__t)+'</div>\n            <div class="graphLabel">Mode</div>\n          </div>\n        </div>\n\n        <div class="pure-u-1-2 pure-u-md-1-3">\n          <div class="valueWrapper">\n            ',"follower"===info.role&&3!==mode?__p+='\n              <div id="info-role-id" class="value">Follower</div>\n            ':"leader"===info.role&&3!==mode?__p+='\n              <div id="info-role-id" class="value">Leader</div>\n            ':__p+='\n              <div id="info-role-id" class="value">'+(null==(__t=info.role)?"":__t)+"</div>\n            ",__p+='\n            <div class="graphLabel">Role</div>\n          </div>\n        </div>\n\n        <div class="pure-u-1-2 pure-u-md-1-3">\n          <div class="valueWrapper">\n            <div id="info-level-id" class="value">'+(null==(__t=info.level)?"":__t)+'</div>\n            <div class="graphLabel">Level</div>\n          </div>\n        </div>\n\n        <div class="pure-u-1-2 pure-u-md-1-3">\n          <div class="valueWrapper">\n            <div id="info-msg-id" class="value">'+(null==(__t=info.health)?"":__t)+'</div>\n            <div class="graphLabel">Health</div>\n          </div>\n        </div>\n\n        ',"follower"===info.role?__p+='\n          <div class="pure-u-1-2 pure-u-md-1-3">\n            <div class="valueWrapper">\n              <div id="logger-lastLogTick-id" class="value"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n              <div class="graphLabel">Server ID</div>\n            </div>\n          </div>\n        ':__p+='\n          <div class="pure-u-1-2 pure-u-md-1-3">\n            <div class="valueWrapper">\n              <div id="logger-lastLogTick-id" class="value"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n              <div class="graphLabel">Last tick</div>\n            </div>\n          </div>\n        ',__p+="\n\n      </div>\n    "),__p+="\n\n    ",0===mode&&(__p+='\n      <div class="repl-state">\n        <table class="pure-table half-split">\n            <tbody>\n              <tr>\n                <td>\n                  <div><i class="fa fa-server"></i></div>\n                  <div id="info-state-id">'+(null==(__t=info.state)?"":__t)+'</div>\n                </td>\n              </tr>\n                <tr>\n                  <td><div>This node is not replicating from any other node. Also there are no active followers found. </br>Please visit our <a href="https://www.arangodb.com/docs/stable/architecture-replication.html">Documentation</a> to find out how to setup replication.</div></td>\n                </tr>\n            </tbody>\n        </table>\n      </div>\n    '),__p+="\n\n    \n    ",5===mode&&(__p+='\n      <div class="repl-info">\n        <div class="categoryBar">\n          <h4>Info</h4>\n        </div>\n        <table class="pure-table">\n            <tbody>\n              <tr>\n                <td>Mode:</td>\n                <td id="info-mode-id">'+(null==(__t=info.mode)?"":__t)+'</td>\n              </tr>\n              <tr>\n                <td>Level:</td>\n                <td id="info-level-id">'+(null==(__t=info.level)?"":__t)+"</td>\n              </tr>\n              <tr>\n                <td>Role:</td>\n                ",3===mode?__p+='\n                  <td id="info-role-id">'+(null==(__t=info.role)?"":__t)+"</td>\n                ":__p+='\n                  <td id="info-role-id">Follower</td>\n                ',__p+="\n              </tr>\n            </tbody>\n        </table>\n      </div>\n    "),__p+="\n\n    ","leader"===info.role&&(__p+='\n      <div class="repl-comparison">\n        <div class="categoryBar">\n          <h4>Comparison</h4>\n        </div>\n        \n        <div class="pure-g cluster-graphs">\n\n          <div class="pure-u-1-1 pure-u-md-1-2">\n            <div class="graphWrapper">\n              <div id="replicationTimeChart">\n                <svg></svg>\n              </div>\n              <div class="graphLabel">COMMUNICATION</div>\n            </div>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-md-1-2">\n            <div class="graphWrapper">\n              <div id="replicationTickChart">\n                <svg></svg>\n              </div>\n              <div class="graphLabel">LAST TICKS</div>\n            </div>\n          </div>\n\n        </div>\n\n      </div>\n\n      ',3===mode&&(__p+='\n        <div class="repl-nodes">\n          <div class="categoryBar">\n            <h4>Nodes</h4>\n          </div>\n        </div>\n        <table class="pure-table">\n            <tbody>\n              <tr>\n                <td>Leader:</td>\n                <td id="nodes-leader-id"><i class="fa fa-circle-o-notch fa-spin"></i></td>\n              </tr>\n              <tr>\n                <td>Followers:</td>\n                <td id="nodes-followers-id"><i class="fa fa-circle-o-notch fa-spin"></i></td>\n              </tr>\n            </tbody>\n        </table>\n      '),__p+="\n    "),__p+="\n\n    ","leader"===info.role&&(__p+='\n      <div class="repl-logger">\n        <div class="categoryBar">\n          <h4>Leader State</h4>\n        </div>\n        <table class="pure-table">\n            <tbody>\n              <tr>\n                <td>Server ID:</td>\n                <td id="logger-serverid-id"><i class="fa fa-circle-o-notch fa-spin"></i></td>\n              </tr>\n              <tr>\n                <td>Time:</td>\n                <td id="logger-time-id"><i class="fa fa-circle-o-notch fa-spin"></i></td>\n              </tr>\n              <tr>\n                <td>Operations:</td>\n                <td id="logger-totalEvents-id"><i class="fa fa-circle-o-notch fa-spin"></i></td>\n              </tr>\n            </tbody>\n        </table>\n      </div>\n\n      <div class="repl-logger-clients">\n        <div class="categoryBar">\n          <h4>Follower States</h4>\n        </div>\n        <table class="pure-table" id="repl-logger-clients">\n            <thead>\n              <tr>\n                <th>Syncer ID</th>\n                <th>Server ID</th>\n                <th>Client info</th>\n                <th>Time</th>\n                <th>Last served tick</th>\n              </tr>\n            </thead>\n            <tbody>\n            </tbody>\n        </table>\n      </div>\n    '),__p+="\n\n    ","follower"===info.role&&(__p+='\n      <div class="repl-applier">\n        <div class="categoryBar">\n          <h4>Follower States</h4>\n        </div>\n\n        <table id="repl-follower-table" class="pure-table" style="width: 100%">\n          <thead>\n            <tr>\n              <th>Database</th>\n              <th>Enabled</th>\n              <th>Phase</th>\n              <th>Replicating from</th>\n              <th>Last tick</th>\n              <th>State</th>\n            </tr>\n          </thead>\n\n          <tbody>\n          </tbody>\n\n        </table>\n      </div>\n    '),__p+="\n\n  </div>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='\n  <div id="scaleContent" class="innerContent">\n\n  ';var genClass="pure-u-1-5";__p+='\n\n    <div class="pure-g cluster-nodes-title pure-table pure-table-header pure-title">\n      <div class="pure-table-row">\n        <div class="'+(null==(__t=genClass)?"":__t)+' left">Type</div>\n        <div class="'+(null==(__t=genClass)?"":__t)+' mid">Running</div>\n        <div class="'+(null==(__t=genClass)?"":__t)+' mid">Planned</div>\n        <div class="'+(null==(__t=genClass)?"":__t)+' mid">Status</div>\n        <div class="'+(null==(__t=genClass)?"":__t)+' right"></div>\n      </div>\n    </div>\n\n    <div class="pure-g cluster-nodes pure-table pure-table-body">\n\n        <div class="pure-table-row noHover">\n          <div class="'+(null==(__t=genClass)?"":__t)+' left">Coordinators</div>\n          <div class="'+(null==(__t=genClass)?"":__t)+' mid" id="runningCoords">'+(null==(__t=runningCoords)?"":__t)+"</div>\n          ",!0===initialized?__p+='\n            <div class="'+(null==(__t=genClass)?"":__t)+' mid" id="plannedCoords"></div>\n            <div class="'+(null==(__t=genClass)?"":__t)+' mid" id="statusCoords"></div>\n          ':__p+='\n            <div class="'+(null==(__t=genClass)?"":__t)+' mid" id="plannedCoords"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n            <div class="'+(null==(__t=genClass)?"":__t)+' mid" id="statusCoords"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n          ',__p+='\n          <div class="'+(null==(__t=genClass)?"":__t)+' actions right">\n            <i class="fa fa-minus-circle" aria-hidden="true" id="removeCoord"></i>\n            <i class="fa fa-plus-circle" aria-hidden="true" id="addCoord"></i>\n          </div>\n        </div>\n\n        <div class="pure-table-row noHover">\n          <div class="'+(null==(__t=genClass)?"":__t)+' left">DBServers</div>\n          <div class="'+(null==(__t=genClass)?"":__t)+' mid" id="runningDBs">'+(null==(__t=runningDBs)?"":__t)+"</div>\n          ",!0===initialized?__p+='\n            <div class="'+(null==(__t=genClass)?"":__t)+' mid" id="plannedDBs"></div>\n            <div class="'+(null==(__t=genClass)?"":__t)+' mid" id="statusDBs"></div>\n          ':__p+='\n            <div class="'+(null==(__t=genClass)?"":__t)+' mid" id="plannedDBs"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n            <div class="'+(null==(__t=genClass)?"":__t)+' mid" id="statusDBs"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n          ',__p+='\n          <div class="'+(null==(__t=genClass)?"":__t)+' actions right">\n            <i class="fa fa-minus-circle" aria-hidden="true" id="removeDBs"></i>\n            <i class="fa fa-plus-circle" aria-hidden="true" id="addDBs"></i>\n          </div>\n        </div>\n\n    </div>\n\n  </div>\n\n'}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='  <div class="application-detail-view">\n    ';var visible=" visibility: hidden; ";__p+="\n    ",installed&&(__p+="\n    ",visible=" visibility: visible; ",__p+="\n    "),__p+='\n\n    <div class="headerBar" style="width: 100%">\n      <ul class="subMenuEntries subViewNavbar pull-left" style="'+(null==(__t=visible)?"":__t)+'">\n        <li id="service-info" class="subMenuEntry active"><a>Info</a></li>\n        <li id="service-api" class="subMenuEntry "><a>API</a></li>\n        \x3c!--<li id="service-readme" class="subMenuEntry "><a>Readme</a></li>--\x3e\n        <li id="service-settings" class="subMenuEntry "><a>Settings</a></li>\n      </ul>\n\n      <div class="headerButtonBar" style="display: none">\n        <ul class="headerButtonList">\n          <li>\n            <a id="app-deps" class="headerButton '+(null==(__t=_.isEmpty(app.get("deps"))?"disabled":"")?"":__t)+" "+(null==(__t=app.hasUnconfiguredDependencies()?"error":"")?"":__t)+'">\n              <span class="fa fa-cubes" title="Dependencies"></span>\n            </a>\n          </li>\n          <li id="app-scripts" class="dropdown">\n            <a class="headerButton '+(null==(__t=_.isEmpty(app.get("scripts"))?"disabled":"")?"":__t)+'" title="Scripts">\n              <i class="fa fa-code"></i>\n            </a>\n            <ul class="script-dropdown-menu dropdown-toolbar dropdown-menu" id="scripts_dropdown">\n            ',_.each(app.get("scripts"),(function(e,t){__p+='\n              <li class="dropdown-item">\n                <a class="tab" data-script="'+(null==(__t=t)?"":__t)+'">'+(null==(__t=e)?"":__t)+"</a>\n              </li>\n            "})),__p+='\n            </ul>\n          </li>\n          <li>\n            <a id="app-tests" class="headerButton">\n              <span class="fa fa-flask" title="Tests"></span>\n            </a>\n          </li>\n          <li>\n            <a id="download-app" class="headerButton '+(null==(__t=app.isSystem()?"disabled":"")?"":__t)+'">\n              <span class="fa fa-download" title="Download"></span>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <section class="info" id="informationfunctions" style="display: none">\n      <div class="header">\n        <div id="hidden_buttons" style="display: none">\n          <button class="delete button-danger" '+(null==(__t=app.isSystem()?"disabled":"")?"":__t)+' >Delete</button>\n          <button id="app-replace" class="app-replace upgrade button-warning" '+(null==(__t=app.isSystem()?"disabled":"")?"":__t)+'>Replace</button>\n          <button id="app-switch-mode" class="app-switch-mode switch-mode button-warning">'+(null==(__t=app.get("development")?"Set Production":"Set Development")?"":__t)+'</button>\n        </div>\n      </div>\n    </section>\n\n    <section class="info" id="information" style="width: 100%;">\n      <div class="pure-g">\n\n        <div class="pure-u-1 pure-u-sm-4-4 pure-u-md-3-4 foxx-left">\n          <div class="foxx-icon-container pull-left">\n            <img src="'+(null==(__t=app.thumbnailUrl)?"":__t)+'" alt="Icon for Service" class="icon" />\n          </div>\n          <div class="pull-left" style="margin-left: 15px">\n            <h3>\n              '+(null==(__t=app.attributes.name)?"":__t)+'\n            </h3>\n            <p class="description">'+(null==(__t=app.attributes.description)?"":__t)+'</p>\n          </div>\n          <div id="app-warning" class="app-warning" style="clear: both; display:'+(null==(__t=app.needsAttention()?"block":"none")?"":__t)+';">\n            <h4>Out of order</h4>\n            <p id="app-warning-broken" style="display:'+(null==(__t=app.isBroken()?"block":"none")?"":__t)+';">This service has failed to mount due to an error.</p>\n            <p id="app-warning-config" style="display:'+(null==(__t=app.needsConfiguration()?"block":"none")?"":__t)+';">This service has not yet been configured properly.</p>\n            <p id="app-warning-deps" style="display:'+(null==(app.hasUnconfiguredDependencies(),__t="block")?"":__t)+';">Some dependencies have not yet been set up.</p>\n          </div>\n           <div class="categoryBar">\n             <h4>Readme</h4>\n           </div>\n          <div id="readme" class="readme">\n            ',app.get("readme")?__p+="\n              "+(null==(__t=marked(app.get("readme")))?"":__t)+"\n            ":__p+="\n              <p>No README data found.</p>\n            ",__p+='\n          </div>\n        </div>\n\n        <div class="pure-u-1 pure-u-sm-4-4 pure-u-md-1-4 foxx-right">\n          <div class="foxx-label-container">\n            <p>\n              <span>Author: </span><span>'+(null==(__t=app.attributes.author)?"":__t)+"</span>\n            </p>\n            <p>\n              <span>Mount: </span><span>"+(null==(__t=app.attributes.mount)?"":__t)+'</span>\n            </p>\n            <p>\n              <span>Mode: </span><span class="mode '+(null==(__t=app.get("development")?"development":"production")?"":__t)+'">'+(null==(__t=app.get("development")?"Development":"Production")?"":__t)+'</span>\n            </p>\n            <p>\n              <span>Version: </span><span class="version">'+(null==(__t=app.attributes.version)?"":__t)+"</span>\n            </p>\n            <p>\n              ",app.attributes.license&&(__p+="\n                <span>License: </span><span>"+(null==(__t=app.attributes.license)?"":__t)+"</span>\n              "),__p+="\n            </p>\n            <p>\n              ",!0===app.get("development")?__p+='\n                <span>Path: </span><span class="developmentSpan">'+(null==(__t=app.attributes.path)?"":__t)+"</span>\n              ":__p+="\n                <span></span>\n              ",__p+='\n            </p>\n          </div>\n          <div class="header_right">\n            <input type="button" class="open button-success" disabled="true" value="Show Interface" />\n          </div>\n        </div>\n\n      </div>\n    </section>\n\n    <main>\n      <div id="app-info" class="app-info" style="display: none;">\n        <h4>Info</h4>\n        <p id="app-info-swagger">Documentation for this service is not yet configured.</p>\n      </div>\n      <div id="swagger" class="swagger" style="display: none;">\n        <a id="jsonLink">Swagger</a>\n        <div id="swaggerJsonContent" style="display: none">\n          <div id="swaggerJsonEditor" style="height: 100%;"></div>\n        </div>\n      </div>\n      <div id="settings" class="readme" style="display: none; padding: 15px;">\n        ',_.isEmpty(app.get("config"))&&(__p+="\n          <p>No configurable settings available.</p>\n        "),__p+='\n        <div class="buttons" style="margin-left: -10px; margin-top: 20px;"></div>\n      </div>\n    </main>\n    \x3c!--<aside class="meta" id="sideinformation">\n      <dl>\n        <dt>Author</dt>\n        <dd>'+(null==(__t=app.attributes.author)?"":__t)+"</dd>\n        <dt>Contributors</dt>\n        <dd>\n          ",app.attributes.contributors&&app.attributes.contributors.length>0?(__p+="\n          <ul>\n          ",_.each(app.attributes.contributors,(function(e){__p+='\n            <li><a href="mailto:'+(null==(__t=e.email)?"":__t)+'">'+(null==(__t=e.name)?"":__t)+"</a></li>\n          "})),__p+="\n          </ul>\n          "):__p+="\n          No contributors\n          ",__p+='\n        </dd>\n        <dt>Links</dt>\n        <dd>\n          <ul>\n            <li>\n              <a href="'+(null==(__t=baseUrl)?"":__t)+"/_admin/aardvark/foxxes/docs/standalone/index.html?mount="+(null==(__t=encodeURIComponent(app.get("mount")))?"":__t)+'" target="_blank">\n                API Documentation\n              </a>\n            </li>\n            <li>\n              <a href="'+(null==(__t=baseUrl)?"":__t)+"/_admin/aardvark/foxxes/docs/swagger.json?mount="+(null==(__t=encodeURIComponent(app.get("mount")))?"":__t)+'" target="_blank">\n                API as JSON\n              </a>\n            </li>\n            ',app.attributes.repository&&"git"==app.attributes.repository.type&&(__p+='\n              <li><a href="'+(null==(__t=app.attributes.repository.url)?"":__t)+'" target="_blank">Git Repository</a></li>\n            '),__p+="\n          </ul>\n        </dd>\n      </dl>\n    </aside>--\x3e\n  </div>\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n  <div class="arangoToolbar arangoToolbarTop arangoFoxxToolbarTop">\n    <div class="pull-left">\n    </div>\n\n    <div class="pull-right">\n    </div>\n  </div>\n\n  <div class="contentDiv createModalDialog">\n    <div id="gitHubFoxx" class="foxxesInner modal-body">\n        <div>\n          <p>\n            Download a Foxx service from a public <a href="https://www.github.com">github.com</a> repository. In order to define a version please add a <a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">git tag</a> to your repository using the following format: "v1.2.3". To connect to github your username and the name of the repository are sufficient.\n          </p>\n          <table>\n            <tr class="tableRow">\n              <th class="collectionInfoTh">\n                Repository*:\n              </th>\n              <th class="collectionInfoTh">\n                <input type="text" id="repository" value="" placeholder="username/repository">\n              </th>\n            </tr>\n            <tr class="tableRow">\n              <th class="collectionInfoTh">\n                Version*:\n              </th>\n              <th class="collectionInfoTh">\n                <input type="text" id="tag" value="" placeholder="master">\n              </th>\n            </tr>\n            <tr class="tableRow" style="display: none">\n              <th class="collectionInfoTh">\n                Enable Legacy Mode:\n              </th>\n              <th class="collectionInfoTh">\n                <input type="checkbox" id="github-app-islegacy" value="true">\n              </th>\n            <th>\n              <span class="modalTooltips arangoicon icon_arangodb_info" title="Legacy Compatibility Mode allows mounting some Foxx services written for ArangoDB 2.8 or older. This overrides the ArangoDB version specified in the service manifest. See the Foxx documentation for more information on running legacy services in ArangoDB 3.">\n              </span>\n            </th>\n            </tr>\n          </table>\n        </div>\n    </div>\n    <div class="modal-footer">\n      <button id="installGitHubService" class="button-success" style="float:right" disabled>Install</button>\n    </div>\n  </div>\n\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n\n  <div class="arangoToolbar arangoToolbarTop arangoFoxxToolbarTop">\n    <div class="pull-left">\n    </div>\n\n    <div class="pull-right">\n    </div>\n  </div>\n\n  <div class="contentDiv createModalDialog">\n    <div id="newFoxxes" class="foxxesInner modal-body">\n        <table id="new-app-information">\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Author*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="text" id="new-app-author" value="" placeholder="Your Name">\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Name*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="text" id="new-app-name" value="" placeholder="Name of the Service">\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Description*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="text" id="new-app-description" value="" placeholder="Please describe your Service here">\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              License*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="text" id="new-app-license" value="" placeholder="Apache 2"></input>\n            </th>\n          </tr>\n          \x3c!--\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Authentication*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="checkbox" id="new-app-authenticate" checked></input>\n            </th>\n          </tr>\n          --\x3e\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Document Collections:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="hidden" id="new-app-document-collections" value="" placeholder="Document Collections"></input>\n            </th>\n            <th>\n              <span class="modalTooltips arangoicon icon_arangodb_info" title="A list of document collections that will be created specifically for this Service. A CRUD API for these will be generated.">\n              </span>\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Edge Collections:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="hidden" id="new-app-edge-collections" value="" placeholder="Edge Collections"></input>\n            </th>\n            <th>\n              <span class="modalTooltips arangoicon icon_arangodb_info" title="A list of edge collections that will be created specifically for this Service. A CRUD API for these will be generated.">\n              </span>\n            </th>\n          </tr>\n        </table>\n    </div>\n    <div class="modal-footer">\n      ',upgrade?__p+='\n        <button id="installNewService" class="button-success" style="float:right">Replace</button>\n      ':__p+='\n        <button id="installNewService" class="button-success" style="float:right">Install</button>\n      ',__p+="\n    </div>\n  </div>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n  <div class="arangoToolbar arangoToolbarTop arangoFoxxToolbarTop">\n    <div class="pull-left">\n    </div>\n\n    <div class="pull-right">\n    </div>\n  </div>\n\n  <div class="contentDiv createModalDialog">\n    <div id="uploadFoxxes" class="foxxesInner modal-body">\n        <div>\n          <p>\n  Upload a Foxx service bundle. The Foxx service bundle should be a zip archive containing all service files as a directory structure, including the manifest and any required <code style="padding: 0px 2px; font-weight: 10pt;">node_modules</code> dependencies. If your service doesn\'t have any dependencies, configuration or scripts you can also upload a single JavaScript file that will act as the service\'s entry point or "main" file.\n          </p>\n          <table>\n            <tr class="tableRow" style="display: none">\n              <th class="collectionInfoTh">\n                Enable Legacy Mode:\n              </th>\n              <th class="collectionInfoTh">\n                <input type="checkbox" id="zip-app-islegacy" value="true">\n              </th>\n            <th>\n              <span class="modalTooltips arangoicon icon_arangodb_info" title="Legacy Compatibility Mode allows mounting some Foxx services written for ArangoDB 2.8 or older. This overrides the ArangoDB version specified in the service manifest. See the Foxx documentation for more information on running legacy services in ArangoDB 3.">\n              </span>\n            </th>\n            </tr>\n          </table>\n        </div>\n        <div id="upload-foxx-zip">Upload File</div>\n      </div>\n      <div class="modal-footer">\n        ',upgrade?__p+='\n          <button id="installUploadService" class="button-success" style="float:right" disabled>Replace</button>\n        ':__p+='\n          <button id="installUploadService" class="button-success" style="float:right" disabled>Install</button>\n        ',__p+="\n      </div>\n    </div>\n  </div>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n  <div class="arangoToolbar arangoToolbarTop arangoFoxxToolbarTop">\n    <div class="pull-left">\n    </div>\n\n    <div class="pull-right">\n    </div>\n  </div>\n\n  <div class="contentDiv createModalDialog">\n    <div id="urlFoxx" class="foxxesInner modal-body" style="min-height: 150px;">\n        <div>\n          <p>\n            Download a Foxx service from a public available url. Access using credentials in the URL is allowed (https://username:password@www.example.com/). \n          </p>\n          <table>\n            <tr class="tableRow">\n              <th class="collectionInfoTh">\n                URL*:\n              </th>\n              <th class="collectionInfoTh">\n                <input type="text" id="repository" value="" placeholder="https://www.example.com/foxx.zip">\n              </th>\n            </tr>\n          </table>\n        </div>\n    </div>\n    <div class="modal-footer">\n      ',upgrade?__p+='\n        <button id="installUrlService" class="button-success" style="float:right" disabled>Replace</button>\n      ':__p+='\n        <button id="installUrlService" class="button-success" style="float:right" disabled>Install</button>\n      ',__p+="\n    </div>\n  </div>\n\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n\n<div class="arangoToolbar arangoToolbarTop arangoFoxxToolbarTop">\n\n  <div class="pull-left">\n  </div>\n\n  <div class="pull-right">\n    <div class="search-field">\n      <input type="text" id="foxxSearch" class="search-input" placeholder="Search..."/>\n      <i id="searchSubmit" class="fa fa-search"></i>\n    </div>\n\n    <button id="categorySelection" class="button-default filterSelect">Category <i class="fa fa-caret-down"></i></button>\n    <button style="display: none" class="button-default filterSelect" id="foxxFilters">\n      <i class="fa fa-close"></i>Clear current <a id="filterDesc"></a> filter\n    </button>\n  </div>\n\n</div>\n\n<div class="contentDiv">\n  <div id="repositories">\n    <div id="availableFoxxes" class="tileList pure-u">\n    </div>\n  </div>\n</div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="shardDistributionContent" class="innerContent shardDistributionContent">\n\n  <div class="pure-g cluster-values">\n\n    <div class="pure-u-1-2 pure-u-md-1-4">\n      <div class="valueWrapper">\n        <div id="clusterDatabases" class="value"><i class="fa fa-spin fa-circle-o-notch"\n                                                    style="color: rgba(0, 0, 0, 0.64);"></i></div>\n        <div class="graphLabel">databases</div>\n      </div>\n    </div>\n\n    <div class="pure-u-1-2 pure-u-md-1-4">\n      <div class="valueWrapper">\n        <div id="clusterCollections" class="value"><i class="fa fa-spin fa-circle-o-notch"\n                                                      style="color: rgba(0, 0, 0, 0.64);"></i></div>\n        <div class="graphLabel">collections</div>\n      </div>\n    </div>\n\n    <div class="pure-u-1-2 pure-u-md-1-4">\n      <div class="valueWrapper">\n        <div id="clusterShards" class="value"><i class="fa fa-spin fa-circle-o-notch"\n                                                 style="color: rgba(0, 0, 0, 0.64);"></i></div>\n        <div class="graphLabel">total shards</div>\n      </div>\n    </div>\n    \n    <div class="pure-u-1-2 pure-u-md-1-4">\n      <div class="valueWrapper">\n        <div id="clusterDBServers" class="value"><i class="fa fa-spin fa-circle-o-notch"\n                                                    style="color: rgba(0, 0, 0, 0.64);"></i></div>\n        <div class="graphLabel">db servers with shards</div>\n      </div>\n    </div>\n\n    <div class="pure-u-1-2 pure-u-md-1-4">\n      <div class="valueWrapper">\n        <div id="clusterLeaders" class="value"><i class="fa fa-spin fa-circle-o-notch"\n                                                  style="color: rgba(0, 0, 0, 0.64);"></i></div>\n        <div class="graphLabel">leader shards</div>\n      </div>\n    </div>\n\n    <div class="pure-u-1-2 pure-u-md-1-4">\n      <div class="valueWrapper">\n        <div id="clusterRealLeaders" class="value"><i class="fa fa-spin fa-circle-o-notch"\n                                                      style="color: rgba(0, 0, 0, 0.64);"></i></div>\n        <div class="graphLabel">shard group leader shards</div>\n      </div>\n    </div>\n\n    <div class="pure-u-1-2 pure-u-md-1-4">\n      <div class="valueWrapper">\n        <div id="clusterFollowers" class="value"><i class="fa fa-spin fa-circle-o-notch"\n                                                    style="color: rgba(0, 0, 0, 0.64);"></i></div>\n        <div class="graphLabel">follower shards</div>\n      </div>\n    </div>\n    \n  </div>\n\n  <div class="pure-g cluster-values">\n    <div class="pure-u-1-1">\n      <div class="header">Shard Distribution</div>\n    </div>\n\n    <div class="pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3">\n      <div class="subHeader graphLabel">Total Shard Distribution</div>\n      <div id="totalDonut" class="svgWrapper">\n        <svg></svg>\n      </div>\n    </div>\n\n    <div class="pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3">\n      <div class="subHeader graphLabel">Leader Shard Distribution</div>\n      <div id="leaderDonut" class="svgWrapper">\n        <svg></svg>\n      </div>\n    </div>\n\n    <div class="pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3">\n      <div class="subHeader graphLabel">Follower Shard Distribution</div>\n      <div id="followerDonut" class="svgWrapper">\n        <svg></svg>\n      </div>\n    </div>\n\n    <div class="pure-u-1-1">\n      <table class="pure-table" id="shardDistributionTable">\n        <thead>\n        <tr>\n          <th>DB Server</th>\n          <th>Total (absolute)</th>\n          <th>Total (percent)</th>\n          <th>Leaders (absolute)</th>\n          <th>Leaders (percent)</th>\n          <th>Followers (absolute)</th>\n          <th>Followers (percent)</th>\n        </tr>\n        </thead>\n        <tbody>\n        </tbody>\n      </table>\n    </div>\n\n  </div>\n\n\n</div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="arangoToolbar arangoToolbarTop" style="margin-bottom: 5px;">\n  <div class="pull-left">\n    <div style="font-size: 14pt; margin-left: 10px; margin-top: 5px; font-weight: 200">\n      Collections\n    </div>\n  </div>\n  <div class="pull-right">\n    <button id="toggleAllShards" class="button-success">Toggle all</button>\n  </div>\n</div>\n\n<div id="shardsContent" class="innerContent">\n  ';var genClass1="pure-u-6-24";__p+="\n  ";var genClass2="pure-u-6-24";__p+="\n  ";var disabled=" ",collectionName;__p+="\n  ",__p+="\n  ";var first=0;__p+="\n\n  ",_.each(collections,(function(e,t){__p+='\n  <div class="sectionShard" id="'+(null==(__t=t)?"":__t)+'">\n    ',collectionName=t,__p+="\n\n    ",0===first?(__p+='\n    <div class="sectionHeader pure-g" style="margin-top: -20px;">\n      ',first++,__p+="\n      "):__p+='\n      <div class="sectionHeader pure-g">\n        ',__p+="\n\n        ";var n=-1!==visible.indexOf(t);__p+="\n        ";var i=_.isEqual(collections[t].Current,collections[t].Plan);__p+="\n        ";var a,r=0,o=0;_.each(e.Plan,(function(e,t){r++;var n=!1;_.each(e.followers,(function(e){-1===collections[collectionName].Current[t].followers.indexOf(e)&&(n=!0)})),n&&o++})),__p+='\n\n        <div class="pure-u-22-24">\n          <div class="title" style="position: relative; top: -4px;">\n            '+(null==(__t=t)?"":__t)+" ("+(null==(__t=r+" shard"+(1!==r?"s":""))?"":__t)+(null==(__t=o>0?" - "+o+" syncing...":"")?"":__t)+')\n          </div>\n        </div>\n\n        <div class="pure-u-2-24 shardSyncIcons">\n          ',__p+=n?'\n            <i style="margin-left: 10px; color: #fff;" class="fa fa-arrow-down"></i>\n          ':'\n            <i style="margin-left: 10px; color: #fff;" class="fa fa-arrow-right"></i>\n          ',__p+="\n          ",__p+=i?'\n            <i style="margin-left: 10px;" class="fa fa-check-circle"></i>\n          ':'\n            <i style="margin-left: 10px;" class="fa fa-times-circle"></i>\n          ',__p+="\n        </div>\n      </div>\n\n      ",__p+=n?'\n      <div class="sectionShardContent">\n        ':'\n        <div class="sectionShardContent" style="display: none">\n          ',__p+='\n          <div class="pure-g pure-table pure-table-header pure-title" style="clear: both">\n            <div class="pure-table-row">\n              <div class="'+(null==(__t=genClass1)?"":__t)+' left">Shard</div>\n              <div class="'+(null==(__t=genClass1)?"":__t)+' left">Leader</div>\n              <div class="'+(null==(__t=genClass2)?"":__t)+' left">Followers</div>\n              <div class="'+(null==(__t=genClass1)?"":__t)+' right">Sync</div>\n            </div>\n          </div>\n\n          ',__p+="\n          ",_.each(e.Plan,(function(e,t){__p+='\n            <div class="pure-g pure-table pure-table-body">\n\n              ',e.progress&&(__p+="\n                ",a="disabled",__p+="\n              "),__p+='\n\n              <div id="'+(null==(__t=collectionName)?"":__t)+"-"+(null==(__t=t)?"":__t)+'" class="pure-table-row noHover '+(null==(__t=a)?"":__t)+'"\n                   collection="'+(null==(__t=collectionName)?"":__t)+'" shard="'+(null==(__t=t)?"":__t)+'" leader="'+(null==(__t=e.leader)?"":__t)+'">\n\n                ',"_"===e.leader.substring(0,1)&&(__p+="\n                  ",e.leader=e.leader.slice(1),__p+="\n                "),__p+='\n\n                <div class="'+(null==(__t=genClass1)?"":__t)+' left">'+(null==(__t=t)?"":__t)+'</div>\n                <div class="shardLeader '+(null==(__t=genClass1)?"":__t)+' positive left"><span>'+(null==(__t=e.leader)?"":__t)+"</span></div>\n\n                ";var n=!1;__p+="\n                ",_.each(e.followers,(function(t){__p+="\n                  ",t===e.leader&&(__p+="\n                    ",n=!0,__p+="\n                  "),__p+="\n                "})),__p+="\n\n                ";var r=0;if(__p+="\n                ",n)__p+='\n                  <div class="'+(null==(__t=genClass2)?"":__t)+' mid"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n                ';else{if(__p+="\n                  ",0===e.followers.length)__p+='\n                    <div class="'+(null==(__t=genClass2)?"":__t)+' left"> no followers</div>\n                  ';else{__p+="\n                    ";var o="";__p+="\n                    ";var s=0;__p+="\n                    ";var l="inSync";__p+="\n\n                    ",_.each(e.followers,(function(e){__p+="\n                      ",collections[collectionName].Current[t].followers.indexOf(e)>-1?(__p+="\n                        ",l="inSync",__p+="\n                      "):(__p+="\n                        ",l="notInSync",__p+="\n                        ",r++,__p+="\n                      "),__p+="\n                      ",serversFailed[e]&&(__p+="\n                        ",l="failed",__p+="\n                      "),__p+="\n\n                      ",s++>0&&(__p+="\n                        ",o+=", ",__p+="\n                      "),__p+="\n                      ",o+='<span class="'+l+'">'+e+"</span>",__p+="\n                    "})),__p+='\n\n                    <div class="shardFollowers '+(null==(__t=genClass2)?"":__t)+' left">'+(null==(__t=o)?"":__t)+"</div>\n                  "}__p+="\n\n                  ",i?__p+='\n                    <div class="'+(null==(__t=genClass1)?"":__t)+' left progressWrapper"><i class="fa fa-check-circle"></i></div>\n                  ':(__p+="\n                    ",__p+=r>0?'\n                      <div class="'+(null==(__t=genClass1)?"":__t)+' left progressWrapper"><span class="shardProgress"><i\n                                  class="fa fa-circle-o-notch fa-spin fa-fw"></i></span></div>\n                    ':'\n                      <div class="'+(null==(__t=genClass1)?"":__t)+' left progressWrapper"><i class="fa fa-check-circle"></i></div>\n                    ',__p+="\n                  "),__p+="\n\n                "}__p+="\n\n              </div>\n            </div>\n\n          "})),__p+="\n        </div>\n\n      </div>\n      "})),__p+="\n\n    </div>\n  </div>\n</div>\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="spotlightWrapper">\n    <div id="spotlight">\n      <input class="typeahead" type="text" placeholder="Search... ">\n    </div>\n  </div>\n';return __p}},function(module,exports,__webpack_require__){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="navlogo display-none">\n    <a href="#dashboard" style="padding-left: 15px;">\n      <img class="svg stat_cpu"\n        src="'+__webpack_require__(519)+'"\n      />\n      <img class="svg stat_ram"\n        src="'+__webpack_require__(520)+'"\n        style="background-color: #FAFF92; margin-top: 9px; margin-left: 4px; margin-right: 2px;"\n      />\n      <img class="svg stat_req"\n        src="'+__webpack_require__(521)+'"\n        style="background-color: #8aa051; margin-top: 9px;"\n      />\n    </a>\n  </div>\n';return __p}},function(e,t,n){e.exports=n.p+"static/media/cpu.be6a1f63.svg"},function(e,t,n){e.exports=n.p+"static/media/ram.75050f7e.svg"},function(e,t,n){e.exports=n.p+"static/media/requests.fd159a14.svg"},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="application-detail-view">\n\n    <div class="headerBar" style="width: 100%">\n      <ul class="subMenuEntries subViewNavbar pull-left">\n      </ul>\n    </div>\n\n    <section class="info" id="information" style="width: 100%;">\n      <div class="pure-g">\n\n        <div class="pure-u-1 pure-u-sm-4-4 pure-u-md-3-4 foxx-left">\n          <div class="foxx-icon-container pull-left">\n            <img src="'+(null==(__t=image)?"":__t)+'" alt="Icon for Service" class="icon" />\n          </div>\n          <div class="pull-left" style="margin-left: 15px">\n            <h3>\n              '+(null==(__t=app.attributes.name)?"":__t)+'\n            </h3>\n            <p class="description">'+(null==(__t=app.attributes.description)?"":__t)+'</p>\n          </div>\n           <div class="categoryBar">\n             <h4>Readme</h4>\n           </div>\n          <div id="readme" class="readme">\n          </div>\n        </div>\n\n        <div class="pure-u-1 pure-u-sm-4-4 pure-u-md-1-4 foxx-right">\n          <div class="foxx-label-container">\n            <p>\n              <span>Author: </span><span>'+(null==(__t=app.attributes.author)?"":__t)+'</span>\n            </p>\n            <p>\n              <span>Version: </span><span class="version">'+(null==(__t=app.attributes.latestVersion)?"":__t)+'</span>\n            </p>\n            <p>\n              <span>GitHub: </span><span><a href="https://www.github.com/'+(null==(__t=app.attributes.location)?"":__t)+'">'+(null==(__t=app.attributes.location)?"":__t)+"</a></span>\n            </p>\n            <p>\n              ",app.attributes.license&&(__p+="\n                <span>License: </span><span>"+(null==(__t=app.attributes.license)?"":__t)+"</span>\n              "),__p+="\n            </p>\n            <p>\n              <span>Categories: </span><span>"+(null==(__t=app.attributes.categories)?"":__t)+'</span>\n            </p>\n            <p>\n              <span></span>\n            </p>\n          </div>\n          <div class="header_right">\n            <input id="installService" type="button" class="button-success" value="Install Service" />\n          </div>\n        </div>\n\n      </div>\n    </section>\n\n  </div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n  <ul class="subMenuEntries top">\n    <li class="subMenuEntry pull-left">\n      <div class="breadcrumb"></div>\n    </li>\n    <li id="healthStatus" class="infoEntry subMenuEntry pull-right positive">\n      <a class="info health-info">HEALTH: </a>\n      ',"jwt-all"!==frontendConfig.clusterApiJwtPolicy?__p+='\n        <a class="state health-state">GOOD</a>\n      ':__p+='\n        <a class="state health-state" title="cluster API is inaccessible due to missing permissions">n/a</a>\n      ',__p+='\n      <a class="icon health-icon">\n        <i class="fa fa-check-circle"></i>\n      </a>\n    </li>\n    <li id="dbStatus" class="infoEntry subMenuEntry pull-right positive">\n      <a class="info">DB:</a>\n      <a class="state"><span>'+(null==(__t=_.escape(currentDB.name))?"":__t)+'</span></a>\n      <a class="icon db-icon default-icon">\n        <i class="fa fa-refresh"></i>      \n      </a>\n    </li>\n    <li id="userBar" class="infoEntry subMenuEntry pull-right" style="margin-right: 10px;">\n    </li>\n  </ul>\n\n  <div id="licenseInfoArea">\n  </div>\n\n  <ul class="subMenuEntries bottom">\n  </ul>\n\n';return __p}},function(module,exports,__webpack_require__){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n  <div class="supportView">\n    <ul class="subMenuEntries subViewNavbar">\n      <li id="documentation-support" class="subMenuEntry active"><a>Documentation</a></li>\n      <li id="community-support" class="subMenuEntry"><a>Support</a></li>\n      <li id="swagger-support" class="subMenuEntry "><a>Rest API</a></li>\n    </ul>\n \n    <div class="innerContent" id="supportContent">\n\n      <div id="community" style="display: none">\n        <div class="pure-g" style="width: 100%;">\n\n          <div class="pure-u-1-1">\n            <h3 style="font-weight: 100;">Feeling stuck? Not for long\u2026</h3>\n          </div>\n\n          <div class="pure-u-1-1" style="margin-bottom: 20px;">\n            <h4>Paying Customers</h4>\n            If you are a Customer, please <a href="https://www.arangodb.com/supportlogin" target="_blank">log-in</a> to our Support Portal to request help.\n          </div>\n\n          <div class="pure-u-1-1" style="margin-bottom: 20px;">\n            <h4>Community Support</h4>\n            Join our experienced and growing community to get help, challenge ideas or discuss new features!<br/><br/>\n            <br/>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3 center">\n            Place for stars and reporting issues<br/><br/>\n            <a href="https://github.com/arangodb/arangodb" target="_blank"><img style="width: 60%;" src="'+__webpack_require__(525)+'"/></a>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3 center">\n            Ask questions and get answers<br/><br/>\n            <a href="https://stackoverflow.com/questions/tagged/arangodb" target="_blank"><img style="width: 70%;" src="'+__webpack_require__(526)+'"/></a>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3 center">\n            Join a lively conversation about ArangoDB<br/><br/>\n            <a href="https://slack.arangodb.com/" target="_blank"><img style="width: 50%; margin-top: 5px;" src="'+__webpack_require__(527)+'"/></a>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-1 center" style="margin-top: 30px">\n            Challenge ideas and discuss upgrades<br/><br/>\n            <a href="https://groups.google.com/forum/#!forum/arangodb" target="_blank"><img src="'+__webpack_require__(528)+'"/></a><br/><br/>\n          </div>\n\n          <div class="pure-u-1-1" style="margin-top: 0px">\n            <h4>Want to shorten your development cycle or securing your production system?</h4>\n            Benefit from the deep understanding and decades of experience our core team has build up. Discuss architectures, data modeling, query optimization or anything you like. Get in contact for our individual development support, trainings or subscriptions.<br/><br/>\n            <a href="https://www.arangodb.com/contact/" target="_blank">Contact us</a> to get detailed infos for enterprises and special offers for startups.\n          </div>\n\n        </div>\n\n      </div>\n\n      <div id="swagger" style="display: none; height: 100%;">\n      </div>\n\n      <div id="documentation">\n\n        <div class="pure-g" style="width: 100%;">\n\n          <div class="pure-u-1-1" style="margin-bottom: 30px">\n            <h4>Find manuals for ArangoDB, AQL, Foxx and many other useful resources</h4>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-4">\n            <div class="title">\n              Manual\n            </div>\n            <ul class="menu">\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/getting-started.html">Getting started</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/data-modeling.html">Data models &amp; modeling</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/administration.html">Administration</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/scaling.html">Scaling</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/graphs.html">Graphs</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/">Go to Manual start page</a></li>\n            </ul>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-4">\n            <div class="title">\n              AQL Query Language\n            </div>\n            <ul class="menu">\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/aql/fundamentals.html">Fundamentals</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/aql/data-queries.html">Data Queries</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/aql/functions.html">Functions</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/aql/examples.html">Usual Query Patterns</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/aql/">Go to AQL start page</a></li>\n            </ul>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-4">\n            <div class="title">\n              Foxx Framework\n            </div>\n            <ul class="menu">\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/foxx-getting-started.html">Writing Your First Microservice</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/foxx-guides.html">Guides</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/foxx-reference.html">Reference</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/foxx-deployment.html">Deployment</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/foxx.html">Go to Foxx start page</a></li>\n            </ul>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-4">\n            <div class="title">\n              Official Drivers &amp; Integrations\n            </div>\n            <ul class="menu">\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/drivers/java.html">ArangoDB Java Driver</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/drivers/js.html">ArangoJS - Javascript Driver</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/drivers/php.html">ArangoDB-PHP</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/drivers/go.html">ArangoDB Go Driver</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/drivers/spring-data.html">ArangoDB Spring Data</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/drivers/spark-connector.html">ArangoDB Spark Connector</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/'+(null==(__t=parsedVersion)?"":__t)+'/drivers/">Go to Drivers &amp; Integrations start page</a></li>\n            </ul>\n          </div>\n\n        </div>\n      </div>\n     </div>\n\n   </div>\n\n';return __p}},function(e,t,n){e.exports=n.p+"static/media/comm_github.cda411c2.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAB2CAMAAAAJB5HfAAADAFBMVEXVt4j8/Pz19fXR0dH67NzYljvVyLrKuai8vb73mkHq4tqqq6vk5eX1iTqKi47ryJn09PSsknhLTU3l1LljZGTp6uru7u/gyaf83ML3lTTanEijpKUYGhrUjCnJomb++fX6yaX59vL39/c6PDzJysqho6O7ppDFxsasra0iJCSxsrIqLS3U1NT5t3j5toNCRET70rSlpqb98eWPkJLCllPx5tb18e7BwcL0eiAxNDTl3dX4pVTGnF26u7vz6dz2l1H9+/jx8fHf39+am5vW1tf+/PqQkZESFRW0nYX2jCOJiorktnjq28T////g4eHcwpzZ2dnf1cqen5/b29v99u5ydHTdpVhsbm7s7e395dL6w4zw6+bu063d3d2Oj4/94s6njHBVV1fmvIOUlZYNEBAJDAz+7uBmaGjOzs71gy/MzMz48uj5rmM+QED82bt4enrhrWXfx6T7zJ759e794MZGSEj3omPizKu5pI52eHj15c76wplvcXGpj3T2kSuAgoJucHBSVFQmKSlYWlqEhYV8fn50dnYWGBj+8ujOq3ROUFAGCQny7uk1ODgtMDD96dVWWFjowo56fHxdX19pa2toamr+/v2HiIheYGDu6OO0tba7vLzNzc/+/f3ZzcH4q3L+9/HEmVdQUlLg1szu4s+goaF+gIDHnmDEsp/59/VaXFyys7O/rJfv1rMdHx/WkDC/wMDr3sr0fSb82LSRkpIEBwf5smzRsH738OXs5t/x2LbV1dWio6awl36trq/81rv806zGx8f4pWj2jyeCg4b2ih/6+vr7+/v+/v7z8/Py8vK1tranqKibnJz5+fnh4uLi4+OWlpmztLTHyMjr7Oy0tbXm5+eDhITj5OSvsLDDxMT///63uLirrKyLjIyXmJi2t7eTlJTfqV/0fCP//v37+PO1trjOv7DCw8P48+vi2c/7x5X36tj6wJX7+ff7+vnjz7CHiIvT09Pz3sD2jkL+9Oz79Orism/0gCrWiyXq6+vv7+/4qG3avpLiql74oEjUnIhsAAAXMElEQVR42u2dC1xUZdrABdRIaNUJrGSUYiA8DjXhJUWllYtOUYcImoUuUqwzQhpRJu1SmMJIk3OCVDApnLaLZME20cakrSsttcBggK4XvIyJla5Wu33G1n59+LX7ncv7nvOeM2cuMPYFw/v8+v12PPfz/N/neZ/neZ/DjiGxjDoZg1WAoWPB0LFg6FgwdCwYOhYMHQuGjgVDxzLyoFvWPGLB2htd0F+59ocrHsDaG1XQ7/lo/vz5H72C1Td6oEdee8V8Rp7C6hs10Ff873xOHsIOftRAH/sHAH3+E9jBjxr3fi2Ejh386IG+5HcQ+kNrsAZHS/Q+9jtI/ZfYwY+alO0mCP2LG7EKRwn0M5E3QOgPXY11OEosnVzx3RfQwX+PlThKoNs//AF6+BtxDd5foS+JlPz7Rj6C/xBr0T+hn1n9/iyxqc/6JR/BP4vV6JfQ33u6beFYh2jThw/xDn4x1qP/QXc8cE1b223/EVdiLLyD/+EmrEf/g/78f9oYufwRka1/zzv472bZsSb9DPqKhW2cXLNatP1qwcFHYk36F/TvH26D8vG9S9Do7ka43vaHmxxYlf4F/f3beOq33XA3sieSd/BXjMWq9C/3Hnnjxzz1tofR1G0NX6L53RKsSz9L2b5+WqC+EDXqp/iVl2uxLv0tT//zNQJ1NHWLfAI7eL+FTl59uUD9mveEDP4ePoJ/Ajt4f4NO3rNQoP70alkHfwar08+gO1YImVvbbULqFvkR7+Dvwer0M+ik49kb2uRStwf43qkncInG36CTjlfubUNSN7i2ZuGbY7/AzbF+B50kl6xGEvaFzzucHDxujh3x0P/5pDQgt7yHpG6XrwHU7xEc/N1YoyMb+u6p0zaPlWJfI0rdwN5r+W9e/oHztpENffO0adPGbf67GKPjeSR1+3g1t1P4+uGHR7BKRzL0sVOnTeOwi7c/i6RubfdGsi6e//rhCtxPMaKhb54GZKoE+91I6tZ2AxvEn7mJc/BP4O9YRzR0YOgc9omi/rjF996GpG4rmF0OxsFf8RT+yGlEQ4/cPA2VqZuR9RTHktXoqhtbiJv1HTbzEQ/9X59PmybBvgrZLUrdrmZs/aZ/4E9dRjp0y9iJU6XYJ97tInX7MzOt4w9d/CCQs6ySYn9n6kRh0halbl/jznc/ydPJM7snjnPCfjcM6WY9LIRz7+MIzl+g0yHb2F+Pkzr5+x+Hsd4NsBK/cAVuhvUf6Ezq9mvp3P6r+/8F9t3LBfGXP4/16F/QSfLvTtg/vx9E8quZIP6aNdjO/Q46ST55uzN2bhZ/7/K2p9/DWvRH6DR2p7n90bfPsqnbwq9/9new1NVHZMaHYpiXGDrpcML+zqP3LyYdjlk/f49UVDFloJRHhqeCk+Z1ZcbExGTOCyA7olNiGKk/3TH8oC+e+6XM1iVP3v6OBPvnbw+L/DxKY7PZTAeHI/LkChWh1evp/4yBZOB6PftTqwocftDnTt845qod1zltP/vk7RIf/87tw6EXMqqYhq78ZBgyj1FTNiBlNPSt3E+qsnP4Qb8wZ86cVxdNH/Obd1dJfHyk1NpvJzF017LcZOOFsfRs8LtwGEIfMwfIq9N3PbZj9zcWkZP/bwT7uKF/y7SuUqXSBPs19NNW24iBfnbjHFR27nrsjlVnkaapfz7KY9889AzdSL+8Pt6foUeV2UYMdMfcnXOksogGf8vjMGqz/PHf43w1dLKWgR7iz9AblSh08/C29AuvzpGTnbvuvGPulwHcwPgja+0Tz2DoLsX+BuStryw2F6dFDWfoZ8bMcSmLdt155Y7dLzCHvf3v/xm3isTQXUqgESDWpoG60XC29Ks2Tp/jRhZt/PHCjt128sz9b1swdDdVmTyYrPHDYBhDX7x77pV37lrkDvzOjWMuvPuNTzf2e+j7AHSqZCRAZ2O1L2+5485dbi1+5wUHhu4FdNuIgc5a/OO33HHVrp0uqV+JoXsFXTeSoLMWf3bVu1eNkQU/fa6Xt5iyrDU2uVe6NYyB3iJzeOf+PU3RyTmur5eTcWJl+iSvoNvFUUdS0PkT5/dECbs9BeDCz97o8+eje90enUMfUrDPOZDzxtLtxw6dOB992Osn8xF66/K/MvLZPJcrP5bFj+94bMz0VyWZ3C52Vaa9aTZ7/l/3yJ4afry0krBqtVZCrTiaeJhL+AIz83U6Nf3yBnOJTqcrzQ6Crxo+s1RVblXqTVYiwZhS0OOkm5wj7PWUVkKTG9TuGro9RmE2mzXbBMDtcac05SatVqssf607mXuQniKrmpHy4gLk3GNGgt1K5KUDm63TJViZU4lKXeIU5MgKcOBR0r4/RkHQh5iIshaGaJCmTAHrceVl9KO4Sdnsh2fmJ9A6ok+ufKYpiVNRBfdk6krktfo1zP2qGoUt4Ypy7rDXBge97i+cHHS/3Of4cseFXdMXIeDvZIt0PQfB+SvlAtjmKrQ+YVBvyWLukiMqVdECvHxgTAKFbtY2xLaLPWamCt2dneUS+ky2MKI+z4++oDAtcqp1yzF2cy64H5UmV1QJ456qpRB5KkrVEijyVoyURqUQwiGKoA4y0SaVMlfFmaTMBOQwqvAge/0++O8twpEp3KZ8YUsTPC1/cNCDAbSXvFjjPbvjN2M2Tgfgr+QM6CVw/nbnw/eYpW9OKdMO2J2hf8p50DAnTenTUPUESc9TH7fIQz/EMiD40n5Ut1JyatVMxtjj4KBUCC6BfAZsM7GTz+Fs6UOFHYBH5oMtDc+IDlA2yUB3VYbNMEqPrAmnN0fDUWQO4Id8LbeFGOCH8lKo14O+Qbd3/JfbCeXxuRd+ZMC/usMT9AwwgmnfTii10FoqOsgco0GvZ/9N/y8tBla7GcXgBbRKpdJkAIcXCXYVXA6HAn0K+NV3UQ56FntnJR8xdFTYnMdTCmqr1hPC1Ayew6ZilNtb5nyqIlkMnaLE+62JZJ230IMqZa6/n7b/TXBgZ/HeXcndx8C/VwB8OOKAb9CfO3fZ+PHj73r9qwULPnjxxeduvvmbb16QuvqzE6788cdVHqAnKdjnqdTFfHKotTH+aJ6a1WQ0DSmxububcdSG/MyUlJS+5YwSAzn9W80b4ltajofMDuOMUB8Bb7pdzdlfsa6vu/tULbDRbhno4QqBKivNNhlhU4cQ4PSpXP7gOhOSX0/ZJHMmVRwutnSxEImk15aeXil3hdfowCENjCRtF5z66+Hta/nxCcOG6h7foC9Y+yAna9fuvfXW317/+zffvIwZBy/fddeCCRNefPG+m29+6wWHAwaYrqGnMNaoL1rGD8uCDWqbKkMUvZ9EqpbdzBuYg/nHjyvRs6MEhMzhGs4KZiYBE9Exu6uCnaEncW5wA3/pE3pKFk4qrTYYJORBDvYN0Em30v9aJ4vVVuoGupJxtQedNhfLQQ9okL/+M7RfgxNSEcxqqvlZDYw58gh8r3i7j9D3Pigva9dO3ssOA24cLCDdQ59ULAlDmImqokCcp3+K7m2x2sIG0A3sYDdwy6/taVzOGy7sjjHZNKnOc3pPCXtkNh8DRqnkNWsLo195PdCb9RDMzRRgr4aeTKOFFfEERbEQlRqaXEJXss+bVbGuRA2niQ0VtMS3y0BvoeSfzNRK5migswejPAuOAkoPjR/OWqZU0jfod01+0Cu5zIOlb2dm4KqcwRRnZpTsF48bVv861vbTWfVni5rL4vMyZKL3payDaBBSK0GzprDm5blGAz/30lNNE1RlHwyItTCGpAMlPrTUzMwIDU0NKbSJwisEOpH92fIiOpQwwemI7DFKTNUZeoCGfzTVuuXNJfyooujEQQczvmjOA0UI0wvw7+1wfJZd9A26w1vo5zxYOpv4hA2uIiedmbrYCZTx7x3stKySxCs5MilbFwvNjDRE8+Fx5TymdJLTBQNjqoJ+fsixgVOcfRukmAGTAGbOBHNMFsxHtCvF0M1B9HDsycpX1tsHUZyJ5dupig7Q6o9K5i+YkAyyTlpJMdxLIhGlmnu7dDhgZ9t9tPSX13oHfbwH6DOYF1rvWxk2iAFYxZhzDmsT9Z7LsJzlqrKQAoYaMWzOQ5iExgbylB5A3s5WlXth7L7JLgRTlfxg6wcXo4pE0AvB/XLiAgZThj0FnU42KDBOgWRNIWRopej8DCTp1HLjYAbMYVpJ36Dbxz94aaAfZzRr9A16OqPi8jgmdGfwq5Z5hN7PpnVV6MPw5vQGrMlaYEiesIckU8G0TXVzYYdWiO2hrRqQ0k0arNHYEej6+qHV3mFoRvDP2wIfdgtph1dXsIFOpigaYQ/OBmNSE+ojdPLcWq9Mfe3LHqCfZ1wjsewSQN8DHL1tfZQn6OlszEbUoXsjQOyuP81vmg1MRMlkD9C4qpPQcoea1nQGsDUCKdLGgmS5PAOBnpAxJOj2SkDNyM/Jx2DQWWsnM8H4I1rRlBx6f3oTnJmOWnyF/sHL586de/PN31//21tvvXXv3r2TJ0+WGwaTX/cAvZd5fKo61BfooRB6exHzcimeVtmSzMA1ogL9t1oIcYOtSKoeD0dAHONfYWyUTQpBXgI6DoGmTacR6ObAIUE/DCceIbvkjV8xidwPi1GMM+/lXABlYMeJlkkRCsBbGAa9vuiqDPvC4sVvXXfzix9M+Oqrl8ePP3fZZcw4uB6Og7WeoZNH2cdTZa5M750S2OE99A5eAvZD6FGMo6Ua3UI/Qk7iPiawzhTtLQHmVJjOb0pVIy49B0ZrmXYQRTCKnMfMmdD7ZnanAMlMA6dqIxDoRvuQoGdBqsjsAGP2QtpaysCTr6ezzxjud6WCG8L5tHHXg9GsSr9U0MUlODbG6Xjruueeu2/ChAWvv06Pg/s8Qd8PPJVVpTDmF83OPBibbvcEvSfoSG4RLxU1JgA9UMOVtN1BryMrgJJUIveiA1vNQg0gHBSIKdZ3QBTGfaRlNsyg2qXTqLSe14xAzwsYEvQgONyQTvANMHakQ8Plen642kEYMnsGZ/EJ9O58cGhN1E8C3cUo8FB7j1VLyhaa7BmBbqG3hKmd1ctAn8Sa/HaHG+jWQ116PgFCF+eegdDDnaGzwdt5cIAyg0yCFZFcJGiTh77Nd+hNVmfoS8FkwwStcWC/MpY8xo0PfVNnOaxOR4GIwxBB+gw9oKfdK7F4hO7YvskgUZU275Br6KHZJjn1spZOsNDdWTqxnqvtsxNusHvovSLogTA3qrf3A++u7WcnKHfQ03yHHiwDPRdCp0O1djgEu8kIA/TktRSIOWC1sKrfd+it9REe5U+07PEInZ4uZ2YnSBE2uYKeXgzLU0ooJgpaOjO+1QXuoBtYO8/uZ2+oCR8EdPspWNiKgg7d3PmzQ1+G+Pp80sj90gWQIZw/q5zSDRxbbY/v0Fv+4p2c9wI6/Z7ph2YsX5ddXaxSAyNS75eHnsSVPKu2NEbH9XOSmkhAS2eMkYh2B53DlkOGsD/SApyhD7hw72S/Cfr3MtECxnI30G0VvkNvlYF+ihKgO7brQVGgoIorun9KD1huBjQcKQXevZn0HXqjl9BjvYLOWlJ74L6cgQMr+zhVH5WH3sgO8ZJj6LgN56N3JpPSnvQEXUMPqE52jU3b6hTIFQvhXbIaDeTIfZB1EaBAcAvm8TB6j493cnbx/b5DX1buDL3IJrh3MhDGwmEmIU4H/j0PDFzixLCEzvd5hDYwz1vVKQedWzjUdcoXZ9rDkK4ql9CrmEybLGBjHgXfobjO4FRBgW0phhhQv4E+G4yPUi7enMmdSSXYXbRM+gidT8QRY62BS/bs2lqJDc3ObevtQvEVPquic1hDp3kwEPV75KBzKXmQi4ocVyjb5h46MY/jwXnIz+BeOPdZhS6+EODPtSCjTy8XN0nMRJuu6AvHubixj9B7YMCTzbu3TlgcymMD5ZOiSBj0bxGiZz1KDnPoLGlDsBz0aAaNcYqrMmwiJapWykHnC3GhCr7Axr4Q7IhMcaqAQNcYWCqCrgJhR7IKycl/Augk35jFl1cKypGKIAhghediuzntW0WtWXWXAvrxSxrISaRE6IqQNFGcYKhulZQZUmFxhkwm0GUy2ehd8AMntVwsDi4CwyXY5ERmwHVr2JUDAgqbpJbdEyY9jq2jdU3xGXqUOMYUUu11lCg8C6hBnysbdPqinReqi5cC+kvf/sIL+fYXQ7L0GsHSq8UfO8Qyb5IvqWE3wTwddNDp7G6KM0Ju3lGKRGlkFN/5UMTN870N4sUqWg6IWqv5yl8fHAu1AvW4YltJ1BCh830R4KsGvpykngcWfeEAJYB6G9HnAtoaQPw7lU1eCui9/aleyJ7UHE/QO4KdliEGGN3qs4QeuT5humess3hAfLyOh875d1OiaHf4EZkmCtYvs6YMl/g28CqqPZ0RGhei4HNtPmoOOCppSwQugS8Qmo9wTUsZfcyli3qGBN2SxqPqD92fHG4J5723Ojf2QHLwOn7NvBj0SKUjgBOAUQcg/l0bckmgD1JcQnfMtm4Nl2xjF7wSJvH9XZSw3h7KKFMrnqCilQL0fSyqKvSTigGjabk8dBC8VXOOIVloPzBVahL0gmsUPiOah7QoLHVe/qDPVOjS0ooaKkUdUIOETh4XAGoKVaUDJBJLEIUqoSHPAMPQSUJXPFUDL/MJ0kOTM6ygf0abrkbU+NjRzGo2zS60NZmO8y6aVWAhujAdm2AToIOJukoY2dvpYaA9GigLfZLZhsSJG1wU1ZDFrSRhuRpdPc9Qy59K1RwbCvQstSQuSybkr6+CzsYSIxj1DH4yEi7TQA4n6NwKkal4aTQ3FgNT683spiowPeawSK0V8zIOpDPk6tjwRL20n3OdnbE6woZCb+fQmYxdWT0B9ouxJaxrpJploZMr2fFVyY2hixpZzdaiYWMuv7kaXa2J0bsoyCUOBXqHqKOaqRZ1GWSbYc8Lw47/GquKrzwE8uEd6J8bLtCDwWjUWxMUZWVlr6kI7um1/LScy+rToCSq2E6XSVyorCcKX6OPN1daKZsIOjzApi0v1Gjg7oSV8tDJCkabFOhPz1DJtBrnieLeaP7zmUzR66XJUtH3dQ4FOplVKYHeIVffR//o1kXY2kVtFTbyXfVExrCCbkmullMXMYMPwNvDKNEHjOnF0oMNKgKBTu7TSc2O4j4wkoOexKoXTh8ZGil1quGw+Hlr5VufOnK1zs5dfcQypDmd9meEGDoZ1ez0UtYQpP0J9m9R6IchsIxsU1h8g/63oZ0f8DdX0bslQiX9skSbh37QHFgD93NT/36j+P21FXuY6I7gz7GHJIiOMBVxxir7t2EPsocWggg+p0SJPouByJV2HkBH7pQDNWnE2ClTPmyOhXl8mSz0MvHnMMCjaPhX0HBfziaqRC+lN4vLkrHg7ugnBFE6dNnfB+gtAxenDF6Swltc5+lJLdXlSj33eR+lV6rDgsXexD5DQSi1tIAEtKdLY+UPt5pPkr0J9M4q5PON3qWVVnakUAY9UQ2XGqIUzLfjpyV3z2aurF8HeRRsVZvYEjb9JFUVWU4Pm6xhjtcSzt9/doSUEdyp9LkmdY1QIqrRcmKUg57UAPaWiDd3a7iX1sLe/J4Y8NoUpSXKWiS1iFAFdxWdqNvExG6z9vsI/dvZQ5Nv3RZnBur6KnRhm6rXVywNlssukk/Gx8dHCN8wrEx5QxdWVl26pY8Z75OOxHTFwI/XgP9obd5Ss6m29I3MZMHbNEV0RYRI/0xEeHx8V1dmo7AekXN8my4sL79odp3sH2FujaGPj2iU3Rfasq2kxmgsLcr9ZB9qtswpXfExsXJFo46mzC5mb0SQzEvTOzKDBWcTlFJRaqzWrat37h4OWMlcJj5etCfpeAyzsTHAR+i+iruK3CA/wPgp/x/eftq/6zFC5P8FOhYMHQuGjgVDx4KhY/kJoM/zav3cswRhXY4c6FgFGDoWDB0Lho4FQ8eCoWPB0LEMV/k/qI/ycUl6dzIAAAAASUVORK5CYII="},function(e,t,n){e.exports=n.p+"static/media/comm_slack.39440503.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL8AAAAoCAMAAACYV9vPAAAC/VBMVEX///9AIAAAAAAAK6oAHmkALbQAAAAAJrKAcwCiFwAAJ7EAO7EAOdAJAAAAI7AAIXMAJbQAHW0AAADBbgAAKK4ARuwAKrgAAAAAInEALLzenQAAhRUAKbMAAAAAJrITJgCzEwAARuMAFlgAI7QAAAAACRoAAAAAHmIxGgAAKbEAS/SuCwDSWwAAAAAOAAoAJbIAbwcAF1EAJ7JWEAAADCzjqAAAAAAAKLIAQuEJEgBeNQDcFQAAJrQACysAAAAABRMAJrMAQOEACiQAEksAJrXtHAAAHn4eAgBDKAAAJ7gALqgARuwKAAKobQAAJ7PmpQAAqBeGBwCGPQDWCQAAEkYCAA0AJrQAR+1IDQAAJLMAPtmrAgAAIYgAJbQAJrQAKKQARekArhqoAAjgDAAAHXOrbQAAOdUAE0NWAgAAJbMASO5uQgDtqAAAH32CAAThBACyAAAAJrQAJqIAG3EAJbQAQukAMMcAJ7QAJ6YAKLfOAA4AqhCFAAYAJbEALL/xCwCTUwAAJq4AON4ApRQAGmvxBgAAIZPvpQAAJbMAJ6nmAAAAUfuKAAfDfwDOAAflnQAAoB1kAAd9QAAALscAOuAAJbTMABEAJrMAnxz5tAC8bQAARfHxAAAAII8AOuEAJ7QALMb0BQAAJrQAuxQAIqQASggAJ7cATAUATPkAOuQAgBaJAA/nAA3+tgAAUA3sogAAQ+m6ZQDCABPvAAQAJrTlAAkARvMAJrQALs6mUQAAJbQAL9HQABD/tgAAJrIAMtwAR/kAKcMAN+TlABLDABPliwC6WwAAJbOMABT9sQAAQPMAJ7QAO+sAQfkAJrTfABkALtcAPvUANecAOeoAO/LYABv9sAAAILPUABjeABkAaw0AJrMAOvAAJcEAVgoAtBXJAB4AJbMAMuMANumiABjHABsALtgAMOD8qAAAJbQALtoAKtMAUQcAJrPEACAArhrqkADtlAC0AB0AJbMAqhz7pwAAigzZbADqigAAI7MAhAvzmADiegAAcgwAegy47KjqAAAA/XRSTlMACAsMERETFBQWGhobGx0fIiMkJSYoKywtLi8wMjM1NjY3Ojo7PENEREVHSElLS0xOT09QUlJTU1VXV1dYWVpeXl9iY2RkZWdnaGlpaWxubm9wcHBxcnNzdXh4eXp9gYGBgYGEhYWHiIiKiouMjZGRkpOUlZaWmpydn6Gio6SkpKWnqKipqaqqq6usrq6vsLGysrKzs7S0tbW3uLm5ur2+wMDCwsTFxsbGx8fHx8fIyMnJycrLy8zP0dHT1NTU1dXV2NjY2dna29vb3OHh4+Tk5eXm5ubm5ufn5+jp6erq6uvs7Ozs7e7u7vDw8fHy8vPz8/T29/f4+vr8/Pz9+YhhEwAACeVJREFUWMPtWA1YU9cZzrlpksK8WXahRCxhKOHWFIlDFKwic5WqDIoCKlAl2zpFglhMBWesSKXDRaVVq5IqFFzaWai6qiB1URCJayorwWBg2MRpEqEoQlUai9Xt6bl/SURRp5XNPfueB869J+fn/b7zfj/nslg/tDw7e/Zv3pgNWEMtnJGxmbm5mckTfdmPsAr42RsffHDu+gvoECswMrO+sWyNck2lqbGmJD3woXcHXPS9c9c/CsGGFP+wzPrKBeNxXCzGxy89Zqlv3CZ52P0Bsvncdx+FoENq/I1Nr4dLRRjK5XJRYajabuvMe3gDvnXuuz/h3CGE//xG49IoMYYAmgHCtd3vRwmRJwU/tP76ODHXZW+wYn0Ujj4p9mfn1h+bi7vzFfiIRI8QP4YY/8QK07qo29kOuMi94AOvESNGeIH/DvzsjfUtiwffDoxJyi7MTgp284anZ+3Yd7J2xyw3DYY9H5scm5z868zciXx3/B4vZRfmZ0/2eIzBdGRF06k44WAbjCnMTwhLWLW3dINTgwm1myaNnrSo7eTJLNpn2MklBWVNNRX1lcfko7jgra9p/GByaXZY4rLS0g0BtwUDdmC8LD4QsMdOhfN5ntQfFJ/otNQI6pHFoVvqAXiygX98WjyTl9j+MczQ2ArjkShsEPgvlc7HxSKhKEG3V5dAmTSrNlEqFmLCSW1tbZtIL3mmpCxULJ7eYDKtC8eFXBaDHyT9MREXw8l7dUdFbgoI8qxWs9mgVBrUMNPnqPlpWg0PAk0zwG5rdQQ5SK6hqwD5bg6copUpDPBHs5xH9HkqzFB6qsfB59wa0+7wQbLN5MJl4WIUQRB0mU7XGkYoMGvf20QXANyXu9oci+BE3kbjFBxD0ekWk2WhEB7J5q//ReInZovgbPSd1t7VLgfjqKwyf4F/mtUaSRhQpVdqc+axWWx53/axAp8YrZlUQKnnUMMVegjZ29qjnecnkOT1yeE6QH5RHijwjTcYAlmsknrT4UGyZUB2VQodR9GDutaDkGUjdrQtkVKjkU+6HFdGI6zkil1RBP+QAqPlMGHnzd+Q+L3y4WxCZaT42oUtYucBRPTMI9sYazTR5N1Q+RCtxJpH2ta/rpoPm98x+HMo/NpAUvc8M2w99XkkqMg+JSDwH7m7/UFS4VHGM8D85jO9KSjI2nc1heHCLIejfwnGq6jfRc2XGC22KfDpPQr/5PxDM+BsjyTdwYy4cFc6zNELyJZXrSLWXmslkbGUBj/q95i+yDvxX0yj3gKtMhaLb5BTK2jKeaySRlPLi3fF75FfemIG4xkBEP9qodeO2iszGGf36nL0HxD51zQdDiFd46lGS+cczIn/t4WHZmAB2YdWJeK4CHOlR3U12/1BpSVfPSltCPfQK+H/lQPwz6PJp4E+w9Fo/SmH94b8bzTZF97VfwM2VJ2YwWiG7D3Tu0c8ofbklRSGyuATR/9nuKS+qWUKOQrsh/ihcjT+/NKjGctWzQ8TBwlR93SSp+VRMURdTvSqPiXx+5hTmeikJlx3gP1pzsFjqoOvkVa9LJBahZVsNFrUIrf1OT6+vj4+voH84NKq8077s4pbr+3BJ9S2XVniDLZ/gPhDhjc1mZZSKpXY6qJc9t+wV5chwkRCN9OTkmqVkK0/xQIav19ftEvBO/Ez9mcp/vYjaKmIcqv1U4WEmOlnMlpaxjvzF/sX+0837N9faVMMD66qas9wxo1Vrde2SMe0tV1906lsluPWX0LQAqOxIYhgN8fYuVjKdeLPr9IVidE7M7mfodwX9glUZpL4KopO/gPwK2/D73M7friXJFVt7lHCAAbKYNxb64TJl4wLHa9qsJ19URgAY2aRM3Cvar+wBfc62eY44AwlWY5v38W5wxsspq1wPsi0LSQDEcP/Kt0J6d3yetoNvVKu1JvjyTea/77mtHvwR+DEr6TZB8f5KshoGmmxWFqmOzdCUAxb0XLpbBzm8Y6u2YWguPfCXNHTWQ7HlZmMT+y4+W2cCAGjdtnsNa/Ebjw9LZzUlsYfrNM1r77LLcJbrVHpzXV5FIsY/vCq1Wyn/4I74j/Df3Y5HMaXMB6khQeAbLVbLMeeY4wKoKRD/D9HWcHtre2v0Qg8IH1gled11eHYycTUrlvvEoUfgk1b+vq2CtNSOkjS+JHiZl1zwp0HoNALAM+TxyhG84eVQ9GJxYom42eOniogOGqK/wrqR38zjJ8xVIqDudlApIrhR2x2NwWg0PiRZR3tJ8Ko/qTez+EdgQVe7r95M5E6gKz+z4guqAgqFFU2WtbRRdvmb777M/EYfL69uXk+Xch5uPBbFZF+Ak8OrQDNHxjZVSRiXyp/pV4cS5pYdoPKX9ap5KuC0NLfsJ0cyivXEIcEnjvylf10wy+5bvi7zRA/Cy3q7aAUmNyxJ05KpGLuolv9NxcR1U3WzQPOWw5AChpNpxdQK3x8/Z9fvoAhLCSht6P9THFSQEBwdpIrCHlrbpgNBr1mTQyfxF9H4QeyPnWEwCearh/8Ddqp3oKxqro6kv9Wg0ERKAjM6SHrB1nf9nECgWQtlcFZyCjNpa/sX2yL8KQ24RR0n/07gR+gGRd6zxfPf/Xg+dfCcYpJ3EkHbt3s2rSp66+JIW6XNInJYjKtIFA+++Xly5f/8fFPYYk08/Nr13o7OjrOvyp0jmTLqmXjIuNlK3dbqwnGKBjes1P1ZP0WSdNI3wNrtHIJWb9598hS9a76jS719PPoqQg2R9sNVWjYlp6enltmO/7h7xeTVQ5AR6cUFRWtTgnDnTcyrnDmmzt3vp0YJmZAPRObW1J56pTd0rIG9gAUj4oKEWPwMLiilC1QMsiylJYYwzgab4RBBZy1M0kdon7mO88Jvo3lUfWzAPqvT4yrfiaGpk31dpU6qGja8vc/1B4/vlu9csE0aYgUXufpcCQUi4NE7ikUcDGhCOYllBoxMtdY+avpodI5x212uwIqgKCEkIRBUJEYhxU45nIuOt6QBYTmQb+UueL/YAJxBuEh4SFSot7H3NMOQLgDkxAAsKamuyZWnJ4TgsM5WJDaZu8MHRBwiNm3TZf3xJCxB/CiiVjyYCK4L35yJ8pw9778Dry+lViWRwURFwKAYGrbpYXY/Uyp6aleI0+T51Vb1/IfdBdX/fMDCye3xjZXTNscjLJ1LhfeT3l+vEprMBuq8yI5D7yNoC7m8eAfVtNoi3Mm2acauueK7n94bJ4n35XAHkTg/fcx4SerbwbKMJs2Sjj0X84fQdgr7PZjoUx0eeXSnKH9cPvo8hNYfDTE/5gw+rB0CP/hP5v+ZwSMUnd32r8oKyiobNka6pannhRBsCkw8+0uX79wPC7GnjDrkyfAxYJwKZH3Bt4UnxgNYI79N9Pe/+V/RL4HuQCuSIcLm0AAAAAASUVORK5CYII="},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var escaped=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},cutByResolution=function(e){return e.length>256?escaped(e.substr(0,256))+"...":escaped(e)};__p+='\n\n<div class="pure-g pure-table pure-table-header pure-title no-padding">\n  <div class="pure-table-row">\n    <div class="pure-u-19-24">\n      <div class="title">Content</div>\n    </div>\n    <div class="pure-u-3-24">\n      <div class="">_key</div>\n    </div>\n    <div class="pure-u-2-24">\n      <div class="actions">\n        <a id="addDocumentButton" class="pull-right addButton"><span title="Add a document"><i class="fa fa-plus-circle"></i></span></a>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="pure-g pure-table pure-table-body no-padding">\n  ',0===docs.length&&(__p+='\n    <div class="pure-table-row pure-u-1-1">\n      <span class="dataTables_empty">No documents</span>\n    </div>\n  ');var odd=!0;_.each(docs.models,(function(e){var t={},n=e.toJSON();Object.keys(n.content).forEach((function(e){"_id"===e&&"_rev"===e&&"_key"===e||(t[e]=n.content[e])})),tmpObj=JSON.stringify(t),__p+='\n\n  <div class="pure-table-row '+(null==(__t=odd?"odd":"even")?"":__t)+'" id="row_'+(null==(__t=e.get("key"))?"":__t)+'">\n\n    <div class="pure-u-19-24">\n      <div class="padding-right">\n        <pre class="hljs-pre" title="'+(null==(__t=escaped(tmpObj))?"":__t)+'"><code class="json">'+(null==(__t=cutByResolution(tmpObj))?"":__t)+'</code></pre>\n      </div>\n    </div>\n    <div class="pure-u-3-24">\n      <div class="key">'+(null==(__t=e.get("key"))?"":__t)+'</div>\n    </div>\n    <div class="pure-u-2-24">\n      <div class="actions">\n        <a class="deleteButton">\n        <span data-original-title="Delete document" title="Delete document"><i class="fa fa-minus-circle"></i></i></span></a>\n      </div>\n    </div>\n\n  </div>\n\n  ',odd=!odd})),__p+="\n\n</div>\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n  <a class="info default-icon">User: \n    <span class="toggle"> \n      '+(null==(__t=_.escape(username))?"":__t)+'\n    </span>\n    <i id="userLogoutIcon" class="fa fa-power-off" aria-hidden="true"></i>\n  </a>\n\n  <ul id="userInfo" class="subBarDropdown">\n    <li class="dropdown-header">\n      <div style="height: 1px; background: rgb(119, 203, 153)"></div>\n      <img class="user-img" src="'+(null==(__t=img)?"":__t)+'"/>\n        <p>',name?__p+=(null==(__t=_.escape(username))?"":__t)+"<small> "+(null==(__t=_.escape(name))?"":__t)+" </small>\n        ":__p+="\n          "+(null==(__t=_.escape(username))?"":__t)+"\n        ",__p+='\n        </p>\n    </li>\n    <li class="dropdown-footer">\n      <button id="userLogout" class="button-primary btn-small pull-right">Logout</button>\n    </li>\n  </ul>\n\n\x3c!--\n<ul class="navlist" id="userBarUl">\n\n  <li class="dropdown user-menu userImg">\n    <a href="#" class="tab userImg" id="user" >\n      <img class="user-menu-img" src="'+(null==(__t=img)?"":__t)+'" id="userimage" /> <b class="caret"></b>\n    </a>\n    <ul class="user-dropdown-menu" id="user_dropdown">\n      <li class="dropdown-header" style="text-transform: none">\n        ',name?__p+="\n        "+(null==(__t=_.escape(name))?"":__t)+" ("+(null==(__t=_.escape(username))?"":__t)+")\n        ":__p+="\n        "+(null==(__t=_.escape(username))?"":__t)+"\n        ",__p+='\n      <li class="dropdown-item">\n        <a id="userProfile" class="tab" href="#user">User Profile</a>\n      </li>\n      <li class="dropdown-item">\n        <a id="userLogout" class="tab">Logout</a>\n      </li>\n    </ul>\n  </li>\n\n</ul>\n\n--\x3e \n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="headerBar">\n    <div class="search-field">\n      <input type="text" value="'+(null==(__t=searchString)?"":__t)+'" id="userManagementSearchInput" class="search-input" placeholder="Search..."/>\n      \x3c!-- <img id="userManagementSearchSubmit" class="search-submit-icon"> --\x3e\n      <i id="userManagementSearchSubmit" class="fa fa-search"></i>\n    </div>\n    <div class="headerButtonBar">\n      <ul class="headerButtonList">\n        <li class="enabled">\n        <a id="userManagementToggle" class="headerButton">\n          <span class="icon_arangodb_settings2" title="Settings"></span>\n        </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n\n<div id="userManagementDropdown2" class="headerDropdown">\n\n  <div id="userManagementDropdown" class="dropdownInner">\n    <ul>\n      <li class="nav-header">Sorting</li>\n\n      \x3c!--<li><a href="#">\n        <label class="checkbox checkboxLabel">\n          <input class="css-checkbox" type="checkbox" id="sortName">\n          <label class="css-label css-label-round"></label>Sort by username\n        </label>\n      </a></li>\n\n      <li><a href="#">\n        <label class="checkbox checkboxLabel">\n          <input class="css-checkbox" type="checkbox" id="sortType">\n          <label class="css-label css-label-round"></label>Sort by status\n        </label>\n      </a></li>--\x3e\n\n      <li><a href="#">\n        <label class="checkbox checkboxLabel">\n          <input class="css-checkbox" type="checkbox" id="userSortDesc">\n          <i class="fa"></i>\n          Sort descending\n        </label>\n      </a></li>\n    </ul>\n  </div>\n\n</div>\n\n\n  <div class="contentDiv" id="arangoCollectionsContainer">\n    <div id="userManagementThumbnailsIn" class="tileList pure-u">\n      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">\n        <div class="fullBorderBox">\n          <a id="createUser" class="add">\n            <span id="newUser" class="pull-left add-Icon"><i class="fa fa-plus-circle"></i></span>\n            Add User\n          </a>\n        </div>\n      </div>\n\n\n            ',collection.forEach((function(e){var t=e.get("user"),n=e.get("extra"),i=n.name,a=n.img,r=e.get("active"),o='<img src="';a?(o+="https://s.gravatar.com/avatar/",o+=a,o+="?s=50",o+='" height="50" width="50" alt="" class="icon" id="',o+=_.escape(t),o+='" />'):o='<i id="'+_.escape(t)+'" class="collection-type-icon fa fa-user"></i>',i||(i=" "),":role:"===t.substring(0,6)&&(o='<i id="'+_.escape(t)+'" class="collection-type-icon fa fa-group"></i>'),__p+='\n\n      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">\n        <div class="paddingBox">\n          <div class="borderBox"></div>\n          <div class="iconSet">\n            \x3c!-- <span class="icon_arangodb_settings2 editUser" id="'+(null==(__t=_.escape(t))?"":__t)+'_edit-user" alt="Edit user" title="Edit user"></span> --\x3e\n          </div>\n          '+(null==(__t=o)?"":__t)+'\n          <div class="tileBadge">\n            <span>\n              ',__p+=r?'\n              <div class="corneredBadge loaded">\n                active\n              </div>\n              ':'\n              <div class="corneredBadge unloaded">\n                inactive\n              </div>\n              ',__p+='\n            </span>\n          </div>\n\n          <h5 class="collectionName">'+(null==(__t=_.escape(t))?"":__t)+" "," "!==i&&(__p+="("+(null==(__t=_.escape(i))?"":__t)+")"),__p+="</h5>\n        </div>\n      </div>\n      "})),__p+="\n     </div>\n  </div>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="    \n  ";var genClass="pure-u-1-5";__p+="\n  ";var genClass2="pure-u-1-5";__p+='\n\n  <div id="userPermissionView" class="innerContent">\n    <div class="pure-g pure-table pure-table-header pure-title" style="clear: both; width: auto;">\n      <div class="pure-table-row">\n        <div class="'+(null==(__t=genClass)?"":__t)+' left">Database</div>\n        <div class="'+(null==(__t=genClass)?"":__t)+' mid">Administrate <i class="fa fa-info-circle tippy" title="Allows creating/dropping of collections and setting user permissions in the database."></i></div>\n        <div class="'+(null==(__t=genClass)?"":__t)+' mid">Access <i class="fa fa-info-circle tippy" title="Allows access to the database. User cannot create or drop collections."></i></div>\n        <div class="'+(null==(__t=genClass)?"":__t)+' mid">No access <i class="fa fa-info-circle tippy" title="User has no access to the database."></i></div>\n        <div class="'+(null==(__t=genClass)?"":__t)+' mid">Use default <i class="fa fa-info-circle tippy" title="Access level is unspecified. Database default (*) will be used."></i></div>\n      </div>\n    </div>\n\n    <div class="pure-g pure-table pure-table-body" style="width: auto;">\n      ',_.each(permissions,(function(e,t){__p+="\n        ";var n="";__p+="\n        ","*"===t.charAt(0)&&(__p+="\n          ",n="noAction",__p+="\n        "),__p+='\n\n        <div class="pure-table-row db-row noHover '+(null==(__t=n)?"":__t)+'" id="'+(null==(__t=t)?"":__t)+'-db">\n          <div class="'+(null==(__t=genClass2)?"":__t)+' left db-label">\n\n            ',"*"!==t.charAt(0)&&(__p+='\n              <i class="fa fa-caret-right" style="width: 10px;"></i>\n              <i class="fa fa-caret-down" style="display: none; width: 10px;"></i>\n            '),__p+="\n            ","*"===t.charAt(0)?__p+='\n              <b style="margin-right: 5px;">*</b> <i class="fa fa-info-circle tippy" title="Default access level for databases, if authorization level is not specified."></i>\n            ':__p+="\n              "+(null==(__t=t)?"":__t)+"\n            ",__p+="\n          </div>\n\n          ";var i=e.permission;__p+="\n\n          ","rw"===i?(__p+='\n            <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n              <input class="dbCheckbox readWrite" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="rw" checked>\n            </div>\n            <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n              <input class="dbCheckbox readOnly" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="ro">\n            </div>\n            <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n              <input class="dbCheckbox noAccess" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="none">\n            </div>\n            ',"*"!==t.charAt(0)?__p+='\n              <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n                <input class="dbCheckbox useDefault" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="undefined">\n              </div>\n            ':__p+='\n              <div class="'+(null==(__t=genClass2)?"":__t)+' mid"></div>\n            ',__p+="\n          "):"ro"===i?(__p+='\n            <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n              <input class="dbCheckbox readWrite" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="'+(null==(__t=t)?"":__t)+'">\n            </div>\n            <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n              <input class="dbCheckbox readOnly" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="'+(null==(__t=t)?"":__t)+'" checked>\n            </div>\n            <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n              <input class="dbCheckbox noAccess" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="none">\n            </div>\n            ',"*"!==t.charAt(0)?__p+='\n              <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n                <input class="dbCheckbox useDefault" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="undefined">\n              </div>\n            ':__p+='\n              <div class="'+(null==(__t=genClass2)?"":__t)+' mid"></div>\n            ',__p+="\n          "):"none"===i?(__p+='\n            <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n              <input class="dbCheckbox readWrite" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="'+(null==(__t=t)?"":__t)+'">\n            </div>\n            <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n              <input class="dbCheckbox readOnly" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="'+(null==(__t=t)?"":__t)+'">\n            </div>\n            <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n              <input class="dbCheckbox noAccess" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="none" checked>\n            </div>\n            ',"*"!==t.charAt(0)?__p+='\n              <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n                <input class="dbCheckbox useDefault" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="undefined">\n              </div>\n            ':__p+='\n              <div class="'+(null==(__t=genClass2)?"":__t)+' mid"></div>\n            ',__p+="\n          "):(__p+='\n            <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n              <input class="dbCheckbox readWrite" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="'+(null==(__t=t)?"":__t)+'">\n            </div>\n            <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n              <input class="dbCheckbox readOnly" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="'+(null==(__t=t)?"":__t)+'">\n            </div>\n            <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n              <input class="dbCheckbox noAccess" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="none">\n            </div>\n            ',"*"!==t.charAt(0)?__p+='\n              <div class="'+(null==(__t=genClass2)?"":__t)+' mid">\n                <input class="dbCheckbox useDefault" type="radio" name="'+(null==(__t=t)?"":__t)+'" permission="undefined" checked>\n              </div>\n            ':__p+='\n              <div class="'+(null==(__t=genClass2)?"":__t)+' mid"></div>\n            ',__p+="\n          "),__p+='\n\n          <div class="collection-row pure-table-row noHover inner '+(null==(__t=n)?"":__t)+'" style="display: none">\n            <div class="'+(null==(__t=genClass)?"":__t)+' left inner collection-label collection-label-first"><span class="collLabel">Collections<span></div>\n            <div class="'+(null==(__t=genClass)?"":__t)+' mid inner collection-label">Read/Write</div>\n            <div class="'+(null==(__t=genClass)?"":__t)+' mid inner collection-label">Read only</div>\n            <div class="'+(null==(__t=genClass)?"":__t)+' mid inner collection-label collection-label-last">No access</div>\n            <div class="'+(null==(__t=genClass)?"":__t)+' mid inner collection-label collection-label-last">Use default</div>\n            ',_.each(e.collections,(function(e,n){__p+="\n              ","*"!==t.charAt(0)&&(__p+="\n                ","_"!==n.charAt(0)&&(__p+="\n\n                  ",__p+="*"!==n?'\n                    <div class="pure-table-row noHover" id="'+(null==(__t=n)?"":__t)+'-collection">\n                  ':'\n                    <div class="pure-table-row noHover" id="___-collection" style="margin-bottom: 0px;">\n                  ',__p+="\n\n                    ",__p+="*"===n?'\n                      <div class="'+(null==(__t=genClass)?"":__t)+' left inner"><span class="collName"><b style="margin-right: 7px"> '+(null==(__t=n)?"":__t)+'</b></span><i class="fa fa-info-circle tippy" title="Default access level for collections in '+(null==(__t=t)?"":__t)+', if authentication level is not specified."></i></div>\n                    ':'\n                      <div class="'+(null==(__t=genClass)?"":__t)+' left inner"><span class="collName">'+(null==(__t=n)?"":__t)+"</span></div>\n                    ",__p+="\n\n                    ","rw"===e?(__p+='\n                      <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                        <input class="collCheckbox readWrite" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'" checked>\n                      </div>\n                      <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                        <input class="collCheckbox readOnly" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'">\n                      </div>\n                      <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                        <input class="collCheckbox noAccess" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'">\n                      </div>\n                      ',"*"!==n.charAt(0)?__p+='\n                        <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                          <input class="collCheckbox useDefault" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'">\n                        </div>\n                      ':__p+='\n                        <div class="'+(null==(__t=genClass)?"":__t)+' mid inner"></div>\n                      ',__p+="\n                    "):"ro"===e?(__p+='\n                      <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                        <input class="collCheckbox readWrite" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'">\n                      </div>\n                      <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                        <input class="collCheckbox readOnly" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'" checked>\n                      </div>\n                      <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                        <input class="collCheckbox noAccess" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'">\n                      </div>\n                      ',"*"!==n.charAt(0)?__p+='\n                        <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                          <input class="collCheckbox useDefault" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'">\n                        </div>\n                      ':__p+='\n                        <div class="'+(null==(__t=genClass)?"":__t)+' mid inner"></div>\n                      ',__p+="\n                    "):"none"===e?(__p+='\n                      <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                        <input class="collCheckbox readWrite" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'">\n                      </div>\n                      <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                        <input class="collCheckbox readOnly" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'">\n                      </div>\n                      <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                        <input class="collCheckbox noAccess" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'" checked>\n                      </div>\n                      ',"*"!==n.charAt(0)?__p+='\n                        <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                          <input class="collCheckbox useDefault" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'">\n                        </div>\n                      ':__p+='\n                        <div class="'+(null==(__t=genClass)?"":__t)+' mid inner"></div>\n                      ',__p+="\n                    "):(__p+='\n                      <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                        <input class="collCheckbox readWrite" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'">\n                      </div>\n                      <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                        <input class="collCheckbox readOnly" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'">\n                      </div>\n                      <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                        <input class="collCheckbox noAccess" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'">\n                      </div>\n                      ',"*"!==n.charAt(0)?__p+='\n                        <div class="'+(null==(__t=genClass)?"":__t)+' mid inner">\n                          <input class="collCheckbox useDefault" type="radio" db="'+(null==(__t=t)?"":__t)+'" name="'+(null==(__t=t)?"":__t)+"-"+(null==(__t=n)?"":__t)+'" collection="'+(null==(__t=n)?"":__t)+'" permission="'+(null==(__t=n)?"":__t)+'" checked>\n                        </div>\n                      ':__p+='\n                        <div class="'+(null==(__t=genClass)?"":__t)+' mid inner"></div>\n                      ',__p+="\n                    "),__p+="\n\n                  </div>\n                "),__p+="\n              "),__p+="\n            "})),__p+="\n          </div>\n\n        </div>\n\n      "})),__p+="\n\n    </div>\n\n  </div>\n"}return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="headerBar">\n    <div class="headerButtonBar">\n    </div>\n  </div>\n\n  <div class="innerContent validation-info-div">\n      <div id="validationEditor"> </div>\n      <div class="bottomButtonBar">\n        <button id="saveValidationButton" class="pull-right button-success">Save</button>\n      </div>\n  </div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n  <div class="innerContent">\n    <div id="viewDocumentation" class="infoBox" style="margin-top: 10px; margin-bottom: 30px;">\n      <h4>Info</h4>\n      <p>See the <a style="color: #5bc0de" href="https://www.arangodb.com/docs/stable/arangosearch-views.html" target="_blank"><b>ArangoSearch Views documentation</b></a> to learn how to configure Views.</p>\n    </div>\n    <div id="viewProcessing"class="infoBox" style="margin-top: 10px; margin-bottom: 30px; display: none">\n      <h4>Processing <i class="fa fa-spinner fa-spin"></i></h4>\n      <p>The view is currently in processing. No editing possible right now.</p>\n    </div>\n    <div id="propertiesEditor" class="document-editor" style="border-top: 1px solid rgba(140,138,137,.25)"></div>\n    <div class="bottomButtonBar">\n      <button id="savePropertiesButton" class="button-close pull-right" disabled>Save</button>\n      ',window.frontendConfig.isCluster||(__p+='\n        <button id="renameViewButton" class="button-warning pull-right">Rename</button>\n      '),__p+='\n      <button id="deleteViewButton" class="button-danger pull-right">Delete</button>\n      <span class="buttonBarInfo pull-right"></span>\n    </div>\n  </div>\n  \n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='  <div class="headerBar">\n    <div class="search-field">\n      <input type="text" value="'+(null==(__t=searchString)?"":__t)+'" id="viewsSearchInput" class="search-input" placeholder="Search..."/>\n      <i id="viewsSearchSubmit" class="fa fa-search"></i>\n    </div>\n    <div class="headerButtonBar">\n      <ul class="headerButtonList">\n        <li class="enabled">\n          <a id="viewsToggle" class="headerButton">\n            <span class="icon_arangodb_settings2" title="Settings"></span>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n  <div id="viewsDropdown2" class="headerDropdown">\n    <div id="viewsDropdown" class="dropdownInner">\n      <ul>\n        <li class="nav-header">Sorting</li>\n        <li><a>\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="viewsSortDesc">\n            <i class="fa"></i>\n            Sort descending\n          </label>\n        </a></li>\n      </ul>\n    </div>\n  </div>\n\n  <div class="contentDiv" id="">\n    <div id="viewsThumbnailsIn" class="tileList pure-u">\n      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">\n        <div class="fullBorderBox">\n          <a id="createView" class="add">\n            <span id="newView" class="pull-left add-Icon"><i class="fa fa-plus-circle"></i></span>\n            Add View\n          </a>\n        </div>\n      </div>\n\n\n      ',views.forEach((function(e){var t=e.name;__p+='\n\n        <div class="tile tile-view pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6" id="'+(null==(__t=t)?"":__t)+'">\n          <div class="paddingBox">\n            <div class="borderBox"></div>\n            <i class="collection-type-icon fa fa-clone"></i>\n            <div class="tileBadge">\n            ',e.type&&(__p+='\n              <span><div class="corneredBadge inProgress">'+(null==(__t=e.type)?"":__t)+"</div></span>\n            "),__p+='\n            </div>\n            <h5 class="collectionName">'+(null==(__t=t)?"":__t)+"</h5>\n          </div>\n        </div>\n\n      "})),__p+="\n     </div>\n  </div>\n\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="  ",warnings.length>0&&(__p+="\n    <div>\n      <ul>\n        ",console.log(warnings),_.each(warnings,(function(e){console.log(e),__p+="\n          <li><b>"+(null==(__t=e.code)?"":__t)+"</b>: "+(null==(__t=e.message)?"":__t)+"</li>\n        "})),__p+="\n      </ul>\n    </div>\n  "),__p+="\n";return __p}},function(e,t,n){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=32)}([function(e,t,n){"use strict";(function(e,i){var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(17),o=n(15),s=n(37),l=n(16),c=n(18),d={};t.clone=function(n,i){if("object"!==(void 0===n?"undefined":a(n))||null===n)return n;var r=(i=i||new Map).get(n);if(r)return r;var o=void 0,s=!1;if(Array.isArray(n))o=[],s=!0;else if(e.isBuffer(n))o=e.from(n);else if(n instanceof Date)o=new Date(n.getTime());else if(n instanceof RegExp)o=new RegExp(n);else{var l=Object.getPrototypeOf(n);l&&l.isImmutable?o=n:(o=Object.create(l),s=!0)}if(i.set(n,o),s)for(var c=Object.getOwnPropertyNames(n),d=0;d<c.length;++d){var u=c[d],h=Object.getOwnPropertyDescriptor(n,u);h&&(h.get||h.set)?Object.defineProperty(o,u,h):o[u]=t.clone(n[u],i)}return o},t.merge=function(n,i,r,o){if(t.assert(n&&"object"===(void 0===n?"undefined":a(n)),"Invalid target value: must be an object"),t.assert(null===i||void 0===i||"object"===(void 0===i?"undefined":a(i)),"Invalid source value: must be null, undefined, or an object"),!i)return n;if(Array.isArray(i)){t.assert(Array.isArray(n),"Cannot merge array onto an object"),!1===o&&(n.length=0);for(var s=0;s<i.length;++s)n.push(t.clone(i[s]));return n}for(var l=Object.keys(i),c=0;c<l.length;++c){var d=l[c];if("__proto__"!==d){var u=i[d];u&&"object"===(void 0===u?"undefined":a(u))?!n[d]||"object"!==a(n[d])||Array.isArray(n[d])!==Array.isArray(u)||u instanceof Date||e.isBuffer(u)||u instanceof RegExp?n[d]=t.clone(u):t.merge(n[d],u,r,o):(null!==u&&void 0!==u||!1!==r)&&(n[d]=u)}}return n},t.applyToDefaults=function(e,n,i){if(t.assert(e&&"object"===(void 0===e?"undefined":a(e)),"Invalid defaults value: must be an object"),t.assert(!n||!0===n||"object"===(void 0===n?"undefined":a(n)),"Invalid options value: must be true, falsy or an object"),!n)return null;var r=t.clone(e);return!0===n?r:t.merge(r,n,!0===i,!1)},t.cloneWithShallow=function(e,n){if(!e||"object"!==(void 0===e?"undefined":a(e)))return e;var i=d.store(e,n),r=t.clone(e);return d.restore(r,e,i),r},d.store=function(e,n){for(var i={},a=0;a<n.length;++a){var r=n[a],o=t.reach(e,r);void 0!==o&&(i[r]=o,d.reachSet(e,r,void 0))}return i},d.restore=function(e,t,n){for(var i=Object.keys(n),a=0;a<i.length;++a){var r=i[a];d.reachSet(e,r,n[r]),d.reachSet(t,r,n[r])}},d.reachSet=function(e,t,n){for(var i=t.split("."),a=e,r=0;r<i.length;++r){var o=i[r];r+1===i.length&&(a[o]=n),a=a[o]}},t.applyToDefaultsWithShallow=function(e,n,i){if(t.assert(e&&"object"===(void 0===e?"undefined":a(e)),"Invalid defaults value: must be an object"),t.assert(!n||!0===n||"object"===(void 0===n?"undefined":a(n)),"Invalid options value: must be true, falsy or an object"),t.assert(i&&Array.isArray(i),"Invalid keys"),!n)return null;var r=t.cloneWithShallow(e,i);if(!0===n)return r;var o=d.store(n,i);return t.merge(r,n,!1,!1),d.restore(r,n,o),r},t.deepEqual=function(n,i,r,o){r=r||{prototype:!0};var s=void 0===n?"undefined":a(n);if(s!==(void 0===i?"undefined":a(i)))return!1;if("object"!==s||null===n||null===i)return n===i?0!==n||1/n==1/i:n!==n&&i!==i;if(-1!==(o=o||[]).indexOf(n))return!0;if(o.push(n),Array.isArray(n)){if(!Array.isArray(i))return!1;if(!r.part&&n.length!==i.length)return!1;for(var l=0;l<n.length;++l){if(r.part){for(var c=!1,d=0;d<i.length;++d)if(t.deepEqual(n[l],i[d],r)){c=!0;break}return c}if(!t.deepEqual(n[l],i[l],r))return!1}return!0}if(e.isBuffer(n)){if(!e.isBuffer(i))return!1;if(n.length!==i.length)return!1;for(var u=0;u<n.length;++u)if(n[u]!==i[u])return!1;return!0}if(n instanceof Date)return i instanceof Date&&n.getTime()===i.getTime();if(n instanceof RegExp)return i instanceof RegExp&&n.toString()===i.toString();if(r.prototype&&Object.getPrototypeOf(n)!==Object.getPrototypeOf(i))return!1;var h=Object.getOwnPropertyNames(n);if(!r.part&&h.length!==Object.getOwnPropertyNames(i).length)return!1;for(var p=0;p<h.length;++p){var f=h[p],g=Object.getOwnPropertyDescriptor(n,f);if(g.get){if(!t.deepEqual(g,Object.getOwnPropertyDescriptor(i,f),r,o))return!1}else if(!t.deepEqual(n[f],i[f],r,o))return!1}return!0},t.unique=function(e,t){var n=void 0;if(t){n=[];var i=new Set;e.forEach((function(e){var a=e[t];i.has(a)||(i.add(a),n.push(e))}))}else n=Array.from(new Set(e));return n},t.mapToObject=function(e,t){if(!e)return null;for(var n={},i=0;i<e.length;++i)t?e[i][t]&&(n[e[i][t]]=!0):n[e[i]]=!0;return n},t.intersect=function(e,n,i){if(!e||!n)return[];for(var a=[],r=Array.isArray(e)?t.mapToObject(e):e,o={},s=0;s<n.length;++s)if(r[n[s]]&&!o[n[s]]){if(i)return n[s];a.push(n[s]),o[n[s]]=!0}return i?null:a},t.contain=function(e,n,i){var r=null;"object"!==(void 0===e?"undefined":a(e))||"object"!==(void 0===n?"undefined":a(n))||Array.isArray(e)||Array.isArray(n)?n=[].concat(n):(r=n,n=Object.keys(n)),i=i||{},t.assert("string"==typeof e||"object"===(void 0===e?"undefined":a(e)),"Reference must be string or an object"),t.assert(n.length,"Values array cannot be empty");var o=void 0,s=void 0;if(i.deep){o=t.deepEqual;var l=i.hasOwnProperty("only"),c=i.hasOwnProperty("part");s={prototype:l?i.only:!!c&&!i.part,part:l?!i.only:!c||i.part}}else o=function(e,t){return e===t};for(var d=!1,u=new Array(n.length),h=0;h<u.length;++h)u[h]=0;if("string"==typeof e){for(var p="(",f=0;f<n.length;++f){var g=n[f];t.assert("string"==typeof g,"Cannot compare string reference to non-string value"),p+=(f?"|":"")+t.escapeRegex(g)}var m=new RegExp(p+")","g");d=!!e.replace(m,(function(e,t){var i=n.indexOf(t);return++u[i],""}))}else if(Array.isArray(e))for(var v=0;v<e.length;++v){for(var _=!1,b=0;b<n.length&&!1===_;++b)_=o(n[b],e[v],s)&&b;!1!==_?++u[_]:d=!0}else for(var y=Object.getOwnPropertyNames(e),w=0;w<y.length;++w){var x=y[w],C=n.indexOf(x);if(-1!==C){if(r&&!o(r[x],e[x],s))return!1;++u[C]}else d=!0}for(var S=!1,T=0;T<u.length;++T)if(S=S||!!u[T],i.once&&u[T]>1||!i.part&&!u[T])return!1;return(!i.only||!d)&&S},t.flatten=function(e,n){for(var i=n||[],a=0;a<e.length;++a)Array.isArray(e[a])?t.flatten(e[a],i):i.push(e[a]);return i},t.reach=function(e,n,i){if(!1===n||null===n||void 0===n)return e;"string"==typeof(i=i||{})&&(i={separator:i});for(var r=n.split(i.separator||"."),o=e,s=0;s<r.length;++s){var l=r[s];if("-"===l[0]&&Array.isArray(o)&&(l=l.slice(1,l.length),l=o.length-l),!o||"object"!==(void 0===o?"undefined":a(o))&&"function"!=typeof o||!(l in o)||"object"!==(void 0===o?"undefined":a(o))&&!1===i.functions){t.assert(!i.strict||s+1===r.length,"Missing segment",l,"in reach path ",n),t.assert("object"===(void 0===o?"undefined":a(o))||!0===i.functions||"function"!=typeof o,"Invalid segment",l,"in reach path ",n),o=i.default;break}o=o[l]}return o},t.reachTemplate=function(e,n,i){return n.replace(/{([^}]+)}/g,(function(n,a){var r=t.reach(e,a,i);return void 0===r||null===r?"":r}))},t.formatStack=function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push([i.getFileName(),i.getLineNumber(),i.getColumnNumber(),i.getFunctionName(),i.isConstructor()])}return t},t.formatTrace=function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push((i[4]?"new ":"")+i[3]+" ("+i[0]+":"+i[1]+":"+i[2]+")")}return t},t.callStack=function(e){var n=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var i={};Error.captureStackTrace(i,this);var a=i.stack;return Error.prepareStackTrace=n,t.formatStack(a).slice(1+e)},t.displayStack=function(e){var n=t.callStack(void 0===e?1:e+1);return t.formatTrace(n)},t.abortThrow=!1,t.abort=function(e,n){if("test"===i.env.NODE_ENV||!0===t.abortThrow)throw new Error(e||"Unknown error");var a="";n||(a=t.displayStack(1).join("\n\t")),console.log("ABORT: "+e+"\n\t"+a),i.exit(1)},t.assert=function(e){if(!e){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(1===i.length&&i[0]instanceof Error)throw i[0];var o=i.filter((function(e){return""!==e})).map((function(e){return"string"==typeof e?e:e instanceof Error?e.message:t.stringify(e)}));throw new r.AssertionError({message:o.join(" ")||"Unknown error",actual:!1,expected:!0,operator:"==",stackStartFunction:t.assert})}},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){var e=i.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},t.base64urlEncode=function(n,i){return t.assert("string"==typeof n||e.isBuffer(n),"value must be string or buffer"),(e.isBuffer(n)?n:e.from(n,i||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},t.base64urlDecode=function(t,n){if("string"!=typeof t)throw new Error("Value not a string");if(!/^[\w\-]*$/.test(t))throw new Error("Invalid character");var i=e.from(t,"base64");return"buffer"===n?i:i.toString(n||"binary")},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},t.escapeHtml=function(e){return c.escapeHtml(e)},t.escapeJavaScript=function(e){return c.escapeJavaScript(e)},t.escapeJson=function(e){return c.escapeJson(e)},t.once=function(e){if(e._hoekOnce)return e;var t=!1,n=function(){if(!t){t=!0;for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];e.apply(null,i)}};return n._hoekOnce=!0,n},t.isInteger=Number.isSafeInteger,t.ignore=function(){},t.inherits=l.inherits,t.format=l.format,t.transform=function(e,n,i){t.assert(null===e||void 0===e||"object"===(void 0===e?"undefined":a(e))||Array.isArray(e),"Invalid source object: must be null, undefined, an object, or an array");var r="object"===(void 0===i?"undefined":a(i))&&null!==i&&i.separator||".";if(Array.isArray(e)){for(var o=[],s=0;s<e.length;++s)o.push(t.transform(e[s],n,i));return o}for(var l={},c=Object.keys(n),d=0;d<c.length;++d){var u=c[d],h=u.split(r),p=n[u];t.assert("string"==typeof p,'All mappings must be "." delineated strings');for(var f=void 0,g=l;h.length>1;)g[f=h.shift()]||(g[f]={}),g=g[f];g[f=h.shift()]=t.reach(e,p,i)}return l},t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=s.resolve(e);var n=[Date.now(),i.pid,o.randomBytes(8).toString("hex")].join("-")+t;return s.join(e,n)},t.stringify=function(){try{for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return JSON.stringify.apply(null,t)}catch(e){return"[Cannot display object: "+e.message+"]"}},t.shallow=function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;++i){var a=n[i];t[a]=e[a]}return t},t.wait=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.block=function(){return new Promise(t.ignore)}}).call(t,n(3).Buffer,n(7))},function(e,t,n){"use strict";var i=n(0);t.create=function(e,t){i.assert("string"==typeof e,"Invalid reference key:",e);var n=i.clone(t),a=function e(t,a){return i.reach(e.isContext?a.context:t,e.key,n)};return a.isContext=e[0]===(n&&n.contextPrefix||"$"),a.key=a.isContext?e.slice(1):e,a.path=a.key.split(n&&n.separator||"."),a.depth=a.path.length,a.root=a.path[0],a.isJoi=!0,a.toString=function(){return(a.isContext?"context:":"ref:")+a.key},a},t.isRef=function(e){return"function"==typeof e&&e.isJoi},t.push=function(e,n){t.isRef(n)&&!n.isContext&&e.push(n.root)}},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=n(11),s=n(1),l=n(6),c=null,d=null,u={Set:n(9),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",strip:!1,noDefaults:!1,escapeHtml:!1}};e.exports=u.Any=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),d=d||n(4),this.isJoi=!0,this._type="any",this._settings=null,this._valids=new u.Set,this._invalids=new u.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}return e.prototype._init=function(){return this},e.prototype.createError=function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this._flags;return l.create(e,t,n,i,a)},e.prototype.createOverrideError=function(e,t,n,i,a,r){return l.create(e,t,n,i,this._flags,a,r)},e.prototype.checkOptions=function(e){var t=n(21).options.validate(e);if(t.error)throw new Error(t.error.details[0].message)},e.prototype.clone=function(){var e=Object.create(Object.getPrototypeOf(this));e.isJoi=!0,e._currentJoi=this._currentJoi,e._type=this._type,e._settings=this._settings,e._baseType=this._baseType,e._valids=this._valids.slice(),e._invalids=this._invalids.slice(),e._tests=this._tests.slice(),e._refs=this._refs.slice(),e._flags=r.clone(this._flags),e._description=this._description,e._unit=this._unit,e._notes=this._notes.slice(),e._tags=this._tags.slice(),e._examples=this._examples.slice(),e._meta=this._meta.slice(),e._inner={};for(var t=Object.keys(this._inner),n=0;n<t.length;++n){var i=t[n];e._inner[i]=this._inner[i]?this._inner[i].slice():null}return e},e.prototype.concat=function(e){r.assert(e instanceof u.Any,"Invalid schema object"),r.assert("any"===this._type||"any"===e._type||e._type===this._type,"Cannot merge type",this._type,"with another type:",e._type);var t=this.clone();if("any"===this._type&&"any"!==e._type){for(var n=e.clone(),i=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"],a=0;a<i.length;++a)n[i[a]]=t[i[a]];t=n}t._settings=t._settings?o.concat(t._settings,e._settings):e._settings,t._valids.merge(e._valids,e._invalids),t._invalids.merge(e._invalids,e._valids),t._tests=t._tests.concat(e._tests),t._refs=t._refs.concat(e._refs),r.merge(t._flags,e._flags),t._description=e._description||t._description,t._unit=e._unit||t._unit,t._notes=t._notes.concat(e._notes),t._tags=t._tags.concat(e._tags),t._examples=t._examples.concat(e._examples),t._meta=t._meta.concat(e._meta);for(var s=Object.keys(e._inner),l="object"===t._type,c=0;c<s.length;++c){var d=s[c],h=e._inner[d];if(h){var p=t._inner[d];if(p)if(l&&"children"===d){for(var f={},g=0;g<p.length;++g)f[p[g].key]=g;for(var m=0;m<h.length;++m){var v=h[m].key;f[v]>=0?p[f[v]]={key:v,schema:p[f[v]].schema.concat(h[m].schema)}:p.push(h[m])}}else t._inner[d]=t._inner[d].concat(h);else t._inner[d]=h.slice()}}return t},e.prototype._test=function(e,t,n,i){var a=this.clone();return a._tests.push({func:n,name:e,arg:t,options:i}),a},e.prototype.options=function(e){r.assert(!e.context,"Cannot override context"),this.checkOptions(e);var t=this.clone();return t._settings=o.concat(t._settings,e),t},e.prototype.strict=function(e){var t=this.clone(),n=void 0!==e&&!e;return t._settings=o.concat(t._settings,{convert:n}),t},e.prototype.raw=function(e){var t=void 0===e||e;if(this._flags.raw===t)return this;var n=this.clone();return n._flags.raw=t,n},e.prototype.error=function(e){r.assert(e&&(e instanceof Error||"function"==typeof e),"Must provide a valid Error object or a function");var t=this.clone();return t._flags.error=e,t},e.prototype.allow=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.clone();t=r.flatten(t);for(var a=0;a<t.length;++a){var o=t[a];r.assert(void 0!==o,"Cannot call allow/valid/invalid with undefined"),i._invalids.remove(o),i._valids.add(o,i._refs)}return i},e.prototype.valid=function(){var e=this.allow.apply(this,arguments);return e._flags.allowOnly=!0,e},e.prototype.invalid=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.clone();t=r.flatten(t);for(var a=0;a<t.length;++a){var o=t[a];r.assert(void 0!==o,"Cannot call allow/valid/invalid with undefined"),i._valids.remove(o),i._invalids.add(o,i._refs)}return i},e.prototype.required=function(){if("required"===this._flags.presence)return this;var e=this.clone();return e._flags.presence="required",e},e.prototype.optional=function(){if("optional"===this._flags.presence)return this;var e=this.clone();return e._flags.presence="optional",e},e.prototype.forbidden=function(){if("forbidden"===this._flags.presence)return this;var e=this.clone();return e._flags.presence="forbidden",e},e.prototype.strip=function(){if(this._flags.strip)return this;var e=this.clone();return e._flags.strip=!0,e},e.prototype.applyFunctionToChildren=function(e,t,n,i){if(1!==(e=[].concat(e)).length||""!==e[0]){i=i?i+".":"";var a=(""===e[0]?e.slice(1):e).map((function(e){return i+e}));throw new Error("unknown key(s) "+a.join(", "))}return this[t].apply(this,n)},e.prototype.default=function(e,t){"function"!=typeof e||s.isRef(e)||(!e.description&&t&&(e.description=t),this._flags.func||r.assert("string"==typeof e.description&&e.description.length>0,"description must be provided when default value is a function"));var n=this.clone();return n._flags.default=e,s.push(n._refs,e),n},e.prototype.empty=function(e){var t=this.clone();return void 0===e?delete t._flags.empty:t._flags.empty=d.schema(this._currentJoi,e),t},e.prototype.when=function(e,t){r.assert(t&&"object"===(void 0===t?"undefined":i(t)),"Invalid options"),r.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var a=t.hasOwnProperty("then")?this.concat(d.schema(this._currentJoi,t.then)):void 0,o=t.hasOwnProperty("otherwise")?this.concat(d.schema(this._currentJoi,t.otherwise)):void 0;c=c||n(10);var s={then:a,otherwise:o};Object.prototype.hasOwnProperty.call(t,"is")&&(s.is=t.is);var l=c.when(e,s);return l._flags.presence="ignore",l._baseType=this,l},e.prototype.description=function(e){r.assert(e&&"string"==typeof e,"Description must be a non-empty string");var t=this.clone();return t._description=e,t},e.prototype.notes=function(e){r.assert(e&&("string"==typeof e||Array.isArray(e)),"Notes must be a non-empty string or array");var t=this.clone();return t._notes=t._notes.concat(e),t},e.prototype.tags=function(e){r.assert(e&&("string"==typeof e||Array.isArray(e)),"Tags must be a non-empty string or array");var t=this.clone();return t._tags=t._tags.concat(e),t},e.prototype.meta=function(e){r.assert(void 0!==e,"Meta cannot be undefined");var t=this.clone();return t._meta=t._meta.concat(e),t},e.prototype.example=function(){r.assert(1===arguments.length,"Missing example");var e=arguments.length<=0?void 0:arguments[0],t=this.clone();return t._examples.push(e),t},e.prototype.unit=function(e){r.assert(e&&"string"==typeof e,"Unit name must be a non-empty string");var t=this.clone();return t._unit=e,t},e.prototype._prepareEmptyValue=function(e){return"string"==typeof e&&this._flags.trim?e.trim():e},e.prototype._validate=function(e,t,n,i){var a=this,c=e;t=t||{key:"",path:[],parent:null,reference:i},this._settings&&(n=o.concat(n,this._settings));var d=[],h=function(){var i=void 0;if(void 0!==e)i=a._flags.raw?c:e;else if(n.noDefaults)i=e;else if(s.isRef(a._flags.default))i=a._flags.default(t.parent,n);else if("function"!=typeof a._flags.default||a._flags.func&&!a._flags.default.description)i=r.clone(a._flags.default);else{var o=void 0;null!==t.parent&&a._flags.default.length>0&&(o=[r.clone(t.parent),n]);var l=u._try(a._flags.default,o);i=l.value,l.error&&d.push(a.createError("any.default",{error:l.error},t,n))}if(d.length&&"function"==typeof a._flags.error){var h=a._flags.error.call(a,d);d="string"==typeof h?[a.createOverrideError("override",{reason:d},t,n,h)]:[].concat(h).map((function(e){return e instanceof Error?e:a.createOverrideError(e.type||"override",e.context,t,n,e.message,e.template)}))}return{value:a._flags.strip?void 0:i,finalValue:i,errors:d.length?d:null}};if(this._coerce){var p=this._coerce.call(this,e,t,n);if(p.errors)return e=p.value,d=d.concat(p.errors),h();e=p.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(e),null,u.defaults).errors&&(e=void 0);var f=this._flags.presence||n.presence;if("optional"===f){if(void 0===e){if(!this._flags.hasOwnProperty("default")||void 0!==this._flags.default||"object"!==this._type)return h();e={}}}else{if("required"===f&&void 0===e)return d.push(this.createError("any.required",null,t,n)),h();if("forbidden"===f)return void 0===e||d.push(this.createError("any.unknown",null,t,n)),h()}if(this._valids.has(e,t,n,this._flags.insensitive))return h();if(this._invalids.has(e,t,n,this._flags.insensitive)&&(d.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,n)),n.abortEarly||void 0===e))return h();if(this._base){var g=this._base.call(this,e,t,n);if(g.errors)return e=g.value,d=d.concat(g.errors),h();if(g.value!==e){if(e=g.value,this._valids.has(e,t,n,this._flags.insensitive))return h();if(this._invalids.has(e,t,n,this._flags.insensitive)&&(d.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,n)),n.abortEarly))return h()}}if(this._flags.allowOnly&&(d.push(this.createError("any.allowOnly",{value:e,valids:this._valids.values({stripUndefined:!0})},t,n)),n.abortEarly))return h();for(var m=0;m<this._tests.length;++m){var v=this._tests[m].func.call(this,e,t,n);if(v instanceof l.Err){if(d.push(v),n.abortEarly)return h()}else e=v}return h()},e.prototype._validateWithOptions=function(e,t,n){t&&this.checkOptions(t);var i=o.concat(u.defaults,t),a=this._validate(e,null,i),r=l.process(a.errors,e);return n?n(r,a.value):{error:r,value:a.value,then:function(e,t){return r?Promise.reject(r).catch(t):Promise.resolve(a.value).then(e)},catch:function(e){return r?Promise.reject(r).catch(e):Promise.resolve(a.value)}}},e.prototype.validate=function(e,t,n){return"function"==typeof t?this._validateWithOptions(e,null,t):this._validateWithOptions(e,t,n)},e.prototype.describe=function(){var e=this,t={type:this._type},n=Object.keys(this._flags);if(n.length)if(["empty","default","lazy","label"].some((function(t){return e._flags.hasOwnProperty(t)}))){t.flags={};for(var i=0;i<n.length;++i){var a=n[i];"empty"===a?t.flags[a]=this._flags[a].describe():"default"===a?s.isRef(this._flags[a])?t.flags[a]=this._flags[a].toString():"function"==typeof this._flags[a]?t.flags[a]={description:this._flags[a].description,function:this._flags[a]}:t.flags[a]=this._flags[a]:"lazy"===a||"label"===a||(t.flags[a]=this._flags[a])}}else t.flags=this._flags;this._settings&&(t.options=r.clone(this._settings)),this._baseType&&(t.base=this._baseType.describe()),this._description&&(t.description=this._description),this._notes.length&&(t.notes=this._notes),this._tags.length&&(t.tags=this._tags),this._meta.length&&(t.meta=this._meta),this._examples.length&&(t.examples=this._examples),this._unit&&(t.unit=this._unit);var o=this._valids.values();o.length&&(t.valids=o.map((function(e){return s.isRef(e)?e.toString():e})));var l=this._invalids.values();l.length&&(t.invalids=l.map((function(e){return s.isRef(e)?e.toString():e}))),t.rules=[];for(var c=0;c<this._tests.length;++c){var d=this._tests[c],u={name:d.name};void 0!==d.arg&&(u.arg=s.isRef(d.arg)?d.arg.toString():d.arg);var h=d.options;if(h){if(h.hasRef){u.arg={};for(var p=Object.keys(d.arg),f=0;f<p.length;++f){var g=p[f],m=d.arg[g];u.arg[g]=s.isRef(m)?m.toString():m}}"string"==typeof h.description?u.description=h.description:"function"==typeof h.description&&(u.description=h.description(u.arg))}t.rules.push(u)}t.rules.length||delete t.rules;var v=this._getLabel();return v&&(t.label=v),t},e.prototype.label=function(e){r.assert(e&&"string"==typeof e,"Label name must be a non-empty string");var t=this.clone();return t._flags.label=e,t},e.prototype._getLabel=function(e){return this._flags.label||e},a(e,[{key:"schemaType",get:function(){return this._type}}]),e}(),u.Any.prototype.isImmutable=!0,u.Any.prototype.only=u.Any.prototype.equal=u.Any.prototype.valid,u.Any.prototype.disallow=u.Any.prototype.not=u.Any.prototype.invalid,u.Any.prototype.exist=u.Any.prototype.required,u._try=function(e,t){var n=void 0,i=void 0;try{i=e.apply(null,t)}catch(e){n=e}return{value:i,error:n}}},function(e,t,n){"use strict";(function(e){function i(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=r.prototype:(null===e&&(e=new r(t)),e.length=t),e}function r(e,t,n){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return o(this,e,t,n)}function o(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),r.TYPED_ARRAY_SUPPORT?(e=t).__proto__=r.prototype:e=c(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|u(t,n),o=(e=a(e,i)).write(t,n);return o!==i&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(r.isBuffer(t)){var n=0|d(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!==e}(t.length)?a(e,0):c(e,t);if("Buffer"===t.type&&H(t.data))return c(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(s(t),e=a(e,t<0?0:0|d(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function d(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function u(e,t){if(r.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(i)return R(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function p(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function f(e,t,n,i,a){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=r.from(t,i)),r.isBuffer(t))return 0===t.length?-1:g(e,t,n,i,a);if("number"==typeof t)return t&=255,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,i,a);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,i,a){function r(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var o,s=1,l=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,l/=2,c/=2,n/=2}if(a){var d=-1;for(o=n;o<l;o++)if(r(e,o)===r(t,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===c)return d*s}else-1!==d&&(o-=o-d),d=-1}else for(n+c>l&&(n=l-c),o=n;o>=0;o--){for(var u=!0,h=0;h<c;h++)if(r(e,o+h)!==r(t,h)){u=!1;break}if(u)return o}return-1}function m(e,t,n,i){n=Number(n)||0;var a=e.length-n;i?(i=Number(i))>a&&(i=a):i=a;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var o=0;o<i;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function v(e,t,n,i){return $(R(t,e.length-n),e,n,i)}function _(e,t,n,i){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function b(e,t,n,i){return _(e,t,n,i)}function y(e,t,n,i){return $(j(t),e,n,i)}function w(e,t,n,i){return $(function(e,t){for(var n,i,a,r=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),i=n>>8,a=n%256,r.push(a),r.push(i);return r}(t,e.length-n),e,n,i)}function x(e,t,n){return 0===t&&n===e.length?B.fromByteArray(e):B.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var i=[],a=t;a<n;){var r,o,s,l,c=e[a],d=null,u=c>239?4:c>223?3:c>191?2:1;if(a+u<=n)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(r=e[a+1]))&&(l=(31&c)<<6|63&r)>127&&(d=l);break;case 3:r=e[a+1],o=e[a+2],128==(192&r)&&128==(192&o)&&(l=(15&c)<<12|(63&r)<<6|63&o)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:r=e[a+1],o=e[a+2],s=e[a+3],128==(192&r)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&r)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),a+=u}return function(e){var t=e.length;if(t<=F)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=F));return n}(i)}function S(e,t,n){var i="";n=Math.min(e.length,n);for(var a=t;a<n;++a)i+=String.fromCharCode(127&e[a]);return i}function T(e,t,n){var i="";n=Math.min(e.length,n);for(var a=t;a<n;++a)i+=String.fromCharCode(e[a]);return i}function k(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var a="",r=t;r<n;++r)a+=L(e[r]);return a}function A(e,t,n){for(var i=e.slice(t,n),a="",r=0;r<i.length;r+=2)a+=String.fromCharCode(i[r]+256*i[r+1]);return a}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function E(e,t,n,i,a,o){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function D(e,t,n,i){t<0&&(t=65535+t+1);for(var a=0,r=Math.min(e.length-n,2);a<r;++a)e[n+a]=(t&255<<8*(i?a:1-a))>>>8*(i?a:1-a)}function O(e,t,n,i){t<0&&(t=4294967295+t+1);for(var a=0,r=Math.min(e.length-n,4);a<r;++a)e[n+a]=t>>>8*(i?a:3-a)&255}function M(e,t,n,i,a,r){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(e,t,n,i,a){return a||M(e,0,n,4),V.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,a){return a||M(e,0,n,8),V.write(e,t,n,i,52,8),n+8}function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function R(e,t){t=t||1/0;for(var n,i=e.length,a=null,r=[],o=0;o<i;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&r.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&r.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function j(e){return B.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,n,i){for(var a=0;a<i&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}var B=n(33),V=n(34),H=n(35);t.Buffer=r,t.SlowBuffer=function(e){return+e!=e&&(e=0),r.alloc(+e)},t.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,n){return o(null,e,t,n)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,n){return function(e,t,n,i){return s(t),t<=0?a(e,t):void 0!==n?"string"==typeof i?a(e,t).fill(n,i):a(e,t).fill(n):a(e,t)}(null,e,t,n)},r.allocUnsafe=function(e){return l(null,e)},r.allocUnsafeSlow=function(e){return l(null,e)},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,a=0,o=Math.min(n,i);a<o;++a)if(e[a]!==t[a]){n=e[a],i=t[a];break}return n<i?-1:i<n?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!H(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=r.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!r.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,a),a+=o.length}return i},r.byteLength=u,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):h.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e,t,n,i,a){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),t<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&t>=n)return 0;if(i>=a)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(a>>>=0)-(i>>>=0),s=(n>>>=0)-(t>>>=0),l=Math.min(o,s),c=this.slice(i,a),d=e.slice(t,n),u=0;u<l;++u)if(c[u]!==d[u]){o=c[u],s=d[u];break}return o<s?-1:s<o?1:0},r.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},r.prototype.indexOf=function(e,t,n){return f(this,e,t,n,!0)},r.prototype.lastIndexOf=function(e,t,n){return f(this,e,t,n,!1)},r.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return y(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;r.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),r.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=r.prototype;else{var a=t-e;n=new r(a,void 0);for(var o=0;o<a;++o)n[o]=this[o+e]}return n},r.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=this[e],a=1,r=0;++r<t&&(a*=256);)i+=this[e+r]*a;return i},r.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=this[e+--t],a=1;t>0&&(a*=256);)i+=this[e+--t]*a;return i},r.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=this[e],a=1,r=0;++r<t&&(a*=256);)i+=this[e+r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},r.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=t,a=1,r=this[e+--i];i>0&&(a*=256);)r+=this[e+--i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},r.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),V.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),V.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),V.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),V.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||E(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,r=0;for(this[t]=255&e;++r<n&&(a*=256);)this[t+r]=e/a&255;return t+n},r.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||E(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,r=1;for(this[t+a]=255&e;--a>=0&&(r*=256);)this[t+a]=e/r&255;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var a=Math.pow(2,8*n-1);E(this,e,t,n,a-1,-a)}var r=0,o=1,s=0;for(this[t]=255&e;++r<n&&(o*=256);)e<0&&0===s&&0!==this[t+r-1]&&(s=1),this[t+r]=(e/o>>0)-s&255;return t+n},r.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var a=Math.pow(2,8*n-1);E(this,e,t,n,a-1,-a)}var r=n-1,o=1,s=0;for(this[t+r]=255&e;--r>=0&&(o*=256);)e<0&&0===s&&0!==this[t+r+1]&&(s=1),this[t+r]=(e/o>>0)-s&255;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var a,o=i-n;if(this===e&&n<t&&t<i)for(a=o-1;a>=0;--a)e[a+t]=this[a+n];else if(o<1e3||!r.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},r.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!r.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=r.isBuffer(e)?e:R(new r(e,i).toString()),l=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%l]}return this};var z=/[^+\/0-9A-Za-z-_]/g}).call(t,n(5))},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(0),r=n(1);t.schema=function(e,t){return void 0!==t&&null!==t&&"object"===(void 0===t?"undefined":i(t))?t.isJoi?t:Array.isArray(t)?e.alternatives().try(t):t instanceof RegExp?e.string().regex(t):t instanceof Date?e.date().valid(t):e.object().keys(t):"string"==typeof t?e.string().valid(t):"number"==typeof t?e.number().valid(t):"boolean"==typeof t?e.boolean().valid(t):r.isRef(t)?e.valid(t):(a.assert(null===t,"Invalid schema content:",t),e.valid(null))},t.ref=function(e){return r.isRef(e)?e:r.create(e)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(0),r=n(20),o={annotations:Symbol("joi-annotations"),stringify:function(e,n){var a=void 0===e?"undefined":i(e);if(null===e)return"null";if("string"===a)return e;if(e instanceof t.Err||"function"===a||"symbol"===a)return e.toString();if("object"===a){if(Array.isArray(e)){for(var r="",s=0;s<e.length;++s)r=r+(r.length?", ":"")+o.stringify(e[s],n);return n?"["+r+"]":r}return e.toString()}return JSON.stringify(e)}};t.Err=function(){function e(t,n,i,a,o,s,l){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.isJoi=!0,this.type=t,this.context=n||{},this.context.key=i.path[i.path.length-1],this.context.label=i.key,this.path=i.path,this.options=a,this.flags=o,this.message=s,this.template=l;var c=this.options.language;this.flags.label?this.context.label=this.flags.label:!c||""!==this.context.label&&null!==this.context.label||(this.context.label=c.root||r.errors.root)}return e.prototype.toString=function(){var e=this;if(this.message)return this.message;var t=void 0;this.template&&(t=this.template);var n=this.options.language;if(void 0===(t=t||a.reach(n,this.type)||a.reach(r.errors,this.type)))return'Error code "'+this.type+'" is not defined, your custom type is missing the correct language definition';var i=a.reach(n,"messages.wrapArrays");if("boolean"!=typeof i&&(i=r.errors.messages.wrapArrays),null===t){var s=o.stringify(this.context.reason,i);return i?s.slice(1,-1):s}var l=/\{\{\!?label\}\}/.test(t),c=t.length>2&&"!"===t[0]&&"!"===t[1];if(c&&(t=t.slice(2)),!l&&!c){var d=a.reach(n,"key");t="string"==typeof d?d+t:a.reach(r.errors,"key")+t}return t.replace(/\{\{(\!?)([^}]+)\}\}/g,(function(t,n,r){var s=a.reach(e.context,r),l=o.stringify(s,i);return n&&e.options.escapeHtml?a.escapeHtml(l):l}))},e}(),t.create=function(e,n,i,a,r,o,s){return new t.Err(e,n,i,a,r,o,s)},t.process=function(e,t){if(!e||!e.length)return null;var n="",i=[],a=function e(t,a){for(var r=0;r<t.length;++r){var o=t[r];if(o instanceof Error)return o;if(o.flags.error&&"function"!=typeof o.flags.error)return o.flags.error;var s=void 0;if(void 0===a&&(s=o.toString(),n=n+(n?". ":"")+s),o.context.reason&&o.context.reason.length){var l=e(o.context.reason,o.path);if(l)return l}else i.push({message:s||o.toString(),path:o.path,type:o.type,context:o.context})}}(e);if(a)return a;var r=new Error(n);return r.isJoi=!0,r.name="ValidationError",r.details=i,r._object=t,r.annotate=o.annotate,r},o.safeStringify=function(e,t){return JSON.stringify(e,o.serializer(),t)},o.serializer=function(){var e=[],t=[],n=function(n,i){return t[0]===i?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(i)).join(".")+"]"};return function(a,r){if(t.length>0){var s=t.indexOf(this);~s?(t.length=s+1,e.length=s+1,e[s]=a):(t.push(this),e.push(a)),~t.indexOf(r)&&(r=n.call(this,a,r))}else t.push(r);if(r){var l=r[o.annotations];if(l){if(Array.isArray(r)){for(var c=[],d=0;d<r.length;++d)l.errors[d]&&c.push("_$idx$_"+l.errors[d].sort().join(", ")+"_$end$_"),c.push(r[d]);r=c}else{for(var u=Object.keys(l.errors),h=0;h<u.length;++h){var p=u[h];r[p+"_$key$_"+l.errors[p].sort().join(", ")+"_$end$_"]=r[p],r[p]=void 0}for(var f=Object.keys(l.missing),g=0;g<f.length;++g){var m=f[g];r["_$miss$_"+m+"|"+l.missing[m]+"_$end$_"]="__missing__"}}return r}}return r===1/0||r===-1/0||Number.isNaN(r)||"function"==typeof r||"symbol"===(void 0===r?"undefined":i(r))?"["+r.toString()+"]":r}},o.annotate=function(e){var t=e?"":"\x1b[31m",n=e?"":"\x1b[41m",r=e?"":"\x1b[0m";if("object"!==i(this._object))return this.details[0].message;for(var s=a.clone(this._object||{}),l=this.details.length-1;l>=0;--l)for(var c=l+1,d=this.details[l],u=d.path,h=s,p=0;;++p){var f=u[p];if(h.isImmutable&&(h=h.clone()),!(p+1<u.length&&h[f]&&"string"!=typeof h[f])){var g=h[o.annotations]=h[o.annotations]||{errors:{},missing:{}},m=h[f],v=f||d.context.label;void 0!==m?(g.errors[v]=g.errors[v]||[],g.errors[v].push(c)):g.missing[v]=c;break}h=h[f]}var _=/_\$key\$_([, \d]+)_\$end\$_\"/g,b=/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,y=/\s*\"_\$idx\$_([, \d]+)_\$end\$_\",?\n(.*)/g,w=/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)\]"/g,x=o.safeStringify(s,2).replace(_,(function(e,n){return'" '+t+"["+n+"]"+r})).replace(b,(function(e,i,a){return n+'"'+i+'"'+r+t+" ["+a+"]: -- missing --"+r})).replace(y,(function(e,n,i){return"\n"+i+" "+t+"["+n+"]"+r})).replace(w,(function(e,t){return t}));x=x+"\n"+t;for(var C=0;C<this.details.length;++C)x=x+"\n["+(C+1)+"] "+this.details[C].message;return x+r}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function r(){f&&h&&(f=!1,h.length?p=h.concat(p):g=-1,p.length&&o())}function o(){if(!f){var e=a(r);f=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,f=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var c,d,u=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var h,p=[],f=!1,g=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||f||a(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=l,u.addListener=l,u.once=l,u.off=l,u.removeListener=l,u.removeAllListeners=l,u.emit=l,u.prependListener=l,u.prependOnceListener=l,u.listeners=function(e){return[]},u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=n(0),c=n(2),d=n(4),u=n(6),h=n(26),p=n(1),f=n(11),g={alternatives:n(10),array:n(22),boolean:n(24),binary:n(23),date:n(12),func:n(25),number:n(27),object:n(13),string:n(28),callWithDefaults:function(e,t){var n;return l.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(e=this._defaults(e)),e._currentJoi=this,(n=e)._init.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))},root:function(){var e=new c,t=e.clone();return c.prototype._currentJoi=t,t._currentJoi=t,t.any=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return l.assert(0===n.length,"Joi.any() does not allow arguments."),g.callWithDefaults.call(this,e,n)},t.alternatives=t.alt=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.callWithDefaults.call(this,g.alternatives,t)},t.array=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.assert(0===t.length,"Joi.array() does not allow arguments."),g.callWithDefaults.call(this,g.array,t)},t.boolean=t.bool=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.assert(0===t.length,"Joi.boolean() does not allow arguments."),g.callWithDefaults.call(this,g.boolean,t)},t.binary=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.assert(0===t.length,"Joi.binary() does not allow arguments."),g.callWithDefaults.call(this,g.binary,t)},t.date=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.assert(0===t.length,"Joi.date() does not allow arguments."),g.callWithDefaults.call(this,g.date,t)},t.func=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.assert(0===t.length,"Joi.func() does not allow arguments."),g.callWithDefaults.call(this,g.func,t)},t.number=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.assert(0===t.length,"Joi.number() does not allow arguments."),g.callWithDefaults.call(this,g.number,t)},t.object=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.callWithDefaults.call(this,g.object,t)},t.string=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.assert(0===t.length,"Joi.string() does not allow arguments."),g.callWithDefaults.call(this,g.string,t)},t.ref=function(){return p.create.apply(p,arguments)},t.isRef=function(e){return p.isRef(e)},t.validate=function(n){var i,a=arguments.length<=(i=(arguments.length<=1?0:arguments.length-1)-1+1)?void 0:arguments[i],r="function"==typeof a?a:null,o=(arguments.length<=1?0:arguments.length-1)-(r?1:0);if(0===o)return e.validate(n,r);var s=2===o?arguments.length<=2?void 0:arguments[2]:{};return t.compile(arguments.length<=1?void 0:arguments[1])._validateWithOptions(n,s,r)},t.describe=function(){return(arguments.length?t.compile(arguments.length<=0?void 0:arguments[0]):e).describe()},t.compile=function(e){try{return d.schema(this,e)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}},t.assert=function(e,n,i){t.attempt(e,n,i)},t.attempt=function(e,n,i){var a=t.validate(e,n),r=a.error;if(r){if(!i)throw"function"==typeof r.annotate&&(r.message=r.annotate()),r;if(!(i instanceof Error))throw"function"==typeof r.annotate&&(r.message=i+" "+r.annotate()),r;throw i}return a.value},t.reach=function(e,t){return l.assert(e&&e instanceof c,"you must provide a joi schema"),l.assert(Array.isArray(t)||"string"==typeof t,"path must be a string or an array of strings"),function e(t,n){if(!n.length)return t;var i=t._inner.children;if(i)for(var a=n.shift(),r=0;r<i.length;++r){var o=i[r];if(o.key===a)return e(o.schema,n)}}(e,"string"==typeof t?t?t.split("."):[]:t.slice())},t.lazy=function(e){return h.set(e)},t.defaults=function(e){var t=this;l.assert("function"==typeof e,"Defaults must be a function");var n=Object.create(this.any());return n=e(n),l.assert(n&&n instanceof this.constructor,"defaults() must return a schema"),s(n,this,n.clone()),n._defaults=function(n){return t._defaults&&(n=t._defaults(n),l.assert(n instanceof t.constructor,"defaults() must return a schema")),n=e(n),l.assert(n instanceof t.constructor,"defaults() must return a schema"),n},n},t.extend=function(){for(var e=this,n=arguments.length,h=Array(n),m=0;m<n;m++)h[m]=arguments[m];var v=l.flatten(h);l.assert(v.length>0,"You need to provide at least one extension"),this.assert(v,t.extensionsSchema);var _=Object.create(this.any());s(_,this);for(var b=0;b<v.length;++b)!function(n){var h=v[n];"function"==typeof h&&(h=h(_)),e.assert(h,t.extensionSchema);var m=(h.base||e.any()).clone(),b=m.constructor,y=function(e){function t(){a(this,t);var n=r(this,e.call(this));return h.base&&s(n,m),n._type=h.name,h.language&&(n._settings=f.concat(n._settings,{language:i({},h.name,h.language)})),n}return o(t,e),t}(b);if(h.coerce&&(y.prototype._coerce=function(e,t,n){if(b.prototype._coerce){var i=b.prototype._coerce.call(this,e,t,n);if(i.errors)return i;e=i.value}var a=h.coerce.call(this,e,t,n);return a instanceof u.Err?{value:e,errors:a}:{value:a}}),h.pre&&(y.prototype._base=function(e,t,n){if(b.prototype._base){var i=b.prototype._base.call(this,e,t,n);if(i.errors)return i;e=i.value}var a=h.pre.call(this,e,t,n);return a instanceof u.Err?{value:e,errors:a}:{value:a}}),h.rules)for(var w=0;w<h.rules.length;++w)!function(t){var n=h.rules[t],i=n.params?n.params instanceof c?n.params._inner.children.map((function(e){return e.key})):Object.keys(n.params):[],a=n.params?d.schema(e,n.params):null;y.prototype[n.name]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>i.length)throw new Error("Unexpected number of arguments");for(var o=!1,s={},d=0;d<i.length;++d)s[i[d]]=t[d],!o&&p.isRef(t[d])&&(o=!0);a&&(s=_.attempt(s,a));var u=void 0;if(n.validate){var h=function(e,t,i){return n.validate.call(this,s,e,t,i)};u=this._test(n.name,s,h,{description:n.description,hasRef:o})}else u=this.clone();if(n.setup){var f=n.setup.call(u,s);void 0!==f&&(l.assert(f instanceof c,"Setup of extension Joi."+this._type+"()."+n.name+"() must return undefined or a Joi object"),u=f)}return u}}(w);h.describe&&(y.prototype.describe=function(){var e=b.prototype.describe.call(this);return h.describe.call(this,e)});var x=new y;_[h.name]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.callWithDefaults.call(this,x,t)}}(b);return _},t.extensionSchema=g.object.keys({base:g.object.type(c,"Joi object"),name:g.string.required(),coerce:g.func.arity(3),pre:g.func.arity(3),language:g.object,describe:g.func.arity(1),rules:g.array.items(g.object.keys({name:g.string.required(),setup:g.func.arity(1),validate:g.func.arity(4),params:[g.object.pattern(/.*/,g.object.type(c,"Joi object")),g.object.type(g.object.constructor,"Joi object")],description:[g.string,g.func.arity(1)]}).or("setup","validate"))}).strict(),t.extensionsSchema=g.array.items([g.object,g.func.arity(1)]).strict(),t.version=n(36).version,t}};e.exports=g.root()},function(e,t,n){"use strict";(function(t){function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),o={extendedCheckForValue:function(e,n){var i=void 0===e?"undefined":a(e);if("object"===i){if(e instanceof Date)return function(t){return t instanceof Date&&e.getTime()===t.getTime()};if(t.isBuffer(e))return function(n){return t.isBuffer(n)&&e.length===n.length&&e.toString("binary")===n.toString("binary")}}else if(n&&"string"===i){var r=e.toLowerCase();return function(e){return"string"==typeof e&&r===e.toLowerCase()}}return null}};e.exports=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._set=new Set(t),this._hasRef=!1}return e.prototype.add=function(e,t){var n=r.isRef(e);return!n&&this.has(e,null,null,!1)||(void 0!==t&&r.push(t,e),this._set.add(e),this._hasRef|=n),this},e.prototype.merge=function(e,t){var n=!0,i=!1,a=void 0;try{for(var r,o=e._set[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;this.add(s)}}catch(e){i=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}var l=!0,c=!1,d=void 0;try{for(var u,h=t._set[Symbol.iterator]();!(l=(u=h.next()).done);l=!0){var p=u.value;this.remove(p)}}catch(e){c=!0,d=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw d}}return this},e.prototype.remove=function(e){return this._set.delete(e),this},e.prototype.has=function(e,t,n,i){if(!this._set.size)return!1;var a=this._set.has(e);if(a)return a;var s=o.extendedCheckForValue(e,i);if(!s){if(t&&this._hasRef){var l=!0,c=!1,d=void 0;try{for(var u,h=this._set[Symbol.iterator]();!(l=(u=h.next()).done);l=!0){var p=u.value;if(r.isRef(p)&&(e===(p=p(t.reference||t.parent,n))||Array.isArray(p)&&p.includes(e)))return!0}}catch(e){c=!0,d=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw d}}}return!1}return this._has(e,t,n,s)},e.prototype._has=function(e,t,n,i){var a=!(!t||!this._hasRef),o=function(t){return e===t||i(t)},s=!0,l=!1,c=void 0;try{for(var d,u=this._set[Symbol.iterator]();!(s=(d=u.next()).done);s=!0){var h=d.value;if(a&&r.isRef(h)&&(h=h(t.reference||t.parent,n),Array.isArray(h))){if(h.find(o))return!0}else if(o(h))return!0}}catch(e){l=!0,c=e}finally{try{!s&&u.return&&u.return()}finally{if(l)throw c}}return!1},e.prototype.values=function(e){if(e&&e.stripUndefined){var t=[],n=!0,i=!1,a=void 0;try{for(var r,o=this._set[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;void 0!==s&&t.push(s)}}catch(e){i=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}return t}return Array.from(this._set)},e.prototype.slice=function(){var t=new e(this._set);return t._hasRef=this._hasRef,t},e.prototype.concat=function(t){var n=new e([].concat(i(this._set),i(t._set)));return n._hasRef=!!(this._hasRef|t._hasRef),n},e}()}).call(t,n(3).Buffer)},function(e,t,n){"use strict";function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(0),o=n(2),s=n(4),l=n(1),c={};c.Alternatives=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="alternatives",n._invalids.remove(null),n._inner.matches=[],n}return i(t,e),t.prototype._init=function(){return arguments.length?this.try.apply(this,arguments):this},t.prototype._base=function(e,t,n){for(var i=[],a=this._inner.matches.length,r=this._baseType,o=0;o<a;++o){var s=this._inner.matches[o];if(s.schema){var l=s.schema._validate(e,t,n);if(!l.errors)return l;i=i.concat(l.errors)}else{var c=s.peek||s.is,d=s.is?s.ref(t.reference||t.parent,n):e;if(c._validate(d,null,n,t.parent).errors){if(s.otherwise)return s.otherwise._validate(e,t,n)}else if(s.then)return s.then._validate(e,t,n);if(o===a-1&&r)return r._validate(e,t,n)}}return i.length?{errors:this.createError("alternatives.child",{reason:i},t,n)}:{errors:this.createError("alternatives.base",null,t,n)}},t.prototype.try=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t=r.flatten(t),r.assert(t.length,"Cannot add other alternatives without at least one schema");for(var i=this.clone(),a=0;a<t.length;++a){var o=s.schema(this._currentJoi,t[a]);o._refs.length&&(i._refs=i._refs.concat(o._refs)),i._inner.matches.push({schema:o})}return i},t.prototype.when=function(e,t){var n=!1;r.assert(l.isRef(e)||"string"==typeof e||(n=e instanceof o),"Invalid condition:",e),r.assert(t,"Missing options"),r.assert("object"===(void 0===t?"undefined":a(t)),"Invalid options"),n?r.assert(!t.hasOwnProperty("is"),'"is" can not be used with a schema condition'):r.assert(t.hasOwnProperty("is"),'Missing "is" directive'),r.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var i=this.clone(),c=void 0;n||(c=s.schema(this._currentJoi,t.is),null!==t.is&&(l.isRef(t.is)||t.is instanceof o)||(c=c.required()));var d={ref:n?null:s.ref(e),peek:n?e:null,is:c,then:void 0!==t.then?s.schema(this._currentJoi,t.then):void 0,otherwise:void 0!==t.otherwise?s.schema(this._currentJoi,t.otherwise):void 0};return i._baseType&&(d.then=d.then&&i._baseType.concat(d.then),d.otherwise=d.otherwise&&i._baseType.concat(d.otherwise)),n||(l.push(i._refs,d.ref),i._refs=i._refs.concat(d.is._refs)),d.then&&d.then._refs&&(i._refs=i._refs.concat(d.then._refs)),d.otherwise&&d.otherwise._refs&&(i._refs=i._refs.concat(d.otherwise._refs)),i._inner.matches.push(d),i},t.prototype.describe=function(){for(var e=o.prototype.describe.call(this),t=[],n=0;n<this._inner.matches.length;++n){var i=this._inner.matches[n];if(i.schema)t.push(i.schema.describe());else{var a=i.is?{ref:i.ref.toString(),is:i.is.describe()}:{peek:i.peek.describe()};i.then&&(a.then=i.then.describe()),i.otherwise&&(a.otherwise=i.otherwise.describe()),t.push(a)}}return e.alternatives=t,e},t}(o),e.exports=new c.Alternatives},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(0);t.concat=function(e,t){if(!t)return e;for(var n=i({},e),r=Object.keys(t),o=0;o<r.length;++o){var s=r[o];"language"===s&&n.hasOwnProperty(s)?n[s]=a.applyToDefaults(n[s],t[s]):n[s]=t[s]}return n}},function(e,t,n){"use strict";function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a=n(2),r=n(1),o=n(0),s={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};s.invalidDate=new Date(""),s.isIsoDate=function(){var e=s.isoDate.toString();return function(t){return t&&t.toString()===e}}(),s.Date=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="date",n}return i(t,e),t.prototype._base=function(e,t,n){var i={value:n.convert&&s.Date.toDate(e,this._flags.format,this._flags.timestamp,this._flags.multiplier)||e};if(i.value instanceof Date&&!isNaN(i.value.getTime()))i.errors=null;else if(n.convert){var a;a=s.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?"timestamp."+this._flags.timestamp:"base",i.errors=this.createError("date."+a,null,t,n)}else i.errors=this.createError("date.strict",null,t,n);return i},t.toDate=function(e,t,n,i){if(e instanceof Date)return e;if("string"==typeof e||"number"==typeof e&&!isNaN(e)&&isFinite(e)){"string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e));var a=void 0;if(a=t&&s.isIsoDate(t)?t.test(e)?new Date(e):s.invalidDate:n&&i?/^\s*$/.test(e)?s.invalidDate:new Date(e*i):new Date(e),!isNaN(a.getTime()))return a}return null},t.prototype.iso=function(){if(this._flags.format===s.isoDate)return this;var e=this.clone();return e._flags.format=s.isoDate,e},t.prototype.timestamp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript",t=["javascript","unix"];if(o.assert(t.includes(e),'"type" must be one of "'+t.join('", "')+'"'),this._flags.timestamp===e)return this;var n=this.clone();return n._flags.timestamp=e,n._flags.multiplier="unix"===e?1e3:1,n},t.prototype._isIsoDate=function(e){return s.isoDate.test(e)},t}(a),s.compare=function(e,t){return function(n){var i="now"===n,a=r.isRef(n);return i||a||(n=s.Date.toDate(n)),o.assert(n,"Invalid date format"),this._test(e,n,(function(r,o,l){var c=void 0;if(i)c=Date.now();else if(a){if(!(c=s.Date.toDate(n(o.reference||o.parent,l))))return this.createError("date.ref",{ref:n.key},o,l);c=c.getTime()}else c=n.getTime();return t(r.getTime(),c)?r:this.createError("date."+e,{limit:new Date(c)},o,l)}))}},s.Date.prototype.min=s.compare("min",(function(e,t){return e>=t})),s.Date.prototype.max=s.compare("max",(function(e,t){return e<=t})),s.Date.prototype.greater=s.compare("greater",(function(e,t){return e>t})),s.Date.prototype.less=s.compare("less",(function(e,t){return e<t})),e.exports=new s.Date},function(e,t,n){"use strict";function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(0),o=n(31),s=n(2),l=n(6),c=n(4),d={};d.Object=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="object",n._inner.children=null,n._inner.renames=[],n._inner.dependencies=[],n._inner.patterns=[],n}return i(t,e),t.prototype._init=function(){return arguments.length?this.keys.apply(this,arguments):this},t.prototype._base=function(e,t,n){var i=e,o=[],s=function(){return{value:i,errors:o.length?o:null}};"string"==typeof e&&n.convert&&(e=d.safeParse(e));var c=this._flags.func?"function":"object";if(!e||(void 0===e?"undefined":a(e))!==c||Array.isArray(e))return o.push(this.createError(c+".base",null,t,n)),s();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return i=e,s();if(i===e){"object"===c?i=Object.create(Object.getPrototypeOf(e)):(i=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(this,n)}).prototype=r.clone(e.prototype);for(var u=Object.keys(e),h=0;h<u.length;++h)i[u[h]]=e[u[h]]}else i=e;for(var p={},f=0;f<this._inner.renames.length;++f){var g=this._inner.renames[f];if(g.isRegExp){for(var m=Object.keys(i),v=[],_=0;_<m.length;++_)g.from.test(m[_])&&v.push(m[_]);var b=v.every((function(e){return void 0===i[e]}));if(g.options.ignoreUndefined&&b)continue;if(!g.options.multiple&&p[g.to]&&(o.push(this.createError("object.rename.regex.multiple",{from:v,to:g.to},t,n)),n.abortEarly))return s();if(Object.prototype.hasOwnProperty.call(i,g.to)&&!g.options.override&&!p[g.to]&&(o.push(this.createError("object.rename.regex.override",{from:v,to:g.to},t,n)),n.abortEarly))return s();if(b?delete i[g.to]:i[g.to]=i[v[v.length-1]],p[g.to]=!0,!g.options.alias)for(var y=0;y<v.length;++y)delete i[v[y]]}else{if(g.options.ignoreUndefined&&void 0===i[g.from])continue;if(!g.options.multiple&&p[g.to]&&(o.push(this.createError("object.rename.multiple",{from:g.from,to:g.to},t,n)),n.abortEarly))return s();if(Object.prototype.hasOwnProperty.call(i,g.to)&&!g.options.override&&!p[g.to]&&(o.push(this.createError("object.rename.override",{from:g.from,to:g.to},t,n)),n.abortEarly))return s();void 0===i[g.from]?delete i[g.to]:i[g.to]=i[g.from],p[g.to]=!0,g.options.alias||delete i[g.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return s();var w=new Set(Object.keys(i));if(this._inner.children){for(var x=[],C=0;C<this._inner.children.length;++C){var S=this._inner.children[C],T=S.key,k=i[T];w.delete(T);var A={key:T,path:t.path.concat(T),parent:i,reference:t.reference},P=S.schema._validate(k,A,n);if(P.errors){if(o.push(this.createError("object.child",{key:T,child:S.schema._getLabel(T),reason:P.errors},A,n)),n.abortEarly)return s()}else S.schema._flags.strip||void 0===P.value&&P.value!==k?(x.push(T),i[T]=P.finalValue):void 0!==P.value&&(i[T]=P.value)}for(var E=0;E<x.length;++E)delete i[x[E]]}if(w.size&&this._inner.patterns.length){var D=!0,O=!1,M=void 0;try{for(var I,N=w[Symbol.iterator]();!(D=(I=N.next()).done);D=!0)for(var L=I.value,R={key:L,path:t.path.concat(L),parent:i,reference:t.reference},j=i[L],$=0;$<this._inner.patterns.length;++$){var B=this._inner.patterns[$];if(B.regex?B.regex.test(L):!B.schema.validate(L).error){w.delete(L);var V=B.rule._validate(j,R,n);if(V.errors&&(o.push(this.createError("object.child",{key:L,child:B.rule._getLabel(L),reason:V.errors},R,n)),n.abortEarly))return s();i[L]=V.value}}}catch(ne){O=!0,M=ne}finally{try{!D&&N.return&&N.return()}finally{if(O)throw M}}}if(w.size&&(this._inner.children||this._inner.patterns.length)){if(n.stripUnknown&&!0!==this._flags.allowUnknown||n.skipFunctions){var H=!!n.stripUnknown&&(!0===n.stripUnknown||!!n.stripUnknown.objects),F=!0,z=!1,U=void 0;try{for(var W,q=w[Symbol.iterator]();!(F=(W=q.next()).done);F=!0){var G=W.value;H?(delete i[G],w.delete(G)):"function"==typeof i[G]&&w.delete(G)}}catch(ne){z=!0,U=ne}finally{try{!F&&q.return&&q.return()}finally{if(z)throw U}}}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!n.allowUnknown){var Y=!0,Q=!1,J=void 0;try{for(var Z,X=w[Symbol.iterator]();!(Y=(Z=X.next()).done);Y=!0){var K=Z.value;o.push(this.createError("object.allowUnknown",{child:K},{key:K,path:t.path.concat(K)},n,{}))}}catch(ne){Q=!0,J=ne}finally{try{!Y&&X.return&&X.return()}finally{if(Q)throw J}}}}for(var ee=0;ee<this._inner.dependencies.length;++ee){var te=this._inner.dependencies[ee],ne=d[te.type].call(this,null!==te.key&&i[te.key],te.peers,i,{key:te.key,path:null===te.key?t.path:t.path.concat(te.key)},n);if(ne instanceof l.Err&&(o.push(ne),n.abortEarly))return s()}return s()},t.prototype.keys=function(e){r.assert(null===e||void 0===e||"object"===(void 0===e?"undefined":a(e)),"Object schema must be a valid object"),r.assert(!(e&&e instanceof s),"Object schema cannot be a joi schema");var t=this.clone();if(!e)return t._inner.children=null,t;var n=Object.keys(e);if(!n.length)return t._inner.children=[],t;var i=new o;if(t._inner.children)for(var l=0;l<t._inner.children.length;++l){var d=t._inner.children[l];n.includes(d.key)||i.add(d,{after:d._refs,group:d.key})}for(var u=0;u<n.length;++u){var h=n[u],p=e[h];try{var f=c.schema(this._currentJoi,p);i.add({key:h,schema:f},{after:f._refs,group:h})}catch(e){throw e.hasOwnProperty("path")?e.path=h+"."+e.path:e.path=h,e}}return t._inner.children=i.nodes,t},t.prototype.append=function(e){return null===e||void 0===e||0===Object.keys(e).length?this:this.keys(e)},t.prototype.unknown=function(e){var t=!1!==e;if(this._flags.allowUnknown===t)return this;var n=this.clone();return n._flags.allowUnknown=t,n},t.prototype.length=function(e){return r.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,(function(t,n,i){return Object.keys(t).length===e?t:this.createError("object.length",{limit:e},n,i)}))},t.prototype.min=function(e){return r.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,(function(t,n,i){return Object.keys(t).length>=e?t:this.createError("object.min",{limit:e},n,i)}))},t.prototype.max=function(e){return r.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,(function(t,n,i){return Object.keys(t).length<=e?t:this.createError("object.max",{limit:e},n,i)}))},t.prototype.pattern=function(e,t){var n=e instanceof RegExp;r.assert(n||e instanceof s,"pattern must be a regex or schema"),r.assert(void 0!==t,"Invalid rule"),n&&(e=new RegExp(e.source,e.ignoreCase?"i":void 0));try{t=c.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}var i=this.clone();return n?i._inner.patterns.push({regex:e,rule:t}):i._inner.patterns.push({schema:e,rule:t}),i},t.prototype.schema=function(){return this._test("schema",null,(function(e,t,n){return e instanceof s?e:this.createError("object.schema",null,t,n)}))},t.prototype.with=function(e,t){return r.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("with",e,t)},t.prototype.without=function(e,t){return r.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("without",e,t)},t.prototype.xor=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=r.flatten(t),this._dependency("xor",null,t)},t.prototype.or=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=r.flatten(t),this._dependency("or",null,t)},t.prototype.and=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=r.flatten(t),this._dependency("and",null,t)},t.prototype.nand=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=r.flatten(t),this._dependency("nand",null,t)},t.prototype.requiredKeys=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=r.flatten(t),this.applyFunctionToChildren(t,"required")},t.prototype.optionalKeys=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=r.flatten(t),this.applyFunctionToChildren(t,"optional")},t.prototype.forbiddenKeys=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=r.flatten(t),this.applyFunctionToChildren(t,"forbidden")},t.prototype.rename=function(e,t,n){r.assert("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),r.assert("string"==typeof t,"Rename missing the to argument"),r.assert(t!==e,"Cannot rename key to same name:",e);for(var i=0;i<this._inner.renames.length;++i)r.assert(this._inner.renames[i].from!==e,"Cannot rename the same key multiple times");var a=this.clone();return a._inner.renames.push({from:e,to:t,options:r.applyToDefaults(d.renameDefaults,n||{}),isRegExp:e instanceof RegExp}),a},t.prototype.applyFunctionToChildren=function(e,t,n,i){e=[].concat(e),r.assert(e.length>0,"expected at least one children");var a=d.groupChildren(e),o=void 0;if(""in a?(o=this[t].apply(this,n),delete a[""]):o=this.clone(),o._inner.children){i=i?i+".":"";for(var s=0;s<o._inner.children.length;++s){var l=o._inner.children[s],c=a[l.key];c&&(o._inner.children[s]={key:l.key,_refs:l._refs,schema:l.schema.applyFunctionToChildren(c,t,n,i+l.key)},delete a[l.key])}}var u=Object.keys(a);return r.assert(0===u.length,"unknown key(s)",u.join(", ")),o},t.prototype._dependency=function(e,t,n){n=[].concat(n);for(var i=0;i<n.length;++i)r.assert("string"==typeof n[i],e,"peers must be a string or array of strings");var a=this.clone();return a._inner.dependencies.push({type:e,key:t,peers:n}),a},t.prototype.describe=function(e){var t=s.prototype.describe.call(this);if(t.rules)for(var n=0;n<t.rules.length;++n){var i=t.rules[n];i.arg&&"object"===a(i.arg)&&i.arg.schema&&i.arg.ref&&(i.arg={schema:i.arg.schema.describe(),ref:i.arg.ref.toString()})}if(this._inner.children&&!e){t.children={};for(var o=0;o<this._inner.children.length;++o){var l=this._inner.children[o];t.children[l.key]=l.schema.describe()}}if(this._inner.dependencies.length&&(t.dependencies=r.clone(this._inner.dependencies)),this._inner.patterns.length){t.patterns=[];for(var c=0;c<this._inner.patterns.length;++c){var d=this._inner.patterns[c];d.regex?t.patterns.push({regex:d.regex.toString(),rule:d.rule.describe()}):t.patterns.push({schema:d.schema.describe(),rule:d.rule.describe()})}}return this._inner.renames.length>0&&(t.renames=r.clone(this._inner.renames)),t},t.prototype.assert=function(e,t,n){e=c.ref(e),r.assert(e.isContext||e.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),n=n||"pass the assertion test";try{t=c.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}var i=e.path[e.path.length-1],a=e.path.join(".");return this._test("assert",{schema:t,ref:e},(function(o,s,l){if(!t._validate(e(o),null,l,o).errors)return o;var c=r.merge({},s);return c.key=i,c.path=e.path,this.createError("object.assert",{ref:a,message:n},c,l)}))},t.prototype.type=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name;r.assert("function"==typeof e,"type must be a constructor function");var n={name:t,ctor:e};return this._test("type",n,(function(t,i,a){return t instanceof e?t:this.createError("object.type",{type:n.name},i,a)}))},t}(s),d.safeParse=function(e){try{return JSON.parse(e)}catch(e){}return e},d.renameDefaults={alias:!1,multiple:!1,override:!1},d.groupChildren=function(e){e.sort();for(var t={},n=0;n<e.length;++n){var i=e[n];r.assert("string"==typeof i,"children must be strings");var a=i.split(".")[0];(t[a]=t[a]||[]).push(i.substring(a.length+1))}return t},d.keysToLabels=function(e,t){var n=e._inner.children;if(!n)return t;var i=function(e){var t=n.find((function(t){return t.key===e}));return t?t.schema._getLabel(e):e};return Array.isArray(t)?t.map(i):i(t)},d.with=function(e,t,n,i,a){if(void 0===e)return e;for(var r=0;r<t.length;++r){var o=t[r];if(!Object.prototype.hasOwnProperty.call(n,o)||void 0===n[o])return this.createError("object.with",{main:i.key,mainWithLabel:d.keysToLabels(this,i.key),peer:o,peerWithLabel:d.keysToLabels(this,o)},i,a)}return e},d.without=function(e,t,n,i,a){if(void 0===e)return e;for(var r=0;r<t.length;++r){var o=t[r];if(Object.prototype.hasOwnProperty.call(n,o)&&void 0!==n[o])return this.createError("object.without",{main:i.key,mainWithLabel:d.keysToLabels(this,i.key),peer:o,peerWithLabel:d.keysToLabels(this,o)},i,a)}return e},d.xor=function(e,t,n,i,a){for(var r=[],o=0;o<t.length;++o){var s=t[o];Object.prototype.hasOwnProperty.call(n,s)&&void 0!==n[s]&&r.push(s)}if(1===r.length)return e;var l={peers:t,peersWithLabels:d.keysToLabels(this,t)};return 0===r.length?this.createError("object.missing",l,i,a):this.createError("object.xor",l,i,a)},d.or=function(e,t,n,i,a){for(var r=0;r<t.length;++r){var o=t[r];if(Object.prototype.hasOwnProperty.call(n,o)&&void 0!==n[o])return e}return this.createError("object.missing",{peers:t,peersWithLabels:d.keysToLabels(this,t)},i,a)},d.and=function(e,t,n,i,a){for(var r=[],o=[],s=t.length,l=0;l<s;++l){var c=t[l];Object.prototype.hasOwnProperty.call(n,c)&&void 0!==n[c]?o.push(c):r.push(c)}if(r.length!==s&&o.length!==s)return this.createError("object.and",{present:o,presentWithLabels:d.keysToLabels(this,o),missing:r,missingWithLabels:d.keysToLabels(this,r)},i,a)},d.nand=function(e,t,n,i,a){for(var o=[],s=0;s<t.length;++s){var l=t[s];Object.prototype.hasOwnProperty.call(n,l)&&void 0!==n[l]&&o.push(l)}var c=r.clone(t),u=c.splice(0,1)[0];return o.length===t.length?this.createError("object.nand",{main:u,mainWithLabel:d.keysToLabels(this,u),peers:c,peersWithLabels:d.keysToLabels(this,c)},i,a):null},e.exports=new d.Object},function(e,t,n){"use strict";var i={rfc3986:{},generate:function(){var e="|";i.rfc3986.ipv4Cidr="[0-9]|[1-2][0-9]|3[0-2]",i.rfc3986.ipv6Cidr="(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])";var t="a-zA-Z0-9-\\._~",n="!\\$&'\\(\\)\\*\\+,;=",a=t+"%0-9A-Fa-f"+n+":@",r="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";i.rfc3986.IPv4address="(?:"+r+"\\.){3}"+r;var o="[0-9A-Fa-f]{1,4}",s="(?:"+o+":"+o+"|"+i.rfc3986.IPv4address+")",l="(?:"+o+":){6}"+s,c="::(?:"+o+":){5}"+s,d="(?:"+o+")?::(?:"+o+":){4}"+s,u="(?:(?:"+o+":){0,1}"+o+")?::(?:"+o+":){3}"+s,h="(?:(?:"+o+":){0,2}"+o+")?::(?:"+o+":){2}"+s,p="(?:(?:"+o+":){0,3}"+o+")?::"+o+":"+s,f="(?:(?:"+o+":){0,4}"+o+")?::"+s;i.rfc3986.IPv6address="(?:"+l+e+c+e+d+e+u+e+h+e+p+e+f+"|(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)",i.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.["+t+n+":]+",i.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";var g="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:]*@)?(?:\\[(?:"+i.rfc3986.IPv6address+e+i.rfc3986.IPvFuture+")\\]"+e+i.rfc3986.IPv4address+"|[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=]{0,255})(?::[0-9]*)?",m="(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",v="\\/(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+"+m+")?";i.rfc3986.hierPart="(?:(?:\\/\\/"+g+m+")"+e+v+"|[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*)",i.rfc3986.relativeRef="(?:(?:\\/\\/"+g+m+")"+e+v+"|[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*|)",i.rfc3986.query="["+a+"\\/\\?]*(?=#|$)",i.rfc3986.fragment="["+a+"\\/\\?]*"}};i.generate(),e.exports=i.rfc3986},function(e,t){},function(e,t,n){(function(e,i){function a(e,n){var i={seen:[],stylize:o};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),h(n)?i.showHidden=n:n&&t._extend(i,n),m(i.showHidden)&&(i.showHidden=!1),m(i.depth)&&(i.depth=2),m(i.colors)&&(i.colors=!1),m(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=r),s(i,e,i.depth)}function r(e,t){var n=a.styles[t];return n?"\x1b["+a.colors[n][0]+"m"+e+"\x1b["+a.colors[n][1]+"m":e}function o(e,t){return e}function s(e,n,i){if(e.customInspect&&n&&w(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var a=n.inspect(i,e);return g(a)||(a=s(e,a,i)),a}var r=l(e,n);if(r)return r;var o=Object.keys(n),h=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),y(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(n);if(0===o.length){if(w(n)){var p=n.name?": "+n.name:"";return e.stylize("[Function"+p+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(b(n))return e.stylize(Date.prototype.toString.call(n),"date");if(y(n))return c(n)}var f,m="",_=!1,x=["{","}"];return u(n)&&(_=!0,x=["[","]"]),w(n)&&(m=" [Function"+(n.name?": "+n.name:"")+"]"),v(n)&&(m=" "+RegExp.prototype.toString.call(n)),b(n)&&(m=" "+Date.prototype.toUTCString.call(n)),y(n)&&(m=" "+c(n)),0!==o.length||_&&0!=n.length?i<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),f=_?function(e,t,n,i,a){for(var r=[],o=0,s=t.length;o<s;++o)T(t,String(o))?r.push(d(e,t,n,i,String(o),!0)):r.push("");return a.forEach((function(a){a.match(/^\d+$/)||r.push(d(e,t,n,i,a,!0))})),r}(e,n,i,h,o):o.map((function(t){return d(e,n,i,h,t,_)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(f,m,x)):x[0]+m+x[1]}function l(e,t){if(m(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return f(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):p(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,i,a,r){var o,l,c;if((c=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?l=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(l=e.stylize("[Setter]","special")),T(i,a)||(o="["+a+"]"),l||(e.seen.indexOf(c.value)<0?(l=p(n)?s(e,c.value,null):s(e,c.value,n-1)).indexOf("\n")>-1&&(l=r?l.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+l.split("\n").map((function(e){return"   "+e})).join("\n")):l=e.stylize("[Circular]","special")),m(o)){if(r&&a.match(/^\d+$/))return l;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+l}function u(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function p(e){return null===e}function f(e){return"number"==typeof e}function g(e){return"string"==typeof e}function m(e){return void 0===e}function v(e){return _(e)&&"[object RegExp]"===x(e)}function _(e){return"object"==typeof e&&null!==e}function b(e){return _(e)&&"[object Date]"===x(e)}function y(e){return _(e)&&("[object Error]"===x(e)||e instanceof Error)}function w(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}function S(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var k=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,r=i.length,o=String(e).replace(k,(function(e){if("%%"===e)return"%";if(n>=r)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),s=i[n];n<r;s=i[++n])p(s)||!_(s)?o+=" "+s:o+=" "+a(s);return o},t.deprecate=function(n,a){if(m(e.process))return function(){return t.deprecate(n,a).apply(this,arguments)};if(!0===i.noDeprecation)return n;var r=!1;return function(){if(!r){if(i.throwDeprecation)throw new Error(a);i.traceDeprecation?console.trace(a):console.error(a),r=!0}return n.apply(this,arguments)}};var A,P={};t.debuglog=function(e){if(m(A)&&(A=i.env.NODE_DEBUG||""),e=e.toUpperCase(),!P[e])if(new RegExp("\\b"+e+"\\b","i").test(A)){var n=i.pid;P[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,i)}}else P[e]=function(){};return P[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=u,t.isBoolean=h,t.isNull=p,t.isNullOrUndefined=function(e){return null==e},t.isNumber=f,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=v,t.isObject=_,t.isDate=b,t.isError=y,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(40);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",S(),t.format.apply(t,arguments))},t.inherits=n(39),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(t,n(5),n(7))},function(e,t,n){"use strict";(function(t){function i(e,t){if(e===t)return 0;for(var n=e.length,i=t.length,a=0,r=Math.min(n,i);a<r;++a)if(e[a]!==t[a]){n=e[a],i=t[a];break}return n<i?-1:i<n?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function r(e){return Object.prototype.toString.call(e)}function o(e){return!a(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function s(e){if(m.isFunction(e)){if(b)return e.name;var t=e.toString().match(w);return t&&t[1]}}function l(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(b||!m.isFunction(e))return m.inspect(e);var t=s(e);return"[Function"+(t?": "+t:"")+"]"}function d(e,t,n,i,a){throw new y.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:a})}function u(e,t){e||d(e,!0,t,"==",y.ok)}function h(e,t,n,s){if(e===t)return!0;if(a(e)&&a(t))return 0===i(e,t);if(m.isDate(e)&&m.isDate(t))return e.getTime()===t.getTime();if(m.isRegExp(e)&&m.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(o(e)&&o(t)&&r(e)===r(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var l=(s=s||{actual:[],expected:[]}).actual.indexOf(e);return-1!==l&&l===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),function(e,t,n,i){if(null===e||void 0===e||null===t||void 0===t)return!1;if(m.isPrimitive(e)||m.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var a=p(e),r=p(t);if(a&&!r||!a&&r)return!1;if(a)return e=_.call(e),t=_.call(t),h(e,t,n);var o,s,l=x(e),c=x(t);if(l.length!==c.length)return!1;for(l.sort(),c.sort(),s=l.length-1;s>=0;s--)if(l[s]!==c[s])return!1;for(s=l.length-1;s>=0;s--)if(o=l[s],!h(e[o],t[o],n,i))return!1;return!0}(e,t,n,s))}return n?e===t:e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function f(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function g(e,t,n,i){var a;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),a=function(e){var t;try{e()}catch(e){t=e}return t}(t),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!a&&d(a,n,"Missing expected exception"+i);var r="string"==typeof i,o=!e&&a&&!n;if((!e&&m.isError(a)&&r&&f(a,n)||o)&&d(a,n,"Got unwanted exception"+i),e&&a&&n&&!f(a,n)||!e&&a)throw a}var m=n(16),v=Object.prototype.hasOwnProperty,_=Array.prototype.slice,b="foo"===function(){}.name,y=e.exports=u,w=/\s*function\s+([^\(\s]*)\s*/;y.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return l(c(e.actual),128)+" "+e.operator+" "+l(c(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||d;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var i=n.stack,a=s(t),r=i.indexOf("\n"+a);if(r>=0){var o=i.indexOf("\n",r+1);i=i.substring(o+1)}this.stack=i}}},m.inherits(y.AssertionError,Error),y.fail=d,y.ok=u,y.equal=function(e,t,n){e!=t&&d(e,t,n,"==",y.equal)},y.notEqual=function(e,t,n){e==t&&d(e,t,n,"!=",y.notEqual)},y.deepEqual=function(e,t,n){h(e,t,!1)||d(e,t,n,"deepEqual",y.deepEqual)},y.deepStrictEqual=function(e,t,n){h(e,t,!0)||d(e,t,n,"deepStrictEqual",y.deepStrictEqual)},y.notDeepEqual=function(e,t,n){h(e,t,!1)&&d(e,t,n,"notDeepEqual",y.notDeepEqual)},y.notDeepStrictEqual=function e(t,n,i){h(t,n,!0)&&d(t,n,i,"notDeepStrictEqual",e)},y.strictEqual=function(e,t,n){e!==t&&d(e,t,n,"===",y.strictEqual)},y.notStrictEqual=function(e,t,n){e===t&&d(e,t,n,"!==",y.notStrictEqual)},y.throws=function(e,t,n){g(!0,e,t,n)},y.doesNotThrow=function(e,t,n){g(!1,e,t,n)},y.ifError=function(e){if(e)throw e};var x=Object.keys||function(e){var t=[];for(var n in e)v.call(e,n)&&t.push(n);return t}}).call(t,n(5))},function(e,t,n){"use strict";(function(e){var n={};t.escapeJavaScript=function(e){if(!e)return"";for(var t="",i=0;i<e.length;++i){var a=e.charCodeAt(i);n.isSafe(a)?t+=e[i]:t+=n.escapeJavaScriptChar(a)}return t},t.escapeHtml=function(e){if(!e)return"";for(var t="",i=0;i<e.length;++i){var a=e.charCodeAt(i);n.isSafe(a)?t+=e[i]:t+=n.escapeHtmlChar(a)}return t},t.escapeJson=function(e){if(!e)return"";var t=void 0;return e.replace(/[<>&\u2028\u2029]/g,(function(e){return 60===(t=e.charCodeAt(0))?"\\u003c":62===t?"\\u003e":38===t?"\\u0026":8232===t?"\\u2028":"\\u2029"}))},n.escapeJavaScriptChar=function(t){if(t>=256)return"\\u"+n.padLeft(""+t,4);var i=e.from(String.fromCharCode(t),"ascii").toString("hex");return"\\x"+n.padLeft(i,2)},n.escapeHtmlChar=function(t){var i=n.namedHtml[t];if(void 0!==i)return i;if(t>=256)return"&#"+t+";";var a=e.from(String.fromCharCode(t),"ascii").toString("hex");return"&#x"+n.padLeft(a,2)+";"},n.padLeft=function(e,t){for(;e.length<t;)e="0"+e;return e},n.isSafe=function(e){return void 0!==n.safeCharCodes[e]},n.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},n.safeCharCodes=function(){for(var e={},t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()}).call(t,n(3).Buffer)},function(e,t,n){"use strict";(function(e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(38),r={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,undesiredNonAscii:25,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};r.specials=function(){var e='()<>[]:;@\\,."',t=new Array(256);t.fill(!1);for(var n=0;n<e.length;++n)t[e.codePointAt(n)]=!0;return function(e){return t[e]}}(),r.c0Controls=function(){var e=new Array(256);e.fill(!1);for(var t=0;t<33;++t)e[t]=!0;return function(t){return e[t]}}(),r.c1Controls=function(){var e=new Array(256);e.fill(!1);for(var t=127;t<160;++t)e[t]=!0;return function(t){return e[t]}}(),r.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},r.normalizeSupportsNul="\0"==="\0".normalize("NFC"),r.nulNormalize=function(e){return e.split("\0").map((function(e){return e.normalize("NFC")})).join("\0")},r.normalize=function(e){return!r.normalizeSupportsNul&&e.indexOf("\0")>=0?r.nulNormalize(e):e.normalize("NFC")},r.checkIpV6=function(e){return e.every((function(e){return r.regex.ipV6.test(e)}))},r.validDomain=function(e,t){return t.tldBlacklist?Array.isArray(t.tldBlacklist)?-1===r.indexOf.call(t.tldBlacklist,e):!r.hasOwn.call(t.tldBlacklist,e):Array.isArray(t.tldWhitelist)?-1!==r.indexOf.call(t.tldWhitelist,e):r.hasOwn.call(t.tldWhitelist,e)},t.validate=r.validate=function(t,n,o){n=n||{},t=r.normalize(t),"function"==typeof n&&(o=n,n={}),"function"!=typeof o&&(o=null);var s=void 0,l=void 0;if("number"==typeof n.errorLevel?(s=!0,l=n.errorLevel):(s=!!n.errorLevel,l=r.diagnoses.valid),n.tldWhitelist)if("string"==typeof n.tldWhitelist)n.tldWhitelist=[n.tldWhitelist];else if("object"!==i(n.tldWhitelist))throw new TypeError("expected array or object tldWhitelist");if(n.tldBlacklist)if("string"==typeof n.tldBlacklist)n.tldBlacklist=[n.tldBlacklist];else if("object"!==i(n.tldBlacklist))throw new TypeError("expected array or object tldBlacklist");if(n.minDomainAtoms&&(n.minDomainAtoms!==(0|+n.minDomainAtoms)||n.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");var c=r.diagnoses.valid,d=function(e){e>c&&(c=e)};void 0!==n.allowUnicode&&!n.allowUnicode&&/[^\x00-\x7f]/.test(t)&&d(r.diagnoses.undesiredNonAscii);for(var u={now:r.components.localpart,prev:r.components.localpart,stack:[r.components.localpart]},h="",p={local:"",domain:""},f={locals:[""],domains:[""]},g=0,m=0,v=0,_=void 0,b=!1,y=!1,w=t.length,x=void 0,C=0;C<w;C+=x.length){switch(x=String.fromCodePoint(t.codePointAt(C)),u.now){case r.components.localpart:switch(x){case"(":0===m?d(0===g?r.diagnoses.cfwsComment:r.diagnoses.deprecatedComment):(d(r.diagnoses.cfwsComment),y=!0),u.stack.push(u.now),u.now=r.components.contextComment;break;case".":0===m?d(0===g?r.diagnoses.errDotStart:r.diagnoses.errConsecutiveDots):(y&&d(r.diagnoses.deprecatedLocalPart),y=!1,m=0,++g,p.local+=x,f.locals[g]="");break;case'"':0===m?(d(0===g?r.diagnoses.rfc5321QuotedString:r.diagnoses.deprecatedLocalPart),p.local+=x,f.locals[g]+=x,m+=e.byteLength(x,"utf8"),y=!0,u.stack.push(u.now),u.now=r.components.contextQuotedString):d(r.diagnoses.errExpectingATEXT);break;case"\r":if(w===++C||"\n"!==t[C]){d(r.diagnoses.errCRNoLF);break}case" ":case"\t":0===m?d(0===g?r.diagnoses.cfwsFWS:r.diagnoses.deprecatedFWS):y=!0,u.stack.push(u.now),u.now=r.components.contextFWS,h=x;break;case"@":if(1!==u.stack.length)throw new Error("unexpected item on context stack");0===p.local.length?d(r.diagnoses.errNoLocalPart):0===m?d(r.diagnoses.errDotEnd):e.byteLength(p.local,"utf8")>64?d(r.diagnoses.rfc5322LocalTooLong):u.prev!==r.components.contextComment&&u.prev!==r.components.contextFWS||d(r.diagnoses.deprecatedCFWSNearAt),u.now=r.components.domain,u.stack[0]=r.components.domain,g=0,m=0,y=!1;break;default:if(y)switch(u.prev){case r.components.contextComment:case r.components.contextFWS:d(r.diagnoses.errATEXTAfterCFWS);break;case r.components.contextQuotedString:d(r.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+u.prev)}else u.prev=u.now,_=x.codePointAt(0),(r.specials(_)||r.c0Controls(_)||r.c1Controls(_))&&d(r.diagnoses.errExpectingATEXT),p.local+=x,f.locals[g]+=x,m+=e.byteLength(x,"utf8")}break;case r.components.domain:switch(x){case"(":0===m?d(0===g?r.diagnoses.deprecatedCFWSNearAt:r.diagnoses.deprecatedComment):(y=!0,d(r.diagnoses.cfwsComment)),u.stack.push(u.now),u.now=r.components.contextComment;break;case".":var S=a.encode(f.domains[g]).length;0===m?d(0===g?r.diagnoses.errDotStart:r.diagnoses.errConsecutiveDots):b?d(r.diagnoses.errDomainHyphenEnd):S>63&&d(r.diagnoses.rfc5322LabelTooLong),y=!1,m=0,++g,f.domains[g]="",p.domain+=x;break;case"[":0===p.domain.length?(y=!0,m+=e.byteLength(x,"utf8"),u.stack.push(u.now),u.now=r.components.literal,p.domain+=x,f.domains[g]+=x,p.literal=""):d(r.diagnoses.errExpectingATEXT);break;case"\r":if(w===++C||"\n"!==t[C]){d(r.diagnoses.errCRNoLF);break}case" ":case"\t":0===m?d(0===g?r.diagnoses.deprecatedCFWSNearAt:r.diagnoses.deprecatedFWS):(d(r.diagnoses.cfwsFWS),y=!0),u.stack.push(u.now),u.now=r.components.contextFWS,h=x;break;default:if(y)switch(u.prev){case r.components.contextComment:case r.components.contextFWS:d(r.diagnoses.errATEXTAfterCFWS);break;case r.components.literal:d(r.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+u.prev)}_=x.codePointAt(0),b=!1,r.specials(_)||r.c0Controls(_)||r.c1Controls(_)?d(r.diagnoses.errExpectingATEXT):"-"===x?(0===m&&d(r.diagnoses.errDomainHyphenStart),b=!0):(_<48||_>122&&_<192||_>57&&_<65||_>90&&_<97)&&d(r.diagnoses.rfc5322Domain),p.domain+=x,f.domains[g]+=x,m+=e.byteLength(x,"utf8")}break;case r.components.literal:switch(x){case"]":if(c<r.categories.deprecated){var T=-1,k=p.literal,A=r.regex.ipV4.exec(k);if(A&&0!==(T=A.index)&&(k=k.slice(0,T)+"0:0"),0===T)d(r.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==k.slice(0,5).toLowerCase())d(r.diagnoses.rfc5322DomainLiteral);else{var P=k.slice(5),E=r.maxIPv6Groups,D=P.split(":");~(T=P.indexOf("::"))?T!==P.lastIndexOf("::")?d(r.diagnoses.rfc5322IPv62x2xColon):(0!==T&&T!==P.length-2||++E,D.length>E?d(r.diagnoses.rfc5322IPv6MaxGroups):D.length===E&&d(r.diagnoses.deprecatedIPv6)):D.length!==E&&d(r.diagnoses.rfc5322IPv6GroupCount),d(":"===P[0]&&":"!==P[1]?r.diagnoses.rfc5322IPv6ColonStart:":"===P[P.length-1]&&":"!==P[P.length-2]?r.diagnoses.rfc5322IPv6ColonEnd:r.checkIpV6(D)?r.diagnoses.rfc5321AddressLiteral:r.diagnoses.rfc5322IPv6BadCharacter)}}else d(r.diagnoses.rfc5322DomainLiteral);p.domain+=x,f.domains[g]+=x,m+=e.byteLength(x,"utf8"),u.prev=u.now,u.now=u.stack.pop();break;case"\\":d(r.diagnoses.rfc5322DomainLiteralOBSDText),u.stack.push(u.now),u.now=r.components.contextQuotedPair;break;case"\r":if(w===++C||"\n"!==t[C]){d(r.diagnoses.errCRNoLF);break}case" ":case"\t":d(r.diagnoses.cfwsFWS),u.stack.push(u.now),u.now=r.components.contextFWS,h=x;break;default:if(127!==(_=x.codePointAt(0))&&r.c1Controls(_)||0===_||"["===x){d(r.diagnoses.errExpectingDTEXT);break}(r.c0Controls(_)||127===_)&&d(r.diagnoses.rfc5322DomainLiteralOBSDText),p.literal+=x,p.domain+=x,f.domains[g]+=x,m+=e.byteLength(x,"utf8")}break;case r.components.contextQuotedString:switch(x){case"\\":u.stack.push(u.now),u.now=r.components.contextQuotedPair;break;case"\r":if(w===++C||"\n"!==t[C]){d(r.diagnoses.errCRNoLF);break}case"\t":p.local+=" ",f.locals[g]+=" ",m+=e.byteLength(x,"utf8"),d(r.diagnoses.cfwsFWS),u.stack.push(u.now),u.now=r.components.contextFWS,h=x;break;case'"':p.local+=x,f.locals[g]+=x,m+=e.byteLength(x,"utf8"),u.prev=u.now,u.now=u.stack.pop();break;default:127!==(_=x.codePointAt(0))&&r.c1Controls(_)||0===_||10===_?d(r.diagnoses.errExpectingQTEXT):(r.c0Controls(_)||127===_)&&d(r.diagnoses.deprecatedQTEXT),p.local+=x,f.locals[g]+=x,m+=e.byteLength(x,"utf8")}break;case r.components.contextQuotedPair:127!==(_=x.codePointAt(0))&&r.c1Controls(_)?d(r.diagnoses.errExpectingQPair):(_<31&&9!==_||127===_)&&d(r.diagnoses.deprecatedQP),u.prev=u.now,u.now=u.stack.pop();var O="\\"+x;switch(u.now){case r.components.contextComment:break;case r.components.contextQuotedString:p.local+=O,f.locals[g]+=O,m+=2;break;case r.components.literal:p.domain+=O,f.domains[g]+=O,m+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+u.now)}break;case r.components.contextComment:switch(x){case"(":u.stack.push(u.now),u.now=r.components.contextComment;break;case")":u.prev=u.now,u.now=u.stack.pop();break;case"\\":u.stack.push(u.now),u.now=r.components.contextQuotedPair;break;case"\r":if(w===++C||"\n"!==t[C]){d(r.diagnoses.errCRNoLF);break}case" ":case"\t":d(r.diagnoses.cfwsFWS),u.stack.push(u.now),u.now=r.components.contextFWS,h=x;break;default:if(0===(_=x.codePointAt(0))||10===_||127!==_&&r.c1Controls(_)){d(r.diagnoses.errExpectingCTEXT);break}(r.c0Controls(_)||127===_)&&d(r.diagnoses.deprecatedCTEXT)}break;case r.components.contextFWS:if("\r"===h){if("\r"===x){d(r.diagnoses.errFWSCRLFx2);break}++v>1?d(r.diagnoses.deprecatedFWS):v=1}switch(x){case"\r":w!==++C&&"\n"===t[C]||d(r.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===h&&d(r.diagnoses.errFWSCRLFEnd),v=0,u.prev=u.now,u.now=u.stack.pop(),--C}h=x;break;default:throw new Error("unknown context: "+u.now)}if(c>r.categories.rfc5322)break}if(c<r.categories.rfc5322){var M=a.encode(p.domain).length;if(u.now===r.components.contextQuotedString)d(r.diagnoses.errUnclosedQuotedString);else if(u.now===r.components.contextQuotedPair)d(r.diagnoses.errBackslashEnd);else if(u.now===r.components.contextComment)d(r.diagnoses.errUnclosedComment);else if(u.now===r.components.literal)d(r.diagnoses.errUnclosedDomainLiteral);else if("\r"===x)d(r.diagnoses.errFWSCRLFEnd);else if(0===p.domain.length)d(r.diagnoses.errNoDomain);else if(0===m)d(r.diagnoses.errDotEnd);else if(b)d(r.diagnoses.errDomainHyphenEnd);else if(M>255)d(r.diagnoses.rfc5322DomainTooLong);else if(e.byteLength(p.local,"utf8")+M+1>254)d(r.diagnoses.rfc5322TooLong);else if(m>63)d(r.diagnoses.rfc5322LabelTooLong);else if(n.minDomainAtoms&&f.domains.length<n.minDomainAtoms)d(r.diagnoses.errDomainTooShort);else if(n.tldWhitelist||n.tldBlacklist){var I=f.domains[g];r.validDomain(I,n)||d(r.diagnoses.errUnknownTLD)}}c<r.categories.dnsWarn&&f.domains[g].codePointAt(0)<=57&&d(r.diagnoses.rfc5321TLDNumeric),c<l&&(c=r.diagnoses.valid);var N=s?c:c<r.defaultThreshold;return o&&o(N),N},t.diagnoses=r.validate.diagnoses=function(){for(var e={},t=Object.keys(r.diagnoses),n=0;n<t.length;++n){var i=t[n];e[i]=r.diagnoses[i]}return e}(),t.normalize=r.normalize}).call(t,n(3).Buffer)},function(e,t,n){"use strict";t.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",format:"must be a string with one of the following formats {{format}}",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',less:'must be less than "{{limit}}"',greater:'must be greater than "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",or:"must contain at least one of {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}",port:"must be a valid port"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hexAlign:"hex decoded representation must be byte aligned",base64:"must be a valid base64 string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"}}},function(e,t,n){"use strict";var i=n(8);t.options=i.object({abortEarly:i.boolean(),convert:i.boolean(),allowUnknown:i.boolean(),skipFunctions:i.boolean(),stripUnknown:[i.boolean(),i.object({arrays:i.boolean(),objects:i.boolean()}).or("arrays","objects")],language:i.object(),presence:i.string().only("required","optional","forbidden","ignore"),raw:i.boolean(),context:i.object(),strip:i.boolean(),noDefaults:i.boolean(),escapeHtml:i.boolean()}).strict()},function(e,t,n){"use strict";function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(2),o=n(4),s=n(1),l=n(0),c={fastSplice:function(e,t){for(var n=t;n<e.length;)e[n++]=e[n];--e.length}};c.Array=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="array",n._inner.items=[],n._inner.ordereds=[],n._inner.inclusions=[],n._inner.exclusions=[],n._inner.requireds=[],n._flags.sparse=!1,n}return i(t,e),t.prototype._base=function(e,t,n){var i={value:e};"string"==typeof e&&n.convert&&c.safeParse(e,i);var a=Array.isArray(i.value),r=a;if(n.convert&&this._flags.single&&!a&&(i.value=[i.value],a=!0),!a)return i.errors=this.createError("array.base",null,t,n),i;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(r&&(i.value=i.value.slice(0)),i.errors=this._checkItems.call(this,i.value,r,t,n),i.errors&&r&&n.convert&&this._flags.single)){var o=i.errors;i.value=[i.value],i.errors=this._checkItems.call(this,i.value,r,t,n),i.errors&&(i.errors=o,i.value=i.value[0])}return i},t.prototype._checkItems=function(e,t,n,i){for(var a=[],r=void 0,o=this._inner.requireds.slice(),s=this._inner.ordereds.slice(),l=this._inner.inclusions.concat(o),d=e.length,u=0;u<d;++u){r=!1;var h=e[u],p=!1,f={key:t?u:n.key,path:t?n.path.concat(u):n.path,parent:n.parent,reference:n.reference},g=void 0;if(this._flags.sparse||void 0!==h){for(var m=0;m<this._inner.exclusions.length;++m)if(!(g=this._inner.exclusions[m]._validate(h,f,{})).errors){if(a.push(this.createError(t?"array.excludes":"array.excludesSingle",{pos:u,value:h},{key:n.key,path:f.path},i)),r=!0,i.abortEarly)return a;s.shift();break}if(!r){if(this._inner.ordereds.length){if(s.length>0){var v=s.shift();if((g=v._validate(h,f,i)).errors){if(a.push(this.createError("array.ordered",{pos:u,reason:g.errors,value:h},{key:n.key,path:f.path},i)),i.abortEarly)return a}else if(v._flags.strip)c.fastSplice(e,u),--u,--d;else{if(!this._flags.sparse&&void 0===g.value){if(a.push(this.createError("array.sparse",null,{key:n.key,path:f.path,pos:u},i)),i.abortEarly)return a;continue}e[u]=g.value}continue}if(!this._inner.items.length){if(a.push(this.createError("array.orderedLength",{pos:u,limit:this._inner.ordereds.length},{key:n.key,path:f.path},i)),i.abortEarly)return a;continue}}for(var _=[],b=o.length,y=0;y<b;++y)if(!(g=_[y]=o[y]._validate(h,f,i)).errors){if(e[u]=g.value,p=!0,c.fastSplice(o,y),--y,--b,!this._flags.sparse&&void 0===g.value&&(a.push(this.createError("array.sparse",null,{key:n.key,path:f.path,pos:u},i)),i.abortEarly))return a;break}if(!p){var w=!!i.stripUnknown&&(!0===i.stripUnknown||!!i.stripUnknown.arrays);b=l.length;for(var x=0;x<b;++x){var C=l[x],S=o.indexOf(C);if(-1!==S)g=_[S];else if(!(g=C._validate(h,f,i)).errors){C._flags.strip?(c.fastSplice(e,u),--u,--d):this._flags.sparse||void 0!==g.value?e[u]=g.value:(a.push(this.createError("array.sparse",null,{key:n.key,path:f.path,pos:u},i)),r=!0),p=!0;break}if(1===b){if(w){c.fastSplice(e,u),--u,--d,p=!0;break}if(a.push(this.createError(t?"array.includesOne":"array.includesOneSingle",{pos:u,reason:g.errors,value:h},{key:n.key,path:f.path},i)),r=!0,i.abortEarly)return a;break}}if(!r&&this._inner.inclusions.length&&!p){if(w){c.fastSplice(e,u),--u,--d;continue}if(a.push(this.createError(t?"array.includes":"array.includesSingle",{pos:u,value:h},{key:n.key,path:f.path},i)),i.abortEarly)return a}}}}else{if(a.push(this.createError("array.sparse",null,{key:n.key,path:f.path,pos:u},i)),i.abortEarly)return a;s.shift()}}return o.length&&this._fillMissedErrors.call(this,a,o,n,i),s.length&&this._fillOrderedErrors.call(this,a,s,n,i),a.length?a:null},t.prototype.describe=function(){var e=r.prototype.describe.call(this);if(this._inner.ordereds.length){e.orderedItems=[];for(var t=0;t<this._inner.ordereds.length;++t)e.orderedItems.push(this._inner.ordereds[t].describe())}if(this._inner.items.length){e.items=[];for(var n=0;n<this._inner.items.length;++n)e.items.push(this._inner.items[n].describe())}return e},t.prototype.items=function(){for(var e=this,t=this.clone(),n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return l.flatten(i).forEach((function(n,i){try{n=o.schema(e._currentJoi,n)}catch(e){throw e.hasOwnProperty("path")?e.path=i+"."+e.path:e.path=i,e.message=e.message+"("+e.path+")",e}t._inner.items.push(n),"required"===n._flags.presence?t._inner.requireds.push(n):"forbidden"===n._flags.presence?t._inner.exclusions.push(n.optional()):t._inner.inclusions.push(n)})),t},t.prototype.ordered=function(){for(var e=this,t=this.clone(),n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return l.flatten(i).forEach((function(n,i){try{n=o.schema(e._currentJoi,n)}catch(e){throw e.hasOwnProperty("path")?e.path=i+"."+e.path:e.path=i,e.message=e.message+"("+e.path+")",e}t._inner.ordereds.push(n)})),t},t.prototype.min=function(e){var t=s.isRef(e);return l.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("min",e,(function(n,i,a){var r=void 0;if(t){if(r=e(i.reference||i.parent,a),!(Number.isSafeInteger(r)&&r>=0))return this.createError("array.ref",{ref:e.key},i,a)}else r=e;return n.length>=r?n:this.createError("array.min",{limit:e,value:n},i,a)}))},t.prototype.max=function(e){var t=s.isRef(e);return l.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("max",e,(function(n,i,a){var r=void 0;if(t){if(r=e(i.reference||i.parent,a),!(Number.isSafeInteger(r)&&r>=0))return this.createError("array.ref",{ref:e.key},i,a)}else r=e;return n.length<=r?n:this.createError("array.max",{limit:e,value:n},i,a)}))},t.prototype.length=function(e){var t=s.isRef(e);return l.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("length",e,(function(n,i,a){var r=void 0;if(t){if(r=e(i.reference||i.parent,a),!(Number.isSafeInteger(r)&&r>=0))return this.createError("array.ref",{ref:e.key},i,a)}else r=e;return n.length===r?n:this.createError("array.length",{limit:e,value:n},i,a)}))},t.prototype.unique=function(e){l.assert(void 0===e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string");var t={};return"string"==typeof e?t.path=e:"function"==typeof e&&(t.comparator=e),this._test("unique",t,(function(e,n,i){for(var r={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},o=t.comparator||l.deepEqual,s=0;s<e.length;++s){var c=t.path?l.reach(e[s],t.path):e[s],d=t.comparator?r.custom:r[void 0===c?"undefined":a(c)];if(d)if(d instanceof Map){for(var u=d.entries(),h=void 0;!(h=u.next()).done;)if(o(h.value[0],c)){var p={key:n.key,path:n.path.concat(s),parent:n.parent,reference:n.reference},f={pos:s,value:e[s],dupePos:h.value[1],dupeValue:e[h.value[1]]};return t.path&&(f.path=t.path),this.createError("array.unique",f,p,i)}d.set(c,s)}else{if(void 0!==d[c]){var g={key:n.key,path:n.path.concat(s),parent:n.parent,reference:n.reference},m={pos:s,value:e[s],dupePos:d[c],dupeValue:e[d[c]]};return t.path&&(m.path=t.path),this.createError("array.unique",m,g,i)}d[c]=s}}return e}))},t.prototype.sparse=function(e){var t=void 0===e||!!e;if(this._flags.sparse===t)return this;var n=this.clone();return n._flags.sparse=t,n},t.prototype.single=function(e){var t=void 0===e||!!e;if(this._flags.single===t)return this;var n=this.clone();return n._flags.single=t,n},t.prototype._fillMissedErrors=function(e,t,n,i){for(var a=[],r=0,o=0;o<t.length;++o){var s=t[o]._getLabel();s?a.push(s):++r}a.length?r?e.push(this.createError("array.includesRequiredBoth",{knownMisses:a,unknownMisses:r},{key:n.key,path:n.path},i)):e.push(this.createError("array.includesRequiredKnowns",{knownMisses:a},{key:n.key,path:n.path},i)):e.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:r},{key:n.key,path:n.path},i))},t.prototype._fillOrderedErrors=function(e,t,n,i){for(var a=[],r=0;r<t.length;++r)"required"===l.reach(t[r],"_flags.presence")&&a.push(t[r]);a.length&&this._fillMissedErrors.call(this,e,a,n,i)},t}(r),c.safeParse=function(e,t){try{var n=JSON.parse(e);Array.isArray(n)&&(t.value=n)}catch(e){}},e.exports=new c.Array},function(e,t,n){"use strict";(function(t){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a=n(2),r=n(0),o={};o.Binary=function(e){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return t._type="binary",t}return i(n,e),n.prototype._base=function(e,n,i){var a={value:e};if("string"==typeof e&&i.convert)try{a.value=t.from(e,this._flags.encoding)}catch(e){}return a.errors=t.isBuffer(a.value)?null:this.createError("binary.base",null,n,i),a},n.prototype.encoding=function(e){if(r.assert(t.isEncoding(e),"Invalid encoding:",e),this._flags.encoding===e)return this;var n=this.clone();return n._flags.encoding=e,n},n.prototype.min=function(e){return r.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,(function(t,n,i){return t.length>=e?t:this.createError("binary.min",{limit:e,value:t},n,i)}))},n.prototype.max=function(e){return r.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,(function(t,n,i){return t.length<=e?t:this.createError("binary.max",{limit:e,value:t},n,i)}))},n.prototype.length=function(e){return r.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,(function(t,n,i){return t.length===e?t:this.createError("binary.length",{limit:e,value:t},n,i)}))},n}(a),e.exports=new o.Binary}).call(t,n(3).Buffer)},function(e,t,n){"use strict";function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a=n(2),r=n(0),o={Set:n(9)};o.Boolean=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="boolean",n._flags.insensitive=!0,n._inner.truthySet=new o.Set,n._inner.falsySet=new o.Set,n}return i(t,e),t.prototype._base=function(e,t,n){var i={value:e};if("string"==typeof e&&n.convert){var a=this._flags.insensitive?e.toLowerCase():e;i.value="true"===a||"false"!==a&&e}return"boolean"!=typeof i.value&&(i.value=!!this._inner.truthySet.has(e,null,null,this._flags.insensitive)||!this._inner.falsySet.has(e,null,null,this._flags.insensitive)&&e),i.errors="boolean"==typeof i.value?null:this.createError("boolean.base",null,t,n),i},t.prototype.truthy=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.clone();t=r.flatten(t);for(var a=0;a<t.length;++a){var o=t[a];r.assert(void 0!==o,"Cannot call truthy with undefined"),i._inner.truthySet.add(o)}return i},t.prototype.falsy=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.clone();t=r.flatten(t);for(var a=0;a<t.length;++a){var o=t[a];r.assert(void 0!==o,"Cannot call falsy with undefined"),i._inner.falsySet.add(o)}return i},t.prototype.insensitive=function(e){var t=void 0===e||!!e;if(this._flags.insensitive===t)return this;var n=this.clone();return n._flags.insensitive=t,n},t.prototype.describe=function(){var e=a.prototype.describe.call(this);return e.truthy=[!0].concat(this._inner.truthySet.values()),e.falsy=[!1].concat(this._inner.falsySet.values()),e},t}(a),e.exports=new o.Boolean},function(e,t,n){"use strict";function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a=n(0),r=n(13),o=n(1),s={};s.Func=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._flags.func=!0,n}return i(t,e),t.prototype.arity=function(e){return a.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("arity",e,(function(t,n,i){return t.length===e?t:this.createError("function.arity",{n:e},n,i)}))},t.prototype.minArity=function(e){return a.assert(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this._test("minArity",e,(function(t,n,i){return t.length>=e?t:this.createError("function.minArity",{n:e},n,i)}))},t.prototype.maxArity=function(e){return a.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("maxArity",e,(function(t,n,i){return t.length<=e?t:this.createError("function.maxArity",{n:e},n,i)}))},t.prototype.ref=function(){return this._test("ref",null,(function(e,t,n){return o.isRef(e)?e:this.createError("function.ref",null,t,n)}))},t.prototype.class=function(){return this._test("class",null,(function(e,t,n){return/^\s*class\s/.test(e.toString())?e:this.createError("function.class",null,t,n)}))},t}(r.constructor),e.exports=new s.Func},function(e,t,n){"use strict";function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a=n(2),r=n(0),o={};o.Lazy=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="lazy",n}return i(t,e),t.prototype._base=function(e,t,n){var i={value:e},r=this._flags.lazy;if(!r)return i.errors=this.createError("lazy.base",null,t,n),i;var o=r();return o instanceof a?o._validate(e,t,n):(i.errors=this.createError("lazy.schema",null,t,n),i)},t.prototype.set=function(e){r.assert("function"==typeof e,"You must provide a function as first argument");var t=this.clone();return t._flags.lazy=e,t},t}(a),e.exports=new o.Lazy},function(e,t,n){"use strict";function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a=n(2),r=n(1),o=n(0),s={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};s.Number=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="number",n._invalids.add(1/0),n._invalids.add(-1/0),n}return i(t,e),t.prototype._base=function(e,t,n){var i={errors:null,value:e};if("string"==typeof e&&n.convert){var a=parseFloat(e);i.value=isNaN(a)||!isFinite(e)?NaN:a}var r="number"==typeof i.value&&!isNaN(i.value);if(n.convert&&"precision"in this._flags&&r){var o=Math.pow(10,this._flags.precision);i.value=Math.round(i.value*o)/o}return i.errors=r?null:this.createError("number.base",null,t,n),i},t.prototype.multiple=function(e){var t=r.isRef(e);return t||(o.assert("number"==typeof e&&isFinite(e),"multiple must be a number"),o.assert(e>0,"multiple must be greater than 0")),this._test("multiple",e,(function(n,i,a){var r=t?e(i.reference||i.parent,a):e;return!t||"number"==typeof r&&isFinite(r)?n%r==0?n:this.createError("number.multiple",{multiple:e,value:n},i,a):this.createError("number.ref",{ref:e.key},i,a)}))},t.prototype.integer=function(){return this._test("integer",void 0,(function(e,t,n){return Number.isSafeInteger(e)?e:this.createError("number.integer",{value:e},t,n)}))},t.prototype.negative=function(){return this._test("negative",void 0,(function(e,t,n){return e<0?e:this.createError("number.negative",{value:e},t,n)}))},t.prototype.positive=function(){return this._test("positive",void 0,(function(e,t,n){return e>0?e:this.createError("number.positive",{value:e},t,n)}))},t.prototype.precision=function(e){o.assert(Number.isSafeInteger(e),"limit must be an integer"),o.assert(!("precision"in this._flags),"precision already set");var t=this._test("precision",e,(function(t,n,i){var a=t.toString().match(s.precisionRx);return Math.max((a[1]?a[1].length:0)-(a[2]?parseInt(a[2],10):0),0)<=e?t:this.createError("number.precision",{limit:e,value:t},n,i)}));return t._flags.precision=e,t},t.prototype.port=function(){return this._test("port",void 0,(function(e,t,n){return!Number.isSafeInteger(e)||e<0||e>65535?this.createError("number.port",{value:e},t,n):e}))},t}(a),s.compare=function(e,t){return function(n){var i=r.isRef(n),a="number"==typeof n&&!isNaN(n);return o.assert(a||i,"limit must be a number or reference"),this._test(e,n,(function(a,r,o){var s=void 0;if(i){if("number"!=typeof(s=n(r.reference||r.parent,o))||isNaN(s))return this.createError("number.ref",{ref:n.key},r,o)}else s=n;return t(a,s)?a:this.createError("number."+e,{limit:s,value:a},r,o)}))}},s.Number.prototype.min=s.compare("min",(function(e,t){return e>=t})),s.Number.prototype.max=s.compare("max",(function(e,t){return e<=t})),s.Number.prototype.greater=s.compare("greater",(function(e,t){return e>t})),s.Number.prototype.less=s.compare("less",(function(e,t){return e<t})),e.exports=new s.Number},function(e,t,n){"use strict";(function(t){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(15),o=n(0),s=void 0,l=n(2),c=n(1),d=n(12),u=n(30),h=n(29),p={uriRegex:u.createUriRegex(),ipRegex:h.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};p.String=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="string",n._invalids.add(""),n}return i(t,e),t.prototype._base=function(e,t,n){if("string"==typeof e&&n.convert){if(this._flags.normalize&&(e=e.normalize(this._flags.normalize)),this._flags.case&&(e="upper"===this._flags.case?e.toLocaleUpperCase():e.toLocaleLowerCase()),this._flags.trim&&(e=e.trim()),this._inner.replacements)for(var i=0;i<this._inner.replacements.length;++i){var a=this._inner.replacements[i];e=e.replace(a.pattern,a.replacement)}if(this._flags.truncate)for(var r=0;r<this._tests.length;++r){var o=this._tests[r];if("max"===o.name){e=e.slice(0,o.arg);break}}this._flags.byteAligned&&e.length%2!=0&&(e="0"+e)}return{value:e,errors:"string"==typeof e?null:this.createError("string.base",{value:e},t,n)}},t.prototype.insensitive=function(){if(this._flags.insensitive)return this;var e=this.clone();return e._flags.insensitive=!0,e},t.prototype.creditCard=function(){return this._test("creditCard",void 0,(function(e,t,n){for(var i=e.length,a=0,r=1;i--;){var o=e.charAt(i)*r;a+=o-9*(o>9),r^=3}return a%10==0&&a>0?e:this.createError("string.creditCard",{value:e},t,n)}))},t.prototype.regex=function(e,t){o.assert(e instanceof RegExp,"pattern must be a RegExp");var n={pattern:new RegExp(e.source,e.ignoreCase?"i":void 0)};"string"==typeof t?n.name=t:"object"===(void 0===t?"undefined":a(t))&&(n.invert=!!t.invert,t.name&&(n.name=t.name));var i=["string.regex",n.invert?".invert":"",n.name?".name":".base"].join("");return this._test("regex",n,(function(e,t,a){return n.pattern.test(e)^n.invert?e:this.createError(i,{name:n.name,pattern:n.pattern,value:e},t,a)}))},t.prototype.alphanum=function(){return this._test("alphanum",void 0,(function(e,t,n){return/^[a-zA-Z0-9]+$/.test(e)?e:this.createError("string.alphanum",{value:e},t,n)}))},t.prototype.token=function(){return this._test("token",void 0,(function(e,t,n){return/^\w+$/.test(e)?e:this.createError("string.token",{value:e},t,n)}))},t.prototype.email=function(e){return e&&(o.assert("object"===(void 0===e?"undefined":a(e)),"email options must be an object"),o.assert(void 0===e.checkDNS,"checkDNS option is not supported"),o.assert(void 0===e.tldWhitelist||"object"===a(e.tldWhitelist),"tldWhitelist must be an array or object"),o.assert(void 0===e.minDomainAtoms||Number.isSafeInteger(e.minDomainAtoms)&&e.minDomainAtoms>0,"minDomainAtoms must be a positive integer"),o.assert(void 0===e.errorLevel||"boolean"==typeof e.errorLevel||Number.isSafeInteger(e.errorLevel)&&e.errorLevel>=0,"errorLevel must be a non-negative integer or boolean")),this._test("email",e,(function(t,i,a){s=s||n(19);try{var r=s.validate(t,e);if(!0===r||0===r)return t}catch(e){}return this.createError("string.email",{value:t},i,a)}))},t.prototype.ip=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p.ipRegex;o.assert("object"===(void 0===e?"undefined":a(e)),"options must be an object"),e.cidr?(o.assert("string"==typeof e.cidr,"cidr must be a string"),e.cidr=e.cidr.toLowerCase(),o.assert(o.contain(p.cidrPresences,e.cidr),"cidr must be one of "+p.cidrPresences.join(", ")),e.version||"optional"===e.cidr||(t=h.createIpRegex(["ipv4","ipv6","ipvfuture"],e.cidr))):e.cidr="optional";var n=void 0;if(e.version){Array.isArray(e.version)||(e.version=[e.version]),o.assert(e.version.length>=1,"version must have at least 1 version specified"),n=[];for(var i=0;i<e.version.length;++i){var r=e.version[i];o.assert("string"==typeof r,"version at position "+i+" must be a string"),r=r.toLowerCase(),o.assert(h.versions[r],"version at position "+i+" must be one of "+Object.keys(h.versions).join(", ")),n.push(r)}n=o.unique(n),t=h.createIpRegex(n,e.cidr)}return this._test("ip",e,(function(i,a,r){return t.test(i)?i:n?this.createError("string.ipVersion",{value:i,cidr:e.cidr,version:n},a,r):this.createError("string.ip",{value:i,cidr:e.cidr},a,r)}))},t.prototype.uri=function(e){var t="",n=!1,i=!1,r=p.uriRegex;if(e){if(o.assert("object"===(void 0===e?"undefined":a(e)),"options must be an object"),e.scheme){o.assert(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(e.scheme)||(e.scheme=[e.scheme]),o.assert(e.scheme.length>=1,"scheme must have at least 1 scheme specified");for(var s=0;s<e.scheme.length;++s){var l=e.scheme[s];o.assert(l instanceof RegExp||"string"==typeof l,"scheme at position "+s+" must be a RegExp or String"),t+=t?"|":"",l instanceof RegExp?t+=l.source:(o.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(l),"scheme at position "+s+" must be a valid scheme"),t+=o.escapeRegex(l))}}e.allowRelative&&(n=!0),e.relativeOnly&&(i=!0)}return(t||n||i)&&(r=u.createUriRegex(t,n,i)),this._test("uri",e,(function(e,n,a){return r.test(e)?e:i?this.createError("string.uriRelativeOnly",{value:e},n,a):t?this.createError("string.uriCustomScheme",{scheme:t,value:e},n,a):this.createError("string.uri",{value:e},n,a)}))},t.prototype.isoDate=function(){return this._test("isoDate",void 0,(function(e,t,n){if(d._isIsoDate(e)){if(!n.convert)return e;var i=new Date(e);if(!isNaN(i.getTime()))return i.toISOString()}return this.createError("string.isoDate",{value:e},t,n)}))},t.prototype.guid=function(e){var t="";if(e&&e.version){Array.isArray(e.version)||(e.version=[e.version]),o.assert(e.version.length>=1,"version must have at least 1 valid version specified");for(var n=new Set,i=0;i<e.version.length;++i){var a=e.version[i];o.assert("string"==typeof a,"version at position "+i+" must be a string"),a=a.toLowerCase();var r=p.guidVersions[a];o.assert(r,"version at position "+i+" must be one of "+Object.keys(p.guidVersions).join(", ")),o.assert(!n.has(r),"version at position "+i+" must not be a duplicate."),t+=r,n.add(r)}}var s=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?["+(t||"0-9A-F")+"][0-9A-F]{3}\\2?["+(t?"89AB":"0-9A-F")+"][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$","i");return this._test("guid",e,(function(e,t,n){var i=s.exec(e);return i?p.guidBrackets[i[1]]!==i[i.length-1]?this.createError("string.guid",{value:e},t,n):e:this.createError("string.guid",{value:e},t,n)}))},t.prototype.hex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.assert("object"===(void 0===e?"undefined":a(e)),"hex options must be an object"),o.assert(void 0===e.byteAligned||"boolean"==typeof e.byteAligned,"byteAligned must be boolean");var t=!0===e.byteAligned,n=/^[a-f0-9]+$/i,i=this._test("hex",n,(function(e,i,a){return n.test(e)?t&&e.length%2!=0?this.createError("string.hexAlign",{value:e},i,a):e:this.createError("string.hex",{value:e},i,a)}));return t&&(i._flags.byteAligned=!0),i},t.prototype.base64=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.assert("object"===(void 0===e?"undefined":a(e)),"base64 options must be an object"),o.assert(void 0===e.paddingRequired||"boolean"==typeof e.paddingRequired,"paddingRequired must be boolean");var t=!1===e.paddingRequired?e.paddingRequired:e.paddingRequired||!0,n=t?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",n,(function(e,t,i){return n.test(e)?e:this.createError("string.base64",{value:e},t,i)}))},t.prototype.hostname=function(){var e=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,(function(t,n,i){return t.length<=255&&e.test(t)||r.isIPv6(t)?t:this.createError("string.hostname",{value:t},n,i)}))},t.prototype.normalize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";o.assert(o.contain(p.normalizationForms,e),"normalization form must be one of "+p.normalizationForms.join(", "));var t=this._test("normalize",e,(function(t,n,i){return i.convert||t===t.normalize(e)?t:this.createError("string.normalize",{value:t,form:e},n,i)}));return t._flags.normalize=e,t},t.prototype.lowercase=function(){var e=this._test("lowercase",void 0,(function(e,t,n){return n.convert||e===e.toLocaleLowerCase()?e:this.createError("string.lowercase",{value:e},t,n)}));return e._flags.case="lower",e},t.prototype.uppercase=function(){var e=this._test("uppercase",void 0,(function(e,t,n){return n.convert||e===e.toLocaleUpperCase()?e:this.createError("string.uppercase",{value:e},t,n)}));return e._flags.case="upper",e},t.prototype.trim=function(){var e=this._test("trim",void 0,(function(e,t,n){return n.convert||e===e.trim()?e:this.createError("string.trim",{value:e},t,n)}));return e._flags.trim=!0,e},t.prototype.replace=function(e,t){"string"==typeof e&&(e=new RegExp(o.escapeRegex(e),"g")),o.assert(e instanceof RegExp,"pattern must be a RegExp"),o.assert("string"==typeof t,"replacement must be a String");var n=this.clone();return n._inner.replacements||(n._inner.replacements=[]),n._inner.replacements.push({pattern:e,replacement:t}),n},t.prototype.truncate=function(e){var t=void 0===e||!!e;if(this._flags.truncate===t)return this;var n=this.clone();return n._flags.truncate=t,n},t}(l),p.compare=function(e,n){return function(i,a){var r=c.isRef(i);return o.assert(Number.isSafeInteger(i)&&i>=0||r,"limit must be a positive integer or reference"),o.assert(!a||t.isEncoding(a),"Invalid encoding:",a),this._test(e,i,(function(t,o,s){var l=void 0;if(r){if(l=i(o.reference||o.parent,s),!Number.isSafeInteger(l))return this.createError("string.ref",{ref:i.key},o,s)}else l=i;return n(t,l,a)?t:this.createError("string."+e,{limit:l,value:t,encoding:a},o,s)}))}},p.String.prototype.min=p.compare("min",(function(e,n,i){return(i?t.byteLength(e,i):e.length)>=n})),p.String.prototype.max=p.compare("max",(function(e,n,i){return(i?t.byteLength(e,i):e.length)<=n})),p.String.prototype.length=p.compare("length",(function(e,n,i){return(i?t.byteLength(e,i):e.length)===n})),p.String.prototype.uuid=p.String.prototype.guid,e.exports=new p.String}).call(t,n(3).Buffer)},function(e,t,n){"use strict";var i=n(14),a={Ip:{cidrs:{ipv4:{required:"\\/(?:"+i.ipv4Cidr+")",optional:"(?:\\/(?:"+i.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+i.ipv6Cidr,optional:"(?:\\/"+i.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+i.ipv6Cidr,optional:"(?:\\/"+i.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:i.IPv4address,ipv6:i.IPv6address,ipvfuture:i.IPvFuture}}};a.Ip.createIpRegex=function(e,t){for(var n=void 0,i=0;i<e.length;++i){var r=e[i];n?n+="|"+a.Ip.versions[r]+a.Ip.cidrs[r][t]:n="^(?:"+a.Ip.versions[r]+a.Ip.cidrs[r][t]}return new RegExp(n+")$")},e.exports=a.Ip},function(e,t,n){"use strict";var i=n(14),a={Uri:{createUriRegex:function(e,t,n){var a=i.scheme,r=void 0;if(n)r="(?:"+i.relativeRef+")";else{e&&(a="(?:"+e+")");var o="(?:"+a+":"+i.hierPart+")";r=t?"(?:"+o+"|"+i.relativeRef+")":o}return new RegExp("^"+r+"(?:\\?"+i.query+")?(?:#"+i.fragment+")?$")}}};e.exports=a.Uri},function(e,t,n){"use strict";var i=n(0),a={};e.exports=a.Topo=function(){this._items=[],this.nodes=[]},a.Topo.prototype.add=function(e,t){var n=this,a=[].concat((t=t||{}).before||[]),r=[].concat(t.after||[]),o=t.group||"?",s=t.sort||0;i.assert(-1===a.indexOf(o),"Item cannot come before itself:",o),i.assert(-1===a.indexOf("?"),"Item cannot come before unassociated items"),i.assert(-1===r.indexOf(o),"Item cannot come after itself:",o),i.assert(-1===r.indexOf("?"),"Item cannot come after unassociated items"),[].concat(e).forEach((function(e,t){var i={seq:n._items.length,sort:s,before:a,after:r,group:o,node:e};n._items.push(i)}));var l=this._sort();return i.assert(!l,"item","?"!==o?"added into group "+o:"","created a dependencies error"),this.nodes},a.Topo.prototype.merge=function(e){e=[].concat(e);for(var t=0;t<e.length;++t){var n=e[t];if(n)for(var r=0;r<n._items.length;++r){var o=i.shallow(n._items[r]);this._items.push(o)}}this._items.sort(a.mergeSort);for(var s=0;s<this._items.length;++s)this._items[s].seq=s;var l=this._sort();return i.assert(!l,"merge created a dependencies error"),this.nodes},a.mergeSort=function(e,t){return e.sort===t.sort?0:e.sort<t.sort?-1:1},a.Topo.prototype._sort=function(){for(var e={},t=Object.create(null),n=Object.create(null),i=0;i<this._items.length;++i){var a=this._items[i],r=a.seq,o=a.group;n[o]=n[o]||[],n[o].push(r),e[r]=a.before;for(var s=a.after,l=0;l<s.length;++l)t[s[l]]=(t[s[l]]||[]).concat(r)}for(var c=Object.keys(e),d=0;d<c.length;++d){for(var u=c[d],h=[],p=Object.keys(e[u]),f=0;f<p.length;++f){var g=e[u][p[f]];n[g]=n[g]||[];for(var m=0;m<n[g].length;++m)h.push(n[g][m])}e[u]=h}for(var v=Object.keys(t),_=0;_<v.length;++_){var b=v[_];if(n[b])for(var y=0;y<n[b].length;++y){var w=n[b][y];e[w]=e[w].concat(t[b])}}var x=void 0,C={};c=Object.keys(e);for(var S=0;S<c.length;++S){var T=c[S];x=e[T];for(var k=0;k<x.length;++k)C[x[k]]=(C[x[k]]||[]).concat(T)}for(var A={},P=[],E=0;E<this._items.length;++E){var D=E;if(C[E]){D=null;for(var O=0;O<this._items.length;++O)if(!0!==A[O]){C[O]||(C[O]=[]);for(var M=C[O].length,I=0,N=0;N<M;++N)A[C[O][N]]&&++I;if(I===M){D=O;break}}}null!==D&&(A[D]=!0,P.push(D))}if(P.length!==this._items.length)return new Error("Invalid dependencies");for(var L={},R=0;R<this._items.length;++R){var j=this._items[R];L[j.seq]=j}var $=[];this._items=P.map((function(e){var t=L[e];return $.push(t.node),t})),this.nodes=$}},function(e,t,n){"use strict";var i=n(8);e.exports=i},function(e,t,n){"use strict";function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function a(e){return o[e>>18&63]+o[e>>12&63]+o[e>>6&63]+o[63&e]}function r(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],r.push(a(i));return r.join("")}t.byteLength=function(e){return 3*e.length/4-i(e)},t.toByteArray=function(e){var t,n,a,r,o,c=e.length;r=i(e),o=new l(3*c/4-r),n=r>0?c-4:c;var d=0;for(t=0;t<n;t+=4)a=s[e.charCodeAt(t)]<<18|s[e.charCodeAt(t+1)]<<12|s[e.charCodeAt(t+2)]<<6|s[e.charCodeAt(t+3)],o[d++]=a>>16&255,o[d++]=a>>8&255,o[d++]=255&a;return 2===r?(a=s[e.charCodeAt(t)]<<2|s[e.charCodeAt(t+1)]>>4,o[d++]=255&a):1===r&&(a=s[e.charCodeAt(t)]<<10|s[e.charCodeAt(t+1)]<<4|s[e.charCodeAt(t+2)]>>2,o[d++]=a>>8&255,o[d++]=255&a),o},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a="",s=[],l=0,c=n-i;l<c;l+=16383)s.push(r(e,l,l+16383>c?c:l+16383));return 1===i?(t=e[n-1],a+=o[t>>2],a+=o[t<<4&63],a+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],a+=o[t>>10],a+=o[t>>4&63],a+=o[t<<2&63],a+="="),s.push(a),s.join("")};for(var o=[],s=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,u=c.length;d<u;++d)o[d]=c[d],s[c.charCodeAt(d)]=d;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,a){var r,o,s=8*a-i-1,l=(1<<s)-1,c=l>>1,d=-7,u=n?a-1:0,h=n?-1:1,p=e[t+u];for(u+=h,r=p&(1<<-d)-1,p>>=-d,d+=s;d>0;r=256*r+e[t+u],u+=h,d-=8);for(o=r&(1<<-d)-1,r>>=-d,d+=i;d>0;o=256*o+e[t+u],u+=h,d-=8);if(0===r)r=1-c;else{if(r===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),r-=c}return(p?-1:1)*o*Math.pow(2,r-i)},t.write=function(e,t,n,i,a,r){var o,s,l,c=8*r-a-1,d=(1<<c)-1,u=d>>1,h=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,f=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=d?(s=0,o=d):o+u>=1?(s=(t*l-1)*Math.pow(2,a),o+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,a),o=0));a>=8;e[n+p]=255&s,p+=f,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;e[n+p]=255&o,p+=f,o/=256,c-=8);e[n+p-f]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports={_args:[["joi@13.4.0","/Users/hkernbach/Git/joi-browser"]],_development:!0,_from:"joi@13.4.0",_id:"joi@13.4.0",_inBundle:!1,_integrity:"sha512-JuK4GjEu6j7zr9FuVe2MAseZ6si/8/HaY0qMAejfDFHp7jcH4OKE937mIHM5VT4xDS0q7lpQbszbxKV9rm0yUg==",_location:"/joi",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"joi@13.4.0",name:"joi",escapedName:"joi",rawSpec:"13.4.0",saveSpec:null,fetchSpec:"13.4.0"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/joi/-/joi-13.4.0.tgz",_spec:"13.4.0",_where:"/Users/hkernbach/Git/joi-browser",bugs:{url:"https://github.com/hapijs/joi/issues"},dependencies:{hoek:"5.x.x",isemail:"3.x.x",topo:"3.x.x"},description:"Object schema validation",devDependencies:{code:"5.x.x",hapitoc:"1.x.x",lab:"15.x.x"},engines:{node:">=8.9.0"},homepage:"https://github.com/hapijs/joi",keywords:["hapi","schema","validation"],license:"BSD-3-Clause",main:"lib/index.js",name:"joi",repository:{type:"git",url:"git://github.com/hapijs/joi.git"},scripts:{test:"lab -t 100 -a code -L","test-cov-html":"lab -r html -o coverage.html -a code","test-debug":"lab -a code",toc:"hapitoc",version:"npm run toc && git add API.md README.md"},version:"13.4.0"}},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var a=e[i];"."===a?e.splice(i,1):".."===a?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(e){return a.exec(e).slice(1)};t.resolve=function(){for(var t="",a=!1,r=arguments.length-1;r>=-1&&!a;r--){var o=r>=0?arguments[r]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,a="/"===o.charAt(0))}return(a?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!a).join("/"))||"."},t.normalize=function(e){var a=t.isAbsolute(e),r="/"===o(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&r&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var a=i(e.split("/")),r=i(n.split("/")),o=Math.min(a.length,r.length),s=o,l=0;l<o;l++)if(a[l]!==r[l]){s=l;break}var c=[];for(l=s;l<a.length;l++)c.push("..");return(c=c.concat(r.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=r(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},t.basename=function(e,t){var n=r(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return r(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(7))},function(e,t,n){(function(e,i){var a;!function(i){function r(e){throw new RangeError(P[e])}function o(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function s(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+o((e=e.replace(A,".")).split("."),t).join(".")}function l(e){for(var t,n,i=[],a=0,r=e.length;a<r;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<r?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function c(e){return o(e,(function(e){var t="";return e>65535&&(t+=O((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+O(e)})).join("")}function d(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:v}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function h(e,t,n){var i=0;for(e=n?D(e/w):e>>1,e+=D(e/t);e>E*b>>1;i+=v)e=D(e/E);return D(i+(E+1)*e/(e+y))}function p(e){var t,n,i,a,o,s,l,u,p,f,g=[],y=e.length,w=0,T=C,k=x;for((n=e.lastIndexOf(S))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&r("not-basic"),g.push(e.charCodeAt(i));for(a=n>0?n+1:0;a<y;){for(o=w,s=1,l=v;a>=y&&r("invalid-input"),((u=d(e.charCodeAt(a++)))>=v||u>D((m-w)/s))&&r("overflow"),w+=u*s,!(u<(p=l<=k?_:l>=k+b?b:l-k));l+=v)s>D(m/(f=v-p))&&r("overflow"),s*=f;k=h(w-o,t=g.length+1,0==o),D(w/t)>m-T&&r("overflow"),T+=D(w/t),w%=t,g.splice(w++,0,T)}return c(g)}function f(e){var t,n,i,a,o,s,c,d,p,f,g,y,w,T,k,A=[];for(y=(e=l(e)).length,t=C,n=0,o=x,s=0;s<y;++s)(g=e[s])<128&&A.push(O(g));for(i=a=A.length,a&&A.push(S);i<y;){for(c=m,s=0;s<y;++s)(g=e[s])>=t&&g<c&&(c=g);for(c-t>D((m-n)/(w=i+1))&&r("overflow"),n+=(c-t)*w,t=c,s=0;s<y;++s)if((g=e[s])<t&&++n>m&&r("overflow"),g==t){for(d=n,p=v;!(d<(f=p<=o?_:p>=o+b?b:p-o));p+=v)k=d-f,T=v-f,A.push(O(u(f+k%T,0))),d=D(k/T);A.push(O(u(d,0))),o=h(n,w,i==a),n=0,++i}++n,++t}return A.join("")}"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var g,m=2147483647,v=36,_=1,b=26,y=38,w=700,x=72,C=128,S="-",T=/^xn--/,k=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=v-_,D=Math.floor,O=String.fromCharCode;g={version:"1.4.1",ucs2:{decode:l,encode:c},decode:p,encode:f,toASCII:function(e){return s(e,(function(e){return k.test(e)?"xn--"+f(e):e}))},toUnicode:function(e){return s(e,(function(e){return T.test(e)?p(e.slice(4).toLowerCase()):e}))}},void 0!==(a=function(){return g}.call(t,n,t,e))&&(e.exports=a)}()}).call(t,n(41)(e),n(5))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}])},function(e,t){var n;"undefined"==typeof(n=jQuery).fn.each2&&n.extend(n.fn,{each2:function(e){for(var t=n([0]),i=-1,a=this.length;++i<a&&(t.context=t[0]=this[i])&&!1!==e.call(t[0],i,t););return this}}),function(e,t){"use strict";function n(e){var t,n,i,a;if(!e||e.length<1)return e;for(t="",n=0,i=e.length;i>n;n++)a=e.charAt(n),t+=I[a]||a;return t}function i(e,t){for(var n=0,i=t.length;i>n;n+=1)if(a(e,t[n]))return n;return-1}function a(e,n){return e===n||e!==t&&n!==t&&(null!==e&&null!==n&&(e.constructor===String?e+""==n+"":n.constructor===String&&n+""==e+""))}function r(t,n){var i,a,r;if(null===t||t.length<1)return[];for(a=0,r=(i=t.split(n)).length;r>a;a+=1)i[a]=e.trim(i[a]);return i}function o(e){return e.outerWidth(!1)-e.width()}function s(n){var i="keyup-change-value";n.on("keydown",(function(){e.data(n,i)===t&&e.data(n,i,n.val())})),n.on("keyup",(function(){var a=e.data(n,i);a!==t&&n.val()!==a&&(e.removeData(n,i),n.trigger("keyup-change"))}))}function l(n){n.on("mousemove",(function(n){var i=D;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)}))}function c(e,n,i){var a;return i=i||t,function(){var t=arguments;window.clearTimeout(a),a=window.setTimeout((function(){n.apply(i,t)}),e)}}function d(t){var n=0,i=0;if("selectionStart"in(t=e(t)[0]))n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var a=document.selection.createRange();i=document.selection.createRange().text.length,a.moveStart("character",-t.value.length),n=a.text.length-i}return{offset:n,length:i}}function u(e){e.preventDefault(),e.stopPropagation()}function h(t){if(!A){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);(A=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),e("body").append(A)}return A.text(t.val()),A.width()}function p(t,n,i){var a,r,o=[];(a=t.attr("class"))&&e((a=""+a).split(" ")).each2((function(){0===this.indexOf("select2-")&&o.push(this)})),(a=n.attr("class"))&&e((a=""+a).split(" ")).each2((function(){0!==this.indexOf("select2-")&&((r=i(this))&&o.push(r))})),t.attr("class",o.join(" "))}function f(e,t,i,a){var r=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),o=t.length;return 0>r?void i.push(a(e)):(i.push(a(e.substring(0,r))),i.push("<span class='select2-match'>"),i.push(a(e.substring(r,r+o))),i.push("</span>"),void i.push(a(e.substring(r+o,e.length))))}function g(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,(function(e){return t[e]}))}function m(n){var i,a=null,r=n.quietMillis||100,o=n.url,s=this;return function(l){window.clearTimeout(i),i=window.setTimeout((function(){var i=n.data,r=o,c=n.transport||e.fn.select2.ajaxDefaults.transport,d={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},u=e.extend({},e.fn.select2.ajaxDefaults.params,d);i=i?i.call(s,l.term,l.page,l.context):null,r="function"==typeof r?r.call(s,l.term,l.page,l.context):r,a&&a.abort(),n.params&&(e.isFunction(n.params)?e.extend(u,n.params.call(s)):e.extend(u,n.params)),e.extend(u,{url:r,dataType:n.dataType,data:i,success:function(e){var t=n.results(e,l.page);l.callback(t)}}),a=c.call(s,u)}),r)}}function v(t){var n,i,a=t,r=function(e){return""+e.text};e.isArray(a)&&(a={results:i=a}),!1===e.isFunction(a)&&(i=a,a=function(){return i});var o=a();return o.text&&(r=o.text,e.isFunction(r)||(n=o.text,r=function(e){return e[n]})),function(t){var n,i=t.term,o={results:[]};return""===i?void t.callback(a()):(n=function(a,o){var s,l;if((a=a[0]).children){for(l in s={},a)a.hasOwnProperty(l)&&(s[l]=a[l]);s.children=[],e(a.children).each2((function(e,t){n(t,s.children)})),(s.children.length||t.matcher(i,r(s),a))&&o.push(s)}else t.matcher(i,r(a),a)&&o.push(a)},e(a().results).each2((function(e,t){n(t,o.results)})),void t.callback(o))}}function _(n){var i=e.isFunction(n);return function(a){var r=a.term,o={results:[]};e(i?n():n).each((function(){var e=this.text!==t,n=e?this.text:this;(""===r||a.matcher(r,n))&&o.results.push(e?this:{id:this,text:this})})),a.callback(o)}}function b(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(n+" must be a function or a falsy value")}function y(t){return e.isFunction(t)?t():t}function w(t){var n=0;return e.each(t,(function(e,t){t.children?n+=w(t.children):n++})),n}function x(t,n){var i=function(){};return(i.prototype=new t).constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var C,S,T,k,A,P,E,D={x:0,y:0},O={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case O.LEFT:case O.RIGHT:case O.UP:case O.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case O.SHIFT:case O.CTRL:case O.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&123>=e}},M="<div class='select2-measure-scrollbar'></div>",I={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};P=e(document),k=function(){var e=1;return function(){return e++}}(),P.on("mousemove",(function(e){D.x=e.pageX,D.y=e.pageY})),C=x(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var a,r,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+k()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=function(e){var t,n=!1;return function(){return!1===n&&(t=e(),n=!0),t}}((function(){return n.element.closest("body")})),p(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(y(n.containerCss)),this.container.addClass(y(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",u),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),p(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(y(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",u),this.results=a=this.container.find(o),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",u),l(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",o,this.bind(this.highlightUnderEvent)),function(e,t){var n=c(e,(function(e){t.trigger("scroll-debounced",e)}));t.on("scroll",(function(e){i(e.target,t.get())>=0&&n(e)}))}(80,this.results),this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",(function(e){e.stopPropagation()})),e(this.dropdown).on("change",".select2-input",(function(e){e.stopPropagation()})),e.fn.mousewheel&&a.mousewheel((function(e,t,n,i){var r=a.scrollTop();i>0&&0>=r-i?(a.scrollTop(0),u(e)):0>i&&a.get(0).scrollHeight-a.scrollTop()+i<=a.height()&&(a.scrollTop(a.get(0).scrollHeight-a.height()),u(e))})),s(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",(function(){r.addClass("select2-focused")})),r.on("blur",(function(){r.removeClass("select2-focused")})),this.dropdown.on("mouseup",o,this.bind((function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))}))),this.dropdown.on("click mouseup mousedown",(function(e){e.stopPropagation()})),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var d=n.element.prop("disabled");d===t&&(d=!1),this.enable(!d);var h=n.element.prop("readonly");h===t&&(h=!1),this.readonly(h),E=E||function(){var t=e(M);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==t&&(n.container.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:a(e.attr("locked"),"locked")||a(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var i,o,s,l,c=this;if("select"===(i=n.element).get(0).tagName.toLowerCase()&&(this.select=o=n.element),o&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],(function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")})),"function"!=typeof(n=e.extend({},{populateResults:function(i,a,r){var o,s=this.opts.id;(o=function(i,a,l){var d,u,h,p,f,g,m,v,_,b;for(d=0,u=(i=n.sortResults(i,a,r)).length;u>d;d+=1)p=!(f=!0===(h=i[d]).disabled)&&s(h)!==t,g=h.children&&h.children.length>0,(m=e("<li></li>")).addClass("select2-results-dept-"+l),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(c.opts.formatResultCssClass(h)),(v=e(document.createElement("div"))).addClass("select2-result-label"),(b=n.formatResult(h,v,r,c.opts.escapeMarkup))!==t&&v.html(b),m.append(v),g&&((_=e("<ul></ul>")).addClass("select2-result-sub"),o(h.children,_,l+1),m.append(_)),m.data("select2-data",h),a.append(m)})(a,i,0)}},e.fn.select2.defaults,n)).id&&(s=n.id,n.id=function(e){return e[s]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(o?(n.query=this.bind((function(e){var n,a,r,o={results:[],more:!1},s=e.term;r=function(t,n){var i;t.is("option")?e.matcher(s,t.text(),t)&&n.push(c.optionToData(t)):t.is("optgroup")&&(i=c.optionToData(t),t.children().each2((function(e,t){r(t,i.children)})),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&((a=this.getPlaceholderOption())&&(n=n.not(a))),n.each2((function(e,t){r(t,o.results)})),e.callback(o)})),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?((l=n.element.data("ajax-url"))&&l.length>0&&(n.ajax.url=l),n.query=m.call(n.element,n.ajax)):"data"in n?n.query=v(n.data):"tags"in n&&(n.query=_(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,i){var o=[];e(r(t.val(),n.separator)).each((function(){var t={id:this,text:this},i=n.tags;e.isFunction(i)&&(i=i()),e(i).each((function(){return a(this.id,t.id)?(t=this,!1):void 0})),o.push(t)})),i(o)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,n,i=this.opts.element;i.on("change.select2",this.bind((function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))),e=this.bind((function(){var e=i.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=i.prop("readonly");n===t&&(n=!1),this.readonly(n),p(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(y(this.opts.containerCssClass)),p(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(y(this.opts.dropdownCssClass))})),i.on("propertychange.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),(n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(this.mutationCallback),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){return e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,i,a,r,o=this.dropdown,s=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),d=o.outerHeight(!1),u=e(window),h=u.width(),p=u.height(),f=u.scrollLeft()+h,g=u.scrollTop()+p,m=s.top+l,v=s.left,_=g>=m+d,b=s.top-d>=this.body().scrollTop(),w=o.outerWidth(!1),x=f>=v+w;o.hasClass("select2-drop-above")?(n=!0,!b&&_&&(i=!0,n=!1)):(n=!1,!_&&b&&(i=!0,n=!0)),i&&(o.hide(),s=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),d=o.outerHeight(!1),f=u.scrollLeft()+h,g=u.scrollTop()+p,m=s.top+l,x=f>=(v=s.left)+(w=o.outerWidth(!1)),o.show()),this.opts.dropdownAutoWidth?(r=e(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),(w=o.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:E.width))>c?c=w:w=c,x=f>=v+w):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(m-=(t=this.body().offset()).top,v-=t.left),x||(v=s.left+c-w),a={left:v,width:c},n?(a.bottom=p-s.top,a.top="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(a.top=m,a.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),a=e.extend(a,y(this.opts.dropdownCss)),o.css(a)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){var t,n=this.containerId,i="scroll."+n,a="resize."+n,r="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),0==(t=e("#select2-drop-mask")).length&&((t=e(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",(function(t){var n,i=e("#select2-drop");i.length>0&&((n=i.data("select2")).opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close({focus:!0}),t.preventDefault(),t.stopPropagation())}))),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each((function(){e(this).on(a+" "+i+" "+r,(function(){o.positionDropdown()}))}))},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,i="resize."+t,a="orientationchange."+t;this.container.parents().add(window).each((function(){e(this).off(n).off(i).off(a)})),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return y(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,n,i,a,r,o,s,l=this.results;if(!(0>(n=this.highlight()))){if(0==n)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),a=(i=e(t[n])).offset().top+i.outerHeight(!0),n===t.length-1&&((s=l.find("li.select2-more-results")).length>0&&(a=s.offset().top+s.outerHeight(!0))),a>(r=l.offset().top+l.outerHeight(!0))&&l.scrollTop(l.scrollTop()+(a-r)),0>(o=i.offset().top-l.offset().top)&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){var a=e(n[i+=t]);if(a.hasClass("select2-result-selectable")&&!a.hasClass("select2-disabled")&&!a.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var n,a,r=this.findHighlightableChoices();return 0===arguments.length?i(r.filter(".select2-highlighted")[0],r.get()):(t>=r.length&&(t=r.length-1),0>t&&(t=0),this.removeHighlight(),(n=e(r[t])).addClass("select2-highlighted"),this.ensureHighlightVisible(),void((a=n.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(a),choice:a})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n=this.resultsPage+1,i=this,a=this.search.val(),r=this.context;0!==t.length&&(t.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:a,page:n,context:r,matcher:this.opts.matcher,callback:this.bind((function(o){i.opened()&&(i.opts.populateResults.call(this,e,o.results,{term:a,page:n,context:r}),i.postprocessResults(o,!1,!1),!0===o.more?(t.detach().appendTo(e).text(i.opts.formatLoadMore(n+1)),window.setTimeout((function(){i.loadMoreIfNeeded()}),10)):t.remove(),i.positionDropdown(),i.resultsPage=n,i.context=o.context,this.opts.element.trigger({type:"select2-loaded",items:o}))}))})))},tokenize:function(){},updateResults:function(n){function i(){c.removeClass("select2-active"),h.positionDropdown()}function r(e){d.html(e),i()}var o,s,l,c=this.search,d=this.results,u=this.opts,h=this,p=c.val(),f=e.data(this.container,"select2-last-term");if((!0===n||!f||!a(p,f))&&(e.data(this.container,"select2-last-term",p),!0===n||!1!==this.showSearchInput&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(o=this.data(),e.isArray(o)&&o.length>=g&&b(u.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(g)+"</li>");if(c.val().length<u.minimumInputLength)return b(u.formatInputTooShort,"formatInputTooShort")?r("<li class='select2-no-results'>"+u.formatInputTooShort(c.val(),u.minimumInputLength)+"</li>"):r(""),void(n&&this.showSearch&&this.showSearch(!0));if(u.maximumInputLength&&c.val().length>u.maximumInputLength)return void(b(u.formatInputTooLong,"formatInputTooLong")?r("<li class='select2-no-results'>"+u.formatInputTooLong(c.val(),u.maximumInputLength)+"</li>"):r(""));u.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+u.formatSearching()+"</li>"),c.addClass("select2-active"),this.removeHighlight(),(s=this.tokenize())!=t&&null!=s&&c.val(s),this.resultsPage=1,u.query({element:u.element,term:c.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind((function(o){var s;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==c.val()&&((s=this.opts.createSearchChoice.call(h,c.val(),o.results))!==t&&null!==s&&h.id(s)!==t&&null!==h.id(s)&&0===e(o.results).filter((function(){return a(h.id(this),h.id(s))})).length&&o.results.unshift(s)),0===o.results.length&&b(u.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+u.formatNoMatches(c.val())+"</li>");d.empty(),h.opts.populateResults.call(this,d,o.results,{term:c.val(),page:this.resultsPage,context:null}),!0===o.more&&b(u.formatLoadMore,"formatLoadMore")&&(d.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout((function(){h.loadMoreIfNeeded()}),10)),this.postprocessResults(o,n),i(),this.opts.element.trigger({type:"select2-loaded",items:o})}}))})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){!function(e){e[0]!==document.activeElement&&window.setTimeout((function(){var t,n=e[0],i=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&((t=n.createTextRange()).collapse(!1),t.select()))}),0)}(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");n?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){var n=function(){var n,i,a,r,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((n=this.opts.element.attr("style"))!==t)for(r=0,o=(i=n.split(";")).length;o>r;r+=1)if(null!==(a=i[r].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&a.length>=1)return a[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width")).indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==n&&this.container.css("width",n)}}),S=x(C,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,a;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.search.focus(),(n=this.search.get(0)).createTextRange?((i=n.createTextRange()).collapse(!1),i.select()):n.setSelectionRange&&(a=this.search.val().length,n.setSelectionRange(a,a)),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(e){this.opened()&&(this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=this.container,i=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+k()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind((function(e){if(this.isInterfaceEnabled()){if(e.which===O.PAGE_UP||e.which===O.PAGE_DOWN)return void u(e);switch(e.which){case O.UP:case O.DOWN:return this.moveHighlight(e.which===O.UP?-1:1),void u(e);case O.ENTER:return this.selectHighlighted(),void u(e);case O.TAB:return void this.selectHighlighted({noFocus:!0});case O.ESC:return this.cancel(e),void u(e)}}}))),this.search.on("blur",this.bind((function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind((function(){this.search.focus()})),0)}))),this.focusser.on("keydown",this.bind((function(e){if(this.isInterfaceEnabled()&&e.which!==O.TAB&&!O.isControl(e)&&!O.isFunctionKey(e)&&e.which!==O.ESC){if(!1===this.opts.openOnEnter&&e.which===O.ENTER)return void u(e);if(e.which==O.DOWN||e.which==O.UP||e.which==O.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void u(e)}return e.which==O.DELETE||e.which==O.BACKSPACE?(this.opts.allowClear&&this.clear(),void u(e)):void 0}}))),s(this.focusser),this.focusser.on("keyup-change input",this.bind((function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}}))),t.on("mousedown","abbr",this.bind((function(e){this.isInterfaceEnabled()&&(this.clear(),function(e){e.preventDefault(),e.stopImmediatePropagation()}(e),this.close(),this.selection.focus())}))),t.on("mousedown",this.bind((function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),u(t)}))),i.on("mousedown",this.bind((function(){this.search.focus()}))),t.on("focus",this.bind((function(e){u(e)}))),this.focusser.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")}))).on("blur",this.bind((function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))}))),this.search.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var i=e.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var a=this.getPlaceholderOption();this.opts.element.val(a?a.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,(function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())}))}},isPlaceholderOptionSelected:function(){var e;return!!this.getPlaceholder()&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find("option").filter((function(){return this.selected}));t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var r=n.val(),o=null;t.query({matcher:function(e,n,i){var s=a(r,t.id(i));return s&&(o=i),s},callback:e.isFunction(i)?function(){i(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var i=0,r=this;if(this.findHighlightableChoices().each2((function(e,t){return a(r.id(t.data("select2-data")),r.opts.element.val())?(i=e,!1):void 0})),!1!==n&&(!0===t&&i>=0?this.highlight(i):this.highlight(0)),!0===t){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(w(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||this.focusser.focus(),a(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i,a=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),a.empty(),null!==e&&(n=this.opts.formatSelection(e,a,this.opts.escapeMarkup)),n!==t&&a.append(n),(i=this.opts.formatSelectionCssClass(e,a))!==t&&a.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,a=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter((function(){return this.selected})).each2((function(e,t){return i=a.optionToData(t),!1})),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:r});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,(function(e){a.opts.element.val(e?a.id(e):""),a.updateSelection(e),a.setPlaceholder(),n&&a.triggerChange({added:e,removed:r})}))}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,i=!1;return 0===arguments.length?((n=this.selection.data("select2-data"))==t&&(n=null),n):(arguments.length>1&&(i=arguments[1]),void(e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:n})):this.clear(i)))}}),T=x(C,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find("option").filter((function(){return this.selected})).each2((function(e,t){i.push(n.optionToData(t))})),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var o=r(n.val(),t.separator),s=[];t.query({matcher:function(n,i,r){var l=e.grep(o,(function(e){return a(e,t.id(r))})).length;return l&&s.push(r),l},callback:e.isFunction(i)?function(){for(var e=[],n=0;n<o.length;n++)for(var r=o[n],l=0;l<s.length;l++){var c=s[l];if(a(r,t.id(c))){e.push(c),s.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",(function(){i.search[0].focus(),i.selectChoice(e(this))})),this.search.attr("id","s2id_autogen"+k()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind((function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}))),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind((function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),a=n.next(".select2-search-choice:not(.select2-locked)"),r=d(this.search);if(n.length&&(e.which==O.LEFT||e.which==O.RIGHT||e.which==O.BACKSPACE||e.which==O.DELETE||e.which==O.ENTER)){var o=n;return e.which==O.LEFT&&i.length?o=i:e.which==O.RIGHT?o=a.length?a:null:e.which===O.BACKSPACE?(this.unselect(n.first()),this.search.width(10),o=i.length?i:a):e.which==O.DELETE?(this.unselect(n.first()),this.search.width(10),o=a.length?a:null):e.which==O.ENTER&&(o=null),this.selectChoice(o),u(e),void(o&&o.length||this.open())}if((e.which===O.BACKSPACE&&1==this.keydowns||e.which==O.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void u(e);if(this.selectChoice(null),this.opened())switch(e.which){case O.UP:case O.DOWN:return this.moveHighlight(e.which===O.UP?-1:1),void u(e);case O.ENTER:return this.selectHighlighted(),void u(e);case O.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case O.ESC:return this.cancel(e),void u(e)}if(e.which!==O.TAB&&!O.isControl(e)&&!O.isFunctionKey(e)&&e.which!==O.BACKSPACE&&e.which!==O.ESC){if(e.which===O.ENTER){if(!1===this.opts.openOnEnter)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===O.PAGE_UP||e.which===O.PAGE_DOWN)&&u(e),e.which===O.ENTER&&u(e)}}}))),this.search.on("keyup",this.bind((function(){this.keydowns=0,this.resizeSearch()}))),this.search.on("blur",this.bind((function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))}))),this.container.on("click",n,this.bind((function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))}))),this.container.on("focus",n,this.bind((function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,(function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())}))}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],a=[],r=this;e(t).each((function(){i(r.id(this),n)<0&&(n.push(r.id(this)),a.push(this))})),t=a,this.selection.find(".select2-search-choice").remove(),e(t).each((function(){r.addSelectedChoice(this)})),r.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,a,r=!n.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=r?o:s,c=this.id(n),d=this.getVal();(i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup))!=t&&l.find("div").replaceWith("<div>"+i+"</div>"),(a=this.opts.formatSelectionCssClass(n,l.find("div")))!=t&&l.addClass(a),r&&l.find(".select2-search-choice-close").on("mousedown",u).on("click dblclick",this.bind((function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind((function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()}))).dequeue(),u(t))}))).on("focus",this.bind((function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}))),l.data("select2-data",n),l.insertBefore(this.searchContainer),d.push(c),this.setVal(d)},unselect:function(t){var n,a,r=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){for(;(a=i(this.id(n),r))>=0;)r.splice(a,1),this.setVal(r),this.select&&this.postprocessResults();var o=e.Event("select2-removing");o.val=this.id(n),o.choice=n,this.opts.element.trigger(o),o.isDefaultPrevented()||(t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},postprocessResults:function(e,t,n){var a=this.getVal(),r=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),s=this;r.each2((function(e,t){i(s.id(t.data("select2-data")),a)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))})),o.each2((function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")})),-1==this.highlight()&&!1!==n&&s.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&b(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+s.opts.formatNoMatches(s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-o(this.search)},resizeSearch:function(){var e,t,n,i,a=o(this.search);e=h(this.search)+10,t=this.search.offset().left,e>(i=(n=this.selection.width())-(t-this.selection.offset().left)-a)&&(i=n-a),40>i&&(i=n-a),0>=i&&(i=e),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:r(e=this.opts.element.val(),this.opts.separator)},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each((function(){i(this,n)<0&&n.push(this)})),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var n=0;n<t.length;n++)for(var i=0;i<e.length;i++)a(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n>0&&n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var a,r=this;if(0===arguments.length)return this.getVal();if((a=this.data()).length||(a=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:a}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(a,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,(function(t){var n=e.map(t,r.id);r.setVal(n),r.updateSelection(t),r.clearSearch(),i&&r.triggerChange(r.buildChangeDetails(a,r.data()))}))}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each((function(){t.push(n.opts.id(e(this).data("select2-data")))})),this.setVal(t),this.triggerChange()},data:function(t,n){var i,a,r=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map((function(){return e(this).data("select2-data")})).get():(a=this.data(),t||(t=[]),i=e.map(t,(function(e){return r.opts.id(e)})),this.setVal(i),this.updateSelection(t),this.clearSearch(),void(n&&this.triggerChange(this.buildChangeDetails(a,this.data()))))}}),e.fn.select2=function(){var n,a,r,o,s,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],d=["opened","isFocused","container","dropdown"],u=["val","data"],h={search:"externalSearch"};return this.each((function(){if(0===l.length||"object"==typeof l[0])(n=0===l.length?{}:e.extend({},l[0])).element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?s=n.element.prop("multiple"):(s=n.multiple||!1,"tags"in n&&(n.multiple=s=!0)),(a=s?new T:new S).init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(i(l[0],c)<0)throw"Unknown method: "+l[0];if(o=t,(a=e(this).data("select2"))===t)return;if("container"===(r=l[0])?o=a.container:"dropdown"===r?o=a.dropdown:(h[r]&&(r=h[r]),o=a[r].apply(a,l.slice(1))),i(l[0],d)>=0||i(l[0],u)&&1==l.length)return!1}})),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var a=[];return f(e.text,n.term,a,i),a.join("")},formatSelection:function(e,n,i){return e?i(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(e,n,i,r){var o,s,l,c,d,u=e,h=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return t;for(;;){for(s=-1,l=0,c=r.tokenSeparators.length;c>l&&(d=r.tokenSeparators[l],!((s=e.indexOf(d))>=0));l++);if(0>s)break;if(o=e.substring(0,s),e=e.substring(s+d.length),o.length>0&&((o=r.createSearchChoice.call(this,o,n))!==t&&null!==o&&r.id(o)!==t&&null!==r.id(o))){for(h=!1,l=0,c=n.length;c>l;l++)if(a(r.id(o),r.id(n[l]))){h=!0;break}h||i(o)}}return u!==e?e:void 0},escapeMarkup:g,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:m,local:v,tags:_},util:{debounce:c,markMatch:f,escapeMarkup:g,stripDiacritics:n},class:{abstract:C,single:S,multi:T}}}}(jQuery)},function(e,t){!function(){"use strict";if(!window.hasOwnProperty("TEST_BUILD")){window.templateEngine=new function(){var e={createTemplate:function(e){$("#"+e.replace(".","\\.")).html();return{render:function(t){return e=e.replace(".ejs",""),window.JST["templates/"+e](t)}}}};return e}}}()},function(e,t){!function(){"use strict";var e=null;window.isCoordinator=function(t){if(null===e){var n="cluster/amICoordinator";frontendConfig.react&&(n=arangoHelper.databaseUrl("/_admin/aardvark/cluster/amICoordinator")),$.ajax(n,{async:!0,success:function(n){e=n,t(!1,n)},error:function(n){e=n,t(!0,n)}})}else t(!1,e)},window.versionHelper={fromString:function(e){var t=e.replace(/-[a-zA-Z0-9_-]*$/g,"").split(".");return{major:parseInt(t[0],10)||0,minor:parseInt(t[1],10)||0,patch:parseInt(t[2],10)||0,toString:function(){return this.major+"."+this.minor+"."+this.patch}}},toString:function(e){return e.major+"."+e.minor+"."+e.patch},toDocuVersion:function(e){return e.toLowerCase().indexOf("devel")>=0||e.toLowerCase().indexOf("rc")>=0?"devel":e.substring(0,3)}},window.arangoHelper={alphabetColors:{a:"rgb(0,0,180)",b:"rgb(175,13,102)",c:"rgb(146,248,70)",d:"rgb(255,200,47)",e:"rgb(255,118,0)",f:"rgb(185,185,185)",g:"rgb(235,235,222)",h:"rgb(100,100,100)",i:"rgb(255,255,0)",j:"rgb(55,19,112)",k:"rgb(255,255,150)",l:"rgb(202,62,94)",m:"rgb(205,145,63)",n:"rgb(12,75,100)",o:"rgb(255,0,0)",p:"rgb(175,155,50)",q:"rgb(0,0,0)",r:"rgb(37,70,25)",s:"rgb(121,33,135)",t:"rgb(83,140,208)",u:"rgb(0,154,37)",v:"rgb(178,220,205)",w:"rgb(255,152,213)",x:"rgb(0,0,74)",y:"rgb(175,200,74)",z:"rgb(63,25,12)"},statusColors:{fatal:"#ad5148",info:"rgb(88, 214, 141)",error:"rgb(236, 112, 99)",warning:"#ffb075",debug:"rgb(64, 74, 83)"},getCurrentJwt:function(){return sessionStorage.getItem("jwt")},getCurrentJwtUsername:function(){return sessionStorage.getItem("jwtUser")},setCurrentJwt:function(e,t){sessionStorage.setItem("jwt",e),sessionStorage.setItem("jwtUser",t)},checkJwt:function(){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/version"),contentType:"application/json",processData:!1,async:!0,error:function(e){401===e.status&&window.App.navigate("login",{trigger:!0})}})},lastActivity:function(){return sessionStorage.getItem("lastActivity")||0},noteActivity:function(){sessionStorage.setItem("lastActivity",Date.now()/1e3)},renewJwt:function(e){if(window.atob){var t=this,n=t.getCurrentJwtUsername();void 0!==n&&""!==n&&$.ajax({cache:!1,type:"POST",url:t.databaseUrl("/_open/auth/renew"),data:JSON.stringify({username:n}),contentType:"application/json",processData:!1,success:function(i){var a=!1;if(i.jwt)try{var r=i.jwt.split(".");if(!r[1])throw"invalid token!";JSON.parse(atob(r[1])).preferred_username===n&&(t.setCurrentJwt(i.jwt,n),a=!0)}catch(o){}a&&e()},error:function(e){}})}},getCoordinatorShortName:function(e){var t;return window.clusterHealth&&_.each(window.clusterHealth,(function(n,i){e===i&&(t=n.ShortName)})),arangoHelper.escapeHtml(t)},getDatabaseShortName:function(e){return this.getCoordinatorShortName(e)},getDatabaseServerId:function(e){var t;return window.clusterHealth&&_.each(window.clusterHealth,(function(n,i){e===n.ShortName&&(t=i)})),t},lastNotificationMessage:null,CollectionTypes:{},systemAttributes:function(){return{_id:!0,_rev:!0,_key:!0,_from:!0,_to:!0}},getCurrentSub:function(){return window.App.naviView.activeSubMenu},parseError:function(e,t){var n;try{n=JSON.parse(t.responseText).errorMessage}catch(i){n=i}this.arangoError(e,n)},setCheckboxStatus:function(e){_.each($(e).find("ul").find("li"),(function(e){$(e).hasClass("nav-header")||($(e).find("input").attr("checked")?$(e).find("i").hasClass("css-round-label")?($(e).find("i").removeClass("fa-circle-o"),$(e).find("i").addClass("fa-dot-circle-o")):($(e).find("i").removeClass("fa-square-o"),$(e).find("i").addClass("fa-check-square-o")):$(e).find("i").hasClass("css-round-label")?($(e).find("i").removeClass("fa-dot-circle-o"),$(e).find("i").addClass("fa-circle-o")):($(e).find("i").removeClass("fa-check-square-o"),$(e).find("i").addClass("fa-square-o")))}))},parseInput:function(e){var t,n=$(e).val();try{t=JSON.parse(n)}catch(i){t=n}return t},calculateCenterDivHeight:function(){var e=$(".navbar").height(),t=$(".footer").height();return $(window).height()-t-e-110},createTooltips:function(e,t){var n=this,i={arrow:!0,multiple:!1,content:function(e){var t=e.getAttribute("title");return e.removeAttribute("title"),t}};if(t&&(i.placement=t),e||(e=".tippy"),"object"===typeof e)_.each(e,(function(e){n.lastTooltips=new tippy(e,i)}));else{if(e.indexOf(",")>-1){var a=e.split(",");_.each(a,(function(e){n.lastTooltips=new tippy(e,i)}))}this.lastTooltips=new tippy(e,i)}},fixTooltips:function(e,t){arangoHelper.createTooltips(e,t)},currentDatabase:function(e){return frontendConfig.db?e(!1,frontendConfig.db):e(!0,void 0),frontendConfig.db},allHotkeys:{jsoneditor:{name:"AQL editor",content:[{label:"Execute Query",letter:"Ctrl/Cmd + Return"},{label:"Execute Selected Query",letter:"Ctrl/Cmd + Alt + Return"},{label:"Explain Query",letter:"Ctrl/Cmd + Shift + Return"},{label:"Save Query",letter:"Ctrl/Cmd + Shift + S"},{label:"Open search",letter:"Ctrl + Space"},{label:"Toggle comments",letter:"Ctrl/Cmd + Shift + C"},{label:"Undo",letter:"Ctrl/Cmd + Z"},{label:"Redo",letter:"Ctrl/Cmd + Shift + Z"},{label:"Increase Font Size",letter:"Shift + Alt + Up"},{label:"Decrease Font Size",letter:"Shift + Alt + Down"}]},doceditor:{name:"Document editor",content:[{label:"Insert",letter:"Ctrl + Insert"},{label:"Save",letter:"Ctrl + Return, Cmd + Return"},{label:"Append",letter:"Ctrl + Shift + Insert"},{label:"Duplicate",letter:"Ctrl + D"},{label:"Remove",letter:"Ctrl + Delete"}]},modals:{name:"Modal",content:[{label:"Submit",letter:"Return"},{label:"Close",letter:"Esc"},{label:"Navigate buttons",letter:"Arrow keys"},{label:"Navigate content",letter:"Tab"}]}},hotkeysFunctions:{scrollDown:function(){window.scrollBy(0,180)},scrollUp:function(){window.scrollBy(0,-180)},showHotkeysModal:function(){var e=window.arangoHelper.allHotkeys;window.modalView.show("modalHotkeys.ejs","Keyboard Shortcuts",[],e)}},buildSubNavBar:function(e,t){var n;$("#subNavigationBar .bottom").html(""),_.each(e,(function(e,i){n="",e.active&&(n+=" active"),(e.disabled||t)&&(n+=" disabled"),$("#subNavigationBar .bottom").append('<li class="subMenuEntry '+n+'"><a>'+i+"</a></li>"),e.disabled||t||$("#subNavigationBar .bottom").children().last().bind("click",(function(){window.App.navigate(e.route,{trigger:!0})}))}))},buildUserSubNav:function(e,t){var n={General:{route:"#user/"+encodeURIComponent(e)},Permissions:{route:"#user/"+encodeURIComponent(e)+"/permission"}};n[t].active=!0,this.buildSubNavBar(n)},buildGraphSubNav:function(e,t){var n={Content:{route:"#graph/"+encodeURIComponent(e)},Settings:{route:"#graph/"+encodeURIComponent(e)+"/settings"}};n[t].active=!0,this.buildSubNavBar(n)},buildNodeSubNav:function(e,t,n){var i={Dashboard:{route:"#node/"+encodeURIComponent(e)}};i[t].active=!0,i[n].disabled=!0,this.buildSubNavBar(i)},buildClusterSubNav:function(e,t){var n=!1,i=!1;frontendConfig.showMaintenanceStatus&&"_system"===frontendConfig.db&&(n=!0),"_system"===frontendConfig.db&&(i=!0);var a={Dashboard:{route:"#cluster"},Distribution:{route:"#distribution",disabled:!i},Maintenance:{route:"#maintenance",disabled:!n}};a[e].active=!0,t&&(a[e].disabled=!0),this.buildSubNavBar(a,t)},buildNodesSubNav:function(e,t){var n={Overview:{route:"#nodes"},Shards:{route:"#shards"},"Rebalance Shards":{route:"#rebalanceShards"}};n[e].active=!0,t&&(n[e].disabled=!0),n["Rebalance Shards"].disabled=window.App.userCollection.authOptions.ro,this.buildSubNavBar(n,t)},buildServicesSubNav:function(e,t){var n={Store:{route:"#services/install"},Upload:{route:"#services/install/upload"},New:{route:"#services/install/new"},GitHub:{route:"#services/install/github"},Remote:{route:"#services/install/remote"}};frontendConfig.foxxStoreEnabled||delete n.Store,frontendConfig.foxxAllowInstallFromRemote||delete n.Remote,n[e].active=!0,t&&(n[t].disabled=!0),this.buildSubNavBar(n)},buildCollectionSubNav:function(e,t){var n={Content:{route:"#collection/"+encodeURIComponent(e)+"/documents/1"},Indexes:{route:"#cIndices/"+encodeURIComponent(e)},Info:{route:"#cInfo/"+encodeURIComponent(e)},Settings:{route:"#cSettings/"+encodeURIComponent(e)},Schema:{route:"#cSchema/"+encodeURIComponent(e)}};n[t].active=!0,this.buildSubNavBar(n)},enableKeyboardHotkeys:function(e){var t=window.arangoHelper.hotkeysFunctions;!0===e&&($(document).on("keydown",null,"j",t.scrollDown),$(document).on("keydown",null,"k",t.scrollUp))},databaseAllowed:function(e){var t=function(t,n){t?arangoHelper.arangoError("",""):$.ajax({type:"GET",cache:!1,url:this.databaseUrl("/_api/database/",n),contentType:"application/json",processData:!1,success:function(){e(!1,!0)},error:function(){e(!0,!1)}})}.bind(this);this.currentDatabase(t)},arangoNotification:function(e,t,n){window.App.notificationList.add({title:e,content:t,info:n,type:"success"})},arangoError:function(e,t,n){$("#offlinePlaceholder").is(":visible")||window.App.notificationList.add({title:e,content:t,info:n,type:"error"})},arangoWarning:function(e,t,n){window.App.notificationList.add({title:e,content:t,info:n,type:"warning"})},arangoMessage:function(e,t,n){window.App.notificationList.add({title:e,content:t,info:n,type:"info"})},hideArangoNotifications:function(){Noty.closeAll()},openDocEditor:function(e,t,n){var i=e.split("/"),a=this,r=new window.DocumentView({collection:window.App.arangoDocumentStore});r.breadcrumb=function(){},r.colid=i[0],r.docid=i[1],r.el=".arangoFrame .innerDiv",r.render(),r.setType(t),$(".arangoFrame .headerBar").remove(),$(".edge-edit-container").remove(),$(".arangoFrame .outerDiv").prepend('<i class="fa fa-times"></i>'),$(".arangoFrame .outerDiv").click((function(){a.closeDocEditor()})),$(".arangoFrame .innerDiv").click((function(e){e.stopPropagation()})),$(".fa-times").click((function(){a.closeDocEditor()})),$(".arangoFrame").show(),r.customView=!0,r.customDeleteFunction=function(){window.modalView.hide(),$(".arangoFrame").hide()},r.customSaveFunction=function(e){a.closeDocEditor(),n&&n(e)},$(".arangoFrame #deleteDocumentButton").click((function(){r.deleteDocumentModal()})),$(".arangoFrame #saveDocumentButton").click((function(){r.saveDocument()})),$(".arangoFrame #deleteDocumentButton").css("display","none"),$(".document-link").hover((function(){$(this).css("cursor","default"),$(this).css("text-decoration","none")}))},closeDocEditor:function(){$(".arangoFrame .outerDiv .fa-times").remove(),$(".arangoFrame").hide()},addAardvarkJob:function(e,t){$.ajax({cache:!1,type:"POST",url:this.databaseUrl("/_admin/aardvark/job"),data:JSON.stringify(e),contentType:"application/json",processData:!1,success:function(e){t&&t(!1,e)},error:function(e){t&&t(!0,e)}})},deleteAardvarkJob:function(e,t){$.ajax({cache:!1,type:"DELETE",url:this.databaseUrl("/_admin/aardvark/job/"+encodeURIComponent(e)),contentType:"application/json",processData:!1,success:function(e){e&&e.error&&404!==e.errorNum?e.errorNum&&e.errorMessage?arangoHelper.arangoError("Error ".concat(e.errorNum),e.errorMessage):arangoHelper.arangoError("Failure","Got unexpected server response: "+JSON.stringify(e)):t&&t(!1,e)},error:function(e){t&&t(!0,e)}})},deleteAllAardvarkJobs:function(e){$.ajax({cache:!1,type:"DELETE",url:this.databaseUrl("/_admin/aardvark/job"),contentType:"application/json",processData:!1,success:function(t){t.result&&t.result.length>0&&_.each(t.result,(function(e){e.error&&(e.errorNum&&e.errorMessage?arangoHelper.arangoError("Error ".concat(e.errorNum),e.errorMessage):arangoHelper.arangoError("Failure","Got unexpected server response: "+JSON.stringify(e)))})),e&&e(!1,t)},error:function(t){e&&e(!0,t)}})},getAardvarkJobs:function(e){$.ajax({cache:!1,type:"GET",url:this.databaseUrl("/_admin/aardvark/job"),contentType:"application/json",processData:!1,success:function(t){e&&e(!1,t)},error:function(t){e&&e(!0,t)}})},getPendingJobs:function(e){$.ajax({cache:!1,type:"GET",url:this.databaseUrl("/_api/job/pending"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(t){e(!0,t)}})},syncAndReturnUnfinishedAardvarkJobs:function(e,t){var n=function(n,i){if(n)t(!0);else{var a=function(n,a){if(n)arangoHelper.arangoError("","");else{var r=[];a.length>0?_.each(i,(function(t){if(t.type===e||void 0===t.type){var n=!1;_.each(a,(function(e){t.id===e&&(n=!0)})),n?r.push({collection:t.collection,id:t.id,type:t.type,desc:t.desc}):window.arangoHelper.deleteAardvarkJob(t.id)}})):i.length>0&&this.deleteAllAardvarkJobs(),t(!1,r)}}.bind(this);this.getPendingJobs(a)}}.bind(this);this.getAardvarkJobs(n)},getRandomToken:function(){return Math.round((new Date).getTime())},isSystemAttribute:function(e){return this.systemAttributes()[e]},isSystemCollection:function(e){return"_"===e.name.substr(0,1)},setDocumentStore:function(e){this.arangoDocumentStore=e},collectionApiType:function(e,t,n){if(t||void 0===this.CollectionTypes[e]){var i=function(t,n,i){t?i&&i(t):(this.CollectionTypes[e]=n.type,3===this.CollectionTypes[e]?i(!1,"edge",n):i(!1,"document",n))}.bind(this);this.arangoDocumentStore.getCollectionInfo(e,i,n)}else 3===this.CollectionTypes[e]?n(!1,"edge"):n(!1,"document")},collectionType:function(e){return e&&""!==e.name?(t=2===e.type?"document":3===e.type?"edge":"unknown",this.isSystemCollection(e)&&(t+=" (system)"),t):"-";var t},formatDT:function(e){var t=function(e){return e<10?"0"+e:e};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+" "+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z"},escapeHtml:function(e){return"string"!==typeof e&&(e=JSON.stringify(e,null,2)),String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},backendUrl:function(e){return frontendConfig.basePath+e},databaseUrl:function(e,t){if("/_db/"===e.substr(0,5))throw new Error("Calling databaseUrl with a databased url ("+e+") doesn't make any sense");return t||(t="_system",frontendConfig&&frontendConfig.db&&(t=frontendConfig.db)),t||(t="_system"),this.backendUrl("/_db/"+encodeURIComponent(t)+e)},showAuthDialog:function(){var e=!0;return"false"===localStorage.getItem("authenticationNotification")&&(e=!1),e},doNotShowAgain:function(){localStorage.setItem("authenticationNotification",!1)},renderEmpty:function(e,t){t?$("#content").html('<div class="noContent"><p>'+e+'<i class="'+t+'"></i></p></div>'):$("#content").html('<div class="noContent"><p>'+e+"</p></div>")},initSigma:function(){try{sigma.classes.graph.addMethod("neighbors",(function(e){var t,n={},i=this.allNeighborsIndex[e]||{};for(t in i)n[t]=this.nodesIndex[t];return n})),sigma.classes.graph.addMethod("getNodeEdges",(function(e){var t=this.edges(),n=[];return _.each(t,(function(t){t.source!==e&&t.target!==e||n.push(t.id)})),n})),sigma.classes.graph.addMethod("getNodeEdgesCount",(function(e){return this.allNeighborsCount[e]})),sigma.classes.graph.addMethod("getNodesCount",(function(){return this.nodesArray.length}))}catch(e){}},downloadLocalBlob:function(e,t,n){var i;if("csv"===t?i="text/csv; charset=utf-8":"json"===t?i="application/json; charset=utf-8":"text"===t&&(i="text/plain; charset=utf8"),i){var a=new Blob([e],{type:i}),r=window.URL.createObjectURL(a),o=document.createElement("a");document.body.appendChild(o),o.style="display: none",o.href=r,o.download=(n||"results")+"-"+window.frontendConfig.db.replace(/[^-_a-z0-9]/gi,"_")+"."+t,o.click(),window.setTimeout((function(){window.URL.revokeObjectURL(r),document.body.removeChild(o)}),500)}},download:function(e,t){$.ajax({type:"GET",url:e,success:function(e,n,i){if(t)t(e);else{var a=new Blob([JSON.stringify(e)],{type:i.getResponseHeader("Content-Type")||"application/octet-stream"}),r=window.URL.createObjectURL(a),o=document.createElement("a");document.body.appendChild(o),o.style="display: none",o.href=r,o.download=i.getResponseHeader("Content-Disposition").replace(/.* filename="([^")]*)"/,"$1"),o.click(),window.setTimeout((function(){window.URL.revokeObjectURL(r),document.body.removeChild(o)}),500)}}})},downloadPost:function(e,t,n,i){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){n&&n();var e=document.createElement("a");e.download=this.getResponseHeader("Content-Disposition").replace(/.* filename="([^")]*)"/,"$1"),document.body.appendChild(e);var t=window.URL.createObjectURL(this.response);e.href=t,e.click(),window.setTimeout((function(){window.URL.revokeObjectURL(t),document.body.removeChild(e)}),500)}else 4===this.readyState&&void 0!==i&&i(this.status,this.statusText)},a.open("POST",e),window.arangoHelper.getCurrentJwt()&&a.setRequestHeader("Authorization","bearer "+window.arangoHelper.getCurrentJwt()),a.responseType="blob",a.send(t)},checkCollectionPermissions:function(e,t){var n=arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(window.App.userCollection.activeUser)+"/database/"+encodeURIComponent(frontendConfig.db)+"/"+encodeURIComponent(e));$.ajax({type:"GET",url:n,contentType:"application/json",success:function(e){"ro"===e.result&&t()},error:function(e){arangoHelper.arangoError("User","Could not fetch collection permissions.")}})},checkDatabasePermissions:function(e,t){var n=arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(window.App.userCollection.activeUser)+"/database/"+encodeURIComponent(frontendConfig.db));$.ajax({type:"GET",url:n,contentType:"application/json",success:function(n){"ro"===n.result?e&&e(!0):"rw"===n.result?t&&t(!1):"none"===n.result&&(frontendConfig.authenticationEnabled||t&&t(!1))},error:function(e){arangoHelper.arangoError("User","Could not fetch collection permissions.")}})},renderStatisticsBoxValue:function(e,t,n,i){if("number"===typeof t)$(e).html(t);else if($.isArray(t)){var a=t[0],r=1/(t[1]/a)*100;r>90?n=!0:r>70&&r<90&&(i=!0),isNaN(r)?$(e).html("n/a"):$(e).html(r.toFixed(1)+" %")}else"string"===typeof t&&$(e).html(t);n?($(e).addClass("negative"),$(e).removeClass("warning"),$(e).removeClass("positive")):i?($(e).addClass("warning"),$(e).removeClass("positive"),$(e).removeClass("negative")):($(e).addClass("positive"),$(e).removeClass("negative"),$(e).removeClass("warning"))},getFoxxFlags:function(){var e={},t=$("#new-app-flag-replace")[0];t&&(e.replace=Boolean(t.checked));var n=$("#new-app-flag-teardown")[0];n&&(e.teardown=Boolean(n.checked));var i=$("#new-app-flag-setup")[0];return i&&(e.setup=Boolean(i.checked)),e},createMountPointModal:function(e,t,n){var i,a=[],r=[];window.App.replaceApp&&(i=(i=window.App.replaceAppData.mount).substr(1,i.length)),r.push(window.modalView.createTextEntry("new-app-mount","Mount point",i,"The path the app will be mounted. Is not allowed to start with _","mountpoint",!1,[{rule:Joi.string().required(),msg:""}])),window.App.replaceApp&&r.push(window.modalView.createCheckboxEntry("new-app-flag-teardown","Run teardown?",!1,"Should the existing service's teardown script be executed before replacing the service?",!1)),r.push(window.modalView.createCheckboxEntry("new-app-flag-setup","Run setup?",!0,"Should this service's setup script be executed after installing the service?",!0)),window.App.replaceApp?(r.push(window.modalView.createCheckboxEntry("new-app-flag-replace","Discard configuration and dependency files?",!1,"Should this service's existing configuration and settings be removed completely before replacing the service?",!1)),a.push(window.modalView.createSuccessButton("Replace",e))):a.push(window.modalView.createSuccessButton("Install",e));var o="Create Foxx Service";window.App.replaceApp&&(o="Replace Foxx Service ("+window.App.replaceAppData.mount+")"),window.modalView.show("modalTable.ejs",o,a,r),window.App.replaceApp?($("#new-app-mount").attr("disabled","true"),$("#new-app-replace").attr("checked",!1),$("#new-app-replace").on("click",(function(){$("#new-app-replace").prop("checked")?$("#new-app-teardown").attr("disabled",!0):$("#new-app-teardown").attr("disabled",!1)}))):window.modalView.modalBindValidation({id:"new-app-mount",validateInput:function(){return[{rule:Joi.string().regex(/(\/|^)APP(\/|$)/i,{invert:!0}),msg:"May not contain APP"},{rule:Joi.string().regex(/^([a-zA-Z0-9_\-/]+)+$/),msg:"Can only contain [a-zA-Z0-9_-/]"},{rule:Joi.string().regex(/([^_]|_open\/)/),msg:"Mountpoints with _ are reserved for internal use"},{rule:Joi.string().regex(/[^/]$/),msg:"May not end with /"},{rule:Joi.string().required().min(1),msg:"Has to be non-empty"}]}})}}}()},function(module,exports){var t;!function(e,t){function n(t,n){var a,r,o,s=t.nodeName.toLowerCase();return"area"===s?(r=(a=t.parentNode).name,!(!t.href||!r||"map"!==a.nodeName.toLowerCase())&&(!!(o=e("img[usemap=#"+r+"]")[0])&&i(o))):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s&&t.href||n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter((function(){return"hidden"===e.css(this,"visibility")})).length}var a=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each((function(){var i=this;setTimeout((function(){e(i).focus(),n&&n.call(i)}),t)})):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter((function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))})).eq(0):this.parents().filter((function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))})).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,a,r=e(this[0]);r.length&&r[0]!==document;){if(("absolute"===(i=r.css("position"))||"relative"===i||"fixed"===i)&&(a=parseInt(r.css("zIndex"),10),!isNaN(a)&&0!==a))return a;r=r.parent()}return 0},uniqueId:function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++a)}))},removeUniqueId:function(){return this.each((function(){r.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}})):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),a=isNaN(i);return(a||i>=0)&&n(t,!a)}}),e((function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"})),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(n,i){function a(t,n,i,a){return e.each(r,(function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(n-=parseFloat(e.css(t,"margin"+this))||0)})),n}var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each((function(){e(this).css(o,a(this,n)+"px")}))},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each((function(){e(this).css(o,a(this,t,!0,n)+"px")}))}})),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=!!t.length,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",(function(e){e.preventDefault()}))},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var a,r=e.ui[t].prototype;for(a in i)r.plugins[a]=r.plugins[a]||[],r.plugins[a].push([n,i[a]])},call:function(e,t,n){var i,a=e.plugins[t];if(a&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<a.length;i++)e.options[a[i][0]]&&a[i][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",a=!1;return t[i]>0||(t[i]=1,a=t[i]>0,t[i]=0,a)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,i,a,r,o){return e.ui.isOverAxis(t,i,r)&&e.ui.isOverAxis(n,a,o)}}))}(jQuery),function(e,t){var n=0,i=Array.prototype.slice,a=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(r){}a(t)},e.widget=function(t,n,i){var a,r,o,s,l=t.split(".")[0];t=t.split(".")[1],a=l+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[l]=e[l]||{},r=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(i,(function(t,a){e.isFunction(a)&&(i[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,r=this._superApply;return this._super=e,this._superApply=i,t=a.apply(this,arguments),this._super=n,this._superApply=r,t}}())})),o.prototype=e.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix:t},i,{constructor:o,namespace:l,widgetName:t,widgetBaseClass:a,widgetFullName:a}),r?(e.each(r._childConstructors,(function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,o,n._proto)})),delete r._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){for(var a,r,o=i.call(arguments,1),s=0,l=o.length;l>s;s++)for(a in o[s])r=o[s][a],o[s].hasOwnProperty(a)&&r!==t&&(e.isPlainObject(r)?n[a]=e.isPlainObject(n[a])?e.widget.extend({},n[a],r):e.widget.extend({},r):n[a]=r);return n},e.widget.bridge=function(n,a){var r=a.prototype.widgetFullName||n;e.fn[n]=function(o){var s="string"==typeof o,l=i.call(arguments,1),c=this;return o=!s&&l.length?e.widget.extend.apply(null,[o].concat(l)):o,s?this.each((function(){var i,a=e.data(this,r);return a?e.isFunction(a[o])&&"_"!==o.charAt(0)?(i=a[o].apply(a,l))!==a&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+o+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+o+"'")})):this.each((function(){var t=e.data(this,r);t?t.option(o||{})._init():e.data(this,r,new a(o,this))})),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetName,this),e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var a,r,o,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},a=n.split("."),n=a.shift(),a.length){for(r=s[n]=e.widget.extend({},this.options[n]),o=0;o<a.length-1;o++)r[a[o]]=r[a[o]]||{},r=r[a[o]];if(n=a.pop(),i===t)return r[n]===t?null:r[n];r[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var a,r=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=a=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,a=this.widget()),e.each(i,(function(i,o){function s(){return t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):void 0}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+r.eventNamespace,d=l[2];d?a.delegate(d,c,s):n.bind(c,s)}))},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout((function(){return("string"==typeof e?n[e]:e).apply(n,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var a,r,o=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(a in r)a in n||(n[a]=r[a]);return this.element.trigger(n,i),!(e.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(i,a,r){"string"==typeof a&&(a={effect:a});var o,s=a?!0===a||"number"==typeof a?n:a.effect||n:t;"number"==typeof(a=a||{})&&(a={duration:a}),o=!e.isEmptyObject(a),a.complete=r,a.delay&&i.delay(a.delay),o&&e.effects&&(e.effects.effect[s]||!1!==e.uiBackCompat&&e.effects[s])?i[t](a):s!==t&&i[s]?i[s](a.duration,a.easing,r):i.queue((function(n){e(this)[t](),r&&r.call(i[0]),n()}))}})),!1!==e.uiBackCompat&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e,t){var n=!1;e(document).mouseup((function(e){n=!1})),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).bind("click."+this.widgetName,(function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!n){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,a=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(a&&!r&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0))}},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(e,t){function n(e,t,n){return[parseInt(e[0],10)*(h.test(e[0])?t/100:1),parseInt(e[1],10)*(h.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var a,r=Math.max,o=Math.abs,s=Math.round,l=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+%?/,u=/^\w+/,h=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(a!==t)return a;var n,i,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return e("body").append(r),n=o.offsetWidth,r.css("overflow","scroll"),n===(i=o.offsetWidth)&&(i=r[0].clientWidth),r.remove(),a=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),a="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,r="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var a,h,f,g,m,v=e(t.of),_=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(_),y=v[0],w=(t.collision||"flip").split(" "),x={};return 9===y.nodeType?(h=v.width(),f=v.height(),g={top:0,left:0}):e.isWindow(y)?(h=v.width(),f=v.height(),g={top:v.scrollTop(),left:v.scrollLeft()}):y.preventDefault?(t.at="left top",h=f=0,g={top:y.pageY,left:y.pageX}):(h=v.outerWidth(),f=v.outerHeight(),g=v.offset()),m=e.extend({},g),e.each(["my","at"],(function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",e=d.exec(i[0]),n=d.exec(i[1]),x[this]=[e?e[0]:0,n?n[0]:0],t[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]})),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?m.left+=h:"center"===t.at[0]&&(m.left+=h/2),"bottom"===t.at[1]?m.top+=f:"center"===t.at[1]&&(m.top+=f/2),a=n(x.at,h,f),m.left+=a[0],m.top+=a[1],this.each((function(){var l,c,d=e(this),u=d.outerWidth(),p=d.outerHeight(),y=i(this,"marginLeft"),C=i(this,"marginTop"),S=u+y+i(this,"marginRight")+b.width,T=p+C+i(this,"marginBottom")+b.height,k=e.extend({},m),A=n(x.my,d.outerWidth(),d.outerHeight());"right"===t.my[0]?k.left-=u:"center"===t.my[0]&&(k.left-=u/2),"bottom"===t.my[1]?k.top-=p:"center"===t.my[1]&&(k.top-=p/2),k.left+=A[0],k.top+=A[1],e.support.offsetFractions||(k.left=s(k.left),k.top=s(k.top)),l={marginLeft:y,marginTop:C},e.each(["left","top"],(function(n,i){e.ui.position[w[n]]&&e.ui.position[w[n]][i](k,{targetWidth:h,targetHeight:f,elemWidth:u,elemHeight:p,collisionPosition:l,collisionWidth:S,collisionHeight:T,offset:[a[0]+A[0],a[1]+A[1]],my:t.my,at:t.at,within:_,elem:d})})),e.fn.bgiframe&&d.bgiframe(),t.using&&(c=function(e){var n=g.left-k.left,i=n+h-u,a=g.top-k.top,s=a+f-p,l={target:{element:v,left:g.left,top:g.top,width:h,height:f},element:{element:d,left:k.left,top:k.top,width:u,height:p},horizontal:0>i?"left":n>0?"right":"center",vertical:0>s?"top":a>0?"bottom":"middle"};u>h&&o(n+i)<h&&(l.horizontal="center"),p>f&&o(a+s)<f&&(l.vertical="middle"),r(o(n),o(i))>r(o(a),o(s))?l.important="horizontal":l.important="vertical",t.using.call(this,e,l)}),d.offset(e.extend(k,{using:c}))}))},e.ui.position={fit:{left:function(e,t){var n,i=t.within,a=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=e.left-t.collisionPosition.marginLeft,l=a-s,c=s+t.collisionWidth-o-a;t.collisionWidth>o?l>0&&0>=c?(n=e.left+l+t.collisionWidth-o-a,e.left+=l-n):e.left=c>0&&0>=l?a:l>c?a+o-t.collisionWidth:a:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-s,e.left)},top:function(e,t){var n,i=t.within,a=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,l=a-s,c=s+t.collisionHeight-o-a;t.collisionHeight>o?l>0&&0>=c?(n=e.top+l+t.collisionHeight-o-a,e.top+=l-n):e.top=c>0&&0>=l?a:l>c?a+o-t.collisionHeight:a:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,a=t.within,r=a.offset.left+a.scrollLeft,s=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>d?(0>(n=e.left+h+p+f+t.collisionWidth-s-r)||n<o(d))&&(e.left+=h+p+f):u>0&&(((i=e.left-t.collisionPosition.marginLeft+h+p+f-l)>0||o(i)<u)&&(e.left+=h+p+f))},top:function(e,t){var n,i,a=t.within,r=a.offset.top+a.scrollTop,s=a.height,l=a.isWindow?a.scrollTop:a.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-s-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];0>d?(i=e.top+h+p+f+t.collisionHeight-s-r,e.top+h+p+f>d&&(0>i||i<o(d))&&(e.top+=h+p+f)):u>0&&(n=e.top-t.collisionPosition.marginTop+h+p+f-l,e.top+h+p+f>u&&(n>0||o(n)<u)&&(e.top+=h+p+f))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,a,r,o=document.getElementsByTagName("body")[0],s=document.createElement("div");for(r in t=document.createElement(o?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)t.style[r]=i[r];t.appendChild(s),(n=o||document.documentElement).insertBefore(t,n.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",a=e(s).offset().left,e.support.offsetFractions=a>10&&11>a,t.innerHTML="",n.removeChild(t)}(),!1!==e.uiBackCompat&&function(e){var n=e.fn.position;e.fn.position=function(i){if(!i||!i.offset)return n.call(this,i);var a=i.offset.split(" "),r=i.at.split(" ");return 1===a.length&&(a[1]=a[0]),/^\d/.test(a[0])&&(a[0]="+"+a[0]),/^\d/.test(a[1])&&(a[1]="+"+a[1]),1===r.length&&(/left|center|right/.test(r[0])?r[1]="center":(r[1]=r[0],r[0]="center")),n.call(this,e.extend(i,{at:r[0]+a[0]+" "+r[1]+a[1],offset:t}))}}(jQuery)}(jQuery),t=jQuery,t.widget("ui.draggable",t.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===n.iframeFix?"iframe":n.iframeFix).each((function(){t('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")})),!0))},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,n){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=!1;t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1);for(var i=this.element[0],a=!1;i&&(i=i.parentNode);)i==document&&(a=!0);if(!a&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!n||"valid"==this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var r=this;t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==r._trigger("stop",e)&&r._clear()}))}else!1!==this._trigger("stop",e)&&this._clear();return!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each((function(){this.parentNode.removeChild(this)})),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var n=!this.options.handle||!t(this.options.handle,this.element).length;return t(this.options.handle,this.element).find("*").andSelf().each((function(){this==e.target&&(n=!0)})),n},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e])):"clone"==n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"==n.appendTo?this.element[0].parentNode:n.appendTo),i[0]==this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=["document"==e.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==e.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==e.containment?0:t(window).scrollLeft())+t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==e.containment?0:t(window).scrollTop())+(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array)e.containment.constructor==Array&&(this.containment=e.containment);else{var n=t(e.containment),i=n[0];if(!i)return;var a=(n.offset(),"hidden"!=t(i).css("overflow"));this.containment=[(parseInt(t(i).css("borderLeftWidth"),10)||0)+(parseInt(t(i).css("paddingLeft"),10)||0),(parseInt(t(i).css("borderTopWidth"),10)||0)+(parseInt(t(i).css("paddingTop"),10)||0),(a?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t(i).css("borderLeftWidth"),10)||0)-(parseInt(t(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t(i).css("borderTopWidth"),10)||0)-(parseInt(t(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"==e?1:-1,a=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(a[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:a.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:a.scrollLeft())*i}},_generatePosition:function(e){var n=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(i[0].tagName),r=e.pageX,o=e.pageY;if(this.originalPosition){var s;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();s=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else s=this.containment;e.pageX-this.offset.click.left<s[0]&&(r=s[0]+this.offset.click.left),e.pageY-this.offset.click.top<s[1]&&(o=s[1]+this.offset.click.top),e.pageX-this.offset.click.left>s[2]&&(r=s[2]+this.offset.click.left),e.pageY-this.offset.click.top>s[3]&&(o=s[3]+this.offset.click.top)}if(n.grid){var c=n.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;o=s&&(c-this.offset.click.top<s[1]||c-this.offset.click.top>s[3])?c-this.offset.click.top<s[1]?c+n.grid[1]:c-n.grid[1]:c;var d=n.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;r=s&&(d-this.offset.click.left<s[0]||d-this.offset.click.left>s[2])?d-this.offset.click.left<s[0]?d+n.grid[0]:d-n.grid[0]:d}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:i.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:i.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n){var i=t(this).data("draggable"),a=i.options,r=t.extend({},n,{item:i.element});i.sortables=[],t(a.connectToSortable).each((function(){var n=t.data(this,"sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",e,r))}))},stop:function(e,n){var i=t(this).data("draggable"),a=t.extend({},n,{item:i.element});t.each(i.sortables,(function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,a))}))},drag:function(e,n){var i=t(this).data("draggable"),a=this;t.each(i.sortables,(function(r){var o=!1,s=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(i.sortables,(function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!=s&&this.instance._intersectsWith(this.instance.containerCache)&&t.ui.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o}))),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(a).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",e),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",e),i.dropped=!1)}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n){var i=t("body"),a=t(this).data("draggable").options;i.css("cursor")&&(a._cursor=i.css("cursor")),i.css("cursor",a.cursor)},stop:function(e,n){var i=t(this).data("draggable").options;i._cursor&&t("body").css("cursor",i._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n){var i=t(n.helper),a=t(this).data("draggable").options;i.css("opacity")&&(a._opacity=i.css("opacity")),i.css("opacity",a.opacity)},stop:function(e,n){var i=t(this).data("draggable").options;i._opacity&&t(n.helper).css("opacity",i._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(e,n){var i=t(this).data("draggable");i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName&&(i.overflowOffset=i.scrollParent.offset())},drag:function(e,n){var i=t(this).data("draggable"),a=i.options,r=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(a.axis&&"x"==a.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-i.overflowOffset.top<a.scrollSensitivity&&(i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop-a.scrollSpeed)),a.axis&&"y"==a.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-i.overflowOffset.left<a.scrollSensitivity&&(i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft-a.scrollSpeed))):(a.axis&&"x"==a.axis||(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed))),a.axis&&"y"==a.axis||(e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n){var i=t(this).data("draggable"),a=i.options;i.snapElements=[],t(a.snap.constructor!=String?a.snap.items||":data(draggable)":a.snap).each((function(){var e=t(this),n=e.offset();this!=i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})}))},drag:function(e,n){for(var i=t(this).data("draggable"),a=i.options,r=a.snapTolerance,o=n.offset.left,s=o+i.helperProportions.width,l=n.offset.top,c=l+i.helperProportions.height,d=i.snapElements.length-1;d>=0;d--){var u=i.snapElements[d].left,h=u+i.snapElements[d].width,p=i.snapElements[d].top,f=p+i.snapElements[d].height;if(o>u-r&&h+r>o&&l>p-r&&f+r>l||o>u-r&&h+r>o&&c>p-r&&f+r>c||s>u-r&&h+r>s&&l>p-r&&f+r>l||s>u-r&&h+r>s&&c>p-r&&f+r>c){if("inner"!=a.snapMode){var g=Math.abs(p-c)<=r,m=Math.abs(f-l)<=r,v=Math.abs(u-s)<=r,_=Math.abs(h-o)<=r;g&&(n.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top-i.margins.top),m&&(n.position.top=i._convertPositionTo("relative",{top:f,left:0}).top-i.margins.top),v&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left-i.margins.left),_&&(n.position.left=i._convertPositionTo("relative",{top:0,left:h}).left-i.margins.left)}var b=g||m||v||_;"outer"!=a.snapMode&&(g=Math.abs(p-l)<=r,m=Math.abs(f-c)<=r,v=Math.abs(u-o)<=r,_=Math.abs(h-s)<=r,g&&(n.position.top=i._convertPositionTo("relative",{top:p,left:0}).top-i.margins.top),m&&(n.position.top=i._convertPositionTo("relative",{top:f-i.helperProportions.height,left:0}).top-i.margins.top),v&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left-i.margins.left),_&&(n.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left-i.margins.left)),!i.snapElements[d].snapping&&(g||m||v||_||b)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=g||m||v||_||b}else i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1}}}),t.ui.plugin.add("draggable","stack",{start:function(e,n){var i=t(this).data("draggable").options,a=t.makeArray(t(i.stack)).sort((function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)}));if(a.length){var r=parseInt(a[0].style.zIndex)||0;t(a).each((function(e){this.style.zIndex=r+e})),this[0].style.zIndex=r+a.length}}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n){var i=t(n.helper),a=t(this).data("draggable").options;i.css("zIndex")&&(a._zIndex=i.css("zIndex")),i.css("zIndex",a.zIndex)},stop:function(e,n){var i=t(this).data("draggable").options;i._zIndex&&t(n.helper).css("zIndex",i._zIndex)}}),function(e,t){e.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,n=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],n=0;n<t.length;n++)t[n]==this&&t.splice(n,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){"accept"==t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]==this.element[0])return!1;var a=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each((function(){var t=e.data(this,"droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope==i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(a=!0,!1):void 0})),!a&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(t,n,i){if(!n.offset)return!1;var a=(t.positionAbs||t.position.absolute).left,r=a+t.helperProportions.width,o=(t.positionAbs||t.position.absolute).top,s=o+t.helperProportions.height,l=n.offset.left,c=l+n.proportions.width,d=n.offset.top,u=d+n.proportions.height;switch(i){case"fit":return a>=l&&c>=r&&o>=d&&u>=s;case"intersect":return l<a+t.helperProportions.width/2&&r-t.helperProportions.width/2<c&&d<o+t.helperProportions.height/2&&s-t.helperProportions.height/2<u;case"pointer":var h=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,p=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top;return e.ui.isOver(p,h,d,l,n.proportions.height,n.proportions.width);case"touch":return(o>=d&&u>=o||s>=d&&u>=s||d>o&&s>u)&&(a>=l&&c>=a||r>=l&&c>=r||l>a&&r>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i=e.ui.ddmanager.droppables[t.options.scope]||[],a=n?n.type:null,r=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var o=0;o<i.length;o++)if(!(i[o].options.disabled||t&&!i[o].accept.call(i[o].element[0],t.currentItem||t.element))){for(var s=0;s<r.length;s++)if(r[s]==i[o].element[0]){i[o].proportions.height=0;continue e}i[o].visible="none"!=i[o].element.css("display"),i[o].visible&&("mousedown"==a&&i[o]._activate.call(i[o],n),i[o].offset=i[o].element.offset(),i[o].proportions={width:i[o].element[0].offsetWidth,height:i[o].element[0].offsetHeight})}},drop:function(t,n){var i=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,n)))})),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}))},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i=e.ui.intersect(t,this,this.options.tolerance),a=i||1!=this.isover?i&&0==this.isover?"isover":null:"isout";if(a){var r;if(this.options.greedy){var o=this.options.scope,s=this.element.parents(":data(droppable)").filter((function(){return e.data(this,"droppable").options.scope===o}));s.length&&((r=e.data(s[0],"droppable")).greedyChild="isover"==a?1:0)}r&&"isover"==a&&(r.isover=0,r.isout=1,r._out.call(r,n)),this[a]=1,this["isout"==a?"isover":"isout"]=0,this["isover"==a?"_over":"_out"].call(this,n),r&&"isout"==a&&(r.isout=0,r.isover=1,r._over.call(r,n))}}}))},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e,t){e.widget("ui.resizable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var i=this.handles.split(",");this.handles={};for(var a=0;a<i.length;a++){var r=e.trim(i[a]),o=e('<div class="ui-resizable-handle '+("ui-resizable-"+r)+'"></div>');o.css({zIndex:n.zIndex}),"se"==r&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(o)}}this._renderAxis=function(t){for(var n in t=t||this.element,this.handles){if(this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var i,a=e(this.handles[n],this.element);i=/sw|ne|nw|se|n|s/.test(n)?a.outerHeight():a.outerWidth();var r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(r,i),this._proportionallyResize()}e(this.handles[n]).length}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover((function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}})),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter((function(){n.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())})).mouseleave((function(){n.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")}).insertAfter(n),n.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var i in this.handles)e(this.handles[i])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i=this.options,a=this.element.position(),r=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(r.is(".ui-draggable")||/absolute/.test(r.css("position")))&&r.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy();var o=n(this.helper.css("left")),s=n(this.helper.css("top"));i.containment&&(o+=e(i.containment).scrollLeft()||0,s+=e(i.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:s},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:o,top:s},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof i.aspectRatio?i.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor","auto"==l?this.axis+"-resize":l),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(e){var t=this.helper,n=(this.options,this.originalMousePosition),i=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,o=this._change[i];if(!o)return!1;var s=o.apply(this,[e,a,r]);return this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(s=this._updateRatio(s,e)),s=this._respectSize(s,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(s),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,i=this;if(this._helper){var a=this._proportionallyResizeElements,r=a.length&&/textarea/i.test(a[0].nodeName),o=r&&e.ui.hasScroll(a[0],"left")?0:i.sizeDiff.height,s=r?0:i.sizeDiff.width,l={width:i.helper.width()-s,height:i.helper.height()-o},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,d=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;n.animate||this.element.css(e.extend(l,{top:d,left:c})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,a,r,o,s=this.options;o={minWidth:i(s.minWidth)?s.minWidth:0,maxWidth:i(s.maxWidth)?s.maxWidth:1/0,minHeight:i(s.minHeight)?s.minHeight:0,maxHeight:i(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,a=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),a>o.minHeight&&(o.minHeight=a),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.options,this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var n=(this.options,this.position),a=this.size,r=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==r&&(e.left=n.left+(a.width-e.width),e.top=null),"nw"==r&&(e.top=n.top+(a.height-e.height),e.left=n.left+(a.width-e.width)),e},_respectSize:function(e,t){var n=(this.helper,this._vBoundaries),a=(this._aspectRatio||t.shiftKey,this.axis),r=i(e.width)&&n.maxWidth&&n.maxWidth<e.width,o=i(e.height)&&n.maxHeight&&n.maxHeight<e.height,s=i(e.width)&&n.minWidth&&n.minWidth>e.width,l=i(e.height)&&n.minHeight&&n.minHeight>e.height;s&&(e.width=n.minWidth),l&&(e.height=n.minHeight),r&&(e.width=n.maxWidth),o&&(e.height=n.maxHeight);var c=this.originalPosition.left+this.originalSize.width,d=this.position.top+this.size.height,u=/sw|nw|w/.test(a),h=/nw|ne|n/.test(a);s&&u&&(e.left=c-n.minWidth),r&&u&&(e.left=c-n.maxWidth),l&&h&&(e.top=d-n.minHeight),o&&h&&(e.top=d-n.maxHeight);var p=!e.width&&!e.height;return p&&!e.left&&e.top?e.top=null:p&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var t=this.helper||this.element,n=0;n<this._proportionallyResizeElements.length;n++){var i=this._proportionallyResizeElements[n];if(!this.borderDif){var a=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],r=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=e.map(a,(function(e,t){return(parseInt(e,10)||0)+(parseInt(r[t],10)||0)}))}i.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var i=e.ui.ie6?1:0,a=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+a,height:this.element.outerHeight()+a,position:"absolute",left:this.elementOffset.left-i+"px",top:this.elementOffset.top-i+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,n){return{width:this.originalSize.width+t}},w:function(e,t,n){var i=(this.options,this.originalSize);return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,n){var i=(this.options,this.originalSize),a=this.originalPosition;return{top:a.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!=t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","alsoResize",{start:function(t,n){var i=e(this).data("resizable").options,a=function(t){e(t).each((function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})}))};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?a(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],a(i.alsoResize)):e.each(i.alsoResize,(function(e){a(e)}))},resize:function(t,n){var i=e(this).data("resizable"),a=i.options,r=i.originalSize,o=i.originalPosition,s={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-o.top||0,left:i.position.left-o.left||0},l=function(t,i){e(t).each((function(){var t=e(this),a=e(this).data("resizable-alsoresize"),r={},o=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,(function(e,t){var n=(a[t]||0)+(s[t]||0);n&&n>=0&&(r[t]=n||null)})),t.css(r)}))};"object"!=typeof a.alsoResize||a.alsoResize.nodeType?l(a.alsoResize):e.each(a.alsoResize,(function(e,t){l(e,t)}))},stop:function(t,n){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t,n){var i=e(this).data("resizable"),a=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&e.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,l=o?0:i.sizeDiff.width,c={width:i.size.width-l,height:i.size.height-s},d=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(c,u&&d?{top:u,left:d}:{}),{duration:a.animateDuration,easing:a.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(t,i){var a=e(this).data("resizable"),r=a.options,o=a.element,s=r.containment,l=s instanceof e?s.get(0):/parent/.test(s)?o.parent().get(0):s;if(l)if(a.containerElement=e(l),/document/.test(s)||s==document)a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var c=e(l),d=[];e(["Top","Right","Left","Bottom"]).each((function(e,t){d[e]=n(c.css("padding"+t))})),a.containerOffset=c.offset(),a.containerPosition=c.position(),a.containerSize={height:c.innerHeight()-d[3],width:c.innerWidth()-d[1]};var u=a.containerOffset,h=a.containerSize.height,p=a.containerSize.width,f=e.ui.hasScroll(l,"left")?l.scrollWidth:p,g=e.ui.hasScroll(l)?l.scrollHeight:h;a.parentData={element:l,left:u.left,top:u.top,width:f,height:g}}},resize:function(t,n){var i=e(this).data("resizable"),a=i.options,r=(i.containerSize,i.containerOffset),o=(i.size,i.position),s=i._aspectRatio||t.shiftKey,l={top:0,left:0},c=i.containerElement;c[0]!=document&&/static/.test(c.css("position"))&&(l=r),o.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-l.left),s&&(i.size.height=i.size.width/i.aspectRatio),i.position.left=a.helper?r.left:0),o.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),s&&(i.size.width=i.size.height*i.aspectRatio),i.position.top=i._helper?r.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top;var d=Math.abs((i._helper,i.offset.left-l.left+i.sizeDiff.width)),u=Math.abs((i._helper?i.offset.top-l.top:i.offset.top-r.top)+i.sizeDiff.height),h=i.containerElement.get(0)==i.element.parent().get(0),p=/relative|absolute/.test(i.containerElement.css("position"));h&&p&&(d-=i.parentData.left),d+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-d,s&&(i.size.height=i.size.width/i.aspectRatio)),u+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-u,s&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(t,n){var i=e(this).data("resizable"),a=i.options,r=(i.position,i.containerOffset),o=i.containerPosition,s=i.containerElement,l=e(i.helper),c=l.offset(),d=l.outerWidth()-i.sizeDiff.width,u=l.outerHeight()-i.sizeDiff.height;i._helper&&!a.animate&&/relative/.test(s.css("position"))&&e(this).css({left:c.left-o.left-r.left,width:d,height:u}),i._helper&&!a.animate&&/static/.test(s.css("position"))&&e(this).css({left:c.left-o.left-r.left,width:d,height:u})}}),e.ui.plugin.add("resizable","ghost",{start:function(t,n){var i=e(this).data("resizable"),a=i.options,r=i.size;i.ghost=i.originalElement.clone(),i.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof a.ghost?a.ghost:""),i.ghost.appendTo(i.helper)},resize:function(t,n){var i=e(this).data("resizable");i.options,i.ghost&&i.ghost.css({position:"relative",height:i.size.height,width:i.size.width})},stop:function(t,n){var i=e(this).data("resizable");i.options,i.ghost&&i.helper&&i.helper.get(0).removeChild(i.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t,n){var i=e(this).data("resizable"),a=i.options,r=i.size,o=i.originalSize,s=i.originalPosition,l=i.axis;a._aspectRatio||t.shiftKey,a.grid="number"==typeof a.grid?[a.grid,a.grid]:a.grid;var c=Math.round((r.width-o.width)/(a.grid[0]||1))*(a.grid[0]||1),d=Math.round((r.height-o.height)/(a.grid[1]||1))*(a.grid[1]||1);/^(se|s|e)$/.test(l)?(i.size.width=o.width+c,i.size.height=o.height+d):/^(ne)$/.test(l)?(i.size.width=o.width+c,i.size.height=o.height+d,i.position.top=s.top-d):/^(sw)$/.test(l)?(i.size.width=o.width+c,i.size.height=o.height+d,i.position.left=s.left-c):(i.size.width=o.width+c,i.size.height=o.height+d,i.position.top=s.top-d,i.position.left=s.left-c)}});var n=function(e){return parseInt(e,10)||0},i=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(n.options.filter,n.element[0])).addClass("ui-selectee"),t.each((function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var i=this.options;this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))})),e(t.target).parents().andSelf().each((function(){var i=e.data(this,"selectable-item");if(i){var a=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected");return i.$element.removeClass(a?"ui-unselecting":"ui-selected").addClass(a?"ui-selecting":"ui-unselecting"),i.unselecting=!a,i.selecting=a,i.selected=a,a?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1}}))}},_mouseDrag:function(t){var n=this;if(this.dragged=!0,!this.options.disabled){var i=this.options,a=this.opos[0],r=this.opos[1],o=t.pageX,s=t.pageY;if(a>o){var l=o;o=a,a=l}if(r>s){l=s;s=r,r=l}return this.helper.css({left:a,top:r,width:o-a,height:s-r}),this.selectees.each((function(){var l=e.data(this,"selectable-item");if(l&&l.element!=n.element[0]){var c=!1;"touch"==i.tolerance?c=!(l.left>o||l.right<a||l.top>s||l.bottom<r):"fit"==i.tolerance&&(c=l.left>a&&l.right<o&&l.top>r&&l.bottom<s),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,n._trigger("selecting",t,{selecting:l.element}))):(l.selecting&&((t.metaKey||t.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),n._trigger("unselecting",t,{unselecting:l.element}))),l.selected&&(t.metaKey||t.ctrlKey||l.startselected||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,n._trigger("unselecting",t,{unselecting:l.element}))))}})),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,this.options,e(".ui-unselecting",this.element[0]).each((function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})})),e(".ui-selecting",this.element[0]).each((function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})})),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e,t){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var a=null;if(e(t.target).parents().each((function(){return e.data(this,i.widgetName+"-item")==i?(a=e(this),!1):void 0})),e.data(t.target,i.widgetName+"-item")==i&&(a=e(t.target)),!a)return!1;if(this.options.handle&&!n){var r=!1;if(e(this.options.handle,a).find("*").andSelf().each((function(){this==t.target&&(r=!0)})),!r)return!1}return this.currentItem=a,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,i){var a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",a.cursor)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(var r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,i=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),!1!==i&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var a=this.items.length-1;a>=0;a--){var r=this.items[a],o=r.item[0],s=this._intersectsWithPointer(r);if(s&&r.instance===this.currentContainer&&o!=this.currentItem[0]&&this.placeholder[1==s?"next":"prev"]()[0]!=o&&!e.contains(this.placeholder[0],o)&&("semi-dynamic"!=this.options.type||!e.contains(this.element[0],o))){if(this.direction=1==s?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,a=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,(function(){i._clear(t)}))}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each((function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))})),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each((function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")})),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,a=i+this.helperProportions.height,r=e.left,o=r+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,d=this.offset.click.left,u=i+c>s&&l>i+c&&t+d>r&&o>t+d;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?u:r<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&s<i+this.helperProportions.height/2&&a-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),a=n&&i,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!a&&(this.floating?o&&"right"==o||"down"==r?2:1:r&&("down"==r?2:1))},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),a=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"==r&&i||"left"==r&&!i:a&&("down"==a&&n||"up"==a&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],i=[],a=this._connectWith();if(a&&t)for(var r=a.length-1;r>=0;r--)for(var o=e(a[r]),s=o.length-1;s>=0;s--){var l=e.data(o[s],this.widgetName);l&&l!=this&&!l.options.disabled&&i.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}i.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(r=i.length-1;r>=0;r--)i[r][0].each((function(){n.push(this)}));return e(n)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var n=0;n<t.length;n++)if(t[n]==e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,i=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],a=this._connectWith();if(a&&this.ready)for(var r=a.length-1;r>=0;r--)for(var o=e(a[r]),s=o.length-1;s>=0;s--){var l=e.data(o[s],this.widgetName);l&&l!=this&&!l.options.disabled&&(i.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(r=i.length-1;r>=0;r--)for(var c=i[r][1],d=i[r][0],u=(s=0,d.length);u>s;s++){var h=e(d[s]);h.data(this.widgetName+"-item",c),n.push({item:h,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var i=this.items[n];if(i.instance==this.currentContainer||!this.currentContainer||i.item[0]==this.currentItem[0]){var a=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item;t||(i.width=a.outerWidth(),i.height=a.outerHeight());var r=a.offset();i.left=r.left,i.top=r.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--){r=this.containers[n].element.offset();this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){var n=(t=t||this).options;if(!n.placeholder||n.placeholder.constructor==String){var i=n.placeholder;n.placeholder={element:function(){var n=e(document.createElement(t.currentItem[0].nodeName)).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return i||(n.style.visibility="hidden"),n},update:function(e,a){(!i||n.forcePlaceholderSize)&&(a.height()||a.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),a.width()||a.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}}t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){for(var n=null,i=null,a=this.containers.length-1;a>=0;a--)if(!e.contains(this.currentItem[0],this.containers[a].element[0]))if(this._intersectsWith(this.containers[a].containerCache)){if(n&&e.contains(this.containers[a].element[0],n.element[0]))continue;n=this.containers[a],i=a}else this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",t,this._uiHash(this)),this.containers[a].containerCache.over=0);if(n)if(1===this.containers.length)this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1;else{for(var r=1e4,o=null,s=this.containers[i].floating?"left":"top",l=this.containers[i].floating?"width":"height",c=this.positionAbs[s]+this.offset.click[s],d=this.items.length-1;d>=0;d--)if(e.contains(this.containers[i].element[0],this.items[d].item[0])&&this.items[d].item[0]!=this.currentItem[0]){var u=this.items[d].item.offset()[s],h=!1;Math.abs(u-c)>Math.abs(u+this.items[d][l]-c)&&(h=!0,u+=this.items[d][l]),Math.abs(u-c)<r&&(r=Math.abs(u-c),o=this.items[d],this.direction=h?"up":"down")}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[i],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[i].element,!0),this._trigger("change",t,this._uiHash()),this.containers[i]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(""==i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],i=e(t.containment).offset(),a="hidden"!=e(n).css("overflow");this.containment=[i.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,i.left+(a?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(a?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"==t?1:-1,a=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(a[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:a.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:a.scrollLeft())*i}},_generatePosition:function(t){var n=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(i[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var r=t.pageX,o=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid)){var s=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1];o=this.containment&&(s-this.offset.click.top<this.containment[1]||s-this.offset.click.top>this.containment[3])?s-this.offset.click.top<this.containment[1]?s+n.grid[1]:s-n.grid[1]:s;var l=this.originalPageX+Math.round((r-this.originalPageX)/n.grid[0])*n.grid[0];r=this.containment&&(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l-this.offset.click.left<this.containment[0]?l+n.grid[0]:l-n.grid[0]:l}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:i.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:i.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay((function(){a==this.counter&&this.refreshPositions(!i)}))},_clear:function(t,n){this.reverting=!1;var i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var a in this._storedCSS)("auto"==this._storedCSS[a]||"static"==this._storedCSS[a])&&(this._storedCSS[a]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&i.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||n||i.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(n||(i.push((function(e){this._trigger("remove",e,this._uiHash())})),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(a=this.containers.length-1;a>=0;a--)n||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[a])),this.containers[a].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[a])),this.containers[a].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(a=0;a<i.length;a++)i[a].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(a=0;a<i.length;a++)i[a].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var n=0,i={},a={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.accordionId="ui-accordion-"+(this.element.attr("id")||++n),i=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),i.collapsible||!1!==i.active&&null!=i.active||(i.active=0),i.active<0&&(i.active+=this.headers.length),this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each((function(n){var i=e(this),a=i.attr("id"),r=i.next(),o=r.attr("id");a||(a=t+"-header-"+n,i.attr("id",a)),o||(o=t+"-panel-"+n,r.attr("id",o)),i.attr("aria-controls",o),r.attr("aria-labelledby",a)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(i.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each((function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")})),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each((function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")})),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,a=this.headers.index(t.target),r=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:r=this.headers[(a+1)%i];break;case n.LEFT:case n.UP:r=this.headers[(a-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:r=this.headers[0];break;case n.END:r=this.headers[i-1]}r&&(e(t.target).attr("tabIndex",-1),e(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t,n,i=this.options.heightStyle,a=this.element.parent();"fill"===i?(e.support.minHeight||(n=a.css("overflow"),a.css("overflow","hidden")),t=a.height(),this.element.siblings(":visible").each((function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))})),n&&a.css("overflow",n),this.headers.each((function(){t-=e(this).outerHeight(!0)})),this.headers.next().each((function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each((function(){t=Math.max(t,e(this).css("height","").height())})).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={};t&&(e.each(t.split(" "),(function(e,t){n[t]="_eventHandler"})),this._on(this.headers,n))},_eventHandler:function(t){var n=this.options,i=this.active,a=e(t.currentTarget),r=a[0]===i[0],o=r&&n.collapsible,s=o?e():a.next(),l=i.next(),c={oldHeader:i,oldPanel:l,newHeader:o?e():a,newPanel:s};t.preventDefault(),r&&!n.collapsible||!1===this._trigger("beforeActivate",t,c)||(n.active=!o&&this.headers.index(a),this.active=r?e():a,this._toggle(c),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),r||(a.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&a.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),a.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-expanded":"false","aria-hidden":"true"}),i.prev().attr("aria-selected","false"),n.length&&i.length?i.prev().attr("tabIndex",-1):n.length&&this.headers.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),n.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,n){var r,o,s,l=this,c=0,d=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},h=d&&u.down||u,p=function(){l._toggleComplete(n)};return"number"==typeof h&&(s=h),"string"==typeof h&&(o=h),o=o||h.easing||u.easing,s=s||h.duration||u.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(i,{duration:s,easing:o,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(a,{duration:s,easing:o,complete:p,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?c+=n.now:"content"!==l.options.heightStyle&&(n.now=Math.round(r-t.outerHeight()-c),c=0)}})):t.animate(i,s,o,p):e.animate(a,s,o,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),!1!==e.uiBackCompat&&(function(e,t){e.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var n=t._create;t._create=function(){if(this.options.navigation){var t=this,i=this.element.find(this.options.header),a=i.next(),r=i.add(a).find("a").filter(this.options.navigationFilter)[0];r&&i.add(a).each((function(n){return e.contains(this,r)?(t.options.active=Math.floor(n/2),!1):void 0}))}n.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var n=t._create,i=t._setOption;e.extend(t,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),n.call(this)},_setOption:function(e){("autoHeight"===e||"clearStyle"===e||"fillSpace"===e)&&(this.options.heightStyle=this._mergeHeightStyle()),i.apply(this,arguments)},_mergeHeightStyle:function(){var e=this.options;return e.fillSpace?"fill":e.clearStyle?"content":e.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var n=t._createIcons;t._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){t.activate=t._activate;var n=t._findActive;t._findActive=function(e){return-1===e&&(e=!1),e&&"number"!=typeof e&&(-1===(e=this.headers.index(this.headers.filter(e)))&&(e=!1)),n.call(this,e)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(e,t){e.extend(t.options,{change:null,changestart:null});var n=t._trigger;t._trigger=function(e,t,i){var a=n.apply(this,arguments);return!!a&&("beforeActivate"===e?a=n.call(this,"changestart",t,{oldHeader:i.oldHeader,oldContent:i.oldPanel,newHeader:i.newHeader,newContent:i.newPanel}):"activate"===e&&(a=n.call(this,"change",t,{oldHeader:i.oldHeader,oldContent:i.oldPanel,newHeader:i.newHeader,newContent:i.newPanel})),a)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{animate:null,animated:"slide"});var n=t._create;t._create=function(){var e=this.options;null===e.animate&&(e.animated?"slide"===e.animated?e.animate=300:"bounceslide"===e.animated?e.animate={duration:200,down:{easing:"easeOutBounce",duration:1e3}}:e.animate=e.animated:e.animate=!1),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(e,t){var n=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,i;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(a){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var r=e.ui.keyCode;switch(a.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",a);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",a);break;case r.UP:t=!0,this._keyEvent("previous",a);break;case r.DOWN:t=!0,this._keyEvent("next",a);break;case r.ENTER:case r.NUMPAD_ENTER:this.menu.active&&(t=!0,a.preventDefault(),this.menu.select(a));break;case r.TAB:this.menu.active&&this.menu.select(a);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(a),a.preventDefault());break;default:n=!0,this._searchTimeout(a)}},keypress:function(i){if(t)return t=!1,void i.preventDefault();if(!n){var a=e.ui.keyCode;switch(i.keyCode){case a.PAGE_UP:this._move("previousPage",i);break;case a.PAGE_DOWN:this._move("nextPage",i);break;case a.UP:this._keyEvent("previous",i);break;case a.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay((function(){var t=this;this.document.one("mousedown",(function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()}))}))},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));var i=n.item.data("ui-autocomplete-item")||n.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay((function(){this.previous=i,this.selectedItem=n}))),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,a){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){a(e)},error:function(){a([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,t=++n;return function(i){t===n&&e.__response(i),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)}))},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,(function(e,n){i._renderItemData(t,n)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,(function(e){return i.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e,t){var n,i,a,r,o="ui-button ui-widget ui-state-default ui-corner-all",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout((function(){t.button("refresh")}),1)},c=function(t){var n=t.name,i=t.form,a=e([]);return n&&(a=i?e(i).find("[name='"+n+"']"):e("[name='"+n+"']",t.ownerDocument).filter((function(){return!this.form}))),a};e.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,s=this.options,d="checkbox"===this.type||"radio"===this.type,u=d?"":"ui-state-active",h="ui-state-focus";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){s.disabled||this===n&&e(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){s.disabled||e(this).removeClass(u)})).bind("click"+this.eventNamespace,(function(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())})),this.element.bind("focus"+this.eventNamespace,(function(){t.buttonElement.addClass(h)})).bind("blur"+this.eventNamespace,(function(){t.buttonElement.removeClass(h)})),d&&(this.element.bind("change"+this.eventNamespace,(function(){r||t.refresh()})),this.buttonElement.bind("mousedown"+this.eventNamespace,(function(e){s.disabled||(r=!1,i=e.pageX,a=e.pageY)})).bind("mouseup"+this.eventNamespace,(function(e){s.disabled||(i!==e.pageX||a!==e.pageY)&&(r=!0)}))),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){return!s.disabled&&!r&&(e(this).toggleClass("ui-state-active"),void t.buttonElement.attr("aria-pressed",t.element[0].checked))})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(s.disabled||r)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];c(n).not(n).map((function(){return e(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){return!s.disabled&&(e(this).addClass("ui-state-active"),n=this,void t.document.one("mouseup",(function(){n=null})))})).bind("mouseup"+this.eventNamespace,(function(){return!s.disabled&&void e(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(t){return!s.disabled&&void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))})).bind("keyup"+this.eventNamespace,(function(){e(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()}))),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" ui-state-hover ui-state-active  "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?void(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each((function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(s),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,a=i.primary&&i.secondary,r=[];i.primary||i.secondary?(this.options.text&&r.push("ui-button-text-icon"+(a?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(r.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):r.push("ui-button-text-only"),t.addClass(r.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",(function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")})).delegate(t,"mouseover",(function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))}))}function extendRemove(e,t){for(var n in $.extend(e,t),t)(null==t[n]||t[n]==undefined)&&(e[n]=t[n]);return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function _attachDatepicker(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]),n.hasClass(this.markerClassName)||(this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",(function(e,n,i){t.settings[n]=i})).bind("getData.datepicker",(function(e,n){return this._get(t,n)})),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n=this._get(t,"appendText"),i=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[i?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var a=this._get(t,"showOn");if(("focus"==a||"both"==a)&&e.focus(this._showDatepicker),"button"==a||"both"==a){var r=this._get(t,"buttonText"),o=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==o?r:$("<img/>").attr({src:o,alt:r,title:r}))),e[i?"before":"after"](t.trigger),t.trigger.click((function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1}))}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var i=function(e){for(var t=0,n=0,i=0;i<e.length;i++)e[i].length>t&&(t=e[i].length,n=i);return n};t.setMonth(i(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(i(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=$(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",(function(e,n,i){t.settings[n]=i})).bind("getData.datepicker",(function(e,n){return this._get(t,n)})),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,i,a){var r=this._dialogInst;if(!r){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),(r=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],PROP_NAME,r)}if(extendRemove(r.settings,i||{}),t=t&&t.constructor==Date?this._formatDate(r,t):t,this._dialogInput.val(t),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,!this._pos){var s=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[s/2-100+c,l/2-150+d]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),r.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,r),this},_destroyDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==i?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==i||"span"==i)&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!1,n.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==i||"span"==i){var a=t.children("."+this._inlineClass);a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,(function(t){return t==e?null:t}))}},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!0,n.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==i||"span"==i){var a=t.children("."+this._inlineClass);a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,(function(t){return t==e?null:t})),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var i=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):i?"all"==t?$.extend({},i.settings):this._get(i,t):null;var a=t||{};if("string"==typeof t&&((a={})[t]=n),i){this._curInst==i&&this._hideDatepicker();var r=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(i,"min"),s=this._getMinMaxDate(i,"max");extendRemove(i.settings,a),null!==o&&a.dateFormat!==undefined&&a.minDate===undefined&&(i.settings.minDate=this._formatDate(i,o)),null!==s&&a.dateFormat!==undefined&&a.maxDate===undefined&&(i.settings.maxDate=this._formatDate(i,s)),this._attachments($(e),i),this._autoSize(i),this._setDate(i,r),this._updateAlternate(i),this._updateDatepicker(i)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,i=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var a=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);a[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,a[0]);var r=$.datepicker._get(t,"onSelect");if(r){var o=$.datepicker._formatDate(t);r.apply(t.input?t.input[0]:null,[o,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,i?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,i?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),i=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t))&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(s){$.datepicker.log(s)}return!0},_showDatepicker:function(e){if("input"!=(e=e.target||e).nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(t,"beforeShow"),i=n?n.apply(e,[e,t]):{};if(!1!==i){extendRemove(t.settings,i),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var a=!1;$(e).parents().each((function(){return!(a|="fixed"==$(this).css("position"))}));var r={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),r=$.datepicker._checkOffset(t,r,a),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":a?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),!t.inline){var o=$.datepicker._get(t,"showAnim"),s=$.datepicker._get(t,"duration"),l=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var n=$.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[o]||$.effects[o])?t.dpDiv.show(o,$.datepicker._get(t,"showOptions"),s,l):t.dpDiv[o||"show"](o?s:null,l),o&&s||l(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n=e.dpDiv.find("iframe.ui-datepicker-cover");n.length&&n.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i=this._getNumberOfMonths(e),a=i[1];if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&e.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",17*a+"em"),e.dpDiv[(1!=i[0]||1!=i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var r=e.yearshtml;setTimeout((function(){r===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),r=e.yearshtml=null}),0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var i=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,s=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?i-r:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+o?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+i>s&&s>i?Math.abs(t.left+i-s):0),t.top-=Math.min(t.top,t.top+a>l&&l>a?Math.abs(a+o):0),t},_findPos:function(e){for(var t=this._getInst(e),n=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];var i=$(e).offset();return[i.left,i.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var n=this._get(t,"showAnim"),i=this._get(t,"duration"),a=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[n]||$.effects[n])?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),i,a):t.dpDiv["slideDown"==n?"slideUp":"fadeIn"==n?"fadeOut":"hide"](n?i:null,a),n||a(),this._datepickerShowing=!1;var r=this._get(t,"onClose");r&&r.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&0==t.parents("#"+$.datepicker._mainDivId).length&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,n){var i=$(e),a=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(a,t+("M"==n?this._get(a,"showCurrentAtPos"):0),n),this._updateDatepicker(a))},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);if(this._get(n,"gotoCurrent")&&n.currentDay)n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear;else{var i=new Date;n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()}this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var i=$(e),a=this._getInst(i[0]);a["selected"+("M"==n?"Month":"Year")]=a["draw"+("M"==n?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(i)},_selectDay:function(e,t,n,i){var a=$(e);if(!$(i).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(a[0])){var r=this._getInst(a[0]);r.selectedDay=r.currentDay=$("a",i).html(),r.selectedMonth=r.currentMonth=t,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]),this._selectDate(t,"")},_selectDate:function(e,t){var n=$(e),i=this._getInst(n[0]);t=null!=t?t:this._formatDate(i),i.input&&i.input.val(t),this._updateAlternate(i);var a=this._get(i,"onSelect");a?a.apply(i.input?i.input[0]:null,[t,i]):i.input&&i.input.trigger("change"),i.inline?this._updateDatepicker(i):(this._hideDatepicker(),this._lastInput=i.input[0],"object"!=typeof i.input[0]&&i.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),a=this.formatDate(n,i,this._getFormatConfig(e));$(t).each((function(){$(this).val(a)}))}},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1},parseDate:function(e,t,n){if(null==e||null==t)throw"Invalid arguments";if(""==(t="object"==typeof t?t.toString():t+""))return null;var i=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;i="string"!=typeof i?i:(new Date).getFullYear()%100+parseInt(i,10);for(var a=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,r=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,d=-1,u=-1,h=!1,p=function(t){var n=_+1<e.length&&e.charAt(_+1)==t;return n&&_++,n},f=function(e){var n=p(e),i=new RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e&&n?4:"o"==e?3:2)+"}"),a=t.substring(v).match(i);if(!a)throw"Missing number at position "+v;return v+=a[0].length,parseInt(a[0],10)},g=function(e,n,i){var a=$.map(p(e)?i:n,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)})),r=-1;if($.each(a,(function(e,n){var i=n[1];return t.substr(v,i.length).toLowerCase()==i.toLowerCase()?(r=n[0],v+=i.length,!1):void 0})),-1!=r)return r+1;throw"Unknown name at position "+v},m=function(){if(t.charAt(v)!=e.charAt(_))throw"Unexpected literal at position "+v;v++},v=0,_=0;_<e.length;_++)if(h)"'"!=e.charAt(_)||p("'")?m():h=!1;else switch(e.charAt(_)){case"d":d=f("d");break;case"D":g("D",a,r);break;case"o":u=f("o");break;case"m":c=f("m");break;case"M":c=g("M",o,s);break;case"y":l=f("y");break;case"@":l=(b=new Date(f("@"))).getFullYear(),c=b.getMonth()+1,d=b.getDate();break;case"!":var b;l=(b=new Date((f("!")-this._ticksTo1970)/1e4)).getFullYear(),c=b.getMonth()+1,d=b.getDate();break;case"'":p("'")?m():h=!0;break;default:m()}if(v<t.length){var y=t.substr(v);if(!/^\s+/.test(y))throw"Extra/unparsed characters found in date: "+y}if(-1==l?l=(new Date).getFullYear():100>l&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i>=l?0:-100)),u>-1)for(c=1,d=u;;){var w=this._getDaysInMonth(l,c-1);if(w>=d)break;c++,d-=w}if((b=this._daylightSavingAdjust(new Date(l,c-1,d))).getFullYear()!=l||b.getMonth()+1!=c||b.getDate()!=d)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,a=(n?n.dayNames:null)||this._defaults.dayNames,r=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,s=function(t){var n=h+1<e.length&&e.charAt(h+1)==t;return n&&h++,n},l=function(e,t,n){var i=""+t;if(s(e))for(;i.length<n;)i="0"+i;return i},c=function(e,t,n,i){return s(e)?i[t]:n[t]},d="",u=!1;if(t)for(var h=0;h<e.length;h++)if(u)"'"!=e.charAt(h)||s("'")?d+=e.charAt(h):u=!1;else switch(e.charAt(h)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=c("D",t.getDay(),i,a);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=c("M",t.getMonth(),r,o);break;case"y":d+=s("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":s("'")?d+="'":u=!0;break;default:d+=e.charAt(h)}return d},_possibleChars:function(e){for(var t="",n=!1,i=function(t){var n=a+1<e.length&&e.charAt(a+1)==t;return n&&a++,n},a=0;a<e.length;a++)if(n)"'"!=e.charAt(a)||i("'")?t+=e.charAt(a):n=!1;else switch(e.charAt(a)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":i("'")?t+="'":n=!0;break;default:t+=e.charAt(a)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var n,i,a=this._get(e,"dateFormat"),o=e.lastVal=e.input?e.input.val():null;n=i=this._getDefaultDate(e);var s=this._getFormatConfig(e);try{n=this.parseDate(a,o,s)||i}catch(r){this.log(r),o=t?"":o}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=o?n.getDate():0,e.currentMonth=o?n.getMonth():0,e.currentYear=o?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var i=null==t||""===t?n:"string"==typeof t?function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(n){}for(var i=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,a=i.getFullYear(),r=i.getMonth(),o=i.getDate(),s=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(t);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(a,r));break;case"y":case"Y":a+=parseInt(l[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(a,r))}l=s.exec(t)}return new Date(a,r,o)}(t):"number"==typeof t?isNaN(t)?n:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(t):new Date(t.getTime());return(i=i&&"Invalid Date"==i.toString()?n:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,a=e.selectedMonth,r=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),a==e.selectedMonth&&r==e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map((function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),i=this._get(e,"showButtonPanel"),a=this._get(e,"hideIfNoPrevNext"),r=this._get(e,"navigationAsDateFormat"),o=this._getNumberOfMonths(e),s=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=o[0]||1!=o[1],d=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),p=e.drawMonth-s,f=e.drawYear;if(0>p&&(p+=12,f--),h){var g=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-o[0]*o[1]+1,h.getDate()));for(g=u&&u>g?u:g;this._daylightSavingAdjust(new Date(f,p,1))>g;)0>--p&&(p=11,f--)}e.drawMonth=p,e.drawYear=f;var m=this._get(e,"prevText");m=r?this.formatDate(m,this._daylightSavingAdjust(new Date(f,p-l,1)),this._getFormatConfig(e)):m;var v=this._canAdjustMonth(e,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":a?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",_=this._get(e,"nextText");_=r?this.formatDate(_,this._daylightSavingAdjust(new Date(f,p+l,1)),this._getFormatConfig(e)):_;var b=this._canAdjustMonth(e,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+_+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+_+"</span></a>":a?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+_+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+_+"</span></a>",y=this._get(e,"currentText"),w=this._get(e,"gotoCurrent")&&e.currentDay?d:t;y=r?this.formatDate(y,w,this._getFormatConfig(e)):y;var x=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",C=i?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?x:"")+(this._isInRange(e,w)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+y+"</button>":"")+(n?"":x)+"</div>":"",S=parseInt(this._get(e,"firstDay"),10);S=isNaN(S)?0:S;for(var T=this._get(e,"showWeek"),k=this._get(e,"dayNames"),A=(this._get(e,"dayNamesShort"),this._get(e,"dayNamesMin")),P=this._get(e,"monthNames"),E=this._get(e,"monthNamesShort"),D=this._get(e,"beforeShowDay"),O=this._get(e,"showOtherMonths"),M=this._get(e,"selectOtherMonths"),I=(this._get(e,"calculateWeek")||this.iso8601Week,this._getDefaultDate(e)),N="",L=0;L<o[0];L++){var R="";this.maxRows=4;for(var j=0;j<o[1];j++){var B=this._daylightSavingAdjust(new Date(f,p,e.selectedDay)),V=" ui-corner-all",H="";if(c){if(H+='<div class="ui-datepicker-group',o[1]>1)switch(j){case 0:H+=" ui-datepicker-group-first",V=" ui-corner-"+(n?"right":"left");break;case o[1]-1:H+=" ui-datepicker-group-last",V=" ui-corner-"+(n?"left":"right");break;default:H+=" ui-datepicker-group-middle",V=""}H+='">'}H+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+V+'">'+(/all|left/.test(V)&&0==L?n?b:v:"")+(/all|right/.test(V)&&0==L?n?v:b:"")+this._generateMonthYearHeader(e,p,f,u,h,L>0||j>0,P,E)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var F=T?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",z=0;7>z;z++){var U=(z+S)%7;F+="<th"+((z+S+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+k[U]+'">'+A[U]+"</span></th>"}H+=F+"</tr></thead><tbody>";var W=this._getDaysInMonth(f,p);f==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,W));var q=(this._getFirstDayOfMonth(f,p)-S+7)%7,G=Math.ceil((q+W)/7),Y=c&&this.maxRows>G?this.maxRows:G;this.maxRows=Y;for(var Q=this._daylightSavingAdjust(new Date(f,p,1-q)),J=0;Y>J;J++){H+="<tr>";var Z=T?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(Q)+"</td>":"";for(z=0;7>z;z++){var X=D?D.apply(e.input?e.input[0]:null,[Q]):[!0,""],K=Q.getMonth()!=p,ee=K&&!M||!X[0]||u&&u>Q||h&&Q>h;Z+='<td class="'+((z+S+6)%7>=5?" ui-datepicker-week-end":"")+(K?" ui-datepicker-other-month":"")+(Q.getTime()==B.getTime()&&p==e.selectedMonth&&e._keyEvent||I.getTime()==Q.getTime()&&I.getTime()==B.getTime()?" "+this._dayOverClass:"")+(ee?" "+this._unselectableClass+" ui-state-disabled":"")+(K&&!O?"":" "+X[1]+(Q.getTime()==d.getTime()?" "+this._currentClass:"")+(Q.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(K&&!O||!X[2]?"":' title="'+X[2]+'"')+(ee?"":' data-handler="selectDay" data-event="click" data-month="'+Q.getMonth()+'" data-year="'+Q.getFullYear()+'"')+">"+(K&&!O?"&#xa0;":ee?'<span class="ui-state-default">'+Q.getDate()+"</span>":'<a class="ui-state-default'+(Q.getTime()==t.getTime()?" ui-state-highlight":"")+(Q.getTime()==d.getTime()?" ui-state-active":"")+(K?" ui-priority-secondary":"")+'" href="#">'+Q.getDate()+"</a>")+"</td>",Q.setDate(Q.getDate()+1),Q=this._daylightSavingAdjust(Q)}H+=Z+"</tr>"}++p>11&&(p=0,f++),R+=H+="</tbody></table>"+(c?"</div>"+(o[0]>0&&j==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}N+=R}return N+=C+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,N},_generateMonthYearHeader:function(e,t,n,i,a,r,o,s){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),d=this._get(e,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',h="";if(r||!l)h+='<span class="ui-datepicker-month">'+o[t]+"</span>";else{var p=i&&i.getFullYear()==n,f=a&&a.getFullYear()==n;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;12>g;g++)(!p||g>=i.getMonth())&&(!f||g<=a.getMonth())&&(h+='<option value="'+g+'"'+(g==t?' selected="selected"':"")+">"+s[g]+"</option>");h+="</select>"}if(d||(u+=h+(!r&&l&&c?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!c)u+='<span class="ui-datepicker-year">'+n+"</span>";else{var m=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),_=function(e){var t=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(t)?v:t},b=_(m[0]),y=Math.max(b,_(m[1]||""));for(b=i?Math.max(b,i.getFullYear()):b,y=a?Math.min(y,a.getFullYear()):y,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';y>=b;b++)e.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>";e.yearshtml+="</select>",u+=e.yearshtml,e.yearshtml=null}return u+=this._get(e,"yearSuffix"),d&&(u+=(!r&&l&&c?"":"&#xa0;")+h),u+"</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"==n?t:0),a=e.drawMonth+("M"==n?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(i,a))+("D"==n?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,a,r)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"==n||"Y"==n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),a=n&&n>t?n:t;return i&&a>i?i:a},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var a=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(n,i+(0>t?t:a[0]*a[1]),1));return 0>t&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!i||t.getTime()<=i.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var a=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),a,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each((function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)})):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(e,t){var n="ui-dialog ui-widget ui-widget-content ui-corner-all ",i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var t,i,a,r,o,s=this,l=this.options,c=l.title||"&#160;";t=(this.uiDialog=e("<div>")).addClass(n+l.dialogClass).css({display:"none",outline:0,zIndex:l.zIndex}).attr("tabIndex",-1).keydown((function(t){l.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE&&(s.close(t),t.preventDefault())})).mousedown((function(e){s.moveToTop(!1,e)})).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(t),i=(this.uiDialogTitlebar=e("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",(function(){t.focus()})).prependTo(t),a=e("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click((function(e){e.preventDefault(),s.close(e)})).appendTo(i),(this.uiDialogTitlebarCloseText=e("<span>")).addClass("ui-icon ui-icon-closethick").text(l.closeText).appendTo(a),r=e("<span>").uniqueId().addClass("ui-dialog-title").html(c).prependTo(i),o=(this.uiDialogButtonPane=e("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=e("<div>")).addClass("ui-dialog-buttonset").appendTo(o),t.attr({role:"dialog","aria-labelledby":r.attr("id")}),i.find("*").add(i).disableSelection(),this._hoverable(a),this._focusable(a),l.draggable&&e.fn.draggable&&this._makeDraggable(),l.resizable&&e.fn.resizable&&this._makeResizable(),this._createButtons(l.buttons),this._isOpen=!1,e.fn.bgiframe&&t.bgiframe(),this._on(t,{keydown:function(n){if(l.modal&&n.keyCode===e.ui.keyCode.TAB){var i=e(":tabbable",t),a=i.filter(":first"),r=i.filter(":last");return n.target!==r[0]||n.shiftKey?n.target===a[0]&&n.shiftKey?(r.focus(1),!1):void 0:(a.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var e,t=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var n,i,a=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,(function(){a._trigger("close",t)})):(this.uiDialog.hide(),this._trigger("close",t)),e.ui.dialog.overlay.resize(),this.options.modal&&(n=0,e(".ui-dialog").each((function(){this!==a.uiDialog[0]&&(i=e(this).css("z-index"),isNaN(i)||(n=Math.max(n,i)))})),e.ui.dialog.maxZ=n),this},isOpen:function(){return this._isOpen},moveToTop:function(t,n){var i,a=this.options;return a.modal&&!t||!a.stack&&!a.modal?this._trigger("focus",n):(a.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=a.zIndex),this.overlay&&(e.ui.dialog.maxZ+=1,e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ,this.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ)),i={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},e.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",e.ui.dialog.maxZ),this.element.attr(i),this._trigger("focus",n),this)},open:function(){if(!this._isOpen){var t,n=this.options,i=this.uiDialog;return this._size(),this._position(n.position),i.show(n.show),this.overlay=n.modal?new e.ui.dialog.overlay(this):null,this.moveToTop(!0),(t=this.element.find(":tabbable")).length||((t=this.uiDialogButtonPane.find(":tabbable")).length||(t=i)),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(t){var n=this,i=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof t&&null!==t&&e.each(t,(function(){return!(i=!0)})),i?(e.each(t,(function(t,i){var a,r;i=e.isFunction(i)?{click:i,text:t}:i,i=e.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(n.element[0],arguments)},a=e("<button></button>",i).appendTo(n.uiButtonSet),e.fn.button&&a.button()})),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,a){e(this).addClass("ui-dialog-dragging"),n._trigger("dragStart",i,t(a))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(a,r){i.position=[r.position.left-n.document.scrollLeft(),r.position.top-n.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),n._trigger("dragStop",a,t(r)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(t){function n(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}t=void 0===t?this.options.resizable:t;var i=this,a=this.options,r=this.uiDialog.css("position"),o="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:o,start:function(t,a){e(this).addClass("ui-dialog-resizing"),i._trigger("resizeStart",t,n(a))},resize:function(e,t){i._trigger("resize",e,n(t))},stop:function(t,r){e(this).removeClass("ui-dialog-resizing"),a.height=e(this).height(),a.width=e(this).width(),i._trigger("resizeStop",t,n(r)),e.ui.dialog.overlay.resize()}}).css("position",r).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var n,i=[],a=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(1===(i=t.split?t.split(" "):[t[0],t[1]]).length&&(i[1]=i[0]),e.each(["left","top"],(function(e,t){+i[e]===i[e]&&(a[e]=i[e],i[e]=t)})),t={my:i[0]+(a[0]<0?a[0]:"+"+a[0])+" "+i[1]+(a[1]<0?a[1]:"+"+a[1]),at:i.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,(n=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(t),n||this.uiDialog.hide()},_setOptions:function(t){var n=this,r={},o=!1;e.each(t,(function(e,t){n._setOption(e,t),e in i&&(o=!0),e in a&&(r[e]=t)})),o&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,i){var a,r,o=this.uiDialog;switch(t){case"buttons":this._createButtons(i);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+i);break;case"dialogClass":o.removeClass(this.options.dialogClass).addClass(n+i);break;case"disabled":i?o.addClass("ui-dialog-disabled"):o.removeClass("ui-dialog-disabled");break;case"draggable":(a=o.is(":data(draggable)"))&&!i&&o.draggable("destroy"),!a&&i&&this._makeDraggable();break;case"position":this._position(i);break;case"resizable":(r=o.is(":data(resizable)"))&&!i&&o.resizable("destroy"),r&&"string"==typeof i&&o.resizable("option","handles",i),r||!1===i||this._makeResizable(i);break;case"title":e(".ui-dialog-title",this.uiDialogTitlebar).html(""+(i||"&#160;"))}this._super(t,i)},_size:function(){var t,n,i,a=this.options,r=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),a.minWidth>a.width&&(a.width=a.minWidth),t=this.uiDialog.css({height:"auto",width:a.width}).outerHeight(),n=Math.max(0,a.minHeight-t),"auto"===a.height?e.support.minHeight?this.element.css({minHeight:n,height:"auto"}):(this.uiDialog.show(),i=this.element.css("height","auto").height(),r||this.uiDialog.hide(),this.element.height(Math.max(i,n))):this.element.height(Math.max(a.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),(function(e){return e+".dialog-overlay"})).join(" "),create:function(t){0===this.instances.length&&(setTimeout((function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,(function(t){return!(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ)&&void 0}))}),1),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var n=this.oldInstances.pop()||e("<div>").addClass("ui-widget-overlay");return e(document).bind("keydown.dialog-overlay",(function(i){var a=e.ui.dialog.overlay.instances;0!==a.length&&a[a.length-1]===n&&t.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===e.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())})),n.appendTo(document.body).css({width:this.width(),height:this.height()}),e.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},destroy:function(t){var n=e.inArray(t,this.instances),i=0;-1!==n&&this.oldInstances.push(this.instances.splice(n,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),e.each(this.instances,(function(){i=Math.max(i,this.css("z-index"))})),this.maxZ=i},height:function(){var t;return e.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),Math.max(document.documentElement.offsetHeight,document.body.offsetHeight)>t?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t;return e.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),Math.max(document.documentElement.offsetWidth,document.body.offsetWidth)>t?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,(function(){t=t.add(this)})),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e,t){var n=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy((function(e){this.options.disabled&&e.preventDefault()}),this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!n&&i.not(".ui-state-disabled").length&&(n=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay((function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),n=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,a,r,o,s,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,a=this.previousFilter||"",r=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),r===a?o=!0:r=a+r,s=new RegExp("^"+n(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter((function(){return s.test(e(this).children("a").text())})),(i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(r=String.fromCharCode(t.keyCode),s=new RegExp("^"+n(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter((function(){return s.test(e(this).children("a").text())}))),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),i=t.prev("a"),a=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(a),t.attr("aria-labelledby",i.attr("id"))})),(t=i.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each((function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")})),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(n=t.children(".ui-menu")).length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,a,r,o,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,a=t.offset().top-this.activeMenu.offset().top-n-i,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=t.height(),0>a?this.activeMenu.scrollTop(r+a):a+s>o&&this.activeMenu.scrollTop(r+a-o+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay((function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(t){var n,i,a;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,a=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-i-a<0})),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,a;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,a=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-i+a>0})),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this._value():(this._setOption("value",e),this)},_setOption:function(e,t){"value"===e&&(this.options.value=t,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(e,t)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}})}(jQuery),function(e,t){e.widget("ui.slider",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t,n,i=this.options,a=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(i.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),i.range&&(!0===i.range&&(i.values||(i.values=[this._valueMin(),this._valueMin()]),i.values.length&&2!==i.values.length&&(i.values=[i.values[0],i.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===i.range||"max"===i.range?" ui-slider-range-"+i.range:""))),n=i.values&&i.values.length||1,t=a.length;n>t;t++)r.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=a.add(e(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click((function(e){e.preventDefault()})).mouseenter((function(){i.disabled||e(this).addClass("ui-state-hover")})).mouseleave((function(){e(this).removeClass("ui-state-hover")})).focus((function(){i.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))})).blur((function(){e(this).removeClass("ui-state-focus")})),this.handles.each((function(t){e(this).data("ui-slider-handle-index",t)})),this._on(this.handles,{keydown:function(t){var n,i,a,r=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,r)))return}switch(a=this.options.step,n=i=this.options.values&&this.options.values.length?this.values(r):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-a)}this._slide(t,r,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,a,r,o,s,l,c=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),a=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var n=Math.abs(i-c.values(t));a>n&&(a=n,r=e(this),o=t)})),!0===d.range&&this.values(1)===d.min&&(o+=1,r=e(this.handles[o])),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,r.addClass("ui-state-active").focus(),s=r.offset(),l=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-s.left-r.width()/2,top:t.pageY-s.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,a,r;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/t)>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),a=this._valueMax()-this._valueMin(),r=this._valueMin()+i*a,this._trimAlignValue(r)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,a,r;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n>i||1===t&&i>n)&&(n=i),n!==this.values(t)&&((a=this.values())[t]=n,r=this._trigger("slide",e,{handle:this.handles[t],value:n,values:a}),i=this.values(t?0:1),!1!==r&&this.values(t,n,!0))):n!==this.value()&&(!1!==(r=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,a,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,a=arguments[0],r=0;r<i.length;r+=1)i[r]=this._trimAlignValue(a[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,n){var i,a=0;switch(e.isArray(this.options.values)&&(a=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;a>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,i,a,r,o=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,d={};this.options.values&&this.options.values.length?this.handles.each((function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,d["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](d,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n})):(i=this.value(),a=this._valueMin(),r=this._valueMax(),n=r!==a?(i-a)/(r-a)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](d,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],(function(e,i){var a=n.attr(i);void 0!==a&&a.length&&(t[i]=a)})),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(e)}),100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=i,this._delay((function(){this.previous=i})))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,n.call(this)})),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,t,n)}),e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return n=e-(t=null!==i.min?i.min:0),e=t+(n=Math.round(n/i.step)*i.step),e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t((function(e){this._super(e),this._value(this.element.val())})),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var n;""!==e&&(null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t((function(e){this._stepUp(e)})),_stepUp:function(e){this._spin((e||1)*this.options.step)},stepDown:t((function(e){this._stepDown(e)})),_stepDown:function(e){this._spin((e||1)*-this.options.step)},pageUp:t((function(e){this._stepUp((e||1)*this.options.page)})),pageDown:t((function(e){this._stepDown((e||1)*this.options.page)})),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function n(){return++a}function i(e){return e.hash.length>1&&e.href.replace(r,"")===location.href.replace(r,"").replace(/\s/g,"%20")}var a=0,r=/#.*$/;e.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,n=this.options,i=n.active,a=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,(function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()})).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,(function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this._processTabs(),null===i&&(a&&this.tabs.each((function(t,n){return e(n).attr("aria-controls")===a?(i=t,!1):void 0})),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=!!this.tabs.length&&0)),!1!==i&&(-1===(i=this.tabs.index(this.tabs.eq(i)))&&(i=!n.collapsible&&0)),n.active=i,!n.collapsible&&!1===n.active&&this.anchors.length&&(n.active=0),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),(function(e){return t.tabs.index(e)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=e(),this._refresh(),this.active.length&&this.load(n.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),a=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:a=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,a),t.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",i)}),this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){for(var i=this.tabs.length-1;-1!==e.inArray((t>i&&(t=0),0>t&&(t=i),t),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+n()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),(function(e){return n.index(e)})),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map((function(){return e("a",this)[0]})).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each((function(n,a){var r,o,s,l=e(a).uniqueId().attr("id"),c=e(a).closest("li"),d=c.attr("aria-controls");i(a)?(r=a.hash,o=t.element.find(t._sanitizeSelector(r))):(r="#"+(s=t._tabId(c)),(o=t.element.find(r)).length||(o=t._createPanel(s)).insertAfter(t.panels[n-1]||t.tablist),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),d&&c.data("ui-tabs-aria-controls",d),c.attr({"aria-controls":r.substring(1),"aria-labelledby":l}),o.attr("aria-labelledby",l)})),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,i=0;n=this.tabs[i];i++)!0===t||-1!==e.inArray(i,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),(function(e,t){n[t]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i,a=this.element.parent();"fill"===t?(e.support.minHeight||(i=a.css("overflow"),a.css("overflow","hidden")),n=a.height(),this.element.siblings(":visible").each((function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))})),i&&a.css("overflow",i),this.element.children().not(this.panels).each((function(){n-=e(this).outerHeight(!0)})),this.panels.each((function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each((function(){n=Math.max(n,e(this).height("").height())})).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,a=e(t.currentTarget).closest("li"),r=a[0]===i[0],o=r&&n.collapsible,s=o?e():this._getPanelForTab(a),l=i.length?this._getPanelForTab(i):e(),c={oldTab:i,oldPanel:l,newTab:o?e():a,newPanel:s};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||r&&!n.collapsible||!1===this._trigger("beforeActivate",t,c)||(n.active=!o&&this.tabs.index(a),this.active=r?e():a,this.xhr&&this.xhr.abort(),l.length||s.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(a),t),this._toggle(t,c))},_toggle:function(t,n){function i(){r.running=!1,r._trigger("activate",t,n)}function a(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&r.options.show?r._show(o,r.options.show,i):(o.show(),i())}var r=this,o=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,(function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()})):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),a()),s.attr({"aria-expanded":"false","aria-hidden":"true"}),n.oldTab.attr("aria-selected","false"),o.length&&s.length?n.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),n.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each((function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")})),this.tabs.each((function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n):t.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var i=this.options.disabled;!1!==i&&(n===t?i=!1:(n=this._getIndex(n),i=e.isArray(i)?e.map(i,(function(e){return e!==n?e:null})):e.map(this.tabs,(function(e,t){return t!==n?t:null}))),this._setupDisabled(i))},disable:function(n){var i=this.options.disabled;if(!0!==i){if(n===t)i=!0;else{if(n=this._getIndex(n),-1!==e.inArray(n,i))return;i=e.isArray(i)?e.merge([n],i).sort():[n]}this._setupDisabled(i)}},load:function(t,n){t=this._getIndex(t);var a=this,r=this.tabs.eq(t),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),l={tab:r,panel:s};i(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,n,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.success((function(e){setTimeout((function(){s.html(e),a._trigger("load",n,l)}),1)})).complete((function(e,t){setTimeout((function(){"abort"===t&&a.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),e===a.xhr&&delete a.xhr}),1)}))))},_ajaxSettings:function(t,n,i){var a=this;return{url:t.attr("href"),beforeSend:function(t,r){return a._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:r},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==e.uiBackCompat&&(e.ui.tabs.prototype._ui=function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},e.widget("ui.tabs",e.ui.tabs,{url:function(e,t){this.anchors.eq(e).attr("href",t)}}),e.widget("ui.tabs",e.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var t=this;this._on({tabsbeforeload:function(n,i){return e.data(i.tab[0],"cache.tabs")?void n.preventDefault():void i.jqXHR.success((function(){t.options.cache&&e.data(i.tab[0],"cache.tabs",!0)}))}})},_ajaxSettings:function(t,n,i){var a=this.options.ajaxOptions;return e.extend({},a,{error:function(e,t){try{a.error(e,t,i.tab.closest("li").index(),i.tab[0])}catch(n){}}},this._superApply(arguments))},_setOption:function(e,t){"cache"===e&&!1===t&&this.anchors.removeData("cache.tabs"),this._super(e,t)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(e){this.anchors.eq(e).removeData("cache.tabs"),this._superApply(arguments)}}),e.widget("ui.tabs",e.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),e.widget("ui.tabs",e.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(e,t){if(e.target===this.element[0]&&this.options.spinner){var n=t.tab.find("span"),i=n.html();n.html(this.options.spinner),t.jqXHR.complete((function(){n.html(i)}))}}})}}),e.widget("ui.tabs",e.ui.tabs,{options:{enable:null,disable:null},enable:function(t){var n,i=this.options;(t&&!0===i.disabled||e.isArray(i.disabled)&&-1!==e.inArray(t,i.disabled))&&(n=!0),this._superApply(arguments),n&&this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t]))},disable:function(t){var n,i=this.options;(t&&!1===i.disabled||e.isArray(i.disabled)&&-1===e.inArray(t,i.disabled))&&(n=!0),this._superApply(arguments),n&&this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))}}),e.widget("ui.tabs",e.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(n,i,a){a===t&&(a=this.anchors.length);var r,o,s=this.options,l=e(s.tabTemplate.replace(/#\{href\}/g,n).replace(/#\{label\}/g,i)),c=n.indexOf("#")?this._tabId(l):n.replace("#","");return l.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),l.attr("aria-controls",c),r=a>=this.tabs.length,(o=this.element.find("#"+c)).length||(o=this._createPanel(c),r?a>0?o.insertAfter(this.panels.eq(-1)):o.appendTo(this.element):o.insertBefore(this.panels[a])),o.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),r?l.appendTo(this.tablist):l.insertBefore(this.tabs[a]),s.disabled=e.map(s.disabled,(function(e){return e>=a?++e:e})),this.refresh(),1===this.tabs.length&&!1===s.active&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[a],this.panels[a])),this},remove:function(t){t=this._getIndex(t);var n=this.options,i=this.tabs.eq(t).remove(),a=this._getPanelForTab(i).remove();return i.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(t+(t+1<this.anchors.length?1:-1)),n.disabled=e.map(e.grep(n.disabled,(function(e){return e!==t})),(function(e){return e>=t?--e:e})),this.refresh(),this._trigger("remove",null,this._ui(i.find("a")[0],a[0])),this}}),e.widget("ui.tabs",e.ui.tabs,{length:function(){return this.anchors.length}}),e.widget("ui.tabs",e.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(t){var i=t.is("li")?t.find("a[href]"):t;return i=i[0],e(i).closest("li").attr("aria-controls")||i.title&&i.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+n()}}),e.widget("ui.tabs",e.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(t){return e(this.options.panelTemplate).attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),e.widget("ui.tabs",e.ui.tabs,{_create:function(){var e=this.options;null===e.active&&e.selected!==t&&(e.active=-1!==e.selected&&e.selected),this._super(),e.selected=e.active,!1===e.selected&&(e.selected=-1)},_setOption:function(e,t){if("selected"!==e)return this._super(e,t);var n=this.options;this._super("active",-1!==t&&t),n.selected=n.active,!1===n.selected&&(n.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,!1===this.options.selected&&(this.options.selected=-1)}}),e.widget("ui.tabs",e.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),!1!==this.options.active&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(e,t,n){var i,a,r=this._superApply(arguments);return!!r&&("beforeActivate"===e?(i=n.newTab.length?n.newTab:n.oldTab,a=n.newPanel.length?n.newPanel:n.oldPanel,r=this._super("select",t,{tab:i.find(".ui-tabs-anchor")[0],panel:a[0],index:i.closest("li").index()})):"activate"===e&&n.newTab.length&&(r=this._super("show",t,{tab:n.newTab.find(".ui-tabs-anchor")[0],panel:n.newPanel[0],index:n.newTab.closest("li").index()})),r)}}),e.widget("ui.tabs",e.ui.tabs,{select:function(e){if(-1===(e=this._getIndex(e))){if(!this.options.collapsible||-1===this.options.selected)return;e=this.options.selected}this.anchors.eq(e).trigger(this.options.event+this.eventNamespace)}}),function(){var t=0;e.widget("ui.tabs",e.ui.tabs,{options:{cookie:null},_create:function(){var e,t=this.options;null==t.active&&t.cookie&&(-1===(e=parseInt(this._cookie(),10))&&(e=!1),t.active=e),this._super()},_cookie:function(n){var i=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++t)];return arguments.length&&(i.push(!1===n?-1:n),i.push(this.options.cookie)),e.cookie.apply(null,i)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),e.widget("ui.tabs",e.ui.tabs,{_trigger:function(t,n,i){var a=e.extend({},i);return"load"===t&&(a.panel=a.panel[0],a.tab=a.tab.find(".ui-tabs-anchor")[0]),this._super(t,n,a)}}),e.widget("ui.tabs",e.ui.tabs,{options:{fx:null},_getFx:function(){var t,n,i=this.options.fx;return i&&(e.isArray(i)?(t=i[0],n=i[1]):t=n=i),i?{show:n,hide:t}:null},_toggle:function(e,t){function n(){a.running=!1,a._trigger("activate",e,t)}function i(){t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&s.show?r.animate(s.show,s.show.duration,(function(){n()})):(r.show(),n())}var a=this,r=t.newPanel,o=t.oldPanel,s=this._getFx();return s?(a.running=!0,void(o.length&&s.hide?o.animate(s.hide,s.hide.duration,(function(){t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()})):(t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),i()))):this._super(e,t)}}))}(jQuery),function(e){var t=0;e.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return e(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,n){var i=this;return"disabled"===t?(this[n?"_disable":"_enable"](),void(this.options[t]=n)):(this._super(t,n),void("content"===t&&e.each(this.tooltips,(function(e,t){i._updateContent(t)}))))},_disable:function(){var t=this;e.each(this.tooltips,(function(n,i){var a=e.Event("blur");a.target=a.currentTarget=i[0],t.close(a,!0)})),this.element.find(this.options.items).andSelf().each((function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")}))},_enable:function(){this.element.find(this.options.items).andSelf().each((function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}))},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each((function(){var t,i=e(this);i.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))})),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,a=this,r=t?t.type:null;return"string"==typeof i?this._open(t,e,i):void((n=i.call(e[0],(function(n){e.data("ui-tooltip-open")&&a._delay((function(){t&&(t.type=r),this._open(t,e,n)}))})))&&this._open(t,e,n))},_open:function(t,n,i){function a(e){l.of=e,r.is(":hidden")||r.position(l)}var r,o,s,l=e.extend({},this.options.position);if(i){if((r=this._find(n)).length)return void r.find(".ui-tooltip-content").html(i);n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))}(n,r.attr("id")),r.find(".ui-tooltip-content").html(i),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:a}),a(t)):r.position(e.extend({of:n},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(s=setInterval((function(){r.is(":visible")&&(a(l.of),clearInterval(s))}),e.fx.interval)),this._trigger("open",t,{tooltip:r}),o={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(r)}},t&&"mouseover"!==t.type||(o.mouseleave="close"),t&&"focusin"!==t.type||(o.focusout="close"),this._on(!0,n,o)}},close:function(t){var n=this,i=e(t?t.currentTarget:this.element),a=this._find(i);this.closing||(i.data("ui-tooltip-title")&&i.attr("title",i.data("ui-tooltip-title")),function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),a=e.inArray(n,i);-1!==a&&i.splice(a,1),t.removeData("ui-tooltip-id"),(i=e.trim(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")}(i),a.stop(!0),this._hide(a,this.options.hide,(function(){n._removeTooltip(e(this))})),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,(function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]})),this.closing=!0,this._trigger("close",t,{tooltip:a}),this.closing=!1)},_tooltip:function(n){var i="ui-tooltip-"+t++,a=e("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(a),a.appendTo(this.document[0].body),e.fn.bgiframe&&a.bgiframe(),this.tooltips[i]=n,a},_find:function(t){var n=t.data("ui-tooltip-id");return n?e("#"+n):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,(function(n,i){var a=e.Event("blur");a.target=a.currentTarget=i[0],t.close(a,!0),e("#"+n).remove(),i.data("ui-tooltip-title")&&(i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}))}})}(jQuery),jQuery.effects||function(e,t){var n=!1!==e.uiBackCompat,i="ui-effects-";e.effects={effect:{}},function(t,n){function i(e,t,n){var i=h[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function a(e){var n=d(),i=n._rgba=[];return e=e.toLowerCase(),g(c,(function(t,a){var r,o=a.re.exec(e),s=o&&a.parse(o),l=a.space||"rgba";return s?(r=n[l](s),n[u[l].cache]=r[u[l].cache],i=n._rgba=r._rgba,!1):void 0})),i.length?("0,0,0,0"===i.join()&&t.extend(i,o.transparent),n):o[e]}function r(e,t,n){return 1>6*(n=(n+1)%1)?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),l=/^([\-+])=\s*(\d+\.?\d*)/,c=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],d=t.Color=function(e,n,i,a){return new t.Color.fn.parse(e,n,i,a)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=d.support={},f=t("<p>")[0],g=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=f.style.backgroundColor.indexOf("rgba")>-1,g(u,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),d.fn=t.extend(d.prototype,{parse:function(r,s,l,c){if(r===n)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=n);var h=this,p=t.type(r),f=this._rgba=[];return s!==n&&(r=[r,s,l,c],p="array"),"string"===p?this.parse(a(r)||o._default):"array"===p?(g(u.rgba.props,(function(e,t){f[t.idx]=i(r[t.idx],t)})),this):"object"===p?(g(u,r instanceof d?function(e,t){r[t.cache]&&(h[t.cache]=r[t.cache].slice())}:function(t,n){var a=n.cache;g(n.props,(function(e,t){if(!h[a]&&n.to){if("alpha"===e||null==r[e])return;h[a]=n.to(h._rgba)}h[a][t.idx]=i(r[e],t,!0)})),h[a]&&e.inArray(null,h[a].slice(0,3))<0&&(h[a][3]=1,n.from&&(h._rgba=n.from(h[a])))}),this):void 0},is:function(e){var t=d(e),n=!0,i=this;return g(u,(function(e,a){var r,o=t[a.cache];return o&&(r=i[a.cache]||a.to&&a.to(i._rgba)||[],g(a.props,(function(e,t){return null!=o[t.idx]?n=o[t.idx]===r[t.idx]:void 0}))),n})),n},_space:function(){var e=[],t=this;return g(u,(function(n,i){t[i.cache]&&e.push(n)})),e.pop()},transition:function(e,t){var n=d(e),a=n._space(),r=u[a],o=0===this.alpha()?d("transparent"):this,s=o[r.cache]||r.to(o._rgba),l=s.slice();return n=n[r.cache],g(r.props,(function(e,a){var r=a.idx,o=s[r],c=n[r],d=h[a.type]||{};null!==c&&(null===o?l[r]=c:(d.mod&&(c-o>d.mod/2?o+=d.mod:o-c>d.mod/2&&(o-=d.mod)),l[r]=i((c-o)*t+o,a)))})),this[a](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),a=d(e)._rgba;return d(t.map(n,(function(e,t){return(1-i)*a[t]+i*e})))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e}));return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),d.fn.parse.prototype=d.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,a=e[1]/255,r=e[2]/255,o=e[3],s=Math.max(i,a,r),l=Math.min(i,a,r),c=s-l,d=s+l,u=.5*d;return t=l===s?0:i===s?60*(a-r)/c+360:a===s?60*(r-i)/c+120:60*(i-a)/c+240,n=0===u||1===u?u:.5>=u?c/d:c/(2-d),[Math.round(t)%360,n,u,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],a=e[3],o=.5>=i?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*r(s,o,t+1/3)),Math.round(255*r(s,o,t)),Math.round(255*r(s,o,t-1/3)),a]},g(u,(function(e,a){var r=a.props,o=a.cache,s=a.to,c=a.from;d.fn[e]=function(e){if(s&&!this[o]&&(this[o]=s(this._rgba)),e===n)return this[o].slice();var a,l=t.type(e),u="array"===l||"object"===l?e:arguments,h=this[o].slice();return g(r,(function(e,t){var n=u["object"===l?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)})),c?((a=d(c(h)))[o]=h,a):d(h)},g(r,(function(n,i){d.fn[n]||(d.fn[n]=function(a){var r,o=t.type(a),s="alpha"===n?this._hsla?"hsla":"rgba":e,c=this[s](),d=c[i.idx];return"undefined"===o?d:("function"===o&&(a=a.call(this,d),o=t.type(a)),null==a&&i.empty?this:("string"===o&&((r=l.exec(a))&&(a=d+parseFloat(r[2])*("+"===r[1]?1:-1))),c[i.idx]=a,this[s](c)))})}))})),g(s,(function(e,n){t.cssHooks[n]={set:function(e,i){var r,o,s="";if("string"!==t.type(i)||(r=a(i))){if(i=d(r||i),!p.rgba&&1!==i._rgba[3]){for(o="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&o&&o.style;)try{s=t.css(o,"backgroundColor"),o=o.parentNode}catch(l){}i=i.blend(s&&"transparent"!==s?s:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(c){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=d(e.elem,n),e.end=d(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})),t.cssHooks.borderColor={expand:function(e){var t={};return g(["Top","Right","Bottom","Left"],(function(n,i){t["border"+i+"Color"]=e})),t}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(){var t,n,i=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,a={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[t=i[n]]&&(a[e.camelCase(t)]=i[t]);else for(t in i)"string"==typeof i[t]&&(a[t]=i[t]);return a}function i(t,n){var i,a,o={};for(i in n)a=n[i],t[i]!==a&&(r[i]||(e.fx.step[i]||!isNaN(parseFloat(a)))&&(o[i]=a));return o}var a=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,n,e.end),e.setAttr=!0)}})),e.effects.animateClass=function(t,r,o,s){var l=e.speed(r,o,s);return this.queue((function(){var r,o=e(this),s=o.attr("class")||"",c=l.children?o.find("*").andSelf():o;c=c.map((function(){return{el:e(this),start:n.call(this)}})),(r=function(){e.each(a,(function(e,n){t[n]&&o[n+"Class"](t[n])}))})(),c=c.map((function(){return this.end=n.call(this.el[0]),this.diff=i(this.start,this.end),this})),o.attr("class",s),c=c.map((function(){var t=this,n=e.Deferred(),i=jQuery.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()})),e.when.apply(e,c.get()).done((function(){r(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,"")}))})),l.complete.call(o[0])}))}))},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,i,a){return n?e.effects.animateClass.call(this,{add:t},n,i,a):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,i,a){return n?e.effects.animateClass.call(this,{remove:t},n,i,a):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,i,a,r,o){return"boolean"==typeof i||i===t?a?e.effects.animateClass.call(this,i?{add:n}:{remove:n},a,r,o):this._toggleClass(n,i):e.effects.animateClass.call(this,{toggle:n},i,a,r)},switchClass:function(t,n,i,a,r){return e.effects.animateClass.call(this,{add:n,remove:t},i,a,r)}})}(),function(){function a(t,n,i,a){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(a=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(a=i,i=n,n={}),e.isFunction(i)&&(a=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=a||n.complete,t}function r(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects.effect[t]&&(!n||!e.effects[t])}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data(i+t[n],e[0].style[t[n]])},restore:function(e,n){var a,r;for(r=0;r<n.length;r++)null!==n[r]&&((a=e.data(i+n[r]))===t&&(a=""),e.css(n[r],a))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),a={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(o){r=document.body}return t.wrap(i),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],(function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(a),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,a){return a=a||{},e.each(n,(function(e,n){var r=t.cssUnit(n);r[0]>0&&(a[n]=r[0]*i+r[1])})),a}}),e.fn.extend({effect:function(){function t(t){function n(){e.isFunction(r)&&r.call(a[0]),e.isFunction(t)&&t()}var a=e(this),r=i.complete,o=i.mode;(a.is(":hidden")?"hide"===o:"show"===o)?n():s.call(a[0],i,n)}var i=a.apply(this,arguments),r=i.mode,o=i.queue,s=e.effects.effect[i.effect],l=!s&&n&&e.effects[i.effect];return e.fx.off||!s&&!l?r?this[r](i.duration,i.complete):this.each((function(){i.complete&&i.complete.call(this)})):s?!1===o?this.each(t):this.queue(o||"fx",t):l.call(this,{options:i,duration:i.duration,callback:i.complete,mode:i.mode})},_show:e.fn.show,show:function(e){if(r(e))return this._show.apply(this,arguments);var t=a.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(r(e))return this._hide.apply(this,arguments);var t=a.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(r(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=a.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)},cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],(function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])})),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],(function(e,n){t[n]=function(t){return Math.pow(t,e+2)}})),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,(function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}}))}()}(jQuery),function(e,t){var n=/up|down|vertical/,i=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,a){var r,o,s,l=e(this),c=["position","top","bottom","left","right","height","width"],d=e.effects.setMode(l,t.mode||"hide"),u=t.direction||"up",h=n.test(u),p=h?"height":"width",f=h?"top":"left",g=i.test(u),m={},v="show"===d;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),o=(r=e.effects.createWrapper(l).css({overflow:"hidden"}))[p](),s=parseFloat(r.css(f))||0,m[p]=v?o:0,g||(l.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),m[f]=v?s:o+s),v&&(r.css(p,0),g||r.css(f,s+o)),r.animate(m,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===d&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),a()}})}}(jQuery),function(e,t){e.effects.effect.bounce=function(t,n){var i,a,r,o=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"effect"),c="hide"===l,d="show"===l,u=t.direction||"up",h=t.distance,p=t.times||5,f=2*p+(d||c?1:0),g=t.duration/f,m=t.easing,v="up"===u||"down"===u?"top":"left",_="up"===u||"left"===u,b=o.queue(),y=b.length;for((d||c)&&s.push("opacity"),e.effects.save(o,s),o.show(),e.effects.createWrapper(o),h||(h=o["top"===v?"outerHeight":"outerWidth"]()/3),d&&((r={opacity:1})[v]=0,o.css("opacity",0).css(v,_?2*-h:2*h).animate(r,g,m)),c&&(h/=Math.pow(2,p-1)),(r={})[v]=0,i=0;p>i;i++)(a={})[v]=(_?"-=":"+=")+h,o.animate(a,g,m).animate(r,g,m),h=c?2*h:h/2;c&&((a={opacity:0})[v]=(_?"-=":"+=")+h,o.animate(a,g,m)),o.queue((function(){c&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),n()})),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),o.dequeue()}}(jQuery),function(e,t){e.effects.effect.clip=function(t,n){var i,a,r,o=e(this),s=["position","top","bottom","left","right","height","width"],l="show"===e.effects.setMode(o,t.mode||"hide"),c="vertical"===(t.direction||"vertical"),d=c?"height":"width",u=c?"top":"left",h={};e.effects.save(o,s),o.show(),i=e.effects.createWrapper(o).css({overflow:"hidden"}),r=(a="IMG"===o[0].tagName?i:o)[d](),l&&(a.css(d,0),a.css(u,r/2)),h[d]=l?r:0,h[u]=l?0:r/2,a.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),n()}})}}(jQuery),function(e,t){e.effects.effect.drop=function(t,n){var i,a=e(this),r=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(a,t.mode||"hide"),s="show"===o,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l?"pos":"neg",u={opacity:s?1:0};e.effects.save(a,r),a.show(),e.effects.createWrapper(a),i=t.distance||a["top"===c?"outerHeight":"outerWidth"](!0)/2,s&&a.css("opacity",0).css(c,"pos"===d?-i:i),u[c]=(s?"pos"===d?"+=":"-=":"pos"===d?"-=":"+=")+i,a.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),n()}})}}(jQuery),function(e,t){e.effects.effect.explode=function(t,n){function i(){v.push(this),v.length===d*u&&(h.css({visibility:"visible"}),e(v).remove(),p||h.hide(),n())}var a,r,o,s,l,c,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,u=d,h=e(this),p="show"===e.effects.setMode(h,t.mode||"hide"),f=h.show().css("visibility","hidden").offset(),g=Math.ceil(h.outerWidth()/u),m=Math.ceil(h.outerHeight()/d),v=[];for(a=0;d>a;a++)for(s=f.top+a*m,c=a-(d-1)/2,r=0;u>r;r++)o=f.left+r*g,l=r-(u-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*g,top:-a*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:o+(p?l*g:0),top:s+(p?c*m:0),opacity:p?0:1}).animate({left:o+(p?0:l*g),top:s+(p?0:c*m),opacity:p?1:0},t.duration||500,t.easing,i)}}(jQuery),function(e,t){e.effects.effect.fade=function(t,n){var i=e(this),a=e.effects.setMode(i,t.mode||"toggle");i.animate({opacity:a},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}}(jQuery),function(e,t){e.effects.effect.fold=function(t,n){var i,a,r=e(this),o=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),l="show"===s,c="hide"===s,d=t.size||15,u=/([0-9]+)%/.exec(d),h=!!t.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],g=t.duration/2,m={},v={};e.effects.save(r,o),r.show(),i=e.effects.createWrapper(r).css({overflow:"hidden"}),a=p?[i.width(),i.height()]:[i.height(),i.width()],u&&(d=parseInt(u[1],10)/100*a[c?0:1]),l&&i.css(h?{height:0,width:d}:{height:d,width:0}),m[f[0]]=l?a[0]:d,v[f[1]]=l?a[1]:0,i.animate(m,g,t.easing).animate(v,g,t.easing,(function(){c&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}))}}(jQuery),function(e,t){e.effects.effect.highlight=function(t,n){var i=e(this),a=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(i,t.mode||"show"),o={backgroundColor:i.css("backgroundColor")};"hide"===r&&(o.opacity=0),e.effects.save(i,a),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),e.effects.restore(i,a),n()}})}}(jQuery),function(e,t){e.effects.effect.pulsate=function(t,n){var i,a=e(this),r=e.effects.setMode(a,t.mode||"show"),o="show"===r,s="hide"===r,l=o||"hide"===r,c=2*(t.times||5)+(l?1:0),d=t.duration/c,u=0,h=a.queue(),p=h.length;for((o||!a.is(":visible"))&&(a.css("opacity",0).show(),u=1),i=1;c>i;i++)a.animate({opacity:u},d,t.easing),u=1-u;a.animate({opacity:u},d,t.easing),a.queue((function(){s&&a.hide(),n()})),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,c+1))),a.dequeue()}}(jQuery),function(e,t){e.effects.effect.puff=function(t,n){var i=e(this),a=e.effects.setMode(i,t.mode||"hide"),r="hide"===a,o=parseInt(t.percent,10)||150,s=o/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:a,complete:n,percent:r?o:100,from:r?l:{height:l.height*s,width:l.width*s,outerHeight:l.outerHeight*s,outerWidth:l.outerWidth*s}}),i.effect(t)},e.effects.effect.scale=function(t,n){var i=e(this),a=e.extend(!0,{},t),r=e.effects.setMode(i,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||"hide"===r?0:100),s=t.direction||"both",l=t.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},d="horizontal"!==s?o/100:1,u="vertical"!==s?o/100:1;a.effect="size",a.queue=!1,a.complete=n,"effect"!==r&&(a.origin=l||["middle","center"],a.restore=!0),a.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:c),a.to={height:c.height*d,width:c.width*u,outerHeight:c.outerHeight*d,outerWidth:c.outerWidth*u},a.fade&&("show"===r&&(a.from.opacity=0,a.to.opacity=1),"hide"===r&&(a.from.opacity=1,a.to.opacity=0)),i.effect(a)},e.effects.effect.size=function(t,n){var i,a,r,o=e(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],c=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=e.effects.setMode(o,t.mode||"effect"),p=t.restore||"effect"!==h,f=t.scale||"both",g=t.origin||["middle","center"],m=o.css("position"),v=p?s:["position","top","bottom","left","right","overflow","opacity"],_={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&o.show(),i={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===h?(o.from=t.to||_,o.to=t.from||i):(o.from=t.from||("show"===h?_:i),o.to=t.to||("hide"===h?_:i)),r={from:{y:o.from.height/i.height,x:o.from.width/i.width},to:{y:o.to.height/i.height,x:o.to.width/i.width}},("box"===f||"both"===f)&&(r.from.y!==r.to.y&&(v=v.concat(d),o.from=e.effects.setTransition(o,d,r.from.y,o.from),o.to=e.effects.setTransition(o,d,r.to.y,o.to)),r.from.x!==r.to.x&&(v=v.concat(u),o.from=e.effects.setTransition(o,u,r.from.x,o.from),o.to=e.effects.setTransition(o,u,r.to.x,o.to))),("content"===f||"both"===f)&&r.from.y!==r.to.y&&(v=v.concat(c).concat(l),o.from=e.effects.setTransition(o,c,r.from.y,o.from),o.to=e.effects.setTransition(o,c,r.to.y,o.to)),e.effects.save(o,v),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(a=e.effects.getBaseline(g,i),o.from.top=(i.outerHeight-o.outerHeight())*a.y,o.from.left=(i.outerWidth-o.outerWidth())*a.x,o.to.top=(i.outerHeight-o.to.outerHeight)*a.y,o.to.left=(i.outerWidth-o.to.outerWidth)*a.x),o.css(o.from),("content"===f||"both"===f)&&(d=d.concat(["marginTop","marginBottom"]).concat(c),u=u.concat(["marginLeft","marginRight"]),l=s.concat(d).concat(u),o.find("*[width]").each((function(){var n=e(this),i=n.height(),a=n.width(),o=n.outerHeight(),s=n.outerWidth();p&&e.effects.save(n,l),n.from={height:i*r.from.y,width:a*r.from.x,outerHeight:o*r.from.y,outerWidth:s*r.from.x},n.to={height:i*r.to.y,width:a*r.to.x,outerHeight:i*r.to.y,outerWidth:a*r.to.x},r.from.y!==r.to.y&&(n.from=e.effects.setTransition(n,d,r.from.y,n.from),n.to=e.effects.setTransition(n,d,r.to.y,n.to)),r.from.x!==r.to.x&&(n.from=e.effects.setTransition(n,u,r.from.x,n.from),n.to=e.effects.setTransition(n,u,r.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,(function(){p&&e.effects.restore(n,l)}))}))),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===h&&o.hide(),e.effects.restore(o,v),p||("static"===m?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],(function(e,t){o.css(t,(function(t,n){var i=parseInt(n,10),a=e?o.to.left:o.to.top;return"auto"===n?a+"px":i+a+"px"}))}))),e.effects.removeWrapper(o),n()}})}}(jQuery),function(e,t){e.effects.effect.shake=function(t,n){var i,a=e(this),r=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(a,t.mode||"effect"),s=t.direction||"left",l=t.distance||20,c=t.times||3,d=2*c+1,u=Math.round(t.duration/d),h="up"===s||"down"===s?"top":"left",p="up"===s||"left"===s,f={},g={},m={},v=a.queue(),_=v.length;for(e.effects.save(a,r),a.show(),e.effects.createWrapper(a),f[h]=(p?"-=":"+=")+l,g[h]=(p?"+=":"-=")+2*l,m[h]=(p?"-=":"+=")+2*l,a.animate(f,u,t.easing),i=1;c>i;i++)a.animate(g,u,t.easing).animate(m,u,t.easing);a.animate(g,u,t.easing).animate(f,u/2,t.easing).queue((function(){"hide"===o&&a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),n()})),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,d+1))),a.dequeue()}}(jQuery),function(e,t){e.effects.effect.slide=function(t,n){var i,a=e(this),r=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(a,t.mode||"show"),s="show"===o,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,u={};e.effects.save(a,r),a.show(),i=t.distance||a["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(a).css({overflow:"hidden"}),s&&a.css(c,d?isNaN(i)?"-"+i:-i:i),u[c]=(s?d?"+=":"-=":d?"-=":"+=")+i,a.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),n()}})}}(jQuery),function(e,t){e.effects.effect.transfer=function(t,n){var i=e(this),a=e(t.to),r="fixed"===a.css("position"),o=e("body"),s=r?o.scrollTop():0,l=r?o.scrollLeft():0,c=a.offset(),d={top:c.top-s,left:c.left-l,height:a.innerHeight(),width:a.innerWidth()},u=i.offset(),h=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:u.top-s,left:u.left-l,height:i.innerHeight(),width:i.innerWidth(),position:r?"fixed":"absolute"}).animate(d,t.duration,t.easing,(function(){h.remove(),n()}))}}(jQuery)},function(e,t){!function(e){"use strict";!function(e){var t={};t.fileapi=void 0!==e("<input type='file'/>").get(0).files,t.formdata=void 0!==window.FormData;var n=!!e.fn.prop;function i(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(n))}function a(t){var n=t.target,i=e(n);if(!i.is("[type=submit],[type=image]")){var a=i.closest("[type=submit]");if(0===a.length)return;n=a[0]}var r=this;if(r.clk=n,"image"==n.type)if(void 0!==t.offsetX)r.clk_x=t.offsetX,r.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=i.offset();r.clk_x=t.pageX-o.left,r.clk_y=t.pageY-o.top}else r.clk_x=t.pageX-n.offsetLeft,r.clk_y=t.pageY-n.offsetTop;setTimeout((function(){r.clk=r.clk_x=r.clk_y=null}),100)}function r(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}e.fn.attr2=function(){if(!n)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"===typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(i){if(!this.length)return r("ajaxSubmit: skipping submit process - no element selected"),this;var a,o,s,l=this;"function"==typeof i?i={success:i}:void 0===i&&(i={}),a=i.type||this.attr2("method"),(s=(s="string"===typeof(o=i.url||this.attr2("action"))?e.trim(o):"")||window.location.href||"")&&(s=(s.match(/^([^#]+)/)||[])[1]),i=e.extend(!0,{url:s,success:e.ajaxSettings.success,type:a||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},i);var c={};if(this.trigger("form-pre-serialize",[this,i,c]),c.veto)return r("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(i.beforeSerialize&&!1===i.beforeSerialize(this,i))return r("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=i.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var u,h=[],p=this.formToArray(i.semantic,h);if(i.data&&(i.extraData=i.data,u=e.param(i.data,d)),i.beforeSubmit&&!1===i.beforeSubmit(p,this,i))return r("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[p,this,i,c]),c.veto)return r("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var f=e.param(p,d);u&&(f=f?f+"&"+u:u),"GET"==i.type.toUpperCase()?(i.url+=(i.url.indexOf("?")>=0?"&":"?")+f,i.data=null):i.data=f;var g=[];if(i.resetForm&&g.push((function(){l.resetForm()})),i.clearForm&&g.push((function(){l.clearForm(i.includeHidden)})),!i.dataType&&i.target){var m=i.success||function(){};g.push((function(t){var n=i.replaceTarget?"replaceWith":"html";e(i.target)[n](t).each(m,arguments)}))}else i.success&&g.push(i.success);if(i.success=function(e,t,n){for(var a=i.context||this,r=0,o=g.length;r<o;r++)g[r].apply(a,[e,t,n||l,l])},i.error){var v=i.error;i.error=function(e,t,n){var a=i.context||this;v.apply(a,[e,t,n,l])}}if(i.complete){var _=i.complete;i.complete=function(e,t){var n=i.context||this;_.apply(n,[e,t,l])}}var b=e("input[type=file]:enabled",this).filter((function(){return""!==e(this).val()})).length>0,y="multipart/form-data",w=l.attr("enctype")==y||l.attr("encoding")==y,x=t.fileapi&&t.formdata;r("fileAPI :"+x);var C,S=(b||w)&&!x;!1!==i.iframe&&(i.iframe||S)?i.closeKeepAlive?e.get(i.closeKeepAlive,(function(){C=k(p)})):C=k(p):C=(b||w)&&x?function(t){for(var n=new FormData,r=0;r<t.length;r++)n.append(t[r].name,t[r].value);if(i.extraData){var o=function(t){var n,a,r=e.param(t,i.traditional).split("&"),o=r.length,s=[];for(n=0;n<o;n++)r[n]=r[n].replace(/\+/g," "),a=r[n].split("="),s.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])]);return s}(i.extraData);for(r=0;r<o.length;r++)o[r]&&n.append(o[r][0],o[r][1])}i.data=null;var s=e.extend(!0,{},e.ajaxSettings,i,{contentType:!1,processData:!1,cache:!1,type:a||"POST"});i.uploadProgress&&(s.xhr=function(){var t=e.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",(function(e){var t=0,n=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(n/a*100)),i.uploadProgress(e,n,a,t)}),!1),t});s.data=null;var l=s.beforeSend;return s.beforeSend=function(e,t){i.formData?t.data=i.formData:t.data=n,l&&l.call(this,e,t)},e.ajax(s)}(p):e.ajax(i),l.removeData("jqxhr").data("jqxhr",C);for(var T=0;T<h.length;T++)h[T]=null;return this.trigger("form-submit-notify",[this,i]),this;function k(t){var o,s,c,d,u,p,f,g,m,v,_,b,y=l[0],w=e.Deferred();if(w.abort=function(e){g.abort(e)},t)for(s=0;s<h.length;s++)o=e(h[s]),n?o.prop("disabled",!1):o.removeAttr("disabled");if((c=e.extend(!0,{},e.ajaxSettings,i)).context=c.context||c,u="jqFormIO"+(new Date).getTime(),c.iframeTarget?(v=(p=e(c.iframeTarget)).attr2("name"))?u=v:p.attr2("name",u):(p=e('<iframe name="'+u+'" src="'+c.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),f=p[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";r("aborting upload... "+n),this.aborted=1;try{f.contentWindow.document.execCommand&&f.contentWindow.document.execCommand("Stop")}catch(i){}p.attr("src",c.iframeSrc),g.error=n,c.error&&c.error.call(c.context,g,n,t),d&&e.event.trigger("ajaxError",[g,c,n]),c.complete&&c.complete.call(c.context,g,n)}},(d=c.global)&&0===e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[g,c]),c.beforeSend&&!1===c.beforeSend.call(c.context,g,c))return c.global&&e.active--,w.reject(),w;if(g.aborted)return w.reject(),w;(m=y.clk)&&(v=m.name)&&!m.disabled&&(c.extraData=c.extraData||{},c.extraData[v]=m.value,"image"==m.type&&(c.extraData[v+".x"]=y.clk_x,c.extraData[v+".y"]=y.clk_y));function x(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(n){r("cannot get iframe.contentWindow document: "+n)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){r("cannot get iframe.contentDocument: "+n),t=e.document}return t}var C=e("meta[name=csrf-token]").attr("content"),S=e("meta[name=csrf-param]").attr("content");function T(){var t=l.attr2("target"),n=l.attr2("action"),i=l.attr("enctype")||l.attr("encoding")||"multipart/form-data";y.setAttribute("target",u),a&&!/post/i.test(a)||y.setAttribute("method","POST"),n!=c.url&&y.setAttribute("action",c.url),c.skipEncodingOverride||a&&!/post/i.test(a)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),c.timeout&&(b=setTimeout((function(){_=!0,D(1)}),c.timeout));var o=[];try{if(c.extraData)for(var s in c.extraData)c.extraData.hasOwnProperty(s)&&(e.isPlainObject(c.extraData[s])&&c.extraData[s].hasOwnProperty("name")&&c.extraData[s].hasOwnProperty("value")?o.push(e('<input type="hidden" name="'+c.extraData[s].name+'">').val(c.extraData[s].value).appendTo(y)[0]):o.push(e('<input type="hidden" name="'+s+'">').val(c.extraData[s]).appendTo(y)[0]));c.iframeTarget||p.appendTo("body"),f.attachEvent?f.attachEvent("onload",D):f.addEventListener("load",D,!1),setTimeout((function e(){try{var t=x(f).readyState;r("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(n){r("Server abort: ",n," (",n.name,")"),D(2),b&&clearTimeout(b),b=void 0}}),15);try{y.submit()}catch(d){document.createElement("form").submit.apply(y)}}finally{y.setAttribute("action",n),y.setAttribute("enctype",i),t?y.setAttribute("target",t):l.removeAttr("target"),e(o).remove()}}S&&C&&(c.extraData=c.extraData||{},c.extraData[S]=C),c.forceSync?T():setTimeout(T,10);var k,A,P,E=50;function D(t){if(!g.aborted&&!P){if((A=x(f))||(r("cannot access response document"),t=2),1===t&&g)return g.abort("timeout"),void w.reject(g,"timeout");if(2==t&&g)return g.abort("server abort"),void w.reject(g,"error","server abort");if(A&&A.location.href!=c.iframeSrc||_){f.detachEvent?f.detachEvent("onload",D):f.removeEventListener("load",D,!1);var n,i="success";try{if(_)throw"timeout";var a="xml"==c.dataType||A.XMLDocument||e.isXMLDoc(A);if(r("isXml="+a),!a&&window.opera&&(null===A.body||!A.body.innerHTML)&&--E)return r("requeing onLoad callback, DOM not available"),void setTimeout(D,250);var o=A.body?A.body:A.documentElement;g.responseText=o?o.innerHTML:null,g.responseXML=A.XMLDocument?A.XMLDocument:A,a&&(c.dataType="xml"),g.getResponseHeader=function(e){return{"content-type":c.dataType}[e.toLowerCase()]},o&&(g.status=Number(o.getAttribute("status"))||g.status,g.statusText=o.getAttribute("statusText")||g.statusText);var s=(c.dataType||"").toLowerCase(),l=/(json|script|text)/.test(s);if(l||c.textarea){var u=A.getElementsByTagName("textarea")[0];if(u)g.responseText=u.value,g.status=Number(u.getAttribute("status"))||g.status,g.statusText=u.getAttribute("statusText")||g.statusText;else if(l){var h=A.getElementsByTagName("pre")[0],m=A.getElementsByTagName("body")[0];h?g.responseText=h.textContent?h.textContent:h.innerText:m&&(g.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==s&&!g.responseXML&&g.responseText&&(g.responseXML=O(g.responseText));try{k=I(g,s,c)}catch(v){i="parsererror",g.error=n=v||i}}catch(v){r("error caught: ",v),i="error",g.error=n=v||i}g.aborted&&(r("upload aborted"),i=null),g.status&&(i=g.status>=200&&g.status<300||304===g.status?"success":"error"),"success"===i?(c.success&&c.success.call(c.context,k,"success",g),w.resolve(g.responseText,"success",g),d&&e.event.trigger("ajaxSuccess",[g,c])):i&&(void 0===n&&(n=g.statusText),c.error&&c.error.call(c.context,g,i,n),w.reject(g,"error",n),d&&e.event.trigger("ajaxError",[g,c,n])),d&&e.event.trigger("ajaxComplete",[g,c]),d&&!--e.active&&e.event.trigger("ajaxStop"),c.complete&&c.complete.call(c.context,g,i),P=!0,c.timeout&&clearTimeout(b),setTimeout((function(){c.iframeTarget?p.attr("src",c.iframeSrc):p.remove(),g.responseXML=null}),100)}}}var O=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},M=e.parseJSON||function(e){return window.eval("("+e+")")},I=function(t,n,i){var a=t.getResponseHeader("content-type")||"",r="xml"===n||!n&&a.indexOf("xml")>=0,o=r?t.responseXML:t.responseText;return r&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(o=i.dataFilter(o,n)),"string"===typeof o&&("json"===n||!n&&a.indexOf("json")>=0?o=M(o):("script"===n||!n&&a.indexOf("javascript")>=0)&&e.globalEval(o)),o};return w}},e.fn.ajaxForm=function(t){if((t=t||{}).delegation=t.delegation&&e.isFunction(e.fn.on),!t.delegation&&0===this.length){var n={s:this.selector,c:this.context};return!e.isReady&&n.s?(r("DOM not ready, queuing ajaxForm"),e((function(){e(n.s,n.c).ajaxForm(t)})),this):(r("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return t.delegation?(e(document).off("submit.form-plugin",this.selector,i).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,t,i).on("click.form-plugin",this.selector,t,a),this):this.ajaxFormUnbind().bind("submit.form-plugin",t,i).bind("click.form-plugin",t,a)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(n,i){var a=[];if(0===this.length)return a;var r,o,s,l,c,d,u,h,p=this[0],f=this.attr("id"),g=n?p.getElementsByTagName("*"):p.elements;if(g&&!/MSIE [678]/.test(navigator.userAgent)&&(g=e(g).get()),f&&(r=e(':input[form="'+f+'"]').get()).length&&(g=(g||[]).concat(r)),!g||!g.length)return a;for(o=0,u=g.length;o<u;o++)if((l=(d=g[o]).name)&&!d.disabled)if(n&&p.clk&&"image"==d.type)p.clk==d&&(a.push({name:l,value:e(d).val(),type:d.type}),a.push({name:l+".x",value:p.clk_x},{name:l+".y",value:p.clk_y}));else if((c=e.fieldValue(d,!0))&&c.constructor==Array)for(i&&i.push(d),s=0,h=c.length;s<h;s++)a.push({name:l,value:c[s]});else if(t.fileapi&&"file"==d.type){i&&i.push(d);var m=d.files;if(m.length)for(s=0;s<m.length;s++)a.push({name:l,value:m[s],type:d.type});else a.push({name:l,value:"",type:d.type})}else null!==c&&"undefined"!=typeof c&&(i&&i.push(d),a.push({name:l,value:c,type:d.type,required:d.required}));if(!n&&p.clk){var v=e(p.clk),_=v[0];(l=_.name)&&!_.disabled&&"image"==_.type&&(a.push({name:l,value:v.val()}),a.push({name:l+".x",value:p.clk_x},{name:l+".y",value:p.clk_y}))}return a},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each((function(){var i=this.name;if(i){var a=e.fieldValue(this,t);if(a&&a.constructor==Array)for(var r=0,o=a.length;r<o;r++)n.push({name:i,value:a[r]});else null!==a&&"undefined"!=typeof a&&n.push({name:this.name,value:a})}})),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],i=0,a=this.length;i<a;i++){var r=this[i],o=e.fieldValue(r,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(n,o):n.push(o))}return n},e.fieldValue=function(t,n){var i=t.name,a=t.type,r=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||t.disabled||"reset"==a||"button"==a||("checkbox"==a||"radio"==a)&&!t.checked||("submit"==a||"image"==a)&&t.form&&t.form.clk!=t||"select"==r&&-1==t.selectedIndex))return null;if("select"==r){var o=t.selectedIndex;if(o<0)return null;for(var s=[],l=t.options,c="select-one"==a,d=c?o+1:l.length,u=c?o:0;u<d;u++){var h=l[u];if(h.selected){var p=h.value;if(p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return p;s.push(p)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each((function(){e("input,select,textarea",this).clearFields(t)}))},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var i=this.type,a=this.tagName.toLowerCase();n.test(i)||"textarea"==a?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==a?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")}))},e.fn.resetForm=function(){return this.each((function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}))},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each((function(){this.disabled=!e}))},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each((function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}}))},e.fn.ajaxSubmit.debug=!1}("undefined"!=typeof jQuery?jQuery:window.Zepto)}()},function(e,t){!function(e){var t={};t.fileapi=void 0!==e("<input type='file'/>").get(0).files,t.formdata=void 0!==window.FormData,e.fn.uploadFile=function(n){var i=e.extend({url:"",method:"POST",enctype:"multipart/form-data",returnType:null,allowDuplicates:!0,duplicateStrict:!1,allowedTypes:"*",acceptFiles:"*",fileName:"file",formData:!1,dynamicFormData:!1,maxFileSize:-1,maxFileCount:-1,multiple:!0,dragDrop:!0,autoSubmit:!0,showCancel:!0,showAbort:!0,showDone:!1,showDelete:!1,showError:!0,showStatusAfterSuccess:!0,showStatusAfterError:!0,showFileCounter:!0,fileCounterStyle:"). ",showFileSize:!0,showProgress:!1,nestedForms:!0,showDownload:!1,onLoad:function(e){},onSelect:function(e){return!0},onSubmit:function(e,t){},onSuccess:function(e,t,n,i){},onError:function(e,t,n,i){},onCancel:function(e,t){},onAbort:function(e,t){},downloadCallback:!1,deleteCallback:!1,afterUploadAll:!1,serialize:!0,sequential:!1,sequentialCount:2,customProgressBar:!1,abortButtonClass:"ajax-file-upload-abort",cancelButtonClass:"ajax-file-upload-cancel",dragDropContainerClass:"ajax-upload-dragdrop",dragDropHoverClass:"state-hover",errorClass:"ajax-file-upload-error",uploadButtonClass:"ajax-file-upload",dragDropStr:"<span><b>Drag &amp; Drop Files</b></span>",uploadStr:"Upload",abortStr:"Abort",cancelStr:"Cancel",deleteStr:"Delete",doneStr:"Done",multiDragErrorStr:"Multiple File Drag &amp; Drop is not allowed.",extErrorStr:"is not allowed. Allowed extensions: ",duplicateErrorStr:"is not allowed. File already exists.",sizeErrorStr:"is not allowed. Allowed Max size: ",uploadErrorStr:"Upload is not allowed",maxFileCountErrorStr:" is not allowed. Maximum allowed files are:",downloadStr:"Download",customErrorKeyStr:"jquery-upload-file-error",showQueueDiv:!1,statusBarWidth:400,dragdropWidth:400,showPreview:!1,previewHeight:"auto",previewWidth:"100%",extraHTML:!1,uploadQueueOrder:"top",headers:{}},n);this.fileCounter=1,this.selectedFiles=0;var a="ajax-file-upload-"+(new Date).getTime();this.formGroup=a,this.errorLog=e("<div></div>"),this.responses=[],this.existingFileNames=[],t.formdata||(i.dragDrop=!1),t.formdata&&1!==i.maxFileCount||(i.multiple=!1),e(this).html("");var r=this,o=e("<div>"+i.uploadStr+"</div>");e(o).addClass(i.uploadButtonClass),function n(){if(e.fn.ajaxForm){if(i.dragDrop){var s=e('<div class="'+i.dragDropContainerClass+'" style="vertical-align:top;"></div>').width(i.dragdropWidth);e(r).append(s),e(s).append(o),e(s).append(e(i.dragDropStr)),function(t,n,i){i.on("dragenter",(function(t){t.stopPropagation(),t.preventDefault(),e(this).addClass(n.dragDropHoverClass)})),i.on("dragover",(function(t){t.stopPropagation(),t.preventDefault();var i=e(this);i.hasClass(n.dragDropContainerClass)&&!i.hasClass(n.dragDropHoverClass)&&i.addClass(n.dragDropHoverClass)})),i.on("drop",(function(i){i.preventDefault(),e(this).removeClass(n.dragDropHoverClass),t.errorLog.html("");var a=i.originalEvent.dataTransfer.files;!n.multiple&&a.length>1?n.showError&&e("<div class='"+n.errorClass+"'>"+n.multiDragErrorStr+"</div>").appendTo(t.errorLog):0!=n.onSelect(a)&&p(n,t,a)})),i.on("dragleave",(function(t){e(this).removeClass(n.dragDropHoverClass)})),e(document).on("dragenter",(function(e){e.stopPropagation(),e.preventDefault()})),e(document).on("dragover",(function(t){t.stopPropagation(),t.preventDefault();var i=e(this);i.hasClass(n.dragDropContainerClass)||i.removeClass(n.dragDropHoverClass)})),e(document).on("drop",(function(t){t.stopPropagation(),t.preventDefault(),e(this).removeClass(n.dragDropHoverClass)}))}(r,i,s)}else e(r).append(o);e(r).append(r.errorLog),i.showQueueDiv?r.container=e("#"+i.showQueueDiv):r.container=e("<div class='ajax-file-upload-container'></div>").insertAfter(e(r)),i.onLoad.call(this,r),function n(i,a,r,o){var s="ajax-upload-id-"+(new Date).getTime(),l=e("<form method='"+r.method+"' action='"+r.url+"' enctype='"+r.enctype+"'></form>"),c="<input type='file' id='"+s+"' name='"+r.fileName+"' accept='"+r.acceptFiles+"'/>";r.multiple&&(r.fileName.indexOf("[]")!=r.fileName.length-2&&(r.fileName+="[]"),c="<input type='file' id='"+s+"' name='"+r.fileName+"' accept='"+r.acceptFiles+"' multiple/>");var d=e(c).appendTo(l);d.change((function(){i.errorLog.html("");r.allowedTypes.toLowerCase().split(",");var s=[];if(this.files){for(g=0;g<this.files.length;g++)s.push(this.files[g].name);if(0==r.onSelect(this.files))return}else{var c=e(this).val(),d=[];if(s.push(c),!f(i,r,c))return void(r.showError&&e("<div class='"+r.errorClass+"'><b>"+c+"</b> "+r.extErrorStr+r.allowedTypes+"</div>").appendTo(i.errorLog));if(d.push({name:c,size:"NA"}),0==r.onSelect(d))return}if(v(r,i),o.unbind("click"),l.hide(),n(i,a,r,o),l.addClass(a),r.serialize&&t.fileapi&&t.formdata){l.removeClass(a);var u=this.files;l.remove(),p(r,i,u)}else{for(var h="",g=0;g<s.length;g++)r.showFileCounter?h+=i.fileCounter+r.fileCounterStyle+s[g]+"<br>":h+=s[g]+"<br>",i.fileCounter++;if(-1!=r.maxFileCount&&i.selectedFiles+s.length>r.maxFileCount)return void(r.showError&&e("<div class='"+r.errorClass+"'><b>"+h+"</b> "+r.maxFileCountErrorStr+r.maxFileCount+"</div>").appendTo(i.errorLog));i.selectedFiles+=s.length;var m=new b(i,r);m.filename.html(arangoHelper.escapeHtml(h)),y(l,r,m,s,i,null)}})),r.nestedForms?(l.css({margin:0,padding:0}),o.css({position:"relative",overflow:"hidden",cursor:"default"}),d.css({position:"absolute",cursor:"pointer",top:"0px",width:"100%",height:"100%",left:"0px","z-index":"100",opacity:"0.0",filter:"alpha(opacity=0)","-ms-filter":"alpha(opacity=0)","-khtml-opacity":"0.0","-moz-opacity":"0.0"}),l.appendTo(o)):(l.appendTo(e("body")),l.css({margin:0,padding:0,display:"block",position:"absolute",left:"-250px"}),-1!=navigator.appVersion.indexOf("MSIE ")?o.attr("for",s):o.click((function(){d.click()})))}(r,a,i,o)}else window.setTimeout(n,10)}(),this.startUpload=function(){e("form").each((function(t,n){e(this).hasClass(r.formGroup)&&s.push(e(this))})),s.length>=1&&d()},this.getFileCount=function(){return r.selectedFiles},this.stopUpload=function(){e("."+i.abortButtonClass).each((function(t,n){e(this).hasClass(r.formGroup)&&e(this).click()})),e("."+i.cancelButtonClass).each((function(t,n){e(this).hasClass(r.formGroup)&&e(this).click()}))},this.cancelAll=function(){e("."+i.cancelButtonClass).each((function(t,n){e(this).hasClass(r.formGroup)&&e(this).click()}))},this.update=function(t){i=e.extend(i,t),t.hasOwnProperty("url")&&e("form").each((function(n,i){e(this).attr("action",t.url)}))},this.enqueueFile=function(e){e instanceof File&&p(i,r,[e])},this.reset=function(e){r.fileCounter=1,r.selectedFiles=0,r.errorLog.html(""),0!=e&&r.container.html("")},this.remove=function(){r.container.html(""),e(r).remove()},this.createProgress=function(e,t,n){var a=new b(this,i);a.progressDiv.show(),a.progressbar.width("100%");var o="";return o=i.showFileCounter?r.fileCounter+i.fileCounterStyle+e:e,i.showFileSize&&(o+=" ("+u(n)+")"),a.filename.html(arangoHelper.escapeHtml(o)),r.fileCounter++,r.selectedFiles++,i.showPreview&&(a.preview.attr("src",t),a.preview.show()),i.showDownload&&(a.download.show(),a.download.click((function(){i.downloadCallback&&i.downloadCallback.call(r,[e],a)}))),i.showDelete&&(a.del.show(),a.del.click((function(){a.statusbar.hide().remove();var t=[e];i.deleteCallback&&i.deleteCallback.call(this,t,a),r.selectedFiles-=1,v(i,r)}))),a},this.getResponses=function(){return this.responses};var s=[],l=[],c=!1;function d(){c||(c=!0,function e(){if(i.sequential||(i.sequentialCount=99999),0==s.length&&0==l.length)i.afterUploadAll&&i.afterUploadAll(r),c=!1;else{if(l.length<i.sequentialCount){var t=s.shift();void 0!=t&&(l.push(t),t.removeClass(r.formGroup),t.submit())}window.setTimeout(e,100)}}())}function u(e){var t="",n=e/1024;parseInt(n)>1024?t=(n/1024).toFixed(2)+" MB":t=n.toFixed(2)+" KB";return t}function h(t){var n,i,a=[],r=(a="string"==jQuery.type(t)?t.split("&"):e.param(t).split("&")).length,o=[];for(n=0;n<r;n++)a[n]=a[n].replace(/\+/g," "),i=a[n].split("="),o.push([decodeURIComponent(i[0]),decodeURIComponent(i[1])]);return o}function p(t,n,i){for(var a=0;a<i.length;a++)if(f(n,t,i[a].name))if(t.allowDuplicates||!g(n,i[a].name))if(-1!=t.maxFileSize&&i[a].size>t.maxFileSize)t.showError&&e("<div class='"+t.errorClass+"'><b>"+i[a].name+"</b> "+t.sizeErrorStr+u(t.maxFileSize)+"</div>").appendTo(n.errorLog);else if(-1!=t.maxFileCount&&n.selectedFiles>=t.maxFileCount)t.showError&&e("<div class='"+t.errorClass+"'><b>"+i[a].name+"</b> "+t.maxFileCountErrorStr+t.maxFileCount+"</div>").appendTo(n.errorLog);else{n.selectedFiles++,n.existingFileNames.push(i[a].name);var r=e.extend({},t),o=new FormData,s=t.fileName.replace("[]","");o.append(s,i[a]);var l=t.formData;if(l)for(var c=h(l),d=0;d<c.length;d++)c[d]&&o.append(c[d][0],c[d][1]);r.fileData=o;var p=new b(n,t),m="";m=t.showFileCounter?n.fileCounter+t.fileCounterStyle+i[a].name:i[a].name,t.showFileSize&&(m+=" ("+u(i[a].size)+")"),p.filename.html(arangoHelper.escapeHtml(m));var v=e("<form style='display:block; position:absolute;left: 150px;' class='"+n.formGroup+"' method='"+t.method+"' action='"+t.url+"' enctype='"+t.enctype+"'></form>");v.appendTo("body");var _=[];_.push(i[a].name),y(v,r,p,_,n,i[a]),n.fileCounter++}else t.showError&&e("<div class='"+t.errorClass+"'><b>"+i[a].name+"</b> "+t.duplicateErrorStr+"</div>").appendTo(n.errorLog);else t.showError&&e("<div class='"+t.errorClass+"'><b>"+i[a].name+"</b> "+t.extErrorStr+t.allowedTypes+"</div>").appendTo(n.errorLog)}function f(e,t,n){var i=t.allowedTypes.toLowerCase().split(/[\s,]+/g),a=n.split(".").pop().toLowerCase();return!("*"!=t.allowedTypes&&jQuery.inArray(a,i)<0)}function g(e,t){var n=!1;if(e.existingFileNames.length)for(var a=0;a<e.existingFileNames.length;a++)(e.existingFileNames[a]==t||i.duplicateStrict&&e.existingFileNames[a].toLowerCase()==t.toLowerCase())&&(n=!0);return n}function m(e,t){if(e.existingFileNames.length)for(var n=0;n<t.length;n++){var i=e.existingFileNames.indexOf(t[n]);-1!=i&&e.existingFileNames.splice(i,1)}}function v(t,n){if(t.showFileCounter){var i=e(n.container).find(".ajax-file-upload-filename").length;n.fileCounter=i+1,e(n.container).find(".ajax-file-upload-filename").each((function(n,a){var r=e(this).html().split(t.fileCounterStyle),o=(parseInt(r[0]),i+t.fileCounterStyle+r[1]);e(this).html(o),i--}))}}function _(t,n){return this.statusbar=e("<div class='ajax-file-upload-statusbar'></div>").width(n.statusBarWidth),this.preview=e("<img class='ajax-file-upload-preview' />").width(n.previewWidth).height(n.previewHeight).appendTo(this.statusbar).hide(),this.filename=e("<div class='ajax-file-upload-filename'></div>").appendTo(this.statusbar),this.progressDiv=e("<div class='ajax-file-upload-progress'>").appendTo(this.statusbar).hide(),this.progressbar=e("<div class='ajax-file-upload-bar'></div>").appendTo(this.progressDiv),this.abort=e("<div>"+n.abortStr+"</div>").appendTo(this.statusbar).hide(),this.cancel=e("<div>"+n.cancelStr+"</div>").appendTo(this.statusbar).hide(),this.done=e("<div>"+n.doneStr+"</div>").appendTo(this.statusbar).hide(),this.download=e("<div>"+n.downloadStr+"</div>").appendTo(this.statusbar).hide(),this.del=e("<div>"+n.deleteStr+"</div>").appendTo(this.statusbar).hide(),this.abort.addClass("ajax-file-upload-red"),this.done.addClass("ajax-file-upload-green"),this.download.addClass("ajax-file-upload-green"),this.cancel.addClass("ajax-file-upload-red"),this.del.addClass("ajax-file-upload-red"),this}function b(t,n){var i=null;return(i=n.customProgressBar?new n.customProgressBar(t,n):new _(t,n)).abort.addClass(t.formGroup),i.abort.addClass(n.abortButtonClass),i.cancel.addClass(t.formGroup),i.cancel.addClass(n.cancelButtonClass),n.extraHTML&&(i.extraHTML=e("<div class='extrahtml'>"+n.extraHTML()+"</div>").insertAfter(i.filename)),"bottom"==n.uploadQueueOrder?e(t.container).append(i.statusbar):e(t.container).prepend(i.statusbar),i}function y(n,i,a,r,o,c){var u={cache:!1,contentType:!1,processData:!1,forceSync:!1,type:i.method,data:i.formData,formData:i.fileData,dataType:i.returnType,headers:i.headers,beforeSubmit:function(t,l,c){if(0!=i.onSubmit.call(this,r)){if(i.dynamicFormData){var d=h(i.dynamicFormData());if(d)for(var u=0;u<d.length;u++)d[u]&&(i.serialize&&void 0!=i.fileData?c.formData.append(d[u][0],d[u][1]):c.data[d[u][0]]=d[u][1])}return i.extraHTML&&e(a.extraHTML).find("input,select,textarea").each((function(t,n){i.serialize&&void 0!=i.fileData?c.formData.append(e(this).attr("name"),e(this).val()):c.data[e(this).attr("name")]=e(this).val()})),!0}return a.statusbar.append("<div class='"+i.errorClass+"'>"+i.uploadErrorStr+"</div>"),a.cancel.show(),n.remove(),a.cancel.click((function(){s.splice(s.indexOf(n),1),m(o,r),a.statusbar.remove(),i.onCancel.call(o,r,a),o.selectedFiles-=r.length,v(i,o)})),!1},beforeSend:function(e,n){for(var s in n.headers)e.setRequestHeader(s,n.headers[s]);a.progressDiv.show(),a.cancel.hide(),a.done.hide(),i.showAbort&&(a.abort.show(),a.abort.click((function(){m(o,r),e.abort(),o.selectedFiles-=r.length,i.onAbort.call(o,r,a)}))),t.formdata?a.progressbar.width("1%"):a.progressbar.width("5%")},uploadProgress:function(e,t,n,r){r>98&&(r=98);var o=r+"%";r>1&&a.progressbar.width(o),i.showProgress&&(a.progressbar.html(o),a.progressbar.css("text-align","center"))},success:function(t,s,c){if(a.cancel.remove(),l.pop(),"json"==i.returnType&&"object"==e.type(t)&&t.hasOwnProperty(i.customErrorKeyStr)){a.abort.hide();var d=t[i.customErrorKeyStr];return i.onError.call(this,r,200,d,a),i.showStatusAfterError?(a.progressDiv.hide(),a.statusbar.append("<span class='"+i.errorClass+"'>ERROR: "+d+"</span>")):(a.statusbar.hide(),a.statusbar.remove()),o.selectedFiles-=r.length,void n.remove()}o.responses.push(t),a.progressbar.width("100%"),i.showProgress&&(a.progressbar.html("100%"),a.progressbar.css("text-align","center")),a.abort.hide(),i.onSuccess.call(this,r,t,c,a),i.showStatusAfterSuccess?(i.showDone?(a.done.show(),a.done.click((function(){a.statusbar.hide("slow"),a.statusbar.remove()}))):a.done.hide(),i.showDelete?(a.del.show(),a.del.click((function(){m(o,r),a.statusbar.hide().remove(),i.deleteCallback&&i.deleteCallback.call(this,t,a),o.selectedFiles-=r.length,v(i,o)}))):a.del.hide()):(a.statusbar.hide("slow"),a.statusbar.remove()),i.showDownload&&(a.download.show(),a.download.click((function(){i.downloadCallback&&i.downloadCallback(t,a)}))),n.remove()},error:function(e,t,s){a.cancel.remove(),l.pop(),a.abort.hide(),"abort"==e.statusText?(a.statusbar.hide("slow").remove(),v(i,o)):(i.onError.call(this,r,t,s,a),i.showStatusAfterError?(a.progressDiv.hide(),a.statusbar.append("<span class='"+i.errorClass+"'>ERROR: "+s+"</span>")):(a.statusbar.hide(),a.statusbar.remove()),o.selectedFiles-=r.length),n.remove()}};i.showPreview&&null!=c&&"image"==c.type.toLowerCase().split("/").shift()&&function(e,t){if(e){t.show();var n=new FileReader;n.onload=function(e){t.attr("src",e.target.result)},n.readAsDataURL(e)}}(c,a.preview),i.autoSubmit?(n.ajaxForm(u),s.push(n),d()):(i.showCancel&&(a.cancel.show(),a.cancel.click((function(){s.splice(s.indexOf(n),1),m(o,r),n.remove(),a.statusbar.remove(),i.onCancel.call(o,r,a),o.selectedFiles-=r.length,v(i,o)}))),n.ajaxForm(u))}return this}}(jQuery)},function(e,t){!function(e){"use strict";e((function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()}))}(window.jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){var n,i=e(this),a=i.attr("data-target");function r(){n.trigger("closed").remove()}a||(a=(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,"")),n=e(a),t&&t.preventDefault(),n.length||(n=i.hasClass("alert")?i:i.parent()),n.trigger(t=e.Event("close")),t.isDefaultPrevented()||(n.removeClass("in"),e.support.transition&&n.hasClass("fade")?n.on(e.support.transition.end,r):r())};var i=e.fn.alert;e.fn.alert=function(t){return this.each((function(){var i=e(this),a=i.data("alert");a||i.data("alert",a=new n(this)),"string"==typeof t&&a[t].call(i)}))},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),a=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[a]()),n[a](i[e]||this.options[e]),setTimeout((function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)}),0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each((function(){var i=e(this),a=i.data("button"),r="object"==typeof n&&n;a||i.data("button",a=new t(this,r)),"toggle"==n?a.toggle():n&&a.setState(n)}))},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",(function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")}))}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),i=n.parent().children(),a=i.index(n),r=this;if(!(t>i.length-1||t<0))return this.sliding?this.$element.one("slid",(function(){r.to(t)})):a==t?this.pause().cycle():this.slide(t>a?"next":"prev",e(i[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,n){var i,a=this.$element.find(".item.active"),r=n||a[t](),o=this.interval,s="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,o&&this.pause(),r=r.length?r:this.$element.find(".item")[l](),i=e.Event("slide",{relatedTarget:r[0]}),!r.hasClass("active")){if(e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;r.addClass(t),r[0].offsetWidth,a.addClass(s),r.addClass(s),this.$element.one(e.support.transition.end,(function(){r.removeClass([t,s].join(" ")).addClass("active"),a.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout((function(){c.$element.trigger("slid")}),0)}))}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;a.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each((function(){var i=e(this),a=i.data("carousel"),r=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),o="string"==typeof n?n:r.slide;a||i.data("carousel",a=new t(this,r)),"number"==typeof n?a.to(n):o?a[o]():r.interval&&a.cycle()}))},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide]",(function(t){var n,i=e(this),a=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),r=e.extend({},a.data(),i.data());a.carousel(r),t.preventDefault()}))}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var t,n,i,a;if(!this.transitioning){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),(i=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&i.length){if((a=i.data("collapse"))&&a.transitioning)return;i.collapse("hide"),a||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;this.transitioning||(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var a=this,r=function(){"show"==n.type&&a.reset(),a.transitioning=0,a.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,r):r())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each((function(){var i=e(this),a=i.data("collapse"),r="object"==typeof n&&n;a||i.data("collapse",a=new t(this,r)),"string"==typeof n&&a[n]()}))},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",(function(t){var n,i=e(this),a=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=e(a).data("collapse")?"toggle":i.data();i[e(a).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(a).collapse(r)}))}(window.jQuery),function(e){"use strict";var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",(function(){n.parent().removeClass("open")}))};function i(){e(t).each((function(){a(e(this)).removeClass("open")}))}function a(t){var n,i=t.attr("data-target");return i||(i=(i=t.attr("href"))&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),(n=e(i)).length||(n=t.parent()),n}n.prototype={constructor:n,toggle:function(t){var n,r,o=e(this);if(!o.is(".disabled, :disabled"))return r=(n=a(o)).hasClass("open"),i(),r||n.toggleClass("open"),o.focus(),!1},keydown:function(t){var n,i,r,o,s;if(/(38|40|27)/.test(t.keyCode)&&(n=e(this),t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled"))){if(!(o=(r=a(n)).hasClass("open"))||o&&27==t.keyCode)return n.click();(i=e("[role=menu] li:not(.divider):visible a",r)).length&&(s=i.index(i.filter(":focus")),38==t.keyCode&&s>0&&s--,40==t.keyCode&&s<i.length-1&&s++,~s||(s=0),i.eq(s).focus())}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var i=e(this),a=i.data("dropdown");a||i.data("dropdown",a=new n(this)),"string"==typeof t&&a[t].call(i)}))},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",i).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("touchstart.dropdown.data-api",".dropdown-menu",(function(e){e.stopPropagation()})).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop((function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,(function(){t.$element.focus().trigger("shown")})):t.$element.focus().trigger("shown")})))},hide:function(t){t&&t.preventDefault();t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",(function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()}))},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",(function(t){27==t.which&&e.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout((function(){t.$element.off(e.support.transition.end),t.hideModal()}),500);this.$element.one(e.support.transition.end,(function(){clearTimeout(n),t.hideModal()}))},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each((function(){var i=e(this),a=i.data("modal"),r=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);a||i.data("modal",a=new t(this,r)),"string"==typeof n?a[n]():r.show&&a.show()}))},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',(function(t){var n=e(this),i=n.attr("href"),a=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},a.data(),n.data());t.preventDefault(),a.modal(r).one("hide",(function(){n.focus()}))}))}(window.jQuery),function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var a,r;this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(a="hover"==this.options.trigger?"mouseenter":"focus",r="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return(t=e.extend({},e.fn[this.type].defaults,t,this.$element.data())).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)},show:function(){var e,t,n,i,a,r,o;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(r),e.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),n=this.getPosition(t),i=e[0].offsetWidth,a=e[0].offsetHeight,t?r.split(" ")[1]:r){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":o={top:n.top-a,left:n.left+n.width/2-i/2};break;case"left":o={top:n.top+n.height/2-a/2,left:n.left-i};break;case"right":o={top:n.top+n.height/2-a/2,left:n.left+n.width}}e.offset(o).addClass(r).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){var t=this.tip();return t.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?function(){var n=setTimeout((function(){t.off(e.support.transition.end).detach()}),500);t.one(e.support.transition.end,(function(){clearTimeout(n),t.detach()}))}():t.detach(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n[n.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each((function(){var i=e(this),a=i.data("tooltip"),r="object"==typeof n&&n;a||i.data("tooltip",a=new t(this,r)),"string"==typeof n&&a[n]()}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each((function(){var i=e(this),a=i.data("popover"),r="object"==typeof n&&n;a||i.data("popover",a=new t(this,r)),"string"==typeof n&&a[n]()}))},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),function(e){"use strict";function t(t,n){var i,a=e.proxy(this.process,this),r=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=r.on("scroll.scroll-spy.data-api",a),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this;this.offsets=e([]),this.targets=e([]),this.$body.find(this.selector).map((function(){var n=e(this),i=n.data("target")||n.attr("href"),a=/^#\w/.test(i)&&e(i);return a&&a.length&&[[a.position().top+t.$scrollElement.scrollTop(),i]]||null})).sort((function(e,t){return e[0]-t[0]})).each((function(){t.offsets.push(this[0]),t.targets.push(this[1])}))},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),i=this.offsets,a=this.targets,r=this.activeTarget;if(t>=n)return r!=(e=a.last()[0])&&this.activate(e);for(e=i.length;e--;)r!=a[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(a[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',(n=e(i).parent("li").addClass("active")).parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each((function(){var i=e(this),a=i.data("scrollspy"),r="object"==typeof n&&n;a||i.data("scrollspy",a=new t(this,r)),"string"==typeof n&&a[n]()}))},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",(function(){e('[data-spy="scroll"]').each((function(){var t=e(this);t.scrollspy(t.data())}))}))}(window.jQuery),function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,a=this.element,r=a.closest("ul:not(.dropdown-menu)"),o=a.attr("data-target");o||(o=(o=a.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"")),a.parent("li").hasClass("active")||(t=r.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),a.trigger(i),i.isDefaultPrevented()||(n=e(o),this.activate(a.parent("li"),r),this.activate(n,n.parent(),(function(){a.trigger({type:"shown",relatedTarget:t})}))))},activate:function(t,n,i){var a=n.find("> .active"),r=i&&e.support.transition&&a.hasClass("fade");function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}r?a.one(e.support.transition.end,o):o(),a.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each((function(){var i=e(this),a=i.data("tab");a||i.data("tab",a=new t(this)),"string"==typeof n&&a[n]()}))},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',(function(t){t.preventDefault(),e(this).tab("show")}))}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source)?this.process(n):this},process:function(t){var n=this;return t=e.grep(t,(function(e){return n.matcher(e)})),(t=this.sorter(t)).length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],a=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):a.push(t):n.push(t);return n.concat(i,a)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),(function(e,t){return"<strong>"+t+"</strong>"}))},render:function(t){var n=this;return(t=e(t).map((function(t,i){return(t=e(n.options.item).attr("data-value",i)).find("a").html(n.highlighter(i)),t[0]}))).first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active").next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active").prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"===typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout((function(){t.hide()}),150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each((function(){var i=e(this),a=i.data("typeahead"),r="object"==typeof n&&n;a||i.data("typeahead",a=new t(this,r)),"string"==typeof n&&a[n]()}))},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',(function(t){var n=e(this);n.data("typeahead")||(t.preventDefault(),n.typeahead(n.data()))}))}(window.jQuery),function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy((function(){setTimeout(e.proxy(this.checkPosition,this),1)}),this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),a=this.$element.offset(),r=this.options.offset,o=r.bottom,s=r.top;"object"!=typeof r&&(o=s=r),"function"==typeof s&&(s=r.top()),"function"==typeof o&&(o=r.bottom()),t=!(null!=this.unpin&&i+this.unpin<=a.top)&&(null!=o&&a.top+this.$element.height()>=n-o?"bottom":null!=s&&i<=s&&"top"),this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?a.top-i:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each((function(){var i=e(this),a=i.data("affix"),r="object"==typeof n&&n;a||i.data("affix",a=new t(this,r)),"string"==typeof n&&a[n]()}))},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",(function(){e('[data-spy="affix"]').each((function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)}))}))}(window.jQuery)},,,,,function(e,t){!function(){"use strict";var e=!1;window.Router=Backbone.Router.extend({toUpdate:[],dbServers:[],isCluster:void 0,foxxApiEnabled:void 0,statisticsInAllDatabases:void 0,lastRoute:void 0,maxNumberOfMoveShards:void 0,routes:{"":"cluster",dashboard:"dashboard",replication:"replication","replication/applier/:endpoint/:database":"applier",collections:"collections",analyzers:"analyzers",new:"newCollection",login:"login","collection/:colid/documents/:pageid":"documents","cIndices/:colname":"cIndices","cSettings/:colname":"cSettings","cSchema/:colname":"cSchema","cInfo/:colname":"cInfo","collection/:colid/:docid":"document",queries:"query",databases:"databases",settings:"databases",services:"applications","services/install":"installService","services/install/new":"installNewService","services/install/github":"installGitHubService","services/install/upload":"installUploadService","services/install/remote":"installUrlService","service/:mount":"applicationDetail","store/:name":"storeDetail",graphs:"graphManagement","graphs/:name":"showGraph",metrics:"metrics",users:"userManagement","user/:name":"userView","user/:name/permission":"userPermission",userProfile:"userProfile",cluster:"cluster",nodes:"nodes",shards:"shards",rebalanceShards:"rebalanceShards",maintenance:"maintenance",distribution:"distribution","node/:name":"node","nodeInfo/:id":"nodeInfo",logs:"logger",helpus:"helpUs",views:"views","view/:name":"view","graph/:name":"graph","graph/:name/settings":"graphSettings",support:"support"},execute:function(e,t){if("#queries"===this.lastRoute&&(this.queryView.removeInputEditors(),this.queryView.cleanupGraphs(),this.queryView.removeResults()),this.lastRoute){var n=this.lastRoute.split("/")[0],i=this.lastRoute.split("/")[1],a=this.lastRoute.split("/")[2];"#service"!==n&&(window.App.replaceApp?"install"!==i&&a&&(window.App.replaceApp=!1):window.App.replaceApp=!1),"#collection"===this.lastRoute.substr(0,11)&&3===this.lastRoute.split("/").length&&this.documentView.cleanupEditor(),"#dasboard"!==this.lastRoute&&"#node"!==window.location.hash.substr(0,5)||d3.selectAll("svg > *").remove(),"#logger"===this.lastRoute&&(this.loggerView.logLevelView&&this.loggerView.logLevelView.remove(),this.loggerView.logTopicView&&this.loggerView.logTopicView.remove()),"#shards"===this.lastRoute&&this.shardsView&&this.shardsView.remove(),ReactDOM.unmountComponentAtNode(document.getElementById("content"))}this.lastRoute=window.location.hash,$("#subNavigationBar .breadcrumb").html(""),$("#subNavigationBar .bottom").html(""),$("#loadingScreen").hide(),$("#content").show(),e&&e.apply(this,t),"#services"===this.lastRoute&&(window.App.replaceApp=!1),this.graphViewer&&this.graphViewer.graphSettingsView&&this.graphViewer.graphSettingsView.hide(),this.queryView&&this.queryView.graphViewer&&this.queryView.graphViewer.graphSettingsView&&this.queryView.graphViewer.graphSettingsView.hide()},listenerFunctions:{},listener:function(e){_.each(window.App.listenerFunctions,(function(t,n){t(e)}))},checkUser:function(){var e=this;if("#login"!==window.location.hash){var t=function(){this.initOnce(),$(".bodyWrapper").show(),$(".navbar").show()}.bind(this),n=function(n,i){frontendConfig.authenticationEnabled?(e.currentUser=i,n||null===i?"#login"!==window.location.hash&&this.navigate("login",{trigger:!0}):t()):t()}.bind(this);frontendConfig.authenticationEnabled?this.userCollection.whoAmI(n):(this.initOnce(),$(".bodyWrapper").show(),$(".navbar").show())}},initialize:function(){var t=this;this.init=new Promise((function(e,n){t.initSucceeded=e,t.initFailed=n})),this.isCluster=frontendConfig.isCluster,"boolean"===typeof frontendConfig.foxxApiEnabled&&(this.foxxApiEnabled=frontendConfig.foxxApiEnabled),"boolean"===typeof frontendConfig.statisticsInAllDatabases&&(this.statisticsInAllDatabases=frontendConfig.statisticsInAllDatabases),this.maxNumberOfMoveShards=frontendConfig.maxNumberOfMoveShards,document.addEventListener("keyup",this.listener,!1),window.modalView=new window.ModalView,this.foxxList=new window.FoxxCollection,this.foxxRepo=new window.FoxxRepository,frontendConfig.foxxStoreEnabled&&this.foxxRepo.fetch({success:function(){t.serviceInstallView&&(t.serviceInstallView.collection=t.foxxRepo)}}),window.progressView=new window.ProgressView,this.userCollection=new window.ArangoUsers,this.initOnce=_.once((function(){window.isCoordinator((function(n,i){!0===i&&(e=!0,t.coordinatorCollection.fetch({success:function(){t.fetchDBS()}})),n&&console.log(n)})),!1===frontendConfig.isCluster&&this.initSucceeded(!0),this.arangoDatabase=new window.ArangoDatabase,this.currentDB=new window.CurrentDatabase,this.arangoCollectionsStore=new window.ArangoCollections,this.arangoDocumentStore=new window.ArangoDocument,this.arangoViewsStore=new window.ArangoViews,this.coordinatorCollection=new window.ClusterCoordinators,window.spotlightView=new window.SpotlightView({collection:this.arangoCollectionsStore}),arangoHelper.setDocumentStore(this.arangoDocumentStore),this.arangoCollectionsStore.fetch({cache:!1}),this.footerView=new window.FooterView({collection:t.coordinatorCollection}),this.notificationList=new window.NotificationCollection,this.currentDB.fetch({cache:!1,success:function(){t.naviView=new window.NavigationView({database:t.arangoDatabase,currentDB:t.currentDB,notificationCollection:t.notificationList,userCollection:t.userCollection,isCluster:t.isCluster,foxxApiEnabled:t.foxxApiEnabled,statisticsInAllDatabases:t.statisticsInAllDatabases}),t.naviView.render()}}),this.queryCollection=new window.ArangoQueries,this.footerView.render(),window.checkVersion(),this.userConfig=new window.UserConfig({ldapEnabled:frontendConfig.ldapEnabled}),this.userConfig.fetch(),this.documentsView=new window.DocumentsView({collection:new window.ArangoDocuments,documentStore:this.arangoDocumentStore,collectionsStore:this.arangoCollectionsStore}),arangoHelper.initSigma()})).bind(this),$(window).on("resize",(function(){t.handleResize()}))},analyzers:function(){this.checkUser(),this.init.then((function(){return ReactDOM.render(React.createElement(window.AnalyzersReactView),document.getElementById("content"))}))},cluster:function(){var e=this;this.checkUser(),this.init.then((function(){if(e.isCluster&&"jwt-all"===frontendConfig.clusterApiJwtPolicy)return e.routes[""]="collections",void e.navigate("#collections",{trigger:!0});e.isCluster?"_system"===e.currentDB.get("name")||e.statisticsInAllDatabases?(e.clusterView||(e.clusterView=new window.ClusterView({coordinators:e.coordinatorCollection,dbServers:e.dbServers})),e.clusterView.render()):e.navigate("#nodes",{trigger:!0}):"_system"===e.currentDB.get("name")?(e.routes[""]="dashboard",e.navigate("#dashboard",{trigger:!0})):(e.routes[""]="collections",e.navigate("#collections",{trigger:!0}))}))},node:function(e){var t=this;this.checkUser(),this.init.then((function(){return t.isCluster&&"jwt-all"===frontendConfig.clusterApiJwtPolicy?(t.routes[""]="collections",void t.navigate("#collections",{trigger:!0})):!1===t.isCluster?(t.routes[""]="dashboard",void t.navigate("#dashboard",{trigger:!0})):(t.nodeView&&t.nodeView.remove(),t.nodeView=new window.NodeView({coordid:e,coordinators:t.coordinatorCollection,dbServers:t.dbServers}),void t.nodeView.render())}))},shards:function(){var e=this;this.checkUser(),this.init.then((function(){if(!1===e.isCluster)return e.routes[""]="dashboard",void e.navigate("#dashboard",{trigger:!0});e.shardsView&&e.shardsView.remove(),e.shardsView=new window.ShardsView({dbServers:e.dbServers}),e.shardsView.render()}))},rebalanceShards:function(){var t=this;this.checkUser(),this.init.then((function(){return!1===t.isCluster||!1===e||0===t.maxNumberOfMoveShards?(t.routes[""]="dashboard",void t.navigate("#dashboard",{trigger:!0})):t.userCollection.authOptions.ro?(t.routes[""]="nodes",void t.navigate("#nodes",{trigger:!0})):(t.rebalanceShardsView&&t.rebalanceShardsView.remove(),t.rebalanceShardsView=new window.RebalanceShardsView({maxNumberOfMoveShards:t.maxNumberOfMoveShards}),void t.rebalanceShardsView.render())}))},distribution:function(){var e=this;this.checkUser(),this.init.then((function(){"_system"===e.currentDB.get("name")?(e.shardDistributionView&&e.shardDistributionView.remove(),e.shardDistributionView=new window.ShardDistributionView({}),e.shardDistributionView.render()):e.isCluster?(e.routes[""]="cluster",e.navigate("#cluster",{trigger:!0})):(e.routes[""]="dashboard",e.navigate("#dashboard",{trigger:!0}))}))},maintenance:function(){var e=this;this.checkUser(),this.init.then((function(){!1!==frontendConfig.showMaintenanceStatus&&"_system"===e.currentDB.get("name")?(e.maintenanceView&&e.maintenanceView.remove(),e.maintenanceView=new window.MaintenanceView({}),e.maintenanceView.render()):e.isCluster?(e.routes[""]="cluster",e.navigate("#cluster",{trigger:!0})):(e.routes[""]="dashboard",e.navigate("#dashboard",{trigger:!0}))}))},nodes:function(){var e=this;this.checkUser(),this.init.then((function(){if(!1===e.isCluster)return e.routes[""]="dashboard",void e.navigate("#dashboard",{trigger:!0});e.nodesView&&e.nodesView.remove(),e.nodesView=new window.NodesView({}),e.nodesView.render()}))},cNodes:function(){var e=this;this.checkUser(),this.init.then((function(){if(!1===e.isCluster)return e.routes[""]="dashboard",void e.navigate("#dashboard",{trigger:!0});e.nodesView=new window.NodesView({coordinators:e.coordinatorCollection,dbServers:e.dbServers[0],toRender:"coordinator"}),e.nodesView.render()}))},dNodes:function(){var e=this;this.checkUser(),this.init.then((function(){if(!1===e.isCluster)return e.routes[""]="dashboard",void e.navigate("#dashboard",{trigger:!0});0!==e.dbServers.length?(e.nodesView=new window.NodesView({coordinators:e.coordinatorCollection,dbServers:e.dbServers[0],toRender:"dbserver"}),e.nodesView.render()):e.navigate("#cNodes",{trigger:!0})}))},sNodes:function(){var e=this;this.checkUser(),this.init.then((function(){if(!1===e.isCluster)return e.routes[""]="dashboard",void e.navigate("#dashboard",{trigger:!0});e.scaleView=new window.ScaleView({coordinators:e.coordinatorCollection,dbServers:e.dbServers[0]}),e.scaleView.render()}))},addAuth:function(e){var t=this.clusterPlan.get("user");if(!t)return e.abort(),void(this.isCheckingUser||this.requestAuth());var n=t.name,i=t.passwd,a=n.concat(":",i);e.setRequestHeader("Authorization","Basic "+btoa(a))},logger:function(){var e=this;this.checkUser(),this.init.then((function(){e.loggerView&&e.loggerView.remove();var t=new window.ArangoLogs({upto:!0,loglevel:4});e.loggerView=new window.LoggerView({collection:t}),e.loggerView.render(!0)}))},applicationDetail:function(e){var t=this;this.checkUser(),this.init.then((function(){if(t.foxxApiEnabled){var n=function(){this.hasOwnProperty("applicationDetailView")&&this.applicationDetailView.remove(),this.applicationDetailView=new window.ApplicationDetailView({model:this.foxxList.get(decodeURIComponent(e))}),this.applicationDetailView.model=this.foxxList.get(decodeURIComponent(e)),this.applicationDetailView.render("swagger")}.bind(t);0===t.foxxList.length?t.foxxList.fetch({cache:!1,success:function(){n()}}):n()}else t.navigate("#dashboard",{trigger:!0})}))},storeDetail:function(e){var t=this;this.checkUser(),this.init.then((function(){if(t.foxxApiEnabled){var n=function(){this.hasOwnProperty("storeDetailView")&&this.storeDetailView.remove(),this.storeDetailView=new window.StoreDetailView({model:this.foxxRepo.get(decodeURIComponent(e)),collection:this.foxxList}),this.storeDetailView.model=this.foxxRepo.get(decodeURIComponent(e)),this.storeDetailView.render()}.bind(t);0===t.foxxRepo.length?t.foxxRepo.fetch({cache:!1,success:function(){n()}}):n()}else t.navigate("#dashboard",{trigger:!0})}))},login:function(){var e=function(e,t){this.loginView||(this.loginView=new window.LoginView({collection:this.userCollection})),e||null===t||void 0===t?this.loginView.render():this.loginView.render(!0)}.bind(this);this.userCollection.whoAmI(e)},collections:function(){var e=this;this.checkUser(),this.init.then((function(){var t=e;e.collectionsView&&e.collectionsView.remove(),e.collectionsView=new window.CollectionsView({collection:e.arangoCollectionsStore}),e.arangoCollectionsStore.fetch({cache:!1,success:function(){t.collectionsView.render()}})}))},cIndices:function(e){var t=this,n=this;this.checkUser(),this.init.then((function(){t.arangoCollectionsStore.fetch({cache:!1,success:function(){n.indicesView&&n.indicesView.remove(),n.indicesView=new window.IndicesView({collectionName:e,collection:n.arangoCollectionsStore.findWhere({name:e})}),n.indicesView.render()}})}))},cSettings:function(e){var t=this,n=this;this.checkUser(),this.init.then((function(){t.arangoCollectionsStore.fetch({cache:!1,success:function(){n.settingsView=new window.SettingsView({collectionName:e,collection:n.arangoCollectionsStore.findWhere({name:e})}),n.settingsView.render()}})}))},cSchema:function(e){var t=this,n=this;this.checkUser(),this.init.then((function(){t.arangoCollectionsStore.fetch({cache:!1,success:function(){n.settingsView=new window.ValidationView({collectionName:e,collection:n.arangoCollectionsStore.findWhere({name:e})}),n.settingsView.render()}})}))},cInfo:function(e){var t=this,n=this;this.checkUser(),this.init.then((function(){t.arangoCollectionsStore.fetch({cache:!1,success:function(){n.infoView=new window.InfoView({collectionName:e,collection:n.arangoCollectionsStore.findWhere({name:e})}),n.infoView.render()}})}))},documents:function(e,t){var n=this;this.checkUser(),this.init.then((function(){n.documentsView&&n.documentsView.unbindEvents(),n.documentsView||(n.documentsView=new window.DocumentsView({collection:new window.ArangoDocuments,documentStore:n.arangoDocumentStore,collectionsStore:n.arangoCollectionsStore})),n.documentsView.setCollectionId(e,t),n.documentsView.render(),n.documentsView.delegateEvents()}))},document:function(e){var t=this;this.checkUser(),this.init.then((function(){var n;t.documentView&&(t.documentView.defaultMode&&(n=t.documentView.defaultMode),t.documentView.remove()),t.documentView=new window.DocumentView({collection:t.arangoDocumentStore}),t.documentView.colid=e,t.documentView.defaultMode=n;var i=window.location.hash.split("/")[2];i=decodeURIComponent(i),t.documentView.docid=i,t.documentView.render();var a=function(t,n){t?this.documentView.renderNotFound(e,!0):this.documentView.setType()}.bind(t);arangoHelper.collectionApiType(e,null,a)}))},query:function(){var e=this;this.checkUser(),this.init.then((function(){e.queryView||(e.queryView=new window.QueryView({collection:e.queryCollection})),e.queryView.render()}))},graph:function(e){var t=this;this.checkUser(),this.init.then((function(){t.graphViewer&&(t.graphViewer.graphSettingsView&&t.graphViewer.graphSettingsView.remove(),t.graphViewer.killCurrentGraph(),t.graphViewer.unbind(),t.graphViewer.remove()),t.graphViewer=new window.GraphViewer({name:e,documentStore:t.arangoDocumentStore,collection:new window.GraphCollection,userConfig:t.userConfig}),t.graphViewer.render()}))},graphSettings:function(e){var t=this;this.checkUser(),this.init.then((function(){t.graphSettingsView&&t.graphSettingsView.remove(),t.graphSettingsView=new window.GraphSettingsView({name:e,userConfig:t.userConfig}),t.graphSettingsView.render()}))},helpUs:function(){var e=this;this.checkUser(),this.init.then((function(){e.testView||(e.helpUsView=new window.HelpUsView({})),e.helpUsView.render()}))},support:function(){var e=this;this.checkUser(),this.init.then((function(){e.testView||(e.supportView=new window.SupportView({})),e.supportView.render()}))},queryManagement:function(){var e=this;this.checkUser(),this.init.then((function(){e.queryManagementView&&e.queryManagementView.remove(),e.queryManagementView=new window.QueryManagementView({collection:void 0}),e.queryManagementView.render()}))},databases:function(){var e=this;this.checkUser(),this.init.then((function(){var t=function(e){e?(arangoHelper.arangoError("DB","Could not get list of allowed databases"),this.navigate("#",{trigger:!0}),$("#databaseNavi").css("display","none"),$("#databaseNaviSelect").css("display","none")):(this.databaseView&&this.databaseView.remove(),this.databaseView=new window.DatabaseView({users:this.userCollection,collection:this.arangoDatabase}),this.databaseView.render())}.bind(e);arangoHelper.databaseAllowed(t)}))},dashboard:function(){var e=this;this.checkUser(),this.init.then((function(){void 0===e.dashboardView&&(e.dashboardView=new window.DashboardView({dygraphConfig:window.dygraphConfig,database:e.arangoDatabase})),e.dashboardView.render()}))},replication:function(){var e=this;this.checkUser(),this.init.then((function(){e.replicationView||(e.replicationView=new window.ReplicationView({})),e.replicationView.render()}))},applier:function(e,t){var n=this;this.checkUser(),this.init.then((function(){void 0===n.applierView&&(n.applierView=new window.ApplierView({})),n.applierView.endpoint=atob(e),n.applierView.database=atob(t),n.applierView.render()}))},graphManagement:function(){var e=this;this.checkUser(),this.init.then((function(){e.graphManagementView&&e.graphManagementView.undelegateEvents(),e.graphManagementView=new window.GraphManagementView({collection:new window.GraphCollection,collectionCollection:e.arangoCollectionsStore}),e.graphManagementView.render()}))},showGraph:function(e){var t=this;this.checkUser(),this.init.then((function(){t.graphManagementView?t.graphManagementView.loadGraphViewer(e):(t.graphManagementView=new window.GraphManagementView({collection:new window.GraphCollection,collectionCollection:t.arangoCollectionsStore}),t.graphManagementView.render(e,!0))}))},applications:function(){var e=this;this.checkUser(),this.init.then((function(){e.foxxApiEnabled?(void 0===e.applicationsView&&(e.applicationsView=new window.ApplicationsView({collection:e.foxxList})),e.applicationsView.reload()):e.navigate("#dashboard",{trigger:!0})}))},installService:function(){var e=this;this.checkUser(),this.init.then((function(){e.foxxApiEnabled?frontendConfig.foxxStoreEnabled?(window.modalView.clearValidators(),e.serviceInstallView&&e.serviceInstallView.remove(),e.serviceInstallView=new window.ServiceInstallView({collection:e.foxxRepo,functionsCollection:e.foxxList}),e.serviceInstallView.render()):e.navigate("#services/install/upload",{trigger:!0}):e.navigate("#dashboard",{trigger:!0})}))},installNewService:function(){var e=this;this.checkUser(),this.init.then((function(){e.foxxApiEnabled?(window.modalView.clearValidators(),e.serviceNewView&&e.serviceNewView.remove(),e.serviceNewView=new window.ServiceInstallNewView({collection:e.foxxList}),e.serviceNewView.render()):e.navigate("#dashboard",{trigger:!0})}))},installGitHubService:function(){var e=this;this.checkUser(),this.init.then((function(){e.foxxApiEnabled?(window.modalView.clearValidators(),e.serviceGitHubView&&e.serviceGitHubView.remove(),e.serviceGitHubView=new window.ServiceInstallGitHubView({collection:e.foxxList}),e.serviceGitHubView.render()):e.navigate("#dashboard",{trigger:!0})}))},installUrlService:function(){var e=this;this.checkUser(),this.init.then((function(){e.foxxApiEnabled?frontendConfig.foxxAllowInstallFromRemote?(window.modalView.clearValidators(),e.serviceUrlView&&e.serviceUrlView.remove(),e.serviceUrlView=new window.ServiceInstallUrlView({collection:e.foxxList}),e.serviceUrlView.render()):e.navigate("#services/install/upload",{trigger:!0}):e.navigate("#dashboard",{trigger:!0})}))},installUploadService:function(){var e=this;this.checkUser(),this.init.then((function(){e.foxxApiEnabled?(window.modalView.clearValidators(),e.serviceUploadView&&e.serviceUploadView.remove(),e.serviceUploadView=new window.ServiceInstallUploadView({collection:e.foxxList}),e.serviceUploadView.render()):e.navigate("#dashboard",{trigger:!0})}))},handleSelectDatabase:function(){var e=this;this.checkUser(),this.init.then((function(){return e.naviView.handleSelectDatabase()}))},handleResize:function(){this.dashboardView&&this.dashboardView.resize(),this.graphManagementView&&"graphs"===Backbone.history.getFragment()&&this.graphManagementView.handleResize($("#content").width()),this.queryView&&"queries"===Backbone.history.getFragment()&&this.queryView.resize(),this.naviView&&this.naviView.resize(),this.graphViewer&&Backbone.history.getFragment().indexOf("graph")>-1&&this.graphViewer.resize(),this.documentsView&&Backbone.history.getFragment().indexOf("documents")>-1&&this.documentsView.resize(),this.documentView&&Backbone.history.getFragment().indexOf("collection")>-1&&this.documentView.resize(),this.validationView&&Backbone.history.getFragment().indexOf("cSchema")>-1&&this.validationView.resize()},userPermission:function(e){var t=this;this.checkUser(),this.init.then((function(){t.userPermissionView&&t.userPermissionView.remove(),t.userPermissionView=new window.UserPermissionView({collection:t.userCollection,databases:t.arangoDatabase,username:e}),t.userPermissionView.render()}))},userView:function(e){var t=this;this.checkUser(),this.init.then((function(){t.userView=new window.UserView({collection:t.userCollection,username:e}),t.userView.render()}))},userManagement:function(){var e=this;this.checkUser(),this.init.then((function(){e.userManagementView&&e.userManagementView.remove(),e.userManagementView=new window.UserManagementView({collection:e.userCollection}),e.userManagementView.render()}))},userProfile:function(){var e=this;this.checkUser(),this.init.then((function(){e.userManagementView||(e.userManagementView=new window.UserManagementView({collection:e.userCollection})),e.userManagementView.render(!0)}))},view:function(e){var t=this,n=this;this.checkUser(),this.init.then((function(){t.viewView&&t.viewView.remove(),t.arangoViewsStore.fetch({success:function(){n.viewView=new window.ViewView({model:n.arangoViewsStore.get(e),name:e}),n.viewView.render()}})}))},views:function(){var e=this;this.checkUser(),this.init.then((function(){e.viewsView&&e.viewsView.remove(),e.viewsView=new window.ViewsView({collection:e.arangoViewsStore}),e.viewsView.render()}))},fetchDBS:function(e){var t=this,n=!1;this.coordinatorCollection.each((function(e){t.dbServers.push(new window.ClusterServers([],{host:e.get("address")}))})),this.initSucceeded(!0),_.each(this.dbServers,(function(t){t.fetch({success:function(){!1===n&&e&&(e(),n=!0)}})}))},getNewRoute:function(e){return"http://"+e},registerForUpdate:function(e){this.toUpdate.push(e),e.updateUrl()}})}()},function(e,t){!function(){"use strict";window.checkVersion=function(){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/status?overview=true"),contentType:"application/json",processData:!1,async:!0,success:function(e){var t=window.versionHelper.fromString(e.version);$(".navbar #currentVersion").html(e.version+'<i class="fa fa-check-circle"></i>'),window.parseVersions=function(e){_.isEmpty(e)?$("#currentVersion").addClass("up-to-date"):($("#currentVersion").addClass("out-of-date"),$("#currentVersion .fa").removeClass("fa-check-circle").addClass("fa-exclamation-circle"),$("#currentVersion").click((function(){!function(e,t){var n=[];n.push(window.modalView.createSuccessButton("Download Page",(function(){window.open("https://www.arangodb.com/download","_blank"),window.modalView.hide()})));var i=[],a=window.modalView.createReadOnlyEntry.bind(window.modalView);i.push(a("current","Current",e.toString())),t.major&&i.push(a("major","Major",t.major.version)),t.minor&&i.push(a("minor","Minor",t.minor.version)),t.bugfix&&i.push(a("bugfix","Bugfix",t.bugfix.version)),window.modalView.show("modalTable.ejs","New Version Available",n,i)}(t,e)})))},$.ajax({type:"GET",async:!0,crossDomain:!0,timeout:3e3,dataType:"jsonp",url:"https://www.arangodb.com/versions.php?jsonp=parseVersions&version="+encodeURIComponent(e.version)+"&platform="+encodeURIComponent(e.platform)+"&engine="+encodeURIComponent(e.engine)+"&license="+encodeURIComponent(e.license)+"&source=ui&hash="+encodeURIComponent(e.hash),error:function(e){200===e.status?window.activeInternetConnection=!0:window.activeInternetConnection=!1},success:function(e){window.activeInternetConnection=!0}})}})}}()},function(e,t){!function(){"use strict";window.hasOwnProperty("TEST_BUILD")||($(document).ajaxSend((function(e,t,n){t.setRequestHeader("X-Arango-Frontend","true");var i=window.arangoHelper.getCurrentJwt();i&&t.setRequestHeader("Authorization","bearer "+i)})),$.ajaxSetup({error:function(e,t,n){401===e.status&&arangoHelper.checkJwt()}}),$(document).ready((function(){window.App=new window.Router,Backbone.history.start(),window.App.handleResize()})),$(document).click((function(e){e.stopPropagation(),$(e.target).hasClass("subBarDropdown")||$(e.target).hasClass("dropdown-header")||$(e.target).hasClass("dropdown-footer")||$(e.target).hasClass("toggle")||$("#userInfo").is(":visible")&&$(".subBarDropdown").hide(),arangoHelper.noteActivity()})),$("body").on("keyup",(function(e){27===e.keyCode&&window.modalView&&window.modalView.hide(),arangoHelper.noteActivity()})))}()},function(e,t,n){var i={"./_paginationView":118,"./_paginationView.js":118,"./applicationDetailView":119,"./applicationDetailView.js":119,"./applicationsView":120,"./applicationsView.js":120,"./applierView":121,"./applierView.js":121,"./clusterView":122,"./clusterView.js":122,"./collectionsItemView":123,"./collectionsItemView.js":123,"./collectionsView":124,"./collectionsView.js":124,"./dashboardView":125,"./dashboardView.js":125,"./databaseView":126,"./databaseView.js":126,"./dbSelectionView":127,"./dbSelectionView.js":127,"./documentView":128,"./documentView.js":128,"./documentsView":129,"./documentsView.js":129,"./filterSelect":130,"./filterSelect.js":130,"./footerView":131,"./footerView.js":131,"./foxxActiveListView":132,"./foxxActiveListView.js":132,"./foxxActiveView":133,"./foxxActiveView.js":133,"./foxxRepoView":134,"./foxxRepoView.js":134,"./graphManagementView":135,"./graphManagementView.js":135,"./graphSettingsView":136,"./graphSettingsView.js":136,"./graphViewer":137,"./graphViewer.js":137,"./helpUsView":138,"./helpUsView.js":138,"./indicesView":139,"./indicesView.js":139,"./infoView":140,"./infoView.js":140,"./installGitHubServiceView":141,"./installGitHubServiceView.js":141,"./installNewServiceView":142,"./installNewServiceView.js":142,"./installServiceView":143,"./installServiceView.js":143,"./installUploadServiceView":144,"./installUploadServiceView.js":144,"./installUrlServiceView":145,"./installUrlServiceView.js":145,"./loggerView":146,"./loggerView.js":146,"./loginView":147,"./loginView.js":147,"./maintenanceView":148,"./maintenanceView.js":148,"./metricsView":149,"./metricsView.js":149,"./modalView":150,"./modalView.js":150,"./navigationView":151,"./navigationView.js":151,"./nodeView":152,"./nodeView.js":152,"./nodesView":153,"./nodesView.js":153,"./notificationView":154,"./notificationView.js":154,"./progressView":155,"./progressView.js":155,"./queryManagementView":156,"./queryManagementView.js":156,"./queryView":157,"./queryView.js":157,"./rebalanceShardsView":158,"./rebalanceShardsView.js":158,"./replicationView":159,"./replicationView.js":159,"./scaleView":160,"./scaleView.js":160,"./settingsView":161,"./settingsView.js":161,"./shardDistributionView":162,"./shardDistributionView.js":162,"./shardsView":163,"./shardsView.js":163,"./showClusterView":164,"./showClusterView.js":164,"./spotlightView":165,"./spotlightView.js":165,"./statisticBarView":166,"./statisticBarView.js":166,"./storeDetailView":167,"./storeDetailView.js":167,"./supportView":168,"./supportView.js":168,"./tableView":169,"./tableView.js":169,"./userBarView":170,"./userBarView.js":170,"./userManagementView":171,"./userManagementView.js":171,"./userPermissions":172,"./userPermissions.js":172,"./userView":173,"./userView.js":173,"./validationView":174,"./validationView.js":174,"./viewView":175,"./viewView.js":175,"./viewsView":176,"./viewsView.js":176};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=552},function(e,t,n){var i={"./arangoCollectionModel":177,"./arangoCollectionModel.js":177,"./arangoDatabase":178,"./arangoDatabase.js":178,"./arangoDocument":179,"./arangoDocument.js":179,"./arangoQuery":180,"./arangoQuery.js":180,"./arangoReplication":181,"./arangoReplication.js":181,"./arangoSession":182,"./arangoSession.js":182,"./arangoStatistics":183,"./arangoStatistics.js":183,"./arangoStatisticsDescription":184,"./arangoStatisticsDescription.js":184,"./arangoUsers":185,"./arangoUsers.js":185,"./arangoViewModel":186,"./arangoViewModel.js":186,"./clusterCoordinator":187,"./clusterCoordinator.js":187,"./clusterServer":188,"./clusterServer.js":188,"./coordinator":189,"./coordinator.js":189,"./currentDatabase":190,"./currentDatabase.js":190,"./foxx":191,"./foxx.js":191,"./foxxRepoModel":192,"./foxxRepoModel.js":192,"./graph":193,"./graph.js":193,"./metricModel":194,"./metricModel.js":194,"./newArangoLog":195,"./newArangoLog.js":195,"./notification":196,"./notification.js":196,"./queryManagement":197,"./queryManagement.js":197,"./userConfig":198,"./userConfig.js":198};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=553},function(e,t,n){var i={"./_automaticRetryCollection":199,"./_automaticRetryCollection.js":199,"./_paginatedCollection":200,"./_paginatedCollection.js":200,"./arangoClusterStatisticsCollection":201,"./arangoClusterStatisticsCollection.js":201,"./arangoCollections":202,"./arangoCollections.js":202,"./arangoDatabase":203,"./arangoDatabase.js":203,"./arangoDocument":204,"./arangoDocument.js":204,"./arangoDocuments":205,"./arangoDocuments.js":205,"./arangoLogs":206,"./arangoLogs.js":206,"./arangoMetrics":207,"./arangoMetrics.js":207,"./arangoQueries":208,"./arangoQueries.js":208,"./arangoReplication":209,"./arangoReplication.js":209,"./arangoStatisticsCollection":210,"./arangoStatisticsCollection.js":210,"./arangoStatisticsDescriptionCollection":211,"./arangoStatisticsDescriptionCollection.js":211,"./arangoUsers":212,"./arangoUsers.js":212,"./arangoViews":213,"./arangoViews.js":213,"./clusterCoordinators":214,"./clusterCoordinators.js":214,"./clusterServers":215,"./clusterServers.js":215,"./coordinatorCollection":216,"./coordinatorCollection.js":216,"./foxxCollection":217,"./foxxCollection.js":217,"./foxxRepository":218,"./foxxRepository.js":218,"./graphCollection":219,"./graphCollection.js":219,"./notificationCollection":220,"./notificationCollection.js":220,"./queryManagementCollectionActive":221,"./queryManagementCollectionActive.js":221,"./queryManagementCollectionSlow":222,"./queryManagementCollectionSlow.js":222};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=554},,function(e,t){!function(e){"use strict";function t(e){}function n(e){e.stopPropagation()}e.fn.pagination=function(i){function a(t,i){var a=i>=1&&i<=o.lastPage,r=e("<a/>").append(t),s=e("<li/>").append(r);return a?(r.click((function(){o.click(i)})),e(".arango-pagination").next().children().first().removeClass("disabledPag"),e(".arango-pagination").prev().children().first().removeClass("disabledPag")):(s.addClass("disabledPag"),setTimeout((function(){e(s).find("i").hasClass("fa-angle-right")?e(".arango-pagination").next().children().first().addClass("disabledPag"):e(s).find("i").hasClass("fa-angle-left")&&e(".arango-pagination").prev().children().first().addClass("disabledPag")}),50)),r.click(n),i===o.page&&s.addClass("active active-arango-pagination-button"),s}function r(){var t,n=e('<ul class="arango-pagination"/>');for(n.append(a(o.prev,o.page-1)),t=l;c>=t;t+=1)n.append(a(t,t));return n.append(a(o.next,o.page+1))}var o=e.extend({prev:'<span><i class="fa fa-angle-left"/></span>',next:'<span><i class="fa fa-angle-right"/></span>',left:3,right:3,page:1,lastPage:1,click:t},i||{}),s=o.left+o.right,l=Math.max(1,o.page-o.left),c=l+s;return o.lastPage<c&&(l=Math.max(1,o.lastPage-s),c=o.lastPage),this.each((function(t){var n=e(this),i=n.children("ul");i.length?i.replaceWith(r()):n.append(r())}))}}(jQuery)},function(e,t,n){var i;(function(){function n(e){this._value=e}function a(e,t,n,i){var a,r,o=Math.pow(10,t);return r=(n(e*o)/o).toFixed(t),i&&(a=new RegExp("0{1,"+i+"}$"),r=r.replace(a,"")),r}function r(e,t,n){return t.indexOf("$")>-1?function(e,t,n){var i,a,r=t.indexOf("$"),o=t.indexOf("("),l=t.indexOf("-"),c="";return t.indexOf(" $")>-1?(c=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(c=" ",t=t.replace("$ ","")):t=t.replace("$",""),a=s(e._value,t,n),1>=r?a.indexOf("(")>-1||a.indexOf("-")>-1?(a=a.split(""),i=1,(o>r||l>r)&&(i=0),a.splice(i,0,u[h].currency.symbol+c),a=a.join("")):a=u[h].currency.symbol+c+a:a.indexOf(")")>-1?((a=a.split("")).splice(-1,0,c+u[h].currency.symbol),a=a.join("")):a=a+c+u[h].currency.symbol,a}(e,t,n):t.indexOf("%")>-1?function(e,t,n){var i,a="",r=100*e._value;return t.indexOf(" %")>-1?(a=" ",t=t.replace(" %","")):t=t.replace("%",""),(i=s(r,t,n)).indexOf(")")>-1?((i=i.split("")).splice(-1,0,a+"%"),i=i.join("")):i=i+a+"%",i}(e,t,n):t.indexOf(":")>-1?function(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),i=Math.round(e._value-60*t*60-60*n);return t+":"+(10>n?"0"+n:n)+":"+(10>i?"0"+i:i)}(e):s(e._value,t,n)}function o(e,t){var n,i,a,r,o,s=t,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(t.indexOf(":")>-1)e._value=function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}(t);else if(t===p)e._value=0;else{for("."!==u[h].delimiters.decimal&&(t=t.replace(/\./g,"").replace(u[h].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+u[h].abbreviations.thousand+"(?:\\)|(\\"+u[h].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+u[h].abbreviations.million+"(?:\\)|(\\"+u[h].currency.symbol+")?(?:\\))?)?$"),a=new RegExp("[^a-zA-Z]"+u[h].abbreviations.billion+"(?:\\)|(\\"+u[h].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+u[h].abbreviations.trillion+"(?:\\)|(\\"+u[h].currency.symbol+")?(?:\\))?)?$"),o=0;o<=l.length&&!(c=t.indexOf(l[o])>-1&&Math.pow(1024,o+1));o++);e._value=(c||1)*(s.match(n)?Math.pow(10,3):1)*(s.match(i)?Math.pow(10,6):1)*(s.match(a)?Math.pow(10,9):1)*(s.match(r)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=c?Math.ceil(e._value):e._value}return e._value}function s(e,t,n){var i,r,o,s,l,c,d=!1,f=!1,g=!1,m="",v=!1,_=!1,b=!1,y=!1,w=!1,x="",C="",S=Math.abs(e),T=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],k="",A=!1;if(0===e&&null!==p)return p;if(t.indexOf("(")>-1?(d=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(f=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(v=t.indexOf("aK")>=0,_=t.indexOf("aM")>=0,b=t.indexOf("aB")>=0,y=t.indexOf("aT")>=0,w=v||_||b||y,t.indexOf(" a")>-1?(m=" ",t=t.replace(" a","")):t=t.replace("a",""),S>=Math.pow(10,12)&&!w||y?(m+=u[h].abbreviations.trillion,e/=Math.pow(10,12)):S<Math.pow(10,12)&&S>=Math.pow(10,9)&&!w||b?(m+=u[h].abbreviations.billion,e/=Math.pow(10,9)):S<Math.pow(10,9)&&S>=Math.pow(10,6)&&!w||_?(m+=u[h].abbreviations.million,e/=Math.pow(10,6)):(S<Math.pow(10,6)&&S>=Math.pow(10,3)&&!w||v)&&(m+=u[h].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("b")>-1)for(t.indexOf(" b")>-1?(x=" ",t=t.replace(" b","")):t=t.replace("b",""),o=0;o<=T.length;o++)if(i=Math.pow(1024,o),r=Math.pow(1024,o+1),e>=i&&r>e){x+=T[o],i>0&&(e/=i);break}return t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(C=" ",t=t.replace(" o","")):t=t.replace("o",""),C+=u[h].ordinal(e)),t.indexOf("[.]")>-1&&(g=!0,t=t.replace("[.]",".")),s=e.toString().split(".")[0],l=t.split(".")[1],c=t.indexOf(","),l?(l.indexOf("[")>-1?k=a(e,(l=(l=l.replace("]","")).split("["))[0].length+l[1].length,n,l[1].length):k=a(e,l.length,n),s=k.split(".")[0],k=k.split(".")[1].length?u[h].delimiters.decimal+k.split(".")[1]:"",g&&0===Number(k.slice(1))&&(k="")):s=a(e,null,n),s.indexOf("-")>-1&&(s=s.slice(1),A=!0),c>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+u[h].delimiters.thousands)),0===t.indexOf(".")&&(s=""),(d&&A?"(":"")+(!d&&A?"-":"")+(!A&&f?"+":"")+s+k+(C||"")+(m||"")+(x||"")+(d&&A?")":"")}function l(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function c(){var e=Array.prototype.slice.call(arguments);return e.reduce((function(e,t){var n=l(e),i=l(t);return n>i?n:i}),-1/0)}var d,u={},h="en",p=null,f="0,0",g=e.exports;(d=function(e){return d.isNumeral(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=d.fn.unformat(e)),new n(Number(e))}).version="1.5.3",d.isNumeral=function(e){return e instanceof n},d.language=function(e,t){if(!e)return h;if(e&&!t){if(!u[e])throw new Error("Unknown language : "+e);h=e}return(t||!u[e])&&function(e,t){u[e]=t}(e,t),d},d.languageData=function(e){if(!e)return u[h];if(!u[e])throw new Error("Unknown language : "+e);return u[e]},d.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),d.zeroFormat=function(e){p="string"==typeof e?e:null},d.defaultFormat=function(e){f="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,i,a=this.length>>>0,r=!1;for(1<arguments.length&&(i=t,r=!0),n=0;a>n;++n)this.hasOwnProperty(n)&&(r?i=e(i,this[n],n,this):(i=this[n],r=!0));if(!r)throw new TypeError("Reduce of empty array with no initial value");return i}),d.fn=n.prototype={clone:function(){return d(this)},format:function(e,t){return r(this,e||f,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:o(this,e||f)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){var t=c.call(null,this._value,e);return this._value=[this._value,e].reduce((function(e,n){return e+t*n}),0)/t,this},subtract:function(e){var t=c.call(null,this._value,e);return this._value=[e].reduce((function(e,n){return e-t*n}),this._value*t)/t,this},multiply:function(e){return this._value=[this._value,e].reduce((function(e,t){var n=c(e,t);return e*n*t*n/(n*n)}),1),this},divide:function(e){return this._value=[this._value,e].reduce((function(e,t){var n=c(e,t);return e*n/(t*n)})),this},difference:function(e){return Math.abs(d(this._value).subtract(e).value())}},g&&(e.exports=d),"undefined"==typeof ender&&(this.numeral=d),void 0===(i=function(){return d}.apply(t,[]))||(e.exports=i)}).call(this)},function(e){e.exports=JSON.parse('[{"name":"FOR .. FILTER .. RETURN template","value":"/* Please insert some values for the @@collection and @value bind parameters */\\nFOR doc IN @@collection\\n  FILTER doc.`attribute` == @value\\n  RETURN doc","parameter":{"@collection":"my_collection","value":"my_value"}},{"name":"Limit","value":"/* Please insert some values for the @@collection, @offset and @count bind parameters */\\nFOR doc IN @@collection\\n  LIMIT @offset, @count\\n  RETURN doc","parameter":{"@collection":"my_collection","offset":0,"count":10}},{"name":"Inner join","value":"/* Please insert some values for the @@collection1 and @@collection2 bind parameters */\\nFOR doc1 IN @@collection1\\n  FOR doc2 IN @@collection2\\n    FILTER doc1.`attribute` == doc2.`attribute`\\n    RETURN { doc1, doc2 }","parameter":{"@collection1":"collection1","@collection2":"collection2"}},{"name":"Random document","value":"/* Please insert some value for the @@collection bind parameter */\\nFOR doc IN @@collection\\n  SORT RAND()\\n  LIMIT 1\\n  RETURN doc","parameter":{"@collection":"my_collection"}},{"name":"Subquery example","value":"/* Please insert some values for the @@collection, @value and @count bind parameters */\\nFOR doc IN @@collection\\n  LET values = (\\n    FOR s IN doc.`attribute`\\n      FILTER s.`attribute` == @value\\n      RETURN s\\n  )\\n  FILTER LENGTH(values) > @count\\n  RETURN {\\n    doc,\\n    values\\n  }","parameter":{"@collection":"my_collection","value":"my_value","count":10}},{"name":"Sequences","value":"/* Returns the sequence of integers between 2010 and 2015 (including) */\\nFOR year IN 2010..2015\\n  RETURN year"},{"name":"Bind parameters","value":"/* There are two types of bind parameters:\\n   - bind parameter names starting with a single @ character, e.g. @count, @value, @test:\\n     These can be used to ship any JSON-encodable data to the server.\\n   - bind parameter names starting with two @ characters always refer to collections, e.g. @@collections, @@c:\\n     These can be used as placeholders for collection names.\\n */\\nFOR doc IN @@collection\\n  FILTER doc.value == @value\\n  RETURN doc","parameter":{"@collection":"my_collection","value":"my_value"}}]')},function(e,t,n){!function(e){"use strict";function t(e){var t,n,i,a;for(n=1,i=arguments.length;n<i;n++)for(t in a=arguments[n])e[t]=a[t];return e}function n(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}function i(e){return e._leaflet_id=e._leaflet_id||++Ge,e._leaflet_id}function a(e,t,n){var i,a,r,o;return o=function(){i=!1,a&&(r.apply(n,a),a=!1)},r=function(){i?a=arguments:(e.apply(n,arguments),setTimeout(o,t),i=!0)}}function r(e,t,n){var i=t[1],a=t[0],r=i-a;return e===i&&n?e:((e-a)%r+r)%r+a}function o(){return!1}function s(e,t){var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function l(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function c(e){return l(e).split(/\s+/)}function d(e,t){for(var n in e.hasOwnProperty("options")||(e.options=e.options?qe(e.options):{}),t)e.options[n]=t[n];return e.options}function u(e,t,n){var i=[];for(var a in e)i.push(encodeURIComponent(n?a.toUpperCase():a)+"="+encodeURIComponent(e[a]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}function h(e,t){return e.replace(Ye,(function(e,n){var i=t[n];if(void 0===i)throw new Error("No value provided for variable "+e);return"function"==typeof i&&(i=i(t)),i}))}function p(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function f(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}function g(e){var t=+new Date,n=Math.max(0,16-(t-Ze));return Ze=t+n,window.setTimeout(e,n)}function m(e,t,i){if(!i||Xe!==g)return Xe.call(window,n(e,t));e.call(t)}function v(e){e&&Ke.call(window,e)}function _(){}function b(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}function y(e,t,n){return e instanceof b?e:Qe(e)?new b(e[0],e[1]):void 0===e||null===e?e:"object"==typeof e&&"x"in e&&"y"in e?new b(e.x,e.y):new b(e,t,n)}function w(e,t){if(e)for(var n=t?[e,t]:e,i=0,a=n.length;i<a;i++)this.extend(n[i])}function x(e,t){return!e||e instanceof w?e:new w(e,t)}function C(e,t){if(e)for(var n=t?[e,t]:e,i=0,a=n.length;i<a;i++)this.extend(n[i])}function S(e,t){return e instanceof C?e:new C(e,t)}function T(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function k(e,t,n){return e instanceof T?e:Qe(e)&&"object"!=typeof e[0]?3===e.length?new T(e[0],e[1],e[2]):2===e.length?new T(e[0],e[1]):null:void 0===e||null===e?e:"object"==typeof e&&"lat"in e?new T(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new T(e,t,n)}function A(e,t,n,i){if(Qe(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=i}function P(e,t,n,i){return new A(e,t,n,i)}function E(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function D(e,t){var n,i,a,r,o,s,l="";for(n=0,a=e.length;n<a;n++){for(i=0,r=(o=e[n]).length;i<r;i++)l+=(i?"L":"M")+(s=o[i]).x+" "+s.y;l+=t?Ft?"z":"x":""}return l||"M0 0"}function O(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}function M(e,t,n,i){return"touchstart"===t?I(e,n,i):"touchmove"===t?function(e,t,n){var i=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&$(e,t)};e["_leaflet_touchmove"+n]=i,e.addEventListener(qt,i,!1)}(e,n,i):"touchend"===t&&function(e,t,n){var i=function(e){$(e,t)};e["_leaflet_touchend"+n]=i,e.addEventListener(Gt,i,!1),e.addEventListener(Yt,i,!1)}(e,n,i),this}function I(e,t,i){var a=n((function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(Qt.indexOf(e.target.tagName)<0))return;ve(e)}$(e,t)}));e["_leaflet_touchstart"+i]=a,e.addEventListener(Wt,a,!1),Zt||(document.documentElement.addEventListener(Wt,N,!0),document.documentElement.addEventListener(qt,R,!0),document.documentElement.addEventListener(Gt,j,!0),document.documentElement.addEventListener(Yt,j,!0),Zt=!0)}function N(e){Jt[e.pointerId]=e,Xt++}function R(e){Jt[e.pointerId]&&(Jt[e.pointerId]=e)}function j(e){delete Jt[e.pointerId],Xt--}function $(e,t){for(var n in e.touches=[],Jt)e.touches.push(Jt[n]);e.changedTouches=[e],t(e)}function B(e,t,n){function i(e){var t;if(Rt){if(!gt||"mouse"===e.pointerType)return;t=Xt}else t=e.touches.length;if(!(t>1)){var n=Date.now(),i=n-(r||n);o=e.touches?e.touches[0]:e,s=i>0&&i<=l,r=n}}function a(e){if(s&&!o.cancelBubble){if(Rt){if(!gt||"mouse"===e.pointerType)return;var n,i,a={};for(i in o)n=o[i],a[i]=n&&n.bind?n.bind(o):n;o=a}o.type="dblclick",t(o),r=null}}var r,o,s=!1,l=250;return e[tn+Kt+n]=i,e[tn+en+n]=a,e[tn+"dblclick"+n]=t,e.addEventListener(Kt,i,!1),e.addEventListener(en,a,!1),e.addEventListener("dblclick",t,!1),this}function V(e,t){var n=e[tn+Kt+t],i=e[tn+en+t],a=e[tn+"dblclick"+t];return e.removeEventListener(Kt,n,!1),e.removeEventListener(en,i,!1),gt||e.removeEventListener("dblclick",a,!1),this}function H(e){return"string"==typeof e?document.getElementById(e):e}function F(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function z(e,t,n){var i=document.createElement(e);return i.className=t||"",n&&n.appendChild(i),i}function U(e){var t=e.parentNode;t&&t.removeChild(e)}function W(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function q(e){var t=e.parentNode;t.lastChild!==e&&t.appendChild(e)}function G(e){var t=e.parentNode;t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Y(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=X(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function Q(e,t){if(void 0!==e.classList)for(var n=c(t),i=0,a=n.length;i<a;i++)e.classList.add(n[i]);else if(!Y(e,t)){var r=X(e);Z(e,(r?r+" ":"")+t)}}function J(e,t){void 0!==e.classList?e.classList.remove(t):Z(e,l((" "+X(e)+" ").replace(" "+t+" "," ")))}function Z(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function X(e){return void 0===e.className.baseVal?e.className:e.className.baseVal}function K(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}(e,t)}function ee(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function te(e,t,n){var i=t||new b(0,0);e.style[nn]=(Pt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function ne(e,t){e._leaflet_pos=t,Ot?te(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function ie(e){return e._leaflet_pos||new b(0,0)}function ae(){de(window,"dragstart",ve)}function re(){ue(window,"dragstart",ve)}function oe(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(se(),sn=e,ln=e.style.outline,e.style.outline="none",de(window,"keydown",se))}function se(){sn&&(sn.style.outline=ln,sn=void 0,ln=void 0,ue(window,"keydown",se))}function le(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function ce(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}function de(e,t,n,i){if("object"==typeof t)for(var a in t)he(e,a,t[a],n);else for(var r=0,o=(t=c(t)).length;r<o;r++)he(e,t[r],n,i);return this}function ue(e,t,n,i){if("object"==typeof t)for(var a in t)pe(e,a,t[a],n);else if(t)for(var r=0,o=(t=c(t)).length;r<o;r++)pe(e,t[r],n,i);else{for(var s in e[un])pe(e,s,e[un][s]);delete e[un]}return this}function he(e,t,n,a){var r=t+i(n)+(a?"_"+i(a):"");if(e[un]&&e[un][r])return this;var o=function(t){return n.call(a||e,t||window.event)},s=o;Rt&&0===t.indexOf("touch")?M(e,t,o,r):!jt||"dblclick"!==t||!B||Rt&&xt?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",o,!1):"mouseenter"===t||"mouseleave"===t?(o=function(t){t=t||window.event,Ce(e,t)&&s(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",o,!1)):("click"===t&&vt&&(o=function(e){!function(e,t){var n=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,i=cn&&n-cn;i&&i>100&&i<500||e.target._simulatedClick&&!e._simulated?_e(e):(cn=n,t(e))}(e,s)}),e.addEventListener(t,o,!1)):"attachEvent"in e&&e.attachEvent("on"+t,o):B(e,o,r),e[un]=e[un]||{},e[un][r]=o}function pe(e,t,n,a){var r=t+i(n)+(a?"_"+i(a):""),o=e[un]&&e[un][r];if(!o)return this;Rt&&0===t.indexOf("touch")?function(e,t,n){var i=e["_leaflet_"+t+n];"touchstart"===t?e.removeEventListener(Wt,i,!1):"touchmove"===t?e.removeEventListener(qt,i,!1):"touchend"===t&&(e.removeEventListener(Gt,i,!1),e.removeEventListener(Yt,i,!1))}(e,t,r):!jt||"dblclick"!==t||!V||Rt&&xt?"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",o,!1):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,o,!1):"detachEvent"in e&&e.detachEvent("on"+t,o):V(e,r),e[un][r]=null}function fe(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,xe(e),this}function ge(e){return he(e,"mousewheel",fe),this}function me(e){return de(e,"mousedown touchstart dblclick",fe),he(e,"click",we),this}function ve(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function _e(e){return ve(e),fe(e),this}function be(e,t){if(!t)return new b(e.clientX,e.clientY);var n=ce(t),i=n.boundingClientRect;return new b((e.clientX-i.left)/n.x-t.clientLeft,(e.clientY-i.top)/n.y-t.clientTop)}function ye(e){return gt?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/hn:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function we(e){pn[e.type]=!0}function xe(e){var t=pn[e.type];return pn[e.type]=!1,t}function Ce(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}function Se(e,t){if(!t||!e.length)return e.slice();var n=t*t;return function(e,t){var n=e.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function e(t,n,i,a,r){var o,s,l,c=0;for(s=a+1;s<=r-1;s++)(l=De(t[s],t[a],t[r],!0))>c&&(o=s,c=l);c>i&&(n[o]=1,e(t,n,i,a,o),e(t,n,i,o,r))}(e,i,t,0,n-1);var a,r=[];for(a=0;a<n;a++)i[a]&&r.push(e[a]);return r}(e=function(e,t){for(var n=[e[0]],i=1,a=0,r=e.length;i<r;i++)Ee(e[i],e[a])>t&&(n.push(e[i]),a=i);return a<r-1&&n.push(e[r-1]),n}(e,n),n)}function Te(e,t,n){return Math.sqrt(De(e,t,n,!0))}function ke(e,t,n,i,a){var r,o,s,l=i?Sn:Pe(e,n),c=Pe(t,n);for(Sn=c;;){if(!(l|c))return[e,t];if(l&c)return!1;s=Pe(o=Ae(e,t,r=l||c,n,a),n),r===l?(e=o,l=s):(t=o,c=s)}}function Ae(e,t,n,i,a){var r,o,s=t.x-e.x,l=t.y-e.y,c=i.min,d=i.max;return 8&n?(r=e.x+s*(d.y-e.y)/l,o=d.y):4&n?(r=e.x+s*(c.y-e.y)/l,o=c.y):2&n?(r=d.x,o=e.y+l*(d.x-e.x)/s):1&n&&(r=c.x,o=e.y+l*(c.x-e.x)/s),new b(r,o,a)}function Pe(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Ee(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function De(e,t,n,i){var a,r=t.x,o=t.y,s=n.x-r,l=n.y-o,c=s*s+l*l;return c>0&&((a=((e.x-r)*s+(e.y-o)*l)/c)>1?(r=n.x,o=n.y):a>0&&(r+=s*a,o+=l*a)),s=e.x-r,l=e.y-o,i?s*s+l*l:new b(r,o)}function Oe(e){return!Qe(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function Me(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Oe(e)}function Ie(e,t,n){var i,a,r,o,s,l,c,d,u,h=[1,4,2,8];for(a=0,c=e.length;a<c;a++)e[a]._code=Pe(e[a],t);for(o=0;o<4;o++){for(d=h[o],i=[],a=0,r=(c=e.length)-1;a<c;r=a++)s=e[a],l=e[r],s._code&d?l._code&d||((u=Ae(l,s,d,t,n))._code=Pe(u,t),i.push(u)):(l._code&d&&((u=Ae(l,s,d,t,n))._code=Pe(u,t),i.push(u)),i.push(s));e=i}return e}function Ne(e,t){var n,i,a,r,o="Feature"===e.type?e.geometry:e,s=o?o.coordinates:null,l=[],c=t&&t.pointToLayer,d=t&&t.coordsToLatLng||Le;if(!s&&!o)return null;switch(o.type){case"Point":return n=d(s),c?c(e,n):new Un(n);case"MultiPoint":for(a=0,r=s.length;a<r;a++)n=d(s[a]),l.push(c?c(e,n):new Un(n));return new Vn(l);case"LineString":case"MultiLineString":return i=Re(s,"LineString"===o.type?0:1,d),new Yn(i,t);case"Polygon":case"MultiPolygon":return i=Re(s,"Polygon"===o.type?1:2,d),new Qn(i,t);case"GeometryCollection":for(a=0,r=o.geometries.length;a<r;a++){var u=Ne({geometry:o.geometries[a],type:"Feature",properties:e.properties},t);u&&l.push(u)}return new Vn(l);default:throw new Error("Invalid GeoJSON object.")}}function Le(e){return new T(e[1],e[0],e[2])}function Re(e,t,n){for(var i,a=[],r=0,o=e.length;r<o;r++)i=t?Re(e[r],t-1,n):(n||Le)(e[r]),a.push(i);return a}function je(e,t){return t="number"==typeof t?t:6,void 0!==e.alt?[s(e.lng,t),s(e.lat,t),s(e.alt,t)]:[s(e.lng,t),s(e.lat,t)]}function $e(e,t,n,i){for(var a=[],r=0,o=e.length;r<o;r++)a.push(t?$e(e[r],t-1,n,i):je(e[r],i));return!t&&n&&a.push(a[0]),a}function Be(e,n){return e.feature?t({},e.feature,{geometry:n}):Ve(n)}function Ve(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}function He(e,t){return new Jn(e,t)}function Fe(e,t){return new oi(e,t)}function ze(e){return Ht?new ci(e):null}function Ue(e){return Ft||zt?new pi(e):null}var We=Object.freeze;Object.freeze=function(e){return e};var qe=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),Ge=0,Ye=/\{ *([\w_-]+) *\}/g,Qe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Je="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Ze=0,Xe=window.requestAnimationFrame||f("RequestAnimationFrame")||g,Ke=window.cancelAnimationFrame||f("CancelAnimationFrame")||f("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)},et=(Object.freeze||Object)({freeze:We,extend:t,create:qe,bind:n,lastId:Ge,stamp:i,throttle:a,wrapNum:r,falseFn:o,formatNum:s,trim:l,splitWords:c,setOptions:d,getParamString:u,template:h,isArray:Qe,indexOf:p,emptyImageUrl:Je,requestFn:Xe,cancelFn:Ke,requestAnimFrame:m,cancelAnimFrame:v});_.extend=function(e){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=n.__super__=this.prototype,a=qe(i);for(var r in a.constructor=n,n.prototype=a,this)this.hasOwnProperty(r)&&"prototype"!==r&&"__super__"!==r&&(n[r]=this[r]);return e.statics&&(t(n,e.statics),delete e.statics),e.includes&&(function(e){if("undefined"!=typeof L&&L&&L.Mixin){e=Qe(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),t.apply(null,[a].concat(e.includes)),delete e.includes),a.options&&(e.options=t(qe(a.options),e.options)),t(a,e),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},n},_.include=function(e){return t(this.prototype,e),this},_.mergeOptions=function(e){return t(this.prototype.options,e),this},_.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var tt={on:function(e,t,n){if("object"==typeof e)for(var i in e)this._on(i,e[i],t);else for(var a=0,r=(e=c(e)).length;a<r;a++)this._on(e[a],t,n);return this},off:function(e,t,n){if(e)if("object"==typeof e)for(var i in e)this._off(i,e[i],t);else for(var a=0,r=(e=c(e)).length;a<r;a++)this._off(e[a],t,n);else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var i=this._events[e];i||(i=[],this._events[e]=i),n===this&&(n=void 0);for(var a={fn:t,ctx:n},r=i,o=0,s=r.length;o<s;o++)if(r[o].fn===t&&r[o].ctx===n)return;r.push(a)},_off:function(e,t,n){var i,a,r;if(this._events&&(i=this._events[e]))if(t){if(n===this&&(n=void 0),i)for(a=0,r=i.length;a<r;a++){var s=i[a];if(s.ctx===n&&s.fn===t)return s.fn=o,this._firingCount&&(this._events[e]=i=i.slice()),void i.splice(a,1)}}else{for(a=0,r=i.length;a<r;a++)i[a].fn=o;delete this._events[e]}},fire:function(e,n,i){if(!this.listens(e,i))return this;var a=t({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var r=this._events[e];if(r){this._firingCount=this._firingCount+1||1;for(var o=0,s=r.length;o<s;o++){var l=r[o];l.fn.call(l.ctx||this,a)}this._firingCount--}}return i&&this._propagateEvent(a),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var i in this._eventParents)if(this._eventParents[i].listens(e,t))return!0;return!1},once:function(e,t,i){if("object"==typeof e){for(var a in e)this.once(a,e[a],t);return this}var r=n((function(){this.off(e,t,i).off(e,r,i)}),this);return this.on(e,t,i).on(e,r,i)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[i(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[i(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};tt.addEventListener=tt.on,tt.removeEventListener=tt.clearAllEventListeners=tt.off,tt.addOneTimeEventListener=tt.once,tt.fireEvent=tt.fire,tt.hasEventListeners=tt.listens;var nt=_.extend(tt),it=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};b.prototype={clone:function(){return new b(this.x,this.y)},add:function(e){return this.clone()._add(y(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(y(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new b(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new b(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=it(this.x),this.y=it(this.y),this},distanceTo:function(e){var t=(e=y(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=y(e)).x===this.x&&e.y===this.y},contains:function(e){return e=y(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+s(this.x)+", "+s(this.y)+")"}},w.prototype={extend:function(e){return e=y(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new b((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new b(this.min.x,this.max.y)},getTopRight:function(){return new b(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"==typeof e[0]||e instanceof b?y(e):x(e))instanceof w?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=x(e);var t=this.min,n=this.max,i=e.min,a=e.max,r=a.x>=t.x&&i.x<=n.x,o=a.y>=t.y&&i.y<=n.y;return r&&o},overlaps:function(e){e=x(e);var t=this.min,n=this.max,i=e.min,a=e.max,r=a.x>t.x&&i.x<n.x,o=a.y>t.y&&i.y<n.y;return r&&o},isValid:function(){return!(!this.min||!this.max)}},C.prototype={extend:function(e){var t,n,i=this._southWest,a=this._northEast;if(e instanceof T)t=e,n=e;else{if(!(e instanceof C))return e?this.extend(k(e)||S(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return i||a?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),a.lat=Math.max(n.lat,a.lat),a.lng=Math.max(n.lng,a.lng)):(this._southWest=new T(t.lat,t.lng),this._northEast=new T(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,a=Math.abs(t.lng-n.lng)*e;return new C(new T(t.lat-i,t.lng-a),new T(n.lat+i,n.lng+a))},getCenter:function(){return new T((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new T(this.getNorth(),this.getWest())},getSouthEast:function(){return new T(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof T||"lat"in e?k(e):S(e);var t,n,i=this._southWest,a=this._northEast;return e instanceof C?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=i.lat&&n.lat<=a.lat&&t.lng>=i.lng&&n.lng<=a.lng},intersects:function(e){e=S(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),a=e.getNorthEast(),r=a.lat>=t.lat&&i.lat<=n.lat,o=a.lng>=t.lng&&i.lng<=n.lng;return r&&o},overlaps:function(e){e=S(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),a=e.getNorthEast(),r=a.lat>t.lat&&i.lat<n.lat,o=a.lng>t.lng&&i.lng<n.lng;return r&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=S(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},T.prototype={equals:function(e,t){return!!e&&(e=k(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+s(this.lat,e)+", "+s(this.lng,e)+")"},distanceTo:function(e){return rt.distance(this,k(e))},wrap:function(){return rt.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return S([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new T(this.lat,this.lng,this.alt)}};var at={latLngToPoint:function(e,t){var n=this.projection.project(e),i=this.scale(t);return this.transformation._transform(n,i)},pointToLatLng:function(e,t){var n=this.scale(t),i=this.transformation.untransform(e,n);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new w(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?r(e.lng,this.wrapLng,!0):e.lng;return new T(this.wrapLat?r(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,a=t.lng-n.lng;if(0===i&&0===a)return e;var r=e.getSouthWest(),o=e.getNorthEast();return new C(new T(r.lat-i,r.lng-a),new T(o.lat-i,o.lng-a))}},rt=t({},at,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,a=t.lat*n,r=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),s=r*r+Math.cos(i)*Math.cos(a)*o*o,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),ot={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,e.lat),-n),a=Math.sin(i*t);return new b(this.R*e.lng*t,this.R*Math.log((1+a)/(1-a))/2)},unproject:function(e){var t=180/Math.PI;return new T((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=6378137*Math.PI;return new w([-e,-e],[e,e])}()};A.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new b((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var st,lt,ct,dt=t({},rt,{code:"EPSG:3857",projection:ot,transformation:function(){var e=.5/(Math.PI*ot.R);return P(e,.5,-e,.5)}()}),ut=t({},dt,{code:"EPSG:900913"}),ht=document.documentElement.style,pt="ActiveXObject"in window,ft=pt&&!document.addEventListener,gt="msLaunchUri"in navigator&&!("documentMode"in document),mt=O("webkit"),vt=O("android"),_t=O("android 2")||O("android 3"),bt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),yt=vt&&O("Google")&&bt<537&&!("AudioNode"in window),wt=!!window.opera,xt=O("chrome"),Ct=O("gecko")&&!mt&&!wt&&!pt,St=!xt&&O("safari"),Tt=O("phantom"),kt="OTransition"in ht,At=0===navigator.platform.indexOf("Win"),Pt=pt&&"transition"in ht,Et="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_t,Dt="MozPerspective"in ht,Ot=!window.L_DISABLE_3D&&(Pt||Et||Dt)&&!kt&&!Tt,Mt="undefined"!=typeof orientation||O("mobile"),It=Mt&&mt,Nt=Mt&&Et,Lt=!window.PointerEvent&&window.MSPointerEvent,Rt=!(!window.PointerEvent&&!Lt),jt=!window.L_NO_TOUCH&&(Rt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),$t=Mt&&wt,Bt=Mt&&Ct,Vt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ht=!!document.createElement("canvas").getContext,Ft=!(!document.createElementNS||!E("svg").createSVGRect),zt=!Ft&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}(),Ut=(Object.freeze||Object)({ie:pt,ielt9:ft,edge:gt,webkit:mt,android:vt,android23:_t,androidStock:yt,opera:wt,chrome:xt,gecko:Ct,safari:St,phantom:Tt,opera12:kt,win:At,ie3d:Pt,webkit3d:Et,gecko3d:Dt,any3d:Ot,mobile:Mt,mobileWebkit:It,mobileWebkit3d:Nt,msPointer:Lt,pointer:Rt,touch:jt,mobileOpera:$t,mobileGecko:Bt,retina:Vt,canvas:Ht,svg:Ft,vml:zt}),Wt=Lt?"MSPointerDown":"pointerdown",qt=Lt?"MSPointerMove":"pointermove",Gt=Lt?"MSPointerUp":"pointerup",Yt=Lt?"MSPointerCancel":"pointercancel",Qt=["INPUT","SELECT","OPTION"],Jt={},Zt=!1,Xt=0,Kt=Lt?"MSPointerDown":Rt?"pointerdown":"touchstart",en=Lt?"MSPointerUp":Rt?"pointerup":"touchend",tn="_leaflet_",nn=ee(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),an=ee(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),rn="webkitTransition"===an||"OTransition"===an?an+"End":"transitionend";if("onselectstart"in document)st=function(){de(window,"selectstart",ve)},lt=function(){ue(window,"selectstart",ve)};else{var on=ee(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);st=function(){if(on){var e=document.documentElement.style;ct=e[on],e[on]="none"}},lt=function(){on&&(document.documentElement.style[on]=ct,ct=void 0)}}var sn,ln,cn,dn=(Object.freeze||Object)({TRANSFORM:nn,TRANSITION:an,TRANSITION_END:rn,get:H,getStyle:F,create:z,remove:U,empty:W,toFront:q,toBack:G,hasClass:Y,addClass:Q,removeClass:J,setClass:Z,getClass:X,setOpacity:K,testProp:ee,setTransform:te,setPosition:ne,getPosition:ie,disableTextSelection:st,enableTextSelection:lt,disableImageDrag:ae,enableImageDrag:re,preventOutline:oe,restoreOutline:se,getSizedParentNode:le,getScale:ce}),un="_leaflet_events",hn=At&&xt?2*window.devicePixelRatio:Ct?window.devicePixelRatio:1,pn={},fn=(Object.freeze||Object)({on:de,off:ue,stopPropagation:fe,disableScrollPropagation:ge,disableClickPropagation:me,preventDefault:ve,stop:_e,getMousePosition:be,getWheelDelta:ye,fakeStop:we,skipped:xe,isExternalTarget:Ce,addListener:de,removeListener:ue}),gn=nt.extend({run:function(e,t,n,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=ie(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=m(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),ne(this._el,n),this.fire("step")},_complete:function(){v(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),mn=nt.extend({options:{crs:dt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=d(this,t),this._initContainer(e),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(k(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=an&&Ot&&!$t&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),de(this._proxy,rn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,i){return n=void 0===n?this._zoom:this._limitZoom(n),e=this._limitCenter(k(e),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=t({animate:i.animate},i.zoom),i.pan=t({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,i.zoom):this._tryAnimatedPan(e,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,n),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Ot?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Ot?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),a=this.getSize().divideBy(2),r=(e instanceof b?e:this.latLngToContainerPoint(e)).subtract(a).multiplyBy(1-1/i),o=this.containerPointToLatLng(a.add(r));return this.setView(o,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():S(e);var n=y(t.paddingTopLeft||t.padding||[0,0]),i=y(t.paddingBottomRight||t.padding||[0,0]),a=this.getBoundsZoom(e,!1,n.add(i));if((a="number"==typeof t.maxZoom?Math.min(t.maxZoom,a):a)===1/0)return{center:e.getCenter(),zoom:a};var r=i.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),a),s=this.project(e.getNorthEast(),a);return{center:this.unproject(o.add(s).divideBy(2).add(r),a),zoom:a}},fitBounds:function(e,t){if(!(e=S(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=y(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){Q(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){function i(e){var t=(h*h-u*u+(e?-1:1)*g*g*p*p)/(2*(e?h:u)*g*p),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function a(e){return(Math.exp(e)-Math.exp(-e))/2}function r(e){return(Math.exp(e)+Math.exp(-e))/2}function o(e){return u*(r(v)*function(e){return a(e)/r(e)}(v+f*e)-a(v))/g}if(!1===(n=n||{}).animate||!Ot)return this.setView(e,t,n);this._stop();var s=this.project(this.getCenter()),l=this.project(e),c=this.getSize(),d=this._zoom;e=k(e),t=void 0===t?d:t;var u=Math.max(c.x,c.y),h=u*this.getZoomScale(d,t),p=l.distanceTo(s)||1,f=1.42,g=f*f,v=i(0),_=Date.now(),b=(i(1)-v)/f,y=n.duration?1e3*n.duration:1e3*b*.8;return this._moveStart(!0,n.noMoveStart),function n(){var i=(Date.now()-_)/y,a=function(e){return 1-Math.pow(1-e,1.5)}(i)*b;i<=1?(this._flyToFrame=m(n,this),this._move(this.unproject(s.add(l.subtract(s).multiplyBy(o(a)/p)),d),this.getScaleZoom(u/function(e){return u*(r(v)/r(v+f*e))}(a),d),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return(e=S(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,S(e));return n.equals(i)||this.panTo(i,t),this._enforcingBounds=!1,this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),r=i.divideBy(2).round(),o=a.divideBy(2).round(),s=r.subtract(o);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:a})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),a=n(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,a,e):navigator.geolocation.getCurrentPosition(i,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=new T(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),i=this._locateOptions;if(i.setView){var a=this.getBoundsZoom(n);this.setView(t,i.maxZoom?Math.min(a,i.maxZoom):a)}var r={latlng:t,bounds:n,timestamp:e.timestamp};for(var o in e.coords)"number"==typeof e.coords[o]&&(r[o]=e.coords[o]);this.fire("locationfound",r)},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),U(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(v(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)U(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=z("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new C(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=S(e),n=y(n||[0,0]);var i=this.getZoom()||0,a=this.getMinZoom(),r=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),c=x(this.project(s,i),this.project(o,i)).getSize(),d=Ot?this.options.zoomSnap:1,u=l.x/c.x,h=l.y/c.y,p=t?Math.max(u,h):Math.min(u,h);return i=this.getScaleZoom(p,i),d&&(i=Math.round(i/(d/100))*(d/100),i=t?Math.ceil(i/d)*d:Math.floor(i/d)*d),Math.max(a,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new w(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var i=n.zoom(e*n.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(k(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(y(e),t)},layerPointToLatLng:function(e){var t=y(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(k(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(k(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(S(e))},distance:function(e,t){return this.options.crs.distance(k(e),k(t))},containerPointToLayerPoint:function(e){return y(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return y(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(y(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(k(e)))},mouseEventToContainerPoint:function(e){return be(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=H(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");de(t,"scroll",this._onScroll,this),this._containerId=i(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot,Q(e,"leaflet-container"+(jt?" leaflet-touch":"")+(Vt?" leaflet-retina":"")+(ft?" leaflet-oldie":"")+(St?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=F(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ne(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Q(e.markerPane,"leaflet-zoom-hide"),Q(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){ne(this._mapPane,new b(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,!1)._move(e,t)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return v(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){ne(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[i(this._container)]=this;var t=e?ue:de;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Ot&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){v(this._resizeRequest),this._resizeRequest=m((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,a=[],r="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,s=!1;o;){if((n=this._targets[i(o)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(r&&!Ce(o,e))break;if(a.push(n),r)break}if(o===this._container)break;o=o.parentNode}return a.length||s||r||!Ce(o,e)||(a=[this]),a},_handleDOMEvent:function(e){if(this._loaded&&!xe(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t||oe(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,i){if("click"===e.type){var a=t({},e);a.type="preclick",this._fireDOMEvent(a,a.type,i)}if(!e._stopped&&(i=(i||[]).concat(this._findEventTargets(e,n))).length){var r=i[0];"contextmenu"===n&&r.listens(n,!0)&&ve(e);var o={originalEvent:e};if("keypress"!==e.type){var s=r.getLatLng&&(!r._radius||r._radius<=10);o.containerPoint=s?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(e),o.layerPoint=this.containerPointToLayerPoint(o.containerPoint),o.latlng=s?r.getLatLng():this.layerPointToLatLng(o.layerPoint)}for(var l=0;l<i.length;l++)if(i[l].fire(n,o,!0),o.originalEvent._stopped||!1===i[l].options.bubblingMouseEvents&&-1!==p(this._mouseEvents,n))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return ie(this._mapPane)||new b(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return x([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),a=this.getSize().divideBy(2),r=new w(i.subtract(a),i.add(a)),o=this._getBoundsOffset(r,n,t);return o.round().equals([0,0])?e:this.unproject(i.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),i=new w(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,n){var i=x(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),a=i.min.subtract(e.min),r=i.max.subtract(e.max);return new b(this._rebound(a.x,-r.x),this._rebound(a.y,-r.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=Ot?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){J(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=z("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=nn,n=this._proxy.style[t];te(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",(function(){var e=this.getCenter(),t=this.getZoom();te(this._proxy,this.project(e,t),this.getZoomScale(t,1))}),this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){U(this._proxy),delete this._proxy},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),a=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(a))&&(m((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,i,a){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,Q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:a}),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&J(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),m((function(){this._moveEnd(!0)}),this))}}),vn=_.extend({options:{position:"topright"},initialize:function(e){d(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),i=e._controlCorners[n];return Q(t,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this},remove:function(){return this._map?(U(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),_n=function(e){return new vn(e)};mn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){function e(e,a){var r=n+e+" "+n+a;t[e+a]=z("div",r,i)}var t=this._controlCorners={},n="leaflet-",i=this._controlContainer=z("div",n+"control-container",this._container);e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)U(this._controlCorners[e]);U(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bn=vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){for(var i in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return vn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(i(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){Q(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._form.clientHeight?(Q(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=e+"px"):J(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return J(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=z("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),me(t),ge(t);var i=this._form=z("form",e+"-list");n&&(this._map.on("click",this.collapse,this),vt||de(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var a=this._layersLink=z("a",e+"-toggle",t);a.href="#",a.title="Layers",jt?(de(a,"click",_e),de(a,"click",this.expand,this)):de(a,"focus",this.expand,this),n||this.expand(),this._baseLayersList=z("div",e+"-base",i),this._separator=z("div",e+"-separator",i),this._overlaysList=z("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&i(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,i){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:i}),this.options.sortLayers&&this._layers.sort(n((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;W(this._baseLayersList),W(this._overlaysList),this._layerControlInputs=[];var e,t,n,i,a=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),t=t||i.overlay,e=e||!i.overlay,a+=i.overlay?0:1;return this.options.hideSingleBase&&(e=e&&a>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(i(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(e){var t,n=document.createElement("label"),a=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=a):t=this._createRadioElement("leaflet-base-layers",a),this._layerControlInputs.push(t),t.layerId=i(e.layer),de(t,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;var o=document.createElement("div");return n.appendChild(o),o.appendChild(t),o.appendChild(r),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,i=[],a=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)e=n[r],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||a.push(t);for(r=0;r<a.length;r++)this._map.hasLayer(a[r])&&this._map.removeLayer(a[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),a=n.length-1;a>=0;a--)e=n[a],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),yn=vn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=z("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,a){var r=z("a",n,i);return r.innerHTML=e,r.href="#",r.title=t,r.setAttribute("role","button"),r.setAttribute("aria-label",t),me(r),de(r,"click",_e),de(r,"click",a,this),de(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";J(this._zoomInButton,t),J(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&Q(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&Q(this._zoomInButton,t)}});mn.mergeOptions({zoomControl:!0}),mn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new yn,this.addControl(this.zoomControl))}));var wn=vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=z("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",t),e.on(n.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=z("div",t,n)),e.imperial&&(this._iScale=z("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,i,a=3.2808399*e;a>5280?(t=a/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(i=this._getRoundNum(a),this._updateScale(this._iScale,i+" ft",i/a))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),xn=vn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){d(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=z("div","leaflet-control-attribution"),me(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}});mn.mergeOptions({attributionControl:!0}),mn.addInitHook((function(){this.options.attributionControl&&(new xn).addTo(this)})),vn.Layers=bn,vn.Zoom=yn,vn.Scale=wn,vn.Attribution=xn,_n.layers=function(e,t,n){return new bn(e,t,n)},_n.zoom=function(e){return new yn(e)},_n.scale=function(e){return new wn(e)},_n.attribution=function(e){return new xn(e)};var Cn=_.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Cn.addTo=function(e,t){return e.addHandler(t,this),this};var Sn,Tn={Events:tt},kn=jt?"touchstart mousedown":"mousedown",An={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Pn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},En=nt.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){d(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(de(this._dragStartTarget,kn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(En._dragging===this&&this.finishDrag(),ue(this._dragStartTarget,kn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!Y(this._element,"leaflet-zoom-anim")&&!(En._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(En._dragging=this,this._preventOutline&&oe(this._element),ae(),st(),this._moving)))){this.fire("down");var t=e.touches?e.touches[0]:e,n=le(this._element);this._startPoint=new b(t.clientX,t.clientY),this._parentScale=ce(n),de(document,Pn[e.type],this._onMove,this),de(document,An[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new b(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,ve(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ie(this._element).subtract(n),Q(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,v(this._animRequest),this._lastEvent=e,this._animRequest=m(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),ne(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in J(document.body,"leaflet-dragging"),this._lastTarget&&(J(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pn)ue(document,Pn[e],this._onMove,this),ue(document,An[e],this._onUp,this);re(),lt(),this._moved&&this._moving&&(v(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,En._dragging=!1}}),Dn=(Object.freeze||Object)({simplify:Se,pointToSegmentDistance:Te,closestPointOnSegment:function(e,t,n){return De(e,t,n)},clipSegment:ke,_getEdgeIntersection:Ae,_getBitCode:Pe,_sqClosestPointOnSegment:De,isFlat:Oe,_flat:Me}),On=(Object.freeze||Object)({clipPolygon:Ie}),Mn={project:function(e){return new b(e.lng,e.lat)},unproject:function(e){return new T(e.y,e.x)},bounds:new w([-180,-90],[180,90])},In={R:6378137,R_MINOR:6356752.314245179,bounds:new w([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,a=this.R_MINOR/n,r=Math.sqrt(1-a*a),o=r*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-o)/(1+o),r/2);return i=-n*Math.log(Math.max(s,1e-10)),new b(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,a=this.R_MINOR/i,r=Math.sqrt(1-a*a),o=Math.exp(-e.y/i),s=Math.PI/2-2*Math.atan(o),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=r*Math.sin(s),t=Math.pow((1-t)/(1+t),r/2),s+=c=Math.PI/2-2*Math.atan(o*t)-s;return new T(s*n,e.x*n/i)}},Nn=(Object.freeze||Object)({LonLat:Mn,Mercator:In,SphericalMercator:ot}),Ln=t({},rt,{code:"EPSG:3395",projection:In,transformation:function(){var e=.5/(Math.PI*In.R);return P(e,.5,-e,.5)}()}),Rn=t({},rt,{code:"EPSG:4326",projection:Mn,transformation:P(1/180,1,-1/180,.5)}),jn=t({},at,{projection:Mn,transformation:P(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(n*n+i*i)},infinite:!0});at.Earth=rt,at.EPSG3395=Ln,at.EPSG3857=dt,at.EPSG900913=ut,at.EPSG4326=Rn,at.Simple=jn;var $n=nt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[i(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[i(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});mn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=i(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=i(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&i(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?Qe(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[i(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=i(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var a=this._zoomBoundLayers[i].options;e=void 0===a.minZoom?e:Math.min(e,a.minZoom),t=void 0===a.maxZoom?t:Math.max(t,a.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Bn=$n.extend({initialize:function(e,t){var n,i;if(d(this,t),this._layers={},e)for(n=0,i=e.length;n<i;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return i(e)}}),Vn=Bn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Bn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Bn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new C;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Hn=_.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){d(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(i,e),i},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"==typeof i&&(i=[i,i]);var a=y(i),r=y("shadow"===t&&n.shadowAnchor||n.iconAnchor||a&&a.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),r&&(e.style.marginLeft=-r.x+"px",e.style.marginTop=-r.y+"px"),a&&(e.style.width=a.x+"px",e.style.height=a.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Vt&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),Fn=Hn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return Fn.imagePath||(Fn.imagePath=this._detectIconPath()),(this.options.imagePath||Fn.imagePath)+Hn.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=z("div","leaflet-default-icon-path",document.body),t=F(e,"background-image")||F(e,"backgroundImage");return document.body.removeChild(e),null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),zn=Cn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new En(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Q(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&J(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,i=this._marker.options.autoPanSpeed,a=this._marker.options.autoPanPadding,r=ie(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),l=x(o.min._subtract(s).add(a),o.max._subtract(s).subtract(a));if(!l.contains(r)){var c=y((Math.max(l.max.x,r.x)-l.max.x)/(o.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(o.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(o.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(o.min.y-l.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),ne(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=m(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(v(this._panRequest),this._panRequest=m(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,i=ie(t._icon),a=t._map.layerPointToLatLng(i);n&&ne(n,i),t._latlng=a,e.latlng=a,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){v(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Un=$n.extend({options:{icon:new Fn,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(e,t){d(this,t),this._latlng=k(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=k(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),Q(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var a=e.icon.createShadow(this._shadow),r=!1;a!==this._shadow&&(this._removeShadow(),r=!0),a&&(Q(a,t),a.alt=""),this._shadow=a,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),a&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),U(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&U(this._shadow),this._shadow=null},_setPos:function(e){ne(this._icon,e),this._shadow&&ne(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(Q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),zn)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new zn(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;K(this._icon,e),this._shadow&&K(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Wn=$n.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return d(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),qn=Wn.extend({options:{fill:!0,radius:10},initialize:function(e,t){d(this,t),this._latlng=k(e),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=k(e),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Wn.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),i=[e+n,t+n];this._pxBounds=new w(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Gn=qn.extend({initialize:function(e,n,i){if("number"==typeof n&&(n=t({},i,{radius:n})),d(this,n),this._latlng=k(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new C(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Wn.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===rt.distance){var a=Math.PI/180,r=this._mRadius/rt.R/a,o=n.project([t+r,e]),s=n.project([t-r,e]),l=o.add(s).divideBy(2),c=n.unproject(l).lat,d=Math.acos((Math.cos(r*a)-Math.sin(t*a)*Math.sin(c*a))/(Math.cos(t*a)*Math.cos(c*a)))/a;(isNaN(d)||0===d)&&(d=r/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(d)?0:l.x-n.project([c,e-d]).x,this._radiusY=l.y-o.y}else{var u=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(u).x}this._updateBounds()}}),Yn=Wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){d(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,a=null,r=De,o=0,s=this._parts.length;o<s;o++)for(var l=this._parts[o],c=1,d=l.length;c<d;c++){var u=r(e,t=l[c-1],n=l[c],!0);u<i&&(i=u,a=r(e,t,n))}return a&&(a.distance=Math.sqrt(i)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,a,r,o,s=this._rings[0],l=s.length;if(!l)return null;for(e=0,t=0;e<l-1;e++)t+=s[e].distanceTo(s[e+1])/2;if(0===t)return this._map.layerPointToLatLng(s[0]);for(e=0,i=0;e<l-1;e++)if(a=s[e],r=s[e+1],(i+=n=a.distanceTo(r))>t)return o=(i-t)/n,this._map.layerPointToLatLng([r.x-o*(r.x-a.x),r.y-o*(r.y-a.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=k(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new C,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Oe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Oe(e),i=0,a=e.length;i<a;i++)n?(t[i]=k(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new w;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e);var t=this._clickTolerance(),n=new b(t,t);this._bounds.isValid()&&e.isValid()&&(e.min._subtract(n),e.max._add(n),this._pxBounds=e)},_projectLatlngs:function(e,t,n){var i,a,r=e[0]instanceof T,o=e.length;if(r){for(a=[],i=0;i<o;i++)a[i]=this._map.latLngToLayerPoint(e[i]),n.extend(a[i]);t.push(a)}else for(i=0;i<o;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,i,a,r,o,s,l=this._parts;for(t=0,i=0,a=this._rings.length;t<a;t++)for(n=0,r=(s=this._rings[t]).length;n<r-1;n++)(o=ke(s[n],s[n+1],e,n,!0))&&(l[i]=l[i]||[],l[i].push(o[0]),o[1]===s[n+1]&&n!==r-2||(l[i].push(o[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=Se(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,a,r,o,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,a=(o=(s=this._parts[n]).length)-1;i<o;a=i++)if((t||0!==i)&&Te(e,s[a],s[i])<=l)return!0;return!1}});Yn._flat=Me;var Qn=Yn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,a,r,o,s,l,c=this._rings[0],d=c.length;if(!d)return null;for(r=o=s=0,e=0,t=d-1;e<d;t=e++)n=c[e],i=c[t],a=n.y*i.x-i.y*n.x,o+=(n.x+i.x)*a,s+=(n.y+i.y)*a,r+=3*a;return l=0===r?c[0]:[o/r,s/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(e){var t=Yn.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof T&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){Yn.prototype._setLatLngs.call(this,e),Oe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Oe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new b(t,t);if(e=new w(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,a=0,r=this._rings.length;a<r;a++)(i=Ie(this._rings[a],e,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,a,r,o,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,s=this._parts.length;a<s;a++)for(r=0,o=(l=(t=this._parts[a]).length)-1;r<l;o=r++)n=t[r],i=t[o],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||Yn.prototype._containsPoint.call(this,e,!0)}}),Jn=Vn.extend({initialize:function(e,t){d(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,i,a=Qe(e)?e:e.features;if(a){for(t=0,n=a.length;t<n;t++)((i=a[t]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(e))return this;var o=Ne(e,r);return o?(o.feature=Ve(e),o.defaultOptions=o.options,this.resetStyle(o),r.onEachFeature&&r.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}}),Zn={toGeoJSON:function(e){return Be(this,{type:"Point",coordinates:je(this.getLatLng(),e)})}};Un.include(Zn),Gn.include(Zn),qn.include(Zn),Yn.include({toGeoJSON:function(e){var t=!Oe(this._latlngs);return Be(this,{type:(t?"Multi":"")+"LineString",coordinates:$e(this._latlngs,t?1:0,!1,e)})}}),Qn.include({toGeoJSON:function(e){var t=!Oe(this._latlngs),n=t&&!Oe(this._latlngs[0]),i=$e(this._latlngs,n?2:t?1:0,!0,e);return t||(i=[i]),Be(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Bn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),Be(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,i=[];return this.eachLayer((function(t){if(t.toGeoJSON){var a=t.toGeoJSON(e);if(n)i.push(a.geometry);else{var r=Ve(a);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}})),n?Be(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Xn=He,Kn=$n.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=S(t),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){U(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&q(this._image),this},bringToBack:function(){return this._map&&G(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=S(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:z("img");Q(t,"leaflet-image-layer"),this._zoomAnimated&&Q(t,"leaflet-zoom-animated"),this.options.className&&Q(t,this.options.className),t.onselectstart=o,t.onmousemove=o,t.onload=n(this.fire,this,"load"),t.onerror=n(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;te(this._image,n,t)},_reset:function(){var e=this._image,t=new w(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();ne(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){K(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),ei=Kn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:z("video");if(Q(t,"leaflet-image-layer"),this._zoomAnimated&&Q(t,"leaflet-zoom-animated"),t.onselectstart=o,t.onmousemove=o,t.onloadeddata=n(this.fire,this,"load"),e){for(var i=t.getElementsByTagName("source"),a=[],r=0;r<i.length;r++)a.push(i[r].src);this._url=i.length>0?a:[t.src]}else{Qe(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var l=z("source");l.src=this._url[s],t.appendChild(l)}}}}),ti=$n.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){d(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&K(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&K(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(K(this._container,0),this._removeTimeout=setTimeout(n(U,void 0,this._container),200)):U(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=k(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&q(this._container),this},bringToBack:function(){return this._map&&G(this._container),this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=y(this.options.offset),n=this._getAnchor();this._zoomAnimated?ne(this._container,e.add(n)):t=t.add(e).add(n);var i=this._containerBottom=-t.y,a=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px",this._container.style.left=a+"px"}},_getAnchor:function(){return[0,0]}}),ni=ti.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){ti.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wn||this._source.on("preclick",fe))},onRemove:function(e){ti.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wn||this._source.off("preclick",fe))},getEvents:function(){var e=ti.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=z("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=z("div",e+"-content-wrapper",t);if(this._contentNode=z("div",e+"-content",n),me(n),ge(this._contentNode),de(n,"contextmenu",fe),this._tipContainer=z("div",e+"-tip-container",t),this._tip=z("div",e+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=z("a",e+"-close-button",t);i.href="#close",i.innerHTML="&#215;",de(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,a=this.options.maxHeight;a&&i>a?(t.height=a+"px",Q(e,"leaflet-popup-scrolled")):J(e,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();ne(this._container,t.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var e=this._map,t=parseInt(F(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,i=this._containerWidth,a=new b(this._containerLeft,-n-this._containerBottom);a._add(ie(this._container));var r=e.layerPointToContainerPoint(a),o=y(this.options.autoPanPadding),s=y(this.options.autoPanPaddingTopLeft||o),l=y(this.options.autoPanPaddingBottomRight||o),c=e.getSize(),d=0,u=0;r.x+i+l.x>c.x&&(d=r.x+i-c.x+l.x),r.x-d-s.x<0&&(d=r.x-s.x),r.y+n+l.y>c.y&&(u=r.y+n-c.y+l.y),r.y-u-s.y<0&&(u=r.y-s.y),(d||u)&&e.fire("autopanstart").panBy([d,u])}},_onCloseButtonClick:function(e){this._close(),_e(e)},_getAnchor:function(){return y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});mn.mergeOptions({closePopupOnClick:!0}),mn.include({openPopup:function(e,t,n){return e instanceof ni||(e=new ni(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),$n.include({bindPopup:function(e,t){return e instanceof ni?(d(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new ni(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){if(e instanceof $n||(t=e,e=this),e instanceof Vn)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._popup&&this._map&&(this._popup._source=e,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(_e(e),t instanceof Wn?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var ii=ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){ti.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){ti.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=ti.prototype.getEvents.call(this);return jt&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=z("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,n=this._container,i=t.latLngToContainerPoint(t.getCenter()),a=t.layerPointToContainerPoint(e),r=this.options.direction,o=n.offsetWidth,s=n.offsetHeight,l=y(this.options.offset),c=this._getAnchor();"top"===r?e=e.add(y(-o/2+l.x,-s+l.y+c.y,!0)):"bottom"===r?e=e.subtract(y(o/2-l.x,-l.y,!0)):"center"===r?e=e.subtract(y(o/2+l.x,s/2-c.y+l.y,!0)):"right"===r||"auto"===r&&a.x<i.x?(r="right",e=e.add(y(l.x+c.x,c.y-s/2+l.y,!0))):(r="left",e=e.subtract(y(o+c.x-l.x,s/2-c.y-l.y,!0))),J(n,"leaflet-tooltip-right"),J(n,"leaflet-tooltip-left"),J(n,"leaflet-tooltip-top"),J(n,"leaflet-tooltip-bottom"),Q(n,"leaflet-tooltip-"+r),ne(n,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&K(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});mn.include({openTooltip:function(e,t,n){return e instanceof ii||(e=new ii(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),$n.include({bindTooltip:function(e,t){return e instanceof ii?(d(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new ii(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),jt&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){if(e instanceof $n||(t=e,e=this),e instanceof Vn)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=e,this._tooltip.update(),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(Q(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(J(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,i=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ai=Hn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=y(n.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Hn.Default=Fn;var ri=$n.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Mt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){d(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),U(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(q(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(G(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof b?e:new b(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-1/0,1/0),a=0,r=n.length;a<r;a++)t=n[a].style.zIndex,n[a]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ft){K(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var i in this._tiles){var a=this._tiles[i];if(a.current&&a.loaded){var r=Math.min(1,(e-a.loaded)/200);K(a.el,r),r<1?t=!0:(a.active?n=!0:this._onOpaqueTile(a),a.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(v(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this))}},_onOpaqueTile:o,_initContainer:function(){this._container||(this._container=z("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(U(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[e],a=this._map;return i||((i=this._levels[e]={}).el=z("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=a.project(a.unproject(a.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,a.getCenter(),a.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:o,_onRemoveLevel:o,_onCreateLevel:o,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)U(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,i){var a=Math.floor(e/2),r=Math.floor(t/2),o=n-1,s=new b(+a,+r);s.z=+o;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),o>i&&this._retainParent(a,r,o,i))},_retainChildren:function(e,t,n,i){for(var a=2*e;a<2*e+2;a++)for(var r=2*t;r<2*t+2;r++){var o=new b(a,r);o.z=n+1;var s=this._tileCoordsToKey(o),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(a,r,n+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var a=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&a>this.options.maxZoom||void 0!==this.options.minZoom&&a<this.options.minZoom)&&(a=void 0);var r=this.options.updateWhenZooming&&a!==this._tileZoom;i&&!r||(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==a&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),a=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();Ot?te(e.el,a,i):ne(e.el,a)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,a=this._map.getPixelWorldBounds(this._tileZoom);a&&(this._globalTileRange=this._pxBoundsToTileRange(a)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._tileZoom),a=t.project(e,this._tileZoom).floor(),r=t.getSize().divideBy(2*i);return new w(a.subtract(r),a.add(r))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),a=this._pxBoundsToTileRange(i),r=a.getCenter(),o=[],s=this.options.keepBuffer,l=new w(a.getBottomLeft().subtract([s,-s]),a.getTopRight().add([s,-s]));if(!(isFinite(a.min.x)&&isFinite(a.min.y)&&isFinite(a.max.x)&&isFinite(a.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var d=this._tiles[c].coords;d.z===this._tileZoom&&l.contains(new b(d.x,d.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var u=a.min.y;u<=a.max.y;u++)for(var h=a.min.x;h<=a.max.x;h++){var p=new b(h,u);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:o.push(p)}}if(o.sort((function(e,t){return e.distanceTo(r)-t.distanceTo(r)})),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(h=0;h<o.length;h++)this._addTile(o[h],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return S(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),a=i.add(n);return[t.unproject(i,e.z),t.unproject(a,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new C(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new b(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(yt||t.el.setAttribute("src",Je),U(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Q(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=o,e.onmousemove=o,ft&&this.options.opacity<1&&K(e,this.options.opacity),vt&&!_t&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var i=this._getTilePos(e),a=this._tileCoordsToKey(e),r=this.createTile(this._wrapCoords(e),n(this._tileReady,this,e));this._initTile(r),this.createTile.length<2&&m(n(this._tileReady,this,e,null,r)),ne(r,i),this._tiles[a]={el:r,coords:e,current:!0},t.appendChild(r),this.fire("tileloadstart",{tile:r,coords:e})},_tileReady:function(e,t,i){if(this._map&&i.getAttribute("src")!==Je){t&&this.fire("tileerror",{error:t,tile:i,coords:e});var a=this._tileCoordsToKey(e);(i=this._tiles[a])&&(i.loaded=+new Date,this._map._fadeAnimated?(K(i.el,0),v(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),t||(Q(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ft||!this._map._fadeAnimated?m(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))}},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new b(this._wrapX?r(e.x,this._wrapX):e.x,this._wrapY?r(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new w(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),oi=ri.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=d(this,t)).detectRetina&&Vt&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),vt||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},createTile:function(e,t){var i=document.createElement("img");return de(i,"load",n(this._tileOnLoad,this,t,i)),de(i,"error",n(this._tileOnError,this,t,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(e),i},getTileUrl:function(e){var n={r:Vt?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=i),n["-y"]=i}return h(this._url,t(n,this.options))},_tileOnLoad:function(e,t){ft?setTimeout(n(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=o,t.onerror=o,t.complete||(t.src=Je,U(t),delete this._tiles[e]))}}),si=oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var i=t({},this.defaultWmsParams);for(var a in n)a in this.options||(i[a]=n[a]);var r=(n=d(this,n)).detectRetina&&Vt?2:1,o=this.getTileSize();i.width=o.x*r,i.height=o.y*r,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,oi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,i=x(n.project(t[0]),n.project(t[1])),a=i.min,r=i.max,o=(this._wmsVersion>=1.3&&this._crs===Rn?[a.y,a.x,r.y,r.x]:[a.x,a.y,r.x,r.y]).join(","),s=oi.prototype.getTileUrl.call(this,e);return s+u(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(e,n){return t(this.wmsParams,e),n||this.redraw(),this}});oi.WMS=si,Fe.wms=function(e,t){return new si(e,t)};var li=$n.extend({options:{padding:.1,tolerance:0},initialize:function(e){d(this,e),i(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=ie(this._container),a=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,t),o=this._map.project(e,t).subtract(r),s=a.multiplyBy(-n).add(i).add(a).subtract(o);Ot?te(this._container,s,n):ne(this._container,s)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new w(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ci=li.extend({getEvents:function(){var e=li.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){li.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");de(e,"mousemove",a(this._onMouseMove,32,this),this),de(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),de(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){v(this._redrawRequest),delete this._ctx,U(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},li.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),i=Vt?2:1;ne(t,e.min),t.width=i*n.x,t.height=i*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Vt&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){li.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[i(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,a=t.prev;n?n.prev=a:this._drawLast=a,a?a.next=n:this._drawFirst=n,delete this._drawnLayers[e._leaflet_id],delete e._order,delete this._layers[i(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,n=e.options.dashArray.split(","),i=[];for(t=0;t<n.length;t++)i.push(Number(n[t]));e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||m(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new w,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,a,r,o=e._parts,s=o.length,l=this._ctx;if(s){for(this._drawnLayers[e._leaflet_id]=e,l.beginPath(),n=0;n<s;n++){for(i=0,a=o[n].length;i<a;i++)r=o[n][i],l[i?"lineTo":"moveTo"](r.x,r.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,i=Math.max(Math.round(e._radius),1),a=(Math.max(Math.round(e._radiusY),1)||i)/i;this._drawnLayers[e._leaflet_id]=e,1!==a&&(n.save(),n.scale(1,a)),n.beginPath(),n.arc(t.x,t.y/a,i,0,2*Math.PI,!1),1!==a&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),a=this._drawFirst;a;a=a.next)(t=a.layer).options.interactive&&t._containsPoint(i)&&!this._map._draggableMoved(t)&&(n=t);n&&(we(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(J(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(e,t){for(var n,i,a=this._drawFirst;a;a=a.next)(n=a.layer).options.interactive&&n._containsPoint(t)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(Q(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order,n=t.next,i=t.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))},_bringToBack:function(e){var t=e._order,n=t.next,i=t.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}),di=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),ui={_initContainer:function(){this._container=z("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(li.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=di("shape");Q(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=di("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[i(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;U(t),e.removeInteractiveTarget(t),delete this._layers[i(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,a=e._container;a.stroked=!!i.stroke,a.filled=!!i.fill,i.stroke?(t||(t=e._stroke=di("stroke")),a.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=Qe(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(a.removeChild(t),e._stroke=null),i.fill?(n||(n=e._fill=di("fill")),a.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(a.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){q(e._container)},_bringToBack:function(e){G(e._container)}},hi=zt?di:E,pi=li.extend({getEvents:function(){var e=li.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=hi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){U(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){li.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),ne(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=hi("path");e.options.className&&Q(t,e.options.className),e.options.interactive&&Q(t,"leaflet-interactive"),this._updateStyle(e),this._layers[i(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){U(e._path),e.removeInteractiveTarget(e._path),delete this._layers[i(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,D(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),i="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",a=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,a)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){q(e._path)},_bringToBack:function(e){G(e._path)}});zt&&pi.include(ui),mn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&ze(e)||Ue(e)}});var fi=Qn.extend({initialize:function(e,t){Qn.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=S(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});pi.create=hi,pi.pointsToPath=D,Jn.geometryToLayer=Ne,Jn.coordsToLatLng=Le,Jn.coordsToLatLngs=Re,Jn.latLngToCoords=je,Jn.latLngsToCoords=$e,Jn.getFeature=Be,Jn.asFeature=Ve,mn.mergeOptions({boxZoom:!0});var gi=Cn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){de(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){U(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),st(),ae(),this._startPoint=this._map.mouseEventToContainerPoint(e),de(document,{contextmenu:_e,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=z("div","leaflet-zoom-box",this._container),Q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new w(this._point,this._startPoint),n=t.getSize();ne(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(U(this._box),J(this._container,"leaflet-crosshair")),lt(),re(),ue(document,{contextmenu:_e,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var t=new C(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});mn.addInitHook("addHandler","boxZoom",gi),mn.mergeOptions({doubleClickZoom:!0});var mi=Cn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,a=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(a):t.setZoomAround(e.containerPoint,a)}});mn.addInitHook("addHandler","doubleClickZoom",mi),mn.mergeOptions({dragging:!0,inertia:!_t,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vi=Cn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new En(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}Q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){J(this._map._container,"leaflet-grab"),J(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=S(this._map.options.maxBounds);this._offsetLimit=x(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,a=(i-t+n)%e+t-n,r=(i+t+n)%e-t-n,o=Math.abs(a+n)<Math.abs(r+n)?a:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,i=!n.inertia||this._times.length<2;if(t.fire("dragend",e),i)t.fire("moveend");else{this._prunePositions(+new Date);var a=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=a.multiplyBy(o/r),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),d=s.multiplyBy(c/l),u=c/(n.inertiaDeceleration*o),h=d.multiplyBy(-u/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),m((function(){t.panBy(h,{duration:u,easeLinearity:o,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});mn.addInitHook("addHandler","dragging",vi),mn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _i=Cn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),de(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,i=this._panKeys={},a=this.keyCodes;for(t=0,n=a.left.length;t<n;t++)i[a.left[t]]=[-1*e,0];for(t=0,n=a.right.length;t<n;t++)i[a.right[t]]=[e,0];for(t=0,n=a.down.length;t<n;t++)i[a.down[t]]=[0,e];for(t=0,n=a.up.length;t<n;t++)i[a.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,i=this._zoomKeys={},a=this.keyCodes;for(t=0,n=a.zoomIn.length;t<n;t++)i[a.zoomIn[t]]=e;for(t=0,n=a.zoomOut.length;t<n;t++)i[a.zoomOut[t]]=-e},_addHooks:function(){de(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=y(t).multiplyBy(3)),i.panBy(t),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}_e(e)}}});mn.addInitHook("addHandler","keyboard",_i),mn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bi=Cn.extend({addHooks:function(){de(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=ye(e),i=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var a=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),a),_e(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),a=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(a/n)*n:a,o=e._limitZoom(t+(this._delta>0?r:-r))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});mn.addInitHook("addHandler","scrollWheelZoom",bi),mn.mergeOptions({tap:!0,tapTolerance:15});var yi=Cn.extend({addHooks:function(){de(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(ve(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],i=t.target;this._startPos=this._newPos=new b(t.clientX,t.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&Q(i,"leaflet-active"),this._holdTimeout=setTimeout(n((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))}),this),1e3),this._simulateEvent("mousedown",t),de(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),ue(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&J(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new b(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});jt&&!Rt&&mn.addInitHook("addHandler","tap",yi),mn.mergeOptions({touchZoom:jt&&!_t,bounceAtZoomLimits:!0});var wi=Cn.extend({addHooks:function(){Q(this._map._container,"leaflet-touch-zoom"),de(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){J(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),de(document,"touchmove",this._onTouchMove,this),de(document,"touchend",this._onTouchEnd,this),ve(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,i=t.mouseEventToContainerPoint(e.touches[0]),a=t.mouseEventToContainerPoint(e.touches[1]),r=i.distanceTo(a)/this._startDist;if(this._zoom=t.getScaleZoom(r,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&r<1||this._zoom>t.getMaxZoom()&&r>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var o=i._add(a)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===o.x&&0===o.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),v(this._animRequest);var s=n(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=m(s,this,!0),ve(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,v(this._animRequest),ue(document,"touchmove",this._onTouchMove),ue(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});mn.addInitHook("addHandler","touchZoom",wi),mn.BoxZoom=gi,mn.DoubleClickZoom=mi,mn.Drag=vi,mn.Keyboard=_i,mn.ScrollWheelZoom=bi,mn.Tap=yi,mn.TouchZoom=wi,Object.freeze=We,e.version="1.3.3+HEAD.b22aef4",e.Control=vn,e.control=_n,e.Browser=Ut,e.Evented=nt,e.Mixin=Tn,e.Util=et,e.Class=_,e.Handler=Cn,e.extend=t,e.bind=n,e.stamp=i,e.setOptions=d,e.DomEvent=fn,e.DomUtil=dn,e.PosAnimation=gn,e.Draggable=En,e.LineUtil=Dn,e.PolyUtil=On,e.Point=b,e.point=y,e.Bounds=w,e.bounds=x,e.Transformation=A,e.transformation=P,e.Projection=Nn,e.LatLng=T,e.latLng=k,e.LatLngBounds=C,e.latLngBounds=S,e.CRS=at,e.GeoJSON=Jn,e.geoJSON=He,e.geoJson=Xn,e.Layer=$n,e.LayerGroup=Bn,e.layerGroup=function(e,t){return new Bn(e,t)},e.FeatureGroup=Vn,e.featureGroup=function(e){return new Vn(e)},e.ImageOverlay=Kn,e.imageOverlay=function(e,t,n){return new Kn(e,t,n)},e.VideoOverlay=ei,e.videoOverlay=function(e,t,n){return new ei(e,t,n)},e.DivOverlay=ti,e.Popup=ni,e.popup=function(e,t){return new ni(e,t)},e.Tooltip=ii,e.tooltip=function(e,t){return new ii(e,t)},e.Icon=Hn,e.icon=function(e){return new Hn(e)},e.DivIcon=ai,e.divIcon=function(e){return new ai(e)},e.Marker=Un,e.marker=function(e,t){return new Un(e,t)},e.TileLayer=oi,e.tileLayer=Fe,e.GridLayer=ri,e.gridLayer=function(e){return new ri(e)},e.SVG=pi,e.svg=Ue,e.Renderer=li,e.Canvas=ci,e.canvas=ze,e.Path=Wn,e.CircleMarker=qn,e.circleMarker=function(e,t){return new qn(e,t)},e.Circle=Gn,e.circle=function(e,t,n){return new Gn(e,t,n)},e.Polyline=Yn,e.polyline=function(e,t){return new Yn(e,t)},e.Polygon=Qn,e.polygon=function(e,t){return new Qn(e,t)},e.Rectangle=fi,e.rectangle=function(e,t){return new fi(e,t)},e.Map=mn,e.map=function(e,t){return new mn(e,t)};var xi=window.L;e.noConflict=function(){return window.L=xi,this},window.L=e}(t)},function(e,t,n){!function(e){var t="a. b. c. d.".split(" "),n=function(e,n,i,a){return{url:["//stamen-tiles-{S}a.ssl.fastly.net/",e,"/{Z}/{X}/{Y}.",n].join(""),type:n,subdomains:t.slice(),minZoom:i,maxZoom:a,attribution:['Map tiles by <a href="http://stamen.com/">Stamen Design</a>, ','under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. ','Data by <a href="http://openstreetmap.org/">OpenStreetMap</a>, ','under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.'].join("")}},i={toner:n("toner","png",0,20),terrain:n("terrain","png",0,18),"terrain-classic":n("terrain-classic","png",0,18),watercolor:n("watercolor","jpg",1,18),"trees-cabs-crime":{url:"http://{S}.tiles.mapbox.com/v3/stamen.trees-cabs-crime/{Z}/{X}/{Y}.png",type:"png",subdomains:"a b c d".split(" "),minZoom:11,maxZoom:18,extent:[{lat:37.853,lon:-122.577},{lat:37.684,lon:-122.313}],attribution:['Design by Shawn Allen at <a href="http://stamen.com/">Stamen</a>.','Data courtesy of <a href="http://fuf.net/">FuF</a>,','<a href="http://www.yellowcabsf.com/">Yellow Cab</a>','&amp; <a href="http://sf-police.org/">SFPD</a>.'].join(" ")}};i["terrain-classic"].url="//stamen-tiles-{S}a.ssl.fastly.net/terrain/{Z}/{X}/{Y}.png",l("toner",["hybrid","labels","lines","background","lite"]),l("terrain",["background","labels","lines"]),s("toner",["2010"]),s("toner",["2011","2011-lines","2011-labels","2011-lite"]);for(var a=["toner","toner-hybrid","toner-labels","toner-lines","toner-background","toner-lite","terrain","terrain-background","terrain-lines","terrain-labels","terrain-classic"],r=0;r<a.length;r++){var o=a[r];i[o].retina=!0,i[o].attribution=['Map tiles by <a href="http://stamen.com/">Stamen Design</a>, ','under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. ','Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, ','under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.'].join("")}function s(e,t){for(var a=c(e),r=0;r<t.length;r++){var o=[e,t[r]].join("-");i[o]=n(o,a.type,a.minZoom,a.maxZoom),i[o].deprecated=!0}}function l(e,t,a){for(var r=c(e),o=0;o<t.length;o++){var s=[e,t[o]].join("-");i[s]=n(s,a||r.type,r.minZoom,r.maxZoom)}}function c(e){if(e in i){var t=i[e];return t.deprecated&&console&&console.warn&&console.warn(e+" is a deprecated style; it will be redirected to its replacement. For performance improvements, please change your reference."),t}throw"No such provider ("+e+")"}if(e.stamen=e.stamen||{},e.stamen.tile=e.stamen.tile||{},e.stamen.tile.providers=i,e.stamen.tile.getProvider=c,"object"===typeof MM){var d="function"===typeof MM.Template?MM.Template:MM.TemplatedMapProvider;MM.StamenTileLayer=function(e){var t=c(e);this._provider=t,MM.Layer.call(this,new d(t.url,t.subdomains)),this.provider.setZoomRange(t.minZoom,t.maxZoom),this.attribution=t.attribution},MM.StamenTileLayer.prototype={setCoordLimits:function(e){var t=this._provider;return!!t.extent&&(e.coordLimits=[e.locationCoordinate(t.extent[0]).zoomTo(t.minZoom),e.locationCoordinate(t.extent[1]).zoomTo(t.maxZoom)],!0)}},MM.extend(MM.StamenTileLayer,MM.Layer)}if("object"===typeof L&&(L.StamenTileLayer=L.TileLayer.extend({initialize:function(e,t){var n=c(e),i=n.url.replace(/({[A-Z]})/g,(function(e){return e.toLowerCase()})),a=L.Util.extend({},t,{minZoom:n.minZoom,maxZoom:n.maxZoom,subdomains:n.subdomains,scheme:"xyz",attribution:n.attribution,sa_id:e});L.TileLayer.prototype.initialize.call(this,i,a)}}),L.stamenTileLayer=function(e,t){return new L.StamenTileLayer(e,t)}),"object"===typeof OpenLayers){var u=function(e){return e.replace(/({.})/g,(function(e){return"$"+e.toLowerCase()}))};OpenLayers.Layer.Stamen=OpenLayers.Class(OpenLayers.Layer.OSM,{initialize:function(e,t){var n=c(e),i=n.url,a=n.subdomains,r=[];if(i.indexOf("{S}")>-1)for(var o=0;o<a.length;o++)r.push(u(i.replace("{S}",a[o])));else r.push(u(i));return t=OpenLayers.Util.extend({numZoomLevels:n.maxZoom,buffer:0,transitionEffect:"resize",tileOptions:{crossOriginKeyword:null},attribution:n.attribution},t),OpenLayers.Layer.OSM.prototype.initialize.call(this,e,r,t)}})}"object"===typeof google&&"object"===typeof google.maps&&(google.maps.ImageMapType=function(e){var t=function(){arguments.length&&e.apply(this,arguments)};return t.prototype=e.prototype,t}(google.maps.ImageMapType),google.maps.StamenMapType=function(e){var t=c(e),n=t.subdomains;return google.maps.ImageMapType.call(this,{getTileUrl:function(e,i){var a=1<<i,r=e.x%a,o=r<0?r+a:r,s=e.y,l=(i+o+s)%n.length;return t.url.replace("{S}",n[l]).replace("{Z}",i).replace("{X}",o).replace("{Y}",s)},tileSize:new google.maps.Size(256,256),name:e,minZoom:t.minZoom,maxZoom:t.maxZoom})},google.maps.StamenMapType.prototype=new google.maps.ImageMapType)}(t)},function(e,t,n){!function(){"use strict";var t=function(e){if("number"!==typeof e||(t=e)!==t)throw new TypeError("Expected a number");var t,n,i=e<0,a=["B","kB","MB","GB","TB","PB","EB","ZB","YB"];return i&&(e=-e),e<1?(i?"-":"")+e+" B":(n=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),a.length-1),(i?"-":"")+(e=1*(e/Math.pow(1e3,n)).toFixed(2))+" "+a[n])};e.exports?e.exports=t:self.prettyBytes=t}()},function(e,t,n){e.exports=function e(t,n,i){function a(o,s){if(!n[o]){if(!t[o]){if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return a(t[o][1][e]||e)}),c,c.exports,e,t,n,i)}return n[o].exports}for(var r=!1,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function o(){g&&p&&(g=!1,p.length?f=p.concat(f):m=-1,f.length&&s())}function s(){if(!g){var e=r(o);g=!0;for(var t=f.length;t;){for(p=f,f=[];++m<t;)p&&p[m].run();m=-1,t=f.length}p=null,g=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===a||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var d,u,h=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{u="function"==typeof clearTimeout?clearTimeout:a}catch(e){u=a}}();var p,f=[],g=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||g||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./bars")),a=function(){};(a.prototype=new i.default).extractSeries=function(e,t,n){for(var i,a,r,o=[],s=n.get("logscale"),l=0;l<e.length;l++)i=e[l][0],r=e[l][t],s&&null!==r&&(r[0]<=0||r[1]<=0||r[2]<=0)&&(r=null),null!==r?null===(a=r[1])||isNaN(a)?o.push([i,a,[a,a]]):o.push([i,a,[r[0],r[2]]]):o.push([i,null,[null,null]]);return o},a.prototype.rollingAverage=function(e,t,n){t=Math.min(t,e.length);var i,a,r,o,s,l,c,d=[];for(a=0,o=0,r=0,s=0,l=0;l<e.length;l++){if(i=e[l][1],c=e[l][2],d[l]=e[l],null===i||isNaN(i)||(a+=c[0],o+=i,r+=c[1],s+=1),l-t>=0){var u=e[l-t];null===u[1]||isNaN(u[1])||(a-=u[2][0],o-=u[1],r-=u[2][1],s-=1)}d[l]=s?[e[l][0],1*o/s,[1*a/s,1*r/s]]:[e[l][0],null,[null,null]]}return d},n.default=a,t.exports=n.default},{"./bars":5}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./bars")),a=function(){};(a.prototype=new i.default).extractSeries=function(e,t,n){for(var i,a,r,o,s=[],l=n.get("sigma"),c=n.get("logscale"),d=0;d<e.length;d++)i=e[d][0],o=e[d][t],c&&null!==o&&(o[0]<=0||o[0]-l*o[1]<=0)&&(o=null),null!==o?null===(a=o[0])||isNaN(a)?s.push([i,a,[a,a,a]]):(r=l*o[1],s.push([i,a,[a-r,a+r,o[1]]])):s.push([i,null,[null,null,null]]);return s},a.prototype.rollingAverage=function(e,t,n){t=Math.min(t,e.length);var i,a,r,o,s,l,c,d,u,h=[],p=n.get("sigma");for(i=0;i<e.length;i++){for(s=0,d=0,l=0,a=Math.max(0,i-t+1);a<i+1;a++)null===(r=e[a][1])||isNaN(r)||(l++,s+=r,d+=Math.pow(e[a][2][2],2));l?(c=Math.sqrt(d)/l,u=s/l,h[i]=[e[i][0],u,[u-p*c,u+p*c]]):(o=1==t?e[i][1]:null,h[i]=[e[i][0],o,[o,o]])}return h},n.default=a,t.exports=n.default},{"./bars":5}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./bars")),a=function(){};(a.prototype=new i.default).extractSeries=function(e,t,n){for(var i,a,r,o,s,l,c,d=[],u=n.get("sigma"),h=n.get("logscale"),p=0;p<e.length;p++)i=e[p][0],r=e[p][t],h&&null!==r&&(r[0]<=0||r[1]<=0)&&(r=null),null!==r?(o=r[0],s=r[1],null===o||isNaN(o)?d.push([i,o,[o,o,o,s]]):(l=s?o/s:0,c=100*(s?u*Math.sqrt(l*(1-l)/s):1),a=100*l,d.push([i,a,[a-c,a+c,o,s]]))):d.push([i,null,[null,null,null,null]]);return d},a.prototype.rollingAverage=function(e,t,n){t=Math.min(t,e.length);var i,a,r,o,s=[],l=n.get("sigma"),c=n.get("wilsonInterval"),d=0,u=0;for(r=0;r<e.length;r++){d+=e[r][2][2],u+=e[r][2][3],r-t>=0&&(d-=e[r-t][2][2],u-=e[r-t][2][3]);var h=e[r][0],p=u?d/u:0;if(c)if(u){var f=p<0?0:p,g=u,m=l*Math.sqrt(f*(1-f)/g+l*l/(4*g*g)),v=1+l*l/u;i=(f+l*l/(2*u)-m)/v,a=(f+l*l/(2*u)+m)/v,s[r]=[h,100*f,[100*i,100*a]]}else s[r]=[h,0,[0,0]];else o=u?l*Math.sqrt(p*(1-p)/u):1,s[r]=[h,100*p,[100*(p-o),100*(p+o)]]}return s},n.default=a,t.exports=n.default},{"./bars":5}],5:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(e("./datahandler")),r=i(e("../dygraph-layout")),o=function(){a.default.call(this)};(o.prototype=new a.default).extractSeries=function(e,t,n){},o.prototype.rollingAverage=function(e,t,n){},o.prototype.onPointsCreated_=function(e,t){for(var n=0;n<e.length;++n){var i=e[n],r=t[n];r.y_top=NaN,r.y_bottom=NaN,r.yval_minus=a.default.parseFloat(i[2][0]),r.yval_plus=a.default.parseFloat(i[2][1])}},o.prototype.getExtremeYValues=function(e,t,n){for(var i,a=null,r=null,o=e.length-1,s=0;s<=o;s++)if(null!==(i=e[s][1])&&!isNaN(i)){var l=e[s][2][0],c=e[s][2][1];l>i&&(l=i),c<i&&(c=i),(null===r||c>r)&&(r=c),(null===a||l<a)&&(a=l)}return[a,r]},o.prototype.onLineEvaluated=function(e,t,n){for(var i,a=0;a<e.length;a++)(i=e[a]).y_top=r.default.calcYNormal_(t,i.yval_minus,n),i.y_bottom=r.default.calcYNormal_(t,i.yval_plus,n)},n.default=o,t.exports=n.default},{"../dygraph-layout":13,"./datahandler":6}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){},a=i;a.X=0,a.Y=1,a.EXTRAS=2,a.prototype.extractSeries=function(e,t,n){},a.prototype.seriesToPoints=function(e,t,n){for(var i=[],r=0;r<e.length;++r){var o=e[r],s=o[1],l=null===s?null:a.parseFloat(s),c={x:NaN,y:NaN,xval:a.parseFloat(o[0]),yval:l,name:t,idx:r+n};i.push(c)}return this.onPointsCreated_(e,i),i},a.prototype.onPointsCreated_=function(e,t){},a.prototype.rollingAverage=function(e,t,n){},a.prototype.getExtremeYValues=function(e,t,n){},a.prototype.onLineEvaluated=function(e,t,n){},a.parseFloat=function(e){return null===e?NaN:e},n.default=i,t.exports=n.default},{}],7:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=(i(e("./datahandler")),e("./default")),r=i(a),o=function(){};(o.prototype=new r.default).extractSeries=function(e,t,n){for(var i,a,r,o,s,l=[],c=n.get("logscale"),d=0;d<e.length;d++)i=e[d][0],r=e[d][t],c&&null!==r&&(r[0]<=0||r[1]<=0)&&(r=null),null!==r?(o=r[0],s=r[1],null===o||isNaN(o)?l.push([i,o,[o,s]]):(a=100*(s?o/s:0),l.push([i,a,[o,s]]))):l.push([i,null,[null,null]]);return l},o.prototype.rollingAverage=function(e,t,n){t=Math.min(t,e.length);var i,a=[],r=0,o=0;for(i=0;i<e.length;i++){r+=e[i][2][0],o+=e[i][2][1],i-t>=0&&(r-=e[i-t][2][0],o-=e[i-t][2][1]);var s=e[i][0],l=o?r/o:0;a[i]=[s,100*l]}return a},n.default=o,t.exports=n.default},{"./datahandler":6,"./default":8}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./datahandler")),a=function(){};(a.prototype=new i.default).extractSeries=function(e,t,n){for(var i=[],a=n.get("logscale"),r=0;r<e.length;r++){var o=e[r][0],s=e[r][t];a&&s<=0&&(s=null),i.push([o,s])}return i},a.prototype.rollingAverage=function(e,t,n){var i,a,r,o,s,l=[];if(1==(t=Math.min(t,e.length)))return e;for(i=0;i<e.length;i++){for(o=0,s=0,a=Math.max(0,i-t+1);a<i+1;a++)null===(r=e[a][1])||isNaN(r)||(s++,o+=e[a][1]);l[i]=s?[e[i][0],o/s]:[e[i][0],null]}return l},a.prototype.getExtremeYValues=function(e,t,n){for(var i,a=null,r=null,o=e.length-1,s=0;s<=o;s++)null===(i=e[s][1])||isNaN(i)||((null===r||i>r)&&(r=i),(null===a||i<a)&&(a=i));return[a,r]},n.default=a,t.exports=n.default},{"./datahandler":6}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./dygraph-utils")),a=function(e){return e&&e.__esModule?e:{default:e}}(e("./dygraph")),r=function(e,t,n,a){if(this.dygraph_=e,this.layout=a,this.element=t,this.elementContext=n,this.height=e.height_,this.width=e.width_,!i.isCanvasSupported(this.element))throw"Canvas is not supported.";this.area=a.getPlotArea();var r=this.dygraph_.canvas_ctx_;r.beginPath(),r.rect(this.area.x,this.area.y,this.area.w,this.area.h),r.clip(),(r=this.dygraph_.hidden_ctx_).beginPath(),r.rect(this.area.x,this.area.y,this.area.w,this.area.h),r.clip()};r.prototype.clear=function(){this.elementContext.clearRect(0,0,this.width,this.height)},r.prototype.render=function(){this._updatePoints(),this._renderLineChart()},r._getIteratorPredicate=function(e){return e?r._predicateThatSkipsEmptyPoints:null},r._predicateThatSkipsEmptyPoints=function(e,t){return null!==e[t].yval},r._drawStyledLine=function(e,t,n,a,o,s,l){var c=e.dygraph,d=c.getBooleanOption("stepPlot",e.setName);i.isArrayLike(a)||(a=null);var u=c.getBooleanOption("drawGapEdgePoints",e.setName),h=e.points,p=e.setName,f=i.createIterator(h,0,h.length,r._getIteratorPredicate(c.getBooleanOption("connectSeparatedPoints",p))),g=a&&a.length>=2,m=e.drawingContext;m.save(),g&&m.setLineDash&&m.setLineDash(a);var v=r._drawSeries(e,f,n,l,o,u,d,t);r._drawPointsOnLine(e,v,s,t,l),g&&m.setLineDash&&m.setLineDash([]),m.restore()},r._drawSeries=function(e,t,n,i,a,r,o,s){var l,c,d=null,u=null,h=null,p=[],f=!0,g=e.drawingContext;g.beginPath(),g.strokeStyle=s,g.lineWidth=n;for(var m=t.array_,v=t.end_,_=t.predicate_,b=t.start_;b<v;b++){if(c=m[b],_){for(;b<v&&!_(m,b);)b++;if(b==v)break;c=m[b]}if(null===c.canvasy||c.canvasy!=c.canvasy)o&&null!==d&&(g.moveTo(d,u),g.lineTo(c.canvasx,u)),d=u=null;else{if(l=!1,r||null===d){t.nextIdx_=b,t.next();var y=null===(h=t.hasNext?t.peek.canvasy:null)||h!=h;l=null===d&&y,r&&(!f&&null===d||t.hasNext&&y)&&(l=!0)}null!==d?n&&(o&&(g.moveTo(d,u),g.lineTo(c.canvasx,u)),g.lineTo(c.canvasx,c.canvasy)):g.moveTo(c.canvasx,c.canvasy),(a||l)&&p.push([c.canvasx,c.canvasy,c.idx]),d=c.canvasx,u=c.canvasy}f=!1}return g.stroke(),p},r._drawPointsOnLine=function(e,t,n,i,a){for(var r=e.drawingContext,o=0;o<t.length;o++){var s=t[o];r.save(),n.call(e.dygraph,e.dygraph,e.setName,r,s[0],s[1],i,a,s[2]),r.restore()}},r.prototype._updatePoints=function(){for(var e=this.layout.points,t=e.length;t--;)for(var n=e[t],i=n.length;i--;){var a=n[i];a.canvasx=this.area.w*a.x+this.area.x,a.canvasy=this.area.h*a.y+this.area.y}},r.prototype._renderLineChart=function(e,t){var n,a,r=t||this.elementContext,o=this.layout.points,s=this.layout.setNames;this.colors=this.dygraph_.colorsMap_;var l=this.dygraph_.getOption("plotter"),c=l;i.isArrayLike(c)||(c=[c]);var d={};for(n=0;n<s.length;n++){a=s[n];var u=this.dygraph_.getOption("plotter",a);u!=l&&(d[a]=u)}for(n=0;n<c.length;n++)for(var h=c[n],p=n==c.length-1,f=0;f<o.length;f++)if(a=s[f],!e||a==e){var g=o[f],m=h;if(a in d){if(!p)continue;m=d[a]}var v=this.colors[a],_=this.dygraph_.getOption("strokeWidth",a);r.save(),r.strokeStyle=v,r.lineWidth=_,m({points:g,setName:a,drawingContext:r,color:v,strokeWidth:_,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(a),plotArea:this.area,seriesIndex:f,seriesCount:o.length,singleSeriesName:e,allSeriesPoints:o}),r.restore()}},r._Plotters={linePlotter:function(e){r._linePlotter(e)},fillPlotter:function(e){r._fillPlotter(e)},errorPlotter:function(e){r._errorPlotter(e)}},r._linePlotter=function(e){var t=e.dygraph,n=e.setName,a=e.strokeWidth,o=t.getNumericOption("strokeBorderWidth",n),s=t.getOption("drawPointCallback",n)||i.Circles.DEFAULT,l=t.getOption("strokePattern",n),c=t.getBooleanOption("drawPoints",n),d=t.getNumericOption("pointSize",n);o&&a&&r._drawStyledLine(e,t.getOption("strokeBorderColor",n),a+2*o,l,c,s,d),r._drawStyledLine(e,e.color,a,l,c,s,d)},r._errorPlotter=function(e){var t=e.dygraph,n=e.setName;if(t.getBooleanOption("errorBars")||t.getBooleanOption("customBars")){t.getBooleanOption("fillGraph",n)&&console.warn("Can't use fillGraph option with error bars");var a,o=e.drawingContext,s=e.color,l=t.getNumericOption("fillAlpha",n),c=t.getBooleanOption("stepPlot",n),d=e.points,u=i.createIterator(d,0,d.length,r._getIteratorPredicate(t.getBooleanOption("connectSeparatedPoints",n))),h=NaN,p=NaN,f=[-1,-1],g=i.toRGB_(s),m="rgba("+g.r+","+g.g+","+g.b+","+l+")";o.fillStyle=m,o.beginPath();for(var v=function(e){return null===e||void 0===e||isNaN(e)};u.hasNext;){var _=u.next();!c&&v(_.y)||c&&!isNaN(p)&&v(p)?h=NaN:(a=[_.y_bottom,_.y_top],c&&(p=_.y),isNaN(a[0])&&(a[0]=_.y),isNaN(a[1])&&(a[1]=_.y),a[0]=e.plotArea.h*a[0]+e.plotArea.y,a[1]=e.plotArea.h*a[1]+e.plotArea.y,isNaN(h)||(c?(o.moveTo(h,f[0]),o.lineTo(_.canvasx,f[0]),o.lineTo(_.canvasx,f[1])):(o.moveTo(h,f[0]),o.lineTo(_.canvasx,a[0]),o.lineTo(_.canvasx,a[1])),o.lineTo(h,f[1]),o.closePath()),f=a,h=_.canvasx)}o.fill()}},r._fastCanvasProxy=function(e){var t=[],n=null,i=null,a=0,r=function(n){!function(e){if(!(t.length<=1)){for(var n=t.length-1;n>0;n--)if(2==(s=t[n])[0]){var i=t[n-1];i[1]==s[1]&&i[2]==s[2]&&t.splice(n,1)}for(n=0;n<t.length-1;)2==(s=t[n])[0]&&2==t[n+1][0]?t.splice(n,1):n++;if(t.length>2&&!e){var a=0;2==t[0][0]&&a++;var r=null,o=null;for(n=a;n<t.length;n++){var s;if(1==(s=t[n])[0])if(null===r&&null===o)r=n,o=n;else{var l=s[2];l<t[r][2]?r=n:l>t[o][2]&&(o=n)}}var c=t[r],d=t[o];t.splice(a,t.length-a),r<o?(t.push(c),t.push(d)):r>o?(t.push(d),t.push(c)):t.push(c)}}}(n);for(var r=0,o=t.length;r<o;r++){var s=t[r];1==s[0]?e.lineTo(s[1],s[2]):2==s[0]&&e.moveTo(s[1],s[2])}t.length&&(i=t[t.length-1][1]),a+=t.length,t=[]},o=function(e,a,o){var s=Math.round(a);null!==n&&s==n||(r(n-i>1||s-n>1),n=s),t.push([e,a,o])};return{moveTo:function(e,t){o(2,e,t)},lineTo:function(e,t){o(1,e,t)},stroke:function(){r(!0),e.stroke()},fill:function(){r(!0),e.fill()},beginPath:function(){r(!0),e.beginPath()},closePath:function(){r(!0),e.closePath()},_count:function(){return a}}},r._fillPlotter=function(e){if(!e.singleSeriesName&&0===e.seriesIndex){for(var t=e.dygraph,n=t.getLabels().slice(1),o=n.length;o>=0;o--)t.visibility()[o]||n.splice(o,1);if(function(){for(var e=0;e<n.length;e++)if(t.getBooleanOption("fillGraph",n[e]))return!0;return!1}())for(var s,l,c=e.plotArea,d=e.allSeriesPoints,u=d.length,h=t.getBooleanOption("stackedGraph"),p=t.getColors(),f={},g=function(e,t,n,i){if(e.lineTo(t,n),h)for(var a=i.length-1;a>=0;a--){var r=i[a];e.lineTo(r[0],r[1])}},m=u-1;m>=0;m--){var v=e.drawingContext,_=n[m];if(t.getBooleanOption("fillGraph",_)){var b=t.getNumericOption("fillAlpha",_),y=t.getBooleanOption("stepPlot",_),w=p[m],x=t.axisPropertiesForSeries(_),C=1+x.minyval*x.yscale;C<0?C=0:C>1&&(C=1),C=c.h*C+c.y;var S,T=d[m],k=i.createIterator(T,0,T.length,r._getIteratorPredicate(t.getBooleanOption("connectSeparatedPoints",_))),A=NaN,P=[-1,-1],E=i.toRGB_(w),D="rgba("+E.r+","+E.g+","+E.b+","+b+")";v.fillStyle=D,v.beginPath();var O,M=!0;(T.length>2*t.width_||a.default.FORCE_FAST_PROXY)&&(v=r._fastCanvasProxy(v));for(var I,N=[];k.hasNext;)if(I=k.next(),i.isOK(I.y)||y){if(h){if(!M&&O==I.xval)continue;var L;M=!1,O=I.xval,L=void 0===(s=f[I.canvasx])?C:l?s[0]:s,S=[I.canvasy,L],y?-1===P[0]?f[I.canvasx]=[I.canvasy,C]:f[I.canvasx]=[I.canvasy,P[0]]:f[I.canvasx]=I.canvasy}else S=isNaN(I.canvasy)&&y?[c.y+c.h,C]:[I.canvasy,C];isNaN(A)?(v.moveTo(I.canvasx,S[1]),v.lineTo(I.canvasx,S[0])):(y?(v.lineTo(I.canvasx,P[0]),v.lineTo(I.canvasx,S[0])):v.lineTo(I.canvasx,S[0]),h&&(N.push([A,P[1]]),l&&s?N.push([I.canvasx,s[1]]):N.push([I.canvasx,S[1]]))),P=S,A=I.canvasx}else g(v,A,P[1],N),N=[],A=NaN,null===I.y_stacked||isNaN(I.y_stacked)||(f[I.canvasx]=c.h*I.y_stacked+c.y);l=y,S&&I&&(g(v,I.canvasx,S[1],N),N=[]),v.fill()}}}},n.default=r,t.exports=n.default},{"./dygraph":18,"./dygraph-utils":17}],10:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("./dygraph-tickers")),o=i(e("./dygraph-interaction-model")),s=i(e("./dygraph-canvas")),l=a(e("./dygraph-utils")),c={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,highlightSeriesBackgroundColor:"rgb(255, 255, 255)",labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:void 0,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelWidth:50,gridLineColor:"rgb(128,128,128)",interactionModel:o.default.defaultModel,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillGradientColor:"white",rangeSelectorPlotFillColor:"#A7B1C4",rangeSelectorBackgroundStrokeColor:"gray",rangeSelectorBackgroundLineWidth:1,rangeSelectorPlotLineWidth:1.5,rangeSelectorForegroundStrokeColor:"black",rangeSelectorForegroundLineWidth:1,rangeSelectorAlpha:.6,showInRangeSelector:null,plotter:[s.default._fillPlotter,s.default._errorPlotter,s.default._linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:l.dateAxisLabelFormatter,valueFormatter:l.dateValueFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:r.dateTicker},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:l.numberValueFormatter,axisLabelFormatter:l.numberAxisLabelFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:r.numericTicks},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:l.numberValueFormatter,axisLabelFormatter:l.numberAxisLabelFormatter,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:r.numericTicks}}};n.default=c,t.exports=n.default},{"./dygraph-canvas":9,"./dygraph-interaction-model":12,"./dygraph-tickers":16,"./dygraph-utils":17}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./dygraph")),a=function(e){this.container=e};a.prototype.draw=function(e,t){this.container.innerHTML="",void 0!==this.date_graph&&this.date_graph.destroy(),this.date_graph=new i.default(this.container,e,t)},a.prototype.setSelection=function(e){var t=!1;e.length&&(t=e[0].row),this.date_graph.setSelection(t)},a.prototype.getSelection=function(){var e=[],t=this.date_graph.getSelection();if(t<0)return e;for(var n=this.date_graph.layout_.points,i=0;i<n.length;++i)e.push({row:t,column:i+1});return e},n.default=a,t.exports=n.default},{"./dygraph":18}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./dygraph-utils")),a={maybeTreatMouseOpAsClick:function(e,t,n){n.dragEndX=i.dragGetX_(e,n),n.dragEndY=i.dragGetY_(e,n);var r=Math.abs(n.dragEndX-n.dragStartX),o=Math.abs(n.dragEndY-n.dragStartY);r<2&&o<2&&void 0!==t.lastx_&&-1!=t.lastx_&&a.treatMouseOpAsClick(t,e,n),n.regionWidth=r,n.regionHeight=o},startPan:function(e,t,n){var a,r;n.isPanning=!0;var o=t.xAxisRange();if(t.getOptionForAxis("logscale","x")?(n.initialLeftmostDate=i.log10(o[0]),n.dateRange=i.log10(o[1])-i.log10(o[0])):(n.initialLeftmostDate=o[0],n.dateRange=o[1]-o[0]),n.xUnitsPerPixel=n.dateRange/(t.plotter_.area.w-1),t.getNumericOption("panEdgeFraction")){var s=t.width_*t.getNumericOption("panEdgeFraction"),l=t.xAxisExtremes(),c=t.toDomXCoord(l[0])-s,d=t.toDomXCoord(l[1])+s,u=t.toDataXCoord(c),h=t.toDataXCoord(d);n.boundedDates=[u,h];var p=[],f=t.height_*t.getNumericOption("panEdgeFraction");for(a=0;a<t.axes_.length;a++){var g=(r=t.axes_[a]).extremeRange,m=t.toDomYCoord(g[0],a)+f,v=t.toDomYCoord(g[1],a)-f,_=t.toDataYCoord(m,a),b=t.toDataYCoord(v,a);p[a]=[_,b]}n.boundedValues=p}for(n.is2DPan=!1,n.axes=[],a=0;a<t.axes_.length;a++){r=t.axes_[a];var y={},w=t.yAxisRange(a);t.attributes_.getForAxis("logscale",a)?(y.initialTopValue=i.log10(w[1]),y.dragValueRange=i.log10(w[1])-i.log10(w[0])):(y.initialTopValue=w[1],y.dragValueRange=w[1]-w[0]),y.unitsPerPixel=y.dragValueRange/(t.plotter_.area.h-1),n.axes.push(y),r.valueRange&&(n.is2DPan=!0)}},movePan:function(e,t,n){n.dragEndX=i.dragGetX_(e,n),n.dragEndY=i.dragGetY_(e,n);var a=n.initialLeftmostDate-(n.dragEndX-n.dragStartX)*n.xUnitsPerPixel;n.boundedDates&&(a=Math.max(a,n.boundedDates[0]));var r=a+n.dateRange;if(n.boundedDates&&r>n.boundedDates[1]&&(r=(a-=r-n.boundedDates[1])+n.dateRange),t.getOptionForAxis("logscale","x")?t.dateWindow_=[Math.pow(i.LOG_SCALE,a),Math.pow(i.LOG_SCALE,r)]:t.dateWindow_=[a,r],n.is2DPan)for(var o=n.dragEndY-n.dragStartY,s=0;s<t.axes_.length;s++){var l=t.axes_[s],c=n.axes[s],d=o*c.unitsPerPixel,u=n.boundedValues?n.boundedValues[s]:null,h=c.initialTopValue+d;u&&(h=Math.min(h,u[1]));var p=h-c.dragValueRange;u&&p<u[0]&&(p=(h-=p-u[0])-c.dragValueRange),t.attributes_.getForAxis("logscale",s)?l.valueRange=[Math.pow(i.LOG_SCALE,p),Math.pow(i.LOG_SCALE,h)]:l.valueRange=[p,h]}t.drawGraph_(!1)}};a.endPan=a.maybeTreatMouseOpAsClick,a.startZoom=function(e,t,n){n.isZooming=!0,n.zoomMoved=!1},a.moveZoom=function(e,t,n){n.zoomMoved=!0,n.dragEndX=i.dragGetX_(e,n),n.dragEndY=i.dragGetY_(e,n);var a=Math.abs(n.dragStartX-n.dragEndX),r=Math.abs(n.dragStartY-n.dragEndY);n.dragDirection=a<r/2?i.VERTICAL:i.HORIZONTAL,t.drawZoomRect_(n.dragDirection,n.dragStartX,n.dragEndX,n.dragStartY,n.dragEndY,n.prevDragDirection,n.prevEndX,n.prevEndY),n.prevEndX=n.dragEndX,n.prevEndY=n.dragEndY,n.prevDragDirection=n.dragDirection},a.treatMouseOpAsClick=function(e,t,n){for(var i=e.getFunctionOption("clickCallback"),a=e.getFunctionOption("pointClickCallback"),r=null,o=-1,s=Number.MAX_VALUE,l=0;l<e.selPoints_.length;l++){var c=e.selPoints_[l],d=Math.pow(c.canvasx-n.dragEndX,2)+Math.pow(c.canvasy-n.dragEndY,2);!isNaN(d)&&(-1==o||d<s)&&(s=d,o=l)}var u=e.getNumericOption("highlightCircleSize")+2;if(s<=u*u&&(r=e.selPoints_[o]),r){var h={cancelable:!0,point:r,canvasx:n.dragEndX,canvasy:n.dragEndY};if(e.cascadeEvents_("pointClick",h))return;a&&a.call(e,t,r)}h={cancelable:!0,xval:e.lastx_,pts:e.selPoints_,canvasx:n.dragEndX,canvasy:n.dragEndY},e.cascadeEvents_("click",h)||i&&i.call(e,t,e.lastx_,e.selPoints_)},a.endZoom=function(e,t,n){t.clearZoomRect_(),n.isZooming=!1,a.maybeTreatMouseOpAsClick(e,t,n);var r=t.getArea();if(n.regionWidth>=10&&n.dragDirection==i.HORIZONTAL){var o=Math.min(n.dragStartX,n.dragEndX),s=Math.max(n.dragStartX,n.dragEndX);(o=Math.max(o,r.x))<(s=Math.min(s,r.x+r.w))&&t.doZoomX_(o,s),n.cancelNextDblclick=!0}else if(n.regionHeight>=10&&n.dragDirection==i.VERTICAL){var l=Math.min(n.dragStartY,n.dragEndY),c=Math.max(n.dragStartY,n.dragEndY);(l=Math.max(l,r.y))<(c=Math.min(c,r.y+r.h))&&t.doZoomY_(l,c),n.cancelNextDblclick=!0}n.dragStartX=null,n.dragStartY=null},a.startTouch=function(e,t,n){e.preventDefault(),e.touches.length>1&&(n.startTimeForDoubleTapMs=null);for(var i=[],a=0;a<e.touches.length;a++){var r=e.touches[a];i.push({pageX:r.pageX,pageY:r.pageY,dataX:t.toDataXCoord(r.pageX),dataY:t.toDataYCoord(r.pageY)})}if(n.initialTouches=i,1==i.length)n.initialPinchCenter=i[0],n.touchDirections={x:!0,y:!0};else if(i.length>=2){n.initialPinchCenter={pageX:.5*(i[0].pageX+i[1].pageX),pageY:.5*(i[0].pageY+i[1].pageY),dataX:.5*(i[0].dataX+i[1].dataX),dataY:.5*(i[0].dataY+i[1].dataY)};var o=180/Math.PI*Math.atan2(n.initialPinchCenter.pageY-i[0].pageY,i[0].pageX-n.initialPinchCenter.pageX);(o=Math.abs(o))>90&&(o=90-o),n.touchDirections={x:o<67.5,y:o>22.5}}n.initialRange={x:t.xAxisRange(),y:t.yAxisRange()}},a.moveTouch=function(e,t,n){n.startTimeForDoubleTapMs=null;var i,a=[];for(i=0;i<e.touches.length;i++){var r=e.touches[i];a.push({pageX:r.pageX,pageY:r.pageY})}var o,s,l,c=n.initialTouches,d=n.initialPinchCenter,u={pageX:(o=1==a.length?a[0]:{pageX:.5*(a[0].pageX+a[1].pageX),pageY:.5*(a[0].pageY+a[1].pageY)}).pageX-d.pageX,pageY:o.pageY-d.pageY},h=n.initialRange.x[1]-n.initialRange.x[0],p=n.initialRange.y[0]-n.initialRange.y[1];if(u.dataX=u.pageX/t.plotter_.area.w*h,u.dataY=u.pageY/t.plotter_.area.h*p,1==a.length)s=1,l=1;else if(a.length>=2){var f=c[1].pageX-d.pageX;s=(a[1].pageX-o.pageX)/f;var g=c[1].pageY-d.pageY;l=(a[1].pageY-o.pageY)/g}s=Math.min(8,Math.max(.125,s)),l=Math.min(8,Math.max(.125,l));var m=!1;if(n.touchDirections.x&&(t.dateWindow_=[d.dataX-u.dataX+(n.initialRange.x[0]-d.dataX)/s,d.dataX-u.dataX+(n.initialRange.x[1]-d.dataX)/s],m=!0),n.touchDirections.y)for(i=0;i<1;i++){var v=t.axes_[i];t.attributes_.getForAxis("logscale",i)||(v.valueRange=[d.dataY-u.dataY+(n.initialRange.y[0]-d.dataY)/l,d.dataY-u.dataY+(n.initialRange.y[1]-d.dataY)/l],m=!0)}if(t.drawGraph_(!1),m&&a.length>1&&t.getFunctionOption("zoomCallback")){var _=t.xAxisRange();t.getFunctionOption("zoomCallback").call(t,_[0],_[1],t.yAxisRanges())}},a.endTouch=function(e,t,n){if(0!==e.touches.length)a.startTouch(e,t,n);else if(1==e.changedTouches.length){var i=(new Date).getTime(),r=e.changedTouches[0];n.startTimeForDoubleTapMs&&i-n.startTimeForDoubleTapMs<500&&n.doubleTapX&&Math.abs(n.doubleTapX-r.screenX)<50&&n.doubleTapY&&Math.abs(n.doubleTapY-r.screenY)<50?t.resetZoom():(n.startTimeForDoubleTapMs=i,n.doubleTapX=r.screenX,n.doubleTapY=r.screenY)}};var r=function(e,t,n){return e<t?t-e:e>n?e-n:0},o=function(e,t){var n=i.findPos(t.canvas_),a={left:n.x,right:n.x+t.canvas_.offsetWidth,top:n.y,bottom:n.y+t.canvas_.offsetHeight},o={x:i.pageX(e),y:i.pageY(e)},s=r(o.x,a.left,a.right),l=r(o.y,a.top,a.bottom);return Math.max(s,l)};a.defaultModel={mousedown:function(e,t,n){if(!e.button||2!=e.button){n.initializeMouseDown(e,t,n),e.altKey||e.shiftKey?a.startPan(e,t,n):a.startZoom(e,t,n);var r=function(e){n.isZooming?o(e,t)<100?a.moveZoom(e,t,n):null!==n.dragEndX&&(n.dragEndX=null,n.dragEndY=null,t.clearZoomRect_()):n.isPanning&&a.movePan(e,t,n)};t.addAndTrackEvent(document,"mousemove",r),t.addAndTrackEvent(document,"mouseup",(function e(o){n.isZooming?null!==n.dragEndX?a.endZoom(o,t,n):a.maybeTreatMouseOpAsClick(o,t,n):n.isPanning&&a.endPan(o,t,n),i.removeEvent(document,"mousemove",r),i.removeEvent(document,"mouseup",e),n.destroy()}))}},willDestroyContextMyself:!0,touchstart:function(e,t,n){a.startTouch(e,t,n)},touchmove:function(e,t,n){a.moveTouch(e,t,n)},touchend:function(e,t,n){a.endTouch(e,t,n)},dblclick:function(e,t,n){if(n.cancelNextDblclick)n.cancelNextDblclick=!1;else{var i={canvasx:n.dragEndX,canvasy:n.dragEndY,cancelable:!0};t.cascadeEvents_("dblclick",i)||e.altKey||e.shiftKey||t.resetZoom()}}},a.nonInteractiveModel_={mousedown:function(e,t,n){n.initializeMouseDown(e,t,n)},mouseup:a.maybeTreatMouseOpAsClick},a.dragIsPanInteractionModel={mousedown:function(e,t,n){n.initializeMouseDown(e,t,n),a.startPan(e,t,n)},mousemove:function(e,t,n){n.isPanning&&a.movePan(e,t,n)},mouseup:function(e,t,n){n.isPanning&&a.endPan(e,t,n)}},n.default=a,t.exports=n.default},{"./dygraph-utils":17}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./dygraph-utils")),a=function(e){this.dygraph_=e,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};a.prototype.addDataset=function(e,t){this.points.push(t),this.setNames.push(e)},a.prototype.getPlotArea=function(){return this.area_},a.prototype.computePlotArea=function(){var e={x:0,y:0};e.w=this.dygraph_.width_-e.x-this.dygraph_.getOption("rightGap"),e.h=this.dygraph_.height_;var t={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(t){var n={x:e.x,y:e.y,w:t,h:e.h};return e.x+=t,e.w-=t,n},reserveSpaceRight:function(t){var n={x:e.x+e.w-t,y:e.y,w:t,h:e.h};return e.w-=t,n},reserveSpaceTop:function(t){var n={x:e.x,y:e.y,w:e.w,h:t};return e.y+=t,e.h-=t,n},reserveSpaceBottom:function(t){var n={x:e.x,y:e.y+e.h-t,w:e.w,h:t};return e.h-=t,n},chartRect:function(){return{x:e.x,y:e.y,w:e.w,h:e.h}}};this.dygraph_.cascadeEvents_("layout",t),this.area_=e},a.prototype.setAnnotations=function(e){this.annotations=[];for(var t=this.dygraph_.getOption("xValueParser")||function(e){return e},n=0;n<e.length;n++){var a={};if(!e[n].xval&&void 0===e[n].x)return void console.error("Annotations must have an 'x' property");if(e[n].icon&&(!e[n].hasOwnProperty("width")||!e[n].hasOwnProperty("height")))return void console.error("Must set width and height when setting annotation.icon property");i.update(a,e[n]),a.xval||(a.xval=t(a.x)),this.annotations.push(a)}},a.prototype.setXTicks=function(e){this.xTicks_=e},a.prototype.setYAxes=function(e){this.yAxes_=e},a.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()},a.prototype._evaluateLimits=function(){var e=this.dygraph_.xAxisRange();this._xAxis.minval=e[0],this._xAxis.maxval=e[1];var t=e[1]-e[0];this._xAxis.scale=0!==t?1/t:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=i.log10(this._xAxis.maxval)-i.log10(this._xAxis.minval),this._xAxis.xlogscale=0!==this._xAxis.xlogrange?1/this._xAxis.xlogrange:1);for(var n=0;n<this.yAxes_.length;n++){var a=this.yAxes_[n];a.minyval=a.computedValueRange[0],a.maxyval=a.computedValueRange[1],a.yrange=a.maxyval-a.minyval,a.yscale=0!==a.yrange?1/a.yrange:1,this.dygraph_.getOption("logscale")&&(a.ylogrange=i.log10(a.maxyval)-i.log10(a.minyval),a.ylogscale=0!==a.ylogrange?1/a.ylogrange:1,isFinite(a.ylogrange)&&!isNaN(a.ylogrange)||console.error("axis "+n+" of graph at "+a.g+" can't be displayed in log scale for range ["+a.minyval+" - "+a.maxyval+"]"))}},a.calcXNormal_=function(e,t,n){return n?(i.log10(e)-i.log10(t.minval))*t.xlogscale:(e-t.minval)*t.scale},a.calcYNormal_=function(e,t,n){if(n){var a=1-(i.log10(t)-i.log10(e.minyval))*e.ylogscale;return isFinite(a)?a:NaN}return 1-(t-e.minyval)*e.yscale},a.prototype._evaluateLineCharts=function(){for(var e=this.dygraph_.getOption("stackedGraph"),t=this.dygraph_.getOptionForAxis("logscale","x"),n=0;n<this.points.length;n++){for(var i=this.points[n],r=this.setNames[n],o=this.dygraph_.getOption("connectSeparatedPoints",r),s=this.dygraph_.axisPropertiesForSeries(r),l=this.dygraph_.attributes_.getForSeries("logscale",r),c=0;c<i.length;c++){var d=i[c];d.x=a.calcXNormal_(d.xval,this._xAxis,t);var u=d.yval;e&&(d.y_stacked=a.calcYNormal_(s,d.yval_stacked,l),null===u||isNaN(u)||(u=d.yval_stacked)),null===u&&(u=NaN,o||(d.yval=NaN)),d.y=a.calcYNormal_(s,u,l)}this.dygraph_.dataHandler_.onLineEvaluated(i,s,l)}},a.prototype._evaluateLineTicks=function(){var e,t,n,i,a,r;for(this.xticks=[],e=0;e<this.xTicks_.length;e++)n=(t=this.xTicks_[e]).label,a=(r=!("label_v"in t))?t.v:t.label_v,(i=this.dygraph_.toPercentXCoord(a))>=0&&i<1&&this.xticks.push({pos:i,label:n,has_tick:r});for(this.yticks=[],e=0;e<this.yAxes_.length;e++)for(var o=this.yAxes_[e],s=0;s<o.ticks.length;s++)n=(t=o.ticks[s]).label,a=(r=!("label_v"in t))?t.v:t.label_v,(i=this.dygraph_.toPercentYCoord(a,e))>0&&i<=1&&this.yticks.push({axis:e,pos:i,label:n,has_tick:r})},a.prototype._evaluateAnnotations=function(){var e,t={};for(e=0;e<this.annotations.length;e++){var n=this.annotations[e];t[n.xval+","+n.series]=n}if(this.annotated_points=[],this.annotations&&this.annotations.length)for(var i=0;i<this.points.length;i++){var a=this.points[i];for(e=0;e<a.length;e++){var r=a[e],o=r.xval+","+r.name;o in t&&(r.annotation=t[o],this.annotated_points.push(r))}}},a.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]},n.default=a,t.exports=n.default},{"./dygraph-utils":17}],14:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=null,t.exports=n.default}).call(this,e("_process"))},{_process:1}],15:[function(e,t,n){(function(i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./dygraph-utils")),o=a(e("./dygraph-default-attrs")),s=(a(e("./dygraph-options-reference")),function(e){this.dygraph_=e,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()});s.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1},s.axisToIndex_=function(e){if("string"==typeof e){if(s.AXIS_STRING_MAPPINGS_.hasOwnProperty(e))return s.AXIS_STRING_MAPPINGS_[e];throw"Unknown axis : "+e}if("number"==typeof e){if(0===e||1===e)return e;throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(e)throw"Unknown axis : "+e;return 0},s.prototype.reparseSeries=function(){var e=this.get("labels");if(e){this.labels_=e.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};for(var t=this.user_.series||{},n=0;n<this.labels_.length;n++){var i=this.labels_[n],a=t[i]||{},o=s.axisToIndex_(a.axis);this.series_[i]={idx:n,yAxis:o,options:a},this.yAxes_[o]?this.yAxes_[o].series.push(i):this.yAxes_[o]={series:[i],options:{}}}var l=this.user_.axes||{};r.update(this.yAxes_[0].options,l.y||{}),this.yAxes_.length>1&&r.update(this.yAxes_[1].options,l.y2||{}),r.update(this.xAxis_.options,l.x||{})}},s.prototype.get=function(e){var t=this.getGlobalUser_(e);return null!==t?t:this.getGlobalDefault_(e)},s.prototype.getGlobalUser_=function(e){return this.user_.hasOwnProperty(e)?this.user_[e]:null},s.prototype.getGlobalDefault_=function(e){return this.global_.hasOwnProperty(e)?this.global_[e]:o.default.hasOwnProperty(e)?o.default[e]:null},s.prototype.getForAxis=function(e,t){var n,i;if("number"==typeof t)i=0===(n=t)?"y":"y2";else{if("y1"==t&&(t="y"),"y"==t)n=0;else if("y2"==t)n=1;else{if("x"!=t)throw"Unknown axis "+t;n=-1}i=t}var a=-1==n?this.xAxis_:this.yAxes_[n];if(a){var r=a.options;if(r.hasOwnProperty(e))return r[e]}if("x"!==t||"logscale"!==e){var s=this.getGlobalUser_(e);if(null!==s)return s}var l=o.default.axes[i];return l.hasOwnProperty(e)?l[e]:this.getGlobalDefault_(e)},s.prototype.getForSeries=function(e,t){if(t===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(e))return this.highlightSeries_[e];if(!this.series_.hasOwnProperty(t))throw"Unknown series: "+t;var n=this.series_[t],i=n.options;return i.hasOwnProperty(e)?i[e]:this.getForAxis(e,n.yAxis)},s.prototype.numAxes=function(){return this.yAxes_.length},s.prototype.axisForSeries=function(e){return this.series_[e].yAxis},s.prototype.axisOptions=function(e){return this.yAxes_[e].options},s.prototype.seriesForAxis=function(e){return this.yAxes_[e].series},s.prototype.seriesNames=function(){return this.labels_},n.default=s,t.exports=n.default}).call(this,e("_process"))},{"./dygraph-default-attrs":10,"./dygraph-options-reference":14,"./dygraph-utils":17,_process:1}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./dygraph-utils"));n.numericLinearTicks=function(e,t,n,i,r,o){return a(e,t,n,(function(e){return"logscale"!==e&&i(e)}),r,o)};var a=function(e,t,n,a,r,o){var s,l,c,d,u=a("pixelsPerLabel"),h=[];if(o)for(s=0;s<o.length;s++)h.push({v:o[s]});else{if(a("logscale")){d=Math.floor(n/u);var p=i.binarySearch(e,g,1),f=i.binarySearch(t,g,-1);-1==p&&(p=0),-1==f&&(f=g.length-1);var m=null;if(f-p>=d/4){for(var v=f;v>=p;v--){var _=g[v],b=Math.log(_/e)/Math.log(t/e)*n,y={v:_};null===m||Math.abs(b-m.pixel_coord)>=u?m={tickValue:_,pixel_coord:b}:y.label="",h.push(y)}h.reverse()}}if(0===h.length){var w,x;a("labelsKMG2")?(w=[1,2,4,8,16,32,64,128,256],x=16):(w=[1,2,5,10,20,50,100],x=10);var C,S,T,k=Math.ceil(n/u),A=Math.abs(t-e)/k,P=Math.floor(Math.log(A)/Math.log(x)),E=Math.pow(x,P);for(l=0;l<w.length&&(C=E*w[l],S=Math.floor(e/C)*C,T=Math.ceil(t/C)*C,!(n/(d=Math.abs(T-S)/C)>u));l++);for(S>T&&(C*=-1),s=0;s<=d;s++)c=S+s*C,h.push({v:c})}}var D=a("axisLabelFormatter");for(s=0;s<h.length;s++)void 0===h[s].label&&(h[s].label=D.call(r,h[s].v,0,a,r));return h};n.numericTicks=a,n.dateTicker=function(e,t,n,i,a,r){var o=m(e,t,n,i);return o>=0?_(e,t,o,i,a):[]};var r={MILLISECONDLY:0,TWO_MILLISECONDLY:1,FIVE_MILLISECONDLY:2,TEN_MILLISECONDLY:3,FIFTY_MILLISECONDLY:4,HUNDRED_MILLISECONDLY:5,FIVE_HUNDRED_MILLISECONDLY:6,SECONDLY:7,TWO_SECONDLY:8,FIVE_SECONDLY:9,TEN_SECONDLY:10,THIRTY_SECONDLY:11,MINUTELY:12,TWO_MINUTELY:13,FIVE_MINUTELY:14,TEN_MINUTELY:15,THIRTY_MINUTELY:16,HOURLY:17,TWO_HOURLY:18,SIX_HOURLY:19,DAILY:20,TWO_DAILY:21,WEEKLY:22,MONTHLY:23,QUARTERLY:24,BIANNUAL:25,ANNUAL:26,DECADAL:27,CENTENNIAL:28,NUM_GRANULARITIES:29};n.Granularity=r;var o=0,s=1,l=2,c=3,d=4,u=5,h=6,p=7,f=[];f[r.MILLISECONDLY]={datefield:h,step:1,spacing:1},f[r.TWO_MILLISECONDLY]={datefield:h,step:2,spacing:2},f[r.FIVE_MILLISECONDLY]={datefield:h,step:5,spacing:5},f[r.TEN_MILLISECONDLY]={datefield:h,step:10,spacing:10},f[r.FIFTY_MILLISECONDLY]={datefield:h,step:50,spacing:50},f[r.HUNDRED_MILLISECONDLY]={datefield:h,step:100,spacing:100},f[r.FIVE_HUNDRED_MILLISECONDLY]={datefield:h,step:500,spacing:500},f[r.SECONDLY]={datefield:u,step:1,spacing:1e3},f[r.TWO_SECONDLY]={datefield:u,step:2,spacing:2e3},f[r.FIVE_SECONDLY]={datefield:u,step:5,spacing:5e3},f[r.TEN_SECONDLY]={datefield:u,step:10,spacing:1e4},f[r.THIRTY_SECONDLY]={datefield:u,step:30,spacing:3e4},f[r.MINUTELY]={datefield:d,step:1,spacing:6e4},f[r.TWO_MINUTELY]={datefield:d,step:2,spacing:12e4},f[r.FIVE_MINUTELY]={datefield:d,step:5,spacing:3e5},f[r.TEN_MINUTELY]={datefield:d,step:10,spacing:6e5},f[r.THIRTY_MINUTELY]={datefield:d,step:30,spacing:18e5},f[r.HOURLY]={datefield:c,step:1,spacing:36e5},f[r.TWO_HOURLY]={datefield:c,step:2,spacing:72e5},f[r.SIX_HOURLY]={datefield:c,step:6,spacing:216e5},f[r.DAILY]={datefield:l,step:1,spacing:864e5},f[r.TWO_DAILY]={datefield:l,step:2,spacing:1728e5},f[r.WEEKLY]={datefield:l,step:7,spacing:6048e5},f[r.MONTHLY]={datefield:s,step:1,spacing:2629817280},f[r.QUARTERLY]={datefield:s,step:3,spacing:7889451840.000001},f[r.BIANNUAL]={datefield:s,step:6,spacing:432e5*365.2524},f[r.ANNUAL]={datefield:o,step:1,spacing:864e5*365.2524},f[r.DECADAL]={datefield:o,step:10,spacing:315578073600},f[r.CENTENNIAL]={datefield:o,step:100,spacing:3155780736e3};var g=function(){for(var e=[],t=-39;t<=39;t++)for(var n=Math.pow(10,t),i=1;i<=9;i++){var a=n*i;e.push(a)}return e}(),m=function(e,t,n,i){for(var a=i("pixelsPerLabel"),o=0;o<r.NUM_GRANULARITIES;o++)if(n/v(e,t,o)>=a)return o;return-1},v=function(e,t,n){var i=f[n].spacing;return Math.round(1*(t-e)/i)},_=function(e,t,n,a,g){var m=a("axisLabelFormatter"),v=a("labelsUTC")?i.DateAccessorsUTC:i.DateAccessorsLocal,_=f[n].datefield,b=f[n].step,y=f[n].spacing,w=new Date(e),x=[];x[o]=v.getFullYear(w),x[s]=v.getMonth(w),x[l]=v.getDate(w),x[c]=v.getHours(w),x[d]=v.getMinutes(w),x[u]=v.getSeconds(w),x[h]=v.getMilliseconds(w);var C=x[_]%b;n==r.WEEKLY&&(C=v.getDay(w)),x[_]-=C;for(var S=_+1;S<p;S++)x[S]=S===l?1:0;var T=[],k=v.makeDate.apply(null,x),A=k.getTime();if(n<=r.HOURLY)for(A<e&&(A+=y,k=new Date(A));A<=t;)T.push({v:A,label:m.call(g,k,n,a,g)}),A+=y,k=new Date(A);else for(A<e&&(x[_]+=b,A=(k=v.makeDate.apply(null,x)).getTime());A<=t;)(n>=r.DAILY||v.getHours(k)%b==0)&&T.push({v:A,label:m.call(g,k,n,a,g)}),x[_]+=b,A=(k=v.makeDate.apply(null,x)).getTime();return T};n.getDateAxis=_},{"./dygraph-utils":17}],17:[function(e,t,n){"use strict";function i(e){return!e.pageX||e.pageX<0?0:e.pageX}function a(e){return!e.pageY||e.pageY<0?0:e.pageY}function r(e,t){var n=Math.min(Math.max(1,t||2),21);return Math.abs(e)<.001&&0!==e?e.toExponential(n-1):e.toPrecision(n)}function o(e){return e<10?"0"+e:""+e}function s(e,t,n,i){var a=o(e)+":"+o(t);if(n&&(a+=":"+o(n),i)){var r=""+i;a+="."+("000"+r).substring(r.length)}return a}function l(e,t){var n=t?y:b,i=new Date(e),a=n.getFullYear(i),r=n.getMonth(i),l=n.getDate(i),c=n.getHours(i),d=n.getMinutes(i),u=n.getSeconds(i),h=n.getMilliseconds(i),p=a+"/"+o(r+1)+"/"+o(l);return 3600*c+60*d+u+.001*h&&(p+=" "+s(c,d,u,h)),p}function c(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function d(e){return new Date(e).getTime()}function u(e){var t=typeof e;return("object"==t||"function"==t&&"function"==typeof e.item)&&null!==e&&"number"==typeof e.length&&3!==e.nodeType}function h(e,t,n,i){t=t||0,n=n||e.length,this.hasNext=!0,this.peek=null,this.start_=t,this.array_=e,this.predicate_=i,this.end_=Math.min(e.length,t+n),this.nextIdx_=t-1,this.next()}function p(e,t){return t<0?1/Math.pow(e,-t):Math.pow(e,t)}function f(e){var t=S.exec(e);if(!t)return null;var n=parseInt(t[1],10),i=parseInt(t[2],10),a=parseInt(t[3],10);return t[4]?{r:n,g:i,b:a,a:parseFloat(t[4])}:{r:n,g:i,b:a}}function g(e,t){var n=t("sigFigs");if(null!==n)return r(e,n);var i,a=t("digitsAfterDecimal"),o=t("maxNumberWidth"),s=t("labelsKMB"),l=t("labelsKMG2");if(i=0!==e&&(Math.abs(e)>=Math.pow(10,o)||Math.abs(e)<Math.pow(10,-a))?e.toExponential(a):""+c(e,a),s||l){var d,u=[],h=[];s&&(d=1e3,u=T),l&&(s&&console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),d=1024,u=k,h=A);for(var f=Math.abs(e),g=p(d,u.length),m=u.length-1;m>=0;m--,g/=d)if(f>=g){i=c(e/g,a)+u[m];break}if(l){var v=String(e.toExponential()).split("e-");2===v.length&&v[1]>=3&&v[1]<=24&&(i=v[1]%3>0?c(v[0]/p(10,v[1]%3),a):Number(v[0]).toFixed(2),i+=h[Math.floor(v[1]/3)-1])}}return i}Object.defineProperty(n,"__esModule",{value:!0}),n.removeEvent=function(e,t,n){e.removeEventListener(t,n,!1)},n.cancelEvent=function(e){return(e=e||window.event).stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1},n.hsvToRGB=function(e,t,n){var i,a,r;if(0===t)i=n,a=n,r=n;else{var o=Math.floor(6*e),s=6*e-o,l=n*(1-t),c=n*(1-t*s),d=n*(1-t*(1-s));switch(o){case 1:i=c,a=n,r=l;break;case 2:i=l,a=n,r=d;break;case 3:i=l,a=c,r=n;break;case 4:i=d,a=l,r=n;break;case 5:i=n,a=l,r=c;break;case 6:case 0:i=n,a=d,r=l}}return"rgb("+(i=Math.floor(255*i+.5))+","+(a=Math.floor(255*a+.5))+","+(r=Math.floor(255*r+.5))+")"},n.findPos=function(e){var t=e.getBoundingClientRect(),n=window,i=document.documentElement;return{x:t.left+(n.pageXOffset||i.scrollLeft),y:t.top+(n.pageYOffset||i.scrollTop)}},n.pageX=i,n.pageY=a,n.dragGetX_=function(e,t){return i(e)-t.px},n.dragGetY_=function(e,t){return a(e)-t.py},n.isOK=function(e){return!!e&&!isNaN(e)},n.isValidPoint=function(e,t){return!!e&&null!==e.yval&&null!==e.x&&void 0!==e.x&&null!==e.y&&void 0!==e.y&&!(isNaN(e.x)||!t&&isNaN(e.y))},n.floatFormat=r,n.zeropad=o,n.hmsString_=s,n.dateString_=l,n.round_=c,n.binarySearch=function(e,t,n,i,a){for(var r=!0;r;){var o=e,s=t,l=n,c=i,d=a;if(r=!1,null!==c&&void 0!==c&&null!==d&&void 0!==d||(c=0,d=s.length-1),c>d)return-1;null!==l&&void 0!==l||(l=0);var u,h=function(e){return e>=0&&e<s.length},p=parseInt((c+d)/2,10),f=s[p];if(f==o)return p;if(f>o){if(l>0&&h(u=p-1)&&s[u]<o)return p;e=o,t=s,n=l,i=c,a=p-1,r=!0,h=p=f=u=void 0}else{if(!(f<o))return-1;if(l<0&&h(u=p+1)&&s[u]>o)return p;e=o,t=s,n=l,i=p+1,a=d,r=!0,h=p=f=u=void 0}}},n.dateParser=function(e){var t,n;if((-1==e.search("-")||-1!=e.search("T")||-1!=e.search("Z"))&&(n=d(e))&&!isNaN(n))return n;if(-1!=e.search("-")){for(t=e.replace("-","/","g");-1!=t.search("-");)t=t.replace("-","/");n=d(t)}else n=8==e.length?d(t=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2)):d(e);return n&&!isNaN(n)||console.error("Couldn't parse "+e+" as a date"),n},n.dateStrToMillis=d,n.update=function(e,t){if(void 0!==t&&null!==t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},n.updateDeep=function e(t,n){if(void 0!==n&&null!==n)for(var i in n)n.hasOwnProperty(i)&&(null===n[i]?t[i]=null:u(n[i])?t[i]=n[i].slice():function(e){return"object"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}(n[i])||"object"!=typeof n[i]?t[i]=n[i]:("object"==typeof t[i]&&null!==t[i]||(t[i]={}),e(t[i],n[i])));return t},n.isArrayLike=u,n.isDateLike=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.getTime},n.clone=function e(t){for(var n=[],i=0;i<t.length;i++)u(t[i])?n.push(e(t[i])):n.push(t[i]);return n},n.createCanvas=function(){return document.createElement("canvas")},n.getContextPixelRatio=function(e){try{var t=window.devicePixelRatio,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return void 0!==t?t/n:1}catch(e){return 1}},n.Iterator=h,n.createIterator=function(e,t,n,i){return new h(e,t,n,i)},n.repeatAndCleanup=function(e,t,n,i){var a,r=0,o=(new Date).getTime();if(e(r),1!=t){var s=t-1;!function l(){r>=t||w.call(window,(function(){var t=(new Date).getTime()-o;a=r;var c=(r=Math.floor(t/n))-a;r+c>s||r>=s?(e(s),i()):(0!==c&&e(r),l())}))}()}else i()},n.isPixelChangingOptionList=function(e,t){var n={};if(e)for(var i=1;i<e.length;i++)n[e[i]]=!0;var a=function(e){for(var t in e)if(e.hasOwnProperty(t)&&!x[t])return!0;return!1};for(var r in t)if(t.hasOwnProperty(r))if("highlightSeriesOpts"==r||n[r]&&!t.series){if(a(t[r]))return!0}else if("series"==r||"axes"==r){var o=t[r];for(var s in o)if(o.hasOwnProperty(s)&&a(o[s]))return!0}else if(!x[r])return!0;return!1},n.detectLineDelimiter=function(e){for(var t=0;t<e.length;t++){var n=e.charAt(t);if("\r"===n)return t+1<e.length&&"\n"===e.charAt(t+1)?"\r\n":n;if("\n"===n)return t+1<e.length&&"\r"===e.charAt(t+1)?"\n\r":n}return null},n.isNodeContainedBy=function(e,t){if(null===t||null===e)return!1;for(var n=e;n&&n!==t;)n=n.parentNode;return n===t},n.pow=p,n.toRGB_=function(e){var t=f(e);if(t)return t;var n=document.createElement("div");n.style.backgroundColor=e,n.style.visibility="hidden",document.body.appendChild(n);var i=window.getComputedStyle(n,null).backgroundColor;return document.body.removeChild(n),f(i)},n.isCanvasSupported=function(e){try{(e||document.createElement("canvas")).getContext("2d")}catch(e){return!1}return!0},n.parseFloat_=function(e,t,n){var i=parseFloat(e);if(!isNaN(i))return i;if(/^ *$/.test(e))return null;if(/^ *nan *$/i.test(e))return NaN;var a="Unable to parse '"+e+"' as a number";return void 0!==n&&void 0!==t&&(a+=" on line "+(1+(t||0))+" ('"+n+"') of CSV."),console.error(a),null},n.numberValueFormatter=g,n.numberAxisLabelFormatter=function(e,t,n){return g.call(this,e,n)},n.dateAxisLabelFormatter=function(e,t,n){var i=n("labelsUTC")?y:b,a=i.getFullYear(e),r=i.getMonth(e),l=i.getDate(e),c=i.getHours(e),d=i.getMinutes(e),u=i.getSeconds(e),h=i.getMilliseconds(e);if(t>=m.Granularity.DECADAL)return""+a;if(t>=m.Granularity.MONTHLY)return P[r]+"&#160;"+a;if(0===3600*c+60*d+u+.001*h||t>=m.Granularity.DAILY)return o(l)+"&#160;"+P[r];if(t<m.Granularity.SECONDLY){var p=""+h;return o(u)+"."+("000"+p).substring(p.length)}return t>m.Granularity.MINUTELY?s(c,d,u,0):s(c,d,u,h)},n.dateValueFormatter=function(e,t){return l(e,t("labelsUTC"))};var m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./dygraph-tickers"));n.LOG_SCALE=10;var v=Math.log(10);n.LN_TEN=v;var _=function(e){return Math.log(e)/v};n.log10=_,n.logRangeFraction=function(e,t,n){var i=_(e),a=i+n*(_(t)-i);return Math.pow(10,a)},n.DOTTED_LINE=[2,2],n.DASHED_LINE=[7,3],n.DOT_DASH_LINE=[7,2,2,2],n.HORIZONTAL=1,n.VERTICAL=2,n.getContext=function(e){return e.getContext("2d")},n.addEvent=function(e,t,n){e.addEventListener(t,n,!1)};var b={getFullYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDate:function(e){return e.getDate()},getHours:function(e){return e.getHours()},getMinutes:function(e){return e.getMinutes()},getSeconds:function(e){return e.getSeconds()},getMilliseconds:function(e){return e.getMilliseconds()},getDay:function(e){return e.getDay()},makeDate:function(e,t,n,i,a,r,o){return new Date(e,t,n,i,a,r,o)}};n.DateAccessorsLocal=b;var y={getFullYear:function(e){return e.getUTCFullYear()},getMonth:function(e){return e.getUTCMonth()},getDate:function(e){return e.getUTCDate()},getHours:function(e){return e.getUTCHours()},getMinutes:function(e){return e.getUTCMinutes()},getSeconds:function(e){return e.getUTCSeconds()},getMilliseconds:function(e){return e.getUTCMilliseconds()},getDay:function(e){return e.getUTCDay()},makeDate:function(e,t,n,i,a,r,o){return new Date(Date.UTC(e,t,n,i,a,r,o))}};n.DateAccessorsUTC=y,h.prototype.next=function(){if(!this.hasNext)return null;for(var e=this.peek,t=this.nextIdx_+1,n=!1;t<this.end_;){if(!this.predicate_||this.predicate_(this.array_,t)){this.peek=this.array_[t],n=!0;break}t++}return this.nextIdx_=t,n||(this.hasNext=!1,this.peek=null),e};var w=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};n.requestAnimFrame=w;var x={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,labelsDiv:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotFillGradientColor:!0,rangeSelectorPlotStrokeColor:!0,rangeSelectorBackgroundStrokeColor:!0,rangeSelectorBackgroundLineWidth:!0,rangeSelectorPlotLineWidth:!0,rangeSelectorForegroundStrokeColor:!0,rangeSelectorForegroundLineWidth:!0,rangeSelectorAlpha:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0},C={DEFAULT:function(e,t,n,i,a,r,o){n.beginPath(),n.fillStyle=r,n.arc(i,a,o,0,2*Math.PI,!1),n.fill()}};n.Circles=C;var S=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/,T=["K","M","B","T","Q"],k=["k","M","G","T","P","E","Z","Y"],A=["m","u","n","p","f","a","z","y"],P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},{"./dygraph-tickers":16}],18:[function(e,t,n){(function(i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=r(e("./dygraph-layout")),l=r(e("./dygraph-canvas")),c=r(e("./dygraph-options")),d=r(e("./dygraph-interaction-model")),u=a(e("./dygraph-tickers")),h=a(e("./dygraph-utils")),p=r(e("./dygraph-default-attrs")),f=(r(e("./dygraph-options-reference")),e("./iframe-tarp")),g=r(f),m=r(e("./datahandler/default")),v=r(e("./datahandler/bars-error")),_=r(e("./datahandler/bars-custom")),b=r(e("./datahandler/default-fractions")),y=r(e("./datahandler/bars-fractions")),w=r(e("./datahandler/bars")),x=r(e("./plugins/annotations")),C=r(e("./plugins/axes")),S=r(e("./plugins/chart-labels")),T=r(e("./plugins/grid")),k=r(e("./plugins/legend")),A=r(e("./plugins/range-selector")),P=r(e("./dygraph-gviz")),E=function(e,t,n){this.__init__(e,t,n)};E.NAME="Dygraph",E.VERSION="2.1.0",E.DEFAULT_ROLL_PERIOD=1,E.DEFAULT_WIDTH=480,E.DEFAULT_HEIGHT=320,E.ANIMATION_STEPS=12,E.ANIMATION_DURATION=200,E.Plotters=l.default._Plotters,E.addedAnnotationCSS=!1,E.prototype.__init__=function(e,t,n){if(this.is_initial_draw_=!0,this.readyFns_=[],null!==n&&void 0!==n||(n={}),n=E.copyUserAttrs_(n),"string"==typeof e&&(e=document.getElementById(e)),!e)throw new Error("Constructing dygraph with a non-existent div!");this.maindiv_=e,this.file_=t,this.rollPeriod_=n.rollPeriod||E.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=n.fractions||!1,this.dateWindow_=n.dateWindow||null,this.annotations_=[],e.innerHTML="",""===e.style.width&&n.width&&(e.style.width=n.width+"px"),""===e.style.height&&n.height&&(e.style.height=n.height+"px"),""===e.style.height&&0===e.clientHeight&&(e.style.height=E.DEFAULT_HEIGHT+"px",""===e.style.width&&(e.style.width=E.DEFAULT_WIDTH+"px")),this.width_=e.clientWidth||n.width||0,this.height_=e.clientHeight||n.height||0,n.stackedGraph&&(n.fillGraph=!0),this.user_attrs_={},h.update(this.user_attrs_,n),this.attrs_={},h.updateDeep(this.attrs_,p.default),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new c.default(this),this.createInterface_(),this.plugins_=[];for(var i=E.PLUGINS.concat(this.getOption("plugins")),a=0;a<i.length;a++){var r,o=i[a],s={plugin:r=void 0!==o.activate?o:new o,events:{},options:{},pluginOptions:{}},l=r.activate(this);for(var d in l)l.hasOwnProperty(d)&&(s.events[d]=l[d]);this.plugins_.push(s)}for(a=0;a<this.plugins_.length;a++){var u=this.plugins_[a];for(var d in u.events)if(u.events.hasOwnProperty(d)){var f=u.events[d],g=[u.plugin,f];d in this.eventListeners_?this.eventListeners_[d].push(g):this.eventListeners_[d]=[g]}}this.createDragInterface_(),this.start_()},E.prototype.cascadeEvents_=function(e,t){if(!(e in this.eventListeners_))return!1;var n={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!n.cancelable)throw"Cannot call preventDefault on non-cancelable event.";n.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){n.propagationStopped=!0}};h.update(n,t);var i=this.eventListeners_[e];if(i)for(var a=i.length-1;a>=0;a--){var r=i[a][0];if(i[a][1].call(r,n),n.propagationStopped)break}return n.defaultPrevented},E.prototype.getPluginInstance_=function(e){for(var t=0;t<this.plugins_.length;t++){var n=this.plugins_[t];if(n.plugin instanceof e)return n.plugin}return null},E.prototype.isZoomed=function(e){var t=!!this.dateWindow_;if("x"===e)return t;var n=this.axes_.map((function(e){return!!e.valueRange})).indexOf(!0)>=0;if(null===e||void 0===e)return t||n;if("y"===e)return n;throw new Error("axis parameter is ["+e+"] must be null, 'x' or 'y'.")},E.prototype.toString=function(){var e=this.maindiv_;return"[Dygraph "+(e&&e.id?e.id:e)+"]"},E.prototype.attr_=function(e,t){return t?this.attributes_.getForSeries(e,t):this.attributes_.get(e)},E.prototype.getOption=function(e,t){return this.attr_(e,t)},E.prototype.getNumericOption=function(e,t){return this.getOption(e,t)},E.prototype.getStringOption=function(e,t){return this.getOption(e,t)},E.prototype.getBooleanOption=function(e,t){return this.getOption(e,t)},E.prototype.getFunctionOption=function(e,t){return this.getOption(e,t)},E.prototype.getOptionForAxis=function(e,t){return this.attributes_.getForAxis(e,t)},E.prototype.optionsViewForAxis_=function(e){var t=this;return function(n){var i=t.user_attrs_.axes;return i&&i[e]&&i[e].hasOwnProperty(n)?i[e][n]:("x"!==e||"logscale"!==n)&&(void 0!==t.user_attrs_[n]?t.user_attrs_[n]:(i=t.attrs_.axes)&&i[e]&&i[e].hasOwnProperty(n)?i[e][n]:"y"==e&&t.axes_[0].hasOwnProperty(n)?t.axes_[0][n]:"y2"==e&&t.axes_[1].hasOwnProperty(n)?t.axes_[1][n]:t.attr_(n))}},E.prototype.rollPeriod=function(){return this.rollPeriod_},E.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()},E.prototype.xAxisExtremes=function(){var e=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(0===this.numRows())return[0-e,1+e];var t=this.rawData_[0][0],n=this.rawData_[this.rawData_.length-1][0];if(e){var i=n-t;t-=i*e,n+=i*e}return[t,n]},E.prototype.yAxisExtremes=function(){var e=this.gatherDatasets_(this.rolledSeries_,null).extremes,t=this.axes_;this.computeYAxisRanges_(e);var n=this.axes_;return this.axes_=t,n.map((function(e){return e.extremeRange}))},E.prototype.yAxisRange=function(e){if(void 0===e&&(e=0),e<0||e>=this.axes_.length)return null;var t=this.axes_[e];return[t.computedValueRange[0],t.computedValueRange[1]]},E.prototype.yAxisRanges=function(){for(var e=[],t=0;t<this.axes_.length;t++)e.push(this.yAxisRange(t));return e},E.prototype.toDomCoords=function(e,t,n){return[this.toDomXCoord(e),this.toDomYCoord(t,n)]},E.prototype.toDomXCoord=function(e){if(null===e)return null;var t=this.plotter_.area,n=this.xAxisRange();return t.x+(e-n[0])/(n[1]-n[0])*t.w},E.prototype.toDomYCoord=function(e,t){var n=this.toPercentYCoord(e,t);if(null===n)return null;var i=this.plotter_.area;return i.y+n*i.h},E.prototype.toDataCoords=function(e,t,n){return[this.toDataXCoord(e),this.toDataYCoord(t,n)]},E.prototype.toDataXCoord=function(e){if(null===e)return null;var t=this.plotter_.area,n=this.xAxisRange();if(this.attributes_.getForAxis("logscale","x")){var i=(e-t.x)/t.w;return h.logRangeFraction(n[0],n[1],i)}return n[0]+(e-t.x)/t.w*(n[1]-n[0])},E.prototype.toDataYCoord=function(e,t){if(null===e)return null;var n=this.plotter_.area,i=this.yAxisRange(t);if(void 0===t&&(t=0),this.attributes_.getForAxis("logscale",t)){var a=(e-n.y)/n.h;return h.logRangeFraction(i[1],i[0],a)}return i[0]+(n.y+n.h-e)/n.h*(i[1]-i[0])},E.prototype.toPercentYCoord=function(e,t){if(null===e)return null;void 0===t&&(t=0);var n,i=this.yAxisRange(t);if(this.attributes_.getForAxis("logscale",t)){var a=h.log10(i[0]),r=h.log10(i[1]);n=(r-h.log10(e))/(r-a)}else n=(i[1]-e)/(i[1]-i[0]);return n},E.prototype.toPercentXCoord=function(e){if(null===e)return null;var t,n=this.xAxisRange();if(!0===this.attributes_.getForAxis("logscale","x")){var i=h.log10(n[0]),a=h.log10(n[1]);t=(h.log10(e)-i)/(a-i)}else t=(e-n[0])/(n[1]-n[0]);return t},E.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0},E.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0},E.prototype.getValue=function(e,t){return e<0||e>this.rawData_.length||t<0||t>this.rawData_[e].length?null:this.rawData_[e][t]},E.prototype.createInterface_=function(){var e=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",e.appendChild(this.graphDiv),this.canvas_=h.createCanvas(),this.canvas_.style.position="absolute",this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=h.getContext(this.canvas_),this.hidden_ctx_=h.getContext(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new s.default(this);var t=this;this.mouseMoveHandler_=function(e){t.mouseMove_(e)},this.mouseOutHandler_=function(e){var n=e.target||e.fromElement,i=e.relatedTarget||e.toElement;h.isNodeContainedBy(n,t.graphDiv)&&!h.isNodeContainedBy(i,t.graphDiv)&&t.mouseOut_(e)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeHandler_||(this.resizeHandler_=function(e){t.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_))},E.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var e=this.getNumericOption("pixelRatio"),t=e||h.getContextPixelRatio(this.canvas_ctx_);this.canvas_.width=this.width_*t,this.canvas_.height=this.height_*t,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",1!==t&&this.canvas_ctx_.scale(t,t);var n=e||h.getContextPixelRatio(this.hidden_ctx_);this.hidden_.width=this.width_*n,this.hidden_.height=this.height_*n,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",1!==n&&this.hidden_ctx_.scale(n,n)},E.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var e=this.plugins_.length-1;e>=0;e--){var t=this.plugins_.pop();t.plugin.destroy&&t.plugin.destroy()}this.removeTrackedEvents_(),h.removeEvent(window,"mouseout",this.mouseOutHandler_),h.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),h.removeEvent(window,"resize",this.resizeHandler_),this.resizeHandler_=null,function e(t){for(;t.hasChildNodes();)e(t.firstChild),t.removeChild(t.firstChild)}(this.maindiv_);var n=function(e){for(var t in e)"object"==typeof e[t]&&(e[t]=null)};n(this.layout_),n(this.plotter_),n(this)},E.prototype.createPlotKitCanvas_=function(e){var t=h.createCanvas();return t.style.position="absolute",t.style.top=e.style.top,t.style.left=e.style.left,t.width=this.width_,t.height=this.height_,t.style.width=this.width_+"px",t.style.height=this.height_+"px",t},E.prototype.createMouseEventElement_=function(){return this.canvas_},E.prototype.setColors_=function(){var e=this.getLabels(),t=e.length-1;this.colors_=[],this.colorsMap_={};for(var n=this.getNumericOption("colorSaturation")||1,i=this.getNumericOption("colorValue")||.5,a=Math.ceil(t/2),r=this.getOption("colors"),o=this.visibility(),s=0;s<t;s++)if(o[s]){var l=e[s+1],c=this.attributes_.getForSeries("color",l);if(!c)if(r)c=r[s%r.length];else{var d=1*(s%2?a+(s+1)/2:Math.ceil((s+1)/2))/(1+t);c=h.hsvToRGB(d,n,i)}this.colors_.push(c),this.colorsMap_[l]=c}},E.prototype.getColors=function(){return this.colors_},E.prototype.getPropertiesForSeries=function(e){for(var t=-1,n=this.getLabels(),i=1;i<n.length;i++)if(n[i]==e){t=i;break}return-1==t?null:{name:e,column:t,visible:this.visibility()[t-1],color:this.colorsMap_[e],axis:1+this.attributes_.axisForSeries(e)}},E.prototype.createRollInterface_=function(){var e=this,t=this.roller_;t||(this.roller_=t=document.createElement("input"),t.type="text",t.style.display="none",t.className="dygraph-roller",this.graphDiv.appendChild(t));var n=this.getBooleanOption("showRoller")?"block":"none",i=this.getArea(),a={top:i.y+i.h-25+"px",left:i.x+1+"px",display:n};t.size="2",t.value=this.rollPeriod_,h.update(t.style,a),t.onchange=function(){return e.adjustRoll(t.value)}},E.prototype.createDragInterface_=function(){var e={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new g.default,initializeMouseDown:function(e,t,n){e.preventDefault?e.preventDefault():(e.returnValue=!1,e.cancelBubble=!0);var i=h.findPos(t.canvas_);n.px=i.x,n.py=i.y,n.dragStartX=h.dragGetX_(e,n),n.dragStartY=h.dragGetY_(e,n),n.cancelNextDblclick=!1,n.tarp.cover()},destroy:function(){var e=this;if((e.isZooming||e.isPanning)&&(e.isZooming=!1,e.dragStartX=null,e.dragStartY=null),e.isPanning){e.isPanning=!1,e.draggingDate=null,e.dateRange=null;for(var t=0;t<n.axes_.length;t++)delete n.axes_[t].draggingValue,delete n.axes_[t].dragValueRange}e.tarp.uncover()}},t=this.getOption("interactionModel"),n=this;for(var i in t)t.hasOwnProperty(i)&&this.addAndTrackEvent(this.mouseEventElement_,i,function(t){return function(i){t(i,n,e)}}(t[i]));t.willDestroyContextMyself||this.addAndTrackEvent(document,"mouseup",(function(t){e.destroy()}))},E.prototype.drawZoomRect_=function(e,t,n,i,a,r,o,s){var l=this.canvas_ctx_;r==h.HORIZONTAL?l.clearRect(Math.min(t,o),this.layout_.getPlotArea().y,Math.abs(t-o),this.layout_.getPlotArea().h):r==h.VERTICAL&&l.clearRect(this.layout_.getPlotArea().x,Math.min(i,s),this.layout_.getPlotArea().w,Math.abs(i-s)),e==h.HORIZONTAL?n&&t&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(Math.min(t,n),this.layout_.getPlotArea().y,Math.abs(n-t),this.layout_.getPlotArea().h)):e==h.VERTICAL&&a&&i&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(this.layout_.getPlotArea().x,Math.min(i,a),this.layout_.getPlotArea().w,Math.abs(a-i)))},E.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)},E.prototype.doZoomX_=function(e,t){this.currentZoomRectArgs_=null;var n=this.toDataXCoord(e),i=this.toDataXCoord(t);this.doZoomXDates_(n,i)},E.prototype.doZoomXDates_=function(e,t){var n=this,i=this.xAxisRange(),a=[e,t],r=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(i,a,null,null,(function(){r&&r.call(n,e,t,n.yAxisRanges())}))},E.prototype.doZoomY_=function(e,t){var n=this;this.currentZoomRectArgs_=null;for(var i=this.yAxisRanges(),a=[],r=0;r<this.axes_.length;r++){var s=this.toDataYCoord(e,r),l=this.toDataYCoord(t,r);a.push([l,s])}var c=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(null,null,i,a,(function(){if(c){var e=n.xAxisRange(),t=o(e,2),i=t[0],a=t[1];c.call(n,i,a,n.yAxisRanges())}}))},E.zoomAnimationFunction=function(e,t){return(1-Math.pow(1.5,-e))/(1-Math.pow(1.5,-t))},E.prototype.resetZoom=function(){var e=this,t=this.isZoomed("x"),n=this.isZoomed("y"),i=t||n;if(this.clearSelection(),i){var a=this.xAxisExtremes(),r=o(a,2),s=r[0],l=r[1],c=this.getBooleanOption("animatedZooms"),d=this.getFunctionOption("zoomCallback");if(!c)return this.dateWindow_=null,this.axes_.forEach((function(e){e.valueRange&&delete e.valueRange})),this.drawGraph_(),void(d&&d.call(this,s,l,this.yAxisRanges()));var u=null,h=null,p=null,f=null;t&&(u=this.xAxisRange(),h=[s,l]),n&&(p=this.yAxisRanges(),f=this.yAxisExtremes()),this.doAnimatedZoom(u,h,p,f,(function(){e.dateWindow_=null,e.axes_.forEach((function(e){e.valueRange&&delete e.valueRange})),d&&d.call(e,s,l,e.yAxisRanges())}))}},E.prototype.doAnimatedZoom=function(e,t,n,i,a){var r,o,s=this,l=this.getBooleanOption("animatedZooms")?E.ANIMATION_STEPS:1,c=[],d=[];if(null!==e&&null!==t)for(r=1;r<=l;r++)o=E.zoomAnimationFunction(r,l),c[r-1]=[e[0]*(1-o)+o*t[0],e[1]*(1-o)+o*t[1]];if(null!==n&&null!==i)for(r=1;r<=l;r++){o=E.zoomAnimationFunction(r,l);for(var u=[],p=0;p<this.axes_.length;p++)u.push([n[p][0]*(1-o)+o*i[p][0],n[p][1]*(1-o)+o*i[p][1]]);d[r-1]=u}h.repeatAndCleanup((function(e){if(d.length)for(var t=0;t<s.axes_.length;t++){var n=d[e][t];s.axes_[t].valueRange=[n[0],n[1]]}c.length&&(s.dateWindow_=c[e]),s.drawGraph_()}),l,E.ANIMATION_DURATION/l,a)},E.prototype.getArea=function(){return this.plotter_.area},E.prototype.eventToDomCoords=function(e){if(e.offsetX&&e.offsetY)return[e.offsetX,e.offsetY];var t=h.findPos(this.mouseEventElement_);return[h.pageX(e)-t.x,h.pageY(e)-t.y]},E.prototype.findClosestRow=function(e){for(var t=1/0,n=-1,i=this.layout_.points,a=0;a<i.length;a++)for(var r=i[a],o=r.length,s=0;s<o;s++){var l=r[s];if(h.isValidPoint(l,!0)){var c=Math.abs(l.canvasx-e);c<t&&(t=c,n=l.idx)}}return n},E.prototype.findClosestPoint=function(e,t){for(var n,i,a,r,o,s,l,c=1/0,d=this.layout_.points.length-1;d>=0;--d)for(var u=this.layout_.points[d],p=0;p<u.length;++p)r=u[p],h.isValidPoint(r)&&(n=(i=r.canvasx-e)*i+(a=r.canvasy-t)*a)<c&&(c=n,o=r,s=d,l=r.idx);return{row:l,seriesName:this.layout_.setNames[s],point:o}},E.prototype.findStackedPoint=function(e,t){for(var n,i,a=this.findClosestRow(e),r=0;r<this.layout_.points.length;++r){var o=a-this.getLeftBoundary_(r),s=this.layout_.points[r];if(!(o>=s.length)){var l=s[o];if(h.isValidPoint(l)){var c=l.canvasy;if(e>l.canvasx&&o+1<s.length){var d=s[o+1];h.isValidPoint(d)&&(u=d.canvasx-l.canvasx)>0&&(c+=(e-l.canvasx)/u*(d.canvasy-l.canvasy))}else if(e<l.canvasx&&o>0){var u,p=s[o-1];h.isValidPoint(p)&&(u=l.canvasx-p.canvasx)>0&&(c+=(l.canvasx-e)/u*(p.canvasy-l.canvasy))}(0===r||c<t)&&(n=l,i=r)}}}return{row:a,seriesName:this.layout_.setNames[i],point:n}},E.prototype.mouseMove_=function(e){var t=this.layout_.points;if(void 0!==t&&null!==t){var n=this.eventToDomCoords(e),i=n[0],a=n[1],r=!1;if(this.getOption("highlightSeriesOpts")&&!this.isSeriesLocked()){var o;o=this.getBooleanOption("stackedGraph")?this.findStackedPoint(i,a):this.findClosestPoint(i,a),r=this.setSelection(o.row,o.seriesName)}else{var s=this.findClosestRow(i);r=this.setSelection(s)}var l=this.getFunctionOption("highlightCallback");l&&r&&l.call(this,e,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}},E.prototype.getLeftBoundary_=function(e){if(this.boundaryIds_[e])return this.boundaryIds_[e][0];for(var t=0;t<this.boundaryIds_.length;t++)if(void 0!==this.boundaryIds_[t])return this.boundaryIds_[t][0];return 0},E.prototype.animateSelection_=function(e){void 0===this.fadeLevel&&(this.fadeLevel=0),void 0===this.animateId&&(this.animateId=0);var t=this.fadeLevel,n=e<0?t:10-t;if(n<=0)this.fadeLevel&&this.updateSelection_(1);else{var i=++this.animateId,a=this;h.repeatAndCleanup((function(t){a.animateId==i&&(a.fadeLevel+=e,0===a.fadeLevel?a.clearSelection():a.updateSelection_(a.fadeLevel/10))}),n,30,(function(){0!==a.fadeLevel&&e<0&&(a.fadeLevel=0,a.clearSelection())}))}},E.prototype.updateSelection_=function(e){this.cascadeEvents_("select",{selectedRow:-1===this.lastRow_?void 0:this.lastRow_,selectedX:-1===this.lastx_?void 0:this.lastx_,selectedPoints:this.selPoints_});var t,n=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){n.clearRect(0,0,this.width_,this.height_);var i=1-this.getNumericOption("highlightSeriesBackgroundAlpha"),a=h.toRGB_(this.getOption("highlightSeriesBackgroundColor"));if(i){if(void 0===e)return void this.animateSelection_(1);i*=e,n.fillStyle="rgba("+a.r+","+a.g+","+a.b+","+i+")",n.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,n)}else if(this.previousVerticalX_>=0){var r=0,o=this.attr_("labels");for(t=1;t<o.length;t++){var s=this.getNumericOption("highlightCircleSize",o[t]);s>r&&(r=s)}var l=this.previousVerticalX_;n.clearRect(l-r-1,0,2*r+2,this.height_)}if(this.selPoints_.length>0){var c=this.selPoints_[0].canvasx;for(n.save(),t=0;t<this.selPoints_.length;t++){var d=this.selPoints_[t];if(!isNaN(d.canvasy)){var u=this.getNumericOption("highlightCircleSize",d.name),p=this.getFunctionOption("drawHighlightPointCallback",d.name),f=this.plotter_.colors[d.name];p||(p=h.Circles.DEFAULT),n.lineWidth=this.getNumericOption("strokeWidth",d.name),n.strokeStyle=f,n.fillStyle=f,p.call(this,this,d.name,n,c,d.canvasy,f,u,d.idx)}}n.restore(),this.previousVerticalX_=c}},E.prototype.setSelection=function(e,t,n){this.selPoints_=[];var i=!1;if(!1!==e&&e>=0){e!=this.lastRow_&&(i=!0),this.lastRow_=e;for(var a=0;a<this.layout_.points.length;++a){var r=this.layout_.points[a],o=e-this.getLeftBoundary_(a);if(o>=0&&o<r.length&&r[o].idx==e)null!==(l=r[o]).yval&&this.selPoints_.push(l);else for(var s=0;s<r.length;++s){var l;if((l=r[s]).idx==e){null!==l.yval&&this.selPoints_.push(l);break}}}}else this.lastRow_>=0&&(i=!0),this.lastRow_=-1;return this.selPoints_.length?this.lastx_=this.selPoints_[0].xval:this.lastx_=-1,void 0!==t&&(this.highlightSet_!==t&&(i=!0),this.highlightSet_=t),void 0!==n&&(this.lockedSet_=n),i&&this.updateSelection_(void 0),i},E.prototype.mouseOut_=function(e){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,e),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()},E.prototype.clearSelection=function(){this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel?this.animateSelection_(-1):(this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=-1,this.lastRow_=-1,this.highlightSet_=null)},E.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1)return-1;for(var e=0;e<this.layout_.points.length;e++)for(var t=this.layout_.points[e],n=0;n<t.length;n++)if(t[n].x==this.selPoints_[0].x)return t[n].idx;return-1},E.prototype.getHighlightSeries=function(){return this.highlightSet_},E.prototype.isSeriesLocked=function(){return this.lockedSet_},E.prototype.loadedEvent_=function(e){this.rawData_=this.parseCSV_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_()},E.prototype.addXTicks_=function(){var e;e=this.dateWindow_?[this.dateWindow_[0],this.dateWindow_[1]]:this.xAxisExtremes();var t=this.optionsViewForAxis_("x"),n=t("ticker")(e[0],e[1],this.plotter_.area.w,t,this);this.layout_.setXTicks(n)},E.prototype.getHandlerClass_=function(){return this.attr_("dataHandler")?this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?y.default:b.default:this.getBooleanOption("customBars")?_.default:this.getBooleanOption("errorBars")?v.default:m.default},E.prototype.predraw_=function(){var e=new Date;this.dataHandler_=new(this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new l.default(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var t=1;t<this.numColumns();t++){var n=this.dataHandler_.extractSeries(this.rawData_,t,this.attributes_);this.rollPeriod_>1&&(n=this.dataHandler_.rollingAverage(n,this.rollPeriod_,this.attributes_)),this.rolledSeries_.push(n)}this.drawGraph_();var i=new Date;this.drawingTimeMs_=i-e},E.PointType=void 0,E.stackPoints_=function(e,t,n,i){for(var a=null,r=null,o=null,s=-1,l=0;l<e.length;++l){var c=e[l],d=c.xval;void 0===t[d]&&(t[d]=0);var u=c.yval;isNaN(u)||null===u?"none"==i?u=0:(function(t){if(!(s>=t))for(var n=t;n<e.length;++n)if(o=null,!isNaN(e[n].yval)&&null!==e[n].yval){s=n,o=e[n];break}}(l),u=r&&o&&"none"!=i?r.yval+(o.yval-r.yval)*((d-r.xval)/(o.xval-r.xval)):r&&"all"==i?r.yval:o&&"all"==i?o.yval:0):r=c;var h=t[d];a!=d&&(h+=u,t[d]=h),a=d,c.yval_stacked=h,h>n[1]&&(n[1]=h),h<n[0]&&(n[0]=h)}},E.prototype.gatherDatasets_=function(e,t){var n,i,a,r,o,s,l=[],c=[],d=[],u={};for(n=e.length-1;n>=1;n--)if(this.visibility()[n-1]){if(t){s=e[n];var h=t[0],p=t[1];for(a=null,r=null,i=0;i<s.length;i++)s[i][0]>=h&&null===a&&(a=i),s[i][0]<=p&&(r=i);null===a&&(a=0);for(var f=a,g=!0;g&&f>0;)g=null===s[--f][1];null===r&&(r=s.length-1);var m=r;for(g=!0;g&&m<s.length-1;)g=null===s[++m][1];f!==a&&(a=f),m!==r&&(r=m),l[n-1]=[a,r],s=s.slice(a,r+1)}else s=e[n],l[n-1]=[0,s.length-1];var v=this.attr_("labels")[n],_=this.dataHandler_.getExtremeYValues(s,t,this.getBooleanOption("stepPlot",v)),b=this.dataHandler_.seriesToPoints(s,v,l[n-1][0]);this.getBooleanOption("stackedGraph")&&(void 0===d[o=this.attributes_.axisForSeries(v)]&&(d[o]=[]),E.stackPoints_(b,d[o],_,this.getBooleanOption("stackedGraphNaNFill"))),u[v]=_,c[n]=b}return{points:c,extremes:u,boundaryIds:l}},E.prototype.drawGraph_=function(){var e=new Date,t=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=.5*this.getNumericOption("highlightCircleSize");var n=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),i=n.points,a=n.extremes;this.boundaryIds_=n.boundaryIds,this.setIndexByName_={};for(var r=this.attr_("labels"),o=0,s=1;s<i.length;s++)this.visibility()[s-1]&&(this.layout_.addDataset(r[s],i[s]),this.datasetIndex_[s]=o++);for(s=0;s<r.length;s++)this.setIndexByName_[r[s]]=s;if(this.computeYAxisRanges_(a),this.layout_.setYAxes(this.axes_),this.addXTicks_(),this.layout_.evaluate(),this.renderGraph_(t),this.getStringOption("timingName")){var l=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(l-e)+"ms")}},E.prototype.renderGraph_=function(e){this.cascadeEvents_("clearChart"),this.plotter_.clear();var t=this.getFunctionOption("underlayCallback");t&&t.call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var n={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",n),this.plotter_.render(),this.cascadeEvents_("didDrawChart",n),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_);var i=this.getFunctionOption("drawCallback");if(null!==i&&i.call(this,this,e),e)for(this.readyFired_=!0;this.readyFns_.length>0;)this.readyFns_.pop()(this)},E.prototype.computeYAxes_=function(){var e,t,n;for(this.axes_=[],e=0;e<this.attributes_.numAxes();e++)t={g:this},h.update(t,this.attributes_.axisOptions(e)),this.axes_[e]=t;for(e=0;e<this.axes_.length;e++)if(0===e)(n=(t=this.optionsViewForAxis_("y"+(e?"2":"")))("valueRange"))&&(this.axes_[e].valueRange=n);else{var i=this.user_attrs_.axes;i&&i.y2&&(n=i.y2.valueRange)&&(this.axes_[e].valueRange=n)}},E.prototype.numAxes=function(){return this.attributes_.numAxes()},E.prototype.axisPropertiesForSeries=function(e){return this.axes_[this.attributes_.axisForSeries(e)]},E.prototype.computeYAxisRanges_=function(e){for(var t,n,i,a,r,o=function(e){return isNaN(parseFloat(e))},s=this.attributes_.numAxes(),l=0;l<s;l++){var c=this.axes_[l],d=this.attributes_.getForAxis("logscale",l),u=this.attributes_.getForAxis("includeZero",l),p=this.attributes_.getForAxis("independentTicks",l);i=this.attributes_.seriesForAxis(l),t=!0,a=.1;var f=this.getNumericOption("yRangePad");if(null!==f&&(t=!1,a=f/this.plotter_.area.h),0===i.length)c.extremeRange=[0,1];else{for(var g,m,v=1/0,_=-1/0,b=0;b<i.length;b++)e.hasOwnProperty(i[b])&&(null!==(g=e[i[b]][0])&&(v=Math.min(g,v)),null!==(m=e[i[b]][1])&&(_=Math.max(m,_)));u&&!d&&(v>0&&(v=0),_<0&&(_=0)),v==1/0&&(v=0),_==-1/0&&(_=1),0===(n=_-v)&&(0!==_?n=Math.abs(_):(_=1,n=1));var y=_,w=v;t&&(d?(y=_+a*n,w=v):((w=v-a*n)<0&&v>=0&&(w=0),(y=_+a*n)>0&&_<=0&&(y=0))),c.extremeRange=[w,y]}if(c.valueRange){var x=o(c.valueRange[0])?c.extremeRange[0]:c.valueRange[0],C=o(c.valueRange[1])?c.extremeRange[1]:c.valueRange[1];c.computedValueRange=[x,C]}else c.computedValueRange=c.extremeRange;if(!t)if(d){x=c.computedValueRange[0],C=c.computedValueRange[1];var S=a/(2*a-1),T=(a-1)/(2*a-1);c.computedValueRange[0]=h.logRangeFraction(x,C,S),c.computedValueRange[1]=h.logRangeFraction(x,C,T)}else x=c.computedValueRange[0],n=(C=c.computedValueRange[1])-x,c.computedValueRange[0]=x-n*a,c.computedValueRange[1]=C+n*a;if(p){c.independentTicks=p;var k=(A=this.optionsViewForAxis_("y"+(l?"2":"")))("ticker");c.ticks=k(c.computedValueRange[0],c.computedValueRange[1],this.plotter_.area.h,A,this),r||(r=c)}}if(void 0===r)throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.';for(l=0;l<s;l++)if(!(c=this.axes_[l]).independentTicks){k=(A=this.optionsViewForAxis_("y"+(l?"2":"")))("ticker");for(var A,P=r.ticks,E=r.computedValueRange[1]-r.computedValueRange[0],D=c.computedValueRange[1]-c.computedValueRange[0],O=[],M=0;M<P.length;M++){var I=(P[M].v-r.computedValueRange[0])/E,N=c.computedValueRange[0]+I*D;O.push(N)}c.ticks=k(c.computedValueRange[0],c.computedValueRange[1],this.plotter_.area.h,A,this,O)}},E.prototype.detectTypeFromString_=function(e){var t=!1,n=e.indexOf("-");(n>0&&"e"!=e[n-1]&&"E"!=e[n-1]||e.indexOf("/")>=0||isNaN(parseFloat(e))||8==e.length&&e>"19700101"&&e<"20371231")&&(t=!0),this.setXAxisOptions_(t)},E.prototype.setXAxisOptions_=function(e){e?(this.attrs_.xValueParser=h.dateParser,this.attrs_.axes.x.valueFormatter=h.dateValueFormatter,this.attrs_.axes.x.ticker=u.dateTicker,this.attrs_.axes.x.axisLabelFormatter=h.dateAxisLabelFormatter):(this.attrs_.xValueParser=function(e){return parseFloat(e)},this.attrs_.axes.x.valueFormatter=function(e){return e},this.attrs_.axes.x.ticker=u.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)},E.prototype.parseCSV_=function(e){var t,n,i=[],a=h.detectLineDelimiter(e),r=e.split(a||"\n"),o=this.getStringOption("delimiter");-1==r[0].indexOf(o)&&r[0].indexOf("\t")>=0&&(o="\t");var s=0;"labels"in this.user_attrs_||(s=1,this.attrs_.labels=r[0].split(o),this.attributes_.reparseSeries());for(var l,c=!1,d=this.attr_("labels").length,u=!1,p=s;p<r.length;p++){var f=r[p];if(0!==f.length&&"#"!=f[0]){var g=f.split(o);if(!(g.length<2)){var m=[];if(c||(this.detectTypeFromString_(g[0]),l=this.getFunctionOption("xValueParser"),c=!0),m[0]=l(g[0],this),this.fractions_)for(n=1;n<g.length;n++)2!=(t=g[n].split("/")).length?(console.error('Expected fractional "num/den" values in CSV data but found a value \''+g[n]+"' on line "+(1+p)+" ('"+f+"') which is not of this form."),m[n]=[0,0]):m[n]=[h.parseFloat_(t[0],p,f),h.parseFloat_(t[1],p,f)];else if(this.getBooleanOption("errorBars"))for(g.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+p)+" has an odd number of values ("+(g.length-1)+"): '"+f+"'"),n=1;n<g.length;n+=2)m[(n+1)/2]=[h.parseFloat_(g[n],p,f),h.parseFloat_(g[n+1],p,f)];else if(this.getBooleanOption("customBars"))for(n=1;n<g.length;n++){var v=g[n];/^ *$/.test(v)?m[n]=[null,null,null]:3==(t=v.split(";")).length?m[n]=[h.parseFloat_(t[0],p,f),h.parseFloat_(t[1],p,f),h.parseFloat_(t[2],p,f)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+v+'" on line '+(1+p))}else for(n=1;n<g.length;n++)m[n]=h.parseFloat_(g[n],p,f);if(i.length>0&&m[0]<i[i.length-1][0]&&(u=!0),m.length!=d&&console.error("Number of columns in line "+p+" ("+m.length+") does not agree with number of labels ("+d+") "+f),0===p&&this.attr_("labels")){var _=!0;for(n=0;_&&n<m.length;n++)m[n]&&(_=!1);if(_){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+f+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}i.push(m)}}}return u&&(console.warn("CSV is out of order; order it correctly to speed loading."),i.sort((function(e,t){return e[0]-t[0]}))),i},E.prototype.parseArray_=function(e){if(0===e.length)return console.error("Can't plot empty data set"),null;if(0===e[0].length)return console.error("Data set cannot contain an empty row"),null;var t;if(function(e){var t=e[0],n=t[0];if("number"!=typeof n&&!h.isDateLike(n))throw new Error("Expected number or date but got "+typeof n+": "+n+".");for(var i=1;i<t.length;i++){var a=t[i];if(null!==a&&void 0!==a&&"number"!=typeof a&&!h.isArrayLike(a))throw new Error("Expected number or array but got "+typeof a+": "+a+".")}}(e),null===this.attr_("labels")){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],t=1;t<e[0].length;t++)this.attrs_.labels.push("Y"+t);this.attributes_.reparseSeries()}else{var n=this.attr_("labels");if(n.length!=e[0].length)return console.error("Mismatch between number of labels ("+n+") and number of columns in array ("+e[0].length+")"),null}if(h.isDateLike(e[0][0])){this.attrs_.axes.x.valueFormatter=h.dateValueFormatter,this.attrs_.axes.x.ticker=u.dateTicker,this.attrs_.axes.x.axisLabelFormatter=h.dateAxisLabelFormatter;var i=h.clone(e);for(t=0;t<e.length;t++){if(0===i[t].length)return console.error("Row "+(1+t)+" of data is empty"),null;if(null===i[t][0]||"function"!=typeof i[t][0].getTime||isNaN(i[t][0].getTime()))return console.error("x value in row "+(1+t)+" is not a Date"),null;i[t][0]=i[t][0].getTime()}return i}return this.attrs_.axes.x.valueFormatter=function(e){return e},this.attrs_.axes.x.ticker=u.numericTicks,this.attrs_.axes.x.axisLabelFormatter=h.numberAxisLabelFormatter,e},E.prototype.parseDataTable_=function(e){var t=e.getNumberOfColumns(),n=e.getNumberOfRows(),i=e.getColumnType(0);if("date"==i||"datetime"==i)this.attrs_.xValueParser=h.dateParser,this.attrs_.axes.x.valueFormatter=h.dateValueFormatter,this.attrs_.axes.x.ticker=u.dateTicker,this.attrs_.axes.x.axisLabelFormatter=h.dateAxisLabelFormatter;else{if("number"!=i)throw new Error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+i+"')");this.attrs_.xValueParser=function(e){return parseFloat(e)},this.attrs_.axes.x.valueFormatter=function(e){return e},this.attrs_.axes.x.ticker=u.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}var a,r,o=[],s={},l=!1;for(a=1;a<t;a++){var c=e.getColumnType(a);if("number"==c)o.push(a);else{if("string"!=c||!this.getBooleanOption("displayAnnotations"))throw new Error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true");var d=o[o.length-1];s.hasOwnProperty(d)?s[d].push(a):s[d]=[a],l=!0}}var p=[e.getColumnLabel(0)];for(a=0;a<o.length;a++)p.push(e.getColumnLabel(o[a])),this.getBooleanOption("errorBars")&&(a+=1);this.attrs_.labels=p,t=p.length;var f=[],g=!1,m=[];for(a=0;a<n;a++){var v=[];if(void 0!==e.getValue(a,0)&&null!==e.getValue(a,0)){if("date"==i||"datetime"==i?v.push(e.getValue(a,0).getTime()):v.push(e.getValue(a,0)),this.getBooleanOption("errorBars"))for(r=0;r<t-1;r++)v.push([e.getValue(a,1+2*r),e.getValue(a,2+2*r)]);else{for(r=0;r<o.length;r++){var _=o[r];if(v.push(e.getValue(a,_)),l&&s.hasOwnProperty(_)&&null!==e.getValue(a,s[_][0])){var b={};b.series=e.getColumnLabel(_),b.xval=v[0],b.shortText=function(e){var t=String.fromCharCode(65+e%26);for(e=Math.floor(e/26);e>0;)t=String.fromCharCode(65+(e-1)%26)+t.toLowerCase(),e=Math.floor((e-1)/26);return t}(m.length),b.text="";for(var y=0;y<s[_].length;y++)y&&(b.text+="\n"),b.text+=e.getValue(a,s[_][y]);m.push(b)}}for(r=0;r<v.length;r++)isFinite(v[r])||(v[r]=null)}f.length>0&&v[0]<f[f.length-1][0]&&(g=!0),f.push(v)}else console.warn("Ignoring row "+a+" of DataTable because of undefined or null first column.")}g&&(console.warn("DataTable is out of order; order it correctly to speed loading."),f.sort((function(e,t){return e[0]-t[0]}))),this.rawData_=f,m.length>0&&this.setAnnotations(m,!0),this.attributes_.reparseSeries()},E.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})},E.prototype.start_=function(){var e=this.file_;if("function"==typeof e&&(e=e()),h.isArrayLike(e))this.rawData_=this.parseArray_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("object"==typeof e&&"function"==typeof e.getColumnRange)this.parseDataTable_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("string"==typeof e)if(h.detectLineDelimiter(e))this.loadedEvent_(e);else{var t;t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var n=this;t.onreadystatechange=function(){4==t.readyState&&(200!==t.status&&0!==t.status||n.loadedEvent_(t.responseText))},t.open("GET",e,!0),t.send(null)}else console.error("Unknown data format: "+typeof e)},E.prototype.updateOptions=function(e,t){void 0===t&&(t=!1);var n=e.file,i=E.copyUserAttrs_(e);"rollPeriod"in i&&(this.rollPeriod_=i.rollPeriod),"dateWindow"in i&&(this.dateWindow_=i.dateWindow);var a=h.isPixelChangingOptionList(this.attr_("labels"),i);h.updateDeep(this.user_attrs_,i),this.attributes_.reparseSeries(),n?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=n,t||this.start_()):t||(a?this.predraw_():this.renderGraph_(!1))},E.copyUserAttrs_=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&"file"!=n&&e.hasOwnProperty(n)&&(t[n]=e[n]);return t},E.prototype.resize=function(e,t){if(!this.resize_lock){this.resize_lock=!0,null===e!=(null===t)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),e=t=null);var n=this.width_,i=this.height_;e?(this.maindiv_.style.width=e+"px",this.maindiv_.style.height=t+"px",this.width_=e,this.height_=t):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight),n==this.width_&&i==this.height_||(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}},E.prototype.adjustRoll=function(e){this.rollPeriod_=e,this.predraw_()},E.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.getOption("visibility")},E.prototype.setVisibility=function(e,t){var n=this.visibility(),i=!1;if(Array.isArray(e)||(null!==e&&"object"==typeof e?i=!0:e=[e]),i)for(var a in e)e.hasOwnProperty(a)&&(a<0||a>=n.length?console.warn("Invalid series number in setVisibility: "+a):n[a]=e[a]);else for(a=0;a<e.length;a++)"boolean"==typeof e[a]?a>=n.length?console.warn("Invalid series number in setVisibility: "+a):n[a]=e[a]:e[a]<0||e[a]>=n.length?console.warn("Invalid series number in setVisibility: "+e[a]):n[e[a]]=t;this.predraw_()},E.prototype.size=function(){return{width:this.width_,height:this.height_}},E.prototype.setAnnotations=function(e,t){this.annotations_=e,this.layout_?(this.layout_.setAnnotations(this.annotations_),t||this.predraw_()):console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html")},E.prototype.annotations=function(){return this.annotations_},E.prototype.getLabels=function(){var e=this.attr_("labels");return e?e.slice():null},E.prototype.indexFromSetName=function(e){return this.setIndexByName_[e]},E.prototype.getRowForX=function(e){for(var t=0,n=this.numRows()-1;t<=n;){var i=n+t>>1,a=this.getValue(i,0);if(a<e)t=i+1;else if(a>e)n=i-1;else{if(t==i)return i;n=i}}return null},E.prototype.ready=function(e){this.is_initial_draw_?this.readyFns_.push(e):e.call(this,this)},E.prototype.addAndTrackEvent=function(e,t,n){h.addEvent(e,t,n),this.registeredEvents_.push({elem:e,type:t,fn:n})},E.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_)for(var e=0;e<this.registeredEvents_.length;e++){var t=this.registeredEvents_[e];h.removeEvent(t.elem,t.type,t.fn)}this.registeredEvents_=[]},E.PLUGINS=[k.default,C.default,A.default,S.default,x.default,T.default],E.GVizChart=P.default,E.DASHED_LINE=h.DASHED_LINE,E.DOT_DASH_LINE=h.DOT_DASH_LINE,E.dateAxisLabelFormatter=h.dateAxisLabelFormatter,E.toRGB_=h.toRGB_,E.findPos=h.findPos,E.pageX=h.pageX,E.pageY=h.pageY,E.dateString_=h.dateString_,E.defaultInteractionModel=d.default.defaultModel,E.nonInteractiveModel=E.nonInteractiveModel_=d.default.nonInteractiveModel_,E.Circles=h.Circles,E.Plugins={Legend:k.default,Axes:C.default,Annotations:x.default,ChartLabels:S.default,Grid:T.default,RangeSelector:A.default},E.DataHandlers={DefaultHandler:m.default,BarsHandler:w.default,CustomBarsHandler:_.default,DefaultFractionHandler:b.default,ErrorBarsHandler:v.default,FractionsBarsHandler:y.default},E.startPan=d.default.startPan,E.startZoom=d.default.startZoom,E.movePan=d.default.movePan,E.moveZoom=d.default.moveZoom,E.endPan=d.default.endPan,E.endZoom=d.default.endZoom,E.numericLinearTicks=u.numericLinearTicks,E.numericTicks=u.numericTicks,E.dateTicker=u.dateTicker,E.Granularity=u.Granularity,E.getDateAxis=u.getDateAxis,E.floatFormat=h.floatFormat,n.default=E,t.exports=n.default}).call(this,e("_process"))},{"./datahandler/bars":5,"./datahandler/bars-custom":2,"./datahandler/bars-error":3,"./datahandler/bars-fractions":4,"./datahandler/default":8,"./datahandler/default-fractions":7,"./dygraph-canvas":9,"./dygraph-default-attrs":10,"./dygraph-gviz":11,"./dygraph-interaction-model":12,"./dygraph-layout":13,"./dygraph-options":15,"./dygraph-options-reference":14,"./dygraph-tickers":16,"./dygraph-utils":17,"./iframe-tarp":19,"./plugins/annotations":20,"./plugins/axes":21,"./plugins/chart-labels":22,"./plugins/grid":23,"./plugins/legend":24,"./plugins/range-selector":25,_process:1}],19:[function(e,t,n){"use strict";function i(){this.tarps=[]}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./dygraph-utils"));i.prototype.cover=function(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var n=e[t],i=a.findPos(n),r=i.x,o=i.y,s=n.offsetWidth,l=n.offsetHeight,c=document.createElement("div");c.style.position="absolute",c.style.left=r+"px",c.style.top=o+"px",c.style.width=s+"px",c.style.height=l+"px",c.style.zIndex=999,document.body.appendChild(c),this.tarps.push(c)}},i.prototype.uncover=function(){for(var e=0;e<this.tarps.length;e++)this.tarps[e].parentNode.removeChild(this.tarps[e]);this.tarps=[]},n.default=i,t.exports=n.default},{"./dygraph-utils":17}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){this.annotations_=[]};i.prototype.toString=function(){return"Annotations Plugin"},i.prototype.activate=function(e){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}},i.prototype.detachLabels=function(){for(var e=0;e<this.annotations_.length;e++){var t=this.annotations_[e];t.parentNode&&t.parentNode.removeChild(t),this.annotations_[e]=null}this.annotations_=[]},i.prototype.clearChart=function(e){this.detachLabels()},i.prototype.didDrawChart=function(e){var t=e.dygraph,n=t.layout_.annotated_points;if(n&&0!==n.length)for(var i=e.canvas.parentNode,a=function(e,n,i){return function(a){var r=i.annotation;r.hasOwnProperty(e)?r[e](r,i,t,a):t.getOption(n)&&t.getOption(n)(r,i,t,a)}},r=e.dygraph.getArea(),o={},s=0;s<n.length;s++){var l=n[s];if(!(l.canvasx<r.x||l.canvasx>r.x+r.w||l.canvasy<r.y||l.canvasy>r.y+r.h)){var c=l.annotation,d=6;c.hasOwnProperty("tickHeight")&&(d=c.tickHeight);var u=document.createElement("div");u.style.fontSize=t.getOption("axisLabelFontSize")+"px";var h="dygraph-annotation";c.hasOwnProperty("icon")||(h+=" dygraphDefaultAnnotation dygraph-default-annotation"),c.hasOwnProperty("cssClass")&&(h+=" "+c.cssClass),u.className=h;var p=c.hasOwnProperty("width")?c.width:16,f=c.hasOwnProperty("height")?c.height:16;if(c.hasOwnProperty("icon")){var g=document.createElement("img");g.src=c.icon,g.width=p,g.height=f,u.appendChild(g)}else l.annotation.hasOwnProperty("shortText")&&u.appendChild(document.createTextNode(l.annotation.shortText));var m=l.canvasx-p/2;u.style.left=m+"px";var v=0;if(c.attachAtBottom){var _=r.y+r.h-f-d;o[m]?_-=o[m]:o[m]=0,o[m]+=d+f,v=_}else v=l.canvasy-f-d;u.style.top=v+"px",u.style.width=p+"px",u.style.height=f+"px",u.title=l.annotation.text,u.style.color=t.colorsMap_[l.name],u.style.borderColor=t.colorsMap_[l.name],c.div=u,t.addAndTrackEvent(u,"click",a("clickHandler","annotationClickHandler",l)),t.addAndTrackEvent(u,"mouseover",a("mouseOverHandler","annotationMouseOverHandler",l)),t.addAndTrackEvent(u,"mouseout",a("mouseOutHandler","annotationMouseOutHandler",l)),t.addAndTrackEvent(u,"dblclick",a("dblClickHandler","annotationDblClickHandler",l)),i.appendChild(u),this.annotations_.push(u);var b=e.drawingContext;b.save(),b.strokeStyle=c.hasOwnProperty("tickColor")?c.tickColor:t.colorsMap_[l.name],b.lineWidth=c.hasOwnProperty("tickWidth")?c.tickWidth:t.getOption("strokeWidth"),b.beginPath(),c.attachAtBottom?(_=v+f,b.moveTo(l.canvasx,_),b.lineTo(l.canvasx,_+d)):(b.moveTo(l.canvasx,l.canvasy),b.lineTo(l.canvasx,l.canvasy-2-d)),b.closePath(),b.stroke(),b.restore()}}},i.prototype.destroy=function(){this.detachLabels()},n.default=i,t.exports=n.default},{}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../dygraph-utils")),a=function(){this.xlabels_=[],this.ylabels_=[]};a.prototype.toString=function(){return"Axes Plugin"},a.prototype.activate=function(e){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}},a.prototype.layout=function(e){var t,n=e.dygraph;if(n.getOptionForAxis("drawAxis","y")){var i=n.getOptionForAxis("axisLabelWidth","y")+2*n.getOptionForAxis("axisTickSize","y");e.reserveSpaceLeft(i)}n.getOptionForAxis("drawAxis","x")&&(t=n.getOption("xAxisHeight")?n.getOption("xAxisHeight"):n.getOptionForAxis("axisLabelFontSize","x")+2*n.getOptionForAxis("axisTickSize","x"),e.reserveSpaceBottom(t)),2==n.numAxes()?n.getOptionForAxis("drawAxis","y2")&&(i=n.getOptionForAxis("axisLabelWidth","y2")+2*n.getOptionForAxis("axisTickSize","y2"),e.reserveSpaceRight(i)):n.numAxes()>2&&n.error("Only two y-axes are supported at this time. (Trying to use "+n.numAxes()+")")},a.prototype.detachLabels=function(){function e(e){for(var t=0;t<e.length;t++){var n=e[t];n.parentNode&&n.parentNode.removeChild(n)}}e(this.xlabels_),e(this.ylabels_),this.xlabels_=[],this.ylabels_=[]},a.prototype.clearChart=function(e){this.detachLabels()},a.prototype.willDrawChart=function(e){function t(e){return Math.round(e)+.5}function n(e){return Math.round(e)-.5}var a=this,r=e.dygraph;if(r.getOptionForAxis("drawAxis","x")||r.getOptionForAxis("drawAxis","y")||r.getOptionForAxis("drawAxis","y2")){var o,s,l,c=e.drawingContext,d=e.canvas.parentNode,u=r.width_,h=r.height_,p=function(e){return{position:"absolute",fontSize:r.getOptionForAxis("axisLabelFontSize",e)+"px",width:r.getOptionForAxis("axisLabelWidth",e)+"px"}},f={x:p("x"),y:p("y"),y2:p("y2")},g=function(e,t,n){var a=document.createElement("div"),r=f["y2"==n?"y2":t];i.update(a.style,r);var o=document.createElement("div");return o.className="dygraph-axis-label dygraph-axis-label-"+t+(n?" dygraph-axis-label-"+n:""),o.innerHTML=e,a.appendChild(o),a};c.save();var m=r.layout_,v=e.dygraph.plotter_.area,_=function(e){return function(t){return r.getOptionForAxis(t,e)}};if(r.getOptionForAxis("drawAxis","y")){if(m.yticks&&m.yticks.length>0){var b=r.numAxes(),y=[_("y"),_("y2")];m.yticks.forEach((function(e){if(void 0!==e.label){s=v.x;var t="y1",n=y[0];1==e.axis&&(s=v.x+v.w,t="y2",n=y[1]);var i=n("axisLabelFontSize");l=v.y+e.pos*v.h,o=g(e.label,"y",2==b?t:null);var r=l-i/2;r<0&&(r=0),r+i+3>h?o.style.bottom="0":o.style.top=r+"px",0===e.axis?(o.style.left=v.x-n("axisLabelWidth")-n("axisTickSize")+"px",o.style.textAlign="right"):1==e.axis&&(o.style.left=v.x+v.w+n("axisTickSize")+"px",o.style.textAlign="left"),o.style.width=n("axisLabelWidth")+"px",d.appendChild(o),a.ylabels_.push(o)}}));var w=this.ylabels_[0],x=r.getOptionForAxis("axisLabelFontSize","y");parseInt(w.style.top,10)+x>h-x&&(w.style.top=parseInt(w.style.top,10)-x/2+"px")}var C;r.getOption("drawAxesAtZero")?(((k=r.toPercentXCoord(0))>1||k<0||isNaN(k))&&(k=0),C=t(v.x+k*v.w)):C=t(v.x),c.strokeStyle=r.getOptionForAxis("axisLineColor","y"),c.lineWidth=r.getOptionForAxis("axisLineWidth","y"),c.beginPath(),c.moveTo(C,n(v.y)),c.lineTo(C,n(v.y+v.h)),c.closePath(),c.stroke(),2==r.numAxes()&&(c.strokeStyle=r.getOptionForAxis("axisLineColor","y2"),c.lineWidth=r.getOptionForAxis("axisLineWidth","y2"),c.beginPath(),c.moveTo(n(v.x+v.w),n(v.y)),c.lineTo(n(v.x+v.w),n(v.y+v.h)),c.closePath(),c.stroke())}if(r.getOptionForAxis("drawAxis","x")){if(m.xticks){var S=_("x");m.xticks.forEach((function(e){if(void 0!==e.label){s=v.x+e.pos*v.w,l=v.y+v.h,(o=g(e.label,"x")).style.textAlign="center",o.style.top=l+S("axisTickSize")+"px";var t=s-S("axisLabelWidth")/2;t+S("axisLabelWidth")>u&&(t=u-S("axisLabelWidth"),o.style.textAlign="right"),t<0&&(t=0,o.style.textAlign="left"),o.style.left=t+"px",o.style.width=S("axisLabelWidth")+"px",d.appendChild(o),a.xlabels_.push(o)}}))}var T,k;c.strokeStyle=r.getOptionForAxis("axisLineColor","x"),c.lineWidth=r.getOptionForAxis("axisLineWidth","x"),c.beginPath(),r.getOption("drawAxesAtZero")?(((k=r.toPercentYCoord(0,0))>1||k<0)&&(k=1),T=n(v.y+k*v.h)):T=n(v.y+v.h),c.moveTo(t(v.x),T),c.lineTo(t(v.x+v.w),T),c.closePath(),c.stroke()}c.restore()}},n.default=a,t.exports=n.default},{"../dygraph-utils":17}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};i.prototype.toString=function(){return"ChartLabels Plugin"},i.prototype.activate=function(e){return{layout:this.layout,didDrawChart:this.didDrawChart}};var a=function(e){var t=document.createElement("div");return t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.width=e.w+"px",t.style.height=e.h+"px",t};i.prototype.detachLabels_=function(){for(var e=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var r=function(e,t,n,i,a){var r=document.createElement("div");r.style.position="absolute",r.style.left=1==n?"0px":t.x+"px",r.style.top=t.y+"px",r.style.width=t.w+"px",r.style.height=t.h+"px",r.style.fontSize=e.getOption("yLabelWidth")-2+"px";var o=document.createElement("div");o.style.position="absolute",o.style.width=t.h+"px",o.style.height=t.w+"px",o.style.top=t.h/2-t.w/2+"px",o.style.left=t.w/2-t.h/2+"px",o.className="dygraph-label-rotate-"+(1==n?"right":"left");var s=document.createElement("div");return s.className=i,s.innerHTML=a,o.appendChild(s),r.appendChild(o),r};i.prototype.layout=function(e){this.detachLabels_();var t=e.dygraph,n=e.chart_div;if(t.getOption("title")){var i=e.reserveSpaceTop(t.getOption("titleHeight"));this.title_div_=a(i),this.title_div_.style.fontSize=t.getOption("titleHeight")-8+"px",(o=document.createElement("div")).className="dygraph-label dygraph-title",o.innerHTML=t.getOption("title"),this.title_div_.appendChild(o),n.appendChild(this.title_div_)}if(t.getOption("xlabel")){var o,s=e.reserveSpaceBottom(t.getOption("xLabelHeight"));this.xlabel_div_=a(s),this.xlabel_div_.style.fontSize=t.getOption("xLabelHeight")-2+"px",(o=document.createElement("div")).className="dygraph-label dygraph-xlabel",o.innerHTML=t.getOption("xlabel"),this.xlabel_div_.appendChild(o),n.appendChild(this.xlabel_div_)}if(t.getOption("ylabel")){var l=e.reserveSpaceLeft(0);this.ylabel_div_=r(t,l,1,"dygraph-label dygraph-ylabel",t.getOption("ylabel")),n.appendChild(this.ylabel_div_)}if(t.getOption("y2label")&&2==t.numAxes()){var c=e.reserveSpaceRight(0);this.y2label_div_=r(t,c,2,"dygraph-label dygraph-y2label",t.getOption("y2label")),n.appendChild(this.y2label_div_)}},i.prototype.didDrawChart=function(e){var t=e.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=t.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=t.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=t.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=t.getOption("y2label"))},i.prototype.clearChart=function(){},i.prototype.destroy=function(){this.detachLabels_()},n.default=i,t.exports=n.default},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){};i.prototype.toString=function(){return"Gridline Plugin"},i.prototype.activate=function(e){return{willDrawChart:this.willDrawChart}},i.prototype.willDrawChart=function(e){function t(e){return Math.round(e)+.5}function n(e){return Math.round(e)-.5}var i,a,r,o=e.dygraph,s=e.drawingContext,l=o.layout_,c=e.dygraph.plotter_.area;if(o.getOptionForAxis("drawGrid","y")){for(var d=["y","y2"],u=[],h=[],p=[],f=[],g=[],m=0;m<d.length;m++)p[m]=o.getOptionForAxis("drawGrid",d[m]),p[m]&&(u[m]=o.getOptionForAxis("gridLineColor",d[m]),h[m]=o.getOptionForAxis("gridLineWidth",d[m]),g[m]=o.getOptionForAxis("gridLinePattern",d[m]),f[m]=g[m]&&g[m].length>=2);r=l.yticks,s.save(),r.forEach((function(e){if(e.has_tick){var r=e.axis;p[r]&&(s.save(),f[r]&&s.setLineDash&&s.setLineDash(g[r]),s.strokeStyle=u[r],s.lineWidth=h[r],i=t(c.x),a=n(c.y+e.pos*c.h),s.beginPath(),s.moveTo(i,a),s.lineTo(i+c.w,a),s.stroke(),s.restore())}})),s.restore()}o.getOptionForAxis("drawGrid","x")&&(r=l.xticks,s.save(),g=o.getOptionForAxis("gridLinePattern","x"),(f=g&&g.length>=2)&&s.setLineDash&&s.setLineDash(g),s.strokeStyle=o.getOptionForAxis("gridLineColor","x"),s.lineWidth=o.getOptionForAxis("gridLineWidth","x"),r.forEach((function(e){e.has_tick&&(i=t(c.x+e.pos*c.w),a=n(c.y+c.h),s.beginPath(),s.moveTo(i,a),s.lineTo(i,c.y),s.closePath(),s.stroke())})),f&&s.setLineDash&&s.setLineDash([]),s.restore())},i.prototype.destroy=function(){},n.default=i,t.exports=n.default},{}],24:[function(e,t,n){"use strict";function i(e,t,n){if(!e||e.length<=1)return'<div class="dygraph-legend-line" style="border-bottom-color: '+t+';"></div>';var i,a,r,o,s=0,l=0,c=[];for(i=0;i<=e.length;i++)s+=e[i%e.length];if((o=Math.floor(n/(s-e[0])))>1){for(i=0;i<e.length;i++)c[i]=e[i]/n;l=c.length}else{for(o=1,i=0;i<e.length;i++)c[i]=e[i]/s;l=c.length+1}var d="";for(a=0;a<o;a++)for(i=0;i<l;i+=2)r=c[i%c.length],d+='<div class="dygraph-legend-dash" style="margin-right: '+(i<e.length?c[(i+1)%c.length]:0)+"em; padding-left: "+r+'em;"></div>';return d}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../dygraph-utils")),r=function(){this.legend_div_=null,this.is_generated_div_=!1};r.prototype.toString=function(){return"Legend Plugin"},r.prototype.activate=function(e){var t,n=e.getOption("labelsDiv");return n&&null!==n?t="string"==typeof n||n instanceof String?document.getElementById(n):n:((t=document.createElement("div")).className="dygraph-legend",e.graphDiv.appendChild(t),this.is_generated_div_=!0),this.legend_div_=t,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};var o=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};r.prototype.select=function(e){var t=e.selectedX,n=e.selectedPoints,i=e.selectedRow,a=e.dygraph.getOption("legend");if("never"!==a){if("follow"===a){var o=e.dygraph.plotter_.area,s=this.legend_div_.offsetWidth,l=e.dygraph.getOptionForAxis("axisLabelWidth","y"),c=n[0].x*o.w+50,d=n[0].y*o.h-50;c+s+1>o.w&&(c=c-100-s-(l-o.x)),e.dygraph.graphDiv.appendChild(this.legend_div_),this.legend_div_.style.left=l+c+"px",this.legend_div_.style.top=d+"px"}var u=r.generateLegendHTML(e.dygraph,t,n,this.one_em_width_,i);this.legend_div_.innerHTML=u,this.legend_div_.style.display=""}else this.legend_div_.style.display="none"},r.prototype.deselect=function(e){"always"!==e.dygraph.getOption("legend")&&(this.legend_div_.style.display="none");var t=function(e){var t=document.createElement("span");t.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),e.appendChild(t);var n=t.offsetWidth;return e.removeChild(t),n}(this.legend_div_);this.one_em_width_=t;var n=r.generateLegendHTML(e.dygraph,void 0,void 0,t,null);this.legend_div_.innerHTML=n},r.prototype.didDrawChart=function(e){this.deselect(e)},r.prototype.predraw=function(e){if(this.is_generated_div_){e.dygraph.graphDiv.appendChild(this.legend_div_);var t=e.dygraph.getArea(),n=this.legend_div_.offsetWidth;this.legend_div_.style.left=t.x+t.w-n-1+"px",this.legend_div_.style.top=t.y+"px"}},r.prototype.destroy=function(){this.legend_div_=null},r.generateLegendHTML=function(e,t,n,s,l){var c={dygraph:e,x:t,series:[]},d={},u=e.getLabels();if(u)for(var h=1;h<u.length;h++){var p=e.getPropertiesForSeries(u[h]),f={dashHTML:i(e.getOption("strokePattern",u[h]),p.color,s),label:u[h],labelHTML:o(u[h]),isVisible:p.visible,color:p.color};c.series.push(f),d[u[h]]=f}if(void 0!==t){var g=e.optionsViewForAxis_("x"),m=g("valueFormatter");c.xHTML=m.call(e,t,g,u[0],e,l,0);var v=[],_=e.numAxes();for(h=0;h<_;h++)v[h]=e.optionsViewForAxis_("y"+(h?1+h:""));var b=e.getOption("labelsShowZeroValues"),y=e.getHighlightSeries();for(h=0;h<n.length;h++){var w=n[h];if((f=d[w.name]).y=w.yval,0===w.yval&&!b||isNaN(w.canvasy))f.isVisible=!1;else{var x=v[(p=e.getPropertiesForSeries(w.name)).axis-1],C=x("valueFormatter").call(e,w.yval,x,w.name,e,l,u.indexOf(w.name));a.update(f,{yHTML:C}),w.name==y&&(f.isHighlighted=!0)}}}return(e.getOption("legendFormatter")||r.defaultFormatter).call(e,c)},r.defaultFormatter=function(e){var t=e.dygraph;if(!0!==t.getOption("showLabelsOnHighlight"))return"";var n,i=t.getOption("labelsSeparateLines");if(void 0===e.x){if("always"!=t.getOption("legend"))return"";n="";for(var a=0;a<e.series.length;a++)(r=e.series[a]).isVisible&&(""!==n&&(n+=i?"<br/>":" "),n+="<span style='font-weight: bold; color: "+r.color+";'>"+r.dashHTML+" "+r.labelHTML+"</span>");return n}for(n=e.xHTML+":",a=0;a<e.series.length;a++){var r;(r=e.series[a]).isVisible&&(i&&(n+="<br>"),n+="<span"+(r.isHighlighted?' class="highlight"':"")+"> <b><span style='color: "+r.color+";'>"+r.labelHTML+"</span></b>:&#160;"+r.yHTML+"</span>")}return n},n.default=r,t.exports=n.default},{"../dygraph-utils":17}],25:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../dygraph-utils")),r=i(e("../dygraph-interaction-model")),o=i(e("../iframe-tarp")),s=function(){this.hasTouchInterface_="undefined"!=typeof TouchEvent,this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};s.prototype.toString=function(){return"RangeSelector Plugin"},s.prototype.activate=function(e){return this.dygraph_=e,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}},s.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null},s.prototype.getOption_=function(e,t){return this.dygraph_.getOption(e,t)},s.prototype.setDefaultOption_=function(e,t){this.dygraph_.attrs_[e]=t},s.prototype.createInterface_=function(){this.createCanvases_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()},s.prototype.addToGraph_=function(){var e=this.graphDiv_=this.dygraph_.graphDiv;e.appendChild(this.bgcanvas_),e.appendChild(this.fgcanvas_),e.appendChild(this.leftZoomHandle_),e.appendChild(this.rightZoomHandle_)},s.prototype.removeFromGraph_=function(){var e=this.graphDiv_;e.removeChild(this.bgcanvas_),e.removeChild(this.fgcanvas_),e.removeChild(this.leftZoomHandle_),e.removeChild(this.rightZoomHandle_),this.graphDiv_=null},s.prototype.reserveSpace_=function(e){this.getOption_("showRangeSelector")&&e.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)},s.prototype.renderStaticLayer_=function(){this.updateVisibility_()&&(this.resize_(),this.drawStaticLayer_())},s.prototype.renderInteractiveLayer_=function(){this.updateVisibility_()&&!this.isChangingRange_&&(this.placeZoomHandles_(),this.drawInteractiveLayer_())},s.prototype.updateVisibility_=function(){var e=this.getOption_("showRangeSelector");if(e)this.interfaceCreated_?this.graphDiv_&&this.graphDiv_.parentNode||this.addToGraph_():this.createInterface_();else if(this.graphDiv_){this.removeFromGraph_();var t=this.dygraph_;setTimeout((function(){t.width_=0,t.resize()}),1)}return e},s.prototype.resize_=function(){function e(e,t,n,i){var r=i||a.getContextPixelRatio(t);e.style.top=n.y+"px",e.style.left=n.x+"px",e.width=n.w*r,e.height=n.h*r,e.style.width=n.w+"px",e.style.height=n.h+"px",1!=r&&t.scale(r,r)}var t=this.dygraph_.layout_.getPlotArea(),n=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(n=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:t.x,y:t.y+t.h+n+4,w:t.w,h:this.getOption_("rangeSelectorHeight")};var i=this.dygraph_.getNumericOption("pixelRatio");e(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_,i),e(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_,i)},s.prototype.createCanvases_=function(){this.bgcanvas_=a.createCanvas(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=a.getContext(this.bgcanvas_),this.fgcanvas_=a.createCanvas(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=a.getContext(this.fgcanvas_)},s.prototype.createZoomHandles_=function(){var e=new Image;e.className="dygraph-rangesel-zoomhandle",e.style.position="absolute",e.style.zIndex=10,e.style.visibility="hidden",e.style.cursor="col-resize",e.width=9,e.height=16,e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII=",this.isMobileDevice_&&(e.width*=2,e.height*=2),this.leftZoomHandle_=e,this.rightZoomHandle_=e.cloneNode(!1)},s.prototype.initInteraction_=function(){var e,t,n,i,s,l,c,d,u,h,p,f,g,m,v=this,_=document,b=0,y=null,w=!1,x=!1,C=!this.isMobileDevice_,S=new o.default;e=function(e){var t=v.dygraph_.xAxisExtremes(),n=(t[1]-t[0])/v.canvasRect_.w;return[t[0]+(e.leftHandlePos-v.canvasRect_.x)*n,t[0]+(e.rightHandlePos-v.canvasRect_.x)*n]},t=function(e){return a.cancelEvent(e),w=!0,b=e.clientX,y=e.target?e.target:e.srcElement,"mousedown"!==e.type&&"dragstart"!==e.type||(a.addEvent(_,"mousemove",n),a.addEvent(_,"mouseup",i)),v.fgcanvas_.style.cursor="col-resize",S.cover(),!0},n=function(e){if(!w)return!1;a.cancelEvent(e);var t=e.clientX-b;if(Math.abs(t)<4)return!0;b=e.clientX;var n,i=v.getZoomHandleStatus_();y==v.leftZoomHandle_?(n=i.leftHandlePos+t,n=Math.min(n,i.rightHandlePos-y.width-3),n=Math.max(n,v.canvasRect_.x)):(n=i.rightHandlePos+t,n=Math.min(n,v.canvasRect_.x+v.canvasRect_.w),n=Math.max(n,i.leftHandlePos+y.width+3));var r=y.width/2;return y.style.left=n-r+"px",v.drawInteractiveLayer_(),C&&s(),!0},i=function(e){return!!w&&(w=!1,S.uncover(),a.removeEvent(_,"mousemove",n),a.removeEvent(_,"mouseup",i),v.fgcanvas_.style.cursor="default",C||s(),!0)},s=function(){try{var t=v.getZoomHandleStatus_();if(v.isChangingRange_=!0,t.isZoomed){var n=e(t);v.dygraph_.doZoomXDates_(n[0],n[1])}else v.dygraph_.resetZoom()}finally{v.isChangingRange_=!1}},l=function(e){var t=v.leftZoomHandle_.getBoundingClientRect(),n=t.left+t.width/2,i=(t=v.rightZoomHandle_.getBoundingClientRect()).left+t.width/2;return e.clientX>n&&e.clientX<i},c=function(e){return!(x||!l(e)||!v.getZoomHandleStatus_().isZoomed)&&(a.cancelEvent(e),x=!0,b=e.clientX,"mousedown"===e.type&&(a.addEvent(_,"mousemove",d),a.addEvent(_,"mouseup",u)),!0)},d=function(e){if(!x)return!1;a.cancelEvent(e);var t=e.clientX-b;if(Math.abs(t)<4)return!0;b=e.clientX;var n=v.getZoomHandleStatus_(),i=n.leftHandlePos,r=n.rightHandlePos,o=r-i;i+t<=v.canvasRect_.x?r=(i=v.canvasRect_.x)+o:r+t>=v.canvasRect_.x+v.canvasRect_.w?i=(r=v.canvasRect_.x+v.canvasRect_.w)-o:(i+=t,r+=t);var s=v.leftZoomHandle_.width/2;return v.leftZoomHandle_.style.left=i-s+"px",v.rightZoomHandle_.style.left=r-s+"px",v.drawInteractiveLayer_(),C&&h(),!0},u=function(e){return!!x&&(x=!1,a.removeEvent(_,"mousemove",d),a.removeEvent(_,"mouseup",u),C||h(),!0)},h=function(){try{v.isChangingRange_=!0,v.dygraph_.dateWindow_=e(v.getZoomHandleStatus_()),v.dygraph_.drawGraph_(!1)}finally{v.isChangingRange_=!1}},p=function(e){if(!w&&!x){var t=l(e)?"move":"default";t!=v.fgcanvas_.style.cursor&&(v.fgcanvas_.style.cursor=t)}},f=function(e){"touchstart"==e.type&&1==e.targetTouches.length?t(e.targetTouches[0])&&a.cancelEvent(e):"touchmove"==e.type&&1==e.targetTouches.length?n(e.targetTouches[0])&&a.cancelEvent(e):i(e)},g=function(e){"touchstart"==e.type&&1==e.targetTouches.length?c(e.targetTouches[0])&&a.cancelEvent(e):"touchmove"==e.type&&1==e.targetTouches.length?d(e.targetTouches[0])&&a.cancelEvent(e):u(e)},m=function(e,t){for(var n=["touchstart","touchend","touchmove","touchcancel"],i=0;i<n.length;i++)v.dygraph_.addAndTrackEvent(e,n[i],t)},this.setDefaultOption_("interactionModel",r.default.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",1e-4);var T=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,T,t),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,T,t),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",c),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",p),this.hasTouchInterface_&&(m(this.leftZoomHandle_,f),m(this.rightZoomHandle_,f),m(this.fgcanvas_,g))},s.prototype.drawStaticLayer_=function(){var e=this.bgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(e){console.warn(e)}this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorBackgroundLineWidth"),e.strokeStyle=this.getOption_("rangeSelectorBackgroundStrokeColor"),e.beginPath(),e.moveTo(.5,.5),e.lineTo(.5,this.canvasRect_.h-.5),e.lineTo(this.canvasRect_.w-.5,this.canvasRect_.h-.5),e.lineTo(this.canvasRect_.w-.5,.5),e.stroke()},s.prototype.drawMiniPlot_=function(){var e=this.getOption_("rangeSelectorPlotFillColor"),t=this.getOption_("rangeSelectorPlotFillGradientColor"),n=this.getOption_("rangeSelectorPlotStrokeColor");if(e||n){var i=this.getOption_("stepPlot"),a=this.computeCombinedSeriesAndLimits_(),r=a.yMax-a.yMin,o=this.bgcanvas_ctx_,s=this.dygraph_.xAxisExtremes(),l=Math.max(s[1]-s[0],1e-30),c=(this.canvasRect_.w-.5)/l,d=(this.canvasRect_.h-.5)/r,u=this.canvasRect_.w-.5,h=this.canvasRect_.h-.5,p=null,f=null;o.beginPath(),o.moveTo(.5,h);for(var g=0;g<a.data.length;g++){var m=a.data[g],v=null!==m[0]?(m[0]-s[0])*c:NaN,_=null!==m[1]?h-(m[1]-a.yMin)*d:NaN;(i||null===p||Math.round(v)!=Math.round(p))&&(isFinite(v)&&isFinite(_)?(null===p?o.lineTo(v,h):i&&o.lineTo(v,f),o.lineTo(v,_),p=v,f=_):(null!==p&&(i?(o.lineTo(v,f),o.lineTo(v,h)):o.lineTo(p,h)),p=f=null))}if(o.lineTo(u,h),o.closePath(),e){var b=this.bgcanvas_ctx_.createLinearGradient(0,0,0,h);t&&b.addColorStop(0,t),b.addColorStop(1,e),this.bgcanvas_ctx_.fillStyle=b,o.fill()}n&&(this.bgcanvas_ctx_.strokeStyle=n,this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorPlotLineWidth"),o.stroke())}},s.prototype.computeCombinedSeriesAndLimits_=function(){var e,t=this.dygraph_,n=this.getOption_("logscale"),i=t.numColumns(),r=t.getLabels(),o=new Array(i),s=!1,l=t.visibility(),c=[];for(e=1;e<i;e++){var d=this.getOption_("showInRangeSelector",r[e]);c.push(d),null!==d&&(s=!0)}if(s)for(e=1;e<i;e++)o[e]=c[e-1];else for(e=1;e<i;e++)o[e]=l[e-1];var u=[],h=t.dataHandler_,p=t.attributes_;for(e=1;e<t.numColumns();e++)if(o[e]){var f=h.extractSeries(t.rawData_,e,p);t.rollPeriod()>1&&(f=h.rollingAverage(f,t.rollPeriod(),p)),u.push(f)}var g=[];for(e=0;e<u[0].length;e++){for(var m=0,v=0,_=0;_<u.length;_++){var b=u[_][e][1];null===b||isNaN(b)||(v++,m+=b)}g.push([u[0][e][0],m/v])}var y=Number.MAX_VALUE,w=-Number.MAX_VALUE;for(e=0;e<g.length;e++){var x=g[e][1];null!==x&&isFinite(x)&&(!n||x>0)&&(y=Math.min(y,x),w=Math.max(w,x))}if(n)for(w=a.log10(w),w+=.25*w,y=a.log10(y),e=0;e<g.length;e++)g[e][1]=a.log10(g[e][1]);else{var C,S=w-y;w+=C=S<=Number.MIN_VALUE?.25*w:.25*S,y-=C}return{data:g,yMin:y,yMax:w}},s.prototype.placeZoomHandles_=function(){var e=this.dygraph_.xAxisExtremes(),t=this.dygraph_.xAxisRange(),n=e[1]-e[0],i=Math.max(0,(t[0]-e[0])/n),a=Math.max(0,(e[1]-t[1])/n),r=this.canvasRect_.x+this.canvasRect_.w*i,o=this.canvasRect_.x+this.canvasRect_.w*(1-a),s=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),l=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=r-l+"px",this.leftZoomHandle_.style.top=s+"px",this.rightZoomHandle_.style.left=o-l+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"},s.prototype.drawInteractiveLayer_=function(){var e=this.fgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var t=this.canvasRect_.w-1,n=this.canvasRect_.h-1,i=this.getZoomHandleStatus_();if(e.strokeStyle=this.getOption_("rangeSelectorForegroundStrokeColor"),e.lineWidth=this.getOption_("rangeSelectorForegroundLineWidth"),i.isZoomed){var a=Math.max(1,i.leftHandlePos-this.canvasRect_.x),r=Math.min(t,i.rightHandlePos-this.canvasRect_.x);e.fillStyle="rgba(240, 240, 240, "+this.getOption_("rangeSelectorAlpha").toString()+")",e.fillRect(0,0,a,this.canvasRect_.h),e.fillRect(r,0,this.canvasRect_.w-r,this.canvasRect_.h),e.beginPath(),e.moveTo(1,1),e.lineTo(a,1),e.lineTo(a,n),e.lineTo(r,n),e.lineTo(r,1),e.lineTo(t,1),e.stroke()}else e.beginPath(),e.moveTo(1,1),e.lineTo(1,n),e.lineTo(t,n),e.lineTo(t,1),e.stroke()},s.prototype.getZoomHandleStatus_=function(){var e=this.leftZoomHandle_.width/2,t=parseFloat(this.leftZoomHandle_.style.left)+e,n=parseFloat(this.rightZoomHandle_.style.left)+e;return{leftHandlePos:t,rightHandlePos:n,isZoomed:t-1>this.canvasRect_.x||n+1<this.canvasRect_.x+this.canvasRect_.w}},n.default=s,t.exports=n.default},{"../dygraph-interaction-model":12,"../dygraph-utils":17,"../iframe-tarp":19}]},{},[18])(18)},function(e,t){!function(){"use strict";window.dygraphConfig={defaultFrame:12e5,zeropad:function(e){return e<10?"0"+e:e},xAxisFormat:function(e){if(-1===e)return"";var t=new Date(e);return this.zeropad(t.getHours())+":"+this.zeropad(t.getMinutes())+":"+this.zeropad(t.getSeconds())},mergeObjects:function(e,t,n){n||(n=[]);var i,a={};return n.forEach((function(n){var i=e[n],r=t[n];void 0===i&&(i={}),void 0===r&&(r={}),a[n]=_.extend(i,r)})),i=_.extend(e,t),Object.keys(a).forEach((function(e){i[e]=a[e]})),i},mapStatToFigure:{pageFaults:["times","majorPageFaultsPerSecond","minorPageFaultsPerSecond"],systemUserTime:["times","systemTimePerSecond","userTimePerSecond"],totalTime:["times","avgQueueTime","avgRequestTime","avgIoTime"],dataTransfer:["times","bytesSentPerSecond","bytesReceivedPerSecond"],requests:["times","getsPerSecond","putsPerSecond","postsPerSecond","deletesPerSecond","patchesPerSecond","headsPerSecond","optionsPerSecond","othersPerSecond"]},colors:["rgb(95, 194, 135)","rgb(238, 190, 77)","#81ccd8","#7ca530","#3c3c3c","#aa90bd","#e1811d","#c7d4b2","#d0b2d4"],figureDependedOptions:{clusterRequestsPerSecond:{showLabelsOnHighlight:!0,title:"",header:"Cluster Requests per Second",stackedGraph:!0,div:"lineGraphLegend",labelsKMG2:!1,axes:{y:{valueFormatter:function(e){return parseFloat(e.toPrecision(3))},axisLabelFormatter:function(e){return 0===e?0:parseFloat(e.toPrecision(3))}}}},pageFaults:{header:"Page Faults",visibility:[!0,!1],labels:["datetime","Major Page","Minor Page"],div:"pageFaultsChart",labelsKMG2:!1,axes:{y:{valueFormatter:function(e){return parseFloat(e.toPrecision(3))},axisLabelFormatter:function(e){return 0===e?0:parseFloat(e.toPrecision(3))}}}},systemUserTime:{div:"systemUserTimeChart",header:"System and User Time",labels:["datetime","System Time","User Time"],stackedGraph:!0,labelsKMG2:!1,axes:{y:{valueFormatter:function(e){return parseFloat(e.toPrecision(3))},axisLabelFormatter:function(e){return 0===e?0:parseFloat(e.toPrecision(3))}}}},totalTime:{div:"totalTimeChart",header:"Total Time",labels:["datetime","Queue","Computation","I/O"],labelsKMG2:!1,axes:{y:{valueFormatter:function(e){return parseFloat(e.toPrecision(3))},axisLabelFormatter:function(e){return 0===e?0:parseFloat(e.toPrecision(3))}}},stackedGraph:!0},dataTransfer:{header:"Data Transfer",labels:["datetime","Bytes sent","Bytes received"],stackedGraph:!0,div:"dataTransferChart"},requests:{header:"Requests",labels:["datetime","Reads","Writes"],stackedGraph:!0,div:"requestsChart",axes:{y:{valueFormatter:function(e){return parseFloat(e.toPrecision(3))},axisLabelFormatter:function(e){return 0===e?0:parseFloat(e.toPrecision(3))}}}}},getDashBoardFigures:function(e){var t=[],n=this;return Object.keys(this.figureDependedOptions).forEach((function(i){"clusterRequestsPerSecond"!==i&&(n.figureDependedOptions[i].div||e)&&t.push(i)})),t},getDefaultConfig:function(e){var t=this,n={digitsAfterDecimal:1,drawGapPoints:!0,fillGraph:!0,fillAlpha:.85,showLabelsOnHighlight:!1,strokeWidth:0,lineWidth:0,strokeBorderWidth:0,includeZero:!0,highlightCircleSize:2.5,labelsSeparateLines:!0,strokeBorderColor:"rgba(0,0,0,0)",interactionModel:{},maxNumberWidth:10,colors:[this.colors[0]],xAxisLabelWidth:"50",rightGap:15,showRangeSelector:!1,rangeSelectorHeight:50,rangeSelectorPlotStrokeColor:"#365300",rangeSelectorPlotFillColor:"",pixelsPerLabel:50,labelsKMG2:!0,dateWindow:[(new Date).getTime()-this.defaultFrame,(new Date).getTime()],axes:{x:{valueFormatter:function(e){return t.xAxisFormat(e)}},y:{ticker:Dygraph.numericLinearTicks}}};return this.figureDependedOptions[e]&&(n=this.mergeObjects(n,this.figureDependedOptions[e],["axes"])).div&&n.labels&&(n.colors=this.getColors(n.labels),n.labelsDiv=document.getElementById(n.div+"Legend"),n.legend="always",n.showLabelsOnHighlight=!0),n},getDetailChartConfig:function(e){var t=_.extend(this.getDefaultConfig(e),{showRangeSelector:!0,interactionModel:null,showLabelsOnHighlight:!0,highlightCircleSize:2.5,legend:"always",labelsDiv:"div#detailLegend.dashboard-legend-inner"});return"pageFaults"===e&&(t.visibility=[!0,!0]),t.labels||(t.labels=["datetime",t.header],t.colors=this.getColors(t.labels)),t},getColors:function(e){return this.colors.concat([]).slice(0,e.length-1)}}}()},function(e,t,n){(function(e){e.exports=function(){"use strict";function t(){return nt.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,i){return xe(e,t,n,i,!0).utc()}function u(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function h(e){if(null==e._isValid){var t=u(e),n=it.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function p(e){var t=d(NaN);return null!=e?c(u(t),e):u(t).userInvalidated=!0,t}function f(e,t){var n,i,r;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=u(t)),a(t._locale)||(e._locale=t._locale),at.length>0)for(n=0;n<at.length;n++)a(r=t[i=at[n]])||(e[i]=r);return e}function g(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===rt&&(rt=!0,t.updateOffset(this),rt=!1)}function m(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function v(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=v(t)),n}function b(e,t,n){var i,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0;for(i=0;i<a;i++)(n&&e[i]!==t[i]||!n&&_(e[i])!==_(t[i]))&&o++;return o+r}function y(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function w(e,n){var i=!0;return c((function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var a,r=[],o=0;o<arguments.length;o++){if(a="","object"==typeof arguments[o]){for(var s in a+="\n["+o+"] ",arguments[0])a+=s+": "+arguments[0][s]+", ";a=a.slice(0,-2)}else a=arguments[o];r.push(a)}y(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)}),n)}function x(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),ot[e]||(y(n),ot[e]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e,t){var n,a=c({},e);for(n in t)l(t,n)&&(i(e[n])&&i(t[n])?(a[n]={},c(a[n],e[n]),c(a[n],t[n])):null!=t[n]?a[n]=t[n]:delete a[n]);for(n in e)l(e,n)&&!l(t,n)&&i(e[n])&&(a[n]=c({},a[n]));return a}function T(e){null!=e&&this.set(e)}function k(e,t){var n=e.toLowerCase();lt[n]=lt[n+"s"]=lt[t]=e}function A(e){return"string"==typeof e?lt[e]||lt[e.toLowerCase()]:void 0}function P(e){var t,n,i={};for(n in e)l(e,n)&&(t=A(n))&&(i[t]=e[n]);return i}function E(e,t){ct[e]=t}function D(e,n){return function(i){return null!=i?(M(this,e,i),t.updateOffset(this,n),this):O(this,e)}}function O(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function M(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function I(e,t,n){var i=""+Math.abs(e),a=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}function N(e,t,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(pt[e]=a),t&&(pt[t[0]]=function(){return I(a.apply(this,arguments),t[1],t[2])}),n&&(pt[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function L(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e,t){return e.isValid()?(t=j(t,e.localeData()),ht[t]=ht[t]||function(e){var t,n,i=e.match(dt);for(t=0,n=i.length;t<n;t++)pt[i[t]]?i[t]=pt[i[t]]:i[t]=L(i[t]);return function(t){var a,r="";for(a=0;a<n;a++)r+=C(i[a])?i[a].call(t,e):i[a];return r}}(t),ht[t](e)):e.localeData().invalidDate()}function j(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(ut.lastIndex=0;i>=0&&ut.test(e);)e=e.replace(ut,n),ut.lastIndex=0,i-=1;return e}function $(e,t,n){Dt[e]=C(t)?t:function(e,i){return e&&n?n:t}}function B(e,t){return l(Dt,e)?Dt[e](t._strict,t._locale):new RegExp(function(e){return V(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,a){return t||n||i||a})))}(e))}function V(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),r(t)&&(i=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)Ot[e[n]]=i}function F(e,t){H(e,(function(e,n,i,a){i._w=i._w||{},t(e,i._w,i,a)}))}function z(e,t,n){null!=t&&l(Ot,e)&&Ot[e](t,n._a,n,e)}function U(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function W(e,t,n){var i,a,r,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=Ht.call(this._shortMonthsParse,o))?a:null:-1!==(a=Ht.call(this._longMonthsParse,o))?a:null:"MMM"===t?-1!==(a=Ht.call(this._shortMonthsParse,o))||-1!==(a=Ht.call(this._longMonthsParse,o))?a:null:-1!==(a=Ht.call(this._longMonthsParse,o))||-1!==(a=Ht.call(this._shortMonthsParse,o))?a:null}function q(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(!r(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),U(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function G(e){return null!=e?(q(this,e),t.updateOffset(this,!0),this):O(this,"Month")}function Y(){function e(e,t){return t.length-e.length}var t,n,i=[],a=[],r=[];for(t=0;t<12;t++)n=d([2e3,t]),i.push(this.monthsShort(n,"")),a.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(e),a.sort(e),r.sort(e),t=0;t<12;t++)i[t]=V(i[t]),a[t]=V(a[t]);for(t=0;t<24;t++)r[t]=V(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Q(e){return J(e)?366:365}function J(e){return e%4===0&&e%100!==0||e%400===0}function Z(e,t,n,i,a,r,o){var s=new Date(e,t,n,i,a,r,o);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function X(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function K(e,t,n){var i=7+t-n;return-(7+X(e,0,i).getUTCDay()-t)%7+i-1}function ee(e,t,n,i,a){var r,o,s=1+7*(t-1)+(7+n-i)%7+K(e,i,a);return s<=0?o=Q(r=e-1)+s:s>Q(e)?(r=e+1,o=s-Q(e)):(r=e,o=s),{year:r,dayOfYear:o}}function te(e,t,n){var i,a,r=K(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1;return o<1?i=o+ne(a=e.year()-1,t,n):o>ne(e.year(),t,n)?(i=o-ne(e.year(),t,n),a=e.year()+1):(a=e.year(),i=o),{week:i,year:a}}function ne(e,t,n){var i=K(e,t,n),a=K(e+1,t,n);return(Q(e)-i+a)/7}function ie(e,t,n){var i,a,r,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=Ht.call(this._weekdaysParse,o))?a:null:"ddd"===t?-1!==(a=Ht.call(this._shortWeekdaysParse,o))?a:null:-1!==(a=Ht.call(this._minWeekdaysParse,o))?a:null:"dddd"===t?-1!==(a=Ht.call(this._weekdaysParse,o))||-1!==(a=Ht.call(this._shortWeekdaysParse,o))||-1!==(a=Ht.call(this._minWeekdaysParse,o))?a:null:"ddd"===t?-1!==(a=Ht.call(this._shortWeekdaysParse,o))||-1!==(a=Ht.call(this._weekdaysParse,o))||-1!==(a=Ht.call(this._minWeekdaysParse,o))?a:null:-1!==(a=Ht.call(this._minWeekdaysParse,o))||-1!==(a=Ht.call(this._weekdaysParse,o))||-1!==(a=Ht.call(this._shortWeekdaysParse,o))?a:null}function ae(){function e(e,t){return t.length-e.length}var t,n,i,a,r,o=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),i=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),r=this.weekdays(n,""),o.push(i),s.push(a),l.push(r),c.push(i),c.push(a),c.push(r);for(o.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=V(s[t]),l[t]=V(l[t]),c[t]=V(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function re(){return this.hours()%12||12}function oe(e,t){N(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function se(e,t){return t._meridiemParse}function le(e){return e?e.toLowerCase().replace("_","-"):e}function ce(t){var n=null;if(!an[t]&&"undefined"!=typeof e&&e&&e.exports)try{n=en._abbr,function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),de(n)}catch(t){}return an[t]}function de(e,t){var n;return e&&(n=a(t)?he(e):ue(e,t))&&(en=n),en._abbr}function ue(e,t){if(null!==t){var n=nn;if(t.abbr=e,null!=an[e])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=an[e]._config;else if(null!=t.parentLocale){if(null==an[t.parentLocale])return rn[t.parentLocale]||(rn[t.parentLocale]=[]),rn[t.parentLocale].push({name:e,config:t}),null;n=an[t.parentLocale]._config}return an[e]=new T(S(n,t)),rn[e]&&rn[e].forEach((function(e){ue(e.name,e.config)})),de(e),an[e]}return delete an[e],null}function he(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return en;if(!n(e)){if(t=ce(e))return t;e=[e]}return function(e){for(var t,n,i,a,r=0;r<e.length;){for(t=(a=le(e[r]).split("-")).length,n=(n=le(e[r+1]))?n.split("-"):null;t>0;){if(i=ce(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&b(a,n,!0)>=t-1)break;t--}r++}return null}(e)}function pe(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[It]<0||n[It]>11?It:n[Nt]<1||n[Nt]>U(n[Mt],n[It])?Nt:n[Lt]<0||n[Lt]>24||24===n[Lt]&&(0!==n[Rt]||0!==n[jt]||0!==n[$t])?Lt:n[Rt]<0||n[Rt]>59?Rt:n[jt]<0||n[jt]>59?jt:n[$t]<0||n[$t]>999?$t:-1,u(e)._overflowDayOfYear&&(t<Mt||t>Nt)&&(t=Nt),u(e)._overflowWeeks&&-1===t&&(t=Bt),u(e)._overflowWeekday&&-1===t&&(t=Vt),u(e).overflow=t),e}function fe(e){var t,n,i,a,r,o,s=e._i,l=on.exec(s)||sn.exec(s);if(l){for(u(e).iso=!0,t=0,n=cn.length;t<n;t++)if(cn[t][1].exec(l[1])){a=cn[t][0],i=!1!==cn[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=dn.length;t<n;t++)if(dn[t][1].exec(l[3])){r=(l[2]||" ")+dn[t][0];break}if(null==r)return void(e._isValid=!1)}if(!i&&null!=r)return void(e._isValid=!1);if(l[4]){if(!ln.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=a+(r||"")+(o||""),be(e)}else e._isValid=!1}function ge(e){var t,n,i,a,r,o,s,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=hn.exec(t)){if(i=n[1]?"ddd"+(5===n[1].length?", ":" "):"",a="D MMM "+(n[2].length>10?"YYYY ":"YY "),r="HH:mm"+(n[4]?":ss":""),n[1]){var c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==c)return u(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:o=0===s?" +0000":((s="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(n[5][1].toUpperCase())-12)<0?" -":" +")+(""+s).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:o=l[n[5]];break;default:o=l[" GMT"]}n[5]=o,e._i=n.splice(1).join(""),e._f=i+a+r+" ZZ",be(e),u(e).rfc2822=!0}else e._isValid=!1}function me(e,t,n){return null!=e?e:null!=t?t:n}function ve(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function _e(e){var t,n,i,a,r=[];if(!e._d){for(i=ve(e),e._w&&null==e._a[Nt]&&null==e._a[It]&&function(e){var t,n,i,a,r,o,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,o=4,n=me(t.GG,e._a[Mt],te(Ce(),1,4).year),i=me(t.W,1),((a=me(t.E,1))<1||a>7)&&(l=!0);else{r=e._locale._week.dow,o=e._locale._week.doy;var c=te(Ce(),r,o);n=me(t.gg,e._a[Mt],c.year),i=me(t.w,c.week),null!=t.d?((a=t.d)<0||a>6)&&(l=!0):null!=t.e?(a=t.e+r,(t.e<0||t.e>6)&&(l=!0)):a=r}i<1||i>ne(n,r,o)?u(e)._overflowWeeks=!0:null!=l?u(e)._overflowWeekday=!0:(s=ee(n,i,a,r,o),e._a[Mt]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=me(e._a[Mt],i[Mt]),(e._dayOfYear>Q(a)||0===e._dayOfYear)&&(u(e)._overflowDayOfYear=!0),n=X(a,0,e._dayOfYear),e._a[It]=n.getUTCMonth(),e._a[Nt]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Lt]&&0===e._a[Rt]&&0===e._a[jt]&&0===e._a[$t]&&(e._nextDay=!0,e._a[Lt]=0),e._d=(e._useUTC?X:Z).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Lt]=24)}}function be(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],u(e).empty=!0;var n,i,a,r,o,s=""+e._i,l=s.length,c=0;for(a=j(e._f,e._locale).match(dt)||[],n=0;n<a.length;n++)r=a[n],(i=(s.match(B(r,e))||[])[0])&&((o=s.substr(0,s.indexOf(i))).length>0&&u(e).unusedInput.push(o),s=s.slice(s.indexOf(i)+i.length),c+=i.length),pt[r]?(i?u(e).empty=!1:u(e).unusedTokens.push(r),z(r,i,e)):e._strict&&!i&&u(e).unusedTokens.push(r);u(e).charsLeftOver=l-c,s.length>0&&u(e).unusedInput.push(s),e._a[Lt]<=12&&!0===u(e).bigHour&&e._a[Lt]>0&&(u(e).bigHour=void 0),u(e).parsedDateParts=e._a.slice(0),u(e).meridiem=e._meridiem,e._a[Lt]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[Lt],e._meridiem),_e(e),pe(e)}else ge(e);else fe(e)}function ye(e){var t=e._i,i=e._f;return e._locale=e._locale||he(e._l),null===t||void 0===i&&""===t?p({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),m(t)?new g(pe(t)):(o(t)?e._d=t:n(i)?function(e){var t,n,i,a,r;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)r=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],be(t),h(t)&&(r+=u(t).charsLeftOver,r+=10*u(t).unusedTokens.length,u(t).score=r,(null==i||r<i)&&(i=r,n=t));c(e,n||t)}(e):i?be(e):we(e),h(e)||(e._d=null),e))}function we(e){var l=e._i;a(l)?e._d=new Date(t.now()):o(l)?e._d=new Date(l.valueOf()):"string"==typeof l?function(e){var n=un.exec(e._i);null!==n?e._d=new Date(+n[1]):(fe(e),!1===e._isValid&&(delete e._isValid,ge(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e))))}(e):n(l)?(e._a=s(l.slice(0),(function(e){return parseInt(e,10)})),_e(e)):i(l)?function(e){if(!e._d){var t=P(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),_e(e)}}(e):r(l)?e._d=new Date(l):t.createFromInputFallback(e)}function xe(e,t,a,r,o){var s={};return!0!==a&&!1!==a||(r=a,a=void 0),(i(e)&&function(e){var t;for(t in e)return!1;return!0}(e)||n(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=a,s._i=e,s._f=t,s._strict=r,function(e){var t=new g(pe(ye(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(s)}function Ce(e,t,n,i){return xe(e,t,n,i,!1)}function Se(e,t){var i,a;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ce();for(i=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](i)||(i=t[a]);return i}function Te(e){var t=P(e),n=t.year||0,i=t.quarter||0,a=t.month||0,r=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===gn.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<gn.length;++i)if(e[gn[i]]){if(n)return!1;parseFloat(e[gn[i]])!==_(e[gn[i]])&&(n=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*r,this._months=+a+3*i+12*n,this._data={},this._locale=he(),this._bubble()}function ke(e){return e instanceof Te}function Ae(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Pe(e,t){N(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)}))}function Ee(e,t){var n=(t||"").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(mn)||["-",0,0],a=60*i[1]+_(i[2]);return 0===a?0:"+"===i[0]?a:-a}function De(e,n){var i,a;return n._isUTC?(i=n.clone(),a=(m(e)||o(e)?e.valueOf():Ce(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),t.updateOffset(i,!1),i):Ce(e).local()}function Oe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Me(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Ie(e,t){var n,i,a,o=e,s=null;return ke(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=vn.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:_(s[Nt])*n,h:_(s[Lt])*n,m:_(s[Rt])*n,s:_(s[jt])*n,ms:_(Ae(1e3*s[$t]))*n}):(s=_n.exec(e))?(n="-"===s[1]?-1:1,o={y:Ne(s[2],n),M:Ne(s[3],n),w:Ne(s[4],n),d:Ne(s[5],n),h:Ne(s[6],n),m:Ne(s[7],n),s:Ne(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(a=function(e,t){var n;return e.isValid()&&t.isValid()?(t=De(t,e),e.isBefore(t)?n=Le(e,t):((n=Le(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Ce(o.from),Ce(o.to)),(o={}).ms=a.milliseconds,o.M=a.months),i=new Te(o),ke(e)&&l(e,"_locale")&&(i._locale=e._locale),i}function Ne(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Le(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Re(e,t){return function(n,i){var a;return null===i||isNaN(+i)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=i,i=a),je(this,Ie(n="string"==typeof n?+n:n,i),e),this}}function je(e,n,i,a){var r=n._milliseconds,o=Ae(n._days),s=Ae(n._months);e.isValid()&&(a=null==a||a,r&&e._d.setTime(e._d.valueOf()+r*i),o&&M(e,"Date",O(e,"Date")+o*i),s&&q(e,O(e,"Month")+s*i),a&&t.updateOffset(e,o||s))}function $e(e){var t;return void 0===e?this._locale._abbr:(null!=(t=he(e))&&(this._locale=t),this)}function Be(){return this._locale}function Ve(e,t){N(0,[e,e.length],0,t)}function He(e,t,n,i,a){var r;return null==e?te(this,i,a).year:(t>(r=ne(e,i,a))&&(t=r),Fe.call(this,e,t,n,i,a))}function Fe(e,t,n,i,a){var r=ee(e,t,n,i,a),o=X(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function ze(e,t){t[$t]=_(1e3*("0."+e))}function Ue(e){return e}function We(e,t,n,i){var a=he(),r=d().set(i,t);return a[n](r,e)}function qe(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return We(e,t,n,"month");var i,a=[];for(i=0;i<12;i++)a[i]=We(e,i,n,"month");return a}function Ge(e,t,n,i){"boolean"==typeof e?(r(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,r(t)&&(n=t,t=void 0),t=t||"");var a=he(),o=e?a._week.dow:0;if(null!=n)return We(t,(n+o)%7,i,"day");var s,l=[];for(s=0;s<7;s++)l[s]=We(t,(s+o)%7,i,"day");return l}function Ye(e,t,n,i){var a=Ie(t,n);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function Qe(e){return e<0?Math.floor(e):Math.ceil(e)}function Je(e){return 4800*e/146097}function Ze(e){return 146097*e/4800}function Xe(e){return function(){return this.as(e)}}function Ke(e){return function(){return this.isValid()?this._data[e]:NaN}}function et(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function tt(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Gn(this._milliseconds)/1e3,i=Gn(this._days),a=Gn(this._months);e=v(n/60),t=v(e/60),n%=60,e%=60;var r=v(a/12),o=a%=12,s=i,l=t,c=e,d=n,u=this.asSeconds();return u?(u<0?"-":"")+"P"+(r?r+"Y":"")+(o?o+"M":"")+(s?s+"D":"")+(l||c||d?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var nt,it=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1},at=t.momentProperties=[],rt=!1,ot={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var st=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n},lt={},ct={},dt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ut=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ht={},pt={},ft=/\d/,gt=/\d\d/,mt=/\d{3}/,vt=/\d{4}/,_t=/[+-]?\d{6}/,bt=/\d\d?/,yt=/\d\d\d\d?/,wt=/\d\d\d\d\d\d?/,xt=/\d{1,3}/,Ct=/\d{1,4}/,St=/[+-]?\d{1,6}/,Tt=/\d+/,kt=/[+-]?\d+/,At=/Z|[+-]\d\d:?\d\d/gi,Pt=/Z|[+-]\d\d(?::?\d\d)?/gi,Et=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Dt={},Ot={},Mt=0,It=1,Nt=2,Lt=3,Rt=4,jt=5,$t=6,Bt=7,Vt=8,Ht=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};N("M",["MM",2],"Mo",(function(){return this.month()+1})),N("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),N("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),k("month","M"),E("month",8),$("M",bt),$("MM",bt,gt),$("MMM",(function(e,t){return t.monthsShortRegex(e)})),$("MMMM",(function(e,t){return t.monthsRegex(e)})),H(["M","MM"],(function(e,t){t[It]=_(e)-1})),H(["MMM","MMMM"],(function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[It]=a:u(n).invalidMonth=e}));var Ft=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,zt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ut="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Wt=Et,qt=Et;N("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),N(0,["YY",2],0,(function(){return this.year()%100})),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),k("year","y"),E("year",1),$("Y",kt),$("YY",bt,gt),$("YYYY",Ct,vt),$("YYYYY",St,_t),$("YYYYYY",St,_t),H(["YYYYY","YYYYYY"],Mt),H("YYYY",(function(e,n){n[Mt]=2===e.length?t.parseTwoDigitYear(e):_(e)})),H("YY",(function(e,n){n[Mt]=t.parseTwoDigitYear(e)})),H("Y",(function(e,t){t[Mt]=parseInt(e,10)})),t.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var Gt=D("FullYear",!0);N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),E("week",5),E("isoWeek",5),$("w",bt),$("ww",bt,gt),$("W",bt),$("WW",bt,gt),F(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=_(e)})),N("d",0,"do","day"),N("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),N("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),N("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),E("day",11),E("weekday",11),E("isoWeekday",11),$("d",bt),$("e",bt),$("E",bt),$("dd",(function(e,t){return t.weekdaysMinRegex(e)})),$("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),$("dddd",(function(e,t){return t.weekdaysRegex(e)})),F(["dd","ddd","dddd"],(function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);null!=a?t.d=a:u(n).invalidWeekday=e})),F(["d","e","E"],(function(e,t,n,i){t[i]=_(e)}));var Yt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Jt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Zt=Et,Xt=Et,Kt=Et;N("H",["HH",2],0,"hour"),N("h",["hh",2],0,re),N("k",["kk",2],0,(function(){return this.hours()||24})),N("hmm",0,0,(function(){return""+re.apply(this)+I(this.minutes(),2)})),N("hmmss",0,0,(function(){return""+re.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)})),N("Hmm",0,0,(function(){return""+this.hours()+I(this.minutes(),2)})),N("Hmmss",0,0,(function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)})),oe("a",!0),oe("A",!1),k("hour","h"),E("hour",13),$("a",se),$("A",se),$("H",bt),$("h",bt),$("k",bt),$("HH",bt,gt),$("hh",bt,gt),$("kk",bt,gt),$("hmm",yt),$("hmmss",wt),$("Hmm",yt),$("Hmmss",wt),H(["H","HH"],Lt),H(["k","kk"],(function(e,t,n){var i=_(e);t[Lt]=24===i?0:i})),H(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),H(["h","hh"],(function(e,t,n){t[Lt]=_(e),u(n).bigHour=!0})),H("hmm",(function(e,t,n){var i=e.length-2;t[Lt]=_(e.substr(0,i)),t[Rt]=_(e.substr(i)),u(n).bigHour=!0})),H("hmmss",(function(e,t,n){var i=e.length-4,a=e.length-2;t[Lt]=_(e.substr(0,i)),t[Rt]=_(e.substr(i,2)),t[jt]=_(e.substr(a)),u(n).bigHour=!0})),H("Hmm",(function(e,t,n){var i=e.length-2;t[Lt]=_(e.substr(0,i)),t[Rt]=_(e.substr(i))})),H("Hmmss",(function(e,t,n){var i=e.length-4,a=e.length-2;t[Lt]=_(e.substr(0,i)),t[Rt]=_(e.substr(i,2)),t[jt]=_(e.substr(a))}));var en,tn=D("Hours",!0),nn={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:zt,monthsShort:Ut,week:{dow:0,doy:6},weekdays:Yt,weekdaysMin:Jt,weekdaysShort:Qt,meridiemParse:/[ap]\.?m?\.?/i},an={},rn={},on=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ln=/Z|[+-]\d\d(?::?\d\d)?/,cn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],dn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],un=/^\/?Date\((\-?\d+)/i,hn=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=w("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),t.ISO_8601=function(){},t.RFC_2822=function(){};var pn=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ce.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()})),fn=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ce.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()})),gn=["year","quarter","month","week","day","hour","minute","second","millisecond"];Pe("Z",":"),Pe("ZZ",""),$("Z",Pt),$("ZZ",Pt),H(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Ee(Pt,e)}));var mn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var vn=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,_n=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ie.fn=Te.prototype,Ie.invalid=function(){return Ie(NaN)};var bn=Re(1,"add"),yn=Re(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var wn=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));N(0,["gg",2],0,(function(){return this.weekYear()%100})),N(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ve("gggg","weekYear"),Ve("ggggg","weekYear"),Ve("GGGG","isoWeekYear"),Ve("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),E("weekYear",1),E("isoWeekYear",1),$("G",kt),$("g",kt),$("GG",bt,gt),$("gg",bt,gt),$("GGGG",Ct,vt),$("gggg",Ct,vt),$("GGGGG",St,_t),$("ggggg",St,_t),F(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=_(e)})),F(["gg","GG"],(function(e,n,i,a){n[a]=t.parseTwoDigitYear(e)})),N("Q",0,"Qo","quarter"),k("quarter","Q"),E("quarter",7),$("Q",ft),H("Q",(function(e,t){t[It]=3*(_(e)-1)})),N("D",["DD",2],"Do","date"),k("date","D"),E("date",9),$("D",bt),$("DD",bt,gt),$("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),H(["D","DD"],Nt),H("Do",(function(e,t){t[Nt]=_(e.match(bt)[0])}));var xn=D("Date",!0);N("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),E("dayOfYear",4),$("DDD",xt),$("DDDD",mt),H(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=_(e)})),N("m",["mm",2],0,"minute"),k("minute","m"),E("minute",14),$("m",bt),$("mm",bt,gt),H(["m","mm"],Rt);var Cn=D("Minutes",!1);N("s",["ss",2],0,"second"),k("second","s"),E("second",15),$("s",bt),$("ss",bt,gt),H(["s","ss"],jt);var Sn,Tn=D("Seconds",!1);for(N("S",0,0,(function(){return~~(this.millisecond()/100)})),N(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),N(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),N(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),N(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),N(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),N(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),k("millisecond","ms"),E("millisecond",16),$("S",xt,ft),$("SS",xt,gt),$("SSS",xt,mt),Sn="SSSS";Sn.length<=9;Sn+="S")$(Sn,Tt);for(Sn="S";Sn.length<=9;Sn+="S")H(Sn,ze);var kn=D("Milliseconds",!1);N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var An=g.prototype;An.add=bn,An.calendar=function(e,n){var i=e||Ce(),a=De(i,this).startOf("day"),r=t.calendarFormat(this,a)||"sameElse",o=n&&(C(n[r])?n[r].call(this,i):n[r]);return this.format(o||this.localeData().calendar(r,this,Ce(i)))},An.clone=function(){return new g(this)},An.diff=function(e,t,n){var i,a,r,o;return this.isValid()&&(i=De(e,this)).isValid()?(a=6e4*(i.utcOffset()-this.utcOffset()),"year"===(t=A(t))||"month"===t||"quarter"===t?(o=function(e,t){var n,i,a=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(a,"months");return t-r<0?(n=e.clone().add(a-1,"months"),i=(t-r)/(r-n)):(n=e.clone().add(a+1,"months"),i=(t-r)/(n-r)),-(a+i)||0}(this,i),"quarter"===t?o/=3:"year"===t&&(o/=12)):(r=this-i,o="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?o:v(o)):NaN},An.endOf=function(e){return void 0===(e=A(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},An.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=R(this,e);return this.localeData().postformat(n)},An.from=function(e,t){return this.isValid()&&(m(e)&&e.isValid()||Ce(e).isValid())?Ie({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},An.fromNow=function(e){return this.from(Ce(),e)},An.to=function(e,t){return this.isValid()&&(m(e)&&e.isValid()||Ce(e).isValid())?Ie({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},An.toNow=function(e){return this.to(Ce(),e)},An.get=function(e){return C(this[e=A(e)])?this[e]():this},An.invalidAt=function(){return u(this).overflow},An.isAfter=function(e,t){var n=m(e)?e:Ce(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(a(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},An.isBefore=function(e,t){var n=m(e)?e:Ce(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(a(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},An.isBetween=function(e,t,n,i){return("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))},An.isSame=function(e,t){var n,i=m(e)?e:Ce(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=A(t||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},An.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},An.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},An.isValid=function(){return h(this)},An.lang=wn,An.locale=$e,An.localeData=Be,An.max=fn,An.min=pn,An.parsingFlags=function(){return c({},u(this))},An.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:ct[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=P(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(C(this[e=A(e)]))return this[e](t);return this},An.startOf=function(e){switch(e=A(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},An.subtract=yn,An.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},An.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},An.toDate=function(){return new Date(this.valueOf())},An.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?R(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):C(Date.prototype.toISOString)?this.toDate().toISOString():R(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},An.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+a)},An.toJSON=function(){return this.isValid()?this.toISOString():null},An.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},An.unix=function(){return Math.floor(this.valueOf()/1e3)},An.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},An.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},An.year=Gt,An.isLeapYear=function(){return J(this.year())},An.weekYear=function(e){return He.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},An.isoWeekYear=function(e){return He.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},An.quarter=An.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},An.month=G,An.daysInMonth=function(){return U(this.year(),this.month())},An.week=An.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},An.isoWeek=An.isoWeeks=function(e){var t=te(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},An.weeksInYear=function(){var e=this.localeData()._week;return ne(this.year(),e.dow,e.doy)},An.isoWeeksInYear=function(){return ne(this.year(),1,4)},An.date=xn,An.day=An.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},An.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},An.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},An.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},An.hour=An.hours=tn,An.minute=An.minutes=Cn,An.second=An.seconds=Tn,An.millisecond=An.milliseconds=kn,An.utcOffset=function(e,n,i){var a,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ee(Pt,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&n&&(a=Oe(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),r!==e&&(!n||this._changeInProgress?je(this,Ie(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Oe(this)},An.utc=function(e){return this.utcOffset(0,e)},An.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Oe(this),"m")),this},An.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ee(At,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},An.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ce(e).utcOffset():0,(this.utcOffset()-e)%60===0)},An.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},An.isLocal=function(){return!!this.isValid()&&!this._isUTC},An.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},An.isUtc=Me,An.isUTC=Me,An.zoneAbbr=function(){return this._isUTC?"UTC":""},An.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},An.dates=w("dates accessor is deprecated. Use date instead.",xn),An.months=w("months accessor is deprecated. Use month instead",G),An.years=w("years accessor is deprecated. Use year instead",Gt),An.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),An.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(f(e,this),(e=ye(e))._a){var t=e._isUTC?d(e._a):Ce(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var Pn=T.prototype;Pn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return C(i)?i.call(t,n):i},Pn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},Pn.invalidDate=function(){return this._invalidDate},Pn.ordinal=function(e){return this._ordinal.replace("%d",e)},Pn.preparse=Ue,Pn.postformat=Ue,Pn.relativeTime=function(e,t,n,i){var a=this._relativeTime[n];return C(a)?a(e,t,n,i):a.replace(/%d/i,e)},Pn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)},Pn.set=function(e){var t,n;for(n in e)C(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Pn.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ft).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone},Pn.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ft.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Pn.monthsParse=function(e,t,n){var i,a,r;if(this._monthsParseExact)return W.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(a=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},Pn.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Y.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=qt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Pn.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Y.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Wt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Pn.week=function(e){return te(e,this._week.dow,this._week.doy).week},Pn.firstDayOfYear=function(){return this._week.doy},Pn.firstDayOfWeek=function(){return this._week.dow},Pn.weekdays=function(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone},Pn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},Pn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},Pn.weekdaysParse=function(e,t,n){var i,a,r;if(this._weekdaysParseExact)return ie.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(a=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},Pn.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ae.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Zt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Pn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ae.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Pn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ae.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Kt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Pn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Pn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},de("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=w("moment.lang is deprecated. Use moment.locale instead.",de),t.langData=w("moment.langData is deprecated. Use moment.localeData instead.",he);var En=Math.abs,Dn=Xe("ms"),On=Xe("s"),Mn=Xe("m"),In=Xe("h"),Nn=Xe("d"),Ln=Xe("w"),Rn=Xe("M"),jn=Xe("y"),$n=Ke("milliseconds"),Bn=Ke("seconds"),Vn=Ke("minutes"),Hn=Ke("hours"),Fn=Ke("days"),zn=Ke("months"),Un=Ke("years"),Wn=Math.round,qn={ss:44,s:45,m:45,h:22,d:26,M:11},Gn=Math.abs,Yn=Te.prototype;return Yn.isValid=function(){return this._isValid},Yn.abs=function(){var e=this._data;return this._milliseconds=En(this._milliseconds),this._days=En(this._days),this._months=En(this._months),e.milliseconds=En(e.milliseconds),e.seconds=En(e.seconds),e.minutes=En(e.minutes),e.hours=En(e.hours),e.months=En(e.months),e.years=En(e.years),this},Yn.add=function(e,t){return Ye(this,e,t,1)},Yn.subtract=function(e,t){return Ye(this,e,t,-1)},Yn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=A(e))||"year"===e)return t=this._days+i/864e5,n=this._months+Je(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Ze(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Yn.asMilliseconds=Dn,Yn.asSeconds=On,Yn.asMinutes=Mn,Yn.asHours=In,Yn.asDays=Nn,Yn.asWeeks=Ln,Yn.asMonths=Rn,Yn.asYears=jn,Yn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN},Yn._bubble=function(){var e,t,n,i,a,r=this._milliseconds,o=this._days,s=this._months,l=this._data;return r>=0&&o>=0&&s>=0||r<=0&&o<=0&&s<=0||(r+=864e5*Qe(Ze(s)+o),o=0,s=0),l.milliseconds=r%1e3,e=v(r/1e3),l.seconds=e%60,t=v(e/60),l.minutes=t%60,n=v(t/60),l.hours=n%24,o+=v(n/24),s+=a=v(Je(o)),o-=Qe(Ze(a)),i=v(s/12),s%=12,l.days=o,l.months=s,l.years=i,this},Yn.get=function(e){return e=A(e),this.isValid()?this[e+"s"]():NaN},Yn.milliseconds=$n,Yn.seconds=Bn,Yn.minutes=Vn,Yn.hours=Hn,Yn.days=Fn,Yn.weeks=function(){return v(this.days()/7)},Yn.months=zn,Yn.years=Un,Yn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var i=Ie(e).abs(),a=Wn(i.as("s")),r=Wn(i.as("m")),o=Wn(i.as("h")),s=Wn(i.as("d")),l=Wn(i.as("M")),c=Wn(i.as("y")),d=a<=qn.ss&&["s",a]||a<qn.s&&["ss",a]||r<=1&&["m"]||r<qn.m&&["mm",r]||o<=1&&["h"]||o<qn.h&&["hh",o]||s<=1&&["d"]||s<qn.d&&["dd",s]||l<=1&&["M"]||l<qn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=n,et.apply(null,d)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Yn.toISOString=tt,Yn.toString=tt,Yn.toJSON=tt,Yn.locale=$e,Yn.localeData=Be,Yn.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",tt),Yn.lang=wn,N("X",0,0,"unix"),N("x",0,0,"valueOf"),$("x",kt),$("X",/[+-]?\d+(\.\d{1,3})?/),H("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),H("x",(function(e,t,n){n._d=new Date(_(e))})),t.version="2.18.1",function(e){nt=e}(Ce),t.fn=An,t.min=function(){var e=[].slice.call(arguments,0);return Se("isBefore",e)},t.max=function(){var e=[].slice.call(arguments,0);return Se("isAfter",e)},t.now=function(){return Date.now?Date.now():+new Date},t.utc=d,t.unix=function(e){return Ce(1e3*e)},t.months=function(e,t){return qe(e,t,"months")},t.isDate=o,t.locale=de,t.invalid=p,t.duration=Ie,t.isMoment=m,t.weekdays=function(e,t,n){return Ge(e,t,n,"weekdays")},t.parseZone=function(){return Ce.apply(null,arguments).parseZone()},t.localeData=he,t.isDuration=ke,t.monthsShort=function(e,t){return qe(e,t,"monthsShort")},t.weekdaysMin=function(e,t,n){return Ge(e,t,n,"weekdaysMin")},t.defineLocale=ue,t.updateLocale=function(e,t){if(null!=t){var n,i=nn;null!=an[e]&&(i=an[e]._config),(n=new T(t=S(i,t))).parentLocale=an[e],an[e]=n,de(e)}else null!=an[e]&&(null!=an[e].parentLocale?an[e]=an[e].parentLocale:null!=an[e]&&delete an[e]);return an[e]},t.locales=function(){return st(an)},t.weekdaysShort=function(e,t,n){return Ge(e,t,n,"weekdaysShort")},t.normalizeUnits=A,t.relativeTimeRounding=function(e){return void 0===e?Wn:"function"==typeof e&&(Wn=e,!0)},t.relativeTimeThreshold=function(e,t){return void 0!==qn[e]&&(void 0===t?qn[e]:(qn[e]=t,"s"===e&&(qn.ss=t-1),!0))},t.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},t.prototype=An,t}()}).call(this,n(48)(e))},,function(e,t){(function(){!function(){"use strict";sigma.utils.pkg("sigma.canvas.edges");sigma.canvas.edges.autoCurve=function(e){var t,n=e.settings("autoCurveRatio"),i=e.settings("autoCurveSortByDirection"),a=e.settings("defaultEdgeType"),r=e.graph.edges(),o={key:function(e){var t=e.source+","+e.target;return this[t]||!i&&(t=e.target+","+e.source,this[t])||(i&&this[e.target+","+e.source]?this[t]={i:1,n:1}:this[t]={i:0,n:0}),t},inc:function(e){this[this.key(e)].n++}};r.forEach((function(e){o.inc(e)})),r.forEach((function(e){t=o.key(e),o[t].n>1||o[t].i>0?(e.cc||("arrow"===e.type||"tapered"===e.type||"arrow"===a||"tapered"===a?(e.cc_prev_type||(e.cc_prev_type=e.type),e.type="curvedArrow"):(e.cc_prev_type||(e.cc_prev_type=e.type),e.type="curve")),e.cc=function(e,t,n,i){var a;return i?{y:(a=e*t/n)||Number.POSITIVE_INFINITY}:{y:(a=e-e/(t/2)*n)?1/a:t}}(n,o[t].n,o[t].i++,i)):e.cc&&(e.type=e.cc_prev_type,e.cc_prev_type=void 0,e.cc=void 0)}))}}()}).call(window)},function(e,t){(function(){!function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curve=function(e,t,n,i,a){var r,o=e.color,s=a("prefix")||"",l=e[s+"size"]||1,c=a("edgeColor"),d=a("defaultNodeColor"),u=a("defaultEdgeColor"),h=t[s+"size"],p=t[s+"x"],f=t[s+"y"],g=n[s+"x"],m=n[s+"y"];if(r=t.id===n.id?sigma.utils.getSelfLoopControlPoints(p,f,h):sigma.utils.getQuadraticControlPoint(p,f,g,m,e.cc),!o)switch(c){case"source":o=t.color||d;break;case"target":o=n.color||d;break;default:o=u}i.strokeStyle=o,i.lineWidth=l,i.beginPath(),i.moveTo(p,f),t.id===n.id?i.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,g,m):i.quadraticCurveTo(r.x,r.y,g,m),i.stroke()}}()}).call(window)},function(e,t){(function(){!function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.dashed=function(e,t,n,i,a){var r=e.active?e.active_color||a("defaultEdgeActiveColor"):e.color,o=a("prefix")||"",s=e[o+"size"]||1,l=a("edgeColor"),c=a("defaultNodeColor"),d=a("defaultEdgeColor");if(!r)switch(l){case"source":r=t.color||c;break;case"target":r=n.color||c;break;default:r=d}i.save(),e.active?i.strokeStyle="edge"===a("edgeActiveColor")?r||d:a("defaultEdgeActiveColor"):i.strokeStyle=r,i.setLineDash([8,3]),i.lineWidth=s,i.beginPath(),i.moveTo(t[o+"x"],t[o+"y"]),i.lineTo(n[o+"x"],n[o+"y"]),i.stroke(),i.restore()}}()}).call(window)},function(e,t){(function(){!function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.dotted=function(e,t,n,i,a){var r=e.active?e.active_color||a("defaultEdgeActiveColor"):e.color,o=a("prefix")||"",s=e[o+"size"]||1,l=a("edgeColor"),c=a("defaultNodeColor"),d=a("defaultEdgeColor");if(!r)switch(l){case"source":r=t.color||c;break;case"target":r=n.color||c;break;default:r=d}i.save(),e.active?i.strokeStyle="edge"===a("edgeActiveColor")?r||d:a("defaultEdgeActiveColor"):i.strokeStyle=r,i.setLineDash([2]),i.lineWidth=s,i.beginPath(),i.moveTo(t[o+"x"],t[o+"y"]),i.lineTo(n[o+"x"],n[o+"y"]),i.stroke(),i.restore()}}()}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.curve=function(e,t,n,i,a){if("string"===typeof e.label){var r=a("prefix")||"",o=e[r+"size"]||1;if(!(o<a("edgeLabelThreshold"))){var s,l,c,d=t[r+"size"],u=t[r+"x"],h=t[r+"y"],p=n[r+"x"],f=n[r+"y"],g=p-u,m=f-h,v=u<p?1:-1,_={};t.id===n.id?(_=sigma.utils.getSelfLoopControlPoints(u,h,d),l=sigma.utils.getPointOnBezierCurve(.5,u,h,p,f,_.x1,_.y1,_.x2,_.y2),c=Math.atan2(1,1)):(_=sigma.utils.getQuadraticControlPoint(u,h,p,f),l=sigma.utils.getPointOnQuadraticCurve(.5,u,h,p,f,_.x,_.y),c=Math.atan2(m*v,g*v)),s="fixed"===a("edgeLabelSize")?a("defaultEdgeLabelSize"):a("defaultEdgeLabelSize")*o*Math.pow(o,-1/a("edgeLabelSizePowRatio")),i.save(),e.active?(i.font=[a("activeFontStyle"),s+"px",a("activeFont")||a("font")].join(" "),i.fillStyle="edge"===a("edgeActiveColor")?e.active_color||a("defaultEdgeActiveColor"):a("defaultEdgeLabelActiveColor")):(i.font=[a("fontStyle"),s+"px",a("font")].join(" "),i.fillStyle="edge"===a("edgeLabelColor")?e.color||a("defaultEdgeColor"):a("defaultEdgeLabelColor")),i.textAlign="center",i.textBaseline="alphabetic",i.translate(l.x,l.y),i.rotate(c),i.fillText(e.label,0,-o/2-3),i.restore()}}}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.curvedArrow=function(e,t,n,i,a){sigma.canvas.edges.labels.curve(e,t,n,i,a)}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.def=function(e,t,n,i,a){if("string"===typeof e.label&&t!=n){var r=a("prefix")||"",o=e[r+"size"]||1;if(!(o<a("edgeLabelThreshold"))){if(0===a("edgeLabelSizePowRatio"))throw'"edgeLabelSizePowRatio" must not be 0.';var s,l=(t[r+"x"]+n[r+"x"])/2,c=(t[r+"y"]+n[r+"y"])/2,d=n[r+"x"]-t[r+"x"],u=n[r+"y"]-t[r+"y"],h=t[r+"x"]<n[r+"x"]?1:-1,p=Math.atan2(u*h,d*h);s="fixed"===a("edgeLabelSize")?a("defaultEdgeLabelSize"):a("defaultEdgeLabelSize")*o*Math.pow(o,-1/a("edgeLabelSizePowRatio")),i.save(),e.active?(i.font=[a("activeFontStyle"),s+"px",a("activeFont")||a("font")].join(" "),i.fillStyle="edge"===a("edgeActiveColor")?e.active_color||a("defaultEdgeActiveColor"):a("defaultEdgeLabelActiveColor")):(i.font=[a("fontStyle"),s+"px",a("font")].join(" "),i.fillStyle="edge"===a("edgeLabelColor")?e.color||a("defaultEdgeColor"):a("defaultEdgeLabelColor")),i.textAlign="center",i.textBaseline="alphabetic",i.translate(l,c),i.rotate(p),i.fillText(e.label,0,-o/2-3),i.restore()}}}}).call(this)}).call(window)},function(e,t){(function(){!function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.tapered=function(e,t,n,i,a){var r=e.active?e.active_color||a("defaultEdgeActiveColor"):e.color,o=e[(l=a("prefix")||"")+"size"]||1,s=a("edgeColor"),l=a("prefix")||"",c=a("defaultNodeColor"),d=a("defaultEdgeColor"),u=t[l+"x"],h=t[l+"y"],p=n[l+"x"],f=n[l+"y"],g=sigma.utils.getDistance(u,h,p,f);if(!r)switch(s){case"source":r=t.color||c;break;case"target":r=n.color||c;break;default:r=d}var m=sigma.utils.getCircleIntersection(u,h,o,p,f,g);i.save(),e.active?i.fillStyle="edge"===a("edgeActiveColor")?r||d:a("defaultEdgeActiveColor"):i.fillStyle=r,i.globalAlpha=.65,i.beginPath(),i.moveTo(p,f),i.lineTo(m.xi,m.yi),i.lineTo(m.xi_prime,m.yi_prime),i.closePath(),i.fill(),i.restore()}}()}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";var t,n,i,a;function r(e){if(-1==e.indexOf(";base64,")){var t=(i=e.split(","))[0].split(":")[1],n=decodeURIComponent(i[1]);return new Blob([n],{type:t})}t=(i=e.split(";base64,"))[0].split(":")[1];for(var i,a=(n=window.atob(i[1])).length,r=new Uint8Array(a),o=0;o<a;++o)r[o]=n.charCodeAt(o);return new Blob([r],{type:t})}function o(e,t,n){var i=Math.min(n/e,n/t);return{width:e*i,height:t*i}}function l(e,t,n){var i,a=n.margin||0,r={width:t.width,height:t.height};return n.clips||n.size?n.size&&n.size>=1&&(r=o(t.width,t.height,n.size)):r={width:(i=function(e,t,n){var i;return(i=sigma.utils.getBoundaries(e.graph,t.camera.readPrefix)).minX/=n.zoomRatio,i.minY/=n.zoomRatio,i.maxX/=n.zoomRatio,i.maxY/=n.zoomRatio,i}(e,t,n)).maxX-i.minX+2*i.sizeMax,height:i.maxY-i.minY+2*i.sizeMax},r.width+=a,r.height+=a,r}function c(e,t,i){if((i=i||{}).format&&!(i.format in n))throw Error('sigma.renderers.image: unsupported format "'+i.format+'".');var a=l(e,t,i),o=e.settings("batchEdgesDrawing");o&&e.settings("batchEdgesDrawing",!1),i.clip||this.clone(e,i,a);var s=this.draw(t,i,a);e.settings("batchEdgesDrawing",o);var c=s.toDataURL(n[i.format||"png"]);return i.download&&function(e,t,n){if(n=n||"graph."+t,navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r(e),n);else if(navigator.msSaveBlob)navigator.msSaveBlob(r(e),n);else{var i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("download",n),document.body.appendChild(i),i.click(),document.body.removeChild(i)}}(c,i.format||"png",i.filename),c}sigma.utils.pkg("sigma.plugins"),t=["scene","edges","nodes","labels"],n={png:"image/png",jpg:"image/jpeg",gif:"image/gif",tiff:"image/tiff"},c.prototype.clone=function(e,n,r){n.tmpContainer=n.tmpContainer||"image-container";var o=sigma.utils.getPixelRatio(),s=e.settings("webglOversamplingRatio"),l=document.getElementById(n.tmpContainer);l||((l=document.createElement("div")).id=n.tmpContainer,document.body.appendChild(l)),l.setAttribute("style","width:"+Math.round(r.width/o)+"px;height:"+Math.round(r.height/o)+"px;");var c=e.addRenderer({container:document.getElementById(n.tmpContainer),type:"canvas",settings:{batchEdgesDrawing:!0,drawLabels:!!n.labels}});c.camera.ratio=n.zoomRatio>0?n.zoomRatio:1,n.size||(c.camera.ratio*=o);var d=c instanceof sigma.renderers.webgl,u=!1,h=[];i=document.createElement("canvas"),a=i.getContext("2d"),e.refresh(),t.forEach((function(e){if(c.contexts[e]&&(!1!==n.labels||"labels"!==e)){var t=c.domElements[e]||c.domElements.scene,o=c.contexts[e];u||(i.width=r.width,i.height=r.height,d&&o instanceof WebGLRenderingContext&&(i.width/=s,i.height/=s),u=!0),o instanceof WebGLRenderingContext?a.drawImage(t,0,0,t.width/s,t.height/s):a.drawImage(t,0,0),~h.indexOf(o)||h.push(o)}})),h=[],e.killRenderer(c),l.parentNode.removeChild(l)},c.prototype.draw=function(e,n,a){var r=e instanceof sigma.renderers.webgl,l=!1,c=[],d=document.createElement("canvas"),u=d.getContext("2d");return t.forEach((function(t){if(e.contexts[t]&&(!1!==n.labels||"labels"!==t)){var h=e.domElements[t]||e.domElements.scene,p=e.contexts[t];if(!~c.indexOf(p)){if(!l){var f,g;if(n.clip){var m=!n.size||n.size<1?window.innerWidth:n.size;f=h.width,g=h.height,a=o(f,g,m)}else f=i.width,g=i.height;if(d.width=a.width,d.height=a.height,!r&&!p instanceof WebGLRenderingContext){var v=s.settings("webglOversamplingRatio");d.width*=v,d.height*=v}l=!0,n.background&&(u.rect(0,0,d.width,d.height),u.fillStyle=n.background,u.fill())}u.drawImage(n.clip?h:i,0,0,d.width,d.height),c.push(p)}}})),c=[],d};var d=null;sigma.plugins.image=function(e,t,n){return sigma.plugins.killImage(),d||(d=new c(e,t,n)),d},sigma.plugins.killImage=function(){d instanceof c&&(d=null,i=null,a=null)}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw new Error("sigma is not declared");sigma.utils.pkg("sigma.layouts.fruchtermanReingold");var t={autoArea:!0,area:1,gravity:10,speed:.1,iterations:1e3},n={},i={};function a(){var e=this;this.init=function(e,n){if(n=n||{},this.sigInst=e,this.config=sigma.utils.extend(n,t),this.easing=n.easing,this.duration=n.duration,!sigma.plugins||"undefined"===typeof sigma.plugins.animate)throw new Error("sigma.plugins.animate is not declared");this.running=!1},this.atomicGo=function(){if(!this.running||this.iterCount<1)return!1;var t,n,i,a,r,o,s,l,c,d=this.sigInst.graph.nodes(),u=this.sigInst.graph.edges(),h=d.length,p=u.length;this.config.area=this.config.autoArea?h*h:this.config.area,this.iterCount--,this.running=this.iterCount>0;var f,g,m,v,_,b,y=Math.sqrt(this.config.area)/10,w=Math.sqrt(this.config.area/(1+h));for(t=0;t<h;t++)for((i=d[t]).fr||(i.fr_x=i.x,i.fr_y=i.y,i.fr={dx:0,dy:0}),n=0;n<h;n++)a=d[n],i.id!=a.id&&(o=i.fr_x-a.fr_x,s=i.fr_y-a.fr_y,(l=Math.sqrt(o*o+s*s)+.01)>0&&(c=w*w/l,i.fr.dx+=o/l*c,i.fr.dy+=s/l*c));for(t=0;t<p;t++)r=u[t],f=e.sigInst.graph.nodes(r.source),g=e.sigInst.graph.nodes(r.target),o=f.fr_x-g.fr_x,s=f.fr_y-g.fr_y,m=(l=Math.sqrt(o*o+s*s)+.01)*l/w,l>0&&(f.fr.dx-=o/l*m,f.fr.dy-=s/l*m,g.fr.dx+=o/l*m,g.fr.dy+=s/l*m);for(t=0;t<h;t++)i=d[t],v=Math.sqrt(i.fr_x*i.fr_x+i.fr_y*i.fr_y),_=.01*w*e.config.gravity*v,i.fr.dx-=_*i.fr_x/v,i.fr.dy-=_*i.fr_y/v,i.fr.dx*=e.config.speed,i.fr.dy*=e.config.speed,i.fixed||(o=i.fr.dx,s=i.fr.dy,(l=Math.sqrt(o*o+s*s))>0&&(b=Math.min(y*e.config.speed,l),i.fr_x+=o/l*b,i.fr_y+=s/l*b));return this.running},this.go=function(){for(this.iterCount=this.config.iterations;this.running;)this.atomicGo();this.stop()},this.start=function(){if(!this.running){var t=this.sigInst.graph.nodes();this.running=!0;for(var n=0;n<t.length;n++)t[n].fr_x=t[n].x,t[n].fr_y=t[n].y,t[n].fr={dx:0,dy:0};i[e.sigInst.id].dispatchEvent("start"),this.go()}},this.stop=function(){var t=this.sigInst.graph.nodes();if(this.running=!1,this.easing)i[e.sigInst.id].dispatchEvent("interpolate"),sigma.plugins.animate(e.sigInst,{x:"fr_x",y:"fr_y"},{easing:e.easing,onComplete:function(){e.sigInst.refresh();for(var n=0;n<t.length;n++)t[n].fr=null,t[n].fr_x=null,t[n].fr_y=null;i[e.sigInst.id].dispatchEvent("stop")},duration:e.duration});else{for(var n=0;n<t.length;n++)t[n].x=t[n].fr_x,t[n].y=t[n].fr_y;this.sigInst.refresh();for(n=0;n<t.length;n++)t[n].fr=null,t[n].fr_x=null,t[n].fr_y=null;i[e.sigInst.id].dispatchEvent("stop")}},this.kill=function(){this.sigInst=null,this.config=null,this.easing=null}}sigma.layouts.fruchtermanReingold.configure=function(e,t){if(!e)throw new Error('Missing argument: "sigInst"');if(!t)throw new Error('Missing argument: "config"');return n[e.id]||(n[e.id]=new a,i[e.id]={},sigma.classes.dispatcher.extend(i[e.id]),e.bind("kill",(function(){n[e.id].kill(),n[e.id]=null,i[e.id]=null}))),n[e.id].init(e,t),i[e.id]},sigma.layouts.fruchtermanReingold.start=function(e,t){if(!e)throw new Error('Missing argument: "sigInst"');return t&&this.configure(e,t),n[e.id].start(),i[e.id]},sigma.layouts.fruchtermanReingold.isRunning=function(e){if(!e)throw new Error('Missing argument: "sigInst"');return!!n[e.id]&&n[e.id].running},sigma.layouts.fruchtermanReingold.progress=function(e){if(!e)throw new Error('Missing argument: "sigInst"');return(n[e.id].config.iterations-n[e.id].iterCount)/n[e.id].config.iterations}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw new Error("sigma is not declared");sigma.utils.pkg("sigma.layout.noverlap");var t={speed:3,scaleNodes:1.2,nodeMargin:5,gridSize:20,permittedExpansion:1.1,rendererIndex:0,maxIterations:500},n={},i={};function a(){var e=this;this.init=function(e,n){if(n=n||{},this.sigInst=e,this.config=sigma.utils.extend(n,t),this.easing=n.easing,this.duration=n.duration,n.nodes&&(this.nodes=n.nodes,delete n.nodes),!sigma.plugins||"undefined"===typeof sigma.plugins.animate)throw new Error("sigma.plugins.animate is not declared");this.running=!1},this.atomicGo=function(){if(!this.running||this.iterCount<1)return!1;var t,n,i,a,r,o,s,l,c,d,u,h,p,f,g,m,v,_,b,y,w,x=this.nodes||this.sigInst.graph.nodes(),C=x.length,S=1/0,T=-1/0,k=1/0,A=-1/0;for(this.iterCount--,this.running=!1,t=0;t<C;t++)(n=x[t]).dn.dx=0,n.dn.dy=0,S=Math.min(S,n.dn_x-(n.dn_size*e.config.scaleNodes+e.config.nodeMargin)),T=Math.max(T,n.dn_x+(n.dn_size*e.config.scaleNodes+e.config.nodeMargin)),k=Math.min(k,n.dn_y-(n.dn_size*e.config.scaleNodes+e.config.nodeMargin)),A=Math.max(A,n.dn_y+(n.dn_size*e.config.scaleNodes+e.config.nodeMargin));for(a=T-S,r=A-k,s=(k+A)/2,S=(o=(S+T)/2)-e.config.permittedExpansion*a/2,T=o+e.config.permittedExpansion*a/2,k=s-e.config.permittedExpansion*r/2,A=s+e.config.permittedExpansion*r/2,l={},c=0;c<e.config.gridSize;c++)for(l[c]={},d=0;d<e.config.gridSize;d++)l[c][d]=[];for(t=0;t<C;t++)for(_=(n=x[t]).dn_x-(n.dn_size*e.config.scaleNodes+e.config.nodeMargin),b=n.dn_x+(n.dn_size*e.config.scaleNodes+e.config.nodeMargin),y=n.dn_y-(n.dn_size*e.config.scaleNodes+e.config.nodeMargin),w=n.dn_y+(n.dn_size*e.config.scaleNodes+e.config.nodeMargin),u=Math.floor(e.config.gridSize*(_-S)/(T-S)),h=Math.floor(e.config.gridSize*(b-S)/(T-S)),p=Math.floor(e.config.gridSize*(y-k)/(A-k)),f=Math.floor(e.config.gridSize*(w-k)/(A-k)),d=u;d<=h;d++)for(c=p;c<=f;c++)l[c][d].push(n.id);for(g={},c=0;c<e.config.gridSize;c++)for(d=0;d<e.config.gridSize;d++)l[c][d].forEach((function(t){for(g[t]||(g[t]=[]),m=Math.max(0,c-1);m<=Math.min(c+1,e.config.gridSize-1);m++)for(v=Math.max(0,d-1);v<=Math.min(d+1,e.config.gridSize-1);v++)l[m][v].forEach((function(e){e!==t&&-1===g[t].indexOf(e)&&g[t].push(e)}))}));for(t=0;t<C;t++)i=x[t],g[i.id].forEach((function(t){var n=e.sigInst.graph.nodes(t),o=n.dn_x-i.dn_x,s=n.dn_y-i.dn_y,l=Math.sqrt(o*o+s*s);l<i.dn_size*e.config.scaleNodes+e.config.nodeMargin+(n.dn_size*e.config.scaleNodes+e.config.nodeMargin)&&(e.running=!0,l>0?(n.dn.dx+=o/l*(1+i.dn_size),n.dn.dy+=s/l*(1+i.dn_size)):(n.dn.dx+=.01*a*(.5-Math.random()),n.dn.dy+=.01*r*(.5-Math.random())))}));for(t=0;t<C;t++)(n=x[t]).fixed||(n.dn_x=n.dn_x+.1*n.dn.dx*e.config.speed,n.dn_y=n.dn_y+.1*n.dn.dy*e.config.speed);return this.running&&this.iterCount<1&&(this.running=!1),this.running},this.go=function(){for(this.iterCount=this.config.maxIterations;this.running;)this.atomicGo();this.stop()},this.start=function(){if(!this.running){var t=this.sigInst.graph.nodes(),n=this.sigInst.renderers[e.config.rendererIndex].options.prefix;this.running=!0;for(var a=0;a<t.length;a++)t[a].dn_x=t[a][n+"x"],t[a].dn_y=t[a][n+"y"],t[a].dn_size=t[a][n+"size"],t[a].dn={dx:0,dy:0};i[e.sigInst.id].dispatchEvent("start"),this.go()}},this.stop=function(){var t=this.sigInst.graph.nodes();if(this.running=!1,this.easing)i[e.sigInst.id].dispatchEvent("interpolate"),sigma.plugins.animate(e.sigInst,{x:"dn_x",y:"dn_y"},{easing:e.easing,onComplete:function(){e.sigInst.refresh();for(var n=0;n<t.length;n++)t[n].dn=null,t[n].dn_x=null,t[n].dn_y=null;i[e.sigInst.id].dispatchEvent("stop")},duration:e.duration});else{for(var n=0;n<t.length;n++)t[n].x=t[n].dn_x,t[n].y=t[n].dn_y;this.sigInst.refresh();for(n=0;n<t.length;n++)t[n].dn=null,t[n].dn_x=null,t[n].dn_y=null;i[e.sigInst.id].dispatchEvent("stop")}},this.kill=function(){this.sigInst=null,this.config=null,this.easing=null}}sigma.prototype.configNoverlap=function(e){var t=this;if(!e)throw new Error('Missing argument: "config"');return n[t.id]||(n[t.id]=new a,i[t.id]={},sigma.classes.dispatcher.extend(i[t.id]),t.bind("kill",(function(){n[t.id].kill(),n[t.id]=null,i[t.id]=null}))),n[t.id].init(t,e),i[t.id]},sigma.prototype.startNoverlap=function(e){return e&&this.configNoverlap(this,e),n[this.id].start(),i[this.id]},sigma.prototype.isNoverlapRunning=function(){return!!n[this.id]&&n[this.id].running}}).call(this)}).call(window)},function(e,t){(function(){(function(){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins");var e=0,t={};function n(e){if(t[e])return t[e];var n=[0,0,0];return e.match(/^#/)?n=3===(e=(e||"").replace(/^#/,"")).length?[parseInt(e.charAt(0)+e.charAt(0),16),parseInt(e.charAt(1)+e.charAt(1),16),parseInt(e.charAt(2)+e.charAt(2),16)]:[parseInt(e.charAt(0)+e.charAt(1),16),parseInt(e.charAt(2)+e.charAt(3),16),parseInt(e.charAt(4)+e.charAt(5),16)]:e.match(/^ *rgba? *\(/)&&(n=[+(e=e.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/))[1],+e[2],+e[3]]),t[e]={r:n[0],g:n[1],b:n[2]},t[e]}function i(e,t,i){return e=n(e),t=n(t),"rgb("+[0|e.r*(1-i)+t.r*i,0|e.g*(1-i)+t.g*i,0|e.b*(1-i)+t.b*i].join(",")+")"}sigma.plugins.animate=function(t,n,a){var r,o,s,l=a||{},c=++e,d=l.duration||t.settings("animationsTime"),u="string"===typeof l.easing?sigma.utils.easings[l.easing]:"function"===typeof l.easing?l.easing:sigma.utils.easings.quadraticInOut,h=sigma.utils.dateNow();for(s in r=l.nodes&&l.nodes.length?"object"===typeof l.nodes[0]?l.nodes:t.graph.nodes(l.nodes):t.graph.nodes(),o=r.reduce((function(e,t){var i;for(i in e[t.id]={},n)i in t&&(e[t.id][i]=t[i]);return e}),{}),t.animations=t.animations||Object.create({}),sigma.plugins.kill(t),t.cameras)t.cameras[s].edgequadtree._enabled=!1;!function e(){var a=(sigma.utils.dateNow()-h)/d;if(a>=1){var s;for(s in r.forEach((function(e){for(var t in n)t in n&&(e[t]=e[n[t]])})),t.cameras)t.cameras[s].edgequadtree._enabled=!0;t.refresh(),"function"===typeof l.onComplete&&l.onComplete()}else a=u(a),r.forEach((function(e){for(var t in n)t in n&&(t.match(/color$/)?e[t]=i(o[e.id][t],e[n[t]],a):e[t]=e[n[t]]*a+o[e.id][t]*(1-a))})),t.refresh(),t.animations[c]=requestAnimationFrame(e)}()},sigma.plugins.kill=function(e){for(var t in e.animations||{})cancelAnimationFrame(e.animations[t]);for(t in e.cameras)e.cameras[t].edgequadtree._enabled=!0}}).call(window)}).call(window)},function(e,t){(function(){(function(){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";function e(e,t){sigma.classes.dispatcher.extend(this);var n=this,i=e,a=document.body,r=t,o=t.container.lastChild,s=t.camera,l=null,c="",d=[],u={},h=!1,p=!1;function f(e){u[e.data.node.id]||(d.push(e.data.node),u[e.data.node.id]=!0,d.length&&!h&&(l=d[d.length-1],o.addEventListener("mousedown",m)))}function g(e){var t=d.map((function(e){return e})).indexOf(e.data.node);d.splice(t,1),delete u[e.data.node.id],d.length&&!h?l=d[d.length-1]:o.removeEventListener("mousedown",m)}function m(e){h=!0;var t=i.graph.nodes().length;if(l&&t>1){var s,c;for(s in o.removeEventListener("mousedown",m),a.addEventListener("mousemove",_),a.addEventListener("mouseup",v),i.cameras)void 0!==(c=i.cameras[s]).edgequadtree&&(c.edgequadtree._enabled=!1);r.settings({mouseEnabled:!1,enableHovering:!1}),i.refresh(),n.dispatchEvent("startdrag",{node:l,captor:e,renderer:r})}}function v(e){var t,s;for(t in h=!1,o.addEventListener("mousedown",m),a.removeEventListener("mousemove",_),a.removeEventListener("mouseup",v),i.cameras)void 0!==(s=i.cameras[t]).edgequadtree&&(s.edgequadtree._enabled=!0);r.settings({mouseEnabled:!0,enableHovering:!0}),i.refresh(),p&&n.dispatchEvent("drop",{node:l,captor:e,renderer:r}),n.dispatchEvent("dragend",{node:l,captor:e,renderer:r}),p=!1,l=null}function _(e){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){clearTimeout(t);var t=setTimeout(a,0)}else a();function a(){for(var t=function(e){var t=window.getComputedStyle(e),n=function(e){return parseInt(t.getPropertyValue(e).replace("px",""))||0};return{left:e.getBoundingClientRect().left+n("padding-left"),top:e.getBoundingClientRect().top+n("padding-top")}}(r.container),a=e.clientX-t.left,o=e.clientY-t.top,d=Math.cos(s.angle),u=Math.sin(s.angle),h=i.graph.nodes(),f=[],g=0;g<2;g++){var m=h[g],v={x:m.x*d+m.y*u,y:m.y*d-m.x*u,renX:m[c+"x"],renY:m[c+"y"]};f.push(v)}if(f[0].x===f[1].x&&f[0].y===f[1].y){var _=0===f[0].renX?1:f[0].renX,b=0===f[0].renY?1:f[0].renY;a=f[0].x/_*(a-f[0].renX)+f[0].x,o=f[0].y/b*(o-f[0].renY)+f[0].y}else{_=(f[1].renX-f[0].renX)/(f[1].x-f[0].x),b=(f[1].renY-f[0].renY)/(f[1].y-f[0].y);f[1].x===f[0].x&&(_=b),f[1].y===f[0].y&&(b=_),a=(a-f[0].renX)/_+f[0].x,o=(o-f[0].renY)/b+f[0].y}l.x=a*d-o*u,l.y=o*d+a*u,i.refresh(),p=!0,n.dispatchEvent("drag",{node:l,captor:e,renderer:r})}}t instanceof sigma.renderers.svg&&(o=t.container.firstChild),c=t instanceof sigma.renderers.webgl?t.options.prefix.substr(5):t.options.prefix,t.bind("overNode",f),t.bind("outNode",g),t.bind("click",(function(e){h=!1,a.removeEventListener("mousemove",_),a.removeEventListener("mouseup",v),d.length||(l=null)})),i.bind("kill",(function(){n.unbindAll()})),this.unbindAll=function(){o.removeEventListener("mousedown",m),a.removeEventListener("mousemove",_),a.removeEventListener("mouseup",v),r.unbind("overNode",f),r.unbind("outNode",g)}}sigma.utils.pkg("sigma.plugins");var t={};sigma.plugins.dragNodes=function(n,i){return t[n.id]||(t[n.id]=new e(n,i)),n.bind("kill",(function(){sigma.plugins.killDragNodes(n)})),t[n.id]},sigma.plugins.killDragNodes=function(n){t[n.id]instanceof e&&(t[n.id].unbindAll(),delete t[n.id])}}).call(window)}).call(window)},function(module,exports){(function(){(function(undefined){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins"),sigma.classes.graph.hasMethod("adjacentNodes")||sigma.classes.graph.addMethod("adjacentNodes",(function(e){if("string"!==typeof e)throw"adjacentNodes: the node id must be a string.";var t,n=[];for(t in this.allNeighborsIndex[e])n.push(this.nodesIndex[t]);return n})),sigma.classes.graph.hasMethod("adjacentEdges")||sigma.classes.graph.addMethod("adjacentEdges",(function(e){if("string"!==typeof e)throw"adjacentEdges: the node id must be a string.";var t,n,i=this.allNeighborsIndex[e],a=[];for(n in i)for(t in i[n])a.push(i[n][t]);return a}));var _g=undefined,_s=undefined,_chain=[],_keysIndex=Object.create(null),Processors={};function register(e,t,n){if(n!=undefined&&"string"!==typeof n)throw'The filter key "'+n.toString()+'" must be a string.';if(n!=undefined&&!n.length)throw"The filter key must be a non-empty string.";if("function"!==typeof e)throw'The predicate of key "'+n+'" must be a function.';if("undo"===n)throw'"undo" is a reserved key.';if(_keysIndex[n])throw'The filter "'+n+'" already exists.';n&&(_keysIndex[n]=!0),_chain.push({key:n,processor:e,predicate:t})}function unregister(e){for(var t in _chain=_chain.filter((function(t){return!(t.key in e)})),e)delete _keysIndex[t]}function Filter(e){_s=e,_g=e.graph}function deepCopy(o){var copy=Object.create(null);for(var i in o)"object"===typeof o[i]&&null!==o[i]?copy[i]=deepCopy(o[i]):"function"===typeof o[i]&&null!==o[i]?eval(" copy[i] = "+o[i].toString()):copy[i]=o[i];return copy}function cloneChain(e){for(var t=e.slice(0),n=0,i=t.length;n<i;n++)t[n]=deepCopy(t[n]),"function"===typeof t[n].processor&&(t[n].processor="filter.processors."+t[n].processor.name);return t}Processors.nodes=function(e){for(var t=_g.nodes(),n=t.length,i=_g.edges(),a=i.length;n--;)t[n].hidden=!e.call(_g,t[n])||t[n].hidden;for(;a--;)(_g.nodes(i[a].source).hidden||_g.nodes(i[a].target).hidden)&&(i[a].hidden=!0)},Processors.edges=function(e){for(var t=_g.edges(),n=t.length;n--;)t[n].hidden=!e.call(_g,t[n])||t[n].hidden},Processors.neighbors=function(e){for(var t=_g.nodes(),n=t.length,i=_g.edges(),a=i.length,r=_g.adjacentNodes(e),o=r.length,s={};o--;)s[r[o].id]=!0;for(;n--;)t[n].id===e||t[n].id in s||(t[n].hidden=!0);for(;a--;)(_g.nodes(i[a].source).hidden||_g.nodes(i[a].target).hidden)&&(i[a].hidden=!0)},Filter.prototype.nodesBy=function(e,t){return register(Processors.nodes,e,t),this},Filter.prototype.edgesBy=function(e,t){return register(Processors.edges,e,t),this},Filter.prototype.neighborsOf=function(e,t){if("string"!==typeof e)throw'The node id "'+e.toString()+'" must be a string.';if(!e.length)throw"The node id must be a non-empty string.";return register(Processors.neighbors,e,t),this},Filter.prototype.apply=function(){for(var e=0,t=_chain.length;e<t;++e)_chain[e].processor(_chain[e].predicate);return _chain[0]&&"undo"===_chain[0].key&&_chain.shift(),_s.refresh(),this},Filter.prototype.undo=function(e){var t=Object.create(null),n=arguments.length;if(1===n)if("[object Array]"===Object.prototype.toString.call(e))for(var i=0,a=e.length;i<a;i++)t[e[i]]=!0;else t[e]=!0;else if(n>1)for(i=0;i<n;i++)t[arguments[i]]=!0;else this.clear();function r(){for(var e=_g.nodes(),t=e.length,n=_g.edges(),i=n.length;t--;)e[t].hidden=!1;for(;i--;)n[i].hidden=!1}return unregister(t),_chain.unshift({key:"undo",processor:r}),this},Filter.prototype.clear=function(){return _chain.length=0,_keysIndex=Object.create(null),this},Filter.prototype.export=function(){return cloneChain(_chain)},Filter.prototype.import=function(e){if(e===undefined)throw"Wrong arguments.";if("[object Array]"!==Object.prototype.toString.call(e))throw'The chain" must be an array.';for(var t=cloneChain(e),n=0,i=t.length;n<i;n++){if(t[n].predicate===undefined||t[n].processor===undefined)throw"Wrong arguments.";if(t[n].key!=undefined&&"string"!==typeof t[n].key)throw'The filter key "'+t[n].key.toString()+'" must be a string.';if("function"!==typeof t[n].predicate)throw'The predicate of key "'+t[n].key+'" must be a function.';if("string"!==typeof t[n].processor)throw'The processor of key "'+t[n].key+'" must be a string.';switch(t[n].processor){case"filter.processors.nodes":t[n].processor=Processors.nodes;break;case"filter.processors.edges":t[n].processor=Processors.edges;break;case"filter.processors.neighbors":t[n].processor=Processors.neighbors;break;default:throw"Unknown processor "+t[n].processor}}return _chain=t,this};var filter=null;sigma.plugins.filter=function(e){return filter||(filter=new Filter(e)),filter}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins.fullScreen");var t=null,n=null;function i(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}sigma.plugins.fullScreen=function(e){var a=e||{};t=a.container?"object"===typeof a.container?a.container:document.getElementById(a.container):this.container,n=null,a.btnId?((n=document.getElementById(a.btnId)).removeEventListener("click",i),n.addEventListener("click",i)):i()}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins");var t=e,n={};function i(n,i,a){if(sigma.classes.dispatcher.extend(this),sigma.renderers.webgl&&i instanceof sigma.renderers.webgl)throw new Error("The sigma.plugins.lasso is not compatible with the WebGL renderer");this.sigmaInstance=n,this.renderer=i,this.drawingCanvas=e,this.drawingContext=e,this.drewPoints=[],this.selectedNodes=[],this.isActive=!1,this.isDrawing=!1,t=document.body,this.settings=new sigma.classes.configurable({strokeStyle:"black",lineWidth:2,fillWhileDrawing:!1,fillStyle:"rgba(200, 200, 200, 0.25)",cursor:"crosshair"},a||{})}i.prototype.clear=function(){return this.deactivate(),this.sigmaInstance=e,this.renderer=e,this},i.prototype.activate=function(){return this.sigmaInstance&&!this.isActive&&(this.isActive=!0,this.renderer.domElements.lasso||(this.renderer.initDOM("canvas","lasso"),this.drawingCanvas=this.renderer.domElements.lasso,this.drawingCanvas.width=this.renderer.container.offsetWidth,this.drawingCanvas.height=this.renderer.container.offsetHeight,this.renderer.container.appendChild(this.drawingCanvas),this.drawingContext=this.drawingCanvas.getContext("2d"),this.drawingCanvas.style.cursor=this.settings("cursor")),a.apply(this)),this},i.prototype.deactivate=function(){return this.sigmaInstance&&this.isActive&&(this.isActive=!1,this.isDrawing=!1,r.apply(this),this.renderer.domElements.lasso&&(this.renderer.container.removeChild(this.renderer.domElements.lasso),delete this.renderer.domElements.lasso,this.drawingCanvas.style.cursor="",this.drawingCanvas=e,this.drawingContext=e,this.drewPoints=[])),this};var a=function(){this.drawingCanvas.addEventListener("mousedown",o.bind(this)),t.addEventListener("mousemove",s.bind(this)),t.addEventListener("mouseup",l.bind(this)),this.drawingCanvas.addEventListener("touchstart",o.bind(this)),t.addEventListener("touchmove",s.bind(this)),t.addEventListener("touchcancel",l.bind(this)),t.addEventListener("touchleave",l.bind(this)),t.addEventListener("touchend",l.bind(this))},r=function(){this.drawingCanvas.removeEventListener("mousedown",o.bind(this)),t.removeEventListener("mousemove",s.bind(this)),t.removeEventListener("mouseup",l.bind(this)),this.drawingCanvas.removeEventListener("touchstart",o.bind(this)),this.drawingCanvas.removeEventListener("touchmove",s.bind(this)),t.removeEventListener("touchcancel",l.bind(this)),t.removeEventListener("touchleave",l.bind(this)),t.removeEventListener("touchend",l.bind(this))};function o(e){var t=this.drawingCanvas.getBoundingClientRect();this.isActive&&(this.isDrawing=!0,this.drewPoints=[],this.selectedNodes=[],this.sigmaInstance.refresh(),this.drewPoints.push({x:e.clientX-t.left,y:e.clientY-t.top}),this.drawingCanvas.style.cursor=this.settings("cursor"),e.stopPropagation())}function s(e){if(this.isActive&&this.isDrawing){var t=0,n=0,i=this.drawingCanvas.getBoundingClientRect();switch(e.type){case"touchmove":t=e.touches[0].clientX,n=e.touches[0].clientY;break;default:t=e.clientX,n=e.clientY}this.drewPoints.push({x:t-i.left,y:n-i.top}),this.drawingContext.lineWidth=this.settings("lineWidth"),this.drawingContext.strokeStyle=this.settings("strokeStyle"),this.drawingContext.fillStyle=this.settings("fillStyle"),this.drawingContext.lineJoin="round",this.drawingContext.lineCap="round",this.drawingContext.clearRect(0,0,this.drawingContext.canvas.width,this.drawingContext.canvas.height);var a=this.drewPoints[0],r=this.drewPoints[1],o=this.drewPoints.length;this.drawingContext.beginPath(),this.drawingContext.moveTo(a.x,a.y);for(var s=1;s<o;s++){var l=(d=r,{x:(c=a).x+(d.x-c.x)/2,y:c.y+(d.y-c.y)/2});this.drawingContext.quadraticCurveTo(a.x,a.y,l.x,l.y),a=this.drewPoints[s],r=this.drewPoints[s+1]}this.drawingContext.lineTo(a.x,a.y),this.drawingContext.stroke(),this.settings("fillWhileDrawing")&&this.drawingContext.fill(),e.stopPropagation()}var c,d}function l(e){if(this.isActive&&this.isDrawing){this.isDrawing=!1;for(var t=this.renderer.nodesOnScreen,n=t.length,i=this.renderer.options.prefix||"";n--;){var a=t[n],r=a[i+"x"],o=a[i+"y"];this.drawingContext.isPointInPath(r,o)&&!a.hidden&&this.selectedNodes.push(a)}this.dispatchEvent("selectedNodes",this.selectedNodes),this.drawingContext.clearRect(0,0,this.drawingCanvas.width,this.drawingCanvas.height),this.drawingCanvas.style.cursor=this.settings("cursor"),e.stopPropagation()}}i.prototype.getSelectedNodes=function(){return this.selectedNodes},sigma.plugins.lasso=function(e,t,a){return n[e.id]||(n[e.id]=new i(e,t,a)),e.bind("kill",(function(){n[e.id]instanceof i&&(n[e.id].clear(),delete n[e.id])})),n[e.id]}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw new Error("sigma not in scope.");function t(){for(var e=[],t=-1,n=arguments.length;++t<n;){var i=arguments[t];e.push(i)}var a=e[0],r=-1,o=a?a.length:0,s=[];e:for(;++r<o;)if(i=a[r],s.indexOf(i)<0){for(t=n;--t;)if(e[t].indexOf(i)<0)continue e;s.push(i)}return s}function n(e,t,n){for(var i=0;i<e.length;i++)null!=e[i]&&(t.beginPath(),t.arc(e[i].x,e[i].y,e[i].radius,0,2*Math.PI,!0),t.closePath(),n?t.stroke():t.fill())}function i(e){e=e||{},this.domElements.background||(this.initDOM("canvas","background"),this.domElements.background.width=this.container.offsetWidth,this.domElements.background.height=this.container.offsetHeight,this.container.insertBefore(this.domElements.background,this.container.firstChild));var i,a,r,o,s,l,c,d,u,h,p=this,f=p.contexts.background,g=this instanceof sigma.renderers.webgl,m=p.options.prefix,v=g?m.substr(5):m,_=e.nodeHaloClustering||p.settings("nodeHaloClustering"),b=e.nodeHaloClusteringMaxRadius||p.settings("nodeHaloClusteringMaxRadius"),y=e.nodeHaloColor||p.settings("nodeHaloColor"),w=e.nodeHaloSize||p.settings("nodeHaloSize"),x=e.nodeHaloStroke||p.settings("nodeHaloStroke"),C=e.nodeHaloStrokeColor||p.settings("nodeHaloStrokeColor"),S=e.nodeHaloStrokeWidth||p.settings("nodeHaloStrokeWidth"),T=p.settings("nodeBorderSize")||0,k=p.settings("nodeOuterBorderSize")||0,A=e.edgeHaloColor||p.settings("edgeHaloColor"),P=e.edgeHaloSize||p.settings("edgeHaloSize"),E=e.drawHalo||p.settings("drawHalo"),D=e.nodes||[],O=e.edges||[];E&&(D=g?D:t(e.nodes,p.nodesOnScreen),O=g?O:t(e.edges,p.edgesOnScreen),f.clearRect(0,0,f.canvas.width,f.canvas.height),f.save(),f.strokeStyle=A,O.forEach((function(e){i=p.graph.nodes(e.source),a=p.graph.nodes(e.target),f.lineWidth=(e[m+"size"]||1)+P,f.beginPath(),r={},o=i[v+"size"],s=i[v+"x"],l=i[v+"y"],c=a[v+"x"],d=a[v+"y"],f.moveTo(s,l),"curve"===e.type||"curvedArrow"===e.type?e.source===e.target?(r=sigma.utils.getSelfLoopControlPoints(s,l,o),f.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,c,d)):(r=sigma.utils.getQuadraticControlPoint(s,l,c,d,e.cc),f.quadraticCurveTo(r.x,r.y,c,d)):(f.moveTo(s,l),f.lineTo(c,d)),f.stroke(),f.closePath()})),f.fillStyle=y,x&&(f.lineWidth=S,f.strokeStyle=C),u=T+k+w,h=D.filter((function(e){return!e.hidden})).map((function(e){return{x:e[v+"x"],y:e[v+"y"],radius:e[v+"size"]+u}})),_&&(h=function(e,t,n){if(n=n||Number.POSITIVE_INFINITY,e.length>1)for(var i,a,r,o=!0;o;){o=!1;for(var s=0;s<e.length;s++)if(null!==e[s])for(var l=s+1;l<e.length;l++)if(null!==e[l]&&(a=sigma.utils.getDistance(e[s].x,e[s].y,e[l].x,e[l].y))<n&&a<e[s].radius+e[l].radius){o=!0,r=[{x:e[s].x,y:e[s].y,radius:e[s].radius},{x:e[l].x,y:e[l].y,radius:e[l].radius}],e[s].points&&(r=r.concat(e[s].points)),e[l].points&&(r=r.concat(e[l].points)),i={x:0,y:0};for(var c=0;c<r.length;c++)i.x+=r[c].x,i.y+=r[c].y;i.x/=r.length,i.y/=r.length,i.radius=Math.max.apply(null,r.map((function(e){return t+sigma.utils.getDistance(i.x,i.y,e.x,e.y)}))),e.push({x:i.x,y:i.y,radius:i.radius,points:r}),e[s]=e[l]=null;break}}return e}(h,u,b)),x&&n(h,f,!0),n(h,f),f.restore())}sigma.renderers.canvas.prototype.halo=i,sigma.renderers.webgl.prototype.halo=i}).call(this)}).call(window)},function(e,t,n){RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},function(t){"use strict";var n;(n="undefined"!==typeof jQuery&&jQuery?jQuery:{}).csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(e,t){if(isNaN(e))return e;if(/\./.test(e))return parseFloat(e);var n=parseInt(e);return isNaN(n)?null:n}},parsers:{parse:function(e,n){var i=n.separator,a=n.delimiter;n.state.rowNum||(n.state.rowNum=1),n.state.colNum||(n.state.colNum=1);var r=[],o=[],s=0,l="",c=!1;function d(){if(s=0,l="",n.start&&n.state.rowNum<n.start)return o=[],n.state.rowNum++,void(n.state.colNum=1);if(n.onParseEntry===t)r.push(o);else{var e=n.onParseEntry(o,n.state);!1!==e&&r.push(e)}o=[],n.end&&n.state.rowNum>=n.end&&(c=!0),n.state.rowNum++,n.state.colNum=1}function u(){if(n.onParseValue===t)o.push(l);else{var e=n.onParseValue(l,n.state);!1!==e&&o.push(e)}l="",s=0,n.state.colNum++}var h=RegExp.escape(i),p=RegExp.escape(a),f=/(D|S|\r\n|\n|\r|[^DS\r\n]+)/,g=f.source;return g=(g=g.replace(/S/g,h)).replace(/D/g,p),f=new RegExp(g,"gm"),e.replace(f,(function(e){if(!c)switch(s){case 0:if(e===i){l+="",u();break}if(e===a){s=1;break}if(/^(\r\n|\n|\r)$/.test(e)){u(),d();break}l+=e,s=3;break;case 1:if(e===a){s=2;break}l+=e,s=1;break;case 2:if(e===a){l+=e,s=1;break}if(e===i){u();break}if(/^(\r\n|\n|\r)$/.test(e)){u(),d();break}throw new Error("CSVDataError: Illegal State [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");case 3:if(e===i){u();break}if(/^(\r\n|\n|\r)$/.test(e)){u(),d();break}if(e===a)throw new Error("CSVDataError: Illegal Quote [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]")}})),0!==o.length&&(u(),d()),r},splitLines:function(e,n){var i=n.separator,a=n.delimiter;n.state.rowNum||(n.state.rowNum=1);var r=[],o=0,s="",l=!1;function c(){if(o=0,n.start&&n.state.rowNum<n.start)return s="",void n.state.rowNum++;if(n.onParseEntry===t)r.push(s);else{var e=n.onParseEntry(s,n.state);!1!==e&&r.push(e)}s="",n.end&&n.state.rowNum>=n.end&&(l=!0),n.state.rowNum++}var d=RegExp.escape(i),u=RegExp.escape(a),h=/(D|S|\n|\r|[^DS\r\n]+)/,p=h.source;return p=(p=p.replace(/S/g,d)).replace(/D/g,u),h=new RegExp(p,"gm"),e.replace(h,(function(e){if(!l)switch(o){case 0:if(e===i){s+=e,o=0;break}if(e===a){s+=e,o=1;break}if("\n"===e){c();break}if(/^\r$/.test(e))break;s+=e,o=3;break;case 1:if(e===a){s+=e,o=2;break}s+=e,o=1;break;case 2:var t=s.substr(s.length-1);if(e===a&&t===a){s+=e,o=1;break}if(e===i){s+=e,o=0;break}if("\n"===e){c();break}if("\r"===e)break;throw new Error("CSVDataError: Illegal state [Row:"+n.state.rowNum+"]");case 3:if(e===i){s+=e,o=0;break}if("\n"===e){c();break}if("\r"===e)break;if(e===a)throw new Error("CSVDataError: Illegal quote [Row:"+n.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+n.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+n.state.rowNum+"]")}})),""!==s&&c(),r},parseEntry:function(e,n){var i=n.separator,a=n.delimiter;n.state.rowNum||(n.state.rowNum=1),n.state.colNum||(n.state.colNum=1);var r=[],o=0,s="";function l(){if(n.onParseValue===t)r.push(s);else{var e=n.onParseValue(s,n.state);!1!==e&&r.push(e)}s="",o=0,n.state.colNum++}if(!n.match){var c=RegExp.escape(i),d=RegExp.escape(a),u=/(D|S|\n|\r|[^DS\r\n]+)/.source;u=(u=u.replace(/S/g,c)).replace(/D/g,d),n.match=new RegExp(u,"gm")}return e.replace(n.match,(function(e){switch(o){case 0:if(e===i){s+="",l();break}if(e===a){o=1;break}if("\n"===e||"\r"===e)break;s+=e,o=3;break;case 1:if(e===a){o=2;break}s+=e,o=1;break;case 2:if(e===a){s+=e,o=1;break}if(e===i){l();break}if("\n"===e||"\r"===e)break;throw new Error("CSVDataError: Illegal State [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");case 3:if(e===i){l();break}if("\n"===e||"\r"===e)break;if(e===a)throw new Error("CSVDataError: Illegal Quote [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]")}})),l(),r}},helpers:{collectPropertyNames:function(e){var t,n,i=[];for(t in e)for(n in e[t])e[t].hasOwnProperty(n)&&i.indexOf(n)<0&&"function"!==typeof e[t][n]&&i.push(n);return i}},toArray:function(e,i,a){i=i!==t?i:{};var r={};r.callback=a!==t&&"function"===typeof a&&a,r.separator="separator"in i?i.separator:n.csv.defaults.separator,r.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter;var o=i.state!==t?i.state:{};i={delimiter:r.delimiter,separator:r.separator,onParseEntry:i.onParseEntry,onParseValue:i.onParseValue,state:o};var s=n.csv.parsers.parseEntry(e,i);if(!r.callback)return s;r.callback("",s)},toArrays:function(e,i,a){i=i!==t?i:{};var r={};r.callback=a!==t&&"function"===typeof a&&a,r.separator="separator"in i?i.separator:n.csv.defaults.separator,r.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter;var o;if((i={delimiter:r.delimiter,separator:r.separator,onPreParse:i.onPreParse,onParseEntry:i.onParseEntry,onParseValue:i.onParseValue,onPostParse:i.onPostParse,start:i.start,end:i.end,state:{rowNum:1,colNum:1}}).onPreParse!==t&&i.onPreParse(e,i.state),o=n.csv.parsers.parse(e,i),i.onPostParse!==t&&i.onPostParse(o,i.state),!r.callback)return o;r.callback("",o)},toObjects:function(e,i,a){i=i!==t?i:{};var r={};r.callback=a!==t&&"function"===typeof a&&a,r.separator="separator"in i?i.separator:n.csv.defaults.separator,r.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter,r.headers="headers"in i?i.headers:n.csv.defaults.headers,i.start="start"in i?i.start:1,r.headers&&i.start++,i.end&&r.headers&&i.end++;var o,s=[];i={delimiter:r.delimiter,separator:r.separator,onPreParse:i.onPreParse,onParseEntry:i.onParseEntry,onParseValue:i.onParseValue,onPostParse:i.onPostParse,start:i.start,end:i.end,state:{rowNum:1,colNum:1},match:!1,transform:i.transform};var l={delimiter:r.delimiter,separator:r.separator,start:1,end:1,state:{rowNum:1,colNum:1}};i.onPreParse!==t&&i.onPreParse(e,i.state);var c=n.csv.parsers.splitLines(e,l),d=n.csv.toArray(c[0],i);o=n.csv.parsers.splitLines(e,i),i.state.colNum=1,i.state.rowNum=d?2:1;for(var u=0,h=o.length;u<h;u++){for(var p=n.csv.toArray(o[u],i),f={},g=0;g<d.length;g++)f[d[g]]=p[g];i.transform!==t?s.push(i.transform.call(t,f)):s.push(f),i.state.rowNum++}if(i.onPostParse!==t&&i.onPostParse(s,i.state),!r.callback)return s;r.callback("",s)},fromArrays:function(e,i,a){i=i!==t?i:{};var r={};r.callback=a!==t&&"function"===typeof a&&a,r.separator="separator"in i?i.separator:n.csv.defaults.separator,r.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter;var o,s,l,c,d="";for(l=0;l<e.length;l++){for(o=e[l],s=[],c=0;c<o.length;c++){var u=o[c]===t||null===o[c]?"":o[c].toString();u.indexOf(r.delimiter)>-1&&(u=u.replace(new RegExp(r.delimiter,"g"),r.delimiter+r.delimiter));var h="\n|\r|S|D";h=(h=h.replace("S",r.separator)).replace("D",r.delimiter),u.search(h)>-1&&(u=r.delimiter+u+r.delimiter),s.push(u)}d+=s.join(r.separator)+"\r\n"}if(!r.callback)return d;r.callback("",d)},fromObjects:function(e,i,a){i=i!==t?i:{};var r={};if(r.callback=a!==t&&"function"===typeof a&&a,r.separator="separator"in i?i.separator:n.csv.defaults.separator,r.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter,r.headers="headers"in i?i.headers:n.csv.defaults.headers,r.sortOrder="sortOrder"in i?i.sortOrder:"declare",r.manualOrder="manualOrder"in i?i.manualOrder:[],r.transform=i.transform,"string"===typeof r.manualOrder&&(r.manualOrder=n.csv.toArray(r.manualOrder,r)),r.transform!==t){var o,s=e;for(e=[],o=0;o<s.length;o++)e.push(r.transform.call(t,s[o]))}var l=n.csv.helpers.collectPropertyNames(e);if("alpha"===r.sortOrder&&l.sort(),r.manualOrder.length>0){var c=[].concat(r.manualOrder);for(u=0;u<l.length;u++)c.indexOf(l[u])<0&&c.push(l[u]);l=c}var d,u,h,p,f=[];for(r.headers&&f.push(l),d=0;d<e.length;d++){for(h=[],u=0;u<l.length;u++)(p=l[u])in e[d]&&"function"!==typeof e[d][p]?h.push(e[d][p]):h.push("");f.push(h)}return n.csv.fromArrays(f,i,r.callback)}},n.csvEntry2Array=n.csv.toArray,n.csv2Array=n.csv.toArrays,n.csv2Dictionary=n.csv.toObjects,e.exports&&(e.exports=n.csv)}.call(this)},function(e,t){slicePath=function(){return this.NullSlice=function(e,t,n){return e.setBaseValue(t,n),{slicePathString:"",linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.NullInitSlice=function(e,t,n){return e.setBaseValue(t,n),slicePathString=[e.MoveToCenter(),e.Close()],{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:e.centerX,titlePosY:e.centerY}},this.PieSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.6,e.arcBaseRadiusPercent=1,e.arcRadiusPercent=1,e.startRadiusPercent=0,e},this.PieSlice=function(e,t,n){null===n&&(n=PieSliceCustomization()),e.setBaseValue(t,n);var i=e.sliceRadius*n.arcBaseRadiusPercent,a=e.sliceRadius*n.arcRadiusPercent;return slicePathString=[e.MoveTo(e.middleAngle,n.startRadiusPercent*e.sliceRadius),e.LineTo(e.startAngle,i),e.ArcTo(a,e.endAngle,i),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.FlowerSlice=function(e,t,n){null===n&&((n=PieSliceCustomization()).titleRadiusPercent=.5,n.arcBaseRadiusPercent=.65,n.arcRadiusPercent=.14);var i=PieSlice(e,t,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.PieArrowSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.6,e.arrowRadiusPercent=1.1,e},this.PieArrowSlice=function(e,t,n){null===n&&(n=PieArrowSliceCustomization()),e.setBaseValue(t,n),r=e.sliceRadius,arrowAngleStart=e.startAngle+.45*e.sliceAngle,arrowAngleEnd=e.startAngle+.55*e.sliceAngle;var i=r*n.arrowRadiusPercent;return slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,arrowAngleStart,r),e.LineTo(e.middleAngle,i),e.LineTo(arrowAngleEnd,r),e.ArcTo(r,e.endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.PieArrowBasePieSlice=function(e,t,n){null===n&&(n=PieArrowSliceCustomization()),n.arrowRadiusPercent=1;var i=PieArrowSlice(e,t,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.DonutSliceCustomization=function(){var e=new slicePathCustomization;return e.minRadiusPercent=.37,e.maxRadiusPercent=.9,e},this.DonutSlice=function(e,t,n){return null===n&&(n=DonutSliceCustomization()),maxRadius=e.wheelRadius*t*n.maxRadiusPercent,minRadius=e.wheelRadius*t*n.minRadiusPercent,e.setBaseValue(t,n),e.titleRadius=(maxRadius+minRadius)/2,e.setTitlePos(),slicePathString=[e.MoveTo(e.startAngle,minRadius),e.LineTo(e.startAngle,maxRadius),e.ArcTo(maxRadius,e.endAngle,maxRadius),e.LineTo(e.endAngle,minRadius),e.ArcBackTo(minRadius,e.startAngle,minRadius),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.CogSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.55,e.isBasePieSlice=!1,e},this.CogSlice=function(e,t,n){return null===n&&(n=CogSliceCustomization()),e.setBaseValue(t,n),r=e.sliceRadius,rbase=e.wheelRadius*t*.83,percentAngle0625=e.startAngle+.0625*e.sliceAngle,percentAngle1250=e.startAngle+.125*e.sliceAngle,percentAngle1875=e.startAngle+.1875*e.sliceAngle,percentAngle2500=e.startAngle+.25*e.sliceAngle,percentAngle3125=e.startAngle+.3125*e.sliceAngle,percentAngle3750=e.startAngle+.375*e.sliceAngle,percentAngle4375=e.startAngle+.4375*e.sliceAngle,percentAngle5000=e.startAngle+.5*e.sliceAngle,percentAngle5625=e.startAngle+.5625*e.sliceAngle,percentAngle6250=e.startAngle+.625*e.sliceAngle,percentAngle6875=e.startAngle+.6875*e.sliceAngle,percentAngle7500=e.startAngle+.75*e.sliceAngle,percentAngle8125=e.startAngle+.8125*e.sliceAngle,percentAngle8750=e.startAngle+.875*e.sliceAngle,percentAngle9375=e.startAngle+.9375*e.sliceAngle,percentAngle9687=e.startAngle+.96875*e.sliceAngle,n.isBasePieSlice?(r=rbase,slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,percentAngle0625,r),e.ArcTo(r,percentAngle1250,r),e.ArcTo(r,percentAngle1875,r),e.ArcTo(r,percentAngle2500,r),e.ArcTo(r,percentAngle3125,r),e.ArcTo(r,percentAngle3750,r),e.ArcTo(r,percentAngle4375,r),e.ArcTo(r,percentAngle5000,r),e.ArcTo(r,percentAngle5625,r),e.ArcTo(r,percentAngle6250,r),e.ArcTo(r,percentAngle6875,r),e.ArcTo(r,percentAngle7500,r),e.ArcTo(r,percentAngle8125,r),e.ArcTo(r,percentAngle8750,r),e.ArcTo(r,percentAngle9375,r),e.ArcTo(r,percentAngle9687,r),e.ArcTo(r,e.endAngle,r),e.Close()]):slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,percentAngle0625,r),e.LineTo(percentAngle0625,rbase),e.ArcTo(rbase,percentAngle1875,rbase),e.LineTo(percentAngle1875,r),e.ArcTo(r,percentAngle3125,r),e.LineTo(percentAngle3125,rbase),e.ArcTo(rbase,percentAngle4375,rbase),e.LineTo(percentAngle4375,r),e.ArcTo(r,percentAngle5625,r),e.LineTo(percentAngle5625,rbase),e.ArcTo(rbase,percentAngle6875,rbase),e.LineTo(percentAngle6875,r),e.ArcTo(r,percentAngle8125,r),e.LineTo(percentAngle8125,rbase),e.ArcTo(rbase,percentAngle9375,rbase),e.LineTo(percentAngle9375,r),e.ArcTo(r,e.endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.CogBasePieSlice=function(e,t,n){null===n&&(n=CogSliceCustomization()),n.isBasePieSlice=!0;var i=CogSlice(e,t,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.StarSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.44,e.minRadiusPercent=.5,e.isBasePieSlice=!1,e},this.StarSlice=function(e,t,n){return null===n&&(n=StarSliceCustomization()),e.setBaseValue(t,n),r=e.wheelRadius*t,rbase=r*n.minRadiusPercent,n.isBasePieSlice?(r=e.sliceRadius,slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,e.middleAngle,r),e.ArcTo(r,e.endAngle,r),e.Close()]):slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,rbase),e.LineTo(e.middleAngle,r),e.LineTo(e.endAngle,rbase),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.StarBasePieSlice=function(e,t,n){null===n&&(n=StarSliceCustomization()),n.titleRadiusPercent=.6,n.isBasePieSlice=!0;var i=StarSlice(e,t,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.MenuSliceCustomization=function(){var e=new slicePathCustomization;return e.menuRadius=35,e.titleRadiusPercent=.63,e.isSelectedLine=!1,e.lineBaseRadiusPercent=0,e},this.MenuSlice=function(e,t,n){null===n&&(n=MenuSliceCustomization()),e.setBaseValue(t,n),x=e.centerX,y=e.centerY;var i=e.wheelRadius*t;e.titleRadius=i*n.titleRadiusPercent,e.setTitlePos();var a=t*n.menuRadius;return t<=.05&&(a=10),middleTheta=e.middleTheta,slicePathString=[["M",e.titlePosX-a*Math.cos(middleTheta),e.titlePosY-a*Math.sin(middleTheta)],["A",a,a,0,0,1,e.titlePosX+a*Math.cos(middleTheta),e.titlePosY+a*Math.sin(middleTheta)],["A",a,a,0,0,1,e.titlePosX-a*Math.cos(middleTheta),e.titlePosY-a*Math.sin(middleTheta)],["z"]],t<=.05?linePathString=[["M",x,y],["A",1,1,0,0,1,x+1,y+1]]:n.isSelectedLine?linePathString=[e.MoveTo(e.middleAngle,n.lineBaseRadiusPercent*i),e.ArcTo(i/3,e.middleAngle,e.titleRadius-a)]:linePathString=[e.MoveTo(e.middleAngle,n.lineBaseRadiusPercent*i),e.ArcTo(i/2,e.middleAngle,e.titleRadius-a)],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.MenuSliceSelectedLine=function(e,t,n){null===n&&(n=MenuSliceCustomization()),n.isSelectedLine=!0;var i=MenuSlice(e,t,n);return{slicePathString:i.slicePathString,linePathString:i.linePathString,titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.MenuSliceWithoutLine=function(e,t,n){var i=MenuSlice(e,t,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.LineSlice=function(e,t,n){return e.setBaseValue(t,n),r=e.sliceRadius,e.sliceAngle>60&&e.sliceAngle<180?(e.titleRadius=r*(180/e.sliceAngle/5),e.setTitlePos()):(e.titleRadius=.55*r,e.setTitlePos()),e.sliceAngle<180?slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.LineTo(e.endAngle,r),e.Close()]:180===e.startAngle||0===e.startAngle||-180===e.startAngle||360===e.startAngle?slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.LineTo(e.startAngle,r,e.middleAngle,r),e.LineTo(e.endAngle,r,e.middleAngle,r),e.LineTo(e.endAngle,r),e.Close()]:slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.LineTo(e.middleAngle,r,e.startAngle,r),e.LineTo(e.middleAngle,r,e.endAngle,r),e.LineTo(e.endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.EyeSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.68,e},this.EyeSlice=function(e,t,n){return null===n&&(n=EyeSliceCustomization()),e.setBaseValue(t,n),r=e.wheelRadius*t*.7,0===t&&(r=.01),startAngle=e.startAngle,endAngle=e.endAngle,180===e.sliceAngle&&(startAngle=e.startAngle+e.sliceAngle/4,endAngle=e.startAngle+e.sliceAngle-e.sliceAngle/4),slicePathString=[e.MoveTo(endAngle,r),e.ArcTo(r,startAngle,r),e.ArcTo(r,endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.WheelSlice=function(e,t,n){var i;return e.setBaseValue(t,n),x=e.centerX,y=e.centerY,r=e.sliceRadius,startTheta=e.startTheta,middleTheta=e.middleTheta,endTheta=e.endTheta,e.sliceAngle<120?(e.titleRadius=.57*r,i=.9):e.sliceAngle<180?(e.titleRadius=.52*r,i=.91):(e.titleRadius=.45*r,i=.873),slicePathString=[e.MoveTo(e.middleAngle,.07*r),["L",.07*r*Math.cos(middleTheta)+.87*r*Math.cos(startTheta)+x,.07*r*Math.sin(middleTheta)+.87*r*Math.sin(startTheta)+y],["A",r*i,r*i,0,0,1,.07*r*Math.cos(middleTheta)+.87*r*Math.cos(endTheta)+x,.07*r*Math.sin(middleTheta)+.87*r*Math.sin(endTheta)+y],e.Close()],linePathString=[e.MoveTo(e.startAngle,r),e.ArcTo(r,e.endAngle,r),e.ArcBackTo(r,e.startAngle,r)],e.setTitlePos(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.OuterStrokeSlice=function(e,t,n){return e.setBaseValue(t,n),x=e.centerX,y=e.centerY,r=e.sliceRadius,innerRadius=r/4,e.sliceAngle<120?e.titleRadius=.57*r:e.sliceAngle<180?e.titleRadius=.52*r:e.titleRadius=.45*r,linePathString=[e.MoveTo(e.startAngle,innerRadius),e.LineTo(e.startAngle,r),e.MoveTo(e.endAngle,innerRadius),e.LineTo(e.endAngle,r)],slicePathString=[e.MoveTo(e.startAngle,r),e.ArcTo(r,e.endAngle,r),e.ArcBackTo(r,e.startAngle,r),e.MoveTo(e.startAngle,innerRadius),e.ArcTo(innerRadius,e.endAngle,innerRadius),e.ArcBackTo(innerRadius,e.startAngle,innerRadius)],e.setTitlePos(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.TabSlice=function(e,t,n){var i=.9*e.wheelRadius,a=2*i/(360/e.sliceAngle);return x=e.centerX,y=e.centerY,itemIndex=e.itemIndex,titlePosX=x,titlePosY=itemIndex*a+y+a/2-i,slicePathString=[["M",x-a/2,itemIndex*a+y-i],["L",a/2+x,itemIndex*a+y-i],["L",a/2+x,(itemIndex+1)*a+y-i],["L",x-a/2,(itemIndex+1)*a+y-i],["z"]],{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY}},this.YinYangSlice=function(e,t,n){return e.setBaseValue(t,n),r=e.sliceRadius,slicePathString=[e.MoveToCenter(),e.ArcTo(r/2,e.startAngle,r),e.ArcTo(r,e.endAngle,r),e.ArcBackTo(r/2,0,0),e.Close()],titlePosX=e.getX(e.startAngle,r/2),titlePosY=e.getY(e.startAngle,r/2),{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY}},this.WebSlice=function(e,t,n){return e.setBaseValue(t,n),r=e.sliceRadius,e.titleRadius=.55*r,e.setTitlePos(),linePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,1.1*r),e.MoveToCenter(),e.LineTo(e.endAngle,1.1*r),e.MoveTo(e.startAngle,.15*r),e.LineTo(e.endAngle,.15*r),e.MoveTo(e.startAngle,.35*r),e.LineTo(e.endAngle,.35*r),e.MoveTo(e.startAngle,.55*r),e.LineTo(e.endAngle,.55*r),e.MoveTo(e.startAngle,.75*r),e.LineTo(e.endAngle,.75*r),e.MoveTo(e.startAngle,.95*r),e.LineTo(e.endAngle,.95*r),e.Close()],{slicePathString:"",linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.WinterSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.85,e.arcRadiusPercent=1,e},this.WinterSlice=function(e,t,n){null===n&&(n=WinterSliceCustomization()),e.setBaseValue(t,n),sliceAngle=e.sliceAngle,parallelAngle=e.startAngle+sliceAngle/4,parallelAngle2=e.startAngle+sliceAngle/4*3,borderAngle1=e.startAngle+sliceAngle/200,borderAngle2=e.startAngle+sliceAngle/2-sliceAngle/200,borderAngle3=e.startAngle+sliceAngle/2+sliceAngle/200,borderAngle4=e.startAngle+sliceAngle-sliceAngle/200;var i=e.sliceRadius*n.arcRadiusPercent;return slicePathString=[e.MoveToCenter(),e.MoveTo(parallelAngle,i/100),e.LineTo(borderAngle1,i/2),e.LineTo(parallelAngle,i-i/100),e.LineTo(borderAngle2,i/2),e.LineTo(parallelAngle,i/100),e.MoveTo(parallelAngle2,i/100),e.LineTo(borderAngle4,i/2),e.LineTo(parallelAngle2,i-i/100),e.LineTo(borderAngle3,i/2),e.LineTo(parallelAngle2,i/100),e.Close()],linePathString=[e.MoveTo(parallelAngle,i),e.LineTo(borderAngle2,i/2),e.MoveTo(borderAngle3,i/2),e.LineTo(parallelAngle2,i)],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.TutorialSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.6,e.isMoveTo=!1,e.isLineTo=!1,e.isArcTo=!1,e.isArcBackTo=!1,e},this.TutorialSlice=function(e,t,n){return null===n&&(n=TutorialSliceCustomization()),e.setBaseValue(t,n),slicePathString=[],slicePathString.push(e.MoveToCenter()),!0===n.isMoveTo&&slicePathString.push(e.MoveTo(e.middleAngle,e.sliceRadius/4)),n.isLineTo&&slicePathString.push(e.LineTo(e.startAngle,e.sliceRadius)),n.isArcTo&&slicePathString.push(e.ArcTo(e.sliceRadius,e.middleAngle,e.sliceRadius)),n.isArcBackTo&&slicePathString.push(e.ArcBackTo(e.sliceRadius,e.endAngle,e.sliceRadius)),slicePathString.push(e.Close()),linePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,e.sliceRadius),e.ArcTo(e.sliceRadius,e.endAngle,e.sliceRadius),e.Close()],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this}},function(e,t){var n,a;wheelnav=function(e,t,n,i){var r,o,s,l;if(this.holderId="wheel",void 0!==e&&null!==e&&(this.holderId=e),(null===(r=document.getElementById(e))||void 0===r)&&(void 0===t||null===t))return this;if(!0,void 0===t||null===t){for(s=[],l=0;l<r.children.length;l++)"svg"===r.children[l].localName&&s.push(r.children[l]);for(l=0;l<s.length;l++)r.removeChild(s[l]);void 0!==n&&null!==n?((void 0===i||null===i)&&(i=n),this.raphael=new Raphael(e,n,i),o=n):(this.raphael=new Raphael(e),o=r.clientWidth),this.raphael.setViewBox(0,0,this.raphael.width,this.raphael.height,!0)}else this.raphael=t,o=this.raphael.width,!1;return this.centerX=o/2,this.centerY=o/2,this.wheelRadius=o/2,this.navAngle=0,this.sliceAngle=null,this.titleRotateAngle=null,this.initTitleRotate=!1,this.clickModeRotate=!0,this.rotateRound=!1,this.rotateRoundCount=0,this.clickModeSpreadOff=!1,this.animatetimeCalculated=!1,this.animateRepeatCount=0,this.clockwise=!0,this.multiSelect=!1,this.hoverPercent=1,this.selectedPercent=1,this.clickablePercentMin=0,this.clickablePercentMax=1,this.currentPercent=null,this.cssMode=!1,this.selectedToFront=!0,this.selectedNavItemIndex=0,this.navItemCount=0,this.navItemCountLabeled=!1,this.navItemCountLabelOffset=0,this.navItems=[],this.navItemsEnabled=!0,this.animateFinishFunction=null,this.navItemsContinuous=!1,this.navItemsCentered=!0,this.colors=a.defaultpalette,this.titleSpreadScale=null,this.spreaderEnable=!1,this.spreaderRadius=20,this.spreaderStartAngle=0,this.spreaderSliceAngle=360,this.spreaderPathFunction=spreaderPath().PieSpreader,this.spreaderPathCustom=null,this.spreaderInPercent=1,this.spreaderOutPercent=1,this.spreaderInTitle="+",this.spreaderOutTitle="-",this.spreaderTitleFont=null,this.spreaderPathInAttr=null,this.spreaderPathOutAttr=null,this.spreaderTitleInAttr=null,this.spreaderTitleOutAttr=null,this.spreaderInTitleWidth=null,this.spreaderInTitleHeight=null,this.spreaderOutTitleWidth=null,this.spreaderOutTitleHeight=null,this.minPercent=.01,this.maxPercent=1,this.initPercent=1,this.markerEnable=!1,this.markerPathFunction=markerPath().TriangleMarker,this.markerPathCustom=null,this.currentClick=0,this.animateLocked=!1,this.slicePathAttr=null,this.sliceHoverAttr=null,this.sliceSelectedAttr=null,this.titleFont="100 24px Impact, Charcoal, sans-serif",this.titleAttr=null,this.titleHoverAttr=null,this.titleSelectedAttr=null,this.titleWidth=null,this.titleHeight=null,this.titleHoverWidth=null,this.titleHoverHeight=null,this.titleSelectedWidth=null,this.titleSelectedHeight=null,this.linePathAttr=null,this.lineHoverAttr=null,this.lineSelectedAttr=null,this.slicePathCustom=null,this.sliceClickablePathCustom=null,this.sliceSelectedPathCustom=null,this.sliceHoverPathCustom=null,this.sliceInitPathCustom=null,this.sliceTransformCustom=null,this.sliceSelectedTransformCustom=null,this.sliceHoverTransformCustom=null,this.sliceInitTransformCustom=null,this.animateeffect=null,this.animatetime=null,this.slicePathFunction=void 0!==slicePath().PieSlice?slicePath().PieSlice:slicePath().NullSlice,this.sliceClickablePathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedPathFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverPathFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitPathFunction=null,this.sliceInitTransformFunction=null,this.parseWheel(r),this},wheelnav.prototype.initWheel=function(e){var t,n,a;for(this.styleWheel(),0===this.navItemCount?(void 0!==e&&null!==e&&Array.isArray(e)||(e=["title-0","title-1","title-2","title-3"]),this.navItemCount=e.length):e=null,i=0;i<this.navItemCount;i++)"",n=this.navItemCountLabeled?(i+this.navItemCountLabelOffset).toString():null!==e?e[i]:"",t=new wheelnavItem(this,n,i),this.navItems.push(t);for(a=0,i=0;i<this.navItems.length;i++)this.navItems[i].fillAttr=this.colors[a],++a===this.colors.length&&(a=0)},wheelnav.prototype.createWheel=function(e,t){for(null===this.currentPercent&&(this.currentPercent=t?this.minPercent:this.maxPercent),0===this.navItems.length&&this.initWheel(e),null!==this.selectedNavItemIndex&&(this.navItems[this.selectedNavItemIndex].selected=!0),i=0;i<this.navItemCount;i++)this.navItems[i].createNavItem();return this.spreader=new spreader(this),this.marker=new marker(this),this.refreshWheel(),void 0!==t&&this.spreadWheel(),this},wheelnav.prototype.refreshWheel=function(e){for(i=0;i<this.navItemCount;i++){var t=this.navItems[i];t.setWheelSettings(e),t.refreshNavItem(e)}this.marker.setCurrentTransform(),this.spreader.setCurrentTransform()},wheelnav.prototype.navigateWheel=function(e){var t,n,a;for(this.animateUnlock(!0),this.clickModeRotate&&(this.animateLocked=!0),i=0;i<this.navItemCount;i++)(t=this.navItems[i]).hovered=!1,i===e?this.multiSelect?t.selected=!t.selected:(t.selected=!0,this.selectedNavItemIndex=i):this.multiSelect||(t.selected=!1),this.clickModeRotate&&(n=this.navItems[e].navAngle-this.navItems[this.currentClick].navAngle,this.rotateRound&&(this.clockwise&&n<0&&(n=360+n),!this.clockwise&&n>0&&(n-=360)),t.currentRotateAngle-=n,a=null!=this.animatetime?this.animatetime:1500,this.animatetimeCalculated&&e!==this.currentClick&&(t.animatetime=a*(Math.abs(n)/360)),this.rotateRoundCount>0&&(this.clockwise?t.currentRotateAngle-=360*this.rotateRoundCount:t.currentRotateAngle+=360*this.rotateRoundCount,t.animatetime=a*(this.rotateRoundCount+1)));for(i=0;i<this.navItemCount;i++)(t=this.navItems[i]).setCurrentTransform(!0,!0),t.refreshNavItem();this.currentClick=e,this.clickModeSpreadOff?(this.currentPercent=this.maxPercent,this.spreadWheel()):(null===e||this.clickModeRotate?this.marker.setCurrentTransform():this.marker.setCurrentTransform(this.navItems[this.currentClick].navAngle),this.spreader.setCurrentTransform(!0))},wheelnav.prototype.spreadWheel=function(){for(this.animateUnlock(!0),this.animateLocked=!0,this.currentPercent=this.currentPercent===this.maxPercent||null===this.currentPercent?this.minPercent:this.maxPercent,i=0;i<this.navItemCount;i++){var e=this.navItems[i];e.hovered=!1,e.setCurrentTransform(!0,!1)}return this.marker.setCurrentTransform(),this.spreader.setCurrentTransform(),this},wheelnav.prototype.animateUnlock=function(e,t){var n,i;if(void 0!==e&&!0===e)for(n=0;n<this.navItemCount;n++)this.navItems[n].navSliceUnderAnimation=!1,this.navItems[n].navTitleUnderAnimation=!1,this.navItems[n].navLineUnderAnimation=!1,this.navItems[n].navSlice.stop(),this.navItems[n].navLine.stop(),this.navItems[n].navTitle.stop();else{for(i=0;i<this.navItemCount;i++)if(!0===this.navItems[i].navSliceUnderAnimation||!0===this.navItems[i].navTitleUnderAnimation||!0===this.navItems[i].navLineUnderAnimation)return;this.animateLocked=!1,null!==this.animateFinishFunction&&void 0!==t&&!0===t&&this.animateFinishFunction()}},wheelnav.prototype.setTooltips=function(e){if(void 0!==e&&null!==e&&Array.isArray(e)&&e.length<=this.navItems.length)for(var t=0;t<e.length;t++)this.navItems[t].setTooltip(e[t])},wheelnav.prototype.getItemId=function(e){return"wheelnav-"+this.holderId+"-item-"+e},wheelnav.prototype.getSliceId=function(e){return"wheelnav-"+this.holderId+"-slice-"+e},wheelnav.prototype.getClickableSliceId=function(e){return"wheelnav-"+this.holderId+"-clickableslice-"+e},wheelnav.prototype.getTitleId=function(e){return"wheelnav-"+this.holderId+"-title-"+e},wheelnav.prototype.getLineId=function(e){return"wheelnav-"+this.holderId+"-line-"+e},wheelnav.prototype.getSpreaderId=function(){return"wheelnav-"+this.holderId+"-spreader"},wheelnav.prototype.getSpreaderTitleId=function(){return"wheelnav-"+this.holderId+"-spreadertitle"},wheelnav.prototype.getMarkerId=function(){return"wheelnav-"+this.holderId+"-marker"},wheelnav.prototype.parseWheel=function(e){var t,n,i,a,r,o,s,l,c,d,u;if(void 0!==e&&null!==e){if(e.hasAttribute("data-wheelnav")){var h=[],p=[],f=[],g=!1,m=e.getAttribute("data-wheelnav-slicepath");for(null!==m&&void 0!==slicePath()[m]&&(this.slicePathFunction=slicePath()[m]),null!==(t=e.getAttribute("data-wheelnav-colors"))&&(this.colors=t.split(",")),null!==(n=e.getAttribute("data-wheelnav-wheelradius"))&&(this.wheelRadius=Number(n)),null!==(i=e.getAttribute("data-wheelnav-navangle"))&&(this.navAngle=Number(i)),null!==e.getAttribute("data-wheelnav-rotateoff")&&(this.clickModeRotate=!1),null!==e.getAttribute("data-wheelnav-cssmode")&&(this.cssMode=!0),null!==e.getAttribute("data-wheelnav-spreader")&&(this.spreaderEnable=!0),null!==(a=e.getAttribute("data-wheelnav-spreaderradius"))&&(this.spreaderRadius=Number(a)),null!==(r=e.getAttribute("data-wheelnav-spreaderpath"))&&void 0!==markerPath()[r]&&(this.spreaderPathFunction=spreaderPath()[r]),null!==e.getAttribute("data-wheelnav-marker")&&(this.markerEnable=!0),null!==(o=e.getAttribute("data-wheelnav-markerpath"))&&void 0!==markerPath()[o]&&(this.markerPathFunction=markerPath()[o]),null!==(s=e.getAttribute("data-wheelnav-titlewidth"))&&(this.titleWidth=Number(s)),null!==(l=e.getAttribute("data-wheelnav-titleheight"))&&(this.titleHeight=Number(l)),null!==e.getAttribute("data-wheelnav-init")&&(g=!0),u=0;u<e.children.length;u++){var v=e.children[u].getAttribute("data-wheelnav-navitemtext"),_=e.children[u].getAttribute("data-wheelnav-navitemicon"),b=e.children[u].getAttribute("data-wheelnav-navitemimg");if(null!==v||null!==_||null!==b){if(null!==v)h.push(v);else if(null!==_)void 0!==icon[_]?h.push(icon[_]):h.push(_);else{if(null===b)continue;h.push("imgsrc:"+b)}for(void 0!==e.children[u].onmouseup?f.push(e.children[u].onmouseup):f.push(null),!1,c=0;c<e.children[u].children.length;c++)void 0!==e.children[u].children[c].getAttribute("href")&&p.push(e.children[u].children[c].getAttribute("href"));p.push(null)}}if(h.length>0){for(this.initWheel(h),u=0;u<f.length;u++)this.navItems[u].navigateFunction=f[u],this.navItems[u].navigateHref=p[u];g||this.createWheel()}}for(d=[],u=0;u<e.children.length;u++)"svg"!==e.children[u].localName&&d.push(e.children[u]);for(u=0;u<d.length;u++)e.removeChild(d[u])}},wheelnavItem=function(e,t,n){return this.wheelnav=e,this.wheelItemIndex=n,this.itemIndex=e.clockwise?n:-n,this.enabled=e.navItemsEnabled,this.selected=!1,this.hovered=!1,this.navItem=null,this.navSlice=null,this.navTitle=null,this.navLine=null,this.navClickableSlice=null,this.navSliceCurrentTransformString=null,this.navTitleCurrentTransformString=null,this.navLineCurrentTransformString=null,this.navSliceUnderAnimation=!1,this.navTitleUnderAnimation=!1,this.navLineUnderAnimation=!1,this.currentRotateAngle=0,this.title=void 0===t?null:t,this.titleHover=this.title,this.titleSelected=this.title,this.tooltip=null,this.fillAttr="#CCC",this.titleFont=this.wheelnav.titleFont,this.navigateHref=null,this.navigateFunction=null,this.titleWidth=null,this.titleHeight=null,this.titleHoverWidth=null,this.titleHoverHeight=null,this.titleSelectedWidth=null,this.titleSelectedHeight=null,this.animateeffect=null,this.animatetime=null,this.sliceInitPathFunction=null,this.sliceClickablePathFunction=null,this.slicePathFunction=null,this.sliceSelectedPathFunction=null,this.sliceHoverPathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitTransformFunction=null,this.slicePathCustom=null,this.sliceClickablePathCustom=null,this.sliceSelectedPathCustom=null,this.sliceHoverPathCustom=null,this.sliceInitPathCustom=null,this.sliceTransformCustom=null,this.sliceSelectedTransformCustom=null,this.sliceHoverTransformCustom=null,this.sliceInitTransformCustom=null,this.initPercent=null,this.minPercent=null,this.maxPercent=null,this.hoverPercent=null,this.selectedPercent=null,this.clickablePercentMin=null,this.clickablePercentMax=null,this.titleSpreadScale=null,this.sliceAngle=null,this.styleNavItem(),this},wheelnavItem.prototype.createNavItem=function(){var e,t,n,i,a;this.setWheelSettings(!1),null!==this.navigateHref&&(this.navigateFunction=function(){window.location.href=this.navigateHref}),this.wheelnav.cssMode||(this.slicePathAttr.fill=this.fillAttr,this.sliceHoverAttr.fill=this.fillAttr,this.sliceSelectedAttr.fill=this.fillAttr),this.enabled||(this.wheelnav.cssMode||(this.slicePathAttr.cursor="default",this.sliceHoverAttr.cursor="default",this.titleAttr.cursor="default",this.titleHoverAttr.cursor="default",this.linePathAttr.cursor="default",this.lineHoverAttr.cursor="default"),this.sliceClickablePathAttr.cursor="default",this.sliceClickableHoverAttr.cursor="default"),e=this.wheelItemIndex-1,t=360/this.wheelnav.navItemCount,null===this.sliceAngle&&(this.sliceAngle=360/this.wheelnav.navItemCount),this.wheelnav.clockwise?this.wheelnav.navItemsContinuous?this.baseAngle=0===this.itemIndex?this.itemIndex*this.sliceAngle+(-this.sliceAngle/2+this.wheelnav.navAngle):this.wheelnav.navItems[e].baseAngle+this.wheelnav.navItems[e].sliceAngle:this.wheelnav.navItemsCentered?this.baseAngle=this.itemIndex*t+(-this.sliceAngle/2+this.wheelnav.navAngle):(this.baseAngle=this.itemIndex*t+(-t/2+this.wheelnav.navAngle),this.currentRotateAngle+=t/2-this.wheelnav.navItems[0].sliceAngle/2):this.wheelnav.navItemsContinuous?this.baseAngle=0===this.itemIndex?this.itemIndex*this.sliceAngle+(-this.sliceAngle/2+this.wheelnav.navAngle):this.wheelnav.navItems[e].baseAngle-this.wheelnav.navItems[this.wheelItemIndex].sliceAngle:this.wheelnav.navItemsCentered?this.baseAngle=this.itemIndex*t+(-this.sliceAngle/2+this.wheelnav.navAngle):(this.baseAngle=this.itemIndex*t+(-t/2+this.wheelnav.navAngle)+(t-this.sliceAngle),this.currentRotateAngle-=t/2-this.wheelnav.navItems[0].sliceAngle/2),this.navAngle=this.baseAngle+this.sliceAngle/2,this.wheelnav.animatetimeCalculated&&(this.animatetime=this.wheelnav.animatetime/this.wheelnav.navItemCount),this.initPathsAndTransforms(),n=this.sliceInitPath,this.navSlice=this.wheelnav.raphael.path(n.slicePathString),this.navSlice.attr(this.slicePathAttr),this.navSlice.id=this.wheelnav.getSliceId(this.wheelItemIndex),this.navSlice.node.id=this.navSlice.id,this.navLine=this.wheelnav.raphael.path(n.linePathString),this.navLine.attr(this.linePathAttr),this.navLine.id=this.wheelnav.getLineId(this.wheelItemIndex),this.navLine.node.id=this.navLine.id,i=this.initNavTitle,this.navTitle=wheelnavTitle().isPathTitle(this.title)?this.wheelnav.raphael.path(i.path):wheelnavTitle().isImageTitle(this.title)?this.wheelnav.raphael.image(i.src,n.titlePosX-this.titleWidth/2,n.titlePosY-this.titleHeight/2,this.titleWidth,this.titleHeight):this.wheelnav.raphael.text(n.titlePosX,n.titlePosY,i.title),this.navTitle.attr(this.titleAttr),this.navTitle.id=this.wheelnav.getTitleId(this.wheelItemIndex),this.navTitle.node.id=this.navTitle.id,this.navSliceCurrentTransformString="",""!==this.initTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.initTransform.sliceTransformString),this.navLineCurrentTransformString="",""!==this.initTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.initTransform.lineTransformString),this.navTitleCurrentTransformString="",this.navTitleCurrentTransformString+=this.getTitleRotateString(this.wheelnav.initTitleRotate),""!==this.initTransform.titleTransformString&&(this.navTitleCurrentTransformString+=this.initTransform.titleTransformString),this.wheelnav.currentPercent<.05&&(this.navTitleCurrentTransformString+=",s0.05"),void 0!==this.navTitleSizeTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeTransform),this.navSlice.attr({transform:this.navSliceCurrentTransformString}),this.navLine.attr({transform:this.navLineCurrentTransformString}),this.navTitle.attr({transform:this.navTitleCurrentTransformString}),this.navItem=this.wheelnav.raphael.set(),null!==this.sliceClickablePathFunction?(a=this.getCurrentClickablePath(),this.navClickableSlice=this.wheelnav.raphael.path(a.slicePathString).attr(this.sliceClickablePathAttr).toBack(),this.navClickableSlice.id=this.wheelnav.getClickableSliceId(this.wheelItemIndex),this.navClickableSlice.node.id=this.navClickableSlice.id,this.navItem.push(this.navSlice,this.navLine,this.navTitle,this.navClickableSlice)):this.navItem.push(this.navSlice,this.navLine,this.navTitle),this.setTooltip(this.tooltip),this.navItem.id=this.wheelnav.getItemId(this.wheelItemIndex);var r=this.wheelnav,o=this,s=this.wheelItemIndex;this.enabled&&(this.navItem.mouseup((function(){null!==o.navigateFunction&&o.navigateFunction(),r.navigateWheel(s)})),this.navItem.mouseover((function(){!0!==o.hovered&&o.hoverEffect(s,!0)})),this.navItem.mouseout((function(){o.hovered=!1,o.hoverEffect(s,!1)}))),this.setCurrentTransform(!0,!1)},wheelnavItem.prototype.hoverEffect=function(e,t){!1===this.wheelnav.animateLocked&&(t&&(this.selected||(this.hovered=!0)),this.refreshNavItem(),(1!==this.hoverPercent||null!==this.sliceHoverPathFunction||null!==this.sliceHoverTransformFunction||this.titleHover!==this.title||this.titleHoverWidth!==this.titleWidth||this.titleHoverHeight!==this.titleHeight)&&this.setCurrentTransform(!1,!1),this.wheelnav.marker.setCurrentTransform(),this.wheelnav.spreader.setCurrentTransform(!0))},wheelnavItem.prototype.setCurrentTransform=function(e,t){var n,a,r,o,s,l,c,d,u,h,p,f,g;if(!this.wheelnav.clickModeRotate||!this.navSliceUnderAnimation&&!this.navTitleUnderAnimation&&!this.navLineUnderAnimation)if(void 0!==e&&!0===e&&(this.navSliceUnderAnimation=!0,this.navTitleUnderAnimation=!0,this.navLineUnderAnimation=!0),this.navSliceCurrentTransformString="",this.wheelnav.clickModeRotate&&(this.navSliceCurrentTransformString+=this.getItemRotateString()),this.selected?void 0!==this.selectTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.selectTransform.sliceTransformString):this.hovered&&void 0!==this.hoverTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.hoverTransform.sliceTransformString),void 0!==this.sliceTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.sliceTransform.sliceTransformString),this.navLineCurrentTransformString="",this.wheelnav.clickModeRotate&&(this.navLineCurrentTransformString+=this.getItemRotateString()),this.selected?void 0!==this.selectTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.selectTransform.lineTransformString):this.hovered&&void 0!==this.hoverTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.hoverTransform.lineTransformString),void 0!==this.sliceTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.sliceTransform.lineTransformString),this.navTitleCurrentTransformString="",this.navTitleCurrentTransformString+=this.getTitleRotateString(!0),this.selected?(void 0!==this.navTitleSizeSelectedTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeSelectedTransform),this.navTitleCurrentTransformString+=""===this.selectTransform.titleTransformString||void 0===this.selectTransform.titleTransformString?",s1":","+this.selectTransform.titleTransformString,this.wheelnav.currentPercent<.05&&(this.navTitleCurrentTransformString+=",s0.05")):this.hovered?(void 0!==this.navTitleSizeHoverTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeHoverTransform),this.navTitleCurrentTransformString+=""===this.hoverTransform.titleTransformString||void 0===this.hoverTransform.titleTransformString?",s1":","+this.hoverTransform.titleTransformString):this.wheelnav.currentPercent<.05?this.navTitleCurrentTransformString+=",s0.05":this.titleSpreadScale?this.navTitleCurrentTransformString+=",s"+this.wheelnav.currentPercent:(void 0!==this.navTitleSizeTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeTransform),this.navTitleCurrentTransformString+=""===this.sliceTransform.titleTransformString||void 0===this.sliceTransform.titleTransformString?",s1":","+this.sliceTransform.titleTransformString),{},a={path:(n=this.getCurrentPath()).slicePathString,transform:this.navSliceCurrentTransformString},r={},null!==this.sliceClickablePathFunction&&(r={path:this.getCurrentClickablePath().slicePathString,transform:this.navSliceCurrentTransformString}),{},o={path:n.linePathString,transform:this.navLineCurrentTransformString},s=this.getCurrentTitle(),l={},wheelnavTitle().isPathTitle(s.title)?l={path:s.path,transform:this.navTitleCurrentTransformString}:wheelnavTitle().isImageTitle(s.title)?(l={x:s.x,y:s.y,width:s.width,height:s.height,transform:this.navTitleCurrentTransformString},this.navTitle.attr({src:s.src})):(l={x:s.x,y:s.y,transform:this.navTitleCurrentTransformString},null!==s.title&&this.navTitle.attr({text:s.title})),c=this,d=this.wheelnav,this.animSlice=Raphael.animation(a,this.animatetime,this.animateeffect,(function(){c.navSliceUnderAnimation=!1,d.animateUnlock(!1,t)})),this.animLine=Raphael.animation(o,this.animatetime,this.animateeffect,(function(){c.navLineUnderAnimation=!1,d.animateUnlock(!1,t)})),this.animTitle=Raphael.animation(l,this.animatetime,this.animateeffect,(function(){c.navTitleUnderAnimation=!1,d.animateUnlock(!1,t)})),null!==this.navClickableSlice&&(this.animClickableSlice=Raphael.animation(r,this.animatetime,this.animateeffect)),u=this.wheelnav.animateRepeatCount,void 0!==e&&!0===e){if(this.wheelItemIndex===this.wheelnav.navItemCount-1){for(i=0;i<this.wheelnav.navItemCount;i++)(h=this.wheelnav.navItems[i]).navSlice.animate(h.animSlice.repeat(u));for(i=0;i<this.wheelnav.navItemCount;i++)(p=this.wheelnav.navItems[i]).navLine.animate(p.animLine.repeat(u));for(i=0;i<this.wheelnav.navItemCount;i++)(f=this.wheelnav.navItems[i]).navTitle.animate(f.animTitle.repeat(u));if(null!==this.wheelnav.sliceClickablePathFunction)for(i=0;i<this.wheelnav.navItemCount;i++)null!==(g=this.wheelnav.navItems[i]).navClickableSlice&&g.navClickableSlice.animate(g.animClickableSlice.repeat(u))}}else this.navSlice.animate(this.animSlice.repeat(u)),this.navLine.animate(this.animLine.repeat(u)),this.navTitle.animate(this.animTitle.repeat(u)),null!==this.navClickableSlice&&this.navClickableSlice.animate(this.animClickableSlice.repeat(u))},wheelnavItem.prototype.setTooltip=function(e){null!==e&&this.navItem.attr({title:e})},wheelnavItem.prototype.refreshNavItem=function(e){this.selected?(this.navSlice.attr(this.sliceSelectedAttr),this.navLine.attr(this.lineSelectedAttr),this.navTitle.attr(this.titleSelectedAttr),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickableSelectedAttr),this.wheelnav.selectedToFront?(this.navSlice.toFront(),this.navLine.toFront(),this.navTitle.toFront(),null!==this.navClickableSlice&&this.navClickableSlice.toFront()):(null!==this.navClickableSlice&&this.navClickableSlice.toBack(),this.navTitle.toBack(),this.navLine.toBack(),this.navSlice.toBack())):this.hovered?(this.navSlice.attr(this.sliceHoverAttr).toFront(),this.navLine.attr(this.lineHoverAttr).toFront(),this.navTitle.attr(this.titleHoverAttr).toFront(),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickableHoverAttr).toFront()):(this.navSlice.attr(this.slicePathAttr),this.navLine.attr(this.linePathAttr),this.navTitle.attr(this.titleAttr),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickablePathAttr),null!==this.navClickableSlice&&this.navClickableSlice.toBack(),this.navTitle.toBack(),this.navLine.toBack(),this.navSlice.toBack()),void 0!==e&&!0===e&&(this.initPathsAndTransforms(),this.setCurrentTransform(!1,!1))},wheelnavItem.prototype.setWheelSettings=function(e){null!==this.wheelnav.slicePathAttr&&(this.slicePathAttr=JSON.parse(JSON.stringify(this.wheelnav.slicePathAttr))),null!==this.wheelnav.sliceHoverAttr&&(this.sliceHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceHoverAttr))),null!==this.wheelnav.sliceSelectedAttr&&(this.sliceSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceSelectedAttr))),null!==this.wheelnav.titleAttr&&(this.titleAttr=JSON.parse(JSON.stringify(this.wheelnav.titleAttr))),null!==this.wheelnav.titleHoverAttr&&(this.titleHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.titleHoverAttr))),null!==this.wheelnav.titleSelectedAttr&&(this.titleSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.titleSelectedAttr))),null!==this.wheelnav.titleWidth&&null===this.titleWidth&&(this.titleWidth=this.wheelnav.titleWidth),null!==this.wheelnav.titleHeight&&null===this.titleHeight&&(this.titleHeight=this.wheelnav.titleHeight),null!==this.titleWidth&&null===this.titleHeight&&(this.titleHeight=this.titleWidth),null===this.titleWidth&&null!==this.titleHeight&&(this.titleWidth=this.titleHeight),wheelnavTitle().isImageTitle(this.title)&&(null===this.titleWidth&&(this.titleWidth=32),null===this.titleHeight&&(this.titleHeight=32)),null!==this.wheelnav.titleHoverWidth&&null===this.titleHoverWidth&&(this.titleHoverWidth=this.wheelnav.titleHoverWidth),null!==this.wheelnav.titleHoverHeight&&null===this.titleHoverHeight&&(this.titleHoverHeight=this.wheelnav.titleHoverHeight),null!==this.titleHoverWidth&&null===this.titleHoverHeight&&(this.titleHoverHeight=this.titleHoverWidth),null===this.titleHoverWidth&&null!==this.titleHoverHeight&&(this.titleHoverWidth=this.titleHoverHeight),null!==this.wheelnav.titleSelectedWidth&&null===this.titleSelectedWidth&&(this.titleSelectedWidth=this.wheelnav.titleSelectedWidth),null!==this.wheelnav.titleSelectedHeight&&null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.wheelnav.titleSelectedHeight),null!==this.titleSelectedWidth&&null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.titleSelectedWidth),null===this.titleSelectedWidth&&null!==this.titleSelectedHeight&&(this.titleSelectedWidth=this.titleSelectedHeight),null===this.titleHoverHeight&&(this.titleHoverHeight=this.titleHeight),null===this.titleHoverWidth&&(this.titleHoverWidth=this.titleWidth),null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.titleHeight),null===this.titleSelectedWidth&&(this.titleSelectedWidth=this.titleWidth),null!==this.wheelnav.linePathAttr&&(this.linePathAttr=JSON.parse(JSON.stringify(this.wheelnav.linePathAttr))),null!==this.wheelnav.lineHoverAttr&&(this.lineHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.lineHoverAttr))),null!==this.wheelnav.lineSelectedAttr&&(this.lineSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.lineSelectedAttr))),(null===this.animateeffect||e)&&(this.animateeffect=null!==this.wheelnav.animateeffect?this.wheelnav.animateeffect:"bounce"),(null===this.animatetime||e)&&(this.animatetime=null!==this.wheelnav.animatetime?this.wheelnav.animatetime:1500),null!==this.title?((null===this.sliceInitPathFunction||e)&&(this.sliceInitPathFunction=this.wheelnav.sliceInitPathFunction),(null===this.sliceClickablePathFunction||e)&&(this.sliceClickablePathFunction=this.wheelnav.sliceClickablePathFunction),(null===this.slicePathFunction||e)&&(this.slicePathFunction=this.wheelnav.slicePathFunction),(null===this.sliceSelectedPathFunction||e)&&(this.sliceSelectedPathFunction=this.wheelnav.sliceSelectedPathFunction),(null===this.sliceHoverPathFunction||e)&&(this.sliceHoverPathFunction=this.wheelnav.sliceHoverPathFunction),(null===this.sliceTransformFunction||e)&&(this.sliceTransformFunction=this.wheelnav.sliceTransformFunction),(null===this.sliceSelectedTransformFunction||e)&&(this.sliceSelectedTransformFunction=this.wheelnav.sliceSelectedTransformFunction),(null===this.sliceHoverTransformFunction||e)&&(this.sliceHoverTransformFunction=this.wheelnav.sliceHoverTransformFunction),(null===this.sliceInitTransformFunction||e)&&(this.sliceInitTransformFunction=this.wheelnav.sliceInitTransformFunction)):(this.sliceInitPathFunction=slicePath().NullInitSlice,this.sliceClickablePathFunction=slicePath().NullSlice,this.slicePathFunction=slicePath().NullSlice,this.sliceSelectedPathFunction=null,this.sliceHoverPathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitTransformFunction=null),(null===this.slicePathCustom||e)&&(this.slicePathCustom=this.wheelnav.slicePathCustom),(null===this.sliceClickablePathCustom||e)&&(this.sliceClickablePathCustom=this.wheelnav.sliceClickablePathCustom),(null===this.sliceSelectedPathCustom||e)&&(this.sliceSelectedPathCustom=this.wheelnav.sliceSelectedPathCustom),(null===this.sliceHoverPathCustom||e)&&(this.sliceHoverPathCustom=this.wheelnav.sliceHoverPathCustom),(null===this.sliceInitPathCustom||e)&&(this.sliceInitPathCustom=this.wheelnav.sliceInitPathCustom),(null===this.sliceTransformCustom||e)&&(this.sliceTransformCustom=this.wheelnav.sliceTransformCustom),(null===this.sliceSelectedTransformCustom||e)&&(this.sliceSelectedTransformCustom=this.wheelnav.sliceSelectedTransformCustom),(null===this.sliceHoverTransformCustom||e)&&(this.sliceHoverTransformCustom=this.wheelnav.sliceHoverTransformCustom),(null===this.sliceInitTransformCustom||e)&&(this.sliceInitTransformCustom=this.wheelnav.sliceInitTransformCustom),(null===this.initPercent||e)&&(this.initPercent=this.wheelnav.initPercent),(null===this.minPercent||e)&&(this.minPercent=this.wheelnav.minPercent),(null===this.maxPercent||e)&&(this.maxPercent=this.wheelnav.maxPercent),(null===this.hoverPercent||e)&&(this.hoverPercent=this.wheelnav.hoverPercent),(null===this.selectedPercent||e)&&(this.selectedPercent=this.wheelnav.selectedPercent),(null===this.clickablePercentMin||e)&&(this.clickablePercentMin=this.wheelnav.clickablePercentMin),(null===this.clickablePercentMax||e)&&(this.clickablePercentMax=this.wheelnav.clickablePercentMax),(null===this.titleSpreadScale||e)&&(this.titleSpreadScale=null!==this.wheelnav.titleSpreadScale&&this.wheelnav.titleSpreadScale),(null===this.sliceAngle||e)&&null!==this.wheelnav.sliceAngle&&(this.sliceAngle=this.wheelnav.sliceAngle)},wheelnavItem.prototype.initPathsAndTransforms=function(){this.sliceHelper=new o,this.sliceHelper.centerX=this.wheelnav.centerX,this.sliceHelper.centerY=this.wheelnav.centerY,this.sliceHelper.wheelRadius=this.wheelnav.wheelRadius,this.sliceHelper.startAngle=this.baseAngle,this.sliceHelper.sliceAngle=this.sliceAngle,this.sliceHelper.itemIndex=this.itemIndex,this.slicePathMin=this.slicePathFunction(this.sliceHelper,this.minPercent,this.slicePathCustom),this.slicePathMax=this.slicePathFunction(this.sliceHelper,this.maxPercent,this.slicePathCustom),this.selectedSlicePathMin=null!==this.sliceSelectedPathFunction?this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom):this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom),this.selectedSlicePathMax=null!==this.sliceSelectedPathFunction?this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom):this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom),this.hoverSlicePathMin=null!==this.sliceHoverPathFunction?this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom):this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom),this.hoverSlicePathMax=null!==this.sliceHoverPathFunction?this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom):this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom),null!==this.sliceClickablePathFunction&&(this.clickableSlicePathMin=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMin,this.sliceClickablePathCustom),this.clickableSlicePathMax=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMax,this.sliceClickablePathCustom)),this.sliceInitPath=null!==this.sliceInitPathFunction?this.sliceInitPathFunction(this.sliceHelper,this.initPercent,this.sliceInitPathCustom):this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.slicePathFunction(this.sliceHelper,this.maxPercent,this.sliceInitPathCustom):this.slicePathFunction(this.sliceHelper,this.minPercent,this.sliceInitPathCustom),this.sliceTransform=null!==this.sliceTransformFunction?this.sliceTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceTransformCustom):n().NullTransform,this.selectTransform=null!==this.sliceSelectedTransformFunction?this.sliceSelectedTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceSelectedTransformCustom):n().NullTransform,this.hoverTransform=null!==this.sliceHoverTransformFunction?this.sliceHoverTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceHoverTransformCustom):n().NullTransform,this.initTransform=null!==this.sliceInitTransformFunction?this.sliceInitTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceInitTransformCustom):n().NullTransform,wheelnavTitle().isPathTitle(this.title)?(initNavTitle=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),basicNavTitleMin=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),basicNavTitleMax=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),hoverNavTitleMin=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael),hoverNavTitleMax=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael),selectedNavTitleMin=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael),selectedNavTitleMax=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael),this.navTitleSizeTransform=basicNavTitleMax.getTitleSizeTransform(this.titleWidth,this.titleHeight),this.navTitleSizeHoverTransform=hoverNavTitleMax.getTitleSizeTransform(this.titleHoverWidth,this.titleHoverHeight),this.navTitleSizeSelectedTransform=selectedNavTitleMax.getTitleSizeTransform(this.titleSelectedWidth,this.titleSelectedHeight)):(initNavTitle=new wheelnavTitle(this.title),basicNavTitleMin=new wheelnavTitle(this.title),basicNavTitleMax=new wheelnavTitle(this.title),hoverNavTitleMin=new wheelnavTitle(this.titleHover),hoverNavTitleMax=new wheelnavTitle(this.titleHover),selectedNavTitleMin=new wheelnavTitle(this.titleSelected),selectedNavTitleMax=new wheelnavTitle(this.titleSelected)),this.initNavTitle=initNavTitle.getTitlePercentAttr(this.sliceInitPath.titlePosX,this.sliceInitPath.titlePosY,this.titleWidth,this.titleHeight),this.basicNavTitleMin=basicNavTitleMin.getTitlePercentAttr(this.slicePathMin.titlePosX,this.slicePathMin.titlePosY,this.titleWidth,this.titleHeight),this.basicNavTitleMax=basicNavTitleMax.getTitlePercentAttr(this.slicePathMax.titlePosX,this.slicePathMax.titlePosY,this.titleWidth,this.titleHeight),this.hoverNavTitleMin=hoverNavTitleMin.getTitlePercentAttr(this.hoverSlicePathMin.titlePosX,this.hoverSlicePathMin.titlePosY,this.titleHoverWidth,this.titleHoverHeight),this.hoverNavTitleMax=hoverNavTitleMax.getTitlePercentAttr(this.hoverSlicePathMax.titlePosX,this.hoverSlicePathMax.titlePosY,this.titleHoverWidth,this.titleHoverHeight),this.selectedNavTitleMin=selectedNavTitleMin.getTitlePercentAttr(this.selectedSlicePathMin.titlePosX,this.selectedSlicePathMin.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight),this.selectedNavTitleMax=selectedNavTitleMax.getTitlePercentAttr(this.selectedSlicePathMax.titlePosX,this.selectedSlicePathMax.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight)},wheelnavItem.prototype.getCurrentPath=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.selected?this.selectedSlicePathMax:this.hovered?this.hoverSlicePathMax:this.slicePathMax:this.selected?this.selectedSlicePathMin:this.hovered?this.hoverSlicePathMin:this.slicePathMin},wheelnavItem.prototype.getCurrentClickablePath=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.clickableSlicePathMax:this.clickableSlicePathMin},wheelnavItem.prototype.getCurrentTitle=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.selected?this.selectedNavTitleMax:this.hovered?this.hoverNavTitleMax:this.basicNavTitleMax:this.selected?this.selectedNavTitleMin:this.hovered?this.hoverNavTitleMin:this.basicNavTitleMin},wheelnavItem.prototype.getItemRotateString=function(){return"r,"+this.currentRotateAngle.toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY},wheelnavItem.prototype.getTitleRotateString=function(e){var t="";return(t+=this.getItemRotateString())+(null!==this.wheelnav.titleRotateAngle&&e?",r,"+(this.navAngle+this.wheelnav.titleRotateAngle).toString():",r,"+(-this.currentRotateAngle).toString())},wheelnavTitle=function(e,t){if(this.title=e,null!==e){if(void 0!==t){this.relativePath=t.pathToRelative(e);var n=t.pathBBox(this.relativePath);this.centerX=n.cx,this.centerY=n.cy,this.width=n.width,this.height=n.height,this.startX=this.relativePath[0][1],this.startY=this.relativePath[0][2]}this.title=e}else this.title="";return this.isPathTitle=function(e){return!(null===e||"m"!==e.substr(0,1)&&"M"!==e.substr(0,1)||"z"!==e.substr(e.length-1,1)&&"Z"!==e.substr(e.length-1,1))&&(e.indexOf(",")>-1||e.indexOf(" ")>-1)},this.isImageTitle=function(e){return void 0===e&&(e=this.title),null!==e&&"imgsrc:"===e.substr(0,7)},this},wheelnavTitle.prototype.getTitlePercentAttr=function(e,t,n,i){var a,r,o={};return void 0!==this.relativePath?(a=e+(this.startX-this.centerX),r=t+(this.startY-this.centerY),this.relativePath[0][1]=a,this.relativePath[0][2]=r,o={path:this.relativePath,title:this.title}):o=this.isImageTitle()?{x:e-n/2,y:t-i/2,width:n,height:i,title:this.title,src:this.title.substr(7,this.title.length)}:{x:e,y:t,title:this.title},o},wheelnavTitle.prototype.getTitleSizeTransform=function(e,t){var n="";return null!==e&&null!==t&&(n="s",this.height>this.width?(n+=(e/this.height).toString()+",",n+=(t/this.height).toString()):(n+=(e/this.width).toString()+",",n+=(t/this.width).toString())),n},wheelnav.prototype.styleWheel=function(){this.cssMode?(this.spreaderPathInAttr={class:this.getSpreaderCssClass("in")},this.spreaderPathOutAttr={class:this.getSpreaderCssClass("out")},this.spreaderTitleInAttr={class:this.getSpreaderTitleCssClass("in")},this.spreaderTitleOutAttr={class:this.getSpreaderTitleCssClass("out")},this.markerAttr={class:this.getMarkerCssClass()}):((void 0===this.spreaderPathInAttr||null===this.spreaderPathInAttr)&&(this.spreaderPathInAttr={fill:"#444",stroke:"#444","stroke-width":2,cursor:"pointer"}),(void 0===this.spreaderPathOutAttr||null===this.spreaderPathOutAttr)&&(this.spreaderPathOutAttr={fill:"#444",stroke:"#444","stroke-width":2,cursor:"pointer"}),(void 0===this.spreaderTitleInAttr||null===this.spreaderTitleInAttr)&&(this.spreaderTitleInAttr={fill:"#eee",stroke:"#444",cursor:"pointer"}),(void 0===this.spreaderTitleOutAttr||null===this.spreaderTitleOutAttr)&&(this.spreaderTitleOutAttr={fill:"#eee",stroke:"#444",cursor:"pointer"}),(void 0===this.markerAttr||null===this.markerAttr)&&(this.markerAttr={stroke:"#444","stroke-width":2}))},wheelnavItem.prototype.styleNavItem=function(){this.wheelnav.cssMode?(this.slicePathAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"basic")},this.sliceHoverAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"hover")},this.sliceSelectedAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"selected")},this.titleAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"basic")},this.titleHoverAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"hover")},this.titleSelectedAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"selected")},this.linePathAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"basic")},this.lineHoverAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"hover")},this.lineSelectedAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"selected")}):(this.slicePathAttr={stroke:"#333","stroke-width":0,cursor:"pointer","fill-opacity":1},this.sliceHoverAttr={stroke:"#222","stroke-width":0,cursor:"pointer","fill-opacity":.77},this.sliceSelectedAttr={stroke:"#111","stroke-width":0,cursor:"default","fill-opacity":1},this.titleAttr={font:this.titleFont,fill:"#333",stroke:"none",cursor:"pointer"},this.titleHoverAttr={font:this.titleFont,fill:"#222",cursor:"pointer",stroke:"none"},this.titleSelectedAttr={font:this.titleFont,fill:"#fff",cursor:"default"},this.linePathAttr={stroke:"#444","stroke-width":1,cursor:"pointer"},this.lineHoverAttr={stroke:"#222","stroke-width":2,cursor:"pointer"},this.lineSelectedAttr={stroke:"#444","stroke-width":1,cursor:"default"}),this.sliceClickablePathAttr={fill:"#FFF",stroke:"#FFF","stroke-width":0,cursor:"pointer","fill-opacity":.01},this.sliceClickableHoverAttr={stroke:"#FFF","stroke-width":0,cursor:"pointer"},this.sliceClickableSelectedAttr={stroke:"#FFF","stroke-width":0,cursor:"default"}},wheelnav.prototype.getSliceCssClass=function(e,t){return"wheelnav-"+this.holderId+"-slice-"+t+"-"+e},wheelnav.prototype.getTitleCssClass=function(e,t){return"wheelnav-"+this.holderId+"-title-"+t+"-"+e},wheelnav.prototype.getLineCssClass=function(e,t){return"wheelnav-"+this.holderId+"-line-"+t+"-"+e},wheelnav.prototype.getSpreaderCssClass=function(e){return"wheelnav-"+this.holderId+"-spreader-"+e},wheelnav.prototype.getSpreaderTitleCssClass=function(e){return"wheelnav-"+this.holderId+"-spreadertitle-"+e},wheelnav.prototype.getMarkerCssClass=function(){return"wheelnav-"+this.holderId+"-marker"};var o=function(){return this.sliceRadius=0,this.startAngle=0,this.middleAngle=0,this.endAngle=0,this.sliceAngle=0,this.startTheta=0,this.middleTheta=0,this.endTheta=0,this.titlePosX=0,this.titlePosY=0,this.titleRadius=0,this.titleTheta=0,this.custom=null,this.centerX=0,this.centerY=0,this.wheelRadius=0,this.itemIndex=0,this.navItemCount=0,this.navAngle=0,this.setBaseValue=function(e,t){null===t?t=new s:this.custom=t,this.sliceRadius=this.wheelRadius*e*.9,this.middleAngle=this.startAngle+this.sliceAngle/2,this.endAngle=this.startAngle+this.sliceAngle,this.startTheta=this.getTheta(this.startAngle),this.middleTheta=this.getTheta(this.middleAngle),this.endTheta=this.getTheta(this.endAngle),null!==t?(null!==t.titleRadiusPercent&&(this.titleRadius=this.sliceRadius*t.titleRadiusPercent),null!==t.titleSliceAnglePercent&&(this.titleTheta=this.getTheta(this.startAngle+this.sliceAngle*t.titleSliceAnglePercent))):(this.titleRadius=.5*this.sliceRadius,this.titleTheta=this.middleTheta),this.setTitlePos()},this.setTitlePos=function(){this.titlePosX=this.titleRadius*Math.cos(this.titleTheta)+this.centerX,this.titlePosY=this.titleRadius*Math.sin(this.titleTheta)+this.centerY},this.getX=function(e,t){return t*Math.cos(this.getTheta(e))+this.centerX},this.getY=function(e,t){return t*Math.sin(this.getTheta(e))+this.centerY},this.MoveTo=function(e,t){return["M",this.getX(e,t),this.getY(e,t)]},this.MoveToCenter=function(){return["M",this.centerX,this.centerY]},this.LineTo=function(e,t,n,i){return void 0===n&&(n=e),void 0===i&&(i=t),["L",this.getX(e,t),this.getY(n,i)]},this.ArcTo=function(e,t,n){return["A",e,e,0,0,1,this.getX(t,n),this.getY(t,n)]},this.ArcBackTo=function(e,t,n){return["A",e,e,0,0,0,this.getX(t,n),this.getY(t,n)]},this.StartSpreader=function(e,t,n){this.endAngle-this.startAngle==360?e.push(this.MoveTo(t,n)):(e.push(this.MoveToCenter()),e.push(this.LineTo(t,n)))},this.Close=function(){return["z"]},this.getTheta=function(e){return e%360*Math.PI/180},this},s=function(){return this.titleRadiusPercent=.5,this.titleSliceAnglePercent=.5,this},l=function(){return this.titleRadiusPercent=0,this.titleSliceAnglePercent=.5,this.spreaderPercent=1,this},c=function(){return this.titleRadiusPercent=1,this.titleSliceAnglePercent=.5,this.markerPercent=1.05,this};slicePath=function(){return this.NullSlice=function(e,t,n){return e.setBaseValue(t,n),{slicePathString:"",linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.NullInitSlice=function(e,t,n){return e.setBaseValue(t,n),slicePathString=[e.MoveToCenter(),e.Close()],{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:e.centerX,titlePosY:e.centerY}},this.PieSliceCustomization=function(){var e=new s;return e.titleRadiusPercent=.6,e.arcBaseRadiusPercent=1,e.arcRadiusPercent=1,e.startRadiusPercent=0,e},this.PieSlice=function(e,t,n){null===n&&(n=PieSliceCustomization()),e.setBaseValue(t,n);var i=e.sliceRadius*n.arcBaseRadiusPercent,a=e.sliceRadius*n.arcRadiusPercent;return slicePathString=[e.MoveTo(e.middleAngle,n.startRadiusPercent*e.sliceRadius),e.LineTo(e.startAngle,i),e.ArcTo(a,e.endAngle,i),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.FlowerSlice=function(e,t,n){null===n&&((n=PieSliceCustomization()).titleRadiusPercent=.5,n.arcBaseRadiusPercent=.65,n.arcRadiusPercent=.14);var i=PieSlice(e,t,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.PieArrowSliceCustomization=function(){var e=new s;return e.titleRadiusPercent=.6,e.arrowRadiusPercent=1.1,e},this.PieArrowSlice=function(e,t,n){null===n&&(n=PieArrowSliceCustomization()),e.setBaseValue(t,n),r=e.sliceRadius,arrowAngleStart=e.startAngle+.45*e.sliceAngle,arrowAngleEnd=e.startAngle+.55*e.sliceAngle;var i=r*n.arrowRadiusPercent;return slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,arrowAngleStart,r),e.LineTo(e.middleAngle,i),e.LineTo(arrowAngleEnd,r),e.ArcTo(r,e.endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.PieArrowBasePieSlice=function(e,t,n){null===n&&(n=PieArrowSliceCustomization()),n.arrowRadiusPercent=1;var i=PieArrowSlice(e,t,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.DonutSliceCustomization=function(){var e=new s;return e.minRadiusPercent=.37,e.maxRadiusPercent=.9,e},this.DonutSlice=function(e,t,n){return null===n&&(n=DonutSliceCustomization()),maxRadius=e.wheelRadius*t*n.maxRadiusPercent,minRadius=e.wheelRadius*t*n.minRadiusPercent,e.setBaseValue(t,n),e.titleRadius=(maxRadius+minRadius)/2,e.setTitlePos(),slicePathString=[e.MoveTo(e.startAngle,minRadius),e.LineTo(e.startAngle,maxRadius),e.ArcTo(maxRadius,e.endAngle,maxRadius),e.LineTo(e.endAngle,minRadius),e.ArcBackTo(minRadius,e.startAngle,minRadius),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.CogSliceCustomization=function(){var e=new s;return e.titleRadiusPercent=.55,e.isBasePieSlice=!1,e},this.CogSlice=function(e,t,n){return null===n&&(n=CogSliceCustomization()),e.setBaseValue(t,n),r=e.sliceRadius,rbase=e.wheelRadius*t*.83,percentAngle0625=e.startAngle+.0625*e.sliceAngle,percentAngle1250=e.startAngle+.125*e.sliceAngle,percentAngle1875=e.startAngle+.1875*e.sliceAngle,percentAngle2500=e.startAngle+.25*e.sliceAngle,percentAngle3125=e.startAngle+.3125*e.sliceAngle,percentAngle3750=e.startAngle+.375*e.sliceAngle,percentAngle4375=e.startAngle+.4375*e.sliceAngle,percentAngle5000=e.startAngle+.5*e.sliceAngle,percentAngle5625=e.startAngle+.5625*e.sliceAngle,percentAngle6250=e.startAngle+.625*e.sliceAngle,percentAngle6875=e.startAngle+.6875*e.sliceAngle,percentAngle7500=e.startAngle+.75*e.sliceAngle,percentAngle8125=e.startAngle+.8125*e.sliceAngle,percentAngle8750=e.startAngle+.875*e.sliceAngle,percentAngle9375=e.startAngle+.9375*e.sliceAngle,percentAngle9687=e.startAngle+.96875*e.sliceAngle,n.isBasePieSlice?(r=rbase,slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,percentAngle0625,r),e.ArcTo(r,percentAngle1250,r),e.ArcTo(r,percentAngle1875,r),e.ArcTo(r,percentAngle2500,r),e.ArcTo(r,percentAngle3125,r),e.ArcTo(r,percentAngle3750,r),e.ArcTo(r,percentAngle4375,r),e.ArcTo(r,percentAngle5000,r),e.ArcTo(r,percentAngle5625,r),e.ArcTo(r,percentAngle6250,r),e.ArcTo(r,percentAngle6875,r),e.ArcTo(r,percentAngle7500,r),e.ArcTo(r,percentAngle8125,r),e.ArcTo(r,percentAngle8750,r),e.ArcTo(r,percentAngle9375,r),e.ArcTo(r,percentAngle9687,r),e.ArcTo(r,e.endAngle,r),e.Close()]):slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,percentAngle0625,r),e.LineTo(percentAngle0625,rbase),e.ArcTo(rbase,percentAngle1875,rbase),e.LineTo(percentAngle1875,r),e.ArcTo(r,percentAngle3125,r),e.LineTo(percentAngle3125,rbase),e.ArcTo(rbase,percentAngle4375,rbase),e.LineTo(percentAngle4375,r),e.ArcTo(r,percentAngle5625,r),e.LineTo(percentAngle5625,rbase),e.ArcTo(rbase,percentAngle6875,rbase),e.LineTo(percentAngle6875,r),e.ArcTo(r,percentAngle8125,r),e.LineTo(percentAngle8125,rbase),e.ArcTo(rbase,percentAngle9375,rbase),e.LineTo(percentAngle9375,r),e.ArcTo(r,e.endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.CogBasePieSlice=function(e,t,n){null===n&&(n=CogSliceCustomization()),n.isBasePieSlice=!0;var i=CogSlice(e,t,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.StarSliceCustomization=function(){var e=new s;return e.titleRadiusPercent=.44,e.minRadiusPercent=.5,e.isBasePieSlice=!1,e},this.StarSlice=function(e,t,n){return null===n&&(n=StarSliceCustomization()),e.setBaseValue(t,n),r=e.wheelRadius*t,rbase=r*n.minRadiusPercent,n.isBasePieSlice?(r=e.sliceRadius,slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,e.middleAngle,r),e.ArcTo(r,e.endAngle,r),e.Close()]):slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,rbase),e.LineTo(e.middleAngle,r),e.LineTo(e.endAngle,rbase),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.StarBasePieSlice=function(e,t,n){null===n&&(n=StarSliceCustomization()),n.titleRadiusPercent=.6,n.isBasePieSlice=!0;var i=StarSlice(e,t,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.MenuSliceCustomization=function(){var e=new s;return e.menuRadius=35,e.titleRadiusPercent=.63,e.isSelectedLine=!1,e.lineBaseRadiusPercent=0,e},this.MenuSlice=function(e,t,n){var i,a;return null===n&&(n=MenuSliceCustomization()),e.setBaseValue(t,n),x=e.centerX,y=e.centerY,i=e.wheelRadius*t,e.titleRadius=i*n.titleRadiusPercent,e.setTitlePos(),a=t*n.menuRadius,t<=.05&&(a=10),middleTheta=e.middleTheta,slicePathString=[["M",e.titlePosX-a*Math.cos(middleTheta),e.titlePosY-a*Math.sin(middleTheta)],["A",a,a,0,0,1,e.titlePosX+a*Math.cos(middleTheta),e.titlePosY+a*Math.sin(middleTheta)],["A",a,a,0,0,1,e.titlePosX-a*Math.cos(middleTheta),e.titlePosY-a*Math.sin(middleTheta)],["z"]],linePathString=t<=.05?[["M",x,y],["A",1,1,0,0,1,x+1,y+1]]:n.isSelectedLine?[e.MoveTo(e.middleAngle,n.lineBaseRadiusPercent*i),e.ArcTo(i/3,e.middleAngle,e.titleRadius-a)]:[e.MoveTo(e.middleAngle,n.lineBaseRadiusPercent*i),e.ArcTo(i/2,e.middleAngle,e.titleRadius-a)],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.MenuSliceSelectedLine=function(e,t,n){null===n&&(n=MenuSliceCustomization()),n.isSelectedLine=!0;var i=MenuSlice(e,t,n);return{slicePathString:i.slicePathString,linePathString:i.linePathString,titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.MenuSliceWithoutLine=function(e,t,n){var i=MenuSlice(e,t,n);return{slicePathString:i.slicePathString,linePathString:"",titlePosX:i.titlePosX,titlePosY:i.titlePosY}},this.LineSlice=function(e,t,n){return e.setBaseValue(t,n),r=e.sliceRadius,e.sliceAngle>60&&e.sliceAngle<180?(e.titleRadius=r*(36/e.sliceAngle),e.setTitlePos()):(e.titleRadius=.55*r,e.setTitlePos()),slicePathString=e.sliceAngle<180?[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.LineTo(e.endAngle,r),e.Close()]:180===e.startAngle||0===e.startAngle||-180===e.startAngle||360===e.startAngle?[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.LineTo(e.startAngle,r,e.middleAngle,r),e.LineTo(e.endAngle,r,e.middleAngle,r),e.LineTo(e.endAngle,r),e.Close()]:[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.LineTo(e.middleAngle,r,e.startAngle,r),e.LineTo(e.middleAngle,r,e.endAngle,r),e.LineTo(e.endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.EyeSliceCustomization=function(){var e=new s;return e.titleRadiusPercent=.68,e},this.EyeSlice=function(e,t,n){return null===n&&(n=EyeSliceCustomization()),e.setBaseValue(t,n),r=e.wheelRadius*t*.7,0===t&&(r=.01),startAngle=e.startAngle,endAngle=e.endAngle,180===e.sliceAngle&&(startAngle=e.startAngle+e.sliceAngle/4,endAngle=e.startAngle+e.sliceAngle-e.sliceAngle/4),slicePathString=[e.MoveTo(endAngle,r),e.ArcTo(r,startAngle,r),e.ArcTo(r,endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.WheelSlice=function(e,t,n){var i;return e.setBaseValue(t,n),x=e.centerX,y=e.centerY,r=e.sliceRadius,startTheta=e.startTheta,middleTheta=e.middleTheta,endTheta=e.endTheta,e.sliceAngle<120?(e.titleRadius=.57*r,i=.9):e.sliceAngle<180?(e.titleRadius=.52*r,i=.91):(e.titleRadius=.45*r,i=.873),slicePathString=[e.MoveTo(e.middleAngle,.07*r),["L",.07*r*Math.cos(middleTheta)+.87*r*Math.cos(startTheta)+x,.07*r*Math.sin(middleTheta)+.87*r*Math.sin(startTheta)+y],["A",r*i,r*i,0,0,1,.07*r*Math.cos(middleTheta)+.87*r*Math.cos(endTheta)+x,.07*r*Math.sin(middleTheta)+.87*r*Math.sin(endTheta)+y],e.Close()],linePathString=[e.MoveTo(e.startAngle,r),e.ArcTo(r,e.endAngle,r),e.ArcBackTo(r,e.startAngle,r)],e.setTitlePos(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.TabSlice=function(e){var t=.9*e.wheelRadius,n=2*t/(360/e.sliceAngle);return x=e.centerX,y=e.centerY,itemIndex=e.itemIndex,titlePosX=x,titlePosY=itemIndex*n+y+n/2-t,slicePathString=[["M",x-n/2,itemIndex*n+y-t],["L",n/2+x,itemIndex*n+y-t],["L",n/2+x,(itemIndex+1)*n+y-t],["L",x-n/2,(itemIndex+1)*n+y-t],["z"]],{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY}},this.YinYangSlice=function(e,t,n){return e.setBaseValue(t,n),r=e.sliceRadius,slicePathString=[e.MoveToCenter(),e.ArcTo(r/2,e.startAngle,r),e.ArcTo(r,e.endAngle,r),e.ArcBackTo(r/2,0,0),e.Close()],titlePosX=e.getX(e.startAngle,r/2),titlePosY=e.getY(e.startAngle,r/2),{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY}},this.WebSlice=function(e,t,n){return e.setBaseValue(t,n),r=e.sliceRadius,e.titleRadius=.55*r,e.setTitlePos(),linePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,1.1*r),e.MoveToCenter(),e.LineTo(e.endAngle,1.1*r),e.MoveTo(e.startAngle,.15*r),e.LineTo(e.endAngle,.15*r),e.MoveTo(e.startAngle,.35*r),e.LineTo(e.endAngle,.35*r),e.MoveTo(e.startAngle,.55*r),e.LineTo(e.endAngle,.55*r),e.MoveTo(e.startAngle,.75*r),e.LineTo(e.endAngle,.75*r),e.MoveTo(e.startAngle,.95*r),e.LineTo(e.endAngle,.95*r),e.Close()],{slicePathString:"",linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.WinterSliceCustomization=function(){var e=new s;return e.titleRadiusPercent=.85,e.arcRadiusPercent=1,e},this.WinterSlice=function(e,t,n){null===n&&(n=WinterSliceCustomization()),e.setBaseValue(t,n),sliceAngle=e.sliceAngle,parallelAngle=e.startAngle+sliceAngle/4,parallelAngle2=e.startAngle+sliceAngle/4*3,borderAngle1=e.startAngle+sliceAngle/200,borderAngle2=e.startAngle+sliceAngle/2-sliceAngle/200,borderAngle3=e.startAngle+sliceAngle/2+sliceAngle/200,borderAngle4=e.startAngle+sliceAngle-sliceAngle/200;var i=e.sliceRadius*n.arcRadiusPercent;return slicePathString=[e.MoveToCenter(),e.MoveTo(parallelAngle,i/100),e.LineTo(borderAngle1,i/2),e.LineTo(parallelAngle,i-i/100),e.LineTo(borderAngle2,i/2),e.LineTo(parallelAngle,i/100),e.MoveTo(parallelAngle2,i/100),e.LineTo(borderAngle4,i/2),e.LineTo(parallelAngle2,i-i/100),e.LineTo(borderAngle3,i/2),e.LineTo(parallelAngle2,i/100),e.Close()],linePathString=[e.MoveTo(parallelAngle,i),e.LineTo(borderAngle2,i/2),e.MoveTo(borderAngle3,i/2),e.LineTo(parallelAngle2,i)],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.TutorialSliceCustomization=function(){var e=new s;return e.titleRadiusPercent=.6,e.isMoveTo=!1,e.isLineTo=!1,e.isArcTo=!1,e.isArcBackTo=!1,e},this.TutorialSlice=function(e,t,n){return null===n&&(n=TutorialSliceCustomization()),e.setBaseValue(t,n),slicePathString=[],slicePathString.push(e.MoveToCenter()),!0===n.isMoveTo&&slicePathString.push(e.MoveTo(e.middleAngle,e.sliceRadius/4)),n.isLineTo&&slicePathString.push(e.LineTo(e.startAngle,e.sliceRadius)),n.isArcTo&&slicePathString.push(e.ArcTo(e.sliceRadius,e.middleAngle,e.sliceRadius)),n.isArcBackTo&&slicePathString.push(e.ArcBackTo(e.sliceRadius,e.endAngle,e.sliceRadius)),slicePathString.push(e.Close()),linePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,e.sliceRadius),e.ArcTo(e.sliceRadius,e.endAngle,e.sliceRadius),e.Close()],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this},n=function(){this.startAngle=0,this.startTheta=0,this.middleTheta=0,this.endTheta=0;var e=function(e){return e%360*Math.PI/180};return this.NullTransform=function(){return{sliceTransformString:"",lineTransformString:"",titleTransformString:""}},this.MoveMiddleTransform=function(t,n,i,a,r,o,s){var l,c;return function(t,n,i,a,r){this.startAngle=a,this.startTheta=e(startAngle),this.middleTheta=e(startAngle+r/2),this.endTheta=e(startAngle+r)}(0,0,0,a,r),l="t"+(i/10*Math.cos(middleTheta)).toString()+","+(i/10*Math.sin(middleTheta)).toString(),null!==o?c=e(-o):c=e(a-s*r+r/2),{sliceTransformString:l,lineTransformString:l,titleTransformString:"s1,r0,t"+(i/10*Math.cos(c)).toString()+","+(i/10*Math.sin(c)).toString()}},this.RotateTransform=function(){var e="s1,r360";return{sliceTransformString:e,lineTransformString:e,titleTransformString:e}},this.RotateHalfTransform=function(){var e="s1,r90";return{sliceTransformString:e,lineTransformString:e,titleTransformString:e}},this.RotateTitleTransform=function(){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1,r360"}},this.ScaleTransform=function(){var e="s1.2";return{sliceTransformString:e,lineTransformString:"",titleTransformString:e}},this.ScaleTitleTransform=function(){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1.3"}},this.RotateScaleTransform=function(){var e="r360,s1.3";return{sliceTransformString:e,lineTransformString:"",titleTransformString:e}},this.CustomTransform=function(e,t,n,i,a,r,o,s){var l=s.scaleString+","+s.rotateString;return{sliceTransformString:l,lineTransformString:l,titleTransformString:l}},this.CustomTitleTransform=function(e,t,n,i,a,r,o,s){return{sliceTransformString:"",lineTransformString:"",titleTransformString:s.scaleString+","+s.rotateString}},this},spreader=function(e){var t,n;if(this.wheelnav=e,this.wheelnav.spreaderEnable){this.spreaderHelper=new o,this.spreaderHelper.centerX=this.wheelnav.centerX,this.spreaderHelper.centerY=this.wheelnav.centerY,this.spreaderHelper.navItemCount=this.wheelnav.navItemCount,this.spreaderHelper.navAngle=this.wheelnav.navAngle,this.spreaderHelper.wheelRadius=this.wheelnav.spreaderRadius,this.spreaderHelper.startAngle=this.wheelnav.spreaderStartAngle,this.spreaderHelper.sliceAngle=this.wheelnav.spreaderSliceAngle,t=this.wheelnav,this.animateeffect="bounce",this.animatetime=1500,null!==this.wheelnav.animateeffect&&(this.animateeffect=this.wheelnav.animateeffect),null!==this.wheelnav.animatetime&&(this.animatetime=this.wheelnav.animatetime),this.fontAttr=null!==this.wheelnav.spreaderTitleFont?{font:this.wheelnav.spreaderTitleFont}:{font:"100 32px Impact, Charcoal, sans-serif"},this.spreaderPathIn=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderInPercent,this.wheelnav.spreaderPathCustom),this.spreaderPathOut=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderOutPercent,this.wheelnav.spreaderPathCustom),n=this.spreaderPathOut,t.initPercent<t.maxPercent&&(n=this.spreaderPathIn),this.spreaderPath=this.wheelnav.raphael.path(n.spreaderPathString),this.spreaderPath.attr(t.spreaderPathAttr),this.spreaderPath.id=t.getSpreaderId(),this.spreaderPath.node.id=this.spreaderPath.id,this.spreaderPath.click((function(){t.spreadWheel()})),this.inTitleWidth=this.wheelnav.spreaderInTitleWidth,this.inTitleHeight=this.wheelnav.spreaderInTitleHeight,this.outTitleWidth=this.wheelnav.spreaderOutTitleWidth,this.outTitleHeight=this.wheelnav.spreaderOutTitleHeight,null!==this.inTitleWidth&&null===this.inTitleHeight&&(this.inTitleHeight=this.inTitleWidth),null===this.inTitleWidth&&null!==this.inTitleHeight&&(this.inTitleWidth=this.inTitleHeight),null!==this.outTitleWidth&&null===this.outTitleHeight&&(this.outTitleHeight=this.outTitleWidth),null===this.outTitleWidth&&null!==this.outTitleHeight&&(this.outTitleWidth=this.outTitleHeight),wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)&&(null===this.inTitleWidth&&(this.inTitleWidth=32),null===this.inTitleHeight&&(this.inTitleHeight=32),null===this.outTitleWidth&&(this.outTitleWidth=32),null===this.outTitleHeight&&(this.outTitleHeight=32)),inTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderInTitle)?new wheelnavTitle(this.wheelnav.spreaderInTitle,this.wheelnav.raphael.raphael):new wheelnavTitle(this.wheelnav.spreaderInTitle),this.inTitleSizeTransform=inTitle.getTitleSizeTransform(this.inTitleWidth,this.inTitleHeight),this.inTitle=inTitle.getTitlePercentAttr(this.spreaderPathIn.titlePosX,this.spreaderPathIn.titlePosY,this.inTitleWidth,this.inTitleHeight),outTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)?new wheelnavTitle(this.wheelnav.spreaderOutTitle,this.wheelnav.raphael.raphael):new wheelnavTitle(this.wheelnav.spreaderOutTitle),this.outTitleSizeTransform=outTitle.getTitleSizeTransform(this.outTitleWidth,this.outTitleHeight),this.outTitle=outTitle.getTitlePercentAttr(this.spreaderPathOut.titlePosX,this.spreaderPathOut.titlePosY,this.outTitleWidth,this.outTitleHeight);var i=this.outTitle,a=this.wheelnav.spreaderTitleOutAttr,r=this.outTitleWidth,s=this.outTitleHeight,l=this.outTitleSizeTransform;t.initPercent<t.maxPercent&&(i=this.inTitle,a=this.wheelnav.spreaderTitleInAttr,r=this.inTitleWidth,s=this.inTitleHeight,l=this.inTitleSizeTransform),this.spreaderTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)?t.raphael.path(i.path):wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)?this.wheelnav.raphael.image(i.src,n.titlePosX-r/2,n.titlePosY-s/2,r,s):t.raphael.text(n.titlePosX,n.titlePosY,i.title),this.spreaderTitle.attr(this.fontAttr),this.spreaderTitle.attr(a),this.spreaderTitle.attr({transform:l}),this.spreaderTitle.id=t.getSpreaderTitleId(),this.spreaderTitle.node.id=this.spreaderTitle.id,this.spreaderTitle.click((function(){t.spreadWheel()})),this.setCurrentTransform()}return this},spreader.prototype.setCurrentTransform=function(e){if(this.wheelnav.spreaderEnable){var t,n,i;if(void 0===e||!1===e)currentPath=this.wheelnav.currentPercent>this.wheelnav.minPercent?this.spreaderPathOut.spreaderPathString:this.spreaderPathIn.spreaderPathString,spreaderTransformAttr={path:currentPath},this.spreaderPath.animate(spreaderTransformAttr,this.animatetime,this.animateeffect),this.wheelnav.currentPercent===this.wheelnav.maxPercent?(t=this.outTitle,n=this.wheelnav.spreaderTitleOutAttr,this.spreaderPath.attr(this.wheelnav.spreaderPathOutAttr),i=this.outTitleSizeTransform):(t=this.inTitle,n=this.wheelnav.spreaderTitleInAttr,this.spreaderPath.attr(this.wheelnav.spreaderPathInAttr),i=this.inTitleSizeTransform),wheelnavTitle().isPathTitle(t.title)?(n.path=t.path,n.transform=i):wheelnavTitle().isImageTitle(t.title)?(n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height,this.spreaderTitle.attr({src:t.src})):(offYOffset=0,"-"===t.title&&(offYOffset=3),n.x=t.x,n.y=t.y-offYOffset,null!==t.title&&this.spreaderTitle.attr({text:t.title})),this.spreaderTitle.animate(n,this.animatetime,this.animateeffect);this.spreaderPath.toFront(),this.spreaderTitle.toFront()}},spreaderPath=function(){return this.NullSpreader=function(e,t){return null===t&&(t=new l),e.setBaseValue(t.spreaderPercent,t),{spreaderPathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.PieSpreaderCustomization=function(){var e=new l;return e.spreaderRadius=25,e.arcBaseRadiusPercent=1,e.arcRadiusPercent=1,e.startRadiusPercent=0,e},this.PieSpreader=function(e,t,n){null===n&&(n=PieSpreaderCustomization()),e.setBaseValue(n.spreaderPercent*t,n);var i=e.sliceRadius*n.arcBaseRadiusPercent,a=e.sliceRadius*n.arcRadiusPercent;return spreaderPathString=[],e.StartSpreader(spreaderPathString,e.startAngle,i),spreaderPathString.push(e.ArcTo(a,e.middleAngle,i)),spreaderPathString.push(e.ArcTo(a,e.endAngle,i)),spreaderPathString.push(e.Close()),{spreaderPathString:spreaderPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.StarSpreaderCustomization=function(){var e=new l;return e.minRadiusPercent=.5,e},this.StarSpreader=function(e,t,n){null===n&&(n=StarSpreaderCustomization()),e.setBaseValue(n.spreaderPercent*t,n),rbase=e.wheelRadius*n.spreaderPercent*n.minRadiusPercent*t,r=e.sliceRadius,spreaderPathString=[],sliceAngle=e.sliceAngle/e.navItemCount,baseAngle=e.navAngle,e.endAngle-e.startAngle<360&&(baseAngle=e.startAngle),e.StartSpreader(spreaderPathString,baseAngle,r);for(var i=0;i<e.navItemCount;i++)startAngle=i*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,e.endAngle-e.startAngle<360&&i===e.navItemCount-1&&(endAngle=middleAngle),spreaderPathString.push(e.LineTo(startAngle,rbase)),spreaderPathString.push(e.LineTo(middleAngle,r)),spreaderPathString.push(e.LineTo(endAngle,rbase));return spreaderPathString.push(e.Close()),{spreaderPathString:spreaderPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.AntiStarSpreaderCustomization=function(){var e=new l;return e.minRadiusPercent=.21,e},this.AntiStarSpreader=function(e,t,n){null===n&&(n=AntiStarSpreaderCustomization()),e.setBaseValue(n.spreaderPercent*t,n),rbase=e.wheelRadius*n.spreaderPercent*n.minRadiusPercent*t,r=e.sliceRadius,spreaderPathString=[],sliceAngle=e.sliceAngle/e.navItemCount,baseAngle=e.navAngle,e.endAngle-e.startAngle<360?(baseAngle=e.startAngle,e.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(e.MoveTo(e.startAngle+(e.navAngle+sliceAngle/2),rbase));for(var i=0;i<e.navItemCount;i++)startAngle=i*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,e.endAngle-e.startAngle<360&&i===e.navItemCount-1&&(endAngle=middleAngle),spreaderPathString.push(e.LineTo(startAngle,r)),spreaderPathString.push(e.LineTo(middleAngle,rbase)),spreaderPathString.push(e.LineTo(endAngle,r));return spreaderPathString.push(e.Close()),{spreaderPathString:spreaderPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.FlowerSpreaderCustomization=function(){var e=new l;return e.minRadiusPercent=.63,e.menuRadius=7,e},this.FlowerSpreader=function(e,t,n){null===n&&(n=FlowerSpreaderCustomization()),e.setBaseValue(n.spreaderPercent*t,n),rbase=e.wheelRadius*n.spreaderPercent*n.minRadiusPercent*t,r=e.sliceRadius,spreaderPathString=[],sliceAngle=e.sliceAngle/e.navItemCount,baseAngle=e.navAngle,e.endAngle-e.startAngle<360?(baseAngle=e.startAngle,e.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(e.MoveTo(e.startAngle+(e.navAngle+sliceAngle/2),rbase));for(var i=0;i<e.navItemCount;i++)startAngle=i*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,e.endAngle-e.startAngle<360?(0===i&&spreaderPathString.push(e.ArcTo(n.menuRadius,startAngle,rbase)),i===e.navItemCount-1&&(endAngle=middleAngle)):spreaderPathString.push(e.LineTo(startAngle,rbase)),spreaderPathString.push(e.ArcTo(n.menuRadius,endAngle,rbase));return spreaderPathString.push(e.Close()),{spreaderPathString:spreaderPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.HolderSpreaderCustomization=function(){var e=new l;return e.minRadiusPercent=.5,e.menuRadius=37,e},this.HolderSpreader=function(e,t,n){null===n&&(n=HolderSpreaderCustomization()),e.setBaseValue(n.spreaderPercent*t,n),rbase=e.wheelRadius*n.spreaderPercent*n.minRadiusPercent*t,r=e.sliceRadius,spreaderPathString=[],sliceAngle=e.sliceAngle/e.navItemCount,baseAngle=e.navAngle,e.endAngle-e.startAngle<360?(baseAngle=e.startAngle,e.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(e.MoveTo(e.startAngle+(e.navAngle+sliceAngle/2),rbase));for(var i=0;i<e.navItemCount;i++)startAngle=i*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/4,endAngle=startAngle+sliceAngle,e.endAngle-e.startAngle<360?i===e.navItemCount-1&&(endAngle=middleAngle):spreaderPathString.push(e.LineTo(startAngle,rbase)),spreaderPathString.push(e.LineTo(startAngle,r)),spreaderPathString.push(e.ArcBackTo(n.menuRadius,middleAngle,rbase)),spreaderPathString.push(e.ArcTo(n.menuRadius,endAngle,r));return spreaderPathString.push(e.Close()),{spreaderPathString:spreaderPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.LineSpreaderCustomization=function(){var e=new l;return e.minRadiusPercent=.5,e},this.LineSpreader=function(e,t,n){null===n&&(n=LineSpreaderCustomization()),e.setBaseValue(n.spreaderPercent*t,n),rbase=e.wheelRadius*n.spreaderPercent*n.minRadiusPercent*t,r=e.sliceRadius,spreaderPathString=[],sliceAngle=e.sliceAngle/e.navItemCount,baseAngle=e.navAngle,e.endAngle-e.startAngle<360&&(baseAngle=e.startAngle),spreaderPathString.push(e.MoveTo(baseAngle+sliceAngle/2,r));for(var i=0;i<e.navItemCount;i++)startAngle=i*sliceAngle+(baseAngle+sliceAngle/2),endAngle=startAngle+sliceAngle,2===e.navItemCount&&(endAngle-=90),spreaderPathString.push(e.LineTo(startAngle,r)),spreaderPathString.push(e.LineTo(endAngle,r));return spreaderPathString.push(e.Close()),{spreaderPathString:spreaderPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this},marker=function(e){return this.wheelnav=e,this.wheelnav.markerEnable&&(this.markerHelper=new o,this.markerHelper.centerX=this.wheelnav.centerX,this.markerHelper.centerY=this.wheelnav.centerY,this.markerHelper.navItemCount=this.wheelnav.navItemCount,this.markerHelper.navAngle=this.wheelnav.navAngle,this.markerHelper.wheelRadius=this.wheelnav.wheelRadius*this.wheelnav.maxPercent,this.markerHelper.sliceAngle=this.wheelnav.navItems[0].sliceAngle,this.markerHelper.startAngle=this.markerHelper.navAngle-this.markerHelper.sliceAngle/2,this.animateeffect="bounce",this.animatetime=1500,null!==this.wheelnav.animateeffect&&(this.animateeffect=this.wheelnav.animateeffect),null!==this.wheelnav.animatetime&&(this.animatetime=this.wheelnav.animatetime),this.markerPathMin=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.minPercent,this.wheelnav.markerPathCustom),this.markerPathMax=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.maxPercent,this.wheelnav.markerPathCustom),this.marker=this.wheelnav.raphael.path(this.markerPathMax.markerPathString),this.marker.attr(this.wheelnav.markerAttr),this.marker.id=this.wheelnav.getMarkerId(),this.marker.node.id=this.marker.id),this},marker.prototype.setCurrentTransform=function(e){var t,n;this.wheelnav.markerEnable&&("",t=this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.markerPathMax.markerPathString:this.markerPathMin.markerPathString,void 0!==e?(n=e-this.markerHelper.navAngle,markerTransformAttr={transform:"r,"+n.toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY,path:t}):markerTransformAttr={path:t},this.marker.animate(markerTransformAttr,this.animatetime,this.animateeffect),this.marker.toFront())},markerPath=function(){return this.NullMarker=function(e,t){return null===t&&(t=new c),e.setBaseValue(t),{markerPathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.TriangleMarkerCustomization=function(){var e=new c;return e.arcBaseRadiusPercent=1.09,e.arcRadiusPercent=1.2,e.startRadiusPercent=0,e},this.TriangleMarker=function(e,t,n){null===n&&(n=TriangleMarkerCustomization()),e.setBaseValue(n.markerPercent*t,n);var i=e.sliceRadius*n.arcBaseRadiusPercent,a=e.sliceRadius*n.arcRadiusPercent,r=e.startAngle+.46*e.sliceAngle,o=e.startAngle+.54*e.sliceAngle;return markerPathString=[e.MoveTo(e.navAngle,i),e.LineTo(r,a),e.LineTo(o,a),e.Close()],{markerPathString:markerPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.PieLineMarkerCustomization=function(){var e=new c;return e.arcBaseRadiusPercent=1,e.arcRadiusPercent=1,e.startRadiusPercent=0,e.sliceAngle=null,e},this.PieLineMarker=function(e,t,n){null===n&&(n=PieLineMarkerCustomization()),e.setBaseValue(n.markerPercent*t,n);var i=e.sliceRadius*n.arcBaseRadiusPercent,a=e.sliceRadius*n.arcRadiusPercent;return null!==n.sliceAngle&&(e.startAngle=e.navAngle-n.sliceAngle/2,e.endAngle=e.navAngle+n.sliceAngle/2),markerPathString=[e.MoveTo(e.startAngle,i),e.ArcTo(a,e.endAngle,i),e.ArcBackTo(a,e.startAngle,i),e.Close()],{markerPathString:markerPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.MenuMarkerCustomization=function(){var e=new c;return e.menuRadius=40,e.titleRadiusPercent=.63,e.lineBaseRadiusPercent=0,e},this.MenuMarker=function(e,t,n){null===n&&(n=MenuMarkerCustomization()),e.setBaseValue(n.markerPercent*t,n),x=e.centerX,y=e.centerY,e.titleRadius=e.wheelRadius*n.titleRadiusPercent*t,e.setTitlePos();var i=n.menuRadius*t;return t<=.05&&(i=11),middleTheta=e.middleTheta,markerPathString=[["M",e.titlePosX-i*Math.cos(middleTheta),e.titlePosY-i*Math.sin(middleTheta)],["A",i,i,0,0,1,e.titlePosX+i*Math.cos(middleTheta),e.titlePosY+i*Math.sin(middleTheta)],["A",i,i,0,0,1,e.titlePosX-i*Math.cos(middleTheta),e.titlePosY-i*Math.sin(middleTheta)],["z"]],{markerPathString:markerPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.LineMarkerCustomization=function(){var e=new c;return e.arcBaseRadiusPercent=1.05,e.arcRadiusPercent=1.2,e.startRadiusPercent=0,e},this.LineMarker=function(e,t,n){null===n&&(n=LineMarkerCustomization()),e.setBaseValue(n.markerPercent*t,n);var i=e.sliceRadius*n.arcBaseRadiusPercent,a=e.sliceRadius*n.arcRadiusPercent;return markerPathString=[e.MoveTo(e.navAngle,i),e.LineTo(e.navAngle,a),e.Close()],{markerPathString:markerPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.DropMarkerCustomization=function(){var e=new c;return e.dropBaseRadiusPercent=0,e.dropRadiusPercent=.15,e},this.DropMarker=function(e,t,n){null===n&&(n=DropMarkerCustomization()),e.setBaseValue(n.markerPercent*t,n);var i=e.sliceRadius*n.dropBaseRadiusPercent,a=e.startAngle+.2*e.sliceAngle,r=e.startAngle,o=e.startAngle+.8*e.sliceAngle,s=e.startAngle+e.sliceAngle,l=e.sliceRadius*n.dropRadiusPercent;return markerPathString=[e.MoveTo(0,l),e.ArcTo(l,180,l),e.ArcTo(l,360,l),e.MoveTo(e.navAngle,i),e.LineTo(a,l),e.LineTo(r,l),e.LineTo(e.navAngle,1.6*l),e.LineTo(s,l),e.LineTo(o,l),e.Close()],{markerPathString:markerPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this},a={defaultpalette:["#2D9E46","#F5BE41","#F77604","#D63C22","#006BA6","#92ADAF"],purple:["#4F346B","#623491","#9657D6","#AD74E7","#CBA3F3"],greenred:["#17B92A","#FF3D00","#17B92A","#FF3D00"],greensilver:["#1F700A","#79CC3C","#D4E178","#E6D5C3","#AC875D"],oceanfive:["#00A0B0","#6A4A3C","#CC333F","#EB6841","#EDC951"],garden:["#648A4F","#2B2B29","#DF6126","#FFA337","#F57C85"],gamebookers:["#FF9900","#DCDCDC","#BCBCBC","#3299BB","#727272"],parrot:["#D80351","#F5D908","#00A3EE","#929292","#3F3F3F"],pisycholand:["#FF1919","#FF5E19","#FF9F19","#E4FF19","#29FF19"],makeLOVEnotWAR:["#2C0EF0","#B300FF","#6751F0","#FF006F","#8119FF"],theworldismine:["#F21D1D","#FF2167","#B521FF","#7E2AA8","#000000"],fractalloveone:["#002EFF","#00FFF7","#00FF62","#FFAA00","#FFF700"],fractallovetwo:["#FF9500","#FF0000","#FF00F3","#AA00FF","#002EFF"],fractallove:["#002EFF","#00FFF7","#00FF62","#FFAA00","#F5D908","#FF0000","#FF00F3","#AA00FF"],sprinkles:["#272523","#FFACAC","#FFD700","#00590C","#08006D"],goldenyellow:["#D8B597","#8C4006","#B6690F","#E3C57F","#FFEDBE"],hotaru:["#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5"]}},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var i,a;i=[n(3)],void 0===(a=function(e){function t(i){if(t.is(i,"function"))return n?i():e.on("raphael.DOMload",i);if(t.is(i,D))return t._engine.create[p](t,i.splice(0,3+t.is(i[0],E))).add(i);var a=Array.prototype.slice.call(arguments,0);if(t.is(a[a.length-1],"function")){var r=a.pop();return n?r.call(t._engine.create[p](t,a)):e.on("raphael.DOMload",(function(){r.call(t._engine.create[p](t,a))}))}return t._engine.create[p](t,arguments)}t.version="2.2.0",t.eve=e;var n,i,a,r,o=/[, ]+/,s={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},l=/\{(\d+)\}/g,c="hasOwnProperty",d={doc:document,win:window},u={was:Object.prototype[c].call(d.win,"Raphael"),is:d.win.Raphael},h=function(){this.ca=this.customAttributes={}},p="apply",f="concat",g="ontouchstart"in d.win||d.win.DocumentTouch&&d.doc instanceof DocumentTouch,m="",v=" ",_=String,b="split",y="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[b](v),w={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},x=_.prototype.toLowerCase,C=Math,S=C.max,T=C.min,k=C.abs,A=C.pow,P=C.PI,E="number",D="array",O=Object.prototype.toString,M=(t._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),I={NaN:1,Infinity:1,"-Infinity":1},N=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,L=C.round,R=parseFloat,j=parseInt,$=_.prototype.toUpperCase,B=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},V=t._availableAnimAttrs={blur:E,"clip-rect":"csv",cx:E,cy:E,fill:"colour","fill-opacity":E,"font-size":E,height:E,opacity:E,path:"path",r:E,rx:E,ry:E,stroke:"colour","stroke-opacity":E,"stroke-width":E,transform:"transform",width:E,x:E,y:E},H=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,F={hs:1,rg:1},z=/,?([achlmqrstvxz]),?/gi,U=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,W=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,q=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,G=(t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),Y=function(e,t){return R(e)-R(t)},Q=function(e){return e},J=t._rectPath=function(e,t,n,i,a){return a?[["M",e+a,t],["l",n-2*a,0],["a",a,a,0,0,1,a,a],["l",0,i-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-n,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-i],["a",a,a,0,0,1,a,-a],["z"]]:[["M",e,t],["l",n,0],["l",0,i],["l",-n,0],["z"]]},Z=function(e,t,n,i){return null==i&&(i=n),[["M",e,t],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},X=t._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return Z(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return Z(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return J(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return J(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return J(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return J(t.x,t.y,t.width,t.height)}},K=t.mapPath=function(e,t){if(!t)return e;var n,i,a,r,o,s,l;for(a=0,o=(e=Ae(e)).length;a<o;a++)for(r=1,s=(l=e[a]).length;r<s;r+=2)n=t.x(l[r],l[r+1]),i=t.y(l[r],l[r+1]),l[r]=n,l[r+1]=i;return e};if(t._g=d,t.type=d.win.SVGAngle||d.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var ee,te=d.doc.createElement("div");if(te.innerHTML='<v:shape adj="1"/>',(ee=te.firstChild).style.behavior="url(#default#VML)",!ee||"object"!=typeof ee.adj)return t.type=m;te=null}function ne(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[c](n)&&(t[n]=ne(e[n]));return t}t.svg=!(t.vml="VML"==t.type),t._Paper=h,t.fn=i=h.prototype=t.prototype,t._id=0,t.is=function(e,t){return"finite"==(t=x.call(t))?!I[c](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||O.call(e).slice(8,-1).toLowerCase()==t},t.angle=function(e,n,i,a,r,o){if(null==r){var s=e-i,l=n-a;return s||l?(180+180*C.atan2(-l,-s)/P+360)%360:0}return t.angle(e,n,r,o)-t.angle(i,a,r,o)},t.rad=function(e){return e%360*P/180},t.deg=function(e){return Math.round(180*e/P%360*1e3)/1e3},t.snapTo=function(e,n,i){if(i=t.is(i,"finite")?i:10,t.is(e,D)){for(var a=e.length;a--;)if(k(e[a]-n)<=i)return e[a]}else{var r=n%(e=+e);if(r<i)return n-r;if(r>e-i)return n-r+e}return n},t.createUUID=(a=/[xy]/g,r=function(e){var t=16*C.random()|0;return("x"==e?t:3&t|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,r).toUpperCase()}),t.setWindow=function(n){e("raphael.setWindow",t,d.win,n),d.win=n,d.doc=d.win.document,t._engine.initWin&&t._engine.initWin(d.win)};var ie=function(e){if(t.vml){var n,i=/^\s+|\s+$/g;try{var a=new ActiveXObject("htmlfile");a.write("<body>"),a.close(),n=a.body}catch(e){n=createPopup().document.body}var r=n.createTextRange();ie=ce((function(e){try{n.style.color=_(e).replace(i,m);var t=r.queryCommandValue("ForeColor");return"#"+("000000"+(t=(255&t)<<16|65280&t|(16711680&t)>>>16).toString(16)).slice(-6)}catch(e){return"none"}}))}else{var o=d.doc.createElement("i");o.title="Rapha\xebl Colour Picker",o.style.display="none",d.doc.body.appendChild(o),ie=ce((function(e){return o.style.color=e,d.doc.defaultView.getComputedStyle(o,m).getPropertyValue("color")}))}return ie(e)},ae=function(){return"hsb("+[this.h,this.s,this.b]+")"},re=function(){return"hsl("+[this.h,this.s,this.l]+")"},oe=function(){return this.hex},se=function(e,n,i){if(null==n&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(i=e.b,n=e.g,e=e.r),null==n&&t.is(e,"string")){var a=t.getRGB(e);e=a.r,n=a.g,i=a.b}return(e>1||n>1||i>1)&&(e/=255,n/=255,i/=255),[e,n,i]},le=function(e,n,i,a){var r={r:e*=255,g:n*=255,b:i*=255,hex:t.rgb(e,n,i),toString:oe};return t.is(a,"finite")&&(r.opacity=a),r};function ce(e,t,n){return function i(){var a=Array.prototype.slice.call(arguments,0),r=a.join("\u2400"),o=i.cache=i.cache||{},s=i.count=i.count||[];return o[c](r)?(function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}(s,r),n?n(o[r]):o[r]):(s.length>=1e3&&delete o[s.shift()],s.push(r),o[r]=e[p](t,a),n?n(o[r]):o[r])}}function de(){return this.hex}function ue(e,t){for(var n=[],i=0,a=e.length;a-2*!t>i;i+=2){var r=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];t?i?a-4==i?r[3]={x:+e[0],y:+e[1]}:a-2==i&&(r[2]={x:+e[0],y:+e[1]},r[3]={x:+e[2],y:+e[3]}):r[0]={x:+e[a-2],y:+e[a-1]}:a-4==i?r[3]=r[2]:i||(r[0]={x:+e[i],y:+e[i+1]}),n.push(["C",(-r[0].x+6*r[1].x+r[2].x)/6,(-r[0].y+6*r[1].y+r[2].y)/6,(r[1].x+6*r[2].x-r[3].x)/6,(r[1].y+6*r[2].y-r[3].y)/6,r[2].x,r[2].y])}return n}t.color=function(e){var n;return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(n=t.hsb2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(n=t.hsl2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):(t.is(e,"string")&&(e=t.getRGB(e)),t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(n=t.rgb2hsl(e),e.h=n.h,e.s=n.s,e.l=n.l,n=t.rgb2hsb(e),e.v=n.b):(e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1),e.toString=oe,e},t.hsb2rgb=function(e,t,n,i){var a,r,o,s,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,i=e.o,e=e.h),s=(l=n*t)*(1-k((e=(e*=360)%360/60)%2-1)),a=r=o=n-l,le(a+=[l,s,0,0,s,l][e=~~e],r+=[s,l,l,s,0,0][e],o+=[0,0,s,l,l,s][e],i)},t.hsl2rgb=function(e,t,n,i){var a,r,o,s,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),e=(e*=360)%360/60,s=(l=2*t*(n<.5?n:1-n))*(1-k(e%2-1)),a=r=o=n-l/2,le(a+=[l,s,0,0,s,l][e=~~e],r+=[s,l,l,s,0,0][e],o+=[0,0,s,l,l,s][e],i)},t.rgb2hsb=function(e,t,n){var i,a;return e=(n=se(e,t,n))[0],t=n[1],n=n[2],{h:((0==(a=(i=S(e,t,n))-T(e,t,n))?null:i==e?(t-n)/a:i==t?(n-e)/a+2:(e-t)/a+4)+360)%6*60/360,s:0==a?0:a/i,b:i,toString:ae}},t.rgb2hsl=function(e,t,n){var i,a,r,o;return e=(n=se(e,t,n))[0],t=n[1],n=n[2],i=((a=S(e,t,n))+(r=T(e,t,n)))/2,{h:((0==(o=a-r)?null:a==e?(t-n)/o:a==t?(n-e)/o+2:(e-t)/o+4)+360)%6*60/360,s:0==o?0:i<.5?o/(2*i):o/(2-2*i),l:i,toString:re}},t._path2string=function(){return this.join(",").replace(z,"$1")},t._preload=function(e,t){var n=d.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){t.call(this),this.onload=null,d.doc.body.removeChild(this)},n.onerror=function(){d.doc.body.removeChild(this)},d.doc.body.appendChild(n),n.src=e},t.getRGB=ce((function(e){if(!e||(e=_(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:de};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:de};!F[c](e.toLowerCase().substring(0,2))&&"#"!=e.charAt()&&(e=ie(e));var n,i,a,r,o,s,l=e.match(M);return l?(l[2]&&(a=j(l[2].substring(5),16),i=j(l[2].substring(3,5),16),n=j(l[2].substring(1,3),16)),l[3]&&(a=j((o=l[3].charAt(3))+o,16),i=j((o=l[3].charAt(2))+o,16),n=j((o=l[3].charAt(1))+o,16)),l[4]&&(s=l[4][b](H),n=R(s[0]),"%"==s[0].slice(-1)&&(n*=2.55),i=R(s[1]),"%"==s[1].slice(-1)&&(i*=2.55),a=R(s[2]),"%"==s[2].slice(-1)&&(a*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(r=R(s[3])),s[3]&&"%"==s[3].slice(-1)&&(r/=100)),l[5]?(s=l[5][b](H),n=R(s[0]),"%"==s[0].slice(-1)&&(n*=2.55),i=R(s[1]),"%"==s[1].slice(-1)&&(i*=2.55),a=R(s[2]),"%"==s[2].slice(-1)&&(a*=2.55),("deg"==s[0].slice(-3)||"\xb0"==s[0].slice(-1))&&(n/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(r=R(s[3])),s[3]&&"%"==s[3].slice(-1)&&(r/=100),t.hsb2rgb(n,i,a,r)):l[6]?(s=l[6][b](H),n=R(s[0]),"%"==s[0].slice(-1)&&(n*=2.55),i=R(s[1]),"%"==s[1].slice(-1)&&(i*=2.55),a=R(s[2]),"%"==s[2].slice(-1)&&(a*=2.55),("deg"==s[0].slice(-3)||"\xb0"==s[0].slice(-1))&&(n/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(r=R(s[3])),s[3]&&"%"==s[3].slice(-1)&&(r/=100),t.hsl2rgb(n,i,a,r)):((l={r:n,g:i,b:a,toString:de}).hex="#"+(16777216|a|i<<8|n<<16).toString(16).slice(1),t.is(r,"finite")&&(l.opacity=r),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:de}}),t),t.hsb=ce((function(e,n,i){return t.hsb2rgb(e,n,i).hex})),t.hsl=ce((function(e,n,i){return t.hsl2rgb(e,n,i).hex})),t.rgb=ce((function(e,t,n){function i(e){return e+.5|0}return"#"+(16777216|i(n)|i(t)<<8|i(e)<<16).toString(16).slice(1)})),t.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),n.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=function(e){if(!e)return null;var n=he(e);if(n.arr)return be(n.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},a=[];return t.is(e,D)&&t.is(e[0],D)&&(a=be(e)),a.length||_(e).replace(U,(function(e,t,n){var r=[],o=t.toLowerCase();if(n.replace(q,(function(e,t){t&&r.push(+t)})),"m"==o&&r.length>2&&(a.push([t][f](r.splice(0,2))),o="l",t="m"==t?"l":"L"),"r"==o)a.push([t][f](r));else for(;r.length>=i[o]&&(a.push([t][f](r.splice(0,i[o]))),i[o]););})),a.toString=t._path2string,n.arr=be(a),a},t.parseTransformString=ce((function(e){if(!e)return null;var n=[];return t.is(e,D)&&t.is(e[0],D)&&(n=be(e)),n.length||_(e).replace(W,(function(e,t,i){var a=[];x.call(t),i.replace(q,(function(e,t){t&&a.push(+t)})),n.push([t][f](a))})),n.toString=t._path2string,n}));var he=function e(t){var n=e.ps=e.ps||{};return n[t]?n[t].sleep=100:n[t]={sleep:100},setTimeout((function(){for(var e in n)n[c](e)&&e!=t&&(n[e].sleep--,!n[e].sleep&&delete n[e])})),n[t]};function pe(e,t,n,i,a){return e*(e*(-3*t+9*n-9*i+3*a)+6*t-12*n+6*i)-3*t+3*n}function fe(e,t,n,i,a,r,o,s,l){null==l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],u=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=0;p<12;p++){var f=c*d[p]+c,g=pe(f,e,n,a,o),m=pe(f,t,i,r,s),v=g*g+m*m;h+=u[p]*C.sqrt(v)}return c*h}function ge(e,t,n,i,a,r,o,s){if(!(S(e,n)<T(a,o)||T(e,n)>S(a,o)||S(t,i)<T(r,s)||T(t,i)>S(r,s))){var l=(e-n)*(r-s)-(t-i)*(a-o);if(l){var c=((e*i-t*n)*(a-o)-(e-n)*(a*s-r*o))/l,d=((e*i-t*n)*(r-s)-(t-i)*(a*s-r*o))/l,u=+c.toFixed(2),h=+d.toFixed(2);if(!(u<+T(e,n).toFixed(2)||u>+S(e,n).toFixed(2)||u<+T(a,o).toFixed(2)||u>+S(a,o).toFixed(2)||h<+T(t,i).toFixed(2)||h>+S(t,i).toFixed(2)||h<+T(r,s).toFixed(2)||h>+S(r,s).toFixed(2)))return{x:c,y:d}}}}function me(e,n,i){var a=t.bezierBBox(e),r=t.bezierBBox(n);if(!t.isBBoxIntersect(a,r))return i?0:[];for(var o=fe.apply(0,e),s=fe.apply(0,n),l=S(~~(o/5),1),c=S(~~(s/5),1),d=[],u=[],h={},p=i?0:[],f=0;f<l+1;f++){var g=t.findDotsAtSegment.apply(t,e.concat(f/l));d.push({x:g.x,y:g.y,t:f/l})}for(f=0;f<c+1;f++)g=t.findDotsAtSegment.apply(t,n.concat(f/c)),u.push({x:g.x,y:g.y,t:f/c});for(f=0;f<l;f++)for(var m=0;m<c;m++){var v=d[f],_=d[f+1],b=u[m],y=u[m+1],w=k(_.x-v.x)<.001?"y":"x",x=k(y.x-b.x)<.001?"y":"x",C=ge(v.x,v.y,_.x,_.y,b.x,b.y,y.x,y.y);if(C){if(h[C.x.toFixed(4)]==C.y.toFixed(4))continue;h[C.x.toFixed(4)]=C.y.toFixed(4);var A=v.t+k((C[w]-v[w])/(_[w]-v[w]))*(_.t-v.t),P=b.t+k((C[x]-b[x])/(y[x]-b[x]))*(y.t-b.t);A>=0&&A<=1.001&&P>=0&&P<=1.001&&(i?p++:p.push({x:C.x,y:C.y,t1:T(A,1),t2:T(P,1)}))}}return p}function ve(e,n,i){e=t._path2curve(e),n=t._path2curve(n);for(var a,r,o,s,l,c,d,u,h,p,f=i?0:[],g=0,m=e.length;g<m;g++){var v=e[g];if("M"==v[0])a=l=v[1],r=c=v[2];else{"C"==v[0]?(a=(h=[a,r].concat(v.slice(1)))[6],r=h[7]):(h=[a,r,a,r,l,c,l,c],a=l,r=c);for(var _=0,b=n.length;_<b;_++){var y=n[_];if("M"==y[0])o=d=y[1],s=u=y[2];else{"C"==y[0]?(o=(p=[o,s].concat(y.slice(1)))[6],s=p[7]):(p=[o,s,o,s,d,u,d,u],o=d,s=u);var w=me(h,p,i);if(i)f+=w;else{for(var x=0,C=w.length;x<C;x++)w[x].segment1=g,w[x].segment2=_,w[x].bez1=h,w[x].bez2=p;f=f.concat(w)}}}}}return f}t.findDotsAtSegment=function(e,t,n,i,a,r,o,s,l){var c=1-l,d=A(c,3),u=A(c,2),h=l*l,p=h*l,f=d*e+3*u*l*n+3*c*l*l*a+p*o,g=d*t+3*u*l*i+3*c*l*l*r+p*s,m=e+2*l*(n-e)+h*(a-2*n+e),v=t+2*l*(i-t)+h*(r-2*i+t),_=n+2*l*(a-n)+h*(o-2*a+n),b=i+2*l*(r-i)+h*(s-2*r+i),y=c*e+l*n,w=c*t+l*i,x=c*a+l*o,S=c*r+l*s,T=90-180*C.atan2(m-_,v-b)/P;return(m>_||v<b)&&(T+=180),{x:f,y:g,m:{x:m,y:v},n:{x:_,y:b},start:{x:y,y:w},end:{x:x,y:S},alpha:T}},t.bezierBBox=function(e,n,i,a,r,o,s,l){t.is(e,"array")||(e=[e,n,i,a,r,o,s,l]);var c=ke.apply(null,e);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},t.isPointInsideBBox=function(e,t,n){return t>=e.x&&t<=e.x2&&n>=e.y&&n<=e.y2},t.isBBoxIntersect=function(e,n){var i=t.isPointInsideBBox;return i(n,e.x,e.y)||i(n,e.x2,e.y)||i(n,e.x,e.y2)||i(n,e.x2,e.y2)||i(e,n.x,n.y)||i(e,n.x2,n.y)||i(e,n.x,n.y2)||i(e,n.x2,n.y2)||(e.x<n.x2&&e.x>n.x||n.x<e.x2&&n.x>e.x)&&(e.y<n.y2&&e.y>n.y||n.y<e.y2&&n.y>e.y)},t.pathIntersection=function(e,t){return ve(e,t)},t.pathIntersectionNumber=function(e,t){return ve(e,t,1)},t.isPointInsidePath=function(e,n,i){var a=t.pathBBox(e);return t.isPointInsideBBox(a,n,i)&&ve(e,[["M",n,i],["H",a.x2+10]],1)%2==1},t._removedFactory=function(t){return function(){e("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+t+"\u201d of removed object",t)}};var _e=t.pathBBox=function(e){var t=he(e);if(t.bbox)return ne(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,i=0,a=0,r=[],o=[],s=0,l=(e=Ae(e)).length;s<l;s++)if("M"==(n=e[s])[0])i=n[1],a=n[2],r.push(i),o.push(a);else{var c=ke(i,a,n[1],n[2],n[3],n[4],n[5],n[6]);r=r[f](c.min.x,c.max.x),o=o[f](c.min.y,c.max.y),i=n[5],a=n[6]}var d=T[p](0,r),u=T[p](0,o),h=S[p](0,r),g=S[p](0,o),m=h-d,v=g-u,_={x:d,y:u,x2:h,y2:g,width:m,height:v,cx:d+m/2,cy:u+v/2};return t.bbox=ne(_),_},be=function(e){var n=ne(e);return n.toString=t._path2string,n},ye=t._pathToRelative=function(e){var n=he(e);if(n.rel)return be(n.rel);t.is(e,D)&&t.is(e&&e[0],D)||(e=t.parsePathString(e));var i=[],a=0,r=0,o=0,s=0,l=0;"M"==e[0][0]&&(o=a=e[0][1],s=r=e[0][2],l++,i.push(["M",a,r]));for(var c=l,d=e.length;c<d;c++){var u=i[c]=[],h=e[c];if(h[0]!=x.call(h[0]))switch(u[0]=x.call(h[0]),u[0]){case"a":u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=+(h[6]-a).toFixed(3),u[7]=+(h[7]-r).toFixed(3);break;case"v":u[1]=+(h[1]-r).toFixed(3);break;case"m":o=h[1],s=h[2];default:for(var p=1,f=h.length;p<f;p++)u[p]=+(h[p]-(p%2?a:r)).toFixed(3)}else{u=i[c]=[],"m"==h[0]&&(o=h[1]+a,s=h[2]+r);for(var g=0,m=h.length;g<m;g++)i[c][g]=h[g]}var v=i[c].length;switch(i[c][0]){case"z":a=o,r=s;break;case"h":a+=+i[c][v-1];break;case"v":r+=+i[c][v-1];break;default:a+=+i[c][v-2],r+=+i[c][v-1]}}return i.toString=t._path2string,n.rel=be(i),i},we=t._pathToAbsolute=function(e){var n=he(e);if(n.abs)return be(n.abs);if(t.is(e,D)&&t.is(e&&e[0],D)||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var i=[],a=0,r=0,o=0,s=0,l=0;"M"==e[0][0]&&(o=a=+e[0][1],s=r=+e[0][2],l++,i[0]=["M",a,r]);for(var c,d,u=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),h=l,p=e.length;h<p;h++){if(i.push(c=[]),(d=e[h])[0]!=$.call(d[0]))switch(c[0]=$.call(d[0]),c[0]){case"A":c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=+(d[6]+a),c[7]=+(d[7]+r);break;case"V":c[1]=+d[1]+r;break;case"H":c[1]=+d[1]+a;break;case"R":for(var g=[a,r][f](d.slice(1)),m=2,v=g.length;m<v;m++)g[m]=+g[m]+a,g[++m]=+g[m]+r;i.pop(),i=i[f](ue(g,u));break;case"M":o=+d[1]+a,s=+d[2]+r;default:for(m=1,v=d.length;m<v;m++)c[m]=+d[m]+(m%2?a:r)}else if("R"==d[0])g=[a,r][f](d.slice(1)),i.pop(),i=i[f](ue(g,u)),c=["R"][f](d.slice(-2));else for(var _=0,b=d.length;_<b;_++)c[_]=d[_];switch(c[0]){case"Z":a=o,r=s;break;case"H":a=c[1];break;case"V":r=c[1];break;case"M":o=c[c.length-2],s=c[c.length-1];default:a=c[c.length-2],r=c[c.length-1]}}return i.toString=t._path2string,n.abs=be(i),i},xe=function(e,t,n,i){return[e,t,n,i,n,i]},Ce=function(e,t,n,i,a,r){return[1/3*e+2/3*n,1/3*t+2/3*i,1/3*a+2/3*n,1/3*r+2/3*i,a,r]},Se=function e(t,n,i,a,r,o,s,l,c,d){var u,h=120*P/180,p=P/180*(+r||0),g=[],m=ce((function(e,t,n){return{x:e*C.cos(n)-t*C.sin(n),y:e*C.sin(n)+t*C.cos(n)}}));if(d)E=d[0],D=d[1],T=d[2],A=d[3];else{t=(u=m(t,n,-p)).x,n=u.y,l=(u=m(l,c,-p)).x,c=u.y,C.cos(P/180*r),C.sin(P/180*r);var v=(t-l)/2,_=(n-c)/2,y=v*v/(i*i)+_*_/(a*a);y>1&&(i*=y=C.sqrt(y),a*=y);var w=i*i,x=a*a,S=(o==s?-1:1)*C.sqrt(k((w*x-w*_*_-x*v*v)/(w*_*_+x*v*v))),T=S*i*_/a+(t+l)/2,A=S*-a*v/i+(n+c)/2,E=C.asin(((n-A)/a).toFixed(9)),D=C.asin(((c-A)/a).toFixed(9));(E=t<T?P-E:E)<0&&(E=2*P+E),(D=l<T?P-D:D)<0&&(D=2*P+D),s&&E>D&&(E-=2*P),!s&&D>E&&(D-=2*P)}var O=D-E;if(k(O)>h){var M=D,I=l,N=c;D=E+h*(s&&D>E?1:-1),g=e(l=T+i*C.cos(D),c=A+a*C.sin(D),i,a,r,0,s,I,N,[D,M,T,A])}O=D-E;var L=C.cos(E),R=C.sin(E),j=C.cos(D),$=C.sin(D),B=C.tan(O/4),V=4/3*i*B,H=4/3*a*B,F=[t,n],z=[t+V*R,n-H*L],U=[l+V*$,c-H*j],W=[l,c];if(z[0]=2*F[0]-z[0],z[1]=2*F[1]-z[1],d)return[z,U,W][f](g);for(var q=[],G=0,Y=(g=[z,U,W][f](g).join()[b](",")).length;G<Y;G++)q[G]=G%2?m(g[G-1],g[G],p).y:m(g[G],g[G+1],p).x;return q},Te=function(e,t,n,i,a,r,o,s,l){var c=1-l;return{x:A(c,3)*e+3*A(c,2)*l*n+3*c*l*l*a+A(l,3)*o,y:A(c,3)*t+3*A(c,2)*l*i+3*c*l*l*r+A(l,3)*s}},ke=ce((function(e,t,n,i,a,r,o,s){var l,c=a-2*n+e-(o-2*a+n),d=2*(n-e)-2*(a-n),u=e-n,h=(-d+C.sqrt(d*d-4*c*u))/2/c,f=(-d-C.sqrt(d*d-4*c*u))/2/c,g=[t,s],m=[e,o];return k(h)>"1e12"&&(h=.5),k(f)>"1e12"&&(f=.5),h>0&&h<1&&(l=Te(e,t,n,i,a,r,o,s,h),m.push(l.x),g.push(l.y)),f>0&&f<1&&(l=Te(e,t,n,i,a,r,o,s,f),m.push(l.x),g.push(l.y)),c=r-2*i+t-(s-2*r+i),u=t-i,h=(-(d=2*(i-t)-2*(r-i))+C.sqrt(d*d-4*c*u))/2/c,f=(-d-C.sqrt(d*d-4*c*u))/2/c,k(h)>"1e12"&&(h=.5),k(f)>"1e12"&&(f=.5),h>0&&h<1&&(l=Te(e,t,n,i,a,r,o,s,h),m.push(l.x),g.push(l.y)),f>0&&f<1&&(l=Te(e,t,n,i,a,r,o,s,f),m.push(l.x),g.push(l.y)),{min:{x:T[p](0,m),y:T[p](0,g)},max:{x:S[p](0,m),y:S[p](0,g)}}})),Ae=t._path2curve=ce((function(e,t){var n=!t&&he(e);if(!t&&n.curve)return be(n.curve);for(var i=we(e),a=t&&we(t),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(e,t,n){var i,a;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][f](Se[p](0,[t.x,t.y][f](e.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*t.x-t.bx,a=2*t.y-t.by):(i=t.x,a=t.y),e=["C",i,a][f](e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"][f](Ce(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][f](Ce(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][f](xe(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][f](xe(t.x,t.y,e[1],t.y));break;case"V":e=["C"][f](xe(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][f](xe(t.x,t.y,t.X,t.Y))}return e},l=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)d[t]="A",a&&(u[t]="A"),e.splice(t++,0,["C"][f](n.splice(0,6)));e.splice(t,1),v=S(i.length,a&&a.length||0)}},c=function(e,t,n,r,o){e&&t&&"M"==e[o][0]&&"M"!=t[o][0]&&(t.splice(o,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=e[o][1],n.y=e[o][2],v=S(i.length,a&&a.length||0))},d=[],u=[],h="",g="",m=0,v=S(i.length,a&&a.length||0);m<v;m++){i[m]&&(h=i[m][0]),"C"!=h&&(d[m]=h,m&&(g=d[m-1])),i[m]=s(i[m],r,g),"A"!=d[m]&&"C"==h&&(d[m]="C"),l(i,m),a&&(a[m]&&(h=a[m][0]),"C"!=h&&(u[m]=h,m&&(g=u[m-1])),a[m]=s(a[m],o,g),"A"!=u[m]&&"C"==h&&(u[m]="C"),l(a,m)),c(i,a,r,o,m),c(a,i,o,r,m);var _=i[m],b=a&&a[m],y=_.length,w=a&&b.length;r.x=_[y-2],r.y=_[y-1],r.bx=R(_[y-4])||r.x,r.by=R(_[y-3])||r.y,o.bx=a&&(R(b[w-4])||o.x),o.by=a&&(R(b[w-3])||o.y),o.x=a&&b[w-2],o.y=a&&b[w-1]}return a||(n.curve=be(i)),a?[i,a]:i}),null,be),Pe=(t._parseDots=ce((function(e){for(var n=[],i=0,a=e.length;i<a;i++){var r={},o=e[i].match(/^([^:]*):?([\d\.]*)/);if(r.color=t.getRGB(o[1]),r.color.error)return null;r.opacity=r.color.opacity,r.color=r.color.hex,o[2]&&(r.offset=o[2]+"%"),n.push(r)}for(i=1,a=n.length-1;i<a;i++)if(!n[i].offset){for(var s=R(n[i-1].offset||0),l=0,c=i+1;c<a;c++)if(n[c].offset){l=n[c].offset;break}l||(l=100,c=a);for(var d=((l=R(l))-s)/(c-i+1);i<c;i++)s+=d,n[i].offset=s+"%"}return n})),t._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),Ee=(t._tofront=function(e,t){t.top!==e&&(Pe(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},t._toback=function(e,t){t.bottom!==e&&(Pe(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},t._insertafter=function(e,t,n){Pe(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},t._insertbefore=function(e,t,n){Pe(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},t.toMatrix=function(e,t){var n=_e(e),i={_:{transform:m},getBBox:function(){return n}};return De(i,t),i.matrix}),De=(t.transformPath=function(e,t){return K(e,Ee(e,t))},t._extractTransform=function(e,n){if(null==n)return e._.transform;n=_(n).replace(/\.{3}|\u2026/g,e._.transform||m);var i,a,r=t.parseTransformString(n),o=0,s=1,l=1,c=e._,d=new Ie;if(c.transform=r||[],r)for(var u=0,h=r.length;u<h;u++){var p,f,g,v,b,y=r[u],w=y.length,x=_(y[0]).toLowerCase(),C=y[0]!=x,S=C?d.invert():0;"t"==x&&3==w?C?(p=S.x(0,0),f=S.y(0,0),g=S.x(y[1],y[2]),v=S.y(y[1],y[2]),d.translate(g-p,v-f)):d.translate(y[1],y[2]):"r"==x?2==w?(b=b||e.getBBox(1),d.rotate(y[1],b.x+b.width/2,b.y+b.height/2),o+=y[1]):4==w&&(C?(g=S.x(y[2],y[3]),v=S.y(y[2],y[3]),d.rotate(y[1],g,v)):d.rotate(y[1],y[2],y[3]),o+=y[1]):"s"==x?2==w||3==w?(b=b||e.getBBox(1),d.scale(y[1],y[w-1],b.x+b.width/2,b.y+b.height/2),s*=y[1],l*=y[w-1]):5==w&&(C?(g=S.x(y[3],y[4]),v=S.y(y[3],y[4]),d.scale(y[1],y[2],g,v)):d.scale(y[1],y[2],y[3],y[4]),s*=y[1],l*=y[2]):"m"==x&&7==w&&d.add(y[1],y[2],y[3],y[4],y[5],y[6]),c.dirtyT=1,e.matrix=d}e.matrix=d,c.sx=s,c.sy=l,c.deg=o,c.dx=i=d.e,c.dy=a=d.f,1==s&&1==l&&!o&&c.bbox?(c.bbox.x+=+i,c.bbox.y+=+a):c.dirtyT=1}),Oe=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},Me=t._equaliseTransform=function(e,n){n=_(n).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],n=t.parseTransformString(n)||[];for(var i,a,r,o,s=S(e.length,n.length),l=[],c=[],d=0;d<s;d++){if(r=e[d]||Oe(n[d]),o=n[d]||Oe(r),r[0]!=o[0]||"r"==r[0].toLowerCase()&&(r[2]!=o[2]||r[3]!=o[3])||"s"==r[0].toLowerCase()&&(r[3]!=o[3]||r[4]!=o[4]))return;for(l[d]=[],c[d]=[],i=0,a=S(r.length,o.length);i<a;i++)i in r&&(l[d][i]=r[i]),i in o&&(c[d][i]=o[i])}return{from:l,to:c}};function Ie(e,t,n,i,a,r){null!=e?(this.a=+e,this.b=+t,this.c=+n,this.d=+i,this.e=+a,this.f=+r):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}t._getContainer=function(e,n,i,a){var r;if(null!=(r=null!=a||t.is(e,"object")?e:d.doc.getElementById(e)))return r.tagName?null==n?{container:r,width:r.style.pixelWidth||r.offsetWidth,height:r.style.pixelHeight||r.offsetHeight}:{container:r,width:n,height:i}:{container:1,x:e,y:n,width:i,height:a}},t.pathToRelative=ye,t._engine={},t.path2curve=Ae,t.matrix=function(e,t,n,i,a,r){return new Ie(e,t,n,i,a,r)},function(e){function n(e){return e[0]*e[0]+e[1]*e[1]}function i(e){var t=C.sqrt(n(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}e.add=function(e,t,n,i,a,r){var o,s,l,c,d=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[e,n,a],[t,i,r],[0,0,1]];for(e&&e instanceof Ie&&(h=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),o=0;o<3;o++)for(s=0;s<3;s++){for(c=0,l=0;l<3;l++)c+=u[o][l]*h[l][s];d[o][s]=c}this.a=d[0][0],this.b=d[1][0],this.c=d[0][1],this.d=d[1][1],this.e=d[0][2],this.f=d[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new Ie(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new Ie(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,n,i){null==t&&(t=e),(n||i)&&this.add(1,0,0,1,n,i),this.add(e,0,0,t,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},e.rotate=function(e,n,i){e=t.rad(e),n=n||0,i=i||0;var a=+C.cos(e).toFixed(9),r=+C.sin(e).toFixed(9);this.add(a,r,-r,a,n,i),this.add(1,0,0,1,-n,-i)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[_.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var a=[[this.a,this.c],[this.b,this.d]];e.scalex=C.sqrt(n(a[0])),i(a[0]),e.shear=a[0][0]*a[1][0]+a[0][1]*a[1][1],a[1]=[a[1][0]-a[0][0]*e.shear,a[1][1]-a[0][1]*e.shear],e.scaley=C.sqrt(n(a[1])),i(a[1]),e.shear/=e.scaley;var r=-a[0][1],o=a[1][1];return o<0?(e.rotate=t.deg(C.acos(o)),r<0&&(e.rotate=360-e.rotate)):e.rotate=t.deg(C.asin(r)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[b]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:m)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:m)+(t.rotate?"r"+[t.rotate,0,0]:m)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Ie.prototype);for(var Ne=function(){this.returnValue=!1},Le=function(){return this.originalEvent.preventDefault()},Re=function(){this.cancelBubble=!0},je=function(){return this.originalEvent.stopPropagation()},$e=function(e){var t=d.doc.documentElement.scrollTop||d.doc.body.scrollTop,n=d.doc.documentElement.scrollLeft||d.doc.body.scrollLeft;return{x:e.clientX+n,y:e.clientY+t}},Be=d.doc.addEventListener?function(e,t,n,i){var a=function(e){var t=$e(e);return n.call(i,e,t.x,t.y)};if(e.addEventListener(t,a,!1),g&&w[t]){var r=function(t){for(var a=$e(t),r=t,o=0,s=t.targetTouches&&t.targetTouches.length;o<s;o++)if(t.targetTouches[o].target==e){(t=t.targetTouches[o]).originalEvent=r,t.preventDefault=Le,t.stopPropagation=je;break}return n.call(i,t,a.x,a.y)};e.addEventListener(w[t],r,!1)}return function(){return e.removeEventListener(t,a,!1),g&&w[t]&&e.removeEventListener(w[t],r,!1),!0}}:d.doc.attachEvent?function(e,t,n,i){var a=function(e){e=e||d.win.event;var t=d.doc.documentElement.scrollTop||d.doc.body.scrollTop,a=d.doc.documentElement.scrollLeft||d.doc.body.scrollLeft,r=e.clientX+a,o=e.clientY+t;return e.preventDefault=e.preventDefault||Ne,e.stopPropagation=e.stopPropagation||Re,n.call(i,e,r,o)};return e.attachEvent("on"+t,a),function(){return e.detachEvent("on"+t,a),!0}}:void 0,Ve=[],He=function(t){for(var n,i=t.clientX,a=t.clientY,r=d.doc.documentElement.scrollTop||d.doc.body.scrollTop,o=d.doc.documentElement.scrollLeft||d.doc.body.scrollLeft,s=Ve.length;s--;){if(n=Ve[s],g&&t.touches){for(var l,c=t.touches.length;c--;)if((l=t.touches[c]).identifier==n.el._drag.id){i=l.clientX,a=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var u,h=n.el.node,p=h.nextSibling,f=h.parentNode,m=h.style.display;d.win.opera&&f.removeChild(h),h.style.display="none",u=n.el.paper.getElementByPoint(i,a),h.style.display=m,d.win.opera&&(p?f.insertBefore(h,p):f.appendChild(h)),u&&e("raphael.drag.over."+n.el.id,n.el,u),i+=o,a+=r,e("raphael.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,a-n.el._drag.y,i,a,t)}},Fe=function n(i){t.unmousemove(He).unmouseup(n);for(var a,r=Ve.length;r--;)(a=Ve[r]).el._drag={},e("raphael.drag.end."+a.el.id,a.end_scope||a.start_scope||a.move_scope||a.el,i);Ve=[]},ze=t.el={},Ue=y.length;Ue--;)!function(e){t[e]=ze[e]=function(n,i){return t.is(n,"function")&&(this.events=this.events||[],this.events.push({name:e,f:n,unbind:Be(this.shape||this.node||d.doc,e,n,i||this)})),this},t["un"+e]=ze["un"+e]=function(n){for(var i=this.events||[],a=i.length;a--;)i[a].name!=e||!t.is(n,"undefined")&&i[a].f!=n||(i[a].unbind(),i.splice(a,1),!i.length&&delete this.events);return this}}(y[Ue]);ze.data=function(n,i){var a=G[this.id]=G[this.id]||{};if(0==arguments.length)return a;if(1==arguments.length){if(t.is(n,"object")){for(var r in n)n[c](r)&&this.data(r,n[r]);return this}return e("raphael.data.get."+this.id,this,a[n],n),a[n]}return a[n]=i,e("raphael.data.set."+this.id,this,i,n),this},ze.removeData=function(e){return null==e?G[this.id]={}:G[this.id]&&delete G[this.id][e],this},ze.getData=function(){return ne(G[this.id]||{})},ze.hover=function(e,t,n,i){return this.mouseover(e,n).mouseout(t,i||n)},ze.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var We=[];function qe(){return this.x+v+this.y+v+this.width+" \xd7 "+this.height}ze.drag=function(n,i,a,r,o,s){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,u=l.clientY,h=d.doc.documentElement.scrollTop||d.doc.body.scrollTop,p=d.doc.documentElement.scrollLeft||d.doc.body.scrollLeft;if(this._drag.id=l.identifier,g&&l.touches)for(var f,m=l.touches.length;m--;)if(f=l.touches[m],this._drag.id=f.identifier,f.identifier==this._drag.id){c=f.clientX,u=f.clientY;break}this._drag.x=c+p,this._drag.y=u+h,!Ve.length&&t.mousemove(He).mouseup(Fe),Ve.push({el:this,move_scope:r,start_scope:o,end_scope:s}),i&&e.on("raphael.drag.start."+this.id,i),n&&e.on("raphael.drag.move."+this.id,n),a&&e.on("raphael.drag.end."+this.id,a),e("raphael.drag.start."+this.id,o||r||this,l.clientX+p,l.clientY+h,l)}return this._drag={},We.push({el:this,start:l}),this.mousedown(l),this},ze.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},ze.undrag=function(){for(var n=We.length;n--;)We[n].el==this&&(this.unmousedown(We[n].start),We.splice(n,1),e.unbind("raphael.drag.*."+this.id));!We.length&&t.unmousemove(He).unmouseup(Fe),Ve=[]},i.circle=function(e,n,i){var a=t._engine.circle(this,e||0,n||0,i||0);return this.__set__&&this.__set__.push(a),a},i.rect=function(e,n,i,a,r){var o=t._engine.rect(this,e||0,n||0,i||0,a||0,r||0);return this.__set__&&this.__set__.push(o),o},i.ellipse=function(e,n,i,a){var r=t._engine.ellipse(this,e||0,n||0,i||0,a||0);return this.__set__&&this.__set__.push(r),r},i.path=function(e){e&&!t.is(e,"string")&&!t.is(e[0],D)&&(e+=m);var n=t._engine.path(t.format[p](t,arguments),this);return this.__set__&&this.__set__.push(n),n},i.image=function(e,n,i,a,r){var o=t._engine.image(this,e||"about:blank",n||0,i||0,a||0,r||0);return this.__set__&&this.__set__.push(o),o},i.text=function(e,n,i){var a=t._engine.text(this,e||0,n||0,_(i));return this.__set__&&this.__set__.push(a),a},i.set=function(e){!t.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var n=new ct(e);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},i.setStart=function(e){this.__set__=e||this.set()},i.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},i.getSize=function(){var e=this.canvas.parentNode;return{width:e.offsetWidth,height:e.offsetHeight}},i.setSize=function(e,n){return t._engine.setSize.call(this,e,n)},i.setViewBox=function(e,n,i,a,r){return t._engine.setViewBox.call(this,e,n,i,a,r)},i.top=i.bottom=null,i.raphael=t,i.getElementByPoint=function(e,t){var n,i,a,r,o,s,l,c=this.canvas,u=d.doc.elementFromPoint(e,t);if(d.win.opera&&"svg"==u.tagName){var h=(i=(n=c).getBoundingClientRect(),r=(a=n.ownerDocument).body,s=(o=a.documentElement).clientTop||r.clientTop||0,l=o.clientLeft||r.clientLeft||0,{y:i.top+(d.win.pageYOffset||o.scrollTop||r.scrollTop)-s,x:i.left+(d.win.pageXOffset||o.scrollLeft||r.scrollLeft)-l}),p=c.createSVGRect();p.x=e-h.x,p.y=t-h.y,p.width=p.height=1;var f=c.getIntersectionList(p,null);f.length&&(u=f[f.length-1])}if(!u)return null;for(;u.parentNode&&u!=c.parentNode&&!u.raphael;)u=u.parentNode;return u==this.canvas.parentNode&&(u=c),u&&u.raphael?this.getById(u.raphaelid):null},i.getElementsByBBox=function(e){var n=this.set();return this.forEach((function(i){t.isBBoxIntersect(i.getBBox(),e)&&n.push(i)})),n},i.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},i.forEach=function(e,t){for(var n=this.bottom;n;){if(!1===e.call(t,n))return this;n=n.next}return this},i.getElementsByPoint=function(e,t){var n=this.set();return this.forEach((function(i){i.isPointInside(e,t)&&n.push(i)})),n},ze.isPointInside=function(e,n){var i=this.realPath=X[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=t.transformPath(i,this.attr("transform"))),t.isPointInsidePath(i,e,n)},ze.getBBox=function(e){if(this.removed)return{};var t=this._;return e?(!t.dirty&&t.bboxwt||(this.realPath=X[this.type](this),t.bboxwt=_e(this.realPath),t.bboxwt.toString=qe,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&(!t.dirty&&this.realPath||(t.bboxwt=0,this.realPath=X[this.type](this)),t.bbox=_e(K(this.realPath,this.matrix)),t.bbox.toString=qe,t.dirty=t.dirtyT=0),t.bbox)},ze.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},ze.glow=function(e){if("text"==this.type)return null;var t={width:((e=e||{}).width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:null==e.opacity?.5:e.opacity,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},n=t.width/2,i=this.paper,a=i.set(),r=this.realPath||X[this.type](this);r=this.matrix?K(r,this.matrix):r;for(var o=1;o<n+1;o++)a.push(i.path(r).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/n*o).toFixed(3),opacity:+(t.opacity/n).toFixed(3)}));return a.insertBefore(this).translate(t.offsetx,t.offsety)};var Ge=function(e,n,i,a,r,o,s,l,c){return null==c?fe(e,n,i,a,r,o,s,l):t.findDotsAtSegment(e,n,i,a,r,o,s,l,function(e,t,n,i,a,r,o,s,l){if(!(l<0||fe(e,t,n,i,a,r,o,s)<l)){var c,d=.5,u=1-d;for(c=fe(e,t,n,i,a,r,o,s,u);k(c-l)>.01;)c=fe(e,t,n,i,a,r,o,s,u+=(c<l?1:-1)*(d/=2));return u}}(e,n,i,a,r,o,s,l,c))},Ye=function(e,n){return function(i,a,r){for(var o,s,l,c,d,u="",h={},p=0,f=0,g=(i=Ae(i)).length;f<g;f++){if("M"==(l=i[f])[0])o=+l[1],s=+l[2];else{if(p+(c=Ge(o,s,l[1],l[2],l[3],l[4],l[5],l[6]))>a){if(n&&!h.start){if(u+=["C"+(d=Ge(o,s,l[1],l[2],l[3],l[4],l[5],l[6],a-p)).start.x,d.start.y,d.m.x,d.m.y,d.x,d.y],r)return u;h.start=u,u=["M"+d.x,d.y+"C"+d.n.x,d.n.y,d.end.x,d.end.y,l[5],l[6]].join(),p+=c,o=+l[5],s=+l[6];continue}if(!e&&!n)return{x:(d=Ge(o,s,l[1],l[2],l[3],l[4],l[5],l[6],a-p)).x,y:d.y,alpha:d.alpha}}p+=c,o=+l[5],s=+l[6]}u+=l.shift()+l}return h.end=u,(d=e?p:n?h:t.findDotsAtSegment(o,s,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(d={x:d.x,y:d.y,alpha:d.alpha}),d}},Qe=Ye(1),Je=Ye(),Ze=Ye(0,1);t.getTotalLength=Qe,t.getPointAtLength=Je,t.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return Ze(e,t).end;var i=Ze(e,n,1);return t?Ze(i,t).end:i},ze.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():Qe(e)},ze.getPointAtLength=function(e){var t=this.getPath();if(t)return Je(t,e)},ze.getPath=function(){var e,n=t._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(e=n(this)),e},ze.getSubpath=function(e,n){var i=this.getPath();if(i)return t.getSubpath(i,e,n)};var Xe=t.easing_formulas={linear:function(e){return e},"<":function(e){return A(e,1.7)},">":function(e){return A(e,.48)},"<>":function(e){var t=.48-e/1.04,n=C.sqrt(.1734+t*t),i=n-t,a=-n-t,r=A(k(i),1/3)*(i<0?-1:1)+A(k(a),1/3)*(a<0?-1:1)+.5;return 3*(1-r)*r*r+r*r*r},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:A(2,-10*e)*C.sin(2*P*(e-.075)/.3)+1},bounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375}};Xe.easeIn=Xe["ease-in"]=Xe["<"],Xe.easeOut=Xe["ease-out"]=Xe[">"],Xe.easeInOut=Xe["ease-in-out"]=Xe["<>"],Xe["back-in"]=Xe.backIn,Xe["back-out"]=Xe.backOut;var Ke=[],et=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},tt=function n(){for(var i=+new Date,a=0;a<Ke.length;a++){var r=Ke[a];if(!r.el.removed&&!r.paused){var o,s,l=i-r.start,d=r.ms,u=r.easing,h=r.from,p=r.diff,g=r.to,m=(r.t,r.el),_={},b={};if(r.initstatus?(l=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*d,r.status=r.initstatus,delete r.initstatus,r.stop&&Ke.splice(a--,1)):r.status=(r.prev+(r.percent-r.prev)*(l/d))/r.anim.top,!(l<0))if(l<d){var y=u(l/d);for(var w in h)if(h[c](w)){switch(V[w]){case E:o=+h[w]+y*d*p[w];break;case"colour":o="rgb("+[nt(L(h[w].r+y*d*p[w].r)),nt(L(h[w].g+y*d*p[w].g)),nt(L(h[w].b+y*d*p[w].b))].join(",")+")";break;case"path":o=[];for(var x=0,C=h[w].length;x<C;x++){o[x]=[h[w][x][0]];for(var S=1,T=h[w][x].length;S<T;S++)o[x][S]=+h[w][x][S]+y*d*p[w][x][S];o[x]=o[x].join(v)}o=o.join(v);break;case"transform":if(p[w].real)for(o=[],x=0,C=h[w].length;x<C;x++)for(o[x]=[h[w][x][0]],S=1,T=h[w][x].length;S<T;S++)o[x][S]=h[w][x][S]+y*d*p[w][x][S];else{var k=function(e){return+h[w][e]+y*d*p[w][e]};o=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==w)for(o=[],x=4;x--;)o[x]=+h[w][x]+y*d*p[w][x];break;default:var A=[][f](h[w]);for(o=[],x=m.paper.customAttributes[w].length;x--;)o[x]=+A[x]+y*d*p[w][x]}_[w]=o}m.attr(_),function(t,n,i){setTimeout((function(){e("raphael.anim.frame."+t,n,i)}))}(m.id,m,r.anim)}else{if(function(n,i,a){setTimeout((function(){e("raphael.anim.frame."+i.id,i,a),e("raphael.anim.finish."+i.id,i,a),t.is(n,"function")&&n.call(i)}))}(r.callback,m,r.anim),m.attr(g),Ke.splice(a--,1),r.repeat>1&&!r.next){for(s in g)g[c](s)&&(b[s]=r.totalOrigin[s]);r.el.attr(b),rt(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&rt(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}Ke.length&&et(n)},nt=function(e){return e>255?255:e<0?0:e};function it(e,t,n,i,a,r){var o=3*t,s=3*(i-t)-o,l=1-o-s,c=3*n,d=3*(a-n)-c,u=1-c-d;function h(e){return((l*e+s)*e+o)*e}return function(e,t){var n=function(e,t){var n,i,a,r,c,d;for(a=e,d=0;d<8;d++){if(r=h(a)-e,k(r)<t)return a;if(k(c=(3*l*a+2*s)*a+o)<1e-6)break;a-=r/c}if((a=e)<(n=0))return n;if(a>(i=1))return i;for(;n<i;){if(r=h(a),k(r-e)<t)return a;e>r?n=a:i=a,a=(i-n)/2+n}return a}(e,t);return((u*n+d)*n+c)*n}(e,1/(200*r))}function at(e,t){var n=[],i={};if(this.ms=t,this.times=1,e){for(var a in e)e[c](a)&&(i[R(a)]=e[a],n.push(R(a)));n.sort(Y)}this.anim=i,this.top=n[n.length-1],this.percents=n}function rt(n,i,a,r,s,l){a=R(a);var d,u,h,p,g,m,v=n.ms,y={},w={},x={};if(r)for(S=0,T=Ke.length;S<T;S++){var C=Ke[S];if(C.el.id==i.id&&C.anim==n){C.percent!=a?(Ke.splice(S,1),h=1):u=C,i.attr(C.totalOrigin);break}}else r=+w;for(var S=0,T=n.percents.length;S<T;S++){if(n.percents[S]==a||n.percents[S]>r*n.top){a=n.percents[S],g=n.percents[S-1]||0,v=v/n.top*(a-g),p=n.percents[S+1],d=n.anim[a];break}r&&i.attr(n.anim[n.percents[S]])}if(d){if(u)u.initstatus=r,u.start=new Date-u.ms*r;else{for(var k in d)if(d[c](k)&&(V[c](k)||i.paper.customAttributes[c](k)))switch(y[k]=i.attr(k),null==y[k]&&(y[k]=B[k]),w[k]=d[k],V[k]){case E:x[k]=(w[k]-y[k])/v;break;case"colour":y[k]=t.getRGB(y[k]);var A=t.getRGB(w[k]);x[k]={r:(A.r-y[k].r)/v,g:(A.g-y[k].g)/v,b:(A.b-y[k].b)/v};break;case"path":var P=Ae(y[k],w[k]),D=P[1];for(y[k]=P[0],x[k]=[],S=0,T=y[k].length;S<T;S++){x[k][S]=[0];for(var O=1,M=y[k][S].length;O<M;O++)x[k][S][O]=(D[S][O]-y[k][S][O])/v}break;case"transform":var I=i._,L=Me(I[k],w[k]);if(L)for(y[k]=L.from,w[k]=L.to,x[k]=[],x[k].real=!0,S=0,T=y[k].length;S<T;S++)for(x[k][S]=[y[k][S][0]],O=1,M=y[k][S].length;O<M;O++)x[k][S][O]=(w[k][S][O]-y[k][S][O])/v;else{var j=i.matrix||new Ie,$={_:{transform:I.transform},getBBox:function(){return i.getBBox(1)}};y[k]=[j.a,j.b,j.c,j.d,j.e,j.f],De($,w[k]),w[k]=$._.transform,x[k]=[($.matrix.a-j.a)/v,($.matrix.b-j.b)/v,($.matrix.c-j.c)/v,($.matrix.d-j.d)/v,($.matrix.e-j.e)/v,($.matrix.f-j.f)/v]}break;case"csv":var H=_(d[k])[b](o),F=_(y[k])[b](o);if("clip-rect"==k)for(y[k]=F,x[k]=[],S=F.length;S--;)x[k][S]=(H[S]-y[k][S])/v;w[k]=H;break;default:for(H=[][f](d[k]),F=[][f](y[k]),x[k]=[],S=i.paper.customAttributes[k].length;S--;)x[k][S]=((H[S]||0)-(F[S]||0))/v}var z=d.easing,U=t.easing_formulas[z];if(!U)if((U=_(z).match(N))&&5==U.length){var W=U;U=function(e){return it(e,+W[1],+W[2],+W[3],+W[4],v)}}else U=Q;if(C={anim:n,percent:a,timestamp:m=d.start||n.start||+new Date,start:m+(n.del||0),status:0,initstatus:r||0,stop:!1,ms:v,easing:U,from:y,diff:x,to:w,el:i,callback:d.callback,prev:g,next:p,repeat:l||n.times,origin:i.attr(),totalOrigin:s},Ke.push(C),r&&!u&&!h&&(C.stop=!0,C.start=new Date-v*r,1==Ke.length))return tt();h&&(C.start=new Date-C.ms*r),1==Ke.length&&et(tt)}e("raphael.anim.start."+i.id,i,n)}}function ot(e){for(var t=0;t<Ke.length;t++)Ke[t].el.paper==e&&Ke.splice(t--,1)}ze.animateWith=function(e,n,i,a,r,o){if(this.removed)return o&&o.call(this),this;var s=i instanceof at?i:t.animation(i,a,r,o);rt(s,this,s.percents[0],null,this.attr());for(var l=0,c=Ke.length;l<c;l++)if(Ke[l].anim==n&&Ke[l].el==e){Ke[c-1].start=Ke[l].start;break}return this},ze.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},at.prototype.delay=function(e){var t=new at(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},at.prototype.repeat=function(e){var t=new at(this.anim,this.ms);return t.del=this.del,t.times=C.floor(S(e,0))||1,t},t.animation=function(e,n,i,a){if(e instanceof at)return e;!t.is(i,"function")&&i||(a=a||i||null,i=null),e=Object(e),n=+n||0;var r,o,s={};for(o in e)e[c](o)&&R(o)!=o&&R(o)+"%"!=o&&(r=!0,s[o]=e[o]);if(r)return i&&(s.easing=i),a&&(s.callback=a),new at({100:s},n);if(a){var l=0;for(var d in e){var u=j(d);e[c](d)&&u>l&&(l=u)}!e[l+="%"].callback&&(e[l].callback=a)}return new at(e,n)},ze.animate=function(e,n,i,a){if(this.removed)return a&&a.call(this),this;var r=e instanceof at?e:t.animation(e,n,i,a);return rt(r,this,r.percents[0],null,this.attr()),this},ze.setTime=function(e,t){return e&&null!=t&&this.status(e,T(t,e.ms)/e.ms),this},ze.status=function(e,t){var n,i,a=[],r=0;if(null!=t)return rt(e,this,-1,T(t,1)),this;for(n=Ke.length;r<n;r++)if((i=Ke[r]).el.id==this.id&&(!e||i.anim==e)){if(e)return i.status;a.push({anim:i.anim,status:i.status})}return e?0:a},ze.pause=function(t){for(var n=0;n<Ke.length;n++)Ke[n].el.id!=this.id||t&&Ke[n].anim!=t||!1!==e("raphael.anim.pause."+this.id,this,Ke[n].anim)&&(Ke[n].paused=!0);return this},ze.resume=function(t){for(var n=0;n<Ke.length;n++)if(Ke[n].el.id==this.id&&(!t||Ke[n].anim==t)){var i=Ke[n];!1!==e("raphael.anim.resume."+this.id,this,i.anim)&&(delete i.paused,this.status(i.anim,i.status))}return this},ze.stop=function(t){for(var n=0;n<Ke.length;n++)Ke[n].el.id!=this.id||t&&Ke[n].anim!=t||!1!==e("raphael.anim.stop."+this.id,this,Ke[n].anim)&&Ke.splice(n--,1);return this},e.on("raphael.remove",ot),e.on("raphael.clear",ot),ze.toString=function(){return"Rapha\xebl\u2019s object"};var st,lt,ct=function e(t){if(this.items=[],this.length=0,this.type="set",t)for(var n=0,i=t.length;n<i;n++)!t[n]||t[n].constructor!=ze.constructor&&t[n].constructor!=e||(this[this.items.length]=this.items[this.items.length]=t[n],this.length++)},dt=ct.prototype;for(var ut in dt.push=function(){for(var e,t,n=0,i=arguments.length;n<i;n++)!(e=arguments[n])||e.constructor!=ze.constructor&&e.constructor!=ct||(this[t=this.items.length]=this.items[t]=e,this.length++);return this},dt.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},dt.forEach=function(e,t){for(var n=0,i=this.items.length;n<i;n++)if(!1===e.call(t,this.items[n],n))return this;return this},ze)ze[c](ut)&&(dt[ut]=function(e){return function(){var t=arguments;return this.forEach((function(n){n[e][p](n,t)}))}}(ut));return dt.attr=function(e,n){if(e&&t.is(e,D)&&t.is(e[0],"object"))for(var i=0,a=e.length;i<a;i++)this.items[i].attr(e[i]);else for(var r=0,o=this.items.length;r<o;r++)this.items[r].attr(e,n);return this},dt.clear=function(){for(;this.length;)this.pop()},dt.splice=function(e,t,n){e=e<0?S(this.length+e,0):e,t=S(0,T(this.length-e,t));var i,a=[],r=[],o=[];for(i=2;i<arguments.length;i++)o.push(arguments[i]);for(i=0;i<t;i++)r.push(this[e+i]);for(;i<this.length-e;i++)a.push(this[e+i]);var s=o.length;for(i=0;i<s+a.length;i++)this.items[e+i]=this[e+i]=i<s?o[i]:a[i-s];for(i=this.items.length=this.length-=t-s;this[i];)delete this[i++];return new ct(r)},dt.exclude=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return this.splice(t,1),!0},dt.animate=function(e,n,i,a){(t.is(i,"function")||!i)&&(a=i||null);var r,o,s=this.items.length,l=s,c=this;if(!s)return this;a&&(o=function(){!--s&&a.call(c)}),i=t.is(i,"string")?i:o;var d=t.animation(e,n,i,o);for(r=this.items[--l].animate(d);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(r,d,d),this.items[l]&&!this.items[l].removed||s--;return this},dt.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},dt.getBBox=function(){for(var e=[],t=[],n=[],i=[],a=this.items.length;a--;)if(!this.items[a].removed){var r=this.items[a].getBBox();e.push(r.x),t.push(r.y),n.push(r.x+r.width),i.push(r.y+r.height)}return{x:e=T[p](0,e),y:t=T[p](0,t),x2:n=S[p](0,n),y2:i=S[p](0,i),width:n-e,height:i-t}},dt.clone=function(e){e=this.paper.set();for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].clone());return e},dt.toString=function(){return"Rapha\xebl\u2018s set"},dt.glow=function(e){var t=this.paper.set();return this.forEach((function(n,i){var a=n.glow(e);null!=a&&a.forEach((function(e,n){t.push(e)}))})),t},dt.isPointInside=function(e,t){var n=!1;return this.forEach((function(i){if(i.isPointInside(e,t))return n=!0,!1})),n},t.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var i in e.face)e.face[c](i)&&(t.face[i]=e.face[i]);if(this.fonts[n]?this.fonts[n].push(t):this.fonts[n]=[t],!e.svg)for(var a in t.face["units-per-em"]=j(e.face["units-per-em"],10),e.glyphs)if(e.glyphs[c](a)){var r=e.glyphs[a];if(t.glyphs[a]={w:r.w,k:{},d:r.d&&"M"+r.d.replace(/[mlcxtrv]/g,(function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"}))+"z"},r.k)for(var o in r.k)r[c](o)&&(t.glyphs[a].k[o]=r.k[o])}return e},i.getFont=function(e,n,i,a){if(a=a||"normal",i=i||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,t.fonts){var r,o=t.fonts[e];if(!o){var s=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,m)+"(\\s|$)","i");for(var l in t.fonts)if(t.fonts[c](l)&&s.test(l)){o=t.fonts[l];break}}if(o)for(var d=0,u=o.length;d<u&&((r=o[d]).face["font-weight"]!=n||r.face["font-style"]!=i&&r.face["font-style"]||r.face["font-stretch"]!=a);d++);return r}},i.print=function(e,n,i,a,r,s,l,c){s=s||"middle",l=S(T(l||0,1),-1),c=S(T(c||1,3),1);var d,u=_(i)[b](m),h=0,p=0,f=m;if(t.is(a,"string")&&(a=this.getFont(a)),a){d=(r||16)/a.face["units-per-em"];for(var g=a.face.bbox[b](o),v=+g[0],y=g[3]-g[1],w=0,x=+g[1]+("baseline"==s?y+ +a.face.descent:y/2),C=0,k=u.length;C<k;C++){if("\n"==u[C])h=0,P=0,p=0,w+=y*c;else{var A=p&&a.glyphs[u[C-1]]||{},P=a.glyphs[u[C]];h+=p?(A.w||a.w)+(A.k&&A.k[u[C]]||0)+a.w*l:0,p=1}P&&P.d&&(f+=t.transformPath(P.d,["t",h*d,w*d,"s",d,d,v,x,"t",(e-v)/d,(n-x)/d]))}}return this.path(f).attr({fill:"#000",stroke:"none"})},i.add=function(e){if(t.is(e,"array"))for(var n,i=this.set(),a=0,r=e.length;a<r;a++)n=e[a]||{},s[c](n.type)&&i.push(this[n.type]().attr(n));return i},t.format=function(e,n){var i=t.is(n,D)?[0][f](n):arguments;return e&&t.is(e,"string")&&i.length-1&&(e=e.replace(l,(function(e,t){return null==i[++t]?m:i[t]}))),e||m},t.fullfill=(st=/\{([^\}]+)\}/g,lt=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(e,t){return String(e).replace(st,(function(e,n){return function(e,t,n){var i=n;return t.replace(lt,(function(e,t,n,a,r){t=t||a,i&&(t in i&&(i=i[t]),"function"==typeof i&&r&&(i=i()))})),i=(null==i||i==n?e:i)+""}(e,n,t)}))}),t.ninja=function(){if(u.was)d.win.Raphael=u.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(e){}}return t},t.st=dt,e.on("raphael.DOMload",(function(){n=!0})),function(e,n,i){null==e.readyState&&e.addEventListener&&(e.addEventListener("DOMContentLoaded",i=function(){e.removeEventListener("DOMContentLoaded",i,!1),e.readyState="complete"},!1),e.readyState="loading"),function n(){/in/.test(e.readyState)?setTimeout(n,9):t.eve("raphael.DOMload")}()}(document),t}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a;i=[n(0)],void 0===(a=function(e){if(!e||e.vml){var t="hasOwnProperty",n=String,i=parseFloat,a=Math,r=a.round,o=a.max,s=a.min,l=a.abs,c=/[, ]+/,d=e.eve,u=" ",h="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},f=/([clmz]),?([^clmz]*)/gi,g=/ progid:\S+Blur\([^\)]+\)/g,m=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",_=21600,b={path:1,rect:1,image:1},y={circle:1,ellipse:1},w=function(t,n,i){var a=e.matrix();return a.rotate(-t,.5,.5),{dx:a.x(n,i),dy:a.y(n,i)}},x=function(e,t,n,i,a,r){var o=e._,s=e.matrix,c=o.fillpos,d=e.node,h=d.style,p=1,f="",g=_/t,m=_/n;if(h.visibility="hidden",t&&n){if(d.coordsize=l(g)+u+l(m),h.rotation=r*(t*n<0?-1:1),r){var v=w(r,i,a);i=v.dx,a=v.dy}if(t<0&&(f+="x"),n<0&&(f+=" y")&&(p=-1),h.flip=f,d.coordorigin=i*-g+u+a*-m,c||o.fillsize){var b=d.getElementsByTagName("fill");b=b&&b[0],d.removeChild(b),c&&(v=w(r,s.x(c[0],c[1]),s.y(c[0],c[1])),b.position=v.dx*p+u+v.dy*p),o.fillsize&&(b.size=o.fillsize[0]*l(t)+u+o.fillsize[1]*l(n)),d.appendChild(b)}h.visibility="visible"}};e.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var C,S=function(e,t,i){for(var a=n(t).toLowerCase().split("-"),r=i?"end":"start",o=a.length,s="classic",l="medium",c="medium";o--;)switch(a[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=a[o];break;case"wide":case"narrow":c=a[o];break;case"long":case"short":l=a[o]}var d=e.node.getElementsByTagName("stroke")[0];d[r+"arrow"]=s,d[r+"arrowlength"]=l,d[r+"arrowwidth"]=c},T=function(a,l){a.attrs=a.attrs||{};var d=a.node,g=a.attrs,v=d.style,w=b[a.type]&&(l.x!=g.x||l.y!=g.y||l.width!=g.width||l.height!=g.height||l.cx!=g.cx||l.cy!=g.cy||l.rx!=g.rx||l.ry!=g.ry||l.r!=g.r),T=y[a.type]&&(g.cx!=l.cx||g.cy!=l.cy||g.r!=l.r||g.rx!=l.rx||g.ry!=l.ry),A=a;for(var P in l)l[t](P)&&(g[P]=l[P]);if(w&&(g.path=e._getPath[a.type](a),a._.dirty=1),l.href&&(d.href=l.href),l.title&&(d.title=l.title),l.target&&(d.target=l.target),l.cursor&&(v.cursor=l.cursor),"blur"in l&&a.blur(l.blur),(l.path&&"path"==a.type||w)&&(d.path=function(t){var i=/[ahqstv]/gi,a=e._pathToAbsolute;if(n(t).match(i)&&(a=e._path2curve),i=/[clmz]/g,a==e._pathToAbsolute&&!n(t).match(i)){var o=n(t).replace(f,(function(e,t,n){var i=[],a="m"==t.toLowerCase(),o=p[t];return n.replace(m,(function(e){a&&2==i.length&&(o+=i+p["m"==t?"l":"L"],i=[]),i.push(r(e*_))})),o+i}));return o}var s,l,c=a(t);o=[];for(var d=0,g=c.length;d<g;d++){s=c[d],"z"==(l=c[d][0].toLowerCase())&&(l="x");for(var v=1,b=s.length;v<b;v++)l+=r(s[v]*_)+(v!=b-1?",":h);o.push(l)}return o.join(u)}(~n(g.path).toLowerCase().indexOf("r")?e._pathToAbsolute(g.path):g.path),a._.dirty=1,"image"==a.type&&(a._.fillpos=[g.x,g.y],a._.fillsize=[g.width,g.height],x(a,1,1,0,0,0))),"transform"in l&&a.transform(l.transform),T){var E=+g.cx,D=+g.cy,O=+g.rx||+g.r||0,M=+g.ry||+g.r||0;d.path=e.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",r((E-O)*_),r((D-M)*_),r((E+O)*_),r((D+M)*_),r(E*_)),a._.dirty=1}if("clip-rect"in l){var I=n(l["clip-rect"]).split(c);if(4==I.length){I[2]=+I[2]+ +I[0],I[3]=+I[3]+ +I[1];var N=d.clipRect||e._g.doc.createElement("div"),L=N.style;L.clip=e.format("rect({1}px {2}px {3}px {0}px)",I),d.clipRect||(L.position="absolute",L.top=0,L.left=0,L.width=a.paper.width+"px",L.height=a.paper.height+"px",d.parentNode.insertBefore(N,d),N.appendChild(d),d.clipRect=N)}l["clip-rect"]||d.clipRect&&(d.clipRect.style.clip="auto")}if(a.textpath){var R=a.textpath.style;l.font&&(R.font=l.font),l["font-family"]&&(R.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,h)+'"'),l["font-size"]&&(R.fontSize=l["font-size"]),l["font-weight"]&&(R.fontWeight=l["font-weight"]),l["font-style"]&&(R.fontStyle=l["font-style"])}if("arrow-start"in l&&S(A,l["arrow-start"]),"arrow-end"in l&&S(A,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var j=d.getElementsByTagName("fill");if(!(j=j&&j[0])&&(j=C("fill")),"image"==a.type&&l.src&&(j.src=l.src),l.fill&&(j.on=!0),null!=j.on&&"none"!=l.fill&&null!==l.fill||(j.on=!1),j.on&&l.fill){var $=n(l.fill).match(e._ISURL);if($){j.parentNode==d&&d.removeChild(j),j.rotate=!0,j.src=$[1],j.type="tile";var B=a.getBBox(1);j.position=B.x+u+B.y,a._.fillpos=[B.x,B.y],e._preload($[1],(function(){a._.fillsize=[this.offsetWidth,this.offsetHeight]}))}else j.color=e.getRGB(l.fill).hex,j.src=h,j.type="solid",e.getRGB(l.fill).error&&(A.type in{circle:1,ellipse:1}||"r"!=n(l.fill).charAt())&&k(A,l.fill,j)&&(g.fill="none",g.gradient=l.fill,j.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var V=((+g["fill-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+e.getRGB(l.fill).o+1||2)-1);V=s(o(V,0),1),j.opacity=V,j.src&&(j.color="none")}d.appendChild(j);var H=d.getElementsByTagName("stroke")&&d.getElementsByTagName("stroke")[0],F=!1;!H&&(F=H=C("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(H.on=!0),("none"==l.stroke||null===l.stroke||null==H.on||0==l.stroke||0==l["stroke-width"])&&(H.on=!1);var z=e.getRGB(l.stroke);H.on&&l.stroke&&(H.color=z.hex),V=((+g["stroke-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+z.o+1||2)-1);var U=.75*(i(l["stroke-width"])||1);if(V=s(o(V,0),1),null==l["stroke-width"]&&(U=g["stroke-width"]),l["stroke-width"]&&(H.weight=U),U&&U<1&&(V*=U)&&(H.weight=1),H.opacity=V,l["stroke-linejoin"]&&(H.joinstyle=l["stroke-linejoin"]||"miter"),H.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(H.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};H.dashstyle=W[t](l["stroke-dasharray"])?W[l["stroke-dasharray"]]:h}F&&d.appendChild(H)}if("text"==A.type){A.paper.canvas.style.display=h;var q=A.paper.span,G=g.font&&g.font.match(/\d+(?:\.\d*)?(?=px)/);v=q.style,g.font&&(v.font=g.font),g["font-family"]&&(v.fontFamily=g["font-family"]),g["font-weight"]&&(v.fontWeight=g["font-weight"]),g["font-style"]&&(v.fontStyle=g["font-style"]),G=i(g["font-size"]||G&&G[0])||10,v.fontSize=100*G+"px",A.textpath.string&&(q.innerHTML=n(A.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Y=q.getBoundingClientRect();A.W=g.w=(Y.right-Y.left)/100,A.H=g.h=(Y.bottom-Y.top)/100,A.X=g.x,A.Y=g.y+A.H/2,("x"in l||"y"in l)&&(A.path.v=e.format("m{0},{1}l{2},{1}",r(g.x*_),r(g.y*_),r(g.x*_)+1));for(var Q=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,Z=Q.length;J<Z;J++)if(Q[J]in l){A._.dirty=1;break}switch(g["text-anchor"]){case"start":A.textpath.style["v-text-align"]="left",A.bbx=A.W/2;break;case"end":A.textpath.style["v-text-align"]="right",A.bbx=-A.W/2;break;default:A.textpath.style["v-text-align"]="center",A.bbx=0}A.textpath.style["v-text-kern"]=!0}},k=function(t,r,o){t.attrs=t.attrs||{},t.attrs;var s=Math.pow,l="linear",c=".5 .5";if(t.attrs.gradient=r,r=(r=n(r).replace(e._radial_gradient,(function(e,t,n){return l="radial",t&&n&&(t=i(t),n=i(n),s(t-.5,2)+s(n-.5,2)>.25&&(n=a.sqrt(.25-s(t-.5,2))*(2*(n>.5)-1)+.5),c=t+u+n),h}))).split(/\s*\-\s*/),"linear"==l){var d=r.shift();if(d=-i(d),isNaN(d))return null}var p=e._parseDots(r);if(!p)return null;if(t=t.shape||t.node,p.length){t.removeChild(o),o.on=!0,o.method="none",o.color=p[0].color,o.color2=p[p.length-1].color;for(var f=[],g=0,m=p.length;g<m;g++)p[g].offset&&f.push(p[g].offset+u+p[g].color);o.colors=f.length?f.join():"0% "+o.color,"radial"==l?(o.type="gradientTitle",o.focus="100%",o.focussize="0 0",o.focusposition=c,o.angle=0):(o.type="gradient",o.angle=(270-d)%360),t.appendChild(o)}return 1},A=function(t,n){this[0]=this.node=t,t.raphael=!0,this.id=e._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=e.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},P=e.el;A.prototype=P,P.constructor=A,P.transform=function(t){if(null==t)return this._.transform;var i,a=this.paper._viewBoxShift,r=a?"s"+[a.scale,a.scale]+"-1-1t"+[a.dx,a.dy]:h;a&&(i=t=n(t).replace(/\.{3}|\u2026/g,this._.transform||h)),e._extractTransform(this,r+t);var o,s=this.matrix.clone(),l=this.skew,c=this.node,d=~n(this.attrs.fill).indexOf("-"),p=!n(this.attrs.fill).indexOf("url(");if(s.translate(1,1),p||d||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",o=s.split(),d&&o.noRotation||!o.isSimple){c.style.filter=s.toFilter();var f=this.getBBox(),g=this.getBBox(1),m=f.x-g.x,v=f.y-g.y;c.coordorigin=m*-_+u+v*-_,x(this,1,1,m,v,0)}else c.style.filter=h,x(this,o.scalex,o.scaley,o.dx,o.dy,o.rotate);else c.style.filter=h,l.matrix=n(s),l.offset=s.offset();return null!==i&&(this._.transform=i,e._extractTransform(this,i)),this},P.rotate=function(e,t,a){if(this.removed)return this;if(null!=e){if((e=n(e).split(c)).length-1&&(t=i(e[1]),a=i(e[2])),e=i(e[0]),null==a&&(t=a),null==t||null==a){var r=this.getBBox(1);t=r.x+r.width/2,a=r.y+r.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,t,a]])),this}},P.translate=function(e,t){return this.removed||((e=n(e).split(c)).length-1&&(t=i(e[1])),e=i(e[0])||0,t=+t||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=t),this.transform(this._.transform.concat([["t",e,t]]))),this},P.scale=function(e,t,a,r){if(this.removed)return this;if((e=n(e).split(c)).length-1&&(t=i(e[1]),a=i(e[2]),r=i(e[3]),isNaN(a)&&(a=null),isNaN(r)&&(r=null)),e=i(e[0]),null==t&&(t=e),null==r&&(a=r),null==a||null==r)var o=this.getBBox(1);return a=null==a?o.x+o.width/2:a,r=null==r?o.y+o.height/2:r,this.transform(this._.transform.concat([["s",e,t,a,r]])),this._.dirtyT=1,this},P.hide=function(){return!this.removed&&(this.node.style.display="none"),this},P.show=function(){return!this.removed&&(this.node.style.display=h),this},P.auxGetBBox=e.el.getBBox,P.getBBox=function(){var e=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var t={},n=1/this.paper._viewBoxShift.scale;return t.x=e.x-this.paper._viewBoxShift.dx,t.x*=n,t.y=e.y-this.paper._viewBoxShift.dy,t.y*=n,t.width=e.width*n,t.height=e.height*n,t.x2=t.x+t.width,t.y2=t.y+t.height,t}return e},P._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},P.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),e.eve.unbind("raphael.*.*."+this.id),e._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;this.removed=!0}},P.attr=function(n,i){if(this.removed)return this;if(null==n){var a={};for(var r in this.attrs)this.attrs[t](r)&&(a[r]=this.attrs[r]);return a.gradient&&"none"==a.fill&&(a.fill=a.gradient)&&delete a.gradient,a.transform=this._.transform,a}if(null==i&&e.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var o=n.split(c),s={},l=0,u=o.length;l<u;l++)(n=o[l])in this.attrs?s[n]=this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=e._availableAttrs[n];return u-1?s:s[o[0]]}if(this.attrs&&null==i&&e.is(n,"array")){for(s={},l=0,u=n.length;l<u;l++)s[n[l]]=this.attr(n[l]);return s}var h;for(var p in null!=i&&((h={})[n]=i),null==i&&e.is(n,"object")&&(h=n),h)d("raphael.attr."+p+"."+this.id,this,h[p]);if(h){for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&h[t](p)&&e.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(h[p]));for(var g in this.attrs[p]=h[p],f)f[t](g)&&(h[g]=f[g])}h.text&&"text"==this.type&&(this.textpath.string=h.text),T(this,h)}return this},P.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&e._tofront(this,this.paper),this},P.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper)),this},P.insertAfter=function(t){return this.removed||(t.constructor==e.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),e._insertafter(this,t,this.paper)),this},P.insertBefore=function(t){return this.removed||(t.constructor==e.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),e._insertbefore(this,t,this.paper)),this},P.blur=function(t){var n=this.node.runtimeStyle,i=n.filter;return i=i.replace(g,h),0!=+t?(this.attrs.blur=t,n.filter=i+u+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",n.margin=e.format("-{0}px 0 0 -{0}px",r(+t||1.5))):(n.filter=i,n.margin=0,delete this.attrs.blur),this},e._engine.path=function(e,t){var n=C("shape");n.style.cssText=v,n.coordsize=_+u+_,n.coordorigin=t.coordorigin;var i=new A(n,t),a={fill:"none",stroke:"#000"};e&&(a.path=e),i.type="path",i.path=[],i.Path=h,T(i,a),t.canvas&&t.canvas.appendChild(n);var r=C("skew");return r.on=!0,n.appendChild(r),i.skew=r,i.transform(h),i},e._engine.rect=function(t,n,i,a,r,o){var s=e._rectPath(n,i,a,r,o),l=t.path(s),c=l.attrs;return l.X=c.x=n,l.Y=c.y=i,l.W=c.width=a,l.H=c.height=r,c.r=o,c.path=s,l.type="rect",l},e._engine.ellipse=function(e,t,n,i,a){var r=e.path();return r.attrs,r.X=t-i,r.Y=n-a,r.W=2*i,r.H=2*a,r.type="ellipse",T(r,{cx:t,cy:n,rx:i,ry:a}),r},e._engine.circle=function(e,t,n,i){var a=e.path();return a.attrs,a.X=t-i,a.Y=n-i,a.W=a.H=2*i,a.type="circle",T(a,{cx:t,cy:n,r:i}),a},e._engine.image=function(t,n,i,a,r,o){var s=e._rectPath(i,a,r,o),l=t.path(s).attr({stroke:"none"}),c=l.attrs,d=l.node,u=d.getElementsByTagName("fill")[0];return c.src=n,l.X=c.x=i,l.Y=c.y=a,l.W=c.width=r,l.H=c.height=o,c.path=s,l.type="image",u.parentNode==d&&d.removeChild(u),u.rotate=!0,u.src=n,u.type="tile",l._.fillpos=[i,a],l._.fillsize=[r,o],d.appendChild(u),x(l,1,1,0,0,0),l},e._engine.text=function(t,i,a,o){var s=C("shape"),l=C("path"),c=C("textpath");i=i||0,a=a||0,o=o||"",l.v=e.format("m{0},{1}l{2},{1}",r(i*_),r(a*_),r(i*_)+1),l.textpathok=!0,c.string=n(o),c.on=!0,s.style.cssText=v,s.coordsize=_+u+_,s.coordorigin="0 0";var d=new A(s,t),p={fill:"#000",stroke:"none",font:e._availableAttrs.font,text:o};d.shape=s,d.path=l,d.textpath=c,d.type="text",d.attrs.text=n(o),d.attrs.x=i,d.attrs.y=a,d.attrs.w=1,d.attrs.h=1,T(d,p),s.appendChild(c),s.appendChild(l),t.canvas.appendChild(s);var f=C("skew");return f.on=!0,s.appendChild(f),d.skew=f,d.transform(h),d},e._engine.setSize=function(t,n){var i=this.canvas.style;return this.width=t,this.height=n,t==+t&&(t+="px"),n==+n&&(n+="px"),i.width=t,i.height=n,i.clip="rect(0 "+t+" "+n+" 0)",this._viewBox&&e._engine.setViewBox.apply(this,this._viewBox),this},e._engine.setViewBox=function(t,n,i,a,r){e.eve("raphael.setViewBox",this,this._viewBox,[t,n,i,a,r]);var o,s,l=this.getSize(),c=l.width,d=l.height;return r&&(i*(o=d/a)<c&&(t-=(c-i*o)/2/o),a*(s=c/i)<d&&(n-=(d-a*s)/2/s)),this._viewBox=[t,n,i,a,!!r],this._viewBoxShift={dx:-t,dy:-n,scale:l},this.forEach((function(e){e.transform("...")})),this},e._engine.initWin=function(e){var t=e.document;t.styleSheets.length<31?t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):t.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),C=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(e){C=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},e._engine.initWin(e._g.win),e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t.container,i=t.height,a=t.width,r=t.x,o=t.y;if(!n)throw new Error("VML container not found.");var s=new e._Paper,l=s.canvas=e._g.doc.createElement("div"),c=l.style;return r=r||0,o=o||0,a=a||512,i=i||342,s.width=a,s.height=i,a==+a&&(a+="px"),i==+i&&(i+="px"),s.coordsize="21600000 21600000",s.coordorigin="0 0",s.span=e._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(s.span),c.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",a,i),1==n?(e._g.doc.body.appendChild(l),c.left=r+"px",c.top=o+"px",c.position="absolute"):n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),s.renderfix=function(){},s},e.prototype.clear=function(){e.eve("raphael.clear",this),this.canvas.innerHTML=h,this.span=e._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},e.prototype.remove=function(){for(var t in e.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;return!0};var E=e.st;for(var D in P)P[t](D)&&!E[t](D)&&(E[D]=function(e){return function(){var t=arguments;return this.forEach((function(n){n[e].apply(n,t)}))}}(D))}}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a;i=[n(0)],void 0===(a=function(e){if(!e||e.svg){var t="hasOwnProperty",n=String,i=parseFloat,a=parseInt,r=Math,o=r.max,s=r.abs,l=r.pow,c=/[, ]+/,d=e.eve,u="",h=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};e.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var m=function i(a,r){if(r)for(var o in"string"==typeof a&&(a=i(a)),r)r[t](o)&&("xlink:"==o.substring(0,6)?a.setAttributeNS(p,o.substring(6),n(r[o])):a.setAttribute(o,n(r[o])));else(a=e._g.doc.createElementNS("http://www.w3.org/2000/svg",a)).style&&(a.style.webkitTapHighlightColor="rgba(0,0,0,0)");return a},v=function(t,a){var c="linear",d=t.id+a,h=.5,p=.5,f=t.node,g=t.paper,v=f.style,b=e._g.doc.getElementById(d);if(!b){if(a=(a=n(a).replace(e._radial_gradient,(function(e,t,n){if(c="radial",t&&n){h=i(t);var a=2*((p=i(n))>.5)-1;l(h-.5,2)+l(p-.5,2)>.25&&(p=r.sqrt(.25-l(h-.5,2))*a+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*a)}return u}))).split(/\s*\-\s*/),"linear"==c){var y=a.shift();if(y=-i(y),isNaN(y))return null;var w=[0,0,r.cos(e.rad(y)),r.sin(e.rad(y))],x=1/(o(s(w[2]),s(w[3]))||1);w[2]*=x,w[3]*=x,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var C=e._parseDots(a);if(!C)return null;if(d=d.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&d!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){b=m(c+"Gradient",{id:d}),t.gradient=b,m(b,"radial"==c?{fx:h,fy:p}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:t.matrix.invert()}),g.defs.appendChild(b);for(var S=0,T=C.length;S<T;S++)b.appendChild(m("stop",{offset:C[S].offset?C[S].offset:S?"100%":"0%","stop-color":C[S].color||"#fff","stop-opacity":isFinite(C[S].opacity)?C[S].opacity:1}))}}return m(f,{fill:_(d),opacity:1,"fill-opacity":1}),v.fill=u,v.opacity=1,v.fillOpacity=1,1},_=function(e){if((t=document.documentMode)&&(9===t||10===t))return"url('#"+e+"')";var t,n=document.location;return"url('"+n.protocol+"//"+n.host+n.pathname+n.search+"#"+e+"')"},b=function(e){var t=e.getBBox(1);m(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},y=function(i,a,r){if("path"==i.type){for(var o,s,l,c,d,h=n(a).toLowerCase().split("-"),p=i.paper,v=r?"end":"start",_=i.node,b=i.attrs,y=b["stroke-width"],w=h.length,x="classic",C=3,S=3,T=5;w--;)switch(h[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":x=h[w];break;case"wide":S=5;break;case"narrow":S=2;break;case"long":C=5;break;case"short":C=2}if("open"==x?(C+=2,S+=2,T+=2,l=1,c=r?4:1,d={fill:"none",stroke:b.stroke}):(c=l=C/2,d={fill:b.stroke,stroke:"none"}),i._.arrows?r?(i._.arrows.endPath&&g[i._.arrows.endPath]--,i._.arrows.endMarker&&g[i._.arrows.endMarker]--):(i._.arrows.startPath&&g[i._.arrows.startPath]--,i._.arrows.startMarker&&g[i._.arrows.startMarker]--):i._.arrows={},"none"!=x){var k="raphael-marker-"+x,A="raphael-marker-"+v+x+C+S+"-obj"+i.id;e._g.doc.getElementById(k)?g[k]++:(p.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:f[x],id:k})),g[k]=1);var P,E=e._g.doc.getElementById(A);E?(g[A]++,P=E.getElementsByTagName("use")[0]):(E=m(m("marker"),{id:A,markerHeight:S,markerWidth:C,orient:"auto",refX:c,refY:S/2}),P=m(m("use"),{"xlink:href":"#"+k,transform:(r?"rotate(180 "+C/2+" "+S/2+") ":u)+"scale("+C/T+","+S/T+")","stroke-width":(1/((C/T+S/T)/2)).toFixed(4)}),E.appendChild(P),p.defs.appendChild(E),g[A]=1),m(P,d);var D=l*("diamond"!=x&&"oval"!=x);r?(o=i._.arrows.startdx*y||0,s=e.getTotalLength(b.path)-D*y):(o=D*y,s=e.getTotalLength(b.path)-(i._.arrows.enddx*y||0)),(d={})["marker-"+v]="url(#"+A+")",(s||o)&&(d.d=e.getSubpath(b.path,o,s)),m(_,d),i._.arrows[v+"Path"]=k,i._.arrows[v+"Marker"]=A,i._.arrows[v+"dx"]=D,i._.arrows[v+"Type"]=x,i._.arrows[v+"String"]=a}else r?(o=i._.arrows.startdx*y||0,s=e.getTotalLength(b.path)-o):(o=0,s=e.getTotalLength(b.path)-(i._.arrows.enddx*y||0)),i._.arrows[v+"Path"]&&m(_,{d:e.getSubpath(b.path,o,s)}),delete i._.arrows[v+"Path"],delete i._.arrows[v+"Marker"],delete i._.arrows[v+"dx"],delete i._.arrows[v+"Type"],delete i._.arrows[v+"String"];for(d in g)if(g[t](d)&&!g[d]){var O=e._g.doc.getElementById(d);O&&O.parentNode.removeChild(O)}}},w={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(e,t,i){if(t=w[n(t).toLowerCase()]){for(var a=e.attrs["stroke-width"]||"1",r={round:a,square:a,butt:0}[e.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,o=[],s=t.length;s--;)o[s]=t[s]*a+(s%2?1:-1)*r;m(e.node,{"stroke-dasharray":o.join(",")})}else m(e.node,{"stroke-dasharray":"none"})},C=function(i,r){var l=i.node,d=i.attrs,h=l.style.visibility;for(var f in l.style.visibility="hidden",r)if(r[t](f)){if(!e._availableAttrs[t](f))continue;var g=r[f];switch(d[f]=g,f){case"blur":i.blur(g);break;case"title":var _=l.getElementsByTagName("title");if(_.length&&(_=_[0]))_.firstChild.nodeValue=g;else{_=m("title");var w=e._g.doc.createTextNode(g);_.appendChild(w),l.appendChild(_)}break;case"href":case"target":var C=l.parentNode;if("a"!=C.tagName.toLowerCase()){var T=m("a");C.insertBefore(T,l),T.appendChild(l),C=T}"target"==f?C.setAttributeNS(p,"show","blank"==g?"new":g):C.setAttributeNS(p,f,g);break;case"cursor":l.style.cursor=g;break;case"transform":i.transform(g);break;case"arrow-start":y(i,g);break;case"arrow-end":y(i,g,1);break;case"clip-rect":var k=n(g).split(c);if(4==k.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var A=m("clipPath"),P=m("rect");A.id=e.createUUID(),m(P,{x:k[0],y:k[1],width:k[2],height:k[3]}),A.appendChild(P),i.paper.defs.appendChild(A),m(l,{"clip-path":"url(#"+A.id+")"}),i.clip=P}if(!g){var E=l.getAttribute("clip-path");if(E){var D=e._g.doc.getElementById(E.replace(/(^url\(#|\)$)/g,u));D&&D.parentNode.removeChild(D),m(l,{"clip-path":u}),delete i.clip}}break;case"path":"path"==i.type&&(m(l,{d:g?d.path=e._pathToAbsolute(g):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&y(i,i._.arrows.startString),"endString"in i._.arrows&&y(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,g),i._.dirty=1,!d.fx)break;f="x",g=d.x;case"x":d.fx&&(g=-d.x-(d.width||0));case"rx":if("rx"==f&&"rect"==i.type)break;case"cx":l.setAttribute(f,g),i.pattern&&b(i),i._.dirty=1;break;case"height":if(l.setAttribute(f,g),i._.dirty=1,!d.fy)break;f="y",g=d.y;case"y":d.fy&&(g=-d.y-(d.height||0));case"ry":if("ry"==f&&"rect"==i.type)break;case"cy":l.setAttribute(f,g),i.pattern&&b(i),i._.dirty=1;break;case"r":"rect"==i.type?m(l,{rx:g,ry:g}):l.setAttribute(f,g),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":1==i._.sx&&1==i._.sy||(g/=o(s(i._.sx),s(i._.sy))||1),l.setAttribute(f,g),d["stroke-dasharray"]&&x(i,d["stroke-dasharray"],r),i._.arrows&&("startString"in i._.arrows&&y(i,i._.arrows.startString),"endString"in i._.arrows&&y(i,i._.arrows.endString,1));break;case"stroke-dasharray":x(i,g,r);break;case"fill":var O=n(g).match(e._ISURL);if(O){A=m("pattern");var M=m("image");A.id=e.createUUID(),m(A,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(M,{x:0,y:0,"xlink:href":O[1]}),A.appendChild(M),function(t){e._preload(O[1],(function(){var e=this.offsetWidth,n=this.offsetHeight;m(t,{width:e,height:n}),m(M,{width:e,height:n})}))}(A),i.paper.defs.appendChild(A),m(l,{fill:"url(#"+A.id+")"}),i.pattern=A,i.pattern&&b(i);break}var I=e.getRGB(g);if(I.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=n(g).charAt())&&v(i,g)){if("opacity"in d||"fill-opacity"in d){var N=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(N){var L=N.getElementsByTagName("stop");m(L[L.length-1],{"stop-opacity":("opacity"in d?d.opacity:1)*("fill-opacity"in d?d["fill-opacity"]:1)})}}d.gradient=g,d.fill="none";break}}else delete r.gradient,delete d.gradient,!e.is(d.opacity,"undefined")&&e.is(r.opacity,"undefined")&&m(l,{opacity:d.opacity}),!e.is(d["fill-opacity"],"undefined")&&e.is(r["fill-opacity"],"undefined")&&m(l,{"fill-opacity":d["fill-opacity"]});I[t]("opacity")&&m(l,{"fill-opacity":I.opacity>1?I.opacity/100:I.opacity});case"stroke":I=e.getRGB(g),l.setAttribute(f,I.hex),"stroke"==f&&I[t]("opacity")&&m(l,{"stroke-opacity":I.opacity>1?I.opacity/100:I.opacity}),"stroke"==f&&i._.arrows&&("startString"in i._.arrows&&y(i,i._.arrows.startString),"endString"in i._.arrows&&y(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=n(g).charAt())&&v(i,g);break;case"opacity":d.gradient&&!d[t]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(d.gradient){(N=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)))&&(L=N.getElementsByTagName("stop"),m(L[L.length-1],{"stop-opacity":g}));break}default:"font-size"==f&&(g=a(g,10)+"px");var R=f.replace(/(\-.)/g,(function(e){return e.substring(1).toUpperCase()}));l.style[R]=g,i._.dirty=1,l.setAttribute(f,g)}}S(i,r),l.style.visibility=h},S=function(i,r){if("text"==i.type&&(r[t]("text")||r[t]("font")||r[t]("font-size")||r[t]("x")||r[t]("y"))){var o=i.attrs,s=i.node,l=s.firstChild?a(e._g.doc.defaultView.getComputedStyle(s.firstChild,u).getPropertyValue("font-size"),10):10;if(r[t]("text")){for(o.text=r.text;s.firstChild;)s.removeChild(s.firstChild);for(var c,d=n(r.text).split("\n"),h=[],p=0,f=d.length;p<f;p++)c=m("tspan"),p&&m(c,{dy:1.2*l,x:o.x}),c.appendChild(e._g.doc.createTextNode(d[p])),s.appendChild(c),h[p]=c}else for(p=0,f=(h=s.getElementsByTagName("tspan")).length;p<f;p++)p?m(h[p],{dy:1.2*l,x:o.x}):m(h[0],{dy:0});m(s,{x:o.x,y:o.y}),i._.dirty=1;var g=i._getBBox(),v=o.y-(g.y+g.height/2);v&&e.is(v,"finite")&&m(h[0],{dy:v})}},T=function(e){return e.parentNode&&"a"===e.parentNode.tagName.toLowerCase()?e.parentNode:e},k=function(t,n){this[0]=this.node=t,t.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),t.raphaelid=this.id,this.matrix=e.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},A=e.el;k.prototype=A,A.constructor=k,e._engine.path=function(e,t){var n=m("path");t.canvas&&t.canvas.appendChild(n);var i=new k(n,t);return i.type="path",C(i,{fill:"none",stroke:"#000",path:e}),i},A.rotate=function(e,t,a){if(this.removed)return this;if((e=n(e).split(c)).length-1&&(t=i(e[1]),a=i(e[2])),e=i(e[0]),null==a&&(t=a),null==t||null==a){var r=this.getBBox(1);t=r.x+r.width/2,a=r.y+r.height/2}return this.transform(this._.transform.concat([["r",e,t,a]])),this},A.scale=function(e,t,a,r){if(this.removed)return this;if((e=n(e).split(c)).length-1&&(t=i(e[1]),a=i(e[2]),r=i(e[3])),e=i(e[0]),null==t&&(t=e),null==r&&(a=r),null==a||null==r)var o=this.getBBox(1);return a=null==a?o.x+o.width/2:a,r=null==r?o.y+o.height/2:r,this.transform(this._.transform.concat([["s",e,t,a,r]])),this},A.translate=function(e,t){return this.removed||((e=n(e).split(c)).length-1&&(t=i(e[1])),e=i(e[0])||0,t=+t||0,this.transform(this._.transform.concat([["t",e,t]]))),this},A.transform=function(n){var i=this._;if(null==n)return i.transform;if(e._extractTransform(this,n),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&m(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var a=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":a})}return this},A.hide=function(){return this.removed||(this.node.style.display="none"),this},A.show=function(){return this.removed||(this.node.style.display=""),this},A.remove=function(){var t=T(this.node);if(!this.removed&&t.parentNode){var n=this.paper;for(var i in n.__set__&&n.__set__.exclude(this),d.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),e._tear(this,n),t.parentNode.removeChild(t),this.removeData(),this)this[i]="function"==typeof this[i]?e._removedFactory(i):null;this.removed=!0}},A._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t,n=!1;this.paper.canvas.parentElement?t=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(t=this.paper.canvas.parentNode.style),t&&"none"==t.display&&(n=!0,t.display="");var i={};try{i=this.node.getBBox()}catch(e){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},n&&(t.display="none")}return e&&this.hide(),i},A.attr=function(n,i){if(this.removed)return this;if(null==n){var a={};for(var r in this.attrs)this.attrs[t](r)&&(a[r]=this.attrs[r]);return a.gradient&&"none"==a.fill&&(a.fill=a.gradient)&&delete a.gradient,a.transform=this._.transform,a}if(null==i&&e.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var o=n.split(c),s={},l=0,u=o.length;l<u;l++)(n=o[l])in this.attrs?s[n]=this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=e._availableAttrs[n];return u-1?s:s[o[0]]}if(null==i&&e.is(n,"array")){for(s={},l=0,u=n.length;l<u;l++)s[n[l]]=this.attr(n[l]);return s}if(null!=i){var h={};h[n]=i}else null!=n&&e.is(n,"object")&&(h=n);for(var p in h)d("raphael.attr."+p+"."+this.id,this,h[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&h[t](p)&&e.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(h[p]));for(var g in this.attrs[p]=h[p],f)f[t](g)&&(h[g]=f[g])}return C(this,h),this},A.toFront=function(){if(this.removed)return this;var t=T(this.node);t.parentNode.appendChild(t);var n=this.paper;return n.top!=this&&e._tofront(this,n),this},A.toBack=function(){if(this.removed)return this;var t=T(this.node),n=t.parentNode;return n.insertBefore(t,n.firstChild),e._toback(this,this.paper),this.paper,this},A.insertAfter=function(t){if(this.removed||!t)return this;var n=T(this.node),i=T(t.node||t[t.length-1].node);return i.nextSibling?i.parentNode.insertBefore(n,i.nextSibling):i.parentNode.appendChild(n),e._insertafter(this,t,this.paper),this},A.insertBefore=function(t){if(this.removed||!t)return this;var n=T(this.node),i=T(t.node||t[0].node);return i.parentNode.insertBefore(n,i),e._insertbefore(this,t,this.paper),this},A.blur=function(t){var n=this;if(0!=+t){var i=m("filter"),a=m("feGaussianBlur");n.attrs.blur=t,i.id=e.createUUID(),m(a,{stdDeviation:+t||1.5}),i.appendChild(a),n.paper.defs.appendChild(i),n._blur=i,m(n.node,{filter:"url(#"+i.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},e._engine.circle=function(e,t,n,i){var a=m("circle");e.canvas&&e.canvas.appendChild(a);var r=new k(a,e);return r.attrs={cx:t,cy:n,r:i,fill:"none",stroke:"#000"},r.type="circle",m(a,r.attrs),r},e._engine.rect=function(e,t,n,i,a,r){var o=m("rect");e.canvas&&e.canvas.appendChild(o);var s=new k(o,e);return s.attrs={x:t,y:n,width:i,height:a,rx:r||0,ry:r||0,fill:"none",stroke:"#000"},s.type="rect",m(o,s.attrs),s},e._engine.ellipse=function(e,t,n,i,a){var r=m("ellipse");e.canvas&&e.canvas.appendChild(r);var o=new k(r,e);return o.attrs={cx:t,cy:n,rx:i,ry:a,fill:"none",stroke:"#000"},o.type="ellipse",m(r,o.attrs),o},e._engine.image=function(e,t,n,i,a,r){var o=m("image");m(o,{x:n,y:i,width:a,height:r,preserveAspectRatio:"none"}),o.setAttributeNS(p,"href",t),e.canvas&&e.canvas.appendChild(o);var s=new k(o,e);return s.attrs={x:n,y:i,width:a,height:r,src:t},s.type="image",s},e._engine.text=function(t,n,i,a){var r=m("text");t.canvas&&t.canvas.appendChild(r);var o=new k(r,t);return o.attrs={x:n,y:i,"text-anchor":"middle",text:a,"font-family":e._availableAttrs["font-family"],"font-size":e._availableAttrs["font-size"],stroke:"none",fill:"#000"},o.type="text",C(o,o.attrs),o},e._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t&&t.container,i=t.x,a=t.y,r=t.width,o=t.height;if(!n)throw new Error("SVG container not found.");var s,l=m("svg"),c="overflow:hidden;";return i=i||0,a=a||0,m(l,{height:o=o||342,version:1.1,width:r=r||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(l.style.cssText=c+"position:absolute;left:"+i+"px;top:"+a+"px",e._g.doc.body.appendChild(l),s=1):(l.style.cssText=c+"position:relative",n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)),(n=new e._Paper).width=r,n.height=o,n.canvas=l,n.clear(),n._left=n._top=0,s&&(n.renderfix=function(){}),n.renderfix(),n},e._engine.setViewBox=function(e,t,n,i,a){d("raphael.setViewBox",this,this._viewBox,[e,t,n,i,a]);var r,s,l=this.getSize(),c=o(n/l.width,i/l.height),u=this.top,p=a?"xMidYMid meet":"xMinYMin";for(null==e?(this._vbSize&&(c=1),delete this._vbSize,r="0 0 "+this.width+h+this.height):(this._vbSize=c,r=e+h+t+h+n+h+i),m(this.canvas,{viewBox:r,preserveAspectRatio:p});c&&u;)s="stroke-width"in u.attrs?u.attrs["stroke-width"]:1,u.attr({"stroke-width":s}),u._.dirty=1,u._.dirtyT=1,u=u.prev;return this._viewBox=[e,t,n,i,!!a],this},e.prototype.renderfix=function(){var e,t=this.canvas,n=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(n){e=t.createSVGMatrix()}var i=-e.e%1,a=-e.f%1;(i||a)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),a&&(this._top=(this._top+a)%1,n.top=this._top+"px"))},e.prototype.clear=function(){e.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(e._g.doc.createTextNode("Created with Rapha\xebl "+e.version)),t.appendChild(this.desc),t.appendChild(this.defs=m("defs"))},e.prototype.remove=function(){for(var t in d("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null};var P=e.st;for(var E in A)A[t](E)&&!P[t](E)&&(P[E]=function(e){return function(){var t=arguments;return this.forEach((function(n){n[e].apply(n,t)}))}}(E))}}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a,r,o,s,l,c,d,u,h,p,f,g,m;o="hasOwnProperty",s=/[\.\/]/,l=/\s*,\s*/,c=function(e,t){return e-t},d={n:{}},u=function(){for(var e=0,t=this.length;e<t;e++)if(void 0!==this[e])return this[e]},h=function(){for(var e=this.length;--e;)if(void 0!==this[e])return this[e]},p=Object.prototype.toString,f=String,g=Array.isArray||function(e){return e instanceof Array||"[object Array]"==p.call(e)},(m=function(e,t){var n,i=r,o=Array.prototype.slice.call(arguments,2),s=m.listeners(e),l=0,d=[],p={},f=[],g=a;f.firstDefined=u,f.lastDefined=h,a=e,r=0;for(var v=0,_=s.length;v<_;v++)"zIndex"in s[v]&&(d.push(s[v].zIndex),s[v].zIndex<0&&(p[s[v].zIndex]=s[v]));for(d.sort(c);d[l]<0;)if(n=p[d[l++]],f.push(n.apply(t,o)),r)return r=i,f;for(v=0;v<_;v++)if("zIndex"in(n=s[v]))if(n.zIndex==d[l]){if(f.push(n.apply(t,o)),r)break;do{if((n=p[d[++l]])&&f.push(n.apply(t,o)),r)break}while(n)}else p[n.zIndex]=n;else if(f.push(n.apply(t,o)),r)break;return r=i,a=g,f})._events=d,m.listeners=function(e){var t,n,i,a,r,o,l,c,u=g(e)?e:e.split(s),h=d,p=[h],f=[];for(a=0,r=u.length;a<r;a++){for(c=[],o=0,l=p.length;o<l;o++)for(n=[(h=p[o].n)[u[a]],h["*"]],i=2;i--;)(t=n[i])&&(c.push(t),f=f.concat(t.f||[]));p=c}return f},m.separator=function(e){e?(e="["+(e=f(e).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",s=new RegExp(e)):s=/[\.\/]/},m.on=function(e,t){if("function"!=typeof t)return function(){};for(var n=g(e)?g(e[0])?e:[e]:f(e).split(l),i=0,a=n.length;i<a;i++)!function(e){for(var n,i=g(e)?e:f(e).split(s),a=d,r=0,o=i.length;r<o;r++)a=(a=a.n).hasOwnProperty(i[r])&&a[i[r]]||(a[i[r]]={n:{}});for(a.f=a.f||[],r=0,o=a.f.length;r<o;r++)if(a.f[r]==t){n=!0;break}!n&&a.f.push(t)}(n[i]);return function(e){+e==+e&&(t.zIndex=+e)}},m.f=function(e){var t=[].slice.call(arguments,1);return function(){m.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},m.stop=function(){r=1},m.nt=function(e){var t=g(a)?a.join("."):a;return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},m.nts=function(){return g(a)?a:a.split(s)},m.off=m.unbind=function(e,t){if(e){var n=g(e)?g(e[0])?e:[e]:f(e).split(l);if(n.length>1)for(var i=0,a=n.length;i<a;i++)m.off(n[i],t);else{n=g(e)?e:f(e).split(s);var r,c,u,h,p,v=[d];for(i=0,a=n.length;i<a;i++)for(h=0;h<v.length;h+=u.length-2){if(u=[h,1],r=v[h].n,"*"!=n[i])r[n[i]]&&u.push(r[n[i]]);else for(c in r)r[o](c)&&u.push(r[c]);v.splice.apply(v,u)}for(i=0,a=v.length;i<a;i++)for(r=v[i];r.n;){if(t){if(r.f){for(h=0,p=r.f.length;h<p;h++)if(r.f[h]==t){r.f.splice(h,1);break}!r.f.length&&delete r.f}for(c in r.n)if(r.n[o](c)&&r.n[c].f){var _=r.n[c].f;for(h=0,p=_.length;h<p;h++)if(_[h]==t){_.splice(h,1);break}!_.length&&delete r.n[c].f}}else for(c in delete r.f,r.n)r.n[o](c)&&r.n[c].f&&delete r.n[c].f;r=r.n}}}else m._events=d={n:{}}},m.once=function(e,t){return m.on(e,(function n(){return m.off(e,n),t.apply(this,arguments)}))},m.version="0.5.0",m.toString=function(){return"You are running Eve 0.5.0"},void 0!==e&&e.exports?e.exports=m:void 0===(i=function(){return m}.apply(t,[]))||(e.exports=i)},function(e,t,n){var i,a;i=[n(0),n(2),n(1)],void 0===(a=function(e){return e}.apply(t,i))||(e.exports=a)}])},function(e,t){e.exports={plus:"M25.979,12.896 19.312,12.896 19.312,6.229 12.647,6.229 12.647,12.896 5.979,12.896 5.979,19.562 12.647,19.562 12.647,26.229 19.312,26.229 19.312,19.562 25.979,19.562z",arrowleft2:"M21.871,9.814 15.684,16.001 21.871,22.188 18.335,25.725 8.612,16.001 18.335,6.276z",edit:"M27.87,7.863L23.024,4.82l-7.889,12.566l4.842,3.04L27.87,7.863zM14.395,21.25l-0.107,2.855l2.527-1.337l2.349-1.24l-4.672-2.936L14.395,21.25zM29.163,3.239l-2.532-1.591c-0.638-0.401-1.479-0.208-1.882,0.43l-0.998,1.588l4.842,3.042l0.999-1.586C29.992,4.481,29.802,3.639,29.163,3.239zM25.198,27.062c0,0.275-0.225,0.5-0.5,0.5h-19c-0.276,0-0.5-0.225-0.5-0.5v-19c0-0.276,0.224-0.5,0.5-0.5h13.244l1.884-3H5.698c-1.93,0-3.5,1.57-3.5,3.5v19c0,1.93,1.57,3.5,3.5,3.5h19c1.93,0,3.5-1.57,3.5-3.5V11.097l-3,4.776V27.062z",trash:"M20.826,5.75l0.396,1.188c1.54,0.575,2.589,1.44,2.589,2.626c0,2.405-4.308,3.498-8.312,3.498c-4.003,0-8.311-1.093-8.311-3.498c0-1.272,1.21-2.174,2.938-2.746l0.388-1.165c-2.443,0.648-4.327,1.876-4.327,3.91v2.264c0,1.224,0.685,2.155,1.759,2.845l0.396,9.265c0,1.381,3.274,2.5,7.312,2.5c4.038,0,7.313-1.119,7.313-2.5l0.405-9.493c0.885-0.664,1.438-1.521,1.438-2.617V9.562C24.812,7.625,23.101,6.42,20.826,5.75zM11.093,24.127c-0.476-0.286-1.022-0.846-1.166-1.237c-1.007-2.76-0.73-4.921-0.529-7.509c0.747,0.28,1.58,0.491,2.45,0.642c-0.216,2.658-0.43,4.923,0.003,7.828C11.916,24.278,11.567,24.411,11.093,24.127zM17.219,24.329c-0.019,0.445-0.691,0.856-1.517,0.856c-0.828,0-1.498-0.413-1.517-0.858c-0.126-2.996-0.032-5.322,0.068-8.039c0.418,0.022,0.835,0.037,1.246,0.037c0.543,0,1.097-0.02,1.651-0.059C17.251,18.994,17.346,21.325,17.219,24.329zM21.476,22.892c-0.143,0.392-0.69,0.95-1.165,1.235c-0.474,0.284-0.817,0.151-0.754-0.276c0.437-2.93,0.214-5.209-0.005-7.897c0.881-0.174,1.708-0.417,2.44-0.731C22.194,17.883,22.503,20.076,21.476,22.892zM11.338,9.512c0.525,0.173,1.092-0.109,1.268-0.633h-0.002l0.771-2.316h4.56l0.771,2.316c0.14,0.419,0.53,0.685,0.949,0.685c0.104,0,0.211-0.017,0.316-0.052c0.524-0.175,0.808-0.742,0.633-1.265l-1.002-3.001c-0.136-0.407-0.518-0.683-0.945-0.683h-6.002c-0.428,0-0.812,0.275-0.948,0.683l-1,2.999C10.532,8.77,10.815,9.337,11.338,9.512z"}},function(e,t,n){(function(e){!function(n,i){var a=function(){var e=null,t={};function n(e){for(var n in e>=334&&e<=360&&(e-=360),t){var i=t[n];if(i.hueRange&&e>=i.hueRange[0]&&e<=i.hueRange[1])return t[n]}return"Color not found"}function i(t){if(null===e)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var n=t[1]||1,i=t[0]||0,a=(e=(9301*e+49297)%233280)/233280;return Math.floor(i+a*(n-i))}function a(e,n,i){var a=i[0][0],r=i[i.length-1][0],o=i[i.length-1][1],s=i[0][1];t[e]={hueRange:n,lowerBounds:i,saturationRange:[a,r],brightnessRange:[o,s]}}function r(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var n=e[1]/100,i=e[2]/100,a=Math.floor(6*t),r=6*t-a,o=i*(1-n),s=i*(1-r*n),l=i*(1-(1-r)*n),c=256,d=256,u=256;switch(a){case 0:c=i,d=l,u=o;break;case 1:c=s,d=i,u=o;break;case 2:c=o,d=i,u=l;break;case 3:c=o,d=s,u=i;break;case 4:c=l,d=o,u=i;break;case 5:c=i,d=o,u=s}return[Math.floor(255*c),Math.floor(255*d),Math.floor(255*u)]}function o(e){var t=e[0],n=e[1]/100,i=e[2]/100,a=(2-n)*i;return[t,Math.round(n*i/(a<1?a:2-a)*1e4)/100,a/2*100]}return function(){a("monochrome",null,[[0,0],[100,0]]),a("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),a("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),a("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),a("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),a("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),a("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),a("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}(),function a(s){if(void 0!==(s=s||{}).seed&&null!==s.seed&&s.seed===parseInt(s.seed,10))e=s.seed;else if("string"===typeof s.seed)e=function(e){for(var t=0,n=0;n!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);n++)t+=e.charCodeAt(n);return t}(s.seed);else{if(void 0!==s.seed&&null!==s.seed)throw new TypeError("The seed value must be an integer or string");e=null}var l,c;if(null!==s.count&&void 0!==s.count){var d=s.count,u=[];for(s.count=null;d>u.length;)e&&s.seed&&(s.seed+=1),u.push(a(s));return s.count=d,u}return function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return o(e);case"hsl":var n=o(e);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var i=o(e),a=t.alpha||Math.random();return"hsla("+i[0]+", "+i[1]+"%, "+i[2]+"%, "+a+")";case"rgbArray":return r(e);case"rgb":return"rgb("+r(e).join(", ")+")";case"rgba":var s=r(e);a=t.alpha||Math.random();return"rgba("+s.join(", ")+", "+a+")";default:return function(e){var t=r(e);function n(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+n(t[0])+n(t[1])+n(t[2])}(e)}}([l=function(e){var n=i(function(e){if("number"===typeof parseInt(e)){var n=parseInt(e);if(n<360&&n>0)return[n,n]}if("string"===typeof e)if(t[e]){var i=t[e];if(i.hueRange)return i.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var a=function(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,i=parseInt(e.substr(4,2),16)/255,a=Math.max(t,n,i),r=a-Math.min(t,n,i),o=a?r/a:0;switch(a){case t:return[(n-i)/r%6*60||0,o,a];case n:return[60*((i-t)/r+2)||0,o,a];case i:return[60*((t-n)/r+4)||0,o,a]}}(e)[0];return[a,a]}return[0,360]}(e.hue));n<0&&(n=360+n);return n}(s),c=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return i([0,100]);var a=function(e){return n(e).saturationRange}(e),r=a[0],o=a[1];switch(t.luminosity){case"bright":r=55;break;case"dark":r=o-10;break;case"light":o=55}return i([r,o])}(l,s),function(e,t,a){var r=function(e,t){for(var i=n(e).lowerBounds,a=0;a<i.length-1;a++){var r=i[a][0],o=i[a][1],s=i[a+1][0],l=i[a+1][1];if(t>=r&&t<=s){var c=(l-o)/(s-r);return c*t+(o-c*r)}}return 0}(e,t),o=100;switch(a.luminosity){case"dark":o=r+20;break;case"light":r=(o+r)/2;break;case"random":r=0,o=100}return i([r,o])}(l,c,s)],s)}}();e&&e.exports&&(t=e.exports=a),t.randomColor=a}()}).call(this,n(48)(e))},function(e,t,n){"use strict";n.r(t);var i=n(7),a=n(1),r=n.n(a),o=n(71),s=n.n(o),l=n(0),c=n.n(l),d=n(29),u=n(25),h=n(55),p=n.n(h),f=function(e){var t=e.children;return c.a.createElement(c.a.Fragment,null,c.a.createElement("hr",{style:{marginTop:0}}),c.a.createElement("div",{className:"modal-footer"},t))},g=n(26),m=function(e){var t=e.children,n=Object(g.a)(e,["children"]);return c.a.createElement("div",Object.assign({className:"pure-g"},n),t)},v={"1-5":"2-5","2-5":"4-5","1-24":"1-12","1-12":"1-6","2-24":"1-6","3-24":"1-4","4-24":"1-3","5-24":"5-12","1-4":"1-2","6-24":"1-2","7-24":"7-12","1-3":"2-3","8-24":"2-3","3-8":"3-4","9-24":"3-4","5-12":"5-6","10-24":"5-6","11-24":"11-12"},_=function(e){var t=e.size,n=e.children,i=Object(g.a)(e,["size","children"]),a=v[t]||"1",r=["pure-u-".concat(t),"pure-u-md-".concat(t),"pure-u-lg-".concat(t),"pure-u-xl-".concat(t),"pure-u-sm-".concat(a)].join(" ");return c.a.createElement("div",Object.assign({className:r},i),n)},b=function(e){var t=e.title,n=e.children;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"modal-header",style:{minWidth:"60vw"}},c.a.createElement(m,null,c.a.createElement(_,{size:"1-4"},c.a.createElement("span",{className:"arangoHeader"},t)),c.a.createElement(_,{size:"3-4"},n))),c.a.createElement("hr",{style:{marginBottom:0}}))};function y(e){var t=0;return t+=parseFloat(e.marginTop)||0,t+=parseFloat(e.marginBottom)||0,t+=parseFloat(e.borderTop)||0,t+=parseFloat(e.borderBottom)||0}function w(e){var t=0;return t+=parseFloat(e.paddingTop)||0,t+=parseFloat(e.paddingBottom)||0}var x=function(e){var t=e.children,n=e.innerStyle,i=void 0===n?{}:n,a=e.maximize,r=void 0!==a&&a,o=e.show,s=void 0!==o&&o,d=Object(l.useRef)(null);Object(l.useEffect)((function(){if(r&&s){var e=d.current,t=e.parentElement,n=t.parentElement,i=window.getComputedStyle(n),a=window.getComputedStyle(t),o=0;o+=w(i),o+=y(a),o+=w(a),t.childNodes.forEach((function(t){var n=t,i=window.getComputedStyle(n);o+=t===e?w(i):n.clientHeight,o+=y(i)}));var l=.9*window.innerHeight,c=Math.floor(l-o);e.style.height="".concat(c,"px"),e.style.maxHeight="unset",n.style.height=i.maxHeight,n.style.overflowY="hidden"}}),[r,s]);var u=Object.assign({minWidth:"60vw"},i);return c.a.createElement("div",{className:"modal-body",style:u,ref:d},t)};function C(e,t){var n=document.getElementById(t);Object(u.render)(Object(u.createPortal)(e,n,t),n)}var S,T=function(e){var t=e.show,n=e.setShow,r=e.children,o=e.cid,s=Object(l.useState)(o||Object(a.uniqueId)("modal-content-")),c=Object(i.a)(s,2),d=c[0],h=c[1];Object(l.useEffect)((function(){o&&h(o)}),[o]);var f=Object(l.useRef)(p()({content:"<div id='".concat(d,"'></div>"),closeButton:!1,modalStyles:function(e){e.zIndex=9e3},overlayStyles:function(e){e.zIndex=8999}}).afterCreate((function(){C(r,d)})).afterClose((function(){n(!1)})));return Object(l.useEffect)((function(){f.current.isVisible()&&C(r,d)}),[r,d]),Object(l.useEffect)((function(){t?f.current.show():f.current.close()}),[t]),Object(l.useEffect)((function(){return function(){try{Object(u.unmountComponentAtNode)(document.getElementById(d)),f.current.destroy()}catch(e){}}}),[d]),null},k=n(56);S=window.location.origin;var A,P,E,D,O,M,I,N,L=Object(a.memoize)((function(e){return new k.Database({url:S,databaseName:e,auth:{token:arangoHelper.getCurrentJwt()}})})),R=Object(a.memoize)((function(e,t){return L(e).route(t)}),(function(e,t){return"".concat(e,"/").concat(t)})),j=function(){return R(frontendConfig.db,"_api")},B=n(5),V=n.n(B),H=n(16),F={identity:"Identity",delimiter:"Delimiter",stem:"Stem",norm:"Norm",ngram:"N-Gram",text:"Text",aql:"AQL",stopwords:"Stopwords",collation:"Collation",segmentation:"Segmentation",pipeline:"Pipeline",geojson:"GeoJSON",geopoint:"GeoPoint"},z={type:"string",nullable:!1,default:""},U={type:"boolean",nullable:!1},W={type:"string",nullable:!1,enum:["lower","upper","none"]},q={type:"object",nullable:!1,properties:{maxCells:{type:"integer",minimum:0,nullable:!1},minLevel:{type:"integer",minimum:0,maximum:{$data:"1/maxLevel"},nullable:!1},maxLevel:{type:"integer",minimum:{$data:"1/minLevel"},nullable:!1}},additionalProperties:!1},G=Object(a.partial)(a.merge,r.a,{properties:{name:{nullable:!1,type:"string",pattern:"^[a-zA-Z][a-zA-Z0-9-_]*$"},features:{type:"array",maxItems:3,uniqueItems:!0,nullable:!1,items:{type:"string",nullable:!1,enum:["frequency","norm","position"]}}},additionalProperties:!1}),Y=G({properties:{type:{const:"identity"}},required:["type"]}),Q=G({properties:{type:{const:"delimiter"},properties:{type:"object",nullable:!1,properties:{delimiter:{type:"string",nullable:!1,default:""}},required:["delimiter"],additionalProperties:!1,default:{delimiter:""}}},required:["type","properties"]}),J=G({properties:{type:{const:"stem"},properties:{type:"object",nullable:!1,properties:{locale:z},required:["locale"],additionalProperties:!1,default:{locale:""}}},required:["type","properties"]}),Z=G({properties:{type:{const:"norm"},properties:{type:"object",nullable:!1,properties:{locale:z,accent:U,case:W},required:["locale"],additionalProperties:!1,default:{locale:""}}},required:["type","properties"]}),X=G({properties:{type:{const:"ngram"},properties:{type:"object",nullable:!1,properties:{min:{type:"integer",nullable:!1,minimum:1,maximum:{$data:"1/max"},default:2},max:{type:"integer",nullable:!1,minimum:{$data:"1/min"},default:3},preserveOriginal:{type:"boolean",nullable:!1,default:!1},startMarker:{type:"string",nullable:!1},endMarker:{type:"string",nullable:!1},streamType:{type:"string",nullable:!1,enum:["binary","utf8"]}},required:["min","max","preserveOriginal"],additionalProperties:!1,default:{min:2,max:3,preserveOriginal:!1}}},required:["type","properties"]}),K=G({properties:{type:{const:"text"},properties:{type:"object",nullable:!1,properties:{locale:z,accent:U,case:W,stemming:{type:"boolean",nullable:!1},edgeNgram:{type:"object",nullable:!1,properties:{min:{type:"integer",nullable:!1,maximum:{$data:"1/max"},minimum:1},max:{type:"integer",nullable:!1,minimum:{$data:"1/min"}},preserveOriginal:{type:"boolean",nullable:!1}}},stopwords:{type:"array",nullable:!1,items:{type:"string"}},stopwordsPath:{type:"string",nullable:!1}},required:["locale"],additionalProperties:!1,default:{locale:""}}},required:["type","properties"]}),ee=G({properties:{type:{const:"aql"},properties:{type:"object",nullable:!1,properties:{queryString:{type:"string",nullable:!1,default:""},collapsePositions:{type:"boolean",nullable:!1},keepNull:{type:"boolean",nullable:!1},batchSize:{type:"integer",nullable:!1,minimum:1,maximum:1e3},memoryLimit:{type:"integer",nullable:!1,maximum:33554432},returnType:{nullable:!1,type:"string",enum:["string","number","bool"]}},required:["queryString"],additionalProperties:!1,default:{queryString:""}}},required:["type","properties"]}),te=G({properties:{type:{const:"stopwords"},properties:{type:"object",nullable:!1,properties:{stopwords:{type:"array",nullable:!1,items:{type:"string"},default:[]},hex:{type:"boolean",nullable:!1}},required:["stopwords"],additionalProperties:!1,default:{stopwords:[]}}},required:["type","properties"]}),ne=G({properties:{type:{const:"collation"},properties:{type:"object",nullable:!1,properties:{locale:z},required:["locale"],additionalProperties:!1,default:{locale:""}}},required:["type","properties"]}),ie=G({properties:{type:{const:"segmentation"},properties:{type:"object",nullable:!1,properties:{break:{type:"string",nullable:!1,enum:["all","alpha","graphic"]},case:W},additionalProperties:!1,default:{}}},required:["type","properties"]}),ae={type:"object",discriminator:{propertyName:"type"},oneOf:[Y,Q,J,Z,X,K,ee,te,ne,ie,G({properties:{type:{const:"pipeline"},properties:{type:"object",nullable:!1,properties:{pipeline:{type:"array",nullable:!1,items:{type:"object",discriminator:{propertyName:"type"},oneOf:[Q,J,Z,X,K,ee,te,ne,ie],errorMessage:{discriminator:'/type should be one of "delimiter", "stem", "norm", "ngram", "text", "aql", "stopwords", "collation", "segmentation"'}},default:[]}},additionalProperties:!1,required:["pipeline"],default:{pipeline:[]}}},required:["type","properties"]}),G({properties:{type:{const:"geojson"},properties:{type:"object",nullable:!1,properties:{type:{nullable:!1,type:"string",enum:["shape","centroid","point"]},options:q},additionalProperties:!1,default:{}}},required:["type","properties"]}),G({properties:{type:{const:"geopoint"},properties:{type:"object",nullable:!1,properties:{latitude:{type:"array",nullable:!1,items:{type:"string"}},longitude:{type:"array",nullable:!1,items:{type:"string"}},options:q},additionalProperties:!1,default:{}}},required:["type","properties"]})],errorMessage:{discriminator:'/type should be one of "identity", "delimiter", "stem", "norm", "ngram", "text", "aql", "stopwords", "collation", "segmentation", "pipeline", "geojson", "geopoint"'},required:["name","features"]},re=n(30),oe=n(13),se=n(14),le=se.a.label(A||(A=Object(oe.a)(["\n  cursor: default;\n"]))),ce=se.a.input.attrs((function(e){var t=e.type,n=Object(g.a)(e,["type"]);return Object(re.a)({type:t},n)}))(P||(P=Object(oe.a)(["\n  &&& {\n    width: 90%;\n    height: auto;\n  }\n"]))),de=function(e){var t=e.id,n=e.label,r=e.disabled,o=Object(g.a)(e,["id","label","disabled"]),s=Object(l.useState)(t||Object(a.uniqueId)("textbox-")),d=Object(i.a)(s,2),u=d[0],h=d[1];return Object(l.useEffect)((function(){t&&h(t)}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(le,{htmlFor:u},n),c.a.createElement(ce,Object.assign({id:u,disabled:r},o)))},ue=se.a.select(E||(E=Object(oe.a)(["\n  &&& {\n    width: auto;\n  }\n"]))),he=function(e){var t=e.id,n=e.label,r=e.children,o=e.disabled,s=e.inline,d=Object(g.a)(e,["id","label","children","disabled","inline"]),u=Object(l.useState)(t||Object(a.uniqueId)("textbox-")),h=Object(i.a)(u,2),p=h[0],f=h[1];return Object(l.useEffect)((function(){t&&f(t)}),[t]),s?c.a.createElement(le,{htmlFor:p,style:{display:"inline-block"}},n,":\xa0",c.a.createElement(ue,Object.assign({id:p,disabled:o},d),r)):c.a.createElement(c.a.Fragment,null,c.a.createElement(le,{htmlFor:p},n),c.a.createElement(ue,Object.assign({id:p,disabled:o},d),r))},pe=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,r=e.typeNameMap,o=e.inline,s=t.type,l=versionHelper.toDocuVersion(frontendConfig.version.version);return c.a.createElement(c.a.Fragment,null,c.a.createElement(he,{label:"Analyzer Type",value:s,onChange:function(e){n({type:"setField",field:{path:"type",value:e.target.value}})},required:!0,disabled:i,inline:o},Object(a.map)(r,(function(e,t){return c.a.createElement("option",{key:t,value:t},e)}))),"\xa0\xa0",c.a.createElement("a",{target:"_blank",href:"https://www.arangodb.com/docs/".concat(l,"/analyzers.html#").concat(s),rel:"noreferrer"},c.a.createElement("i",{className:"fa fa-question-circle"})))},fe=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,a=t.name;return c.a.createElement(m,null,c.a.createElement(_,{size:"1-2"},c.a.createElement(de,{label:"Analyzer Name",type:"text",value:a||"",onChange:function(e){n({type:"setField",field:{path:"name",value:e.target.value}})},required:!0,disabled:i})),c.a.createElement(_,{size:"1-2"},c.a.createElement(pe,{formState:t,dispatch:n,typeNameMap:F,disabled:i})))},ge=se.a.input.attrs((function(){return{type:"checkbox"}}))(D||(D=Object(oe.a)(["\n  &&& {\n    width: auto;\n  }\n"]))),me=function(e){var t=e.id,n=e.checked,r=e.onChange,o=e.label,s=e.inline,d=e.disabled,u=Object(l.useState)(t||Object(a.uniqueId)("checkbox-")),h=Object(i.a)(u,2),p=h[0],f=h[1];return Object(l.useEffect)((function(){t&&f(t)}),[t]),s?c.a.createElement("label",{htmlFor:p,className:"pure-checkbox"},c.a.createElement(ge,{id:p,checked:n,onChange:r,disabled:d}),"\xa0",o):c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{htmlFor:p,className:"pure-checkbox"},o),c.a.createElement(ge,{id:p,checked:n,onChange:r,disabled:d}))},ve=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,r=t.features,o=r.includes("frequency"),s=r.includes("norm"),l=r.includes("position"),d=function(e){return function(t){var i=Object(a.clone)(r);t.target.checked?i.push(e):Object(a.pull)(i,e),n({type:"setField",field:{path:"features",value:i}})}};return c.a.createElement(m,null,c.a.createElement(_,{size:"1-3"},c.a.createElement(me,{label:"Frequency",onChange:d("frequency"),checked:o,disabled:i})),c.a.createElement(_,{size:"1-3"},c.a.createElement(me,{label:"Norm",onChange:d("norm"),checked:s,disabled:i})),c.a.createElement(_,{size:"1-3"},c.a.createElement(me,{label:"Position",onChange:d("position"),checked:l,disabled:i})))},_e=n(46),be=n.n(_e),ye=n(57),we=n.n(ye),xe=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,a=t.properties.delimiter;return c.a.createElement(m,null,c.a.createElement(_,{size:"1-3"},c.a.createElement(de,{label:"Delimiter (characters to split on)",type:"text",value:a||"",required:!0,onChange:function(e){n({type:"setField",field:{path:"properties.delimiter",value:e.target.value}})},disabled:i})))},Ce=function(e){var t=e.formState,n=e.dispatch,i=e.disabled;return c.a.createElement(de,{label:"Locale",type:"text",placeholder:"language[_COUNTRY][.encoding][@variant]",required:!0,disabled:i,value:Object(a.get)(t,"properties.locale",""),onChange:function(e){n({type:"setField",field:{path:"properties.locale",value:e.target.value}})}})},Se=function(e){var t=e.formState,n=e.dispatch,i=e.disabled;return c.a.createElement(m,null,c.a.createElement(_,{size:"1-2"},c.a.createElement(Ce,{formState:t,dispatch:n,disabled:i})))},Te=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,r=e.defaultValue,o=void 0===r?"none":r;return c.a.createElement(he,{label:"Case",value:Object(a.get)(t,"properties.case",o),onChange:function(e){n({type:"setField",field:{path:"properties.case",value:e.target.value}})},disabled:i},c.a.createElement("option",{value:"lower"},"Lower"),c.a.createElement("option",{value:"upper"},"Upper"),c.a.createElement("option",{value:"none"},"None"))},ke=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,r=e.inline,o=void 0===r||r;return c.a.createElement(me,{onChange:function(e){n({type:"setField",field:{path:"properties.accent",value:e.target.checked}})},label:"Accent",inline:o,disabled:i,checked:Object(a.get)(t,"properties.accent",!1)})},Ae=function(e){var t=e.formState,n=e.dispatch,i=e.disabled;return c.a.createElement(m,null,c.a.createElement(_,{size:"1-2"},c.a.createElement(Ce,{formState:t,dispatch:n,disabled:i})),c.a.createElement(_,{size:"1-8"},c.a.createElement(Te,{formState:t,dispatch:n,disabled:i})),c.a.createElement(_,{size:"1-8"},c.a.createElement(ke,{formState:t,dispatch:n,disabled:i,inline:!1})))},Pe=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,r=e.basePath,o=e.required,s=void 0===o||o,l=function(e){return function(t){Ze(e,t.target.value,n,r)}},d=Object(a.get)(t,r,{});return c.a.createElement(m,null,c.a.createElement(_,{size:"1-3"},c.a.createElement(de,{label:"Minimum N-Gram Length",type:"number",min:1,disabled:i,required:s,value:d.min||"",onChange:l("min")})),c.a.createElement(_,{size:"1-3"},c.a.createElement(de,{label:"Maximum N-Gram Length",type:"number",min:1,disabled:i,required:s,value:d.max||"",onChange:l("max")})),c.a.createElement(_,{size:"1-3"},c.a.createElement(me,{onChange:function(e){n({type:"setField",field:{path:"preserveOriginal",value:e.target.checked},basePath:r})},label:"Preserve Original",disabled:i,checked:d.preserveOriginal||!1})))},Ee=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,a=t;return c.a.createElement(m,null,c.a.createElement(_,{size:"1"},c.a.createElement(Pe,{formState:t,dispatch:n,disabled:i,basePath:"properties"})),c.a.createElement(_,{size:"1-3"},c.a.createElement(de,{label:"Start Marker",type:"text",disabled:i,onChange:function(e){n({type:"setField",field:{path:"properties.startMarker",value:e.target.value}})},value:a.properties.startMarker||""})),c.a.createElement(_,{size:"1-3"},c.a.createElement(de,{label:"End Marker",type:"text",onChange:function(e){n({type:"setField",field:{path:"properties.endMarker",value:e.target.value}})},value:a.properties.endMarker||"",disabled:i})),c.a.createElement(_,{size:"1-3"},c.a.createElement(he,{label:"Stream Type",value:a.properties.streamType||"binary",onChange:function(e){n({type:"setField",field:{path:"properties.streamType",value:e.target.value}})},disabled:i},c.a.createElement("option",{value:"binary"},"Binary"),c.a.createElement("option",{value:"utf8"},"UTF8"))))},De=se.a.legend(O||(O=Object(oe.a)(["\n  font-size: 14px;\n  margin-bottom: 12px;\n  border-bottom: none;\n  line-height: normal;\n  color: inherit;\n"]))),Oe=function(e){var t=e.children,n=e.legend;return c.a.createElement("fieldset",null,n?c.a.createElement(De,null,n):null,t)},Me=se.a.textarea(M||(M=Object(oe.a)(["\n  width: 90%;\n  resize: vertical;\n"]))),Ie=function(e){var t=e.id,n=e.label,r=e.disabled,o=Object(g.a)(e,["id","label","disabled"]),s=Object(l.useState)(t||Object(a.uniqueId)("textarea-")),d=Object(i.a)(s,2),u=d[0],h=d[1];return Object(l.useEffect)((function(){t&&h(t)}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(le,{htmlFor:u},n),c.a.createElement(Me,Object.assign({id:u,disabled:r},o)))},Ne=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,r=e.required,o=void 0!==r&&r;return c.a.createElement(Ie,{label:"Stopwords (One per line)",value:Object(a.get)(t,"properties.stopwords",[]).join("\n"),onChange:function(e){var t=e.target.value.split("\n");Object(a.filter)(t,Object(a.negate)(a.isEmpty)).length?n({type:"setField",field:{path:"properties.stopwords",value:t}}):n({type:"unsetField",field:{path:"properties.stopwords"}})},disabled:i,required:o,rows:3})},Le=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,a=t;return c.a.createElement(m,null,c.a.createElement(_,{size:"1-2"},c.a.createElement(m,null,c.a.createElement(_,{size:"1"},c.a.createElement(Ce,{formState:t,dispatch:n,disabled:i})),c.a.createElement(_,{size:"1"},c.a.createElement(Ne,{formState:t,dispatch:n,disabled:i})))),c.a.createElement(_,{size:"1-2"},c.a.createElement(m,null,c.a.createElement(_,{size:"1"},c.a.createElement(de,{label:"Stopwords Path",type:"text",value:a.properties.stopwordsPath||"",onChange:function(e){n({type:"setField",field:{path:"properties.stopwordsPath",value:e.target.value}})},disabled:i})),c.a.createElement(_,{size:"1-3"},c.a.createElement(Te,{formState:t,dispatch:n,disabled:i})),c.a.createElement(_,{size:"1-3"},c.a.createElement(me,{onChange:function(e){n({type:"setField",field:{path:"properties.stemming",value:e.target.checked}})},label:"Stemming",disabled:i,checked:a.properties.stemming||!1})),c.a.createElement(_,{size:"1-3"},c.a.createElement(ke,{formState:t,dispatch:n,disabled:i,inline:!1})))),c.a.createElement(_,{size:"1"},c.a.createElement("hr",null)),c.a.createElement(_,{size:"1"},c.a.createElement(Oe,{legend:"Edge N-Gram"},c.a.createElement(Pe,{formState:t,dispatch:n,disabled:i,required:!1,basePath:"properties.edgeNgram"}))))},Re=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,a=function(e){return function(t){Ze(e,t.target.value,n)}},r=t;return c.a.createElement(m,null,c.a.createElement(_,{size:"1-2"},c.a.createElement(Ie,{label:"Query String",value:r.properties.queryString||"",disabled:i,onChange:function(e){n({type:"setField",field:{path:"properties.queryString",value:e.target.value}})},rows:4,required:!0})),c.a.createElement(_,{size:"1-2"},c.a.createElement(m,null,c.a.createElement(_,{size:"1"},c.a.createElement(de,{label:"Batch Size",type:"number",min:1,required:!0,value:r.properties.batchSize||"",disabled:i,onChange:a("properties.batchSize")})),c.a.createElement(_,{size:"1"},c.a.createElement(de,{label:"Memory Limit",type:"number",min:1,max:33554432,required:!0,value:r.properties.memoryLimit||"",disabled:i,onChange:a("properties.memoryLimit")})))),c.a.createElement(_,{size:"1-2"},c.a.createElement(m,null,c.a.createElement(_,{size:"1-3"},c.a.createElement(me,{checked:r.properties.collapsePositions||!1,disabled:i,onChange:function(e){n({type:"setField",field:{path:"properties.collapsePositions",value:e.target.checked}})},label:"Collapse Positions"})),c.a.createElement(_,{size:"1-3"},c.a.createElement(me,{checked:r.properties.keepNull||!1,onChange:function(e){n({type:"setField",field:{path:"properties.keepNull",value:e.target.checked}})},disabled:i,label:"Keep Null"})),c.a.createElement(_,{size:"1-3"},c.a.createElement(he,{label:"Return Type",value:r.properties.returnType||"string",onChange:function(e){n({type:"setField",field:{path:"properties.returnType",value:e.target.value}})},required:!0,disabled:i},c.a.createElement("option",{value:"string"},"String"),c.a.createElement("option",{value:"number"},"Number"),c.a.createElement("option",{value:"bool"},"Boolean"))))))},je=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,r=function(e){return function(t){Ze(e,t.target.value,n)}},o=Object(a.get)(t,"properties.options",{});return c.a.createElement(Oe,{legend:"Options"},c.a.createElement(m,null,c.a.createElement(_,{size:"1-3"},c.a.createElement(de,{label:"Max S2 Cells",type:"number",disabled:i,value:o.maxCells||"",onChange:r("properties.options.maxCells")})),c.a.createElement(_,{size:"1-3"},c.a.createElement(de,{label:"Least Precise S2 Level",type:"number",value:o.minLevel||"",onChange:r("properties.options.minLevel"),disabled:i})),c.a.createElement(_,{size:"1-3"},c.a.createElement(de,{label:"Most Precise S2 Level",type:"number",value:o.maxLevel||"",onChange:r("properties.options.maxLevel"),disabled:i}))))},$e=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,a=t.properties.type;return c.a.createElement(m,null,c.a.createElement(_,{size:"1-2"},c.a.createElement(he,{label:"Type",value:a||"shape",onChange:function(e){n({type:"setField",field:{path:"properties.type",value:e.target.value}})},disabled:i},c.a.createElement("option",{value:"shape"},"Shape"),c.a.createElement("option",{value:"centroid"},"Centroid"),c.a.createElement("option",{value:"point"},"Point"))),c.a.createElement(_,{size:"1"},c.a.createElement(je,{formState:t,dispatch:n,disabled:i})))},Be=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,r=function(e,t){var i=e.target.value.split(".");Object(a.filter)(i,Object(a.negate)(a.isEmpty)).length?n({type:"setField",field:{path:t,value:i}}):n({type:"unsetField",field:{path:t}})},o=t;return c.a.createElement(m,null,c.a.createElement(_,{size:"1-2"},c.a.createElement(de,{label:"Latitude Path",type:"text",value:(o.properties.latitude||[]).join("."),onChange:function(e){r(e,"properties.latitude")},disabled:i})),c.a.createElement(_,{size:"1-2"},c.a.createElement(de,{label:"Longitude Path",type:"text",value:(o.properties.longitude||[]).join("."),onChange:function(e){r(e,"properties.longitude")},disabled:i})),c.a.createElement(_,{size:"1"},c.a.createElement(je,{formState:t,dispatch:n,disabled:i})))},Ve=se.a.button(I||(I=Object(oe.a)(["\n  &&& {\n    margin-top: 10px;\n  }\n"]))),He=se.a.i(N||(N=Object(oe.a)(["\n  &&& {\n    margin-left: auto;\n  }\n"]))),Fe=Object(a.omit)(F,"geojson","geopoint","pipeline","identity"),ze=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,a=t.properties.pipeline,r=function(e){return function(){!function(e){var t=a.slice();t.splice(e,1),n({type:"setField",field:{path:"properties.pipeline",value:t}})}(e)}},o=function(e,t){switch(e){case"up":return function(){!function(e){var t=a.slice(),i=t[e],r=t[e-1];t.splice(e-1,2,i,r),n({type:"setField",field:{path:"properties.pipeline",value:t}})}(t)};case"down":return function(){!function(e){var t=a.slice(),i=t[e],r=t[e+1];t.splice(e,2,r,i),n({type:"setField",field:{path:"properties.pipeline",value:t}})}(t)}}},s=function(){n({type:"setField",field:{path:"properties.pipeline[".concat(a.length,"]"),value:{type:"delimiter",properties:{delimiter:""}}}})};return c.a.createElement(m,null,i?null:c.a.createElement(_,{size:"1"},c.a.createElement("button",{className:"button-warning",onClick:s},c.a.createElement("i",{className:"fa fa-plus"}),"\xa0Add Analyzer")),c.a.createElement(_,{size:"1"},c.a.createElement("table",{className:"arango-table",style:{marginTop:5,marginBottom:5}},c.a.createElement("tbody",null,a.map((function(e,t){var s=t===a.length-1,l=t,d=function(e){return function(t){t.basePath=Qe("properties.pipeline[".concat(e,"]"),t.basePath),n(t)}}(l);return c.a.createElement("tr",{key:t,style:{borderBottom:"1px  solid #DDD"}},c.a.createElement("td",{className:"arango-table-td table-cell0",valign:"middle"},t+1,"."),c.a.createElement("td",{className:"arango-table-td table-cell1"},c.a.createElement(m,null,c.a.createElement(_,{size:"3-4"},c.a.createElement(pe,{formState:e,dispatch:d,inline:!0,key:t,typeNameMap:Fe,disabled:i})),i?null:c.a.createElement(_,{size:"1-4"},c.a.createElement(Ve,{className:"button-danger",onClick:r(l)},c.a.createElement(He,{className:"fa fa-trash-o"})),"\xa0",c.a.createElement(Ve,{className:"button-warning",onClick:o("up",l),disabled:0===l},c.a.createElement(He,{className:"fa fa-arrow-up"})),"\xa0",c.a.createElement(Ve,{className:"button-warning",onClick:o("down",l),disabled:s},c.a.createElement(He,{className:"fa fa-arrow-down"}))),c.a.createElement(_,{size:"1"},Je({formState:e,dispatch:d,disabled:i})))))}))))),i||0===a.length?null:c.a.createElement(_,{size:"1"},c.a.createElement("button",{className:"button-warning",onClick:s},c.a.createElement("i",{className:"fa fa-plus"}),"\xa0Add Analyzer")))},Ue=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,a=t.properties.hex;return c.a.createElement(m,null,c.a.createElement(_,{size:"1-2"},c.a.createElement(Ne,{formState:t,dispatch:n,disabled:i,required:!0})),c.a.createElement(_,{size:"1-2"},c.a.createElement(me,{onChange:function(e){n({type:"setField",field:{path:"properties.hex",value:e.target.checked}})},label:"Hex",disabled:i,checked:a})))},We=function(e){var t=e.formState,n=e.dispatch,i=e.disabled;return c.a.createElement(m,null,c.a.createElement(_,{size:"1-2"},c.a.createElement(Ce,{formState:t,dispatch:n,disabled:i})))},qe=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,a=t.properties.break;return c.a.createElement(m,null,c.a.createElement(_,{size:"1-8"},c.a.createElement(he,{label:"Break",value:a||"alpha",onChange:function(e){n({type:"setField",field:{path:"properties.break",value:e.target.value}})},disabled:i},c.a.createElement("option",{value:"all"},"All"),c.a.createElement("option",{value:"alpha"},"Alpha"),c.a.createElement("option",{value:"graphic"},"Graphic"))),c.a.createElement(_,{size:"1-8"},c.a.createElement(Te,{formState:t,dispatch:n,disabled:i,defaultValue:"lower"})))},Ge=new be.a({allErrors:!0,removeAdditional:"failing",useDefaults:!0,discriminator:!0,$data:!0});we()(Ge);var Ye=Ge.compile(ae),Qe=function(e,t){return Object(a.compact)([e,t]).join(".")},Je=function(e){var t=e.formState,n=e.dispatch,i=e.disabled,a=void 0===i||i;switch(t.type){case"identity":return null;case"delimiter":return c.a.createElement(xe,{formState:t,dispatch:n,disabled:a});case"stem":return c.a.createElement(Se,{formState:t,dispatch:n,disabled:a});case"norm":return c.a.createElement(Ae,{formState:t,dispatch:n,disabled:a});case"ngram":return c.a.createElement(Ee,{formState:t,dispatch:n,disabled:a});case"text":return c.a.createElement(Le,{formState:t,dispatch:n,disabled:a});case"aql":return c.a.createElement(Re,{formState:t,dispatch:n,disabled:a});case"stopwords":return c.a.createElement(Ue,{formState:t,dispatch:n,disabled:a});case"collation":return c.a.createElement(We,{formState:t,dispatch:n,disabled:a});case"segmentation":return c.a.createElement(qe,{formState:t,dispatch:n,disabled:a});case"pipeline":return c.a.createElement(ze,{formState:t,dispatch:n,disabled:a});case"geojson":return c.a.createElement($e,{formState:t,dispatch:n,disabled:a});case"geopoint":return c.a.createElement(Be,{formState:t,dispatch:n,disabled:a})}},Ze=function(e,t,n,i){var r=Object(a.parseInt)(t);n(r?{type:"setField",field:{path:e,value:r},basePath:i}:{type:"unsetField",field:{path:e},basePath:i})},Xe=function(e){var t=e.analyzer,n=e.modalCid,a=Object(l.useState)(!1),r=Object(i.a)(a,2),o=r[0],s=r[1],u=Object(l.useState)(!1),h=Object(i.a)(u,2),p=h[0],g=h[1],m=function(){var e=Object(H.a)(V.a.mark((function e(){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().delete("/analyzer/".concat(t.name),{force:p});case 3:if(!(n=e.sent).body.error){e.next=8;break}arangoHelper.arangoError("Failure","Got unexpected server response: ".concat(n.body.errorMessage)),e.next=11;break;case 8:return arangoHelper.arangoNotification("Success","Deleted Analyzer: ".concat(t.name)),e.next=11,Object(d.b)("/analyzer");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),arangoHelper.arangoError("Failure","Got unexpected server response: ".concat(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"pure-button",onClick:function(){return s(!0)},style:{background:"transparent"}},c.a.createElement("i",{className:"fa fa-trash-o"})),c.a.createElement(T,{show:o,setShow:s,cid:n},c.a.createElement(b,{title:"Delete Analyzer ".concat(t.name,"?")}),c.a.createElement(x,null,c.a.createElement("p",null,"This Analyzer might be in use. Deleting it will impact the Views using it. Clicking on the ",c.a.createElement("b",null,"Delete")," button will only Delete the Analyzer if it is not in use."),c.a.createElement("p",null,"Select the ",c.a.createElement("b",null,"Force Delete")," option below if you want to delete the Analyzer even if it is being used."),c.a.createElement("label",{htmlFor:"force-delete",className:"pure-checkbox"},c.a.createElement("input",{id:"force-delete",type:"checkbox",checked:p,onChange:function(){g(!p)},style:{width:"auto"}})," Force Delete")),c.a.createElement(f,null,c.a.createElement("button",{className:"button-close",onClick:function(){return s(!1)}},"Close"),c.a.createElement("button",{className:"button-danger",style:{float:"right"},onClick:m},"Delete"))))},Ke=function(e){var t=e.analyzer,n=e.modalCid,r=Object(l.useState)(!1),o=Object(i.a)(r,2),s=o[0],d=o[1],u=Object(l.useState)(!1),h=Object(i.a)(u,2),p=h[0],g=h[1],v={formState:Object(a.pick)(t,"name","type","features","properties"),formCache:{},show:!1,showJsonForm:!1,lockJsonForm:!1,renderKey:""}.formState,y="",w=1;return p&&(w=(y=JSON.stringify(v,null,4)).split("\n").length),c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"pure-button",onClick:function(e){e.preventDefault(),d(!0)},style:{background:"transparent"}},c.a.createElement("i",{className:"fa fa-eye"})),c.a.createElement(T,{show:s,setShow:d,cid:n},c.a.createElement(b,{title:v.name},c.a.createElement("button",{className:"button-info",onClick:function(){g(!p)},style:{float:"right"}},p?"Switch to form view":"Switch to code view")),c.a.createElement(x,{maximize:!0,show:s},c.a.createElement(m,null,p?c.a.createElement(_,{size:"1"},c.a.createElement(Ie,{label:"JSON Dump",disabled:!0,value:y,rows:w,style:{cursor:"text"}})):c.a.createElement(c.a.Fragment,null,c.a.createElement(_,{size:"11-24"},c.a.createElement("fieldset",null,c.a.createElement("legend",{style:{fontSize:"12pt"}},"Basic"),c.a.createElement(fe,{formState:v,dispatch:a.noop,disabled:!0}))),c.a.createElement(_,{size:"1-12"}),c.a.createElement(_,{size:"11-24"},c.a.createElement("fieldset",null,c.a.createElement("legend",{style:{fontSize:"12pt"}},"Features"),c.a.createElement(ve,{formState:v,dispatch:a.noop,disabled:!0}))),"identity"===v.type?null:c.a.createElement(_,{size:"1"},c.a.createElement("fieldset",null,c.a.createElement("legend",{style:{fontSize:"12pt"}},"Configuration"),Je({formState:v,dispatch:a.noop})))))),c.a.createElement(f,null,c.a.createElement("button",{className:"button-close",onClick:function(){return d(!1)}},"Close"))))},et=function(e){var t=e.analyzer,n=e.permission,i=e.modalCidSuffix,a=t.name.includes("::"),r=a?t.name.split("::")[0]===frontendConfig.db:"_system"===frontendConfig.db,o="rw"===n||!frontendConfig.authenticationEnabled,s=a&&r&&o;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ke,{analyzer:t,modalCid:"modal-content-view-".concat(i)}),s?c.a.createElement(c.a.Fragment,null,"\xa0",c.a.createElement(Xe,{analyzer:t,modalCid:"modal-content-delete-".concat(i)})):null)},tt=n(227),nt=new be.a({allErrors:!0,verbose:!0,discriminator:!0,$data:!0});we()(nt);var it,at=nt.compile(ae),rt=function(e){var t=e.formState,n=e.dispatch,r=e.renderKey,o=Object(l.useState)([]),s=Object(i.a)(o,2),d=s[0],u=s[1],h=function(e){var t=Object(l.useRef)();return Object(l.useEffect)((function(){t.current=e})),t.current}(t),p=Object(l.useCallback)((function(e){Array.isArray(e)&&(n({type:"lockJsonForm"}),u(e.map((function(e){return Object(a.has)(e.params,"errors")?"\n              ".concat(e.params.errors[0].keyword," error: ").concat(e.instancePath).concat(e.message,".\n            "):"\n              ".concat(e.keyword," error: ").concat(e.instancePath," ").concat(e.message,".\n              Schema: ").concat(JSON.stringify(e.params),"\n            ")}))))}),[n]);return Object(l.useEffect)((function(){Object(a.isEqual)(h,t)||at(t)||p(at.errors)}),[t,h,p]),c.a.createElement(m,null,c.a.createElement(_,{size:"1"},c.a.createElement(tt.a,{value:t,onChange:function(e){at(e)?(n({type:"setFormState",formState:e}),n({type:"unlockJsonForm"}),u([])):p(at.errors)},mode:"code",history:!0,key:r})),d.length?c.a.createElement(_,{size:"1",style:{marginTop:35}},c.a.createElement("ul",{style:{color:"red"}},d.map((function(e,t){return c.a.createElement("li",{key:t,style:{marginBottom:5}},e)})))):null)},ot=se.a.i(it||(it=Object(oe.a)(["\n  &&& {\n    margin-left: auto;\n  }\n"]))),st=function(e){var t=e.analyzers,n=e.dispatch,r=Object(l.useState)(Object(a.sortBy)(t,"name")),o=Object(i.a)(r,2),s=o[0],d=o[1],u=Object(l.useState)(s[0]),h=Object(i.a)(u,2),p=h[0],f=h[1];Object(l.useEffect)((function(){d(Object(a.sortBy)(t,"name"))}),[t]),Object(l.useEffect)((function(){Object(a.find)(s,{name:p.name})||f(s[0])}),[p.name,s]);return c.a.createElement(m,null,c.a.createElement(_,{size:"2-3"},c.a.createElement("select",{value:p.name,style:{width:"auto",float:"right"},onChange:function(e){var t=Object(a.find)(s,{name:e.target.value});t||(t=s[0]),f(t)}},s.map((function(e,t){return c.a.createElement("option",{key:t,value:e.name},e.name," (",e.type,")")})))),c.a.createElement(_,{size:"1-3"},c.a.createElement("button",{className:"button-warning",onClick:function(){var e=Object(a.cloneDeep)(p);e.name="",Ye(e),n({type:"setFormState",formState:e}),n({type:"regenRenderKey"})}},c.a.createElement(ot,{className:"fa fa-hand-o-left"}),"\xa0Copy from")))},lt={name:"",type:"delimiter",features:[],properties:{delimiter:""}},ct={formState:Object(a.cloneDeep)(lt),formCache:Object(a.cloneDeep)(lt),show:!1,showJsonForm:!1,lockJsonForm:!1,renderKey:Object(a.uniqueId)("force_re-render_")},dt=function(e,t){var n=Object(a.cloneDeep)(e);switch(t.type){case"lockJsonForm":n.lockJsonForm=!0;break;case"unlockJsonForm":n.lockJsonForm=!1;break;case"show":n.show=!0;break;case"showJsonForm":n.showJsonForm=!0;break;case"hideJsonForm":n.showJsonForm=!1;break;case"regenRenderKey":n.renderKey=Object(a.uniqueId)("force_re-render_");break;case"setField":if(t.field&&void 0!==t.field.value){var i=Qe(t.basePath,t.field.path);if(Object(a.set)(n.formCache,i,t.field.value),"type"===t.field.path){var r=Object(a.cloneDeep)(n.formCache);Ye(r),n.formState=r,Object(a.merge)(n.formCache,n.formState)}else Object(a.set)(n.formState,i,t.field.value)}break;case"unsetField":if(t.field){var o=Qe(t.basePath,t.field.path);Object(a.unset)(n.formState,o),Object(a.unset)(n.formCache,o)}break;case"setFormState":t.formState&&(n.formState=t.formState,Object(a.merge)(n.formCache,n.formState));break;case"reset":return ct}return n},ut=function(e){var t=e.analyzers,n=Object(l.useReducer)(dt,ct),a=Object(i.a)(n,2),r=a[0],o=a[1],s=r.formState,u=function(){var e=Object(H.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().post("/analyzer/",s);case 3:if(!(t=e.sent).body.error){e.next=8;break}arangoHelper.arangoError("Failure","Got unexpected server response: ".concat(t.body.errorMessage)),e.next=12;break;case 8:return arangoHelper.arangoNotification("Success","Created Analyzer: ".concat(t.body.name)),e.next=11,Object(d.b)("/analyzer");case 11:o({type:"reset"});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),arangoHelper.arangoError("Failure","Got unexpected server response: ".concat(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"pure-button",onClick:function(){return o({type:"show"})},style:{background:"transparent",color:"white",paddingLeft:0,paddingTop:0}},c.a.createElement("i",{className:"fa fa-plus-circle"})," Add Analyzer"),c.a.createElement(T,{show:r.show,setShow:function(e){return o({type:e?"show":"reset"})},key:"".concat(t.length,"-").concat(r.show),cid:"modal-content-add-analyzer"},c.a.createElement(b,{title:"Create Analyzer"},c.a.createElement(m,null,c.a.createElement(_,{size:"2-3"},c.a.createElement(st,{analyzers:t,dispatch:o})),c.a.createElement(_,{size:"1-3"},c.a.createElement("button",{className:"button-info",onClick:function(){o({type:r.showJsonForm?"hideJsonForm":"showJsonForm"})},disabled:r.lockJsonForm,style:{float:"right"}},r.showJsonForm?"Switch to form view":"Switch to code view")))),c.a.createElement(x,{maximize:!0,show:r.show},c.a.createElement(m,null,r.showJsonForm?c.a.createElement(_,{size:"1"},c.a.createElement(rt,{formState:s,dispatch:o,renderKey:r.renderKey})):c.a.createElement(c.a.Fragment,null,c.a.createElement(_,{size:"11-24"},c.a.createElement("fieldset",null,c.a.createElement("legend",{style:{fontSize:"12pt"}},"Basic"),c.a.createElement(fe,{formState:s,dispatch:o}))),c.a.createElement(_,{size:"1-12"}),c.a.createElement(_,{size:"11-24"},c.a.createElement("fieldset",null,c.a.createElement("legend",{style:{fontSize:"12pt"}},"Features"),c.a.createElement(ve,{formState:s,dispatch:o}))),"identity"===s.type?null:c.a.createElement(_,{size:"1"},c.a.createElement("fieldset",null,c.a.createElement("legend",{style:{fontSize:"12pt"}},"Configuration"),Je({formState:s,dispatch:o,disabled:!1})))))),c.a.createElement(f,null,c.a.createElement("button",{className:"button-close",onClick:function(){return o({type:"reset"})}},"Close"),c.a.createElement("button",{className:"button-success",style:{float:"right"},onClick:u,disabled:r.lockJsonForm},"Create"))))};function ht(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ft=function(){var e=Object(l.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{href:"#analyzers",onClick:function(e){e.preventDefault(),a(!0)}},c.a.createElement("i",{className:"fa fa-question-circle",style:{marginTop:5,color:"rgb(85, 85, 85)",fontSize:"18px"}})),c.a.createElement(T,{show:n,setShow:a,cid:"modal-content-filter-help"},c.a.createElement(b,{title:"Filter Help"}),c.a.createElement(x,null,c.a.createElement("dl",null,c.a.createElement("dt",null,"Simple Usage"),c.a.createElement("dd",null,"Just type a few characters and the filter will show all analyzers which include the search string in their database, name or type."),c.a.createElement("dt",null,"Pattern Search"),c.a.createElement("dd",null,"Enter a\xa0",c.a.createElement("b",null,c.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://www.gnu.org/software/bash/manual/html_node/Pattern-Matching.html"},"glob")),"\xa0pattern and the filter will show all analyzers which match the pattern in their database, name or type. Note that the pattern is not anchored, and can match anywhere in a string."),c.a.createElement("dt",null,"Faceted Pattern Search"),c.a.createElement("dd",null,"Prefix the search pattern with ",c.a.createElement("code",null,"db:"),", ",c.a.createElement("code",null,"name:")," or ",c.a.createElement("code",null,"type:")," to restrict the pattern to that respective field. Multiple field-pattern combos can be entered, separated by a space."))),c.a.createElement(f,null,c.a.createElement("button",{className:"button-close",onClick:function(){return a(!1)}},"Close"))))},gt=function(){$("#analyzersToggle").toggleClass("activated"),$("#analyzersDropdown2").slideToggle(200)};window.AnalyzersReactView=function(){var e,t=Object(d.a)("/analyzer",(function(e){return j().get(e)})).data,n=Object(d.a)("/user/".concat(arangoHelper.getCurrentJwtUsername(),"/database/").concat(frontendConfig.db),(function(e){return j().get(e)})).data,r=Object(l.useState)(""),o=Object(i.a)(r,2),u=o[0],h=o[1],p=Object(l.useState)([]),f=Object(i.a)(p,2),g=f[0],v=f[1],b=Object(l.useState)([]),y=Object(i.a)(b,2),w=y[0],x=y[1],C=Object(l.useState)(!1),S=Object(i.a)(C,2),T=S[0],k=S[1],A=Object(l.useCallback)((function(e){e.forEach((function(e){e.db=e.name.includes("::")?e.name.split("::")[0]:"_system"})),T||(e=e.filter((function(e){return e.name.includes("::")}))),v(Object(a.sortBy)(e,["db","type","name"]))}),[T]);if(Object(l.useEffect)((function(){var e=w;if(u)try{var t,n=ht(u.trim().split(/\s+/));try{var i=function(){var n=t.value,i=n.indexOf(":"),a=n.slice(0,i),r=n.slice(i+1);e=e.filter((function(e){return s()(e[a].toLowerCase(),"*".concat(r.toLowerCase(),"*"))}))};for(n.s();!(t=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}}catch(r){e=e.filter((function(e){var t="*".concat(u.toLowerCase(),"*");return["db","name","type"].some((function(n){return s()(e[n].toLowerCase(),t)}))}))}A(e)}),[w,u,A]),t&&n){var P=n.body.result;return Object(a.isEqual)(Object(a.map)(t.body.result,"name"),Object(a.map)(w,"name"))||(x(t.body.result),A(t.body.result)),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"headerBar"},c.a.createElement("div",{className:"search-field"},c.a.createElement("input",{type:"text",id:"filterInput",className:"search-input",value:u,onChange:(e=h,function(t){e(t.currentTarget.value)}),placeholder:"Filter..."}),c.a.createElement("i",{id:"searchSubmit",className:"fa fa-search"})),c.a.createElement("div",{className:"headerButtonBar"},c.a.createElement("ul",{className:"headerButtonList"},c.a.createElement("li",{className:"enabled"},c.a.createElement(ft,null)),c.a.createElement("li",{className:"enabled"},c.a.createElement("a",{id:"analyzersToggle",className:"headerButton",href:"#analyzers",onClick:gt},c.a.createElement("span",{className:"icon_arangodb_settings2",title:"Settings"})))))),c.a.createElement("div",{id:"analyzersDropdown2",className:"headerDropdown"},c.a.createElement("div",{id:"analyzersDropdown",className:"dropdownInner"},c.a.createElement("ul",null,c.a.createElement("li",{className:"nav-header"},"System"),c.a.createElement("li",null,c.a.createElement("a",{href:"#analyzers"},c.a.createElement("label",{className:"checkbox checkboxLabel"},c.a.createElement("input",{className:"css-checkbox",type:"checkbox",onChange:function(){k(!T)}}),c.a.createElement("i",{className:"fa ".concat(T?"fa-check-square-o":"fa-square-o")}),"Built-in")))))),c.a.createElement("div",{className:"contentDiv",id:"analyzersContent",style:{paddingTop:0}},c.a.createElement(m,null,c.a.createElement(_,{size:"1"},c.a.createElement("div",{className:"sectionHeader"},c.a.createElement("div",{className:"title"},c.a.createElement(ut,{analyzers:w}))),c.a.createElement("table",{className:"arango-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"arango-table-th table-cell0"},"DB"),c.a.createElement("th",{className:"arango-table-th table-cell1"},"Name"),c.a.createElement("th",{className:"arango-table-th table-cell2"},"Type"),c.a.createElement("th",{className:"arango-table-th table-cell3"},"Actions"))),c.a.createElement("tbody",null,g.length?g.map((function(e,t){return c.a.createElement("tr",{key:e.name},c.a.createElement("td",{className:"arango-table-td table-cell0"},e.db),c.a.createElement("td",{className:"arango-table-td table-cell1"},e.name),c.a.createElement("td",{className:"arango-table-td table-cell2"},F[e.type]),c.a.createElement("td",{className:"arango-table-td table-cell3"},c.a.createElement(et,{analyzer:e,permission:P,modalCidSuffix:t})))})):c.a.createElement("tr",null,c.a.createElement("td",{className:"arango-table-td table-cell0",colSpan:4},"No analyzers found."))))))))}return c.a.createElement("h1",null,"Analyzers")}},function(e,t,n){"use strict";n.r(t);var i=n(23),a=n(24),r=(n(234),n(0)),o=n.n(r),s=n(25),l=n.n(s),c=n(228),d=n(230),u=n(229),h=n(70);n(243);function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(u.a)(this,n)}}var f=n(245),g=n(94);n(303);var m=n(304);n(589);var v=n(53);n(388);var _=n(223),b=n(389),y=n(390),w=n(391),x=n(392),C=n(416),S=n(417);function T(e){e.keys().forEach(e),_.each(e.keys(),(function(e){if(".ejs"===e.substring(e.length-4,e.length)){var t=e.substring(2,e.length),i=e.substring(2,e.length-4);window.JST["templates/"+i]=n(68)("./"+t)}}))}n(418),n(420),n(422),n(424),n(426),n(428),n(430),n(432),n(434),n(436),n(438),n(440),n(442),n(444),n(446),n(448),window.JST={},T(n(68)),C.registerLanguage("json",S),window.hljs=C,window.Noty=y,window.React=o.a,window.ReactDOM=l.a,window.Joi=n(537),window.jQuery=window.$=v,window.parsePrometheusTextFormat=m,n(538),window._=_,n(539),n(540),window.frontendConfig,n(541),n(542),n(543),n(544),n(545),n(548),n(549),n(550),n(551),T(n(552)),T(n(553)),T(n(554)),window.tippy=n(555),n(556),window.numeral=n(557),window.JSONEditor=f,window.define=window.ace.define,window.aqltemplates=n(558),window.d3=g,n(559),n(560),window.prettyBytes=n(561),window.Dygraph=n(562),n(563),window.moment=n(564),window.sigma=b,window.marked=w,window.CryptoJS=x,n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),window.Raphael=n(586),window.icon=n(587),window.randomColor=n(588);var k=function(e){Object(d.a)(n,e);var t=p(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"})}}]),n}(r.Component),A=n(47),P=n(30),E=n(7),D={shortToServer:new Map,serverToShort:new Map,selected:"",shardDistribution:{}},O=function(e){for(var t=new Map,n=new Map,i=0,a=Object.entries(e);i<a.length;i++){var r=a[i],o=Object(E.a)(r,2),s=o[0],l=o[1];l.hasOwnProperty("ShortName")&&(t.set(s,l.ShortName),n.set(l.ShortName,s))}return{serverToShort:t,shortToServer:n}},M=function(e,t){var n=e.selected,i=e.shardDistribution;return 1===Object.keys(t).length?t.hasOwnProperty(n)?Object(P.a)({},i,t):i:t},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@cluster/checkHealthSuccess":var n=O(t.payload),i=n.serverToShort,a=n.shortToServer;return Object(P.a)({},e,{serverToShort:i,shortToServer:a});case"@@cluster/fetchShardDetails":return Object(P.a)({},e,{selected:t.payload});case"@@cluster/fetchShardDetailsSuccess":var r=M(e,t.payload);return Object(P.a)({},e,{shardDistribution:r});case"@@cluster/unselectShardDetails":return Object(P.a)({},e,{selected:""});default:return e}},N=n(5),L=n.n(N),R=n(16),j=n(56),$=function(e){return{type:"@@cluster/checkHealthSuccess",payload:e}},B=function(e){return{type:"@@cluster/fetchShardDetailsSuccess",payload:e}},V=function(e){console.log(e)},H=new(function(){function e(){var t;Object(i.a)(this,e);t=window.location.origin,this.db=new j.Database({url:t}),this.clusterApi=this.db.route("_admin/cluster")}return Object(a.a)(e,[{key:"fetchShardSpecifics",value:function(){var e=Object(R.a)(L.a.mark((function e(t){var n,i,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.clusterApi.put("collectionShardDistribution",{collection:t});case 2:n=e.sent,i=n.body,200===(a=n.statusCode)?Y.dispatch(B(i.results)):V({message:"Collection ".concat(t," shard distribution resulted in HTTP Code: ").concat(a)});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchShardsOverview",value:function(){var e=Object(R.a)(L.a.mark((function e(){var t,n,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.clusterApi.get("shardDistribution");case 2:t=e.sent,n=t.body,200===(i=t.statusCode)?Y.dispatch(B(n.results)):V({message:"Shard distribution overview resulted in HTTP Code: ".concat(i)});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"triggerRebalanceShards",value:function(){var e=Object(R.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.clusterApi.post("rebalanceShards",{});case 2:t=e.sent,201!==(n=t.statusCode)&&V({message:"Failed to trigger shard rebalancing. HTTP Code: ".concat(n)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"triggerMoveShard",value:function(){var e=Object(R.a)(L.a.mark((function e(t){var n,i,a,r,o,s,l;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collection,i=t.shard,a=t.fromServer,r=t.toServer,e.next=3,this.clusterApi.post("moveShard",{database:this.db.name,collection:n,shard:i,fromServer:a,toServer:r});case 3:o=e.sent,s=o.body,202!==(l=o.statusCode)&&V({message:"Failed to trigger shard move. HTTP Code: ".concat(l,", response: ").concat(s)});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clusterCheckHealth",value:function(){var e=Object(R.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.clusterApi.get("health");case 2:t=e.sent,n=t.body,200===t.statusCode&&Y.dispatch($(n.Health));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),F=new Proxy(H,{get:function(e,t){var n=e[t];return"function"===typeof n?Object(R.a)(L.a.mark((function t(){var i=arguments;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.apply(e,i);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),V(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))):n}}),z=function(e){return function(e){return function(t){switch(t.type){case"@@cluster/fetchShardDetails":F.fetchShardSpecifics(t.payload);break;case"@@cluster/fetchShardOverview":F.fetchShardsOverview();break;case"@@cluster/rebalanceShards":F.triggerRebalanceShards();break;case"@@cluster/moveShard":F.triggerMoveShard(t.payload)}return e(t)}}},U=function(e){return function(e){return function(t){return e(t)}}},W=Object(A.b)({cluster:I}),q={cluster:D},G=Object(A.a)(z,U);var Y=Object(A.c)(W,q,G);function Q(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Z=function(){var e=Object(R.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=new(function(){function e(){Object(i.a)(this,e),this.todoList=new Map,this.repeatAll()}return Object(a.a)(e,[{key:"registerTask",value:function(e,t){this.todoList.set(e,t)}},{key:"stopTask",value:function(e){this.todoList.delete(e)}},{key:"repeatAll",value:function(){var e=Object(R.a)(L.a.mark((function e(){var t,n,i,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.todoList.size>0){t=Q(this.todoList);try{for(t.s();!(n=t.n()).done;)i=n.value,a=Object(E.a)(i,2),a[1].execute()}catch(r){t.e(r)}finally{t.f()}}return e.next=4,Z(1e4);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}());l.a.render(o.a.createElement(c.a,{store:Y},o.a.createElement(k,null)),document.getElementById("root"));var K=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"execute",value:function(){Y.dispatch({type:"@@cluster/checkHealth"})}}]),e}();window.frontendConfig.isCluster&&X.registerTask("healthCheck",new K)}]),[[233,1,2]]]);
//# sourceMappingURL=main.e4294146.chunk.js.map
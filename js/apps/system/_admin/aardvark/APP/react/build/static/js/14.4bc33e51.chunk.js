(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{472:function(e,n){(function(){(function(){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";function e(e,n){sigma.classes.dispatcher.extend(this);var t=this,r=e,i=document.body,o=n,d=n.container.lastChild,a=n.camera,s=null,u="",l=[],c={},g=!1,v=!1;function m(e){c[e.data.node.id]||(l.push(e.data.node),c[e.data.node.id]=!0,l.length&&!g&&(s=l[l.length-1],d.addEventListener("mousedown",f)))}function p(e){var n=l.map(function(e){return e}).indexOf(e.data.node);l.splice(n,1),delete c[e.data.node.id],l.length&&!g?s=l[l.length-1]:d.removeEventListener("mousedown",f)}function f(e){g=!0;var n=r.graph.nodes().length;if(s&&n>1){var a,u;for(a in d.removeEventListener("mousedown",f),i.addEventListener("mousemove",b),i.addEventListener("mouseup",h),r.cameras)void 0!==(u=r.cameras[a]).edgequadtree&&(u.edgequadtree._enabled=!1);o.settings({mouseEnabled:!1,enableHovering:!1}),r.refresh(),t.dispatchEvent("startdrag",{node:s,captor:e,renderer:o})}}function h(e){var n,a;for(n in g=!1,d.addEventListener("mousedown",f),i.removeEventListener("mousemove",b),i.removeEventListener("mouseup",h),r.cameras)void 0!==(a=r.cameras[n]).edgequadtree&&(a.edgequadtree._enabled=!0);o.settings({mouseEnabled:!0,enableHovering:!0}),r.refresh(),v&&t.dispatchEvent("drop",{node:s,captor:e,renderer:o}),t.dispatchEvent("dragend",{node:s,captor:e,renderer:o}),v=!1,s=null}function b(e){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){clearTimeout(n);var n=setTimeout(i,0)}else i();function i(){for(var n=function(e){var n=window.getComputedStyle(e),t=function(e){return parseInt(n.getPropertyValue(e).replace("px",""))||0};return{left:e.getBoundingClientRect().left+t("padding-left"),top:e.getBoundingClientRect().top+t("padding-top")}}(o.container),i=e.clientX-n.left,d=e.clientY-n.top,l=Math.cos(a.angle),c=Math.sin(a.angle),g=r.graph.nodes(),m=[],p=0;p<2;p++){var f=g[p],h={x:f.x*l+f.y*c,y:f.y*l-f.x*c,renX:f[u+"x"],renY:f[u+"y"]};m.push(h)}if(m[0].x===m[1].x&&m[0].y===m[1].y){var b=0===m[0].renX?1:m[0].renX,w=0===m[0].renY?1:m[0].renY;i=m[0].x/b*(i-m[0].renX)+m[0].x,d=m[0].y/w*(d-m[0].renY)+m[0].y}else{b=(m[1].renX-m[0].renX)/(m[1].x-m[0].x),w=(m[1].renY-m[0].renY)/(m[1].y-m[0].y);m[1].x===m[0].x&&(b=w),m[1].y===m[0].y&&(w=b),i=(i-m[0].renX)/b+m[0].x,d=(d-m[0].renY)/w+m[0].y}s.x=i*l-d*c,s.y=d*l+i*c,r.refresh(),v=!0,t.dispatchEvent("drag",{node:s,captor:e,renderer:o})}}n instanceof sigma.renderers.svg&&(d=n.container.firstChild),u=n instanceof sigma.renderers.webgl?n.options.prefix.substr(5):n.options.prefix,n.bind("overNode",m),n.bind("outNode",p),n.bind("click",function(e){g=!1,i.removeEventListener("mousemove",b),i.removeEventListener("mouseup",h),l.length||(s=null)}),r.bind("kill",function(){t.unbindAll()}),this.unbindAll=function(){d.removeEventListener("mousedown",f),i.removeEventListener("mousemove",b),i.removeEventListener("mouseup",h),o.unbind("overNode",m),o.unbind("outNode",p)}}sigma.utils.pkg("sigma.plugins");var n={};sigma.plugins.dragNodes=function(t,r){return n[t.id]||(n[t.id]=new e(t,r)),t.bind("kill",function(){sigma.plugins.killDragNodes(t)}),n[t.id]},sigma.plugins.killDragNodes=function(t){n[t.id]instanceof e&&(n[t.id].unbindAll(),delete n[t.id])}}).call(window)}).call(window)}}]);
//# sourceMappingURL=14.4bc33e51.chunk.js.map
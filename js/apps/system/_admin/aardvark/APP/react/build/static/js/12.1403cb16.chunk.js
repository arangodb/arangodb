(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{470:function(n,i){(function(){(function(n){"use strict";if("undefined"===typeof sigma)throw new Error("sigma is not declared");sigma.utils.pkg("sigma.layout.noverlap");var i={speed:3,scaleNodes:1.2,nodeMargin:5,gridSize:20,permittedExpansion:1.1,rendererIndex:0,maxIterations:500},s={},t={};function o(){var n=this;this.init=function(n,s){if(s=s||{},this.sigInst=n,this.config=sigma.utils.extend(s,i),this.easing=s.easing,this.duration=s.duration,s.nodes&&(this.nodes=s.nodes,delete s.nodes),!sigma.plugins||"undefined"===typeof sigma.plugins.animate)throw new Error("sigma.plugins.animate is not declared");this.running=!1},this.atomicGo=function(){if(!this.running||this.iterCount<1)return!1;var i,s,t,o,e,d,r,g,a,f,c,h,l,u,p,x,_,m,y,M,z,v=this.nodes||this.sigInst.graph.nodes(),I=v.length,w=1/0,E=-1/0,N=1/0,S=-1/0;for(this.iterCount--,this.running=!1,i=0;i<I;i++)(s=v[i]).dn.dx=0,s.dn.dy=0,w=Math.min(w,s.dn_x-(s.dn_size*n.config.scaleNodes+n.config.nodeMargin)),E=Math.max(E,s.dn_x+(s.dn_size*n.config.scaleNodes+n.config.nodeMargin)),N=Math.min(N,s.dn_y-(s.dn_size*n.config.scaleNodes+n.config.nodeMargin)),S=Math.max(S,s.dn_y+(s.dn_size*n.config.scaleNodes+n.config.nodeMargin));for(o=E-w,e=S-N,r=(N+S)/2,w=(d=(w+E)/2)-n.config.permittedExpansion*o/2,E=d+n.config.permittedExpansion*o/2,N=r-n.config.permittedExpansion*e/2,S=r+n.config.permittedExpansion*e/2,g={},a=0;a<n.config.gridSize;a++)for(g[a]={},f=0;f<n.config.gridSize;f++)g[a][f]=[];for(i=0;i<I;i++)for(m=(s=v[i]).dn_x-(s.dn_size*n.config.scaleNodes+n.config.nodeMargin),y=s.dn_x+(s.dn_size*n.config.scaleNodes+n.config.nodeMargin),M=s.dn_y-(s.dn_size*n.config.scaleNodes+n.config.nodeMargin),z=s.dn_y+(s.dn_size*n.config.scaleNodes+n.config.nodeMargin),c=Math.floor(n.config.gridSize*(m-w)/(E-w)),h=Math.floor(n.config.gridSize*(y-w)/(E-w)),l=Math.floor(n.config.gridSize*(M-N)/(S-N)),u=Math.floor(n.config.gridSize*(z-N)/(S-N)),f=c;f<=h;f++)for(a=l;a<=u;a++)g[a][f].push(s.id);for(p={},a=0;a<n.config.gridSize;a++)for(f=0;f<n.config.gridSize;f++)g[a][f].forEach(function(i){for(p[i]||(p[i]=[]),x=Math.max(0,a-1);x<=Math.min(a+1,n.config.gridSize-1);x++)for(_=Math.max(0,f-1);_<=Math.min(f+1,n.config.gridSize-1);_++)g[x][_].forEach(function(n){n!==i&&-1===p[i].indexOf(n)&&p[i].push(n)})});for(i=0;i<I;i++)t=v[i],p[t.id].forEach(function(i){var s=n.sigInst.graph.nodes(i),d=s.dn_x-t.dn_x,r=s.dn_y-t.dn_y,g=Math.sqrt(d*d+r*r);g<t.dn_size*n.config.scaleNodes+n.config.nodeMargin+(s.dn_size*n.config.scaleNodes+n.config.nodeMargin)&&(n.running=!0,g>0?(s.dn.dx+=d/g*(1+t.dn_size),s.dn.dy+=r/g*(1+t.dn_size)):(s.dn.dx+=.01*o*(.5-Math.random()),s.dn.dy+=.01*e*(.5-Math.random())))});for(i=0;i<I;i++)(s=v[i]).fixed||(s.dn_x=s.dn_x+.1*s.dn.dx*n.config.speed,s.dn_y=s.dn_y+.1*s.dn.dy*n.config.speed);return this.running&&this.iterCount<1&&(this.running=!1),this.running},this.go=function(){for(this.iterCount=this.config.maxIterations;this.running;)this.atomicGo();this.stop()},this.start=function(){if(!this.running){var i=this.sigInst.graph.nodes(),s=this.sigInst.renderers[n.config.rendererIndex].options.prefix;this.running=!0;for(var o=0;o<i.length;o++)i[o].dn_x=i[o][s+"x"],i[o].dn_y=i[o][s+"y"],i[o].dn_size=i[o][s+"size"],i[o].dn={dx:0,dy:0};t[n.sigInst.id].dispatchEvent("start"),this.go()}},this.stop=function(){var i=this.sigInst.graph.nodes();if(this.running=!1,this.easing)t[n.sigInst.id].dispatchEvent("interpolate"),sigma.plugins.animate(n.sigInst,{x:"dn_x",y:"dn_y"},{easing:n.easing,onComplete:function(){n.sigInst.refresh();for(var s=0;s<i.length;s++)i[s].dn=null,i[s].dn_x=null,i[s].dn_y=null;t[n.sigInst.id].dispatchEvent("stop")},duration:n.duration});else{for(var s=0;s<i.length;s++)i[s].x=i[s].dn_x,i[s].y=i[s].dn_y;this.sigInst.refresh();for(s=0;s<i.length;s++)i[s].dn=null,i[s].dn_x=null,i[s].dn_y=null;t[n.sigInst.id].dispatchEvent("stop")}},this.kill=function(){this.sigInst=null,this.config=null,this.easing=null}}sigma.prototype.configNoverlap=function(n){var i=this;if(!n)throw new Error('Missing argument: "config"');return s[i.id]||(s[i.id]=new o,t[i.id]={},sigma.classes.dispatcher.extend(t[i.id]),i.bind("kill",function(){s[i.id].kill(),s[i.id]=null,t[i.id]=null})),s[i.id].init(i,n),t[i.id]},sigma.prototype.startNoverlap=function(n){return n&&this.configNoverlap(this,n),s[this.id].start(),t[this.id]},sigma.prototype.isNoverlapRunning=function(){return!!s[this.id]&&s[this.id].running}}).call(this)}).call(window)}}]);
//# sourceMappingURL=12.1403cb16.chunk.js.map
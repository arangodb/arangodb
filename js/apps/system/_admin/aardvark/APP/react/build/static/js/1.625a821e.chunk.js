(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{459:function(module,exports){(function(){(function(undefined){"use strict";function Supervisor(sigInst,options){var _this=this,workerFn=sigInst.getForceAtlas2Worker&&sigInst.getForceAtlas2Worker();if(options=options||{},_root.URL=_root.URL||_root.webkitURL,this.sigInst=sigInst,this.graph=this.sigInst.graph,this.ppn=10,this.ppe=3,this.config={},this.shouldUseWorker=!1!==options.worker&&webWorkers,this.workerUrl=options.workerUrl,this.started=!1,this.running=!1,this.shouldUseWorker){if(this.workerUrl)this.worker=new Worker(this.workerUrl);else{var blob=this.makeBlob(workerFn);this.worker=new Worker(URL.createObjectURL(blob))}this.worker.postMessage=this.worker.webkitPostMessage||this.worker.postMessage}else eval(workerFn);this.msgName=this.worker?"message":"newCoords",this.listener=function(t){_this.nodesByteArray=new Float32Array(t.data.nodes),_this.running&&(_this.applyLayoutChanges(),_this.sendByteArrayToWorker(),_this.sigInst.refresh())},(this.worker||document).addEventListener(this.msgName,this.listener),this.graphToByteArrays(),sigInst.bind("kill",function(){sigInst.killForceAtlas2()})}if("undefined"==typeof sigma)throw"sigma is not declared";var _root=this,webWorkers="Worker"in _root;Supervisor.prototype.makeBlob=function(t){var e;try{e=new Blob([t],{type:"application/javascript"})}catch(s){_root.BlobBuilder=_root.BlobBuilder||_root.WebKitBlobBuilder||_root.MozBlobBuilder,(e=new BlobBuilder).append(t),e=e.getBlob()}return e},Supervisor.prototype.graphToByteArrays=function(){var t,e,s,r=this.graph.nodes(),i=this.graph.edges(),o=r.length*this.ppn,n=i.length*this.ppe,a={};for(this.nodesByteArray=new Float32Array(o),this.edgesByteArray=new Float32Array(n),t=e=0,s=r.length;t<s;t++)a[r[t].id]=e,this.nodesByteArray[e]=r[t].x,this.nodesByteArray[e+1]=r[t].y,this.nodesByteArray[e+2]=0,this.nodesByteArray[e+3]=0,this.nodesByteArray[e+4]=0,this.nodesByteArray[e+5]=0,this.nodesByteArray[e+6]=1+this.graph.degree(r[t].id),this.nodesByteArray[e+7]=1,this.nodesByteArray[e+8]=r[t].size,this.nodesByteArray[e+9]=0,e+=this.ppn;for(t=e=0,s=i.length;t<s;t++)this.edgesByteArray[e]=a[i[t].source],this.edgesByteArray[e+1]=a[i[t].target],this.edgesByteArray[e+2]=i[t].weight||0,e+=this.ppe},Supervisor.prototype.applyLayoutChanges=function(){for(var t=this.graph.nodes(),e=0,s=0,r=this.nodesByteArray.length;s<r;s+=this.ppn)t[e].x=this.nodesByteArray[s],t[e].y=this.nodesByteArray[s+1],e++},Supervisor.prototype.sendByteArrayToWorker=function(t){var e={action:t||"loop",nodes:this.nodesByteArray.buffer},s=[this.nodesByteArray.buffer];"start"===t&&(e.config=this.config||{},e.edges=this.edgesByteArray.buffer,s.push(this.edgesByteArray.buffer)),this.shouldUseWorker?this.worker.postMessage(e,s):_root.postMessage(e,"*")},Supervisor.prototype.start=function(){if(!this.running){var t;for(t in this.running=!0,this.sigInst.cameras)this.sigInst.cameras[t].edgequadtree._enabled=!1;this.started?this.sendByteArrayToWorker():(this.sendByteArrayToWorker("start"),this.started=!0)}},Supervisor.prototype.stop=function(){if(this.running){var t,e,s;for(t in this.sigInst.cameras)(e=this.sigInst.cameras[t]).edgequadtree._enabled=!0,s=sigma.utils.getBoundaries(this.graph,e.readPrefix),e.settings("drawEdges")&&e.settings("enableEdgeHovering")&&e.edgequadtree.index(this.sigInst.graph,{prefix:e.readPrefix,bounds:{x:s.minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}});this.running=!1}},Supervisor.prototype.killWorker=function(){this.worker?this.worker.terminate():(_root.postMessage({action:"kill"},"*"),document.removeEventListener(this.msgName,this.listener))},Supervisor.prototype.configure=function(t){if(this.config=t,this.started){var e={action:"config",config:this.config};this.shouldUseWorker?this.worker.postMessage(e):_root.postMessage(e,"*")}},sigma.prototype.startForceAtlas2=function(t){return this.supervisor||(this.supervisor=new Supervisor(this,t)),t&&this.supervisor.configure(t),this.supervisor.start(),this},sigma.prototype.stopForceAtlas2=function(){return this.supervisor?(this.supervisor.stop(),this):this},sigma.prototype.killForceAtlas2=function(){return this.supervisor?(this.supervisor.stop(),this.supervisor.killWorker(),this.supervisor=null,this):this},sigma.prototype.configForceAtlas2=function(t){return this.supervisor||(this.supervisor=new Supervisor(this,t)),this.supervisor.configure(t),this},sigma.prototype.isForceAtlas2Running=function(t){return!!this.supervisor&&this.supervisor.running}}).call(this),function(undefined){"use strict";function no_crush(t){var e,s,r,i=["x","y","dx","dy","old_dx","old_dy","mass","convergence","size","fixed"],o=["source","target","weight"],n=["node","centerX","centerY","size","nextSibling","firstChild","mass","massCenterX","massCenterY"];for(s=0,r=n.length;s<r;s++)e=new RegExp("rp\\(([^,]*), '"+n[s]+"'\\)","g"),t=t.replace(e,0===s?"$1":"$1 + "+s);for(s=0,r=i.length;s<r;s++)e=new RegExp("np\\(([^,]*), '"+i[s]+"'\\)","g"),t=t.replace(e,0===s?"$1":"$1 + "+s);for(s=0,r=o.length;s<r;s++)e=new RegExp("ep\\(([^,]*), '"+o[s]+"'\\)","g"),t=t.replace(e,0===s?"$1":"$1 + "+s);return t}function getWorkerFn(){return";("+(crush?crush(Worker.toString()):Worker.toString())+").call(this);"}var _root=this,inWebWorker=!("document"in _root),Worker=function(t){function e(t){h.settings=function(){var t,e,s={};for(t=arguments.length-1;t>=0;t--)for(e in arguments[t])s[e]=arguments[t][e];return s}(t,h.settings)}function s(){var t,e,s,r,a,p,g,u,d,l,c,f,y,w,v,k,m,b,M;for(s=0;s<h.nodesLength;s+=h.ppn)i[s+4]=i[s+2],i[s+5]=i[s+3],i[s+2]=0,i[s+3]=0;if(h.settings.outboundAttractionDistribution){for(d=0,s=0;s<h.nodesLength;s+=h.ppn)d+=i[s+6];d/=h.nodesLength}if(h.settings.barnesHutOptimize){var A,B,W=1/0,L=-1/0,F=1/0,x=-1/0;for(n=[],s=0;s<h.nodesLength;s+=h.ppn)W=Math.min(W,i[s]),L=Math.max(L,i[s]),F=Math.min(F,i[s+1]),x=Math.max(x,i[s+1]);for(n[0]=-1,n[1]=(W+L)/2,n[2]=(F+x)/2,n[3]=Math.max(L-W,x-F),n[4]=-1,n[5]=-1,n[6]=0,n[7]=0,n[8]=0,t=1,s=0;s<h.nodesLength;s+=h.ppn)for(e=0;;)if(n[e+5]>=0)A=i[s]<n[e+1]?i[s+1]<n[e+2]?n[e+5]:n[e+5]+h.ppr:i[s+1]<n[e+2]?n[e+5]+2*h.ppr:n[e+5]+3*h.ppr,n[e+7]=(n[e+7]*n[e+6]+i[s]*i[s+6])/(n[e+6]+i[s+6]),n[e+8]=(n[e+8]*n[e+6]+i[s+1]*i[s+6])/(n[e+6]+i[s+6]),n[e+6]+=i[s+6],e=A;else{if(n[e]<0){n[e]=s;break}if(n[e+5]=t*h.ppr,g=n[e+3]/2,u=n[e+5],n[u]=-1,n[u+1]=n[e+1]-g,n[u+2]=n[e+2]-g,n[u+3]=g,n[u+4]=u+h.ppr,n[u+5]=-1,n[u+6]=0,n[u+7]=0,n[u+8]=0,u+=h.ppr,n[u]=-1,n[u+1]=n[e+1]-g,n[u+2]=n[e+2]+g,n[u+3]=g,n[u+4]=u+h.ppr,n[u+5]=-1,n[u+6]=0,n[u+7]=0,n[u+8]=0,u+=h.ppr,n[u]=-1,n[u+1]=n[e+1]+g,n[u+2]=n[e+2]-g,n[u+3]=g,n[u+4]=u+h.ppr,n[u+5]=-1,n[u+6]=0,n[u+7]=0,n[u+8]=0,u+=h.ppr,n[u]=-1,n[u+1]=n[e+1]+g,n[u+2]=n[e+2]+g,n[u+3]=g,n[u+4]=n[e+4],n[u+5]=-1,n[u+6]=0,n[u+7]=0,n[u+8]=0,t+=4,A=i[n[e]]<n[e+1]?i[n[e]+1]<n[e+2]?n[e+5]:n[e+5]+h.ppr:i[n[e]+1]<n[e+2]?n[e+5]+2*h.ppr:n[e+5]+3*h.ppr,n[e+6]=i[n[e]+6],n[e+7]=i[n[e]],n[e+8]=i[n[e]+1],n[A]=n[e],n[e]=-1,A!==(B=i[s]<n[e+1]?i[s+1]<n[e+2]?n[e+5]:n[e+5]+h.ppr:i[s+1]<n[e+2]?n[e+5]+2*h.ppr:n[e+5]+3*h.ppr)){n[B]=s;break}e=A}}if(h.settings.barnesHutOptimize)for(l=h.settings.scalingRatio,s=0;s<h.nodesLength;s+=h.ppn)for(e=0;;)if(n[e+5]>=0){if(w=Math.sqrt(Math.pow(i[s]-n[e+7],2)+Math.pow(i[s+1]-n[e+8],2)),2*n[e+3]/w<h.settings.barnesHutTheta){if(c=i[s]-n[e+7],f=i[s+1]-n[e+8],h.settings.adjustSizes?w>0?(v=l*i[s+6]*n[e+6]/w/w,i[s+2]+=c*v,i[s+3]+=f*v):w<0&&(v=-l*i[s+6]*n[e+6]/w,i[s+2]+=c*v,i[s+3]+=f*v):w>0&&(v=l*i[s+6]*n[e+6]/w/w,i[s+2]+=c*v,i[s+3]+=f*v),n[e+4]<0)break;e=n[e+4];continue}e=n[e+5]}else{if(n[e]>=0&&n[e]!==s&&(c=i[s]-i[n[e]],f=i[s+1]-i[n[e]+1],w=Math.sqrt(c*c+f*f),h.settings.adjustSizes?w>0?(v=l*i[s+6]*i[n[e]+6]/w/w,i[s+2]+=c*v,i[s+3]+=f*v):w<0&&(v=-l*i[s+6]*i[n[e]+6]/w,i[s+2]+=c*v,i[s+3]+=f*v):w>0&&(v=l*i[s+6]*i[n[e]+6]/w/w,i[s+2]+=c*v,i[s+3]+=f*v)),n[e+4]<0)break;e=n[e+4]}else for(l=h.settings.scalingRatio,r=0;r<h.nodesLength;r+=h.ppn)for(a=0;a<r;a+=h.ppn)c=i[r]-i[a],f=i[r+1]-i[a+1],h.settings.adjustSizes?(w=Math.sqrt(c*c+f*f)-i[r+8]-i[a+8])>0?(v=l*i[r+6]*i[a+6]/w/w,i[r+2]+=c*v,i[r+3]+=f*v,i[a+2]+=c*v,i[a+3]+=f*v):w<0&&(v=100*l*i[r+6]*i[a+6],i[r+2]+=c*v,i[r+3]+=f*v,i[a+2]-=c*v,i[a+3]-=f*v):(w=Math.sqrt(c*c+f*f))>0&&(v=l*i[r+6]*i[a+6]/w/w,i[r+2]+=c*v,i[r+3]+=f*v,i[a+2]-=c*v,i[a+3]-=f*v);for(u=h.settings.gravity/h.settings.scalingRatio,l=h.settings.scalingRatio,s=0;s<h.nodesLength;s+=h.ppn)v=0,c=i[s],f=i[s+1],w=Math.sqrt(Math.pow(c,2)+Math.pow(f,2)),h.settings.strongGravityMode?w>0&&(v=l*i[s+6]*u):w>0&&(v=l*i[s+6]*u/w),i[s+2]-=c*v,i[s+3]-=f*v;for(l=1*(h.settings.outboundAttractionDistribution?d:1),p=0;p<h.edgesLength;p+=h.ppe)r=o[p],a=o[p+1],g=o[p+2],y=Math.pow(g,h.settings.edgeWeightInfluence),c=i[r]-i[a],f=i[r+1]-i[a+1],h.settings.adjustSizes?(w=Math.sqrt(Math.pow(c,2)+Math.pow(f,2)-i[r+8]-i[a+8]),h.settings.linLogMode?h.settings.outboundAttractionDistribution?w>0&&(v=-l*y*Math.log(1+w)/w/i[r+6]):w>0&&(v=-l*y*Math.log(1+w)/w):h.settings.outboundAttractionDistribution?w>0&&(v=-l*y/i[r+6]):w>0&&(v=-l*y)):(w=Math.sqrt(Math.pow(c,2)+Math.pow(f,2)),h.settings.linLogMode?h.settings.outboundAttractionDistribution?w>0&&(v=-l*y*Math.log(1+w)/w/i[r+6]):w>0&&(v=-l*y*Math.log(1+w)/w):h.settings.outboundAttractionDistribution?(w=1,v=-l*y/i[r+6]):(w=1,v=-l*y)),w>0&&(i[r+2]+=c*v,i[r+3]+=f*v,i[a+2]-=c*v,i[a+3]-=f*v);if(h.settings.adjustSizes)for(s=0;s<h.nodesLength;s+=h.ppn)i[s+9]||((k=Math.sqrt(Math.pow(i[s+2],2)+Math.pow(i[s+3],2)))>h.maxForce&&(i[s+2]=i[s+2]*h.maxForce/k,i[s+3]=i[s+3]*h.maxForce/k),m=i[s+6]*Math.sqrt((i[s+4]-i[s+2])*(i[s+4]-i[s+2])+(i[s+5]-i[s+3])*(i[s+5]-i[s+3])),b=Math.sqrt((i[s+4]+i[s+2])*(i[s+4]+i[s+2])+(i[s+5]+i[s+3])*(i[s+5]+i[s+3]))/2,M=.1*Math.log(1+b)/(1+Math.sqrt(m)),i[s]=i[s]+i[s+2]*(M/h.settings.slowDown),i[s+1]=i[s+1]+i[s+3]*(M/h.settings.slowDown));else for(s=0;s<h.nodesLength;s+=h.ppn)i[s+9]||(m=i[s+6]*Math.sqrt((i[s+4]-i[s+2])*(i[s+4]-i[s+2])+(i[s+5]-i[s+3])*(i[s+5]-i[s+3])),b=Math.sqrt((i[s+4]+i[s+2])*(i[s+4]+i[s+2])+(i[s+5]+i[s+3])*(i[s+5]+i[s+3]))/2,M=i[s+7]*Math.log(1+b)/(1+Math.sqrt(m)),i[s+7]=Math.min(1,Math.sqrt(M*(Math.pow(i[s+2],2)+Math.pow(i[s+3],2))/(1+Math.sqrt(m)))),i[s]=i[s]+i[s+2]*(M/h.settings.slowDown),i[s+1]=i[s+1]+i[s+3]*(M/h.settings.slowDown));h.iterations++}function r(t){for(var e=0;e<t;e++)s();a()}var i,o,n,a,h={ppn:10,ppe:3,ppr:9,maxForce:10,iterations:0,converged:!1,settings:{linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5,startingIterations:1,iterationsPerRender:1}};a="undefined"!=typeof window&&window.document?function(){var t;document.createEvent?(t=document.createEvent("Event")).initEvent("newCoords",!0,!1):(t=document.createEventObject()).eventType="newCoords",t.eventName="newCoords",t.data={nodes:i.buffer},requestAnimationFrame(function(){document.dispatchEvent(t)})}:function(){self.postMessage({nodes:i.buffer},[i.buffer])};self.addEventListener("message",function t(s){switch(s.data.action){case"start":(function(t,s,r){r=r||{},i=t,o=s,h.nodesLength=i.length,h.edgesLength=o.length,e(r)})(new Float32Array(s.data.nodes),new Float32Array(s.data.edges),s.data.config),r(h.settings.startingIterations);break;case"loop":i=new Float32Array(s.data.nodes),r(h.settings.iterationsPerRender);break;case"config":e(s.data.config);break;case"kill":(function(t){var e;for(e in t)"hasOwnProperty"in t&&!t.hasOwnProperty(e)||delete t[e]})(h),i=null,o=null,n=null,self.removeEventListener("message",t)}})},crush=null;if(inWebWorker)eval(getWorkerFn());else{if("undefined"==typeof sigma)throw"sigma is not declared";sigma.prototype.getForceAtlas2Worker=getWorkerFn}}.call(this)}).call(window)}}]);
//# sourceMappingURL=1.625a821e.chunk.js.map
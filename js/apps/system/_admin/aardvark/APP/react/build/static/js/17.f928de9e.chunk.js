(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{475:function(t,i){(function(){(function(t){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins");var i=t,e={};function s(e,s,n){if(sigma.classes.dispatcher.extend(this),sigma.renderers.webgl&&s instanceof sigma.renderers.webgl)throw new Error("The sigma.plugins.lasso is not compatible with the WebGL renderer");this.sigmaInstance=e,this.renderer=s,this.drawingCanvas=t,this.drawingContext=t,this.drewPoints=[],this.selectedNodes=[],this.isActive=!1,this.isDrawing=!1,i=document.body,this.settings=new sigma.classes.configurable({strokeStyle:"black",lineWidth:2,fillWhileDrawing:!1,fillStyle:"rgba(200, 200, 200, 0.25)",cursor:"crosshair"},n||{})}s.prototype.clear=function(){return this.deactivate(),this.sigmaInstance=t,this.renderer=t,this},s.prototype.activate=function(){return this.sigmaInstance&&!this.isActive&&(this.isActive=!0,this.renderer.domElements.lasso||(this.renderer.initDOM("canvas","lasso"),this.drawingCanvas=this.renderer.domElements.lasso,this.drawingCanvas.width=this.renderer.container.offsetWidth,this.drawingCanvas.height=this.renderer.container.offsetHeight,this.renderer.container.appendChild(this.drawingCanvas),this.drawingContext=this.drawingCanvas.getContext("2d"),this.drawingCanvas.style.cursor=this.settings("cursor")),n.apply(this)),this},s.prototype.deactivate=function(){return this.sigmaInstance&&this.isActive&&(this.isActive=!1,this.isDrawing=!1,r.apply(this),this.renderer.domElements.lasso&&(this.renderer.container.removeChild(this.renderer.domElements.lasso),delete this.renderer.domElements.lasso,this.drawingCanvas.style.cursor="",this.drawingCanvas=t,this.drawingContext=t,this.drewPoints=[])),this};var n=function(){this.drawingCanvas.addEventListener("mousedown",a.bind(this)),i.addEventListener("mousemove",h.bind(this)),i.addEventListener("mouseup",o.bind(this)),this.drawingCanvas.addEventListener("touchstart",a.bind(this)),i.addEventListener("touchmove",h.bind(this)),i.addEventListener("touchcancel",o.bind(this)),i.addEventListener("touchleave",o.bind(this)),i.addEventListener("touchend",o.bind(this))},r=function(){this.drawingCanvas.removeEventListener("mousedown",a.bind(this)),i.removeEventListener("mousemove",h.bind(this)),i.removeEventListener("mouseup",o.bind(this)),this.drawingCanvas.removeEventListener("touchstart",a.bind(this)),this.drawingCanvas.removeEventListener("touchmove",h.bind(this)),i.removeEventListener("touchcancel",o.bind(this)),i.removeEventListener("touchleave",o.bind(this)),i.removeEventListener("touchend",o.bind(this))};function a(t){var i=this.drawingCanvas.getBoundingClientRect();this.isActive&&(this.isDrawing=!0,this.drewPoints=[],this.selectedNodes=[],this.sigmaInstance.refresh(),this.drewPoints.push({x:t.clientX-i.left,y:t.clientY-i.top}),this.drawingCanvas.style.cursor=this.settings("cursor"),t.stopPropagation())}function h(t){if(this.isActive&&this.isDrawing){var i=0,e=0,s=this.drawingCanvas.getBoundingClientRect();switch(t.type){case"touchmove":i=t.touches[0].clientX,e=t.touches[0].clientY;break;default:i=t.clientX,e=t.clientY}this.drewPoints.push({x:i-s.left,y:e-s.top}),this.drawingContext.lineWidth=this.settings("lineWidth"),this.drawingContext.strokeStyle=this.settings("strokeStyle"),this.drawingContext.fillStyle=this.settings("fillStyle"),this.drawingContext.lineJoin="round",this.drawingContext.lineCap="round",this.drawingContext.clearRect(0,0,this.drawingContext.canvas.width,this.drawingContext.canvas.height);var n=this.drewPoints[0],r=this.drewPoints[1],a=this.drewPoints.length;this.drawingContext.beginPath(),this.drawingContext.moveTo(n.x,n.y);for(var h=1;h<a;h++){var o=(c=r,{x:(d=n).x+(c.x-d.x)/2,y:d.y+(c.y-d.y)/2});this.drawingContext.quadraticCurveTo(n.x,n.y,o.x,o.y),n=this.drewPoints[h],r=this.drewPoints[h+1]}this.drawingContext.lineTo(n.x,n.y),this.drawingContext.stroke(),this.settings("fillWhileDrawing")&&this.drawingContext.fill(),t.stopPropagation()}var d,c}function o(t){if(this.isActive&&this.isDrawing){this.isDrawing=!1;for(var i=this.renderer.nodesOnScreen,e=i.length,s=this.renderer.options.prefix||"";e--;){var n=i[e],r=n[s+"x"],a=n[s+"y"];this.drawingContext.isPointInPath(r,a)&&!n.hidden&&this.selectedNodes.push(n)}this.dispatchEvent("selectedNodes",this.selectedNodes),this.drawingContext.clearRect(0,0,this.drawingCanvas.width,this.drawingCanvas.height),this.drawingCanvas.style.cursor=this.settings("cursor"),t.stopPropagation()}}s.prototype.getSelectedNodes=function(){return this.selectedNodes},sigma.plugins.lasso=function(t,i,n){return e[t.id]||(e[t.id]=new s(t,i,n)),t.bind("kill",function(){e[t.id]instanceof s&&(e[t.id].clear(),delete e[t.id])}),e[t.id]}}).call(this)}).call(window)}}]);
//# sourceMappingURL=17.f928de9e.chunk.js.map
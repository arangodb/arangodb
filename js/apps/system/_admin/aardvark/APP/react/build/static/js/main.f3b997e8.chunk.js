(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a}),i.d(t,"c",function(){return r}),i.d(t,"d",function(){return s}),i.d(t,"h",function(){return o}),i.d(t,"e",function(){return l}),i.d(t,"g",function(){return c}),i.d(t,"f",function(){return h});var n=function(){return{type:"@@cluster/checkHealth"}},a=function(e){return{type:"@@cluster/checkHealthSuccess",payload:e}},r=function(e){return{type:"@@cluster/fetchShardDetails",payload:e}},s=function(e){return{type:"@@cluster/fetchShardDetailsSuccess",payload:e}},o=function(){return{type:"@@cluster/unselectShardDetails"}},l=function(){return{type:"@@cluster/fetchShardOverview"}},c=function(){return{type:"@@cluster/rebalanceShards"}},h=function(e){return{type:"@@cluster/moveShard",payload:e}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i(32),a=i(5),r=i(6),s=i(4),o=i.n(s),l=i(17),c=function(){var e=Object(l.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return setTimeout(e,t)}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h=new(function(){function e(){Object(a.a)(this,e),this.todoList=new Map,this.repeatAll()}return Object(r.a)(e,[{key:"registerTask",value:function(e,t){this.todoList.set(e,t)}},{key:"stopTask",value:function(e){this.todoList.delete(e)}},{key:"repeatAll",value:function(){var e=Object(l.a)(o.a.mark(function e(){var t,i,a,r,s,l,h;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.todoList.size>0)){e.next=21;break}for(t=!0,i=!1,a=void 0,e.prev=5,r=this.todoList[Symbol.iterator]();!(t=(s=r.next()).done);t=!0)l=s.value,h=Object(n.a)(l,2),h[1].execute();e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),i=!0,a=e.t0;case 13:e.prev=13,e.prev=14,t||null==r.return||r.return();case 16:if(e.prev=16,!i){e.next=19;break}throw a;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return e.next=23,c(1e4);case 23:e.next=0;break;case 25:case"end":return e.stop()}},e,this,[[5,9,13,21],[14,,16,20]])}));return function(){return e.apply(this,arguments)}}()}]),e}())},function(e,t,i){"use strict";var n=i(23),a=i(12),r=i(32),s={shortToServer:new Map,serverToShort:new Map,selected:"",shardDistribution:{}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@cluster/checkHealthSuccess":var i=function(e){for(var t=new Map,i=new Map,n=0,a=Object.entries(e);n<a.length;n++){var s=a[n],o=Object(r.a)(s,2),l=o[0],c=o[1];c.hasOwnProperty("ShortName")&&(t.set(l,c.ShortName),i.set(c.ShortName,l))}return{serverToShort:t,shortToServer:i}}(t.payload),n=i.serverToShort,o=i.shortToServer;return Object(a.a)({},e,{serverToShort:n,shortToServer:o});case"@@cluster/fetchShardDetails":return Object(a.a)({},e,{selected:t.payload});case"@@cluster/fetchShardDetailsSuccess":var l=function(e,t){var i=e.selected,n=e.shardDistribution;return 1===Object.keys(t).length?t.hasOwnProperty(i)?Object(a.a)({},n,t):n:t}(e,t.payload);return Object(a.a)({},e,{shardDistribution:l});case"@@cluster/unselectShardDetails":return Object(a.a)({},e,{selected:""});default:return e}},l=i(4),c=i.n(l),h=i(17),d=i(5),u=i(6),p=i(197),f=i(8),g=function(e){console.log(e)},m=new(function(){function e(){var t;Object(d.a)(this,e);t=window.location.origin,this.db=new p.Database({url:t}),this.clusterApi=this.db.route("_admin/cluster")}return Object(u.a)(e,[{key:"fetchShardSpecifics",value:function(){var e=Object(h.a)(c.a.mark(function e(t){var i,n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.clusterApi.put("collectionShardDistribution",{collection:t});case 2:i=e.sent,n=i.body,200===(a=i.statusCode)?S.dispatch(Object(f.d)(n.results)):g({message:"Collection ".concat(t," shard distribution resulted in HTTP Code: ").concat(a)});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchShardsOverview",value:function(){var e=Object(h.a)(c.a.mark(function e(){var t,i,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.clusterApi.get("shardDistribution");case 2:t=e.sent,i=t.body,200===(n=t.statusCode)?S.dispatch(Object(f.d)(i.results)):g({message:"Shard distribution overview resulted in HTTP Code: ".concat(n)});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"triggerRebalanceShards",value:function(){var e=Object(h.a)(c.a.mark(function e(){var t,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.clusterApi.post("rebalanceShards",{});case 2:t=e.sent,201!==(i=t.statusCode)&&g({message:"Failed to trigger shard rebalancing. HTTP Code: ".concat(i)});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"triggerMoveShard",value:function(){var e=Object(h.a)(c.a.mark(function e(t){var i,n,a,r,s,o,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.collection,n=t.shard,a=t.fromServer,r=t.toServer,e.next=3,this.clusterApi.post("moveShard",{database:this.db.name,collection:i,shard:n,fromServer:a,toServer:r});case 3:s=e.sent,o=s.body,202!==(l=s.statusCode)&&g({message:"Failed to trigger shard move. HTTP Code: ".concat(l,", response: ").concat(o)});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"clusterCheckHealth",value:function(){var e=Object(h.a)(c.a.mark(function e(){var t,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.clusterApi.get("health");case 2:t=e.sent,i=t.body,200===t.statusCode&&S.dispatch(Object(f.b)(i.Health));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}()),v=new Proxy(m,{get:function(e,t){var i=e[t];return"function"===typeof i?Object(h.a)(c.a.mark(function t(){var n=arguments;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.apply(e,n);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),g(t.t0);case 9:case"end":return t.stop()}},t,null,[[0,6]])})):i}}),b=function(e){return function(e){return function(t){switch(t.type){case"@@cluster/fetchShardDetails":v.fetchShardSpecifics(t.payload);break;case"@@cluster/fetchShardOverview":v.fetchShardsOverview();break;case"@@cluster/rebalanceShards":v.triggerRebalanceShards();break;case"@@cluster/moveShard":v.triggerMoveShard(t.payload)}return e(t)}}},w=function(e){return function(e){return function(t){return console.log(Date.now(),"Redux Log:",t),e(t)}}},y=Object(n.c)({cluster:o}),_={cluster:s},x=Object(n.a)(b,w);var C=Object(n.d)(y,_,x),S=t.a=C},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n={"./applicationDetailView.html":380,"./applicationListView.html":381,"./applicationsView.html":382,"./applierView.html":383,"./arangoTabbar.html":384,"./arangoTable.html":385,"./clusterView.html":386,"./collectionsItemView.html":387,"./collectionsView.html":388,"./dashboardView.html":389,"./databaseView.html":390,"./dbSelectionView.html":391,"./documentView.html":392,"./documentsView.html":393,"./edgeDefinitionTable.html":394,"./editListEntryView.html":395,"./filterSelect.html":396,"./footerView.html":397,"./foxxActiveView.html":398,"./foxxEditView.html":399,"./foxxMountView.html":400,"./foxxRepoView.html":401,"./graphManagementView.html":402,"./graphSettingsView.html":403,"./graphViewGroupByEntry.html":404,"./graphViewer2.html":405,"./helpUsView.html":406,"./indicesView.html":407,"./lineChartDetailView.html":408,"./loadingTableView.html":409,"./loggerView.html":410,"./loggerViewEntries.html":411,"./loginView.html":412,"./modalApplicationMount.html":414,"./modalBase.html":416,"./modalCollectionInfo.html":417,"./modalDownloadFoxx.html":418,"./modalGraph.html":419,"./modalGraphTable.html":420,"./modalHotkeys.html":421,"./modalTable.html":422,"./modalTestResults.html":423,"./navigationView.html":424,"./nodeView.html":425,"./nodesView.html":426,"./notificationItem.html":427,"./notificationView.html":428,"./progressBase.html":429,"./queryManagementViewActive.html":430,"./queryManagementViewSlow.html":431,"./queryView.html":432,"./queryViewOutput.html":433,"./replicationView.html":434,"./scaleView.html":435,"./serviceDetailView.html":436,"./serviceInstallGitHubView.html":437,"./serviceInstallNewView.html":438,"./serviceInstallUploadView.html":439,"./serviceInstallUrlView.html":440,"./serviceInstallView.html":441,"./shardsView.html":442,"./spotlightView.html":443,"./statisticBarView.html":444,"./storeDetailView.html":448,"./subNavigationView.html":449,"./supportView.html":450,"./tableView.html":455,"./userBarView.html":456,"./userManagementView.html":457,"./userPermissionView.html":458,"./viewView.html":459,"./viewsView.html":460,"./warningList.html":461};function a(e){var t=r(e);return i(t)}function r(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=94},function(e,t){!function(){"use strict";window.PaginationView=Backbone.View.extend({collection:null,paginationDiv:"",idPrefix:"",rerender:function(){},jumpTo:function(e){this.collection.setPage(e),this.rerender()},firstPage:function(){this.jumpTo(1)},lastPage:function(){this.jumpTo(this.collection.getLastPageNumber())},firstDocuments:function(){this.jumpTo(1)},lastDocuments:function(){this.jumpTo(this.collection.getLastPageNumber())},prevDocuments:function(){this.jumpTo(this.collection.getPage()-1)},nextDocuments:function(){this.jumpTo(this.collection.getPage()+1)},renderPagination:function(){$(this.paginationDiv).html("");var e=this,t=this.collection.getPage(),i=this.collection.getLastPageNumber(),n=$(this.paginationDiv),a={page:t,lastPage:i,click:function(t){var i=window.location.hash.split("/");"documents"===i[2]?(a.page=t,window.location.hash=i[0]+"/"+i[1]+"/"+i[2]+"/"+t):(e.jumpTo(t),a.page=t)}};n.html(""),n.pagination(a),$(this.paginationDiv).prepend('<ul class="pre-pagi"><li><a id="'+this.idPrefix+'_first" class="pagination-button"><span><i class="fa fa-angle-double-left"/></span></a></li></ul>'),$(this.paginationDiv).append('<ul class="las-pagi"><li><a id="'+this.idPrefix+'_last" class="pagination-button"><span><i class="fa fa-angle-double-right"/></span></a></li></ul>')}})}()},function(e,t){!function(){"use strict";window.ApplicationDetailView=Backbone.View.extend({el:"#content",divs:["#readme","#swagger","#app-info","#sideinformation","#information","#settings"],navs:["#service-info","#service-api","#service-readme","#service-settings"],template:templateEngine.createTemplate("serviceDetailView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click .open":"openApp","click .delete":"deleteApp","click #app-deps":"showDepsDialog","click #app-switch-mode":"toggleDevelopment","click #app-scripts [data-script]":"runScript","click #app-tests":"runTests","click #app-replace":"replaceApp","click #download-app":"downloadApp","click .subMenuEntries li":"changeSubview","click #jsonLink":"toggleSwagger","mouseenter #app-scripts":"showDropdown","mouseleave #app-scripts":"hideDropdown"},resize:function(e){e?$(".innerContent").css("height","auto"):($(".innerContent").height($(".centralRow").height()-150),$("#swagger iframe").height($(".centralRow").height()-150),$("#swagger #swaggerJsonContent").height($(".centralRow").height()-150))},toggleSwagger:function(){var e=function(e){$("#jsonLink").html("JSON"),this.jsonEditor.setValue(JSON.stringify(e,null,"\t"),1),$("#swaggerJsonContent").show(),$("#swagger iframe").hide()}.bind(this);if("Swagger"===$("#jsonLink").html()){var t=arangoHelper.databaseUrl("/_admin/aardvark/foxxes/docs/swagger.json?mount="+encodeURIComponent(this.model.get("mount")));arangoHelper.download(t,e)}else $("#swaggerJsonContent").hide(),$("#swagger iframe").show(),$("#jsonLink").html("Swagger")},changeSubview:function(e){if(_.each(this.navs,function(e){$(e).removeClass("active")}),$(e.currentTarget).addClass("active"),_.each(this.divs,function(e){$(".headerButtonBar").hide(),$(e).hide()}),"service-readme"===e.currentTarget.id)this.resize(!0),$("#readme").show();else if("service-api"===e.currentTarget.id){this.resize(),$("#swagger").show(),$("#swaggerIframe").remove();var t=window.location.pathname.split("/"),i=window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/"+t[1]+"/"+t[2]+"/_admin/aardvark/foxxes/docs/index.html?mount="+this.model.get("mount"),n=$("<iframe/>",{id:"swaggerIframe",src:i,load:function(){$("#swagger").height($(".centralRow").height()-150)}});$("#swagger").append(n)}else"service-info"===e.currentTarget.id?(this.resize(!0),this.render(),$("#information").show(),$("#sideinformation").show()):"service-settings"===e.currentTarget.id&&(this.resize(!0),this.showConfigDialog(),$(".headerButtonBar").show(),$("#settings").show())},downloadApp:function(){this.model.isSystem()||this.model.download()},replaceApp:function(){window.App.replaceApp=!0,window.App.replaceAppData={model:this.model,mount:this.model.get("mount")},window.App.navigate("services/install",{trigger:!0})},updateConfig:function(){this.model.getConfiguration(function(){$("#app-warning")[this.model.needsAttention()?"show":"hide"](),$("#app-warning-config")[this.model.needsConfiguration()?"show":"hide"](),this.model.needsConfiguration()?$("#app-config").addClass("error"):$("#app-config").removeClass("error")}.bind(this))},updateDeps:function(){this.model.getDependencies(function(){$("#app-warning")[this.model.needsAttention()?"show":"hide"](),$("#app-warning-deps")[this.model.hasUnconfiguredDependencies()?"show":"hide"](),this.model.hasUnconfiguredDependencies()?$("#app-deps").addClass("error"):$("#app-deps").removeClass("error")}.bind(this))},toggleDevelopment:function(){this.model.toggleDevelopment(!this.model.isDevelopment(),function(){this.model.isDevelopment()?($(".app-switch-mode").text("Set Production"),$("#app-development-indicator").css("display","inline"),$("#app-development-path").css("display","inline")):($(".app-switch-mode").text("Set Development"),$("#app-development-indicator").css("display","none"),$("#app-development-path").css("display","none"))}.bind(this))},runScript:function(e){e.preventDefault();var t=$(e.currentTarget).attr("data-script"),i=[window.modalView.createBlobEntry("app_script_arguments","Script arguments","",null,"optional",!1,[{rule:function(e){return e&&JSON.parse(e)},msg:"Must be well-formed JSON or empty"}])],n=[window.modalView.createSuccessButton("Run script",function(){var e=$("#app_script_arguments").val();e=e&&JSON.parse(e),window.modalView.hide(),this.model.runScript(t,e,function(e,i){var n;n=e?"<p>The script failed with an error"+(e.statusCode?" (HTTP "+e.statusCode+")":"")+":</p><pre>"+e.message+"</pre>":i?"<p>Script results:</p><pre>"+JSON.stringify(i,null,2)+"</pre>":"<p>The script ran successfully.</p>",window.modalView.show("modalTable.ejs",'Result of script "'+t+'"',void 0,void 0,void 0,n)})}.bind(this))];window.modalView.show("modalTable.ejs",'Run script "'+t+'" on "'+this.model.get("mount")+'"',n,i)},showSwagger:function(e){e.preventDefault(),this.render("swagger")},showReadme:function(e){e.preventDefault(),this.render("readme")},runTests:function(e){e.preventDefault();var t="<p><strong>WARNING:</strong> Running tests may result in destructive side-effects including data loss. Please make sure not to run tests on a production database.</p>";this.model.isDevelopment()&&(t+="<p><strong>WARNING:</strong> This app is running in <strong>development mode</strong>. If any of the tests access the app's HTTP API they may become non-deterministic.</p>");var i=[window.modalView.createSuccessButton("Run tests",function(){window.modalView.hide(),this.model.runTests({reporter:"suite"},function(e,t){window.modalView.show("modalTestResults.ejs","Test results",void 0,void 0,void 0,e||t)})}.bind(this))];window.modalView.show("modalTable.ejs",'Run tests for app "'+this.model.get("mount")+'"',i,void 0,void 0,t)},render:function(e){return this.resize(),this.model.fetchThumbnail(function(){var t=function(t,i){var n=this;t?arangoHelper.arangoError("DB","Could not get current database"):($(this.el).html(this.template.render({app:this.model,baseUrl:arangoHelper.databaseUrl("",i),mode:e,installed:!0})),n.jsonEditor=ace.edit("swaggerJsonEditor"),n.jsonEditor.setReadOnly(!0),n.jsonEditor.getSession().setMode("ace/mode/json"),$.ajax({url:this.appUrl(i),headers:{accept:"text/html,*/*;q=0.9"}}).success(function(){$(".open",this.el).prop("disabled",!1)}.bind(this)),this.updateConfig(),this.updateDeps(),"swagger"===e&&$.get("./foxxes/docs/swagger.json?mount="+encodeURIComponent(this.model.get("mount")),function(e){Object.keys(e.paths).length<1&&(n.render("readme"),$("#app-show-swagger").attr("disabled","true"))})),this.breadcrumb()}.bind(this);arangoHelper.currentDatabase(t),_.isEmpty(this.model.get("config"))&&$("#service-settings").attr("disabled",!0)}.bind(this)),$(this.el)},breadcrumb:function(){var e="Service: "+this.model.get("name")+'<i class="fa fa-ellipsis-v" aria-hidden="true"></i>',t='<p class="mount"><span>Contributors:</span>';this.model.get("contributors")&&this.model.get("contributors").length>0?_.each(this.model.get("contributors"),function(e){e.email?t+='<a href="mailto:'+e.email+'">'+(e.name||e.email)+"</a>":e.name&&(t+="<a>contributor.name</a>")}):t+="No contributors",t+="</p>",$(".information").append(t),this.model.get("author")&&$(".information").append('<p class="mount"><span>Author:</span>'+this.model.get("author")+"</p>"),this.model.get("mount")&&$(".information").append('<p class="mount"><span>Mount:</span>'+this.model.get("mount")+"</p>"),this.model.get("development")&&this.model.get("path")&&$(".information").append('<p class="path"><span>Path:</span>'+this.model.get("path")+"</p>"),$("#subNavigationBar .breadcrumb").html(e)},openApp:function(){var e=function(e,t){e?arangoHelper.arangoError("DB","Could not get current database"):window.open(this.appUrl(t),this.model.get("title")).focus()}.bind(this);arangoHelper.currentDatabase(e)},deleteApp:function(){var e=[window.modalView.createDeleteButton("Delete",function(){var e={teardown:$("#app_delete_run_teardown").is(":checked")};this.model.destroy(e,function(e,t){e||!1!==t.error||(window.modalView.hide(),window.App.navigate("services",{trigger:!0}))})}.bind(this))],t=[window.modalView.createCheckboxEntry("app_delete_run_teardown","Run teardown?",!0,"Should this app's teardown script be executed before removing the app?",!0)];window.modalView.show("modalTable.ejs",'Delete Foxx App mounted at "'+this.model.get("mount")+'"',e,t,void 0,"<p>Are you sure? There is no way back...</p>",!0)},appUrl:function(e){return arangoHelper.databaseUrl(this.model.get("mount"),e)},applyConfig:function(){var e={};_.each(this.model.get("config"),function(t,i){var n=$("#app_config_"+CryptoJS.MD5(i).toString()),a=n.val();if("boolean"!==t.type&&"bool"!==t.type)return""===a&&t.hasOwnProperty("default")?(e[i]=t.default,void("json"===t.type&&(e[i]=JSON.stringify(t.default)))):void("number"===t.type?e[i]=parseFloat(a):"integer"===t.type||"int"===t.type?e[i]=parseInt(a,10):"json"===t.type?e[i]=a&&JSON.stringify(JSON.parse(a)):e[i]=a);e[i]=n.is(":checked")}),this.model.setConfiguration(e,function(){this.updateConfig(),arangoHelper.arangoNotification(this.model.get("name"),"Settings applied.")}.bind(this))},showConfigDialog:function(){if(_.isEmpty(this.model.get("config")))$("#settings .buttons").html($("#hidden_buttons").html());else{var e=_.map(this.model.get("config"),function(e,t){var i=void 0===e.default?"":String(e.default),n=void 0===e.current?"":String(e.current),a="createTextEntry",r=!1,s=[];return"boolean"===e.type||"bool"===e.type?(a="createCheckboxEntry",e.default=e.default||!1,i=e.default||!1,n=e.current||!1):"json"===e.type?(a="createBlobEntry",i=void 0===e.default?"":JSON.stringify(e.default),n=void 0===e.current?"":JSON.stringify(e.current),s.push({rule:function(e){return e&&JSON.parse(e)},msg:"Must be well-formed JSON or empty."})):"integer"===e.type||"int"===e.type?s.push({rule:Joi.number().integer().optional().allow(""),msg:"Has to be an integer."}):"number"===e.type?s.push({rule:Joi.number().optional().allow(""),msg:"Has to be a number."}):("password"===e.type&&(a="createPasswordEntry"),s.push({rule:Joi.string().optional().allow(""),msg:"Has to be a string."})),void 0===e.default&&!1!==e.required&&(r=!0,s.unshift({rule:Joi.any().required(),msg:"This field is required."})),window.modalView[a]("app_config_"+CryptoJS.MD5(t).toString(),t,n,e.description,i,r,s)}),t=[window.modalView.createSuccessButton("Apply",this.applyConfig.bind(this))];window.modalView.show("modalTable.ejs","Configuration",t,e,null,null,null,null,null,"settings"),$(".modal-footer").prepend($("#hidden_buttons").html())}},applyDeps:function(){var e={};_.each(this.model.get("deps"),function(t,i){var n=$("#app_deps_"+i);e[i]=window.arangoHelper.escapeHtml(n.val())}),this.model.setDependencies(e,function(){window.modalView.hide(),this.updateDeps()}.bind(this))},showDepsDialog:function(){if(!_.isEmpty(this.model.get("deps"))){var e=_.map(this.model.get("deps"),function(e,t){var i=void 0===e.current?"":String(e.current),n=e.definition.name;"*"!==e.definition.version&&(n+="@"+e.definition.version);var a=[{rule:Joi.string().optional().allow(""),msg:"Has to be a string."}];return e.definition.required&&a.push({rule:Joi.string().required(),msg:"This value is required."}),window.modalView.createTextEntry("app_deps_"+t,e.title,i,n,"",e.definition.required,a)}),t=[window.modalView.createSuccessButton("Apply",this.applyDeps.bind(this))];window.modalView.show("modalTable.ejs","Dependencies",t,e)}},showDropdown:function(){_.isEmpty(this.model.get("scripts"))||$("#scripts_dropdown").show(200)},hideDropdown:function(){$("#scripts_dropdown").hide()}})}()},function(e,t){!function(){"use strict";window.ApplicationsView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("applicationsView.ejs"),events:{"click #addApp":"createInstallModal","click #foxxToggle":"slideToggle","click #checkDevel":"toggleDevel","click #checkProduction":"toggleProduction","click #checkSystem":"toggleSystem"},fixCheckboxes:function(){this._showDevel?$("#checkDevel").attr("checked","checked"):$("#checkDevel").removeAttr("checked"),this._showSystem?$("#checkSystem").attr("checked","checked"):$("#checkSystem").removeAttr("checked"),this._showProd?$("#checkProduction").attr("checked","checked"):$("#checkProduction").removeAttr("checked"),$("#checkDevel").next().removeClass("fa fa-check-square-o fa-square-o").addClass("fa"),$("#checkSystem").next().removeClass("fa fa-check-square-o fa-square-o").addClass("fa"),$("#checkProduction").next().removeClass("fa fa-check-square-o fa-square-o").addClass("fa"),arangoHelper.setCheckboxStatus("#foxxDropdown")},toggleDevel:function(){var e=this;this._showDevel=!this._showDevel,_.each(this._installedSubViews,function(t){t.toggle("devel",e._showDevel)}),this.fixCheckboxes()},toggleProduction:function(){var e=this;this._showProd=!this._showProd,_.each(this._installedSubViews,function(t){t.toggle("production",e._showProd)}),this.fixCheckboxes()},toggleSystem:function(){this._showSystem=!this._showSystem;var e=this;_.each(this._installedSubViews,function(t){t.toggle("system",e._showSystem)}),this.fixCheckboxes()},reload:function(){var e=this;_.each(this._installedSubViews,function(e){e.undelegateEvents()}),this.collection.fetch({success:function(){e.createSubViews(),e.render()}})},createSubViews:function(){var e=this;this._installedSubViews={},e.collection.each(function(t){var i=new window.FoxxActiveView({model:t,appsView:e});e._installedSubViews[t.get("mount")]=i})},initialize:function(){this._installedSubViews={},this._showDevel=!0,this._showProd=!0,this._showSystem=!1},slideToggle:function(){$("#foxxToggle").toggleClass("activated"),$("#foxxDropdownOut").slideToggle(200)},createInstallModal:function(e){this.readOnly||(e.preventDefault(),window.App.navigate("services/install",{trigger:!0}))},setReadOnly:function(){this.readOnly=!0,$("#addApp").parent().parent().addClass("disabled"),$("#addApp").addClass("disabled")},render:function(){this.collection.sort(),$(this.el).html(this.template.render({})),_.each(this._installedSubViews,function(e){$("#installedList").append(e.render())}),this.delegateEvents(),$("#checkDevel").attr("checked",this._showDevel),$("#checkProduction").attr("checked",this._showProd),$("#checkSystem").attr("checked",this._showSystem),arangoHelper.setCheckboxStatus("#foxxDropdown");var e=this;return _.each(this._installedSubViews,function(t){t.toggle("devel",e._showDevel),t.toggle("system",e._showSystem)}),arangoHelper.fixTooltips("icon_arangodb","left"),arangoHelper.checkDatabasePermissions(this.setReadOnly.bind(this)),this},installCallback:function(e){var t=this;if(!1===e.error)this.collection.fetch({success:function(){window.modalView.hide(),t.reload(),arangoHelper.arangoNotification("Services","Service "+e.name+" installed.")}});else{var i=e;switch(e.hasOwnProperty("responseJSON")&&(i=e.responseJSON),i.errorNum){case 1752:arangoHelper.arangoError("Services","Unable to download application from the given repository.");break;default:arangoHelper.arangoError("Services",i.errorNum+". "+i.errorMessage)}}}})}()},function(e,t){!function(){"use strict";window.ApplierView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("applierView.ejs"),endpoint:null,events:{},render:function(){this.getMode()},breadcrumb:function(e){var t=this;if(window.App.naviView){var i="Database";e&&(i=i+": "+e),$("#subNavigationBar .breadcrumb").html(i)}else window.setTimeout(function(){t.breadcrumb()},100)},continueRender:function(){this.$el.html(this.template.render({}))},getApplierState:function(e,t){var i,n=this;i="_system"===this.database||t?this.endpoint+"/_api/replication/applier-state":this.endpoint+"/_db/"+this.database+"/_api/replication/applier-state",t?(i+="?global=true",n.breadcrumb("All databases")):n.breadcrumb(n.database),$.ajax({type:"GET",cache:!1,url:i,contentType:"application/json",success:function(e){n.$el.html(n.template.render({data:e}))},error:function(){arangoHelper.arangoError("Replication","Could not fetch the applier state of: "+e)}})},getMode:function(e){var t=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/aardvark/replication/mode"),contentType:"application/json",success:function(e){3===e.mode||2===e.mode?t.getApplierState(this.endpoint,!0):t.getApplierState(this.endpoint,!1)},error:function(){arangoHelper.arangoError("Replication","Could not fetch the replication state.")}})}})}()},function(e,t){!function(){"use strict";window.ClusterView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("clusterView.ejs"),events:{},coordshortSuccess:void 0,statsEnabled:!1,historyInit:!1,initDone:!1,interval:1e4,maxValues:100,knownServers:[],chartData:{},charts:{},nvcharts:[],startHistory:{},startHistoryAccumulated:{},initialize:function(e){var t=this;window.App.isCluster&&(this.dbServers=e.dbServers,this.coordinators=e.coordinators,this.updateServerTime(),window.setInterval(function(){if("#cluster"===window.location.hash||""===window.location.hash||"#"===window.location.hash){t.getCoordStatHistory(function(e){t.rerenderValues(e),t.rerenderGraphs(e)})}else{t.getCoordStatHistory(function(e){t.rerenderGraphs(e,!0)})}},this.interval))},render:function(){var e=this;this.$el.html(this.template.render({})),this.initDone||(void 0!==this.coordinators.first()?this.getServerStatistics():this.waitForCoordinators(),this.initDone=!0),this.initGraphs();this.getCoordStatHistory(function(t){e.rerenderValues(t)})},waitForCoordinators:function(){var e=this;window.setTimeout(function(){e.coordinators?e.getServerStatistics():e.waitForCoordinators()},500)},updateServerTime:function(){this.serverTime=(new Date).getTime()},getServerStatistics:function(){var e=this;this.data=void 0;var t=this.coordinators.first();this.statCollectCoord=new window.ClusterStatisticsCollection([],{host:t.get("address")}),this.statCollectDBS=new window.ClusterStatisticsCollection([],{host:t.get("address")});var i=[];_.each(this.dbServers,function(e){e.each(function(e){i.push(e)})}),_.each(i,function(i){if("ok"===i.get("status")){-1===e.knownServers.indexOf(i.id)&&e.knownServers.push(i.id);var n=new window.Statistics({name:i.id});n.url=t.get("protocol")+"://"+t.get("address")+"/_admin/clusterStatistics?DBserver="+i.get("name"),e.statCollectDBS.add(n)}}),this.coordinators.forEach(function(t){if("ok"===t.get("status")){-1===e.knownServers.indexOf(t.id)&&e.knownServers.push(t.id);var i=new window.Statistics({name:t.id});i.url=t.get("protocol")+"://"+t.get("address")+"/_admin/statistics",e.statCollectCoord.add(i)}});e.getCoordStatHistory(function(t){e.rerenderValues(t),e.rerenderGraphs(t)}),e.renderNodes()},rerenderValues:function(e){this.renderNodes(),this.renderValue("#clusterConnections",Math.round(e.clientConnectionsCurrent)),this.renderValue("#clusterConnectionsAvg",Math.round(e.clientConnections15M));var t=e.physicalMemory,i=e.residentSizeCurrent;this.renderValue("#clusterRam",[i,t])},renderValue:function(e,t,i,n){if("number"===typeof t)$(e).html(t);else if($.isArray(t)){var a=t[0],r=1/(t[1]/a)*100;r>90?i=!0:r>70&&r<90&&(n=!0),isNaN(r)?$(e).html("n/a"):$(e).html(r.toFixed(1)+" %")}else"string"===typeof t&&$(e).html(t);i?($(e).addClass("negative"),$(e).removeClass("warning"),$(e).removeClass("positive")):n?($(e).addClass("warning"),$(e).removeClass("positive"),$(e).removeClass("negative")):($(e).addClass("positive"),$(e).removeClass("negative"),$(e).removeClass("warning"))},renderNodes:function(){var e=this,t=function(e){var t=0,i=0,n=0,a=0;_.each(e,function(e){"Coordinator"===e.Role?(t++,"GOOD"!==e.Status&&i++):"DBServer"===e.Role&&(n++,"GOOD"!==e.Status&&a++)}),i>0?this.renderValue("#clusterCoordinators",t-i+"/"+t,!0):this.renderValue("#clusterCoordinators",t),a>0?this.renderValue("#clusterDBServers",n-a+"/"+n,!0):this.renderValue("#clusterDBServers",n)}.bind(this);$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/health"),contentType:"application/json",processData:!1,async:!0,success:function(e){t(e.Health)},error:function(){e.renderValue("#clusterCoordinators","N/A",!0),e.renderValue("#clusterDBServers","N/A",!0)}})},initValues:function(){_.each(["#clusterNodes","#clusterRam","#clusterConnections","#clusterConnectionsAvg"],function(e){$(e).html('<i class="fa fa-spin fa-circle-o-notch" style="color: rgba(0, 0, 0, 0.64);"></i>')})},graphData:{data:{sent:[],received:[]},http:[],average:[]},checkArraySizes:function(){var e=this;_.each(e.chartsOptions,function(t,i){_.each(t.options,function(t,n){t.values.length>e.maxValues-1&&e.chartsOptions[i].options[n].values.shift()})})},formatDataForGraph:function(e){var t=this;t.historyInit?(t.checkArraySizes(),t.chartsOptions[0].options[0].values.push({x:e.times[e.times.length-1],y:e.bytesSentPerSecond[e.bytesSentPerSecond.length-1]}),t.chartsOptions[0].options[1].values.push({x:e.times[e.times.length-1],y:e.bytesReceivedPerSecond[e.bytesReceivedPerSecond.length-1]}),t.chartsOptions[1].options[0].values.push({x:e.times[e.times.length-1],y:t.calcTotalHttp(e.http,e.bytesSentPerSecond.length-1)}),t.chartsOptions[2].options[0].values.push({x:e.times[e.times.length-1],y:e.avgRequestTime[e.bytesSentPerSecond.length-1]/t.coordinators.length})):(_.each(e.times,function(i,n){t.chartsOptions[0].options[0].values.push({x:i,y:e.bytesSentPerSecond[n]}),t.chartsOptions[0].options[1].values.push({x:i,y:e.bytesReceivedPerSecond[n]}),t.chartsOptions[1].options[0].values.push({x:i,y:t.calcTotalHttp(e.http,n)}),t.chartsOptions[2].options[0].values.push({x:i,y:e.avgRequestTime[n]/t.coordinators.length})}),t.historyInit=!0)},chartsOptions:[{id:"#clusterData",type:"bytes",count:2,options:[{area:!0,values:[],key:"Bytes out",color:"rgb(23,190,207)",strokeWidth:2,fillOpacity:.1},{area:!0,values:[],key:"Bytes in",color:"rgb(188, 189, 34)",strokeWidth:2,fillOpacity:.1}]},{id:"#clusterHttp",type:"number",options:[{area:!0,values:[],key:"Requests per second",color:"rgb(0, 166, 90)",fillOpacity:.1}]},{id:"#clusterAverage",data:[],type:"seconds",options:[{area:!0,values:[],key:"Seconds",color:"rgb(243, 156, 18)",fillOpacity:.1}]}],initGraphs:function(){var e=this;_.each(e.chartsOptions,function(t){nv.addGraph(function(){var i;e.charts[t.id]=nv.models.stackedAreaChart().options({useInteractiveGuideline:!0,showControls:!1,noData:"No data...",duration:0}),e.charts[t.id].xAxis.axisLabel("").tickFormat(function(e){var t=new Date(1e3*e);return(t.getHours()<10?"0":"")+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+":"+(t.getSeconds()<10?"0":"")+t.getSeconds()}).staggerLabels(!1),e.charts[t.id].yAxis.axisLabel("").tickFormat(function(e){var i;return"bytes"===t.type?null===e?"N/A":(i=parseFloat(d3.format(".2f")(e)),prettyBytes(i)):"seconds"===t.type?null===e?"N/A":i=parseFloat(d3.format(".3f")(e)):"number"===t.type?null===e?"N/A":i=parseFloat(d3.format(".2f")(e)):void 0});var n=e.returnGraphOptions(t.id);return n.length>0?_.each(n,function(e,i){t.options[i].values=e}):t.options[0].values=[],i=t.options,e.chartData[t.id]=d3.select(t.id).append("svg").datum(i).transition().duration(300).call(e.charts[t.id]).each("start",function(){window.setTimeout(function(){d3.selectAll(t.id+" *").each(function(){this.__transition__&&(this.__transition__.duration=0)})},0)}),nv.utils.windowResize(e.charts[t.id].update),e.nvcharts.push(e.charts[t.id]),e.charts[t.id]})})},returnGraphOptions:function(e){return"#clusterData"===e?[this.chartsOptions[0].options[0].values,this.chartsOptions[0].options[1].values]:"#clusterHttp"===e?[this.chartsOptions[1].options[0].values]:"#clusterAverage"===e?[this.chartsOptions[2].options[0].values]:[]},rerenderGraphs:function(e,t){if(this.statsEnabled){var i,n,a=this;this.formatDataForGraph(e),_.each(a.chartsOptions,function(e){(n=a.returnGraphOptions(e.id)).length>0?_.each(n,function(t,i){e.options[i].values=t}):e.options[0].values=[],i=e.options,void 0!==t&&!1!==t||i[0].values.length>0&&a.historyInit&&a.charts[e.id]&&a.charts[e.id].update()})}},calcTotalHttp:function(e,t){var i=0;return _.each(e,function(e){i+=e[t]}),i},getCoordStatHistory:function(e){if(this.coordshortSuccess||void 0===this.coordshortSuccess||(Date.now()-this.coordshortTimestamp)/1e3>60){this.coordshortSuccess=!1;var t="statistics/coordshort";frontendConfig.react&&(t=arangoHelper.databaseUrl("/_admin/aardvark/"+t)),$.ajax({url:t,json:!0}).success(function(t){this.coordshortTimestamp=Date.now(),this.coordshortSuccess=!0,this.statsEnabled=t.enabled,e(t.data)}.bind(this)).error(function(e){this.coordshortTimestamp=Date.now(),this.coordshortSuccess=!1}.bind(this))}}})}()},function(e,t){!function(){"use strict";window.CollectionListItemView=Backbone.View.extend({tagName:"div",className:"tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6",template:templateEngine.createTemplate("collectionsItemView.ejs"),initialize:function(e){this.collectionsView=e.collectionsView},events:{"click .iconSet.icon_arangodb_settings2":"createEditPropertiesModal","click .pull-left":"noop","click .icon_arangodb_settings2":"editProperties","click .spanInfo":"showProperties",click:"selectCollection"},render:function(){return this.model.get("locked")||"corrupted"===this.model.get("status")?($(this.el).addClass("locked"),$(this.el).addClass(this.model.get("lockType"))):$(this.el).removeClass("locked"),"loading"!==this.model.get("status")&&"unloading"!==this.model.get("status")||$(this.el).addClass("locked"),$(this.el).html(this.template.render({model:this.model})),$(this.el).attr("id","collection_"+this.model.get("name")),this},editProperties:function(e){if(this.model.get("locked"))return 0;e.stopPropagation(),this.createEditPropertiesModal()},showProperties:function(e){if(this.model.get("locked"))return 0;e.stopPropagation(),this.createInfoModal()},selectCollection:function(e){return $(e.target).hasClass("disabled")?0:this.model.get("locked")?0:"loading"===this.model.get("status")?0:"corrupted"===this.model.get("status")?0:void("unloaded"===this.model.get("status")?this.loadCollection():window.App.navigate("collection/"+encodeURIComponent(this.model.get("name"))+"/documents/1",{trigger:!0}))},noop:function(e){e.stopPropagation()},unloadCollection:function(){var e=function(e){e?arangoHelper.arangoError("Collection error",this.model.get("name")+" could not be unloaded."):void 0===e?(this.model.set("status","unloading"),this.render()):"#collections"===window.location.hash?(this.model.set("status","unloaded"),this.render()):arangoHelper.arangoNotification("Collection "+this.model.get("name")+" unloaded.")}.bind(this);this.model.unloadCollection(e),window.modalView.hide()},loadCollection:function(){var e=function(e){e?arangoHelper.arangoError("Collection error",this.model.get("name")+" could not be loaded."):void 0===e?(this.model.set("status","loading"),this.render()):"#collections"===window.location.hash?(this.model.set("status","loaded"),this.render()):arangoHelper.arangoNotification("Collection "+this.model.get("name")+" loaded.")}.bind(this);this.model.loadCollection(e),window.modalView.hide()},truncateCollection:function(){this.model.truncateCollection(),window.modalView.hide()},warumupCollection:function(){this.model.warumupCollection(),window.modalView.hide()},deleteCollection:function(){this.model.destroy({error:function(e,t){arangoHelper.arangoError("Could not drop collection: "+t.responseJSON.errorMessage)},success:function(){window.modalView.hide()}}),this.collectionsView.render()},saveModifiedCollection:function(){var e=function(e,t){if(e)arangoHelper.arangoError("Error","Could not get coordinator info");else{var i;i=t?this.model.get("name"):$("#change-collection-name").val();var n=this.model.get("status");if("loaded"===n){var a,r;try{a=JSON.parse(1024*$("#change-collection-size").val()*1024)}catch(c){return arangoHelper.arangoError("Please enter a valid number"),0}try{if((r=JSON.parse($("#change-index-buckets").val()))<1||parseInt(r,10)!==Math.pow(2,Math.log2(r)))throw new Error("invalid indexBuckets value")}catch(c){return arangoHelper.arangoError("Please enter a valid number of index buckets"),0}var s=function(e){e?arangoHelper.arangoError("Collection error: "+e.responseText):(this.collectionsView.render(),window.modalView.hide())}.bind(this),o=function(e){if(e)arangoHelper.arangoError("Collection error: "+e.responseText);else{var t,i=$("#change-collection-sync").val();frontendConfig.isCluster&&(t=$("#change-replication-factor").val()),this.model.changeCollection(i,a,r,t,s)}}.bind(this);!1===frontendConfig.isCluster?this.model.renameCollection(i,o):o()}else if("unloaded"===n)if(this.model.get("name")!==i){var l=function(e,t){e?arangoHelper.arangoError("Collection error: "+t.responseText):(this.collectionsView.render(),window.modalView.hide())}.bind(this);!1===frontendConfig.isCluster?this.model.renameCollection(i,l):l()}else window.modalView.hide()}}.bind(this);window.isCoordinator(e)},createEditPropertiesModal:function(){var e=function(e,t){if(e)arangoHelper.arangoError("Error","Could not get coordinator info");else{var i=!1;"loaded"===this.model.get("status")&&(i=!0);var n=[],a=[];t||a.push(window.modalView.createTextEntry("change-collection-name","Name",this.model.get("name"),!1,"",!0,[{rule:Joi.string().regex(/^[a-zA-Z]/),msg:"Collection name must always start with a letter."},{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only Symbols "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No collection name given."}]));var r=function(){a.push(window.modalView.createReadOnlyEntry("change-collection-id","ID",this.model.get("id"),"")),a.push(window.modalView.createReadOnlyEntry("change-collection-type","Type",this.model.get("type"),"")),a.push(window.modalView.createReadOnlyEntry("change-collection-status","Status",this.model.get("status"),"")),n.push(window.modalView.createDeleteButton("Delete",this.deleteCollection.bind(this))),n.push(window.modalView.createDeleteButton("Truncate",this.truncateCollection.bind(this))),"rocksdb"===frontendConfig.engine&&n.push(window.modalView.createDeleteButton("Load Indexes into Memory",this.warumupCollection.bind(this))),i?n.push(window.modalView.createNotificationButton("Unload",this.unloadCollection.bind(this))):n.push(window.modalView.createNotificationButton("Load",this.loadCollection.bind(this))),n.push(window.modalView.createSuccessButton("Save",this.saveModifiedCollection.bind(this)));window.modalView.show(["modalTable.ejs","indicesView.ejs"],"Modify Collection",n,a,null,null,this.events,null,["General","Indexes"]),"loaded"===this.model.get("status")?this.getIndex():$($("#infoTab").children()[1]).remove()}.bind(this);if(i){this.model.getProperties(function(e,t){if(e)arangoHelper.arangoError("Collection","Could not fetch properties");else{var i=t.journalSize/1048576,n=t.indexBuckets,s=t.waitForSync;a.push(window.modalView.createTextEntry("change-collection-size","Journal size",i,"The maximal size of a journal or datafile (in MB). Must be at least 1.","",!0,[{rule:Joi.string().allow("").optional().regex(/^[0-9]*$/),msg:"Must be a number."}])),a.push(window.modalView.createTextEntry("change-index-buckets","Index buckets",n,"The number of index buckets for this collection. Must be at least 1 and a power of 2.","",!0,[{rule:Joi.string().allow("").optional().regex(/^[1-9][0-9]*$/),msg:"Must be a number greater than 1 and a power of 2."}])),a.push(window.modalView.createSelectEntry("change-collection-sync","Wait for sync",s,"Synchronize to disk before returning from a create or update of a document.",[{value:!1,label:"No"},{value:!0,label:"Yes"}]))}r()})}else r()}}.bind(this);window.isCoordinator(e)},bindIndexEvents:function(){this.unbindIndexEvents();var e=this;$("#indexEditView #addIndex").bind("click",function(){e.toggleNewIndexView(),$("#cancelIndex").unbind("click"),$("#cancelIndex").bind("click",function(){e.toggleNewIndexView()}),$("#createIndex").unbind("click"),$("#createIndex").bind("click",function(){e.createIndex()})}),$("#newIndexType").bind("change",function(){e.selectIndexType()}),$(".deleteIndex").bind("click",function(t){e.prepDeleteIndex(t)}),$("#infoTab a").bind("click",function(e){if($("#indexDeleteModal").remove(),"Indexes"!==$(e.currentTarget).html()||$(e.currentTarget).parent().hasClass("active")||($("#newIndexView").hide(),$("#indexEditView").show(),$("#modal-dialog .modal-footer .button-danger").hide(),$("#modal-dialog .modal-footer .button-success").hide(),$("#modal-dialog .modal-footer .button-notification").hide()),"General"===$(e.currentTarget).html()&&!$(e.currentTarget).parent().hasClass("active")){$("#modal-dialog .modal-footer .button-danger").show(),$("#modal-dialog .modal-footer .button-success").show(),$("#modal-dialog .modal-footer .button-notification").show();var t=$(".index-button-bar2")[0];$("#cancelIndex").is(":visible")&&($("#cancelIndex").detach().appendTo(t),$("#createIndex").detach().appendTo(t))}})},unbindIndexEvents:function(){$("#indexEditView #addIndex").unbind("click"),$("#newIndexType").unbind("change"),$("#infoTab a").unbind("click"),$(".deleteIndex").unbind("click")},createInfoModal:function(){var e=function(e,t,i){if(e)arangoHelper.arangoError("Figures","Could not get revision.");else{var n={figures:i,revision:t,model:this.model};window.modalView.show("modalCollectionInfo.ejs","Collection: "+(this.model.get("name").length>64?this.model.get("name").substr(0,64)+"...":this.model.get("name")),[],n)}}.bind(this),t=function(t,i){if(t)arangoHelper.arangoError("Figures","Could not get figures.");else{var n=i;this.model.getRevision(e,n)}}.bind(this);this.model.getFigures(t)},resetIndexForms:function(){$("#indexHeader input").val("").prop("checked",!1),$("#newIndexType").val("Geo").prop("selected",!0),this.selectIndexType()},createIndex:function(){var e,t,i,n=this,a={};switch($("#newIndexType").val()){case"Ttl":e=$("#newTtlFields").val();var r=parseInt($("#newTtlExpireAfter").val(),10)||0;a={type:"ttl",fields:n.stringToArray(e),expireAfter:r};break;case"Geo":e=$("#newGeoFields").val();var s=n.checkboxToValue("#newGeoJson"),o=n.checkboxToValue("#newGeoConstraint"),l=n.checkboxToValue("#newGeoIgnoreNull");a={type:"geo",fields:n.stringToArray(e),geoJson:s,constraint:o,ignoreNull:l};break;case"Hash":e=$("#newHashFields").val(),t=n.checkboxToValue("#newHashUnique"),i=n.checkboxToValue("#newHashSparse"),a={type:"hash",fields:n.stringToArray(e),unique:t,sparse:i};break;case"Fulltext":e=$("#newFulltextFields").val();var c=parseInt($("#newFulltextMinLength").val(),10)||0;a={type:"fulltext",fields:n.stringToArray(e),minLength:c};break;case"Skiplist":e=$("#newSkiplistFields").val(),t=n.checkboxToValue("#newSkiplistUnique"),i=n.checkboxToValue("#newSkiplistSparse"),a={type:"skiplist",fields:n.stringToArray(e),unique:t,sparse:i}}window.modalView.hide(),n.model.createIndex(a,function(e,t){if(e)if(t){var i=JSON.parse(t.responseText);arangoHelper.arangoError("Document error",i.errorMessage)}else arangoHelper.arangoError("Document error","Could not create index.");n.refreshCollectionsView()})},lastTarget:null,prepDeleteIndex:function(e){var t=this;this.lastTarget=e,this.lastId=$(this.lastTarget.currentTarget).parent().parent().first().children().first().text(),$("#modal-dialog .modal-footer").after('<div id="indexDeleteModal" style="display:block;" class="alert alert-error modal-delete-confirmation"><strong>Really delete?</strong><button id="indexConfirmDelete" class="button-danger pull-right modal-confirm-delete">Yes</button><button id="indexAbortDelete" class="button-neutral pull-right">No</button></div>'),$("#indexConfirmDelete").unbind("click"),$("#indexConfirmDelete").bind("click",function(){$("#indexDeleteModal").remove(),t.deleteIndex()}),$("#indexAbortDelete").unbind("click"),$("#indexAbortDelete").bind("click",function(){$("#indexDeleteModal").remove()})},refreshCollectionsView:function(){window.App.arangoCollectionsStore.fetch({success:function(){window.App.collectionsView.render()}})},deleteIndex:function(){var e=function(e){e?(arangoHelper.arangoError("Could not delete index"),$("tr th:contains('"+this.lastId+"')").parent().children().last().html('<span class="deleteIndex icon_arangodb_roundminus" data-original-title="Delete index" title="Delete index"></span>'),this.model.set("locked",!1),this.refreshCollectionsView()):e||void 0===e||($("tr th:contains('"+this.lastId+"')").parent().remove(),this.model.set("locked",!1),this.refreshCollectionsView()),this.refreshCollectionsView()}.bind(this);this.model.set("locked",!0),this.model.deleteIndex(this.lastId,e),$("tr th:contains('"+this.lastId+"')").parent().children().last().html('<i class="fa fa-circle-o-notch fa-spin"></i>')},selectIndexType:function(){$(".newIndexClass").hide();var e=$("#newIndexType").val();$("#newIndexType"+e).show()},getIndex:function(){var e=function(e,t){e?window.arangoHelper.arangoError("Index",t.errorMessage):this.renderIndex(t)}.bind(this);this.model.getIndex(e)},renderIndex:function(e){this.index=e;var t="collectionInfoTh modal-text";if(this.index){var i="",n="";_.each(this.index.indexes,function(e){n="primary"===e.type||"edge"===e.type?'<span class="icon_arangodb_locked" data-original-title="No action"></span>':'<span class="deleteIndex icon_arangodb_roundminus" data-original-title="Delete index" title="Delete index"></span>',void 0!==e.fields&&(i=e.fields.join(", "));var a=e.id.indexOf("/"),r=e.id.substr(a+1,e.id.length),s=e.hasOwnProperty("selectivityEstimate")?(100*e.selectivityEstimate).toFixed(2)+"%":"n/a",o=e.hasOwnProperty("sparse")?e.sparse:"n/a";$("#collectionEditIndexTable").append("<tr><th class="+JSON.stringify(t)+">"+r+"</th><th class="+JSON.stringify(t)+">"+e.type+"</th><th class="+JSON.stringify(t)+">"+e.unique+"</th><th class="+JSON.stringify(t)+">"+o+"</th><th class="+JSON.stringify(t)+">"+s+"</th><th class="+JSON.stringify(t)+">"+i+"</th><th class="+JSON.stringify(t)+">"+n+"</th></tr>")})}this.bindIndexEvents()},toggleNewIndexView:function(){var e=$(".index-button-bar2")[0];$("#indexEditView").is(":visible")?($("#indexEditView").hide(),$("#newIndexView").show(),$("#cancelIndex").detach().appendTo("#modal-dialog .modal-footer"),$("#createIndex").detach().appendTo("#modal-dialog .modal-footer")):($("#indexEditView").show(),$("#newIndexView").hide(),$("#cancelIndex").detach().appendTo(e),$("#createIndex").detach().appendTo(e)),arangoHelper.fixTooltips(".icon_arangodb, .arangoicon","right"),this.resetIndexForms()},stringToArray:function(e){var t=[];return e.split(",").forEach(function(e){""!==(e=e.replace(/(^\s+|\s+$)/g,""))&&t.push(e)}),t},checkboxToValue:function(e){return $(e).prop("checked")}})}()},function(e,t){!function(){"use strict";window.CollectionsView=Backbone.View.extend({el:"#content",el2:"#collectionsThumbnailsIn",readOnly:!1,defaultReplicationFactor:0,minReplicationFactor:0,maxReplicationFactor:0,maxNumberOfShards:0,searchTimeout:null,refreshRate:1e4,template:templateEngine.createTemplate("collectionsView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},refetchCollections:function(){var e=this;this.collection.fetch({cache:!1,success:function(){e.checkLockedCollections()}})},checkLockedCollections:function(){var e=function(e,t){var i=this;e||(this.collection.each(function(e){e.set("locked",!1)}),_.each(t,function(e){var t=i.collection.findWhere({id:e.collection});t.set("locked",!0),t.set("lockType",e.type),t.set("desc",e.desc)}),this.collection.each(function(e){e.get("locked")||($("#collection_"+e.get("name")).find(".corneredBadge").removeClass("loaded unloaded"),$("#collection_"+e.get("name")+" .corneredBadge").text(e.get("status")),$("#collection_"+e.get("name")+" .corneredBadge").addClass(e.get("status"))),e.get("locked")||"loading"===e.get("status")?($("#collection_"+e.get("name")).addClass("locked"),e.get("locked")?($("#collection_"+e.get("name")).find(".corneredBadge").removeClass("loaded unloaded"),$("#collection_"+e.get("name")).find(".corneredBadge").addClass("inProgress"),$("#collection_"+e.get("name")+" .corneredBadge").text(e.get("desc"))):$("#collection_"+e.get("name")+" .corneredBadge").text(e.get("status"))):($("#collection_"+e.get("name")).removeClass("locked"),$("#collection_"+e.get("name")+" .corneredBadge").text(e.get("status")),$("#collection_"+e.get("name")+" .corneredBadge").hasClass("inProgress")&&($("#collection_"+e.get("name")+" .corneredBadge").text(e.get("status")),$("#collection_"+e.get("name")+" .corneredBadge").removeClass("inProgress"),$("#collection_"+e.get("name")+" .corneredBadge").addClass("loaded")),"unloaded"===e.get("status")&&$("#collection_"+e.get("name")+" .icon_arangodb_info").addClass("disabled"))}))}.bind(this);frontendConfig.ldapEnabled||window.arangoHelper.syncAndReturnUnfinishedAardvarkJobs("index",e)},initialize:function(){var e=this;this.defaultReplicationFactor=frontendConfig.defaultReplicationFactor,this.minReplicationFactor=frontendConfig.minReplicationFactor,this.maxReplicationFactor=frontendConfig.maxReplicationFactor,this.maxNumberOfShards=frontendConfig.maxNumberOfShards,window.setInterval(function(){"#collections"===window.location.hash&&window.VISIBLE&&e.refetchCollections()},e.refreshRate)},render:function(){this.checkLockedCollections();var e=!1;$("#collectionsDropdown").is(":visible")&&(e=!0),$(this.el).html(this.template.render({})),this.setFilterValues(),!0===e&&$("#collectionsDropdown2").show();var t,i=this.collection.searchOptions;this.collection.getFiltered(i).forEach(function(e){$("#collectionsThumbnailsIn",this.el).append(new window.CollectionListItemView({model:e,collectionsView:this}).render().el)},this),"none"===$("#collectionsDropdown2").css("display")?$("#collectionsToggle").removeClass("activated"):$("#collectionsToggle").addClass("activated"),arangoHelper.setCheckboxStatus("#collectionsDropdown");try{t=i.searchPhrase.length}catch(n){}return $("#searchInput").val(i.searchPhrase),$("#searchInput").focus(),$("#searchInput")[0].setSelectionRange(t,t),arangoHelper.fixTooltips(".icon_arangodb, .arangoicon","left"),arangoHelper.checkDatabasePermissions(this.setReadOnly.bind(this)),this},setReadOnly:function(){this.readOnly=!0,$("#createCollection").parent().parent().addClass("disabled")},events:{"click #createCollection":"createCollection","keydown #searchInput":"restrictToSearchPhraseKey","change #searchInput":"restrictToSearchPhrase","click #searchSubmit":"restrictToSearchPhrase","click .checkSystemCollections":"checkSystem","click #checkLoaded":"checkLoaded","click #checkUnloaded":"checkUnloaded","click #checkDocument":"checkDocument","click #checkEdge":"checkEdge","click #sortName":"sortName","click #sortType":"sortType","click #sortOrder":"sortOrder","click #collectionsToggle":"toggleView","click .css-label":"checkBoxes"},updateCollectionsView:function(){var e=this;this.collection.fetch({cache:!1,success:function(){e.render()}})},toggleView:function(){$("#collectionsToggle").toggleClass("activated"),$("#collectionsDropdown2").slideToggle(200)},checkBoxes:function(e){var t=e.currentTarget.id;$("#"+t).click()},checkSystem:function(){var e=this.collection.searchOptions,t=e.includeSystem;e.includeSystem=!0===$(".checkSystemCollections").is(":checked"),t!==e.includeSystem&&this.render()},checkEdge:function(){var e=this.collection.searchOptions,t=e.includeEdge;e.includeEdge=!0===$("#checkEdge").is(":checked"),t!==e.includeEdge&&this.render()},checkDocument:function(){var e=this.collection.searchOptions,t=e.includeDocument;e.includeDocument=!0===$("#checkDocument").is(":checked"),t!==e.includeDocument&&this.render()},checkLoaded:function(){var e=this.collection.searchOptions,t=e.includeLoaded;e.includeLoaded=!0===$("#checkLoaded").is(":checked"),t!==e.includeLoaded&&this.render()},checkUnloaded:function(){var e=this.collection.searchOptions,t=e.includeUnloaded;e.includeUnloaded=!0===$("#checkUnloaded").is(":checked"),t!==e.includeUnloaded&&this.render()},sortName:function(){var e=this.collection.searchOptions,t=e.sortBy;e.sortBy=!0===$("#sortName").is(":checked")?"name":"type",t!==e.sortBy&&this.render()},sortType:function(){var e=this.collection.searchOptions,t=e.sortBy;e.sortBy=!0===$("#sortType").is(":checked")?"type":"name",t!==e.sortBy&&this.render()},sortOrder:function(){var e=this.collection.searchOptions,t=e.sortOrder;e.sortOrder=!0===$("#sortOrder").is(":checked")?-1:1,t!==e.sortOrder&&this.render()},setFilterValues:function(){var e=this.collection.searchOptions;$("#checkLoaded").attr("checked",e.includeLoaded),$("#checkUnloaded").attr("checked",e.includeUnloaded),$(".checkSystemCollections").attr("checked",e.includeSystem),$("#checkEdge").attr("checked",e.includeEdge),$("#checkDocument").attr("checked",e.includeDocument),$("#sortName").attr("checked","type"!==e.sortBy),$("#sortType").attr("checked","type"===e.sortBy),$("#sortOrder").attr("checked",1!==e.sortOrder)},search:function(){var e=this.collection.searchOptions,t=$("#searchInput").val();t!==e.searchPhrase&&(e.searchPhrase=t,this.render())},resetSearch:function(){this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.collection.searchOptions.searchPhrase=null},restrictToSearchPhraseKey:function(){var e=this;this.resetSearch(),e.searchTimeout=setTimeout(function(){e.search()},200)},restrictToSearchPhrase:function(){this.resetSearch(),this.search()},createCollection:function(e){if(!this.readOnly){e.preventDefault();var t=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/engine"),contentType:"application/json",processData:!1,success:function(e){t.engine=e,t.createNewCollectionModal(e)},error:function(){arangoHelper.arangoError("Engine","Could not fetch ArangoDB Engine details.")}})}},submitCreateCollection:function(){var e=this,t=function(t,i){if(t)arangoHelper.arangoError("DB","Could not check coordinator state");else{var n=$("#new-collection-name").val(),a=$("#new-collection-size").val(),r=Number($("#new-replication-factor").val()),s=Number($("#new-write-concern").val()),o=$("#new-collection-type").val(),l=$("#new-collection-sync").val(),c=1,h=[],d="",u="";if(""===r&&(r=e.defaultReplicationFactor?e.defaultReplicationFactor:1),""===s&&(s=1),"true"===$("#is-satellite-collection").val()&&(r="satellite"),i){if(frontendConfig.isEnterprise&&""!==$("#smart-join-attribute").val()&&(d=$("#smart-join-attribute").val().trim()),frontendConfig.isEnterprise&&(u=$("#distribute-shards-like").val().trim()),""===(c=$("#new-collection-shards").val())&&(c=1),(c=parseInt(c,10))<1)return arangoHelper.arangoError("Number of shards has to be an integer value greater or equal 1"),0;0===(h=_.pluck($("#new-collection-shardKeys").select2("data"),"text")).length?h.push("_key"):_.each(h,function(e,t){h[t]=arangoHelper.escapeHtml(e)})}if("_"===n.substr(0,1))return arangoHelper.arangoError('No "_" allowed as first character!'),0;var p="true"===l;if(a>0)try{a=1024*JSON.parse(a)*1024}catch(v){return arangoHelper.arangoError("Please enter a valid number"),0}if(""===n)return arangoHelper.arangoError("No collection name entered!"),0;var f=function(e,t){if(e)try{t=JSON.parse(t.responseText),arangoHelper.arangoError("Error",t.errorMessage)}catch(i){}else"#collections"===window.location.hash&&this.updateCollectionsView(),arangoHelper.arangoNotification("Collection",'Collection "'+t.name+'" successfully created.')}.bind(this),g=!1;try{Number.parseInt(s)>Number.parseInt(r)&&(arangoHelper.arangoError("New Collection","Write concern is not allowed to be greater than replication factor"),g=!0)}catch(b){}var m={collName:n,wfs:p,isSystem:!1,collType:o,shards:c,shardKeys:h};"rocksdb"!==e.engine.name&&(m.journalSize=a),""!==d&&(m.smartJoinAttribute=d),m.distributeShardsLike=u,""===u&&window.App.isCluster&&(m.replicationFactor="satellite"===r?r:Number(r),m.writeConcern=Number(s)),g||(this.collection.newCollection(m,f),window.modalView.hide(),arangoHelper.arangoNotification("Collection",'Collection "'+n+'" will be created.'))}}.bind(this);window.isCoordinator(t)},createNewCollectionModal:function(){var e=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/database/current"),contentType:"application/json",processData:!1,success:function(t){e.createNewCollectionModalReal(t.result)},error:function(){arangoHelper.arangoError("Engine","Could not fetch default collection properties.")}})},createNewCollectionModalReal:function(e){var t=this,i=function(i,n){if(i)arangoHelper.arangoError("DB","Could not check coordinator state");else{var a=[],r=[],s={},o=[];r.push(window.modalView.createTextEntry("new-collection-name","Name","",!1,"",!0,[{rule:Joi.string().regex(/^[a-zA-Z]/),msg:"Collection name must always start with a letter."},{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only symbols, "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No collection name given."}])),r.push(window.modalView.createSelectEntry("new-collection-type","Type","","The type of the collection to create.",[{value:2,label:"Document"},{value:3,label:"Edge"}])),n&&(r.push(window.modalView.createTextEntry("new-collection-shards","Number of shards",1===this.maxNumberOfShards?String(this.maxNumberOfShards):0,"The number of shards to create. The maximum value is "+this.maxNumberOfShards+". You cannot change this afterwards.","",!0)),r.push(window.modalView.createSelect2Entry("new-collection-shardKeys","Shard keys","","The keys used to distribute documents on shards. Type the key and press return to add it.","_key",!1)),window.App.isCluster&&r.push(window.modalView.createTextEntry("new-replication-factor","Replication factor",e.replicationFactor?e.replicationFactor:"","Numeric value. Must be between "+(this.minReplicationFactor?this.minReplicationFactor:1)+" and "+(this.maxReplicationFactor?this.maxReplicationFactor:10)+". Total number of copies of the data in the cluster","",!1,[{rule:Joi.string().allow("").optional().regex(/^[1-9][0-9]*$/),msg:"Must be a number between "+(this.minReplicationFactor?this.minReplicationFactor:1)+" and "+(this.maxReplicationFactor?this.maxReplicationFactor:10)+"."}]))),a.push(window.modalView.createSuccessButton("Save",this.submitCreateCollection.bind(this))),window.App.isCluster&&(frontendConfig.isEnterprise&&(o.push(window.modalView.createTextEntry("distribute-shards-like","Distribute shards like","single"===e.sharding?"_graphs":"","Name of another collection that should be used as a prototype for sharding this collection.","",!1,[])),o.push(window.modalView.createSelectEntry("is-satellite-collection","Satellite collection","","Create satellite collection? This will disable replication factor.",[{value:!1,label:"No"},{value:!0,label:"Yes"}])),o.push(window.modalView.createTextEntry("smart-join-attribute","Smart join attribute","","String attribute name. Can be left empty if smart joins are not used.","",!1,[]))),o.push(window.modalView.createTextEntry("new-write-concern","Write concern",e.writeConcern?e.writeConcern:"","Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[1-9]*$/),msg:"Must be a number. Must be at least 1 and has to be smaller or equal compared to the replicationFactor."}]))),"rocksdb"!==t.engine.name&&o.push(window.modalView.createTextEntry("new-collection-size","Journal size","","The maximal size of a journal or datafile (in MB). Must be at least 1.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[0-9]*$/),msg:"Must be a number."}])),o.push(window.modalView.createSelectEntry("new-collection-sync","Wait for sync","","Synchronize to disk before returning from a create or update of a document.",[{value:!1,label:"No"},{value:!0,label:"Yes"}])),s.header="Advanced",s.content=o,window.modalView.show("modalTable.ejs","New Collection",a,r,s),$("#s2id_new-collection-shardKeys .select2-search-field input").on("focusout",function(e){$(".select2-drop").is(":visible")&&($("#select2-search-field input").is(":focus")||window.setTimeout(function(){$(e.currentTarget).parent().parent().parent().select2("close")},200))}),window.App.isCluster&&frontendConfig.isEnterprise&&$("#is-satellite-collection").on("change",function(e){"true"===$("#is-satellite-collection").val()?($("#new-replication-factor").prop("disabled",!0),$("#new-write-concern").prop("disabled",!0),$("#new-collection-shards").prop("disabled",!0)):($("#new-replication-factor").prop("disabled",!1),$("#new-write-concern").prop("disabled",!1),$("#new-collection-shards").prop("disabled",!1)),$("#new-replication-factor").val("").focus().focusout(),$("#new-write-concern").val("").focus().focusout(),$("#new-collection-shards").val("").focus().focusout()})}}.bind(this);window.isCoordinator(i)}})}()},function(e,t){!function(){"use strict";function e(e,t){return void 0!==e&&null!==e||(e=0),e.toFixed(t)}window.DashboardView=Backbone.View.extend({el:"#content",interval:1e4,defaultTimeFrame:12e5,reRender:!0,reRenderDistribution:!0,isVisible:!0,distributionCharts:{totalTimeDistribution:null,dataTransferDistribution:null},residentChart:null,history:{},graphs:{},events:{"click .subViewNavbar .subMenuEntry":"toggleViews"},tendencies:{asyncPerSecondCurrent:["asyncPerSecondCurrent","asyncPerSecondPercentChange"],syncPerSecondCurrent:["syncPerSecondCurrent","syncPerSecondPercentChange"],clientConnectionsCurrent:["clientConnectionsCurrent","clientConnectionsPercentChange"],clientConnectionsAverage:["clientConnections15M","clientConnections15MPercentChange"],numberOfThreadsCurrent:["numberOfThreadsCurrent","numberOfThreadsPercentChange"],numberOfThreadsAverage:["numberOfThreads15M","numberOfThreads15MPercentChange"],virtualSizeCurrent:["virtualSizeCurrent","virtualSizePercentChange"],virtualSizeAverage:["virtualSize15M","virtualSize15MPercentChange"]},barCharts:{totalTimeDistribution:["queueTimeDistributionPercent","requestTimeDistributionPercent"],dataTransferDistribution:["bytesSentDistributionPercent","bytesReceivedDistributionPercent"]},barChartsElementNames:{queueTimeDistributionPercent:"Queue",requestTimeDistributionPercent:"Computation",bytesSentDistributionPercent:"Bytes sent",bytesReceivedDistributionPercent:"Bytes received"},getDetailFigure:function(e){return $(e.currentTarget).attr("id").replace(/ChartButton/g,"")},showDetail:function(e){var t,i=this,n=this.getDetailFigure(e);t=this.dygraphConfig.getDetailChartConfig(n),this.getHistoryStatistics(n),this.detailGraphFigure=n,window.modalView.hideFooter=!0,window.modalView.hide(),window.modalView.show("modalGraph.ejs",t.header,void 0,void 0,void 0,void 0,this.events),window.modalView.hideFooter=!1,$("#modal-dialog").on("hidden",function(){i.hidden()}),$("#modal-dialog").toggleClass("modal-chart-detail",!0),t.height=.7*$(window).height(),t.width=$(".modal-inner-detail").width(),t.labelsDiv=$(t.labelsDiv)[0],this.detailGraph=new Dygraph(document.getElementById("lineChartDetail"),this.history[this.server][n],t)},hidden:function(){this.detailGraph.destroy(),delete this.detailGraph,delete this.detailGraphFigure},getCurrentSize:function(e){return"#"!==e.substr(0,1)&&(e="#"+e),$(e).attr("style",""),{height:$(e).height(),width:$(e).width()}},prepareDygraphs:function(){var e,t=this;this.dygraphConfig.getDashBoardFigures().forEach(function(i){e=t.dygraphConfig.getDefaultConfig(i);var n=t.getCurrentSize(e.div);e.height=n.height,e.width=n.width,t.graphs[i]=new Dygraph(document.getElementById(e.div),t.history[t.server][i]||[],e)})},initialize:function(e){this.options=e,this.dygraphConfig=e.dygraphConfig,this.d3NotInitialized=!0,this.events["click .dashboard-sub-bar-menu-sign"]=this.showDetail.bind(this),this.events["mousedown .dygraph-rangesel-zoomhandle"]=this.stopUpdating.bind(this),this.events["mouseup .dygraph-rangesel-zoomhandle"]=this.startUpdating.bind(this),void 0===e.serverToShow&&(e.serverToShow={}),void 0===e.serverToShow.target&&0===window.location.hash.indexOf("#node/")&&(e.serverToShow.target=window.location.hash.split("/")[1]),this.serverInfo=e.serverToShow,this.serverInfo?this.server=this.serverInfo.target:this.server="-local-",this.history[this.server]={}},toggleViews:function(e){var t=e.currentTarget.id.split("-")[0],i=this;_.each(["requests","system"],function(e){t!==e?$("#"+e).hide():($("#"+e).show(),i.resize(),$(window).resize())}),$(".subMenuEntries").children().removeClass("active"),$("#"+t+"-statistics").addClass("active"),window.setTimeout(function(){i.resize(),$(window).resize()},200)},updateCharts:function(){var e=this;this.detailGraph?this.updateLineChart(this.detailGraphFigure,!0):(this.prepareD3Charts(this.isUpdating),this.prepareResidentSize(this.isUpdating),this.updateTendencies(),Object.keys(this.graphs).forEach(function(t){e.updateLineChart(t,!1)}))},updateTendencies:function(){var e=this,t=this.tendencies,i="";Object.keys(t).forEach(function(t){var n="",a=0;e.history.hasOwnProperty(e.server)&&e.history[e.server].hasOwnProperty(t)&&(a=e.history[e.server][t][1]),a<0?i="#d05448":(i="#77DB99",n="+"),e.history.hasOwnProperty(e.server)&&e.history[e.server].hasOwnProperty(t)?$("#"+t).html(e.history[e.server][t][0]+'<br/><span class="dashboard-figurePer" style="color: '+i+';">'+n+a+"%</span>"):$("#"+t).html('<br/><span class="dashboard-figurePer" style="color: #000;"><p class="dataNotReadyYet">data not ready yet</p></span>')})},updateDateWindow:function(e,t){var i=(new Date).getTime();return t&&e.dateWindow_?[e.dateWindow_[0],i-e.dateWindow_[1]-5*this.interval>0?e.dateWindow_[1]:i]:[i-this.defaultTimeFrame,i]},updateLineChart:function(e,t){var i=t?this.detailGraph:this.graphs[e],n={file:this.history[this.server][e],dateWindow:this.updateDateWindow(i,t)},a=0,r=[];_.each(n.file,function(e){var t=e[0].getSeconds()-e[0].getSeconds()%10;n.file[a][0].setSeconds(t),r.push(n.file[a][0]),a++});for(var s=new Date(Math.max.apply(null,r)),o=new Date(Math.min.apply(null,r)),l=new Date(o.getTime()),c=[],h=[];l<s;)l=new Date(l.setSeconds(l.getSeconds()+10)),h.push(l);_.each(h,function(e){var t=!1;_.each(n.file,function(i){Math.floor(e.getTime()/1e3)===Math.floor(i[0].getTime()/1e3)&&(t=!0)}),!1===t&&e<new Date&&c.push(e)}),_.each(c,function(t){"systemUserTime"!==e&&"requests"!==e&&"pageFaults"!==e&&"dataTransfer"!==e||n.file.push([t,0,0]),"totalTime"===e&&n.file.push([t,0,0,0])}),void 0===n.file?($("#loadingScreen span").text("Statistics not ready yet. Waiting."),"#dashboard"!==window.location.hash&&""!==window.location.hash&&"#"!==window.location.hash||($("#loadingScreen").show(),$("#content").hide())):($("#content").show(),$("#loadingScreen").hide(),n.file.sort(function(e,t){return new Date(t[0])-new Date(e[0])}),i.updateOptions(n)),$(window).trigger("resize"),this.resize()},mergeDygraphHistory:function(e,t){var i,n=this;this.dygraphConfig.getDashBoardFigures(!0).forEach(function(a){if(n.dygraphConfig.mapStatToFigure[a]&&(n.history[n.server][a]||(n.history[n.server][a]=[]),i=[],n.dygraphConfig.mapStatToFigure[a].forEach(function(n){e[n]&&("times"===n?i.push(new Date(1e3*e[n][t])):i.push(e[n][t]))}),i.length>1)){var r=0,s=0;9===i.length&&(r+=i[1],r+=i[6],r+=i[7],r+=i[8],s+=i[2],s+=i[3],s+=i[4],s+=i[5],i=[i[0],r,s]),n.history[n.server][a].unshift(i)}})},cutOffHistory:function(e,t){for(var i=this.history[this.server][e];0!==i.length&&!(i[i.length-1][0]>=t);)i.pop()},cutOffDygraphHistory:function(e){var t=this,i=new Date(e);this.dygraphConfig.getDashBoardFigures(!0).forEach(function(e){t.dygraphConfig.mapStatToFigure[e]&&t.history[t.server][e]&&t.cutOffHistory(e,i)})},mergeHistory:function(t){var i,n=this;for(i=0;i<t.times.length;++i)this.mergeDygraphHistory(t,i);this.cutOffDygraphHistory((new Date).getTime()-this.defaultTimeFrame),Object.keys(this.tendencies).forEach(function(i){var a=1;"virtualSizeCurrent"===i||"virtualSizeAverage"===i?(t[n.tendencies[i][0]]/=1073741824,a=2):"clientConnectionsCurrent"===i?a=0:"numberOfThreadsCurrent"===i&&(a=0),n.history[n.server][i]=[e(t[n.tendencies[i][0]],a),e(100*t[n.tendencies[i][1]],1)]}),Object.keys(this.barCharts).forEach(function(e){n.history[n.server][e]=n.mergeBarChartData(n.barCharts[e],t)}),n.history[n.server].physicalMemory=t.physicalMemory,n.history[n.server].residentSizeCurrent=t.residentSizeCurrent,n.history[n.server].residentSizePercent=t.residentSizePercent,n.history[n.server].residentSizeChart=[{key:"",color:this.dygraphConfig.colors[1],values:[{label:"used",value:100*t.residentSizePercent}]},{key:"",color:this.dygraphConfig.colors[2],values:[{label:"used",value:100-100*t.residentSizePercent}]}],this.nextStart=t.nextStart},mergeBarChartData:function(e,t){var i,n={key:this.barChartsElementNames[e[0]],color:this.dygraphConfig.colors[1],values:[]},a={key:this.barChartsElementNames[e[1]],color:this.dygraphConfig.colors[2],values:[]};for(i=t[e[0]].values.length-1;i>=0;--i)n.values.push({label:this.getLabel(t[e[0]].cuts,i),value:t[e[0]].values[i]}),a.values.push({label:this.getLabel(t[e[1]].cuts,i),value:t[e[1]].values[i]});return[n,a]},getLabel:function(e,t){return e[t]?0===t?"0 - "+e[t]:e[t-1]+" - "+e[t]:">"+e[t-1]},checkState:function(){"#dashboard"===window.location.hash||"#node"===window.location.hash.substr(0,5)?this.isVisible=!0:(this.residentChart=null,this.isVisible=!1,this.reRender=!0,this.reRenderDistribution=!1)},renderStatisticBox:function(e,t,i,n){if($("#node-info #nodeattribute-"+e).length)$("#node-info #nodeattribute-"+e).html(t);else{var a="";a+=6===n?'<div class="pure-u-1-2 pure-u-md-1-3 pure-u-lg-1-6" style="background-color: #fff">':'<div class="pure-u-1-2 pure-u-md-1-4" style="background-color: #fff">',a+='<div class="valueWrapper">',a+=i?'<div id="nodeattribute-'+e+'" class="value tippy" title="'+t+'">'+t+"</div>":'<div id="nodeattribute-'+e+'" class="value">'+t+"</div>",a+='<div class="graphLabel">'+e+"</div>",a+="</div>",a+="</div>",$("#node-info").append(a)}},getNodeInfo:function(){var e=this;frontendConfig.isCluster?(this.serverInfo.isDBServer?this.renderStatisticBox("Role","DBServer",void 0,6):this.renderStatisticBox("Role","Coordinator",void 0,6),this.renderStatisticBox("Host",this.serverInfo.raw,this.serverInfo.raw,6),$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/clusterNodeVersion?ServerID="+this.serverInfo.target),contentType:"application/json",processData:!1,success:function(t){e.renderStatisticBox("Version",frontendConfig.version.version,void 0,6),e.renderStatisticBox("Edition",frontendConfig.version.license,void 0,6)},error:function(t){e.renderStatisticBox("Version","Error"),e.renderStatisticBox("Edition","Error")}}),$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/clusterNodeEngine?ServerID="+this.serverInfo.target),contentType:"application/json",processData:!1,success:function(t){e.renderStatisticBox("Engine",t.name,void 0,6)},error:function(t){e.renderStatisticBox("Engine","Error",void 0,6)}}),$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/clusterNodeStats?ServerID="+this.serverInfo.target),contentType:"application/json",processData:!1,success:function(t){e.renderStatisticBox("Uptime",moment.duration(t.server.uptime,"seconds").humanize(),void 0,6)},error:function(t){e.renderStatisticBox("Uptime","Error",void 0,6)}})):(this.renderStatisticBox("Version",frontendConfig.version.version),this.renderStatisticBox("Edition",frontendConfig.version.license),this.renderStatisticBox("Engine",frontendConfig.engine),$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/statistics"),contentType:"application/json",processData:!1,success:function(t){e.renderStatisticBox("Uptime",moment.duration(t.server.uptime,"seconds").humanize())},error:function(){e.renderStatisticBox("Uptime","N/A")}})),arangoHelper.createTooltips()},getStatistics:function(e,t){var i=this;i.checkState();var n=arangoHelper.databaseUrl("/_admin/aardvark/statistics/short","_system"),a="?start=";i.nextStart?("number"===typeof i.nextStart&&(i.nextStart=Number.parseInt(i.nextStart)),a+=i.nextStart):a+=Number.parseInt(((new Date).getTime()-i.defaultTimeFrame)/1e3),"-local-"!==i.server&&(a+="&type=short",i.serverInfo.target&&(a+="&DBserver="+i.serverInfo.target),i.history.hasOwnProperty(i.server)||(i.history[i.server]={})),$.ajax(n+a,{async:!0,xhrFields:{withCredentials:!0},crossDomain:!0}).done(function(n){n.times.length>0&&(i.isUpdating=!0,i.mergeHistory(n)),!1!==i.isUpdating&&(e&&e(n.enabled,t),i.updateCharts())}).error(function(e){arangoHelper.arangoError("Statistics","stat fetch req error:"+JSON.stringify(e))})},getHistoryStatistics:function(e){var t=this,i="statistics/long",n="?filter="+this.dygraphConfig.mapStatToFigure[e].join();"-local-"!==t.server&&(i=t.server.endpoint+arangoHelper.databaseUrl("/_admin/aardvark/statistics/cluster"),n+="&type=long&DBserver="+t.server.target,t.history.hasOwnProperty(t.server)||(t.history[t.server]={}));var a=window.location.href.split("/"),r=a[0]+"//"+a[2]+"/"+a[3]+"/_system/"+a[5]+"/"+a[6]+"/";$.ajax(r+i+n,{async:!0}).done(function(i){var n;for(t.history[t.server][e]=[],n=0;n<i.times.length;++n)t.mergeDygraphHistory(i,n)})},addEmptyDataLabels:function(){0===$(".dataNotReadyYet").length&&($("#dataTransferDistribution").prepend('<p class="dataNotReadyYet"> data not ready yet </p>'),$("#totalTimeDistribution").prepend('<p class="dataNotReadyYet"> data not ready yet </p>'),$(".dashboard-bar-chart-title").append('<p class="dataNotReadyYet"> data not ready yet </p>'))},removeEmptyDataLabels:function(){$(".dataNotReadyYet").remove()},prepareResidentSize:function(t){var i=this,n=this.getCurrentSize("#residentSizeChartContainer"),a=i.history[i.server].residentSizeCurrent/1024/1024,r="";r=a<1025?e(a,2)+" MB":e(a/1024,2)+" GB";var s,o=e(100*i.history[i.server].residentSizePercent,2);i.history[i.server].physicalMemory?(this.removeEmptyDataLabels(),s=[prettyBytes(i.history[i.server].physicalMemory)],void 0!==i.history[i.server].residentSizeChart?(this.removeEmptyDataLabels(),i.reRender&&i.isVisible?(nv.addGraph(function(){return i.residentChart=nv.models.multiBarHorizontalChart().x(function(e){return e.label}).y(function(e){return e.value}).width(n.width).height(n.height).margin({top:($("residentSizeChartContainer").outerHeight()-$("residentSizeChartContainer").height())/2,right:1,bottom:($("residentSizeChartContainer").outerHeight()-$("residentSizeChartContainer").height())/2,left:1}).showValues(!1).showYAxis(!1).showXAxis(!1).showLegend(!1).showControls(!1).stacked(!0),i.residentChart.yAxis.tickFormat(function(e){return e+"%"}).showMaxMin(!1),i.residentChart.xAxis.showMaxMin(!1),d3.select("#residentSizeChart svg").datum(i.history[i.server].residentSizeChart).call(i.residentChart),d3.select("#residentSizeChart svg").select(".nv-zeroLine").remove(),t&&(d3.select("#residentSizeChart svg").select("#total").remove(),d3.select("#residentSizeChart svg").select("#percentage").remove()),d3.select(".dashboard-bar-chart-title .percentage").html(r+" ("+o+" %)"),d3.select(".dashboard-bar-chart-title .absolut").html(s[0]),nv.utils.windowResize(i.residentChart.update),i.residentChart},function(){d3.selectAll("#residentSizeChart .nv-bar").on("click",function(){})}),i.reRender=!1):i.residentChart&&i.isVisible&&(i.residentChart.width(n.width),i.residentChart.height(n.height),d3.select(".dashboard-bar-chart-title .percentage").html(r+" ("+o+" %)"),d3.select(".dashboard-bar-chart-title .absolut").html(s[0]),d3.select("#residentSizeChart svg").datum(i.history[i.server].residentSizeChart).call(i.residentChart),nv.utils.windowResize(i.residentChart.update))):this.addEmptyDataLabels()):this.addEmptyDataLabels()},prepareD3Charts:function(t){var i=this;this.d3NotInitialized&&(!1,this.d3NotInitialized=!1),_.each(Object.keys({totalTimeDistribution:["queueTimeDistributionPercent","requestTimeDistributionPercent"],dataTransferDistribution:["bytesSentDistributionPercent","bytesReceivedDistributionPercent"]}),function(t){var n=i.getCurrentSize("#"+t+"Container .dashboard-interior-chart"),a="#"+t+"Container svg";void 0===i.history[i.server].residentSizeChart?i.addEmptyDataLabels():i.removeEmptyDataLabels(),i.reRenderDistribution&&i.isVisible?($("#"+t+"Container").append('<div class="dashboard-legend-inner"><span style="color: rgb(238, 190, 77);"><div style="display: inline-block; position: relative; bottom: .5ex; padding-left: 1em; height: 1px; border-bottom: 2px solid rgb(238, 190, 77);"></div> Bytes sent</span><span style="color: rgb(142, 209, 220);"><div style="display: inline-block; position: relative; bottom: .5ex; padding-left: 1em; height: 1px; border-bottom: 2px solid rgb(142, 209, 220);"></div> Bytes received</span></div>'),nv.addGraph(function(){var r=[0,.25,.5,.75,1],s=75,o=23,l=6;return n.width<219?(r=[0,.5,1],s=72,o=21,l=5):n.width<299?(r=[0,.3334,.6667,1],s=77):n.width<379?s=87:n.width<459?s=95:n.width<539?s=100:n.width<619&&(s=105),i.distributionCharts[t]=nv.models.multiBarHorizontalChart().x(function(e){return e.label}).y(function(e){return e.value}).width(n.width).height(n.height).margin({top:5,right:20,bottom:o,left:s}).showValues(!1).showYAxis(!0).showXAxis(!0).showLegend(!1).showControls(!1).forceY([0,1]),i.distributionCharts[t].yAxis.showMaxMin(!1),d3.select(".nv-y.nv-axis").selectAll("text").attr("transform","translate (0, "+l+")"),i.distributionCharts[t].yAxis.tickValues(r).tickFormat(function(t){return e(100*t*100/100,0)+"%"}),i.history[i.server][t]?d3.select(a).datum(i.history[i.server][t]).call(i.distributionCharts[t]):d3.select(a).datum([]).call(i.distributionCharts[t]),nv.utils.windowResize(i.distributionCharts[t].update),i.distributionCharts[t]},function(){d3.selectAll(a+" .nv-bar").on("click",function(){})})):i.distributionCharts[t]&&i.isVisible&&(i.distributionCharts[t].width(n.width),i.distributionCharts[t].height(n.height),i.history[i.server][t]?d3.select(a).datum(i.history[i.server][t]).call(i.distributionCharts[t]):d3.select(a).datum([]).call(i.distributionCharts[t]),nv.utils.windowResize(i.distributionCharts[t].update))}),i.reRenderDistribution&&i.isVisible&&(i.reRenderDistribution=!1)},stopUpdating:function(){this.isUpdating=!1},startUpdating:function(){var e=this;e.timer||(e.timer=window.setInterval(function(){window.App.isCluster?window.location.hash.indexOf(e.serverInfo.target)>-1&&e.getStatistics():e.getStatistics()},e.interval))},clearInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.timer&&clearInterval(this.timer)}),resize:function(){if(this.isUpdating){var e,t=this;_.each(this.graphs,function(i){e=t.getCurrentSize(i.maindiv_.id),i.resize(e.width,e.height)}),this.detailGraph&&(e=this.getCurrentSize(this.detailGraph.maindiv_.id),this.detailGraph.resize(e.width,e.height)),this.prepareD3Charts(!0),this.prepareResidentSize(!0)}},template:templateEngine.createTemplate("dashboardView.ejs"),checkEnabledStatistics:function(){return!(!frontendConfig.statisticsEnabled||"_system"!==frontendConfig.db)||($(this.el).html(""),this.server?$(this.el).append('<div style="color: red">Server statistics ('+this.server+") are disabled.</div>"):$(this.el).append('<div style="color: red">Server statistics are disabled.</div>'),!1)},render:function(e){if(this.checkEnabledStatistics())if(void 0===this.serverInfo&&(this.serverInfo={isDBServer:!1}),!0!==this.serverInfo.isDBServer){this.delegateEvents(this.events);var t=function(e,t){t||($(this.el).html(this.template.render({hideStatistics:!1})),this.getNodeInfo()),this.prepareDygraphs(),this.isUpdating&&(this.prepareD3Charts(),this.prepareResidentSize(),this.updateTendencies(),$(window).trigger("resize")),this.startUpdating(),$(window).resize()}.bind(this),i=function(){$(this.el).html(""),$(".contentDiv").remove(),$(".headerBar").remove(),$(".dashboard-headerbar").remove(),$(".dashboard-row").remove(),$(this.el).append('<div style="color: red">You do not have permission to view this page.</div>'),$(this.el).append("<div style=\"color: red\">You can switch to '_system' to see the dashboard.</div>")}.bind(this);if("_system"!==frontendConfig.db)return void i();var n=function(n,a){n||(a?this.getStatistics(t,e):i())}.bind(this);void 0===window.App.currentDB.get("name")?window.setTimeout(function(){"_system"===window.App.currentDB.get("name")?this.options.database.hasSystemAccess(n):i()}.bind(this),300):this.options.database.hasSystemAccess(n)}else $(this.el).html(this.template.render({hideStatistics:!0})),frontendConfig.isCluster||$("#subNavigationBar .breadcrumb").html(""),this.getNodeInfo()}})}()},function(e,t){!function(){"use strict";window.DatabaseView=Backbone.View.extend({users:null,el:"#content",readOnly:!1,template:templateEngine.createTemplate("databaseView.ejs"),dropdownVisible:!1,currentDB:"",events:{"click #createDatabase":"createDatabase","click #submitCreateDatabase":"submitCreateDatabase","click .editDatabase":"editDatabase","click #userManagementView .icon":"editDatabase","click #selectDatabase":"updateDatabase","click #submitDeleteDatabase":"submitDeleteDatabase","click .contentRowInactive a":"changeDatabase","keyup #databaseSearchInput":"search","click #databaseSearchSubmit":"search","click #databaseToggle":"toggleSettingsDropdown","click .css-label":"checkBoxes","click #dbSortDesc":"sorting"},sorting:function(){$("#dbSortDesc").is(":checked")?this.collection.setSortingDesc(!0):this.collection.setSortingDesc(!1),this.checkVisibility(),this.render()},initialize:function(){this.collection.fetch({async:!0,cache:!1})},checkBoxes:function(e){var t=e.currentTarget.id;$("#"+t).click()},setReadOnly:function(){$("#createDatabase").parent().parent().addClass("disabled")},render:function(){arangoHelper.checkDatabasePermissions(this.continueRender.bind(this),this.continueRender.bind(this))},continueRender:function(e){var t=this;e&&(this.readOnly=e);return this.collection.getCurrentDatabase(function(i,n){i?arangoHelper.arangoError("DB","Could not get current database properties"):(t.currentDB=n,t.collection.fetch({cache:!1,success:function(){t.collection.sort(),$(t.el).html(t.template.render({collection:t.collection,searchString:"",currentDB:t.currentDB,readOnly:e})),e&&t.setReadOnly(),!0===t.dropdownVisible&&($("#dbSortDesc").attr("checked",t.collection.sortOptions.desc),$("#databaseToggle").addClass("activated"),$("#databaseDropdown2").show()),arangoHelper.setCheckboxStatus("#databaseDropdown"),t.replaceSVGs()}}))}),this},checkVisibility:function(){$("#databaseDropdown").is(":visible")?this.dropdownVisible=!0:this.dropdownVisible=!1,arangoHelper.setCheckboxStatus("#databaseDropdown")},toggleSettingsDropdown:function(){var e=this;$("#dbSortDesc").attr("checked",this.collection.sortOptions.desc),$("#databaseToggle").toggleClass("activated"),$("#databaseDropdown2").slideToggle(200,function(){e.checkVisibility()})},selectedDatabase:function(){return $("#selectDatabases").val()},handleError:function(e,t){409===e.status?arangoHelper.arangoError("DB","Database "+t+" already exists."):400===e.status?arangoHelper.arangoError("DB","Invalid Parameters: "+e.responseJSON.errorMessage):403===e.status&&arangoHelper.arangoError("DB","Insufficent rights. Execute this from _system database")},validateDatabaseInfo:function(e,t){return""===t?(arangoHelper.arangoError("DB","You have to define an owner for the new database"),!1):""===e?(arangoHelper.arangoError("DB","You have to define a name for the new database"),!1):0===e.indexOf("_")?(arangoHelper.arangoError("DB ","Database name should not start with _"),!1):!!e.match(/^[a-zA-Z][a-zA-Z0-9_-]*$/)||(arangoHelper.arangoError("DB","Database name may only contain numbers, letters, _ and -"),!1)},createDatabase:function(e){e.preventDefault(),$("#createDatabase").parent().parent().hasClass("disabled")||this.createAddDatabaseModal()},switchDatabase:function(e){if(!$(e.target).parent().hasClass("iconSet")){var t=$(e.currentTarget).find("h5").text();if(""!==t){var i=this.collection.createDatabaseURL(t);window.location.replace(i)}}},submitCreateDatabase:function(){var e=this,t=$("#newDatabaseName").val(),i=$("#newUser").val(),n=$("#newSharding").val(),a=$("#new-replication-factor").val(),r=$("#new-write-concern").val(),s={name:t,options:{sharding:n,replicationFactor:Number(a),writeConcern:Number(r)},users:[{username:i}]};this.collection.create(s,{error:function(i,n){e.handleError(n,t)},success:function(t){"#databases"===window.location.hash&&e.updateDatabases(),arangoHelper.arangoNotification("Database "+t.get("name")+" created.")}}),arangoHelper.arangoNotification("Database creation in progress."),window.modalView.hide()},submitDeleteDatabase:function(e){this.collection.where({name:e})[0].destroy({wait:!0,url:arangoHelper.databaseUrl("/_api/database/"+e)}),this.updateDatabases(),window.App.naviView.dbSelectionView.render($("#dbSelect")),window.modalView.hide()},changeDatabase:function(e){var t=$(e.currentTarget).attr("id"),i=this.collection.createDatabaseURL(t);window.location.replace(i)},updateDatabases:function(){var e=this;this.collection.fetch({cache:!1,success:function(){e.render(),window.App.handleSelectDatabase()}})},editDatabase:function(e){var t=this.evaluateDatabaseName($(e.currentTarget).attr("id"),"_edit-database"),i=!0;t===this.currentDB&&(i=!1),this.createEditDatabaseModal(t,i)},search:function(){var e,t,i,n;e=$("#databaseSearchInput"),t=arangoHelper.escapeHtml($("#databaseSearchInput").val()),n=this.collection.filter(function(e){return-1!==e.get("name").indexOf(t)}),$(this.el).html(this.template.render({collection:n,searchString:t,currentDB:this.currentDB,readOnly:this.readOnly})),this.replaceSVGs(),i=(e=$("#databaseSearchInput")).val().length,e.focus(),e[0].setSelectionRange(i,i)},replaceSVGs:function(){$(".svgToReplace").each(function(){var e=$(this),t=e.attr("id"),i=e.attr("src");$.get(i,function(i){var n=$(i).find("svg");n.attr("id",t).attr("class","tile-icon-svg").removeAttr("xmlns:a"),e.replaceWith(n)},"xml")})},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},evaluateDatabaseName:function(e,t){var i=e.lastIndexOf(t);return e.substring(0,i)},createEditDatabaseModal:function(e,t){var i=[],n=[];n.push(window.modalView.createReadOnlyEntry("id_name","Name",e,"")),t?i.push(window.modalView.createDeleteButton("Delete",this.submitDeleteDatabase.bind(this,e))):i.push(window.modalView.createDisabledButton("Delete")),window.modalView.show("modalTable.ejs","Delete database",i,n)},createAddDatabaseModal:function(){var e=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/server/databaseDefaults"),contentType:"application/json",processData:!1,success:function(t){e.createAddDatabaseModalReal(t)},error:function(){arangoHelper.arangoError("Engine","Could not fetch ArangoDB Database defaults.")}})},createAddDatabaseModalReal:function(e){var t=e,i=[],n=[];if(n.push(window.modalView.createTextEntry("newDatabaseName","Name","",!1,"Database Name",!0,[{rule:Joi.string().regex(/^[a-zA-Z]/),msg:"Database name must start with a letter."},{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only Symbols "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No database name given."}])),window.App.isCluster&&(n.push(window.modalView.createTextEntry("new-replication-factor","Replication factor",t.replicationFactor,"Numeric value. Must be at least 1. Total number of copies of the data in the cluster","Default replication factor",!1,[{rule:Joi.string().allow("").optional().regex(/^([1-9]|10)$/),msg:"Must be a number between 1 and 10."}])),n.push(window.modalView.createTextEntry("new-write-concern","Write concern",t.writeConcern,"Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created.","Default write concern",!1,[{rule:Joi.string().allow("").optional().regex(/^([1-9]|10)$/),msg:"Must be a number between 1 and 10. Has to be smaller or equal compared to the replicationFactor."}]))),window.App.isCluster&&frontendConfig.isEnterprise){n.push(window.modalView.createSelectEntry("newSharding","Sharding","flexible","Selects the default sharding setup for new collections in this database. *flexible* means that shards of different collections by default will be randomly distributed to database servers. *single* means that collections by default will use the same sharding setup (number of shards and shard distribution) as one of the system collections.",[{value:"",label:"flexible"},{value:"single",label:"single"}]))}var a=[];window.App.userCollection.each(function(e){a.push({value:e.get("user"),label:e.get("user")})}),n.push(window.modalView.createSelectEntry("newUser","Username",null!==this.users?this.users.whoAmI():"root","Please define the owner of this database. This will be the only user having initial access to this database if authentication is turned on. Please note that if you specify a username different to your account you will not be able to access the database with your account after having creating it. Specifying a username is mandatory even with authentication turned off. If there is a failure you will be informed.",a)),i.push(window.modalView.createSuccessButton("Create",this.submitCreateDatabase.bind(this))),window.modalView.show("modalTable.ejs","Create Database",i,n),$("#useDefaultPassword").change(function(){"true"===$("#useDefaultPassword").val()?$("#row_newPassword").hide():$("#row_newPassword").show()}),$("#row_newPassword").hide()}})}()},function(e,t){!function(){"use strict";window.DBSelectionView=Backbone.View.extend({template:templateEngine.createTemplate("dbSelectionView.ejs"),events:{"click .dbSelectionLink":"changeDatabase"},initialize:function(e){this.current=e.current},changeDatabase:function(e){var t=$(e.currentTarget).closest(".dbSelectionLink.tab").attr("id"),i=this.collection.createDatabaseURL(t);window.location.replace(i)},render:function(e){var t=function(t,i){t?arangoHelper.arangoError("DB","Could not fetch databases"):(this.$el=e,this.$el.html(this.template.render({list:i,current:this.current.get("name")})),this.delegateEvents())}.bind(this);return this.collection.getDatabasesForUser(t),this.el}})}()},function(e,t){!function(){"use strict";var e=function(e){var t=e.split("/");return"collection/"+encodeURIComponent(t[0])+"/"+encodeURIComponent(t[1])};window.DocumentView=Backbone.View.extend({el:"#content",readOnly:!1,colid:0,docid:0,customView:!1,defaultMode:"tree",template:templateEngine.createTemplate("documentView.ejs"),events:{"click #saveDocumentButton":"saveDocument","click #deleteDocumentButton":"deleteDocumentModal","click #confirmDeleteDocument":"deleteDocument","click #document-from":"navigateToDocument","click #document-to":"navigateToDocument","keydown #documentEditor .ace_editor":"keyPress","keyup .jsoneditor .search input":"checkSearchBox","click #addDocument":"addDocument"},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},checkSearchBox:function(e){""===$(e.currentTarget).val()&&this.editor.expandAll()},initialize:function(){var e=localStorage.getItem("JSONEditorMode");e&&(this.defaultMode=e)},addDocument:function(e){this.readOnly||window.App.documentsView.addDocumentModal(e)},storeMode:function(e){localStorage.setItem("JSONEditorMode",e),this.defaultMode=e,this.editor.setMode(this.defaultMode)},keyPress:function(e){e.ctrlKey&&13===e.keyCode?(e.preventDefault(),this.saveDocument()):e.metaKey&&13===e.keyCode&&(e.preventDefault(),this.saveDocument())},editor:0,setType:function(){var e=this,t=function(t,i,n){t?(arangoHelper.arangoError("Error","Document not found."),e.renderNotFound(n)):(this.type=n,this.breadcrumb(),this.fillInfo(),this.fillEditor(),arangoHelper.checkCollectionPermissions(this.colid,this.changeViewToReadOnly.bind(this)))}.bind(this);this.collection.getDocument(this.colid,this.docid,t)},renderNotFound:function(e){$(".document-info-div").remove(),$(".headerButton").remove(),$(".document-content-div").html('<div class="infoBox errorBox"><h4>Error</h4><p>Document not found. Requested ID was: "'+e+'".</p></div>')},deleteDocumentModal:function(){if(!this.readOnly){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry("doc-delete-button","Confirm delete, document id is",this.type._id||this.docid,void 0,void 0,!1,/[<>&'"]/)),e.push(window.modalView.createDeleteButton("Delete",this.deleteDocument.bind(this))),window.modalView.show("modalTable.ejs","Delete Document",e,t)}},deleteDocument:function(){var e=function(){if(this.customView)this.customDeleteFunction&&this.customDeleteFunction();else{var e="collection/"+encodeURIComponent(this.colid)+"/documents/1";window.modalView.hide(),window.App.navigate(e,{trigger:!0})}}.bind(this);if(this.type._from&&this.type._to){this.collection.deleteEdge(this.colid,this.docid,function(t){t?arangoHelper.arangoError("Edge error","Could not delete edge"):e()})}else{this.collection.deleteDocument(this.colid,this.docid,function(t){t?arangoHelper.arangoError("Error","Could not delete document"):e()})}},navigateToDocument:function(e){var t=$(e.target).attr("documentLink"),i=(t.split("%").length-1)%3;decodeURIComponent(t)!==t&&0!==i&&(t=decodeURIComponent(t)),t&&window.App.navigate(t,{trigger:!0})},fillInfo:function(){var t=this.collection.first(),i=t.get("_id"),n=t.get("_key"),a=t.get("_rev"),r=t.get("_from"),s=t.get("_to");if($("#document-type").css("margin-left","10px"),$("#document-type").text("_id:"),$("#document-id").css("margin-left","0"),$("#document-id").text(i),$("#document-key").text(n),$("#document-rev").text(a),r&&s){var o=e(r),l=e(s);$("#document-from").text(r),$("#document-from").attr("documentLink",o),$("#document-to").text(s),$("#document-to").attr("documentLink",l)}else $(".edge-info-container").hide()},fillEditor:function(){var e=this.removeReadonlyKeys(this.collection.first().attributes);$(".disabledBread").last().text(this.collection.first().get("_key")),this.editor.set(e),$(".ace_content").attr("font-size","11pt")},jsonContentChanged:function(){this.enableSaveButton()},resize:function(){$("#documentEditor").height($(".centralRow").height()-300)},render:function(){$(this.el).html(this.template.render({})),$("#documentEditor").height($(".centralRow").height()-300),this.disableSaveButton();var e=this,t=document.getElementById("documentEditor"),i={onChange:function(){e.jsonContentChanged()},onModeChange:function(t){e.storeMode(t)},search:!0,mode:"tree",modes:["tree","code"],ace:window.ace};this.editor=new JSONEditor(t,i);var n=localStorage.getItem("JSONEditorMode");return"code"!==n&&"tree"!==n||(this.defaultMode=n),this.defaultMode&&this.editor.setMode(this.defaultMode),this},changeViewToReadOnly:function(){this.readOnly=!0,$(".breadcrumb").find("a").html($(".breadcrumb").find("a").html()+" (read-only)"),this.editor.setMode("view"),$(".jsoneditor-modes").hide(),$(".bottomButtonBar button").addClass("disabled"),$(".bottomButtonBar button").unbind("click"),$("#addDocument").addClass("disabled")},cleanupEditor:function(){this.editor&&this.editor.destroy()},removeReadonlyKeys:function(e){return _.omit(e,["_key","_id","_from","_to","_rev"])},saveDocument:function(){if(void 0===$("#saveDocumentButton").attr("disabled"))if("_"===this.collection.first().attributes._id.substr(0,1)){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry("doc-save-system-button","Caution","You are modifying a system collection. Really continue?",void 0,void 0,!1,/[<>&'"]/)),e.push(window.modalView.createSuccessButton("Save",this.confirmSaveDocument.bind(this))),window.modalView.show("modalTable.ejs","Modify System Collection",e,t)}else this.confirmSaveDocument()},confirmSaveDocument:function(){var e,t=this;window.modalView.hide();try{e=this.editor.get()}catch(a){return this.errorConfirmation(a),void this.disableSaveButton()}if(e=JSON.stringify(e),"edge"===this.type||this.type._from){var i=function(e,i){e?arangoHelper.arangoError("Error",i.responseJSON.errorMessage):(this.successConfirmation(),this.disableSaveButton(),t.customView&&t.customSaveFunction&&t.customSaveFunction(i))}.bind(this);this.collection.saveEdge(this.colid,this.docid,$("#document-from").html(),$("#document-to").html(),e,i)}else{var n=function(e,i){e||i[0]&&i[0].error?i[0]&&i[0].error?arangoHelper.arangoError("Error",i[0].errorMessage):arangoHelper.arangoError("Error",i.responseJSON.errorMessage):(this.successConfirmation(),this.disableSaveButton(),t.customView&&t.customSaveFunction&&t.customSaveFunction(i))}.bind(this);this.collection.saveDocument(this.colid,this.docid,e,n)}},successConfirmation:function(){arangoHelper.arangoNotification("Document saved.")},errorConfirmation:function(e){arangoHelper.arangoError("Document editor: ",e)},enableSaveButton:function(){$("#saveDocumentButton").prop("disabled",!1),$("#saveDocumentButton").addClass("button-success"),$("#saveDocumentButton").removeClass("button-close")},disableSaveButton:function(){$("#saveDocumentButton").prop("disabled",!0),$("#saveDocumentButton").addClass("button-close"),$("#saveDocumentButton").removeClass("button-success")},breadcrumb:function(){var e=window.location.hash.split("/");$("#subNavigationBar .breadcrumb").html('<a href="#collection/'+e[1]+'/documents/1">Collection: '+(e[1].length>64?e[1].substr(0,64)+"...":e[1])+'</a><i class="fa fa-chevron-right"></i>'+this.type.charAt(0).toUpperCase()+this.type.slice(1)+": "+e[2])},escaped:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}})}()},function(e,t){!function(){"use strict";window.DocumentsView=window.PaginationView.extend({filters:{0:!0},filterId:0,paginationDiv:"#documentsToolbarF",idPrefix:"documents",addDocumentSwitch:!0,activeFilter:!1,lastCollectionName:void 0,restoredFilters:[],editMode:!1,allowUpload:!1,el:"#content",table:"#documentsTableID",template:templateEngine.createTemplate("documentsView.ejs"),collectionContext:{prev:null,next:null},unbindEvents:function(){this.$el.empty().off(),this.stopListening(),this.unbind()},editButtons:["#deleteSelected","#moveSelected"],initialize:function(e){this.documentStore=e.documentStore,this.collectionsStore=e.collectionsStore,this.tableView=new window.TableView({el:this.table,collection:this.collection}),this.tableView.setRowClick(this.clicked.bind(this)),this.tableView.setRemoveClick(this.remove.bind(this))},resize:function(){var e=!1;_.each($(".documentsDropdown").first().children(),function(t){$(t).is(":visible")&&(e=!0)}),e?($("#docPureTable").height($(".centralRow").height()-210-57),$("#docPureTable .pure-table-body").css("max-height",$("#docPureTable").height()-47)):($("#docPureTable").height($(".centralRow").height()-210),$("#docPureTable .pure-table-body").css("max-height",$("#docPureTable").height()-47))},setCollectionId:function(e,t){var i=this;this.collection.setCollection(e,t),this.collection.setPage(t),this.page=t;var n=function(t,n,a){t?i.renderNotFound(this.collection.collectionID):(this.type=n,this.collectionName=a?a.name:e,0===i.restoredFilters.length&&(this.collection.getDocuments(this.getDocsCallback.bind(this)),this.collectionModel=this.collectionsStore.get(e),this.renderPaginationElements()),this.breadcrumb())}.bind(this);arangoHelper.collectionApiType(e,null,n)},getDocsCallback:function(e){$("#documents_last").css("visibility","hidden"),$("#documents_first").css("visibility","hidden"),e?(window.progressView.hide(),arangoHelper.arangoError("Document error","Could not fetch requested documents.")):e&&void 0===e||(window.progressView.hide(),this.drawTable(),this.renderPaginationElements(),arangoHelper.checkCollectionPermissions(this.collection.collectionID,this.changeViewToReadOnly))},renderNotFound:function(e){$(".headerButton").remove(),$("#documentSize").hide(),$("#docPureTable").html('<div class="infoBox errorBox"><h4>Error</h4><p>Collection not found. Requested name was: "'+arangoHelper.escapeHtml(e)+'".</p></div>'),$("#subNavigationBar .breadcrumb").html()},events:{"click #collectionPrev":"prevCollection","click #collectionNext":"nextCollection","click #filterCollection":"filterCollection","click #markDocuments":"editDocuments","click #importCollection":"importCollection","click #exportCollection":"exportCollection","click #filterSend":"sendFilter","click #addFilterItem":"addFilterItem","click .removeFilterItem":"removeFilterItem","click #deleteSelected":"deleteSelectedDocs","click #moveSelected":"moveSelectedDocs","click #addDocumentButton":"addDocumentModal","click #documents_first":"firstDocuments","click #documents_last":"lastDocuments","click #documents_prev":"prevDocuments","click #documents_next":"nextDocuments","click #confirmDeleteBtn":"confirmDelete","click .key":"nop",keyup:"returnPressedHandler","keydown .queryline input":"filterValueKeydown","click #importModal":"showImportModal","click #resetView":"resetView","click #confirmDocImport":"startUpload","click #exportDocuments":"startDownload","change #documentSize":"setPagesize","change #docsSort":"setSorting"},showSpinner:function(){$(".upload-indicator").show()},hideSpinner:function(){$(".upload-indicator").hide()},showImportModal:function(){$("#docImportModal").modal("show")},hideImportModal:function(){$("#docImportModal").modal("hide")},setPagesize:function(){var e=$("#documentSize").find(":selected").val();this.collection.setPagesize(e),this.collection.getDocuments(this.getDocsCallback.bind(this))},setSorting:function(){var e=$("#docsSort").val();""!==e&&void 0!==e&&null!==e||(e="_key"),this.collection.setSort(e)},returnPressedHandler:function(e){13===e.keyCode&&$(e.target).is($("#docsSort"))&&this.collection.getDocuments(this.getDocsCallback.bind(this)),13===e.keyCode&&!1===$("#confirmDeleteBtn").attr("disabled")&&this.confirmDelete()},nop:function(e){e.stopPropagation()},resetView:function(){$("input").val(""),$("select").val("=="),this.removeAllFilterItems(),$("#documentSize").val(this.collection.getPageSize()),$("#documents_last").css("visibility","visible"),$("#documents_first").css("visibility","visible"),this.addDocumentSwitch=!0,this.collection.resetFilter(),this.collection.loadCollectionConfig(function(e){e&&arangoHelper.arangoError("Document","Could not fetch documents count")}),this.restoredFilters=[],this.allowUpload=!1,this.files=void 0,this.file=void 0,$("#confirmDocImport").attr("disabled",!0),this.markFilterToggle(),this.collection.getDocuments(this.getDocsCallback.bind(this))},startDownload:function(){var e=this.collection.buildDownloadDocumentQuery();if(""!==e||void 0!==e||null!==e){var t="query/result/download/"+btoa(JSON.stringify(e));arangoHelper.download(t)}else arangoHelper.arangoError("Document error","could not download documents")},startUpload:function(){var e=function(e,t){e?arangoHelper.arangoError("Upload",t):(arangoHelper.arangoMessage("Upload",t),this.hideImportModal(),this.resetView()),this.hideSpinner()}.bind(this);!0===this.allowUpload&&(this.showSpinner(),this.collection.uploadDocuments(this.file,e))},uploadSetup:function(){var e=this;$("#importDocuments").change(function(t){e.files=t.target.files||t.dataTransfer.files,e.file=e.files[0],$("#confirmDocImport").attr("disabled",!1),e.allowUpload=!0})},buildCollectionLink:function(e){return"collection/"+encodeURIComponent(e.get("name"))+"/documents/1"},markFilterToggle:function(){this.restoredFilters.length>0?$("#filterCollection").addClass("activated"):$("#filterCollection").removeClass("activated")},editDocuments:function(e){if(!$(e.currentTarget).hasClass("disabled")){$("#importCollection").removeClass("activated"),$("#exportCollection").removeClass("activated"),this.markFilterToggle(),$("#markDocuments").toggleClass("activated"),this.changeEditMode(),$("#filterHeader").hide(),$("#importHeader").hide(),$("#editHeader").slideToggle(1),$("#exportHeader").hide();var t=this;window.setTimeout(function(){t.resize()},50)}},filterCollection:function(){$("#importCollection").removeClass("activated"),$("#exportCollection").removeClass("activated"),$("#markDocuments").removeClass("activated"),this.changeEditMode(!1),this.markFilterToggle(),this.activeFilter=!0,$("#importHeader").hide(),$("#editHeader").hide(),$("#exportHeader").hide(),$("#filterHeader").slideToggle(1);var e,t=this;for(e in window.setTimeout(function(){t.resize()},50),this.filters)if(this.filters.hasOwnProperty(e))return void $("#attribute_name"+e).focus()},exportCollection:function(){$("#importCollection").removeClass("activated"),$("#filterHeader").removeClass("activated"),$("#markDocuments").removeClass("activated"),this.changeEditMode(!1),$("#exportCollection").toggleClass("activated"),this.markFilterToggle(),$("#exportHeader").slideToggle(1),$("#importHeader").hide(),$("#filterHeader").hide(),$("#editHeader").hide();var e=this;window.setTimeout(function(){e.resize()},50)},importCollection:function(e){if(!$(e.currentTarget).hasClass("disabled")){this.markFilterToggle(),$("#markDocuments").removeClass("activated"),this.changeEditMode(!1),$("#importCollection").toggleClass("activated"),$("#exportCollection").removeClass("activated"),$("#importHeader").slideToggle(1),$("#filterHeader").hide(),$("#editHeader").hide(),$("#exportHeader").hide();var t=this;window.setTimeout(function(){t.resize()},50)}},changeEditMode:function(e){!1===e||!0===this.editMode?($("#docPureTable .pure-table-body .pure-table-row").css("cursor","default"),$(".deleteButton").fadeIn(),$(".addButton").fadeIn(),$(".selected-row").removeClass("selected-row"),this.editMode=!1,this.tableView.setRowClick(this.clicked.bind(this))):($("#docPureTable .pure-table-body .pure-table-row").css("cursor","copy"),$(".deleteButton").fadeOut(),$(".addButton").fadeOut(),$(".selectedCount").text(0),this.editMode=!0,this.tableView.setRowClick(this.editModeClick.bind(this)))},getFilterContent:function(){var e,t,i=[];for(e in this.filters)if(this.filters.hasOwnProperty(e)){t=$("#attribute_value"+e).val();try{t=JSON.parse(t)}catch(n){t=String(t)}""!==$("#attribute_name"+e).val()&&void 0!==$("#operator"+e).val()&&i.push({attribute:$("#attribute_name"+e).val(),operator:$("#operator"+e).val(),value:t})}return i},sendFilter:function(){this.restoredFilters=this.getFilterContent();var e=this;this.collection.resetFilter(),this.addDocumentSwitch=!1,_.each(this.restoredFilters,function(t){void 0!==t.operator&&e.collection.addFilter(t.attribute,t.operator,t.value)}),this.collection.setToFirst(),this.collection.getDocuments(this.getDocsCallback.bind(this)),this.markFilterToggle()},restoreFilter:function(){var e=this,t=0;this.filterId=0,$("#docsSort").val(this.collection.getSort()),_.each(this.restoredFilters,function(i){0!==t&&e.addFilterItem(),void 0!==i.operator&&($("#attribute_name"+t).val(i.attribute),$("#operator"+t).val(i.operator),$("#attribute_value"+t).val(i.value)),t++,e.collection.addFilter(i.attribute,i.operator,i.value)}),e.rerender()},addFilterItem:function(){var e=++this.filterId;$("#filterHeader").append(' <div class="queryline querylineAdd"><input id="attribute_name'+e+'" type="text" placeholder="Attribute name"><select name="operator" id="operator'+e+'" class="filterSelect">    <option value="==">==</option>    <option value="!=">!=</option>    <option value="&lt;">&lt;</option>    <option value="&lt;=">&lt;=</option>    <option value="&gt;">&gt;</option>    <option value="&gt;=">&gt;=</option>    <option value="LIKE">LIKE</option>    <option value="IN">IN</option>    <option value="=~">NOT IN</option>    <option value="REGEX">REGEX</option></select><input id="attribute_value'+e+'" type="text" placeholder="Attribute value" class="filterValue"> <a class="removeFilterItem" id="removeFilter'+e+'"><i class="fa fa-minus-circle"></i></a></div>'),this.filters[e]=!0,this.checkFilterState()},filterValueKeydown:function(e){13===e.keyCode&&this.sendFilter()},checkFilterState:function(){if(1===$("#filterHeader .queryline").length)$("#filterHeader .removeFilterItem").remove();else if(0===$("#filterHeader .queryline").first().find(".removeFilterItem").length){var e=$("#filterHeader .queryline").first().children().first().attr("id"),t=e.substr(14,e.length);$("#filterHeader .queryline").first().find(".add-filter-item").after(' <a class="removeFilterItem" id="removeFilter'+t+'"><i class="fa fa-minus-circle"></i></a>')}0===$("#filterHeader .queryline").first().find(".add-filter-item").length&&$("#filterHeader .queryline").first().find(".filterValue").after('<a id="addFilterItem" class="add-filter-item"><i style="margin-left: 4px;" class="fa fa-plus-circle"></i></a>')},removeFilterItem:function(e){var t=e.currentTarget,i=t.id.replace(/^removeFilter/,"");delete this.filters[i],delete this.restoredFilters[i],$(t.parentElement).remove(),this.checkFilterState()},removeAllFilterItems:function(){var e,t=$("#filterHeader").children().length;for(e=1;e<=t;e++)$("#removeFilter"+e).parent().remove();this.filters={0:!0},this.filterId=0},addDocumentModal:function(e){if(!$(e.currentTarget).hasClass("disabled")){var t=window.location.hash.split("/")[1],i=[],n=[],a=function(e,t){e?arangoHelper.arangoError("Error","Could not fetch collection type"):this.collection.getSmartJoinAttribute()?(n.push(this.createDocumentKeyInput(!0)),n.push(window.modalView.createTextEntry("new-smart-val-attr","Smart Value ("+this.collection.getSmartJoinAttribute()+")",void 0,"This smartJoinAttribute must be populated for all documents in the collection, and must always contain a string value.","",!0,[{rule:Joi.string(),msg:""}])),i.push(window.modalView.createSuccessButton("Create",this.addSmartAttributeDocument.bind(this))),window.modalView.show("modalTable.ejs","Create document",i,n),$("#new-document-key-attr").css("width","50%").css("float","right"),$("#new-document-key-attr").before('<input type="text" id="new-document-key-prefix-attr" value="" placeholder="<smart-prefix>" disabled style="width: 40%; float: left;"><div style="width: 2px; float: left; margin-top: 15px; margin-left: 5px; font-weight: 800;">:</div>'),$("new-smart-val-attr").unbind("keyup"),$("#new-smart-val-attr").on("keyup",function(e){$("#new-document-key-prefix-attr").val($(e.currentTarget).val())})):this.collection.getSmartGraphAttribute()?(n.push(this.createDocumentKeyInput(!1)),n.push(window.modalView.createTextEntry("new-smartGraph-val-attr","SmartGraph Value ("+this.collection.getSmartGraphAttribute()+")",void 0,"This smartGraphAttribute can be populated for all documents in the collection and then contain a string value. Otherwise it will be null.","",!1,[{rule:Joi.string().allow("").optional(),msg:""}])),i.push(window.modalView.createSuccessButton("Create",this.addSmartGraphDocument.bind(this))),window.modalView.show("modalTable.ejs","Create document",i,n),$("#new-document-key-attr").css("width","50%").css("float","right"),$("#new-document-key-attr").before('<input type="text" id="new-document-key-prefix-attr" value="" placeholder="<smart-prefix>" disabled style="width: 40%; float: left;"><div style="width: 2px; float: left; margin-top: 15px; margin-left: 5px; font-weight: 800;">:</div>'),$("#new-smartGraph-val-attr").unbind("keyup"),$("#new-smartGraph-val-attr").on("keyup",function(e){$("#new-document-key-prefix-attr").val($(e.currentTarget).val())})):"edge"===t?(n.push(window.modalView.createTextEntry("new-edge-from-attr","_from","","document _id: document handle of the linked vertex (incoming relation)",void 0,!1,[{rule:Joi.string().required(),msg:"No _from attribute given."}])),n.push(window.modalView.createTextEntry("new-edge-to","_to","","document _id: document handle of the linked vertex (outgoing relation)",void 0,!1,[{rule:Joi.string().required(),msg:"No _to attribute given."}])),n.push(window.modalView.createTextEntry("new-edge-key-attr","_key",void 0,"the edges unique key(optional attribute, leave empty for autogenerated key","is optional: leave empty for autogenerated key",!1,[{rule:Joi.string().allow("").optional(),msg:""}])),i.push(window.modalView.createSuccessButton("Create",this.addEdge.bind(this))),window.modalView.show("modalTable.ejs","Create edge",i,n)):(n.push(this.createDocumentKeyInput(!1)),i.push(window.modalView.createSuccessButton("Create",this.addDocument.bind(this))),window.modalView.show("modalTable.ejs","Create document",i,n))}.bind(this);arangoHelper.collectionApiType(t,!0,a)}},createDocumentKeyInput:function(e){var t="leave empty for autogenerated key",i="the documents unique key";return e?t="":i+=" (optional attribute, leave empty for autogenerated key",window.modalView.createTextEntry("new-document-key-attr","_key",void 0,i,t,e||!1,[{rule:Joi.string().allow("").optional(),msg:""}])},addEdge:function(){var e=window.location.hash.split("/")[1],t=$(".modal-body #new-edge-from-attr").last().val(),i=$(".modal-body #new-edge-to").last().val(),n=$(".modal-body #new-edge-key-attr").last().val();""!==n||void 0!==n?this.documentStore.createTypeEdge(e,t,i,n,this.goToDocument):this.documentStore.createTypeEdge(e,t,i,null,this.goToDocument)},addDocument:function(){var e=window.location.hash.split("/")[1],t=$(".modal-body #new-document-key-attr").last().val();""!==t||void 0!==t?this.documentStore.createTypeDocument(e,t,this.goToDocument):this.documentStore.createTypeDocument(e,null,this.goToDocument)},addSmartAttributeDocument:function(){var e=window.location.hash.split("/")[1],t=$(".modal-body #new-document-key-attr").last().val(),i=$(".modal-body #new-smart-val-attr").last().val();""!==t||void 0!==t?this.documentStore.createTypeDocument(e,t,this.goToDocument,!1,this.collection.getSmartJoinAttribute(),i,null,null):this.documentStore.createTypeDocument(e,null,this.goToDocument,!1,this.collection.getSmartJoinAttribute(),i,null,null)},addSmartGraphDocument:function(){var e=window.location.hash.split("/")[1],t=$(".modal-body #new-document-key-attr").last().val(),i=$(".modal-body #new-smartGraph-val-attr").last().val();""===i&&(i=null);var n=null;this.collection.getSmartGraphAttribute()&&(n=this.collection.getSmartGraphAttribute()),""===t&&(t=null),this.documentStore.createTypeDocument(e,t,this.goToDocument,!1,null,null,n,i)},goToDocument:function(e,t,i){if(e)arangoHelper.arangoError("Error",i.errorMessage);else{var n;window.modalView.hide(),t=t.split("/");try{n="collection/"+t[0]+"/"+t[1],decodeURI(n)}catch(a){n="collection/"+t[0]+"/"+encodeURIComponent(t[1])}window.location.hash=n}},moveSelectedDocs:function(){var e=[],t=[];0!==this.getSelectedDocs().length?(t.push(window.modalView.createTextEntry("move-documents-to","Move to","",!1,"collection-name",!0,[{rule:Joi.string().regex(/^[a-zA-Z]/),msg:"Collection name must always start with a letter."},{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only Symbols "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No collection name given."}])),e.push(window.modalView.createSuccessButton("Move",this.confirmMoveSelectedDocs.bind(this))),window.modalView.show("modalTable.ejs","Move documents",e,t)):arangoHelper.arangoMessage("Move documents","No documents selected!")},confirmMoveSelectedDocs:function(){var e=this.getSelectedDocs(),t=this,i=$("#move-documents-to").val(),n=function(e){e?arangoHelper.arangoError("Error","Could not move document."):(t.collection.setTotalMinusOne(),this.collection.getDocuments(this.getDocsCallback.bind(this)),$("#markDocuments").click(),window.modalView.hide())}.bind(this);_.each(e,function(e){t.collection.moveDocument(e,t.collection.collectionID,i,n)})},deleteSelectedDocs:function(){var e=[],t=[],i=this.getSelectedDocs();0!==i.length?(t.push(window.modalView.createReadOnlyEntry(void 0,i.length+" documents selected","Do you want to delete all selected documents?",void 0,void 0,!1,void 0)),e.push(window.modalView.createDeleteButton("Delete",this.confirmDeleteSelectedDocs.bind(this))),window.modalView.show("modalTable.ejs","Delete documents",e,t)):arangoHelper.arangoMessage("Delete documents","No documents selected!")},confirmDeleteSelectedDocs:function(){var e=this.getSelectedDocs(),t=[],i=this;_.each(e,function(e){if("document"===i.type){var n=function(e){e?(t.push(!1),arangoHelper.arangoError("Document error","Could not delete document.")):(t.push(!0),i.collection.setTotalMinusOne(),i.collection.getDocuments(this.getDocsCallback.bind(this)),$("#markDocuments").click(),window.modalView.hide())}.bind(i);i.documentStore.deleteDocument(i.collection.collectionID,e,n)}else if("edge"===i.type){var a=function(e){e?(t.push(!1),arangoHelper.arangoError("Edge error","Could not delete edge")):(i.collection.setTotalMinusOne(),t.push(!0),i.collection.getDocuments(this.getDocsCallback.bind(this)),$("#markDocuments").click(),window.modalView.hide())}.bind(i);i.documentStore.deleteEdge(i.collection.collectionID,e,a)}})},getSelectedDocs:function(){var e=[];return _.each($("#docPureTable .pure-table-body .pure-table-row"),function(t){$(t).hasClass("selected-row")&&e.push($($(t).children()[1]).find(".key").text())}),e},remove:function(e){$(e.currentTarget).hasClass("disabled")||(this.docid=$(e.currentTarget).parent().parent().prev().find(".key").text(),$("#confirmDeleteBtn").attr("disabled",!1),$("#docDeleteModal").modal("show"))},confirmDelete:function(){$("#confirmDeleteBtn").attr("disabled",!0),"source"!==window.location.hash.split("/")[3]&&this.reallyDelete()},reallyDelete:function(){if("document"===this.type){var e=function(e){e?arangoHelper.arangoError("Error","Could not delete document"):(this.collection.setTotalMinusOne(),this.collection.getDocuments(this.getDocsCallback.bind(this)),$("#docDeleteModal").modal("hide"))}.bind(this);this.documentStore.deleteDocument(this.collection.collectionID,this.docid,e)}else if("edge"===this.type){var t=function(e){e?arangoHelper.arangoError("Edge error","Could not delete edge"):(this.collection.setTotalMinusOne(),this.collection.getDocuments(this.getDocsCallback.bind(this)),$("#docDeleteModal").modal("hide"))}.bind(this);this.documentStore.deleteEdge(this.collection.collectionID,this.docid,t)}},editModeClick:function(e){var t=$(e.currentTarget);t.hasClass("selected-row")?t.removeClass("selected-row"):t.addClass("selected-row");var i=this.getSelectedDocs();$(".selectedCount").text(i.length),_.each(this.editButtons,function(e){i.length>0?($(e).prop("disabled",!1),$(e).removeClass("button-neutral"),$(e).removeClass("disabled"),"#moveSelected"===e?$(e).addClass("button-success"):$(e).addClass("button-danger")):($(e).prop("disabled",!0),$(e).addClass("disabled"),$(e).addClass("button-neutral"),"#moveSelected"===e?$(e).removeClass("button-success"):$(e).removeClass("button-danger"))})},clicked:function(e){var t,i=e.currentTarget,n=$(i).attr("id").substr(4);try{t="collection/"+this.collection.collectionID+"/"+n,decodeURI(n)}catch(a){t="collection/"+this.collection.collectionID+"/"+encodeURIComponent(n)}window.location.hash=t},drawTable:function(){this.tableView.setElement($("#docPureTable")).render(),arangoHelper.fixTooltips(".icon_arangodb, .arangoicon","top"),this.resize(),document.querySelectorAll("code").forEach(function(e){window.hljs.highlightBlock(e)})},checkCollectionState:function(){this.lastCollectionName===this.collectionName?this.activeFilter&&(this.filterCollection(),this.restoreFilter()):void 0!==this.lastCollectionName&&(this.collection.resetFilter(),this.collection.setSort(""),this.restoredFilters=[],this.activeFilter=!1)},render:function(){return this.collectionName=window.location.hash.split("/")[1],$(this.el).html(this.template.render({})),2===this.type?this.type="document":3===this.type&&(this.type="edge"),this.tableView.setElement($(this.table)).drawLoading(),this.collectionContext=this.collectionsStore.getPosition(this.collection.collectionID),this.checkCollectionState(),this.lastCollectionName=this.collectionName,this.uploadSetup(),arangoHelper.fixTooltips([".icon_arangodb",".arangoicon","top","[data-toggle=tooltip]",".upload-info"]),this.selectActivePagesize(),this.markFilterToggle(),this.resize(),this},changeViewToReadOnly:function(){$(".breadcrumb").html($(".breadcrumb").html()+" (read-only)"),$("#importCollection").addClass("disabled"),$("#markDocuments").addClass("disabled"),$("#addDocumentButton").addClass("disabled"),$("#addDocumentButton .fa-plus-circle").css("color","#d3d3d3"),$("#addDocumentButton .fa-plus-circle").css("cursor","not-allowed"),$(".deleteButton").addClass("disabled"),$(".deleteButton .fa-minus-circle").css("color","#d3d3d3"),$(".deleteButton .fa-minus-circle").css("cursor","not-allowed")},rerender:function(){this.collection.getDocuments(this.getDocsCallback.bind(this)),this.resize()},selectActivePagesize:function(){$("#documentSize").val(this.collection.getPageSize())},renderPaginationElements:function(){this.renderPagination();var e=$("#totalDocuments");0===e.length&&($("#documentsToolbarFL").append('<a id="totalDocuments" class="totalDocuments"></a>'),e=$("#totalDocuments")),"document"===this.type&&e.html(numeral(this.collection.getTotal()).format("0,0")+" doc(s)"),"edge"===this.type&&e.html(numeral(this.collection.getTotal()).format("0,0")+" edge(s)"),this.collection.getTotal()>this.collection.MAX_SORT?($("#docsSort").attr("disabled",!0),$("#docsSort").attr("placeholder","Sort limit reached (docs count)")):($("#docsSort").attr("disabled",!1),$("#docsSort").attr("placeholder","Sort by attribute"))},breadcrumb:function(){var e=this;window.App.naviView&&void 0!==$("#subNavigationBar .breadcrumb").html()?($("#subNavigationBar .breadcrumb").html("Collection: "+arangoHelper.escapeHtml(this.collectionName.length>64?this.collectionName.substr(0,64)+"...":this.collectionName)),arangoHelper.buildCollectionSubNav(this.collectionName,"Content")):window.setTimeout(function(){e.breadcrumb()},100)}})}()},function(e,t){!function(){"use strict";window.FilterSelectView=Backbone.View.extend({el:"#filterSelectDiv",filterOptionsEl:".filterOptions",initialize:function(e){this.name=e.name,this.options=e.options,this.position=e.position,this.callback=e.callback,this.multiple=e.multiple},template:templateEngine.createTemplate("filterSelect.ejs"),events:{"click .filterOptions .inactive":"changeState","click .filterOptions .active":"changeState","click #showAll":"showAll","click #closeFilter":"hide","keyup .filterInput input":"filter"},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},changeState:function(e){var t=$(e.currentTarget).attr("name");$(e.currentTarget).hasClass("active")?(this.options[t].active=!1,$(e.currentTarget).removeClass("active").addClass("inactive"),$(e.currentTarget).find(".marked").css("visibility","hidden")):(this.options[t].active=!0,$(e.currentTarget).removeClass("inactive").addClass("active"),$(e.currentTarget).find(".marked").css("visibility","visible")),this.callback&&this.callback(this.options)},filter:function(){var e=$("#"+this.name+"-filter").val();_.each(this.options,function(t){t.name.search(e)>-1?$("#"+t.name+"-option").css("display","block"):$("#"+t.name+"-option").css("display","none")})},clearFilter:function(){$("#"+this.name+"-filter").val(""),this.filter()},showAll:function(){this.clearFilter(),_.each(this.options,function(e){e.active=!1,$("#"+e.name+"-option").removeClass("active").addClass("inactive"),$("#"+e.name+"-option").find(".marked").css("visibility","hidden")}),this.callback(this.options)},render:function(){var e=this;$("#filterSelectDiv").on("click",function(t){"filterSelectDiv"===t.target.id&&e.hide()}),_.each(e.options,function(e){e.color||(e.color=arangoHelper.alphabetColors[e.name.charAt(0).toLowerCase()])}),this.$el.html(this.template.render({name:e.name,options:e.options})),$("#filterSelectDiv > div").css("right",this.position.right+"px"),$("#filterSelectDiv > div").css("top",this.position.top+30),this.show(),$("#"+this.name+"-filter").focus()},show:function(){$(this.el).show()},hide:function(){$("#filterSelectDiv").unbind("click"),$(this.el).hide(),this.remove()}})}()},function(e,t){!function(){"use strict";window.FooterView=Backbone.View.extend({el:"#footerBar",system:{},isOffline:!0,isOfflineCounter:0,firstLogin:!0,timer:15e3,lap:0,timerFunction:null,events:{"click .footer-center p":"showShortcutModal"},initialize:function(){var e=this;window.setInterval(function(){e.getVersion()},e.timer),e.getVersion(),window.VISIBLE=!0,document.addEventListener("visibilitychange",function(){window.VISIBLE=!window.VISIBLE}),$("#offlinePlaceholder button").on("click",function(){e.getVersion()}),window.setTimeout(function(){!0===window.frontendConfig.isCluster&&($(".health-state").css("cursor","pointer"),$(".health-state").on("click",function(){window.App.navigate("#nodes",{trigger:!0})}))},1e3)},template:templateEngine.createTemplate("footerView.ejs"),showServerStatus:function(e){window.App.isCluster?this.renderClusterState(e):!0===e?($("#healthStatus").removeClass("negative"),$("#healthStatus").addClass("positive"),$(".health-state").html("GOOD"),$(".health-icon").html('<i class="fa fa-check-circle"></i>'),$("#offlinePlaceholder").hide()):($("#healthStatus").removeClass("positive"),$("#healthStatus").addClass("negative"),$(".health-state").html("UNKNOWN"),$(".health-icon").html('<i class="fa fa-exclamation-circle"></i>'),window.modalView.hide(),$("#offlinePlaceholder").show(),Noty.clearQueue(),Noty.closeAll(),this.reconnectAnimation(0))},reconnectAnimation:function(e){var t=this;0===e&&(t.lap=e,$("#offlineSeconds").text(t.timer/1e3),clearTimeout(t.timerFunction)),t.lap<this.timer/1e3&&(t.lap++,$("#offlineSeconds").text(t.timer/1e3-t.lap),t.timerFunction=window.setTimeout(function(){t.timer/1e3-t.lap===0?t.getVersion():t.reconnectAnimation(t.lap)},1e3))},renderClusterState:function(e){if(e){$("#offlinePlaceholder").hide();$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/health"),contentType:"application/json",processData:!1,async:!0,success:function(e){!function(e){window.clusterHealth=e.Health;var t=0;0!==Object.keys(window.clusterHealth).length?(_.each(window.clusterHealth,function(e){"DBServer"!==e.Role&&"Coordinator"!==e.Role||"GOOD"!==e.Status&&t++}),t>0?($("#healthStatus").removeClass("positive"),$("#healthStatus").addClass("negative"),1===t?$(".health-state").html(t+" NODE ERROR"):$(".health-state").html(t+" NODES ERROR"),$(".health-icon").html('<i class="fa fa-exclamation-circle"></i>')):($("#healthStatus").removeClass("negative"),$("#healthStatus").addClass("positive"),$(".health-state").html("NODES OK"),$(".health-icon").html('<i class="fa fa-check-circle"></i>'))):($(".health-state").html("HEALTH ERROR"),$("#healthStatus").removeClass("positive"),$("#healthStatus").addClass("negative"),$(".health-icon").html('<i class="fa fa-exclamation-circle"></i>'))}(e)}})}else $("#healthStatus").removeClass("positive"),$("#healthStatus").addClass("negative"),$(".health-state").html(window.location.host+" OFFLINE"),$(".health-icon").html('<i class="fa fa-exclamation-circle"></i>'),$("#offlinePlaceholder").show(),this.reconnectAnimation(0)},showShortcutModal:function(){window.arangoHelper.hotkeysFunctions.showHotkeysModal()},getVersion:function(){var e=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/version"),contentType:"application/json",processData:!1,async:!0,success:function(t){frontendConfig.version=t,frontendConfig.version.hasOwnProperty("version")||(frontendConfig.version.version="N/A"),e.showServerStatus(!0),!0===e.isOffline&&(e.isOffline=!1,e.isOfflineCounter=0,e.firstLogin?e.firstLogin=!1:window.setTimeout(function(){e.showServerStatus(!0)},1e3),e.system.name=t.server,e.system.version=t.version,e.render())},error:function(t){401===t.status?(e.showServerStatus(!0),window.App.navigate("login",{trigger:!0})):(e.isOffline=!0,e.isOfflineCounter++,e.isOfflineCounter>=1&&e.showServerStatus(!1))}}),e.system.hasOwnProperty("database")||$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/database/current"),contentType:"application/json",processData:!1,async:!0,success:function(t){var i=t.result.name;e.system.database=i;var n=window.setInterval(function(){$("#databaseNavi")&&(window.clearTimeout(n),n=null,e.render())},50)}})},renderVersion:function(){this.system.hasOwnProperty("database")&&this.system.hasOwnProperty("name")&&$(this.el).html(this.template.render({name:this.system.name,version:this.system.version,database:this.system.database}))},render:function(){return this.system.version||this.getVersion(),$(this.el).html(this.template.render({name:this.system.name,version:this.system.version})),this}})}()},function(e,t){},function(e,t){!function(){"use strict";window.FoxxActiveView=Backbone.View.extend({tagName:"div",className:"foxxTile tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-5",template:templateEngine.createTemplate("foxxActiveView.ejs"),_show:!0,events:{click:"openAppDetailView"},openAppDetailView:function(){window.App.navigate("service/"+encodeURIComponent(this.model.get("mount")),{trigger:!0})},toggle:function(e,t){switch(e){case"devel":this.model.isDevelopment()&&(this._show=t);break;case"production":this.model.isDevelopment()||this.model.isSystem()||(this._show=t);break;case"system":this.model.isSystem()&&(this._show=t)}this._show?$(this.el).show():$(this.el).hide()},render:function(){return this.model.fetchThumbnail(function(){$(this.el).html(this.template.render({model:this.model}));var e=function(){this.model.needsConfiguration()&&($(this.el).find(".warning-icons").length>0?$(this.el).find(".warning-icons").append('<span class="fa fa-cog" title="Needs configuration"></span>'):$(this.el).find("img").after('<span class="warning-icons"><span class="fa fa-cog" title="Needs configuration"></span></span>'))}.bind(this),t=function(){this.model.hasUnconfiguredDependencies()&&($(this.el).find(".warning-icons").length>0?$(this.el).find(".warning-icons").append('<span class="fa fa-cubes" title="Unconfigured dependencies"></span>'):$(this.el).find("img").after('<span class="warning-icons"><span class="fa fa-cubes" title="Unconfigured dependencies"></span></span>'))}.bind(this);this.model.getConfiguration(e),this.model.getDependencies(t)}.bind(this)),$(this.el)}})}()},function(e,t){!function(){"use strict";window.FoxxRepoView=Backbone.View.extend({tagName:"div",className:"foxxTile tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-5",template:templateEngine.createTemplate("foxxRepoView.ejs"),_show:!0,categories:[],events:{"click .installFoxx":"installStoreService","click .borderBox":"goToServiceDetail","click img":"goToServiceDetail","click .foxxDesc":"goToServiceDetail"},initialize:function(e){this.categories=[],this.fetchCategories(),e.functionsCollection&&(this.functionsCollection=e.functionsCollection),e.upgrade&&(this._upgrade=e.upgrade)},openAppDetailView:function(){window.App.navigate("service/detail/"+encodeURIComponent(this.model.get("name")),{trigger:!0})},render:function(){return this.model.fetchThumbnail(function(e){e&&$(this.el).remove();var t=this.model.get("defaultThumbnailUrl");if(this.model.get("manifest"))try{this.model.get("manifest").thumbnail&&(t=this.model.getThumbnailUrl())}catch(i){}$(this.el).html(this.template.render({model:this.model.toJSON(),thumbnail:t,upgrade:this._upgrade}))}.bind(this)),this.model.get("categories")&&$(this.el).attr("category",this.model.get("categories")),$(this.el)},goToServiceDetail:function(e){window.App.navigate("store/"+encodeURIComponent(this.model.get("name")),{trigger:!0})},installStoreService:function(e){this.toInstall=$(e.currentTarget).attr("appId"),this.version=$(e.currentTarget).attr("appVersion"),arangoHelper.createMountPointModal(this.installFoxxFromStore.bind(this))},categoriesCallbackFunction:function(e){this.categoryOptions=e,this.applyFilter()},onlyUnique:function(e,t,i){return i.indexOf(e)===t},fetchCategories:function(){var e=[];_.each(window.App.foxxRepo.models,function(t){_.each(t.get("categories"),function(t){e.push(t)})}),this.categories=e.filter(this.onlyUnique)},renderCategories:function(e){var t,i=this;this.categoryOptions||(this.categoryOptions={}),_.each(this.categories,function(e,n){i.categoryOptions[n]&&(t=i.categoryOptions[n].active),i.categoryOptions[e]={name:e,active:t||!1}});var n=$(e.currentTarget).position();n.right="30",this.categoryView=new window.FilterSelectView({name:"Category",options:i.categoryOptions,position:n,callback:i.categoriesCallbackFunction.bind(this),multiple:!1}),this.categoryView.render()},resetFilters:function(){_.each(this.categoryOptions,function(e){e.active=!1}),this.applyFilter()},isFilterActive:function(e){var t=!1;return _.each(e,function(e){e.active&&(t=!0)}),t},applyFilter:function(){var e=this;this.isFilterActive(this.categoryOptions)?(_.each($("#availableFoxxes").children(),function(t){var i=$(t).attr("category").split(","),n=!1;_.each(i,function(t){!0===e.categoryOptions[t].active&&(n=!0)}),n?($(t).show(),$(t).attr("shown","true")):($(t).hide(),$(t).attr("shown","false"))}),this.changeButton("category")):(_.each($("#availableFoxxes").children(),function(e){$(e).show(),$(e).attr("shown","true")}),this.changeButton());var t=0;_.each($("#logEntries").children(),function(e){"block"===$(e).css("display")&&t++}),1===t?($(".logBorder").css("visibility","hidden"),$("#noLogEntries").hide()):0===t?$("#noLogEntries").show():($(".logBorder").css("visibility","visible"),$("#noLogEntries").hide())},changeButton:function(e){e?($("#categorySelection").addClass("button-success").removeClass("button-default"),$("#filterDesc").html(e),$("#foxxFilters").show()):($("#categorySelection").addClass("button-default").removeClass("button-success"),$("#foxxFilters").hide(),$("#filterDesc").html(""))},installFoxxFromStore:function(e){var t,i,n;window.modalView.modalTestAll()&&(this._upgrade?t=window.App.replaceAppData.mount:"/"!==(t=window.arangoHelper.escapeHtml($("#new-app-mount").val())).charAt(0)&&(t="/"+t),i={name:this.toInstall,version:this.version},n=arangoHelper.getFoxxFlags(),this.collection.install("store",i,t,n,this.installCallback.bind(this)),window.modalView.hide(),this._upgrade?arangoHelper.arangoNotification("Services","Upgrading "+this.toInstall+"."):arangoHelper.arangoNotification("Services","Installing "+this.toInstall+"."),this.toInstall=null,this.version=null)},installCallback:function(e){window.App.navigate("#services",{trigger:!0}),window.App.applicationsView.installCallback(e)}})}()},function(e,t){!function(){"use strict";window.GraphManagementView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("graphManagementView.ejs"),edgeDefintionTemplate:templateEngine.createTemplate("edgeDefinitionTable.ejs"),eCollList:[],removedECollList:[],readOnly:!1,dropdownVisible:!1,initialize:function(e){this.options=e},events:{"click #deleteGraph":"deleteGraph","click .icon_arangodb_settings2.editGraph":"editGraph","click #createGraph":"addNewGraph","keyup #graphManagementSearchInput":"search","click #graphManagementSearchSubmit":"search","click .tile-graph":"redirectToGraphViewer","click #graphManagementToggle":"toggleGraphDropdown","click .css-label":"checkBoxes","change #graphSortDesc":"sorting"},toggleTab:function(e){var t=e.currentTarget.id;t=t.replace("tab-",""),$("#tab-content-create-graph .tab-pane").removeClass("active"),$("#tab-content-create-graph #"+t).addClass("active"),"exampleGraphs"===t?$("#modal-dialog .modal-footer .button-success").css("display","none"):$("#modal-dialog .modal-footer .button-success").css("display","initial"),"smartGraph"===t?this.setSmartGraphRows(!0):"satelliteGraph"===t?this.setSatelliteGraphRows(!0):"createGraph"===t&&this.setGeneralGraphRows(!1)},generalGraphRows:["row_general-numberOfShards","row_general-replicationFactor","row_general-writeConcern"],neededSmartGraphRows:["smartGraphInfo","row_new-smartGraphAttribute","row_new-numberOfShards","row_new-replicationFactor","row_new-writeConcern"],notNeededSatelliteGraphRows:["row_general-numberOfShards","row_general-replicationFactor","row_general-writeConcern"],setGeneralGraphRows:function(e){this.setCacheModeState(e),this.hideSmartGraphRows(),_.each(this.generalGraphRows,function(e){$("#"+e).show()})},setSatelliteGraphRows:function(e){$("#createGraph").addClass("active"),this.setCacheModeState(e),this.showGeneralGraphRows(),this.hideSmartGraphRows(),_.each(this.notNeededSatelliteGraphRows,function(e){$("#"+e).hide()})},setSmartGraphRows:function(e){$("#createGraph").addClass("active"),this.setCacheModeState(e),this.hideGeneralGraphRows(),_.each(this.neededSmartGraphRows,function(e){$("#"+e).show()})},hideSmartGraphRows:function(){_.each(this.neededSmartGraphRows,function(e){$("#"+e).hide()})},showGeneralGraphRows:function(){_.each(this.generalGraphRows,function(e){$("#"+e).show()})},hideGeneralGraphRows:function(){_.each(this.generalGraphRows,function(e){$("#"+e).hide()})},redirectToGraphViewer:function(e){var t=$(e.currentTarget).attr("id");t&&(t=t.substr(0,t.length-5),window.App.navigate("graph/"+encodeURIComponent(t),{trigger:!0}))},loadGraphViewer:function(e,t){var i=function(t){if(t)arangoHelper.arangoError("","");else{var i=this.collection.get(e).get("edgeDefinitions");if(!i||0===i.length)return;var n={type:"gharial",graphName:e,baseUrl:arangoHelper.databaseUrl("/")},a=$("#content").width()-75;$("#content").html("");var r=arangoHelper.calculateCenterDivHeight();this.ui=new GraphViewerUI($("#content")[0],n,a,$(".centralRow").height()-135,{nodeShaper:{label:"_key",color:{type:"attribute",key:"_key"}}},!0),$(".contentDiv").height(r)}}.bind(this);t?this.collection.fetch({cache:!1,success:function(){i()}}):i()},handleResize:function(e){this.width&&this.width===e||(this.width=e,this.ui&&this.ui.changeWidth(e))},addNewGraph:function(e){e.preventDefault(),this.readOnly||(frontendConfig.isCluster&&frontendConfig.isEnterprise?this.createEditGraphModal():(this.createEditGraphModal(),$("#tab-smartGraph").parent().remove(),$("#tab-satelliteGraph").parent().remove()))},deleteGraph:function(){var e=this,t=$("#editGraphName")[0].value;if($("#dropGraphCollections").is(":checked")){this.collection.dropAndDeleteGraph(t,function(i){i?(e.collection.remove(e.collection.get(t)),e.updateGraphManagementView(),window.modalView.hide()):(window.modalView.hide(),arangoHelper.arangoError("Graph","Could not delete Graph."))})}else this.collection.get(t).destroy({success:function(){e.updateGraphManagementView(),window.modalView.hide()},error:function(e,t){var i=JSON.parse(t.responseText).errorMessage;arangoHelper.arangoError(i),window.modalView.hide()}})},checkBoxes:function(e){var t=e.currentTarget.id;$("#"+t).click()},checkVisibility:function(){$("#graphManagementDropdown").is(":visible")?this.dropdownVisible=!0:this.dropdownVisible=!1,arangoHelper.setCheckboxStatus("#graphManagementDropdown")},toggleGraphDropdown:function(){var e=this;$("#graphSortDesc").attr("checked",this.collection.sortOptions.desc),$("#graphManagementToggle").toggleClass("activated"),$("#graphManagementDropdown2").slideToggle(200,function(){e.checkVisibility()})},sorting:function(){$("#graphSortDesc").is(":checked")?this.collection.setSortingDesc(!0):this.collection.setSortingDesc(!1),this.checkVisibility(),this.render()},createExampleGraphs:function(e){var t=$(e.currentTarget).attr("graph-id"),i=this;$.ajax({type:"POST",url:arangoHelper.databaseUrl("/_admin/aardvark/graph-examples/create/"+encodeURIComponent(t)),success:function(){window.modalView.hide(),i.updateGraphManagementView(),arangoHelper.arangoNotification("Example Graphs","Graph: "+t+" created.")},error:function(i){if(window.modalView.hide(),i.responseText)try{var n=JSON.parse(i.responseText);arangoHelper.arangoError("Example Graphs",n.errorMessage)}catch(e){arangoHelper.arangoError("Example Graphs","Could not create example graph: "+t)}else arangoHelper.arangoError("Example Graphs","Could not create example graph: "+t)}})},forgetCachedCollectionsState:function(){var e,t=[];for(this.options.collectionCollection.models.forEach(function(e){e.get("isSystem")||t.push(e.id)}),e=0;e<this.counter;e++)$("#newEdgeDefinitions"+e).select2({tags:this.eCollList}),$("#newEdgeDefinitions"+e).select2("data",this.cachedNewEdgeDefinitions),$("#newEdgeDefinitions"+e).attr("disabled",this.cachedNewEdgeDefinitionsState),$("#fromCollections"+e).select2({tags:t}),$("#fromCollections"+e).select2("data",this.cachedFromCollections),$("#fromCollections"+e).attr("disabled",this.cachedFromCollectionsState),$("#toCollections"+e).select2({tags:t}),$("#toCollections"+e).select2("data",this.cachedToCollections),$("#toCollections"+e).attr("disabled",this.cachedToCollectionsState);$("#newVertexCollections").select2({tags:t}),$("#newVertexCollections").select2("data",this.cachedNewVertexCollections),$("#newVertexCollections").attr("disabled",this.cachedNewVertexCollectionsState)},rememberCachedCollectionsState:function(){var e;for(e=0;e<this.counter;e++)$("#newEdgeDefinitions"+e).select2({tags:[]}),this.cachedNewEdgeDefinitions=$("#newEdgeDefinitions"+e).select2("data"),this.cachedNewEdgeDefinitionsState=$("#newEdgeDefinitions"+e).attr("disabled"),$("#newEdgeDefinitions"+e).select2("data",""),$("#newEdgeDefinitions"+e).attr("disabled",!1),$("#newEdgeDefinitions"+e).change(),$("#fromCollections"+e).select2({tags:[]}),this.cachedFromCollections=$("#fromCollections"+e).select2("data"),this.cachedFromCollectionsState=$("#fromCollections"+e).attr("disabled"),$("#fromCollections"+e).select2("data",""),$("#fromCollections"+e).attr("disabled",!1),$("#fromCollections"+e).change(),$("#toCollections"+e).select2({tags:[]}),this.cachedToCollections=$("#toCollections"+e).select2("data"),this.cachedToCollectionsState=$("#toCollections"+e).attr("disabled"),$("#toCollections"+e).select2("data",""),$("#toCollections"+e).attr("disabled",!1),$("#toCollections"+e).change();$("#newVertexCollections").select2({tags:[]}),this.cachedNewVertexCollections=$("#newVertexCollections").select2("data"),this.cachedNewVertexCollectionsState=$("#newVertexCollections").attr("disabled"),$("#newVertexCollections").select2("data",""),$("#newVertexCollections").attr("disabled",!1),$("#newVertexCollections").change()},setCacheModeState:function(e){frontendConfig.isCluster&&frontendConfig.isEnterprise&&(e?this.forgetCachedCollectionsState():this.rememberCachedCollectionsState())},render:function(e,t){var i=this;return this.collection.fetch({cache:!1,success:function(){i.collection.sort(),$(i.el).html(i.template.render({graphs:i.collection,searchString:""})),!0===i.dropdownVisible&&($("#graphManagementDropdown2").show(),$("#graphSortDesc").attr("checked",i.collection.sortOptions.desc),$("#graphManagementToggle").toggleClass("activated"),$("#graphManagementDropdown").show()),i.events['change tr[id*="newEdgeDefinitions"]']=i.setFromAndTo.bind(i),i.events["click .graphViewer-icon-button"]=i.addRemoveDefinition.bind(i),i.events["click #graphTab a"]=i.toggleTab.bind(i),i.events["click .createExampleGraphs"]=i.createExampleGraphs.bind(i),i.events["focusout .select2-search-field input"]=function(e){$(".select2-drop").is(":visible")&&($("#select2-search-field input").is(":focus")||window.setTimeout(function(){$(e.currentTarget).parent().parent().parent().select2("close")},200))},arangoHelper.setCheckboxStatus("#graphManagementDropdown"),arangoHelper.checkDatabasePermissions(i.setReadOnly.bind(i))}}),e&&this.loadGraphViewer(e,t),this},setReadOnly:function(){this.readOnly=!0,$("#createGraph").parent().parent().addClass("disabled"),$("#createGraph").addClass("disabled")},setFromAndTo:function(e){e.stopPropagation();var t,i=this.calculateEdgeDefinitionMap();if($("#tab-smartGraph").parent().hasClass("active")){if(e.added){if(-1===this.eCollList.indexOf(e.added.id)&&-1!==this.removedECollList.indexOf(e.added.id))return t=e.currentTarget.id.split("row_newEdgeDefinitions")[1],$('input[id*="newEdgeDefinitions'+t+'"]').select2("val",null),void $('input[id*="newEdgeDefinitions'+t+'"]').attr("placeholder","The collection "+e.added.id+" is already used.");this.removedECollList.push(e.added.id),this.eCollList.splice(this.eCollList.indexOf(e.added.id),1)}else e.removed&&(this.eCollList.push(e.removed.id),this.removedECollList.splice(this.removedECollList.indexOf(e.removed.id),1));i[e.val]?(t=e.currentTarget.id.split("row_newEdgeDefinitions")[1],$("#s2id_fromCollections"+t).select2("val",i[e.val].from),$("#fromCollections"+t).attr("disabled",!0),$("#s2id_toCollections"+t).select2("val",i[e.val].to),$("#toCollections"+t).attr("disabled",!0)):(t=e.currentTarget.id.split("row_newEdgeDefinitions")[1],$("#s2id_fromCollections"+t).select2("val",null),$("#fromCollections"+t).attr("disabled",!1),$("#s2id_toCollections"+t).select2("val",null),$("#toCollections"+t).attr("disabled",!1))}},editGraph:function(e){e.stopPropagation(),this.collection.fetch({cache:!1}),this.graphToEdit=this.evaluateGraphName($(e.currentTarget).attr("id"),"_settings");var t=this.collection.findWhere({_key:this.graphToEdit});t.get("isSmart")?this.createEditGraphModal(t,!0):"satellite"===t.get("replicationFactor")?this.createEditGraphModal(t,!1,!0):this.createEditGraphModal(t)},saveEditedGraph:function(){var e,t,i,n,a=$("#editGraphName")[0].value,r=_.pluck($("#newVertexCollections").select2("data"),"text"),s=[],o={};if($("[id^=s2id_newEdgeDefinitions]").toArray().forEach(function(a){if(n=(n=$(a).attr("id")).replace("s2id_newEdgeDefinitions",""),(e=_.pluck($("#s2id_newEdgeDefinitions"+n).select2("data"),"text")[0])&&""!==e&&(t=_.pluck($("#s2id_fromCollections"+n).select2("data"),"text"),i=_.pluck($("#s2id_toCollections"+n).select2("data"),"text"),0!==t.length&&0!==i.length)){var r={collection:e,from:t,to:i};s.push(r),o[e]=r}}),0===s.length)return $("#s2id_newEdgeDefinitions0 .select2-choices").css("border-color","red"),$("#s2id_newEdgeDefinitions0").parent().parent().next().find(".select2-choices").css("border-color","red"),void $("#s2id_newEdgeDefinitions0").parent().parent().next().next().find(".select2-choices").css("border-color","red");var l=this.collection.findWhere({_key:a}),c=l.get("edgeDefinitions"),h=l.get("orphanCollections"),d=[];h.forEach(function(e){-1===r.indexOf(e)&&l.deleteVertexCollection(e)}),r.forEach(function(e){-1===h.indexOf(e)&&l.addVertexCollection(e)});var u=[],p=[],f=[];c.forEach(function(e){var t=e.collection;d.push(t);var i=o[t];void 0===i?f.push(t):JSON.stringify(i)!==JSON.stringify(e)&&p.push(t)}),s.forEach(function(e){var t=e.collection;-1===d.indexOf(t)&&u.push(t)}),u.forEach(function(e){l.addEdgeDefinition(o[e])}),p.forEach(function(e){l.modifyEdgeDefinition(o[e])}),f.forEach(function(e){l.deleteEdgeDefinition(e)}),this.updateGraphManagementView(),window.modalView.hide()},evaluateGraphName:function(e,t){var i=e.lastIndexOf(t);return e.substring(0,i)},search:function(){var e,t,i,n;e=$("#graphManagementSearchInput"),t=arangoHelper.escapeHtml($("#graphManagementSearchInput").val()),n=this.collection.filter(function(e){return-1!==e.get("_key").indexOf(t)}),$(this.el).html(this.template.render({graphs:n,searchString:t})),i=(e=$("#graphManagementSearchInput")).val().length,e.focus(),e[0].setSelectionRange(i,i)},updateGraphManagementView:function(){var e=this;this.collection.fetch({cache:!1,success:function(){e.render()}})},createNewGraph:function(){var e,t,i,n,a=$("#createNewGraphName").val(),r=_.pluck($("#newVertexCollections").select2("data"),"text"),s=[],o=this;if(!a)return arangoHelper.arangoError("A name for the graph has to be provided."),0;if(this.collection.findWhere({_key:a}))return arangoHelper.arangoError("The graph '"+a+"' already exists."),0;if($("[id^=s2id_newEdgeDefinitions]").toArray().forEach(function(a){n=(n=$(a).attr("id")).replace("s2id_newEdgeDefinitions",""),(e=_.pluck($("#s2id_newEdgeDefinitions"+n).select2("data"),"text")[0])&&""!==e&&(t=_.pluck($("#s2id_fromCollections"+n).select2("data"),"text"),i=_.pluck($("#s2id_toCollections"+n).select2("data"),"text"),1!==t&&1!==i&&s.push({collection:e,from:t,to:i}))}),0===s.length)return $("#s2id_newEdgeDefinitions0 .select2-choices").css("border-color","red"),$("#s2id_newEdgeDefinitions0").parent().parent().next().find(".select2-choices").css("border-color","red"),void $("#s2id_newEdgeDefinitions0").parent().parent().next().next().find(".select2-choices").css("border-color","red");var l={name:a,edgeDefinitions:s,orphanCollections:r};if($("#tab-smartGraph").parent().hasClass("active")){if(""===$("#new-numberOfShards").val()||""===$("#new-smartGraphAttribute").val())return void arangoHelper.arangoError("Smart Graph creation","numberOfShards and/or smartGraphAttribute not set!");l.isSmart=!0,l.options={numberOfShards:parseInt($("#new-numberOfShards").val()),smartGraphAttribute:$("#new-smartGraphAttribute").val(),replicationFactor:parseInt($("#new-replicationFactor").val()),minReplicationFactor:parseInt($("#new-writeConcern").val())}}else $("#tab-satelliteGraph").parent().hasClass("active")?l.options={replicationFactor:"satellite"}:frontendConfig.isCluster&&($("#general-numberOfShards").val().length>0&&(l.options={numberOfShards:parseInt($("#general-numberOfShards").val())}),$("#general-replicationFactor").val().length>0&&(l.options?l.options.replicationFactor=parseInt($("#general-replicationFactor").val()):l.options={replicationFactor:parseInt($("#general-replicationFactor").val())}),$("#general-writeConcern").val().length>0&&(l.options?l.options.minReplicationFactor=parseInt($("#general-writeConcern").val()):l.options={minReplicationFactor:parseInt($("#general-writeConcern").val())}));this.collection.create(l,{success:function(){o.updateGraphManagementView(),window.modalView.hide()},error:function(e,t){var i=JSON.parse(t.responseText).errorMessage;i=(i=i.replace("<","")).replace(">",""),arangoHelper.arangoError(i)}})},createEditGraphModal:function(e,t,i){var n,a=[],r=[],s=[],o=this.options.collectionCollection.models,l=this,c="",h=[{collection:"",from:"",to:""}],d="",u=function(e,t){return(e=e.toLowerCase())<(t=t.toLowerCase())?-1:e>t?1:0};if(this.eCollList=[],this.removedECollList=[],o.forEach(function(e){e.get("isSystem")||("edge"===e.get("type")?l.eCollList.push(e.id):r.push(e.id))}),this.counter=0,e?(n=t?"Edit Smart Graph":i?"Edit Satellite Graph":"Edit Graph",c=e.get("_key"),(h=e.get("edgeDefinitions"))&&0!==h.length||(h=[{collection:"",from:"",to:""}]),d=e.get("orphanCollections"),s.push(window.modalView.createReadOnlyEntry("editGraphName","Name",c,"The name to identify the graph. Has to be unique")),t&&s.push(window.modalView.createReadOnlyEntry("smartGraphAttribute","Smart Graph Attribute",e.get("smartGraphAttribute"),"The attribute name that is used to smartly shard the vertices of a graph. \nEvery vertex in this Graph has to have this attribute. \n")),e.get("numberOfShards")&&s.push(window.modalView.createReadOnlyEntry("numberOfShards","Shards",e.get("numberOfShards"),"Number of shards the graph is using.")),e.get("replicationFactor")&&s.push(window.modalView.createReadOnlyEntry("replicationFactor","Replication factor",e.get("replicationFactor"),"Total number of desired copies of the data in the cluster.")),e.get("minReplicationFactor")&&s.push(window.modalView.createReadOnlyEntry("writeConcern","Write concern",e.get("minReplicationFactor"),"Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created.")),a.push(window.modalView.createDeleteButton("Delete",this.deleteGraph.bind(this))),a.push(window.modalView.createNotificationButton("Reset display settings",this.resetDisplaySettings.bind(this))),a.push(window.modalView.createSuccessButton("Save",this.saveEditedGraph.bind(this)))):(n="Create Graph",s.push(window.modalView.createTextEntry("createNewGraphName","Name","","The name to identify the graph. Has to be unique.","graphName",!0)),a.push(window.modalView.createSuccessButton("Create",this.createNewGraph.bind(this)))),!0===frontendConfig.isEnterprise&&frontendConfig.isCluster&&!e&&(s.push(window.modalView.createTextEntry("new-numberOfShards","Shards*","","Number of shards the smart graph is using.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[0-9]*$/),msg:"Must be a number."}])),s.push(window.modalView.createTextEntry("new-replicationFactor","Replication factor","","Numeric value. Must be at least 1. Total number of copies of the data in the cluster.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[1-9]*$/),msg:"Must be a number."}])),s.push(window.modalView.createTextEntry("new-writeConcern","Write concern","","Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[1-9]*$/),msg:"Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created."}])),s.push(window.modalView.createTextEntry("new-smartGraphAttribute","Smart Graph Attribute*","","The attribute name that is used to smartly shard the vertices of a graph. \nEvery vertex in this Graph has to have this attribute. \nCannot be modified later.","",!1,[{rule:Joi.string().allow("").optional(),msg:"Must be a string."}]))),frontendConfig.isCluster&&!e&&(s.push(window.modalView.createTextEntry("general-numberOfShards","Shards","","Number of shards the graph is using.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[0-9]*$/),msg:"Must be a number."}])),s.push(window.modalView.createTextEntry("general-replicationFactor","Replication factor","","Numeric value. Must be at least 1. Total number of desired copies of the data in the cluster.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[1-9]*$/),msg:"Must be a number."}])),s.push(window.modalView.createTextEntry("general-writeConcern","Write concern","","Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created.","",!1,[{rule:Joi.string().allow("").optional().regex(/^[1-9]*$/),msg:"Must be a number. Must be at least 1 and has to be smaller or equal compared to the replicationFactor."}]))),h.forEach(function(e){0===l.counter?(e.collection&&(l.removedECollList.push(e.collection),l.eCollList.splice(l.eCollList.indexOf(e.collection),1)),s.push(window.modalView.createSelect2Entry("newEdgeDefinitions"+l.counter,"Edge definitions",e.collection,"An edge definition defines a relation of the graph","Edge definitions",!0,!1,!0,1,l.eCollList.sort(u)))):s.push(window.modalView.createSelect2Entry("newEdgeDefinitions"+l.counter,"Edge definitions",e.collection,"An edge definition defines a relation of the graph","Edge definitions",!1,!0,!1,1,l.eCollList.sort(u))),s.push(window.modalView.createSelect2Entry("fromCollections"+l.counter,"fromCollections",e.from,"The collections that contain the start vertices of the relation.","fromCollections",!0,!1,!1,null,r.sort(u))),s.push(window.modalView.createSelect2Entry("toCollections"+l.counter,"toCollections",e.to,"The collections that contain the end vertices of the relation.","toCollections",!0,!1,!1,null,r.sort(u))),l.counter++}),s.push(window.modalView.createSelect2Entry("newVertexCollections","Vertex collections",d,"Collections that are part of a graph but not used in an edge definition","Vertex Collections",!1,!1,!1,null,r.sort(u))),window.modalView.show("modalGraphTable.ejs",n,a,s,void 0,void 0,this.events),$("#tab-createGraph").parent().hasClass("active")&&l.hideSmartGraphRows(),e){var p;for($(".modal-body table").css("border-collapse","separate"),$(".modal-body .spacer").remove(),p=0;p<=this.counter;p++)$("#row_fromCollections"+p).show(),$("#row_toCollections"+p).show(),$("#row_newEdgeDefinitions"+p).addClass("first"),$("#row_fromCollections"+p).addClass("middle"),$("#row_toCollections"+p).addClass("last"),$("#row_toCollections"+p).after('<tr id="spacer'+p+'" class="spacer"></tr>');$("#graphTab").hide(),$("#modal-dialog .modal-delete-confirmation").append('<fieldset><input type="checkbox" id="dropGraphCollections" name="" value=""><label for="dropGraphCollections">also drop collections?</label></fieldset>')}},resetDisplaySettings:function(){var e=$("#editGraphName").val(),t=new window.GraphSettingsView({name:e,userConfig:window.App.userConfig});t.setDefaults(!0,!0),t.remove(),window.modalView.hide(),arangoHelper.arangoNotification("Graph","Reset successful.")},addRemoveDefinition:function(e){var t=[];this.options.collectionCollection.models.forEach(function(e){e.get("isSystem")||"edge"!==e.get("type")&&t.push(e.id)}),e.stopPropagation();var i,n,a=$(e.currentTarget).attr("id");if(-1===a.indexOf("addAfter_newEdgeDefinitions"))-1!==a.indexOf("remove_newEdgeDefinitions")&&(i=a.split("remove_newEdgeDefinitions")[1],$("#row_newEdgeDefinitions"+i).remove(),$("#row_fromCollections"+i).remove(),$("#row_toCollections"+i).remove(),$("#spacer"+i).remove());else for(this.counter++,$("#row_newVertexCollections").before(this.edgeDefintionTemplate.render({number:this.counter})),$("#newEdgeDefinitions"+this.counter).select2({tags:this.eCollList,showSearchBox:!1,minimumResultsForSearch:-1,width:"336px",maximumSelectionSize:1}),$("#fromCollections"+this.counter).select2({tags:t,showSearchBox:!1,minimumResultsForSearch:-1,width:"336px"}),$("#toCollections"+this.counter).select2({tags:t,showSearchBox:!1,minimumResultsForSearch:-1,width:"336px"}),window.modalView.undelegateEvents(),window.modalView.delegateEvents(this.events),arangoHelper.fixTooltips(".icon_arangodb, .arangoicon","right"),$(".modal-body .spacer").remove(),n=0;n<=this.counter;n++)$("#row_fromCollections"+n).show(),$("#row_toCollections"+n).show(),$("#row_newEdgeDefinitions"+n).addClass("first"),$("#row_fromCollections"+n).addClass("middle"),$("#row_toCollections"+n).addClass("last"),$("#row_toCollections"+n).after('<tr id="spacer'+n+'" class="spacer"></tr>')},calculateEdgeDefinitionMap:function(){var e={};return this.collection.models.forEach(function(t){t.get("edgeDefinitions").forEach(function(t){e[t.collection]={from:t.from,to:t.to}})}),e}})}()},function(e,t){!function(){"use strict";window.GraphSettingsView=Backbone.View.extend({el:"#graphSettingsContent",remove:function(){return this.$el.empty().off(),this.stopListening(),this},general:{graph:{type:"divider",name:"Graph"},nodeStart:{type:"string",name:"Startnode",desc:"A valid node id or space seperated list of id's. If empty, a random node will be chosen.",value:2},layout:{type:"select",name:"Layout",desc:"Different graph algorithms. No overlap is very fast (more than 5000 nodes), force is slower (less than 5000 nodes) and fruchtermann is the slowest (less than 500 nodes).",noverlap:{name:"No overlap",val:"noverlap"},force:{name:"Force",val:"force"},fruchtermann:{name:"Fruchtermann",val:"fruchtermann"}},renderer:{type:"select",name:"Renderer",desc:"Canvas enables editing, WebGL is only for displaying a graph but much faster.",canvas:{name:"Canvas",val:"canvas"},webgl:{name:"WebGL (experimental)",val:"webgl"}},depth:{desc:"Search depth, starting from your start node.",type:"number",name:"Search Depth",value:2},limit:{desc:"Limit nodes count. If empty or zero, no limit is set.",type:"number",name:"Limit",value:250}},specific:{nodes:{type:"divider",name:"Nodes"},nodeLabel:{type:"string",name:"Label",desc:"Node label. Please choose a valid and available node attribute.",default:"_key"},nodeLabelByCollection:{type:"select",name:"Add Collection Name",desc:"Append collection name to the label?",yes:{name:"Yes",val:"true"},no:{name:"No",val:"false"}},nodeColorByCollection:{type:"select",name:"Color By Collections",no:{name:"No",val:"false"},yes:{name:"Yes",val:"true"},desc:"Should nodes be colorized by their collection? If enabled, node color and node color attribute will be ignored."},nodeColor:{type:"color",name:"Color",desc:"Default node color. RGB or HEX value.",default:"#2ecc71"},nodeColorAttribute:{type:"string",name:"Color Attribute",desc:"If an attribute is given, nodes will then be colorized by the attribute. This setting ignores default node color if set."},nodeSizeByEdges:{type:"select",name:"Size By Connections",yes:{name:"Yes",val:"true"},no:{name:"No",val:"false"},desc:"Should nodes be sized by their edges count? If enabled, node sizing attribute will be ignored."},nodeSize:{type:"string",name:"Sizing Attribute",desc:"Default node size. Numeric value > 0."},edges:{type:"divider",name:"Edges"},edgeLabel:{type:"string",name:"Label",desc:"Default edge label."},edgeLabelByCollection:{type:"select",name:"Add Collection Name",desc:"Set label text by collection. If activated edge label attribute will be ignored.",yes:{name:"Yes",val:"true"},no:{name:"No",val:"false"}},edgeColorByCollection:{type:"select",name:"Color By Collections",no:{name:"No",val:"false"},yes:{name:"Yes",val:"true"},desc:"Should edges be colorized by their collection? If enabled, edge color and edge color attribute will be ignored."},edgeColor:{type:"color",name:"Color",desc:"Default edge color. RGB or HEX value.",default:"#cccccc"},edgeColorAttribute:{type:"string",name:"Color Attribute",desc:"If an attribute is given, edges will then be colorized by the attribute. This setting ignores default edge color if set."},edgeEditable:{type:"select",hide:"true",name:"Editable",yes:{name:"Yes",val:"true"},no:{name:"No",val:"false"},desc:"Should edges be editable?"},edgeType:{type:"select",name:"Type",desc:"The type of the edge",line:{name:"Line",val:"line"},arrow:{name:"Arrow",val:"arrow"},curve:{name:"Curve",val:"curve"},dotted:{name:"Dotted",val:"dotted"},dashed:{name:"Dashed",val:"dashed"},tapered:{name:"Tapered",val:"tapered"}}},template:templateEngine.createTemplate("graphSettingsView.ejs"),initialize:function(e){this.name=e.name,this.userConfig=e.userConfig,this.saveCallback=e.saveCallback,e.noDefinedGraph&&(this.noDefinedGraph=e.noDefinedGraph)},events:{"click #saveGraphSettings":"saveGraphSettings","click #restoreGraphSettings":"setDefaults","keyup #graphSettingsView input":"checkEnterKey","keyup #graphSettingsView select":"checkEnterKey",'change input[type="range"]':"saveGraphSettings",'change input[type="color"]':"checkColor","change select":"saveGraphSettings","focus #graphSettingsView input":"lastFocus","focus #graphSettingsView select":"lastFocus",'focusout #graphSettingsView input[type="text"]':"checkinput"},lastFocus:function(e){this.lastFocussed=e.currentTarget.id,this.lastFocussedValue=$(e.currentTarget).val()},checkinput:function(e){new Date-this.lastSaved>500&&e.currentTarget.id===this.lastFocussed&&this.lastFocussedValue!==$(e.currentTarget).val()&&this.saveGraphSettings()},checkEnterKey:function(e){13===e.keyCode&&this.saveGraphSettings(e)},getGraphSettings:function(e){var t=this,i=frontendConfig.db+"_"+this.name;this.userConfig.fetch({success:function(n){t.graphConfig=n.toJSON().graphs[i],e&&t.continueRender()}})},checkColor:function(){this.lastConfigChange?new Date-this.lastConfigChange>750&&this.saveGraphSettings(null,!0):this.saveGraphSettings(null,!0)},saveGraphSettings:function(e,t,i,n,a,r){var s=this,o=function(){var e=!$("#g_nodeColor").is(":disabled"),t=!$("#g_edgeColor").is(":disabled");window.App.graphViewer.updateColors(e,t,$("#g_nodeColor").val(),$("#g_edgeColor").val())};if(this.noDefinedGraph){t?o():"g_layout"===e.currentTarget.id?window.App.graphViewer.rerenderAQL($("#g_layout").val(),null):"g_nodeColorByCollection"===e.currentTarget.id?"true"===$("#g_nodeColorByCollection").val()?window.App.graphViewer.switchNodeColorByCollection(!0):window.App.graphViewer.switchNodeColorByCollection(!1):"g_edgeColorByCollection"===e.currentTarget.id?"true"===$("#g_edgeColorByCollection").val()?window.App.graphViewer.switchEdgeColorByCollection(!0):window.App.graphViewer.switchEdgeColorByCollection(!1):"g_nodeSizeByEdges"===e.currentTarget.id?"true"===$("#g_nodeSizeByEdges").val()?window.App.graphViewer.switchNodeSizeByCollection(!0):window.App.graphViewer.switchNodeSizeByCollection(!1):"g_edgeType"===e.currentTarget.id&&window.App.graphViewer.switchEdgeType($("#g_edgeType").val())}else{s.lastSaved=new Date;var l=frontendConfig.db+"_"+this.name,c={};if(n)c[l]=n;else{var h,d={};$("#graphSettingsView select").each(function(e,t){h=t.id,d[h.substr(2,t.id.length)]=$(t).val()}),$("#graphSettingsView input").each(function(e,t){h=t.id,d[h.substr(2,t.id.length)]=$(t).val()}),c[l]=d}i&&(c[l].nodeStart=i),c[l].edgeEditable="true";var u=function(){if(s.lastConfigChange=new Date,window.App.graphViewer){if(e){if("g_layout"===e.currentTarget.id)return void window.App.graphViewer.switchLayout($("#g_layout").val());if("g_nodeColorByCollection"===e.currentTarget.id)return void("true"===$("#g_nodeColorByCollection").val()?window.App.graphViewer.switchNodeColorByCollection(!0):$("#g_nodeColorAttribute").is(":disabled")?window.App.graphViewer.switchNodeColorByCollection(!1):window.App.graphViewer.switchNodeColorByCollection(!1,!0));if("g_edgeColorByCollection"===e.currentTarget.id)return void("true"===$("#g_edgeColorByCollection").val()?window.App.graphViewer.switchEdgeColorByCollection(!0):$("#g_nodeColorAttribute").is(":disabled")?window.App.graphViewer.switchEdgeColorByCollection(!1):window.App.graphViewer.switchEdgeColorByCollection(!1,!0))}""!==t&&void 0!==t?o():window.App.graphViewer.render(s.lastFocussed)}else a||arangoHelper.arangoNotification("Graph "+this.name,"Configuration saved.");r&&r()}.bind(this);this.userConfig.setItem("graphs",c,u)}this.handleDependencies()},setDefaults:function(e,t,i){var n={layout:"force",renderer:"canvas",depth:"2",limit:"250",nodeColor:"#2ecc71",nodeColorAttribute:"",nodeColorByCollection:"true",edgeColor:"#cccccc",edgeColorAttribute:"",edgeColorByCollection:"false",nodeLabel:"_key",edgeLabel:"",edgeType:"arrow",nodeSize:"",nodeSizeByEdges:"true",edgeEditable:"true",nodeLabelByCollection:"false",edgeLabelByCollection:"false",nodeStart:"",barnesHutOptimize:!0};!0===e?t?this.saveGraphSettings(null,null,null,n,t,i):this.saveGraphSettings(null,null,null,n):(this.saveGraphSettings(null,null,null,n,null),this.render(),window.App.graphViewer.render(this.lastFocussed))},toggle:function(){$(this.el).is(":visible")?this.hide():this.show()},show:function(){$(this.el).show("slide",{direction:"right"},250)},hide:function(){$(this.el).hide("slide",{direction:"right"},250)},render:function(){this.noDefinedGraph?this.continueRender():(this.getGraphSettings(!0),this.lastSaved=new Date)},handleDependencies:function(){"true"===$("#g_nodeSizeByEdges").val()?$("#g_nodeSize").prop("disabled",!0):$("#g_nodeSize").removeAttr("disabled"),"true"===$("#g_nodeColorByCollection").val()?($("#g_nodeColorAttribute").prop("disabled",!0),$("#g_nodeColor").prop("disabled",!0)):($("#g_nodeColorAttribute").removeAttr("disabled"),$("#g_nodeColor").removeAttr("disabled")),this.noDefinedGraph||""!==$("#g_nodeColorAttribute").val()&&$("#g_nodeColor").prop("disabled",!0),"true"===$("#g_edgeColorByCollection").val()?($("#g_edgeColorAttribute").prop("disabled",!0),$("#g_edgeColor").prop("disabled",!0)):($("#g_edgeColorAttribute").removeAttr("disabled"),$("#g_edgeColor").removeAttr("disabled")),this.noDefinedGraph||""!==$("#g_edgeColorAttribute").val()&&$("#g_edgeColor").prop("disabled",!0)},continueRender:function(){$(this.el).html(this.template.render({general:this.general,specific:this.specific})),arangoHelper.fixTooltips(".gv-tooltips","top"),this.graphConfig?_.each(this.graphConfig,function(e,t){$("#g_"+t).val(e)}):this.noDefinedGraph?this.fitSettingsAQLMode():this.setDefaults(!0),this.handleDependencies()},fitSettingsAQLMode:function(){_.each(["g_nodeStart","g_depth","g_limit","g_renderer","g_nodeLabel","g_nodeLabelByCollection","g_nodeColorAttribute","g_nodeSize","g_edgeLabel","g_edgeColorAttribute","g_edgeLabelByCollection"],function(e){$("#"+e).parent().prev().remove(),$("#"+e).parent().remove()}),$("#saveGraphSettings").remove(),$("#restoreGraphSettings").remove(),$("#g_nodeColorByCollection").val("false"),$("#g_edgeColorByCollection").val("false"),$("#g_nodeSizeByEdges").val("false"),$("#g_edgeType").val("arrow"),$("#g_layout").val("force")}})}()},function(e,t){!function(){"use strict";window.GraphViewer=Backbone.View.extend({el:"#content",remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},template:templateEngine.createTemplate("graphViewer2.ejs"),initialize:function(e){var t=this;e.id&&(this.setElement(e.id),this.graphData=e.data,this.aqlMode=!0),e.noDefinedGraph&&(this.noDefinedGraph=e.noDefinedGraph,this.graphData=e.data),this.name=e.name,this.userConfig=e.userConfig,this.documentStore=e.documentStore,void 0!==this.name&&this.collection.fetch({cache:!1,success:function(i){t.model=t.collection.findWhere({_key:e.name}).toJSON()}})},colors:{hotaru:["#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5"],random1:["#292F36","#4ECDC4","#F7FFF7","#DD6363","#FFE66D"],jans:["rgba(166, 109, 161, 1)","rgba(64, 74, 83, 1)","rgba(90, 147, 189, 1)","rgba(153,63,0,1)","rgba(76,0,92,1)","rgba(25,25,25,1)","rgba(0,92,49,1)","rgba(43,206,72,1)","rgba(255,204,153,1)","rgba(128,128,128,1)","rgba(148,255,181,1)","rgba(143,124,0,1)","rgba(157,204,0,1)","rgba(194,0,136,1)","rgba(0,51,128,1)","rgba(255,164,5,1)","rgba(255,168,187,1)","rgba(66,102,0,1)","rgba(255,0,16,1)","rgba(94,241,242,1)","rgba(0,153,143,1)","rgba(224,255,102,1)","rgba(116,10,255,1)","rgba(153,0,0,1)","rgba(255,255,128,1)","rgba(255,255,0,1)","rgba(255,80,5,1)"],gv:["#68BDF6","#6DCE9E","#FF756E","#DE9BF9","#FB95AF","#FFD86E","#A5ABB6"]},activeNodes:[],selectedNodes:{},aqlMode:!1,events:{"click #downloadPNG":"downloadPNG","click #loadFullGraph":"loadFullGraphModal","click #reloadGraph":"reloadGraph","click #settingsMenu":"toggleSettings","click #toggleForce":"toggleLayout","click #selectNodes":"toggleLasso"},cursorX:0,cursorY:0,layouting:!1,model:null,viewStates:{captureMode:!1},graphConfig:null,graphSettings:null,downloadPNG:function(){var e=parseInt($("#graph-container").width(),10);sigma.plugins.image(this.currentGraph,this.currentGraph.renderers[0],{download:!0,size:e,clip:!0,labels:!0,background:"white",zoom:!1})},loadFullGraphModal:function(){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry("load-full-graph-a","Caution","Really load full graph? If no limit is set, your result set could be too big.")),e.push(window.modalView.createSuccessButton("Load full graph",this.loadFullGraph.bind(this))),window.modalView.show("modalTable.ejs","Load full graph",e,t)},loadFullGraph:function(){var e=this,t={};this.graphConfig&&(delete(t=_.clone(this.graphConfig)).layout,delete t.edgeType,delete t.renderer),t.mode="all",$.ajax({type:"GET",url:arangoHelper.databaseUrl("/_admin/aardvark/graph/"+encodeURIComponent(this.name)),contentType:"application/json",data:t,success:function(t){e.killCurrentGraph(),e.renderGraph(t)},error:function(e){arangoHelper.arangoError("Graph","Could not load full graph.")}}),window.modalView.hide()},resize:function(){$("#graph-container").width($(".centralContent").width()),$("#graph-container").height($(".centralRow").height()-155)},toggleSettings:function(){this.graphSettingsView.toggle()},render:function(e){this.$el.html(this.template.render({})),$("#subNavigationBar .breadcrumb").html("Graph: "+this.name),this.resize(),this.fetchGraph(e),this.initFullscreen()},initFullscreen:function(){var e=this;if(!1===window.App.initializedFullscreen||void 0===window.App.initializedFullscreen){window.App.initializedFullscreen=!0,this.isFullscreen=!1;var t=function(t){(document.webkitIsFullScreen||document.mozFullScreen||null!==document.msFullscreenElement)&&(!1===e.isFullscreen?(e.isFullscreen=!0,$("#toggleForce").css("bottom","10px"),$("#toggleForce").css("right","10px"),$("#objectCount").css("bottom","10px"),$("#objectCount").css("left","10px"),$(".nodeInfoDiv").css("top","10px"),$(".nodeInfoDiv").css("left","10px")):(e.isFullscreen=!1,$("#toggleForce").css("bottom","40px"),$("#toggleForce").css("right","40px"),$("#objectCount").css("bottom","50px"),$("#objectCount").css("left","25px"),$(".nodeInfoDiv").css("top",""),$(".nodeInfoDiv").css("left","165px")))};document.addEventListener&&(document.addEventListener("webkitfullscreenchange",t,!1),document.addEventListener("mozfullscreenchange",t,!1),document.addEventListener("fullscreenchange",t,!1),document.addEventListener("MSFullscreenChange",t,!1))}},renderAQLPreview:function(e){this.$el.html(this.template.render({})),this.$el.find(".headerBar").remove();var t=$(".centralRow").height()-250;this.$el.find("#graph-container").css("height",t),this.graphData.modified=this.parseData(this.graphData.original,this.graphData.graphInfo);var i=!1;try{this.renderGraph(this.graphData.modified,null,!0),i=!0}catch(n){}return i},renderAQL:function(e){this.$el.html(this.template.render({})),$("#subNavigationBar .breadcrumb").html("AQL Graph"),$("#subNavigationBar .bottom").html(""),$(".queries-menu").removeClass("active"),this.resize(),this.graphData.modified=this.parseData(this.graphData.original,this.graphData.graphInfo),this.renderGraph(this.graphData.modified,null,!1),this.initFullscreen(),this.graphSettingsView=new window.GraphSettingsView({name:this.name,userConfig:void 0,saveCallback:void 0,noDefinedGraph:!0}),this.graphSettingsView.render()},killCurrentGraph:function(){if(this.currentGraph&&this.currentGraph.renderers)for(var e in this.currentGraph.renderers)try{this.currentGraph.renderers[e].clear(),this.currentGraph.kill(e)}catch(t){}},rerenderAQL:function(e,t){this.killCurrentGraph(),this.renderGraph(this.graphData.modified,null,!1,e,"canvas"),"true"===$("#g_nodeColorByCollection").val()?this.switchNodeColorByCollection(!0):$("#g_nodeColor").is(":disabled")?this.updateColors(!0,!0,null,null,!0):this.ncolor?this.updateColors(!0,!0,this.ncolor,this.ecolor):this.updateColors(!0,!0,"#2ecc71","#2ecc71"),"true"===$("#g_edgeColorByCollection").val()?this.switchEdgeColorByCollection(!0):$("#g_edgeColor").is(":disabled")?this.updateColors(!0,!0,null,null,!0):this.ecolor?this.updateColors(!0,!0,this.ncolor,this.ecolor):this.updateColors(!0,!0,"#2ecc71","#2ecc71")},buildCollectionColors:function(){var e=this;if(!e.collectionColors){e.collectionColors={};var t=0,i={},n={};_.each(this.currentGraph.graph.nodes(),function(e){i[e.id]=void 0}),_.each(e.currentGraph.graph.edges(),function(e){n[e.id]=void 0}),_.each(i,function(i,n){void 0===e.collectionColors[n.split("/")[0]]&&(e.collectionColors[n.split("/")[0]]={color:e.colors.jans[t]},t++)}),t=0,_.each(n,function(i,n){void 0===e.collectionColors[n.split("/")[0]]&&(e.collectionColors[n.split("/")[0]]={color:e.colors.jans[t]},t++)})}},switchNodeColorByCollection:function(e,t){var i=this;i.buildCollectionColors(),e?(i.currentGraph.graph.nodes().forEach(function(e){e.color=i.collectionColors[e.id.split("/")[0]].color}),i.currentGraph.refresh()):t?this.updateColors(!0,null,null,null,t):this.ncolor?this.updateColors(!0,null,this.ncolor,this.ecolor):this.updateColors(!0,null,"#2ecc71","#2ecc71")},switchEdgeColorByCollection:function(e,t){var i=this;i.buildCollectionColors(),e?(i.currentGraph.graph.edges().forEach(function(e){e.color=i.collectionColors[e.id.split("/")[0]].color}),i.currentGraph.refresh()):t?this.updateColors(!0,null,null,null,t):this.ecolor?this.updateColors(null,!0,this.ncolor,this.ecolor):this.updateColors(null,!0,"#2ecc71","#2ecc71")},buildCollectionSizes:function(){var e=this;if(!e.nodeEdgesCount){e.nodeEdgesCount={};var t={};_.each(this.currentGraph.graph.edges(),function(i){void 0===t[i.id]&&(t[i.id]=!0,void 0===e.nodeEdgesCount[i.source]?e.nodeEdgesCount[i.source]=1:e.nodeEdgesCount[i.source]+=1,void 0===e.nodeEdgesCount[i.target]?e.nodeEdgesCount[i.target]=1:e.nodeEdgesCount[i.target]+=1)})}},switchNodeSizeByCollection:function(e){var t=this;e?(t.buildCollectionSizes(),t.currentGraph.graph.nodes().forEach(function(e){e.size=t.nodeEdgesCount[e.id]})):t.currentGraph.graph.nodes().forEach(function(e){e.size=15}),t.currentGraph.refresh()},switchEdgeType:function(e){var t={nodes:this.currentGraph.graph.nodes(),edges:this.currentGraph.graph.edges(),settings:{}};this.killCurrentGraph(),this.renderGraph(t,null,!1,null,null,e)},switchLayout:function(e){var t={nodes:this.currentGraph.graph.nodes(),edges:this.currentGraph.graph.edges(),settings:{}};this.killCurrentGraph(),this.renderGraph(t,null,!1,e),"true"===$("#g_nodeColorByCollection").val()&&this.switchNodeColorByCollection(!0),"true"===$("#g_edgeColorByCollection").val()?this.switchEdgeColorByCollection(!0):this.switchEdgeColorByCollection(!1)},parseData:function(e,t){var i={},n={},a="#2ecc71",r={nodes:[],edges:[],settings:{}};if(this.ncolor&&(a=this.ncolor),"object"===t){_.each(e,function(e){e.edges&&e.vertices&&(_.each(e.edges,function(e){null!==e&&(n[e._id]={id:e._id,source:e._from,color:"#cccccc",target:e._to})}),_.each(e.vertices,function(e){null!==e&&(i[e._id]={id:e._id,label:e._key,size:.3,color:a,x:Math.random(),y:Math.random()})}))});var s=[];_.each(i,function(e){r.nodes.push(e),s.push(e.id)}),_.each(n,function(e){s.includes(e.source)&&s.includes(e.target)&&r.edges.push(e)})}else if("array"===t){var o={};_.each(e,function(e){e&&(i[e._from]=null,i[e._to]=null,e._id&&(o[e._id]={id:e._id,source:e._from,color:"#cccccc",target:e._to}))}),_.each(i,function(e,t){r.nodes.push({id:t,label:t,size:.3,color:a,x:Math.random(),y:Math.random()})}),_.each(o,function(e){r.edges.push(e)})}return r},rerender:function(){this.fetchGraph()},fetchGraph:function(e){var t=this;$(this.el).append('<div id="calculatingGraph" style="position: absolute; left: 25px; top: 130px;"><i class="fa fa-circle-o-notch fa-spin" style="margin-right: 10px;"></i><span id="calcText">Fetching graph data. Please wait ... </span></br></br></br><span style="font-weight: 100; opacity: 0.6; font-size: 9pt;">If it`s taking too much time to draw the graph, please navigate to: <a style="font-weight: 500" href="'+window.location.href+'/graphs">Graphs View</a></br>Click the settings icon and reset the display settings.It is possible that the graph is too big to be handled by the browser.</span></div>');var i=function(){var i={};t.graphConfig&&(delete(i=_.clone(t.graphConfig)).layout,delete i.edgeType,delete i.renderer),t.tmpStartNode&&(t.graphConfig?0===t.graphConfig.nodeStart.length&&(i.nodeStart=t.tmpStartNode):i.nodeStart=t.tmpStartNode),t.setupSigma(),t.fetchStarted=new Date,$.ajax({type:"GET",url:arangoHelper.databaseUrl("/_admin/aardvark/graph/"+encodeURIComponent(t.name)),contentType:"application/json",data:i,success:function(i){!0===i.empty?t.renderGraph(i,e):(i.settings&&i.settings.startVertex&&void 0===t.graphConfig.startNode&&void 0===t.tmpStartNode&&(t.tmpStartNode=i.settings.startVertex._id),t.fetchFinished=new Date,t.calcStart=t.fetchFinished,$("#calcText").html("Server response took "+Math.abs(t.fetchFinished.getTime()-t.fetchStarted.getTime())+" ms. Initializing graph engine. Please wait ... "),window.setTimeout(function(){t.renderGraph(i,e)},50))},error:function(e){try{var i;if(e.responseJSON.exception)if(i=e.responseJSON.exception,-1!==e.responseJSON.exception.search("1205")){var n='Starting point: <span style="font-weight: 400">'+t.graphConfig.nodeStart+"</span> is invalid";$("#calculatingGraph").html('<div style="font-weight: 300; font-size: 10.5pt"><span style="font-weight: 400">Stopped. </span></br></br>'+n+'. Please <a style="color: #3498db" href="'+window.location.href+'/settings">choose a different start node.</a></div>')}else $("#calculatingGraph").html("Failed to fetch graph information.");else i=e.responseJSON.errorMessage,$("#calculatingGraph").html("Failed to fetch graph information: "+e.responseJSON.errorMessage);arangoHelper.arangoError("Graph",i)}catch(a){}}})};void 0===t.graphConfig||null===t.graphConfig?t.userConfig.fetch({success:function(e){var n=frontendConfig.db+"_"+t.name;try{t.graphConfig=e.toJSON().graphs[n],t.getGraphSettings(i),void 0===t.graphConfig||null===t.graphConfig?(t.graphSettingsView=new window.GraphSettingsView({name:t.name,userConfig:t.userConfig,saveCallback:t.render}),t.graphSettingsView.setDefaults(!0,!0)):(t.graphSettingsView&&t.graphSettingsView.remove(),t.graphSettingsView=new window.GraphSettingsView({name:t.name,userConfig:t.userConfig,saveCallback:t.render}),t.graphSettingsView.render())}catch(a){t.getGraphSettings(i)}}}):this.getGraphSettings(i)},setupSigma:function(){if(this.graphConfig&&this.graphConfig.edgeLabel){sigma.utils.pkg("sigma.settings");sigma.settings=sigma.utils.extend(sigma.settings||{},{defaultEdgeLabelColor:"#000",defaultEdgeLabelActiveColor:"#000",defaultEdgeLabelSize:12,edgeLabelSize:"fixed",edgeLabelThreshold:1,edgeLabelSizePowRatio:1}),sigma.settings.drawEdgeLabels=!0,sigma.settings.clone=!0}},contextState:{createEdge:!1,_from:!1,_to:!1,fromX:!1,fromY:!1},clearOldContextMenu:function(e){var t=this;$("#nodeContextMenu").remove();$("#graph-container").append('<div id="nodeContextMenu" class="nodeContextMenu animated zoomIn"></div>'),e&&_.each(this.contextState,function(e,i){t.contextState[i]=!1}),document.getElementsByClassName("sigma-mouse")[0].removeEventListener("mousemove",t.drawLine.bind(this),!1)},trackCursorPosition:function(e){this.cursorX=e.x,this.cursorY=e.y},deleteNode:function(e,t){var i,n,a,r=this;n=(i=t||$("#delete-node-attr-id").text()).split("/")[0],a=i.split("/")[1];var s=arangoHelper.databaseUrl("/_api/gharial/"+encodeURIComponent(r.name)+"/vertex/"+encodeURIComponent(i.split("/")[0])+"/"+encodeURIComponent(i.split("/")[1]));if("yes"===$("#delete-node-edges-attr").val())$.ajax({cache:!1,type:"DELETE",contentType:"application/json",url:s,success:function(e){r.currentGraph.graph.dropNode(i),r.currentGraph.refresh()},error:function(){arangoHelper.arangoError("Graph","Could not delete node.")}});else{this.documentStore.deleteDocument(n,a,function(e){e?arangoHelper.arangoError("Graph","Could not delete node."):(r.currentGraph.graph.dropNode(i),r.currentGraph.refresh())})}window.modalView.hide()},deleteNodes:function(){var e=this;try{var t=JSON.parse($("#delete-nodes-arr-id").text());_.each(t,function(t){e.deleteNode(null,t)})}catch(i){}},deleteNodesModal:function(){var e=[];if(_.each(this.selectedNodes,function(t){e.push(t)}),0!==e.length){var t=[],i=[];i.push(window.modalView.createReadOnlyEntry("delete-nodes-arr-id","Really delete nodes",JSON.stringify(e))),t.push(window.modalView.createDeleteButton("Delete",this.deleteNodes.bind(this))),window.modalView.show("modalTable.ejs","Delete nodes",t,i)}else arangoHelper.arangoNotification("Graph","No nodes selected.")},deleteNodeModal:function(e){var t=[],i=[];i.push(window.modalView.createReadOnlyEntry("delete-node-attr-id","Really delete node",e)),this.noDefinedGraph||i.push(window.modalView.createSelectEntry("delete-node-edges-attr","Also delete edges?",void 0,void 0,[{value:"yes",label:"Yes"},{value:"no",label:"No"}])),t.push(window.modalView.createDeleteButton("Delete",this.deleteNode.bind(this))),window.modalView.show("modalTable.ejs","Delete node",t,i)},addNode:function(){var e=this,t=$(".modal-body #new-node-collection-attr").val(),i=$(".modal-body #new-node-key-attr").last().val(),n={};if(""!==i&&void 0!==i&&(n._key=i),this.graphSettings.isSmart){var a=$("#new-smart-key-attr").val();n[this.graphSettings.smartGraphAttribute]=""!==a&&void 0!==a?a:null}this.collection.createNode(e.name,t,n,function(t,i,n){t?arangoHelper.arangoError("Could not create node",n):($("#emptyGraph").remove(),e.currentGraph.graph.addNode({id:i,label:i.split("/")[1]||"",size:e.graphConfig.nodeSize||15,color:e.graphConfig.nodeColor||e.ncolor||"#2ecc71",originalColor:e.graphConfig.nodeColor||e.ncolor||"#2ecc71",x:e.addNodeX+e.currentGraph.camera.x,y:e.addNodeY+e.currentGraph.camera.y}),window.modalView.hide(),e.currentGraph.refresh(),e.cameraToNode(e.currentGraph.graph.nodes(i)))})},deleteEdgeModal:function(e){var t=[],i=[];i.push(window.modalView.createReadOnlyEntry("delete-edge-attr-id","Really delete edge",e)),t.push(window.modalView.createDeleteButton("Delete",this.deleteEdge.bind(this))),window.modalView.show("modalTable.ejs","Delete edge",t,i)},deleteEdge:function(){var e=this,t=$("#delete-edge-attr-id").text(),i=t.split("/")[0],n=t.split("/")[1];this.documentStore.deleteDocument(i,n,function(i){i?arangoHelper.arangoError("Graph","Could not delete edge."):(e.currentGraph.graph.dropEdge(t),e.currentGraph.refresh())}),window.modalView.hide()},addNodeModal:function(){if(0!==this.graphSettings.vertexCollections){var e=[],t=[],i=[];_.each(this.graphSettings.vertexCollections,function(e){i.push({label:e.name,value:e.name})}),t.push(window.modalView.createTextEntry("new-node-key-attr","_key",void 0,"The nodes unique key(optional attribute, leave empty for autogenerated key","is optional: leave empty for autogenerated key",!1,[{rule:Joi.string().allow("").optional(),msg:""}])),this.graphSettings.isSmart&&t.push(window.modalView.createTextEntry("new-smart-key-attr",this.graphSettings.smartGraphAttribute+"*",void 0,"The attribute value that is used to smartly shard the vertices of a graph. \nEvery vertex in this Graph has to have this attribute. \nCannot be modified later.","Cannot be modified later.",!1,[{rule:Joi.string().allow("").optional(),msg:""}])),t.push(window.modalView.createSelectEntry("new-node-collection-attr","Collection",void 0,"Please select the destination for the new node.",i)),e.push(window.modalView.createSuccessButton("Create",this.addNode.bind(this))),window.modalView.show("modalTable.ejs","Create node",e,t)}else arangoHelper.arangoError("Graph","No valid vertex collections found.")},addEdge:function(){var e,t=this,i=t.contextState._from,n=t.contextState._to;e=""===$(".modal-body #new-edge-collection-attr").val()?$(".modal-body #new-edge-collection-attr").text():$(".modal-body #new-edge-collection-attr").val();var a=$(".modal-body #new-edge-key-attr").last().val(),r={_from:i,_to:n};""!==a&&void 0!==a&&(r._key=a),this.collection.createEdge(t.name,e,r,function(e,a,r){if(e)arangoHelper.arangoError("Could not create edge",r);else{var s={source:i,target:n,id:a,color:t.graphConfig.edgeColor||t.ecolor};"true"===t.graphConfig.edgeEditable&&(s.size=1),t.currentGraph.graph.addEdge(s),t.graphConfig&&"curve"===t.graphConfig.edgeType&&sigma.canvas.edges.autoCurve(t.currentGraph),t.currentGraph.refresh()}t.clearOldContextMenu(!0),window.modalView.hide()})},addEdgeModal:function(e){if(0!==e){var t=[],i=[];if(i.push(window.modalView.createTextEntry("new-edge-key-attr","_key",void 0,"The edges unique key(optional attribute, leave empty for autogenerated key","is optional: leave empty for autogenerated key",!1,[{rule:Joi.string().allow("").optional(),msg:""}])),e.length>1){var n=[];_.each(e,function(e){n.push({label:e,value:e})}),i.push(window.modalView.createSelectEntry("new-edge-collection-attr","Edge collection",void 0,"Please select the destination for the new edge.",n))}else i.push(window.modalView.createReadOnlyEntry("new-edge-collection-attr","Edge collection",e[0],"The edge collection to be used."));t.push(window.modalView.createSuccessButton("Create",this.addEdge.bind(this))),window.modalView.show("modalTable.ejs","Create edge",t,i)}else arangoHelper.arangoError("Graph","No valid edge definitions found.")},updateColors:function(e,t,i,n,a){var r=frontendConfig.db+"_"+this.name,s=this;i&&(s.ncolor=i),n&&(s.ecolor=n),this.userConfig.fetch({success:function(o){if(!0===e){s.graphConfig=o.toJSON().graphs[r];try{s.currentGraph.graph.nodes().forEach(function(e){e.color=a?e.sortColor:i})}catch(l){s.graphNotInitialized=!0,s.tmpGraphArray=[e,t,i,n]}}if(!0===t)try{s.currentGraph.graph.edges().forEach(function(e){e.color=a?e.sortColor:n})}catch(c){s.graphNotInitialized=!0,s.tmpGraphArray=[e,t,i,n]}s.currentGraph&&s.currentGraph.refresh()}})},nodesContextMenuCheck:function(e){this.nodesContextEventState=e,this.openNodesDate=new Date},createContextMenu:function(e){var t=this,i=t.cursorX-50,n=t.cursorY-50;this.clearOldContextMenu();$("#nodeContextMenu").css("position","fixed"),$("#nodeContextMenu").css("left",i),$("#nodeContextMenu").css("top",n),$("#nodeContextMenu").width(100),$("#nodeContextMenu").height(100),function(e){var i=new wheelnav("nodeContextMenu");i.maxPercent=1,i.wheelRadius=50,i.clockwise=!1,i.colors=t.colors.hotaru,i.multiSelect=!0,i.clickModeRotate=!1,i.slicePathFunction=slicePath().DonutSlice,i.createWheel([icon.plus,icon.arrowleft2]),i.navItems[0].selected=!1,i.navItems[0].hovered=!1,i.navItems[0].navigateFunction=function(e){t.clearOldContextMenu(),t.addNodeModal()},i.navItems[1].navigateFunction=function(e){t.clearOldContextMenu()},i.navItems[0].selected=!1,i.navItems[0].hovered=!1}()},createEdgeContextMenu:function(e,t){var i=this,n=this.cursorX-165,a=this.cursorY-120;this.clearOldContextMenu();$("#nodeContextMenu").css("left",n+115),$("#nodeContextMenu").css("top",a+72),$("#nodeContextMenu").width(100),$("#nodeContextMenu").height(100),function(e,t){var n=new wheelnav("nodeContextMenu");n.maxPercent=1,n.wheelRadius=50,n.clockwise=!1,n.colors=["#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5"],n.multiSelect=!0,n.clickModeRotate=!1,n.slicePathFunction=slicePath().DonutSlice,n.createWheel([icon.edit,icon.trash]),n.navItems[0].selected=!1,n.navItems[0].hovered=!1,n.navItems[0].navigateFunction=function(e){i.clearOldContextMenu(),i.editEdge(t)},n.navItems[1].navigateFunction=function(e){i.clearOldContextMenu(),i.deleteEdgeModal(t)},n.navItems[0].selected=!1,n.navItems[0].hovered=!1}(0,e)},createNodeContextMenu:function(e,t){var i,n,a,r=this;_.each(t.data.node,function(e,t){"renderer"===t.substr(0,8)&&"x"===t.charAt(t.length-1)&&(i=e),"renderer"===t.substr(0,8)&&"y"===t.charAt(t.length-1)&&(n=e),"renderer"===t.substr(0,8)&&"e"===t.charAt(t.length-1)&&(a=e)}),void 0===i&&void 0===n&&_.each(t.data.node,function(e,t){"read_cam"===t.substr(0,8)&&"x"===t.charAt(t.length-1)&&(i=e+$("#graph-container").width()/2),"read_cam"===t.substr(0,8)&&"y"===t.charAt(t.length-1)&&(n=e+$("#graph-container").height()/2)});var s=2.5*a;s<75&&(s=75),this.clearOldContextMenu();var o=$("#graph-container").offset();$("#nodeContextMenu").width(2*s),$("#nodeContextMenu").height(2*s),$("#nodeContextMenu").css("left",i+o.left-s),$("#nodeContextMenu").css("top",n+o.top-s),function(e,t){var a=new wheelnav("nodeContextMenu");a.maxPercent=1,a.wheelRadius=s,a.clockwise=!1,a.colors=["#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5"],a.multiSelect=!1,a.clickModeRotate=!1,a.sliceHoverAttr={stroke:"#fff","stroke-width":2},a.slicePathFunction=slicePath().DonutSlice,r.noDefinedGraph?a.createWheel(["imgsrc:img/gv_edit.png","imgsrc:img/gv_trash.png"]):a.createWheel(["imgsrc:img/gv_edit.png","imgsrc:img/gv_trash.png","imgsrc:img/gv_flag.png","imgsrc:img/gv_link.png","imgsrc:img/gv_expand.png"]),$("#nodeContextMenu").addClass("animated bounceIn"),window.setTimeout(function(){a.navItems[0].navigateFunction=function(e){r.clearOldContextMenu(),r.editNode(t),r.removeHelp()},a.navItems[1].navigateFunction=function(e){r.clearOldContextMenu(),r.deleteNodeModal(t),r.removeHelp()},r.noDefinedGraph||(a.navItems[2].navigateFunction=function(e){r.clearOldContextMenu(),r.setStartNode(t),r.removeHelp()},a.navItems[3].navigateFunction=function(e){r.contextState.createEdge=!0,r.contextState._from=t,r.contextState.fromX=i,r.contextState.fromY=n;var a=document.getElementsByClassName("sigma-mouse")[0];r.drawHelp("Now click destination node, or click background to cancel."),a.addEventListener("mousemove",r.drawLine.bind(this),!1),r.clearOldContextMenu(),r.removeHelp()},a.navItems[4].navigateFunction=function(e){r.clearOldContextMenu(),r.expandNode(t),r.removeHelp()});var e=["Edit the node.","Delete node."];r.noDefinedGraph||(e.push("Set as startnode."),e.push("Draw edge."),e.push("Expand the node.")),_.each(e,function(e,t){a.navItems[t].navTitle.mouseover(function(){r.drawHelp(e)}),a.navItems[t].navTitle.mouseout(function(){r.removeHelp()})}),a.navItems[0].selected=!1,a.navItems[0].hovered=!1},300)}(0,e)},drawHelp:function(e){null===document.getElementById("helpTooltip")?$(this.el).append('<div id="helpTooltip" class="helpTooltip"><span>'+e+"</span></div>"):$("#helpTooltip span").text(e),$("#helpTooltip").show()},removeHelp:function(){$("#helpTooltip").remove()},clearMouseCanvas:function(){var e=document.getElementsByClassName("sigma-mouse")[0];e.getContext("2d").clearRect(0,0,$(e).width(),$(e).height())},expandNode:function(e){var t=this,i={};this.graphConfig&&(delete(i=_.clone(this.graphConfig)).layout,delete i.edgeType,delete i.renderer),i.query='FOR v, e, p IN 1..1 ANY "'+e+'" GRAPH "'+t.name+'" RETURN p',$.ajax({type:"GET",url:arangoHelper.databaseUrl("/_admin/aardvark/graph/"+encodeURIComponent(this.name)),contentType:"application/json",data:i,success:function(i){t.checkExpand(i,e)},error:function(t){arangoHelper.arangoError("Graph","Could not expand node: "+e+".")}}),t.removeHelp()},checkExpand:function(e,t){var i,n=this,a=e.nodes,r=e.edges,s=this.currentGraph.graph.nodes(),o=0,l=0;_.each(a,function(e){i=!1,_.each(s,function(n){!1===i&&(e.id===n.id?(n.id===t&&-1===n.label.indexOf(" (expanded)")&&(n.label=n.label+" (expanded)"),i=!0):i=!1)}),!1===i&&(e.originalColor=e.color,n.currentGraph.graph.addNode(e),o++)}),_.each(r,function(e){void 0===n.currentGraph.graph.edges(e.id)&&(e.originalColor=e.color,n.currentGraph.graph.addEdge(e),l++)}),$("#nodesCount").text(parseInt($("#nodesCount").text(),10)+o),$("#edgesCount").text(parseInt($("#edgesCount").text(),10)+l),(o>0||l>0)&&("force"===n.algorithm?n.startLayout(!0,t):"fruchtermann"===n.algorithm?(sigma.layouts.fruchtermanReingold.start(n.currentGraph),n.currentGraph.refresh(),n.cameraToNode(t,1e3)):"noverlap"===n.algorithm&&n.startLayout(!0,t))},cameraToNode:function(e,t){var i=this;"string"===typeof e&&(e=i.currentGraph.graph.nodes(e));var n=function(e){sigma.misc.animation.camera(i.currentGraph.camera,{x:e.x,y:e.y},{duration:1e3})};t?window.setTimeout(function(){n(e)},t):n(e)},drawLine:function(e){var t=window.App.graphViewer.contextState;if(t.createEdge){var i=t.fromX,n=t.fromY,a=e.offsetX,r=e.offsetY,s=document.getElementsByClassName("sigma-mouse")[0],o=s.getContext("2d");o.clearRect(0,0,$(s).width(),$(s).height()),o.beginPath(),o.moveTo(i,n),o.lineTo(a,r),o.strokeStyle=this.newEdgeColor,o.stroke()}},getGraphSettings:function(e){var t=this;this.userConfig.fetch({success:function(i){var n=frontendConfig.db+"_"+t.name;t.graphConfig=i.toJSON().graphs[n],t.graphSettingsView&&t.graphSettingsView.remove(),t.graphSettingsView=new window.GraphSettingsView({name:t.name,userConfig:t.userConfig,saveCallback:t.render});var a=function(){t.graphSettingsView.render(),e&&e(t.graphConfig)};void 0===t.graphConfig?(t.graphSettingsView.setDefaults(!0,!0),t.userConfig.fetch({success:function(e){t.graphConfig=e.toJSON().graphs[n],a()}})):a()}})},setStartNode:function(e){this.graphConfig.nodeStart=e,this.graphSettingsView.saveGraphSettings(void 0,void 0,e)},editNode:function(e){var t=function(e){this.updateNodeLabel(e)}.bind(this);arangoHelper.openDocEditor(e,"doc",t)},updateNodeLabel:function(e){var t=e[0]._id;if(this.graphConfig.nodeLabel&&this.currentGraph.graph.nodes(t).label!==e[0][this.graphConfig.nodeLabel]){var i=e[0].new[this.graphConfig.nodeLabel];this.currentGraph.graph.nodes(t).label="string"===typeof i?i:JSON.stringify(i),this.currentGraph.refresh({skipIndexation:!0})}},editEdge:function(e){var t=function(e){this.updateEdgeLabel(e)}.bind(this);arangoHelper.openDocEditor(e,"edge",t)},updateEdgeLabel:function(e){var t=e[0]._id;if(this.graphConfig.edgeLabel&&this.currentGraph.graph.edges(t).label!==e[0][this.graphConfig.edgeLabel]){var i=e[0].new[this.graphConfig.edgeLabel];this.currentGraph.graph.edges(t).label="string"===typeof i?i:JSON.stringify(i),this.currentGraph.refresh({skipIndexation:!0})}},reloadGraph:function(){Backbone.history.loadUrl(Backbone.history.fragment)},getEdgeDefinitionCollections:function(e,t){var i=[];return _.each(this.model.edgeDefinitions,function(n){_.each(n.from,function(a){a===e&&_.each(n.to,function(e){e===t&&i.push(n.collection)})})}),i},initializeGraph:function(e,t){e.refresh()},renderGraph:function(e,t,i,n,a,r){var s=this;this.graphSettings=e.settings;var o="#2ecc71";if(s.ncolor&&(o=s.ncolor),e.edges&&e.nodes){0===e.nodes.length&&0===e.edges.length&&e.nodes.push({id:e.settings.startVertex._id,label:e.settings.startVertex._key,size:10,color:o,x:Math.random(),y:Math.random()});this.aqlMode||$("#graph-container").append('<div id="objectCount" style="position: absolute; left: 25px; bottom: 50px; animated fadeIn"><span style="margin-right: 10px" class="arangoState"><span id="nodesCount">'+e.nodes.length+'</span> nodes</span><span class="arangoState"><span id="edgesCount">'+e.edges.length+"</span> edges</span></div>")}this.Sigma=sigma,s.algorithm=n||"force",s.renderer=a||"canvas",this.graphConfig&&(this.graphConfig.layout&&(n||(s.algorithm=this.graphConfig.layout)),this.graphConfig.renderer&&(a||(s.renderer=this.graphConfig.renderer))),"canvas"===s.renderer&&(s.isEditable=!0);var l={scalingMode:"inside",borderSize:3,defaultNodeBorderColor:"#8c8c8c",doubleClickEnabled:!1,minNodeSize:5,labelThreshold:9,maxNodeSize:15,batchEdgesDrawing:!0,minEdgeSize:1,maxEdgeSize:1,enableEdgeHovering:!0,edgeHoverColor:"#8c8c8c",defaultEdgeHoverColor:"#8c8c8c",defaultEdgeType:"arrow",edgeHoverSizeRatio:2.5,edgeHoverExtremities:!0,nodesPowRatio:.5,autoRescale:!0,mouseEnabled:!0,touchEnabled:!0,approximateLabelWidth:!0,font:"Roboto",nodeHaloColor:"rgba(146,197,192, 0.8)",nodeHaloStroke:!1,nodeHaloStrokeColor:"#000",nodeHaloStrokeWidth:0,nodeHaloSize:25,nodeHaloClustering:!1,nodeHaloClusteringMaxRadius:1e3,edgeHaloColor:"#fff",edgeHaloSize:10,drawHalo:!0};"canvas"===s.renderer&&(l.autoCurveSortByDirection=!0),e.nodes&&e.nodes.length>250&&(l.hideEdgesOnMove=!0),this.graphConfig&&this.graphConfig.edgeType&&(l.defaultEdgeType=this.graphConfig.edgeType),r&&(l.defaultEdgeType=r),"arrow"===l.defaultEdgeType&&(l.minArrowSize=7),i&&(s.renderer="canvas",e.nodes.length<500?s.algorithm="fruchtermann":l.scalingMode="outside",l.drawEdgeLabels=!1,l.minNodeSize=2,l.maxNodeSize=8),"webgl"===s.renderer&&(l.enableEdgeHovering=!1);var c=new this.Sigma({graph:e,container:"graph-container",renderer:{container:document.getElementById("graph-container"),type:s.renderer},settings:l});if(this.currentGraph=c,this.aqlMode||sigma.plugins.fullScreen({container:"graph-container",btnId:"graph-fullscreen-btn"}),c.graph.nodes().forEach(function(e){e.originalColor=e.color}),c.graph.edges().forEach(function(e){e.originalColor=e.color}),"noverlap"===s.algorithm)c.configNoverlap({nodeMargin:.1,scaleNodes:1.05,gridSize:75,easing:"quadraticInOut",duration:1500}).bind("start stop interpolate",function(e){e.type,e.type});else if("fruchtermann"===s.algorithm){sigma.layouts.fruchtermanReingold.configure(c,{iterations:100,easing:"quadraticInOut",duration:1500}).bind("start stop interpolate",function(e){})}if(!s.aqlMode){var h=function(e,t){if($(".nodeInfoDiv").remove(),!1===s.contextState.createEdge&&window.location.hash.indexOf("graph")>-1){var i=function(e,t,i){if(e)s.currentGraph.graph.dropNode(i),s.currentGraph.refresh();else{var n="";n+='<span class="title">ID </span> <span class="nodeId">'+t.documents[0]._id+"</span>",Object.keys(t.documents[0]).length>3&&(n+='<span class="title">ATTRIBUTES </span>'),_.each(t.documents[0],function(e,t){"_key"!==t&&"_id"!==t&&"_rev"!==t&&"_from"!==t&&"_to"!==t&&(n+='<span class="nodeAttribute">'+t+"</span>")});var a='<div id="nodeInfoDiv" class="nodeInfoDiv" style="display: none;">'+n+"</div>";$("#graph-container").append(a),s.isFullscreen&&($(".nodeInfoDiv").css("top","10px"),$(".nodeInfoDiv").css("left","10px")),$("#nodeInfoDiv").fadeIn("slow")}};t?s.documentStore.getDocument(e.data.node.id.split("/")[0],e.data.node.id.split("/")[1],i):s.documentStore.getDocument(e.data.edge.id.split("/")[0],e.data.edge.id.split("/")[1],i)}};c.bind("clickNode",function(e){if(!0===s.contextState.createEdge){s.clearMouseCanvas(),s.removeHelp(),s.contextState._to=e.data.node.id;var t=s.contextState._from.split("/")[0],i=s.contextState._to.split("/")[0],n=s.getEdgeDefinitionCollections(t,i);0===n.length?arangoHelper.arangoNotification("Graph","No valid edge definition found."):(s.addEdgeModal(n,s.contextState._from,s.contextState._to),s.clearOldContextMenu(!1))}else s.dragging||(!0===s.contextState.createEdge?s.newEdgeColor="#ff0000":s.newEdgeColor="#000000","canvas"===s.renderer&&s.currentGraph.renderers[0].halo({nodes:s.currentGraph.graph.nodes(),nodeHaloColor:"#DF0101",nodeHaloSize:100}),h(e,!0),s.activeNodes=[e.data.node],"canvas"===s.renderer&&c.renderers[0].halo({nodes:[e.data.node]}),s.createNodeContextMenu(e.data.node.id,e))}),s.noDefinedGraph?c.bind("clickStage",function(e){s.clearOldContextMenu(!0),s.clearMouseCanvas(),s.removeHelp()}):c.bind("clickStage",function(e){e.data.captor.isDragging?(s.clearOldContextMenu(!0),s.clearMouseCanvas()):!0===s.contextState.createEdge?(s.clearOldContextMenu(!0),s.clearMouseCanvas(),s.removeHelp()):($("#nodeContextMenu").is(":visible")?(s.clearOldContextMenu(!0),s.clearMouseCanvas()):(s.addNodeX=e.data.captor.x,s.addNodeY=e.data.captor.y,s.createContextMenu(e),s.clearMouseCanvas()),c.renderers[0].halo({nodes:s.activeNodes}))})}if("canvas"===s.renderer){this.graphConfig&&"curve"===this.graphConfig.edgeType&&sigma.canvas.edges.autoCurve(c),c.bind("clickEdge",function(e){h(e,!1)}),c.renderers[0].bind("render",function(e){c.renderers[0].halo({nodes:s.activeNodes})});var d=function(){s.nodeHighlighted=!1,s.activeNodes=[],c.graph.nodes().forEach(function(e){e.color=e.originalColor}),c.graph.edges().forEach(function(e){e.color=e.originalColor}),$(".nodeInfoDiv").remove(),c.refresh({skipIndexation:!0})};c.bind("rightClickStage",function(e){s.nodeHighlighted="undefinedid",d()}),c.bind("rightClickNode",function(e){if(s.nodeHighlighted!==e.data.node.id){var t=e.data.node.id,i=c.graph.neighbors(t);i[t]=e.data.node,c.graph.nodes().forEach(function(e){i[e.id]?e.color=e.originalColor:e.color="#eee"}),c.graph.edges().forEach(function(e){i[e.source]&&i[e.target]?e.color="rgb(64, 74, 83)":e.color="#eee"}),s.nodeHighlighted=!0,c.refresh({skipIndexation:!0})}else d()}),this.graphConfig&&this.graphConfig.edgeEditable&&c.bind("clickEdge",function(e){var t=e.data.edge.id;s.createEdgeContextMenu(t,e)})}if("noverlap"===s.algorithm)c.startNoverlap();else if("force"===s.algorithm){var u="color: rgb(64, 74, 83); cursor: pointer; position: absolute; right: 30px; bottom: 40px; z-index: 9999;";s.aqlMode&&(u="color: rgb(64, 74, 83); cursor: pointer; position: absolute; right: 30px; margin-top: 10px; margin-right: -15px"),$("#graph-container").after('<div id="toggleForce" style="'+u+'"><i style="margin-right: 5px;" class="fa fa-pause"></i><span> Stop layout</span></div>'),s.startLayout();var p=250;e.nodes&&(p=e.nodes.length,i?p<250?p=250:p+=500:(p<=250&&(p=500),p+=500)),e.empty&&arangoHelper.arangoNotification("Graph","Your graph is empty. Click inside the white window to create your first node."),window.setTimeout(function(){s.stopLayout()},p)}else"fruchtermann"===s.algorithm&&sigma.layouts.fruchtermanReingold.start(c);"force"!==s.algorithm&&s.reInitDragListener(),document.getElementsByClassName("sigma-mouse")[0].addEventListener("mousemove",s.trackCursorPosition.bind(this),!1),t&&($("#"+t).focus(),$("#graphSettingsContent").animate({scrollTop:$("#"+t).offset().top},2e3)),$("#calculatingGraph").fadeOut("slow"),i||s.graphConfig&&s.graphConfig.nodeSizeByEdges,s.calcFinished=new Date,!0===e.empty&&$(".sigma-background").before('<span id="emptyGraph" style="position: absolute; margin-left: 10px; margin-top: 10px;">The graph is empty. Please right-click to add a node.<span>'),!0===s.graphNotInitialized&&(s.updateColors(s.tmpGraphArray),s.graphNotInitialized=!1,s.tmpGraphArray=[]),"force"===s.algorithm?$("#toggleForce").fadeIn("fast"):$("#toggleForce").fadeOut("fast")},reInitDragListener:function(){var e=this;void 0!==this.dragListener&&(sigma.plugins.killDragNodes(this.currentGraph),this.dragListener={}),this.dragListener=sigma.plugins.dragNodes(this.currentGraph,this.currentGraph.renderers[0]),this.dragListener.bind("drag",function(t){e.dragging=!0}),this.dragListener.bind("drop",function(t){window.setTimeout(function(){e.dragging=!1},400)})},keyUpFunction:function(e){switch(e.keyCode){case 76:e.altKey&&this.toggleLasso()}},toggleLayout:function(){this.layouting?this.stopLayout():this.startLayout()},startLayout:function(e,t){var i=this;this.currentGraph.settings("drawLabels",!1),this.currentGraph.settings("drawEdgeLabels",!1),sigma.plugins.killDragNodes(this.currentGraph),!0===e&&(this.currentGraph.killForceAtlas2(),window.setTimeout(function(){i.stopLayout(),t&&i.currentGraph.refresh({skipIndexation:!0})},500)),$("#toggleForce .fa").removeClass("fa-play").addClass("fa-pause"),$("#toggleForce span").html("Stop layout"),this.layouting=!0,this.aqlMode,this.currentGraph.startForceAtlas2({worker:!0})},stopLayout:function(){$("#toggleForce .fa").removeClass("fa-pause").addClass("fa-play"),$("#toggleForce span").html("Resume layout"),this.layouting=!1,this.currentGraph.stopForceAtlas2(),this.currentGraph.settings("drawLabels",!0),this.currentGraph.settings("drawEdgeLabels",!0),this.currentGraph.refresh({skipIndexation:!0}),this.reInitDragListener()}})}()},function(e,t){!function(){"use strict";window.HelpUsView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("helpUsView.ejs"),render:function(){this.$el.html(this.template.render({}))}})}()},function(e,t){!function(){"use strict";window.IndicesView=Backbone.View.extend({el:"#content",initialize:function(e){var t=this;this.collectionName=e.collectionName,this.model=this.collection,t.interval=window.setInterval(function(){-1!==window.location.hash.indexOf("cIndices/"+t.collectionName)&&window.VISIBLE&&$("#collectionEditIndexTable").is(":visible")&&!$("#indexDeleteModal").is(":visible")&&t.rerender()},t.refreshRate)},interval:null,refreshRate:1e4,template:templateEngine.createTemplate("indicesView.ejs"),events:{},remove:function(){return this.interval&&window.clearInterval(this.interval),this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},render:function(){var e=this,t=function(t){var i=t.supports.aliases;i=i?i.indexes:{},$(e.el).html(e.template.render({model:e.model,supported:t.supports.indexes.filter(function(e){return!i.hasOwnProperty(e)})})),e.breadcrumb(),window.arangoHelper.buildCollectionSubNav(e.collectionName,"Indexes"),e.getIndex(),arangoHelper.checkCollectionPermissions(e.collectionName,e.changeViewToReadOnly)};this.engineData?t(this.engineData):$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/engine"),contentType:"application/json",processData:!1,success:function(i){e.engineData=i,t(i)},error:function(){arangoHelper.arangoNotification("Index","Could not fetch index information.")}})},rerender:function(){this.getIndex(!0)},changeViewToReadOnly:function(){$(".breadcrumb").html($(".breadcrumb").html()+" (read-only)"),$("#addIndex").addClass("disabled"),$("#addIndex").css("color","rgba(0,0,0,.5)"),$("#addIndex").css("cursor","not-allowed")},breadcrumb:function(){$("#subNavigationBar .breadcrumb").html("Collection: "+(this.collectionName.length>64?this.collectionName.substr(0,64)+"...":this.collectionName))},getIndex:function(e){var t=function(t,i,n){t?window.arangoHelper.arangoError("Index",i.errorMessage):this.renderIndex(i,n,e)}.bind(this);this.model.getIndex(t)},createIndex:function(){var e,t,i,n,a,r,s=this,o={};switch($("#newIndexType").val()){case"Ttl":e=$("#newTtlFields").val();var l=parseInt($("#newTtlExpireAfter").val(),10)||0;a=s.checkboxToValue("#newTtlBackground"),r=$("#newTtlName").val(),o={type:"ttl",fields:s.stringToArray(e),expireAfter:l,inBackground:a,name:r};break;case"Geo":e=$("#newGeoFields").val(),a=s.checkboxToValue("#newGeoBackground");var c=s.checkboxToValue("#newGeoJson");r=$("#newGeoName").val(),o={type:"geo",fields:s.stringToArray(e),geoJson:c,inBackground:a,name:r};break;case"Persistent":e=$("#newPersistentFields").val(),t=s.checkboxToValue("#newPersistentUnique"),i=s.checkboxToValue("#newPersistentSparse"),n=s.checkboxToValue("#newPersistentDeduplicate"),a=s.checkboxToValue("#newPersistentBackground"),r=$("#newPersistentName").val(),o={type:"persistent",fields:s.stringToArray(e),unique:t,sparse:i,deduplicate:n,inBackground:a,name:r};break;case"Hash":e=$("#newHashFields").val(),t=s.checkboxToValue("#newHashUnique"),i=s.checkboxToValue("#newHashSparse"),n=s.checkboxToValue("#newHashDeduplicate"),a=s.checkboxToValue("#newHashBackground"),r=$("#newHashName").val(),o={type:"hash",fields:s.stringToArray(e),unique:t,sparse:i,deduplicate:n,inBackground:a,name:r};break;case"Fulltext":e=$("#newFulltextFields").val();var h=parseInt($("#newFulltextMinLength").val(),10)||0;a=s.checkboxToValue("#newFulltextBackground"),r=$("#newFulltextName").val(),o={type:"fulltext",fields:s.stringToArray(e),minLength:h,inBackground:a,name:r};break;case"Skiplist":e=$("#newSkiplistFields").val(),t=s.checkboxToValue("#newSkiplistUnique"),i=s.checkboxToValue("#newSkiplistSparse"),n=s.checkboxToValue("#newSkiplistDeduplicate"),a=s.checkboxToValue("#newSkiplistBackground"),r=$("#newSkiplistName").val(),o={type:"skiplist",fields:s.stringToArray(e),unique:t,sparse:i,deduplicate:n,inBackground:a,name:r}}this.model.createIndex(o,function(e,t){if(e)if(t){var i=JSON.parse(t.responseText);arangoHelper.arangoError("Index error",i.errorMessage)}else arangoHelper.arangoError("Index error","Could not create index.");else arangoHelper.arangoNotification("Index","Creation in progress. This may take a while.");s.toggleNewIndexView(),s.render()})},bindIndexEvents:function(){this.unbindIndexEvents();var e=this;$("#indexEditView #addIndex").bind("click",function(){e.toggleNewIndexView(),$("#cancelIndex").unbind("click"),$("#cancelIndex").bind("click",function(){e.toggleNewIndexView(),e.render()}),$("#createIndex").unbind("click"),$("#createIndex").bind("click",function(){e.createIndex()})}),$("#newIndexType").bind("change",function(){e.selectIndexType()}),$(".deleteIndex").bind("click",function(t){e.prepDeleteIndex(t)}),$("#infoTab a").bind("click",function(e){if($("#indexDeleteModal").remove(),"Indexes"!==$(e.currentTarget).html()||$(e.currentTarget).parent().hasClass("active")||($("#newIndexView").hide(),$("#indexEditView").show(),$("#indexHeaderContent #modal-dialog .modal-footer .button-danger").hide(),$("#indexHeaderContent #modal-dialog .modal-footer .button-success").hide(),$("#indexHeaderContent #modal-dialog .modal-footer .button-notification").hide()),"General"===$(e.currentTarget).html()&&!$(e.currentTarget).parent().hasClass("active")){$("#indexHeaderContent #modal-dialog .modal-footer .button-danger").show(),$("#indexHeaderContent #modal-dialog .modal-footer .button-success").show(),$("#indexHeaderContent #modal-dialog .modal-footer .button-notification").show();var t=$(".index-button-bar2")[0];$("#cancelIndex").is(":visible")&&($("#cancelIndex").detach().appendTo(t),$("#createIndex").detach().appendTo(t))}})},prepDeleteIndex:function(e){var t=this;this.lastTarget=e,this.lastId=$(this.lastTarget.currentTarget).parent().parent().first().children().first().text(),$("#indexDeleteModal").length||($("#content #modal-dialog .modal-footer").after('<div id="indexDeleteModal" style="display:block;" class="alert alert-error modal-delete-confirmation"><strong>Really delete?</strong><button id="indexConfirmDelete" class="button-danger pull-right modal-confirm-delete">Yes</button><button id="indexAbortDelete" class="button-neutral pull-right">No</button></div>'),$("#indexHeaderContent #indexConfirmDelete").unbind("click"),$("#indexHeaderContent #indexConfirmDelete").bind("click",function(){$("#indexHeaderContent #indexDeleteModal").remove(),t.deleteIndex()}),$("#indexHeaderContent #indexAbortDelete").unbind("click"),$("#indexHeaderContent #indexAbortDelete").bind("click",function(){$("#indexHeaderContent #indexDeleteModal").remove()}))},unbindIndexEvents:function(){$("#indexHeaderContent #indexEditView #addIndex").unbind("click"),$("#indexHeaderContent #newIndexType").unbind("change"),$("#indexHeaderContent #infoTab a").unbind("click"),$("#indexHeaderContent .deleteIndex").unbind("click")},deleteIndex:function(){var e=function(e){e?(arangoHelper.arangoError("Could not delete index"),$("tr th:contains('"+this.lastId+"')").parent().children().last().html('<span class="deleteIndex icon_arangodb_roundminus" data-original-title="Delete index" title="Delete index"></span>'),this.model.set("locked",!1)):e||void 0===e||($("tr th:contains('"+this.lastId+"')").parent().remove(),this.model.set("locked",!1))}.bind(this);this.model.set("locked",!0),this.model.deleteIndex(this.lastId,e),$("tr th:contains('"+this.lastId+"')").parent().children().last().html('<i class="fa fa-circle-o-notch fa-spin"></i>')},renderIndex:function(e,t,i){this.index=e;arangoHelper.getAardvarkJobs(function(e,i){if(e)arangoHelper.arangoError("Jobs","Could not read pending jobs.");else{var n=function(e,t,i){e?404===t.responseJSON.code?arangoHelper.deleteAardvarkJob(i):400===t.responseJSON.code?(arangoHelper.arangoError("Index creation failed",t.responseJSON.errorMessage),arangoHelper.deleteAardvarkJob(i)):204===t.responseJSON.code&&arangoHelper.arangoMessage("Index","There is at least one new index in the queue or in the process of being created."):arangoHelper.deleteAardvarkJob(i)};_.each(i,function(e){e.collection===t&&$.ajax({type:"PUT",cache:!1,url:arangoHelper.databaseUrl("/_api/job/"+e.id),contentType:"application/json",success:function(t,i,a){n(!1,t,e.id)},error:function(t){n(!0,t,e.id)}})})}});var n="collectionInfoTh modal-text";if(this.index){var a="",r="";i&&$("#collectionEditIndexTable tbody").empty(),_.each(this.index.indexes,function(e){r="primary"===e.type||"edge"===e.type?'<span class="icon_arangodb_locked" data-original-title="No action"></span>':'<span class="deleteIndex icon_arangodb_roundminus" data-original-title="Delete index" title="Delete index"></span>',void 0!==e.fields&&(a=e.fields.join(", "));var t=e.id.indexOf("/"),i=e.id.substr(t+1,e.id.length),s=e.hasOwnProperty("selectivityEstimate")?(100*e.selectivityEstimate).toFixed(2)+"%":"n/a",o=e.hasOwnProperty("sparse")?e.sparse:"n/a",l=e.hasOwnProperty("deduplicate")?e.deduplicate:"n/a";$("#collectionEditIndexTable").append("<tr><th class="+JSON.stringify(n)+">"+arangoHelper.escapeHtml(i)+"</th><th class="+JSON.stringify(n)+">"+arangoHelper.escapeHtml(e.type)+"</th><th class="+JSON.stringify(n)+">"+arangoHelper.escapeHtml(e.unique)+"</th><th class="+JSON.stringify(n)+">"+arangoHelper.escapeHtml(o)+"</th><th class="+JSON.stringify(n)+">"+arangoHelper.escapeHtml(l)+"</th><th class="+JSON.stringify(n)+">"+arangoHelper.escapeHtml(s)+"</th><th class="+JSON.stringify(n)+">"+arangoHelper.escapeHtml(a)+"</th><th class="+JSON.stringify(n)+">"+arangoHelper.escapeHtml(e.name)+"</th><th class="+JSON.stringify(n)+">"+r+"</th></tr>")})}this.bindIndexEvents()},selectIndexType:function(){$(".newIndexClass").hide();var e=$("#newIndexType").val();null===e&&(e=$("#newIndexType").children().first().attr("value"),$("#newIndexType").val(arangoHelper.escapeHtml(e))),$("#newIndexType"+e).show()},resetIndexForms:function(){$("#indexHeader input").val("").prop("checked",!1),$("#newIndexType").val("unknown").prop("selected",!0),this.selectIndexType()},toggleNewIndexView:function(){if(!$("#addIndex").hasClass("disabled")){var e=$(".index-button-bar2")[0];$("#indexEditView").is(":visible")?($("#indexEditView").hide(),$("#newIndexView").show(),$("#cancelIndex").detach().appendTo("#indexHeaderContent #modal-dialog .modal-footer"),$("#createIndex").detach().appendTo("#indexHeaderContent #modal-dialog .modal-footer")):($("#indexEditView").show(),$("#newIndexView").hide(),$("#cancelIndex").detach().appendTo(e),$("#createIndex").detach().appendTo(e)),this.resetIndexForms()}arangoHelper.createTooltips(".index-tooltip")},stringToArray:function(e){var t=[];return e.split(",").forEach(function(e){""!==(e=e.replace(/(^\s+|\s+$)/g,""))&&t.push(e)}),t},checkboxToValue:function(e){return $(e).prop("checked")}})}()},function(e,t){!function(){"use strict";window.InfoView=Backbone.View.extend({el:"#content",initialize:function(e){this.collectionName=e.collectionName,this.model=this.collection},events:{},render:function(){this.breadcrumb(),window.arangoHelper.buildCollectionSubNav(this.collectionName,"Info"),this.renderInfoView(),arangoHelper.checkCollectionPermissions(this.collectionName,this.changeViewToReadOnly)},changeViewToReadOnly:function(){$(".breadcrumb").html($(".breadcrumb").html()+" (read-only)")},breadcrumb:function(){$("#subNavigationBar .breadcrumb").html("Collection: "+(this.collectionName.length>64?this.collectionName.substr(0,64)+"...":this.collectionName))},renderInfoView:function(){if(this.model.get("locked"))return 0;var e=function(e,t,i){if(e)arangoHelper.arangoError("Figures","Could not get revision.");else{frontendConfig.isCluster&&i&&i.figures&&0===i.figures.alive.size&&0===i.figures.alive.count&&0===i.figures.datafiles.count&&0===i.figures.datafiles.fileSize&&0===i.figures.journals.count&&0===i.figures.journals.fileSize&&0===i.figures.compactors.count&&0===i.figures.compactors.fileSize&&0===i.figures.dead.size&&0===i.figures.dead.count&&(i.walMessage=" - not ready yet - ");var n={figures:i,revision:t,model:this.model};window.modalView.show("modalCollectionInfo.ejs","Collection: "+(this.model.get("name").length>64?this.model.get("name").substr(0,64)+"...":this.model.get("name")),[],n,null,null,null,null,null,"content")}}.bind(this),t=function(t,i){if(t)arangoHelper.arangoError("Figures","Could not get figures.");else{var n=i;this.model.getRevision(e,n)}}.bind(this);this.model.getFigures(t)}})}()},function(e,t){!function(){"use strict";window.ServiceInstallGitHubView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("serviceInstallGitHubView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},initialize:function(){window.App.replaceApp&&(this._upgrade=!0)},events:{"click #installGitHubService":"installGitHubService","keydown input":"checkValidators"},checkValidators:function(){1!==window.modalView._validators.length&&(window.modalView.clearValidators(),this.setGithubValidators())},render:function(){return $(this.el).html(this.template.render({services:this.collection,upgrade:this._upgrade})),this.breadcrumb(),this.setGithubValidators(),arangoHelper.createTooltips(".modalTooltips"),this},breadcrumb:function(){var e=this;if(window.App.naviView){var t="New";this._upgrade&&(t="Replace ("+window.App.replaceAppData.mount+")"),$("#subNavigationBar .breadcrumb").html('<a href="#services">Services:</a> '+t),arangoHelper.buildServicesSubNav("GitHub")}else window.setTimeout(function(){e.breadcrumb()},100)},installGitHubService:function(){arangoHelper.createMountPointModal(this.installFoxxFromGithub.bind(this))},installFoxxFromGithub:function(){if(window.modalView.modalTestAll()){var e,t,i,n,a;this._upgrade?e=window.App.replaceAppData.mount:"/"!==(e=window.arangoHelper.escapeHtml($("#new-app-mount").val())).charAt(0)&&(e="/"+e),n=window.arangoHelper.escapeHtml($("#repository").val()),""===(a=window.arangoHelper.escapeHtml($("#tag").val()))&&(a="master");try{Joi.assert(n,Joi.string().regex(/^[a-zA-Z0-9_-]+\/[a-zA-Z0-9_-]+$/))}catch(r){return}t={url:n,version:a},(i=arangoHelper.getFoxxFlags()).legacy=Boolean($("#github-app-islegacy")[0].checked),this.collection.install("git",t,e,i,this.installCallback.bind(this))}},installCallback:function(e){window.App.navigate("#services",{trigger:!0}),window.App.applicationsView.installCallback(e)},setGithubValidators:function(){window.modalView.modalBindValidation({id:"repository",validateInput:function(){return[{rule:Joi.string().required().regex(/^[a-zA-Z0-9_-]+\/[a-zA-Z0-9_-]+$/),msg:"No valid Github account and repository."}]}}),window.modalView.modalTestAll()}})}()},function(e,t){!function(){"use strict";window.ServiceInstallNewView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("serviceInstallNewView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #installNewService":"installNewService","keydown input":"checkValidators"},checkValidators:function(){4!==window.modalView._validators.length&&(window.modalView.clearValidators(),this.setNewAppValidators())},initialize:function(){window.App.replaceApp&&(this._upgrade=!0)},render:function(){return $(this.el).html(this.template.render({services:this.collection,upgrade:this._upgrade})),this.renderSelects(),this.breadcrumb(),this.setNewAppValidators(),arangoHelper.createTooltips(".modalTooltips"),this},installNewService:function(){arangoHelper.createMountPointModal(this.generateNewFoxxApp.bind(this))},generateNewFoxxApp:function(){var e,t,i;window.modalView.modalTestAll()&&(this._upgrade?e=window.App.replaceAppData.mount:"/"!==(e=window.arangoHelper.escapeHtml($("#new-app-mount").val())).charAt(0)&&(e="/"+e),t={name:window.arangoHelper.escapeHtml($("#new-app-name").val()),documentCollections:_.map($("#new-app-document-collections").select2("data"),function(e){return window.arangoHelper.escapeHtml(e.text)}),edgeCollections:_.map($("#new-app-edge-collections").select2("data"),function(e){return window.arangoHelper.escapeHtml(e.text)}),author:window.arangoHelper.escapeHtml($("#new-app-author").val()),license:window.arangoHelper.escapeHtml($("#new-app-license").val()),description:window.arangoHelper.escapeHtml($("#new-app-description").val())},i=arangoHelper.getFoxxFlags(),this.collection.install("generate",t,e,i,this.installCallback.bind(this)));window.modalView.hide()},checkValidation:function(){window.modalView.modalTestAll()},installCallback:function(e){window.App.navigate("#services",{trigger:!0}),window.App.applicationsView.installCallback(e)},renderSelects:function(){$("#new-app-document-collections").select2({tags:[],showSearchBox:!1,minimumResultsForSearch:-1,width:"336px"}),$("#new-app-edge-collections").select2({tags:[],showSearchBox:!1,minimumResultsForSearch:-1,width:"336px"})},setNewAppValidators:function(){window.modalView.modalBindValidation({id:"new-app-author",validateInput:function(){return[{rule:Joi.string().required().min(1),msg:"Has to be non empty."}]}}),window.modalView.modalBindValidation({id:"new-app-name",validateInput:function(){return[{rule:Joi.string().required().regex(/^[a-zA-Z\-_][a-zA-Z0-9\-_]*$/),msg:"Can only contain a to z, A to Z, 0-9, '-' and '_'. Cannot start with a number."}]}}),window.modalView.modalBindValidation({id:"new-app-description",validateInput:function(){return[{rule:Joi.string().required().min(1),msg:"Has to be non empty."}]}}),window.modalView.modalBindValidation({id:"new-app-license",validateInput:function(){return[{rule:Joi.string().required().regex(/^[a-zA-Z0-9 .,;-]+$/),msg:"Can only contain a to z, A to Z, 0-9, '-', '.', ',' and ';'."}]}}),window.modalView.modalTestAll()},breadcrumb:function(){var e=this;if(window.App.naviView){var t="New";this._upgrade&&(t="Replace ("+window.App.replaceAppData.mount+")"),$("#subNavigationBar .breadcrumb").html('<a href="#services">Services:</a> '+t),arangoHelper.buildServicesSubNav("New")}else window.setTimeout(function(){e.breadcrumb()},100)}})}()},function(e,t){!function(){"use strict";window.ServiceInstallView=Backbone.View.extend({el:"#content",readOnly:!1,foxxStoreRetry:0,template:templateEngine.createTemplate("serviceInstallView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #categorySelection":"renderCategories","click #foxxFilters":"resetFilters","keyup #foxxSearch":"search"},initialize:function(e){this.functionsCollection=e.functionsCollection,window.App.replaceApp&&(this._upgrade=!0)},fetchStore:function(){var e=this;this.foxxStoreRetry=1,this.collection.fetch({cache:!1,success:function(){"#services/install"===window.location.hash&&e.render()}})},search:function(){this._installedSubViews[Object.keys(this._installedSubViews)[0]].applyFilter();var e=$("#foxxSearch").val();e?_.each(this._installedSubViews,function(t){t.model.get("name").includes(e)?"true"===$(t.el).attr("shown")&&$(t.el).show():$(t.el).hide()}):this._installedSubViews[Object.keys(this._installedSubViews)[0]].applyFilter()},createSubViews:function(){var e=this;this._installedSubViews={},e.collection.each(function(t){var i=new window.FoxxRepoView({collection:e.functionsCollection,model:t,appsView:e,upgrade:e._upgrade});e._installedSubViews[t.get("name")]=i})},renderCategories:function(e){this._installedSubViews[Object.keys(this._installedSubViews)[0]].renderCategories(e)},resetFilters:function(){$("#foxxSearch").val(""),this._installedSubViews[Object.keys(this._installedSubViews)[0]].resetFilters()},render:function(){if($(this.el).html(this.template.render({services:this.collection})),arangoHelper.buildServicesSubNav("Store"),this.breadcrumb(),0!==this.collection.length||0!==this.foxxStoreRetry)return this.collection.sort(),this.createSubViews(),_.each(this._installedSubViews,function(e){$("#availableFoxxes").append(e.render())}),this;this.fetchStore()},breadcrumb:function(){var e="New";this._upgrade&&(e="Replace ("+window.App.replaceAppData.mount+")"),$("#subNavigationBar .breadcrumb").html('<a href="#services">Services:</a> '+e)}})}()},function(e,t){!function(){"use strict";window.ServiceInstallUploadView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("serviceInstallUploadView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},initialize:function(){window.App.replaceApp&&(this._upgrade=!0)},events:{"click #installUploadService":"installFromUpload"},render:function(){return $(this.el).html(this.template.render({services:this.collection,upgrade:this._upgrade})),this.prepareUpload(),this.breadcrumb(),arangoHelper.createTooltips(".modalTooltips"),this},installFromUpload:function(){arangoHelper.createMountPointModal(this.installFoxxFromZip.bind(this))},testFunction:function(e,t){window.foxxData||(window.foxxData={}),window.foxxData.files=e,window.foxxData.data=t,$("#installUploadService").attr("disabled",!1)},prepareUpload:function(){$("#upload-foxx-zip").uploadFile({url:arangoHelper.databaseUrl("/_api/upload?multipart=true"),allowedTypes:"zip,js",multiple:!1,onSuccess:this.testFunction})},installFoxxFromZip:function(){var e,t,i;(void 0===window.foxxData.data?window.foxxData.data=this._uploadData:this._uploadData=window.foxxData.data,window.foxxData.data&&window.modalView.modalTestAll())&&(this._upgrade?e=window.App.replaceAppData.mount:"/"!==(e=window.arangoHelper.escapeHtml($("#new-app-mount").val())).charAt(0)&&(e="/"+e),t={zipFile:window.foxxData.data.filename},(i=arangoHelper.getFoxxFlags()).legacy=Boolean($("#zip-app-islegacy")[0].checked),this.collection.install("zip",t,e,i,this.installCallback.bind(this)));window.modalView.hide()},installCallback:function(e){window.App.navigate("#services",{trigger:!0}),window.App.applicationsView.installCallback(e)},breadcrumb:function(){var e=this;if(window.App.naviView){var t="New";this._upgrade&&(t="Replace ("+window.App.replaceAppData.mount+")"),$("#subNavigationBar .breadcrumb").html('<a href="#services">Services:</a> '+t),arangoHelper.buildServicesSubNav("Upload")}else window.setTimeout(function(){e.breadcrumb()},100)}})}()},function(e,t){!function(){"use strict";window.ServiceInstallUrlView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("serviceInstallUrlView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},initialize:function(){window.App.replaceApp&&(this._upgrade=!0)},events:{"click #installUrlService":"installUrlService"},render:function(){return $(this.el).html(this.template.render({services:this.collection,upgrade:this._upgrade})),this.breadcrumb(),this.setUrlValidators(),arangoHelper.createTooltips(".modalTooltips"),this},breadcrumb:function(){var e=this;if(window.App.naviView){var t="New";this._upgrade&&(t="Replace ("+window.App.replaceAppData.mount+")"),$("#subNavigationBar .breadcrumb").html('<a href="#services">Services:</a> '+t),arangoHelper.buildServicesSubNav("Remote")}else window.setTimeout(function(){e.breadcrumb()},100)},installUrlService:function(){arangoHelper.createMountPointModal(this.installFoxxFromUrl.bind(this))},installFoxxFromUrl:function(){var e,t,i;window.modalView.modalTestAll()&&(this._upgrade?e=window.App.replaceAppData.mount:"/"!==(e=window.arangoHelper.escapeHtml($("#new-app-mount").val())).charAt(0)&&(e="/"+e),t={url:window.arangoHelper.escapeHtml($("#repository").val())},i=arangoHelper.getFoxxFlags(),this.collection.install("url",t,e,i,this.installCallback.bind(this)))},setUrlValidators:function(){window.modalView.modalBindValidation({id:"repository",validateInput:function(){return[{rule:Joi.string().required().regex(/^(http)|^(https)/),msg:"No valid http or https url."}]}}),window.modalView.modalTestAll()},installCallback:function(e){window.App.navigate("#services",{trigger:!0}),window.App.applicationsView.installCallback(e)}})}()},function(e,t){!function(){"use strict";window.LoggerView=Backbone.View.extend({el:"#content",logsel:"#logEntries",id:"#logContent",initDone:!1,pageSize:20,currentPage:0,logTopics:{},logLevels:[],remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},initialize:function(e){var t=this;e&&(this.options=e),this.collection.setPageSize(this.pageSize),this.initDone||$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/log/level"),contentType:"application/json",processData:!1,success:function(e){t.logTopics=e,_.each(["fatal","error","warning","info","debug"],function(e){t.logLevels.push(e)}),t.initDone=!0}})},currentLoglevel:void 0,defaultLoglevel:"info",events:{"click #logLevelSelection":"renderLogLevel","click #logTopicSelection":"renderLogTopic","click #logFilters":"resetFilters","click #loadMoreEntries":"loadMoreEntries"},template:templateEngine.createTemplate("loggerView.ejs"),templateEntries:templateEngine.createTemplate("loggerViewEntries.ejs"),renderLogTopic:function(e){var t,i=this;this.logTopicOptions||(this.logTopicOptions={}),_.each(this.logTopics,function(e,n){i.logTopicOptions[n]&&(t=i.logTopicOptions[n].active),i.logTopicOptions[n]={name:n,active:t||!1}});var n=$(e.currentTarget).position();n.right="30",this.logTopicView=new window.FilterSelectView({name:"Topic",options:i.logTopicOptions,position:n,callback:i.logTopicCallbackFunction.bind(this),multiple:!0}),this.logTopicView.render()},loadMoreEntries:function(){this.convertModelToJSON()},logTopicCallbackFunction:function(e){this.logTopicOptions=e,this.applyFilter()},logLevelCallbackFunction:function(e){this.logLevelOptions=e,this.applyFilter()},resetFilters:function(){_.each(this.logTopicOptions,function(e){e.active=!1}),_.each(this.logLevelOptions,function(e){e.active=!1}),this.applyFilter()},isFilterActive:function(e){var t=!1;return _.each(e,function(e){e.active&&(t=!0)}),t},changeButton:function(e){e?("level"===e?($("#logLevelSelection").addClass("button-success").removeClass("button-default"),$("#logTopicSelection").addClass("button-default").removeClass("button-success"),$("#filterDesc").html(e)):"topic"===e?($("#logTopicSelection").addClass("button-success").removeClass("button-default"),$("#logLevelSelection").addClass("button-default").removeClass("button-success"),$("#filterDesc").html(e)):"both"===e&&($("#logTopicSelection").addClass("button-success").removeClass("button-default"),$("#logLevelSelection").addClass("button-success").removeClass("button-default"),$("#filterDesc").html("level, topic")),$("#logFilters").show()):($("#logTopicSelection").addClass("button-default").removeClass("button-success"),$("#logLevelSelection").addClass("button-default").removeClass("button-success"),$("#logFilters").hide(),$("#filterDesc").html(""))},applyFilter:function(){var e=this,t=this.isFilterActive(this.logLevelOptions),i=this.isFilterActive(this.logTopicOptions);t&&i?(_.each($("#logEntries").children(),function(t){!1===e.logLevelOptions[$(t).attr("level")].active||!1===e.logTopicOptions[$(t).attr("topic")].active?$(t).hide():e.logLevelOptions[$(t).attr("level")].active&&e.logTopicOptions[$(t).attr("topic")].active&&$(t).show()}),this.changeButton("both")):t&&!i?(_.each($("#logEntries").children(),function(t){!1===e.logLevelOptions[$(t).attr("level")].active?$(t).hide():$(t).show()}),this.changeButton("level")):!t&&i?(_.each($("#logEntries").children(),function(t){!1===e.logTopicOptions[$(t).attr("topic")].active?$(t).hide():$(t).show()}),this.changeButton("topic")):t||i||(_.each($("#logEntries").children(),function(e){$(e).show()}),this.changeButton());var n=0;_.each($("#logEntries").children(),function(e){"flex"===$(e).css("display")&&$(e).css("display","block"),"block"===$(e).css("display")&&n++}),1===n?($(".logBorder").css("visibility","hidden"),$("#noLogEntries").hide()):0===n?$("#noLogEntries").show():($(".logBorder").css("visibility","visible"),$("#noLogEntries").hide())},renderLogLevel:function(e){var t,i=this;this.logLevelOptions||(this.logLevelOptions={}),_.each(this.logLevels,function(e){i.logLevelOptions[e]&&(t=i.logLevelOptions[e].active),i.logLevelOptions[e]={name:e,active:t||!1};var n=arangoHelper.statusColors[e];n&&(i.logLevelOptions[e].color=n)});var n=$(e.currentTarget).position();n.right="115",this.logLevelView=new window.FilterSelectView({name:"Level",options:i.logLevelOptions,position:n,callback:i.logLevelCallbackFunction.bind(this),multiple:!1}),this.logLevelView.render()},setActiveLoglevel:function(e){},initTotalAmount:function(){var e=this;this.collection.fetch({data:$.param({test:!0}),success:function(){e.convertModelToJSON()}}),this.fetchedAmount=!0},invertArray:function(e){var t,i=[],n=0;for(t=e.length-1;t>=0;t--)i[n]=e[t],n++;return i},convertModelToJSON:function(){if(this.fetchedAmount){this.collection.page=this.currentPage,this.currentPage++;var e,t=this,i=[];this.collection.fetch({success:function(n){t.collection.each(function(t){e=new Date(1e3*t.get("timestamp")),i.push({status:t.getLogStatus(),date:arangoHelper.formatDT(e),timestamp:t.get("timestamp"),msg:t.get("text"),topic:t.get("topic")})}),t.renderLogs(t.invertArray(i),n.lastInverseOffset)}})}else this.initTotalAmount()},render:function(){var e=this;return this.currentPage=0,this.initDone?($(this.el).html(this.template.render({})),this.convertModelToJSON()):window.setTimeout(function(){e.render()},100),this},renderLogs:function(e,t){_.each(e,function(e){e.msg.indexOf("{"+e.topic+"}")>-1&&(e.msg=e.msg.replace("{"+e.topic+"}",""))}),0===this.currentPage?$(this.logsel).html(this.templateEntries.render({entries:e})):$(this.logsel).append(this.templateEntries.render({entries:e})),t<=0?$("#loadMoreEntries").attr("disabled",!0):$("#loadMoreEntries").attr("disabled",!1),arangoHelper.createTooltips(),this.applyFilter()}})}()},function(e,t){!function(){"use strict";window.LoginView=Backbone.View.extend({el:"#content",el2:".header",el3:".footer",loggedIn:!1,loginCounter:0,events:{"keyPress #loginForm input":"keyPress","click #submitLogin":"validate","submit #dbForm":"goTo","click #logout":"logout","change #loginDatabase":"renderDBS","keyup #databaseInputName":"renderDBS"},template:templateEngine.createTemplate("loginView.ejs"),render:function(e){var t=this;$(this.el).html(this.template.render({})),$(this.el2).hide(),$(this.el3).hide();var i=function(e,i,n){var a;a=e?arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(e)+"/database","_system"):arangoHelper.databaseUrl("/_api/database/user"),!1===frontendConfig.authenticationEnabled&&($("#logout").hide(),$(".login-window #databases").css("height","90px")),$("#loginForm").hide(),$(".login-window #databases").show(),$.ajax(a).success(function(e){if($("#loginDatabase").html(""),Object.keys(e.result).length>0){$("#loginDatabase").show(),$(".fa-database").show(),$("#databaseInputName").remove();var i=t.sortDatabases(e.result);_.each(i,function(e,t){frontendConfig.authenticationEnabled?$("#loginDatabase").append("<option>"+t+"</option>"):$("#loginDatabase").append("<option>"+e+"</option>")})}else $("#loginDatabase").hide(),$(".fa-database").hide(),$("#loginDatabase").after('<input id="databaseInputName" class="databaseInput login-input" placeholder="_system" value="_system"></input>');t.renderDBS()}).error(function(e){i?i():location.reload(!0)})};if(frontendConfig.authenticationEnabled&&!0!==e){var n=arangoHelper.getCurrentJwtUsername();if(null!==n&&"undefined"!==n&&void 0!==n){i(arangoHelper.getCurrentJwtUsername(),function(){t.collection.logout(),window.setTimeout(function(){$("#loginUsername").focus()},300)})}else window.setTimeout(function(){$("#loginUsername").focus()},300)}else frontendConfig.authenticationEnabled&&e?i(arangoHelper.getCurrentJwtUsername(),null):i(null,null);return $(".bodyWrapper").show(),this.setVersion(),this},setVersion:function(){window.frontendConfig&&window.frontendConfig.isEnterprise?$("#ArangoDBLogoVersion").attr("src","img/ArangoDB-enterprise-edition-Web-UI.png"):$("#ArangoDBLogoVersion").attr("src","img/ArangoDB-community-edition-Web-UI.png")},sortDatabases:function(e){var t;return frontendConfig.authenticationEnabled?(t=_.pairs(e),t=_.sortBy(t,function(e){return e[0].toLowerCase()}),t=_.object(t)):t=_.sortBy(e,function(e){return e.toLowerCase()}),t},clear:function(){$("#loginForm input").removeClass("form-error"),$(".wrong-credentials").hide()},keyPress:function(e){e.ctrlKey&&13===e.keyCode?(e.preventDefault(),this.validate()):e.metaKey&&13===e.keyCode&&(e.preventDefault(),this.validate())},validate:function(e){e.preventDefault(),this.clear();var t=$("#loginUsername").val(),i=$("#loginPassword").val();t&&this.collection.login(t,i,this.loginCallback.bind(this,t,i))},loginCallback:function(e,t,i){if(i){if(0===this.loginCounter)return this.loginCounter++,void this.collection.login(e,t,this.loginCallback.bind(this,e));this.loginCounter=0,$(".wrong-credentials").show(),$("#loginDatabase").html(""),$("#loginDatabase").append("<option>_system</option>")}else this.renderDBSelection(e)},renderDBSelection:function(e){var t=this,i=arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(e)+"/database","_system");!1===frontendConfig.authenticationEnabled&&(i=arangoHelper.databaseUrl("/_api/database/user")),$(".wrong-credentials").hide(),t.loggedIn=!0,$.ajax(i).success(function(e){if($("#loginForm").hide(),$(".login-window #databases").show(),$("#loginDatabase").html(""),Object.keys(e.result).length>0){$("#loginDatabase").show(),$(".fa-database").show(),$("#databaseInputName").remove();var i=t.sortDatabases(e.result);_.each(i,function(e,t){frontendConfig.authenticationEnabled?$("#loginDatabase").append("<option>"+t+"</option>"):$("#loginDatabase").append("<option>"+e+"</option>")})}else $("#loginDatabase").hide(),$(".fa-database").hide(),$("#loginDatabase").after('<input id="databaseInputName" class="databaseInput login-input" placeholder="_system" value="_system"></input>');t.renderDBS()}).error(function(){$(".wrong-credentials").show()})},renderDBS:function(){var e="Select DB: ";$("#noAccess").hide(),0===$("#loginDatabase").children().length?$("#loginDatabase").is(":visible")?($("#dbForm").remove(),$(".login-window #databases").prepend('<div class="no-database">You do not have permission to a database.</div>'),e+=$("#loginDatabase").val(),window.setTimeout(function(){$("#goToDatabase").focus()},150)):e+=$("#databaseInputName").val():(e+=$("#loginDatabase").val(),window.setTimeout(function(){$("#goToDatabase").focus()},150)),$("#goToDatabase").html(e)},logout:function(){this.collection.logout()},goTo:function(e){e.preventDefault();var t,i=$("#loginUsername").val();t=$("#databaseInputName").is(":visible")?$("#databaseInputName").val():$("#loginDatabase").val(),window.App.dbSet=t;var n=function(e){e&&arangoHelper.arangoError("User","Could not fetch user settings")},a=window.location.protocol+"//"+window.location.host+frontendConfig.basePath+"/_db/"+t+"/_admin/aardvark/index.html";frontendConfig.react&&(a=window.location.protocol+"//"+window.location.host+"/_db/"+t+"/_admin/aardvark/index.html");var r=function(){window.location.href=a,$(this.el2).show(),$(this.el3).show(),$(".bodyWrapper").show(),$(".navbar").show(),$("#currentUser").text(i),this.collection.loadUserSettings(n)}.bind(this);$.ajax({url:a,success:function(e){r()},error:function(e){e.responseJSON&&e.responseJSON.errorMessage?$("#noAccess").html("Error (DB: "+t+"): "+e.responseJSON.errorMessage):$("#noAccess").html("Error (DB: "+t+"): "+e.statusText),$("#noAccess").show()}})}})}()},function(e,t){!function(){"use strict";var e=function(e,t,i,n){return{type:e,title:t,callback:i,confirm:n}},t=function(e,t,i,n,a,r,s,o,l,c,h){var d={type:e,label:t};return void 0!==i&&(d.value=i),void 0!==n&&(d.info=n),void 0!==a&&(d.placeholder=a),void 0!==r&&(d.mandatory=r),void 0!==o&&(d.addDelete=o),void 0!==l&&(d.addAdd=l),void 0!==c&&(d.maxEntrySize=c),void 0!==h&&(d.tags=h),s&&(d.validateInput=function(){return s}),d};window.ModalView=Backbone.View.extend({_validators:[],_validateWatchers:[],baseTemplate:templateEngine.createTemplate("modalBase.ejs"),tableTemplate:templateEngine.createTemplate("modalTable.ejs"),el:"#modalPlaceholder",contentEl:"#modalContent",hideFooter:!1,confirm:{list:"#modal-delete-confirmation",yes:"#modal-confirm-delete",no:"#modal-abort-delete"},enabledHotkey:!1,enableHotKeys:!0,buttons:{SUCCESS:"success",NOTIFICATION:"notification",DELETE:"danger",NEUTRAL:"neutral",DISABLED:"disabled",CLOSE:"close"},tables:{READONLY:"readonly",TEXT:"text",BLOB:"blob",PASSWORD:"password",SELECT:"select",SELECT2:"select2",CHECKBOX:"checkbox"},initialize:function(){Object.freeze(this.buttons),Object.freeze(this.tables)},createModalHotkeys:function(){$(this.el).unbind("keydown"),$(this.el).unbind("return"),$("#modal-dialog .modal-body .collectionTh > input").unbind("keydown"),$("#modal-dialog .modal-body .collectionTh > input").unbind("return"),$("#modal-dialog .modal-body .collectionTh > input",$(this.el)).bind("keydown","return",function(e){$("#modal-dialog .modal-footer .button-success").is(":disabled")||13!==e.keyCode||$("#modal-dialog .modal-footer .button-success").click()}),$("#modal-dialog .modal-body .collectionTh > select").unbind("keydown"),$("#modal-dialog .modal-body .collectionTh > select").unbind("return"),$("#modal-dialog .modal-body .collectionTh > select",$(this.el)).bind("keydown","return",function(e){$("#modal-dialog .modal-footer .button-success").is(":disabled")||13!==e.keyCode||$("#modal-dialog .modal-footer .button-success").click()})},createInitModalHotkeys:function(){var e=this;$(this.el).bind("keydown","left",function(){e.navigateThroughButtons("left")}),$(this.el).bind("keydown","right",function(){e.navigateThroughButtons("right")})},navigateThroughButtons:function(e){var t=$(".createModalDialog .modal-footer button").is(":focus");!1===t?"left"===e?$(".createModalDialog .modal-footer button").first().focus():"right"===e&&$(".createModalDialog .modal-footer button").last().focus():!0===t&&("left"===e?$(":focus").prev().focus():"right"===e&&$(":focus").next().focus())},createCloseButton:function(t,i){var n=this;return e(this.buttons.CLOSE,t,function(){n.hide(),i&&i()})},createSuccessButton:function(t,i){return e(this.buttons.SUCCESS,t,i)},createNotificationButton:function(t,i){return e(this.buttons.NOTIFICATION,t,i)},createDeleteButton:function(t,i,n){return e(this.buttons.DELETE,t,i,n)},createNeutralButton:function(t,i){return e(this.buttons.NEUTRAL,t,i)},createDisabledButton:function(t){var i=e(this.buttons.DISABLED,t);return i.disabled=!0,i},createReadOnlyEntry:function(e,i,n,a,r,s){var o=t(this.tables.READONLY,i,n,a,void 0,void 0,void 0,r,s);return o.id=e,o},createTextEntry:function(e,i,n,a,r,s,o){var l=t(this.tables.TEXT,i,n,a,r,s,o);return l.id=e,l},createBlobEntry:function(e,i,n,a,r,s,o){var l=t(this.tables.BLOB,i,n,a,r,s,o);return l.id=e,l},createSelect2Entry:function(e,i,n,a,r,s,o,l,c,h){var d=t(this.tables.SELECT2,i,n,a,r,s,void 0,o,l,c,h);return d.id=e,d},createPasswordEntry:function(e,i,n,a,r,s,o){var l=t(this.tables.PASSWORD,i,n,a,r,s,o);return l.id=e,l},createCheckboxEntry:function(e,i,n,a,r){var s=t(this.tables.CHECKBOX,i,n,a);return s.id=e,r&&(s.checked=r),n&&(s.checked=n),s},createSelectEntry:function(e,i,n,a,r){var s=t(this.tables.SELECT,i,null,a);return s.id=e,n&&(s.selected=n),s.options=r,s},createOptionEntry:function(e,t){return{label:e,value:t||e}},renameDangerButton:function(e){var t=$(e).text();$("#modal-delete-confirmation strong").html("Really "+t.toLowerCase()+"?")},show:function(e,t,i,n,a,r,s,o,l,c){var h,d,u,p=this,f=!1;if(i=i||[],o=Boolean(o),this.clearValidators(),i.length>0?(i.forEach(function(e){e.type===p.buttons.CLOSE&&(f=!0),e.type===p.buttons.DELETE&&(d=d||e.confirm)}),f||(h=i.pop(),i.push(p.createCloseButton("Cancel")),i.push(h))):i.push(p.createCloseButton("Close")),c?($("#"+c).html(this.baseTemplate.render({title:t,buttons:i,hideFooter:this.hideFooter,confirm:d,tabBar:l})),$("#"+c+" #modal-dialog").removeClass("fade hide modal"),$("#"+c+" .modal-header").remove(),$("#"+c+" .modal-tabbar").remove(),$("#"+c+" .modal-tabbar").remove(),$("#"+c+" .button-close").remove(),0===$("#"+c+" .modal-footer").children().length&&$("#"+c+" .modal-footer").remove()):$(this.el).html(this.baseTemplate.render({title:t,buttons:i,hideFooter:this.hideFooter,confirm:d,tabBar:l})),_.each(i,function(e,t){if(!e.disabled&&"disabled"!==e.type&&e.callback){if(e.type===p.buttons.DELETE&&!o){var i="#modalButton"+t;return c&&(i="#"+c+" #modalButton"+t),void $(i).bind("click",function(){c?($("#"+c+" "+p.confirm.yes).unbind("click"),$("#"+c+" "+p.confirm.yes).bind("click",e.callback),$("#"+c+" "+p.confirm.list).css("display","block"),p.renameDangerButton(i)):($(p.confirm.yes).unbind("click"),$(p.confirm.yes).bind("click",e.callback),$(p.confirm.list).css("display","block"),p.renameDangerButton(i))})}c?$("#"+c+" #modalButton"+t).bind("click",e.callback):$("#modalButton"+t).bind("click",e.callback)}else c?$("#"+c+" #modalButton"+t).attr("disabled",!0):$("#modalButton"+t).attr("disabled",!0)}),c?$("#"+c+" "+this.confirm.no).bind("click",function(){$("#"+c+" "+p.confirm.list).css("display","none")}):$(this.confirm.no).bind("click",function(){$(p.confirm.list).css("display","none")}),"string"===typeof e)u=templateEngine.createTemplate(e),c?$("#"+c+" .createModalDialog .modal-body").html(u.render({content:n,advancedContent:a,info:r})):$("#modalPlaceholder .createModalDialog .modal-body").html(u.render({content:n,advancedContent:a,info:r}));else{var g=0;_.each(e,function(e){u=templateEngine.createTemplate(e),$(".createModalDialog .modal-body .tab-content #"+l[g]).html(u.render({content:n,advancedContent:a,info:r})),g++})}arangoHelper.createTooltips(".createModalDialog .modalTooltips","left");var m,v=n||[];a&&a.content&&(v=v.concat(a.content)),_.each(v,function(e){if(p.modalBindValidation(e),e.type===p.tables.SELECT2){var t={tags:e.tags||[],showSearchBox:!1,minimumResultsForSearch:-1,width:"336px"};e.maxEntrySize&&(t.maximumSelectionSize=e.maxEntrySize),$("#"+e.id).select2(t)}}),s&&(this.events=s,this.delegateEvents()),$("#accordion2")&&($("#accordion2 .accordion-toggle").bind("click",function(){$("#collapseOne").is(":visible")?($("#collapseOne").hide(),setTimeout(function(){$(".accordion-toggle").addClass("collapsed")},100)):($("#collapseOne").show(),setTimeout(function(){$(".accordion-toggle").removeClass("collapsed")},100))}),$("#collapseOne").hide(),setTimeout(function(){$(".accordion-toggle").addClass("collapsed")},100)),c||$("#modal-dialog").modal("show"),!1===this.enabledHotkey&&(this.createInitModalHotkeys(),this.enabledHotkey=!0),this.enableHotKeys&&this.createModalHotkeys(),(m=c?$("#"+c+" #modal-dialog").find("input"):$("#modal-dialog").find("input"))&&setTimeout(function(){(m=c?$("#"+c+" #modal-dialog"):$("#modal-dialog")).length>0&&(m=m.find("input")).length>0&&$(m[0]).focus()},400)},modalBindValidation:function(e){var t=this;if(e.hasOwnProperty("id")&&e.hasOwnProperty("validateInput")){var i=function(){var t=$("#"+e.id),i=e.validateInput(t),n=!1;if(_.each(i,function(e){var i=t.val();if(e.rule||(e={rule:e}),"function"===typeof e.rule)try{e.rule(i)}catch(r){n=e.msg||r.message}else{var a=Joi.validate(i,e.rule);a.error&&(n=e.msg||a.error.message)}if(n)return!1}),n)return n},n=$("#"+e.id);n.on("keyup focusout",function(){var e=i(),a=n.next()[0];e?(n.addClass("invalid-input"),a?$(a).text(e):n.after('<p class="errorMessage">'+e+"</p>"),$("#modal-dialog").is(":visible")?$("#modal-dialog .modal-footer .button-success").prop("disabled",!0).addClass("disabled"):$(".createModalDialog .modal-footer .button-success").prop("disabled",!0).addClass("disabled")):(n.removeClass("invalid-input"),a&&$(a).remove(),t.modalTestAll())}),this._validators.push(i),this._validateWatchers.push(n)}},modalTestAll:function(){var e=_.map(this._validators,function(e){return e()}),t=_.any(e);return t?$("#modal-dialog").is(":visible")?$("#modal-dialog .modal-footer .button-success").prop("disabled",!0).addClass("disabled"):$(".createModalDialog .modal-footer .button-success").prop("disabled",!0).addClass("disabled"):$("#modal-dialog").is(":visible")?$("#modal-dialog .modal-footer .button-success").prop("disabled",!1).removeClass("disabled"):$(".createModalDialog .modal-footer .button-success").prop("disabled",!1).removeClass("disabled"),!t},clearValidators:function(){this._validators=[],_.each(this._validateWatchers,function(e){e.unbind("keyup focusout")}),this._validateWatchers=[]},hide:function(){this.clearValidators(),$("#modal-dialog").modal("hide")}})}()},function(e,t){!function(){"use strict";window.NavigationView=Backbone.View.extend({el:"#navigationBar",subEl:"#subNavigationBar",events:{"change #arangoCollectionSelect":"navigateBySelect","click .tab":"navigateByTab","click li":"switchTab","click .arangodbLogo":"selectMenuItem","mouseenter .dropdown > *":"showDropdown","click .shortcut-icons p":"showShortcutModal","mouseleave .dropdown":"hideDropdown"},renderFirst:!0,activeSubMenu:void 0,changeDB:function(){window.location.hash="#login"},initialize:function(e){var t=this;this.userCollection=e.userCollection,this.currentDB=e.currentDB,this.dbSelectionView=new window.DBSelectionView({collection:e.database,current:this.currentDB}),this.userBarView=new window.UserBarView({userCollection:this.userCollection}),this.notificationView=new window.NotificationView({collection:e.notificationCollection}),this.statisticBarView=new window.StatisticBarView({currentDB:this.currentDB}),this.isCluster=e.isCluster,this.foxxApiEnabled=e.foxxApiEnabled,this.handleKeyboardHotkeys(),Backbone.history.on("all",function(){t.selectMenuItem()})},showShortcutModal:function(){arangoHelper.hotkeysFunctions.showHotkeysModal()},handleSelectDatabase:function(){this.dbSelectionView.render($("#dbSelect"))},template:templateEngine.createTemplate("navigationView.ejs"),templateSub:templateEngine.createTemplate("subNavigationView.ejs"),render:function(){$(this.subEl).html(this.templateSub.render({currentDB:this.currentDB.toJSON()})),arangoHelper.checkDatabasePermissions(this.continueRender.bind(this),this.continueRender.bind(this))},continueRender:function(e){var t=this;$(this.el).html(this.template.render({currentDB:this.currentDB,isCluster:this.isCluster,foxxApiEnabled:this.foxxApiEnabled,readOnly:e})),"_system"!==this.currentDB.get("name")&&$("#dashboard").parent().remove(),this.dbSelectionView.render($("#dbSelect"));var i=function(e){e||this.userBarView.render()}.bind(this);return this.userCollection.whoAmI(i),this.renderFirst&&(this.renderFirst=!1,this.selectMenuItem(),$(".arangodbLogo").on("click",function(){t.selectMenuItem()}),$("#dbStatus").on("click",function(){t.changeDB()})),t.resize(),!0===window.frontendConfig.isEnterprise?($("#ArangoDBLogo").after('<span id="enterpriseLabel" style="display: none">Enterprise Edition</span>'),$("#enterpriseLabel").fadeIn("slow")):($("#ArangoDBLogo").after('<span id="communityLabel" style="display: none">Community Edition</span>'),$("#communityLabel").fadeIn("slow"),$(".enterprise-menu").show()),this},resize:function(){var e=$(window).height()-$(".subMenuEntries").first().height();$("#navigationBar").css("min-height",e),$("#navigationBar").css("height",e)},navigateBySelect:function(){var e=$("#arangoCollectionSelect").find("option:selected").val();window.App.navigate(e,{trigger:!0})},handleKeyboardHotkeys:function(){arangoHelper.enableKeyboardHotkeys(!0)},navigateByTab:function(e){var t=e.target||e.srcElement,i=t.id,n=!1;"enterprise"!==i&&($(t).hasClass("fa")||(""===i&&(i=$(t).attr("class")),"links"===i?(n=!0,$("#link_dropdown").slideToggle(1),e.preventDefault()):"tools"===i?(n=!0,$("#tools_dropdown").slideToggle(1),e.preventDefault()):"dbselection"===i&&(n=!0,$("#dbs_dropdown").slideToggle(1),e.preventDefault()),n||(window.App.navigate(i,{trigger:!0}),e.preventDefault())))},handleSelectNavigation:function(){var e=this;$("#arangoCollectionSelect").change(function(){e.navigateBySelect()})},subViewConfig:{documents:"collections",collection:"collections"},subMenuConfig:{cluster:[{name:"Dashboard",view:void 0,active:!0}],collections:[{name:"",view:void 0,active:!1}],queries:[{name:"Editor",route:"query",active:!0},{name:"Running Queries",route:"queryManagement",params:{active:!0},active:void 0},{name:"Slow Query History",route:"queryManagement",params:{active:!1},active:void 0}]},renderSubMenu:function(e){var t=this;if(void 0===e&&(e=window.isCluster?"cluster":"dashboard"),this.subMenuConfig[e]){$(this.subEl+" .bottom").html("");var i="";_.each(this.subMenuConfig[e],function(e){i=e.active?"active":"",e.disabled&&(i="disabled"),$(t.subEl+" .bottom").append('<li class="subMenuEntry '+i+'"><a>'+e.name+"</a></li>"),e.disabled||$(t.subEl+" .bottom").children().last().bind("click",function(i){$("#subNavigationBar .breadcrumb").html(""),t.activeSubMenu=e,t.renderSubView(e,i)})})}else $(t.subEl+" .bottom").append('<li class="subMenuEntry</li>')},renderSubView:function(e,t){window.App[e.route]&&(window.App[e.route].resetState&&window.App[e.route].resetState(),window.App[e.route]()),$(this.subEl+" .bottom").children().removeClass("active"),$(t.currentTarget).addClass("active")},switchTab:function(e){var t=$(e.currentTarget).children().first().attr("id");"enterprise"!==t?t&&this.selectMenuItem(t+"-menu"):window.open("https://www.arangodb.com/download-arangodb-enterprise/","_blank")},selectMenuItem:function(e,t){void 0===e&&(e=(e=window.location.hash.split("/")[0]).substr(1,e.length-1)),""===e?e=window.App.isCluster?"cluster":"dashboard":"cNodes"!==e&&"dNodes"!==e||(e="nodes");try{this.renderSubMenu(e.split("-")[0])}catch(i){this.renderSubMenu(e)}$(".navlist li").removeClass("active"),"string"===typeof e&&(t?$("."+this.subViewConfig[e]+"-menu").addClass("active"):e&&($("."+e).addClass("active"),$("."+e+"-menu").addClass("active"))),arangoHelper.hideArangoNotifications()},showSubDropdown:function(e){$(e.currentTarget).find(".subBarDropdown").toggle()},showDropdown:function(e){var t=(e.target||e.srcElement).id;"links"===t||"link_dropdown"===t||"links"===e.currentTarget.id?$("#link_dropdown").fadeIn(1):"tools"===t||"tools_dropdown"===t||"tools"===e.currentTarget.id?$("#tools_dropdown").fadeIn(1):"dbselection"!==t&&"dbs_dropdown"!==t&&"dbselection"!==e.currentTarget.id||$("#dbs_dropdown").fadeIn(1)},hideDropdown:function(e){$("#link_dropdown").fadeOut(1),$("#tools_dropdown").fadeOut(1),$("#dbs_dropdown").fadeOut(1)}})}()},function(e,t){!function(){"use strict";window.NodeView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("nodeView.ejs"),interval:5e3,dashboards:[],events:{},initialize:function(e){window.App.isCluster&&(this.coordinators=e.coordinators,this.dbServers=e.dbServers,this.coordid=e.coordid,this.updateServerTime())},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},breadcrumb:function(e){$("#subNavigationBar .breadcrumb").html("Node: "+e)},render:function(){this.$el.html(this.template.render({coords:[]}));var e=function(){this.continueRender(),this.breadcrumb(arangoHelper.getCoordinatorShortName(this.coordid)),$(window).trigger("resize")}.bind(this);this.initCoordDone||this.waitForCoordinators(),this.initDBDone?(this.coordid=window.location.hash.split("/")[1],this.coordinator=this.coordinators.findWhere({id:this.coordid}),e()):this.waitForDBServers(e)},continueRender:function(){var e,t=this;if(this.coordinator)e=this.coordinator.get("name"),this.dashboards[e]&&this.dashboards[e].clearInterval(),this.dashboards[e]=new window.DashboardView({dygraphConfig:window.dygraphConfig,database:window.App.arangoDatabase,serverToShow:{raw:this.coordinator.get("address"),isDBServer:!1,endpoint:this.coordinator.get("protocol")+"://"+this.coordinator.get("address"),target:this.coordinator.get("id")}});else{var i=this.dbServer.toJSON();e=i.name,this.dashboards[e]&&this.dashboards[e].clearInterval(),this.dashboards[e]=new window.DashboardView({dygraphConfig:null,database:window.App.arangoDatabase,serverToShow:{raw:i.address,isDBServer:!0,endpoint:i.endpoint,id:i.id,name:i.name,status:i.status,target:i.id}})}this.dashboards[e].render(),window.setTimeout(function(){t.dashboards[e].resize()},500)},waitForCoordinators:function(e){var t=this;window.setTimeout(function(){0===t.coordinators.length?t.waitForCoordinators(e):(t.coordinator=t.coordinators.findWhere({id:t.coordid}),t.initCoordDone=!0,e&&e())},200)},waitForDBServers:function(e){var t=this;window.setTimeout(function(){0===t.dbServers[0].length?t.waitForDBServers(e):(t.initDBDone=!0,t.dbServer=t.dbServers[0],t.dbServer.each(function(e){var i=e.get("id");i===window.location.hash.split("/")[1]&&(t.dbServer=t.dbServer.findWhere({id:i}))}),e())},200)},updateServerTime:function(){this.serverTime=(new Date).getTime()}})}()},function(e,t){!function(){"use strict";window.NodesView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("nodesView.ejs"),interval:1e4,knownServers:[],events:{"click #nodesContent .coords-nodes .pure-table-row":"navigateToNode","click #nodesContent .dbs-nodes .pure-table-row":"navigateToNode","click #nodesContent .coords-nodes .pure-table-row .fa-trash-o":"deleteNode","click #nodesContent .dbs-nodes .pure-table-row .fa-trash-o":"deleteNode","click #addCoord":"addCoord","click #removeCoord":"removeCoord","click #addDBs":"addDBs","click #removeDBs":"removeDBs","click .abortClusterPlan":"abortClusterPlanModal","keyup #plannedCoords":"checkKey","keyup #plannedDBs":"checkKey"},remove:function(){return clearInterval(this.intervalFunction),this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},checkKey:function(e){if(13===e.keyCode){var t=this;this.changePlanModal(function(e){var i;if("plannedCoords"===e.target.id)try{"number"===typeof(i=JSON.parse($("#plannedCoords").val()))?(window.modalView.hide(),t.setCoordSize(i)):arangoHelper.arangoError("Error","Invalid value. Must be a number.")}catch(e){arangoHelper.arangoError("Error","Invalid value. Must be a number.")}else if("plannedDBs"===e.target.id)try{"number"===typeof(i=JSON.parse($("#plannedCoords").val()))?(window.modalView.hide(),t.setDBsSize(i)):arangoHelper.arangoError("Error","Invalid value. Must be a number.")}catch(e){arangoHelper.arangoError("Error","Invalid value. Must be a number.")}}.bind(null,e))}},changePlanModal:function(e,t){var i=[],n=[];n.push(window.modalView.createReadOnlyEntry("plan-confirm-button","Caution","You are changing the cluster plan. Continue?",void 0,void 0,!1,/[<>&'"]/)),i.push(window.modalView.createSuccessButton("Yes",e.bind(this,t))),window.modalView.show("modalTable.ejs","Modify Cluster Size",i,n)},initialize:function(){var e=this;clearInterval(this.intervalFunction),window.App.isCluster&&(this.updateServerTime(),this.intervalFunction=window.setInterval(function(){"#nodes"===window.location.hash&&e.render(!1)},this.interval))},deleteNode:function(e){if(!$(e.currentTarget).hasClass("noHover")){var t=this,i=$(e.currentTarget.parentNode.parentNode).attr("node").slice(0,-5);return window.confirm("Do you want to delete this node?")&&$.ajax({type:"POST",url:arangoHelper.databaseUrl("/_admin/cluster/removeServer"),contentType:"application/json",async:!0,data:JSON.stringify(i),success:function(e){t.render(!1)},error:function(){"#nodes"===window.location.hash&&arangoHelper.arangoError("Cluster","Could not fetch cluster information")}}),!1}},navigateToNode:function(e){var t=$(e.currentTarget).attr("node").slice(0,-5);$(e.currentTarget).hasClass("noHover")||window.App.navigate("#node/"+encodeURIComponent(t),{trigger:!0})},render:function(e){if("#nodes"===window.location.hash){var t=this;$("#content").is(":empty")&&arangoHelper.renderEmpty("Please wait. Requesting cluster information...","fa fa-spin fa-circle-o-notch"),!1!==e&&arangoHelper.buildNodesSubNav("Overview");$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/health"),contentType:"application/json",processData:!1,async:!0,success:function(e){var i;"#nodes"===window.location.hash&&(i=e.Health,$.ajax({type:"GET",url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",success:function(e){"#nodes"===window.location.hash&&t.continueRender(i,e)}}))},error:function(){"#nodes"===window.location.hash&&arangoHelper.arangoError("Cluster","Could not fetch cluster information")}})}},continueRender:function(e,t){var i=[],n=[],a=!1;_.each(e,function(e,t){e.id=t,"Coordinator"===e.Role?i.push(e):"DBServer"===e.Role&&n.push(e)}),i=_.sortBy(i,function(e){return e.ShortName}),n=_.sortBy(n,function(e){return e.ShortName}),null!==t.numberOfDBServers&&null!==t.numberOfCoordinators&&(a=!0);var r=function(e){this.$el.html(this.template.render({coords:i,dbs:n,scaling:a,scaleProperties:e,plannedDBs:t.numberOfDBServers,plannedCoords:t.numberOfCoordinators})),a||($(".title").css("position","relative"),$(".title").css("top","-4px"),$(".sectionHeader .information").css("margin-top","-3px"))}.bind(this);this.renderCounts(a,r)},updatePlanned:function(e){e.numberOfCoordinators&&($("#plannedCoords").val(e.numberOfCoordinators),this.renderCounts(!0)),e.numberOfDBServers&&($("#plannedDBs").val(e.numberOfDBServers),this.renderCounts(!0))},setCoordSize:function(e){var t=this,i={numberOfCoordinators:e};$.ajax({type:"PUT",url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",data:JSON.stringify(i),success:function(){t.updatePlanned(i)},error:function(){arangoHelper.arangoError("Scale","Could not set coordinator size.")}})},setDBsSize:function(e){var t=this,i={numberOfDBServers:e};$.ajax({type:"PUT",url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",data:JSON.stringify(i),success:function(){t.updatePlanned(i)},error:function(){arangoHelper.arangoError("Scale","Could not set coordinator size.")}})},abortClusterPlanModal:function(){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry("plan-abort-button","Caution","You are aborting the planned cluster plan. All pending servers are going to be removed. Continue?",void 0,void 0,!1,/[<>&'"]/)),e.push(window.modalView.createSuccessButton("Yes",this.abortClusterPlan.bind(this))),window.modalView.show("modalTable.ejs","Modify Cluster Size",e,t)},abortClusterPlan:function(){window.modalView.hide();try{var e=JSON.parse($("#infoCoords > .positive > span").text()),t=JSON.parse($("#infoDBs > .positive > span").text());this.setCoordSize(e),this.setDBsSize(t)}catch(i){arangoHelper.arangoError("Plan","Could not abort Cluster Plan")}},renderCounts:function(e,t){var i=this,n=function(t,i,n,a){var r='<span class="positive"><span>'+i+'</span><i class="fa fa-check-circle"></i></span>';n&&!0===e&&(r=r+'<span class="warning"><span>'+n+'</span><i class="fa fa-circle-o-notch fa-spin"></i></span><button class="abortClusterPlan button-navbar button-default">Abort</button>'),a&&(r=r+'<span class="negative"><span>'+a+'</span><i class="fa fa-exclamation-circle"></i></span>'),$(t).html(r),e||($(".title").css("position","relative"),$(".title").css("top","-4px"))};$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/health"),contentType:"application/json",processData:!1,success:function(e){!function(e){var a=0,r=0,s=0,o=0,l=0,c=0;_.each(e,function(e){"Coordinator"===e.Role?"GOOD"===e.Status?r++:a++:"DBServer"===e.Role&&("GOOD"===e.Status?o++:l++)}),$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",processData:!1,success:function(e){s=Math.abs(r+a-e.numberOfCoordinators),c=Math.abs(o+l-e.numberOfDBServers),t?t({coordsPending:s,coordsOk:r,coordsErrors:a,dbsPending:c,dbsOk:o,dbsErrors:l}):(n("#infoDBs",o,c,l),n("#infoCoords",r,s,a)),i.isPlanFinished()||($(".scaleGroup").addClass("no-hover"),$("#plannedCoords").attr("disabled","disabled"),$("#plannedDBs").attr("disabled","disabled"))}})}(e.Health)}})},isPlanFinished:function(){return!($("#infoDBs").find(".warning").length>0)&&!($("#infoCoords").find(".warning").length>0)},addCoord:function(){this.isPlanFinished()?this.changePlanModal(function(){window.modalView.hide(),this.setCoordSize(this.readNumberFromID("#plannedCoords",!0))}.bind(this)):(arangoHelper.arangoNotification("Cluster Plan","Planned state not yet finished."),$(".noty_buttons .button-danger").remove())},removeCoord:function(){this.isPlanFinished()?this.changePlanModal(function(){window.modalView.hide(),this.setCoordSize(this.readNumberFromID("#plannedCoords",!1,!0))}.bind(this)):(arangoHelper.arangoNotification("Cluster Plan","Planned state not yet finished."),$(".noty_buttons .button-danger").remove())},addDBs:function(){this.isPlanFinished()?this.changePlanModal(function(){window.modalView.hide(),this.setDBsSize(this.readNumberFromID("#plannedDBs",!0))}.bind(this)):(arangoHelper.arangoNotification("Cluster Plan","Planned state not yet finished."),$(".noty_buttons .button-danger").remove())},removeDBs:function(){this.isPlanFinished()?this.changePlanModal(function(){window.modalView.hide(),this.setDBsSize(this.readNumberFromID("#plannedDBs",!1,!0))}.bind(this)):(arangoHelper.arangoNotification("Cluster Plan","Planned state not yet finished."),$(".noty_buttons .button-danger").remove())},readNumberFromID:function(e,t,i){var n=$(e).val(),a=!1;try{a=JSON.parse(n)}catch(r){}return t&&a++,i&&1!==a&&a--,a},updateServerTime:function(){this.serverTime=(new Date).getTime()}})}()},function(e,t){!function(){"use strict";window.NotificationView=Backbone.View.extend({events:{"click .navlogo #stat_hd":"toggleNotification","click .notificationItem .fa":"removeNotification","click #removeAllNotifications":"removeAllNotifications"},initialize:function(){this.collection.bind("add",this.renderNotifications.bind(this)),this.collection.bind("remove",this.renderNotifications.bind(this)),this.collection.bind("reset",this.renderNotifications.bind(this)),window.setTimeout(function(){!1===frontendConfig.authenticationEnabled&&!1===frontendConfig.isCluster&&!0===arangoHelper.showAuthDialog()&&window.arangoHelper.arangoWarning("Warning","Authentication is disabled. Do not use this setup in production mode.")},2e3)},notificationItem:templateEngine.createTemplate("notificationItem.ejs"),el:"#notificationBar",template:templateEngine.createTemplate("notificationView.ejs"),toggleNotification:function(){0!==this.collection.length&&$("#notification_menu").toggle()},removeAllNotifications:function(){Noty.clearQueue(),Noty.closeAll(),this.collection.reset(),$("#notification_menu").hide()},removeNotification:function(e){var t=e.target.id;this.collection.get(t).destroy()},renderNotifications:function(e,t,i){if(i&&i.add){var n,a=this.collection.at(this.collection.length-1),r=a.get("title"),s=5e3,o=["click"];if(a.get("content")&&(r=r+": "+a.get("content")),"error"===a.get("type")?(s=!1,o=["button"],n=[Noty.button("Close","btn btn-error",function(e){console.log("button 1 clicked"),e.close()},{id:"button1","data-status":"ok"})]):"warning"===a.get("type")?(s=15e3,n=[Noty.button("Close","btn btn-warning",function(e){e.close()},{id:"button2","data-status":"true"}),Noty.button("Do not show again.","btn btn-error",function(e){window.arangoHelper.doNotShowAgain(),e.close()},{id:"button3","data-status":"false"})]):"info"===a.get("type")&&(s=1e4),arangoHelper.hideArangoNotifications(),new Noty({type:a.get("type"),layout:"bottom",theme:"sunset",text:r,buttons:n,timeout:s,closeWidth:o}).show(),"success"===a.get("type"))return void a.destroy()}},render:function(){return $(this.el).html(this.template.render({notifications:this.collection})),this.renderNotifications(),this.delegateEvents(),this.el}})}()},function(e,t){!function(){"use strict";window.ProgressView=Backbone.View.extend({template:templateEngine.createTemplate("progressBase.ejs"),el:"#progressPlaceholder",el2:"#progressPlaceholderIcon",toShow:!1,lastDelay:0,action:function(){},events:{"click .progress-action button":"performAction"},performAction:function(){"function"===typeof this.action&&this.action(),window.progressView.hide()},initialize:function(){},showWithDelay:function(e,t,i,n){var a=this;a.toShow=!0,a.lastDelay=e,setTimeout(function(){!0===a.toShow&&a.show(t,i,n)},a.lastDelay)},show:function(e,t,i){$(this.el).html(this.template.render({})),$(".progress-text").text(e),i?$(".progress-action").html('<button class="button-danger">'+i+"</button>"):$(".progress-action").html('<button class="button-danger">Cancel</button>'),this.action=t||this.hide(),$(this.el).show()},hide:function(){this.toShow=!1,$(this.el).hide(),this.action=function(){}}})}()},function(e,t){!function(){"use strict";window.QueryManagementView=Backbone.View.extend({el:"#content",id:"#queryManagementContent",templateActive:templateEngine.createTemplate("queryManagementViewActive.ejs"),templateSlow:templateEngine.createTemplate("queryManagementViewSlow.ejs"),table:templateEngine.createTemplate("arangoTable.ejs"),active:!0,shouldRender:!0,timer:0,refreshRate:2e3,initialize:function(){var e=this;this.activeCollection=new window.QueryManagementActive,this.slowCollection=new window.QueryManagementSlow,this.convertModelToJSON(!0),e.interval=window.setInterval(function(){"#queries"===window.location.hash&&window.VISIBLE&&e.shouldRender&&"queryManagement"===arangoHelper.getCurrentSub().route&&(e.active?$("#arangoQueryManagementTable").is(":visible")&&e.convertModelToJSON(!0):$("#arangoQueryManagementTable").is(":visible")&&e.convertModelToJSON(!1))},e.refreshRate)},remove:function(){return this.interval&&window.clearInterval(this.interval),this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #deleteSlowQueryHistory":"deleteSlowQueryHistoryModal","click #arangoQueryManagementTable .fa-minus-circle":"deleteRunningQueryModal"},tableDescription:{id:"arangoQueryManagementTable",titles:["ID","Query String","Bind parameter","Runtime","Started",""],rows:[],unescaped:[!1,!1,!1,!1,!1,!0]},deleteRunningQueryModal:function(e){this.killQueryId=$(e.currentTarget).attr("data-id");var t=[],i=[];i.push(window.modalView.createReadOnlyEntry(void 0,"Running Query","Do you want to kill the running query?",void 0,void 0,!1,void 0)),t.push(window.modalView.createDeleteButton("Kill",this.killRunningQuery.bind(this))),window.modalView.show("modalTable.ejs","Kill Running Query",t,i),$(".modal-delete-confirmation strong").html("Really kill?")},killRunningQuery:function(){this.collection.killRunningQuery(this.killQueryId,this.killRunningQueryCallback.bind(this)),window.modalView.hide()},killRunningQueryCallback:function(){this.convertModelToJSON(!0),this.renderActive()},deleteSlowQueryHistoryModal:function(){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry(void 0,"Slow Query Log","Do you want to delete the slow query log entries?",void 0,void 0,!1,void 0)),e.push(window.modalView.createDeleteButton("Delete",this.deleteSlowQueryHistory.bind(this))),window.modalView.show("modalTable.ejs","Delete Slow Query Log",e,t)},deleteSlowQueryHistory:function(){this.collection.deleteSlowQueryHistory(this.slowQueryCallback.bind(this)),window.modalView.hide()},slowQueryCallback:function(){this.convertModelToJSON(!1),this.renderSlow()},render:function(){arangoHelper.getCurrentSub().params.active?(this.active=!0,this.convertModelToJSON(!0)):(this.active=!1,this.convertModelToJSON(!1))},addEvents:function(){var e=this;$("#queryManagementContent tbody").on("mousedown",function(){clearTimeout(e.timer),e.shouldRender=!1}),$("#queryManagementContent tbody").on("mouseup",function(){e.timer=window.setTimeout(function(){e.shouldRender=!0},3e3)})},renderActive:function(){this.$el.html(this.templateActive.render({})),$(this.id).append(this.table.render({content:this.tableDescription,type:{1:"pre",2:"pre"}})),$("#activequeries").addClass("arango-active-tab"),this.addEvents()},renderSlow:function(){this.$el.html(this.templateSlow.render({})),$(this.id).append(this.table.render({content:this.tableDescription,type:{1:"pre",2:"pre"}})),$("#slowqueries").addClass("arango-active-tab"),this.addEvents()},convertModelToJSON:function(e){var t=this,i=[];this.collection=!0===e?this.activeCollection:this.slowCollection,this.collection.fetch({success:function(){t.collection.each(function(t){var n="";e&&(n='<i data-id="'+t.get("id")+'" class="fa fa-minus-circle"></i>'),i.push([t.get("id"),t.get("query"),JSON.stringify(t.get("bindVars"),null,2),t.get("runTime").toFixed(2)+" s",t.get("started"),n])});var n="No running queries.";e||(n="No slow queries."),0===i.length&&i.push([n,"","","",""]),t.tableDescription.rows=i,e?t.renderActive():t.renderSlow()}})}})}()},function(e,t){!function(){"use strict";window.QueryView=Backbone.View.extend({el:"#content",bindParamId:"#bindParamEditor",myQueriesId:"#queryTable",template:templateEngine.createTemplate("queryView.ejs"),table:templateEngine.createTemplate("arangoTable.ejs"),outputDiv:"#outputEditors",outputTemplate:templateEngine.createTemplate("queryViewOutput.ejs"),outputCounter:0,maps:{},allowUpload:!1,renderComplete:!1,loadedCachedQuery:!1,customQueries:[],cachedQueries:{},queriesHistory:{},graphViewers:[],queries:[],state:{lastQuery:{query:void 0,bindParam:void 0}},graphs:[],settings:{aqlWidth:void 0},currentQuery:{},initDone:!1,bindParamRegExp:/@(@?\w+\d*)/,bindParamTableObj:{},bindParamMode:"table",bindParamTableDesc:{id:"arangoBindParamTable",titles:["Key","Value"],rows:[]},myQueriesTableDesc:{id:"arangoMyQueriesTable",titles:["Name","Actions"],rows:[]},execPending:!1,aqlEditor:null,queryPreview:null,initialize:function(){this.refreshAQL()},allowParamToggle:!0,events:{"click #executeQuery":"executeQuery","click #explainQuery":"explainQuery","click #profileQuery":"profileQuery","click #debugQuery":"debugDownloadDialog","click #clearQuery":"clearQuery","click .outputEditorWrapper #downloadQueryResult":"downloadQueryResult","click .outputEditorWrapper #downloadCsvResult":"downloadCsvResult","click .outputEditorWrapper .switchAce span":"switchAce","click .outputEditorWrapper .closeResult":"closeResult","click #toggleQueries1":"toggleQueries","click #toggleQueries2":"toggleQueries","click #createNewQuery":"createAQL","click #saveCurrentQuery":"addAQL","click #updateCurrentQuery":"updateAQL","click #exportQuery":"exportCustomQueries","click #importQuery":"openImportDialog","click #removeResults":"removeResults","click #querySpotlight":"showSpotlight","click #deleteQuery":"selectAndDeleteQueryFromTable","click #explQuery":"selectAndExplainQueryFromTable","click .closeProfile":"closeProfile","keydown #arangoBindParamTable input":"updateBindParams","change #arangoBindParamTable input":"updateBindParams","change #querySize":"storeQuerySize","click #arangoMyQueriesTable tbody tr":"showQueryPreview","dblclick #arangoMyQueriesTable tbody tr":"selectQueryFromTable","click #arangoMyQueriesTable #copyQuery":"selectQueryFromTable","click #closeQueryModal":"closeExportDialog","click #confirmQueryImport":"importCustomQueries","click #switchTypes":"toggleBindParams","click #arangoMyQueriesTable #runQuery":"selectAndRunQueryFromTable"},clearQuery:function(){this.aqlEditor.setValue("",1)},closeProfile:function(e){var t=$(e.currentTarget).parent().attr("counter");_.each($(".queryProfile"),function(e){$(e).attr("counter")===t&&$(e).fadeOut("fast").remove()})},storeQuerySize:function(e){"undefined"!==typeof Storage&&sessionStorage.setItem("querySize",$(e.currentTarget).val())},restoreQuerySize:function(){"undefined"!==typeof Storage&&sessionStorage.getItem("querySize")&&$("#querySize").val(sessionStorage.getItem("querySize"))},toggleBindParams:function(){this.allowParamToggle?($("#bindParamEditor").toggle(),$("#bindParamAceEditor").toggle(),"JSON"===$("#switchTypes").text()?(this.bindParamMode="json",$("#switchTypes").text("Table"),this.updateQueryTable(),this.bindParamAceEditor.setValue(JSON.stringify(this.bindParamTableObj,null,"\t"),1),this.deselect(this.bindParamAceEditor)):(this.bindParamMode="table",$("#switchTypes").text("JSON"),this.renderBindParamTable()),this.setCachedQuery(this.aqlEditor.getValue(),JSON.stringify(this.bindParamTableObj))):arangoHelper.arangoError("Bind parameter","Could not parse bind parameter"),this.resize()},openExportDialog:function(){$("#queryImportDialog").modal("show")},closeExportDialog:function(){$("#queryImportDialog").modal("hide")},initQueryImport:function(){var e=this;e.allowUpload=!1,$("#importQueries").change(function(t){e.files=t.target.files||t.dataTransfer.files,e.file=e.files[0],e.allowUpload=!0,$("#confirmQueryImport").removeClass("disabled")})},importCustomQueries:function(){var e=this;if(!0===this.allowUpload){var t=function(){this.collection.fetch({success:function(){e.updateLocalQueries(),e.updateQueryTable(),e.resize(),e.allowUpload=!1,$("#confirmQueryImport").addClass("disabled"),$("#queryImportDialog").modal("hide")},error:function(e){arangoHelper.arangoError("Custom Queries",e.responseText)}})}.bind(this);e.collection.saveImportQueries(e.file,t.bind(this))}},removeResults:function(){var e=this;this.cachedQueries={},this.queriesHistory={},_.each($(".outputEditorWrapper"),function(t){e.closeAceResults(t.id.replace(/^\D+/g,""))})},removeInputEditors:function(){this.closeAceResults(null,$("#aqlEditor")),this.closeAceResults(null,$("#bindParamAceEditor"))},getCustomQueryParameterByName:function(e){return this.collection.findWhere({name:e}).get("parameter")},getCustomQueryValueByName:function(e){var t;return e&&(t=this.collection.findWhere({name:e})),t?t=t.get("value"):_.each(this.queries,function(i){i.name===e&&(t=i.value)}),t},openImportDialog:function(){$("#queryImportDialog").modal("show")},closeImportDialog:function(){$("#queryImportDialog").modal("hide")},exportCustomQueries:function(){var e,t=this;$.ajax("whoAmI?_="+Date.now()).success(function(i){if(null!==(e=i.user)&&!1!==e||(e="root"),frontendConfig.ldapEnabled)t.collection.downloadLocalQueries();else{var n="query/download/"+encodeURIComponent(e);arangoHelper.download(n)}})},toggleQueries:function(e){e?"toggleQueries1"===e.currentTarget.id?(this.updateQueryTable(),$("#bindParamAceEditor").hide(),$("#bindParamEditor").show(),$("#switchTypes").text("JSON"),$(".aqlEditorWrapper").first().width(.33*$(window).width()),this.queryPreview.setValue("No query selected.",1),this.deselect(this.queryPreview)):($("#updateCurrentQuery").hide(),void 0===this.settings.aqlWidth?$(".aqlEditorWrapper").first().width(.33*$(window).width()):$(".aqlEditorWrapper").first().width(this.settings.aqlWidth),"undefined"!==sessionStorage.getItem("lastOpenQuery")&&$("#updateCurrentQuery").show()):void 0===this.settings.aqlWidth?$(".aqlEditorWrapper").first().width(.33*$(window).width()):$(".aqlEditorWrapper").first().width(this.settings.aqlWidth),this.resize();_.each(["aqlEditor","queryTable","previewWrapper","querySpotlight","bindParamEditor","toggleQueries1","toggleQueries2","createNewQuery","saveCurrentQuery","querySize","executeQuery","switchTypes","explainQuery","profileQuery","debugQuery","importQuery","exportQuery"],function(e){$("#"+e).toggle()}),this.resize()},showQueryPreview:function(e){$("#arangoMyQueriesTable tr").removeClass("selected"),$(e.currentTarget).addClass("selected");var t=this.getQueryNameFromTable(e);try{this.queryPreview.setValue(this.getCustomQueryValueByName(t),1)}catch(e){throw this.queryPreview.setValue("Invalid query name",1),arangoHelper.arangoError("Query","Invalid query name"),e}this.deselect(this.queryPreview)},getQueryNameFromTable:function(e){var t;return $(e.currentTarget).is("tr")?t=arangoHelper.escapeHtml($(e.currentTarget).children().first().text()):$(e.currentTarget).is("span")&&(t=arangoHelper.escapeHtml($(e.currentTarget).parent().parent().prev().text())),t},deleteQueryModal:function(e){var t=[],i=[];i.push(window.modalView.createReadOnlyEntry(void 0,e,"Do you want to delete the query?",void 0,void 0,!1,void 0)),t.push(window.modalView.createDeleteButton("Delete",this.deleteAQL.bind(this,e))),window.modalView.show("modalTable.ejs","Delete Query",t,i)},selectAndDeleteQueryFromTable:function(e){var t=this.getQueryNameFromTable(e);this.deleteQueryModal(t)},selectAndExplainQueryFromTable:function(e){this.selectQueryFromTable(e,!1),this.explainQuery()},selectAndRunQueryFromTable:function(e){this.selectQueryFromTable(e,!1),this.executeQuery()},selectQueryFromTable:function(e,t){var i=this.getQueryNameFromTable(e),n=this;void 0===t&&this.toggleQueries();var a=sessionStorage.getItem("lastOpenQuery");this.state.lastQuery.query=this.aqlEditor.getValue(),this.state.lastQuery.bindParam=this.bindParamTableObj;try{this.aqlEditor.setValue(this.getCustomQueryValueByName(i),1),this.fillBindParamTable(this.getCustomQueryParameterByName(i))}catch(e){throw arangoHelper.arangoError("Query","Invalid query name"),e}this.updateBindParams(),this.currentQuery=this.collection.findWhere({name:i}),this.currentQuery&&sessionStorage.setItem("lastOpenQuery",this.currentQuery.get("name")),$("#updateCurrentQuery").show(),$("#lastQuery").remove(),a!==i&&($("#queryContent .arangoToolbarTop .pull-left").append('<span id="lastQuery" class="clickable">Previous Query</span>'),this.breadcrumb(i)),$("#lastQuery").hide().fadeIn(500).on("click",function(){$("#updateCurrentQuery").hide(),n.aqlEditor.setValue(n.state.lastQuery.query,1),n.fillBindParamTable(n.state.lastQuery.bindParam),n.updateBindParams(),n.collection.each(function(e){(e=e.toJSON()).value===n.state.lastQuery.query?n.breadcrumb(e.name):n.breadcrumb()}),$("#lastQuery").fadeOut(500,function(){$(this).remove()})})},deleteAQL:function(e){var t=function(e){e?arangoHelper.arangoError("Query","Could not delete query."):(this.updateLocalQueries(),this.updateQueryTable(),this.resize(),window.modalView.hide())}.bind(this),i=this.collection.findWhere({name:e});this.collection.remove(i),this.collection.saveCollectionQueries(t)},switchAce:function(e){var t=$(e.currentTarget).attr("counter"),i=e.currentTarget;if(!$(i).hasClass("disabled")){_.each($(i).parent().children(),function(e){$(e).removeClass("active")});var n=$(i).attr("val");$(i).addClass("active"),$(i).text(n.charAt(0).toUpperCase()+n.slice(1)),"JSON"===n?($("#outputEditor"+t).show(),$("#outputGraph"+t).hide(),$("#outputTable"+t).hide(),$("#outputGeo"+t).hide()):"Table"===n?($("#outputTable"+t).show(),$("#outputGraph"+t).hide(),$("#outputEditor"+t).hide(),$("#outputGeo"+t).hide()):"Graph"===n?($("#outputGraph"+t).show(),$("#outputTable"+t).hide(),$("#outputEditor"+t).hide(),$("#outputGeo"+t).hide()):"Geo"===n&&($("#outputGeo"+t).show(),$("#outputGraph"+t).hide(),$("#outputTable"+t).hide(),$("#outputEditor"+t).hide()),this.deselect(ace.edit("outputEditor"+t))}},downloadQueryResult:function(e){var t,i=$(e.currentTarget).attr("counter"),n=this.queriesHistory[i].sentQuery;""!==n&&void 0!==n&&null!==n?(t=0===Object.keys(this.queriesHistory[i].bindParam).length?"query/result/download/"+encodeURIComponent(btoa(JSON.stringify({query:n}))):"query/result/download/"+encodeURIComponent(btoa(JSON.stringify({query:n,bindVars:this.queriesHistory[i].bindParam}))),arangoHelper.download(t)):arangoHelper.arangoError("Query error","Could not download the result.")},profileQuery:function(){this.explainQuery(!0)},explainQuery:function(e){if(e=!0===e,!this.verifyQueryAndParams()){this.lastSentQueryString=this.aqlEditor.getValue();var t="Explain";e&&(t="Profile"),this.$(this.outputDiv).prepend(this.outputTemplate.render({counter:this.outputCounter,type:t}));var i=this.outputCounter,n=ace.edit("outputEditor"+i);n.setReadOnly(!0),n.getSession().setMode("ace/mode/aql"),n.setOption("vScrollBarAlwaysVisible",!0),n.setOption("showPrintMargin",!1),this.setEditorAutoHeight(n),this.queriesHistory[i]={sentQuery:this.aqlEditor.getValue(),bindParam:this.bindParamTableObj},this.fillExplain(n,i,e),this.outputCounter++}},debugDownloadDialog:function(){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry("debug-download-package-disclaimer","Disclaimer","<p>This will generate a package containing a lot of commonly required information about your query and environment that helps the ArangoDB Team to reproduce your issue. This debug package will include:</p><ul><li>collection names</li><li>collection indexes</li><li>attribute names</li><li>bind parameters</li></ul><p>Additionally, samples of your data will be included with all <b>string values obfuscated</b> in a non-reversible way if below checkbox is ticked.</p><p>If disabled, this package will not include any data.</p><p>Please open the package locally and check if it contains anything that you are not allowed/willing to share and obfuscate it before uploading. Including this package in bug reports will lower the amount of questioning back and forth to reproduce the issue on our side and is much appreciated.</p>",void 0,!1,!1)),t.push(window.modalView.createCheckboxEntry("debug-download-package-examples","Include obfuscated examples","includeExamples","Includes an example set of documents, obfuscating all string values inside the data. This helps the ArangoDB Team as many issues are related to the document structure / format and the indexes defined on them.",!0)),e.push(window.modalView.createSuccessButton("Download Package",this.downloadDebugZip.bind(this))),window.modalView.show("modalTable.ejs","Download Query Debug Package",e,t,void 0,void 0)},downloadDebugZip:function(){if(!this.verifyQueryAndParams()){var e=this.aqlEditor.getValue();if(""!==e&&void 0!==e&&null!==e){var t={query:e,bindVars:this.bindParamTableObj||{},examples:$("#debug-download-package-examples").is(":checked")};arangoHelper.downloadPost("query/debugDump",JSON.stringify(t),function(){window.modalView.hide()},function(e,t){window.arangoHelper.arangoError("Debug Dump",e+": "+t),window.modalView.hide()})}else arangoHelper.arangoError("Query error","Could not create a debug package.")}},fillExplain:function(e,t,i){var n,a=this;if(n=i?this.readQueryData(null,null,!0):this.readQueryData()){$("#outputEditorWrapper"+t+" .queryExecutionTime").text(""),this.execPending=!1;var r,s=function(){$("#outputEditorWrapper"+t+" #spinner").remove(),$("#outputEditor"+t).css("opacity","1"),$("#outputEditorWrapper"+t+" .fa-close").show(),$("#outputEditorWrapper"+t+" .switchAce").show()};r=i?arangoHelper.databaseUrl("/_admin/aardvark/query/profile"):arangoHelper.databaseUrl("/_admin/aardvark/query/explain"),$.ajax({type:"POST",url:r,data:JSON.stringify(n),contentType:"application/json",processData:!1,success:function(n){n.msg&&n.msg.errorMessage?(a.removeOutputEditor(t),i?arangoHelper.arangoError("Profile",n.msg):arangoHelper.arangoError("Explain",n.msg)):(a.cachedQueries[t]=n,e.setValue(n.msg,1),a.deselect(e),Noty.clearQueue(),Noty.closeAll(),a.handleResult(t),$(".centralRow").animate({scrollTop:$("#queryContent").height()},"fast")),s()},error:function(e){try{var n=JSON.parse(e.responseText);i?arangoHelper.arangoError("Profile",n.errorMessage):arangoHelper.arangoError("Explain",n.errorMessage)}catch(r){i?arangoHelper.arangoError("Profile","ERROR"):arangoHelper.arangoError("Explain","ERROR")}a.handleResult(t),a.removeOutputEditor(t),s()}})}},removeOutputEditor:function(e){$("#outputEditorWrapper"+e).hide(),$("#outputEditorWrapper"+e).remove(),0===$(".outputEditorWrapper").length&&$("#removeResults").hide()},getCachedQueryAfterRender:function(){if(!1===this.renderComplete&&this.aqlEditor){var e=this.getCachedQuery();if(null!==e&&void 0!==e&&""!==e&&Object.keys(e).length>0){this.aqlEditor.setValue(e.query,1);var t=sessionStorage.getItem("lastOpenQuery");if(void 0!==t&&"undefined"!==t)try{this.collection.findWhere({name:t}).toJSON().value===e.query&&(this.breadcrumb(t),$("#updateCurrentQuery").show())}catch(i){}if(this.aqlEditor.getSession().setUndoManager(new ace.UndoManager),""!==e.parameter||void 0!==e)try{this.bindParamTableObj=JSON.parse(e.parameter),this.fillBindParamTable(this.bindParamTableObj),this.setCachedQuery(this.aqlEditor.getValue(),JSON.stringify(this.bindParamTableObj))}catch(i){}}this.renderComplete=!0}},getCachedQuery:function(){if("undefined"!==Storage){var e=sessionStorage.getItem("cachedQuery");if(void 0!==e){var t=JSON.parse(e);this.currentQuery=t;try{this.bindParamTableObj=JSON.parse(t.parameter)}catch(i){}return t}}},setCachedQuery:function(e,t){if(""!==e&&"undefined"!==Storage){var i={query:e,parameter:t};this.currentQuery=i,sessionStorage.setItem("cachedQuery",JSON.stringify(i))}},closeAceResults:function(e,t){var i=this;e?ace.edit("outputEditor"+e).destroy():ace.edit($(t).attr("id")).destroy(),$("#outputEditorWrapper"+this.outputCounter).hide();var n=function(e){$(e).hide("fast",function(){$(e).remove(),0===$(".outputEditorWrapper").length&&(i.cachedQueries={},$("#removeResults").hide())})};t?n(t):_.each($("#outputEditors").children(),function(e){n(e)})},closeResult:function(e){var t=$("#"+$(e.currentTarget).attr("element")).parent(),i=$(t).attr("id").replace(/^\D+/g,"");this.closeAceResults(i,t),delete this.cachedQueries[i],delete this.queriesHistory[i]},fillSelectBoxes:function(){var e=$("#querySize");e.empty(),[100,250,500,1e3,2500,5e3,1e4,"all"].forEach(function(t){e.append('<option value="'+_.escape(t)+'"'+(1e3===t?" selected":"")+">"+_.escape(t)+" results</option>")})},render:function(){this.refreshAQL(),this.renderComplete=!1,this.$el.html(this.template.render({})),this.afterRender(),this.initDone||(this.settings.aqlWidth=$(".aqlEditorWrapper").width()),"json"===this.bindParamMode&&this.toggleBindParams(),this.initDone=!0,this.renderBindParamTable(!0),this.restoreCachedQueries(),this.delegateEvents(),this.restoreQuerySize(),this.getCachedQueryAfterRender()},cleanupGraphs:function(){void 0===this.graphViewers&&null===this.graphViewers||(_.each(this.graphViewers,function(e){void 0!==e&&(e.killCurrentGraph(),e.remove())}),$("canvas").remove(),this.graphViewers=null,this.graphViewers=[])},afterRender:function(){var e=this;this.initAce(),this.initTables(),this.fillSelectBoxes(),this.makeResizeable(),this.initQueryImport(),$(".inputEditorWrapper").height($(window).height()/10*5+25),window.setTimeout(function(){e.resize()},10),e.deselect(e.aqlEditor)},restoreCachedQueries:function(){var e=this;Object.keys(this.cachedQueries).length>0&&(_.each(this.cachedQueries,function(t,i){e.renderQueryResultBox(i,null,!0),e.renderQueryResult(t,i,!0),t.sentQuery&&e.bindQueryResultButtons(null,i)}),$("#removeResults").show())},showSpotlight:function(e){var t,i;if(void 0!==e&&"click"!==e.type||(e="aql"),"aql"===e)t=function(e){this.aqlEditor.insert(e),$("#aqlEditor .ace_text-input").focus()}.bind(this),i=function(){$("#aqlEditor .ace_text-input").focus()};else{var n=$(":focus");t=function(e){var t=$(n).val();$(n).val(t+e),$(n).focus()},i=function(){$(n).focus()}}window.spotlightView.show(t,i,e)},resize:function(){this.resizeFunction()},resizeFunction:function(){$("#toggleQueries1").is(":visible")?(this.aqlEditor.resize(),$("#arangoBindParamTable thead").css("width",$("#bindParamEditor").width()),$("#arangoBindParamTable thead th").css("width",$("#bindParamEditor").width()/2),$("#arangoBindParamTable tr").css("width",$("#bindParamEditor").width()),$("#arangoBindParamTable tbody").css("height",$("#aqlEditor").height()-35),$("#arangoBindParamTable tbody").css("width",$("#bindParamEditor").width()),$("#arangoBindParamTable tbody tr").css("width",$("#bindParamEditor").width()),$("#arangoBindParamTable tbody td").css("width",$("#bindParamEditor").width()/2)):(this.queryPreview.resize(),$("#arangoMyQueriesTable thead").css("width",$("#queryTable").width()),$("#arangoMyQueriesTable thead th").css("width",$("#queryTable").width()/2),$("#arangoMyQueriesTable tr").css("width",$("#queryTable").width()),$("#arangoMyQueriesTable tbody").css("height",$("#queryTable").height()-35),$("#arangoMyQueriesTable tbody").css("width",$("#queryTable").width()),$("#arangoMyQueriesTable tbody td").css("width",$("#queryTable").width()/2))},makeResizeable:function(){var e=this;$(".aqlEditorWrapper").resizable({resize:function(){e.resizeFunction(),e.settings.aqlWidth=$(".aqlEditorWrapper").width()},handles:"e"}),$(".inputEditorWrapper").resizable({resize:function(){e.resizeFunction()},handles:"s"}),this.resizeFunction()},initTables:function(){this.$(this.bindParamId).html(this.table.render({content:this.bindParamTableDesc})),this.$(this.myQueriesId).html(this.table.render({content:this.myQueriesTableDesc}))},checkType:function(e){var t="stringtype";try{t=(e=JSON.parse(e))instanceof Array?"arraytype":typeof e+"type"}catch(i){}return t},updateBindParams:function(e){var t,i=this;if(e){t=$(e.currentTarget).attr("name"),this.bindParamTableObj[t]=arangoHelper.parseInput(e.currentTarget);_.each(["arraytype","objecttype","booleantype","numbertype","stringtype"],function(t){$(e.currentTarget).removeClass(t)}),$(e.currentTarget).addClass(i.checkType($(e.currentTarget).val()))}else _.each($("#arangoBindParamTable input"),function(e){t=$(e).attr("name"),i.bindParamTableObj[t]=arangoHelper.parseInput(e)});this.setCachedQuery(this.aqlEditor.getValue(),JSON.stringify(this.bindParamTableObj)),e&&((e.ctrlKey||e.metaKey)&&13===e.keyCode&&(e.preventDefault(),this.executeQuery()),(e.ctrlKey||e.metaKey)&&32===e.keyCode&&(e.preventDefault(),this.showSpotlight("bind")))},parseQuery:function(e){var t,i,n,a,r=this,s=0,o=(e+=" ").length,l=[];for(i=0;i<o;++i)switch(n=e.charAt(i),s){case 0:"@"===n?(s=6,t=i):"'"===n?s=1:'"'===n?s=2:"`"===n?s=3:"\xb4"===n?s=7:"/"===n&&i+1<o&&("/"===e.charAt(i+1)?(s=4,++i):"*"===e.charAt(i+1)&&(s=5,++i));break;case 4:"\r"!==n&&"\n"!==n||(s=0);break;case 5:"*"===n&&i+1<=o&&"/"===e.charAt(i+1)&&(s=0,++i);break;case 1:"\\"===n?++i:"'"===n&&(s=0);break;case 2:"\\"===n?++i:'"'===n&&(s=0);break;case 3:"`"===n&&(s=0);break;case 7:"\xb4"===n&&(s=0);break;case 6:/^[@a-zA-Z0-9_]+$/.test(n)||(l.push(e.substring(t,i)),s=0,t=void 0)}return _.each(l,function(e,t){(a=e.match(r.bindParamRegExp))&&(l[t]=a[1])}),{query:e,bindParams:l}},checkForNewBindParams:function(){var e=this,t=this.parseQuery(this.aqlEditor.getValue()).bindParams,i={};_.each(t,function(t){e.bindParamTableObj[t]?i[t]=e.bindParamTableObj[t]:null===e.bindParamTableObj[t]?i[t]=null:i[t]=""}),Object.keys(t).forEach(function(t){Object.keys(e.bindParamTableObj).forEach(function(n){t===n&&(i[t]=e.bindParamTableObj[n])})}),e.bindParamTableObj=i},renderBindParamTable:function(e){$("#arangoBindParamTable tbody").html(""),e&&this.getCachedQuery();var t=0;this.checkForNewBindParams(),_.each(this.bindParamTableObj,function(e,i){$("#arangoBindParamTable tbody").append("<tr><td>"+i+"</td><td><input name="+i+' type="text"></input></td></tr>'),t++}),0===t?$("#arangoBindParamTable tbody").append('<tr class="noBgColor"><td>No bind parameters defined.</td><td></td></tr>'):this.fillBindParamTable(this.bindParamTableObj);var i=sessionStorage.getItem("lastOpenQuery"),n=this.collection.findWhere({name:i});try{n=n.toJSON()}catch(a){}n&&!1===this.loadedCachedQuery&&(this.loadedCachedQuery=!0,this.fillBindParamTable(n.parameter))},fillBindParamTable:function(e){_.each(e,function(e,t){_.each($("#arangoBindParamTable input"),function(i){if($(i).attr("name")===t)if(e instanceof Array)$(i).val(JSON.stringify(e)).addClass("arraytype");else if("object"===typeof e)$(i).val(JSON.stringify(e)).addClass(typeof e+"type");else if("number"===typeof e)$(i).val(e).addClass(typeof e+"type");else{var n=!1;try{"number"===typeof JSON.parse(e)&&(n=!0)}catch(a){}n?$(i).val('"'+e+'"').addClass(typeof e+"type"):$(i).val(e).addClass(typeof e+"type")}})})},initAce:function(){var e=this;this.aqlEditor=ace.edit("aqlEditor"),this.aqlEditor.$blockScrolling=1/0,this.aqlEditor.getSession().setMode("ace/mode/aql"),this.aqlEditor.getSession().setUseWrapMode(!0),this.aqlEditor.setFontSize("10pt"),this.aqlEditor.setShowPrintMargin(!1),this.bindParamAceEditor=ace.edit("bindParamAceEditor"),this.bindParamAceEditor.$blockScrolling=1/0,this.bindParamAceEditor.getSession().setMode("ace/mode/json"),this.bindParamAceEditor.setFontSize("10pt"),this.bindParamAceEditor.setShowPrintMargin(!1),this.bindParamAceEditor.getSession().on("change",function(){try{e.bindParamTableObj=JSON.parse(e.bindParamAceEditor.getValue()),e.allowParamToggle=!0,e.setCachedQuery(e.aqlEditor.getValue(),JSON.stringify(e.bindParamTableObj))}catch(t){""===e.bindParamAceEditor.getValue()?(_.each(e.bindParamTableObj,function(t,i){e.bindParamTableObj[i]=""}),e.allowParamToggle=!0):e.allowParamToggle=!1}}),this.aqlEditor.getSession().on("change",function(){if(e.aqlEditor.getValue().length<1&&Object.keys(e.bindParamTableObj).length>0&&(e.lastCachedBindParameter=e.bindParamTableObj),e.checkForNewBindParams(),e.renderBindParamTable(),e.parseQuery(e.aqlEditor.getValue()).bindParams.length>0){var t=[];if(_.each(e.parseQuery(e.aqlEditor.getValue()).bindParams,function(i){if(void 0!==$("input[name='"+i+"']")&&$("input[name='"+i+"']").length>0&&0===$("input[name='"+i+"']").val().length&&e.lastCachedBindParameter){var n=$("input[name='"+i+"']").val();e.lastCachedBindParameter[i]&&e.lastCachedBindParameter[i]!==n&&t.push(i)}}),t.length>0){var i={};_.each(t,function(t,n){i[t]=e.lastCachedBindParameter[t]}),e.bindParamTableObj=i,e.renderBindParamTable()}}e.initDone&&e.setCachedQuery(e.aqlEditor.getValue(),JSON.stringify(e.bindParamTableObj)),e.bindParamAceEditor.setValue(JSON.stringify(e.bindParamTableObj,null,"\t"),1),$("#aqlEditor .ace_text-input").focus(),e.resize()});var t=function(e){_.each($(".outputEditors"),function(t){var i=$(t).children().first().attr("id");i=i.replace("Wrapper",""),ace.edit(i).setFontSize(e)})},i=[this.aqlEditor,this.bindParamAceEditor];_.each(i,function(i){i.commands.addCommand({name:"togglecomment",bindKey:{win:"Ctrl-Shift-C",linux:"Ctrl-Shift-C",mac:"Command-Shift-C"},exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEach"}),i.commands.addCommand({name:"increaseFontSize",bindKey:{win:"Shift-Alt-Up",linux:"Shift-Alt-Up",mac:"Shift-Alt-Up"},exec:function(i){var n=parseInt(e.aqlEditor.getFontSize().match(/\d+/)[0],10)+1;n+="pt",e.aqlEditor.setFontSize(n),t(n)},multiSelectAction:"forEach"}),i.commands.addCommand({name:"decreaseFontSize",bindKey:{win:"Shift-Alt-Down",linux:"Shift-Alt-Down",mac:"Shift-Alt-Down"},exec:function(i){var n=parseInt(e.aqlEditor.getFontSize().match(/\d+/)[0],10)-1;n+="pt",e.aqlEditor.setFontSize(n),t(n)},multiSelectAction:"forEach"}),i.commands.addCommand({name:"executeQuery",bindKey:{win:"Ctrl-Return",mac:"Command-Return",linux:"Ctrl-Return"},exec:function(){e.executeQuery()}}),i.commands.addCommand({name:"executeSelectedQuery",bindKey:{win:"Ctrl-Alt-Return",mac:"Command-Alt-Return",linux:"Ctrl-Alt-Return"},exec:function(){e.executeQuery(void 0,!0)}}),i.commands.addCommand({name:"saveQuery",bindKey:{win:"Ctrl-Shift-S",mac:"Command-Shift-S",linux:"Ctrl-Shift-S"},exec:function(){e.addAQL()}}),i.commands.addCommand({name:"explainQuery",bindKey:{win:"Ctrl-Shift-Return",mac:"Command-Shift-Return",linux:"Ctrl-Shift-Return"},exec:function(){e.explainQuery()}}),i.commands.addCommand({name:"togglecomment",bindKey:{win:"Ctrl-Shift-C",linux:"Ctrl-Shift-C",mac:"Command-Shift-C"},exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEach"}),i.commands.addCommand({name:"showSpotlight",bindKey:{win:"Ctrl-Space",mac:"Ctrl-Space",linux:"Ctrl-Space"},exec:function(){e.showSpotlight()}})}),this.queryPreview=ace.edit("queryPreview"),this.queryPreview.getSession().setMode("ace/mode/aql"),this.queryPreview.setReadOnly(!0),this.queryPreview.setFontSize("13px"),this.queryPreview.setShowPrintMargin(!1),$("#aqlEditor .ace_text-input").focus()},updateQueryTable:function(){var e=this;this.updateLocalQueries(),this.myQueriesTableDesc.rows=this.customQueries,_.each(this.myQueriesTableDesc.rows,function(e){e.secondRow='<span class="spanWrapper"><span id="copyQuery" title="Copy query"><i class="fa fa-copy"></i></span><span id="explQuery" title="Explain query"><i class="fa fa-comments"></i></i></span><span id="runQuery" title="Run query"><i class="fa fa-play-circle-o"></i></i></span><span id="deleteQuery" title="Delete query"><i class="fa fa-minus-circle"></i></span></span>',e.hasOwnProperty("parameter")&&delete e.parameter,delete e.value}),this.myQueriesTableDesc.rows.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),_.each(this.queries,function(t){t.hasOwnProperty("parameter")&&delete t.parameter,e.myQueriesTableDesc.rows.push({name:t.name,thirdRow:'<span class="spanWrapper"><span id="copyQuery" title="Copy query"><i class="fa fa-copy"></i></span></span>'})}),this.myQueriesTableDesc.unescaped=[!1,!0,!0],this.$(this.myQueriesId).html(this.table.render({content:this.myQueriesTableDesc}))},listenKey:function(e){13===e.keyCode&&"Update"===$("#modalButton1").html()&&this.saveAQL(),this.checkSaveName()},addAQL:function(){this.refreshAQL(!0),this.createCustomQueryModal(),setTimeout(function(){$("#new-query-name").focus()},500)},updateAQL:function(){var e=this.aqlEditor.getValue(),t=$("#lastQueryName").html(),i=this.collection.findWhere({name:t});if(i){i.set("value",e),i.set("parameter",this.bindParamTableObj);var n=function(e){if(e)arangoHelper.arangoError("Query","Could not save query");else{var i=this;arangoHelper.arangoNotification("Saved query",'"'+t+'"'),this.collection.fetch({success:function(){i.updateLocalQueries()}})}}.bind(this);this.collection.saveCollectionQueries(n)}this.refreshAQL(!0)},createAQL:function(){sessionStorage.setItem("lastOpenQuery",void 0),this.aqlEditor.setValue(""),this.refreshAQL(!0),this.breadcrumb(),$("#updateCurrentQuery").hide()},createCustomQueryModal:function(){var e=[],t=[];t.push(window.modalView.createTextEntry("new-query-name","Name","",void 0,void 0,!1,[{rule:Joi.string().regex(/^(\s*[a-zA-Z0-9\-._]+\s*)+$/).required(),msg:'A query name is required. Characters, numbers and ".", "_", "-" symbols are allowed.'}])),e.push(window.modalView.createSuccessButton("Save",this.saveAQL.bind(this))),window.modalView.show("modalTable.ejs","Save Query",e,t,void 0,void 0,{"keyup #new-query-name":this.listenKey.bind(this)})},checkSaveName:function(){var e=arangoHelper.escapeHtml($("#new-query-name").val());"Insert Query"!==e?this.customQueries.some(function(t){return t.name===e})?($("#modalButton1").removeClass("button-success"),$("#modalButton1").addClass("button-warning"),$("#modalButton1").text("Update")):($("#modalButton1").removeClass("button-warning"),$("#modalButton1").addClass("button-success"),$("#modalButton1").text("Save")):$("#new-query-name").val("")},saveAQL:function(e){e&&e.stopPropagation(),this.refreshAQL();var t=arangoHelper.escapeHtml($("#new-query-name").val()),i=this.bindParamTableObj;if(!$("#new-query-name").hasClass("invalid-input")&&""!==t.trim()){var n=this.aqlEditor.getValue(),a=!1;if(_.each(this.customQueries,function(e){e.name===t&&(e.value=n,a=!0)}),!0===a)this.collection.findWhere({name:t}).set("value",n);else{if(""!==i&&void 0!==i||(i="{}"),"string"===typeof i)try{i=JSON.parse(i)}catch(s){arangoHelper.arangoError("Query","Could not parse bind parameter")}this.collection.add({name:t,parameter:i,value:n})}var r=function(e){if(e)arangoHelper.arangoError("Query","Could not save query");else{var i=this;this.collection.fetch({success:function(){i.updateLocalQueries(),$("#updateCurrentQuery").show(),i.breadcrumb(t)}})}}.bind(this);this.collection.saveCollectionQueries(r),window.modalView.hide()}},breadcrumb:function(e){window.setTimeout(function(){e?$("#subNavigationBar .breadcrumb").html('Query: <span id="lastQueryName">'+e+"</span>"):$("#subNavigationBar .breadcrumb").html("")},50)},verifyQueryAndParams:function(){var e=!1;if(0===this.aqlEditor.getValue().length&&(arangoHelper.arangoError("Query","Your query is empty"),e=!0),$("#bindParamAceEditor").is(":visible"))try{JSON.parse(this.bindParamAceEditor.getValue())}catch(t){arangoHelper.arangoError("Bind Parameter","Could not parse bind parameter"),e=!0}return e},executeQuery:function(e,t){this.verifyQueryAndParams()||($("#outputEditorWrapper"+this.outputCounter).hide(),$("#outputEditorWrapper"+this.outputCounter).show("fast"),this.lastSentQueryString=this.aqlEditor.getValue(),this.renderQueryResultBox(this.outputCounter,t))},renderQueryResultBox:function(e,t,i){this.$(this.outputDiv).prepend(this.outputTemplate.render({counter:e,type:"Query"}));var n=ace.edit("outputEditor"+e);n.setFontSize("13px"),n.$blockScrolling=1/0,n.getSession().setMode("ace/mode/json"),n.setReadOnly(!0),n.setOption("vScrollBarAlwaysVisible",!0),n.setShowPrintMargin(!1),this.setEditorAutoHeight(n),i||(this.queriesHistory[e]={sentQuery:this.aqlEditor.getValue(),bindParam:this.bindParamTableObj},this.fillResult(e,t),this.outputCounter++)},readQueryData:function(e,t,i){var n={};if(i||(n.id="currentFrontendQuery"),n.query=e?this.aqlEditor.getSelectedText():this.aqlEditor.getValue(),0===n.query.length)return e?arangoHelper.arangoError("Query","Your query selection is empty!"):arangoHelper.arangoError("Query","Your query is empty!"),!1;var a={};return Object.keys(this.bindParamTableObj).length>0&&(_.each(this.bindParamTableObj,function(e,t){n.query.indexOf(t)>-1&&(a[t]=e)}),n.bindVars=this.bindParamTableObj),Object.keys(a).length>0&&(n.bindVars=a),t&&(n.options={profile:!0}),n},fillResult:function(e,t){var i=this,n=this.readQueryData(t,!0);n&&$.ajax({type:"POST",url:arangoHelper.databaseUrl("/_api/cursor"),headers:{"x-arango-async":"store"},data:JSON.stringify(n),contentType:"application/json",processData:!1,success:function(t,n,a){a.getResponseHeader("x-arango-async-id")&&i.queryCallbackFunction(a.getResponseHeader("x-arango-async-id"),e),Noty.clearQueue(),Noty.closeAll(),i.handleResult(e)},error:function(t){try{var n=JSON.parse(t.responseText);arangoHelper.arangoError("["+n.errorNum+"]",n.errorMessage)}catch(a){arangoHelper.arangoError("Query error","ERROR")}i.handleResult(e)}})},handleResult:function(){var e=this;window.progressView.hide(),$("#removeResults").show(),window.setTimeout(function(){e.aqlEditor.focus()},300)},setEditorAutoHeight:function(e){var t=($(".centralRow").height()-250)/17;e.setOptions({maxLines:t,minLines:10})},deselect:function(e){var t=e.getSelection(),i=t.lead.row,n=t.lead.column;t.setSelectionRange({start:{row:i,column:n},end:{row:i,column:n}}),e.focus()},warningsFunc:function(e,t){var i="";e.extra&&e.extra.warnings&&e.extra.warnings.length>0&&(i+="Warnings:\r\n\r\n",e.extra.warnings.forEach(function(e){i+="["+e.code+"], '"+e.message+"'\r\n"})),""!==i&&(i+="\r\nResult:\r\n\r\n"),t.setValue(i+JSON.stringify(e.result,void 0,2),1),t.getSession().setScrollTop(0)},renderQueryResult:function(e,t,i,n){var a,r=this,s="query";try{s=window.App.naviView.activeSubMenu.route}catch(w){}if("#queries"===window.location.hash&&"query"===s){var o,l,c=ace.edit("outputEditor"+t),h=$(".centralRow").height()-250,d=0;if(!e.msg){if("table"===(a=r.analyseQuery(e.result)).defaultType||"geotable"===a.defaultType?($("#outputEditorWrapper"+t+" .arangoToolbarTop").after('<div id="outputTable'+t+'" class="outputTable"></div>'),$("#outputTable"+t).show(),r.renderOutputTable(a,t),$(".outputEditorWrapper .tableWrapper").css("max-height",h),$("#outputEditor"+t).hide(),o=!0):"graph"===a.defaultType&&($("#outputEditorWrapper"+t+" .arangoToolbarTop").after('<div id="outputGraph'+t+'"></div>'),$("#outputGraph"+t).show(),(o=r.renderOutputGraph(a,t))?($("#outputEditor"+t).hide(),$("#outputEditorWrapper"+t+" #copy2gV").show(),$("#outputEditorWrapper"+t+" #copy2gV").bind("click",function(){r.showResultInGraphViewer(a,t)})):$("#outputGraph"+t).remove()),"geo"===a.defaultType||"geotable"===a.defaultType){$("#outputEditor"+t).hide(),$("#outputEditorWrapper"+t+" .arangoToolbarTop").after('<div class="geoContainer" id="outputGeo'+t+'" style="height: 500px; maxheight: '+h+'px;"></div>'),r.maps[t]=L.map("outputGeo"+t).setView([51.505,-.09],13),r.maps[t].addLayer(new L.StamenTileLayer("terrain",{detectRetina:!0}));var u,p=1,f={color:"#3498db",opacity:1,weight:3},g={radius:8,fillColor:"#2ecc71",color:"white",weight:1,opacity:1,fillOpacity:.64},m=[];_.each(e.result,function(i){var n={};if("Point"===(n=i.hasOwnProperty("geometry")?i.geometry:i).type||"MultiPoint"===n.type)try{u=new L.GeoJSON(n,{onEachFeature:function(e,t,n){t.bindPopup('<pre style="width: 250px; max-height: 250px;">'+JSON.stringify(i,null,2)+"</pre>")},pointToLayer:function(e,t){var i=L.circleMarker(t,g);return m.push(i),i}}).addTo(r.maps[t])}catch(w){d++}else if("Polygon"===n.type||"LineString"===n.type||"MultiLineString"===n.type||"MultiPolygon"===n.type)try{u=new L.GeoJSON(n,{style:f,onEachFeature:function(e,t){t.bindPopup('<pre style="width: 250px;">'+JSON.stringify(e,null,2)+"</pre>")}}).addTo(r.maps[t]),m.push(u)}catch(w){d++}if(p===e.result.length)if(m.length>0)try{var a=new L.FeatureGroup(m);r.maps[t].fitBounds(a.getBounds())}catch(w){}else try{r.maps[t].fitBounds(u.getBounds())}catch(w){}p++})}!1!==o&&("geotable"===a.defaultType||"geo"===a.defaultType?($("#outputTable"+t).hide(),"geotable"===a.defaultType&&$("#table-switch").css("display","inline"),e.result.length===d?($("#outputGeo"+t).remove(),"geotable"===a.defaultType?($("#outputTable"+t).show(),$("#table-switch").addClass("active").css("display","inline")):($("#outputEditor"+t).show(),$("#json-switch").addClass("active").css("display","inline"))):$("#geo-switch").addClass("active").css("display","inline")):$("#"+a.defaultType+"-switch").addClass("active").css("display","inline"),$("#json-switch").css("display","inline"),!a.fallback||"geo"!==a.fallback&&"geotable"!==a.fallback||($("#geo-switch").addClass("disabled").css("display","inline").css("opacity","0.5"),$("#geo-switch").addClass("tippy").attr("title","No internet collection. Map is not available."),arangoHelper.createTooltips()));var v=function(e,i,n){n||(n=""),$("#outputEditorWrapper"+t+" .arangoToolbarTop .pull-left").append('<span class="'+n+'"><i class="fa '+i+'"></i><i class="iconText">'+e+"</i></span>")},b="-";e&&e.extra&&e.extra.stats&&(e.extra.stats.executionTime>1?(b=numeral(e.extra.stats.executionTime).format("0.000"),b+=" s"):(b=numeral(1e3*e.extra.stats.executionTime).format("0.000"),b+=" ms")),v(e.result.length+" elements","fa-calculator"),v(b,"fa-clock-o"),e.extra&&(e.extra.profile&&(v("","fa-caret-down"),r.appendProfileDetails(t,e.extra.profile)),e.extra.stats&&(e.extra.stats.writesExecuted>0||e.extra.stats.writesIgnored>0)&&(v(e.extra.stats.writesExecuted+" writes","fa-check-circle positive"),0===e.extra.stats.writesIgnored?v(e.extra.stats.writesIgnored+" writes ignored","fa-check-circle positive","additional"):v(e.extra.stats.writesIgnored+" writes ignored","fa-exclamation-circle warning","additional")))}$("#outputEditorWrapper"+t+" .pull-left #spinner").remove(),$("#outputEditorWrapper"+t+" #cancelCurrentQuery").remove(),r.warningsFunc(e,c),window.progressView.hide(),$("#outputEditorWrapper"+t+" .switchAce").show(),$("#outputEditorWrapper"+t+" .fa-close").show(),$("#outputEditor"+t).css("opacity","1"),e.msg||($("#outputEditorWrapper"+t+" #downloadQueryResult").show(),$("#outputEditorWrapper"+t+" #copy2aqlEditor").show()),r.setEditorAutoHeight(c),r.deselect(c),n&&e.hasMore?l=arangoHelper.databaseUrl("/_api/cursor/"+encodeURIComponent(n)):e.id&&e.hasMore&&(l=arangoHelper.databaseUrl("/_api/cursor/"+encodeURIComponent(e.id))),l&&$.ajax({url:l,type:"DELETE"}),i||(r.cachedQueries[t]=e,this.cachedQueries[t].sentQuery=r.aqlEditor.getValue()),e.msg&&(e.extra.profile?$("#outputEditorWrapper"+t+" .toolbarType").html("Profile"):$("#outputEditorWrapper"+t+" .toolbarType").html("Explain"),c.setValue(e.msg,1)),"table"!==a.defaultType&&"geotable"!==a.defaultType||r.checkCSV(t)}else r.cachedQueries[t]=e,r.cachedQueries[t].sentQuery=r.lastSentQueryString,arangoHelper.arangoNotification("Query finished","Return to queries view to see the result.")},bindQueryResultButtons:function(e,t){var i=this;if(e)var n=function(e,t){$.ajax({url:arangoHelper.databaseUrl("/_api/job/"+encodeURIComponent(e)+"/cancel"),type:"PUT",success:function(){window.clearTimeout(i.checkQueryTimer),$("#outputEditorWrapper"+t).remove(),arangoHelper.arangoNotification("Query","Query canceled.")}})};$("#outputEditorWrapper"+t+" #cancelCurrentQuery").bind("click",function(){n(e,t)}),$("#outputEditorWrapper"+t+" #copy2aqlEditor").bind("click",function(){$("#toggleQueries1").is(":visible")||i.toggleQueries();var e=i.queriesHistory[t].sentQuery,n=i.queriesHistory[t].bindParam;i.aqlEditor.setValue(e,1),i.deselect(i.aqlEditor),Object.keys(n).length>0&&(i.bindParamTableObj=n,i.setCachedQuery(i.aqlEditor.getValue(),JSON.stringify(i.bindParamTableObj)),$("#bindParamEditor").is(":visible")?i.renderBindParamTable():(i.bindParamAceEditor.setValue(JSON.stringify(n),1),i.deselect(i.bindParamAceEditor))),$(".centralRow").animate({scrollTop:0},"fast"),i.resize()})},queryCallbackFunction:function(e,t){var i,n=this;n.tmpQueryResult=null,this.bindQueryResultButtons(e,t),this.execPending=!1;try{i=parseInt($("#querySize").val())}catch(r){arangoHelper.arangoError("Parse Error","Could not parse defined user limit.")}isNaN(i)&&(i=!0);var a=function(e){null===n.tmpQueryResult&&(n.tmpQueryResult={result:[],complete:!0}),_.each(e,function(t,a){"result"!==a?n.tmpQueryResult[a]=t:_.each(e.result,function(e){n.tmpQueryResult.result.length<=i||!0===i?(n.tmpQueryResult.result.length<i||!0===i)&&n.tmpQueryResult.result.push(e):n.tmpQueryResult.complete=!1})})};!function s(o){var l=arangoHelper.databaseUrl("/_api/job/"+encodeURIComponent(e));o&&(l=arangoHelper.databaseUrl("/_api/cursor/"+encodeURIComponent(o))),$.ajax({type:"PUT",url:l,contentType:"application/json",processData:!1,success:function(r,o,l){var c=!0;n.tmpQueryResult&&n.tmpQueryResult.result&&n.tmpQueryResult.result.length&&(c=n.tmpQueryResult.result.length<i||!0===i),201===l.status||200===l.status?r.hasMore&&c?(a(r),s(r.id)):(a(r),n.renderQueryResult(n.tmpQueryResult,t,!1,e),n.tmpQueryResult=null,$(".centralRow").animate({scrollTop:$("#queryContent").height()},"fast")):204===l.status&&(n.checkQueryTimer=window.setTimeout(function(){s()},500))},error:function(e){var i;try{if("Gone"===e.statusText)return arangoHelper.arangoNotification("Query","Query execution aborted."),void n.removeOutputEditor(t);i=JSON.parse(e.responseText),arangoHelper.arangoError("Query",i.errorMessage),i.errorMessage&&(null!==i.errorMessage.match(/\d+:\d+/g)?n.markPositionError(i.errorMessage.match(/'.*'/g)[0],i.errorMessage.match(/\d+:\d+/g)[0]):n.markPositionError(i.errorMessage.match(/\(\w+\)/g)[0]),n.removeOutputEditor(t))}catch(r){if(n.removeOutputEditor(t),409===i.code)return;400!==i.code&&404!==i.code&&500!==i.code&&403!==i.code&&501!==i.code&&arangoHelper.arangoNotification("Query","Successfully aborted.")}window.progressView.hide()}})}()},appendProfileDetails:function(e,t){var i="#outputEditorWrapper"+e;$(i+" .fa-caret-down").first().on("click",function(){var n=$(i).find(".queryProfile");if($(n).is(":visible"))$(i).find(".queryProfile").remove();else{$(i).append('<div class="queryProfile" counter="'+e+'"></div>');var a=$(i+" .queryProfile").first();a.hide(),a.css("position","absolute").css("left",215).css("top",55);var r=["A","B","C","D","E","F","G","H"],s=["rgb(48, 125, 153)","rgb(241, 124, 176)","rgb(137, 110, 37)","rgb(93, 165, 218)","rgb(250, 164, 58)","rgb(64, 74, 83)","rgb(96, 189, 104)","rgb(221, 224, 114)"],o=["startup time for query engine","query parsing","abstract syntax tree optimizations","loading collections","instanciation of initial execution plan","execution plan optimization and permutation","query execution","query finalization"];a.append('<i class="fa fa-close closeProfile"></i><span class="profileHeader">Profiling information</span><div class="pure-g pure-table pure-table-body" style="width: auto;"></div><div class="prof-progress"></div><div class="prof-progress-label"></div><div class="clear"></div>');var l=0;_.each(t,function(e,t){"finished"!==t&&(l+=1e3*e)});var c,h=0,d=0,u="";_.each(t,function(e,t){"finished"!==t&&(e>1?(u=numeral(e).format("0.000"),u+=" s"):(u=numeral(1e3*e).format("0.000"),u+=" ms"),a.find(".pure-g").append('<div class="pure-table-row noHover"><div class="pure-u-1-24 left"><p class="bold" style="background:'+s[h]+'">'+r[h]+'</p></div><div class="pure-u-4-24 left">'+u+'</div><div class="pure-u-6-24 left">'+t+'</div><div class="pure-u-13-24 left">'+o[h]+"</div></div>"),0===(c=Math.floor(1e3*e/l*100))&&(c=1,d++),7!==h?(a.find(".prof-progress").append('<div style="width: '+c+"%; background-color: "+s[h]+'"></div>'),c>1?a.find(".prof-progress-label").append('<div style="width: '+c+'%;">'+r[h]+"</div>"):a.find(".prof-progress-label").append('<div style="width: '+c+'%; font-size: 9px">'+r[h]+"</div>")):(d>0&&(c-=d),a.find(".prof-progress").append('<div style="width: '+c+"%; background-color: "+s[h]+'"></div>'),c>1?a.find(".prof-progress-label").append('<div style="width: '+c+'%;">'+r[h]+"</div>"):a.find(".prof-progress-label").append('<div style="width: '+c+'%; font-size: 9px">'+r[h]+"</div>")),h++)}),a.width(590),a.height("auto"),a.fadeIn("fast")}})},analyseQuery:function(e){var t={defaultType:null,original:e,modified:null},i=!1;if(!Array.isArray(e))return t.defaultType="json",t;for(var n=0,a=0;a<e.length;a++)if(e[a]){n=a;break}if(e[n])if(e[n].vertices&&e[n].edges){var r=0,s=0;_.each(e,function(e){e.edges&&_.each(e.edges,function(e){null!==e&&(e._from&&e._to&&r++,s++)})});var o=0;s>0&&(o=r/s*100),o>=95&&(i=!0,t.defaultType="graph",t.graphInfo="object")}else{var l=0,c=e.length;_.each(e,function(e){e&&e._from&&e._to&&e._id&&l++});var h=0;c>0&&(h=l/c*100),h>=95&&(i=!0,t.defaultType="graph",t.graphInfo="array")}var d=0;if(!i){var u=!0,p={};if(e.length<1&&(u=!1),u){_.each(e,function(e){if("object"===typeof e&&null!==e&&!Array.isArray(e)){if("object"===typeof e)if(e.hasOwnProperty("coordinates")&&e.hasOwnProperty("type"))"Point"!==e.type&&"MultiPoint"!==e.type&&"Polygon"!==e.type&&"MultiPolygon"!==e.type&&"LineString"!==e.type&&"MultiLineString"!==e.type||d++;else if(e.hasOwnProperty("geometry"))try{e.geometry.hasOwnProperty("coordinates")&&e.geometry.hasOwnProperty("type")&&("Point"!==e.geometry.type&&"MultiPoint"!==e.geometry.type&&"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type&&"LineString"!==e.geometry.type&&"MultiLineString"!==e.geometry.type||d++)}catch(t){}_.each(e,function(e,t){p.hasOwnProperty(t)?++p[t]:p[t]=1})}});var f=0;_.each(p,function(t,i){!1!==u&&(f=t/e.length*100)<=95&&(u=!1)}),f<=95&&(u=!1)}u&&(i=!0,e.length===d?t.defaultType="geotable":t.defaultType="table")}return i||(0!==e.length&&e.length===d?t.defaultType="geo":t.defaultType="json"),"geo"!==t.defaultType&&"geotable"!==t.defaultType||window.activeInternetConnection||(t.fallback=t.defaultType,"geo"===t.defaultType?t.defaultType="json":t.defaultType="table"),t},markPositionError:function(e,t){var i;if(t&&(i=t.split(":")[0],e=e.substr(1,e.length-2)),!this.aqlEditor.find(e)&&t){try{(i=parseInt(i))>0&&(i-=1)}catch(n){}this.aqlEditor.selection.moveCursorToPosition({row:i,column:0}),this.aqlEditor.selection.selectLine()}window.setTimeout(function(){$(".ace_start").first().css("background","rgba(255, 129, 129, 0.7)")},100)},refreshAQL:function(){var e=this,t=function(t){t?arangoHelper.arangoError("Query","Could not reload queries"):(e.updateLocalQueries(),e.updateQueryTable())};this.getAQL(function(){e.getSystemQueries(t)})},getSystemQueries:function(e){e&&e(!1),this.queries=window.aqltemplates},updateLocalQueries:function(){var e=this;this.customQueries=[],this.collection.each(function(t){e.customQueries.push({name:t.get("name"),value:t.get("value"),parameter:t.get("parameter")})})},renderOutputTable:function(e,t){var i={id:"outputTableData"+t,titles:[],rows:[]},n=!0,a={},r=0;_.each(e.original,function(e){!0===n&&e&&(i.titles=Object.keys(e),i.titles.forEach(function(e){a[String(e)]=r++}),n=!1);var t=Array(r);_.each(e,function(e,i){a.hasOwnProperty(i)&&("object"===typeof e&&(e=JSON.stringify(e)),t[a[i]]=e)}),i.rows.push(t)}),$("#outputTable"+t).append(this.table.render({content:i}))},renderOutputGraph:function(e,t){return this.graphViewers[t]=new window.GraphViewer({name:void 0,documentStore:window.App.arangoDocumentStore,collection:new window.GraphCollection,userConfig:window.App.userConfig,id:"#outputGraph"+t,data:e}),this.graphViewers[t].renderAQLPreview()},showResultInGraphViewer:function(e,t){window.location.hash="#aql_graph",window.App.graphViewer&&(window.App.graphViewer.graphSettingsView&&window.App.graphViewer.graphSettingsView.remove(),window.App.graphViewer.remove()),window.App.graphViewer=new window.GraphViewer({name:void 0,documentStore:window.App.arangoDocumentStore,collection:new window.GraphCollection,userConfig:window.App.userConfig,noDefinedGraph:!0,data:e}),window.App.graphViewer.renderAQL()},getAQL:function(e){var t=this;this.collection.fetch({success:function(){t.getCachedQueryAfterRender();var i=sessionStorage.getItem("customQueries");if(i){var n=JSON.parse(i);_.each(n,function(e){t.collection.add({value:e.value,name:e.name})});t.collection.saveCollectionQueries(function(e){e?arangoHelper.arangoError("Custom Queries","Could not import old local storage queries"):sessionStorage.removeItem("customQueries")})}t.updateLocalQueries(),e&&e()},error:function(e,t){arangoHelper.arangoError("User Queries",t.responseText)}})},checkCSV:function(e){var t=ace.edit("outputEditor"+e).getValue(),i=!1;try{t=JSON.parse(t),i=!0,_.each(t,function(e,t){_.each(e,function(e,t){try{"object"===typeof JSON.parse(e)&&(i=!1)}catch(n){}})})}catch(n){}i&&$("#outputEditorWrapper"+e+" #downloadCsvResult").show()},doCSV:function(e){var t=this.arrayFrom(e),i=[];for(var n in t)i[i.length]=this.parse_object(t[n]);return $.csv.fromObjects(i)},downloadCsvResult:function(e){var t,i=$(e.currentTarget).attr("counter"),n=ace.edit("outputEditor"+i).getValue();n=JSON.parse(n),(t=$.csv.fromObjects(n,{justArrays:!0})).length>0?arangoHelper.downloadLocalBlob(t,"csv"):arangoHelper.arangoError("Query error","Could not download the result.")}})}()},function(e,t){!function(){"use strict";window.ReplicationView=Backbone.View.extend({el:"#content",mode:null,interval:5e3,keepEntries:100,charts:{},nvchartsInit:!1,loggerGraphsData:[],info:{state:null,mode:null,level:null,role:null,health:"Good",msg:"No issues detected."},nodes:{leader:null,followers:[]},initialize:function(e){var t=this;window.setInterval(function(){t.getStateData()},this.interval)},template:templateEngine.createTemplate("replicationView.ejs"),events:{"click #nodes-followers-id span":"goToApplier","click #repl-follower-table tr":"goToApplierFromTable"},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},render:function(){this.undelegateEvents(),this.mode||0===this.mode?(this.$el.html(this.template.render({mode:this.mode,info:this.info,nodes:this.nodes})),this.getStateData()):this.getMode(this.render.bind(this)),this.delegateEvents()},renderStatisticBox:function(e,t,i,n){if($("#replication-info #nodeattribute-"+e).length)$("#replication-info #nodeattribute-"+e).html(t);else{var a="";a+=6===n?'<div class="pure-u-1-2 pure-u-md-1-3 pure-u-lg-1-6" style="background-color: #fff">':'<div class="pure-u-1-2 pure-u-md-1-4" style="background-color: #fff">',a+='<div class="valueWrapper">',a+=i?'<div id="nodeattribute-'+e+'" class="value tippy" title="'+t+'">'+t+"</div>":'<div id="nodeattribute-'+e+'" class="value">'+t+"</div>",a+='<div class="graphLabel">'+e+"</div>",a+="</div>",a+="</div>",$("#replication-info").append(a)}},goToApplier:function(e){var t=btoa($(e.currentTarget).attr("data"));window.App.navigate("#replication/applier/"+t+"/"+btoa("_system"),{trigger:!0})},goToApplierFromTable:function(e){var t=btoa(window.location.origin),i=btoa($(e.currentTarget).find("#applier-database-id").html()),n=$(e.currentTarget).find("#applier-running-id").html();"true"===n||!0===n?window.App.navigate("#replication/applier/"+t+"/"+i,{trigger:!0}):arangoHelper.arangoMessage("Replication","This applier is not running.")},getActiveFailoverEndpoints:function(){var e=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/cluster/endpoints"),contentType:"application/json",success:function(t){t.endpoints?e.renderEndpoints(t.endpoints):e.renderEndpoints()},error:function(){e.renderEndpoints()}})},renderEndpoints:function(e){var t=this;if(e){var i=e[0],n=e.slice(1,e.length);$("#nodes-leader-id").html(i.endpoint),$("#nodes-followers-id").html(""),_.each(n,function(e){$("#nodes-followers-id").append('<span data="'+t.parseEndpoint(e.endpoint,!0)+'">'+e.endpoint+"</span>")})}else $("#nodes-leader-id").html("Error"),$("#nodes-followers-id").html("Error")},parseEndpoint:function(e,t){var i;return"[::1]"===e.slice(6,11)?i=window.location.host.split(":")[0]+":"+e.split(":")[4]:"tcp://"===e.slice(0,6)?i="http://"+e.slice(6,e.length):"ssl://"===e.slice(0,6)&&(i="https://"+e.slice(6,e.length)),t&&(i=window.location.protocol+"//"+i),i||e},getLoggerState:function(){var e=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/replication/logger-state"),contentType:"application/json",success:function(t){"#replication"===window.location.hash?(e.updateLoggerGraphsData(t),e.nvchartsInit?e.rerenderLoggerGraphs():e.initLoggerGraphs(),e.renderLoggerState(t.server,t.clients,t.state)):e.updateLoggerGraphsData(t)},error:function(){arangoHelper.arangoError("Replication","Could not fetch the leaders logger state.")}})},getApplierStates:function(e){var t,i=this;t=e?arangoHelper.databaseUrl("/_api/replication/applier-state?global=true"):arangoHelper.databaseUrl("/_api/replication/applier-state-all"),$.ajax({type:"GET",cache:!1,url:t,contentType:"application/json",success:function(t){e?i.renderApplierState(t,!0):i.renderApplierState(t)},error:function(){e?arangoHelper.arangoError("Replication","Could not fetch the followers global applier state."):arangoHelper.arangoError("Replication","Could not fetch the followers applier state.")}})},renderApplierState:function(e,t){var i,n=this;t&&(e.database="All databases",e={"All databases":e});var a,r=0,s=[],o=[];_.each(e,function(t,i){t.state.running?s.push(e[i]):(e[i].database=i,o.push(e[i]))}),s=_.sortBy(s,"database"),o=_.sortBy(o,"database"),e=s.concat(o),$("#repl-follower-table tbody").html(""),_.each(e,function(e,t){var s;i="undefined"!==e.endpoint&&e.endpoint?n.parseEndpoint(e.endpoint):"not available","inactive"!==e.state.phase&&!0!==e.state.running&&r++;var o="active";"inactive"===e.state.phase&&(o="inactive"),0===e.state.lastError.errorNum?s="inactive"!==e.state.phase||e.state.running?'<i class="fa fa-check-circle positive"></i>':"n/a":(s='<i class="fa fa-times-circle negative"></i>',r++),$("#repl-follower-table tbody").append('<tr class="'+o+'"><td id="applier-database-id">'+e.database+'</td><td id="applier-running-id">'+e.state.running+"</td><td>"+e.state.phase+'</td><td id="applier-endpoint-id">'+i+"</td><td>"+e.state.lastAppliedContinuousTick+"</td><td>"+s+"</td></tr>"),a=e.server.serverId}),$("#logger-lastLogTick-id").html(a),0===r?this.renderHealth(!1):this.renderHealth(!0,"Some appliers are not running or do have errors.")},renderHealth:function(e,t){e?($("#info-msg-id").addClass("negative"),$("#info-msg-id").removeClass("positive"),$("#info-msg-id").html('Bad <i class="fa fa-times-circle"></i>'),t&&($("#info-msg-id").attr("title",t),$("#info-msg-id").addClass("modalTooltips"),arangoHelper.createTooltips(".modalTooltips"))):($("#info-msg-id").addClass("positive"),$("#info-msg-id").removeClass("negative"),$("#info-msg-id").removeClass("modalTooltips"),$("#info-msg-id").html('Good <i class="fa fa-check-circle"></i>'))},getStateData:function(e){3===this.mode?(this.getActiveFailoverEndpoints(),this.getLoggerState()):2===this.mode?"leader"===this.info.role?this.getLoggerState():this.getApplierStates(!0):1===this.mode&&("leader"===this.info.role?this.getLoggerState():this.getApplierStates()),e&&e()},updateLoggerGraphsData:function(e){this.loggerGraphsData.length>this.keepEntries&&this.loggerGraphsData.pop(),this.loggerGraphsData.push(e)},parseLoggerData:function(){var e,t=this,i=this.loggerGraphsData;this.colors||(this.colors=randomColor({hue:"blue",count:this.loggerGraphsData.length}));var n={leader:{key:e=3===t.mode?"Leader":"Master",values:[],strokeWidth:2,color:"#2ecc71"}},a={leader:{key:e,values:[],strokeWidth:2,color:"#2ecc71"}};return _.each(i,function(e){n.leader.values.push({x:Date.parse(e.state.time),y:0}),a.leader.values.push({x:Date.parse(e.state.time),y:0});var i=0;_.each(e.clients,function(r){var s;n[r.serverId]||(s=3===t.mode?"Follower ("+r.serverId+")":"Slave ("+r.serverId+")",n[r.serverId]={key:s,color:t.colors[i],strokeWidth:1,values:[]},a[r.serverId]={key:s,color:t.colors[i],strokeWidth:1,values:[]},i++);n[r.serverId].values.push({x:Date.parse(r.time),y:(Date.parse(e.state.time)-Date.parse(r.time))/1e3*-1}),a[r.serverId].values.push({x:Date.parse(r.time),y:-1*(e.state.lastLogTick-r.lastServedTick)})})}),{graphDataTick:_.toArray(a),graphDataTime:_.toArray(n)}},initLoggerGraphs:function(){var e=this;nv.addGraph(function(){e.charts.replicationTimeChart=nv.models.lineChart().options({duration:300,useInteractiveGuideline:!0,forceY:[2,-10]}),e.charts.replicationTimeChart.xAxis.axisLabel("").tickFormat(function(e){var t=new Date(e);return(t.getHours()<10?"0":"")+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+":"+(t.getSeconds()<10?"0":"")+t.getSeconds()}).staggerLabels(!1),e.charts.replicationTimeChart.yAxis.axisLabel("Last call ago (in s)").tickFormat(function(e){return null===e?"N/A":d3.format(",.0f")(e)});var t=e.parseLoggerData().graphDataTime;return d3.select("#replicationTimeChart svg").datum(t).call(e.charts.replicationTimeChart),nv.utils.windowResize(e.charts.replicationTimeChart.update),e.charts.replicationTimeChart}),nv.addGraph(function(){e.charts.replicationTickChart=nv.models.lineChart().options({duration:300,useInteractiveGuideline:!0,forceY:[2,void 0]}),e.charts.replicationTickChart.xAxis.axisLabel("").tickFormat(function(e){var t=new Date(e);return(t.getHours()<10?"0":"")+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+":"+(t.getSeconds()<10?"0":"")+t.getSeconds()}).staggerLabels(!1),e.charts.replicationTickChart.yAxis.axisLabel("Ticks behind").tickFormat(function(e){return null===e?"N/A":d3.format(",.0f")(e)});var t=e.parseLoggerData().graphDataTick;return d3.select("#replicationTickChart svg").datum(t).call(e.charts.replicationTickChart),nv.utils.windowResize(e.charts.replicationTickChart.update),e.charts.replicationTickChart}),e.nvchartsInit=!0},rerenderLoggerGraphs:function(){d3.select("#replicationTimeChart svg").datum(this.parseLoggerData().graphDataTime).transition().duration(500).call(this.charts.replicationTimeChart),d3.select("#replicationTickChart svg").datum(this.parseLoggerData().graphDataTick).transition().duration(500).call(this.charts.replicationTickChart),_.each(this.charts,function(e){nv.utils.windowResize(e.update)})},renderLoggerState:function(e,t,i){e&&t&&i?($("#logger-running-id").html(i.running),$("#logger-version-id").html(e.version),$("#logger-serverid-id").html(e.serverId),$("#logger-time-id").html(i.time),$("#logger-lastLogTick-id").html(i.lastLogTick),$("#logger-totalEvents-id").html(i.totalEvents),$("#repl-logger-clients tbody").html(""),_.each(t,function(e){$("#repl-logger-clients tbody").append("<tr><td>"+e.syncerId+"</td><td>"+e.serverId+"</td><td>"+e.clientInfo+"</td><td>"+e.time+"</td><td>"+e.lastServedTick+"</td></tr>")}),i.running?this.renderHealth(!1):this.renderHealth(!0,"The logger thread is not running")):($("#logger-running-id").html("Error"),$("#logger-endpoint-id").html("Error"),$("#logger-version-id").html("Error"),$("#logger-serverid-id").html("Error"),$("#logger-time-id").html("Error"),this.renderHealth(!0,"Unexpected data from the logger thread."))},getMode:function(e){var t=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/aardvark/replication/mode"),contentType:"application/json",success:function(i){(i.mode||0===i.mode)&&(Number.isInteger(i.mode)?(t.mode=i.mode,0!==i.mode?t.info.state="enabled":t.info.state="disabled"):t.mode="undefined",i.role&&(t.info.role=i.role),3===t.mode?(t.info.mode="Active Failover",t.info.level="Server"):2===t.mode?(t.info.mode="Master/Slave",t.info.level="Server"):1===t.mode&&(t.info.mode="Master/Slave","follower"===t.info.role?t.info.level="Database":t.info.level="Check slaves for details")),e&&e()},error:function(){arangoHelper.arangoError("Replication","Could not fetch the replication state.")}})}})}()},function(e,t){!function(){"use strict";window.ScaleView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("scaleView.ejs"),interval:1e4,knownServers:[],events:{"click #addCoord":"addCoord","click #removeCoord":"removeCoord","click #addDBs":"addDBs","click #removeDBs":"removeDBs"},setCoordSize:function(e){var t=this,i={numberOfCoordinators:e};$.ajax({type:"PUT",url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",data:JSON.stringify(i),success:function(){t.updateTable(i)},error:function(){arangoHelper.arangoError("Scale","Could not set coordinator size.")}})},setDBsSize:function(e){var t=this,i={numberOfDBServers:e};$.ajax({type:"PUT",url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",data:JSON.stringify(i),success:function(){t.updateTable(i)},error:function(){arangoHelper.arangoError("Scale","Could not set coordinator size.")}})},addCoord:function(){this.setCoordSize(this.readNumberFromID("#plannedCoords",!0))},removeCoord:function(){this.setCoordSize(this.readNumberFromID("#plannedCoords",!1,!0))},addDBs:function(){this.setDBsSize(this.readNumberFromID("#plannedDBs",!0))},removeDBs:function(){this.setDBsSize(this.readNumberFromID("#plannedDBs",!1,!0))},readNumberFromID:function(e,t,i){var n=$(e).html(),a=!1;try{a=JSON.parse(n)}catch(r){}return t&&a++,i&&1!==a&&a--,a},initialize:function(e){var t=this;clearInterval(this.intervalFunction),window.App.isCluster&&"_system"===frontendConfig.db&&(this.dbServers=e.dbServers,this.coordinators=e.coordinators,this.updateServerTime(),this.intervalFunction=window.setInterval(function(){"#sNodes"===window.location.hash&&t.coordinators.fetch({success:function(){t.dbServers.fetch({success:function(){t.continueRender(!0)}})}})},this.interval))},render:function(){var e=this,t=function(){this.waitForDBServers(function(){e.continueRender()})}.bind(this);this.initDoneCoords?t():this.waitForCoordinators(t),window.arangoHelper.buildNodesSubNav("scale")},continueRender:function(e){var t,i,n=this;t=this.coordinators.toJSON(),i=this.dbServers.toJSON(),this.$el.html(this.template.render({runningCoords:t.length,runningDBs:i.length,plannedCoords:void 0,plannedDBs:void 0,initialized:e})),$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/numberOfServers"),contentType:"application/json",processData:!1,success:function(e){n.updateTable(e)}})},updateTable:function(e){var t='<span class="warning">scaling in progress <i class="fa fa-circle-o-notch fa-spin"></i></span>',i='<span class="positive">no scaling process active</span>';e.numberOfCoordinators&&($("#plannedCoords").html(e.numberOfCoordinators),this.coordinators.toJSON().length===e.numberOfCoordinators?$("#statusCoords").html(i):$("#statusCoords").html(t)),e.numberOfDBServers&&($("#plannedDBs").html(e.numberOfDBServers),this.dbServers.toJSON().length===e.numberOfDBServers?$("#statusDBs").html(i):$("#statusDBs").html(t))},waitForDBServers:function(e){var t=this;0===this.dbServers.length?window.setInterval(function(){t.waitForDBServers(e)},300):e()},waitForCoordinators:function(e){var t=this;window.setTimeout(function(){0===t.coordinators.length?t.waitForCoordinators(e):(t.initDoneCoords=!0,e())},200)},updateServerTime:function(){this.serverTime=(new Date).getTime()}})}()},function(e,t){!function(){"use strict";window.SettingsView=Backbone.View.extend({el:"#content",readOnly:!1,initialize:function(e){this.collectionName=e.collectionName,this.model=this.collection},events:{},render:function(){this.breadcrumb(),arangoHelper.buildCollectionSubNav(this.collectionName,"Settings"),this.renderSettings()},breadcrumb:function(){$("#subNavigationBar .breadcrumb").html("Collection: "+(this.collectionName.length>64?this.collectionName.substr(0,64)+"...":this.collectionName))},unloadCollection:function(){if(!this.readOnly){var e=function(e){e?arangoHelper.arangoError("Collection error",this.model.get("name")+" could not be unloaded."):void 0===e?(this.model.set("status","unloading"),this.render()):"#collections"===window.location.hash?(this.model.set("status","unloaded"),this.render()):arangoHelper.arangoNotification("Collection "+this.model.get("name")+" unloaded.")}.bind(this);this.model.unloadCollection(e),window.modalView.hide()}},loadCollection:function(){if(!this.readOnly){var e=function(e){e?arangoHelper.arangoError("Collection error",this.model.get("name")+" could not be loaded."):void 0===e?(this.model.set("status","loading"),this.render()):"#collections"===window.location.hash?(this.model.set("status","loaded"),this.render()):arangoHelper.arangoNotification("Collection "+this.model.get("name")+" loaded.")}.bind(this);this.model.loadCollection(e),window.modalView.hide()}},truncateCollection:function(){this.readOnly||(this.model.truncateCollection(),$(".modal-delete-confirmation").hide(),window.modalView.hide())},warmupCollection:function(){this.readOnly||(this.model.warmupCollection(),$(".modal-delete-confirmation").hide(),window.modalView.hide())},deleteCollection:function(){this.readOnly||this.model.destroy({error:function(e,t){arangoHelper.arangoError("Could not drop collection: "+t.responseJSON.errorMessage)},success:function(){window.App.navigate("#collections",{trigger:!0})}})},saveModifiedCollection:function(){if(!this.readOnly){var e=function(e,t){if(e)arangoHelper.arangoError("Error","Could not get coordinator info");else{var i;i=t?this.model.get("name"):$("#change-collection-name").val();var n=this.model.get("status");if("loaded"===n){var a,r;if("rocksdb"!==frontendConfig.engine)try{a=JSON.parse(1024*$("#change-collection-size").val()*1024)}catch(h){return arangoHelper.arangoError("Please enter a valid journal size number."),0}if("rocksdb"!==frontendConfig.engine)try{if((r=JSON.parse($("#change-index-buckets").val()))<1||parseInt(r,10)!==Math.pow(2,Math.log2(r)))throw new Error("invalid indexBuckets value")}catch(h){return arangoHelper.arangoError("Please enter a valid number of index buckets."),0}var s=this,o=function(e,t){e?(s.render(),arangoHelper.arangoError("Collection error: "+t.responseJSON.errorMessage)):(arangoHelper.arangoNotification("Collection: Successfully changed."),window.App.navigate("#cSettings/"+i,{trigger:!0}))},l=function(e){var t=!1;if(e)arangoHelper.arangoError("Collection error: "+e.responseText);else{var i,n,s=$("#change-collection-sync").val();if(frontendConfig.isCluster){i=$("#change-replication-factor").val(),n=$("#change-write-concern").val();try{Number.parseInt(n)>Number.parseInt(i)&&(arangoHelper.arangoError("Change Collection","Write concern is not allowed to be greater than replication factor"),t=!0)}catch(l){}}t||this.model.changeCollection(s,a,r,i,n,o)}}.bind(this);!1===frontendConfig.isCluster?this.model.renameCollection(i,l):l()}else if("unloaded"===n)if(this.model.get("name")!==i){var c=function(e,t){e?arangoHelper.arangoError("Collection"+t.responseText):(arangoHelper.arangoNotification("CollectionSuccessfully changed."),window.App.navigate("#cSettings/"+i,{trigger:!0}))};!1===frontendConfig.isCluster?this.model.renameCollection(i,c):c()}else window.modalView.hide()}}.bind(this);window.isCoordinator(e)}},changeViewToReadOnly:function(){window.App.settingsView.readOnly=!0,$(".breadcrumb").html($(".breadcrumb").html()+" (read-only)"),$(".modal-body input").prop("disabled","true"),$(".modal-body select").prop("disabled","true"),$(".modal-footer button").addClass("disabled"),$(".modal-footer button").unbind("click")},renderSettings:function(){var e=this,t=function(t,i){if(t)arangoHelper.arangoError("Error","Could not get coordinator info");else{var n=!1;"loaded"===this.model.get("status")&&(n=!0);var a=[],r=[];i||("_"===this.model.get("name").substr(0,1)?r.push(window.modalView.createReadOnlyEntry("change-collection-name","Name",this.model.get("name"),!1,"",!0,[{rule:Joi.string().regex(/^[a-zA-Z]/),msg:"Collection name must always start with a letter."},{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only Symbols "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No collection name given."}])):r.push(window.modalView.createTextEntry("change-collection-name","Name",this.model.get("name"),!1,"",!0,[{rule:Joi.string().regex(/^[a-zA-Z]/),msg:"Collection name must always start with a letter."},{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only Symbols "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No collection name given."}])));var s=function(){r.push(window.modalView.createReadOnlyEntry("change-collection-id","ID",this.model.get("id"),"")),r.push(window.modalView.createReadOnlyEntry("change-collection-type","Type",this.model.get("type"),"")),r.push(window.modalView.createReadOnlyEntry("change-collection-status","Status",this.model.get("status"),"")),a.push(window.modalView.createDeleteButton("Delete",this.deleteCollection.bind(this))),a.push(window.modalView.createDeleteButton("Truncate",this.truncateCollection.bind(this))),"rocksdb"===frontendConfig.engine&&a.push(window.modalView.createNotificationButton("Load Indexes into Memory",this.warmupCollection.bind(this))),n?a.push(window.modalView.createNotificationButton("Unload",this.unloadCollection.bind(this))):a.push(window.modalView.createNotificationButton("Load",this.loadCollection.bind(this))),a.push(window.modalView.createSuccessButton("Save",this.saveModifiedCollection.bind(this)));window.modalView.show(["modalTable.ejs","indicesView.ejs"],"Modify Collection",a,r,null,null,this.events,null,["General","Indexes"],"content"),$($("#infoTab").children()[1]).remove()}.bind(this);if(n){this.model.getProperties(function(t,i){if(t)arangoHelper.arangoError("Collection","Could not fetch properties");else{var n=i.waitForSync;if(i.journalSize){var a=i.journalSize/1048576,o=i.indexBuckets;r.push(window.modalView.createTextEntry("change-collection-size","Journal size",a,"The maximal size of a journal or datafile (in MB). Must be at least 1.","",!0,[{rule:Joi.string().allow("").optional().regex(/^[0-9]*$/),msg:"Must be a number."}]))}o&&r.push(window.modalView.createTextEntry("change-index-buckets","Index buckets",o,"The number of index buckets for this collection. Must be at least 1 and a power of 2.","",!0,[{rule:Joi.string().allow("").optional().regex(/^[1-9][0-9]*$/),msg:"Must be a number greater than 1 and a power of 2."}])),i.replicationFactor&&frontendConfig.isCluster&&("satellite"===i.replicationFactor?(r.push(window.modalView.createReadOnlyEntry("change-replication-factor","Replication factor",i.replicationFactor,"This collection is a satellite collection. The replicationFactor is not changeable.","",!0)),r.push(window.modalView.createReadOnlyEntry("change-write-concern","Write concern",i.writeConcern,"This collection is a satellite collection. The write concern is not changeable.","",!0))):(r.push(window.modalView.createTextEntry("change-replication-factor","Replication factor",i.replicationFactor,"The replicationFactor parameter is the total number of copies being kept, that is, it is one plus the number of followers. Must be a number.","",!0,[{rule:Joi.string().allow("").optional().regex(/^[0-9]*$/),msg:"Must be a number."}])),r.push(window.modalView.createTextEntry("change-write-concern","Write concern",i.writeConcern,"Numeric value. Must be at least 1. Must be smaller or equal compared to the replication factor. Total number of copies of the data in the cluster that are required for each write operation. If we get below this value the collection will be read-only until enough copies are created.","",!0,[{rule:Joi.string().allow("").optional().regex(/^[1-9]*$/),msg:"Must be a number. Must be at least 1 and has to be smaller or equal compared to the replicationFactor."}])))),r.push(window.modalView.createSelectEntry("change-collection-sync","Wait for sync",n,"Synchronize to disk before returning from a create or update of a document.",[{value:!1,label:"No"},{value:!0,label:"Yes"}]))}s(),arangoHelper.checkCollectionPermissions(e.collectionName,e.changeViewToReadOnly.bind(this))})}else s(),arangoHelper.checkCollectionPermissions(e.collectionName,e.changeViewToReadOnly.bind(this))}}.bind(this);window.isCoordinator(t)}})}()},function(e,t){!function(){"use strict";window.ShardsView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("shardsView.ejs"),interval:1e4,knownServers:[],pending:!1,visibleCollection:null,events:{"click #shardsContent .shardLeader span":"moveShard","click #shardsContent .shardFollowers span":"moveShardFollowers","click #rebalanceShards":"rebalanceShards","click .sectionHeader":"toggleSections"},initialize:function(e){var t=this;t.dbServers=e.dbServers,clearInterval(this.intervalFunction),window.App.isCluster&&(this.updateServerTime(),this.intervalFunction=window.setInterval(function(){"#shards"===window.location.hash&&t.render(!1)},this.interval))},remove:function(){return clearInterval(this.intervalFunction),this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},renderArrows:function(e){$("#shardsContent .fa-arrow-down").removeClass("fa-arrow-down").addClass("fa-arrow-right"),$(e.currentTarget).find(".fa-arrow-right").removeClass("fa-arrow-right").addClass("fa-arrow-down")},toggleSections:function(e){var t=$(e.currentTarget).parent().attr("id");this.visibleCollection=t,$(".sectionShardContent").hide(),$(e.currentTarget).next().show(),this.renderArrows(e),this.getShardDetails(t)},renderShardDetail:function(e,t){var i=0,n=0,a=0;_.each(t.results[e].Plan,function(t,r){if(t.progress)if(0===t.progress.current){$("#"+e+"-"+r+" .shardProgress").html("<span>n/A</span>")}else i=(t.progress.current/t.progress.total*100).toString().match(/^-?\d+(?:\.\d{0,2})?/)[0]+"%",$("#"+e+"-"+r+" .shardProgress").html(i);else $("#"+e+"-"+r+" .shardProgress").html('<i class="fa fa-check-circle">'),n++;a++}),a===n?($("#"+e+" .shardSyncIcons i").addClass("fa-check-circle").removeClass(".fa-times-circle"),$("#"+e+" .notInSync").addClass("inSync").removeClass("notInSync")):$("#"+e+" .shardSyncIcons i").addClass("fa-times-circle").removeClass("fa-check-circle")},checkActiveShardDisplay:function(){var e=this;_.each($(".sectionShard"),function(t){$(t).find(".sectionShardContent").is(":visible")&&e.getShardDetails($(t).attr("id"))})},getShardDetails:function(e){var t=this,i={collection:e};$("#"+e+" .shardProgress").html('<i class="fa fa-circle-o-notch fa-spin fa-fw"></i>'),$.ajax({type:"PUT",cache:!1,data:JSON.stringify(i),url:arangoHelper.databaseUrl("/_admin/cluster/collectionShardDistribution"),contentType:"application/json",processData:!1,async:!0,success:function(i){t.renderShardDetail(e,i)},error:function(e){}})},render:function(e){if("#shards"===window.location.hash&&!1===this.pending){var t=this;t.pending=!0,$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/shardDistribution"),contentType:"application/json",processData:!1,async:!0,success:function(e){t.pending=!1;var i=!1;t.shardDistribution=e.results,_.each(e.results,function(e,t){"error"!==t&&"code"!==t&&(i=!0)}),i?t.continueRender(e.results):arangoHelper.renderEmpty("No collections and no shards available"),t.checkActiveShardDisplay()},error:function(e){0!==e.readyState&&arangoHelper.arangoError("Cluster","Could not fetch sharding information.")}}),!1!==e&&arangoHelper.buildNodesSubNav("Shards")}},moveShardFollowers:function(e){var t=$(e.currentTarget).html();this.moveShard(e,t)},moveShard:function(e,t){var i,n,a,r,s=this,o=window.App.currentDB.get("name");n=$(e.currentTarget).parent().parent().attr("collection"),a=$(e.currentTarget).parent().parent().attr("shard"),t?(r=$(e.currentTarget).parent().parent().attr("leader"),r=arangoHelper.getDatabaseServerId(r),i=arangoHelper.getDatabaseServerId(t)):(i=$(e.currentTarget).parent().parent().attr("leader"),i=arangoHelper.getDatabaseServerId(i));var l=[],c=[],h={},d=[];s.dbServers[0].fetch({success:function(){s.dbServers[0].each(function(e){e.get("id")!==i&&(h[e.get("name")]={value:e.get("id"),label:e.get("name")})}),_.each(s.shardDistribution[n].Plan[a].followers,function(e){delete h[e]}),t&&delete h[arangoHelper.getDatabaseShortName(r)],_.each(h,function(e){d.push(e)}),0!==(d=d.reverse()).length?(c.push(window.modalView.createSelectEntry("toDBServer","Destination",void 0,"Please select the target database server. The selected database server will be the new leader of the shard.",d)),l.push(window.modalView.createSuccessButton("Move",s.confirmMoveShards.bind(this,o,n,a,i))),window.modalView.show("modalTable.ejs","Move shard: "+a,l,c)):arangoHelper.arangoMessage("Shards","No database server for moving the shard is available.")}})},confirmMoveShards:function(e,t,i,n){var a=$("#toDBServer").val(),r={database:e,collection:t,shard:i,fromServer:n,toServer:a};$.ajax({type:"POST",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/moveShard"),contentType:"application/json",processData:!1,data:JSON.stringify(r),async:!0,success:function(e){e.id&&(arangoHelper.arangoNotification("Shard "+i+" will be moved to "+arangoHelper.getDatabaseShortName(a)+"."),window.setTimeout(function(){window.App.shardsView.render()},3e3))},error:function(){arangoHelper.arangoError("Shard "+i+" could not be moved to "+arangoHelper.getDatabaseShortName(a)+".")}}),window.modalView.hide()},rebalanceShards:function(){var e=this;$.ajax({type:"POST",cache:!1,url:arangoHelper.databaseUrl("/_admin/cluster/rebalanceShards"),contentType:"application/json",processData:!1,data:JSON.stringify({}),async:!0,success:function(t){!0===t&&(window.setTimeout(function(){e.render(!1)},3e3),arangoHelper.arangoNotification("Started rebalance process."))},error:function(){arangoHelper.arangoError("Could not start rebalance process.")}}),window.modalView.hide()},continueRender:function(e){delete e.code,delete e.error,_.each(e,function(t,i){var n={Plan:{},Current:{}};if(i.startsWith("_local_")){var a=i.substr(7,i.length-1),r=["_local_"+a,"_from_"+a,"_to_"+a,a],s=0;_.each(r,function(t,i){_.each(e[r[s]].Current,function(e,t){n.Current[t]=e}),_.each(e[r[s]].Plan,function(e,t){n.Plan[t]=e}),delete e[r[s]],e[a]=n,s++})}});var t={};Object.keys(e).sort(function(e,t){return"_"===e[0]&&"_"!==t[0]?1:"_"!==e[0]&&"_"===t[0]?-1:e===t?0:e<t?-1:1}).forEach(function(i){t[i]=e[i]}),this.$el.html(this.template.render({collections:t,visible:this.visibleCollection})),1===$(".sectionShard").length&&$(".sectionHeader").first().click(),$(".innerContent").css("min-height","0px")},updateServerTime:function(){this.serverTime=(new Date).getTime()}})}()},function(e,t){!function(){"use strict";window.ShowClusterView=Backbone.View.extend({detailEl:"#modalPlaceholder",el:"#content",defaultFrame:12e5,template:templateEngine.createTemplate("showCluster.ejs"),modal:templateEngine.createTemplate("waitModal.ejs"),detailTemplate:templateEngine.createTemplate("detailView.ejs"),events:{"change #selectDB":"updateCollections","change #selectCol":"updateShards","click .dbserver.success":"dashboard","click .coordinator.success":"dashboard"},replaceSVGs:function(){$(".svgToReplace").each(function(){var e=$(this),t=e.attr("id"),i=e.attr("src");$.get(i,function(i){var n=$(i).find("svg");n.attr("id",t).attr("class","icon").removeAttr("xmlns:a"),e.replaceWith(n)},"xml")})},updateServerTime:function(){this.serverTime=(new Date).getTime()},setShowAll:function(){this.graphShowAll=!0},resetShowAll:function(){this.graphShowAll=!1,this.renderLineChart()},initialize:function(e){this.options=e,this.interval=1e4,this.isUpdating=!1,this.timer=null,this.knownServers=[],this.graph=void 0,this.graphShowAll=!1,this.updateServerTime(),this.dygraphConfig=this.options.dygraphConfig,this.dbservers=new window.ClusterServers([],{interval:this.interval}),this.coordinators=new window.ClusterCoordinators([],{interval:this.interval}),this.documentStore=new window.ArangoDocuments,this.statisticsDescription=new window.StatisticsDescription,this.statisticsDescription.fetch({async:!1}),this.dbs=new window.ClusterDatabases([],{interval:this.interval}),this.cols=new window.ClusterCollections,this.shards=new window.ClusterShards,this.startUpdating()},listByAddress:function(e){var t=this;this.dbservers.byAddress({},function(i){t.coordinators.byAddress(i,e)})},updateCollections:function(){var e=this,t=$("#selectCol"),i=$("#selectDB").find(":selected").attr("id");if(i){var n=t.find(":selected").attr("id");t.html(""),this.cols.getList(i,function(i){_.each(_.pluck(i,"name"),function(e){t.append('<option id="'+e+'">'+e+"</option>")});var a=$("#"+n,t);1===a.length&&a.prop("selected",!0),e.updateShards()})}},updateShards:function(){var e=$("#selectDB").find(":selected").attr("id"),t=$("#selectCol").find(":selected").attr("id");this.shards.getList(e,t,function(e){$(".shardCounter").html("0"),_.each(e,function(e){$("#"+e.server+"Shards").html(e.shards.length)})})},updateServerStatus:function(e){var t=this,i=function(e,t,i){var n,a,r=i;r=(r=r.replace(/\./g,"-")).replace(/:/g,"_"),(a=$("#id"+r)).length<1||(n=a.attr("class").split(/\s+/)[1],a.attr("class",e+" "+n+" "+t),"coordinator"===e&&("success"===t?$(".button-gui",a.closest(".tile")).toggleClass("button-gui-disabled",!1):$(".button-gui",a.closest(".tile")).toggleClass("button-gui-disabled",!0)))};this.coordinators.getStatuses(i.bind(this,"coordinator"),function(){t.dbservers.getStatuses(i.bind(t,"dbserver")),e()})},updateDBDetailList:function(){var e=this,t=$("#selectDB"),i=t.find(":selected").attr("id");t.html(""),this.dbs.getList(function(n){_.each(_.pluck(n,"name"),function(e){t.append('<option id="'+e+'">'+e+"</option>")});var a=$("#"+i,t);1===a.length&&a.prop("selected",!0),e.updateCollections()})},rerender:function(){var e=this;this.updateServerStatus(function(){e.getServerStatistics(function(){e.updateServerTime(),e.data=e.generatePieData(),e.renderPieChart(e.data),e.renderLineChart(),e.updateDBDetailList()})})},render:function(){this.knownServers=[],delete this.hist;var e=this;this.listByAddress(function(t){1===Object.keys(t).length?e.type="testPlan":e.type="other",e.updateDBDetailList(),e.dbs.getList(function(i){$(e.el).html(e.template.render({dbs:_.pluck(i,"name"),byAddress:t,type:e.type})),$(e.el).append(e.modal.render({})),e.replaceSVGs(),e.getServerStatistics(function(){e.data=e.generatePieData(),e.renderPieChart(e.data),e.renderLineChart(),e.updateDBDetailList(),e.startUpdating()})})})},generatePieData:function(){var e=[],t=this;return this.data.forEach(function(i){e.push({key:i.get("name"),value:i.get("system").virtualSize,time:t.serverTime})}),e},addStatisticsItem:function(e,t,i,n){this.hasOwnProperty("hist")||(this.hist={}),this.hist.hasOwnProperty(e)||(this.hist[e]=[]);var a=this.hist[e],r=a.length;if(0===r)a.push({time:t,snap:n,requests:i,requestsPerSecond:0});else{var s=a[r-1].time,o=a[r-1].requests;if(o<i){var l=t-s,c=0;l>0&&(c=(i-o)/l),a.push({time:t,snap:n,requests:i,requestsPerSecond:c})}}},getServerStatistics:function(e){var t=this,i=Math.round(t.serverTime/1e3);this.data=void 0;var n=new window.ClusterStatisticsCollection,a=this.coordinators.first();this.dbservers.forEach(function(e){if("ok"===e.get("status")){-1===t.knownServers.indexOf(e.id)&&t.knownServers.push(e.id);var i=new window.Statistics({name:e.id});i.url=a.get("protocol")+"://"+a.get("address")+"/_admin/clusterStatistics?DBserver="+e.get("name"),n.add(i)}}),this.coordinators.forEach(function(e){if("ok"===e.get("status")){-1===t.knownServers.indexOf(e.id)&&t.knownServers.push(e.id);var i=new window.Statistics({name:e.id});i.url=e.get("protocol")+"://"+e.get("address")+"/_admin/statistics",n.add(i)}});var r=n.size();this.data=[];n.fetch(function(n){r--;var a=n.get("time"),s=n.get("name"),o=n.get("http").requestsTotal;t.addStatisticsItem(s,a,o,i),t.data.push(n),0===r&&e()},function(){0===--r&&e()})},renderPieChart:function(e){var t=$("#clusterGraphs svg").width(),i=$("#clusterGraphs svg").height(),n=Math.min(t,i)/2,a=this.dygraphConfig.colors,r=d3.svg.arc().outerRadius(n-20).innerRadius(0),s=d3.layout.pie().sort(function(e){return e.value}).value(function(e){return e.value});d3.select("#clusterGraphs").select("svg").remove();var o=d3.select("#clusterGraphs").append("svg").attr("class","clusterChart").append("g").attr("transform","translate("+t/2+","+(i/2-10)+")"),l=d3.svg.arc().outerRadius(n-2).innerRadius(n-2),c=o.selectAll(".arc").data(s(e)).enter().append("g").attr("class","slice");c.append("path").attr("d",r).style("fill",function(e,t){return a[t%a.length]}).style("stroke",function(e,t){return a[t%a.length]}),c.append("text").attr("transform",function(e){return"translate("+r.centroid(e)+")"}).style("text-anchor","middle").text(function(e){return(e.data.value/1024/1024/1024).toFixed(2)}),c.append("text").attr("transform",function(e){return"translate("+l.centroid(e)+")"}).style("text-anchor","middle").text(function(e){return e.data.key})},renderLineChart:function(){var e,t,i,n,a,r,s=[],o=[],l=Math.round((new Date).getTime()/1e3)-1200,c=this.knownServers,h=function(){return null};for(i=0;i<c.length;++i)if(t=this.hist[c[i]])for(n=0;n<t.length;++n)(r=t[n].snap)<l||(o.hasOwnProperty(r)?e=o[r]:(a=new Date(1e3*r),e=o[r]=[a].concat(c.map(h))),e[i+1]=t[n].requestsPerSecond);s=[],Object.keys(o).sort().forEach(function(e){s.push(o[e])});var d=this.dygraphConfig.getDefaultConfig("clusterRequestsPerSecond");d.labelsDiv=$("#lineGraphLegend")[0],d.labels=["datetime"].concat(c),this.graph=new Dygraph(document.getElementById("lineGraph"),s,d)},stopUpdating:function(){window.clearTimeout(this.timer),delete this.graph,this.isUpdating=!1},startUpdating:function(){if(!this.isUpdating){this.isUpdating=!0;var e=this;this.timer=window.setInterval(function(){e.rerender()},this.interval)}},dashboard:function(e){this.stopUpdating();var t,i,n=$(e.currentTarget),a={},r=n.attr("id");r=(r=(r=r.replace(/-/g,".")).replace(/_/g,":")).substr(2),a.raw=r,a.isDBServer=n.hasClass("dbserver"),a.isDBServer?(t=this.dbservers.findWhere({address:a.raw}),i=this.coordinators.findWhere({status:"ok"}),a.endpoint=i.get("protocol")+"://"+i.get("address")):(t=this.coordinators.findWhere({address:a.raw}),a.endpoint=t.get("protocol")+"://"+t.get("address")),a.target=encodeURIComponent(t.get("name")),window.App.serverToShow=a,window.App.dashboard()},getCurrentSize:function(e){return"#"!==e.substr(0,1)&&(e="#"+e),$(e).attr("style",""),{height:$(e).height(),width:$(e).width()}},resize:function(){var e;this.graph&&(e=this.getCurrentSize(this.graph.maindiv_.id),this.graph.resize(e.width,e.height))}})}()},function(e,t){!function(){"use strict";window.SpotlightView=Backbone.View.extend({template:templateEngine.createTemplate("spotlightView.ejs"),el:"#spotlightPlaceholder",displayLimit:8,typeahead:null,callbackSuccess:null,callbackCancel:null,collections:{system:[],doc:[],edge:[]},events:{"focusout #spotlight .tt-input":"hide","keyup #spotlight .typeahead":"listenKey"},aqlKeywordsArray:[],aqlBuiltinFunctionsArray:[],aqlKeywords:"for|return|filter|search|sort|limit|let|collect|asc|desc|in|into|insert|update|remove|replace|upsert|options|with|and|or|not|distinct|graph|shortest_path|outbound|inbound|any|all|none|aggregate|like|count",hide:function(){this.typeahead=$("#spotlight .typeahead").typeahead("destroy"),$(this.el).hide()},listenKey:function(e){if(27===e.keyCode)this.callbackSuccess&&this.callbackCancel(),this.hide();else if(13===e.keyCode&&this.callbackSuccess){var t=$(this.typeahead).val();this.callbackSuccess(t),this.hide()}},substringMatcher:function(e){return function(t,i){var n,a;n=[],a=new RegExp(t,"i"),_.each(e,function(e){a.test(e)&&n.push(e)}),i(n)}},updateDatasets:function(){var e=this;this.collections={system:[],doc:[],edge:[]},window.App.arangoCollectionsStore.each(function(t){t.get("isSystem")?e.collections.system.push(t.get("name")):"document"===t.get("type")?e.collections.doc.push(t.get("name")):e.collections.edge.push(t.get("name"))})},stringToArray:function(){var e=this;_.each(this.aqlKeywords.split("|"),function(t){e.aqlKeywordsArray.push(t.toUpperCase())}),e.aqlKeywordsArray.push(!0),e.aqlKeywordsArray.push(!1),e.aqlKeywordsArray.push(null)},fetchKeywords:function(e){var t=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/aql-builtin"),contentType:"application/json",success:function(i){t.stringToArray(),t.updateDatasets(),_.each(i.functions,function(e){t.aqlBuiltinFunctionsArray.push(e.name)}),e&&e()},error:function(){e&&e(),arangoHelper.arangoError("AQL","Could not fetch AQL function definition.")}})},show:function(e,t,i){var n=this;this.callbackSuccess=e,this.callbackCancel=t;var a=function(){var e=function(e,t,i){var n='<div class="header-type"><h4>'+e+"</h4>";return t&&(n+='<span><i class="fa '+t+'"></i></span>'),i&&(n+='<span class="type">'+i.toUpperCase()+"</span>"),n+="</div>"};$(this.el).html(this.template.render({})),$(this.el).show(),this.typeahead="aql"===i?$("#spotlight .typeahead").typeahead({hint:!0,highlight:!0,minLength:1},{name:"Functions",source:n.substringMatcher(n.aqlBuiltinFunctionsArray),limit:n.displayLimit,templates:{header:e("Functions","fa-code","aql")}},{name:"Keywords",source:n.substringMatcher(n.aqlKeywordsArray),limit:n.displayLimit,templates:{header:e("Keywords","fa-code","aql")}},{name:"Documents",source:n.substringMatcher(n.collections.doc),limit:n.displayLimit,templates:{header:e("Documents","fa-file-text-o","Collection")}},{name:"Edges",source:n.substringMatcher(n.collections.edge),limit:n.displayLimit,templates:{header:e("Edges","fa-share-alt","Collection")}},{name:"System",limit:n.displayLimit,source:n.substringMatcher(n.collections.system),templates:{header:e("System","fa-cogs","Collection")}}):$("#spotlight .typeahead").typeahead({hint:!0,highlight:!0,minLength:1},{name:"Documents",source:n.substringMatcher(n.collections.doc),limit:n.displayLimit,templates:{header:e("Documents","fa-file-text-o","Collection")}},{name:"Edges",source:n.substringMatcher(n.collections.edge),limit:n.displayLimit,templates:{header:e("Edges","fa-share-alt","Collection")}},{name:"System",limit:n.displayLimit,source:n.substringMatcher(n.collections.system),templates:{header:e("System","fa-cogs","Collection")}}),$("#spotlight .typeahead").focus()}.bind(this);0===n.aqlBuiltinFunctionsArray.length?this.fetchKeywords(a):a()}})}()},function(e,t){!function(){"use strict";window.StatisticBarView=Backbone.View.extend({el:"#statisticBar",events:{"change #arangoCollectionSelect":"navigateBySelect","click .tab":"navigateByTab"},template:templateEngine.createTemplate("statisticBarView.ejs"),initialize:function(e){this.currentDB=e.currentDB},replaceSVG:function(e){var t=e.attr("id"),i=e.attr("class"),n=e.attr("src");$.get(n,function(n){var a=$(n).find("svg");void 0===t&&(a=a.attr("id",t)),void 0===i&&(a=a.attr("class",i+" replaced-svg")),a=a.removeAttr("xmlns:a"),e.replaceWith(a)},"xml")},render:function(){var e=this;return $(this.el).html(this.template.render({isSystem:this.currentDB.get("isSystem")})),$("img.svg").each(function(){e.replaceSVG($(this))}),this},navigateBySelect:function(){var e=$("#arangoCollectionSelect").find("option:selected").val();window.App.navigate(e,{trigger:!0})},navigateByTab:function(e){var t=(e.target||e.srcElement).id;return"links"===t?($("#link_dropdown").slideToggle(200),void e.preventDefault()):"tools"===t?($("#tools_dropdown").slideToggle(200),void e.preventDefault()):(window.App.navigate(t,{trigger:!0}),void e.preventDefault())},handleSelectNavigation:function(){$("#arangoCollectionSelect").change(function(){var e=$(this).find("option:selected").val();window.App.navigate(e,{trigger:!0})})},selectMenuItem:function(e){$(".navlist li").removeClass("active"),e&&$("."+e).addClass("active")}})}()},function(e,t){!function(){"use strict";window.StoreDetailView=Backbone.View.extend({el:"#content",divs:["#readme","#swagger","#app-info","#sideinformation","#information","#settings"],navs:["#service-info","#service-api","#service-readme","#service-settings"],template:templateEngine.createTemplate("storeDetailView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #installService":"installService"},installService:function(){arangoHelper.createMountPointModal(this.installFoxxFromStore.bind(this))},installCallback:function(e){window.App.navigate("#services",{trigger:!0}),window.App.applicationsView.installCallback(e)},installFoxxFromStore:function(e){var t,i,n;window.modalView.modalTestAll()&&(this._upgrade?t=this.mount:"/"!==(t=window.arangoHelper.escapeHtml($("#new-app-mount").val())).charAt(0)&&(t="/"+t),i={name:this.model.get("name"),version:this.model.get("latestVersion")},n=arangoHelper.getFoxxFlags(),this.collection.install("store",i,t,n,this.installCallback.bind(this)),window.modalView.hide(),arangoHelper.arangoNotification("Services","Installing "+this.model.get("name")+"."))},resize:function(e){e?$(".innerContent").css("height","auto"):$(".innerContent").height($(".centralRow").height()-150)},render:function(){var e=this;return this.model.fetchThumbnail(function(t){var i=function(t,i){if(t)arangoHelper.arangoError("DB","Could not get current database");else{var n=this.model.get("defaultThumbnailUrl");if(this.model.get("manifest"))try{this.model.get("manifest").thumbnail&&(n=this.model.getThumbnailUrl())}catch(a){}$(this.el).html(this.template.render({app:this.model,baseUrl:arangoHelper.databaseUrl("",i),installed:!0,image:n})),this.model.fetchReadme(e.renderReadme)}this.breadcrumb()}.bind(this);arangoHelper.currentDatabase(i),_.isEmpty(this.model.get("config"))&&$("#service-settings").attr("disabled",!0)}.bind(this)),this.resize(!1),$(this.el)},renderReadme:function(e){var t=marked(e);$("#readme").html(t)},breadcrumb:function(){var e="Service: "+this.model.get("name")+'<i class="fa fa-ellipsis-v" aria-hidden="true"></i>',t='<p class="mount"><span>Contributors:</span>';this.model.get("contributors")&&this.model.get("contributors").length>0?_.each(this.model.get("contributors"),function(e){e.email?t+='<a href="mailto:'+e.email+'">'+(e.name||e.email)+"</a>":e.name&&(t+="<a>contributor.name</a>")}):t+="No contributors",t+="</p>",$(".information").append(t),this.model.get("author")&&$(".information").append('<p class="mount"><span>Author:</span>'+this.model.get("author")+"</p>"),this.model.get("mount")&&$(".information").append('<p class="mount"><span>Mount:</span>'+this.model.get("mount")+"</p>"),this.model.get("development")&&this.model.get("path")&&$(".information").append('<p class="path"><span>Path:</span>'+this.model.get("path")+"</p>"),$("#subNavigationBar .breadcrumb").html(e)},storeUrl:function(e){return arangoHelper.databaseUrl(this.model.get("mount"),e)}})}()},function(e,t){!function(){"use strict";window.SupportView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("supportView.ejs"),events:{"click .subViewNavbar .subMenuEntry":"toggleViews"},render:function(){this.$el.html(this.template.render({parsedVersion:window.versionHelper.toDocuVersion(window.frontendConfig.version.version)}))},resize:function(e){e?$(".innerContent").css("height","auto"):$(".innerContent").height($(".centralRow").height()-170)},renderSwagger:function(){var e=window.location.pathname.split("/"),t=window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/"+e[1]+"/"+e[2]+"/_admin/aardvark/api/index.html";$("#swagger").html(""),$("#swagger").append('<iframe src="'+t+'" style="border:none"></iframe>')},toggleViews:function(e){var t=this,i=e.currentTarget.id.split("-")[0];_.each(["community","documentation","swagger"],function(e){i!==e?$("#"+e).hide():("swagger"===i?(t.renderSwagger(),$("#swagger iframe").css("height","100%"),$("#swagger iframe").css("width","100%"),$("#swagger iframe").css("margin-top","-13px"),t.resize()):t.resize(!0),$("#"+e).show())}),$(".subMenuEntries").children().removeClass("active"),$("#"+i+"-support").addClass("active")}})}()},function(e,t){!function(){"use strict";window.TableView=Backbone.View.extend({template:templateEngine.createTemplate("tableView.ejs"),loading:templateEngine.createTemplate("loadingTableView.ejs"),initialize:function(e){this.rowClickCallback=e.rowClick},events:{"click .pure-table-body .pure-table-row":"rowClick","click .deleteButton":"removeClick"},rowClick:function(e){this.hasOwnProperty("rowClickCallback")&&this.rowClickCallback(e)},removeClick:function(e){this.hasOwnProperty("removeClickCallback")&&(this.removeClickCallback(e),e.stopPropagation())},setRowClick:function(e){this.rowClickCallback=e},setRemoveClick:function(e){this.removeClickCallback=e},render:function(){$(this.el).html(this.template.render({docs:this.collection}))},drawLoading:function(){$(this.el).html(this.loading.render({}))}})}()},function(e,t){!function(){"use strict";window.UserBarView=Backbone.View.extend({events:{"change #userBarSelect":"navigateBySelect","click .tab":"navigateByTab","mouseenter .dropdown":"showDropdown","mouseleave .dropdown":"hideDropdown","click #userLogoutIcon":"userLogout","click #userLogout":"userLogout"},initialize:function(e){arangoHelper.checkDatabasePermissions(this.setUserCollectionMode.bind(this)),this.userCollection=e.userCollection,this.userCollection.fetch({cache:!1,async:!0}),this.userCollection.bind("change:extra",this.render.bind(this))},setUserCollectionMode:function(e){e&&(this.userCollection.authOptions.ro=!0)},template:templateEngine.createTemplate("userBarView.ejs"),navigateBySelect:function(){var e=$("#arangoCollectionSelect").find("option:selected").val();window.App.navigate(e,{trigger:!0})},navigateByTab:function(e){var t=e.target||e.srcElement,i=(t=$(t).closest("a")).attr("id");if("user"===i)return $("#user_dropdown").slideToggle(200),void e.preventDefault();window.App.navigate(i,{trigger:!0}),e.preventDefault()},toggleUserMenu:function(){$("#userBar .subBarDropdown").toggle()},showDropdown:function(){$("#user_dropdown").fadeIn(1)},hideDropdown:function(){$("#user_dropdown").fadeOut(1)},render:function(){if(!1!==frontendConfig.authenticationEnabled){var e=this;$("#userBar").on("click",function(){e.toggleUserMenu()}),this.userCollection.whoAmI(function(t,i){if(t)arangoHelper.arangoErro("User","Could not fetch user.");else{var n=null,a=null,r=!1,s=null;if(!1!==i){var o=function(){return frontendConfig.ldapEnabled&&e.userCollection.add({name:window.App.currentUser,user:window.App.currentUser,username:window.App.currentUser,active:!0,img:void 0}),(s=e.userCollection.findWhere({user:i})).set({loggedIn:!0}),a=s.get("extra").name,n=s.get("extra").img,r=s.get("active"),n=n?"https://s.gravatar.com/avatar/"+n+"?s=80":"img/default_user.png",a||(a=""),e.$el=$("#userBar"),e.$el.html(e.template.render({img:n,name:a,username:i,active:r})),e.delegateEvents(),e.$el};0===e.userCollection.models.length?e.userCollection.fetch({success:function(){o()}}):o()}}})}},userLogout:function(){var e=function(e){e?arangoHelper.arangoError("User","Logout error"):this.userCollection.logout()}.bind(this);this.userCollection.whoAmI(e)}})}()},function(e,t){!function(){"use strict";window.UserManagementView=Backbone.View.extend({el:"#content",el2:"#userManagementThumbnailsIn",template:templateEngine.createTemplate("userManagementView.ejs"),remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #createUser":"createUser","click #submitCreateUser":"submitCreateUser","click #userManagementThumbnailsIn .tile":"editUser","click #submitEditUser":"submitEditUser","click #userManagementToggle":"toggleView","keyup #userManagementSearchInput":"search","click #userManagementSearchSubmit":"search","click #callEditUserPassword":"editUserPassword","click #submitEditUserPassword":"submitEditUserPassword","click #submitEditCurrentUserProfile":"submitEditCurrentUserProfile","click .css-label":"checkBoxes","change #userSortDesc":"sorting"},dropdownVisible:!1,initialize:function(){var e=this,t=function(e,t){!0===frontendConfig.authenticationEnabled&&(e||null===t?arangoHelper.arangoError("User","Could not fetch user data"):this.currentUser=this.collection.findWhere({user:t}))}.bind(this);this.collection.fetch({fetchAllUsers:!0,cache:!1,success:function(){e.collection.whoAmI(t)}})},checkBoxes:function(e){var t=e.currentTarget.id;$("#"+t).click()},sorting:function(){$("#userSortDesc").is(":checked")?this.collection.setSortingDesc(!0):this.collection.setSortingDesc(!1),$("#userManagementDropdown").is(":visible")?this.dropdownVisible=!0:this.dropdownVisible=!1,this.render()},render:function(e){var t=!1;$("#userManagementDropdown").is(":visible")&&(t=!0);var i=function(){this.collection.sort(),$(this.el).html(this.template.render({collection:this.collection,searchString:""})),!0===t&&($("#userManagementDropdown2").show(),$("#userSortDesc").attr("checked",this.collection.sortOptions.desc),$("#userManagementToggle").toggleClass("activated"),$("#userManagementDropdown").show()),e&&this.editCurrentUser(),arangoHelper.setCheckboxStatus("#userManagementDropdown")}.bind(this);return this.collection.fetch({fetchAllUsers:!0,cache:!1,success:function(){i()}}),this},search:function(){var e,t,i,n;e=$("#userManagementSearchInput"),t=arangoHelper.escapeHtml($("#userManagementSearchInput").val()),n=this.collection.filter(function(e){return-1!==e.get("user").indexOf(t)}),$(this.el).html(this.template.render({collection:n,searchString:t})),i=(e=$("#userManagementSearchInput")).val().length,e.focus(),e[0].setSelectionRange(i,i)},createUser:function(e){e.preventDefault(),this.createCreateUserModal()},submitCreateUser:function(){var e=this,t=$("#newUsername").val(),i=$("#newName").val(),n=$("#newPassword").val(),a=$("#newStatus").is(":checked");if(this.validateUserInfo(i,t,n,a)){var r={user:t,passwd:n,active:a,extra:{name:i}};frontendConfig.isEnterprise&&$("#newRole").is(":checked")&&(r.user=":role:"+t,delete r.passwd),this.collection.create(r,{wait:!0,error:function(e,t){arangoHelper.parseError("User",t,e)},success:function(){e.updateUserManagement(),window.modalView.hide()}})}},validateUserInfo:function(e,t,i,n){return""!==t||(arangoHelper.arangoError("You have to define an username"),$("#newUsername").closest("th").css("backgroundColor","red"),!1)},updateUserManagement:function(){var e=this;this.collection.fetch({fetchAllUsers:!0,cache:!1,success:function(){e.render()}})},editUser:function(e){if("createUser"!==$(e.currentTarget).find("a").attr("id")){$(e.currentTarget).hasClass("tile")&&($(e.currentTarget).find(".fa").attr("id")?e.currentTarget=$(e.currentTarget).find(".fa"):e.currentTarget=$(e.currentTarget).find(".icon")),this.collection.fetch({fetchAllUsers:!0,cache:!1});var t=this.evaluateUserName($(e.currentTarget).attr("id"),"_edit-user");""===t&&(t=$(e.currentTarget).attr("id")),window.App.navigate("user/"+encodeURIComponent(t),{trigger:!0})}},toggleView:function(){$("#userSortDesc").attr("checked",this.collection.sortOptions.desc),$("#userManagementToggle").toggleClass("activated"),$("#userManagementDropdown2").slideToggle(200)},createCreateUserModal:function(){var e=[],t=[];t.push(window.modalView.createTextEntry("newUsername","Username","",!1,"Username",!0,[{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only symbols, "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No username given."}])),t.push(window.modalView.createTextEntry("newName","Name","",!1,"Name",!1)),t.push(window.modalView.createPasswordEntry("newPassword","Password","",!1,"",!1)),frontendConfig.isEnterprise&&t.push(window.modalView.createCheckboxEntry("newRole","Role",!1,!1,!1)),t.push(window.modalView.createCheckboxEntry("newStatus","Active","active",!1,!0)),e.push(window.modalView.createSuccessButton("Create",this.submitCreateUser.bind(this))),window.modalView.show("modalTable.ejs","Create New User",e,t),frontendConfig.isEnterprise&&$("#newRole").on("change",function(){$("#newRole").is(":checked")?$("#newPassword").attr("disabled",!0):$("#newPassword").attr("disabled",!1)})},evaluateUserName:function(e,t){if(e){var i=e.lastIndexOf(t);return e.substring(0,i)}},updateUserProfile:function(){var e=this;this.collection.fetch({fetchAllUsers:!0,cache:!1,success:function(){e.render()}})}})}()},function(e,t){!function(){"use strict";window.UserPermissionView=Backbone.View.extend({el:"#content",template:templateEngine.createTemplate("userPermissionView.ejs"),initialize:function(e){this.username=e.username},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #userPermissionView .dbCheckbox":"setDBPermission","click #userPermissionView .collCheckbox":"setCollPermission","click .db-row":"toggleAccordion"},render:function(e,t){var i=this;this.collection.fetch({fetchAllUsers:!0,success:function(){i.continueRender(e,t)}})},toggleAccordion:function(e){if(!$(e.target).attr("type")&&!$(e.target).parent().hasClass("noAction")&&!$(e.target).hasClass("inner")&&!$(e.target).is("span")){var t=$(e.currentTarget).find(".collection-row").is(":visible"),i=$(e.currentTarget).attr("id").split("-")[0];$(".collection-row").hide(),$(".db-label").css("font-weight",200),$(".db-label").css("color","#8a969f"),$(e.currentTarget).find(".collection-row").children().length>4?($(".db-row .fa-caret-down").hide(),$(".db-row .fa-caret-right").show(),t?$(e.currentTarget).find(".collection-row").hide():($(e.currentTarget).find(".collection-row").fadeIn("fast"),$(e.currentTarget).find(".db-label").css("font-weight",600),$(e.currentTarget).find(".db-label").css("color","rgba(64, 74, 83, 1)"),$(e.currentTarget).find(".fa-caret-down").show(),$(e.currentTarget).find(".fa-caret-right").hide())):($(".db-row .fa-caret-down").hide(),$(".db-row .fa-caret-right").show(),arangoHelper.arangoNotification("Permissions",'No collections in "'+i+'" available.'))}},setCollPermission:function(e){var t,i=$(e.currentTarget).attr("db"),n=$(e.currentTarget).attr("collection");t=$(e.currentTarget).hasClass("readOnly")?"ro":$(e.currentTarget).hasClass("readWrite")?"rw":$(e.currentTarget).hasClass("noAccess")?"none":"undefined",this.sendCollPermission(this.currentUser.get("user"),i,n,t)},setDBPermission:function(e){var t,i=$(e.currentTarget).attr("name");if(t=$(e.currentTarget).hasClass("readOnly")?"ro":$(e.currentTarget).hasClass("readWrite")?"rw":$(e.currentTarget).hasClass("noAccess")?"none":"undefined","_system"===i){var n=[],a=[];a.push(window.modalView.createReadOnlyEntry("db-system-revoke-button","Caution","You are changing the _system database permission. Really continue?",void 0,void 0,!1)),n.push(window.modalView.createSuccessButton("Ok",this.sendDBPermission.bind(this,this.currentUser.get("user"),i,t))),n.push(window.modalView.createCloseButton("Cancel",this.rollbackInputButton.bind(this,i))),window.modalView.show("modalTable.ejs","Change _system Database Permission",n,a)}else this.sendDBPermission(this.currentUser.get("user"),i,t)},rollbackInputButton:function(e,t){var i;_.each($(".collection-row"),function(e,t){$(e).is(":visible")&&(i=$(e).parent().attr("id"))}),i?this.render(i,t):this.render(),window.modalView.hide()},sendCollPermission:function(e,t,i,n){var a=this;"undefined"===n?this.revokeCollPermission(e,t,i):$.ajax({type:"PUT",url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(e)+"/database/"+encodeURIComponent(t)+"/"+encodeURIComponent(i)),contentType:"application/json",data:JSON.stringify({grant:n})}).success(function(e){a.styleDefaultRadios(null,!0)}).error(function(e){a.rollbackInputButton(null,e)})},revokeCollPermission:function(e,t,i){var n=this;$.ajax({type:"DELETE",url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(e)+"/database/"+encodeURIComponent(t)+"/"+encodeURIComponent(i)),contentType:"application/json"}).success(function(e){n.styleDefaultRadios(null,!0)}).error(function(e){n.rollbackInputButton(null,e)})},sendDBPermission:function(e,t,i){var n=this;"undefined"===i?this.revokeDBPermission(e,t):$.ajax({type:"PUT",url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(e)+"/database/"+encodeURIComponent(t)),contentType:"application/json",data:JSON.stringify({grant:i})}).success(function(e){n.styleDefaultRadios(null,!0)}).error(function(e){n.rollbackInputButton(null,e)})},revokeDBPermission:function(e,t){var i=this;$.ajax({type:"DELETE",url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(e)+"/database/"+encodeURIComponent(t)),contentType:"application/json"}).success(function(e){i.styleDefaultRadios(null,!0)}).error(function(e){i.rollbackInputButton(null,e)})},continueRender:function(e,t){var i=this;this.currentUser=this.collection.findWhere({user:this.username});var n=arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(i.currentUser.get("user"))+"/database?full=true");$.ajax({type:"GET",url:n,contentType:"application/json",success:function(n){i.finishRender(n.result,e,t)},error:function(e){arangoHelper.arangoError("User","Could not fetch user permissions")}})},finishRender:function(e,t,i){var n=_.pairs(e);n.sort(),n=_.object(n),$(this.el).html(this.template.render({permissions:n})),$(".noAction").first().appendTo(".pure-table-body"),$(".pure-table-body").height(window.innerHeight-200),t&&$("#"+t).click(),i&&i.responseJSON&&i.responseJSON.errorMessage&&arangoHelper.arangoError("User",i.responseJSON.errorMessage),this.styleDefaultRadios(e),arangoHelper.createTooltips(),this.checkRoot(),this.breadcrumb()},checkRoot:function(){"root"===this.currentUser.get("user")&&$("#_system-db #___-collection input").attr("disabled","true")},styleDefaultRadios:function(e,t){var i=function(e){$(".db-row input").css("box-shadow","none");var t="rgba(0, 0, 0, 0.3) 0px 1px 4px 4px";_.each(e,function(e,i){if(e.collections){var n=e.collections["*"];_.each(e.collections,function(e,a){"_"!==a.charAt(0)&&"*"!==a.charAt(0)&&"undefined"===e&&("rw"===n?$("#"+i+"-db #"+a+"-collection .readWrite").css("box-shadow",t):"ro"===n?$("#"+i+"-db #"+a+"-collection .readOnly").css("box-shadow",t):"none"===n&&$("#"+i+"-db #"+a+"-collection .noAccess").css("box-shadow",t))})}})};if(t){var n=arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.currentUser.get("user"))+"/database?full=true");$.ajax({type:"GET",url:n,contentType:"application/json",success:function(e){i(e.result)},error:function(e){arangoHelper.arangoError("User","Could not fetch user permissions")}})}else i(e);window.modalView.hide()},breadcrumb:function(){var e=this;window.App.naviView?($("#subNavigationBar .breadcrumb").html("User: "+arangoHelper.escapeHtml(this.currentUser.get("user"))),arangoHelper.buildUserSubNav(e.currentUser.get("user"),"Permissions")):window.setTimeout(function(){e.breadcrumb()},100)}})}()},function(e,t){!function(){"use strict";window.UserView=Backbone.View.extend({el:"#content",initialize:function(e){this.username=e.username},render:function(){var e=this;this.collection.fetch({fetchAllUsers:!0,success:function(){e.continueRender()}})},editCurrentUser:function(){this.createEditCurrentUserModal(this.currentUser.get("user"),this.currentUser.get("extra").name,this.currentUser.get("extra").img)},continueRender:function(){this.currentUser=this.collection.findWhere({user:this.username}),this.breadcrumb(),this.currentUser.get("loggedIn")?this.editCurrentUser():this.createEditUserModal(this.currentUser.get("user"),this.currentUser.get("extra").name,this.currentUser.get("active"))},createEditUserPasswordModal:function(){var e=[],t=[];t.push(window.modalView.createPasswordEntry("newCurrentPassword","New Password","",!1,"new password",!1)),t.push(window.modalView.createPasswordEntry("confirmCurrentPassword","Confirm New Password","",!1,"confirm new password",!1)),e.push(window.modalView.createSuccessButton("Save",this.submitEditUserPassword.bind(this))),window.modalView.show("modalTable.ejs","Edit User Password",e,t)},createEditCurrentUserModal:function(e,t,i){var n=[],a=[];a.push(window.modalView.createReadOnlyEntry("id_username","Username",e)),a.push(window.modalView.createTextEntry("editCurrentName","Name",t,!1,"Name",!1)),a.push(window.modalView.createTextEntry("editCurrentUserProfileImg","Gravatar account (Mail)",i,"Mailaddress or its md5 representation of your gravatar account.The address will be converted into a md5 string. Only the md5 string will be stored, not the mailaddress.","myAccount(at)gravatar.com")),":role:"===this.username.substring(0,6)?n.push(window.modalView.createDisabledButton("Change Password")):n.push(window.modalView.createNotificationButton("Change Password",this.editUserPassword.bind(this))),n.push(window.modalView.createSuccessButton("Save",this.submitEditCurrentUserProfile.bind(this))),window.modalView.show("modalTable.ejs","Edit User Profile",n,a,null,null,this.events,null,null,"content")},parseImgString:function(e){return-1===e.indexOf("@")?e:CryptoJS.MD5(e).toString()},createEditUserModal:function(e,t,i){var n,a;a=[{type:window.modalView.tables.READONLY,label:"Username",value:_.escape(e)},{type:window.modalView.tables.TEXT,label:"Name",value:_.escape(t),id:"editName",placeholder:"Name"},{type:window.modalView.tables.CHECKBOX,label:"Active",value:"active",checked:i,id:"editStatus"}],(n=[]).push({title:"Delete",type:window.modalView.buttons.DELETE,callback:this.submitDeleteUser.bind(this,e)}),":role:"===this.username.substring(0,6)?n.push({title:"Change Password",type:window.modalView.buttons.DISABLED,callback:this.createEditUserPasswordModal.bind(this,e)}):n.push({title:"Change Password",type:window.modalView.buttons.NOTIFICATION,callback:this.createEditUserPasswordModal.bind(this,e)}),n.push({title:"Save",type:window.modalView.buttons.SUCCESS,callback:this.submitEditUser.bind(this,e)}),window.modalView.show("modalTable.ejs","Edit User",n,a,null,null,this.events,null,null,"content")},validateStatus:function(e){return""!==e},submitDeleteUser:function(e){this.collection.findWhere({user:e}).destroy({wait:!0}),window.App.navigate("#users",{trigger:!0})},submitEditCurrentUserProfile:function(){var e=$("#editCurrentName").val(),t=$("#editCurrentUserProfileImg").val();t=this.parseImgString(t);this.currentUser.setExtras(e,t,function(e){e?arangoHelper.arangoError("User","Could not edit user settings"):arangoHelper.arangoNotification("User","Changes confirmed.")}),window.modalView.hide()},submitEditUserPassword:function(){var e=$("#newCurrentPassword").val(),t=$("#confirmCurrentPassword").val();$("#newCurrentPassword").val(""),$("#confirmCurrentPassword").val(""),$("#newCurrentPassword").closest("th").css("backgroundColor","white"),$("#confirmCurrentPassword").closest("th").css("backgroundColor","white");var i=!1;e!==t&&(arangoHelper.arangoError("User","New passwords do not match."),i=!0),i||(this.currentUser.setPassword(e),arangoHelper.arangoNotification("User","Password changed."),window.modalView.hide())},editUserPassword:function(){window.modalView.hide(),this.createEditUserPasswordModal()},submitEditUser:function(e){var t=$("#editName").val(),i=$("#editStatus").is(":checked");if(this.validateStatus(i)){var n=this.collection.findWhere({user:e});n.save({extra:{name:t},active:i},{type:"PATCH",success:function(){arangoHelper.arangoNotification("User",n.get("user")+" updated.")},error:function(){arangoHelper.arangoError("User","Could not update "+n.get("user")+".")}})}else $("#editStatus").closest("th").css("backgroundColor","red")},breadcrumb:function(){var e=this;window.App.naviView?($("#subNavigationBar .breadcrumb").html("User: "+_.escape(this.username)),arangoHelper.buildUserSubNav(e.currentUser.get("user"),"General")):window.setTimeout(function(){e.breadcrumb()},100)}})}()},function(e,t){!function(){"use strict";window.ViewView=Backbone.View.extend({el:"#content",readOnly:!1,refreshRate:5e3,template:templateEngine.createTemplate("viewView.ejs"),initialize:function(e){var t=localStorage.getItem("JSONViewEditorMode");t&&(this.defaultMode=t),this.name=e.name},defaultMode:"tree",storeMode:function(e){"view"!==e&&(localStorage.setItem("JSONViewEditorMode",e),this.defaultMode=e,this.editor.setMode(this.defaultMode))},remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #savePropertiesButton":"patchView","click #renameViewButton":"renameView","click #deleteViewButton":"deleteView"},checkIfInProgress:function(){if(window.location.hash.search("view/")>-1&&$(".breadcrumb").text().search(this.model.get("name"))>-1){var e=this;frontendConfig.ldapEnabled||window.arangoHelper.syncAndReturnUnfinishedAardvarkJobs("view",function(t,i){if(t)console.log("Could not check locked views");else{var n=!1;_.each(i,function(t){e.model.get("name")===t.collection&&(n=!0)}),n?(e.getViewProperties(!0),e.setInProgress(!0),window.setTimeout(function(){e.checkIfInProgress()},e.refreshRate)):(e.getViewProperties(!0),e.setInProgress(!1))}})}},setReadOnlyPermissions:function(){this.readOnly=!0,$(".bottomButtonBar button").attr("disabled",!0)},render:function(){this.breadcrumb(),this.$el.html(this.template.render({})),$("#propertiesEditor").height($(".centralRow").height()-300+70-$(".infoBox").innerHeight()-10),this.initAce(),this.getViewProperties(),arangoHelper.checkDatabasePermissions(this.setReadOnlyPermissions.bind(this)),this.checkIfInProgress()},jsonContentChanged:function(){this.enableSaveButton()},buttons:["#renameViewButton","#deleteViewButton"],disableAllButtons:function(){var e=this;_.each(this.buttons,function(t){e.disableButton(t)}),this.disableSaveButton()},enableAllButtons:function(){var e=this;_.each(this.buttons,function(t){e.enableButton(t)}),this.enableSaveButton()},enableButton:function(e){$(e).prop("disabled",!1)},disableButton:function(e){$(e).prop("disabled",!0)},enableSaveButton:function(){this.readOnly||($("#savePropertiesButton").prop("disabled",!1),$("#savePropertiesButton").addClass("button-success"),$("#savePropertiesButton").removeClass("button-close"))},disableSaveButton:function(){$("#savePropertiesButton").prop("disabled",!0),$("#savePropertiesButton").addClass("button-close"),$("#savePropertiesButton").removeClass("button-success")},initAce:function(e){var t=this,i=document.getElementById("propertiesEditor"),n={onChange:function(){t.jsonContentChanged()},onModeChange:function(e){t.storeMode(e)},search:!0,mode:"code",modes:["tree","code"],ace:window.ace};this.editor=new JSONEditor(i,n),this.defaultMode&&this.editor.setMode(this.defaultMode)},getViewProperties:function(e){var t=this;this.model.getProperties(function(i,n){i?arangoHelper.arangoError("View","Could not fetch properties for view:"+t.model.get("name")):(delete n.name,delete n.code,delete n.error,t.editor.set(n),e&&t.editor.expandAll())})},patchView:function(){var e,t=this;try{e=t.editor.get()}catch(i){arangoHelper.arangoError("View",i)}if(e){this.model.patchProperties(t.editor.get(),function(e,i,n){e?arangoHelper.arangoError("View","Could not update view properties."):(i&&t.editor.set(i),n?t.setInProgress(!1):(arangoHelper.arangoNotification("View","Saving properties of view: "+t.model.get("name")+" in progress."),window.setTimeout(function(){t.checkIfInProgress()},t.refreshRate),t.setInProgress(!0)))})}},setInProgress:function(e){e?(this.disableAllButtons(),this.editor.setMode("view"),$("#viewProcessing").show(),$("#viewDocumentation").hide(),$(".jsoneditor").attr("style","background-color: rgba(0, 0, 0, 0.05) !important"),$(".jsoneditor-menu button").css("visibility","hidden"),$(".jsoneditor-modes").css("visibility","hidden")):(this.enableAllButtons(),this.editor.setMode(this.defaultMode),$(".buttonBarInfo").html(""),$("#viewProcessing").hide(),$("#viewDocumentation").show(),$(".jsoneditor").attr("style","background-color: rgba(255,255, 255, 1) !important"),$(".jsoneditor-menu button").css("visibility","inline"),$(".jsoneditor-modes").css("visibility","inline"))},deleteView:function(){var e=[],t=[];t.push(window.modalView.createReadOnlyEntry("view-delete-button","Delete","Really delete View?",void 0,void 0,!1,/[<>&'"]/)),e.push(window.modalView.createDeleteButton("Delete",this.deleteViewTrue.bind(this))),window.modalView.show("modalTable.ejs","Delete View",e,t)},deleteViewTrue:function(){this.model.deleteView(function(e,t){e?arangoHelper.arangoError("View","Could not delete the view."):(window.modalView.hide(),window.App.navigate("#views",{trigger:!0}))})},renameView:function(){var e=[],t=[];t.push(window.modalView.createTextEntry("editCurrentName","Name",this.name,!1,"Name",!1)),e.push(window.modalView.createSuccessButton("Rename",this.renameViewTrue.bind(this))),window.modalView.show("modalTable.ejs","Rename View",e,t)},renameViewTrue:function(){var e=this;$("#editCurrentName").val()?$.ajax({type:"PUT",cache:!1,url:arangoHelper.databaseUrl("/_api/view/"+encodeURIComponent(e.name)+"/rename"),contentType:"application/json",processData:!1,data:JSON.stringify({name:$("#editCurrentName").val()}),success:function(t){e.name=t.name,e.model.set("name",t.name),e.breadcrumb(),window.modalView.hide()},error:function(e){window.modalView.hide(),arangoHelper.arangoError("View",e.responseJSON.errorMessage)}}):arangoHelper.arangoError("View","Please fill in a view name.")},breadcrumb:function(){var e=this;window.App.naviView?($("#subNavigationBar .breadcrumb").html("View: "+arangoHelper.escapeHtml(e.name)),window.setTimeout(function(){$("#subNavigationBar .breadcrumb").html("View: "+arangoHelper.escapeHtml(e.name)),e.checkIfInProgress()},100)):window.setTimeout(function(){e.breadcrumb()},100)}})}()},function(e,t){!function(){"use strict";window.ViewsView=Backbone.View.extend({el:"#content",readOnly:!1,template:templateEngine.createTemplate("viewsView.ejs"),initialize:function(){},refreshRate:1e4,sortOptions:{desc:!1},searchString:"",remove:function(){return this.$el.empty().off(),this.stopListening(),this.unbind(),delete this.el,this},events:{"click #createView":"createView","click #viewsToggle":"toggleSettingsDropdown","click .tile-view":"gotoView","keyup #viewsSearchInput":"search","click #viewsSearchSubmit":"search","click #viewsSortDesc":"sorting"},checkVisibility:function(){$("#viewsDropdown").is(":visible")?this.dropdownVisible=!0:this.dropdownVisible=!1,arangoHelper.setCheckboxStatus("#viewsDropdown")},checkIfInProgress:function(){if(window.location.hash.search("views")>-1){var e=this;frontendConfig.ldapEnabled||window.arangoHelper.syncAndReturnUnfinishedAardvarkJobs("view",function(t,i){t?console.log("Could not check locked views"):(i.length>0?_.each(i,function(e){$("#"+e.collection)?($("#"+e.collection+" .collection-type-icon").removeClass("fa-clone"),$("#"+e.collection+" .collection-type-icon").addClass("fa-spinner").addClass("fa-spin")):($("#"+e.collection+" .collection-type-icon").addClass("fa-clone"),$("#"+e.collection+" .collection-type-icon").removeClass("fa-spinner").removeClass("fa-spin"))}):$(".tile .collection-type-icon").addClass("fa-clone").removeClass("fa-spinner").removeClass("fa-spin"),window.setTimeout(function(){e.checkIfInProgress()},e.refreshRate))})}},sorting:function(){$("#viewsSortDesc").is(":checked")?this.setSortingDesc(!0):this.setSortingDesc(!1),this.checkVisibility(),this.render()},setSortingDesc:function(e){this.sortOptions.desc=e},search:function(){this.setSearchString(arangoHelper.escapeHtml($("#viewsSearchInput").val())),this.render()},toggleSettingsDropdown:function(){var e=this;$("#viewsSortDesc").attr("checked",this.sortOptions.desc),$("#viewsToggle").toggleClass("activated"),$("#viewsDropdown2").slideToggle(200,function(){e.checkVisibility()})},render:function(e){e?this.$el.html(this.template.render({views:this.applySorting(e.result),searchString:this.getSearchString()})):(this.getViews(),this.$el.html(this.template.render({views:[],searchString:this.getSearchString()}))),!0===this.dropdownVisible&&($("#viewsSortDesc").attr("checked",this.sortOptions.desc),$("#viewsToggle").addClass("activated"),$("#viewsDropdown2").show()),$("#viewsSortDesc").attr("checked",this.sortOptions.desc),arangoHelper.setCheckboxStatus("#viewsDropdown");var t=$("#viewsSearchInput"),i=t.val().length;t.focus(),t[0].setSelectionRange(i,i),arangoHelper.checkDatabasePermissions(this.setReadOnly.bind(this))},setReadOnly:function(){this.readOnly=!0,$("#createView").parent().parent().addClass("disabled")},setSearchString:function(e){this.searchString=e},getSearchString:function(){return this.searchString.toLowerCase()},applySorting:function(e){var t=this;e=_.sortBy(e,"name"),this.sortOptions.desc&&(e=e.reverse());var i=[];return""===this.getSearchString()?e:(_.each(e,function(e,n){e&&e.name&&-1!==e.name.toLowerCase().indexOf(t.getSearchString())&&i.push(e)}),i)},gotoView:function(e){var t=$(e.currentTarget).attr("id");if(t){var i="view/"+encodeURIComponent(t);window.App.navigate(i,{trigger:!0})}},getViews:function(){var e=this;this.collection.fetch({success:function(t){var i={result:[]};e.collection.each(function(e){i.result.push(e.toJSON())}),e.render(i),e.checkIfInProgress()},error:function(e){console.log(e)}})},createView:function(e){this.readOnly||(e.preventDefault(),this.createViewModal())},createViewModal:function(){var e=[],t=[];t.push(window.modalView.createTextEntry("newName","Name","",!1,"Name",!0,[{rule:Joi.string().regex(/^[a-zA-Z0-9\-_]*$/),msg:'Only symbols, "_" and "-" are allowed.'},{rule:Joi.string().required(),msg:"No view name given."}])),t.push(window.modalView.createReadOnlyEntry(void 0,"Type","arangosearch",void 0,void 0,!1,void 0)),e.push(window.modalView.createSuccessButton("Create",this.submitCreateView.bind(this))),window.modalView.show("modalTable.ejs","Create New View",e,t)},submitCreateView:function(){var e=this,t=$("#newName").val(),i=JSON.stringify({name:t,type:"arangosearch",properties:{}});$.ajax({type:"POST",cache:!1,url:arangoHelper.databaseUrl("/_api/view"),contentType:"application/json",processData:!1,data:i,success:function(t){window.modalView.hide(),arangoHelper.arangoNotification("View","Creation in progress. This may take a while."),e.getViews()},error:function(e){e.responseJSON&&e.responseJSON.errorMessage&&arangoHelper.arangoError("Views",e.responseJSON.errorMessage)}})}})}()},function(e,t){!function(){"use strict";window.arangoCollectionModel=Backbone.Model.extend({idAttribute:"name",urlRoot:arangoHelper.databaseUrl("/_api/collection"),defaults:{id:"",name:"",status:"",type:"",isSystem:!1,picture:"",locked:!1,desc:void 0},getProperties:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(this.get("id"))+"/properties"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(t){e(!0,t)}})},getFigures:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/collection/"+this.get("id")+"/figures"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(){e(!0)}})},getRevision:function(e,t){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/collection/"+this.get("id")+"/revision"),contentType:"application/json",processData:!1,success:function(i){e(!1,i,t)},error:function(){e(!0)}})},getIndex:function(e){var t=this;$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/index/?collection="+this.get("id")),contentType:"application/json",processData:!1,success:function(i){e(!1,i,t.get("id"))},error:function(i){e(!0,i,t.get("id"))}})},createIndex:function(e,t){var i=this;$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/index?collection="+i.get("id")),headers:{"x-arango-async":"store"},data:JSON.stringify(e),contentType:"application/json",processData:!1,success:function(e,n,a){a.getResponseHeader("x-arango-async-id")?(window.arangoHelper.addAardvarkJob({id:a.getResponseHeader("x-arango-async-id"),type:"index",desc:"Creating Index",collection:i.get("id")}),t(!1,e)):t(!0,e)},error:function(e){t(!0,e)}})},deleteIndex:function(e,t){var i=this;$.ajax({cache:!1,type:"DELETE",url:arangoHelper.databaseUrl("/_api/index/"+this.get("name")+"/"+encodeURIComponent(e)),headers:{"x-arango-async":"store"},success:function(e,n,a){a.getResponseHeader("x-arango-async-id")?(window.arangoHelper.addAardvarkJob({id:a.getResponseHeader("x-arango-async-id"),type:"index",desc:"Removing Index",collection:i.get("id")}),t(!1,e)):t(!0,e)},error:function(e){t(!0,e)}}),t()},truncateCollection:function(){var e=this;$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+this.get("id")+"/truncate"),success:function(){arangoHelper.arangoNotification("Collection truncated."),$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_admin/wal/flush?waitForSync=true&waitForCollector=true"),success:function(){$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+e.get("id")+"/rotate"),success:function(){},error:function(){}})},error:function(){}})},error:function(e){arangoHelper.arangoError("Collection error: "+e.responseJSON.errorMessage)}})},warmupCollection:function(){$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+this.get("id")+"/loadIndexesIntoMemory"),success:function(){arangoHelper.arangoNotification("Loading indexes into memory.")},error:function(e){arangoHelper.arangoError("Collection error: "+e.responseJSON.errorMessage)}})},loadCollection:function(e){$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+this.get("id")+"/load"),success:function(){e(!1)},error:function(){e(!0)}}),e()},unloadCollection:function(e){$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+this.get("id")+"/unload?flush=true"),success:function(){e(!1)},error:function(){e(!0)}}),e()},renameCollection:function(e,t){var i=this;$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+this.get("id")+"/rename"),data:JSON.stringify({name:e}),contentType:"application/json",processData:!1,success:function(){i.set("name",e),t(!1)},error:function(e){t(!0,e)}})},changeCollection:function(e,t,i,n,a,r){"true"===e?e=!0:"false"===e&&(e=!1);var s={waitForSync:e,journalSize:parseInt(t,10),indexBuckets:parseInt(i,10)};return n&&(s.replicationFactor=parseInt(n,10)),a&&(s.minReplicationFactor=parseInt(a,10)),$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/collection/"+this.get("id")+"/properties"),data:JSON.stringify(s),contentType:"application/json",processData:!1,success:function(){r(!1)},error:function(e){r(!0,e)}}),!1}})}()},function(e,t){window.DatabaseModel=Backbone.Model.extend({idAttribute:"name",initialize:function(){},isNew:function(){"use strict";return!1},sync:function(e,t,i){"use strict";return"update"===e&&(e="create"),Backbone.sync(e,t,i)},url:arangoHelper.databaseUrl("/_api/database"),defaults:{}})},function(e,t){window.arangoDocumentModel=Backbone.Model.extend({initialize:function(){},urlRoot:arangoHelper.databaseUrl("/_api/document"),defaults:{_id:"",_rev:"",_key:""},getSorted:function(){"use strict";var e=this,t=Object.keys(e.attributes).sort(function(e,t){var i=arangoHelper.isSystemAttribute(e);return i!==arangoHelper.isSystemAttribute(t)?i?-1:1:e<t?-1:1}),i={};return _.each(t,function(t){i[t]=e.attributes[t]}),i}})},function(e,t){!function(){"use strict";window.ArangoQuery=Backbone.Model.extend({urlRoot:arangoHelper.databaseUrl("/_api/user"),defaults:{name:"",type:"custom",value:""}})}()},function(e,t){window.Replication=Backbone.Model.extend({defaults:{state:{},server:{}},initialize:function(){}})},function(e,t){},function(e,t){window.Statistics=Backbone.Model.extend({defaults:{},url:function(){"use strict";return"/_admin/statistics"}})},function(e,t){window.StatisticsDescription=Backbone.Model.extend({defaults:{figures:"",groups:""},url:function(){"use strict";return"/_admin/statistics-description"}})},function(e,t){window.Users=Backbone.Model.extend({defaults:{user:"",active:!1,extra:{}},idAttribute:"user",parse:function(e){return this.isNotNew=!0,e},isNew:function(){return!this.isNotNew},url:function(){return this.isNew()?arangoHelper.databaseUrl("/_api/user"):""!==this.get("user")?arangoHelper.databaseUrl("/_api/user/"+this.get("user")):arangoHelper.databaseUrl("/_api/user")},checkPassword:function(e,t){$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/user/"+this.get("user")),data:JSON.stringify({passwd:e}),contentType:"application/json",processData:!1,success:function(e){t(!1,e)},error:function(e){t(!0,e)}})},setPassword:function(e){$.ajax({cache:!1,type:"PATCH",url:arangoHelper.databaseUrl("/_api/user/"+this.get("user")),data:JSON.stringify({passwd:e}),contentType:"application/json",processData:!1})},setExtras:function(e,t,i){$.ajax({cache:!1,type:"PATCH",url:arangoHelper.databaseUrl("/_api/user/"+this.get("user")),data:JSON.stringify({extra:{name:e,img:t}}),contentType:"application/json",processData:!1,success:function(){i(!1)},error:function(){i(!0)}})}})},function(e,t){!function(){"use strict";window.arangoViewModel=Backbone.Model.extend({idAttribute:"name",urlRoot:arangoHelper.databaseUrl("/_api/view"),defaults:{id:"",name:"",type:"",globallyUniqueId:""},getProperties:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/view/"+encodeURIComponent(this.get("name"))+"/properties"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(t){e(!0,t)}})},patchProperties:function(e,t){var i=this;$.ajax({type:"PUT",cache:!1,data:JSON.stringify(e),url:arangoHelper.databaseUrl("/_api/view/"+encodeURIComponent(this.get("name"))+"/properties"),headers:{"x-arango-async":"store"},contentType:"application/json",processData:!1,success:function(e,n,a){a.getResponseHeader("x-arango-async-id")?(window.arangoHelper.addAardvarkJob({id:a.getResponseHeader("x-arango-async-id"),type:"view",desc:"Patching View",collection:i.get("name")}),t(!1,e,!0)):t(!0,e),t(!1,e,!1)}})},deleteView:function(e){var t=this;$.ajax({cache:!1,type:"DELETE",url:arangoHelper.databaseUrl("/_api/view/"+t.get("name")),headers:{"x-arango-async":"store"},success:function(i,n,a){a.getResponseHeader("x-arango-async-id")?(window.arangoHelper.addAardvarkJob({id:a.getResponseHeader("x-arango-async-id"),type:"view",desc:"Removing View",collection:t.get("name")}),e(!1,i)):e(!0,i)},error:function(t){e(!0,t)}})},renameView:function(e,t){var i=this;$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/view/"+i.get("name")+"/rename"),data:JSON.stringify({name:e}),contentType:"application/json",processData:!1,success:function(){i.set("name",e),t(!1)},error:function(e){t(!0,e)}})}})}()},function(e,t){!function(){"use strict";window.ClusterCoordinator=Backbone.Model.extend({defaults:{name:"",id:"",status:"ok",address:"",protocol:""},idAttribute:"name",forList:function(){return{name:this.get("name"),status:this.get("status"),url:this.get("url")}}})}()},function(e,t){!function(){"use strict";window.ClusterServer=Backbone.Model.extend({defaults:{name:"",address:"",role:"",status:"ok"},idAttribute:"name",forList:function(){return{name:this.get("name"),address:this.get("address"),status:this.get("status")}}})}()},function(e,t){!function(){"use strict";window.Coordinator=Backbone.Model.extend({defaults:{address:"",protocol:"",name:"",status:""}})}()},function(e,t){!function(){"use strict";window.CurrentDatabase=Backbone.Model.extend({url:arangoHelper.databaseUrl("/_api/database/current",frontendConfig.db),parse:function(e){return e.result}})}()},function(e,t){!function(){"use strict";var e=function(e,t,i,n,a,r){var s={contentType:"application/json",processData:!1,type:i};t=t||function(){},r=_.extend({mount:e.encodedMount()},r);var o=_.reduce(r,function(e,t,i){return e+encodeURIComponent(i)+"="+encodeURIComponent(t)+"&"},"?");s.url=arangoHelper.databaseUrl("/_admin/aardvark/foxxes"+(n?"/"+n:"")+o.slice(0,o.length-1)),void 0!==a&&(s.data=JSON.stringify(a)),$.ajax(s).then(function(e){t(null,e)},function(e){window.xhr=e,t(_.extend(e.status?new Error(e.responseJSON?e.responseJSON.errorMessage:e.responseText):new Error("Network Error"),{statusCode:e.status}))})};window.Foxx=Backbone.Model.extend({idAttribute:"mount",defaults:{author:"Unknown Author",name:"",version:"Unknown Version",description:"No description",license:"Unknown License",contributors:[],scripts:{},config:{},deps:{},git:"",system:!1,development:!1},isNew:function(){return!1},encodedMount:function(){return encodeURIComponent(this.get("mount"))},destroy:function(t,i){e(this,i,"DELETE",void 0,void 0,t)},isBroken:function(){return!1},needsAttention:function(){return this.isBroken()||this.needsConfiguration()||this.hasUnconfiguredDependencies()},needsConfiguration:function(){return _.any(this.get("config"),function(e){return void 0===e.current&&!1!==e.required})},hasUnconfiguredDependencies:function(){return _.any(this.get("deps"),function(e){return void 0===e.current&&!1!==e.definition.required})},getConfiguration:function(t){e(this,function(e,i){e||this.set("config",i),"function"===typeof t&&t(e,i)}.bind(this),"GET","config")},setConfiguration:function(t,i){e(this,i,"PATCH","config",t)},getDependencies:function(t){e(this,function(e,i){e||this.set("deps",i),"function"===typeof t&&t(e,i)}.bind(this),"GET","deps")},setDependencies:function(t,i){e(this,i,"PATCH","deps",t)},toggleDevelopment:function(t,i){e(this,function(e,n){e||this.set("development",t),"function"===typeof i&&i(e,n)}.bind(this),"PATCH","devel",t)},runScript:function(t,i,n){e(this,n,"POST","scripts/"+t,i)},runTests:function(t,i){e(this,function(e,t){"function"===typeof i&&i(e?e.responseJSON:e,t)},"POST","tests",t)},isSystem:function(){return this.get("system")},isDevelopment:function(){return this.get("development")},download:function(){e(this,function(e,t){e?console.error(e.responseJSON):window.location.href=arangoHelper.databaseUrl("/_admin/aardvark/foxxes/download/zip?mount="+this.encodedMount()+"&nonce="+t.nonce)}.bind(this),"POST","download/nonce")},fetchThumbnail:function(e){var t=new XMLHttpRequest;t.responseType="blob",t.onload=function(){this.thumbnailUrl=URL.createObjectURL(t.response),e()}.bind(this),t.onerror=e,t.open("GET","foxxes/thumbnail?mount="+this.encodedMount()),window.arangoHelper.getCurrentJwt()&&t.setRequestHeader("Authorization","bearer "+window.arangoHelper.getCurrentJwt()),t.send()}})}()},function(e,t){!function(){"use strict";window.FoxxRepoModel=Backbone.Model.extend({idAttribute:"name",defaults:{name:"",description:"No description",author:"Unknown Author",latestVersion:"Unknown Version",legacy:!1,categories:"No category",defaultThumbnailUrl:"img/ArangoDB-Foxx-logo-bg.png"},httpGetAsync:function(e,t,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status?i?t(n.responseText,i):t(n.responseText):4===n.readyState&&404===n.status&&t()},n.open("GET",e,!0),n.send(null)},manifest:null,fetchManifest:function(e,t){var i=this;if(this.manifest)e&&e();else{var n="https://raw.githubusercontent.com/"+i.get("location")+"/v"+i.get("latestVersion")+"/manifest.json";this.httpGetAsync(n,function(e,n){try{var a=JSON.parse(e);"object"===typeof a&&i.set("manifest",a),n(),t()}catch(r){n&&n(!0),t&&t(!0)}},e)}},fetchReadme:function(e){this.httpGetAsync(this.getReadmeUrl(),e)},getReadmeUrl:function(){return"https://raw.githubusercontent.com/"+this.get("location")+"/v"+this.get("latestVersion")+"/README.md"},getThumbnailUrl:function(){return"https://raw.githubusercontent.com/"+this.get("location")+"/v"+this.get("latestVersion")+"/"+this.get("manifest").thumbnail},fetchThumbnail:function(e){var t=this,i=function(e){e&&e(t.manifest.thumbnail)};this.manifest?i(e):this.fetchManifest(i,e)}})}()},function(e,t){!function(){"use strict";window.Graph=Backbone.Model.extend({idAttribute:"_key",urlRoot:arangoHelper.databaseUrl("/_api/gharial"),isNew:function(){return!this.get("_id")},parse:function(e){return e.graph||e},addEdgeDefinition:function(e){$.ajax({async:!1,type:"POST",url:this.urlRoot+"/"+this.get("_key")+"/edge",data:JSON.stringify(e),error:function(e){arangoHelper.arangoError(e.responseJSON.errorMessage)}})},deleteEdgeDefinition:function(e){$.ajax({async:!1,type:"DELETE",url:this.urlRoot+"/"+this.get("_key")+"/edge/"+e,error:function(e){arangoHelper.arangoError(e.responseJSON.errorMessage)}})},modifyEdgeDefinition:function(e){$.ajax({async:!1,type:"PUT",url:this.urlRoot+"/"+this.get("_key")+"/edge/"+e.collection,data:JSON.stringify(e),error:function(e){arangoHelper.arangoError(e.responseJSON.errorMessage)}})},addVertexCollection:function(e){$.ajax({async:!1,type:"POST",url:this.urlRoot+"/"+this.get("_key")+"/vertex",data:JSON.stringify({collection:e}),error:function(e){arangoHelper.arangoError(e.responseJSON.errorMessage)}})},deleteVertexCollection:function(e){$.ajax({async:!1,type:"DELETE",url:this.urlRoot+"/"+this.get("_key")+"/vertex/"+e,error:function(e){arangoHelper.arangoError(e.responseJSON.errorMessage)}})},defaults:{name:"",edgeDefinitions:[],orphanCollections:[]}})}()},function(e,t){!function(){"use strict";window.newArangoLog=Backbone.Model.extend({defaults:{lid:"",level:"",timestamp:"",text:"",totalAmount:""},getLogStatus:function(){switch(this.get("level")){case 1:return"Error";case 2:return"Warning";case 3:return"Info";case 4:return"Debug";default:return"Unknown"}}})}()},function(e,t){!function(){"use strict";window.Notification=Backbone.Model.extend({defaults:{title:"",date:0,content:"",priority:"",tags:"",seen:!1}})}()},function(e,t){!function(){"use strict";window.queryManagementModel=Backbone.Model.extend({defaults:{id:"",query:"",bindVars:"",started:"",runTime:""}})}()},function(e,t){window.UserConfig=Backbone.Model.extend({defaults:{graphs:"",queries:[]},ldapEnabled:!1,initialize:function(e){this.ldapEnabled=e.ldapEnabled,this.getUser()},model:window.UserConfigModel,fetch:function(e){e=_.extend({parse:!0},e);var t=this,i=e.success;if(!this.ldapEnabled)return Backbone.Collection.prototype.fetch.call(this,e);this.getLocalConfig(),e.success=void(i&&i.call(e.context,t,void 0,e))},getConfigPath:function(){return frontendConfig.db+"-"+this.username+"-config"},getLocalConfig:function(){var e=sessionStorage.getItem(this.getConfigPath());try{e=JSON.parse(e)}catch(t){}return e?this.set(e):this.set({}),this.toJSON()},saveLocalConfig:function(){sessionStorage.setItem(this.getConfigPath(),JSON.stringify(this.toJSON()))},getLocalItem:function(e,t){return t&&t(this.get(e)),this.get(e)},setLocalItem:function(e,t,i){try{this.set(e,t),this.saveLocalConfig(),i&&i()}catch(n){}},getUser:function(){window.App.currentUser?this.username=window.App.currentUser:this.username="root"},parse:function(e){return e.result},url:function(){return arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.username)+"/config")},setItem:function(e,t,i){if(this.ldapEnabled)this.setLocalItem(e,t,i);else{var n=this;$.ajax({type:"PUT",cache:!1,url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.username)+"/config/"+encodeURIComponent(e)),contentType:"application/json",processData:!1,data:JSON.stringify({value:t}),async:!0,success:function(){n.set(e,t),i&&i()},error:function(){arangoHelper.arangoError("User configuration","Could not update user configuration for key: "+e)}})}},getItem:function(e,t){this.ldapEnabled?this.getLocalItem(e,t):$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.username)+"/config/"+encodeURIComponent(e)),contentType:"application/json",processData:!1,async:!0,success:function(e){t(e)},error:function(){arangoHelper.arangoError("User configuration","Could not fetch user configuration for key: "+e)}})}})},function(e,t){!function(){"use strict";window.AutomaticRetryCollection=Backbone.Collection.extend({_retryCount:0,checkRetries:function(){var e=this;return this.updateUrl(),!(this._retryCount>10)||(window.setTimeout(function(){e._retryCount=0},1e4),window.App.clusterUnreachable(),!1)},successFullTry:function(){this._retryCount=0},failureTry:function(e,t,i){401===i.status?window.App.requestAuth():(window.App.clusterPlan.rotateCoordinator(),this._retryCount++,e())}})}()},function(e,t){!function(){"use strict";window.PaginatedCollection=Backbone.Collection.extend({page:0,pagesize:10,totalAmount:null,getPage:function(){return this.page+1},setPage:function(e){e>=this.getLastPageNumber()&&null!==this.totalAmount?this.page=this.getLastPageNumber()-1:this.page=e<1?0:e-1},getLastPageNumber:function(){return Math.max(Math.ceil(this.totalAmount/this.pagesize),1)},getOffset:function(){return this.page*this.pagesize},getPageSize:function(){return this.pagesize},setPageSize:function(e){if("all"===e)this.pagesize="all";else try{e=parseInt(e,10),this.pagesize=e}catch(t){}},setToFirst:function(){this.page=0},setToLast:function(){this.setPage(this.getLastPageNumber())},setToPrev:function(){this.setPage(this.getPage()-1)},setToNext:function(){this.setPage(this.getPage()+1)},setTotal:function(e){this.totalAmount=e},getTotal:function(){return this.totalAmount},setTotalMinusOne:function(){this.totalAmount--}})}()},function(e,t){window.ClusterStatisticsCollection=Backbone.Collection.extend({model:window.Statistics,url:"/_admin/statistics",updateUrl:function(){this.url=window.App.getNewRoute(this.host)+this.url},initialize:function(e,t){this.host=t.host,window.App.registerForUpdate(this)}})},function(e,t){!function(){"use strict";window.ArangoCollections=Backbone.Collection.extend({url:arangoHelper.databaseUrl("/_api/collection"),model:arangoCollectionModel,searchOptions:{searchPhrase:null,includeSystem:!1,includeDocument:!0,includeEdge:!0,includeLoaded:!0,includeUnloaded:!0,sortBy:"name",sortOrder:1},translateStatus:function(e){switch(e){case 0:return"corrupted";case 1:return"new born collection";case 2:return"unloaded";case 3:return"loaded";case 4:return"unloading";case 5:return"deleted";case 6:return"loading";default:return"unknown"}},translateTypePicture:function(e){var t="";switch(e){case"document":t+="fa-file-text-o";break;case"edge":t+="fa-share-alt";break;case"unknown":t+="fa-question";break;default:t+="fa-cogs"}return t},parse:function(e){var t=this;return _.each(e.result,function(e){e.isSystem=arangoHelper.isSystemCollection(e),e.type=arangoHelper.collectionType(e),e.status=t.translateStatus(e.status),e.picture=t.translateTypePicture(e.type)}),e.result},getPosition:function(e){var t,i=this.getFiltered(this.searchOptions),n=null,a=null;for(t=0;t<i.length;++t)i[t].get("name")===e&&(t>0&&(n=i[t-1]),t<i.length-1&&(a=i[t+1]));return{prev:n,next:a}},getFiltered:function(e){var t=[],i=[];if(null!==e.searchPhrase){var n=e.searchPhrase.toLowerCase();n=n.replace(/\s+/g," ").replace(/(^\s+|\s+$)/g,""),i=n.split(" ")}return this.models.forEach(function(n){if(i.length>0){var a,r=n.get("name").toLowerCase();for(a=0;a<i.length;++a)if(-1===r.indexOf(i[a]))return}!1===e.includeSystem&&n.get("isSystem")||!1===e.includeEdge&&"edge"===n.get("type")||!1===e.includeDocument&&"document"===n.get("type")||!1===e.includeLoaded&&"loaded"===n.get("status")||!1===e.includeUnloaded&&"unloaded"===n.get("status")||t.push(n)}),t.sort(function(t,i){var n,a;return"type"===e.sortBy?(n=t.get("type")+" "+t.get("name").toLowerCase(),a=i.get("type")+" "+i.get("name").toLowerCase()):(n=t.get("name").toLowerCase(),a=i.get("name").toLowerCase()),n!==a?e.sortOrder*(n<a?-1:1):0}),t},newCollection:function(e,t){var i={};i.name=e.collName,i.waitForSync=e.wfs,e.journalSize>0&&(i.journalSize=e.journalSize),i.isSystem=e.isSystem,i.type=parseInt(e.collType,10),e.shards&&(i.numberOfShards=e.shards),i.shardKeys=e.shardKeys,e.smartJoinAttribute&&""!==e.smartJoinAttribute&&(i.smartJoinAttribute=e.smartJoinAttribute),i.distributeShardsLike=e.distributeShardsLike;var n=new RegExp(/^[0-9]+$/);e.replicationFactor&&(i.replicationFactor=e.replicationFactor,n.test(e.replicationFactor)&&(i.replicationFactor=JSON.parse(e.replicationFactor))),e.minReplicationFactor&&(i.minReplicationFactor=e.minReplicationFactor,n.test(e.minReplicationFactor)&&(i.minReplicationFactor=JSON.parse(e.minReplicationFactor))),$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/collection"),data:JSON.stringify(i),contentType:"application/json",processData:!1,success:function(e){t(!1,e)},error:function(e){t(!0,e)}})}})}()},function(e,t){!function(){"use strict";window.ArangoDatabase=Backbone.Collection.extend({model:window.DatabaseModel,sortOptions:{desc:!1},url:arangoHelper.databaseUrl("/_api/database/user"),comparator:function(e,t){var i=e.get("name").toLowerCase(),n=t.get("name").toLowerCase();return!0===this.sortOptions.desc?i<n?1:i>n?-1:0:i>n?1:i<n?-1:0},parse:function(e){if(e)return _.map(e.result,function(e){return{name:e}})},initialize:function(){var e=this;this.fetch({cache:!1}).done(function(){e.sort()})},setSortingDesc:function(e){this.sortOptions.desc=e},getDatabases:function(){var e=this;return this.fetch({cache:!1}).done(function(){e.sort()}),this.models},getDatabasesForUser:function(e){$.ajax({type:"GET",cache:!1,url:this.url,contentType:"application/json",processData:!1,success:function(t){e(!1,t.result.sort())},error:function(){e(!0,[])}})},createDatabaseURL:function(e,t,i){var n=window.location,a=window.location.hash;t=t?"SSL"===t||"https:"===t?"https:":"http:":n.protocol,i=i||n.port;var r=t+"//"+window.location.hostname+":"+i+"/_db/"+encodeURIComponent(e)+"/_admin/aardvark/standalone.html";if(a){var s=a.split("/")[0];0===s.indexOf("#collection")&&(s="#collections"),0===s.indexOf("#service")&&(s="#services"),r+=s}return r},getCurrentDatabase:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/database/current"),contentType:"application/json",processData:!1,success:function(t){200===t.code?e(!1,t.result.name):e(!1,t)},error:function(t){e(!0,t)}})},hasSystemAccess:function(e){this.getDatabasesForUser(function(t,i){t?arangoHelper.arangoError("DB","Could not fetch databases"):e(!1,_.includes(i,"_system"))})}})}()},function(e,t){window.ArangoDocument=Backbone.Collection.extend({url:"/_api/document/",model:arangoDocumentModel,collectionInfo:{},deleteEdge:function(e,t,i){this.deleteDocument(e,t,i)},deleteDocument:function(e,t,i){var n={keys:[t],collection:e};$.ajax({cache:!1,type:"PUT",contentType:"application/json",data:JSON.stringify(n),url:arangoHelper.databaseUrl("/_api/simple/remove-by-keys"),success:function(){i(!1)},error:function(){i(!0)}})},addDocument:function(e,t){this.createTypeDocument(e,t)},createTypeEdge:function(e,t,i,n,a){var r;r=n?JSON.stringify({_key:n,_from:t,_to:i}):JSON.stringify({_from:t,_to:i}),$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/document?collection="+encodeURIComponent(e)),data:r,contentType:"application/json",processData:!1,success:function(e){a(!1,e)},error:function(e){a(!0,e._id,e.responseJSON)}})},createTypeDocument:function(e,t,i,n,a,r,s,o){var l={};a&&r&&t?(l._key=r+":"+t,l[a]=r):s&&o?(t&&(l._key=o+":"+t),l[s]=o):t&&(l._key=t),l=JSON.stringify(l);var c=arangoHelper.databaseUrl("/_api/document?collection="+encodeURIComponent(e));n&&(c+="?returnNew=true"),$.ajax({cache:!1,type:"POST",url:c,data:l,contentType:"application/json",processData:!1,success:function(e){i(!1,n?e:e._id)},error:function(e){i(!0,e._id,e.responseJSON)}})},getCollectionInfo:function(e,t,i){var n=this;$.ajax({cache:!1,type:"GET",url:arangoHelper.databaseUrl("/_api/collection/"+encodeURIComponent(e)+"?"+arangoHelper.getRandomToken()),contentType:"application/json",processData:!1,success:function(e){n.collectionInfo=e,t(!1,e,i)},error:function(e){t(!0,e,i)}})},getEdge:function(e,t,i){this.getDocument(e,t,i)},getDocument:function(e,t,i){var n=this;this.clearDocument();var a={keys:[t],collection:e};$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/simple/lookup-by-keys"),contentType:"application/json",data:JSON.stringify(a),processData:!1,success:function(a){a.documents[0]?(n.add(a.documents[0]),a.documents[0]._from&&a.documents[0]._to?i(!1,a,"edge"):i(!1,a,"document")):(n.add(!0,a),i(!0,a,e+"/"+t))},error:function(a){n.add(!0,a),arangoHelper.arangoError("Error",a.responseJSON.errorMessage+" - error number: "+a.responseJSON.errorNum),i(!0,a,e+"/"+t)}})},saveEdge:function(e,t,i,n,a,r){this.saveDocument(e,t,a,r,i,n)},saveDocument:function(e,t,i,n,a,r){if("string"===typeof i)try{i=JSON.parse(i)}catch(s){arangoHelper.arangoError("Could not parse document: "+i)}i._key=t,i._id=e+"/"+t,a&&r&&(i._from=a,i._to=r),$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/document/"+encodeURIComponent(e)+"?returnNew=true"),data:JSON.stringify([i]),contentType:"application/json",processData:!1,success:function(e){n(!1,e)},error:function(e){n(!0,e)}})},updateLocalDocument:function(e){this.clearDocument(),this.add(e)},clearDocument:function(){this.reset()}})},function(e,t){!function(){"use strict";window.ArangoDocuments=window.PaginatedCollection.extend({collectionID:1,filters:[],checkCursorTimer:void 0,MAX_SORT:12e3,lastQuery:{},type:"document",sortAttribute:"",smartJoinAttribute:null,smartGraphAttribute:null,url:arangoHelper.databaseUrl("/_api/documents"),model:window.arangoDocumentModel,setSmartJoinAttribute:function(e){this.smartJoinAttribute=e},getSmartJoinAttribute:function(){return this.smartJoinAttribute},setSmartGraphAttribute:function(e){this.smartGraphAttribute=e},getSmartGraphAttribute:function(){return this.smartGraphAttribute},loadCollectionConfig:function(e){var t=this;$.ajax({cache:!1,type:"GET",url:arangoHelper.databaseUrl("/_api/collection/"+this.collectionID+"/count"),contentType:"application/json",processData:!1,success:function(i){(i.count||0===i.count)&&t.setTotal(i.count),i.smartJoinAttribute?t.setSmartJoinAttribute(i.smartJoinAttribute):t.setSmartJoinAttribute(null),i.smartGraphAttribute?t.setSmartGraphAttribute(i.smartGraphAttribute):t.setSmartGraphAttribute(null),e(!1)},error:function(){e(!0)}})},setCollection:function(e,t){this.resetFilter(),this.collectionID=e,t?this.setPage(t):this.setPage(1),this.loadCollectionConfig(function(e){e&&arangoHelper.arangoError("Documents","Could not fetch documents count")})},setSort:function(e){this.sortAttribute=e},getSort:function(){return this.sortAttribute},addFilter:function(e,t,i){this.filters.push({attr:e,op:t,val:i})},setFiltersForQuery:function(e){return 0===this.filters.length?"":" FILTER "+_.map(this.filters,function(t,i){var n="x.@attr"+i+" "+t.op+" @param"+i;return"LIKE"===t.op?e["param"+i]="%"+t.val+"%":"IN"===t.op||"NOT IN "===t.op?-1!==t.val.indexOf(",")?e["param"+i]=t.val.split(",").map(function(e){return e.replace(/(^ +| +$)/g,"")}):e["param"+i]=[t.val]:e["param"+i]=t.val,-1!==t.attr.indexOf(".")?e["attr"+i]=t.attr.split("."):e["attr"+i]=t.attr,n}).join(" && ")},setPagesize:function(e){this.setPageSize(e)},resetFilter:function(){this.filters=[]},moveDocument:function(e,t,i,n){var a,r,s,o={"@collection":t,filterid:e};a="FOR x IN @@collection",a+=" FILTER x._key == @filterid",a+=" INSERT x IN ",r={query:a+=i,bindVars:o},s={query:"FOR x in @@collection FILTER x._key == @filterid REMOVE x IN @@collection",bindVars:o},window.progressView.show(),$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/cursor"),data:JSON.stringify(r),contentType:"application/json",success:function(){$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/cursor"),data:JSON.stringify(s),contentType:"application/json",success:function(){n&&n(!1),window.progressView.hide()},error:function(){n&&n(!0),window.progressView.hide(),arangoHelper.arangoError("Document error","Documents inserted, but could not be removed.")}})},error:function(){window.progressView.hide(),arangoHelper.arangoError("Document error","Could not move selected documents.")}})},getDocuments:function(e){var t,i,n,a=this,r=this.getPageSize();"all"===r&&(r=this.MAX_SORT+38e3),i={"@collection":this.collectionID},t='FOR x IN @@collection LET att = APPEND(SLICE(ATTRIBUTES(x), 0, 25), "_key", true)',t+=this.setFiltersForQuery(i),this.getTotal()<this.MAX_SORT&&""!==this.getSort()&&(t+=" SORT x."+this.getSort()),"all"!==i.count&&(t+=" LIMIT @offset, @count",i.offset=this.getOffset(),i.count=r),n={query:t+=" RETURN KEEP(x, att)",bindVars:i,batchSize:r},this.filters.length>0&&(n.options={fullCount:!0});$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/cursor"),data:JSON.stringify(n),headers:{"x-arango-async":"store"},contentType:"application/json",success:function(t,i,r){if(r.getResponseHeader("x-arango-async-id")){var s=r.getResponseHeader("x-arango-async-id");window.progressView.showWithDelay(1e3,"Fetching documents...",function(){$.ajax({url:arangoHelper.databaseUrl("/_api/job/"+encodeURIComponent(s)+"/cancel"),type:"PUT",success:function(){window.clearTimeout(a.checkCursorTimer),arangoHelper.arangoNotification("Documents","Canceled operation."),$(".dataTables_empty").text("Canceled."),window.progressView.hide()}})}),function t(i){$.ajax({cache:!1,type:"PUT",url:arangoHelper.databaseUrl("/_api/job/"+encodeURIComponent(i)),contentType:"application/json",success:function(r,s,o){201===o.status?(window.progressView.toShow=!1,a.clearDocuments(),r.extra&&r.extra.stats&&void 0!==r.extra.stats.fullCount&&a.setTotal(r.extra.stats.fullCount),0!==a.getTotal()&&_.each(r.result,function(e){a.add({id:e._id,rev:e._rev,key:e._key,content:e})}),a.lastQuery=n,e(!1,r)):204===o.status&&(a.checkCursorTimer=window.setTimeout(function(){t(i)},500))},error:function(t){e(!1,t)}})}(s)}else e(!0,t)},error:function(t){e(!1,t)}})},clearDocuments:function(){this.reset()},buildDownloadDocumentQuery:function(){var e,t;return t={"@collection":this.collectionID},e="FOR x in @@collection",e+=this.setFiltersForQuery(t),this.getTotal()<this.MAX_SORT&&this.getSort().length>0&&(e+=" SORT x."+this.getSort()),{query:e+=" RETURN x",bindVars:t}},uploadDocuments:function(e,t){$.ajax({type:"POST",url:arangoHelper.databaseUrl("/_api/import?type=auto&details=true&collection="+encodeURIComponent(this.collectionID)+"&createCollection=false"),data:e,processData:!1,contentType:"json",dataType:"json",complete:function(e){var i;e.responseJSON&&((i=e.responseJSON).hasOwnProperty("error")&&delete i.error,i.errors>0?t(!0,"Info: "+JSON.stringify(i)):t(!1,"Info: "+JSON.stringify(i)))},error:function(e){t(!0,e.responseJSON.errorMessage)}})}})}()},function(e,t){!function(){"use strict";window.ArangoLogs=window.PaginatedCollection.extend({upto:!1,loglevel:0,totalPages:0,parse:function(e){var t=[];return _.each(e.lid,function(i,n){t.push({level:e.level[n],lid:i,topic:e.topic[n],text:e.text[n],timestamp:e.timestamp[n],totalAmount:e.totalAmount})}),this.totalAmount=e.totalAmount,this.totalPages=Math.ceil(this.totalAmount/this.pagesize),t},initialize:function(e){!0===e.upto&&(this.upto=!0),this.loglevel=e.loglevel},model:window.newArangoLog,url:function(){var e,t,i=this.totalAmount-(this.page+1)*this.pagesize;return i<0&&this.page===this.totalPages-1?(i=0,t=this.totalAmount%this.pagesize):t=this.pagesize,0===this.totalAmount&&(t=1),e="/_admin/log?"+(this.upto?"upto":"level")+"="+this.loglevel+"&size="+t+"&offset="+i,this.lastInverseOffset=i,arangoHelper.databaseUrl(e)}})}()},function(e,t){!function(){"use strict";window.ArangoQueries=Backbone.Collection.extend({getQueryPath:function(){return frontendConfig.db+"-"+this.username+"-queries"},initialize:function(e,t){var i=this;$.ajax("whoAmI?_="+Date.now(),{async:!0}).done(function(e){!1===this.activeUser||null===this.activeUser?i.activeUser="root":i.activeUser=e.user})},fetch:function(e){e=_.extend({parse:!0},e);var t=this,i=e.success;if(!frontendConfig.ldapEnabled){var n=frontendConfig.basePath;return frontendConfig.react&&(n=""),frontendConfig.authenticationEnabled&&window.App.currentUser?this.url=arangoHelper.databaseUrl(n+"/_api/user/"+encodeURIComponent(window.App.currentUser)):this.url=arangoHelper.databaseUrl(n+"/_api/user/"),Backbone.Collection.prototype.fetch.call(this,e)}this.fetchLocalQueries(),e.success=void(i&&i.call(e.context,t,void 0,e))},fetchLocalQueries:function(){this.reset();var e=this,t=sessionStorage.getItem(this.getQueryPath());try{t=JSON.parse(t),_.each(t,function(t,i){e.add(t)})}catch(i){}},url:arangoHelper.databaseUrl("/_api/user/"),model:ArangoQuery,activeUser:null,parse:function(e){var t,i=this;if(!1!==this.activeUser&&null!==this.activeUser||(this.activeUser="root"),e.user===i.activeUser)try{e.extra.queries&&(t=e.extra.queries)}catch(n){}else e.result&&e.result instanceof Array&&_.each(e.result,function(e){e.user===i.activeUser&&(t=e.extra.queries)});return t},saveLocalCollectionQueries:function(e,t){sessionStorage.setItem(this.getQueryPath(),JSON.stringify(e)),t&&t(!1,e)},saveCollectionQueries:function(e){var t=[];this.each(function(e){t.push({value:e.attributes.value,parameter:e.attributes.parameter,name:e.attributes.name})}),frontendConfig.ldapEnabled?this.saveLocalCollectionQueries(t,e):(!1!==this.activeUser&&null!==this.activeUser||(this.activeUser="root"),$.ajax({cache:!1,type:"PATCH",url:arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(this.activeUser)),data:JSON.stringify({extra:{queries:t}}),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(){e(!0)}}))},downloadLocalQueries:function(){arangoHelper.downloadLocalBlob(JSON.stringify(this.toJSON()),"json")},saveImportQueries:function(e,t){var i=this;if(0===this.activeUser)return!1;if(frontendConfig.ldapEnabled){if(e){var n=new FileReader;n.readAsText(e,"UTF-8"),n.onload=function(e){try{var n=JSON.parse(e.target.result);_.each(n,function(e,t){e.name&&e.value&&e.parameter&&i.add(e)}),i.saveCollectionQueries(),t&&t()}catch(a){arangoHelper.arangoError("Query error","Queries could not be imported."),window.modalView.hide()}},n.onerror=function(e){window.modalView.hide(),arangoHelper.arangoError("Query error","Queries could not be imported.")}}}else window.progressView.show("Fetching documents..."),$.ajax({cache:!1,type:"POST",url:"query/upload/"+encodeURIComponent(this.activeUser),data:e,contentType:"application/json",processData:!1,success:function(){window.progressView.hide(),arangoHelper.arangoNotification("Queries successfully imported."),t()},error:function(){window.progressView.hide(),arangoHelper.arangoError("Query error","queries could not be imported")}})}})}()},function(e,t){window.ArangoReplication=Backbone.Collection.extend({model:window.Replication,url:"../api/user",getLogState:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/replication/logger-state"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(t){e(!0,t)}})},getApplyState:function(e){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/replication/applier-state"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(t){e(!0,t)}})}})},function(e,t){window.StatisticsCollection=Backbone.Collection.extend({model:window.Statistics,url:"/_admin/statistics"})},function(e,t){window.StatisticsDescriptionCollection=Backbone.Collection.extend({model:window.StatisticsDescription,url:"/_admin/statistics-description",parse:function(e){return e}})},function(e,t){window.ArangoUsers=Backbone.Collection.extend({model:window.Users,activeUser:null,activeUserSettings:{query:{},shell:{},testing:!0},sortOptions:{desc:!1},authOptions:{ro:!1},fetch:function(e){var t=frontendConfig.basePath;return frontendConfig.react&&(t=""),e.fetchAllUsers?this.url=arangoHelper.databaseUrl(t+"/_api/user/"):frontendConfig.authenticationEnabled&&window.App.currentUser?this.url=arangoHelper.databaseUrl(t+"/_api/user/"+encodeURIComponent(window.App.currentUser)):this.url=arangoHelper.databaseUrl(t+"/_api/user/"),Backbone.Collection.prototype.fetch.call(this,e)},url:frontendConfig.basePath+"/_api/user",comparator:function(e,t){var i=e.get("user").toLowerCase(),n=t.get("user").toLowerCase();return!0===this.sortOptions.desc?i<n?1:i>n?-1:0:i>n?1:i<n?-1:0},login:function(e,t,i){var n=this;$.ajax({url:arangoHelper.databaseUrl("/_open/auth"),method:"POST",data:JSON.stringify({username:e,password:t}),dataType:"json"}).success(function(e){var t=e.jwt.split(".");if(!t[1])throw new Error("Invalid JWT");if(!window.atob)throw new Error("base64 support missing in browser");var a=JSON.parse(atob(t[1]));n.activeUser=a.preferred_username,void 0===n.activeUser?arangoHelper.setCurrentJwt(e.jwt,null):arangoHelper.setCurrentJwt(e.jwt,n.activeUser),i(!1,n.activeUser)}).error(function(){arangoHelper.setCurrentJwt(null,null),n.activeUser=null,i(!0,null)})},setSortingDesc:function(e){this.sortOptions.desc=e},logout:function(){arangoHelper.setCurrentJwt(null),this.activeUser=null,this.reset(),window.App.navigate(""),window.location.reload()},setUserSettings:function(e,t){this.activeUserSettings.identifier=t},loadUserSettings:function(e){var t,i=this;t=frontendConfig.authenticationEnabled?arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(i.activeUser)):arangoHelper.databaseUrl("/_api/user/root"),$.ajax({type:"GET",cache:!1,url:t,contentType:"application/json",processData:!1,success:function(t){i.activeUserSettings=t.extra,e(!1,t)},error:function(t){e(!0,t)}})},saveUserSettings:function(e){$.ajax({cache:!1,type:"PUT",url:frontendConfig.basePath+"/_api/user/"+encodeURIComponent(this.activeUser),data:JSON.stringify({extra:this.activeUserSettings}),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(t){e(!0,t)}})},parse:function(e){var t=[];return e.result?_.each(e.result,function(e){t.push(e)}):t.push({user:e.user,active:e.active,extra:e.extra,changePassword:e.changePassword}),t},whoAmI:function(e){var t=this;if(this.activeUser)e(!1,this.activeUser);else{var i="whoAmI?_="+Date.now();frontendConfig.react&&(i=arangoHelper.databaseUrl("/_admin/aardvark/"+i)),$.ajax(i).success(function(i){t.activeUser=i.user,e(!1,i.user)}).error(function(){e(!0,null)})}}})},function(e,t){!function(){"use strict";window.ArangoViews=Backbone.Collection.extend({url:arangoHelper.databaseUrl("/_api/view"),model:arangoViewModel,parse:function(e){return e.result}})}()},function(e,t){!function(){"use strict";window.ClusterCoordinators=window.AutomaticRetryCollection.extend({model:window.ClusterCoordinator,url:arangoHelper.databaseUrl("/_admin/aardvark/cluster/Coordinators"),updateUrl:function(){this.url=window.App.getNewRoute("Coordinators")},initialize:function(){},statusClass:function(e){switch(e){case"ok":return"success";case"warning":return"warning";case"critical":return"danger";case"missing":return"inactive";default:return"danger"}},getStatuses:function(e,t){if(this.checkRetries()){var i=this;this.fetch({beforeSend:window.App.addAuth.bind(window.App),error:i.failureTry.bind(i,i.getStatuses.bind(i,e,t))}).done(function(){i.successFullTry(),i.forEach(function(t){e(i.statusClass(t.get("status")),t.get("address"))}),t()})}},byAddress:function(e,t){if(this.checkRetries()){var i=this;this.fetch({beforeSend:window.App.addAuth.bind(window.App),error:i.failureTry.bind(i,i.byAddress.bind(i,e,t))}).done(function(){i.successFullTry(),e=e||{},i.forEach(function(t){var i=t.get("address");i=i.split(":")[0],e[i]=e[i]||{},e[i].coords=e[i].coords||[],e[i].coords.push(t)}),t(e)})}},checkConnection:function(e){var t=this;this.checkRetries()&&this.fetch({beforeSend:window.App.addAuth.bind(window.App),error:t.failureTry.bind(t,t.checkConnection.bind(t,e))}).done(function(){t.successFullTry(),e()})}})}()},function(e,t){!function(){"use strict";window.ClusterServers=window.AutomaticRetryCollection.extend({model:window.ClusterServer,host:"",url:arangoHelper.databaseUrl("/_admin/aardvark/cluster/DBServers"),updateUrl:function(){this.url=window.App.getNewRoute(this.host)+this.url},initialize:function(e,t){this.host=t.host},statusClass:function(e){switch(e){case"ok":return"success";case"warning":return"warning";case"critical":return"danger";case"missing":return"inactive";default:return"danger"}},getStatuses:function(e){if(this.checkRetries()){var t=this;this.fetch({beforeSend:window.App.addAuth.bind(window.App),error:t.failureTry.bind(t,t.getStatuses.bind(t,e))}).done(function(){t.successFullTry(),t._retryCount=0,t.forEach(function(i){e(t.statusClass(i.get("status")),i.get("address"))})})}},byAddress:function(e,t){if(this.checkRetries()){var i=this;this.fetch({beforeSend:window.App.addAuth.bind(window.App),error:i.failureTry.bind(i,i.byAddress.bind(i,e,t))}).done(function(){i.successFullTry(),e=e||{},i.forEach(function(t){var i=t.get("address");i=i.split(":")[0],e[i]=e[i]||{},e[i].dbs=e[i].dbs||[],e[i].dbs.push(t)}),t(e)}).error(function(e){console.log("error"),console.log(e)})}},getList:function(){throw new Error("Do not use")},getOverview:function(){throw new Error("Do not use DbServer.getOverview")}})}()},function(e,t){!function(){"use strict";window.CoordinatorCollection=Backbone.Collection.extend({model:window.Coordinator,url:arangoHelper.databaseUrl("/_admin/aardvark/cluster/Coordinators")})}()},function(e,t){!function(){"use strict";window.FoxxCollection=Backbone.Collection.extend({model:window.Foxx,sortOptions:{desc:!1},url:arangoHelper.databaseUrl("/_admin/aardvark/foxxes"),comparator:function(e,t){var i,n;return!0===this.sortOptions.desc?(i=e.get("mount"))<(n=t.get("mount"))?1:i>n?-1:0:(i=e.get("mount"))>(n=t.get("mount"))?1:i<n?-1:0},setSortingDesc:function(e){this.sortOptions.desc=e},install:function(e,t,i,n,a){var r=arangoHelper.databaseUrl("/_admin/aardvark/foxxes/"+e+"?mount="+encodeURIComponent(i));n.legacy&&(r+="&legacy=true"),!0===n.setup?r+="&setup=true":!1===n.setup&&(r+="&setup=false"),!0===n.teardown?r+="&teardown=true":!1===n.teardown&&(r+="&teardown=false"),!0===n.replace?r+="&replace=true":!1===n.replace&&(r+="&upgrade=true"),$.ajax({cache:!1,type:"PUT",url:r,data:JSON.stringify(t),contentType:"application/json",processData:!1,success:function(e){a(e)},error:function(e){a(e)}})}})}()},function(e,t){!function(){"use strict";window.FoxxRepository=Backbone.Collection.extend({model:window.FoxxRepoModel,sortOptions:{desc:!1},url:arangoHelper.databaseUrl("/_admin/aardvark/foxxes/fishbowl"),parse:function(e){var t=[];return _.each(e,function(e){e.legacy||t.push(e)}),t},comparator:function(e,t){var i,n;return!0===this.sortOptions.desc?(i=e.get("mount"))<(n=t.get("mount"))?1:i>n?-1:0:(i=e.get("mount"))>(n=t.get("mount"))?1:i<n?-1:0},setSortingDesc:function(e){this.sortOptions.desc=e}})}()},function(e,t){!function(){"use strict";window.GraphCollection=Backbone.Collection.extend({model:window.Graph,sortOptions:{desc:!1},url:arangoHelper.databaseUrl("/_api/gharial"),dropAndDeleteGraph:function(e,t){$.ajax({type:"DELETE",url:arangoHelper.databaseUrl("/_api/gharial/")+encodeURIComponent(e)+"?dropCollections=true",contentType:"application/json",processData:!0,success:function(){t(!0)},error:function(){t(!1)}})},createNode:function(e,t,i,n){$.ajax({type:"POST",url:arangoHelper.databaseUrl("/_api/gharial/")+encodeURIComponent(e)+"/vertex/"+encodeURIComponent(t),contentType:"application/json",data:JSON.stringify(i),processData:!0,success:function(e){n(!1,e.vertex._id)},error:function(e){n(!0,null,e.responseJSON.errorMessage)}})},createEdge:function(e,t,i,n){$.ajax({cache:!1,type:"POST",url:arangoHelper.databaseUrl("/_api/gharial/")+encodeURIComponent(e)+"/edge/"+encodeURIComponent(t),data:JSON.stringify(i),contentType:"application/json",processData:!1,success:function(e){n(!1,e.edge._id)},error:function(e){n(!0,null,e.responseJSON.errorMessage)}})},comparator:function(e,t){var i=e.get("_key")||"",n=t.get("_key")||"";return i=i.toLowerCase(),n=n.toLowerCase(),!0===this.sortOptions.desc?i<n?1:i>n?-1:0:i>n?1:i<n?-1:0},setSortingDesc:function(e){this.sortOptions.desc=e},parse:function(e){if(!e.error)return e.graphs}})}()},function(e,t){!function(){"use strict";window.NotificationCollection=Backbone.Collection.extend({model:window.Notification,url:""})}()},function(e,t){!function(){"use strict";window.QueryManagementActive=Backbone.Collection.extend({model:window.queryManagementModel,url:function(){var e=frontendConfig.basePath+"/_api/query/current";return"_system"!==window.frontendConfig.db&&(e=arangoHelper.databaseUrl("/_api/query/current")),e},killRunningQuery:function(e,t){var i=frontendConfig.basePath+"/_api/query/"+encodeURIComponent(e);"_system"!==window.frontendConfig.db&&(i=arangoHelper.databaseUrl("/_api/query/"+encodeURIComponent(e))),$.ajax({url:i,type:"DELETE",success:function(e){t()}})}})}()},function(e,t){!function(){"use strict";window.QueryManagementSlow=Backbone.Collection.extend({model:window.queryManagementModel,url:function(){var e=frontendConfig.basePath+"/_api/query/slow";return"_system"!==window.frontendConfig.db&&(e=arangoHelper.databaseUrl("/_api/query/slow")),e},deleteSlowQueryHistory:function(e){var t=frontendConfig.basePath+"/_api/query/slow";"_system"!==window.frontendConfig.db&&(t=arangoHelper.databaseUrl("/_api/query/slow")),$.ajax({url:t,type:"DELETE",success:function(t){e()}})}})}()},,,,,,,,function(e,t,i){e.exports=i(515)},function(e,t,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){},,function(e,t,i){},,function(e,t,i){},,function(e,t,i){},,function(e,t,i){},,function(e,t,i){},,function(e,t,i){},,function(e,t,i){},,function(e,t,i){},,function(e,t,i){},,function(e,t,i){},,function(e,t,i){},,function(e,t,i){},,,,,,,,function(e,t){e.exports='  <div class="application-detail-view">\n    <div class="headerBar" style="width: 100%">\n\n      <ul class="subMenuEntries subViewNavbar pull-left">\n        <li id="service-info" class="subMenuEntry active"><a>Info</a></li>\n        <li id="service-api" class="subMenuEntry "><a>API</a></li>\n        <li id="service-readme" class="subMenuEntry "><a>Readme</a></li>\n        <li id="service-settings" class="subMenuEntry "><a>Settings</a></li>\n      </ul>\n\n      <div class="headerButtonBar" style="display: none">\n        <ul class="headerButtonList">\n          <li>\n            <a id="app-deps" class="headerButton <%= _.isEmpty(app.get(\'deps\')) ? \'disabled\' : \'\' %> <%= app.hasUnconfiguredDependencies() ? \'error\' : \'\' %>">\n              <span class="fa fa-cubes" title="Dependencies"></span>\n            </a>\n          </li>\n          <li id="app-scripts" class="dropdown">\n            <a class="headerButton <%= _.isEmpty(app.get(\'scripts\')) ? \'disabled\' : \'\' %>" title="Scripts">\n              <i class="fa fa-code"></i>\n            </a>\n            <ul class="script-dropdown-menu dropdown-toolbar dropdown-menu" id="scripts_dropdown">\n            <% _.each(app.get(\'scripts\'), function (title, name) { %>\n              <li class="dropdown-item">\n                <a class="tab" data-script="<%= name %>"><%= title %></a>\n              </li>\n            <% }) %>\n            </ul>\n          </li>\n          <li>\n            <a id="app-tests" class="headerButton">\n              <span class="fa fa-flask" title="Tests"></span>\n            </a>\n          </li>\n          <li>\n            <a id="download-app" class="headerButton <%= app.isSystem() ? \'disabled\' : \'\' %>">\n              <span class="fa fa-download" title="Download"></span>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <section class="info" id="information">\n      <div class="header">\n        <div class="header-icon-container">\n          <img src="<%= app.thumbnailUrl %>" alt="Icon for Service" class="icon" />\n        </div>\n        <div id="hidden_buttons" style="display: none">\n          <button class="delete button-danger" <%=app.isSystem()?"disabled":""%> >Delete</button>\n          <button id="app-replace" class="app-replace upgrade button-warning" <%=app.isSystem()?"disabled":"" %>>Replace</button>\n          <button id="app-switch-mode" class="app-switch-mode switch-mode button-warning"><%=app.get(\'development\')?\'Set Production\':\'Set Development\'%></button>\n        </div>\n        <div class="header_left">\n          <div id="app-warning" class="app-warning" style="display:<%=app.needsAttention()?\'block\':\'none\' %>;">\n            <h4>Out of order</h4>\n            <p id="app-warning-broken" style="display:<%=app.isBroken()?\'block\':\'none\' %>;">This service has failed to mount due to an error.</p>\n            <p id="app-warning-config" style="display:<%=app.needsConfiguration()?\'block\':\'none\' %>;">This service has not yet been configured properly.</p>\n            <p id="app-warning-deps" style="display:<%=app.hasUnconfiguredDependencies()?\'block\':\'block\' %>;">Some dependencies have not yet been set up.</p>\n          </div>\n          <div class="header_line">\n            <h3>\n              <%= app.attributes.name %>\n            </h3>\n          </div>\n          <div class="header_line header_line_bottom">\n            <p class="description"><%= app.attributes.description %></p>\n            <div>\n              <div class="inner">\n                <h3>\n                  <% if (app.attributes.license) { %>\n                    <span class="license"><%= app.attributes.license %></span>\n                  <% } %>\n                </h3>\n                <h3>\n                  <span class="version"><%= app.attributes.version %></span>\n                </h3>\n                <h3>\n                  <span class="mode <%=app.get(\'development\')?\'development\':\'production\'%>"><%=app.get(\'development\')?\'Development\':\'Production\'%></span>\n                </h3>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="header_right">\n          <input type="button" class="open button-success" disabled="true" value="Show Interface" />\n        </div>\n        <div class="information">\n        </div>\n      </div>\n    </section>\n    <main>\n      <div id="app-info" class="app-info" style="display: none;">\n        <h4>Info</h4>\n        <p id="app-info-swagger">Documentation for this service is not yet configured.</p>\n      </div>\n      <div id="swagger" class="swagger" style="display: none;">\n        <a id="jsonLink">Swagger</a>\n        <div id="swaggerJsonContent" style="display: none">\n          <div id="swaggerJsonEditor" style="height: 100%;"></div>\n        </div>\n      </div>\n      <div id="settings" class="readme" style="display: none;">\n        <% if (_.isEmpty(app.get(\'config\'))) { %>\n          <p>No configurable settings available.</p>\n        <% } %>\n        <div class="buttons"></div>\n      </div>\n      <div id="readme" class="readme" style="display: none;">\n        <% if (app.get(\'readme\')) { %>\n        <%= marker(app.get(\'readme\')) %>\n        <% } else { %>\n        <p>No README data found.</p>\n        <% } %>\n      </div>\n    </main>\n    \x3c!--<aside class="meta" id="sideinformation">\n      <dl>\n        <dt>Author</dt>\n        <dd><%= app.attributes.author %></dd>\n        <dt>Contributors</dt>\n        <dd>\n          <% if (app.attributes.contributors && app.attributes.contributors.length > 0) { %>\n          <ul>\n          <% _.each(app.attributes.contributors, function (contributor) { %>\n            <li><a href="mailto:<%= contributor.email %>"><%= contributor.name %></a></li>\n          <% }); %>\n          </ul>\n          <% } else { %>\n          No contributors\n          <% } %>\n        </dd>\n        <dt>Links</dt>\n        <dd>\n          <ul>\n            <li>\n              <a href="<%= baseUrl %>/_admin/aardvark/foxxes/docs/standalone/index.html?mount=<%= encodeURIComponent(app.get(\'mount\')) %>" target="_blank">\n                API Documentation\n              </a>\n            </li>\n            <li>\n              <a href="<%= baseUrl %>/_admin/aardvark/foxxes/docs/swagger.json?mount=<%= encodeURIComponent(app.get(\'mount\')) %>" target="_blank">\n                API as JSON\n              </a>\n            </li>\n            <% if (app.attributes.repository && app.attributes.repository.type == \'git\') { %>\n              <li><a href="<%= app.attributes.repository.url %>" target="_blank">Git Repository</a></li>\n            <% } %>\n          </ul>\n        </dd>\n      </dl>\n    </aside>--\x3e\n  </div>\n'},function(e,t){e.exports='  <tr class="foxx-store-row">\n    <td class="foxx-store-main">\n      <div class="foxx-name"><%=name%><%=legacy?\' (legacy)\':\'\'%></div>\n      <div class="foxx-author"><%=author%></div>\n      <div class="foxx-description"><%=description%></div>\n    </td>\n    <td class="foxx-store-version">\n      <div class="foxx-version"><%=latestVersion%></div>\n    </td>\n    <td class="foxx-store-install">\n      <button class="button-success install-app" appId="<%=name %>" appVersion="<%=latestVersion %>">Install</button>\n    </td>\n  </tr>\n'},function(e,t){e.exports='<div class="headerBar">\n  <div class="headerButtonBar">\n    <ul class="headerButtonList">\n      <li>\n        <a id="foxxToggle" class="headerButton">\n          <span class="icon_arangodb_settings2" title="Settings"></span>\n        </a>\n      </li>\n    </ul>\n  </div>\n</div>\n\n<div id="foxxDropdownOut" class="headerDropdown">\n  <div id="foxxDropdown" class="dropdownInner">\n    <ul>\n      <li class="nav-header">Type</li>\n      <li><a href="#services">\n        <label class="checkbox checkboxLabel">\n          <input class="css-checkbox" type="checkbox" id="checkProduction"/>\n          <i class="fa"></i>\n          Production\n        </label>\n      </a></li>\n\n      <li><a href="#services">\n        <label class="checkbox checkboxLabel">\n          <input class="css-checkbox" type="checkbox" id="checkDevel"/>\n          <i class="fa"></i>\n          Development\n        </label>\n      </a></li>\n\n      <li><a href="#services">\n        <label class="checkbox checkboxLabel">\n          <input class="css-checkbox" id="checkSystem" type="checkbox"/>\n          <i class="fa"></i>\n          System Services\n        </label>\n      </a></li>\n    </ul>\n  </div>\n</div>\n\n<div class="contentDiv">\n  <div id="installed">\n    <div id="installedList" class="tileList pure-u">\n      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-5">\n        <div class="fullBorderBox">\n          <a id="addApp" class="add"><span class="pull-left add-Icon"><i class="fa fa-plus-circle"></i>\n</span> Add Service</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='  <div id="applierContent" class="innerContent applierContent replicationContent">\n    <div class="repl-applier">\n\n      <% _.each(data, function (properties, name) { %>\n\n        <div class="categoryBar">\n          <h4 style="text-transform: capitalize;"><%=name%></h4>\n        </div>\n\n          <table id="applier-<%=name%>" class="pure-table">\n            <tbody>\n              <% if (typeof properties === \'string\') { %>\n                <tr>\n                  <td><%=name%></td>\n                  <td><%=properties%></td>\n                </tr>\n              <% } else { %>\n                <% _.each(properties, function (val, key) { %>\n                  <tr>\n                    <td><%=key%></td>\n\n                    <td>\n                      <% if (typeof val !== \'string\' && typeof val !== \'number\' && typeof val !== \'boolean\') { %>\n                        <table>\n                          <tbody>\n                            <% _.each(val, function (v, k) { %>\n                              <tr>\n                                <td><%=k%></td>\n                                <td><%=v%></td>\n                              </tr>\n                            <% }); %>\n                          <tbody>\n                        </table>\n                      <% } else {%>\n                        <%=val%>\n                      <% } %>\n                    </td>\n\n                  </tr>\n                <% }); %>\n              <% } %>\n            </tbody>\n          </table>\n\n      <% }); %>\n\n    </div>\n  </div>\n'},function(e,t){e.exports='<div class="arango-tabbar" id="<%=content.id%>">\n  <% _.each(content.titles, function(k,v) { %>\n  <% var name = content.titles[v][0];  %>\n  <% var elid = content.titles[v][1];  %>\n  <button class="arangodb-tabbar" id="<%=elid%>"><%=name%></button>\n  <%});%>\n</div>\n'},function(e,t){e.exports='  <div class="tableWrapper">\n    <% var type = type; %>\n    <table class="arango-table" id="<%=content.id%>">\n      <thead>\n        <tr>\n          <% var hcounter = 0; %>\n          <% _.each(content.titles, function(y) {%>\n            <th class="arango-table-th table-cell<%=hcounter%>"><%=y%></th>\n          <% hcounter++; });%>\n        </tr>\n      </thead>\n      <tbody>\n        <% _.each(content.rows, function(k) { var counter=0;%>\n          <tr>\n            <% _.each(k, function(x) { %>\n              <% if (type && type[counter] === \'pre\') { %>\n                <td class="arango-table-td table-cell<%=counter%>">\n                  <pre class="tablePre"> \n                    <%=(content.unescaped && content.unescaped[counter] ? x : _.escape(x))%>\n                  </pre>\n                </td>\n              <% } else { %>\n                <td class="arango-table-td table-cell<%=counter%>"><%=(content.unescaped && content.unescaped[counter] ? x : _.escape(x))%></td>\n              <% } %>\n            <% counter++;});%>\n          </tr>\n        <%});%>\n\n        <% if (content.rows.length === 0) { %>\n          <tr>\n            <% var xcounter = 0; %>\n            <% _.each(content.titles, function(y) {%>\n              <% if (xcounter === 0) { %>\n                <td>No content.</td>\n              <% } else { %>\n                <td></td>\n              <% } %>\n            <% xcounter++; });%>\n          </tr>\n        <% }; %>\n      </tbody>\n    </table>\n  </div>\n'},function(e,t){e.exports='\n  <div class="headerBar" style="margin-top: -60px">\n    <div class="headerButtonBar">\n      <ul class="headerButtonList">\n      </ul>\n    </div>\n  </div>\n\n  <div id="clusterContent" class="innerContent">\n\n    <div class="pure-g cluster-values">\n\n      <div class="pure-u-1-2 pure-u-md-1-4">\n        <div class="valueWrapper">\n          <div id="clusterCoordinators" class="value"><i class="fa fa-spin fa-circle-o-notch" style="color: rgba(0, 0, 0, 0.64);"></i></div>\n          <div class="graphLabel">coordinators</div>\n        </div>\n      </div>\n\n      <div class="pure-u-1-2 pure-u-md-1-4">\n        <div class="valueWrapper">\n          <div id="clusterDBServers" class="value"><i class="fa fa-spin fa-circle-o-notch" style="color: rgba(0, 0, 0, 0.64);"></i></div>\n          <div class="graphLabel">DB Servers</div>\n        </div>\n      </div>\n\n      <div class="pure-u-1-2 pure-u-md-1-4">\n        <div class="valueWrapper">\n          <div id="clusterRam" class="value"><i class="fa fa-spin fa-circle-o-notch" style="color: rgba(0, 0, 0, 0.64);"></i></div>\n          <div class="graphLabel">RAM</div>\n        </div>\n      </div>\n\n      <div class="pure-u-1-2 pure-u-md-1-4">\n        <div class="valueWrapper">\n          <div id="clusterConnections" class="value"><i class="fa fa-spin fa-circle-o-notch" style="color: rgba(0, 0, 0, 0.64);"></i></div>\n          <div class="graphLabel">Connections</div>\n        </div>\n      </div>\n\n    </div>\n\n\n    <div class="pure-g cluster-graphs">\n\n      <div class="pure-u-1-1 pure-u-md-24-24 pure-u-lg-12-24">\n        <div class="graphWrapper">\n          <div id=\'clusterData\'></div>\n          <div class="graphLabel">DATA</div>\n        </div>\n      </div>\n\n      <div class="pure-u-1-1 pure-u-md-12-24 pure-u-lg-6-24">\n        <div class="graphWrapper">\n          <div id=\'clusterHttp\'></div>\n          <div class="graphLabel">HTTP</div>\n        </div>\n      </div>\n\n      <div class="pure-u-1-1 pure-u-md-12-24 pure-u-lg-6-24">\n        <div class="graphWrapper">\n          <div id=\'clusterAverage\'></div>\n          <div class="graphLabel">AVG Request Time</div>\n        </div>\n      </div>\n\n    </div>\n\n  </div>\n\n'},function(e,t){e.exports="<div class=\"paddingBox\">\n  <div class=\"borderBox\"></div>\n  <i class=\"collection-type-icon fa <%= model.get('picture') %>\"></i>\n  <div class=\"tileBadge\">\n    <span>\n    <% if(model.get('desc')) { %>\n      <div class=\"corneredBadge inProgress\">\n        <%= model.get('desc') %>\n      </div>\n    <% } else if (model.get('status') === 'corrupted') { %>\n      <div class=\"corneredBadge <%= model.get('status') %>\">\n        <%= model.get('status') %>\n      </div>\n    <% } else if (model.get('status') === \"loaded\" ||\xa0model.get('status') === 'unloaded' ||\xa0model.get('status') === 'loading' || model.get('status') === 'unloading') { %>\n      <% if (!model.get('locked') && model.get(\"status\") !== \"loading\" && model.get(\"status\") !== \"unloading\") { %>\n        <div class=\"corneredBadge <%= model.get('status') %>\">\n          <%= model.get('status') %>\n        </div>\n      <% } else if (model.get('status') === 'loading' || model.get('status') === 'unloading') { %>\n        <div class=\"corneredBadge inProgress\">\n          <%= model.get('status') %>\n        </div>\n      <% } else { %>\n        <div class=\"corneredBadge inProgress\">\n          <%= model.get('status') %>\n        </div>\n      <% } %>\n    <% } %>\n    </span>\n  </div>\n\n  <% if(model.get('lockType') === \"index\") { %>\n    \x3c!-- <progress max=\"100\" value=\"80\"></progress>--\x3e\n    <h5 class=\"collectionName\"><%= model.get('name') %></h5>\n  <% } else { %>\n    <h5 class=\"collectionName\"><%= model.get('name') %></h5>\n  <% } %>\n</div>\n"},function(e,t){e.exports='  <div class="headerBar">\n    <div class="search-field">\n      <input type="text" id="searchInput" class="search-input" placeholder="Search..."/>\n      \x3c!-- <img id="searchSubmit" class="search-submit-icon"/> --\x3e\n      <i id="searchSubmit" class="fa fa-search"></i>\n    </div>\n    <div class="headerButtonBar">\n      <ul class="headerButtonList">\n        <li class="enabled">\n          <a id="collectionsToggle" class="headerButton">\n            <span class="icon_arangodb_settings2" title="Settings"></span>\n          </a>\n        </li>\n      </ul>\n    </div>\n\n  </div>\n\n\n  <div id="collectionsDropdown2" class="headerDropdown">\n\n    <div id="collectionsDropdown" class="dropdownInner">\n\n      <ul>\n        <li class="nav-header">Type</li>\n        <li><a>\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox checkSystemCollections" type="checkbox">\n            <i class="fa"></i>\n            System\n          </label>\n        </a></li>\n\n        <li><a>\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="checkDocument">\n            <i class="fa"></i>\n            Document\n          </label>\n        </a></li>\n\n        <li><a>\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="checkEdge">\n            <i class="fa"></i>\n            Edge\n          </label>\n        </a></li>\n\n        </li>\n      </ul>\n\n      <ul>\n        <li class="nav-header">Status</li>\n\n        <li><a href="#">\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="checkLoaded">\n            <i class="fa"></i>\n            Loaded\n          </label>\n        </a></li>\n\n        <li><a href="#">\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="checkUnloaded">\n            <i class="fa"></i>\n            Unloaded\n          </label>\n        </a></li>\n\n      </ul>\n      <ul>\n        <li class="nav-header">Sorting</li>\n\n        <li><a href="#">\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="sortName">\n            <i class="fa css-round-label"></i>\n            Sort by name\n          </label>\n        </a></li>\n\n        <li><a href="#">\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="sortType">\n            <i class="fa css-round-label"></i>\n            Sort by type\n          </label>\n        </a></li>\n\n        <li><a href="#">\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="sortOrder">\n            <i class="fa"></i>\n            Sort descending\n          </label>\n        </a></li>\n      </ul>\n    </div>\n\n  </div>\n\n  <div class="contentDiv" id="arangoCollectionsContainer">\n      <div id="collectionsThumbnailsIn" class="tileList pure-g">\n        <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">\n          <div class="fullBorderBox">\n            <a id="createCollection" class="add"><span id="newCollection" class="pull-left add-Icon"><i class="fa fa-plus-circle"></i>\n</span> Add Collection</a>\n          </div>\n        </div>\n      </div>\n  </div>\n\n'},function(e,t){e.exports='  <% var subBar = function(title) { %>\n    <div class="dashboard-sub-bar">\n      <div  class="dashboard-sub-bar-title"><%= title %></div>\n    </div>\n  <% }\n  var enlargeButton = function(name, arrows) {\n    if (arrows) { %>\n      <div class="dashboard-sub-bar-menu">\n        <i class="fa fa-arrows-alt dashboard-sub-bar-menu-sign" id="<%= name %>Button"></i>\n      </div>\n    <% }\n  } %>\n\n  <% var largeChart = function(name, title, arrows) { %>\n    <div class="dashboard-large-chart pure-u-1-1 pure-u-sm-1-1 pure-u-md-2-3">\n      <% enlargeButton(name, true); %>\n      <div class="dashboard-large-chart-inner dashboard-chart" id="<%= name %>Container">\n        <div class="dashboard-legend">\n          <div class="dashboard-legend-inner" id="<%= name %>Legend"></div>\n        </div>\n        <div id="<%= name %>" class="dashboard-interior-chart"></div>\n      </div>\n      <% subBar(title) %>\n    </div>\n  <% } %>\n\n  <% var mediumChart = function(name, title, arrows) { %>\n    <div class="dashboard-medium-chart-outer pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-2">\n      <div class="dashboard-medium-chart">\n        <% enlargeButton(name, true); %>\n          <div class="dashboard-legend">\n            <div class="dashboard-legend-inner" id="<%= name %>Legend"></div>\n          </div>\n        <div class="dashboard-medium-chart-inner dashboard-chart" id="<%= name %>Container">\n          <div id="<%= name %>" class="dashboard-interior-chart"></div>\n        </div>\n        <% subBar(title) %>\n      </div>\n    </div>\n  <% } %>\n\n  <% var smallChart = function(name, title, arrows) { %>\n    <div class="dashboard-small-chart pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3">\n      <% enlargeButton(name, arrows); %>\n      <div class="dashboard-small-chart-inner dashboard-chart" id="<%= name %>Container">\n        <div id="<%= name %>" class="dashboard-interior-chart">\n          <svg></svg>\n        </div>\n      </div>\n      <% subBar(title) %>\n    </div>\n  <% } %>\n\n  <% var tendency = function(title, name, arrows) { %>\n    <div class="dashboard-tendency-container pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3">\n      <div class="dashboard-tendency-chart">\n        <% enlargeButton(name, arrows); %>\n        <div class="dashboard-tendency">\n          <% if (name === "asyncRequests") {%>\n            <div class="dashboard-subtitle-bar">sync</div>\n            <div class="dashboard-figure">\n              <span id="syncPerSecondCurrent"></span>\n          <%} else {%>\n            <div class="dashboard-subtitle-bar">current</div>\n            <div class="dashboard-figure">\n              <span id="<%= name %>Current"></span>\n          <% } %>\n          </div>\n        </div>\n        <div class="dashboard-tendency">\n          <% if (name === "asyncRequests") {%>\n            <div class="dashboard-subtitle-bar">async</div>\n            <div class="dashboard-figure">\n              <span id="asyncPerSecondCurrent"></span>\n          <%} else {%>\n            <div class="dashboard-subtitle-bar">15-min-avg</div>\n            <div class="dashboard-figure">\n              <span id="<%= name %>Average"></span>\n          <% } %>\n          </div>\n        </div>\n      </div>\n      <div class="dashboard-sub-bar"><%= title %></div>\n    </div>\n  <% } %>\n\n  <ul class="subMenuEntries subViewNavbar">\n    <li id="requests-statistics" class="subMenuEntry active"><a>Request Statistics</a></li>\n    <li id="system-statistics" class="subMenuEntry "><a>System Resources</a></li>\n  </ul>\n\n  <div id="requests">\n    <div class="contentDiv">\n      <div class="dashboard-row pure-u cluster-values" id="node-info" style="width: 100%; margin-top: 0; padding-right: 2px; box-sizing: border-box;">\n      </div>\n\n      <% if (hideStatistics !== true) { %>\n        <div class="dashboard-row pure-u">\n          <% largeChart("requestsChart", "Requests per Second") %>\n\n          <% tendency("Request Types", "asyncRequests", false); %>\n          <% tendency("Number of Client Connections", "clientConnections", false); %>\n        </div>\n        \n        <div class="dashboard-row pure-u small-label-padding">\n          <% largeChart("dataTransferChart", "Transfer Size per Second") %>\n          <% smallChart("dataTransferDistribution", "Transfer Size per Second (distribution)", false) %>\n        </div>\n        \n        <div class="dashboard-row pure-u small-label-padding">\n          <% largeChart("totalTimeChart", "Average Request Time (seconds)") %>\n          <% smallChart("totalTimeDistribution", "Average Request Time (distribution)", false) %>\n        </div>\n      </div>\n    <% } %>\n  </div>\n\n  <div id="system" class="tendency-box-sizing" style="display: none";>\n\n    <div class="dashboard-row pure-u" style="width: 100%;">\n      <% tendency("Number of threads", "numberOfThreads", false); %>\n\n      <div class="dashboard-bar-chart-container pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3">\n        <div class="dashboard-bar-chart">\n          <div class="dashboard-bar-chart-title">\n            <div class="percentage"></div>\n            <div class="absolut"></div>\n          </div>\n          <div class="dashboard-bar-chart-chart" id="residentSizeChartContainer">\n            <div id="residentSizeChart">\n              <svg></svg>\n            </div>\n          </div>\n        </div>\n        <div class="dashboard-sub-bar"">Memory</div>\n      </div>\n\n      <% tendency("Virtual Size in GB", "virtualSize", false); %>\n    </div>\n    <div class="dashboard-row pure-u" style="width: 100%">\n      <% mediumChart("pageFaultsChart", "Major Page Faults") %>\n      <% mediumChart("systemUserTimeChart", "Used CPU Time per Second") %>\n    </div>\n\n  </div>\n\n'},function(e,t){e.exports='  <div class="headerBar">\n    <div class="search-field">\n      <input type="text" value="<%=searchString%>" id="databaseSearchInput" class="search-input" placeholder="Search..."/>\n      \x3c!-- <img id="databaseSearchSubmit" class="search-submit-icon">--\x3e\n      <i id="databaseSearchSubmit" class="fa fa-search"></i>\n    </div>\n    <div class="headerButtonBar">\n        <ul class="headerButtonList">\n          <li class="enabled">\n            <a id="databaseToggle" class="headerButton">\n              <span class="icon_arangodb_settings2" title="Settings"></span>\n            </a>\n          </li>\n        </ul>\n      </div>\n\n  </div>\n\n\n  <div id="databaseDropdown2" class="headerDropdown">\n\n    <div id="databaseDropdown" class="dropdownInner">\n      <ul>\n        <li class="nav-header">Sorting</li>\n        <li><a>\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="dbSortDesc">\n            <i class="fa"></i>\n            Sort descending\n          </label>\n        </a></li>\n      </ul>\n    </div>\n\n  </div>\n\n\n  <div class="contentDiv" id="userManagementView">\n    <div class="tileList pure-u">\n      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">\n        <div class="fullBorderBox">\n          <a href="#" id="createDatabase" class="add">\n            <span id="newDatabase" class="pull-left add-Icon"><i class="fa fa-plus-circle"></i></span>\n            Add Database\n          </a>\n        </div>\n      </div>\n      <% collection.forEach(function(db) {\n          var name = db.get("name");\n      %>\n\n      <% if (name !== \'_system\') { %>\n        <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6 defaultCursor">\n          <div class="fullBorderBox" style="border: 0;">\n            <div class="borderBox"></div>\n            <div class="iconSet">\n              <% if (!readOnly) { %>\n                <span class="icon_arangodb_settings2 editDatabase" id="<%=name %>_edit-database" alt="Edit database" title="Edit database"></span>\n              <% } %>\n            </div>\n            <i class="collection-type-icon fa fa-database defaultCursor"></i>\n            <div class="tileBadge">\n            </div>\n            <h5 class="collectionName" style="margin-left: 0; margin-right: 0;"><%=name %></h5>\n          </div>\n        </div>\n      <%};%>\n\n      <%});%>\n     </div>\n  </div>\n\n'},function(e,t){e.exports='<a href="#" class="tab disabled" id="dbselection"><div class="dbselection"><i class="fa fa-database"></i><span class="db-name">DB: </span> <%=current%>\n\x3c!-- <i class="fa fa-caret-square-o-down"></i> --\x3e\n</div>\n\x3c!-- <b class="caret"></b> --\x3e\n</a>\n\n\x3c!--\n<ul class="link-dropdown-menu" id="dbs_dropdown">\n<%\nif (list.length > 0) {\n%>\n    <li class="dropdown-header">Databases</li>\n  <%\n    _.each(list, function(i) {\n  %>\n    <li class="dropdown-item">\n        <a id=<%=i%> class="dbSelectionLink tab" href="#"><%=i%></a>\n    </li>\n  <%\n    });\n  %>\n<%\n}\n%>\n    <% if (current === "_system") { %>\n    <% if (list.length >= 2) { %>\n      <li class="divider"></li>\n    <% } %>\n    <li class="dropdown-header">Manager</li>\n    <li id="databaseNavi" class="dropdown-item">\n      <a id="databases" class="tab" href="#databases">Manage Databases</a>\n    </li>\n    <% } %>\n</ul>\n--\x3e\n'},function(e,t){e.exports='\n  <div class="headerBar">\n    <div class="headerButtonBar">\n      <ul class="headerButtonList">\n        <li class="enabled">\n          <a id="addDocument" class="headerButton">\n            <span title="Add new document">\n              <i class="fa fa-file fa-stack-1x"></i>\n              <i class="fa fa-plus fa-stack-1x fa-top"></i>\n            </span>\n          </a>\n        </li>\n      </ul>\n    </div>\n\n  </div>\n\n  <div class="innerContent document-info-div">\n\n    <div class="document-info">\n\n      <div class="document-type-container">\n        <div id="document-type" class="document-bold-font"></div>\n        <div id="document-id" class="document-thin-font"></div>\n      </div>\n\n      <div class="document-info-container">\n\n        <div class="document-inner-info-container">\n          <div class="document-attribute">\n            <div class="document-bold-font">_rev:</div>\n            <div id="document-rev" class="document-thin-font"></div>\n          </div>\n          <div class="document-attribute">\n            <div class="document-bold-font">_key:</div>\n            <div id="document-key" class="document-thin-font"></div>\n          </div>\n        </div>\n\n        <div class="document-inner-info-container edge-info-container">\n          <div class="document-attribute">\n            <div class="document-bold-font">_from:</div>\n            <div id="document-from" class="document-thin-font document-link"></div>\n          </div>\n          <div class="document-attribute">\n            <div class="document-bold-font">_to:</div>\n            <div id="document-to" class="document-thin-font document-link"></div>\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n\n  <div id="tableDiv" class="innerContent document-content-div">\n\n    <div id="documentEditor" class="document-editor"></div>\n    <div class="bottomButtonBar">\n      <button id="saveDocumentButton" class="button-success pull-right">Save</button>\n      <button id="deleteDocumentButton" class="button-danger pull-right">Delete</button>\n    </div>\n    <div class="pull-left shortcuts showHotkeyHelp"></div>\n    </div>\n\n'},function(e,t){e.exports='<div id="transparentHeader" class="headerBar marginTop5">\n\n  <div id="documentsToolbar" class="headerButtonBar">\n\n  \x3c!-- remove marker for docupdiv--\x3e\n  <ul class="headerButtonList">\n    \x3c!-- Mark: removed prev/next collection button\n    <li class="enabled">\n      <a id="collectionNext" class="headerButton">\n        <span class="icon_arangodb_arrowright" title="Next collection"></span>\n      </a>\n    </li>\n    <li class="enabled">\n      <a id="collectionPrev" class="headerButton collection-pagination">\n        <span class="icon_arangodb_arrowleft" title="Previous collection"></span>\n      </a>\n    </li>\n    --\x3e\n    <li class="enabled">\n        <select id="documentSize" class="documents-size">\n          <option value="10" selected="">10 results</option>\n          <option value="20">20 results</option>\n          <option value="50">50 results</option>\n          <option value="100">100 results</option>\n          <option value="500">500 results</option>\n          <option value="1000">1000 results</option>\n          <option value="2500">2500 results</option>\n          <option value="5000">5000 results</option>\n          <option value="all">All results</option>\n        </select>\n      </a>\n    <li class="enabled">\n      <a id="markDocuments" class="headerButton">\n        <span title="Edit documents"><i class="fa fa-hand-pointer-o"></i></span>\n      </a>\n    </li>\n    <li class="enabled">\n      <a id="importCollection" class="headerButton">\n        <span title="Upload documents from JSON file"><i class="fa fa-upload"></i></span>\n      </a>\n    </li>\n    <li class="enabled">\n      <a id="exportCollection" class="headerButton">\n        <span title="Download documents as JSON file"><i class="fa fa-download" style="margin-top: 1px;"></i></span>\n      </a>\n    </li>\n    <li class="enabled" style="margin-right: 15px">\n      <a id="filterCollection" class="headerButton">\n        <span title="Filter collection"><i class="fa fa-filter"></i></span>\n      </a>\n    </li>\n  </ul>\n\n  </div>\n</div>\n\n<div class="arangoDropdown documentsDropdown">\n  <div id="filterHeader" class="headerDropdown">\n     <div style="float: right;">\n       <button id="resetView" class="button-warning btn-old-padding">Reset</button>\n       <button id="filterSend" class="button-success btn-old-padding">Filter</button>\n       <input type="text" id="docsSort" style="float: right" placeholder="Sort by attribute"></input>\n    </div>\n    <div class="queryline querylineAdd">\n       <input id="attribute_name0" type="text" placeholder="Attribute name"><select name="operator" id="operator0" class="filterSelect">\n           <option value="==">==</option>\n           <option value="!=">!=</option>\n           <option value="&lt;">&lt;</option>\n           <option value="&lt;=">&lt;=</option>\n           <option value="&gt;">&gt;</option>\n           <option value="&gt;=">&gt;=</option>\n           <option value="LIKE">LIKE</option>\n           <option value="IN">IN</option>\n           <option value="NOT IN">NOT IN</option>\n           <option value="=~">REGEX</option>\n       </select><input id="attribute_value0" type="text" placeholder="Attribute value" class="filterValue">\n       <a id="addFilterItem" class="add-filter-item"><i class="fa fa-plus-circle"></i></a>\n     </div>\n  </div>\n\n  <div id="importHeader" class="dropdownImport">\n    <div class="queryline">\n      <input id="importDocuments" name="importDocuments" type="file" accept="application/json" />\n      <button id="confirmDocImport" class="button-success btn-old-padding" style="float:right" disabled>\n        <span class="upload-indicator"><i id="uploadIndicator" class="fa fa-circle-o-notch fa-spin fa-fw"></i></span>Import JSON\n      </button>\n      <div title=\'Example input data:<br /><br /> I. Line-wise: <br /> { "_key": "key1", ... } <br /> { "_key": "key2", ... } <br /><br /> or <br /><br /> II. JSON documents embedded into a list: <br /> [ <br /> &nbsp; { "_key": "key1", ... }, <br /> &nbsp; { "_key": "key2", ... }, <br /> &nbsp; ... <br /> ]\' class="upload-info" style="float:left; margin-top:7px; margin-right: 10px;"><i style="font-size: 13pt;" class="fa fa-info-circle"></i></div>\n    </div>\n  </div>\n\n  <div id="exportHeader" class="headerDropdown">\n    <div class="queryline">\n      <div style="float:left; margin-top:7px"><i class="fa fa-exclamation-circle"></i>Please be careful. If no filter is set, the whole collection will be downloaded.</div>\n      <button id="exportDocuments" class="button-success btn-old-padding" style="float:right">Download JSON</button>\n    </div>\n  </div>\n\n  <div id="editHeader" class="dropdownImport">\n    <div class="queryline">\n      <div style="float:left; margin-top:5px"><div style="float:left" class="selectedCount">0</div> &nbsp; document(s) selected</div>\n      <button id="deleteSelected" class="button-neutral btn-old-padding" style="float:right">Delete</button>\n      <button id="moveSelected" class="button-neutral btn-old-padding" style="float:right">Move</button>\n    </div>\n  </div>\n\n</div>\n\n<div id="documentsDiv" class="innerContent">\n\n<div id="uploadMessages"></div>\n\n<div id="docPureTable">\n\n</div>\n\n\x3c!--\n<div id="documentsTableID_wrapper" class="dataTables_wrapper" role="grid">\n  <table class="display arangoDataTable dataTable" id="documentsTableID">\n  </table>\n</div>\n--\x3e\n\n    <div id="documentsToolbarFL">\n      <div id="documentsToolbarF" class="pagination-line">\n      </div>\n    </div>\n\n\x3c!-- Delete Modal --\x3e\n<div id="docDeleteModal" style="display:none" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>\n    <a class="arangoHeader">Delete Document?</a>\n  </div>\n  <div class="modal-body" id="deleteDoc">\n    <p style="padding: 20px;">There is no way back\u2026</p>\n  </div>\n  <div class="modal-footer">\n    <button class="button-close" data-dismiss="modal" aria-hidden="true">Close</button>\n    <button id="confirmDeleteBtn" class="button-danger" style="float:right" disabled="true">Delete</button>\n  </div>\n</div>\n\n'},function(e,t){e.exports='  <tr class="tableRow" id="row_newEdgeDefinitions<%= number%>">\n    <th class="collectionTh">Edge definitions*:</th>\n    <th class="collectionTh">\n      <input type="hidden" id="newEdgeDefinitions<%= number%>" value="" placeholder="Edge definitions" tabindex="-1" class="select2-offscreen">\n      <button id="remove_newEdgeDefinitions<%= number%>" class="graphViewer-icon-button gv_internal_remove_line gv-icon-small delete"></button>\n    </th><th>\n    <span class="modalTooltips arangoicon icon_arangodb_info" title="An edge definition defines a relation of the graph">\n    </span>\n    </th>\n  </tr>\n  <tr class="tableRow" id="row_fromCollections<%= number%>">\n    <th class="collectionTh">fromCollections*:</th>\n    <th class="collectionTh">\n      <input type="hidden" id="fromCollections<%= number%>" value="" placeholder="fromCollections" tabindex="-1" class="select2-offscreen">\n    </th><th>\n    <span class="modalTooltips arangoicon icon_arangodb_info" title="The collection that contain the start vertices of the relation.">\n    </span>\n  </th>\n  </tr>\n  <tr class="tableRow" id="row_toCollections<%= number%>">\n    <th class="collectionTh">toCollections*:</th>\n    <th class="collectionTh">\n      <input type="hidden" id="toCollections<%= number%>" value="" placeholder="toCollections" tabindex="-1" class="select2-offscreen">\n    </th><th>\n    <span class="modalTooltips arangoicon icon_arangodb_info" title="The collection that contain the end vertices of the relation.">\n    </span>\n  </th>\n  </tr>\n'},function(e,t){e.exports='<td class="writable sorting_1">\n  <% if (isReadOnly) { %>\n    <span class="key"><%=key%></span>\n  <% } else { %>\n    <input type="text" class="key" placeholder="attribute" <%=key?"value=" + key:""%>></input>\n  <% } %>\n</td>\n<td class="writeable rightCell">\n  <% if (isReadOnly) { %>\n    <span class="val"><%=value%></span>\n  <% } else { %>\n    <textarea class="val" placeholder="value"><%=value?value:""%></textarea>\n  <% } %>\n</td>\n</td>\n<td class="leftCell">\n  <a class="deleteAttribute">\n    <span class="icon_arangodb_roundminus" data-original-title="Delete attribute"></span>\n  </a>\n</td>\n'},function(e,t){e.exports='\n<div class="filterSelectBox">\n  <div class="filterLabel"><%=name%><span><i class="fa fa-close" id="closeFilter"></i></span></div>\n\n  <div class="filterInput">\n    <input type="text" id="<%=name%>-filter" placeholder="Filter <%=name%>" aria-label="Filter labels" autocomplete="off">\n  </div>\n\n  <div class="filterOptions">\n    <div id="showAll"><strong>Show all</strong></div>\n    <% var cssClass; %>\n    <% _.each(options, function (option) { %>\n      <% if (option.active) { %>\n      <%  cssClass = \'active\'; %>\n      <% } else { %> \n      <% cssClass = \'inactive\'; %>\n      <% } %>\n      <div class="<%=cssClass%>" name="<%=option.name%>" id="<%=option.name%>-option">\n        <% var color = option.color ||\xa0\'#f6f8fa\'; %>\n     \n        <% if (cssClass === \'active\') { %>\n          <span class="marked"><i class="fa fa-check"/></span>\n        <% } else { %>\n          <span style="visibility: hidden;" class="marked"><i class="fa fa-check"/></span>\n        <% } %>\n\n        <span class="color" style="background-color: <%=color%>">&nbsp;</span>\n        <span class="name"><%=option.name%></span>\n      </div>\n    <% }); %>\n  </div>\n\n</div>\n\n'},function(e,t){e.exports='<%\n  var n,v,db;\n  if (name) {\n    n = name || "";\n    v = version || "";\n  }\n%>\n<div class="footer-left">\n\x3c!--\n  <div class="social-icons">\n    <p><a href="https://twitter.com/arangodb" target="_blank"><i class="fa fa-twitter"></i></a></p>\n    <p><a href="https://www.arangodb.com/community" target="_blank"></a><i class="fa fa-envelope"></i></a></p>\n    <p><a href="https://stackoverflow.com/questions/tagged/arangodb" target="_blank"></a><i class="fa fa-stack-overflow"></i></a></p>\n    <p><a href="https://groups.google.com/group/arangodb" target="_blank"></a><i class="fa fa-google"></i></a></p>\n  </div>\n--\x3e\n</div>\n\n<div class="footer-center">\n  <p>Help <i class="fa fa-keyboard-o"></i></p>\n</div>\n\n<div class="footer-right">\n  <p><% if(n) { %><a><%=n%> <%=v%> <% } %></a></p>\n</div>\n'},function(e,t){e.exports='  <div class="paddingBox">\n    <div class="foxxDesc">\n      <p><span class="foxxMount"><%=model.get("mount")%></span></p>\n      <p><span class="foxxName"><%=model.get("name")%></span></p>\n      <p><span class="foxxName"><%=model.get("version")%></span></p>\n      \x3c!--<p><span class="foxxCategory"><%=model.get("category")%></span></p>--\x3e\n    </div>\n    \x3c!-- <div class="foxxActions"><button class="installFoxx button-success" appId="<%=model.name %>" appVersion="<%=model.latestVersion%>" >Interface</button></div>--\x3e\n    <div class="borderBox"></div>\n    <img src="<%= model.thumbnailUrl %>" height="50" width="50" alt="Icon for Service" class="icon">\n    <% if(model.isDevelopment()) { %>\n      <div class="tileBadge">\n        <span>\n          <div class="corneredBadge development">\n            Development\n          </div>\n        </span>\n      </div>\n    <% } else { %>\n      <div class="tileBadge">\n        <span>\n          <div class="corneredBadge production">\n            Production\n          </div>\n        </span>\n      </div>\n    <% } %>\n  </div>\n'},function(e,t){e.exports='<%var appInfos = attributes.app.split(":"); %>\n<div id="change-foxx" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display:none">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>\n    <a class="arangoHeader">Modify Service</a>\n  </div>\n  <div class="modal-body">\n    <table>\n      <tr>\n        <th class="collectionTh">Name:</th>\n        <th class="collectionTh"><strong><%=appInfos[1] %></strong></th>\n      </tr>\n      <tr>\n        <th class="collectionTh">Documentation:</th>\n        <th class="collectionTh"><%=documentationJsonUrl%></th>\n      </tr>\n      <tr>\n        <th class="collectionTh">Mount:</th>\n        <th class="collectionTh"><input type="text" id="change-mount-point" name="mountpoint" value="<%=attributes.mount%>"/></th>\n        <th><span class="modalTooltips arangoicon icon_arangodb_info" title="The path where the app can be reached."></span></th>\n      </tr>\n      <tr>\n        <th class="collectionTh">Version:</th>\n        <th class="collectionTh">\n          <select>\n            <option selected><%=appInfos[2] %></option>\n          </select>\n        <th>\n      </tr>\n      <tr>\n        <th class="collectionTh">System:</th>\n        <th class="collectionTh">\n          <%=attributes.isSystem ? "Yes" : "No" %>\n        <th>\n      </tr>\n      <tr>\n        <th class="collectionTh">Status:</th>\n        <th class="collectionTh">\n          <%if (attributes.active) {%>\n            <div class="modal-text active">\n              Active\n            </div>\n          <%} else {%>\n            <div class="modal-text inactive">\n              Inactive\n            </div>\n          <%}%>\n        </th>\n      </tr>\n    </table>\n  </div>\n  <div id="colFooter" class="modal-footer">\n    <button id="uninstall" class="button-danger"<%=(attributes.isSystem || attributes.development) ? " disabled" : ""%>>Uninstall</button>\n    <button id="change" class="button-success pull-right">Save</button>\n    <%if (false && attributes.active) {%>\n      <button id="deactivate" class="button-warning pull-right" style="margin-right:8px" disabled>Deactivate</button>\n    <%} else if (false) {%>\n      <button id="activate" class="button-success pull-right" style="margin-right:8px" disabled>Activate</button>\n    <%}%>\n    \n  </div>\n</div>\n'},function(e,t){e.exports='<div id="install-foxx" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display:none">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>\n    <a class="arangoHeader">Install Service</a>\n  </div>\n  <div class="modal-body">\n    <table>\n      <tr>\n        <th class="collectionTh">Name:</th>\n        <th class="collectionTh"><strong><%=attributes.name %></strong></th>\n      </tr>\n      <tr>\n        <th class="collectionTh">&nbsp;</th>\n        <th class="collectionTh">&nbsp;</th>\n      </tr>\n      <tr>\n        <th class="collectionTh">Mount:</th>\n        <th class="collectionTh">\n          <input type="text" id="mount-point" name="mountpoint" value="/<%=attributes.name%>" placeholder="mount-path" />\n        </th>\n        <th><a class="modalTooltips" title="The path where the app can be reached."><i class="arangoicon icon_arangodb_info"></i></a></th>\n      </tr>\n      <tr>\n        <th class="collectionTh">Version:</th>\n        <th class="collectionTh">\n          <%=attributes.version %>\n        <th>\n      </tr>\n      <tr>\n        <th class="collectionTh">System:</th>\n        <th class="collectionTh">\n          <%=attributes.isSystem ? "Yes" : "No" %>\n        <th>\n      </tr>\n    </table>\n  </div>\n  <div id="colFooter" class="modal-footer">\n    <button class="button-success pull-right installFoxx">Install</button>    \n    <button id="cancel" class="button-danger pull-right">Cancel</button>\n  </div>\n</div>\n'},function(e,t){e.exports='  <div class="paddingBox">\n    <div class="foxxDesc">\n      <p><span class="foxxName"><%=model.name%></span></p>\n      <p><span class="foxxCategory"><%=model.categories%></span></p>\n      \x3c!--<p><i class="fa fa-star"></i><span class="foxxStars">23</span></p>--\x3e\n    </div>\n    <div class="foxxActions">\n      <% if (upgrade) { %>\n        <button class="installFoxx button-success" appId="<%=model.name %>" appVersion="<%=model.latestVersion%>" >Replace</button>\n      <% } else { %>\n        <button class="installFoxx button-success" appId="<%=model.name %>" appVersion="<%=model.latestVersion%>" >Install</button>\n      <% } %>\n    </div>\n    <div class="borderBox"></div>\n    <img src="<%= thumbnail %>" height="50" width="50" alt="Icon for Service" class="icon">\n  </div>\n'},function(e,t){e.exports='  <div class="headerBar">\n    <div class="search-field">\n      <input type="text" value="<%=searchString%>" id="graphManagementSearchInput" class="search-input" placeholder="Search..."/>\n      <i id="graphManagementSearchSubmit" class="fa fa-search"></i>\n      \x3c!-- <img id="graphManagementSearchSubmit" class="search-submit-icon"> --\x3e\n    </div>\n     <div class="headerButtonBar">\n        <ul class="headerButtonList">\n          <li class="enabled">\n            <a id="graphManagementToggle" class="headerButton">\n              <span class="icon_arangodb_settings2" title="Settings"></span>\n            </a>\n          </li>\n        </ul>\n      </div>\n  </div>\n\n\n  <div id="graphManagementDropdown2" class="headerDropdown">\n\n    <div id="graphManagementDropdown" class="dropdownInner">\n      <ul>\n        <li class="nav-header">Sorting</li>\n        <li><a>\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="graphSortDesc">\n            <i class="fa"></i>\n            Sort descending\n          </label>\n        </a></li>\n      </ul>\n    </div>\n\n  </div>\n\n\n  <div class="contentDiv" id="arangoCollectionsContainer">\n    <div id="graphManagementThumbnailsIn" class="tileList pure-u">\n      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">\n        <div class="fullBorderBox">\n          <a href="#" id="createGraph" class="add">\n            <span id="newGraph" class="pull-left add-Icon"><i class="fa fa-plus-circle"></i></span>\n            Add Graph\n          </a>\n        </div>\n      </div>\n\n\n      <% graphs.forEach(function(graph) {\n        var graphName = graph.get("_key");\n        var isSmart = graph.get("isSmart");\n        var isSatellite = graph.get("isSatellite") || (graph.get("replicationFactor") == "satellite");\n      %>\n\n      <div class="tile tile-graph pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6" id="<%=graphName %>_tile">\n        <div class="paddingBox">\n          <div class="borderBox"></div>\n          <div class="iconSet">\n            <span class="icon_arangodb_settings2 editGraph" id="<%=graphName %>_settings" alt="Edit graph" title="Edit graph"></span>\n          </div>\n          <span class="icon_arangodb_edge5 tile-icon"></span>\n          <span class="icon_arangodb_edge5 icon_arangodb_edge5-2 tile-icon"></span>\n          <div class="tileBadge">\n            <% if (isSmart === true) { %>\n              <span><div class="corneredBadge inProgress">Smart</div></span>\n            <% } else if (isSatellite === true) { %>\n              <span><div class="corneredBadge inProgress">Satellite</div></span>\n            <% } %>\n          </div>\n          <h5 class="collectionName"><%=graphName %></h5>\n        </div>\n      </div>\n\n      <%});%>\n     </div>\n  </div>\n\n'},function(e,t){e.exports='\n  <% var genClass = \'pure-u-1-3\'; %>\n  <% var genClass2 = \'pure-u-2-3\'; %>\n\n  <% var formatName = function(name) { %>\n    <% return name.charAt(0).toUpperCase() + string.slice(1);%>\n  <% }; %>\n\n  <div id="graphSettingsView" class="innerContent">\n    \n    <div class="pure-g" style="margin-top: -13px">\n      <div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1 pure-u-xl-1-1">\n    \n        <div class="pure-g pure-table pure-table-body">\n\n          <% _.each(general, function(val, key) { %>\n            <% if (val.type === \'divider\') { %>\n              <div class="pure-u-1-1 left heading"><%=val.name%></div>\n            <% } else { %>\n            <div class="<%= genClass %> left">\n              <%=val.name%>\n            </div>\n            <div class="<%= genClass2 %> left">\n\n              <% if (val.type === \'select\') { %>\n                  <select id="g_<%=key%>">\n                    <% _.each(val, function(option, optKey) { %>\n                      <% if (option.name) { %>\n                        <option value="<%=option.val%>"> <%=option.name%> </option>\n                      <% } %>\n                    <% }); %>\n                  </select>\n              <% } %>\n\n              <% if (val.type === \'string\') { %>\n                <input id="g_<%=key%>" type="text" placeholder="attribute"></input>\n              <% } %>\n\n              <% if (val.type === \'number\') { %>\n                <input id="g_<%=key%>" type="text" id="<%=val %>" value="<%=val.value %>" placeholder=""></input>\n              <% } %>\n\n              <% if (val.type === \'range\') { %>\n                <label id="g_<%=key%>_label" class="rangeLabel">1</label>\n                <input id="g_<%=key%>" type=\'range\' min="0" max="9" val="1"/>\n              <% } %>\n\n              <% if (val.type === \'color\') { %>\n                <input id="g_<%=key%>" type=\'color\' name=\'color\' value="<%=VALUE%>"/>\n              <% } %>\n\n              <i title="<%=val.desc%>" class="fa fa-info-circle gv-tooltips" aria-hidden="true"></i>\n              </div>\n            <% } %>\n\n          <% }); %>\n        </div>\n\n      </div>\n\n      <div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1 pure-u-xl-1-1">\n    \n        <div class="pure-g pure-table pure-table-body">\n          <% _.each(specific, function(val, key) { %>\n\n            <% if (val.hide !== \'true\') { %>\n              <% if (val.type === \'divider\') { %>\n                <div class="pure-u-1-1 left heading"><%=val.name%></div>\n              <% } else { %>\n                <div class="<%= genClass %> left">\n                  <%=val.name%>\n                </div>\n\n                <div class="<%= genClass2 %> left">\n\n                  <% var VALUE; %>\n                  <% if (val.value) { %>\n                    <% VALUE = val.value %>\n                  <% } else { %>\n                    <% VALUE = val.default %>\n                  <% } %>\n\n                  <% if (val.type === \'string\') { %>\n                    <input id="g_<%=key%>" type="text" placeholder="attribute"></input>\n                  <% } %>\n\n                  <% if (val.type === \'number\') { %>\n                    <input id="g_<%=key%>" type="text" placeholder="number"></input>\n                  <% } %>\n\n                  <% if (val.type === \'color\') { %>\n                    <input id="g_<%=key%>" type=\'color\' name=\'color\' value="<%=VALUE%>"/>\n                  <% } %>\n\n                  <% if (val.type === \'range\') { %>\n                    <label id="g_<%=key%>_label" class="rangeLabel">1</label>\n                    <input id="g_<%=key%>" type=\'range\' min="0" max="9" val="1"/>\n                  <% } %>\n\n                  <% if (val.type === \'select\') { %>\n                    <select id="g_<%=key%>">\n                      <% _.each(val, function(option, optKey) { %>\n                        <% if (option.name) { %>\n                          <option value="<%=option.val%>"> <%=option.name%> </option>\n                        <% } %>\n                      <% }); %>\n                    </select>\n                  <% } %>\n                  <i title="<%=val.desc%>" class="fa fa-info-circle gv-tooltips" aria-hidden="true"></i>\n                </div>\n              <% } %>\n            <% } %>\n          <% }); %>\n        </div>\n\n        <div class="pure-u-1-1">\n          <button id="saveGraphSettings" style="margin-top: 20px; margin-right: 10px;" class="button-success pull-right">Save</button>\n          <button id="restoreGraphSettings" style="margin-top: 20px;" class="button-success pull-right">Restore defaults</button>\n        </div>\n      </div>\n  </div>\n\n'},function(e,t){e.exports='<div class="control-group">\n  <label for="<%=type %>_<%=id%>" class="control-label">Attribute <%=id%></label>\n  <div class="controls">\n    <input id="<%=type %>_<%=id%>" type="text" name="<%=type %>_<%=id%>" placeholder="Attribute" maxlength="75" class="input-xlarge">\n    <button id="remove_<%=type %>_<%=id%>" class="graphViewer-icon-button gv_internal_remove_line gv-icon-small delete" />\n  </div>\n</div>\n'},function(e,t){e.exports='  <div class="graphContent" id="graphContainer">\n\n    <div class="headerBar">\n      <div class="headerButtonBar" style="margin: 0;">\n        <ul class="headerButtonList">\n          <li class="enabled">\n            <a id="settingsMenu" class="headerButton">\n              <span title="Configure graph settings">\n                <i class="fa fa-bars fa-stack-1x"></i>\n              </span>\n            </a>\n          </li>\n          <li class="enabled">\n            <a id="graph-fullscreen-btn" class="headerButton">\n              <span title="Switch to fullscreen mode">\n                <i class="fa fa-television"></i>\n              </span>\n            </a>\n          </li>\n          <li class="enabled">\n            <a id="downloadPNG" class="headerButton">\n              <span title="Download visible graph as png image">\n                <i class="fa fa-camera fa-stack-1x"></i>\n              </span>\n            </a>\n          </li>\n          <li class="enabled">\n            <a id="loadFullGraph" class="headerButton">\n              <span title="Fetch full graph - use with caution">\n                <i class="fa fa-share-alt"></i>\n              </span>\n            </a>\n          </li>\n          \x3c!--\n          <li class="enabled">\n            <a id="selectNodes" class="headerButton">\n              <span title="Lasso tool - Select and delete multiple nodes">\n                <i class="fa fa-paint-brush fa-stack-1x"></i>\n              </span>\n            </a>\n          </li>\n          --\x3e\n        </ul>\n      </div>\n    </div>\n\n    \x3c!--<div id="graph-fullscreen-btn"><i class="fa fa-desktop"></i></div>--\x3e\n    <div id="graph-container" oncontextmenu="return false;"></div>\n  </div>\n\n'},function(e,t){e.exports='\n<div class="helpUs">\n  <iframe src="https://docs.google.com/forms/d/1vsIwy0mJSeToEnfo_jnBaQebewbcURL730IkZIrkyEE/viewform?embedded=true" scrolling="no" width="100%" height="1300px" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>\n</div>\n\n'},function(e,t){e.exports='  <% if (typeof supported !== \'undefined\') { %>\n    <div class="contentIn" id="indexHeaderContent">\n        <div id="indexEditView">\n          <table id="collectionEditIndexTable" class="edit-index-table arango-table">\n            <thead>\n              <tr class="figuresHeader">\n                <th class="collectionInfoTh">ID</th>\n                <th class="collectionInfoTh">Type</th>\n                <th class="collectionInfoTh">Unique</th>\n                <th class="collectionInfoTh">Sparse</th>\n                <th class="collectionInfoTh">Deduplicate</th>\n                <th class="collectionInfoTh">Selectivity Est.</th>\n                <th class="collectionInfoTh">Fields</th>\n                <th class="collectionInfoTh">Name</th>\n                <th class="collectionInfoTh">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n            </tbody>\n            <tfoot>\n              <tr>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td><i class="fa fa-plus-circle" id="addIndex"></i></td>\n              </tr>\n            </tfoot>\n          </table>\n      </div>\n\n          <div id="newIndexView" class="new-index-view" style="display:none">\n            <table>\n              <tr>\n                <th class="collectionTh">Type:</th>\n                <th class="">\n                  <select id="newIndexType">\n                    <option style="display: none" disabled selected value="unknown"> -- select an index -- </option>\n                    <% if (supported.indexOf(\'geo\') > -1) { %> \n                      <option value="Geo">Geo Index</option>\n                    <% } %> \n                    <% if (supported.indexOf(\'hash\') > -1) { %> \n                      <option value="Hash">Hash Index</option>\n                    <% } %> \n                    <% if (supported.indexOf(\'persistent\') > -1) { %> \n                      <option value="Persistent">Persistent Index</option>\n                    <% } %> \n                    <% if (supported.indexOf(\'fulltext\') > -1) { %> \n                      <option value="Fulltext">Fulltext Index</option>\n                    <% } %> \n                    <% if (supported.indexOf(\'skiplist\') > -1) { %> \n                      <option value="Skiplist">Skiplist Index</option>\n                    <% } %> \n                    <% if (supported.indexOf(\'ttl\') > -1) { %> \n                      <option value="Ttl">TTL Index</option>\n                    <% } %> \n                  </select>\n                </th>\n                <th class="tooltipInfoTh">\n                  <div class="tooltipDiv">\n                    <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Type of index to create. <% if (supported.indexOf(\'hash\') <= -1) { %>Please note that for the RocksDB engine the index types hash, skiplist and persistent are identical, so that they are not offered seperately here.<% } %>">\n                      <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                    </a>\n                  </div>\n                </th>\n              </tr>\n            </table>\n            <div id="newIndexTypeGeo" class="newIndexClass" style="display: none">\n              <table>\n                <tr>\n                  <th class="collectionTh">Fields:</th>\n                  <th><input type="text" id="newGeoFields" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="A comma-separated list with one or two attribute paths. Example: latitude,longitude">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Name:</th>\n                  <th><input type="text" id="newGeoName" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Geo JSON:</th>\n                  <th>\n                    <input id="newGeoJson" type="checkbox" name="newGeoJson" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Set geoJson to true if the coordinates stored in the specified attribute are arrays in the form [longitude,latitude].">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Create in background:</th>\n                  <th>\n                    <input id="newGeoBackground" type="checkbox" name="newGeoBackground" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Create the index in background.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n              </table>\n            </div>\n            <div id="newIndexTypePersistent" class="newIndexClass" style="display:none">\n              <table>\n                <tr>\n                  <th class="collectionTh">Fields:</th>\n                  <th><input type="text" id="newPersistentFields" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="A comma-separated list of attribute paths.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Name:</th>\n                  <th><input type="text" id="newPersistentName" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Unique:</th>\n                  <th>\n                    <input id="newPersistentUnique" type="checkbox" name="newPersistentUnique" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="If true, then create a unique index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Sparse:</th>\n                  <th>\n                    <input id="newPersistentSparse" type="checkbox" name="newPersistentSparse" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="If true, then create a sparse index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Deduplicate array values:</th>\n                  <th>\n                    <input id="newPersistentDeduplicate" type="checkbox" name="newPersistentDeduplicate" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Duplicate index values from the same document into a unique array index will lead to an error or not.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Create in background:</th>\n                  <th>\n                    <input id="newPersistentBackground" type="checkbox" name="newPersistentBackground" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Create the index in background.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n              </table>\n            </div>\n            <div id="newIndexTypeHash" class="newIndexClass" style="display:none">\n              <table>\n                <tr>\n                  <th class="collectionTh">Fields:</th>\n                  <th><input type="text" id="newHashFields" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="A comma-separated list of attribute paths.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Name:</th>\n                  <th><input type="text" id="newHashName" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Unique:</th>\n                  <th>\n                    <input id="newHashUnique" type="checkbox" name="newHashUnique" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="If true, then create a unique index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Sparse:</th>\n                  <th>\n                    <input id="newHashSparse" type="checkbox" name="newHashSparse" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="If true, then create a sparse index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Deduplicate array values:</th>\n                  <th>\n                    <input id="newHashDeduplicate" type="checkbox" name="newHashDeduplicate" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Duplicate index values from the same document into a unique array index will lead to an error or not.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Create in background:</th>\n                  <th>\n                    <input id="newHashBackground" type="checkbox" name="newHashBackground" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Create the index in background.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n              </table>\n            </div>\n            <div id="newIndexTypeFulltext" class="newIndexClass" style="display:none">\n              <table>\n                <tr>\n                  <th class="collectionTh">Fields:</th>\n                  <th><input type="text" id="newFulltextFields" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="A single attribute path. Example: message.text">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Name:</th>\n                  <th><input type="text" id="newFulltextName" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Min. length:</th>\n                  <th><input type="text" id="newFulltextMinLength" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Minimum character length of words to index. Will default to a server-defined value if unspecified. It is thus recommended to set this value explicitly when creating the index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Create in background:</th>\n                  <th>\n                    <input id="newFulltextBackground" type="checkbox" name="newFulltextBackground" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Create the index in background.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n              </table>\n\n            </div>\n            <div id="newIndexTypeSkiplist" class="newIndexClass" style="display:none">\n              <table>\n                <tr>\n                  <th class="collectionTh">Fields:</th>\n                  <th><input type="text" id="newSkiplistFields" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="A comma-separated list of attribute paths.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Name:</th>\n                  <th><input type="text" id="newSkiplistName" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Unique:</th>\n                  <th>\n                    <input id="newSkiplistUnique" type="checkbox" name="newSkiplistUnique" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="If true, then create a unique index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Sparse:</th>\n                  <th>\n                    <input id="newSkiplistSparse" type="checkbox" name="newSkiplistSparse" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="If true, then create a sparse index.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Deduplicate array values:</th>\n                  <th>\n                    <input id="newSkiplistDeduplicate" type="checkbox" name="newSkiplistDeduplicate" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Duplicate index values from the same document into a unique array index will lead to an error or not.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Create in background:</th>\n                  <th>\n                    <input id="newSkiplistBackground" type="checkbox" name="newSkiplistBackground" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Create the index in background.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n              </table>\n            </div>\n            <div id="newIndexTypeTtl" class="newIndexClass" style="display:none">\n              <table>\n                <tr>\n                  <th class="collectionTh">Fields:</th>\n                  <th><input type="text" id="newTtlFields" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="A single attribute path containing a numeric datetime value. Example: createdAt">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Name:</th>\n                  <th><input type="text" id="newTtlName" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Index name. If left blank, a name will be auto-generated. Example: byValue">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Documents expire after (s):</th>\n                  <th><input type="text" id="newTtlExpireAfter" value=""/></th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Number of seconds to be added to the timestamp attribute value of each document. If documents have reached their expiration timepoint, they will eventually get deleted by a background process.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n                <tr>\n                  <th class="collectionTh">Create in background:</th>\n                  <th>\n                    <input id="newTtlBackground" type="checkbox" name="newTtlBackground" value="true">\n                  </th>\n                  <th class="tooltipInfoTh">\n                    <div class="tooltipDiv">\n                      <a class="index-tooltip" data-toggle="tooltip" data-placement="left" title="Create the index in background.">\n                        <span rel="tooltip" class="arangoicon icon_arangodb_info"></span>\n                      </a>\n                    </div>\n                  </th>\n                </tr>\n              </table>\n            </div>\n            <div class="index-button-bar index-button-bar2">\n              <button id="createIndex" class="button-success" style="margin-left: 15px;">Create</button>\n              <button id="cancelIndex" class="button-close" style="margin-left: 0;"><i class="fa fa-arrow-left"></i>\n                <span style="margin-left: 5px;">Back</span>\n              </button>\n            </div>\n        </div>\n        <div id="modal-dialog">\n          <div class="modal-footer" style="border: none"></div>\n        </div>\n      </div>\n    <% } %>\n'},function(e,t){e.exports='\t<div id="lineChartDetail" class="modal hide fade modal-chart-detail" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display:none">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>\n            <a class="arangoHeader"><%=figure%></a>\n        </div>\n        <div id="dashboardDetailedLineChart" class="dashboardDetailChart" style="position: absolute"></div>\n    </div>\n'},function(e,t){e.exports='<thead>\n  <tr role="row">\n    <th class="sorting_disabled docsFirstCol">Content</th>\n    <th class="sorting_disabled docsSecCol">_key</th>\n    <th class="sorting_disabled docsThirdCol">\n      <a id="addDocumentButton" class="pull-right addButton"><span class="arangoicon icon_arangodb_roundplus" title="Add a document"></span></a>\n    </th>\n  </tr>\n</thead>\n<tbody>\n  <tr class="odd">\n    <td valign="top" class="dataTables_empty">Loading...</td>\n  </tr>\n</tbody>\n'},function(e,t){e.exports='<div id="loggerContent" class="logger-content-id innerContent">\n\n  <div class="arangoToolbar arangoToolbarTop">\n\n    <div class="pull-left">\n    </div>\n\n    <div class="pull-right">\n      <button id="logTopicSelection" class="button-default filterSelect">Topic <i class="fa fa-caret-down"></i></button>\n      <button id="logLevelSelection" class="button-default filterSelect">Level <i class="fa fa-caret-down"></i></button>\n      <button style="display: none" class="button-default filterSelect" id="logFilters">\n        <i class="fa fa-close"></i>Clear current <a id="filterDesc"></a> filter\n      </button>\n    </div>\n\n  </div>\n\n  <div id="noLogEntries" style="display: none">\n    <span>No suitable log entries found </span>\n  </div>\n\n  <div id="logEntries">\n  </div>\n\n  <div class="actions">\n    <button id="loadMoreEntries" class="button-success">Load older entries</button>\n  </div>\n\n</div>\n'},function(e,t){e.exports='<% _.each(entries, function (entry) { %>\n  <div class="pure-g" level="<%=entry.status.toLowerCase()%>" topic="<%=entry.topic.toLowerCase()%>">\n    <div class="pure-u-1-24">\n      <p class="labels">\n        <% var lcolor = arangoHelper.statusColors[entry.status.toLowerCase()];%>\n        <% var tcolor = arangoHelper.alphabetColors[entry.topic.charAt(0).toLowerCase()];%>\n        <span class="tippy level" title="Level: <%=entry.status%>" style="background: <%=lcolor%>"></span>\n        <span class="tippy topic" title="Topic: <%=entry.topic%>" style="background: <%=tcolor%>"></span>\n      </p>\n    </div>\n    <div class="pure-u-19-24 desc">\n      <p class="msg"><%=entry.msg%></p>\n    </div>\n    <div class="pure-u-4-24 date">\n      <p>\n        <% var x = moment(entry.timestamp, "X").fromNow() %>\n        <i class="fa fa-clock-o" aria-hidden="true"></i>\n        <span class="tippy" title="<%=entry.date%>"><%= x %></span>\n      </p>\n    </div>\n    <div class="logBorder"></div>\n  </div>\n<% }); %>\n'},function(e,t,i){e.exports='<div class="loginFixedWindow">\n\n  <div id="loginWindow" class="login-window">\n    <div class="login-logo-round">\n      <img id="ArangoDBLogoVersion"src="'+i(413)+'" />\n    </div>\n    <p class="wrong-credentials" style="display:none">Login failed!</p>\n    <p id="noAccess" class="no-access" style="display:none">Database not found!</p>\n    <p class="checking-password" style="display:none">\n      <i class="fa fa-circle-o-notch fa-spin fa-fw"></i>\n      <span class="sr-only">Loading...</span>\n    </p>\n    <form id="loginForm">\n      <input class="login-input" placeholder="username" id="loginUsername" type="text" name="username"><i class="fa fa-user"></i>\n      <input class="login-input" placeholder="password" id="loginPassword" type="password" name="password" autocomplete="off"><i class="fa fa-lock"></i>\n\n\n      <button id="submitLogin" class="button-success pull-right">Login</button>\n    </form>\n\n    <div id="databases" style="display: none">\n      <form id="dbForm">\n          <i class="fa fa-database"></i>\n          <select id="loginDatabase">\n            <option>database</option>\n          </select>\n          <button id="goToDatabase" class="button-success pull-right">Select</button>\n      </form>\n      <button id="logout" class="button-danger pull-right">Logout</button>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAClCAYAAAC+7wThAAAABmJLR0QA/wD/AP+gvaeTAAAlbUlEQVR42u1dB1hUV/Y3+9+eTbLZbEvZzZaUzWZ3s4nRmQFUsCNMQQUBxd4bMwOCPViw99iw0xRRERjAGikWLNhFVFBTNtHE1U1iiSV6/+e8mQdv7ntTmRlm4J7vO5+F4c179/7euaefZs0YMWLkXZSU1OwHPfQt34jUy1UROllchE4+K1InX9FDL8+I0Mrzeujke3iO1Ms29tApFsFnE3voFb0j9Yp24WNa/J6tIqNm4Ulv/zhcp2gToVdMBbDsBf4amNSTb0Zq5fsBdCk9tPKB4fEt/8xWuglQ9NiA53voZP0idIoCAMEdFwDJNmvlNRzQ9IrwsBEtX2C70EgoMCnwh5FaWXcTmB44CZC7cCz+F46+T6PjFVW94hXnkSN1ik/g/27Bzx/beZ2HwPkIsr5JgT9lu+ODpNEG/hIAFQ8b+bED0uV2zBjF6eFTWpdOXtJu/8K04LNrcpQ30g1qYovX5ihvLs7oUjV9RcfyhDmBJQMnBhyMjpNfsQK6r0CPS+45SvYK2y0fINioZ0G6TIONu20PkPqO8zsybkHbkmWbQqrTDarH9oDIEV6/XfXt7LWdT4yc1rokMk5xVeI+HsH9bogeLXud7Z4X0uDBzX8EusxIlATWwASbeH3oB61LZ63uVJGap77vaiDZ4kVpXSpRIoKu9z/q3r6He0sPjw34I9tNb7HwwLqDjam2ptv0m+BfPnNVp6Np+erv7QZCgYZs3dWdFJZGk32H+5KyY/3JgeMDyKETAznGv5ce7Qc/60N2H4whhpIosm1PONlYGGbz2hvyVHfGL2pbKiHF7sIRPonpYA1IuPiwEfMs6zGKr+LmBBXbqydl7+xGdu7vyYHm7IWRpOaqjlz+WO8UX7qiJacqh5P9Ff1JUWlPi2ADqflwPBzF6KqgrUl8Ydgue1pKaf3+DYt/VvK40yuuj53frhSkwj1rQMosCANpFEXKTw4i56tHOw0ie7gG+GTlMLLzQC/4Xo2E8q/6etDEgP3UszwBB+0S5eDmP2c77gGK0Cr6w6LfF4NKdiduTmAxHjOWwISSY0dZT3Lk9GBOqrgTTJb4Qk0sKT7SF+5FDLBpKzuUgwvjJvVcJ8Hx+ie2824iLuwCoRQpKdU70e9YSnbofywBKmdvBDkIR1xDgUmKq0BK7oCjl77XVVtCvoiOU9A64w0AVyBDgVusPvkmKSmFPicpMGUUqEkRSKczVSO8BkxSfPzsUJK9q5vZvYNeeKvXGD/6qL8PTtkwhgYXUfCo4J/AohpoUPWMV1xYlhV6RQpQO/ZHcwq4NwPKXNnXkY/K+4gsx5gEv+O0WwLDUgwVrvFP5dKgQs92ar76OxpU6B44dX6EzwCK5mNnhpJNRV3rwJWruttrjP9p6vkfY1YFQ4fz9BRYflk0qHQz2hwDf5S5lAJGP1ONjwKK1r1yP+oh9N7fg2PxgsihCjFQBhFnrD+9YhwNqjFzgkpoKYVvOOoplxsBqHiuhqMRHbO1Ote20JtRcYoaaj0eMF+Xo6DSydsb9Ym6hQRXwiHR0Qee7sqLIxsVqGoZHLS7wO9Vay1mh34JrohrVIjqvz3G+P2VIcYe5+eoVr+BRbsuXMChSa1KaVDhceFN7gO3OFav6rloAP/MSzKDL0bo5d9Skus8ZnMw5NjSq3SKXcKF6zvW/yidedAUQCWUXBgW4p993rrOp8QOYkUZZsUy+FggtHao8MwXqF/Qzs4mAype57qqJXn76hR69N1xIR/BWkXoZUsZgiQIxTl1BD6es67TSSGoNkOguKpmdJMClTCwnQM6Jb8WsTMDi0VxUq1sBEOSWGFfLFykUZAcRzs+j58b1iRBxXPlpVG1fi5wuTzpP97/EJ0iFKlr2YqhiT8CtfK3hFZglF5xmU7EK4Hcp4ZUok+eH0aKj/YlBcVR3HGMjDlYmIt15JTngtroWsGXjANXnuph7wS/k7SlyILWPLB08mxhusi89Z1OCUG1HTbxcj3yo5x2VsKxi5kIm3d0tZnPhekwmDlxxgOhJHQGC/Ptwcf1MQWuIxgKa+IKe8t3hMl6Ayb6H6YzOU+7IUxzvjoWcqRGgrQZRsqODua4/PhQUnF6ODl3cTQpAUBlFmmcSkEuKImGa4x0qwQtgFwy/vs+zAy5EinO8/+wqUsrQ51lI/92zZbQ68JN2nuot8MLf/GylpSfGEYKi/uR9O2RZFFqGJm+PIQkzu1IhiUFEgiR2KzaGTy5NRm/oCOZv15J1uc4Di4MM30Eacs1bpK0F2u0nDHDf98MSL2ms2nBUuzVJEEVGSuXCRdCPzuwjE7MuwiJcdJvrQ6CtsPJztL+JA3AM2+dhoyb15EMmtwG3BTmIOmVoCCxyUHkg6WdyPx1SrJyswZicF1JRn43srGgO8kqDOcY/54BvHZbGFm4QUkmLOwA1zKCcPiUQDJvbShJzXVMiuXu7cHF/9wBrtPnh8P91t2PbmabMjqHHk+Epqi0Z9XpBYqvIFXELGMBixUuwJt54NgQsn13b5KS1Z0krwgh2uR2kDZjLnX6jfMnExd15ACxdltXDiSbd3Qnm+zQj6wxWmEZhm5k2opgEhUn50CLkmztNvsBlgX3cNpNeWGYV1/3XaonfcaZK/OYP49V4E1HWulb/AHr6vgFGL+wbSlYghC26IIpumTM3CAyOrktbKbCDEAjpweR5JXBZOUm2Nh8I3iydnSzurEo+bbt7l5rzdGMP8NjxVaFzWb4njVbwkhfADECDIG8frt94MJrV5wb6hZ9y1AcZabMw719TnnmczGq0USUdvlssxyrCf5PIgUggiQ38sGSTiQFjq1Nhd1JNgDI2sbjz9B6xMDtfrCajsMmot8HMwUc089iOcsOiyxQv8McLykptixTTaLjjfe5dKO94NKAwTDc9Xn0l831LbSqaX0LwDa6UQIJq01AmQyCt2eyqSXQfUE26J2EeW0fzF0HQMoGPSZPZeN4CiP58JZiTR/6kM4BgPDNdZcVhunN6K/KoCpsNu/sTvSz2nLPgPqXvUerOzIyTlQOr/VvIWP1NZ3aHB4na+7zQFIl+D8D53swAGkmPNRBU1MMo3SaHHB50pL2ZR9uDCkDveoSLARXSLouuwtZuiKQLFroT+bNlNfy8sWtyab0LmTvvp5gxo9qMEcplokVlUWLJOXU5Z2551pmp+TCdB93OFSF/i3IsH0QFe9H53Bdion/19M+BSS84UhtyxCuiFQvP8rrTyCCvx82pdWFaSs6lK7cHFoOCuYNY0hCRZYsbU2S9G8TXfeXSX/FL0jvd39qkwfIf0ESu71CFo15l2xZ3ZmcOj7E4wArPznQ7FjOhCNuMhzbeCym5oXZBS5n3Cj26Ft5+yJrvwMblQhfaM4FAaEzrwYSlmNBXOp9U6ZnMd8mKCpe/t2o6W1OQ3+E4tVblZhG/C3/oJhSjGAa2/+vZIDfM3YByRb3ff/nZG7sP0l5aR+Pggv1sGyBXoNH3FBwdSSvDLHbWnRH5ivWLWYJLGHtzEDaBfE4ItavtXcl4YWH/x+nJ2llK+sacCgeD00KqJoJQFqzVYXZCKJmG6m5SjJ76vtkWIcXXAImKe7T/Gdk9sh/kMMH+nn0aBSCayMYGaAvYuk8sbes/9IVnVviiYIy/vsSdYrVXtEfoodeJscQAfA1XtmGngMHl2eFHOSPNosdVhb4kWHt3QcokQQDgC2bLCNVVSM9JrmEZfPaGW3JknT7/WQYi3THfe06EFO3B+nBl+hUbzxpGgRMXD0fl3inOMaBaYzi3viF7Y6t2ao8zSvblngLmOh5O8LJ1MFvegxQNI/s8GtSuDnMI+Aqhm40dVU1XaHoo73dwEJdzR2eeUwO3CbI3xo5tRVtJX4TFSv7neeOO8g5x+ZloOR9yVtwH2YEl6bnq29bWxxssIFl7Og7Kt3TkwwPer7BQCXk5SC9qi9r3Z4FkW6SWuhPwlhkqsF+z/zO/b3ccl9YY8m7ILCMrEeceTEGqjTuB5RO8TLXiBWU8Ci9/NHERe0PrMtVnrcmlfZC9S4m3+HbwT9MUXYYZ7l5A6h4Tur7Gjl31r2FrPmm1GH0daGe5UjIBzffXZXbaH3y3zNzVccDdEfB6Di/V90moUxe8DuoiKPutCFPeVlqATDv+kDFAHL+krTo3rauC6dEexOoeI7XvEwqK90Hrr2CEnndzLZkaabKoZjk7oPukVoYSRBaieKyfdkcl3vCwceUZOzXaRlQGIbAMMmpKuuhiLwMFac4eyOoeJ7S/w23HYsYMOfXbOyC9pBtoXQIWOgLQxC4496OnBpS+z0L04MvUIUYX2PvVhcFgOU9QIf6DP58MnZBu0Pg/a6RCpugJ9ceD/He/AjSr8XTXg0qnhcnNncPsI7UAStudjsyI6WLw5kUh04McptEFVb5QBD9KBWkHlkvQKEVAIDK4XKfZgVVAqCuSKXYYgzO3rendFdPr9OpbHFeutLlGyfsFoMpPNOXBzsMLCyrdxewUJEXFr4Kg9SYyuw8qLQt26JTEyyWb6D9NCbUPaEfLL84krPq7HYQgq9odKff+BSokIe0fo6cOuHaUBCfKpwFHnjcrGnLuziR++Ve9wjm5PPf1Wec/zGh1AqP9X/TmRQVPVoAo6cHnoLg5OdSehR2AXY0Q2Ce/h2fA5VQ33LlpvHN0zYVdec2ataqUKcSC6vc2A8VhQbvzIX+88epAoxpDuaUc2kqEIHvgHV6j6R6IFiy8qzxnrwInwUVz+gacZkfy7SemD+G673AQeWd5xPn3Ns5Z8/BmNq6RCizE7YDv2S/kq6T67iHTO1cIvUQqEs501OqBuJbCV1f9nlg6UNf5J7FlVYXn5+1NEPlFLCOnXFvtkYlpB3xTtPEeW1LqTTmt+wAVctWGB+avz64RKoV9VHoHOy0hQHKr6+DimdXhH34JrWYusxv0qotGq8EFjLfe2vtNuXXwvRw8GmNtacPwifjwJUgVZZU35tPgHyoxgKsqf3eqGcOlI5TunFtV8PRym/Shu3OAcsTbQQqztRlP0DH6RN1epbskK1avXn9xgd8Bsl039Chg/qC6sBHMY0GVHw+V9WFUfU4BgfXhnIwH8tYMRTgdFVQVbUHmp7Ay8B74yGxQDi44LHFabG9tM1fxHqyldmYren6FI2l41s0KmAh48vi7Hpg/wahNYicCPWNzoAKg/meyiXj02pW54TeEPq0cECDdNcWvWLu8KmtL4l8VOB5rW/BAYZDhrb5ZaMDVvGOKOecjhDm4k+CMXPb1QJrzuoQp4CFfibPdWiuMzhwTqPA7ZAuAhVOFMUeU8s3dTlI3/SZC/UPwOIGNDZQIR8q7e2kEmxyikIVtdC6WpHl3DGIx6on+23xVUe6GYElgpz4z8SZCnGyAPBNPKJ1K6wsccXNrJ/TutGBql/Lp8mlGseDv1gfyEurxPntzYDljOKeBQZAtYc76mAdJn43NrgzczvQDXNBjI2PndHmJH3TWOPvihuZNuhvjQ5Yk2L+6pTym7MnQlJaYY8HZ6RVQ/T/2mPK1Vqfp7wjdDtAckJfOnSTMZfyW2FGo6tuxBfjgrZ4+/oQp/sloLKNJf9CYM1IcVy/2gLhoOornu//xVu0yD3j5ZUCR+l82s1wOGWL0qy/1J5DMS65CVT8fSU1xl6OU73k8IYKiyeWZqhF7Y9WZ2u80ikqxWfBC8/fw5APWtV54fWynXQfzy9NlcW1v3D4lGtyfFAP6fNe4wEVPsvOrV0ddobmmPSS7J3hooYlmOue5iCoMHbXcC0wdbW5+mPnBwnDO5/QEutumkF1yx36FfLggGcbDbBWTpU7/Py7TQFcPAIxmY+WVtjeyBFQGSBNqboBWmAKeevu7iYFPrhC2K7TrNUk/Md3tEXoTOaCJZ7S7/VGAaoZQ99y+AgsPcZniGpIckqwZBfAlM32gwpL4asvNyyouDyyEmPcENoffCp8lujRstfNJZagpN3VIYLD+/v6vIM0echb5IKDLxsG7PmMgJTNYZKg6j+hFUnPU9lVkYN1iJevNjyohFIYOvw8FHrgMTFUCKyPof7vS+GDuLo7y8HiPmQUFIP6IqiWTmzpsKTiLCeTHoJdAi31LJ1tw9ueYTBOfD3nZUOlhMW2OCJYkOnQT+DHkh2iawHdkTh2AboKpy0M4lJ8fQFQqBvmpjme535A0IZxU1E412hNClTYQnJXWR+u+ARz3HjGzsv4f0dPD/HaMS3CZxSOrovQyj8QSqzMlGxzdwOmHLttIjsAbOOH7bym6lmqUcjSSS3JuXMj6gcqaPZhCVSctFql9ErQ2MOHoHpdUHN4SvBc6+okllY2ac66zsWeqvzgGauM1yT7k0F+z3pVduju3HCnWnkXCIZQYtYCVjZbAlWfxACwvEf5LLCwJSb/rAPG+5cLnm2fEFjd9TODKuhUDE+NtK2qGmWSYL9qMN/UdAg7OZutgIH6LbvqGmmsz+nKHXPW+sFjH3lfns9zWAAsaEcl6KWluCyc8vAGBKGxpbVZA4+TlZ4dboSl7GkLgkic8kXPlHO1eo4sSniP7N/jfJn6EbD8+C59+CcODrA1ZADbgjdEKMbV3Qml+pbiTB6hj/Qp9L6nbDXXszxxHFrsiwmbvXKqgmi7/M6lYEK3BzZaw0qbS9XOl6ajO6ZQMD4E89axzbYtUOHxeLDC92dRC/uWxk5vIxxV9y0d1slJnNeunJ5H45GUV1ud5o4MJLmpoWTphBZk6oA3SZz6Jc6yRIljifFYRcmHmRXYkgitu4rDrjFIUEoJG2agkt5/fIBNUHGpMdsifR5UyGi91gJrhhmw7otKvqBf+kNwlF4TggtTUZvyrD8zYwMKN/M+ijQr2F0G3WHsARTyWEg9rrmqaxRrIRxorpsZKGzOdpOepvUG/mDm6g7FtMfXFVmkPj282+RGMOt4XND1CZ36Yo37jW8FPT5HNpo1Eb5gWvOprRelqnTOY5/Q9HyV2SStXBfkvfsqY2qKcMoEBOu/mrio7QF7AVXnCO3fqNZFONEC2qYLJdYBqbJ6bNpPJn/YvowOLWAwtSkBCvOn8gWzZoAfL87sUtprjOJrR0CFvHZLRKNamypIhRJiA0oGyyUdpFSXY0wxfbJ2u+oErci7o7+4Ny6acUxJ3bND5e/p4VNan3cUUMhJH3ZpdNIejRchNoQhHYgVxkpVgT2Fx6FRJ8DCVfOMB5wc6okRsw0ylgQyF3aCQpoh7DOfp/o0cX5QuTOAMuaxB0GnltGNbq12ChR3SBC9I2zZDXOlAy1UQ8ti+Q/pZgceozvN4Nl6thGBCwdm4kRToWIO2Zw3k1d0KIE38b6zoIpJ8G8U/iqp8i/hWiWv7HhY8Ny3LQ4YMPVvuFsnyjl96zEd7vG0V94dIz7QFyOc3wyK+Z056zsXQ2/6b50FlCmsQZZkKN0yZ9CbHKPIAycGCA2ZbbZ6OKwx878Ym4Tcp1tDujMDwp1NxLBQBDvnCAGFLZtAytyoH6CMDIOlaq+NNXgYsBW2Hvdl6c43MjHqnirs6f9dXTGForeNJraKd6kOuWTolNZnoKvfVanZxee8/GjETcU0D76goW74k+p6ckqHIhjne9MVgOI9z1rwROPEUrqdI/Ybbcjxdq5quyTlv8IYIXbUttknCxK28uhF653gd3NldsghqZaRuGjeEP6hG7NiI3yhz8U0k+9TAFRJ/Y88q3wbXsai1duUV6Ty1jFt2Ze88MI0GS7VOjvkE2OPf15pl82ws/W2WGrxHD836PCGfNVlcV62sbf7yfPDGsTEvggDxjHrEo+67J2iec+PcVxd3JzAo9if3o2Aovm7oUmtSmEC7H+kusSga8PbIxvoZhJOicV2kTCc/IjgGe9FJvi/5EjLyA1WFNTHqHutz1VVSg7Yho1FaYGe64s1rm9wj2knOOEdjzisscuBwUJC35PAHK6BHgPFAyb6f+JG8CzDSQ04wMjKZx4Onhywf0VWyFWpQokCcMZyBaheJsVwjemZ2gnz21KDm2RTHO7vjhMIbC0s5OOcgRFkpWl56i8sjp2FsAim4eCRiUo/AgJ7cOJiYje6Oh7KOeCQ8TPI+2FcCoIUiwqwoT3O45ECkTmYOhcPmtyq2u0SSStbyE96D09s/hy2TeTH6Fng79GSWpYVesVSa22UYt7g0sGCEKGRw7kXVnU8Qk1f/cQu3UrCrzXc3kVGj/2IqW3OzdsQXLxuu+oM3Mh3znaoc4CfpOaqqnHSGI5f6Ts+4AuPHXMCUNGj9SL08kHYUdjK7z/uPyHg4JLMkEuWyr0w36vi7BCPqxVo7KArhn55YfrtUTMrEJ4Bxy47O0PgKazJd2bhISv1AUizszjXeXF6cMnqLaFHQKpVgwPyf86ACCXimm3KEwgibBOumxVYEZPod8uD+hINKtuTZbWKKPj8GSvXetJvvP/hudASyNpEVZy5U1UT63ZQoVGxRRB053ni4nZl9JxonKlUvxk6oJiZ1465ghWP0cocMKnVVQSfdlab41KMEnDAJP+rmHXRIACSYEiKXODoywkA0/DDQS0xjMq9MG5B0A6YESj94oECXVTak1MZXCnFcEwNzuMRDsDkGV7kazBDp0y0BuA1wPne9R/QBDEgGrFNkZ0AlbkbJ1bRCQBWZkOluKmdFYjqxP+sSbHio32dboWASYuovxrAaMiw8B2oT4F34LqEUChzSq+yMgJlWJMGllY+3VVriRPhbaoYWvltLFRYtVX5pTUVAS1iVPgRKOaGkJHxeMNQzN7y3lxTXaH3XIoXpAWfARXjlOSLBZIqfHjgL9wwQFw+oQmC6jFs8ih3DBSFgQ3vmyarWfOtPUBXxdKMkGp3GUE4tX7ayg7l0L/d0nH9HYAqwSXHn8W3DSaZNyFQPQDLONLdI5CxSwsaBDbcO096jfE/HT8nqMQVINuQq7o7A467IUmty+D4tWYEHYRMj795ZLg49vU2LnrjBRXGvyzmF7lrxjYcMyDBhtpS9E262DW0KHUz2xSjPgS+xPNgeV9Lgw4w5ta06mHKZuXnEGg/PXFx+/0YCYBM2LOU60CKL8K99HGrlJJcBOi2zE+tb4RcBYPUX2vWgATf/080FuBernpYlzwL3BPdJQ338DDqIkKnKGhcoFLswry0Zl5EUEX1jkm/3WeHpHGGP8WwFMaIvem5nwKED4Sbu+XjoHoIx0uix0W/g4RZmnhEm4a+73Xy1EBdzhChk8XBydPcq5+Ziy1Ca28bFo638kW00Jr5KMXE+/0WpE077LUOQJsYoZctBcmbgn/Cv2dh3ypMxEM3R3hswB8b9Jirh+71d5ytYj7TznulFB4BMfH/eroZI98glGD4tggTwrzLiw66IT2mg5FviWkQw1qQDCe9AlR6GfQml6nZzjQi4qwboyPwmocBdZdLXNTK32O70LjpqShdi7dN8cdNcCy5Oo/qEQCpAq6/BKRlONOhmrI0A30HE8fw2DRZMzsAINUmN8Y9qRAHts0BKVRj8lRvwngW9hp3S6CUUeMlVYL/M9FjA573NgcmI0aMGDFixIgRI0aMGDFixIgRI0aMGDFixIgRI0aMGDFixIgRo0ZH6fnq5AyDJptnGOKUnp3tg1UejYRw1DLknmXbZK0sFfLUFgGP6THa7x/Wrmn8rK3rybOw8gdbY3JjCHUtWzWTaDxnF6UaQl+mBwhwZdsF6k5sixuGYHMnO9kyoAISKLtIX1PubAfpK1hy5jDA0g2qWOmmEpoNbIt9C1h1xSTyJYFJgT90EbBqp1LQ17QBLPVhC91KvoHj8Gdsmz1PmL8PKdj+cCROkthg7Gu1x8hcuvYtC+BaLbxmdJzfq3DUdY3UyQ7RRSj89aAu4SP4s1I4EofqnZVg1wNkGkJft9oTtEDVlW1zw1G0rsVfxJur0Ag/g6XzUDvQ3lQ7QHcn7CPWteTLqc9doj+DzXsjdYoBEvWiH9t1JMKMmXFmQDKoq6h/Z9V3cZKSkn6QVhD2Foxwezd7Z/ivpD5TXBz4Q/jMP2B+T3PkDUUalxSZZhZ2fZW7ZqHm30uKgn/iyO9m7wl/LqNQ/U+473+t366pzb/flKv+A7xw4TRn5GuCLV0royj4WVwDvJf0PNWb9p4E9gCLp6i45r9GfYgC1mfQ0eZnjgKLJ/j9ZJEeZ88gAQDPGUqvCoQ/Hwj+7y4sgsVqmI0G5d+sSLx+CBD4s65bcIE60RxwsCkGlQF+dkfi92/A/SxaVxT+G4n7Lpf8znx1KffzAnUr+HcF9fO7oE9ORRBbf9mUf+QsY/N1uA+WcgquBUxw0Fp43hrhdQhp9lR6vqab6V6/pz57H/qC7knLD2vjKmBxQOAa7Fr/vCPAwqJfiRZIb1mXViAhqIe9wr1dBvVOs37kBnW0c8DSJOFim2+8Jor7jjyVP/z8uH2d6VRfZRo0Le0ClkF93rSZjyxer0C10fKLFvYOfOaWlfs5jEaNLWChqwb+nWrf82mSXAUsbATClctRUzWcBpaxw5BZOZ7Nsjv0XZkvuHqB6f+HmB+HKoOla+CxAMA7J/FGIos6AiOgjBJFM8nBtodfZhaEPF977wWqNfB/30p87q4F6Wd+HwZNO/pZ1hcH/hRfLnsGGlD//gzWIA3+HFj70uarFjrU396gHuEKYJmsv33U7xQ6AyxuCgc2aKMa31oFFSem6UWE44Nb4MIuv6f8Wg8s6UY8pRiUPxcfq7X8yCQFbmUUdX2FPwYBXLtNP/86I189Af1p3Pdv1/zJBBx6QFQcrbvh70kdoWkGTUKqIUyBeg9IvCIJqbVGpAcVaEZJSJOjqflKNV4Lr4n3akviGKWxCHwnMvLDQjkdK18TAf/+mPr5PTyCXQSsbMo6PGoNWNh7CyzFwTxjk190V2AbTeq7r9vsgIgLRT3YdaGnHUB2wPwNVw2yw3t/jJ7GBW/iaEuKalpO2G/hTV+cmhP2gkhxNh4ltPTYLuGDGykCYK7672agrxj8I9GRDMewhN52gpIin67NUz1j/hnle2LpbA4s+L98WtrSLyYo8K9ROlztiVFfYEXqZRup3zlhQ2LZwwboyfGGbWswX72EevhC3iLj3iqDajm1yPucAFZevcJM4g06aA+wAJQ/lrjWOvr4MrMe4ZilpQwclzMs3NddS8AyHaf3qZdytqSlaDQQLCr/3gQstC6xjeXgwc1/ZNmMNkqD6w7qOI835alecgRYAMZMR4CUtqvj07jBafnKP2cWdPsLXG8HrTg7Cyy4l5nU526ZuyVUrSWOuEBHgYVGhqi/eoG6vYXrDBRPozCXbB4C1m06Zgi61G7adWHifIstJ+FN6ehMz3A0s10NLPTp4BEAXCmhlxBXAQuljzVgoSNY9H1wb44CC3S3EFGv9Xzl25L7wOl/tEM67K36Agu851uo3znsrFUInv8YsUdfES4NrAL1eqcmcxnUR1wFLJSaps1+5MA9uA9Y+ZoY+jpS/jNbwJICKBojktcx+tqo6RGqd+uvvIvm+BicBZbJGNhDN7VrZsGkpiwbVU88gmiWePAn1jzijgBL5OpAK7RAtZk7HvJUHfD4gL+XeQpYJt8XLbFecxRY6Magr0P74AQgDLcFQkeBhaEY09EmdGjOrx+wZFOoz9+Q2FDRAt5FV4EVBdrMmkLzvr7AQktLYnPmS3z3Vk8BS0rHAl2vreM6ljj2CpZvD+mjUOQquY8vfj097/3FepGsY32ABeNvplKfv9PM1mbBOb/N2kXRoqEW6Vx9gQXjOd4XH7NhAQ0JLIwFinU8zSILwLpnw93whT3WscmxLDw59tfHKuRm9YhnTl4Upc84ACxU1FFHo4B6QRQIpUftWgvXGN8qZQvRGwiB2foAy+jOoA0DlVkUPq1QLZMIrbgNWKZr7acjB7TiDes11paDFBIkp1Of+R6VekpaDRdLSE1fZ4AVNqLlC0bnpsihSSDpr5sz2Q2c5x2cofCzdRKuh8W0N3iORNB2CGYAWIgD/tp0dN6jAYPBU15so1luFOuqr6gFh1nIKj0CiXYriJyDkPuFEgLCRxPTCjS5FkJEH6P+hUc36iLotIX/K5bIfJ2ODmDu3nZ2fZH7nNjHdh8+NwWepQvvGJbSeYAfoufemLJNSxhpYHHrZlBfk4g+FJsiCgclrnNa+EL0HCV7BS0yAMsqCZP/tikHC/kbK/Ny5ptbeDDpQiuLB+X+nGikXt31eLY0cuUe5nUJxbMVa081z8IxOMja72EA2nTt/9qw5solLKKVdliBkoPMEah4zzZ+97TJfzXa1vfwKTFcmKsuzORArFAcRDYp8ffsDbLT0YJ6ZpA+wrGAdN6UCzJIH4iOYW8DljG2qPnIyu8UWpAgbgNWrWEhdszWAsqUv3bXnuwEU9jsvK21QYVfwmXgDLCecBNdoR26BbeBs8C6zzldpUI6mAdliS1bP5BCYuX3+Bgft3lWr6+JseTLAvBEwuJuMeVOlWNKCwZ9TT//MRf4pa6HQXK8Z2vfCTpb/1p9zsrnkOkEQJRcnD8K7gWOv0PIGBJCA8PkrqEKT1RjLOmomPtlVCe4VJsy43OqSlBiY7EKfpe0dQdpyTBMyk4ebWxH7vdbqx55rLqx/5qJONwJ51uzJsMeIHRgShxlPdnKMLIds4SsC4suFZBiNLAwJ42tGiN7siowO7UafXh4pKYXqjqbQj45EjpSPlsxRjYJCygciF/ewCwMtmqMbB+D4NeyE1TVmPTHVoyRXcRVDhnBhYUQn4s86AbVKXBHxFuLrzJiZJMwdQaPO8zVZ1XhjBgxYsSIESNGjBgxYsSIESNGjBgxYsSIESNGjBgxYsSIESNGjBgxYsSIESOfof8HTVJLdhQ2ZBkAAAAASUVORK5CYII="},function(e,t,i){e.exports='  <table>\n    <tr class="tableRow">\n      <% if (content === true) { %>\n        <th class="collectionInfoTh">\n          Run teardown:\n        </th>\n        <th class="collectionInfoTh">\n          <input type="checkbox" id="new-app-teardown"></input>\n        </th>\n      <% } else { %>\n        <th class="collectionInfoTh">\n          Mount*:\n        </th>\n        <th class="collectionInfoTh">\n          <input type="text" id="new-app-mount" value="" placeholder="/my/foxx"></input>\n        </th>\n        <th>\n          <span class="modalTooltips arangoicon icon_arangodb_info" title="The path the app will be mounted. Has to start with /. Is not allowed to start with /_">\n          </span>\n        </th>\n      <% } %>\n    </tr>\n  </table>\n\n  <ul id="infoTab" class="nav nav-tabs">\n    <li><a href="#newApp" data-toggle="tab" id="tab-new">New Service</a></li>\n    <li class="active"><a href="#appstore" data-toggle="tab" id="tab-store"><img src="'+i(415)+'" alt="ArangoDB" class="tab-icon" />Store</a></li>\n    <li><a href="#github" data-toggle="tab" id="tab-git">Github</a></li>\n    <li><a href="#zip" data-toggle="tab" id="tab-zip">Upload</a></li>\n  </ul>\n\n  <div class="tab-content" id="tab-content-application-info">\n\n    <div class="tab-pane" id="newApp">\n      <table id="new-app-information">\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            Author*:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="text" id="new-app-author" value="" placeholder="Your Name">\n          </th>\n        </tr>\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            Name*:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="text" id="new-app-name" value="" placeholder="Name of the Service">\n          </th>\n        </tr>\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            Description*:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="text" id="new-app-description" value="" placeholder="Please describe your Service here">\n          </th>\n        </tr>\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            License*:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="text" id="new-app-license" value="" placeholder="Apache 2"></input>\n          </th>\n        </tr>\n        \x3c!--\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            Authentication*:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="checkbox" id="new-app-authenticate" checked></input>\n          </th>\n        </tr>\n        --\x3e\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            Document Collections:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="hidden" id="new-app-document-collections" value="" placeholder="Document Collections"></input>\n          </th>\n          <th>\n            <span class="modalTooltips arangoicon icon_arangodb_info" title="A list of document collections that will be created specifically for this Service. A CRUD API for these will be generated.">\n            </span>\n          </th>\n        </tr>\n        <tr class="tableRow">\n          <th class="collectionInfoTh">\n            Edge Collections:\n          </th>\n          <th class="collectionInfoTh">\n            <input type="hidden" id="new-app-edge-collections" value="" placeholder="Edge Collections"></input>\n          </th>\n          <th>\n            <span class="modalTooltips arangoicon icon_arangodb_info" title="A list of edge collections that will be created specifically for this Service. A CRUD API for these will be generated.">\n            </span>\n          </th>\n        </tr>\n      </table>\n    </div>\n\n    <div class="tab-pane active" id="appstore">\n      <table id="appstore-content">\n        <tr>\n          <td>Fetching data...</td>\n        </tr>\n      </table>\n    </div>\n\n    <div class="tab-pane" id="github">\n      <div>\n        <p>\n          Download a Foxx service from a public <a href="https://www.github.com">github.com</a> repository. In order to define a version please add a <a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">git tag</a> to your repository using the following format: "v1.2.3". To connect to github your username and the name of the repository are sufficient.\n        </p>\n        <table>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Repository*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="text" id="repository" value="" placeholder="username/repository">\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Version*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="text" id="tag" value="" placeholder="master">\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Enable Legacy Mode:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="checkbox" id="github-app-islegacy" value="true">\n            </th>\n          <th>\n            <span class="modalTooltips arangoicon icon_arangodb_info" title="Legacy Compatibility Mode allows mounting some Foxx services written for ArangoDB 2.8 or older. This overrides the ArangoDB version specified in the service manifest. See the Foxx documentation for more information on running legacy services in ArangoDB 3.">\n            </span>\n          </th>\n          </tr>\n        </table>\n      </div>\n    </div>\n\n    <div class="tab-pane" id="zip">\n      <div>\n        <p>\nUpload a Foxx service bundle. The Foxx service bundle should be a zip archive containing all service files as a directory structure, including the manifest and any required <code style="padding: 0px 2px; font-weight: 10pt;">node_modules</code> dependencies. If your service doesn\'t have any dependencies, configuration or scripts you can also upload a single JavaScript file that will act as the service\'s entry point or "main" file.\n        </p>\n        <table>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Enable Legacy Mode:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="checkbox" id="zip-app-islegacy" value="true">\n            </th>\n          <th>\n            <span class="modalTooltips arangoicon icon_arangodb_info" title="Legacy Compatibility Mode allows mounting some Foxx services written for ArangoDB 2.8 or older. This overrides the ArangoDB version specified in the service manifest. See the Foxx documentation for more information on running legacy services in ArangoDB 3.">\n            </span>\n          </th>\n          </tr>\n        </table>\n      </div>\n      <div id="upload-foxx-zip">Upload File</div>\n    </div>\n  </div>\n'},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASIAAADICAMAAAB7yBzUAAABJlBMVEUAAABXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThXcThbdTlfNBRfeDtgeTpjOxdlfTxmPhpnQxtnfz9qgT1rSx9uSSBuhT9wUyJwhkNyiEFziUB0WyZ2VCZ4Yyp4jUJ4jUd8ay19kkN+XyyAlEuBczGBlkSEdjOFezWGajKGmkaJgziJm06LnkeOdDiQokmRolKSk0CUpkqWfz6Wm0OZqkyao0eaqVaeikSeq0uerk2js0+kslillUqlq06mtVGqt16quFOtoFCtu1axvlizvmG1qla1wVq4xF27xWW8x1+9tVzAymLBvWDDzGTDzGnFwGLHz2bK0mnM023Ny2jO1WvS2G3U2nHV1m7V23DZ3nLd4XVDf9nYAAAAEHRSTlMADx8vP09fb3+Pn6+/z9/v+t8hjgAAEl5JREFUeNrtnfl/4sYVwDnELc6lOFFNU+qQ4JR26WI2bMi6pq6CUQzGKjHEsAb9//9EAV0zoxlJoxPsvF82m8+u0X558y69eS8SOXaJMgyTSquy+w0T+UM0Nqk0my/hpMDm0kkm+qbxMKlcoWQpRTadiL1FPPE0W6KQYi4Vf1OHK5EtluilmEu+DW2KJnMl55JPvXpKjCP9eTuUoilL61zjdlJvtfa/cGXSn2KTrxNQLGuChmu0ur3B0CC9XrtV5zB2KfP6VIkhOjCu1cWwgWXQa9WryN/LMW8CUL3dG9qWQacBY2KZVw6o1qTAo0q/XXuFkLA2qN4eDB3KoFV9XZCiaaOXr3duhq6k1wBt0okbbsbg5mttEz6CIIrz1V4W4k5mgiDwBFUCIoL0Cae6UTSQLjf6BDjj6Xy1lbCy2fGajNG/cANAKiROlVACOWNVvAKNJvOVZC2r+YQnQsqdpCJFETNd62Dw8NPFRrIv6xmkTYO6HkueoCLFYSvEYTy8MF9L1LKejUDDrXu37KkpUgo+Yl2M+mwlh7IQgNPW1C1S/HQPWblj4LOUXMkKgNTTLdIJZbdRqBjdRIz0xCUfGZJulG70gDt7MmYI9GQ12M2P5lvJG5nr/k2PJNnTMEigry+3YQO9kryTzUT7uS294HYKsXYSVCEoE5tuJG9lqSlSR/f+8ZMi1PIV0E620xNkBBAqg6GQ4AOgg9nmT40RQIgDHNloJfkl28lpMQIINYEwSJT8lAV/QowAQh3/z5iek4xPhlEca4bmku+yFU6EUUyLh8p6uDhaS0HIFI0hC8cYQ+pZB0BospWCkTnKKH+EjLIYQqIUmCzkT9RfS+aPuPqhE1pIUtCMjjinjRt9Gb+SpFAZpY/UEGl5K7+WpDAY9Y+0fpRRn6oRHiEjo2Ny/YyW2odJSJJENDw6GrcWVUv5ZS0vW0mhyBRhdDSuXztmvVB8GSgTJDzKHpk3a4UQD6G5yBhhlDoKRCxqiCZSeLLlEdd/DK0jan5fVquw422IiKQ1wqgYfjU7WkQionCcGdn1h2+y02qV0avqx3ouCgeZzZ35xRnCKGyTHUOPmeDKkiyQ9o+Jk/faAuL6QzbZWcSb8S4M0WbK45pHNs5MNvB2LX4MSlRzHxGtJ6TmNWpIa6R6FGqUnUWCRsG5Bpl1N9JCmiNZPxt+cqZlrzb/KQ8PD5938sN3B/n4+fN/ehYtoiLdAZY18kYz2ZnQEOUQWy1akdlj+Rrfp16tt/smjOjexW3lRq2+9tMTIVsiK1v95eGXHZp31teEqk0TSjMH5qgTdmFEsUTVG6Ktfvh1xwZz8YPjWjvp9g6y+y/9LkyV3LU+3lCbI91khxNBxpBa7Ah4wt8fPn806E2Na+JvDMF3POpdAiOqWq/iIGuhRpCqEsEO/zeM4nD1Vqdno2e/35QpVVuEP7ygNkeDcogRpJqdqQ5/9OXh84fvnLHRpSt3CpcJkERqc9QNMYJMA8nZoNuCbyFWuWa75+wujHJ7odzBh0jU5qgZXgSplGM7CJ0qt1Mc0g2PxWqlX2Q43PZYzcWZMMbeXuAGLhmh5ijoCDJp8FNlromFMxJE4g0P7VQsoc58GVIZa7fnzs1RsK/W4ix8rvD3N4WpJRwozweOG2foBaS32Wh0FFwNkknlioDutLAGWZgt6Itr27l+f6FdBlMbUNa05qgeqDliwFEWXBOrO+PpwnnpcaFB6lcJesRvaJM17a5IzmcvnwDwVOG7vz/9qMh/Rbfv0LYi1JiPs0djWnPUC6C+Fk1k8sDV346qPP/+8e/f/+WrCiQXl59uH188aM07MCoPXOVrK9TzxwLA01Utz8//+haBA8r51b1jTFof7J4RhzNH9lVVRI4a66vt2bktzTD/9P2fK5by/tHd63m5So8NJOzXjwQ/j1oM8Fw7v6U/4M///KpiT87vXN5e6BLUyP5RU0rZPhw1JlPA4hkOf/y2QiFOIa15zWEP3B21pS9HTZ/CBNgeBdBfKpRy8eiG0YAQHNn3asqbtZ6HvVkan3K9g36B9ID2cvnsiJFaFSvfuExExp7mszH1fFUxQz1+/lvFoVw78W5zVY2wST/FK7u1h9X+JKsOZcCc//E//lRxLOf3DhgJijWqu62LiEjpyKnFjikDPqqtAe5G/f8uKq7kPb0irZQstIyvLK3pYbvKQ5QRMbihFePZzn3cnVVcyvmjMzW6AZu5oUyZ4lUmD5dFHKT8TE6ZyYBaRn4iD2S4qngg1846YWqlNl6NVrR2re3Y8StTmBo9nPrs5eWy4onQHrat4tPqQ7dqpBy1mjM1kgGVG4gFmsy1msPLRcUjuaBkNJZ7PKpD12q0hoMjlh4Q8sYBauzxjhA1o6niiYbu1UiE3z0yrgAhjU9eEqJlJCpfPelFNoVTk0tHmsW2+eoxhgFkGMjgLaEdIyeISLPpptQhRIsmNpKnn8CApobT7TWhSuXKAaI26R32ljqEKNsPsQ+BIgSIFzFFYc8JVSq39IhapBeTNG1xG0iNipZGqICOheGxbU5XFR/k0TtEVH3wcspftZXwRw/3Nuqgm59hVdYXQpWzFypEbRNEQ/pG0Y4dv39QoRo0sQLvGm4r/sglldNvmSFaUVv/YdnaYKcPRgg0eoTay33FL7mlsbB1M0R0d3JGoDUiVrGjLNpSQLor/nLmG6Izm0U2XskayIjomnQXoFMrkF7GF0qwD+WJk7veV/wTe0dtq2T6Joh4iV6NmqYdR/sxXtW+DRXy85jt5d52tNczRTSkazdeKoVMcqdIsgjPzSGrkPRy7iui8xe75rVVIkfX9JdMBaC2lif0kjdsNqFeV/wVO8WjiVrA8A7RCizRxrCnrGHzfd3zmc+I7ARHvGKKSn3PEMn1lSrBp8VgQrxp8H5VqYSuRist0jO7++CkktkinLQ8TMi0kPDsOyEbajRT7UbZBBH1HUEeMNhRw2VxoMBpMVrok/+IKnd2PPQAujPpwUGTwddwedrOVNd0X2ZxyfflLABEVpWjtVaRr3uJaAMU+nNoE3DfdvPJbSUIebbxdVdL5mGRg8kSY9UJIBWRNPhBltegzwNBdGt9zuR6fNcEkcMX4TXDLaxoUb+daV3yfQqEkEX9camX4018/ogeEXjSMpAS9eyX6q6CQXRpGTcq58FEiZzMlhjrPq0AKhFH8VPPjgDRRo9fOC99PnLS4sB1hJ79kvh9MIQqZ5bVtDI6a9TNayLYVTaRADsPfBPWY8sDOmemWrQBaqgdT02REj324PJsDPgYGzWo8yNANAVSqYFHN2bhH64E2AqiFNWEqueACJl5NFCJzNIPZxNsF8AQSEadMdSgUKK7oBDd2lMik9ja4ewEwBWoxgg4ZzaC0aBMUeXJPMdvo5MQvQitDcYop6ZnNxTm7SJ8hzYGXy33vVYipVYHRkYpPbK2E0YEpUSfzAMXtQhf9l6J5IovBxREslRTPZ6CQvRs2pk4MMzT9E6J5IPcBOw1qx1nO+fsMXSXL0BThzseuzPt7VMHsNcFLbS2048TVGz9aHrMtM7N0o1XJVnUXveBTFYPvuz0mlyHHBQdLn/o/b814gwRF4RkRQXiaz1VXh0NImLlWr6xoQ/3JnZfudp7AFRnC/L8Tpr6UzCR471p0KgfM2L24e4O7hz4Hg5hUZUG0WOoDn8Bz2YinjOXc2xXQHwd3yPiaI7vS5jebAVfryOeM7eTfteArjIgInuBxKXvhIidxfI9vXrJ6py5n4UMNKon6RE9hkZoO4YnMhIKjl7M9Qe8fjoSiVIi8tunWRDqgNNIcHGjJzt8AK+/76HR0hy7Ebuv72LfmxPqg6N+MPkZ783AcSQw0py+7TLm3VnwvgxDyFi1HokezYqe6oERe0hAqN/LvVz7A+nszpwQ6MwMxno0W0peiQgHRqxWcqH4Cl78sEgXzxaEahChD5vDpKyluNz/InkpSDkko6WxVB/z7Hn5kdxStB5hCJV+l3wTEfCdzP5VbMtZcuwtJJPr+iseR+iDFAyiVCSS0MpS1K93nzyLI80mY8h3YAcIIT+VCEKU3uexnLMu5UMg6QmkM7NhBtOh0Zft5LPkN6KuXuHXU30n73fdQzIFtBnjCX39xXdEwBvZvGavnVXq3EE6vzXralR2v3YMQxB/lYJElNVisJHDn/jk2HBf3lk/KpyXyfKDFBii0uEtUdXNSZO927WDV/3nn8yb9ZRDdlM3EHr3JQBEwHt9Ro9Tpy5+7P3VGR2fJ6van3zI+rVSwMfMiCiiZzu8uxzn/sqmLl3eWvHRpsp1yqWgjxkGEaufNNd7p57vrsxfaZ+/v7Zz+1UZl3bTwIyY9/uYqUMxAURAqyPvSar8dH99fWmQ99fXd0/2foCqQv0qbgr/g9+ElBkiACIGeO8b3voyoxXCeLK9fPT/AUYooghQWOC3oQNaK2uncXZ6J98E8AhDAFFRXdnRdNf85p1oU2TxKlR691sAzwAiYpX+GaCXL9wVZuosYoIKlUq/BPAQKyOiGHiTYnwEZ+ymSVqY8iGQ7wkcZ5TVLqPpZc7QLPZWXc/UrZIIffMliAcRQURp7TYa0My0DskI8eDY+NAMkYTsmUsCu0t7Nq+j+aTcvLp8wGQv0S/BPAvkLxhgKYW2PshVqubOSg87VRNCHwOyiPKjcFB3urzapOnqeokLWaqA+pzZbqvvAnocJeyowpeIY/AS5UC3KK8EdQx6w3T717svAT3QeAhMfcjCa4L1UfbBLXjVAbXK5oR+C+iJNkOMtdb2v+hXiANipAEyN0IBmmp1HJY6wTCGrqKqe9qDYh9Qr2a1ZO9jUISUWfPKbbe8caFZYxiYPQIAcZZrCP+6koI11h3jaL6YsR3e14x2qQEaNKwXNe4swGi2CVKJOMwUI3VfRUPv9hZ8iyH1zTl2AKlJtrAITIkGuFlYDPCN2Zhg5MZliDwVICAa8ayDyMKdqcYamT6jrT0p9+3MwXJsgvRdwn17gPbz7/ReoqmvvlaAlAidYZTENuvyc28VSF/gZcNIAwKMkxaWfh8ztS03S9geiO75G3llAbYLQf+pnVqJUgBII5+M0kr99khDnRlItcEeuYX747aB1uS1qiUHUtczJH7mw3nbqNWGKnFEKLw/EBxX4vKJ1iK4bLHXKDkVDpibNl54bCe36kM2yZPBGfLz7J5o7ozSej7hwbWmbRoFKppCGk6XfhDqms2ZzaHPAzd/j6ZLqi9uvRQFeKNpp06lNMW4sl6DCGkkbrwmpPUyYYdfxgzfmmE1ymgirizVab1aiBNk4Ss1H2VFubqkhaje3gSUW3B7n9lY8DTOSHZw614noiiuIJnv/o8oCOguXKd89CXu0XShZKrevPtYaT1CCRH3N+WxkVu9Q7VrGpVeq+bANINr7pMGSFX4i3Npu9XKOdCXmyBOuyYmkq2eQzz1siPnVYRNQYK1gORClbT1jwAhkyUOGbN8G79kmbjevdPkHLv3Ypyw1gYK3mDldmiV5ryRUN5sTVre4tmrXKvd65uyuel1W/VayY0U4+TtUYSQW47fqB3cSk+J9L7couny+HjR3j+ixnGN1k66PU06u9/WOXdszB8RFwMgE/kmVLHSAnAuwLXkBO0a88DF5EuMZYyBSRs+b4aFLnaSauglsOXCxuwREzrEAAZI5SYSvdkIuzdzKDppA07Fxr6d/DETwkNCjdJwZJZVbpczOHqDCjN2NhJFC0dNSNsHZA5pny9tcEnRZIT8Qbj2aW8tql2THRYhvOE2Qtq5OGEqqjIRBB7jf2FARbuLY8NjlLe9cDOGO27U8W0XDt3ycbsfHxqjPM1mW5xNqtHkSobSXobm48NhxNLu/k0WcHm3LUqDNhrBFRJ0Hx4Go2yEXpgcrjrZ7lucr6Yxws1Q72YOnpHD3cixNNYDc60ullOv08QlAKyTrcOxgOMjF0vIEzliRlnfZUVtPT0ilIVZxtkHR3NBOnsm4kaiSRdfaNbFZ6eO0NmTtT7liFIx4+6j4wEF2rloxAuJJnOUFjSXdP+hmSAIpSLeCZNm7fPx5pthCkduhvCYrLQpn0l4+IHpkzhkBtOUSLP4b7fAphmvPzPG+qhCqYiPEmVSaZaVVaq4+49MOsH49FGMXzESRd549JIsnJwKvQZIbCzy2iTpqU0qJCKvURjPav/FdOS1CiGvpgYUjbxmYbIu6ySFVw5Irj64oMQmI29EEhknJy6fikXeksSSWRpM+WzybfEBUiEbh47NJKKRtyy7VCjDEnKUPJtOMpE/RPV1zC5t1GX329P/N/0fvVS+gk+WV1QAAAAASUVORK5CYII="},function(e,t){e.exports='  <div id="modal-dialog" class="modal hide fade createModalDialog" tabindex="-1" role="dialog"\n       aria-labelledby="myModalLabel" aria-hidden="true">\n   <% if (title !== null) { %>\n   <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>\n      <a class="arangoHeader"><%=title%></a>\n   </div>\n   <%}%>\n\n    <% if (tabBar) { %>\n      <div class="modal-tabbar">\n        <ul id="infoTab" class="nav nav-tabs">\n          <% var counter = 0; %>\n          <% _.each(tabBar, function(value) { %>\n            <% if (counter === 0) { %>\n              <li class="active"><a href="#<%=value%>" data-toggle="tab"><%=value%></a></li>\n            <%} else {%>\n              <li><a href="#<%=value%>" data-toggle="tab"><%=value%></a></li>\n            <% } %>\n            <% counter++; %>\n          <% }); %>\n        </ul>\n      </div>\n    <%}%>\n\n    <div class="modal-body">\n\n      <% if (tabBar) { %>\n        <div class="tab-content">\n          <% var counter = 0; %>\n          <% _.each(tabBar, function(value) { %>\n            <% if (counter === 0) { %>\n              <div class="tab-pane tab-pane-modal active" id="<%=value%>">\n              </div>\n            <%} else {%>\n              <div class="tab-pane tab-pane-modal" id="<%=value%>">\n              </div>\n            <% } %>\n            <% counter++; %>\n          <% }); %>\n        </div>\n      <%}%>\n\n    </div>\n\n    <% if (!hideFooter) { %>\n    <div class="modal-footer">\n      <%\n      _.each(buttons, function(value, key){\n        var type = value.type,\n          title = value.title,\n          disabled = \'\';\n          if (value.disabled) {\n            disabled = \'disabled\';\n          }\n        %>\n      <button id="modalButton<%=key%>" class="button-<%=type%>" <%=disabled%>><%=title%></button>\n      <%});%>\n    </div>\n    <% } %>\n    <div class="alert alert-error modal-delete-confirmation" id="modal-delete-confirmation">\n      <strong><%=confirm||\'Really delete?\'%></strong>\n      <button id="modal-confirm-delete" class="button-danger pull-right modal-confirm-delete">Yes</button>\n      <button id="modal-abort-delete" class="button-neutral pull-right">No</button>\n    </div>\n  </div>\n'},function(e,t){e.exports='<%\n    var figuresData = content.figures || {};\n    var revision    = content.revision;\n\n    if (!figuresData.figures) {\n      figuresData.figures = {};\n    }\n%>\n\n        <table id="collectionInfoTable" class="arango-table">\n          <% if (figuresData.journalSize) { %>\n            <tr id="collectionSizeBox">\n              <th class="collectionInfoTh2">Journal size:</th>\n              <th class="collectionInfoTh">\n                <div id="show-collection-size" class="modal-text">\n                  <%=prettyBytes(figuresData.journalSize)%>\n                </div>\n              </th>\n              <th class="tooltipInfoTh">\n                <div>\n                  <span class="modalTooltips arangoicon icon_arangodb_info" title="The maximal size of a journal or datafile (in MB). Must be at least 1.">\n                  </span>\n                </div>\n              </th>\n            </tr>\n          <% } %>\n          <tr id="collectionSyncBox">\n            <th class="collectionInfoTh2">Wait for sync:</th>\n            <th class="collectionInfoTh">\n                <div id="show-collection-sync" class="modal-text">\n                  <%=figuresData.waitForSync%>\n                </div>\n            </th>\n            <th class="tooltipInfoTh">\n              <div>\n                <span class="modalTooltips arangoicon icon_arangodb_info" title="Synchronize to disk before returning from a create or update of a document.">\n                </span>\n              </div>\n            </th>\n          </tr>\n\n          <tr>\n            <th class="collectionInfoTh2">ID:</th>\n            <th class="collectionInfoTh">\n              <div id="show-collection-id" class="modal-text">\n                <%=content.model.get("id")%>\n              </div>\n            <th>\n          </tr>\n\n          <tr id="collectionRevBox">\n            <th class="collectionInfoTh2">Revision:</th>\n            <th class="collectionInfoTh">\n              <div id="show-collection-rev" class="modal-text">\n                <%=revision.revision%>\n              </div>\n            </th>\n            <th class="collectionInfoTh">\n            </th>\n          </tr>\n\n          <tr>\n            <th class="collectionInfoTh2">Type:</th>\n            <th class="collectionInfoTh">\n              <div class="modal-text"><%=content.model.get("type")%></div>\n            </th>\n            <th class="collectionInfoTh">\n            </th>\n          </tr>\n\n          <tr>\n            <th class="collectionInfoTh2">Status:</th>\n            <th class="collectionInfoTh">\n              <div class="modal-text"><%=content.model.get("status")%></div>\n            </th>\n            <th class="collectionInfoTh">\n            </th>\n          </tr>\n\n          <% if (figuresData.numberOfShards) { %>\n            <tr>\n              <th class="collectionInfoTh2">Number of shards:</th>\n              <th class="collectionInfoTh">\n                <div class="modal-text"><%=figuresData.numberOfShards%></div>\n              </th>\n              <th class="collectionInfoTh">\n              </th>\n            </tr>\n          <% } %>\n          \n          <% if (figuresData.replicationFactor) { %>\n            <tr>\n              <th class="collectionInfoTh2">Replication factor:</th>\n              <th class="collectionInfoTh">\n                <div class="modal-text"><%=figuresData.replicationFactor%></div>\n              </th>\n              <th class="collectionInfoTh">\n              </th>\n            </tr>\n          <% } %>\n          <% if (figuresData.writeConcern) { %>\n            <tr>\n              <th class="collectionInfoTh2">Write concern:</th>\n              <th class="collectionInfoTh">\n                <div class="modal-text"><%=figuresData.writeConcern%></div>\n              </th>\n              <th class="collectionInfoTh">\n              </th>\n            </tr>\n          <% } %>\n          \n          <% if (figuresData.shardKeys) { %>\n            <tr>\n              <th class="collectionInfoTh2">Shard keys:</th>\n              <th class="collectionInfoTh">\n                <div class="modal-text"><%=JSON.stringify(figuresData.shardKeys)%></div>\n              </th>\n              <th class="collectionInfoTh">\n              </th>\n            </tr>\n          <% } %>\n\n          <% if (figuresData.distributeShardsLike) { %>\n            <tr>\n              <th class="collectionInfoTh2">Distribute shards like:</th>\n              <th class="collectionInfoTh">\n                <div class="modal-text"><%=figuresData.distributeShardsLike%></div>\n              </th>\n              <th class="collectionInfoTh">\n              </th>\n            </tr>\n          <% } %>\n\n          <% if (figuresData.smartJoinAttribute) { %>\n            <tr>\n              <th class="collectionInfoTh2">Smart join attribute:</th>\n              <th class="collectionInfoTh">\n                <div class="modal-text"><%=figuresData.smartJoinAttribute%></div>\n              </th>\n              <th class="collectionInfoTh">\n              </th>\n            </tr>\n          <% } %>\n          \n          <% if (figuresData.indexBuckets) { %>\n            <tr>\n              <th class="collectionInfoTh2">Index buckets:</th>\n              <th class="collectionInfoTh">\n                <div class="modal-text"><%=figuresData.indexBuckets%></div>\n              </th>\n              <th class="collectionInfoTh">\n              </th>\n            </tr>\n          <% } %> \n          <% if (!frontendConfig.isCluster) { %>\n            <% if (figuresData.figures.compactionStatus) { %>\n              <tr>\n                <th class="collectionInfoTh2">Compaction status:</th>\n                <th class="collectionInfoTh">\n                  <div class="modal-text"><%=figuresData.figures.compactionStatus.message + " (" + figuresData.figures.compactionStatus.time + ")" %></div>\n                </th>\n                <th class="collectionInfoTh">\n                </th>\n              </tr>\n            <% } %> \n          <%\xa0} %>\n          \n          <% if (figuresData.figures.waitingFor) { %>\n            <tr>\n              <th class="collectionInfoTh2">Waiting for:</th>\n              <th class="collectionInfoTh">\n                <div class="modal-text"><%=figuresData.figures.waitingFor%></div>\n              </th>\n              <th class="collectionInfoTh">\n              </th>\n            </tr>\n          <%\xa0} %>\n        </table>\n\n      </div>\n\n        <% if (figuresData.figures.alive && figuresData.figures.dead && !frontendConfig.isCluster && frontendConfig.engine === \'mmfiles\') { %>\n            <div class="infoBox">\n              <h4>Figures</h4>\n              <p>The following information does not contain data stored in the write-ahead log. It can be inaccurate, until the write-ahead log has been completely flushed.</p>\n            </div>\n          <table class="figures1 arango-table">\n            <tr class="figuresHeader">\n              <th>Type</th>\n              <th>Count</th>\n              <th>Size</th>\n              <th>Deletion</th>\n              <th>Info</th>\n            </tr>\n            <tr>\n              <th class="modal-text">Alive</th>\n              <% if (figuresData.walMessage) { %> \n                <th class="modal-text"><%=figuresData.walMessage%></th>\n              <% } else { %>\n                <th class="modal-text"><%=numeral(figuresData.figures.alive.count).format(\'0,0\')%></th>\n              <% } %>\n              <th class="modal-text">\n                <% if (figuresData.walMessage) { %>\n                  <%=figuresData.walMessage%>\n                <% } else { %>\n                  <%=prettyBytes(figuresData.figures.alive.size)%>\n                <% } %>\n              </th>\n              <th class="modal-text"> -</th>\n              <th class="tooltipInfoTh">\n                <span class="modalTooltips arangoicon icon_arangodb_info" title="Total number and size of all living documents.">\n                </span>\n              </th>\n            </tr>\n            <tr>\n              <th class="modal-text">Dead</th>\n              <th class="modal-text">\n                <% if (figuresData.walMessage) { %>\n                  <%=figuresData.walMessage%>\n                <% } else { %>\n                  <%=numeral(figuresData.figures.dead.count).format(\'0,0\')%>\n                <% } %>\n              </th>\n              <th class="modal-text">\n                <% if (figuresData.walMessage) { %>\n                  <%=figuresData.walMessage%>\n                <% } else { %>\n                  <%=prettyBytes(figuresData.figures.dead.size)%>\n                <% } %>\n              </th>\n              <th class="modal-text">\n                <% if (figuresData.walMessage) { %>\n                  <%=figuresData.walMessage%>\n                <% } else { %>\n                  <%=figuresData.figures.dead.deletion%>\n                <% } %>\n              </th>\n\n              <th class="tooltipInfoTh">\n                <div>\n                  <span class="modalTooltips arangoicon icon_arangodb_info" title="Total number and size of all dead documents.">\n                  </span>\n              </div>\n              </th>\n\n            </tr>\n            <tr><th><div> </div></th></tr>\n          </table>\n        <% } %>\n\n        <% if (figuresData.figures.datafiles && figuresData.figures.journals && figuresData.figures.compactors && !frontendConfig.isCluster && frontendConfig.engine === \'mmfiles\') { %>\n          <table class="figures2 arango-table">\n            <tr class="figuresHeader">\n              <th>Type</th>\n              <th>Count</th>\n              <th>Size</th>\n              <th></th>\n              <th>Info</th>\n            </tr>\n            <tr>\n              <th class="modal-text">Datafiles</th>\n              <th class="modal-text">\n                <% if (figuresData.walMessage) { %>\n                  <%=figuresData.walMessage%>\n                <% } else { %>\n                  <%=numeral(figuresData.figures.datafiles.count).format(\'0,0\')%>\n                <% } %>\n              </th>\n              <th class="modal-text">\n                <% if (figuresData.walMessage) { %>\n                  <%=figuresData.walMessage%>\n                <% } else { %>\n                  <%= prettyBytes(figuresData.figures.datafiles.fileSize) %>\n                <% } %>\n              </th>\n              <th class="modal-text">&nbsp;</th>\n              <th class="tooltipInfoTh">\n                <div>\n                  <span class="modalTooltips arangoicon icon_arangodb_info" data-toggle="tooltip" data-placement="left" title="Number and total size of active datafiles.">\n                  </span>\n                </div>\n              </th>\n            </tr>\n            <tr>\n              <th class="modal-text">Journals</th>\n              <th class="modal-text">\n                <% if (figuresData.walMessage) { %>\n                  <%=figuresData.walMessage%>\n                <% } else { %>\n                  <%=numeral(figuresData.figures.journals.count).format(\'0,0\')%>\n                <% } %>\n              </th>\n              <th class="modal-text">\n                <% if (figuresData.walMessage) { %>\n                  <%=figuresData.walMessage%>\n                <% } else { %>\n                  <%=prettyBytes(figuresData.figures.journals.fileSize)%>\n                <% } %>\n              </th>\n              <th class="modal-text">&nbsp;</th>\n              <th class="tooltipInfoTh">\n                <span class="modalTooltips arangoicon icon_arangodb_info" title="Number and total size of journal files.">\n                </span>\n              </th>\n            </tr>\n            <tr>\n              <th class="modal-text">Compactors</th>\n              <th class="modal-text">\n                <% if (figuresData.walMessage) { %>\n                  <%=figuresData.walMessage%>\n                <% } else { %>\n                  <%=numeral(figuresData.figures.compactors.count).format(\'0,0\')%>\n                <% } %>\n              </th>\n              <th class="modal-text">\n                <% if (figuresData.walMessage) { %>\n                  <%=figuresData.walMessage%>\n                <% } else { %>\n                  <%=prettyBytes(figuresData.figures.compactors.fileSize)%>\n                <% } %>\n              </th>\n              <th class="modal-text">&nbsp;</th>\n              <th class="tooltipInfoTh">\n                <span class="modalTooltips arangoicon icon_arangodb_info" title="Number and total size of compactor files."></span>\n              </th>\n            </tr>\n            <tr>\n              <th class="modal-text">Indexes</th>\n              <th class="modal-text">\n                <%=numeral(figuresData.figures.indexes.count).format(\'0,0\')%>\n              </th>\n              <th class="modal-text">\n                <%=prettyBytes(figuresData.figures.indexes.size)%>\n              </th>\n              <th class="modal-text">&nbsp;</th>\n              <th class="tooltipInfoTh">\n                <span class="modalTooltips arangoicon icon_arangodb_info" title="Number and total memory usage of indexes."></span>\n              </th>\n            </tr>\n          </table>\n        <% } %>\n\n        <% if (figuresData.figures.documentReferences && figuresData.figures.uncollectedLogfileEntries && !frontendConfig.isCluster && frontendConfig.engine === \'mmfiles\') { %>\n          <table class="figures3 arango-table">\n            <tr class="figuresHeader">\n              <th>Type</th>\n              <th>Count</th>\n              <th></th>\n              <th></th>\n              <th>Info</th>\n            </tr>\n            <tr>\n              <th class="modal-text">Uncollected</th>\n              <th class="modal-text"><%=figuresData.figures.uncollectedLogfileEntries%></th>\n              <th class="modal-text">&nbsp;</th>\n              <th class="modal-text">&nbsp;</th>\n              <th class="tooltipInfoTh">\n                <span class="modalTooltips arangoicon icon_arangodb_info" title="Total number of uncollected WAL entries">\n                </span>\n              </th>\n            </tr>\n            <tr>\n              <th class="modal-text">References</th>\n              <th class="modal-text"><%=figuresData.figures.documentReferences%></th>\n              <th class="modal-text">&nbsp;</th>\n              <th class="modal-text">&nbsp;</th>\n              <th class="tooltipInfoTh">\n                <span class="modalTooltips arangoicon icon_arangodb_info" title="Total number of objects pointing to documents in collection datafiles">\n                </span>\n              </th>\n            </tr>\n          </table>\n        <% } %>\n\n'},function(e,t){e.exports="  <div>\n    Your new Foxx Service is ready for download.\n    You can edit it on your local system and repack it in a zip file to publish it on ArangoDB.\n  </div>\n"},function(e,t){e.exports='\t<div class="detail-chart">\n        <div id="lineChartDetail" class="modal-inner-detail"></div>\n        <div class="modal-dashboard-legend">\n            <div class="dashboard-legend-inner" id="detailLegend"></div>\n        </div>\n    </div>\n'},function(e,t){e.exports='\n  <ul id="graphTab" class="nav nav-tabs">\n    <li class="active"><a href="#createGraph" data-toggle="tab" id="tab-createGraph">Graph</a></li>\n    <li><a href="#smartGraph" data-toggle="tab" id="tab-smartGraph">Smart Graph</a></li>\n    <li><a href="#satelliteGraph" data-toggle="tab" id="tab-satelliteGraph">Satellite Graph</a></li>\n    <li><a href="#exampleGraphs" data-toggle="tab" id="tab-exampleGraphs">Examples</a></li>\n  </ul>\n\n  <div class="tab-content" id="tab-content-create-graph">\n\n    <div class="tab-pane" id="exampleGraphs">\n      <table style="margin-bottom: 10px">\n        <tbody>\n          <tr>\n            <td>Knows Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="knows_graph" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>Traversal Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="traversalGraph" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>k Shortest Paths Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="kShortestPathsGraph" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>Mps Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="mps_graph" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>World Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="worldCountry" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>Social Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="social" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n          <tr>\n            <td>City Graph</td>\n            <td>\n              <button style="float: right; margin-bottom: 10px;" graph-id="routeplanner" class="button-success createExampleGraphs">Create</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n     <p style="width: 100%; text-align: center;">Need help? Visit our <a style="font-weight: bold" href="https://www.arangodb.com/docs/stable/graphs.html#example-graphs" target="_blank">Graph Documentation</a></p>\n\n    </div>\n\n    <div class="active tab-pane" id="createGraph">\n\n    <div id="smartGraphInfo" class="infoMessage" style="display: none;">\n      <span>Smart Graph Info: Only use non-existent collection names (vertices/edges).</span>\n    </div>\n\n    <%\n    var createTR = function(row, disableSubmitOnEnter) {\n      var mandatory = \'\';\n      if (row.mandatory) {\n        mandatory = \'*\';\n      }\n\n      %>\n        <tr class="tableRow" id="<%=\'row_\' + row.id%>">\n          <th class="collectionTh"><%=row.label%><%=mandatory%>:</th>\n          <th class="collectionTh">\n            <%\n              switch(row.type) {\n                case "text":\n            %>\n            <input type="text" id="<%=row.id%>" value="<%=row.value||\'\'%>" placeholder="<%=row.placeholder||\'\'%>"></input>\n            <%\n                break;\n              case "password":\n            %>\n            <input type="password" id="<%=row.id%>" value="<%=row.value||\'\'%>" placeholder="<%=row.placeholder||\'\'%>"></input>\n            <%\n                break;\n              case "readonly":\n            %>\n            <input type="text" id="<%=row.id%>" value="<%=row.value||\'\'%>" placeholder="<%=row.placeholder||\'\'%>" disabled></input>\n            <%\n                break;\n                case "checkbox":\n                  var checked = \'\',\n                    disabled = \'\';\n                  if (row.checked) {\n                    checked = \'checked\';\n                  }\n                  if (row.disabled) {\n                    disabled = \'disabled\';\n                  }\n            %>\n            <input type="checkbox" id="<%=row.id%>" value="<%=row.value%>" <%=checked%> <%=disabled%>></input>\n            <%\n                break;\n                case "select":\n            %>\n            <select id="<%=row.id%>" class="modalSelect">\n            <%\n                  _.each(row.options, function(opt) {\n            %>\n              <option value="<%=opt.value%>" <%=row.selected === opt.value?"selected":""%>><%=opt.label%></option>\n            <%\n                  });\n            %>\n            </select>\n            <%\n                break;\n                case "select2":\n            %>\n            <input type="hidden" id="<%=row.id%>" value="<%=row.value||\'\'%>" placeholder="<%=row.placeholder||\'\'%>"></input>\n            <% if (row.addAdd) {%>\n              <button id="<%=\'addAfter_\' + row.id%>" class="graphViewer-icon-button gv-icon-small add addAfter"></button>\n            <% } %>\n            <% if (row.addDelete) {%>\n              <button id="<%=\'remove_\' + row.id%>" class="graphViewer-icon-button gv_internal_remove_line gv-icon-small delete addDelete"></button>\n            <% } %>\n            <%\n                break;\n              }\n\n              if (row.info) {\n            %>\n          <th>\n            <span class="modalTooltips arangoicon icon_arangodb_info" title="<%=row.info%>">\n            </span>\n          </th>\n        <%\n          }\n        %>\n        </tr>\n      <%\n    }//createTR\n    %>\n\n    <table>\n      <tbody>\n        <%\n        _.each(content, function(row) {\n          createTR(row);\n        });\n        %>\n\n      </tbody>\n    </table>\n      <%\n      if (advancedContent) {\n      %>\n      <div class="accordion" id="accordion2">\n        <div class="accordion-group">\n          <div class="accordion-heading">\n            <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">\n              <span><%=advancedContent.header%></span><span><b class="caret"></b></span>\n            </a>\n          </div>\n          <div id="collapseOne" class="accordion-body collapse out">\n            <div class="accordion-inner">\n              <table>\n                <tbody>\n                  <%\n                  _.each(advancedContent.content, function(row) {\n                    createTR(row);\n                  });\n                  %>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n      <%\n      }\n      %>\n    </div>\n\n  </div>\n'},function(e,t){e.exports='\n  <ul class="hotkeysList">\n  <% _.each(content, function(categories) { %>\n\n    <li class="hotkeysLabel"><%=categories.name%></li>\n\n    <% _.each(categories.content, function(values) { %>\n      <li class="hotkeysContent"><div class="hotkeysContentLabel"><%=values.label%></div><div class="hotkeysicons">&nbsp;&nbsp;<%=values.letter%>&nbsp;&nbsp;</div></li>\n    <% }); %>\n\n\n  <% }); %>\n  <ul>\n\n'},function(e,t){e.exports='  <%\n  var createTR = function(row) {\n    var mandatory = \'\';\n    if (row.mandatory) {\n      mandatory = \'*\';\n    }\n    %>\n    <tr class="tableRow" id="<%=\'row_\' + row.id%>">\n      <th class="collectionTh"><%=row.label%><%=mandatory%>:</th>\n      <th class="collectionTh"<%=row.info?\'\':\' colspan="2"\'%>>\n        <%\n        switch(row.type) {\n        case "text":\n          %>\n          <input type="text" id="<%=row.id%>" value="<%=row.value||\'\'%>" placeholder="<%=row.placeholder||\'\'%>"></input>\n          <%\n          break;\n        case "blob":\n          %>\n          <textarea id="<%=row.id%>" placeholder="<%=row.placeholder||\'\'%>"><%=row.value||\'\'%></textarea>\n          <%\n          break;\n        case "password":\n          %>\n          <input type="password" id="<%=row.id%>" value="<%=row.value||\'\'%>" placeholder="<%=row.placeholder||\'\'%>"></input>\n          <%\n          break;\n        case "readonly":\n          %>\n          <div class="modal-text" id="<%=row.id%>"><%=row.value||\'\'%></div>\n          <%\n          break;\n        case "checkbox":\n          var checked = \'\',\n            disabled = \'\';\n          if (row.checked) {\n            checked = \'checked\';\n          }\n          if (row.disabled) {\n            disabled = \'disabled\';\n          }\n          %>\n          <input type="checkbox" id="<%=row.id%>" value="<%=row.value%>" <%=checked%> <%=disabled%>></input>\n          <%\n          break;\n        case "select":\n          %>\n          <select id="<%=row.id%>" class="modalSelect">\n          <% _.each(row.options, function(opt) { %>\n            <option value="<%=opt.value%>" <%=row.selected === opt.value?"selected":""%>><%=opt.label%></option>\n          <% }); %>\n          </select>\n          <%\n          break;\n        case "select2":\n          %>\n          <input type="hidden" id="<%=row.id%>" value="<%=row.value||\'\'%>" placeholder="<%=row.placeholder||\'\'%>"></input>\n          <% if (row.addDelete) {%>\n            <button class="graphViewer-icon-button gv-icon-small add"></button>\n          <% } %>\n          <% if (row.addDelete) {%>\n            <button class="graphViewer-icon-button gv_internal_remove_line gv-icon-small delete"></button>\n          <% } %>\n          <%\n          break;\n        }\n        %>\n        <% if (row.info) { %>\n        </th>\n        <th>\n          <span class="modalTooltips arangoicon icon_arangodb_info" title="<%=row.info%>">\n          </span>\n        <% } %>\n      </th>\n    </tr>\n    <%\n  };\n  %>\n  <% if (content) { %>\n    <table>\n      <tbody>\n        <%\n        _.each(content, function(row) {\n          createTR(row);\n        });\n        %>\n      </tbody>\n    </table>\n  <% } %>\n  <% if (info) { %>\n    <%= info %>\n  <% } %>\n  <% if (advancedContent) { %>\n    <div class="accordion" id="accordion2">\n      <div class="accordion-group">\n        <div class="accordion-heading">\n          <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">\n            <span><%=advancedContent.header%></span><span><b class="caret"></b></span>\n          </a>\n        </div>\n        <div id="collapseOne" class="accordion-body collapse out">\n          <div class="accordion-inner">\n            <table>\n              <tbody>\n                <%\n                _.each(advancedContent.content, function(row) {\n                  createTR(row);\n                });\n                %>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  <% } %>\n'},function(e,t){e.exports='<%\n  function createSuite(suite) {\n    %>\n    <dt class="tests-result-spec-suite-title">\n      <%= suite.title %>\n    </dt>\n    <dd>\n      <% if (suite.tests.length) { %>\n        <ul class="tests-result-spec-tests">\n          <% _.each(suite.tests, createTest) %>\n        </ul>\n      <% } %>\n      <% if (suite.suites.length) { %>\n        <dl class="tests-result-spec-suites">\n          <% _.each(suite.suites, createSuite) %>\n        </dl>\n      <% } %>\n    </dd>\n    <%\n  }\n  function createTest(test) {\n    var slow = test.duration > 75;\n    %>\n    <li class="tests-result-spec-test <%= test.result %><%= slow ? \' slow\': \'\' %>">\n      <span class="tests-result-spec-test-title">\n        <% switch (test.result) {\n          case \'pass\': %>\n          <span class="fa fa-check"></span>\n          <% break;\n          case \'fail\': %>\n          <span class="fa fa-times"></span>\n          <% break;\n          case \'pending\': %>\n          <span class="fa fa-circle"></span>\n        <% } %>\n        <%= test.title %>\n        <%= slow ? \'(\' + test.duration + \'ms)\' : \'\' %>\n      </span>\n      <% if (!_.isEmpty(test.err)) { %>\n        <pre class="stack"><%= test.err.stack %></pre>\n      <% } %>\n    </li>\n  <%\n  } %>\n  <div class="tests-result">\n    <% if (info.stack) { %>\n      <div class="tests-result-stats fail">\n        Test runner failed with an error.\n      </div>\n      <pre class="stack"><%= info.stack %></pre>\n    <% } else { %>\n      <div class="tests-result-stats">\n        Completed <b><%= info.stats.tests %></b> tests in <b><%= info.stats.duration %>ms</b>\n        (<span class="pass" title="passes"><%= info.stats.passes\n        %></span>/<span class="fail" title="failures"><%= info.stats.failures\n        %></span>/<span class="pending" title="pending"><%= info.stats.pending\n        %></span>)\n      </div>\n      <div class="tests-result-spec">\n        <% if (info.tests.length) { %>\n          <ul class="tests-result-spec-tests">\n            <% _.each(info.tests, createTest) %>\n          </ul>\n        <% } %>\n        <% if (info.suites.length) { %>\n          <dl class="tests-result-spec-suites">\n            <% _.each(info.suites, createSuite) %>\n          </dl>\n        <% } %>\n        <% if (!info.tests.length && !info.suites.length) { %>\n          <div class="tests-result-spec-empty">No tests found.</div>\n        <% } %>\n      </div>\n    <% } %>\n  </div>\n'},function(e,t){e.exports='  <ul class="navlist arango-collection-ul" id="arangoCollectionUl">\n    <% if (isCluster) { %>\n      <li class="cluster-menu"><a id="cluster" class="tab" href="#cluster"><i class="fa fa-circle-o"></i>Cluster</a></li>\n      <li class="nodes-menu"><a id="nodes" class="tab" href="#nodes"><i class="fa fa-server"></i>Nodes</a></li>\n    <% } else { %>\n      <li class="dashboard-menu"><a id="dashboard" class="tab" href="#dashboard"><i class="fa fa-dashboard"></i>Dashboard</a></li>\n    <% } %>\n    <li class="navbar-spacer big"></li>\n    \x3c!-- <li id="dbSelect" class="dropdown databases-menu disabled"></li> --\x3e\n    <li class="collections-menu"><a id="collections" class="tab" href="#collections"><i class="fa fa-folder"></i>Collections</a></li>\n    <li class="views-menu"><a id="views" class="tab" href="#views"><i class="fa fa-eye"></i>Views</a></li>\n    <li class="queries-menu"><a id="queries" class="tab" href="#queries"><i class="fa fa-bolt"></i>Queries</a></li>\n    <li class="graphs-menu"><a id="graphs" class="tab" href="#graphs"><i class="fa fa-sitemap"></i>Graphs</a></li>\n    <% if (foxxApiEnabled) { %>\n    <li class="services-menu">\n      <a id="services" class="tab" href="#services"><i class="fa fa-cogs"></i>Services</a>\n    </li>\n    <% } %>\n    <% if (currentDB.get(\'isSystem\')) { %>\n      <% if (!readOnly) { %>\n        <li class="users-menu"><a id="users" class="tab" href="#manage"><i class="fa fa-users"></i>Users</a></li>\n      <% } %>\n    <% } %>\n    \x3c!--\n    <% if (currentDB.get(\'isSystem\')) { %>\n      <li class="navbar-spacer big"></li>\n      <li class="settings-menu"><a id="settings" class="tab" href="#settings"><i class="fa fa-cog"></i>Settings</a></li>\n    <% } %>\n    --\x3e\n    <% if (currentDB.get(\'isSystem\') || currentDB.get(!isCluster)) { %>\n      <li class="navbar-spacer big"></li>\n    <% } %>\n    <% if (currentDB.get(\'isSystem\')) { %>\n      <li class="databases-menu"><a id="databases" class="tab" href="#databases"><i class="fa fa-database"></i>Databases</a></li>\n    <% } %>\n    <% if (currentDB.get(\'isSystem\') && !isCluster) { %>\n      <li class="replication-menu"><a id="replication" class="tab" href="#replication"><i class="fa fa-server"></i>Replication</a></li>\n    <% } %>\n    <% if (!isCluster) { %>\n      <li class="logs-menu"><a id="logs" class="tab" href="#logs"><i class="fa fa-file-text"></i>Logs</a></li>\n    <% } %>\n    <li class="navbar-spacer big"></li>\n    <li class="support-menu"><a id="support" class="tab" href="#support"><i class="fa fa-support"></i>Support</a></li>\n    <li class="helpus-menu"><a id="helpus" class="tab" href="#helpus"><i class="fa fa-heart"></i>Help Us</a></li>\n    <li class="enterprise-menu" style="display: none; cursor: pointer"><a id="enterprise" class="tab" target="_blank"><i class="fa fa-external-link-square"></i>Get enterprise</a></li>\n    \x3c!--\n    <li class="navbar-spacer big"></li>\n    <li class="dropdown tools-menu" id="toolsDropdown">\n      <a href="#" class="tab" id="tools">Tools <b class="caret"></b></a>\n      <ul class="link-dropdown-menu" id="tools_dropdown">\n        <li class="dropdown-header">Tools</li>\n        <li class="dropdown-item">\n          <a id="shell" class="tab" href="#shell">JS Shell</a>\n        </li>\n\n        <% if (!isCluster) { %>\n          <li class="dropdown-item">\n            <a id="logs" class="tab" href="#logs">Logs</a>\n          </li>\n        <% } %>\n\n        <li class="dropdown-item">\n          <a id="userManagement" class="tab" href="#userManagement">User Management</a>\n        </li>\n        <li class="dropdown-item">\n          <a id="queryManagement" class="tab" href="#queryManagement">Query Management</a>\n        </li>\n        <li class="dropdown-item">\n          <a id="workMonitor" class="tab" href="#workMonitor">Work Monitor</a>\n        </li>\n      </ul>\n    </li>\n    <li class="dropdown" id="linkDropdown">\n      <a href="#" class="tab" id="links">Links <b class="caret"></b></a>\n      <ul class="link-dropdown-menu" id="link_dropdown">\n        <li class="dropdown-header">Documentation</li>\n        <li class="dropdown-item"><a href="/_db/<%= currentDB.get(\'name\') %>/_admin/aardvark/api/index.html" target="_blank">API Documentation</a></li>\n        <li class="dropdown-item"><a href="https://www.arangodb.com/docs/stable/programs-arangosh.html"\n                                     target="_blank">JS Shell Documentation</a></li>\n        <li class="dropdown-item"><a href="https://www.arangodb.com/docs/stable/aql/" target="_blank">AQL\n          Documentation</a></li>\n        <li class="dropdown-item"><a href="https://www.arangodb.com/docs/stable/" target="_blank">General\n          Documentation</a></li>\n        <li class="divider"></li>\n        <li class="dropdown-header">ArangoDB</li>\n        <li class="dropdown-item"><a href="https://github.com/arangodb/arangodb" target="_blank">GitHub\n          Repository</a></li>\n        <li class="dropdown-item"><a href="https://www.arangodb.com" target="_blank">ArangoDB.com</a></li>\n      </ul>\n    </li>\n  --\x3e\n  </ul>\n\n\n  <div class="shortcut-icons">\n    <p class="shortcut"><i class="fa fa-keyboard-o"></i></p>\n  </div>\n\n  <div class="social-icons">\n    <p><a href="https://twitter.com/arangodb" target="_blank"><i class="fa fa-twitter"></i></a></p>\n    <p><a href="https://slack.arangodb.com" target="_blank"><i class="fa fa-slack"></i></a></p>\n    <p><a href="https://stackoverflow.com/questions/tagged/arangodb" target="_blank"><i class="fa fa-stack-overflow"></i></a></p>\n    <p><a href="https://groups.google.com/group/arangodb" target="_blank"><i class="fa fa-google"></i></a></p>\n  </div>\n'},function(e,t){e.exports='\n  <div id="nodeContent" class="innerContent">\n\n\n  </div>\n\n'},function(e,t){e.exports='\n  <div id="nodesContent" class="innerContent">\n\n  <% if (Object.keys(coords).length > 0) { %>\n\n    <% var disabled = \'\'; %>\n\n    <div class="pure-g">\n\n    <div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1 pure-u-xl-1-2">\n\n    <div class="sectionHeader pure-g">\n      <div class="pure-u-1-5">\n        <div class="title">\n          Coordinators\n        </div>\n      </div>\n\n\n      <div class="pure-u-4-5">\n\n        <% if (scaling === true && frontendConfig.db === \'_system\') { %>\n          <div class="scaleGroup" id="scaleCoords">\n            <div style="text-align: -webkit-right;">\n            <span class="left" id="removeCoord"><i class="fa fa-minus"></i></span>\n            <input id="plannedCoords" type="text" value="<%= plannedCoords %>"/>\n            <span class="right" id="addCoord"><i class="fa fa-plus"></i></span>\n            </div>\n          </div>\n        <% } %>\n\n        <div class="information" id="infoCoords">\n          <span class="positive"><span> <%= scaleProperties.coordsOk %> </span><i class="fa fa-check-circle"></i></span>\n          <% if (scaleProperties.coordsError) { %>\n            <span class="negative"><span> <%= scaleProperties.coordsError %> </span><i class="fa fa-exclamation-circle"></i></span>\n          <% } %>\n          <% if (scaleProperties.coordsPending && scaling === true && frontendConfig.db === \'_system\') { %>\n            <span class="warning"><span> <%= scaleProperties.coordsPending %> </span><i class="fa fa-circle-o-notch fa-spin"></i></span>\n            <button class="abortClusterPlan button-navbar button-default">Abort</button>\n          <% } %>\n        </div>\n      </div>\n\n    </div>\n\n    <div class="pure-g cluster-nodes-title pure-table pure-table-header pure-title" style="clear: both">\n      <div class="pure-table-row">\n        <div class="pure-u-9-24 left">Name</div>\n        <div class="pure-u-9-24 left">Endpoint</div>\n        <div class="pure-u-3-24">Version</div>\n        <div class="pure-u-2-24 mid hide-small">Since</div>\n        <div class="pure-u-1-24 mid"></div>\n      </div>\n    </div>\n\n    <div class="pure-g cluster-nodes coords-nodes pure-table pure-table-body">\n      <% _.each(coords, function(node, key) { %>\n        <% var id = node.id + "-node"; %>\n\n        <div class="pure-table-row <%= disabled %>" node="<%= id %>">\n\n          <div class="pure-u-9-24 left">\n            <%= node.ShortName %>\n            <i class="fa fa-bar-chart"></i>\n            <% if (node.CanBeDeleted && frontendConfig.db === \'_system\') { %>\n              <i class="fa fa-trash-o"></i>\n            <% } %>\n          </div>\n          <div class="pure-u-9-24 left"><%= node.Endpoint %></div>\n\n          <div class="pure-u-3-24"><%= node.Version %></div>\n\n          <% var formatted = (node.LastAckedTime).substr(11, 18).slice(0, -1); %>\n          <div class="pure-u-2-24 hide-small mid"><%= formatted %></div>\n\n          <% if(node.Status === \'GOOD\') { %>\n            <div class="pure-u-1-24 mid state"><i class="fa fa-check-circle tippy" title="<%= node.SyncStatus %>"></i></div>\n          <% } else { %>\n            <div class="pure-u-1-24 mid state"><i class="fa fa-exclamation-circle"></i></div>\n          <% } %>\n\n        </div>\n\n      <% }); %>\n    </div>\n  </div>\n\n  <% } %>\n\n  <% if (Object.keys(dbs).length > 0) { %>\n    <% var disabled = \'\'; %>\n    <% disabled = " dbserver"; %>\n    <div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1 pure-u-xl-1-2">\n      <div class="sectionHeader pure-g">\n        <div class="pure-u-1-5">\n          <div class="title">\n            DB Servers\n          </div>\n        </div>\n\n        <div class="pure-u-4-5">\n\n          <% if (scaling === true && frontendConfig.db === \'_system\') { %>\n            <div class="scaleGroup" id="scaleCoords">\n              <div style="text-align: -webkit-right;">\n              <span class="left" id="removeDBs"><i class="fa fa-minus"></i></span>\n              <input id="plannedDBs" value="<%= plannedDBs %>" type="text"/>\n              <span class="right" id="addDBs"><i class="fa fa-plus"></i></span>\n              </div>\n            </div>\n          <% } %>\n\n          <div class="information" id="infoDBs">\n            <span class="positive"><span> <%= scaleProperties.dbsOk %> </span><i class="fa fa-check-circle"></i></span>\n            <% if (scaleProperties.dbsError) { %>\n              <span class="negative"><span> <%= scaleProperties.dbsError %> </span><i class="fa fa-exclamation-circle"></i></span>\n            <% } %>\n            <% if (scaleProperties.dbsPending && scaling === true && frontendConfig.db === \'_system\') { %>\n              <span class="warning"><span> <%= scaleProperties.dbsPending %> </span><i class="fa fa-circle-o-notch fa-spin"></i></span>\n              <button class="abortClusterPlan button-navbar button-default">Abort</button>\n            <% } %>\n          </div>\n\n        </div>\n\n      </div>\n\n    <div class="pure-g cluster-nodes-title pure-table pure-table-header pure-title" style="clear: both">\n      <div class="pure-table-row">\n        <div class="pure-u-9-24 left">Name</div>\n        <div class="pure-u-9-24 left">Endpoint</div>\n        <div class="pure-u-3-24">Version</div>\n        <div class="pure-u-2-24 mid hide-small">Since</div>\n        <div class="pure-u-1-24 mid"></div>\n      </div>\n    </div>\n\n  <% } %>\n\n    <div class="pure-g cluster-nodes dbs-nodes pure-table pure-table-body">\n      <% _.each(dbs, function(node, key) { %>\n        <% var id = node.id + "-node"; %>\n\n        <div class="pure-table-row <%= disabled %>" node="<%= id %>">\n\n          <div class="pure-u-9-24 left">\n            <%= node.ShortName %>\n            <i class="fa fa-bar-chart"></i>\n            <% if (node.CanBeDeleted && frontendConfig.db === \'_system\') { %>\n              <i class="fa fa-trash-o"></i>\n            <% } %>\n          </div>\n          <div class="pure-u-9-24 left"><%= node.Endpoint %></div>\n\n          <div class="pure-u-3-24"><%= node.Version %></div>\n\n          <% var formatted = (node.LastAckedTime).substr(11, 18).slice(0, -1); %>\n          <div class="pure-u-2-24 hide-small mid"><%= formatted %></div>\n\n          <% if(node.Status === \'GOOD\') { %>\n            <div class="pure-u-1-24 mid state"><i class="fa fa-check-circle tippy" title="<%= node.SyncStatus %>"></i></div>\n          <% } else { %>\n            <div class="pure-u-1-24 mid state"><i class="fa fa-exclamation-circle"></i></div>\n          <% } %>\n\n        </div>\n      <% }); %>\n    </div>\n  </div>\n\n  </div>\n  </div>\n\n'},function(e,t){e.exports='<% notifications.forEach(function(n) { %>\n  <li class="dropdown-item">\n    <div class="notificationItem">\n      <% if (n.get("info")) { %>\n      <i title="<%=n.get("info")%>" class="notificationInfoIcon fa fa-info-circle"></i>\n      <% } %>\n\n      <i id="<%=n.cid%>" class="fa fa-times-circle-o"></i>\n      <a class="notificationItemTitle"><%=n.get("title")%></a>\n      <div class="notificationItemContent"><%=n.get("content")%></div>\n\n    </div>\n  </li>\n<%  }); %>\n'},function(e,t){e.exports='<ul class="navlist" id="notificationViewUl">\n\n  <div class="navlogo">\n    <div id="stat_hd" class="notificationButton"><p id="stat_hd_counter">0</p></div>\n  </div>\n\n  <li class="dropdown no-left-margin" style="border: 0">\n    <ul class="user-dropdown-menu fixedDropdown" id="notification_menu">\n      <li class="dropdown-header"><a>Notifications</a></li>\n      <ul class="innerDropdownInnerUL"></ul>\n      <button id="removeAllNotifications" class="button-close">Clear</button>\n    </ul>\n  </li>\n\n</ul>\n'},function(e,t){e.exports='  <div class="progress-view">\n    <div class="progress-content">\n      <div class="progress-text"></div>\n      <div class="pong-spinner"><i /></div>\n    </div>\n    <div class="progress-message">\n      <div class="progress-action"></div>\n    </div>\n  </div>\n'},function(e,t){e.exports='  <div id="queryManagementContent" class="innerContent">\n  </div>\n'},function(e,t){e.exports='  <div id="queryManagementContent" class="innerContent">\n  </div>\n\n  <div class="queryManagementBottomActions">\n    <button id="deleteSlowQueryHistory" class="button-danger query-button">Delete History</button>\n  </div>\n'},function(e,t){e.exports='\n    <div class="arangoToolbar arangoToolbarTop">\n      <div class="pull-left">\n        <button id="toggleQueries1" class="button-primary"><i class="fa fa-star-o"></i>Queries</button>\n        <button id="toggleQueries2" class="button-primary" style="display: none"><i class="fa fa-star"></i>Queries</button>\n        <button id="createNewQuery" class="button-warning">New</button>\n        <button id="updateCurrentQuery" class="button-success" style="display: none"><i class="fa fa-save"></i>Save</button>\n        <button id="saveCurrentQuery" class="button-success"><i class="fa fa-save"></i>Save as</button>\n      </div>\n\n      <div class="pull-right">\n        <span id="querySpotlight" class="action"><i class="fa fa-magic"></i></span>\n        <div class="styled-select">\n          <select id="querySize" class="query-size"/>\n        </div>\n      </div>\n    </div>\n\n    <div class="inputEditorWrapper">\n      <div class="aqlEditorWrapper" class="arangoEditor">\n        <span id="clearQuery" class="aceAction"><i class="fa fa-times-circle"></i></span>\n        <div id="aqlEditor"></div>\n        <div id="queryTable" style="display: none"></div>\n      </div>\n\n      <div class="bindParamEditorWrapper" class="arangoEditor">\n        <span id="switchTypes" class="aceAction type">JSON</span>\n        <div id="bindParamEditor"></div>\n        <div id="bindParamAceEditor" style="display: none"></div>\n\n        <div id="previewWrapper" class="previewWrapper" style="display: none">\n          <div id="previewBar" class="previewBar">\n            <span>Preview</span>\n          </div>\n          <div id="queryPreview"></div>\n        </div>\n\n      </div>\n    </div>\n\n    <div class="arangoToolbar arangoToolbarBottom">\n      <div class="pull-right">\n        <button id="exportQuery" class="button-success query-button" style="display:none">Export Queries</button>\n        <button id="importQuery" class="button-success query-button" style="display:none">Import Queries</button>\n        <button id="executeQuery" class="button-success query-button">Execute</button>\n        <button id="explainQuery" class="button-info query-button">Explain</button>\n        <button id="profileQuery" class="button-info query-button">Profile</button>\n        <button id="debugQuery" class="button-warning query-button">Create Debug Package</button>\n        <button id="removeResults" class="button-close query-button" style="display: none">Remove all results</button>\n      </div>\n    </div>\n\n  </div>\n\n  <div id="outputEditors" class="outputEditors">\n  </div>\n\n  <div id="queryImportDialog" class="modal hide fade in" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false" style="display: none;">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>\n      <a class="arangoHeader">Import custom queries</a>\n    </div>\n\n    <div class="modal-body">\n      <table>\n        <tbody>\n          <tr class="tableRow">\n            <th class="collectionTh">Format:</th>\n            <th class="collectionTh" colspan="2">\n<pre><code>JSON documents embedded into a list:\n\n[{\n  "name": "Query Name",\n  "value": "Query Definition",\n  "parameter": "Query Bind Parameter as Object"\n}]</code></code>\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionTh">File:</th>\n            <th class="collectionTh" colspan="2">\n              <input id="importQueries" name="importQueries" type="file" style="border: 0" />\n            </th>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <div class="modal-footer">\n      <button id="confirmQueryImport" class="button-success disabled" style="float:right">Import</button>\n      <button id="closeQueryModal" class="button-close">Cancel</button>\n'},function(e,t){e.exports='<div id="outputEditorWrapper<%= counter %>" class="outputEditorWrapper">\n    <div class="arangoToolbar arangoToolbarTop">\n      <div class="pull-left">\n        <span class="toolbarType"><%=type%></span>\n          <span id="spinner"><i class="fa fa-spinner fa-spin"></i><i>Query is operating ...</i></span>\n      </div>\n      <div class="pull-right">\n        <span class="action closeResult" element="outputEditor<%= counter %>"><i class="fa fa-close" style="display: none"></i></span>\n      </div>\n      <div class="pull-right">\n        <div class="switchAce" counter="<%=counter%>">\n          <span id="json-switch" val="JSON" counter="<%=counter%>">JSON</span>\n          <span id="table-switch" val="Table" counter="<%=counter%>" style="display: none">Table</span>\n          <span id="graph-switch" val="Graph" counter="<%=counter%>" style="display: none">Graph</span>\n          <span id="geo-switch" val="Geo" counter="<%=counter%>" style="display: none">Geo</span>\n        </div>\n      </div>\n    </div>\n    <div id="outputEditor<%= counter %>" style="opacity: 0.5"></div>\n    <div id="sentWrapper<%= counter %>" class="sentWrapper" style="display: none">\n      <div class="pull-left">\n        <div id="sentQueryEditor<%= counter %>"></div>\n      </div>\n      <div class="pull-right">\n        <div id="sentBindParamEditor<%= counter %>"></div>\n      </div>\n    </div>\n    <div class="arangoToolbar arangoToolbarBottom">\n      <div class="pull-right">\n        <% if (type === \'Query\') { %>\n          <button id="copy2gV" counter="<%=counter%>" style="display: none; margin-right: 0;" class="button-success">Graph Viewer</button>\n          <button id="downloadQueryResult" counter="<%=counter%>" style="display: none; margin-right: 0;" class="button-success">Download</button>\n          <button id="downloadCsvResult" counter="<%=counter%>" style="display: none; margin-right: 0;" class="button-success">CSV</button>\n          <button id="copy2aqlEditor" counter="<%=counter%>" style="display: none; margin-right: 8px;" class="button-success">Copy To Editor</button>\n          <button id="cancelCurrentQuery" class="button-danger" style="margin-right: 5px">Cancel</button>\n        <% } %>\n      </div>\n    </div>\n  </div>\n\n  </div>\n'},function(e,t){e.exports='  <div id="replicationContent" class="innerContent replicationContent">\n\n    <% if (mode !== 0) { %>\n      <div class="pure-g cluster-values" style="margin-top: 0;">\n\n        <div class="pure-u-1-2 pure-u-md-1-3">\n          <div class="valueWrapper">\n            <div id="info-mode-id" class="value"><%=info.state%></div>\n            <div class="graphLabel">State</div>\n          </div>\n        </div>\n\n        <div class="pure-u-1-2 pure-u-md-1-3">\n          <div class="valueWrapper">\n            <div id="info-mode-id" class="value"><%=info.mode%></div>\n            <div class="graphLabel">Mode</div>\n          </div>\n        </div>\n\n        <div class="pure-u-1-2 pure-u-md-1-3">\n          <div class="valueWrapper">\n            <% if (info.role === \'follower\' && mode !== 3) { %>\n              <div id="info-role-id" class="value">Slave</div>\n            <% } else if (info.role === \'leader\' && mode !== 3) { %>\n              <div id="info-role-id" class="value">Master</div>\n            <% } else { %>\n              <div id="info-role-id" class="value"><%=info.role%></div>\n            <% } %>\n            <div class="graphLabel">Role</div>\n          </div>\n        </div>\n\n        <div class="pure-u-1-2 pure-u-md-1-3">\n          <div class="valueWrapper">\n            <div id="info-level-id" class="value"><%=info.level%></div>\n            <div class="graphLabel">Level</div>\n          </div>\n        </div>\n\n        <div class="pure-u-1-2 pure-u-md-1-3">\n          <div class="valueWrapper">\n            <div id="info-msg-id" class="value"><%=info.health%></div>\n            <div class="graphLabel">Health</div>\n          </div>\n        </div>\n\n        <% if (info.role === \'follower\') { %>\n          <div class="pure-u-1-2 pure-u-md-1-3">\n            <div class="valueWrapper">\n              <div id="logger-lastLogTick-id" class="value"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n              <div class="graphLabel">Server ID</div>\n            </div>\n          </div>\n        <% } else { %>\n          <div class="pure-u-1-2 pure-u-md-1-3">\n            <div class="valueWrapper">\n              <div id="logger-lastLogTick-id" class="value"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n              <div class="graphLabel">Last tick</div>\n            </div>\n          </div>\n        <% } %>\n\n      </div>\n    <% } %>\n\n    <% if (mode === 0) { %>\n      <div class="repl-state">\n        <table class="pure-table half-split">\n            <tbody>\n              <tr>\n                <td>\n                  <div><i class="fa fa-server"></i></div>\n                  <div id="info-state-id"><%=info.state%></div>\n                </td>\n              </tr>\n                <tr>\n                  <td><div>This node is not replicating from any other node. Also there are no active slaves or followers found. </br>Please visit our <a href="https://www.arangodb.com/docs/stable/architecture-replication.html">Documentation</a> to find out how to setup replication.</div></td>\n                </tr>\n            </tbody>\n        </table>\n      </div>\n    <% } %>\n\n    \n    <% if (mode === 5) { %>\n      <div class="repl-info">\n        <div class="categoryBar">\n          <h4>Info</h4>\n        </div>\n        <table class="pure-table">\n            <tbody>\n              <tr>\n                <td>Mode:</td>\n                <td id="info-mode-id"><%=info.mode%></td>\n              </tr>\n              <tr>\n                <td>Level:</td>\n                <td id="info-level-id"><%=info.level%></td>\n              </tr>\n              <tr>\n                <td>Role:</td>\n                <% if (mode === 3) { %>\n                  <td id="info-role-id"><%=info.role%></td>\n                <% } else { %>\n                  <% if (info.role === \'follower\') { %>\n                    <td id="info-role-id">Slave</td>\n                  <% } else { %>\n                    <td id="info-role-id">Master</td>\n                  <% } %>\n                <% } %>\n              </tr>\n            </tbody>\n        </table>\n      </div>\n    <% } %>\n\n    <% if (info.role === \'leader\') { %>\n      <div class="repl-comparison">\n        <div class="categoryBar">\n          <h4>Comparison</h4>\n        </div>\n        \n        <div class="pure-g cluster-graphs">\n\n          <div class="pure-u-1-1 pure-u-md-1-2">\n            <div class="graphWrapper">\n              <div id="replicationTimeChart">\n                <svg></svg>\n              </div>\n              <div class="graphLabel">COMMUNICATION</div>\n            </div>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-md-1-2">\n            <div class="graphWrapper">\n              <div id="replicationTickChart">\n                <svg></svg>\n              </div>\n              <div class="graphLabel">LAST TICKS</div>\n            </div>\n          </div>\n\n        </div>\n\n      </div>\n\n      <% if (mode === 3) { %>\n        <div class="repl-nodes">\n          <div class="categoryBar">\n            <h4>Nodes</h4>\n          </div>\n        </div>\n        <table class="pure-table">\n            <tbody>\n              <tr>\n                <td>Leader:</td>\n                <td id="nodes-leader-id"><i class="fa fa-circle-o-notch fa-spin"></i></td>\n              </tr>\n              <tr>\n                <td>Followers:</td>\n                <td id="nodes-followers-id"><i class="fa fa-circle-o-notch fa-spin"></i></td>\n              </tr>\n            </tbody>\n        </table>\n      <% } %>\n    <% } %>\n\n    <% if (info.role === \'leader\') { %>\n      <div class="repl-logger">\n        <div class="categoryBar">\n          <% if (mode === 3) { %>\n            <h4>Leader State</h4>\n          <% } else { %>\n            <h4>Master State</h4>\n          <% } %>\n        </div>\n        <table class="pure-table">\n            <tbody>\n              <tr>\n                <td>Server ID:</td>\n                <td id="logger-serverid-id"><i class="fa fa-circle-o-notch fa-spin"></i></td>\n              </tr>\n              <tr>\n                <td>Time:</td>\n                <td id="logger-time-id"><i class="fa fa-circle-o-notch fa-spin"></i></td>\n              </tr>\n              <tr>\n                <td>Operations:</td>\n                <td id="logger-totalEvents-id"><i class="fa fa-circle-o-notch fa-spin"></i></td>\n              </tr>\n            </tbody>\n        </table>\n      </div>\n\n      <div class="repl-logger-clients">\n        <div class="categoryBar">\n          <% if (mode === 3) { %>\n            <h4>Follower States</h4>\n          <% } else { %>\n            <h4>Slave States</h4>\n          <% } %>\n        </div>\n        <table class="pure-table" id="repl-logger-clients">\n            <thead>\n              <tr>\n                <th>Syncer ID</th>\n                <th>Server ID</th>\n                <th>Client info</th>\n                <th>Time</th>\n                <th>Last served tick</th>\n              </tr>\n            </thead>\n            <tbody>\n            </tbody>\n        </table>\n      </div>\n    <% } %>\n\n    <% if (info.role === \'follower\') { %>\n      <div class="repl-applier">\n        <div class="categoryBar">\n          <% if (mode === 3) { %>\n            <h4>Follower States</h4>\n          <% } else { %>\n            <h4>Slave States</h4>\n          <% } %>\n        </div>\n\n        <table id="repl-follower-table" class="pure-table" style="width: 100%">\n          <thead>\n            <tr>\n              <th>Database</th>\n              <th>Enabled</th>\n              <th>Phase</th>\n              <th>Replicating from</th>\n              <th>Last tick</th>\n              <th>State</th>\n            </tr>\n          </thead>\n\n          <tbody>\n          </tbody>\n\n        </table>\n      </div>\n    <% } %>\n\n  </div>\n'},function(e,t){e.exports='\n  <div id="scaleContent" class="innerContent">\n\n  <% var genClass = "pure-u-1-5";%>\n\n    <div class="pure-g cluster-nodes-title pure-table pure-table-header pure-title">\n      <div class="pure-table-row">\n        <div class="<%= genClass %> left">Type</div>\n        <div class="<%= genClass %> mid">Running</div>\n        <div class="<%= genClass %> mid">Planned</div>\n        <div class="<%= genClass %> mid">Status</div>\n        <div class="<%= genClass %> right"></div>\n      </div>\n    </div>\n\n    <div class="pure-g cluster-nodes pure-table pure-table-body">\n\n        <div class="pure-table-row noHover">\n          <div class="<%= genClass %> left">Coordinators</div>\n          <div class="<%= genClass %> mid" id="runningCoords"><%= runningCoords %></div>\n          <% if (initialized === true) { %>\n            <div class="<%= genClass %> mid" id="plannedCoords"></div>\n            <div class="<%= genClass %> mid" id="statusCoords"></div>\n          <% } else { %>\n            <div class="<%= genClass %> mid" id="plannedCoords"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n            <div class="<%= genClass %> mid" id="statusCoords"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n          <% } %>\n          <div class="<%= genClass %> actions right">\n            <i class="fa fa-minus-circle" aria-hidden="true" id="removeCoord"></i>\n            <i class="fa fa-plus-circle" aria-hidden="true" id="addCoord"></i>\n          </div>\n        </div>\n\n        <div class="pure-table-row noHover">\n          <div class="<%= genClass %> left">DBServers</div>\n          <div class="<%= genClass %> mid" id="runningDBs"><%= runningDBs %></div>\n          <% if (initialized === true) { %>\n            <div class="<%= genClass %> mid" id="plannedDBs"></div>\n            <div class="<%= genClass %> mid" id="statusDBs"></div>\n          <% } else { %>\n            <div class="<%= genClass %> mid" id="plannedDBs"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n            <div class="<%= genClass %> mid" id="statusDBs"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n          <% } %>\n          <div class="<%= genClass %> actions right">\n            <i class="fa fa-minus-circle" aria-hidden="true" id="removeDBs"></i>\n            <i class="fa fa-plus-circle" aria-hidden="true" id="addDBs"></i>\n          </div>\n        </div>\n\n    </div>\n\n  </div>\n\n'},function(e,t){e.exports='  <div class="application-detail-view">\n    <% var visible = " visibility: hidden; ";%>\n    <% if (installed) { %>\n    <%   visible = " visibility: visible; ";%>\n    <% } %>\n\n    <div class="headerBar" style="width: 100%">\n      <ul class="subMenuEntries subViewNavbar pull-left" style="<%=visible%>">\n        <li id="service-info" class="subMenuEntry active"><a>Info</a></li>\n        <li id="service-api" class="subMenuEntry "><a>API</a></li>\n        \x3c!--<li id="service-readme" class="subMenuEntry "><a>Readme</a></li>--\x3e\n        <li id="service-settings" class="subMenuEntry "><a>Settings</a></li>\n      </ul>\n\n      <div class="headerButtonBar" style="display: none">\n        <ul class="headerButtonList">\n          <li>\n            <a id="app-deps" class="headerButton <%= _.isEmpty(app.get(\'deps\')) ? \'disabled\' : \'\' %> <%= app.hasUnconfiguredDependencies() ? \'error\' : \'\' %>">\n              <span class="fa fa-cubes" title="Dependencies"></span>\n            </a>\n          </li>\n          <li id="app-scripts" class="dropdown">\n            <a class="headerButton <%= _.isEmpty(app.get(\'scripts\')) ? \'disabled\' : \'\' %>" title="Scripts">\n              <i class="fa fa-code"></i>\n            </a>\n            <ul class="script-dropdown-menu dropdown-toolbar dropdown-menu" id="scripts_dropdown">\n            <% _.each(app.get(\'scripts\'), function (title, name) { %>\n              <li class="dropdown-item">\n                <a class="tab" data-script="<%= name %>"><%= title %></a>\n              </li>\n            <% }) %>\n            </ul>\n          </li>\n          <li>\n            <a id="app-tests" class="headerButton">\n              <span class="fa fa-flask" title="Tests"></span>\n            </a>\n          </li>\n          <li>\n            <a id="download-app" class="headerButton <%= app.isSystem() ? \'disabled\' : \'\' %>">\n              <span class="fa fa-download" title="Download"></span>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <section class="info" id="informationfunctions" style="display: none">\n      <div class="header">\n        <div id="hidden_buttons" style="display: none">\n          <button class="delete button-danger" <%=app.isSystem()?"disabled":""%> >Delete</button>\n          <button id="app-replace" class="app-replace upgrade button-warning" <%=app.isSystem()?"disabled":"" %>>Replace</button>\n          <button id="app-switch-mode" class="app-switch-mode switch-mode button-warning"><%=app.get(\'development\')?\'Set Production\':\'Set Development\'%></button>\n        </div>\n      </div>\n    </section>\n\n    <section class="info" id="information" style="width: 100%;">\n      <div class="pure-g">\n\n        <div class="pure-u-1 pure-u-sm-4-4 pure-u-md-3-4 foxx-left">\n          <div class="foxx-icon-container pull-left">\n            <img src="<%= app.thumbnailUrl %>" alt="Icon for Service" class="icon" />\n          </div>\n          <div class="pull-left" style="margin-left: 15px">\n            <h3>\n              <%= app.attributes.name %>\n            </h3>\n            <p class="description"><%= app.attributes.description %></p>\n          </div>\n          <div id="app-warning" class="app-warning" style="clear: both; display:<%=app.needsAttention()?\'block\':\'none\' %>;">\n            <h4>Out of order</h4>\n            <p id="app-warning-broken" style="display:<%=app.isBroken()?\'block\':\'none\' %>;">This service has failed to mount due to an error.</p>\n            <p id="app-warning-config" style="display:<%=app.needsConfiguration()?\'block\':\'none\' %>;">This service has not yet been configured properly.</p>\n            <p id="app-warning-deps" style="display:<%=app.hasUnconfiguredDependencies()?\'block\':\'block\' %>;">Some dependencies have not yet been set up.</p>\n          </div>\n           <div class="categoryBar">\n             <h4>Readme</h4>\n           </div>\n          <div id="readme" class="readme">\n            <% if (app.get(\'readme\')) { %>\n              <%= marked(app.get(\'readme\')) %>\n            <% } else { %>\n              <p>No README data found.</p>\n            <% } %>\n          </div>\n        </div>\n\n        <div class="pure-u-1 pure-u-sm-4-4 pure-u-md-1-4 foxx-right">\n          <div class="foxx-label-container">\n            <p>\n              <span>Author: </span><span><%= app.attributes.author %></span>\n            </p>\n            <p>\n              <span>Mount: </span><span><%= app.attributes.mount %></span>\n            </p>\n            <p>\n              <span>Mode: </span><span class="mode <%=app.get(\'development\')?\'development\':\'production\'%>"><%=app.get(\'development\')?\'Development\':\'Production\'%></span>\n            </p>\n            <p>\n              <span>Version: </span><span class="version"><%= app.attributes.version %></span>\n            </p>\n            <p>\n              <% if (app.attributes.license) { %>\n                <span>License: </span><span><%= app.attributes.license %></span>\n              <% } %>\n            </p>\n            <p>\n              <% if (app.get(\'development\') === true) { %>\n                <span>Path: </span><span class="developmentSpan"><%= app.attributes.path %></span>\n              <% } else { %>\n                <span></span>\n              <% } %>\n            </p>\n          </div>\n          <div class="header_right">\n            <input type="button" class="open button-success" disabled="true" value="Show Interface" />\n          </div>\n        </div>\n\n      </div>\n    </section>\n\n    <main>\n      <div id="app-info" class="app-info" style="display: none;">\n        <h4>Info</h4>\n        <p id="app-info-swagger">Documentation for this service is not yet configured.</p>\n      </div>\n      <div id="swagger" class="swagger" style="display: none;">\n        <a id="jsonLink">Swagger</a>\n        <div id="swaggerJsonContent" style="display: none">\n          <div id="swaggerJsonEditor" style="height: 100%;"></div>\n        </div>\n      </div>\n      <div id="settings" class="readme" style="display: none; padding: 15px;">\n        <% if (_.isEmpty(app.get(\'config\'))) { %>\n          <p>No configurable settings available.</p>\n        <% } %>\n        <div class="buttons" style="margin-left: -10px; margin-top: 20px;"></div>\n      </div>\n    </main>\n    \x3c!--<aside class="meta" id="sideinformation">\n      <dl>\n        <dt>Author</dt>\n        <dd><%= app.attributes.author %></dd>\n        <dt>Contributors</dt>\n        <dd>\n          <% if (app.attributes.contributors && app.attributes.contributors.length > 0) { %>\n          <ul>\n          <% _.each(app.attributes.contributors, function (contributor) { %>\n            <li><a href="mailto:<%= contributor.email %>"><%= contributor.name %></a></li>\n          <% }); %>\n          </ul>\n          <% } else { %>\n          No contributors\n          <% } %>\n        </dd>\n        <dt>Links</dt>\n        <dd>\n          <ul>\n            <li>\n              <a href="<%= baseUrl %>/_admin/aardvark/foxxes/docs/standalone/index.html?mount=<%= encodeURIComponent(app.get(\'mount\')) %>" target="_blank">\n                API Documentation\n              </a>\n            </li>\n            <li>\n              <a href="<%= baseUrl %>/_admin/aardvark/foxxes/docs/swagger.json?mount=<%= encodeURIComponent(app.get(\'mount\')) %>" target="_blank">\n                API as JSON\n              </a>\n            </li>\n            <% if (app.attributes.repository && app.attributes.repository.type == \'git\') { %>\n              <li><a href="<%= app.attributes.repository.url %>" target="_blank">Git Repository</a></li>\n            <% } %>\n          </ul>\n        </dd>\n      </dl>\n    </aside>--\x3e\n  </div>\n'},function(e,t){e.exports='\n  <div class="arangoToolbar arangoToolbarTop arangoFoxxToolbarTop">\n    <div class="pull-left">\n    </div>\n\n    <div class="pull-right">\n    </div>\n  </div>\n\n  <div class="contentDiv createModalDialog">\n    <div id="gitHubFoxx" class="foxxesInner modal-body">\n        <div>\n          <p>\n            Download a Foxx service from a public <a href="https://www.github.com">github.com</a> repository. In order to define a version please add a <a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">git tag</a> to your repository using the following format: "v1.2.3". To connect to github your username and the name of the repository are sufficient.\n          </p>\n          <table>\n            <tr class="tableRow">\n              <th class="collectionInfoTh">\n                Repository*:\n              </th>\n              <th class="collectionInfoTh">\n                <input type="text" id="repository" value="" placeholder="username/repository">\n              </th>\n            </tr>\n            <tr class="tableRow">\n              <th class="collectionInfoTh">\n                Version*:\n              </th>\n              <th class="collectionInfoTh">\n                <input type="text" id="tag" value="" placeholder="master">\n              </th>\n            </tr>\n            <tr class="tableRow" style="display: none">\n              <th class="collectionInfoTh">\n                Enable Legacy Mode:\n              </th>\n              <th class="collectionInfoTh">\n                <input type="checkbox" id="github-app-islegacy" value="true">\n              </th>\n            <th>\n              <span class="modalTooltips arangoicon icon_arangodb_info" title="Legacy Compatibility Mode allows mounting some Foxx services written for ArangoDB 2.8 or older. This overrides the ArangoDB version specified in the service manifest. See the Foxx documentation for more information on running legacy services in ArangoDB 3.">\n              </span>\n            </th>\n            </tr>\n          </table>\n        </div>\n    </div>\n    <div class="modal-footer">\n      <button id="installGitHubService" class="button-success" style="float:right" disabled>Install</button>\n    </div>\n  </div>\n\n'},function(e,t){e.exports='\n\n  <div class="arangoToolbar arangoToolbarTop arangoFoxxToolbarTop">\n    <div class="pull-left">\n    </div>\n\n    <div class="pull-right">\n    </div>\n  </div>\n\n  <div class="contentDiv createModalDialog">\n    <div id="newFoxxes" class="foxxesInner modal-body">\n        <table id="new-app-information">\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Author*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="text" id="new-app-author" value="" placeholder="Your Name">\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Name*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="text" id="new-app-name" value="" placeholder="Name of the Service">\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Description*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="text" id="new-app-description" value="" placeholder="Please describe your Service here">\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              License*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="text" id="new-app-license" value="" placeholder="Apache 2"></input>\n            </th>\n          </tr>\n          \x3c!--\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Authentication*:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="checkbox" id="new-app-authenticate" checked></input>\n            </th>\n          </tr>\n          --\x3e\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Document Collections:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="hidden" id="new-app-document-collections" value="" placeholder="Document Collections"></input>\n            </th>\n            <th>\n              <span class="modalTooltips arangoicon icon_arangodb_info" title="A list of document collections that will be created specifically for this Service. A CRUD API for these will be generated.">\n              </span>\n            </th>\n          </tr>\n          <tr class="tableRow">\n            <th class="collectionInfoTh">\n              Edge Collections:\n            </th>\n            <th class="collectionInfoTh">\n              <input type="hidden" id="new-app-edge-collections" value="" placeholder="Edge Collections"></input>\n            </th>\n            <th>\n              <span class="modalTooltips arangoicon icon_arangodb_info" title="A list of edge collections that will be created specifically for this Service. A CRUD API for these will be generated.">\n              </span>\n            </th>\n          </tr>\n        </table>\n    </div>\n    <div class="modal-footer">\n      <% if (upgrade) { %>\n        <button id="installNewService" class="button-success" style="float:right">Replace</button>\n      <% } else { %>\n        <button id="installNewService" class="button-success" style="float:right">Install</button>\n      <% } %>\n    </div>\n  </div>\n'},function(e,t){e.exports='\n  <div class="arangoToolbar arangoToolbarTop arangoFoxxToolbarTop">\n    <div class="pull-left">\n    </div>\n\n    <div class="pull-right">\n    </div>\n  </div>\n\n  <div class="contentDiv createModalDialog">\n    <div id="uploadFoxxes" class="foxxesInner modal-body">\n        <div>\n          <p>\n  Upload a Foxx service bundle. The Foxx service bundle should be a zip archive containing all service files as a directory structure, including the manifest and any required <code style="padding: 0px 2px; font-weight: 10pt;">node_modules</code> dependencies. If your service doesn\'t have any dependencies, configuration or scripts you can also upload a single JavaScript file that will act as the service\'s entry point or "main" file.\n          </p>\n          <table>\n            <tr class="tableRow" style="display: none">\n              <th class="collectionInfoTh">\n                Enable Legacy Mode:\n              </th>\n              <th class="collectionInfoTh">\n                <input type="checkbox" id="zip-app-islegacy" value="true">\n              </th>\n            <th>\n              <span class="modalTooltips arangoicon icon_arangodb_info" title="Legacy Compatibility Mode allows mounting some Foxx services written for ArangoDB 2.8 or older. This overrides the ArangoDB version specified in the service manifest. See the Foxx documentation for more information on running legacy services in ArangoDB 3.">\n              </span>\n            </th>\n            </tr>\n          </table>\n        </div>\n        <div id="upload-foxx-zip">Upload File</div>\n      </div>\n      <div class="modal-footer">\n        <% if (upgrade) { %>\n          <button id="installUploadService" class="button-success" style="float:right" disabled>Replace</button>\n        <% } else { %>\n          <button id="installUploadService" class="button-success" style="float:right" disabled>Install</button>\n        <% } %>\n      </div>\n    </div>\n  </div>\n'},function(e,t){e.exports='\n  <div class="arangoToolbar arangoToolbarTop arangoFoxxToolbarTop">\n    <div class="pull-left">\n    </div>\n\n    <div class="pull-right">\n    </div>\n  </div>\n\n  <div class="contentDiv createModalDialog">\n    <div id="urlFoxx" class="foxxesInner modal-body" style="min-height: 150px;">\n        <div>\n          <p>\n            Download a Foxx service from a public available url. Access using credentials in the URL is allowed (https://username:password@www.example.com/). \n          </p>\n          <table>\n            <tr class="tableRow">\n              <th class="collectionInfoTh">\n                URL*:\n              </th>\n              <th class="collectionInfoTh">\n                <input type="text" id="repository" value="" placeholder="https://www.example.com/foxx.zip">\n              </th>\n            </tr>\n          </table>\n        </div>\n    </div>\n    <div class="modal-footer">\n      <% if (upgrade) { %>\n        <button id="installUrlService" class="button-success" style="float:right" disabled>Replace</button>\n      <% } else { %>\n        <button id="installUrlService" class="button-success" style="float:right" disabled>Install</button>\n      <% } %>\n    </div>\n  </div>\n\n'},function(e,t){e.exports='\n\n<div class="arangoToolbar arangoToolbarTop arangoFoxxToolbarTop">\n\n  <div class="pull-left">\n  </div>\n\n  <div class="pull-right">\n    <div class="search-field">\n      <input type="text" id="foxxSearch" class="search-input" placeholder="Search..."/>\n      <i id="searchSubmit" class="fa fa-search"></i>\n    </div>\n\n    <button id="categorySelection" class="button-default filterSelect">Category <i class="fa fa-caret-down"></i></button>\n    <button style="display: none" class="button-default filterSelect" id="foxxFilters">\n      <i class="fa fa-close"></i>Clear current <a id="filterDesc"></a> filter\n    </button>\n  </div>\n\n</div>\n\n<div class="contentDiv">\n  <div id="repositories">\n    <div id="availableFoxxes" class="tileList pure-u">\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='\n  <div id="shardsContent" class="innerContent">\n      <% var genClass1 = \'pure-u-6-24\'; %>\n      <% var genClass2 = \'pure-u-6-24\'; %>\n      <% var disabled = \' \'; %>\n      <% var collectionName; %>\n      <% var first = 0; %>\n\n      <%\n      var collectionInSync = function(name) {\n        var result = false;\n        if (_.isEqual(collections[name].Current, collections[name].Plan)) {\n          return true;\n        }\n        return result;\n      };\n      %>\n\n      <% _.each(collections, function(collection, name) { %>\n        <div class="sectionShard" id="<%=name%>">\n        <% collectionName = name%>\n\n          <% if (first === 0) { %>\n            <div class="sectionHeader pure-g" style="margin-top: -20px;">\n            <% first++; %>\n          <% } else { %>\n            <div class="sectionHeader pure-g">\n          <% } %>\n\n          <div class="pure-u-22-24">\n            <div class="title" style="position: relative; top: -4px;">\n              <%= name %>\n            </div>\n          </div>\n          <div class="pure-u-2-24 shardSyncIcons">\n              <% if (visible === name) { %>\n                <i style="margin-left: 10px; color: #fff;" class="fa fa-arrow-down"></i>\n              <% } else { %>\n                <i style="margin-left: 10px; color: #fff;" class="fa fa-arrow-right"></i>\n              <% } %>\n            <% if (collectionInSync(name)) { %>\n              <i style="margin-left: 10px;" class="fa fa-check-circle"></i>\n            <% } else { %>\n              <i style="margin-left: 10px;" class="fa fa-times-circle"></i>\n            <% } %>\n          </div>\n        </div>\n\n        <% if (visible === name) { %>\n          <div class="sectionShardContent">\n        <% } else { %>\n          <div class="sectionShardContent" style="display: none">\n        <% } %>\n        <div class="pure-g pure-table pure-table-header pure-title" style="clear: both">\n          <div class="pure-table-row">\n            <div class="<%= genClass1 %> left">Shard</div>\n            <div class="<%= genClass1 %> left">Leader</div>\n            <div class="<%= genClass2 %> left">Followers</div>\n            <div class="<%= genClass1 %> right">Sync</div>\n          </div>\n        </div>\n\n        <% var counter = 0; var shardClass; %>\n        <% _.each(collection.Plan, function(shard, name) { %>\n          <div class="pure-g pure-table pure-table-body">\n\n            <% if (shard.progress) { %>\n            <%   shardClass = \'disabled\';%>\n            <% } %>\n\n            <div id="<%=collectionName%>-<%=name%>" class="pure-table-row noHover <%= shardClass %>" collection="<%= collectionName %>" shard="<%= name %>" leader="<%= shard.leader%>">\n\n              <% if (shard.leader.substring(0,1) === \'_\') { %>\n              <%   shard.leader = shard.leader.slice(1) %>\n              <% } %>\n\n              <div class="<%= genClass1 %> left"><%= name %></div>\n              <div class="shardLeader <%= genClass1 %> positive left"><span><%= shard.leader %></span></div>\n\n              <% var found = null;  %>\n              <% _.each(shard.followers, function(db) {  %>\n                <% if (db === shard.leader) { %>\n                  <% found = true; %>\n                <% } %>\n              <% }); %>\n\n              <% if (found) { %>\n                <div class="<%= genClass2 %> mid"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n              <% } else { %>\n                <% if (shard.followers.length === 0) { %>\n                  <div class="<%= genClass2 %> left"> no followers </div>\n                <% } else { %>\n                  <% var string = \'\'; %>\n                  <% var counter2 = 0; %>\n                  <% var shardCssClass = \'inSync\'; %>\n\n                  <% var shardsNotInSync = 0; %>\n                  <% _.each(shard.followers, function(db) {  %>\n\n                    <% if (collections[collectionName].Current[name].followers.indexOf(db) > -1) { %>\n                      <% shardCssClass = \'inSync\'; %>\n                    <% } else { %>\n                      <% shardCssClass = \'notInSync\'; %>\n                      <% shardsNotInSync++; %>\n                    <% } %>\n\n                    <% if (shard.followers.length === 1) { %>\n                      <% string += \'<span class="\' + shardCssClass + \'">\' + db + \'</span> \'; %>\n                    <% } else { %>\n                      <% if (counter2 === 0) { %>\n                        <% string += \'<span class="\' + shardCssClass + \'">\' + db + \'</span>\'; counter2++; %>\n                      <% } else { %>\n                        <% string += ", " + \'<span class="\' + shardCssClass + \'">\' + db + \'</span>\'; %>\n                      <% } %>\n                    <% } %>\n                  <% });  %>\n                  \n                  <div class="shardFollowers <%= genClass2 %> left"><%= string %></div>\n                <% } %>\n\n                <% if (collectionInSync(collectionName)) { %>\n                  <div class="<%= genClass1 %> left progressWrapper"><i class="fa fa-check-circle"></i></div>\n                <% } else { %>\n                  <% if (shardsNotInSync > 0) { %>\n                    <div class="<%= genClass1 %> left progressWrapper"><span class="shardProgress"><i class="fa fa-circle-o-notch fa-spin fa-fw"></i></span></div>\n                  <% } else { %>\n                    <div class="<%= genClass1 %> left progressWrapper"><i class="fa fa-check-circle"></i></div>\n                  <% } %>\n                <% } %>\n\n              <% } %>\n\n            </div>\n          </div>\n\n          <% counter++; %>\n        <% }); %>\n        </div>\n\n      </div>\n      <% }); %>\n    <div style="width: 100%; height: 70px;">\n      <% if (frontendConfig.db === \'_system\') { %>\n        <button id="rebalanceShards" style="margin-top: 20px; margin-bottom: 20px;  margin-right: 10px;" class="button-success pull-right">Rebalance Shards</button>\n      <% } %>\n    </div>\n  </div>\n\n'},function(e,t){e.exports='  <div class="spotlightWrapper">\n    <div id="spotlight">\n      <input class="typeahead" type="text" placeholder="Search... ">\n    </div>\n  </div>\n'},function(e,t,i){e.exports='  <div class="navlogo display-none">\n    <a href="#dashboard" style="padding-left: 15px;">\n      <img class="svg stat_cpu"\n        src="'+i(445)+'"\n      />\n      <img class="svg stat_ram"\n        src="'+i(446)+'"\n        style="background-color: #FAFF92; margin-top: 9px; margin-left: 4px; margin-right: 2px;"\n      />\n      <img class="svg stat_req"\n        src="'+i(447)+'"\n        style="background-color: #8aa051; margin-top: 9px;"\n      />\n    </a>\n  </div>\n'},function(e,t,i){e.exports=i.p+"static/media/cpu.be6a1f63.svg"},function(e,t,i){e.exports=i.p+"static/media/ram.75050f7e.svg"},function(e,t,i){e.exports=i.p+"static/media/requests.fd159a14.svg"},function(e,t){e.exports='  <div class="application-detail-view">\n\n    <div class="headerBar" style="width: 100%">\n      <ul class="subMenuEntries subViewNavbar pull-left">\n      </ul>\n    </div>\n\n    <section class="info" id="information" style="width: 100%;">\n      <div class="pure-g">\n\n        <div class="pure-u-1 pure-u-sm-4-4 pure-u-md-3-4 foxx-left">\n          <div class="foxx-icon-container pull-left">\n            <img src="<%= image %>" alt="Icon for Service" class="icon" />\n          </div>\n          <div class="pull-left" style="margin-left: 15px">\n            <h3>\n              <%= app.attributes.name %>\n            </h3>\n            <p class="description"><%= app.attributes.description %></p>\n          </div>\n           <div class="categoryBar">\n             <h4>Readme</h4>\n           </div>\n          <div id="readme" class="readme">\n          </div>\n        </div>\n\n        <div class="pure-u-1 pure-u-sm-4-4 pure-u-md-1-4 foxx-right">\n          <div class="foxx-label-container">\n            <p>\n              <span>Author: </span><span><%= app.attributes.author %></span>\n            </p>\n            <p>\n              <span>Version: </span><span class="version"><%= app.attributes.latestVersion %></span>\n            </p>\n            <p>\n              <span>GitHub: </span><span><a href="https://www.github.com/<%= app.attributes.location %>"><%= app.attributes.location %></a></span>\n            </p>\n            <p>\n              <% if (app.attributes.license) { %>\n                <span>License: </span><span><%= app.attributes.license %></span>\n              <% } %>\n            </p>\n            <p>\n              <span>Categories: </span><span><%= app.attributes.categories %></span>\n            </p>\n            <p>\n              <span></span>\n            </p>\n          </div>\n          <div class="header_right">\n            <input id="installService" type="button" class="button-success" value="Install Service" />\n          </div>\n        </div>\n\n      </div>\n    </section>\n\n  </div>\n'},function(e,t){e.exports='\n  <ul class="subMenuEntries top">\n    <li class="subMenuEntry pull-left">\n      <div class="breadcrumb"></div>\n    </li>\n    <li id="healthStatus" class="infoEntry subMenuEntry pull-right positive">\n      <a class="info health-info">HEALTH: </a>\n      <a class="state health-state">GOOD</a>\n      <a class="icon health-icon">\n        <i class="fa fa-check-circle"></i>\n      </a>\n    </li>\n    <li id="dbStatus" class="infoEntry subMenuEntry pull-right positive">\n      <a class="info">DB:</a>\n      <a class="state"><span><%= currentDB.name %></span></a>\n      <a class="icon db-icon default-icon">\n        <i class="fa fa-refresh"></i>      \n      </a>\n    </li>\n    <li id="userBar" class="infoEntry subMenuEntry pull-right" style="margin-right: 10px;">\n    </li>\n  </ul>\n\n  <ul class="subMenuEntries bottom">\n  </ul>\n\n'},function(e,t,i){e.exports='\n  <div class="supportView">\n    <ul class="subMenuEntries subViewNavbar">\n      <li id="documentation-support" class="subMenuEntry active"><a>Documentation</a></li>\n      <li id="community-support" class="subMenuEntry"><a>Support</a></li>\n      <li id="swagger-support" class="subMenuEntry "><a>Rest API</a></li>\n    </ul>\n \n    <div class="innerContent" id="supportContent">\n\n      <div id="community" style="display: none">\n        <div class="pure-g" style="width: 100%;">\n\n          <div class="pure-u-1-1">\n            <h3 style="font-weight: 100;">Feeling stuck? Not for long\u2026</h3>\n          </div>\n\n          <div class="pure-u-1-1" style="margin-bottom: 20px;">\n            <h4>Paying Customers</h4>\n            If you are a Customer, please <a href="https://www.arangodb.com/supportlogin" target="_blank">log-in</a> to our Support Portal to request help.\n          </div>\n\n          <div class="pure-u-1-1" style="margin-bottom: 20px;">\n            <h4>Community Support</h4>\n            Join our experienced and growing community to get help, challenge ideas or discuss new features!<br/><br/>\n            <br/>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3 center">\n            Place for stars and reporting issues<br/><br/>\n            <a href="https://github.com/arangodb/arangodb" target="_blank"><img style="width: 60%;" src="'+i(451)+'"/></a>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3 center">\n            Ask questions and get answers<br/><br/>\n            <a href="https://stackoverflow.com/questions/tagged/arangodb" target="_blank"><img style="width: 70%;" src="'+i(452)+'"/></a>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-3 center">\n            Join a lively conversation about ArangoDB<br/><br/>\n            <a href="https://slack.arangodb.com/" target="_blank"><img style="width: 50%; margin-top: 5px;" src="'+i(453)+'"/></a>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-1 pure-u-md-1-1 center" style="margin-top: 30px">\n            Challenge ideas and discuss upgrades<br/><br/>\n            <a href="https://groups.google.com/forum/#!forum/arangodb" target="_blank"><img src="'+i(454)+'"/></a><br/><br/>\n          </div>\n\n          <div class="pure-u-1-1" style="margin-top: 0px">\n            <h4>Want to shorten your development cycle or securing your production system?</h4>\n            Benefit from the deep understanding and decades of experience our core team has build up. Discuss architectures, data modeling, query optimization or anything you like. Get in contact for our individual development support, trainings or subscriptions.<br/><br/>\n            <a href="https://www.arangodb.com/contact/" target="_blank">Contact us</a> to get detailed infos for enterprises and special offers for startups.\n          </div>\n\n        </div>\n\n      </div>\n\n      <div id="swagger" style="display: none; height: 100%;">\n      </div>\n\n      <div id="documentation">\n\n        <div class="pure-g" style="width: 100%;">\n\n          <div class="pure-u-1-1" style="margin-bottom: 30px">\n            <h4>Find manuals for ArangoDB, AQL, Foxx and many other useful resources</h4>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-4">\n            <div class="title">\n              Manual\n            </div>\n            <ul class="menu">\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/getting-started.html">Getting started</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/data-modeling.html">Data models &amp; modeling</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/administration.html">Administration</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/scaling.html">Scaling</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/graphs.html">Graphs</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/">Go to Manual start page</a></li>\n            </ul>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-4">\n            <div class="title">\n              AQL Query Language\n            </div>\n            <ul class="menu">\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/aql/fundamentals.html">Fundamentals</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/aql/data-queries.html">Data Queries</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/aql/functions.html">Functions</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/aql/examples.html">Usual Query Patterns</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/aql/">Go to AQL start page</a></li>\n            </ul>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-4">\n            <div class="title">\n              Foxx Framework\n            </div>\n            <ul class="menu">\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/foxx-getting-started.html">Writing Your First Microservice</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/foxx-guides.html">Guides</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/foxx-reference.html">Reference</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/foxx-deployment.html">Deployment</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/foxx.html">Go to Foxx start page</a></li>\n            </ul>\n          </div>\n\n          <div class="pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-4">\n            <div class="title">\n              Official Drivers &amp; Integrations\n            </div>\n            <ul class="menu">\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/drivers/java.html">ArangoDB Java Driver</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/drivers/js.html">ArangoJS - Javascript Driver</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/drivers/php.html">ArangoDB-PHP</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/drivers/go.html">ArangoDB Go Driver</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/drivers/spring-data.html">ArangoDB Spring Data</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/drivers/spark-connector.html">ArangoDB Spark Connector</a></li>\n              <li><a target="_blank" href="https://www.arangodb.com/docs/<%=parsedVersion%>/drivers/">Go to Drivers &amp; Integrations start page</a></li>\n            </ul>\n          </div>\n\n        </div>\n      </div>\n     </div>\n\n   </div>\n\n'},function(e,t,i){e.exports=i.p+"static/media/comm_github.cda411c2.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAB2CAMAAAAJB5HfAAADAFBMVEXVt4j8/Pz19fXR0dH67NzYljvVyLrKuai8vb73mkHq4tqqq6vk5eX1iTqKi47ryJn09PSsknhLTU3l1LljZGTp6uru7u/gyaf83ML3lTTanEijpKUYGhrUjCnJomb++fX6yaX59vL39/c6PDzJysqho6O7ppDFxsasra0iJCSxsrIqLS3U1NT5t3j5toNCRET70rSlpqb98eWPkJLCllPx5tb18e7BwcL0eiAxNDTl3dX4pVTGnF26u7vz6dz2l1H9+/jx8fHf39+am5vW1tf+/PqQkZESFRW0nYX2jCOJiorktnjq28T////g4eHcwpzZ2dnf1cqen5/b29v99u5ydHTdpVhsbm7s7e395dL6w4zw6+bu063d3d2Oj4/94s6njHBVV1fmvIOUlZYNEBAJDAz+7uBmaGjOzs71gy/MzMz48uj5rmM+QED82bt4enrhrWXfx6T7zJ759e794MZGSEj3omPizKu5pI52eHj15c76wplvcXGpj3T2kSuAgoJucHBSVFQmKSlYWlqEhYV8fn50dnYWGBj+8ujOq3ROUFAGCQny7uk1ODgtMDD96dVWWFjowo56fHxdX19pa2toamr+/v2HiIheYGDu6OO0tba7vLzNzc/+/f3ZzcH4q3L+9/HEmVdQUlLg1szu4s+goaF+gIDHnmDEsp/59/VaXFyys7O/rJfv1rMdHx/WkDC/wMDr3sr0fSb82LSRkpIEBwf5smzRsH738OXs5t/x2LbV1dWio6awl36trq/81rv806zGx8f4pWj2jyeCg4b2ih/6+vr7+/v+/v7z8/Py8vK1tranqKibnJz5+fnh4uLi4+OWlpmztLTHyMjr7Oy0tbXm5+eDhITj5OSvsLDDxMT///63uLirrKyLjIyXmJi2t7eTlJTfqV/0fCP//v37+PO1trjOv7DCw8P48+vi2c/7x5X36tj6wJX7+ff7+vnjz7CHiIvT09Pz3sD2jkL+9Oz79Orism/0gCrWiyXq6+vv7+/4qG3avpLiql74oEjUnIhsAAAXMElEQVR42u2dC1xUZdrABdRIaNUJrGSUYiA8DjXhJUWllYtOUYcImoUuUqwzQhpRJu1SmMJIk3OCVDApnLaLZME20cakrSsttcBggK4XvIyJla5Wu33G1n59+LX7ncv7nvOeM2cuMPYFw/v8+v12PPfz/N/neZ/neZ/DjiGxjDoZg1WAoWPB0LFg6FgwdCwYOhYMHQuGjgVDxzLyoFvWPGLB2htd0F+59ocrHsDaG1XQ7/lo/vz5H72C1Td6oEdee8V8Rp7C6hs10Ff873xOHsIOftRAH/sHAH3+E9jBjxr3fi2Ejh386IG+5HcQ+kNrsAZHS/Q+9jtI/ZfYwY+alO0mCP2LG7EKRwn0M5E3QOgPXY11OEosnVzx3RfQwX+PlThKoNs//AF6+BtxDd5foS+JlPz7Rj6C/xBr0T+hn1n9/iyxqc/6JR/BP4vV6JfQ33u6beFYh2jThw/xDn4x1qP/QXc8cE1b223/EVdiLLyD/+EmrEf/g/78f9oYufwRka1/zzv472bZsSb9DPqKhW2cXLNatP1qwcFHYk36F/TvH26D8vG9S9Do7ka43vaHmxxYlf4F/f3beOq33XA3sieSd/BXjMWq9C/3Hnnjxzz1tofR1G0NX6L53RKsSz9L2b5+WqC+EDXqp/iVl2uxLv0tT//zNQJ1NHWLfAI7eL+FTl59uUD9mveEDP4ePoJ/Ajt4f4NO3rNQoP70alkHfwar08+gO1YImVvbbULqFvkR7+Dvwer0M+ik49kb2uRStwf43qkncInG36CTjlfubUNSN7i2ZuGbY7/AzbF+B50kl6xGEvaFzzucHDxujh3x0P/5pDQgt7yHpG6XrwHU7xEc/N1YoyMb+u6p0zaPlWJfI0rdwN5r+W9e/oHztpENffO0adPGbf67GKPjeSR1+3g1t1P4+uGHR7BKRzL0sVOnTeOwi7c/i6RubfdGsi6e//rhCtxPMaKhb54GZKoE+91I6tZ2AxvEn7mJc/BP4O9YRzR0YOgc9omi/rjF996GpG4rmF0OxsFf8RT+yGlEQ4/cPA2VqZuR9RTHktXoqhtbiJv1HTbzEQ/9X59PmybBvgrZLUrdrmZs/aZ/4E9dRjp0y9iJU6XYJ97tInX7MzOt4w9d/CCQs6ySYn9n6kRh0halbl/jznc/ydPJM7snjnPCfjcM6WY9LIRz7+MIzl+g0yHb2F+Pkzr5+x+Hsd4NsBK/cAVuhvUf6Ezq9mvp3P6r+/8F9t3LBfGXP4/16F/QSfLvTtg/vx9E8quZIP6aNdjO/Q46ST55uzN2bhZ/7/K2p9/DWvRH6DR2p7n90bfPsqnbwq9/9new1NVHZMaHYpiXGDrpcML+zqP3LyYdjlk/f49UVDFloJRHhqeCk+Z1ZcbExGTOCyA7olNiGKk/3TH8oC+e+6XM1iVP3v6OBPvnbw+L/DxKY7PZTAeHI/LkChWh1evp/4yBZOB6PftTqwocftDnTt845qod1zltP/vk7RIf/87tw6EXMqqYhq78ZBgyj1FTNiBlNPSt3E+qsnP4Qb8wZ86cVxdNH/Obd1dJfHyk1NpvJzF017LcZOOFsfRs8LtwGEIfMwfIq9N3PbZj9zcWkZP/bwT7uKF/y7SuUqXSBPs19NNW24iBfnbjHFR27nrsjlVnkaapfz7KY9889AzdSL+8Pt6foUeV2UYMdMfcnXOksogGf8vjMGqz/PHf43w1dLKWgR7iz9AblSh08/C29AuvzpGTnbvuvGPulwHcwPgja+0Tz2DoLsX+BuStryw2F6dFDWfoZ8bMcSmLdt155Y7dLzCHvf3v/xm3isTQXUqgESDWpoG60XC29Ks2Tp/jRhZt/PHCjt128sz9b1swdDdVmTyYrPHDYBhDX7x77pV37lrkDvzOjWMuvPuNTzf2e+j7AHSqZCRAZ2O1L2+5485dbi1+5wUHhu4FdNuIgc5a/OO33HHVrp0uqV+JoXsFXTeSoLMWf3bVu1eNkQU/fa6Xt5iyrDU2uVe6NYyB3iJzeOf+PU3RyTmur5eTcWJl+iSvoNvFUUdS0PkT5/dECbs9BeDCz97o8+eje90enUMfUrDPOZDzxtLtxw6dOB992Osn8xF66/K/MvLZPJcrP5bFj+94bMz0VyWZ3C52Vaa9aTZ7/l/3yJ4afry0krBqtVZCrTiaeJhL+AIz83U6Nf3yBnOJTqcrzQ6Crxo+s1RVblXqTVYiwZhS0OOkm5wj7PWUVkKTG9TuGro9RmE2mzXbBMDtcac05SatVqssf607mXuQniKrmpHy4gLk3GNGgt1K5KUDm63TJViZU4lKXeIU5MgKcOBR0r4/RkHQh5iIshaGaJCmTAHrceVl9KO4Sdnsh2fmJ9A6ok+ufKYpiVNRBfdk6krktfo1zP2qGoUt4Ypy7rDXBge97i+cHHS/3Of4cseFXdMXIeDvZIt0PQfB+SvlAtjmKrQ+YVBvyWLukiMqVdECvHxgTAKFbtY2xLaLPWamCt2dneUS+ky2MKI+z4++oDAtcqp1yzF2cy64H5UmV1QJ456qpRB5KkrVEijyVoyURqUQwiGKoA4y0SaVMlfFmaTMBOQwqvAge/0++O8twpEp3KZ8YUsTPC1/cNCDAbSXvFjjPbvjN2M2Tgfgr+QM6CVw/nbnw/eYpW9OKdMO2J2hf8p50DAnTenTUPUESc9TH7fIQz/EMiD40n5Ut1JyatVMxtjj4KBUCC6BfAZsM7GTz+Fs6UOFHYBH5oMtDc+IDlA2yUB3VYbNMEqPrAmnN0fDUWQO4Id8LbeFGOCH8lKo14O+Qbd3/JfbCeXxuRd+ZMC/usMT9AwwgmnfTii10FoqOsgco0GvZ/9N/y8tBla7GcXgBbRKpdJkAIcXCXYVXA6HAn0K+NV3UQ56FntnJR8xdFTYnMdTCmqr1hPC1Ayew6ZilNtb5nyqIlkMnaLE+62JZJ230IMqZa6/n7b/TXBgZ/HeXcndx8C/VwB8OOKAb9CfO3fZ+PHj73r9qwULPnjxxeduvvmbb16QuvqzE6788cdVHqAnKdjnqdTFfHKotTH+aJ6a1WQ0DSmxububcdSG/MyUlJS+5YwSAzn9W80b4ltajofMDuOMUB8Bb7pdzdlfsa6vu/tULbDRbhno4QqBKivNNhlhU4cQ4PSpXP7gOhOSX0/ZJHMmVRwutnSxEImk15aeXil3hdfowCENjCRtF5z66+Hta/nxCcOG6h7foC9Y+yAna9fuvfXW317/+zffvIwZBy/fddeCCRNefPG+m29+6wWHAwaYrqGnMNaoL1rGD8uCDWqbKkMUvZ9EqpbdzBuYg/nHjyvRs6MEhMzhGs4KZiYBE9Exu6uCnaEncW5wA3/pE3pKFk4qrTYYJORBDvYN0Em30v9aJ4vVVuoGupJxtQedNhfLQQ9okL/+M7RfgxNSEcxqqvlZDYw58gh8r3i7j9D3Pigva9dO3ssOA24cLCDdQ59ULAlDmImqokCcp3+K7m2x2sIG0A3sYDdwy6/taVzOGy7sjjHZNKnOc3pPCXtkNh8DRqnkNWsLo195PdCb9RDMzRRgr4aeTKOFFfEERbEQlRqaXEJXss+bVbGuRA2niQ0VtMS3y0BvoeSfzNRK5migswejPAuOAkoPjR/OWqZU0jfod01+0Cu5zIOlb2dm4KqcwRRnZpTsF48bVv861vbTWfVni5rL4vMyZKL3payDaBBSK0GzprDm5blGAz/30lNNE1RlHwyItTCGpAMlPrTUzMwIDU0NKbSJwisEOpH92fIiOpQwwemI7DFKTNUZeoCGfzTVuuXNJfyooujEQQczvmjOA0UI0wvw7+1wfJZd9A26w1vo5zxYOpv4hA2uIiedmbrYCZTx7x3stKySxCs5MilbFwvNjDRE8+Fx5TymdJLTBQNjqoJ+fsixgVOcfRukmAGTAGbOBHNMFsxHtCvF0M1B9HDsycpX1tsHUZyJ5dupig7Q6o9K5i+YkAyyTlpJMdxLIhGlmnu7dDhgZ9t9tPSX13oHfbwH6DOYF1rvWxk2iAFYxZhzDmsT9Z7LsJzlqrKQAoYaMWzOQ5iExgbylB5A3s5WlXth7L7JLgRTlfxg6wcXo4pE0AvB/XLiAgZThj0FnU42KDBOgWRNIWRopej8DCTp1HLjYAbMYVpJ36Dbxz94aaAfZzRr9A16OqPi8jgmdGfwq5Z5hN7PpnVV6MPw5vQGrMlaYEiesIckU8G0TXVzYYdWiO2hrRqQ0k0arNHYEej6+qHV3mFoRvDP2wIfdgtph1dXsIFOpigaYQ/OBmNSE+ojdPLcWq9Mfe3LHqCfZ1wjsewSQN8DHL1tfZQn6OlszEbUoXsjQOyuP81vmg1MRMlkD9C4qpPQcoea1nQGsDUCKdLGgmS5PAOBnpAxJOj2SkDNyM/Jx2DQWWsnM8H4I1rRlBx6f3oTnJmOWnyF/sHL586de/PN31//21tvvXXv3r2TJ0+WGwaTX/cAvZd5fKo61BfooRB6exHzcimeVtmSzMA1ogL9t1oIcYOtSKoeD0dAHONfYWyUTQpBXgI6DoGmTacR6ObAIUE/DCceIbvkjV8xidwPi1GMM+/lXABlYMeJlkkRCsBbGAa9vuiqDPvC4sVvXXfzix9M+Oqrl8ePP3fZZcw4uB6Og7WeoZNH2cdTZa5M750S2OE99A5eAvZD6FGMo6Ua3UI/Qk7iPiawzhTtLQHmVJjOb0pVIy49B0ZrmXYQRTCKnMfMmdD7ZnanAMlMA6dqIxDoRvuQoGdBqsjsAGP2QtpaysCTr6ezzxjud6WCG8L5tHHXg9GsSr9U0MUlODbG6Xjruueeu2/ChAWvv06Pg/s8Qd8PPJVVpTDmF83OPBibbvcEvSfoSG4RLxU1JgA9UMOVtN1BryMrgJJUIveiA1vNQg0gHBSIKdZ3QBTGfaRlNsyg2qXTqLSe14xAzwsYEvQgONyQTvANMHakQ8Plen642kEYMnsGZ/EJ9O58cGhN1E8C3cUo8FB7j1VLyhaa7BmBbqG3hKmd1ctAn8Sa/HaHG+jWQ116PgFCF+eegdDDnaGzwdt5cIAyg0yCFZFcJGiTh77Nd+hNVmfoS8FkwwStcWC/MpY8xo0PfVNnOaxOR4GIwxBB+gw9oKfdK7F4hO7YvskgUZU275Br6KHZJjn1spZOsNDdWTqxnqvtsxNusHvovSLogTA3qrf3A++u7WcnKHfQ03yHHiwDPRdCp0O1djgEu8kIA/TktRSIOWC1sKrfd+it9REe5U+07PEInZ4uZ2YnSBE2uYKeXgzLU0ooJgpaOjO+1QXuoBtYO8/uZ2+oCR8EdPspWNiKgg7d3PmzQ1+G+Pp80sj90gWQIZw/q5zSDRxbbY/v0Fv+4p2c9wI6/Z7ph2YsX5ddXaxSAyNS75eHnsSVPKu2NEbH9XOSmkhAS2eMkYh2B53DlkOGsD/SApyhD7hw72S/Cfr3MtECxnI30G0VvkNvlYF+ihKgO7brQVGgoIorun9KD1huBjQcKQXevZn0HXqjl9BjvYLOWlJ74L6cgQMr+zhVH5WH3sgO8ZJj6LgN56N3JpPSnvQEXUMPqE52jU3b6hTIFQvhXbIaDeTIfZB1EaBAcAvm8TB6j493cnbx/b5DX1buDL3IJrh3MhDGwmEmIU4H/j0PDFzixLCEzvd5hDYwz1vVKQedWzjUdcoXZ9rDkK4ql9CrmEybLGBjHgXfobjO4FRBgW0phhhQv4E+G4yPUi7enMmdSSXYXbRM+gidT8QRY62BS/bs2lqJDc3ObevtQvEVPquic1hDp3kwEPV75KBzKXmQi4ocVyjb5h46MY/jwXnIz+BeOPdZhS6+EODPtSCjTy8XN0nMRJuu6AvHubixj9B7YMCTzbu3TlgcymMD5ZOiSBj0bxGiZz1KDnPoLGlDsBz0aAaNcYqrMmwiJapWykHnC3GhCr7Axr4Q7IhMcaqAQNcYWCqCrgJhR7IKycl/Augk35jFl1cKypGKIAhghediuzntW0WtWXWXAvrxSxrISaRE6IqQNFGcYKhulZQZUmFxhkwm0GUy2ehd8AMntVwsDi4CwyXY5ERmwHVr2JUDAgqbpJbdEyY9jq2jdU3xGXqUOMYUUu11lCg8C6hBnysbdPqinReqi5cC+kvf/sIL+fYXQ7L0GsHSq8UfO8Qyb5IvqWE3wTwddNDp7G6KM0Ju3lGKRGlkFN/5UMTN870N4sUqWg6IWqv5yl8fHAu1AvW4YltJ1BCh830R4KsGvpykngcWfeEAJYB6G9HnAtoaQPw7lU1eCui9/aleyJ7UHE/QO4KdliEGGN3qs4QeuT5humess3hAfLyOh875d1OiaHf4EZkmCtYvs6YMl/g28CqqPZ0RGhei4HNtPmoOOCppSwQugS8Qmo9wTUsZfcyli3qGBN2SxqPqD92fHG4J5723Ojf2QHLwOn7NvBj0SKUjgBOAUQcg/l0bckmgD1JcQnfMtm4Nl2xjF7wSJvH9XZSw3h7KKFMrnqCilQL0fSyqKvSTigGjabk8dBC8VXOOIVloPzBVahL0gmsUPiOah7QoLHVe/qDPVOjS0ooaKkUdUIOETh4XAGoKVaUDJBJLEIUqoSHPAMPQSUJXPFUDL/MJ0kOTM6ygf0abrkbU+NjRzGo2zS60NZmO8y6aVWAhujAdm2AToIOJukoY2dvpYaA9GigLfZLZhsSJG1wU1ZDFrSRhuRpdPc9Qy59K1RwbCvQstSQuSybkr6+CzsYSIxj1DH4yEi7TQA4n6NwKkal4aTQ3FgNT683spiowPeawSK0V8zIOpDPk6tjwRL20n3OdnbE6woZCb+fQmYxdWT0B9ouxJaxrpJploZMr2fFVyY2hixpZzdaiYWMuv7kaXa2J0bsoyCUOBXqHqKOaqRZ1GWSbYc8Lw47/GquKrzwE8uEd6J8bLtCDwWjUWxMUZWVlr6kI7um1/LScy+rToCSq2E6XSVyorCcKX6OPN1daKZsIOjzApi0v1Gjg7oSV8tDJCkabFOhPz1DJtBrnieLeaP7zmUzR66XJUtH3dQ4FOplVKYHeIVffR//o1kXY2kVtFTbyXfVExrCCbkmullMXMYMPwNvDKNEHjOnF0oMNKgKBTu7TSc2O4j4wkoOexKoXTh8ZGil1quGw+Hlr5VufOnK1zs5dfcQypDmd9meEGDoZ1ez0UtYQpP0J9m9R6IchsIxsU1h8g/63oZ0f8DdX0bslQiX9skSbh37QHFgD93NT/36j+P21FXuY6I7gz7GHJIiOMBVxxir7t2EPsocWggg+p0SJPouByJV2HkBH7pQDNWnE2ClTPmyOhXl8mSz0MvHnMMCjaPhX0HBfziaqRC+lN4vLkrHg7ugnBFE6dNnfB+gtAxenDF6Swltc5+lJLdXlSj33eR+lV6rDgsXexD5DQSi1tIAEtKdLY+UPt5pPkr0J9M4q5PON3qWVVnakUAY9UQ2XGqIUzLfjpyV3z2aurF8HeRRsVZvYEjb9JFUVWU4Pm6xhjtcSzt9/doSUEdyp9LkmdY1QIqrRcmKUg57UAPaWiDd3a7iX1sLe/J4Y8NoUpSXKWiS1iFAFdxWdqNvExG6z9vsI/dvZQ5Nv3RZnBur6KnRhm6rXVywNlssukk/Gx8dHCN8wrEx5QxdWVl26pY8Z75OOxHTFwI/XgP9obd5Ss6m29I3MZMHbNEV0RYRI/0xEeHx8V1dmo7AekXN8my4sL79odp3sH2FujaGPj2iU3Rfasq2kxmgsLcr9ZB9qtswpXfExsXJFo46mzC5mb0SQzEvTOzKDBWcTlFJRaqzWrat37h4OWMlcJj5etCfpeAyzsTHAR+i+iruK3CA/wPgp/x/eftq/6zFC5P8FOhYMHQuGjgVDx4KhY/kJoM/zav3cswRhXY4c6FgFGDoWDB0Lho4FQ8eCoWPB0LEMV/k/qI/ycUl6dzIAAAAASUVORK5CYII="},function(e,t,i){e.exports=i.p+"static/media/comm_slack.39440503.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL8AAAAoCAMAAACYV9vPAAAC/VBMVEX///9AIAAAAAAAK6oAHmkALbQAAAAAJrKAcwCiFwAAJ7EAO7EAOdAJAAAAI7AAIXMAJbQAHW0AAADBbgAAKK4ARuwAKrgAAAAAInEALLzenQAAhRUAKbMAAAAAJrITJgCzEwAARuMAFlgAI7QAAAAACRoAAAAAHmIxGgAAKbEAS/SuCwDSWwAAAAAOAAoAJbIAbwcAF1EAJ7JWEAAADCzjqAAAAAAAKLIAQuEJEgBeNQDcFQAAJrQACysAAAAABRMAJrMAQOEACiQAEksAJrXtHAAAHn4eAgBDKAAAJ7gALqgARuwKAAKobQAAJ7PmpQAAqBeGBwCGPQDWCQAAEkYCAA0AJrQAR+1IDQAAJLMAPtmrAgAAIYgAJbQAJrQAKKQARekArhqoAAjgDAAAHXOrbQAAOdUAE0NWAgAAJbMASO5uQgDtqAAAH32CAAThBACyAAAAJrQAJqIAG3EAJbQAQukAMMcAJ7QAJ6YAKLfOAA4AqhCFAAYAJbEALL/xCwCTUwAAJq4AON4ApRQAGmvxBgAAIZPvpQAAJbMAJ6nmAAAAUfuKAAfDfwDOAAflnQAAoB1kAAd9QAAALscAOuAAJbTMABEAJrMAnxz5tAC8bQAARfHxAAAAII8AOuEAJ7QALMb0BQAAJrQAuxQAIqQASggAJ7cATAUATPkAOuQAgBaJAA/nAA3+tgAAUA3sogAAQ+m6ZQDCABPvAAQAJrTlAAkARvMAJrQALs6mUQAAJbQAL9HQABD/tgAAJrIAMtwAR/kAKcMAN+TlABLDABPliwC6WwAAJbOMABT9sQAAQPMAJ7QAO+sAQfkAJrTfABkALtcAPvUANecAOeoAO/LYABv9sAAAILPUABjeABkAaw0AJrMAOvAAJcEAVgoAtBXJAB4AJbMAMuMANumiABjHABsALtgAMOD8qAAAJbQALtoAKtMAUQcAJrPEACAArhrqkADtlAC0AB0AJbMAqhz7pwAAigzZbADqigAAI7MAhAvzmADiegAAcgwAegy47KjqAAAA/XRSTlMACAsMERETFBQWGhobGx0fIiMkJSYoKywtLi8wMjM1NjY3Ojo7PENEREVHSElLS0xOT09QUlJTU1VXV1dYWVpeXl9iY2RkZWdnaGlpaWxubm9wcHBxcnNzdXh4eXp9gYGBgYGEhYWHiIiKiouMjZGRkpOUlZaWmpydn6Gio6SkpKWnqKipqaqqq6usrq6vsLGysrKzs7S0tbW3uLm5ur2+wMDCwsTFxsbGx8fHx8fIyMnJycrLy8zP0dHT1NTU1dXV2NjY2dna29vb3OHh4+Tk5eXm5ubm5ufn5+jp6erq6uvs7Ozs7e7u7vDw8fHy8vPz8/T29/f4+vr8/Pz9+YhhEwAACeVJREFUWMPtWA1YU9cZzrlpksK8WXahRCxhKOHWFIlDFKwic5WqDIoCKlAl2zpFglhMBWesSKXDRaVVq5IqFFzaWai6qiB1URCJayorwWBg2MRpEqEoQlUai9Xt6bl/SURRp5XNPfueB869J+fn/b7zfj/nslg/tDw7e/Zv3pgNWEMtnJGxmbm5mckTfdmPsAr42RsffHDu+gvoECswMrO+sWyNck2lqbGmJD3woXcHXPS9c9c/CsGGFP+wzPrKBeNxXCzGxy89Zqlv3CZ52P0Bsvncdx+FoENq/I1Nr4dLRRjK5XJRYajabuvMe3gDvnXuuz/h3CGE//xG49IoMYYAmgHCtd3vRwmRJwU/tP76ODHXZW+wYn0Ujj4p9mfn1h+bi7vzFfiIRI8QP4YY/8QK07qo29kOuMi94AOvESNGeIH/DvzsjfUtiwffDoxJyi7MTgp284anZ+3Yd7J2xyw3DYY9H5scm5z868zciXx3/B4vZRfmZ0/2eIzBdGRF06k44WAbjCnMTwhLWLW3dINTgwm1myaNnrSo7eTJLNpn2MklBWVNNRX1lcfko7jgra9p/GByaXZY4rLS0g0BtwUDdmC8LD4QsMdOhfN5ntQfFJ/otNQI6pHFoVvqAXiygX98WjyTl9j+MczQ2ArjkShsEPgvlc7HxSKhKEG3V5dAmTSrNlEqFmLCSW1tbZtIL3mmpCxULJ7eYDKtC8eFXBaDHyT9MREXw8l7dUdFbgoI8qxWs9mgVBrUMNPnqPlpWg0PAk0zwG5rdQQ5SK6hqwD5bg6copUpDPBHs5xH9HkqzFB6qsfB59wa0+7wQbLN5MJl4WIUQRB0mU7XGkYoMGvf20QXANyXu9oci+BE3kbjFBxD0ekWk2WhEB7J5q//ReInZovgbPSd1t7VLgfjqKwyf4F/mtUaSRhQpVdqc+axWWx53/axAp8YrZlUQKnnUMMVegjZ29qjnecnkOT1yeE6QH5RHijwjTcYAlmsknrT4UGyZUB2VQodR9GDutaDkGUjdrQtkVKjkU+6HFdGI6zkil1RBP+QAqPlMGHnzd+Q+L3y4WxCZaT42oUtYucBRPTMI9sYazTR5N1Q+RCtxJpH2ta/rpoPm98x+HMo/NpAUvc8M2w99XkkqMg+JSDwH7m7/UFS4VHGM8D85jO9KSjI2nc1heHCLIejfwnGq6jfRc2XGC22KfDpPQr/5PxDM+BsjyTdwYy4cFc6zNELyJZXrSLWXmslkbGUBj/q95i+yDvxX0yj3gKtMhaLb5BTK2jKeaySRlPLi3fF75FfemIG4xkBEP9qodeO2iszGGf36nL0HxD51zQdDiFd46lGS+cczIn/t4WHZmAB2YdWJeK4CHOlR3U12/1BpSVfPSltCPfQK+H/lQPwz6PJp4E+w9Fo/SmH94b8bzTZF97VfwM2VJ2YwWiG7D3Tu0c8ofbklRSGyuATR/9nuKS+qWUKOQrsh/ihcjT+/NKjGctWzQ8TBwlR93SSp+VRMURdTvSqPiXx+5hTmeikJlx3gP1pzsFjqoOvkVa9LJBahZVsNFrUIrf1OT6+vj4+voH84NKq8077s4pbr+3BJ9S2XVniDLZ/gPhDhjc1mZZSKpXY6qJc9t+wV5chwkRCN9OTkmqVkK0/xQIav19ftEvBO/Ez9mcp/vYjaKmIcqv1U4WEmOlnMlpaxjvzF/sX+0837N9faVMMD66qas9wxo1Vrde2SMe0tV1906lsluPWX0LQAqOxIYhgN8fYuVjKdeLPr9IVidE7M7mfodwX9glUZpL4KopO/gPwK2/D73M7friXJFVt7lHCAAbKYNxb64TJl4wLHa9qsJ19URgAY2aRM3Cvar+wBfc62eY44AwlWY5v38W5wxsspq1wPsi0LSQDEcP/Kt0J6d3yetoNvVKu1JvjyTea/77mtHvwR+DEr6TZB8f5KshoGmmxWFqmOzdCUAxb0XLpbBzm8Y6u2YWguPfCXNHTWQ7HlZmMT+y4+W2cCAGjdtnsNa/Ebjw9LZzUlsYfrNM1r77LLcJbrVHpzXV5FIsY/vCq1Wyn/4I74j/Df3Y5HMaXMB6khQeAbLVbLMeeY4wKoKRD/D9HWcHtre2v0Qg8IH1gled11eHYycTUrlvvEoUfgk1b+vq2CtNSOkjS+JHiZl1zwp0HoNALAM+TxyhG84eVQ9GJxYom42eOniogOGqK/wrqR38zjJ8xVIqDudlApIrhR2x2NwWg0PiRZR3tJ8Ko/qTez+EdgQVe7r95M5E6gKz+z4guqAgqFFU2WtbRRdvmb777M/EYfL69uXk+Xch5uPBbFZF+Ak8OrQDNHxjZVSRiXyp/pV4cS5pYdoPKX9ap5KuC0NLfsJ0cyivXEIcEnjvylf10wy+5bvi7zRA/Cy3q7aAUmNyxJ05KpGLuolv9NxcR1U3WzQPOWw5AChpNpxdQK3x8/Z9fvoAhLCSht6P9THFSQEBwdpIrCHlrbpgNBr1mTQyfxF9H4QeyPnWEwCearh/8Ddqp3oKxqro6kv9Wg0ERKAjM6SHrB1nf9nECgWQtlcFZyCjNpa/sX2yL8KQ24RR0n/07gR+gGRd6zxfPf/Xg+dfCcYpJ3EkHbt3s2rSp66+JIW6XNInJYjKtIFA+++Xly5f/8fFPYYk08/Nr13o7OjrOvyp0jmTLqmXjIuNlK3dbqwnGKBjes1P1ZP0WSdNI3wNrtHIJWb9598hS9a76jS719PPoqQg2R9sNVWjYlp6enltmO/7h7xeTVQ5AR6cUFRWtTgnDnTcyrnDmmzt3vp0YJmZAPRObW1J56pTd0rIG9gAUj4oKEWPwMLiilC1QMsiylJYYwzgab4RBBZy1M0kdon7mO88Jvo3lUfWzAPqvT4yrfiaGpk31dpU6qGja8vc/1B4/vlu9csE0aYgUXufpcCQUi4NE7ikUcDGhCOYllBoxMtdY+avpodI5x212uwIqgKCEkIRBUJEYhxU45nIuOt6QBYTmQb+UueL/YAJxBuEh4SFSot7H3NMOQLgDkxAAsKamuyZWnJ4TgsM5WJDaZu8MHRBwiNm3TZf3xJCxB/CiiVjyYCK4L35yJ8pw9778Dry+lViWRwURFwKAYGrbpYXY/Uyp6aleI0+T51Vb1/IfdBdX/fMDCye3xjZXTNscjLJ1LhfeT3l+vEprMBuq8yI5D7yNoC7m8eAfVtNoi3Mm2acauueK7n94bJ4n35XAHkTg/fcx4SerbwbKMJs2Sjj0X84fQdgr7PZjoUx0eeXSnKH9cPvo8hNYfDTE/5gw+rB0CP/hP5v+ZwSMUnd32r8oKyiobNka6pannhRBsCkw8+0uX79wPC7GnjDrkyfAxYJwKZH3Bt4UnxgNYI79N9Pe/+V/RL4HuQCuSIcLm0AAAAAASUVORK5CYII="},function(e,t){e.exports='<%\nvar escaped = function (value) {\n  return value.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;")\n  .replace(/"/g, "&quot;").replace(/\'/g, "&#39;");\n};\nvar cutByResolution = function (str) {\n  if (str.length > 256) {\n    return escaped(str.substr(0, 256)) + \'...\';\n  }\n  return escaped(str);\n};\n%>\n\n<div class="pure-g pure-table pure-table-header pure-title no-padding">\n  <div class="pure-table-row">\n    <div class="pure-u-19-24">\n      <div class="title">Content</div>\n    </div>\n    <div class="pure-u-3-24">\n      <div class="">_key</div>\n    </div>\n    <div class="pure-u-2-24">\n      <div class="actions">\n        <a id="addDocumentButton" class="pull-right addButton"><span title="Add a document"><i class="fa fa-plus-circle"></i></span></a>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="pure-g pure-table pure-table-body no-padding">\n  <% if (docs.length === 0) { %>\n    <div class="pure-table-row pure-u-1-1">\n      <span class="dataTables_empty">No documents</span>\n    </div>\n  <%\n  }\n  var odd = true;\n  docs.forEach(function(d) {\n    var tempObj = {};\n    $.each(d.attributes.content, function(k, v) {\n      if (! (k === \'_id\' || k === \'_rev\' || k === \'_key\')) {\n        tempObj[k] = v;\n      }\n    });\n    var tmpObj = JSON.stringify(tempObj); %>\n\n  <div class="pure-table-row <%=odd?\'odd\':\'even\'%>" id="row_<%=d.attributes.key %>">\n\n    <div class="pure-u-19-24">\n      <div class="padding-right">\n        <pre class="hljs-pre" title="<%=escaped(tmpObj)%>"><code class="json"><%= cutByResolution(tmpObj) %></code></pre>\n      </div>\n    </div>\n    <div class="pure-u-3-24">\n      <div class="key"><%= d.attributes.key %></div>\n    </div>\n    <div class="pure-u-2-24">\n      <div class="actions">\n        <a class="deleteButton">\n        <span data-original-title="Delete document" title="Delete document"><i class="fa fa-minus-circle"></i></i></span></a>\n      </div>\n    </div>\n\n  </div>\n\n\n  <% \n    odd = !odd;\n    });\n  %>\n\n</div>\n'},function(e,t){e.exports='\n  <a class="info default-icon">User: \n    <span class="toggle"> \n      <%=_.escape(username)%>\n    </span>\n    <i id="userLogoutIcon" class="fa fa-power-off" aria-hidden="true"></i>\n  </a>\n\n  <ul id="userInfo" class="subBarDropdown">\n    <li class="dropdown-header">\n      <div style="height: 1px; background: rgb(119, 203, 153)"></div>\n      <img class="user-img" src="<%=img%>"/>\n        <p><% if (name) {%><%=_.escape(username)%><small> <%=_.escape(name)%> </small>\n        <% } else {%>\n          <%=_.escape(username)%>\n        <% } %>\n        </p>\n    </li>\n    <li class="dropdown-footer">\n      <button id="userLogout" class="button-primary btn-small pull-right">Logout</button>\n    </li>\n  </ul>\n\n\x3c!--\n<ul class="navlist" id="userBarUl">\n\n  <li class="dropdown user-menu userImg">\n    <a href="#" class="tab userImg" id="user" >\n      <img class="user-menu-img" src="<%=img%>" id="userimage" /> <b class="caret"></b>\n    </a>\n    <ul class="user-dropdown-menu" id="user_dropdown">\n      <li class="dropdown-header" style="text-transform: none">\n        <%\n        if (name) {%>\n        <%=_.escape(name)%> (<%=_.escape(username)%>)\n        <% } else {%>\n        <%=_.escape(username)%>\n        <% } %>\n      <li class="dropdown-item">\n        <a id="userProfile" class="tab" href="#user">User Profile</a>\n      </li>\n      <li class="dropdown-item">\n        <a id="userLogout" class="tab">Logout</a>\n      </li>\n    </ul>\n  </li>\n\n</ul>\n\n--\x3e \n'},function(e,t){e.exports='  <div class="headerBar">\n    <div class="search-field">\n      <input type="text" value="<%=searchString%>" id="userManagementSearchInput" class="search-input" placeholder="Search..."/>\n      \x3c!-- <img id="userManagementSearchSubmit" class="search-submit-icon"> --\x3e\n      <i id="userManagementSearchSubmit" class="fa fa-search"></i>\n    </div>\n    <div class="headerButtonBar">\n      <ul class="headerButtonList">\n        <li class="enabled">\n        <a id="userManagementToggle" class="headerButton">\n          <span class="icon_arangodb_settings2" title="Settings"></span>\n        </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n\n<div id="userManagementDropdown2" class="headerDropdown">\n\n  <div id="userManagementDropdown" class="dropdownInner">\n    <ul>\n      <li class="nav-header">Sorting</li>\n\n      \x3c!--<li><a href="#">\n        <label class="checkbox checkboxLabel">\n          <input class="css-checkbox" type="checkbox" id="sortName">\n          <label class="css-label css-label-round"></label>Sort by username\n        </label>\n      </a></li>\n\n      <li><a href="#">\n        <label class="checkbox checkboxLabel">\n          <input class="css-checkbox" type="checkbox" id="sortType">\n          <label class="css-label css-label-round"></label>Sort by status\n        </label>\n      </a></li>--\x3e\n\n      <li><a href="#">\n        <label class="checkbox checkboxLabel">\n          <input class="css-checkbox" type="checkbox" id="userSortDesc">\n          <i class="fa"></i>\n          Sort descending\n        </label>\n      </a></li>\n    </ul>\n  </div>\n\n</div>\n\n\n  <div class="contentDiv" id="arangoCollectionsContainer">\n    <div id="userManagementThumbnailsIn" class="tileList pure-u">\n      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">\n        <div class="fullBorderBox">\n          <a id="createUser" class="add">\n            <span id="newUser" class="pull-left add-Icon"><i class="fa fa-plus-circle"></i></span>\n            Add User\n          </a>\n        </div>\n      </div>\n\n\n            <% collection.forEach(function(user) {\n              var username = user.get("user"),\n                extra = user.get("extra"),\n                name = extra.name,\n                img = extra.img,\n                active = user.get("active"),\n                avatar = \'<img src="\';\n\n              if (! img) {\n                avatar = \'<i id="\' + _.escape(username) + \'" class="collection-type-icon fa fa-user"></i>\';\n              } else {\n                avatar += \'https://s.gravatar.com/avatar/\';\n                avatar += img;\n                avatar += \'?s=50\';\n                avatar += \'" height="50" width="50" alt="" class="icon" id="\';\n                avatar += _.escape(username);\n                avatar += \'" />\';\n              }\n              if (! name) {\n                name = " ";\n              }\n              if (username.substring(0, 6) === \':role:\') {\n                avatar = \'<i id="\' + _.escape(username) + \'" class="collection-type-icon fa fa-group"></i>\';\n              }\n      %>\n\n      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">\n        <div class="paddingBox">\n          <div class="borderBox"></div>\n          <div class="iconSet">\n            \x3c!-- <span class="icon_arangodb_settings2 editUser" id="<%=_.escape(username) %>_edit-user" alt="Edit user" title="Edit user"></span> --\x3e\n          </div>\n          <%=avatar %>\n          <div class="tileBadge">\n            <span>\n              <%if (active) {%>\n              <div class="corneredBadge loaded">\n                active\n              </div>\n              <%} else {%>\n              <div class="corneredBadge unloaded">\n                inactive\n              </div>\n              <%}%>\n            </span>\n          </div>\n\n          <h5 class="collectionName"><%=_.escape(username) %> <% if (name !== \' \') { %>(<%=_.escape(name) %>)<%}%></h5>\n        </div>\n      </div>\n      <%});%>\n     </div>\n  </div>\n'},function(e,t){e.exports='    \n  <% var genClass = "pure-u-1-5"; %>\n  <% var genClass2 = "pure-u-1-5"; %>\n\n  <div id="userPermissionView" class="innerContent">\n    <div class="pure-g pure-table pure-table-header pure-title" style="clear: both">\n      <div class="pure-table-row">\n        <div class="<%= genClass %> left">Database</div>\n        <div class="<%= genClass %> mid">Administrate <i class="fa fa-info-circle tippy" title="Allows creating/dropping of collections and setting user permissions in the database."></i></div>\n        <div class="<%= genClass %> mid">Access <i class="fa fa-info-circle tippy" title="Allows access to the database. User cannot create or drop collections."></i></div>\n        <div class="<%= genClass %> mid">No access <i class="fa fa-info-circle tippy" title="User has no access to the database."></i></div>\n        <div class="<%= genClass %> mid">Use default <i class="fa fa-info-circle tippy" title="Access level is unspecified. Database default (*) will be used."></i></div>\n      </div>\n    </div>\n\n    <div class="pure-g pure-table pure-table-body">\n      <% _.each(permissions, function(content, db) { %>\n        <% var extraClass = \'\'; %>\n        <% if (db.charAt(0) === \'*\') { %>\n          <% extraClass = \'noAction\'; %>\n        <% } %>\n\n        <div class="pure-table-row db-row noHover <%= extraClass %>" id="<%= db %>-db">\n          <div class="<%= genClass2 %> left db-label">\n\n            <% if (db.charAt(0) !== \'*\') { %>\n              <i class="fa fa-caret-right" style="width: 10px;"></i>\n              <i class="fa fa-caret-down" style="display: none; width: 10px;"></i>\n            <% } %>\n            <% if (db.charAt(0) === \'*\') { %>\n              <b style="margin-right: 5px;">*</b> <i class="fa fa-info-circle tippy" title="Default access level for databases, if authentication level is not specified."></i>\n            <% } else { %>\n              <%= db %>\n            <% } %>\n          </div>\n\n          <% var permissionsDB = content.permission; %>\n\n          <% if (permissionsDB === \'rw\') { %>\n            <div class="<%= genClass2 %> mid">\n              <input class="dbCheckbox readWrite" type="radio" name="<%= db %>" permission="rw" checked>\n            </div>\n            <div class="<%= genClass2 %> mid">\n              <input class="dbCheckbox readOnly" type="radio" name="<%= db %>" permission="ro">\n            </div>\n            <div class="<%= genClass2 %> mid">\n              <input class="dbCheckbox noAccess" type="radio" name="<%= db %>" permission="none">\n            </div>\n            <% if (db.charAt(0) !== \'*\') { %>\n              <div class="<%= genClass2 %> mid">\n                <input class="dbCheckbox useDefault" type="radio" name="<%= db %>" permission="undefined">\n              </div>\n            <% } else { %>\n              <div class="<%= genClass2 %> mid"></div>\n            <% } %>\n          <% } else if (permissionsDB === \'ro\') { %>\n            <div class="<%= genClass2 %> mid">\n              <input class="dbCheckbox readWrite" type="radio" name="<%= db %>" permission="<%= db %>">\n            </div>\n            <div class="<%= genClass2 %> mid">\n              <input class="dbCheckbox readOnly" type="radio" name="<%= db %>" permission="<%= db %>" checked>\n            </div>\n            <div class="<%= genClass2 %> mid">\n              <input class="dbCheckbox noAccess" type="radio" name="<%= db %>" permission="none">\n            </div>\n            <% if (db.charAt(0) !== \'*\') { %>\n              <div class="<%= genClass2 %> mid">\n                <input class="dbCheckbox useDefault" type="radio" name="<%= db %>" permission="undefined">\n              </div>\n            <% } else { %>\n              <div class="<%= genClass2 %> mid"></div>\n            <% } %>\n          <% } else if (permissionsDB === \'none\') { %>\n            <div class="<%= genClass2 %> mid">\n              <input class="dbCheckbox readWrite" type="radio" name="<%= db %>" permission="<%= db %>">\n            </div>\n            <div class="<%= genClass2 %> mid">\n              <input class="dbCheckbox readOnly" type="radio" name="<%= db %>" permission="<%= db %>">\n            </div>\n            <div class="<%= genClass2 %> mid">\n              <input class="dbCheckbox noAccess" type="radio" name="<%= db %>" permission="none" checked>\n            </div>\n            <% if (db.charAt(0) !== \'*\') { %>\n              <div class="<%= genClass2 %> mid">\n                <input class="dbCheckbox useDefault" type="radio" name="<%= db %>" permission="undefined">\n              </div>\n            <% } else { %>\n              <div class="<%= genClass2 %> mid"></div>\n            <% } %>\n          <% } else { %>\n            <div class="<%= genClass2 %> mid">\n              <input class="dbCheckbox readWrite" type="radio" name="<%= db %>" permission="<%= db %>">\n            </div>\n            <div class="<%= genClass2 %> mid">\n              <input class="dbCheckbox readOnly" type="radio" name="<%= db %>" permission="<%= db %>">\n            </div>\n            <div class="<%= genClass2 %> mid">\n              <input class="dbCheckbox noAccess" type="radio" name="<%= db %>" permission="none">\n            </div>\n            <% if (db.charAt(0) !== \'*\') { %>\n              <div class="<%= genClass2 %> mid">\n                <input class="dbCheckbox useDefault" type="radio" name="<%= db %>" permission="undefined" checked>\n              </div>\n            <% } else { %>\n              <div class="<%= genClass2 %> mid"></div>\n            <% } %>\n          <% } %>\n\n          <div class="collection-row pure-table-row noHover inner <%= extraClass %>" style="display: none">\n            <div class="<%= genClass %> left inner collection-label collection-label-first"><span class="collLabel">Collections<span></div>\n            <div class="<%= genClass %> mid inner collection-label">Read/Write</div>\n            <div class="<%= genClass %> mid inner collection-label">Read only</div>\n            <div class="<%= genClass %> mid inner collection-label collection-label-last">No access</div>\n            <div class="<%= genClass %> mid inner collection-label collection-label-last">Use default</div>\n            <% _.each(content.collections, function(permissionCollection, collectionName) { %>\n              <% if (db.charAt(0) !== \'*\') { %>\n                <% if (collectionName.charAt(0) !== \'_\') { %>\n\n                  <% if (collectionName !== \'*\') { %>\n                    <div class="pure-table-row noHover" id="<%=collectionName%>-collection">\n                  <% } else { %>\n                    <div class="pure-table-row noHover" id="___-collection">\n                  <% } %>\n\n                    <% if (collectionName === \'*\') { %>\n                      <div class="<%= genClass %> left inner"><span class="collName"><b style="margin-right: 7px"> <%= collectionName %></b></span><i class="fa fa-info-circle tippy" title="Default access level for collections in <%=db%>, if authentication level is not specified."></i></div>\n                    <% } else { %>\n                      <div class="<%= genClass %> left inner"><span class="collName"><%= collectionName %></span></div>\n                    <% } %>\n\n                    <% if (permissionCollection === \'rw\') { %>\n                      <div class="<%= genClass %> mid inner">\n                        <input class="collCheckbox readWrite" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>" checked>\n                      </div>\n                      <div class="<%= genClass %> mid inner">\n                        <input class="collCheckbox readOnly" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>">\n                      </div>\n                      <div class="<%= genClass %> mid inner">\n                        <input class="collCheckbox noAccess" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>">\n                      </div>\n                      <% if (collectionName.charAt(0) !== \'*\') { %>\n                        <div class="<%= genClass %> mid inner">\n                          <input class="collCheckbox useDefault" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>">\n                        </div>\n                      <% } else { %>\n                        <div class="<%= genClass %> mid inner"></div>\n                      <% } %>\n                    <% } else if (permissionCollection === \'ro\') { %>\n                      <div class="<%= genClass %> mid inner">\n                        <input class="collCheckbox readWrite" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>">\n                      </div>\n                      <div class="<%= genClass %> mid inner">\n                        <input class="collCheckbox readOnly" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>" checked>\n                      </div>\n                      <div class="<%= genClass %> mid inner">\n                        <input class="collCheckbox noAccess" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>">\n                      </div>\n                      <% if (collectionName.charAt(0) !== \'*\') { %>\n                        <div class="<%= genClass %> mid inner">\n                          <input class="collCheckbox useDefault" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>">\n                        </div>\n                      <% } else { %>\n                        <div class="<%= genClass %> mid inner"></div>\n                      <% } %>\n                    <% } else if (permissionCollection === \'none\') { %>\n                      <div class="<%= genClass %> mid inner">\n                        <input class="collCheckbox readWrite" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>">\n                      </div>\n                      <div class="<%= genClass %> mid inner">\n                        <input class="collCheckbox readOnly" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>">\n                      </div>\n                      <div class="<%= genClass %> mid inner">\n                        <input class="collCheckbox noAccess" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>" checked>\n                      </div>\n                      <% if (collectionName.charAt(0) !== \'*\') { %>\n                        <div class="<%= genClass %> mid inner">\n                          <input class="collCheckbox useDefault" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>">\n                        </div>\n                      <% } else { %>\n                        <div class="<%= genClass %> mid inner"></div>\n                      <% } %>\n                    <% } else { %>\n                      <div class="<%= genClass %> mid inner">\n                        <input class="collCheckbox readWrite" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>">\n                      </div>\n                      <div class="<%= genClass %> mid inner">\n                        <input class="collCheckbox readOnly" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>">\n                      </div>\n                      <div class="<%= genClass %> mid inner">\n                        <input class="collCheckbox noAccess" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>">\n                      </div>\n                      <% if (collectionName.charAt(0) !== \'*\') { %>\n                        <div class="<%= genClass %> mid inner">\n                          <input class="collCheckbox useDefault" type="radio" db="<%= db %>" name="<%=db%>-<%=collectionName%>" collection="<%= collectionName %>" permission="<%= collectionName %>" checked>\n                        </div>\n                      <% } else { %>\n                        <div class="<%= genClass %> mid inner"></div>\n                      <% } %>\n                    <% } %>\n\n                  </div>\n                <% } %>\n              <% } %>\n            <% }); %>\n          </div>\n\n        </div>\n\n      <% }); %>\n\n    </div>\n\n  </div>\n'},function(e,t){e.exports='\n  <div class="innerContent">\n    <div id="viewDocumentation" class="infoBox" style="margin-top: 10px; margin-bottom: 30px;">\n      <h4>Info</h4>\n      <p>See the <a style="color: #5bc0de" href="https://www.arangodb.com/docs/stable/arangosearch-views.html" target="_blank"><b>ArangoSearch Views documentation</b></a> to learn how to configure Views.</p>\n    </div>\n    <div id="viewProcessing"class="infoBox" style="margin-top: 10px; margin-bottom: 30px; display: none">\n      <h4>Processing <i class="fa fa-spinner fa-spin"></i></h4>\n      <p>The view is currently in processing. No editing possible right now.</p>\n    </div>\n    <div id="propertiesEditor" class="document-editor" style="border-top: 1px solid rgba(140,138,137,.25)"></div>\n    <div class="bottomButtonBar">\n      <button id="savePropertiesButton" class="button-close pull-right" disabled>Save</button>\n      <% if (!window.frontendConfig.isCluster) { %>\n        <button id="renameViewButton" class="button-warning pull-right">Rename</button>\n      <%\xa0} %>\n      <button id="deleteViewButton" class="button-danger pull-right">Delete</button>\n      <span class="buttonBarInfo pull-right"></span>\n    </div>\n  </div>\n  \n'},function(e,t){e.exports='  <div class="headerBar">\n    <div class="search-field">\n      <input type="text" value="<%=searchString%>" id="viewsSearchInput" class="search-input" placeholder="Search..."/>\n      <i id="viewsSearchSubmit" class="fa fa-search"></i>\n    </div>\n    <div class="headerButtonBar">\n      <ul class="headerButtonList">\n        <li class="enabled">\n          <a id="viewsToggle" class="headerButton">\n            <span class="icon_arangodb_settings2" title="Settings"></span>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n  <div id="viewsDropdown2" class="headerDropdown">\n    <div id="viewsDropdown" class="dropdownInner">\n      <ul>\n        <li class="nav-header">Sorting</li>\n        <li><a>\n          <label class="checkbox checkboxLabel">\n            <input class="css-checkbox" type="checkbox" id="viewsSortDesc">\n            <i class="fa"></i>\n            Sort descending\n          </label>\n        </a></li>\n      </ul>\n    </div>\n  </div>\n\n  <div class="contentDiv" id="">\n    <div id="viewsThumbnailsIn" class="tileList pure-u">\n      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">\n        <div class="fullBorderBox">\n          <a id="createView" class="add">\n            <span id="newView" class="pull-left add-Icon"><i class="fa fa-plus-circle"></i></span>\n            Add View\n          </a>\n        </div>\n      </div>\n\n\n      <% views.forEach(function(view) {\n        var viewName = view.name;\n      %>\n\n        <div class="tile tile-view pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6" id="<%=viewName %>">\n          <div class="paddingBox">\n            <div class="borderBox"></div>\n            <i class="collection-type-icon fa fa-clone"></i>\n            <div class="tileBadge">\n            <% if (view.type) { %>\n              <span><div class="corneredBadge inProgress"><%=view.type%></div></span>\n            <% } %>\n            </div>\n            <h5 class="collectionName"><%=viewName%></h5>\n          </div>\n        </div>\n\n      <%});%>\n     </div>\n  </div>\n\n'},function(e,t){e.exports="  <% if (warnings.length > 0) { %>\n    <div>\n      <ul>\n        <% console.log(warnings); _.each(warnings, function(w) { console.log(w);%>\n          <li><b><%=w.code%></b>: <%=w.message%></li>\n        <% }); %>\n      </ul>\n    </div>\n  <% } %>\n"},function(e,t,i){e.exports=function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=32)}([function(e,t,i){"use strict";(function(e,n){var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(17),s=i(15),o=i(37),l=i(16),c=i(18),h={};t.clone=function(i,n){if("object"!==(void 0===i?"undefined":a(i))||null===i)return i;var r=(n=n||new Map).get(i);if(r)return r;var s=void 0,o=!1;if(Array.isArray(i))s=[],o=!0;else if(e.isBuffer(i))s=e.from(i);else if(i instanceof Date)s=new Date(i.getTime());else if(i instanceof RegExp)s=new RegExp(i);else{var l=Object.getPrototypeOf(i);l&&l.isImmutable?s=i:(s=Object.create(l),o=!0)}if(n.set(i,s),o)for(var c=Object.getOwnPropertyNames(i),h=0;h<c.length;++h){var d=c[h],u=Object.getOwnPropertyDescriptor(i,d);u&&(u.get||u.set)?Object.defineProperty(s,d,u):s[d]=t.clone(i[d],n)}return s},t.merge=function(i,n,r,s){if(t.assert(i&&"object"===(void 0===i?"undefined":a(i)),"Invalid target value: must be an object"),t.assert(null===n||void 0===n||"object"===(void 0===n?"undefined":a(n)),"Invalid source value: must be null, undefined, or an object"),!n)return i;if(Array.isArray(n)){t.assert(Array.isArray(i),"Cannot merge array onto an object"),!1===s&&(i.length=0);for(var o=0;o<n.length;++o)i.push(t.clone(n[o]));return i}for(var l=Object.keys(n),c=0;c<l.length;++c){var h=l[c];if("__proto__"!==h){var d=n[h];d&&"object"===(void 0===d?"undefined":a(d))?!i[h]||"object"!==a(i[h])||Array.isArray(i[h])!==Array.isArray(d)||d instanceof Date||e.isBuffer(d)||d instanceof RegExp?i[h]=t.clone(d):t.merge(i[h],d,r,s):null!==d&&void 0!==d?i[h]=d:!1!==r&&(i[h]=d)}}return i},t.applyToDefaults=function(e,i,n){if(t.assert(e&&"object"===(void 0===e?"undefined":a(e)),"Invalid defaults value: must be an object"),t.assert(!i||!0===i||"object"===(void 0===i?"undefined":a(i)),"Invalid options value: must be true, falsy or an object"),!i)return null;var r=t.clone(e);return!0===i?r:t.merge(r,i,!0===n,!1)},t.cloneWithShallow=function(e,i){if(!e||"object"!==(void 0===e?"undefined":a(e)))return e;var n=h.store(e,i),r=t.clone(e);return h.restore(r,e,n),r},h.store=function(e,i){for(var n={},a=0;a<i.length;++a){var r=i[a],s=t.reach(e,r);void 0!==s&&(n[r]=s,h.reachSet(e,r,void 0))}return n},h.restore=function(e,t,i){for(var n=Object.keys(i),a=0;a<n.length;++a){var r=n[a];h.reachSet(e,r,i[r]),h.reachSet(t,r,i[r])}},h.reachSet=function(e,t,i){for(var n=t.split("."),a=e,r=0;r<n.length;++r){var s=n[r];r+1===n.length&&(a[s]=i),a=a[s]}},t.applyToDefaultsWithShallow=function(e,i,n){if(t.assert(e&&"object"===(void 0===e?"undefined":a(e)),"Invalid defaults value: must be an object"),t.assert(!i||!0===i||"object"===(void 0===i?"undefined":a(i)),"Invalid options value: must be true, falsy or an object"),t.assert(n&&Array.isArray(n),"Invalid keys"),!i)return null;var r=t.cloneWithShallow(e,n);if(!0===i)return r;var s=h.store(i,n);return t.merge(r,i,!1,!1),h.restore(r,i,s),r},t.deepEqual=function(i,n,r,s){r=r||{prototype:!0};var o=void 0===i?"undefined":a(i);if(o!==(void 0===n?"undefined":a(n)))return!1;if("object"!==o||null===i||null===n)return i===n?0!==i||1/i==1/n:i!==i&&n!==n;if(-1!==(s=s||[]).indexOf(i))return!0;if(s.push(i),Array.isArray(i)){if(!Array.isArray(n))return!1;if(!r.part&&i.length!==n.length)return!1;for(var l=0;l<i.length;++l){if(r.part){for(var c=!1,h=0;h<n.length;++h)if(t.deepEqual(i[l],n[h],r)){c=!0;break}return c}if(!t.deepEqual(i[l],n[l],r))return!1}return!0}if(e.isBuffer(i)){if(!e.isBuffer(n))return!1;if(i.length!==n.length)return!1;for(var d=0;d<i.length;++d)if(i[d]!==n[d])return!1;return!0}if(i instanceof Date)return n instanceof Date&&i.getTime()===n.getTime();if(i instanceof RegExp)return n instanceof RegExp&&i.toString()===n.toString();if(r.prototype&&Object.getPrototypeOf(i)!==Object.getPrototypeOf(n))return!1;var u=Object.getOwnPropertyNames(i);if(!r.part&&u.length!==Object.getOwnPropertyNames(n).length)return!1;for(var p=0;p<u.length;++p){var f=u[p],g=Object.getOwnPropertyDescriptor(i,f);if(g.get){if(!t.deepEqual(g,Object.getOwnPropertyDescriptor(n,f),r,s))return!1}else if(!t.deepEqual(i[f],n[f],r,s))return!1}return!0},t.unique=function(e,t){var i=void 0;if(t){i=[];var n=new Set;e.forEach(function(e){var a=e[t];n.has(a)||(n.add(a),i.push(e))})}else i=Array.from(new Set(e));return i},t.mapToObject=function(e,t){if(!e)return null;for(var i={},n=0;n<e.length;++n)t?e[n][t]&&(i[e[n][t]]=!0):i[e[n]]=!0;return i},t.intersect=function(e,i,n){if(!e||!i)return[];for(var a=[],r=Array.isArray(e)?t.mapToObject(e):e,s={},o=0;o<i.length;++o)if(r[i[o]]&&!s[i[o]]){if(n)return i[o];a.push(i[o]),s[i[o]]=!0}return n?null:a},t.contain=function(e,i,n){var r=null;"object"!==(void 0===e?"undefined":a(e))||"object"!==(void 0===i?"undefined":a(i))||Array.isArray(e)||Array.isArray(i)?i=[].concat(i):(r=i,i=Object.keys(i)),n=n||{},t.assert("string"==typeof e||"object"===(void 0===e?"undefined":a(e)),"Reference must be string or an object"),t.assert(i.length,"Values array cannot be empty");var s=void 0,o=void 0;if(n.deep){s=t.deepEqual;var l=n.hasOwnProperty("only"),c=n.hasOwnProperty("part");o={prototype:l?n.only:!!c&&!n.part,part:l?!n.only:!c||n.part}}else s=function(e,t){return e===t};for(var h=!1,d=new Array(i.length),u=0;u<d.length;++u)d[u]=0;if("string"==typeof e){for(var p="(",f=0;f<i.length;++f){var g=i[f];t.assert("string"==typeof g,"Cannot compare string reference to non-string value"),p+=(f?"|":"")+t.escapeRegex(g)}var m=new RegExp(p+")","g");h=!!e.replace(m,function(e,t){var n=i.indexOf(t);return++d[n],""})}else if(Array.isArray(e))for(var v=0;v<e.length;++v){for(var b=!1,w=0;w<i.length&&!1===b;++w)b=s(i[w],e[v],o)&&w;!1!==b?++d[b]:h=!0}else for(var y=Object.getOwnPropertyNames(e),_=0;_<y.length;++_){var x=y[_],C=i.indexOf(x);if(-1!==C){if(r&&!s(r[x],e[x],o))return!1;++d[C]}else h=!0}for(var S=!1,T=0;T<d.length;++T)if(S=S||!!d[T],n.once&&d[T]>1||!n.part&&!d[T])return!1;return(!n.only||!h)&&S},t.flatten=function(e,i){for(var n=i||[],a=0;a<e.length;++a)Array.isArray(e[a])?t.flatten(e[a],n):n.push(e[a]);return n},t.reach=function(e,i,n){if(!1===i||null===i||void 0===i)return e;"string"==typeof(n=n||{})&&(n={separator:n});for(var r=i.split(n.separator||"."),s=e,o=0;o<r.length;++o){var l=r[o];if("-"===l[0]&&Array.isArray(s)&&(l=l.slice(1,l.length),l=s.length-l),!s||"object"!==(void 0===s?"undefined":a(s))&&"function"!=typeof s||!(l in s)||"object"!==(void 0===s?"undefined":a(s))&&!1===n.functions){t.assert(!n.strict||o+1===r.length,"Missing segment",l,"in reach path ",i),t.assert("object"===(void 0===s?"undefined":a(s))||!0===n.functions||"function"!=typeof s,"Invalid segment",l,"in reach path ",i),s=n.default;break}s=s[l]}return s},t.reachTemplate=function(e,i,n){return i.replace(/{([^}]+)}/g,function(i,a){var r=t.reach(e,a,n);return void 0===r||null===r?"":r})},t.formatStack=function(e){for(var t=[],i=0;i<e.length;++i){var n=e[i];t.push([n.getFileName(),n.getLineNumber(),n.getColumnNumber(),n.getFunctionName(),n.isConstructor()])}return t},t.formatTrace=function(e){for(var t=[],i=0;i<e.length;++i){var n=e[i];t.push((n[4]?"new ":"")+n[3]+" ("+n[0]+":"+n[1]+":"+n[2]+")")}return t},t.callStack=function(e){var i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var n={};Error.captureStackTrace(n,this);var a=n.stack;return Error.prepareStackTrace=i,t.formatStack(a).slice(1+e)},t.displayStack=function(e){var i=t.callStack(void 0===e?1:e+1);return t.formatTrace(i)},t.abortThrow=!1,t.abort=function(e,i){if("test"===n.env.NODE_ENV||!0===t.abortThrow)throw new Error(e||"Unknown error");var a="";i||(a=t.displayStack(1).join("\n\t")),console.log("ABORT: "+e+"\n\t"+a),n.exit(1)},t.assert=function(e){if(!e){for(var i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];if(1===n.length&&n[0]instanceof Error)throw n[0];var s=n.filter(function(e){return""!==e}).map(function(e){return"string"==typeof e?e:e instanceof Error?e.message:t.stringify(e)});throw new r.AssertionError({message:s.join(" ")||"Unknown error",actual:!1,expected:!0,operator:"==",stackStartFunction:t.assert})}},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},t.base64urlEncode=function(i,n){return t.assert("string"==typeof i||e.isBuffer(i),"value must be string or buffer"),(e.isBuffer(i)?i:e.from(i,n||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},t.base64urlDecode=function(t,i){if("string"!=typeof t)throw new Error("Value not a string");if(!/^[\w\-]*$/.test(t))throw new Error("Invalid character");var n=e.from(t,"base64");return"buffer"===i?n:n.toString(i||"binary")},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},t.escapeHtml=function(e){return c.escapeHtml(e)},t.escapeJavaScript=function(e){return c.escapeJavaScript(e)},t.escapeJson=function(e){return c.escapeJson(e)},t.once=function(e){if(e._hoekOnce)return e;var t=!1,i=function(){if(!t){t=!0;for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];e.apply(null,n)}};return i._hoekOnce=!0,i},t.isInteger=Number.isSafeInteger,t.ignore=function(){},t.inherits=l.inherits,t.format=l.format,t.transform=function(e,i,n){t.assert(null===e||void 0===e||"object"===(void 0===e?"undefined":a(e))||Array.isArray(e),"Invalid source object: must be null, undefined, an object, or an array");var r="object"===(void 0===n?"undefined":a(n))&&null!==n&&n.separator||".";if(Array.isArray(e)){for(var s=[],o=0;o<e.length;++o)s.push(t.transform(e[o],i,n));return s}for(var l={},c=Object.keys(i),h=0;h<c.length;++h){var d=c[h],u=d.split(r),p=i[d];t.assert("string"==typeof p,'All mappings must be "." delineated strings');for(var f=void 0,g=l;u.length>1;)f=u.shift(),g[f]||(g[f]={}),g=g[f];f=u.shift(),g[f]=t.reach(e,p,n)}return l},t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=o.resolve(e);var i=[Date.now(),n.pid,s.randomBytes(8).toString("hex")].join("-")+t;return o.join(e,i)},t.stringify=function(){try{for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return JSON.stringify.apply(null,t)}catch(e){return"[Cannot display object: "+e.message+"]"}},t.shallow=function(e){for(var t={},i=Object.keys(e),n=0;n<i.length;++n){var a=i[n];t[a]=e[a]}return t},t.wait=function(e){return new Promise(function(t){return setTimeout(t,e)})},t.block=function(){return new Promise(t.ignore)}}).call(t,i(3).Buffer,i(7))},function(e,t,i){"use strict";var n=i(0);t.create=function(e,t){n.assert("string"==typeof e,"Invalid reference key:",e);var i=n.clone(t),a=function e(t,a){return n.reach(e.isContext?a.context:t,e.key,i)};return a.isContext=e[0]===(i&&i.contextPrefix||"$"),a.key=a.isContext?e.slice(1):e,a.path=a.key.split(i&&i.separator||"."),a.depth=a.path.length,a.root=a.path[0],a.isJoi=!0,a.toString=function(){return(a.isContext?"context:":"ref:")+a.key},a},t.isRef=function(e){return"function"==typeof e&&e.isJoi},t.push=function(e,i){t.isRef(i)&&!i.isContext&&e.push(i.root)}},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(0),s=i(11),o=i(1),l=i(6),c=null,h=null,d={Set:i(9),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",strip:!1,noDefaults:!1,escapeHtml:!1}};e.exports=d.Any=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),h=h||i(4),this.isJoi=!0,this._type="any",this._settings=null,this._valids=new d.Set,this._invalids=new d.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}return e.prototype._init=function(){return this},e.prototype.createError=function(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this._flags;return l.create(e,t,i,n,a)},e.prototype.createOverrideError=function(e,t,i,n,a,r){return l.create(e,t,i,n,this._flags,a,r)},e.prototype.checkOptions=function(e){var t=i(21),n=t.options.validate(e);if(n.error)throw new Error(n.error.details[0].message)},e.prototype.clone=function(){var e=Object.create(Object.getPrototypeOf(this));e.isJoi=!0,e._currentJoi=this._currentJoi,e._type=this._type,e._settings=this._settings,e._baseType=this._baseType,e._valids=this._valids.slice(),e._invalids=this._invalids.slice(),e._tests=this._tests.slice(),e._refs=this._refs.slice(),e._flags=r.clone(this._flags),e._description=this._description,e._unit=this._unit,e._notes=this._notes.slice(),e._tags=this._tags.slice(),e._examples=this._examples.slice(),e._meta=this._meta.slice(),e._inner={};for(var t=Object.keys(this._inner),i=0;i<t.length;++i){var n=t[i];e._inner[n]=this._inner[n]?this._inner[n].slice():null}return e},e.prototype.concat=function(e){r.assert(e instanceof d.Any,"Invalid schema object"),r.assert("any"===this._type||"any"===e._type||e._type===this._type,"Cannot merge type",this._type,"with another type:",e._type);var t=this.clone();if("any"===this._type&&"any"!==e._type){for(var i=e.clone(),n=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"],a=0;a<n.length;++a)i[n[a]]=t[n[a]];t=i}t._settings=t._settings?s.concat(t._settings,e._settings):e._settings,t._valids.merge(e._valids,e._invalids),t._invalids.merge(e._invalids,e._valids),t._tests=t._tests.concat(e._tests),t._refs=t._refs.concat(e._refs),r.merge(t._flags,e._flags),t._description=e._description||t._description,t._unit=e._unit||t._unit,t._notes=t._notes.concat(e._notes),t._tags=t._tags.concat(e._tags),t._examples=t._examples.concat(e._examples),t._meta=t._meta.concat(e._meta);for(var o=Object.keys(e._inner),l="object"===t._type,c=0;c<o.length;++c){var h=o[c],u=e._inner[h];if(u){var p=t._inner[h];if(p)if(l&&"children"===h){for(var f={},g=0;g<p.length;++g)f[p[g].key]=g;for(var m=0;m<u.length;++m){var v=u[m].key;f[v]>=0?p[f[v]]={key:v,schema:p[f[v]].schema.concat(u[m].schema)}:p.push(u[m])}}else t._inner[h]=t._inner[h].concat(u);else t._inner[h]=u.slice()}}return t},e.prototype._test=function(e,t,i,n){var a=this.clone();return a._tests.push({func:i,name:e,arg:t,options:n}),a},e.prototype.options=function(e){r.assert(!e.context,"Cannot override context"),this.checkOptions(e);var t=this.clone();return t._settings=s.concat(t._settings,e),t},e.prototype.strict=function(e){var t=this.clone(),i=void 0!==e&&!e;return t._settings=s.concat(t._settings,{convert:i}),t},e.prototype.raw=function(e){var t=void 0===e||e;if(this._flags.raw===t)return this;var i=this.clone();return i._flags.raw=t,i},e.prototype.error=function(e){r.assert(e&&(e instanceof Error||"function"==typeof e),"Must provide a valid Error object or a function");var t=this.clone();return t._flags.error=e,t},e.prototype.allow=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=this.clone();t=r.flatten(t);for(var a=0;a<t.length;++a){var s=t[a];r.assert(void 0!==s,"Cannot call allow/valid/invalid with undefined"),n._invalids.remove(s),n._valids.add(s,n._refs)}return n},e.prototype.valid=function(){var e=this.allow.apply(this,arguments);return e._flags.allowOnly=!0,e},e.prototype.invalid=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=this.clone();t=r.flatten(t);for(var a=0;a<t.length;++a){var s=t[a];r.assert(void 0!==s,"Cannot call allow/valid/invalid with undefined"),n._valids.remove(s),n._invalids.add(s,n._refs)}return n},e.prototype.required=function(){if("required"===this._flags.presence)return this;var e=this.clone();return e._flags.presence="required",e},e.prototype.optional=function(){if("optional"===this._flags.presence)return this;var e=this.clone();return e._flags.presence="optional",e},e.prototype.forbidden=function(){if("forbidden"===this._flags.presence)return this;var e=this.clone();return e._flags.presence="forbidden",e},e.prototype.strip=function(){if(this._flags.strip)return this;var e=this.clone();return e._flags.strip=!0,e},e.prototype.applyFunctionToChildren=function(e,t,i,n){if(1!==(e=[].concat(e)).length||""!==e[0]){n=n?n+".":"";var a=(""===e[0]?e.slice(1):e).map(function(e){return n+e});throw new Error("unknown key(s) "+a.join(", "))}return this[t].apply(this,i)},e.prototype.default=function(e,t){"function"!=typeof e||o.isRef(e)||(!e.description&&t&&(e.description=t),this._flags.func||r.assert("string"==typeof e.description&&e.description.length>0,"description must be provided when default value is a function"));var i=this.clone();return i._flags.default=e,o.push(i._refs,e),i},e.prototype.empty=function(e){var t=this.clone();return void 0===e?delete t._flags.empty:t._flags.empty=h.schema(this._currentJoi,e),t},e.prototype.when=function(e,t){r.assert(t&&"object"===(void 0===t?"undefined":n(t)),"Invalid options"),r.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var a=t.hasOwnProperty("then")?this.concat(h.schema(this._currentJoi,t.then)):void 0,s=t.hasOwnProperty("otherwise")?this.concat(h.schema(this._currentJoi,t.otherwise)):void 0;c=c||i(10);var o={then:a,otherwise:s};Object.prototype.hasOwnProperty.call(t,"is")&&(o.is=t.is);var l=c.when(e,o);return l._flags.presence="ignore",l._baseType=this,l},e.prototype.description=function(e){r.assert(e&&"string"==typeof e,"Description must be a non-empty string");var t=this.clone();return t._description=e,t},e.prototype.notes=function(e){r.assert(e&&("string"==typeof e||Array.isArray(e)),"Notes must be a non-empty string or array");var t=this.clone();return t._notes=t._notes.concat(e),t},e.prototype.tags=function(e){r.assert(e&&("string"==typeof e||Array.isArray(e)),"Tags must be a non-empty string or array");var t=this.clone();return t._tags=t._tags.concat(e),t},e.prototype.meta=function(e){r.assert(void 0!==e,"Meta cannot be undefined");var t=this.clone();return t._meta=t._meta.concat(e),t},e.prototype.example=function(){r.assert(1===arguments.length,"Missing example");var e=arguments.length<=0?void 0:arguments[0],t=this.clone();return t._examples.push(e),t},e.prototype.unit=function(e){r.assert(e&&"string"==typeof e,"Unit name must be a non-empty string");var t=this.clone();return t._unit=e,t},e.prototype._prepareEmptyValue=function(e){return"string"==typeof e&&this._flags.trim?e.trim():e},e.prototype._validate=function(e,t,i,n){var a=this,c=e;t=t||{key:"",path:[],parent:null,reference:n},this._settings&&(i=s.concat(i,this._settings));var h=[],u=function(){var n=void 0;if(void 0!==e)n=a._flags.raw?c:e;else if(i.noDefaults)n=e;else if(o.isRef(a._flags.default))n=a._flags.default(t.parent,i);else if("function"!=typeof a._flags.default||a._flags.func&&!a._flags.default.description)n=r.clone(a._flags.default);else{var s=void 0;null!==t.parent&&a._flags.default.length>0&&(s=[r.clone(t.parent),i]);var l=d._try(a._flags.default,s);n=l.value,l.error&&h.push(a.createError("any.default",{error:l.error},t,i))}if(h.length&&"function"==typeof a._flags.error){var u=a._flags.error.call(a,h);h="string"==typeof u?[a.createOverrideError("override",{reason:h},t,i,u)]:[].concat(u).map(function(e){return e instanceof Error?e:a.createOverrideError(e.type||"override",e.context,t,i,e.message,e.template)})}return{value:a._flags.strip?void 0:n,finalValue:n,errors:h.length?h:null}};if(this._coerce){var p=this._coerce.call(this,e,t,i);if(p.errors)return e=p.value,h=h.concat(p.errors),u();e=p.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(e),null,d.defaults).errors&&(e=void 0);var f=this._flags.presence||i.presence;if("optional"===f){if(void 0===e){var g=this._flags.hasOwnProperty("default")&&void 0===this._flags.default;if(!g||"object"!==this._type)return u();e={}}}else{if("required"===f&&void 0===e)return h.push(this.createError("any.required",null,t,i)),u();if("forbidden"===f)return void 0===e?u():(h.push(this.createError("any.unknown",null,t,i)),u())}if(this._valids.has(e,t,i,this._flags.insensitive))return u();if(this._invalids.has(e,t,i,this._flags.insensitive)&&(h.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,i)),i.abortEarly||void 0===e))return u();if(this._base){var m=this._base.call(this,e,t,i);if(m.errors)return e=m.value,h=h.concat(m.errors),u();if(m.value!==e){if(e=m.value,this._valids.has(e,t,i,this._flags.insensitive))return u();if(this._invalids.has(e,t,i,this._flags.insensitive)&&(h.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,i)),i.abortEarly))return u()}}if(this._flags.allowOnly&&(h.push(this.createError("any.allowOnly",{value:e,valids:this._valids.values({stripUndefined:!0})},t,i)),i.abortEarly))return u();for(var v=0;v<this._tests.length;++v){var b=this._tests[v],w=b.func.call(this,e,t,i);if(w instanceof l.Err){if(h.push(w),i.abortEarly)return u()}else e=w}return u()},e.prototype._validateWithOptions=function(e,t,i){t&&this.checkOptions(t);var n=s.concat(d.defaults,t),a=this._validate(e,null,n),r=l.process(a.errors,e);return i?i(r,a.value):{error:r,value:a.value,then:function(e,t){return r?Promise.reject(r).catch(t):Promise.resolve(a.value).then(e)},catch:function(e){return r?Promise.reject(r).catch(e):Promise.resolve(a.value)}}},e.prototype.validate=function(e,t,i){return"function"==typeof t?this._validateWithOptions(e,null,t):this._validateWithOptions(e,t,i)},e.prototype.describe=function(){var e=this,t={type:this._type},i=Object.keys(this._flags);if(i.length)if(["empty","default","lazy","label"].some(function(t){return e._flags.hasOwnProperty(t)})){t.flags={};for(var n=0;n<i.length;++n){var a=i[n];"empty"===a?t.flags[a]=this._flags[a].describe():"default"===a?o.isRef(this._flags[a])?t.flags[a]=this._flags[a].toString():"function"==typeof this._flags[a]?t.flags[a]={description:this._flags[a].description,function:this._flags[a]}:t.flags[a]=this._flags[a]:"lazy"===a||"label"===a||(t.flags[a]=this._flags[a])}}else t.flags=this._flags;this._settings&&(t.options=r.clone(this._settings)),this._baseType&&(t.base=this._baseType.describe()),this._description&&(t.description=this._description),this._notes.length&&(t.notes=this._notes),this._tags.length&&(t.tags=this._tags),this._meta.length&&(t.meta=this._meta),this._examples.length&&(t.examples=this._examples),this._unit&&(t.unit=this._unit);var s=this._valids.values();s.length&&(t.valids=s.map(function(e){return o.isRef(e)?e.toString():e}));var l=this._invalids.values();l.length&&(t.invalids=l.map(function(e){return o.isRef(e)?e.toString():e})),t.rules=[];for(var c=0;c<this._tests.length;++c){var h=this._tests[c],d={name:h.name};void 0!==h.arg&&(d.arg=o.isRef(h.arg)?h.arg.toString():h.arg);var u=h.options;if(u){if(u.hasRef){d.arg={};for(var p=Object.keys(h.arg),f=0;f<p.length;++f){var g=p[f],m=h.arg[g];d.arg[g]=o.isRef(m)?m.toString():m}}"string"==typeof u.description?d.description=u.description:"function"==typeof u.description&&(d.description=u.description(d.arg))}t.rules.push(d)}t.rules.length||delete t.rules;var v=this._getLabel();return v&&(t.label=v),t},e.prototype.label=function(e){r.assert(e&&"string"==typeof e,"Label name must be a non-empty string");var t=this.clone();return t._flags.label=e,t},e.prototype._getLabel=function(e){return this._flags.label||e},a(e,[{key:"schemaType",get:function(){return this._type}}]),e}(),d.Any.prototype.isImmutable=!0,d.Any.prototype.only=d.Any.prototype.equal=d.Any.prototype.valid,d.Any.prototype.disallow=d.Any.prototype.not=d.Any.prototype.invalid,d.Any.prototype.exist=d.Any.prototype.required,d._try=function(e,t){var i=void 0,n=void 0;try{n=e.apply(null,t)}catch(e){i=e}return{value:n,error:i}}},function(e,t,i){"use strict";(function(e){function n(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=r.prototype:(null===e&&(e=new r(t)),e.length=t),e}function r(e,t,i){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return s(this,e,t,i)}function s(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),r.TYPED_ARRAY_SUPPORT?(e=t).__proto__=r.prototype:e=c(e,t),e}(e,t,i,n):"string"==typeof t?function(e,t,i){if("string"==typeof i&&""!==i||(i="utf8"),!r.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,i),s=(e=a(e,n)).write(t,i);return s!==n&&(e=e.slice(0,s)),e}(e,t,i):function(e,t){if(r.isBuffer(t)){var i=0|h(t.length);return 0===(e=a(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!==e}(t.length)?a(e,0):c(e,t);if("Buffer"===t.type&&F(t.data))return c(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function o(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(o(t),e=a(e,t<0?0:0|h(t)),!r.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function c(e,t){var i=t.length<0?0:0|h(t.length);e=a(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function d(e,t){if(r.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return R(e).length;default:if(n)return N(e).length;t=(""+t).toLowerCase(),n=!0}}function u(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function p(e,t,i,n,a){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=a?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(a)return-1;i=e.length-1}else if(i<0){if(!a)return-1;i=0}if("string"==typeof t&&(t=r.from(t,n)),r.isBuffer(t))return 0===t.length?-1:f(e,t,i,n,a);if("number"==typeof t)return t&=255,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):f(e,[t],i,n,a);throw new TypeError("val must be string, number or Buffer")}function f(e,t,i,n,a){function r(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var s,o=1,l=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,l/=2,c/=2,i/=2}if(a){var h=-1;for(s=i;s<l;s++)if(r(e,s)===r(t,-1===h?0:s-h)){if(-1===h&&(h=s),s-h+1===c)return h*o}else-1!==h&&(s-=s-h),h=-1}else for(i+c>l&&(i=l-c),s=i;s>=0;s--){for(var d=!0,u=0;u<c;u++)if(r(e,s+u)!==r(t,u)){d=!1;break}if(d)return s}return-1}function g(e,t,i,n){i=Number(i)||0;var a=e.length-i;n?(n=Number(n))>a&&(n=a):n=a;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var s=0;s<n;++s){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))return s;e[i+s]=o}return s}function m(e,t,i,n){return $(N(t,e.length-i),e,i,n)}function v(e,t,i,n){return $(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function b(e,t,i,n){return v(e,t,i,n)}function w(e,t,i,n){return $(R(t),e,i,n)}function y(e,t,i,n){return $(function(e,t){for(var i,n,a,r=[],s=0;s<e.length&&!((t-=2)<0);++s)i=e.charCodeAt(s),n=i>>8,a=i%256,r.push(a),r.push(n);return r}(t,e.length-i),e,i,n)}function _(e,t,i){return 0===t&&i===e.length?B.fromByteArray(e):B.fromByteArray(e.slice(t,i))}function x(e,t,i){i=Math.min(e.length,i);for(var n=[],a=t;a<i;){var r,s,o,l,c=e[a],h=null,d=c>239?4:c>223?3:c>191?2:1;if(a+d<=i)switch(d){case 1:c<128&&(h=c);break;case 2:128==(192&(r=e[a+1]))&&(l=(31&c)<<6|63&r)>127&&(h=l);break;case 3:r=e[a+1],s=e[a+2],128==(192&r)&&128==(192&s)&&(l=(15&c)<<12|(63&r)<<6|63&s)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:r=e[a+1],s=e[a+2],o=e[a+3],128==(192&r)&&128==(192&s)&&128==(192&o)&&(l=(15&c)<<18|(63&r)<<12|(63&s)<<6|63&o)>65535&&l<1114112&&(h=l)}null===h?(h=65533,d=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),a+=d}return function(e){var t=e.length;if(t<=H)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=H));return i}(n)}function C(e,t,i){var n="";i=Math.min(e.length,i);for(var a=t;a<i;++a)n+=String.fromCharCode(127&e[a]);return n}function S(e,t,i){var n="";i=Math.min(e.length,i);for(var a=t;a<i;++a)n+=String.fromCharCode(e[a]);return n}function T(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var a="",r=t;r<i;++r)a+=L(e[r]);return a}function k(e,t,i){for(var n=e.slice(t,i),a="",r=0;r<n.length;r+=2)a+=String.fromCharCode(n[r]+256*n[r+1]);return a}function A(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,i,n,a,s){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<s)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function D(e,t,i,n){t<0&&(t=65535+t+1);for(var a=0,r=Math.min(e.length-i,2);a<r;++a)e[i+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function E(e,t,i,n){t<0&&(t=4294967295+t+1);for(var a=0,r=Math.min(e.length-i,4);a<r;++a)e[i+a]=t>>>8*(n?a:3-a)&255}function M(e,t,i,n,a,r){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function I(e,t,i,n,a){return a||M(e,0,i,4),V.write(e,t,i,n,23,4),i+4}function O(e,t,i,n,a){return a||M(e,0,i,8),V.write(e,t,i,n,52,8),i+8}function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,t){t=t||1/0;for(var i,n=e.length,a=null,r=[],s=0;s<n;++s){if((i=e.charCodeAt(s))>55295&&i<57344){if(!a){if(i>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&r.push(239,191,189);continue}a=i;continue}if(i<56320){(t-=3)>-1&&r.push(239,191,189),a=i;continue}i=65536+(a-55296<<10|i-56320)}else a&&(t-=3)>-1&&r.push(239,191,189);if(a=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function R(e){return B.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,i,n){for(var a=0;a<n&&!(a+i>=t.length||a>=e.length);++a)t[a+i]=e[a];return a}var B=i(33),V=i(34),F=i(35);t.Buffer=r,t.SlowBuffer=function(e){return+e!=e&&(e=0),r.alloc(+e)},t.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=n(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,i){return s(null,e,t,i)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,i){return function(e,t,i,n){return o(t),t<=0?a(e,t):void 0!==i?"string"==typeof n?a(e,t).fill(i,n):a(e,t).fill(i):a(e,t)}(null,e,t,i)},r.allocUnsafe=function(e){return l(null,e)},r.allocUnsafeSlow=function(e){return l(null,e)},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,a=0,s=Math.min(i,n);a<s;++a)if(e[a]!==t[a]){i=e[a],n=t[a];break}return i<n?-1:n<i?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!F(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=r.allocUnsafe(t),a=0;for(i=0;i<e.length;++i){var s=e[i];if(!r.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,a),a+=s.length}return n},r.byteLength=d,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)u(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)u(this,t,t+3),u(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)u(this,t,t+7),u(this,t+1,t+6),u(this,t+2,t+5),u(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):function(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,i);case"utf8":case"utf-8":return x(this,t,i);case"ascii":return C(this,t,i);case"latin1":case"binary":return S(this,t,i);case"base64":return _(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e,t,i,n,a){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||i>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=i)return 0;if(n>=a)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,a>>>=0,this===e)return 0;for(var s=a-n,o=i-t,l=Math.min(s,o),c=this.slice(n,a),h=e.slice(t,i),d=0;d<l;++d)if(c[d]!==h[d]){s=c[d],o=h[d];break}return s<o?-1:o<s?1:0},r.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},r.prototype.indexOf=function(e,t,i){return p(this,e,t,i,!0)},r.prototype.lastIndexOf=function(e,t,i){return p(this,e,t,i,!1)},r.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var a=this.length-t;if((void 0===i||i>a)&&(i=a),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return g(this,e,t,i);case"utf8":case"utf-8":return m(this,e,t,i);case"ascii":return v(this,e,t,i);case"latin1":case"binary":return b(this,e,t,i);case"base64":return w(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,e,t,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var H=4096;r.prototype.slice=function(e,t){var i,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),r.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=r.prototype;else{var a=t-e;i=new r(a,void 0);for(var s=0;s<a;++s)i[s]=this[s+e]}return i},r.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||A(e,t,this.length);for(var n=this[e],a=1,r=0;++r<t&&(a*=256);)n+=this[e+r]*a;return n},r.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||A(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},r.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||A(e,t,this.length);for(var n=this[e],a=1,r=0;++r<t&&(a*=256);)n+=this[e+r]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},r.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||A(e,t,this.length);for(var n=t,a=1,r=this[e+--n];n>0&&(a*=256);)r+=this[e+--n]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},r.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},r.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},r.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),V.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),V.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),V.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),V.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,i,n){e=+e,t|=0,i|=0,n||P(this,e,t,i,Math.pow(2,8*i)-1,0);var a=1,r=0;for(this[t]=255&e;++r<i&&(a*=256);)this[t+r]=e/a&255;return t+i},r.prototype.writeUIntBE=function(e,t,i,n){e=+e,t|=0,i|=0,n||P(this,e,t,i,Math.pow(2,8*i)-1,0);var a=i-1,r=1;for(this[t+a]=255&e;--a>=0&&(r*=256);)this[t+a]=e/r&255;return t+i},r.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):E(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):E(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*i-1);P(this,e,t,i,a-1,-a)}var r=0,s=1,o=0;for(this[t]=255&e;++r<i&&(s*=256);)e<0&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/s>>0)-o&255;return t+i},r.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*i-1);P(this,e,t,i,a-1,-a)}var r=i-1,s=1,o=0;for(this[t+r]=255&e;--r>=0&&(s*=256);)e<0&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/s>>0)-o&255;return t+i},r.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):E(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):E(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,i){return I(this,e,t,!0,i)},r.prototype.writeFloatBE=function(e,t,i){return I(this,e,t,!1,i)},r.prototype.writeDoubleLE=function(e,t,i){return O(this,e,t,!0,i)},r.prototype.writeDoubleBE=function(e,t,i){return O(this,e,t,!1,i)},r.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var a,s=n-i;if(this===e&&i<t&&t<n)for(a=s-1;a>=0;--a)e[a+t]=this[a+i];else if(s<1e3||!r.TYPED_ARRAY_SUPPORT)for(a=0;a<s;++a)e[a+t]=this[a+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+s),t);return s},r.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!r.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var s;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(s=t;s<i;++s)this[s]=e;else{var o=r.isBuffer(e)?e:N(new r(e,n).toString()),l=o.length;for(s=0;s<i-t;++s)this[s+t]=o[s%l]}return this};var j=/[^+\/0-9A-Za-z-_]/g}).call(t,i(5))},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=i(0),r=i(1);t.schema=function(e,t){return void 0!==t&&null!==t&&"object"===(void 0===t?"undefined":n(t))?t.isJoi?t:Array.isArray(t)?e.alternatives().try(t):t instanceof RegExp?e.string().regex(t):t instanceof Date?e.date().valid(t):e.object().keys(t):"string"==typeof t?e.string().valid(t):"number"==typeof t?e.number().valid(t):"boolean"==typeof t?e.boolean().valid(t):r.isRef(t)?e.valid(t):(a.assert(null===t,"Invalid schema content:",t),e.valid(null))},t.ref=function(e){return r.isRef(e)?e:r.create(e)}},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=i(0),r=i(20),s={annotations:Symbol("joi-annotations"),stringify:function(e,i){var a=void 0===e?"undefined":n(e);if(null===e)return"null";if("string"===a)return e;if(e instanceof t.Err||"function"===a||"symbol"===a)return e.toString();if("object"===a){if(Array.isArray(e)){for(var r="",o=0;o<e.length;++o)r=r+(r.length?", ":"")+s.stringify(e[o],i);return i?"["+r+"]":r}return e.toString()}return JSON.stringify(e)}};t.Err=function(){function e(t,i,n,a,s,o,l){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.isJoi=!0,this.type=t,this.context=i||{},this.context.key=n.path[n.path.length-1],this.context.label=n.key,this.path=n.path,this.options=a,this.flags=s,this.message=o,this.template=l;var c=this.options.language;this.flags.label?this.context.label=this.flags.label:!c||""!==this.context.label&&null!==this.context.label||(this.context.label=c.root||r.errors.root)}return e.prototype.toString=function(){var e=this;if(this.message)return this.message;var t=void 0;this.template&&(t=this.template);var i=this.options.language;if(void 0===(t=t||a.reach(i,this.type)||a.reach(r.errors,this.type)))return'Error code "'+this.type+'" is not defined, your custom type is missing the correct language definition';var n=a.reach(i,"messages.wrapArrays");if("boolean"!=typeof n&&(n=r.errors.messages.wrapArrays),null===t){var o=s.stringify(this.context.reason,n);return n?o.slice(1,-1):o}var l=/\{\{\!?label\}\}/.test(t),c=t.length>2&&"!"===t[0]&&"!"===t[1];if(c&&(t=t.slice(2)),!l&&!c){var h=a.reach(i,"key");t="string"==typeof h?h+t:a.reach(r.errors,"key")+t}return t.replace(/\{\{(\!?)([^}]+)\}\}/g,function(t,i,r){var o=a.reach(e.context,r),l=s.stringify(o,n);return i&&e.options.escapeHtml?a.escapeHtml(l):l})},e}(),t.create=function(e,i,n,a,r,s,o){return new t.Err(e,i,n,a,r,s,o)},t.process=function(e,t){if(!e||!e.length)return null;var i="",n=[],a=function e(t,a){for(var r=0;r<t.length;++r){var s=t[r];if(s instanceof Error)return s;if(s.flags.error&&"function"!=typeof s.flags.error)return s.flags.error;var o=void 0;if(void 0===a&&(o=s.toString(),i=i+(i?". ":"")+o),s.context.reason&&s.context.reason.length){var l=e(s.context.reason,s.path);if(l)return l}else n.push({message:o||s.toString(),path:s.path,type:s.type,context:s.context})}}(e);if(a)return a;var r=new Error(i);return r.isJoi=!0,r.name="ValidationError",r.details=n,r._object=t,r.annotate=s.annotate,r},s.safeStringify=function(e,t){return JSON.stringify(e,s.serializer(),t)},s.serializer=function(){var e=[],t=[];return function(i,a){if(t.length>0){var r=t.indexOf(this);~r?(t.length=r+1,e.length=r+1,e[r]=i):(t.push(this),e.push(i)),~t.indexOf(a)&&(a=function(i,n){return t[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(n)).join(".")+"]"}.call(this,i,a))}else t.push(a);if(a){var o=a[s.annotations];if(o){if(Array.isArray(a)){for(var l=[],c=0;c<a.length;++c)o.errors[c]&&l.push("_$idx$_"+o.errors[c].sort().join(", ")+"_$end$_"),l.push(a[c]);a=l}else{for(var h=Object.keys(o.errors),d=0;d<h.length;++d){var u=h[d];a[u+"_$key$_"+o.errors[u].sort().join(", ")+"_$end$_"]=a[u],a[u]=void 0}for(var p=Object.keys(o.missing),f=0;f<p.length;++f){var g=p[f];a["_$miss$_"+g+"|"+o.missing[g]+"_$end$_"]="__missing__"}}return a}}return a===1/0||a===-1/0||Number.isNaN(a)||"function"==typeof a||"symbol"===(void 0===a?"undefined":n(a))?"["+a.toString()+"]":a}},s.annotate=function(e){var t=e?"":"\x1b[31m",i=e?"":"\x1b[41m",r=e?"":"\x1b[0m";if("object"!==n(this._object))return this.details[0].message;for(var o=a.clone(this._object||{}),l=this.details.length-1;l>=0;--l)for(var c=l+1,h=this.details[l],d=h.path,u=o,p=0;;++p){var f=d[p];if(u.isImmutable&&(u=u.clone()),!(p+1<d.length&&u[f]&&"string"!=typeof u[f])){var g=u[s.annotations]=u[s.annotations]||{errors:{},missing:{}},m=u[f],v=f||h.context.label;void 0!==m?(g.errors[v]=g.errors[v]||[],g.errors[v].push(c)):g.missing[v]=c;break}u=u[f]}var b={key:/_\$key\$_([, \d]+)_\$end\$_\"/g,missing:/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,arrayIndex:/\s*\"_\$idx\$_([, \d]+)_\$end\$_\",?\n(.*)/g,specials:/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)\]"/g},w=s.safeStringify(o,2).replace(b.key,function(e,i){return'" '+t+"["+i+"]"+r}).replace(b.missing,function(e,n,a){return i+'"'+n+'"'+r+t+" ["+a+"]: -- missing --"+r}).replace(b.arrayIndex,function(e,i,n){return"\n"+n+" "+t+"["+i+"]"+r}).replace(b.specials,function(e,t){return t});w=w+"\n"+t;for(var y=0;y<this.details.length;++y)w=w+"\n["+(y+1)+"] "+this.details[y].message;return w+=r}},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function a(e){if(c===setTimeout)return setTimeout(e,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function r(){f&&u&&(f=!1,u.length?p=u.concat(p):g=-1,p.length&&s())}function s(){if(!f){var e=a(r);f=!0;for(var t=p.length;t;){for(u=p,p=[];++g<t;)u&&u[g].run();g=-1,t=p.length}u=null,f=!1,function(e){if(h===clearTimeout)return clearTimeout(e);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}(e)}}function o(e,t){this.fun=e,this.array=t}function l(){}var c,h,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(e){c=i}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(e){h=n}}();var u,p=[],f=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new o(e,t)),1!==p.length||f||a(s)},o.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(0),c=i(2),h=i(4),d=i(6),u=i(26),p=i(1),f=i(11),g={alternatives:i(10),array:i(22),boolean:i(24),binary:i(23),date:i(12),func:i(25),number:i(27),object:i(13),string:i(28),callWithDefaults:function(e,t){var i;return l.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(e=this._defaults(e)),e._currentJoi=this,(i=e)._init.apply(i,function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(t))},root:function(){var e=new c,t=e.clone();return c.prototype._currentJoi=t,t._currentJoi=t,t.any=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return l.assert(0===i.length,"Joi.any() does not allow arguments."),g.callWithDefaults.call(this,e,i)},t.alternatives=t.alt=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return g.callWithDefaults.call(this,g.alternatives,t)},t.array=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return l.assert(0===t.length,"Joi.array() does not allow arguments."),g.callWithDefaults.call(this,g.array,t)},t.boolean=t.bool=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return l.assert(0===t.length,"Joi.boolean() does not allow arguments."),g.callWithDefaults.call(this,g.boolean,t)},t.binary=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return l.assert(0===t.length,"Joi.binary() does not allow arguments."),g.callWithDefaults.call(this,g.binary,t)},t.date=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return l.assert(0===t.length,"Joi.date() does not allow arguments."),g.callWithDefaults.call(this,g.date,t)},t.func=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return l.assert(0===t.length,"Joi.func() does not allow arguments."),g.callWithDefaults.call(this,g.func,t)},t.number=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return l.assert(0===t.length,"Joi.number() does not allow arguments."),g.callWithDefaults.call(this,g.number,t)},t.object=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return g.callWithDefaults.call(this,g.object,t)},t.string=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return l.assert(0===t.length,"Joi.string() does not allow arguments."),g.callWithDefaults.call(this,g.string,t)},t.ref=function(){return p.create.apply(p,arguments)},t.isRef=function(e){return p.isRef(e)},t.validate=function(i){var n,a=(n=(arguments.length<=1?0:arguments.length-1)-1+1,arguments.length<=n?void 0:arguments[n]),r="function"==typeof a?a:null,s=(arguments.length<=1?0:arguments.length-1)-(r?1:0);if(0===s)return e.validate(i,r);var o=2===s?arguments.length<=2?void 0:arguments[2]:{};return t.compile(arguments.length<=1?void 0:arguments[1])._validateWithOptions(i,o,r)},t.describe=function(){return(arguments.length?t.compile(arguments.length<=0?void 0:arguments[0]):e).describe()},t.compile=function(e){try{return h.schema(this,e)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}},t.assert=function(e,i,n){t.attempt(e,i,n)},t.attempt=function(e,i,n){var a=t.validate(e,i),r=a.error;if(r){if(!n)throw"function"==typeof r.annotate&&(r.message=r.annotate()),r;if(!(n instanceof Error))throw"function"==typeof r.annotate&&(r.message=n+" "+r.annotate()),r;throw n}return a.value},t.reach=function(e,t){l.assert(e&&e instanceof c,"you must provide a joi schema"),l.assert(Array.isArray(t)||"string"==typeof t,"path must be a string or an array of strings");var i="string"==typeof t?t?t.split("."):[]:t.slice();return function e(t,i){if(!i.length)return t;var n=t._inner.children;if(n)for(var a=i.shift(),r=0;r<n.length;++r){var s=n[r];if(s.key===a)return e(s.schema,i)}}(e,i)},t.lazy=function(e){return u.set(e)},t.defaults=function(e){var t=this;l.assert("function"==typeof e,"Defaults must be a function");var i=Object.create(this.any());return i=e(i),l.assert(i&&i instanceof this.constructor,"defaults() must return a schema"),o(i,this,i.clone()),i._defaults=function(i){return t._defaults&&(i=t._defaults(i),l.assert(i instanceof t.constructor,"defaults() must return a schema")),i=e(i),l.assert(i instanceof t.constructor,"defaults() must return a schema"),i},i},t.extend=function(){for(var e=this,i=arguments.length,u=Array(i),m=0;m<i;m++)u[m]=arguments[m];var v=l.flatten(u);l.assert(v.length>0,"You need to provide at least one extension"),this.assert(v,t.extensionsSchema);var b=Object.create(this.any());o(b,this);for(var w=0;w<v.length;++w)!function(i){var u=v[i];"function"==typeof u&&(u=u(b)),e.assert(u,t.extensionSchema);var m=(u.base||e.any()).clone(),w=m.constructor,y=function(e){function t(){a(this,t);var i=r(this,e.call(this));return u.base&&o(i,m),i._type=u.name,u.language&&(i._settings=f.concat(i._settings,{language:n({},u.name,u.language)})),i}return s(t,e),t}(w);if(u.coerce&&(y.prototype._coerce=function(e,t,i){if(w.prototype._coerce){var n=w.prototype._coerce.call(this,e,t,i);if(n.errors)return n;e=n.value}var a=u.coerce.call(this,e,t,i);return a instanceof d.Err?{value:e,errors:a}:{value:a}}),u.pre&&(y.prototype._base=function(e,t,i){if(w.prototype._base){var n=w.prototype._base.call(this,e,t,i);if(n.errors)return n;e=n.value}var a=u.pre.call(this,e,t,i);return a instanceof d.Err?{value:e,errors:a}:{value:a}}),u.rules)for(var _=0;_<u.rules.length;++_)!function(t){var i=u.rules[t],n=i.params?i.params instanceof c?i.params._inner.children.map(function(e){return e.key}):Object.keys(i.params):[],a=i.params?h.schema(e,i.params):null;y.prototype[i.name]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>n.length)throw new Error("Unexpected number of arguments");for(var s=!1,o={},h=0;h<n.length;++h)o[n[h]]=t[h],!s&&p.isRef(t[h])&&(s=!0);a&&(o=b.attempt(o,a));var d=void 0;if(d=i.validate?this._test(i.name,o,function(e,t,n){return i.validate.call(this,o,e,t,n)},{description:i.description,hasRef:s}):this.clone(),i.setup){var u=i.setup.call(d,o);void 0!==u&&(l.assert(u instanceof c,"Setup of extension Joi."+this._type+"()."+i.name+"() must return undefined or a Joi object"),d=u)}return d}}(_);u.describe&&(y.prototype.describe=function(){var e=w.prototype.describe.call(this);return u.describe.call(this,e)});var x=new y;b[u.name]=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return g.callWithDefaults.call(this,x,t)}}(w);return b},t.extensionSchema=g.object.keys({base:g.object.type(c,"Joi object"),name:g.string.required(),coerce:g.func.arity(3),pre:g.func.arity(3),language:g.object,describe:g.func.arity(1),rules:g.array.items(g.object.keys({name:g.string.required(),setup:g.func.arity(1),validate:g.func.arity(4),params:[g.object.pattern(/.*/,g.object.type(c,"Joi object")),g.object.type(g.object.constructor,"Joi object")],description:[g.string,g.func.arity(1)]}).or("setup","validate"))}).strict(),t.extensionsSchema=g.array.items([g.object,g.func.arity(1)]).strict(),t.version=i(36).version,t}};e.exports=g.root()},function(e,t,i){"use strict";(function(t){function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(1),s={extendedCheckForValue:function(e,i){var n=void 0===e?"undefined":a(e);if("object"===n){if(e instanceof Date)return function(t){return t instanceof Date&&e.getTime()===t.getTime()};if(t.isBuffer(e))return function(i){return t.isBuffer(i)&&e.length===i.length&&e.toString("binary")===i.toString("binary")}}else if(i&&"string"===n){var r=e.toLowerCase();return function(e){return"string"==typeof e&&r===e.toLowerCase()}}return null}};e.exports=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._set=new Set(t),this._hasRef=!1}return e.prototype.add=function(e,t){var i=r.isRef(e);return!i&&this.has(e,null,null,!1)?this:(void 0!==t&&r.push(t,e),this._set.add(e),this._hasRef|=i,this)},e.prototype.merge=function(e,t){var i=!0,n=!1,a=void 0;try{for(var r,s=e._set[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var o=r.value;this.add(o)}}catch(e){n=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw a}}var l=!0,c=!1,h=void 0;try{for(var d,u=t._set[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value;this.remove(p)}}catch(e){c=!0,h=e}finally{try{!l&&u.return&&u.return()}finally{if(c)throw h}}return this},e.prototype.remove=function(e){return this._set.delete(e),this},e.prototype.has=function(e,t,i,n){if(!this._set.size)return!1;var a=this._set.has(e);if(a)return a;var o=s.extendedCheckForValue(e,n);if(!o){if(t&&this._hasRef){var l=!0,c=!1,h=void 0;try{for(var d,u=this._set[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value;if(r.isRef(p)&&(p=p(t.reference||t.parent,i),e===p||Array.isArray(p)&&p.includes(e)))return!0}}catch(e){c=!0,h=e}finally{try{!l&&u.return&&u.return()}finally{if(c)throw h}}}return!1}return this._has(e,t,i,o)},e.prototype._has=function(e,t,i,n){var a=!(!t||!this._hasRef),s=function(t){return e===t||n(t)},o=!0,l=!1,c=void 0;try{for(var h,d=this._set[Symbol.iterator]();!(o=(h=d.next()).done);o=!0){var u=h.value;if(a&&r.isRef(u)&&(u=u(t.reference||t.parent,i),Array.isArray(u))){if(u.find(s))return!0}else if(s(u))return!0}}catch(e){l=!0,c=e}finally{try{!o&&d.return&&d.return()}finally{if(l)throw c}}return!1},e.prototype.values=function(e){if(e&&e.stripUndefined){var t=[],i=!0,n=!1,a=void 0;try{for(var r,s=this._set[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var o=r.value;void 0!==o&&t.push(o)}}catch(e){n=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw a}}return t}return Array.from(this._set)},e.prototype.slice=function(){var t=new e(this._set);return t._hasRef=this._hasRef,t},e.prototype.concat=function(t){var i=new e([].concat(n(this._set),n(t._set)));return i._hasRef=!!(this._hasRef|t._hasRef),i},e}()}).call(t,i(3).Buffer)},function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(0),s=i(2),o=i(4),l=i(1),c={};c.Alternatives=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i._type="alternatives",i._invalids.remove(null),i._inner.matches=[],i}return n(t,e),t.prototype._init=function(){return arguments.length?this.try.apply(this,arguments):this},t.prototype._base=function(e,t,i){for(var n=[],a=this._inner.matches.length,r=this._baseType,s=0;s<a;++s){var o=this._inner.matches[s];if(o.schema){var l=o.schema._validate(e,t,i);if(!l.errors)return l;n=n.concat(l.errors)}else{var c=o.peek||o.is,h=o.is?o.ref(t.reference||t.parent,i):e;if(c._validate(h,null,i,t.parent).errors){if(o.otherwise)return o.otherwise._validate(e,t,i)}else if(o.then)return o.then._validate(e,t,i);if(s===a-1&&r)return r._validate(e,t,i)}}return n.length?{errors:this.createError("alternatives.child",{reason:n},t,i)}:{errors:this.createError("alternatives.base",null,t,i)}},t.prototype.try=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t=r.flatten(t),r.assert(t.length,"Cannot add other alternatives without at least one schema");for(var n=this.clone(),a=0;a<t.length;++a){var s=o.schema(this._currentJoi,t[a]);s._refs.length&&(n._refs=n._refs.concat(s._refs)),n._inner.matches.push({schema:s})}return n},t.prototype.when=function(e,t){var i=!1;r.assert(l.isRef(e)||"string"==typeof e||(i=e instanceof s),"Invalid condition:",e),r.assert(t,"Missing options"),r.assert("object"===(void 0===t?"undefined":a(t)),"Invalid options"),i?r.assert(!t.hasOwnProperty("is"),'"is" can not be used with a schema condition'):r.assert(t.hasOwnProperty("is"),'Missing "is" directive'),r.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var n=this.clone(),c=void 0;i||(c=o.schema(this._currentJoi,t.is),null!==t.is&&(l.isRef(t.is)||t.is instanceof s)||(c=c.required()));var h={ref:i?null:o.ref(e),peek:i?e:null,is:c,then:void 0!==t.then?o.schema(this._currentJoi,t.then):void 0,otherwise:void 0!==t.otherwise?o.schema(this._currentJoi,t.otherwise):void 0};return n._baseType&&(h.then=h.then&&n._baseType.concat(h.then),h.otherwise=h.otherwise&&n._baseType.concat(h.otherwise)),i||(l.push(n._refs,h.ref),n._refs=n._refs.concat(h.is._refs)),h.then&&h.then._refs&&(n._refs=n._refs.concat(h.then._refs)),h.otherwise&&h.otherwise._refs&&(n._refs=n._refs.concat(h.otherwise._refs)),n._inner.matches.push(h),n},t.prototype.describe=function(){for(var e=s.prototype.describe.call(this),t=[],i=0;i<this._inner.matches.length;++i){var n=this._inner.matches[i];if(n.schema)t.push(n.schema.describe());else{var a=n.is?{ref:n.ref.toString(),is:n.is.describe()}:{peek:n.peek.describe()};n.then&&(a.then=n.then.describe()),n.otherwise&&(a.otherwise=n.otherwise.describe()),t.push(a)}}return e.alternatives=t,e},t}(s),e.exports=new c.Alternatives},function(e,t,i){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=i(0);t.concat=function(e,t){if(!t)return e;for(var i=n({},e),r=Object.keys(t),s=0;s<r.length;++s){var o=r[s];"language"===o&&i.hasOwnProperty(o)?i[o]=a.applyToDefaults(i[o],t[o]):i[o]=t[o]}return i}},function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a=i(2),r=i(1),s=i(0),o={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};o.invalidDate=new Date(""),o.isIsoDate=function(){var e=o.isoDate.toString();return function(t){return t&&t.toString()===e}}(),o.Date=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i._type="date",i}return n(t,e),t.prototype._base=function(e,t,i){var n={value:i.convert&&o.Date.toDate(e,this._flags.format,this._flags.timestamp,this._flags.multiplier)||e};if(n.value instanceof Date&&!isNaN(n.value.getTime()))n.errors=null;else if(i.convert){var a=void 0;a=o.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?"timestamp."+this._flags.timestamp:"base",n.errors=this.createError("date."+a,null,t,i)}else n.errors=this.createError("date.strict",null,t,i);return n},t.toDate=function(e,t,i,n){if(e instanceof Date)return e;if("string"==typeof e||"number"==typeof e&&!isNaN(e)&&isFinite(e)){"string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e));var a=void 0;if(a=t&&o.isIsoDate(t)?t.test(e)?new Date(e):o.invalidDate:i&&n?/^\s*$/.test(e)?o.invalidDate:new Date(e*n):new Date(e),!isNaN(a.getTime()))return a}return null},t.prototype.iso=function(){if(this._flags.format===o.isoDate)return this;var e=this.clone();return e._flags.format=o.isoDate,e},t.prototype.timestamp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript",t=["javascript","unix"];if(s.assert(t.includes(e),'"type" must be one of "'+t.join('", "')+'"'),this._flags.timestamp===e)return this;var i=this.clone();return i._flags.timestamp=e,i._flags.multiplier="unix"===e?1e3:1,i},t.prototype._isIsoDate=function(e){return o.isoDate.test(e)},t}(a),o.compare=function(e,t){return function(i){var n="now"===i,a=r.isRef(i);return n||a||(i=o.Date.toDate(i)),s.assert(i,"Invalid date format"),this._test(e,i,function(r,s,l){var c=void 0;if(n)c=Date.now();else if(a){if(!(c=o.Date.toDate(i(s.reference||s.parent,l))))return this.createError("date.ref",{ref:i.key},s,l);c=c.getTime()}else c=i.getTime();return t(r.getTime(),c)?r:this.createError("date."+e,{limit:new Date(c)},s,l)})}},o.Date.prototype.min=o.compare("min",function(e,t){return e>=t}),o.Date.prototype.max=o.compare("max",function(e,t){return e<=t}),o.Date.prototype.greater=o.compare("greater",function(e,t){return e>t}),o.Date.prototype.less=o.compare("less",function(e,t){return e<t}),e.exports=new o.Date},function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(0),s=i(31),o=i(2),l=i(6),c=i(4),h={};h.Object=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i._type="object",i._inner.children=null,i._inner.renames=[],i._inner.dependencies=[],i._inner.patterns=[],i}return n(t,e),t.prototype._init=function(){return arguments.length?this.keys.apply(this,arguments):this},t.prototype._base=function(e,t,i){var n=e,s=[],o=function(){return{value:n,errors:s.length?s:null}};"string"==typeof e&&i.convert&&(e=h.safeParse(e));var c=this._flags.func?"function":"object";if(!e||(void 0===e?"undefined":a(e))!==c||Array.isArray(e))return s.push(this.createError(c+".base",null,t,i)),o();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return n=e,o();if(n===e){"object"===c?n=Object.create(Object.getPrototypeOf(e)):(n=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e.apply(this,i)}).prototype=r.clone(e.prototype);for(var d=Object.keys(e),u=0;u<d.length;++u)n[d[u]]=e[d[u]]}else n=e;for(var p={},f=0;f<this._inner.renames.length;++f){var g=this._inner.renames[f];if(g.isRegExp){for(var m=Object.keys(n),v=[],b=0;b<m.length;++b)g.from.test(m[b])&&v.push(m[b]);var w=v.every(function(e){return void 0===n[e]});if(g.options.ignoreUndefined&&w)continue;if(!g.options.multiple&&p[g.to]&&(s.push(this.createError("object.rename.regex.multiple",{from:v,to:g.to},t,i)),i.abortEarly))return o();if(Object.prototype.hasOwnProperty.call(n,g.to)&&!g.options.override&&!p[g.to]&&(s.push(this.createError("object.rename.regex.override",{from:v,to:g.to},t,i)),i.abortEarly))return o();if(w?delete n[g.to]:n[g.to]=n[v[v.length-1]],p[g.to]=!0,!g.options.alias)for(var y=0;y<v.length;++y)delete n[v[y]]}else{if(g.options.ignoreUndefined&&void 0===n[g.from])continue;if(!g.options.multiple&&p[g.to]&&(s.push(this.createError("object.rename.multiple",{from:g.from,to:g.to},t,i)),i.abortEarly))return o();if(Object.prototype.hasOwnProperty.call(n,g.to)&&!g.options.override&&!p[g.to]&&(s.push(this.createError("object.rename.override",{from:g.from,to:g.to},t,i)),i.abortEarly))return o();void 0===n[g.from]?delete n[g.to]:n[g.to]=n[g.from],p[g.to]=!0,g.options.alias||delete n[g.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return o();var _=new Set(Object.keys(n));if(this._inner.children){for(var x=[],C=0;C<this._inner.children.length;++C){var S=this._inner.children[C],T=S.key,k=n[T];_.delete(T);var A={key:T,path:t.path.concat(T),parent:n,reference:t.reference},P=S.schema._validate(k,A,i);if(P.errors){if(s.push(this.createError("object.child",{key:T,child:S.schema._getLabel(T),reason:P.errors},A,i)),i.abortEarly)return o()}else S.schema._flags.strip||void 0===P.value&&P.value!==k?(x.push(T),n[T]=P.finalValue):void 0!==P.value&&(n[T]=P.value)}for(var D=0;D<x.length;++D)delete n[x[D]]}if(_.size&&this._inner.patterns.length){var E=!0,M=!1,I=void 0;try{for(var O,L=_[Symbol.iterator]();!(E=(O=L.next()).done);E=!0)for(var N=O.value,R={key:N,path:t.path.concat(N),parent:n,reference:t.reference},$=n[N],B=0;B<this._inner.patterns.length;++B){var V=this._inner.patterns[B];if(V.regex?V.regex.test(N):!V.schema.validate(N).error){_.delete(N);var F=V.rule._validate($,R,i);if(F.errors&&(s.push(this.createError("object.child",{key:N,child:V.rule._getLabel(N),reason:F.errors},R,i)),i.abortEarly))return o();n[N]=F.value}}}catch(ie){M=!0,I=ie}finally{try{!E&&L.return&&L.return()}finally{if(M)throw I}}}if(_.size&&(this._inner.children||this._inner.patterns.length)){if(i.stripUnknown&&!0!==this._flags.allowUnknown||i.skipFunctions){var H=!!i.stripUnknown&&(!0===i.stripUnknown||!!i.stripUnknown.objects),j=!0,z=!1,U=void 0;try{for(var W,G=_[Symbol.iterator]();!(j=(W=G.next()).done);j=!0){var Y=W.value;H?(delete n[Y],_.delete(Y)):"function"==typeof n[Y]&&_.delete(Y)}}catch(ie){z=!0,U=ie}finally{try{!j&&G.return&&G.return()}finally{if(z)throw U}}}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!i.allowUnknown){var q=!0,Q=!1,J=void 0;try{for(var Z,X=_[Symbol.iterator]();!(q=(Z=X.next()).done);q=!0){var K=Z.value;s.push(this.createError("object.allowUnknown",{child:K},{key:K,path:t.path.concat(K)},i,{}))}}catch(ie){Q=!0,J=ie}finally{try{!q&&X.return&&X.return()}finally{if(Q)throw J}}}}for(var ee=0;ee<this._inner.dependencies.length;++ee){var te=this._inner.dependencies[ee],ie=h[te.type].call(this,null!==te.key&&n[te.key],te.peers,n,{key:te.key,path:null===te.key?t.path:t.path.concat(te.key)},i);if(ie instanceof l.Err&&(s.push(ie),i.abortEarly))return o()}return o()},t.prototype.keys=function(e){r.assert(null===e||void 0===e||"object"===(void 0===e?"undefined":a(e)),"Object schema must be a valid object"),r.assert(!(e&&e instanceof o),"Object schema cannot be a joi schema");var t=this.clone();if(!e)return t._inner.children=null,t;var i=Object.keys(e);if(!i.length)return t._inner.children=[],t;var n=new s;if(t._inner.children)for(var l=0;l<t._inner.children.length;++l){var h=t._inner.children[l];i.includes(h.key)||n.add(h,{after:h._refs,group:h.key})}for(var d=0;d<i.length;++d){var u=i[d],p=e[u];try{var f=c.schema(this._currentJoi,p);n.add({key:u,schema:f},{after:f._refs,group:u})}catch(e){throw e.hasOwnProperty("path")?e.path=u+"."+e.path:e.path=u,e}}return t._inner.children=n.nodes,t},t.prototype.append=function(e){return null===e||void 0===e||0===Object.keys(e).length?this:this.keys(e)},t.prototype.unknown=function(e){var t=!1!==e;if(this._flags.allowUnknown===t)return this;var i=this.clone();return i._flags.allowUnknown=t,i},t.prototype.length=function(e){return r.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,i,n){return Object.keys(t).length===e?t:this.createError("object.length",{limit:e},i,n)})},t.prototype.min=function(e){return r.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,i,n){return Object.keys(t).length>=e?t:this.createError("object.min",{limit:e},i,n)})},t.prototype.max=function(e){return r.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,i,n){return Object.keys(t).length<=e?t:this.createError("object.max",{limit:e},i,n)})},t.prototype.pattern=function(e,t){var i=e instanceof RegExp;r.assert(i||e instanceof o,"pattern must be a regex or schema"),r.assert(void 0!==t,"Invalid rule"),i&&(e=new RegExp(e.source,e.ignoreCase?"i":void 0));try{t=c.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}var n=this.clone();return i?n._inner.patterns.push({regex:e,rule:t}):n._inner.patterns.push({schema:e,rule:t}),n},t.prototype.schema=function(){return this._test("schema",null,function(e,t,i){return e instanceof o?e:this.createError("object.schema",null,t,i)})},t.prototype.with=function(e,t){return r.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("with",e,t)},t.prototype.without=function(e,t){return r.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("without",e,t)},t.prototype.xor=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t=r.flatten(t),this._dependency("xor",null,t)},t.prototype.or=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t=r.flatten(t),this._dependency("or",null,t)},t.prototype.and=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t=r.flatten(t),this._dependency("and",null,t)},t.prototype.nand=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t=r.flatten(t),this._dependency("nand",null,t)},t.prototype.requiredKeys=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t=r.flatten(t),this.applyFunctionToChildren(t,"required")},t.prototype.optionalKeys=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t=r.flatten(t),this.applyFunctionToChildren(t,"optional")},t.prototype.forbiddenKeys=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t=r.flatten(t),this.applyFunctionToChildren(t,"forbidden")},t.prototype.rename=function(e,t,i){r.assert("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),r.assert("string"==typeof t,"Rename missing the to argument"),r.assert(t!==e,"Cannot rename key to same name:",e);for(var n=0;n<this._inner.renames.length;++n)r.assert(this._inner.renames[n].from!==e,"Cannot rename the same key multiple times");var a=this.clone();return a._inner.renames.push({from:e,to:t,options:r.applyToDefaults(h.renameDefaults,i||{}),isRegExp:e instanceof RegExp}),a},t.prototype.applyFunctionToChildren=function(e,t,i,n){e=[].concat(e),r.assert(e.length>0,"expected at least one children");var a=h.groupChildren(e),s=void 0;if(""in a?(s=this[t].apply(this,i),delete a[""]):s=this.clone(),s._inner.children){n=n?n+".":"";for(var o=0;o<s._inner.children.length;++o){var l=s._inner.children[o],c=a[l.key];c&&(s._inner.children[o]={key:l.key,_refs:l._refs,schema:l.schema.applyFunctionToChildren(c,t,i,n+l.key)},delete a[l.key])}}var d=Object.keys(a);return r.assert(0===d.length,"unknown key(s)",d.join(", ")),s},t.prototype._dependency=function(e,t,i){i=[].concat(i);for(var n=0;n<i.length;++n)r.assert("string"==typeof i[n],e,"peers must be a string or array of strings");var a=this.clone();return a._inner.dependencies.push({type:e,key:t,peers:i}),a},t.prototype.describe=function(e){var t=o.prototype.describe.call(this);if(t.rules)for(var i=0;i<t.rules.length;++i){var n=t.rules[i];n.arg&&"object"===a(n.arg)&&n.arg.schema&&n.arg.ref&&(n.arg={schema:n.arg.schema.describe(),ref:n.arg.ref.toString()})}if(this._inner.children&&!e){t.children={};for(var s=0;s<this._inner.children.length;++s){var l=this._inner.children[s];t.children[l.key]=l.schema.describe()}}if(this._inner.dependencies.length&&(t.dependencies=r.clone(this._inner.dependencies)),this._inner.patterns.length){t.patterns=[];for(var c=0;c<this._inner.patterns.length;++c){var h=this._inner.patterns[c];h.regex?t.patterns.push({regex:h.regex.toString(),rule:h.rule.describe()}):t.patterns.push({schema:h.schema.describe(),rule:h.rule.describe()})}}return this._inner.renames.length>0&&(t.renames=r.clone(this._inner.renames)),t},t.prototype.assert=function(e,t,i){e=c.ref(e),r.assert(e.isContext||e.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),i=i||"pass the assertion test";try{t=c.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}var n=e.path[e.path.length-1],a=e.path.join(".");return this._test("assert",{schema:t,ref:e},function(s,o,l){if(!t._validate(e(s),null,l,s).errors)return s;var c=r.merge({},o);return c.key=n,c.path=e.path,this.createError("object.assert",{ref:a,message:i},c,l)})},t.prototype.type=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name;r.assert("function"==typeof e,"type must be a constructor function");var i={name:t,ctor:e};return this._test("type",i,function(t,n,a){return t instanceof e?t:this.createError("object.type",{type:i.name},n,a)})},t}(o),h.safeParse=function(e){try{return JSON.parse(e)}catch(e){}return e},h.renameDefaults={alias:!1,multiple:!1,override:!1},h.groupChildren=function(e){e.sort();for(var t={},i=0;i<e.length;++i){var n=e[i];r.assert("string"==typeof n,"children must be strings");var a=n.split(".")[0];(t[a]=t[a]||[]).push(n.substring(a.length+1))}return t},h.keysToLabels=function(e,t){var i=e._inner.children;if(!i)return t;var n=function(e){var t=i.find(function(t){return t.key===e});return t?t.schema._getLabel(e):e};return Array.isArray(t)?t.map(n):n(t)},h.with=function(e,t,i,n,a){if(void 0===e)return e;for(var r=0;r<t.length;++r){var s=t[r];if(!Object.prototype.hasOwnProperty.call(i,s)||void 0===i[s])return this.createError("object.with",{main:n.key,mainWithLabel:h.keysToLabels(this,n.key),peer:s,peerWithLabel:h.keysToLabels(this,s)},n,a)}return e},h.without=function(e,t,i,n,a){if(void 0===e)return e;for(var r=0;r<t.length;++r){var s=t[r];if(Object.prototype.hasOwnProperty.call(i,s)&&void 0!==i[s])return this.createError("object.without",{main:n.key,mainWithLabel:h.keysToLabels(this,n.key),peer:s,peerWithLabel:h.keysToLabels(this,s)},n,a)}return e},h.xor=function(e,t,i,n,a){for(var r=[],s=0;s<t.length;++s){var o=t[s];Object.prototype.hasOwnProperty.call(i,o)&&void 0!==i[o]&&r.push(o)}if(1===r.length)return e;var l={peers:t,peersWithLabels:h.keysToLabels(this,t)};return 0===r.length?this.createError("object.missing",l,n,a):this.createError("object.xor",l,n,a)},h.or=function(e,t,i,n,a){for(var r=0;r<t.length;++r){var s=t[r];if(Object.prototype.hasOwnProperty.call(i,s)&&void 0!==i[s])return e}return this.createError("object.missing",{peers:t,peersWithLabels:h.keysToLabels(this,t)},n,a)},h.and=function(e,t,i,n,a){for(var r=[],s=[],o=t.length,l=0;l<o;++l){var c=t[l];Object.prototype.hasOwnProperty.call(i,c)&&void 0!==i[c]?s.push(c):r.push(c)}if(r.length!==o&&s.length!==o)return this.createError("object.and",{present:s,presentWithLabels:h.keysToLabels(this,s),missing:r,missingWithLabels:h.keysToLabels(this,r)},n,a)},h.nand=function(e,t,i,n,a){for(var s=[],o=0;o<t.length;++o){var l=t[o];Object.prototype.hasOwnProperty.call(i,l)&&void 0!==i[l]&&s.push(l)}var c=r.clone(t),d=c.splice(0,1)[0];return s.length===t.length?this.createError("object.nand",{main:d,mainWithLabel:h.keysToLabels(this,d),peers:c,peersWithLabels:h.keysToLabels(this,c)},n,a):null},e.exports=new h.Object},function(e,t,i){"use strict";var n={rfc3986:{},generate:function(){var e="|";n.rfc3986.ipv4Cidr="[0-9]|[1-2][0-9]|3[0-2]",n.rfc3986.ipv6Cidr="(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])";var t="a-zA-Z0-9-\\._~",i="!\\$&'\\(\\)\\*\\+,;=",a=t+"%0-9A-Fa-f"+i+":@",r="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";n.rfc3986.IPv4address="(?:"+r+"\\.){3}"+r;var s="[0-9A-Fa-f]{1,4}",o="(?:"+s+":"+s+"|"+n.rfc3986.IPv4address+")",l="(?:"+s+":){6}"+o,c="::(?:"+s+":){5}"+o,h="(?:"+s+")?::(?:"+s+":){4}"+o,d="(?:(?:"+s+":){0,1}"+s+")?::(?:"+s+":){3}"+o,u="(?:(?:"+s+":){0,2}"+s+")?::(?:"+s+":){2}"+o,p="(?:(?:"+s+":){0,3}"+s+")?::"+s+":"+o,f="(?:(?:"+s+":){0,4}"+s+")?::"+o;n.rfc3986.IPv6address="(?:"+l+e+c+e+h+e+d+e+u+e+p+e+f+e+"(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}"+e+"(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)",n.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.["+t+i+":]+",n.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";var g="\\[(?:"+n.rfc3986.IPv6address+e+n.rfc3986.IPvFuture+")\\]",m="(?:"+g+e+n.rfc3986.IPv4address+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=]{0,255})",v="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:]*@)?"+m+"(?::[0-9]*)?",b="(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",w="\\/(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+"+b+")?";n.rfc3986.hierPart="(?:(?:\\/\\/"+v+b+")"+e+w+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*)",n.rfc3986.relativeRef="(?:(?:\\/\\/"+v+b+")"+e+w+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*"+e+")",n.rfc3986.query="["+a+"\\/\\?]*(?=#|$)",n.rfc3986.fragment="["+a+"\\/\\?]*"}};n.generate(),e.exports=n.rfc3986},function(e,t){},function(e,t,i){(function(e,n){function a(e,i){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),u(i)?n.showHidden=i:i&&t._extend(n,i),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=r),o(n,e,n.depth)}function r(e,t){var i=a.styles[t];return i?"\x1b["+a.colors[i][0]+"m"+e+"\x1b["+a.colors[i][1]+"m":e}function s(e,t){return e}function o(e,i,n){if(e.customInspect&&i&&_(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var a=i.inspect(n,e);return g(a)||(a=o(e,a,n)),a}var r=l(e,i);if(r)return r;var s=Object.keys(i),u=function(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(i)),y(i)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(i);if(0===s.length){if(_(i)){var p=i.name?": "+i.name:"";return e.stylize("[Function"+p+"]","special")}if(v(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(w(i))return e.stylize(Date.prototype.toString.call(i),"date");if(y(i))return c(i)}var f,m="",b=!1,x=["{","}"];return d(i)&&(b=!0,x=["[","]"]),_(i)&&(m=" [Function"+(i.name?": "+i.name:"")+"]"),v(i)&&(m=" "+RegExp.prototype.toString.call(i)),w(i)&&(m=" "+Date.prototype.toUTCString.call(i)),y(i)&&(m=" "+c(i)),0!==s.length||b&&0!=i.length?n<0?v(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),f=b?function(e,t,i,n,a){for(var r=[],s=0,o=t.length;s<o;++s)S(t,String(s))?r.push(h(e,t,i,n,String(s),!0)):r.push("");return a.forEach(function(a){a.match(/^\d+$/)||r.push(h(e,t,i,n,a,!0))}),r}(e,i,n,u,s):s.map(function(t){return h(e,i,n,u,t,b)}),e.seen.pop(),function(e,t,i){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}(f,m,x)):x[0]+m+x[1]}function l(e,t){if(m(t))return e.stylize("undefined","undefined");if(g(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return f(t)?e.stylize(""+t,"number"):u(t)?e.stylize(""+t,"boolean"):p(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,i,n,a,r){var s,l,c;if((c=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?l=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(l=e.stylize("[Setter]","special")),S(n,a)||(s="["+a+"]"),l||(e.seen.indexOf(c.value)<0?(l=p(i)?o(e,c.value,null):o(e,c.value,i-1)).indexOf("\n")>-1&&(l=r?l.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+l.split("\n").map(function(e){return"   "+e}).join("\n")):l=e.stylize("[Circular]","special")),m(s)){if(r&&a.match(/^\d+$/))return l;(s=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+l}function d(e){return Array.isArray(e)}function u(e){return"boolean"==typeof e}function p(e){return null===e}function f(e){return"number"==typeof e}function g(e){return"string"==typeof e}function m(e){return void 0===e}function v(e){return b(e)&&"[object RegExp]"===x(e)}function b(e){return"object"==typeof e&&null!==e}function w(e){return b(e)&&"[object Date]"===x(e)}function y(e){return b(e)&&("[object Error]"===x(e)||e instanceof Error)}function _(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var T=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(a(arguments[i]));return t.join(" ")}for(var i=1,n=arguments,r=n.length,s=String(e).replace(T,function(e){if("%%"===e)return"%";if(i>=r)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e}}),o=n[i];i<r;o=n[++i])p(o)||!b(o)?s+=" "+o:s+=" "+a(o);return s},t.deprecate=function(i,a){if(m(e.process))return function(){return t.deprecate(i,a).apply(this,arguments)};if(!0===n.noDeprecation)return i;var r=!1;return function(){if(!r){if(n.throwDeprecation)throw new Error(a);n.traceDeprecation?console.trace(a):console.error(a),r=!0}return i.apply(this,arguments)}};var k,A={};t.debuglog=function(e){if(m(k)&&(k=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!A[e])if(new RegExp("\\b"+e+"\\b","i").test(k)){var i=n.pid;A[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else A[e]=function(){};return A[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=u,t.isNull=p,t.isNullOrUndefined=function(e){return null==e},t.isNumber=f,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=v,t.isObject=b,t.isDate=w,t.isError=y,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i(40);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=i(39),t._extend=function(e,t){if(!t||!b(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}}).call(t,i(5),i(7))},function(e,t,i){"use strict";(function(t){function n(e,t){if(e===t)return 0;for(var i=e.length,n=t.length,a=0,r=Math.min(i,n);a<r;++a)if(e[a]!==t[a]){i=e[a],n=t[a];break}return i<n?-1:n<i?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function r(e){return Object.prototype.toString.call(e)}function s(e){return!a(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function o(e){if(m.isFunction(e)){if(w)return e.name;var t=e.toString(),i=t.match(_);return i&&i[1]}}function l(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(w||!m.isFunction(e))return m.inspect(e);var t=o(e);return"[Function"+(t?": "+t:"")+"]"}function h(e,t,i,n,a){throw new y.AssertionError({message:i,actual:e,expected:t,operator:n,stackStartFunction:a})}function d(e,t){e||h(e,!0,t,"==",y.ok)}function u(e,t,i,o){if(e===t)return!0;if(a(e)&&a(t))return 0===n(e,t);if(m.isDate(e)&&m.isDate(t))return e.getTime()===t.getTime();if(m.isRegExp(e)&&m.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(s(e)&&s(t)&&r(e)===r(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var l=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==l&&l===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,i,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(m.isPrimitive(e)||m.isPrimitive(t))return e===t;if(i&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var a=p(e),r=p(t);if(a&&!r||!a&&r)return!1;if(a)return e=b.call(e),t=b.call(t),u(e,t,i);var s,o,l=x(e),c=x(t);if(l.length!==c.length)return!1;for(l.sort(),c.sort(),o=l.length-1;o>=0;o--)if(l[o]!==c[o])return!1;for(o=l.length-1;o>=0;o--)if(s=l[o],!u(e[s],t[s],i,n))return!1;return!0}(e,t,i,o))}return i?e===t:e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function f(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function g(e,t,i,n){var a;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof i&&(n=i,i=null),a=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),e&&!a&&h(a,i,"Missing expected exception"+n);var r="string"==typeof n,s=!e&&m.isError(a),o=!e&&a&&!i;if((s&&r&&f(a,i)||o)&&h(a,i,"Got unwanted exception"+n),e&&a&&i&&!f(a,i)||!e&&a)throw a}var m=i(16),v=Object.prototype.hasOwnProperty,b=Array.prototype.slice,w="foo"===function(){}.name,y=e.exports=d,_=/\s*function\s+([^\(\s]*)\s*/;y.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return l(c(e.actual),128)+" "+e.operator+" "+l(c(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||h;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var i=new Error;if(i.stack){var n=i.stack,a=o(t),r=n.indexOf("\n"+a);if(r>=0){var s=n.indexOf("\n",r+1);n=n.substring(s+1)}this.stack=n}}},m.inherits(y.AssertionError,Error),y.fail=h,y.ok=d,y.equal=function(e,t,i){e!=t&&h(e,t,i,"==",y.equal)},y.notEqual=function(e,t,i){e==t&&h(e,t,i,"!=",y.notEqual)},y.deepEqual=function(e,t,i){u(e,t,!1)||h(e,t,i,"deepEqual",y.deepEqual)},y.deepStrictEqual=function(e,t,i){u(e,t,!0)||h(e,t,i,"deepStrictEqual",y.deepStrictEqual)},y.notDeepEqual=function(e,t,i){u(e,t,!1)&&h(e,t,i,"notDeepEqual",y.notDeepEqual)},y.notDeepStrictEqual=function e(t,i,n){u(t,i,!0)&&h(t,i,n,"notDeepStrictEqual",e)},y.strictEqual=function(e,t,i){e!==t&&h(e,t,i,"===",y.strictEqual)},y.notStrictEqual=function(e,t,i){e===t&&h(e,t,i,"!==",y.notStrictEqual)},y.throws=function(e,t,i){g(!0,e,t,i)},y.doesNotThrow=function(e,t,i){g(!1,e,t,i)},y.ifError=function(e){if(e)throw e};var x=Object.keys||function(e){var t=[];for(var i in e)v.call(e,i)&&t.push(i);return t}}).call(t,i(5))},function(e,t,i){"use strict";(function(e){var i={};t.escapeJavaScript=function(e){if(!e)return"";for(var t="",n=0;n<e.length;++n){var a=e.charCodeAt(n);i.isSafe(a)?t+=e[n]:t+=i.escapeJavaScriptChar(a)}return t},t.escapeHtml=function(e){if(!e)return"";for(var t="",n=0;n<e.length;++n){var a=e.charCodeAt(n);i.isSafe(a)?t+=e[n]:t+=i.escapeHtmlChar(a)}return t},t.escapeJson=function(e){if(!e)return"";var t=void 0;return e.replace(/[<>&\u2028\u2029]/g,function(e){return 60===(t=e.charCodeAt(0))?"\\u003c":62===t?"\\u003e":38===t?"\\u0026":8232===t?"\\u2028":"\\u2029"})},i.escapeJavaScriptChar=function(t){if(t>=256)return"\\u"+i.padLeft(""+t,4);var n=e.from(String.fromCharCode(t),"ascii").toString("hex");return"\\x"+i.padLeft(n,2)},i.escapeHtmlChar=function(t){var n=i.namedHtml[t];if(void 0!==n)return n;if(t>=256)return"&#"+t+";";var a=e.from(String.fromCharCode(t),"ascii").toString("hex");return"&#x"+i.padLeft(a,2)+";"},i.padLeft=function(e,t){for(;e.length<t;)e="0"+e;return e},i.isSafe=function(e){return void 0!==i.safeCharCodes[e]},i.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},i.safeCharCodes=function(){for(var e={},t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()}).call(t,i(3).Buffer)},function(e,t,i){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=i(38),r={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,undesiredNonAscii:25,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};r.specials=function(){var e='()<>[]:;@\\,."',t=new Array(256);t.fill(!1);for(var i=0;i<e.length;++i)t[e.codePointAt(i)]=!0;return function(e){return t[e]}}(),r.c0Controls=function(){var e=new Array(256);e.fill(!1);for(var t=0;t<33;++t)e[t]=!0;return function(t){return e[t]}}(),r.c1Controls=function(){var e=new Array(256);e.fill(!1);for(var t=127;t<160;++t)e[t]=!0;return function(t){return e[t]}}(),r.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},r.normalizeSupportsNul="\0"==="\0".normalize("NFC"),r.nulNormalize=function(e){return e.split("\0").map(function(e){return e.normalize("NFC")}).join("\0")},r.normalize=function(e){return!r.normalizeSupportsNul&&e.indexOf("\0")>=0?r.nulNormalize(e):e.normalize("NFC")},r.checkIpV6=function(e){return e.every(function(e){return r.regex.ipV6.test(e)})},r.validDomain=function(e,t){return t.tldBlacklist?Array.isArray(t.tldBlacklist)?-1===r.indexOf.call(t.tldBlacklist,e):!r.hasOwn.call(t.tldBlacklist,e):Array.isArray(t.tldWhitelist)?-1!==r.indexOf.call(t.tldWhitelist,e):r.hasOwn.call(t.tldWhitelist,e)},t.validate=r.validate=function(t,i,s){i=i||{},t=r.normalize(t),"function"==typeof i&&(s=i,i={}),"function"!=typeof s&&(s=null);var o=void 0,l=void 0;if("number"==typeof i.errorLevel?(o=!0,l=i.errorLevel):(o=!!i.errorLevel,l=r.diagnoses.valid),i.tldWhitelist)if("string"==typeof i.tldWhitelist)i.tldWhitelist=[i.tldWhitelist];else if("object"!==n(i.tldWhitelist))throw new TypeError("expected array or object tldWhitelist");if(i.tldBlacklist)if("string"==typeof i.tldBlacklist)i.tldBlacklist=[i.tldBlacklist];else if("object"!==n(i.tldBlacklist))throw new TypeError("expected array or object tldBlacklist");if(i.minDomainAtoms&&(i.minDomainAtoms!==(0|+i.minDomainAtoms)||i.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");var c=r.diagnoses.valid,h=function(e){e>c&&(c=e)};void 0!==i.allowUnicode&&!i.allowUnicode&&/[^\x00-\x7f]/.test(t)&&h(r.diagnoses.undesiredNonAscii);for(var d={now:r.components.localpart,prev:r.components.localpart,stack:[r.components.localpart]},u="",p={local:"",domain:""},f={locals:[""],domains:[""]},g=0,m=0,v=0,b=void 0,w=!1,y=!1,_=t.length,x=void 0,C=0;C<_;C+=x.length){switch(x=String.fromCodePoint(t.codePointAt(C)),d.now){case r.components.localpart:switch(x){case"(":0===m?h(0===g?r.diagnoses.cfwsComment:r.diagnoses.deprecatedComment):(h(r.diagnoses.cfwsComment),y=!0),d.stack.push(d.now),d.now=r.components.contextComment;break;case".":0===m?h(0===g?r.diagnoses.errDotStart:r.diagnoses.errConsecutiveDots):(y&&h(r.diagnoses.deprecatedLocalPart),y=!1,m=0,++g,p.local+=x,f.locals[g]="");break;case'"':0===m?(h(0===g?r.diagnoses.rfc5321QuotedString:r.diagnoses.deprecatedLocalPart),p.local+=x,f.locals[g]+=x,m+=e.byteLength(x,"utf8"),y=!0,d.stack.push(d.now),d.now=r.components.contextQuotedString):h(r.diagnoses.errExpectingATEXT);break;case"\r":if(_===++C||"\n"!==t[C]){h(r.diagnoses.errCRNoLF);break}case" ":case"\t":0===m?h(0===g?r.diagnoses.cfwsFWS:r.diagnoses.deprecatedFWS):y=!0,d.stack.push(d.now),d.now=r.components.contextFWS,u=x;break;case"@":if(1!==d.stack.length)throw new Error("unexpected item on context stack");0===p.local.length?h(r.diagnoses.errNoLocalPart):0===m?h(r.diagnoses.errDotEnd):e.byteLength(p.local,"utf8")>64?h(r.diagnoses.rfc5322LocalTooLong):d.prev!==r.components.contextComment&&d.prev!==r.components.contextFWS||h(r.diagnoses.deprecatedCFWSNearAt),d.now=r.components.domain,d.stack[0]=r.components.domain,g=0,m=0,y=!1;break;default:if(y)switch(d.prev){case r.components.contextComment:case r.components.contextFWS:h(r.diagnoses.errATEXTAfterCFWS);break;case r.components.contextQuotedString:h(r.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+d.prev)}else d.prev=d.now,b=x.codePointAt(0),(r.specials(b)||r.c0Controls(b)||r.c1Controls(b))&&h(r.diagnoses.errExpectingATEXT),p.local+=x,f.locals[g]+=x,m+=e.byteLength(x,"utf8")}break;case r.components.domain:switch(x){case"(":0===m?h(0===g?r.diagnoses.deprecatedCFWSNearAt:r.diagnoses.deprecatedComment):(y=!0,h(r.diagnoses.cfwsComment)),d.stack.push(d.now),d.now=r.components.contextComment;break;case".":var S=a.encode(f.domains[g]).length;0===m?h(0===g?r.diagnoses.errDotStart:r.diagnoses.errConsecutiveDots):w?h(r.diagnoses.errDomainHyphenEnd):S>63&&h(r.diagnoses.rfc5322LabelTooLong),y=!1,m=0,++g,f.domains[g]="",p.domain+=x;break;case"[":0===p.domain.length?(y=!0,m+=e.byteLength(x,"utf8"),d.stack.push(d.now),d.now=r.components.literal,p.domain+=x,f.domains[g]+=x,p.literal=""):h(r.diagnoses.errExpectingATEXT);break;case"\r":if(_===++C||"\n"!==t[C]){h(r.diagnoses.errCRNoLF);break}case" ":case"\t":0===m?h(0===g?r.diagnoses.deprecatedCFWSNearAt:r.diagnoses.deprecatedFWS):(h(r.diagnoses.cfwsFWS),y=!0),d.stack.push(d.now),d.now=r.components.contextFWS,u=x;break;default:if(y)switch(d.prev){case r.components.contextComment:case r.components.contextFWS:h(r.diagnoses.errATEXTAfterCFWS);break;case r.components.literal:h(r.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+d.prev)}b=x.codePointAt(0),w=!1,r.specials(b)||r.c0Controls(b)||r.c1Controls(b)?h(r.diagnoses.errExpectingATEXT):"-"===x?(0===m&&h(r.diagnoses.errDomainHyphenStart),w=!0):(b<48||b>122&&b<192||b>57&&b<65||b>90&&b<97)&&h(r.diagnoses.rfc5322Domain),p.domain+=x,f.domains[g]+=x,m+=e.byteLength(x,"utf8")}break;case r.components.literal:switch(x){case"]":if(c<r.categories.deprecated){var T=-1,k=p.literal,A=r.regex.ipV4.exec(k);if(A&&0!==(T=A.index)&&(k=k.slice(0,T)+"0:0"),0===T)h(r.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==k.slice(0,5).toLowerCase())h(r.diagnoses.rfc5322DomainLiteral);else{var P=k.slice(5),D=r.maxIPv6Groups,E=P.split(":");~(T=P.indexOf("::"))?T!==P.lastIndexOf("::")?h(r.diagnoses.rfc5322IPv62x2xColon):(0!==T&&T!==P.length-2||++D,E.length>D?h(r.diagnoses.rfc5322IPv6MaxGroups):E.length===D&&h(r.diagnoses.deprecatedIPv6)):E.length!==D&&h(r.diagnoses.rfc5322IPv6GroupCount),h(":"===P[0]&&":"!==P[1]?r.diagnoses.rfc5322IPv6ColonStart:":"===P[P.length-1]&&":"!==P[P.length-2]?r.diagnoses.rfc5322IPv6ColonEnd:r.checkIpV6(E)?r.diagnoses.rfc5321AddressLiteral:r.diagnoses.rfc5322IPv6BadCharacter)}}else h(r.diagnoses.rfc5322DomainLiteral);p.domain+=x,f.domains[g]+=x,m+=e.byteLength(x,"utf8"),d.prev=d.now,d.now=d.stack.pop();break;case"\\":h(r.diagnoses.rfc5322DomainLiteralOBSDText),d.stack.push(d.now),d.now=r.components.contextQuotedPair;break;case"\r":if(_===++C||"\n"!==t[C]){h(r.diagnoses.errCRNoLF);break}case" ":case"\t":h(r.diagnoses.cfwsFWS),d.stack.push(d.now),d.now=r.components.contextFWS,u=x;break;default:if(127!==(b=x.codePointAt(0))&&r.c1Controls(b)||0===b||"["===x){h(r.diagnoses.errExpectingDTEXT);break}(r.c0Controls(b)||127===b)&&h(r.diagnoses.rfc5322DomainLiteralOBSDText),p.literal+=x,p.domain+=x,f.domains[g]+=x,m+=e.byteLength(x,"utf8")}break;case r.components.contextQuotedString:switch(x){case"\\":d.stack.push(d.now),d.now=r.components.contextQuotedPair;break;case"\r":if(_===++C||"\n"!==t[C]){h(r.diagnoses.errCRNoLF);break}case"\t":p.local+=" ",f.locals[g]+=" ",m+=e.byteLength(x,"utf8"),h(r.diagnoses.cfwsFWS),d.stack.push(d.now),d.now=r.components.contextFWS,u=x;break;case'"':p.local+=x,f.locals[g]+=x,m+=e.byteLength(x,"utf8"),d.prev=d.now,d.now=d.stack.pop();break;default:127!==(b=x.codePointAt(0))&&r.c1Controls(b)||0===b||10===b?h(r.diagnoses.errExpectingQTEXT):(r.c0Controls(b)||127===b)&&h(r.diagnoses.deprecatedQTEXT),p.local+=x,f.locals[g]+=x,m+=e.byteLength(x,"utf8")}break;case r.components.contextQuotedPair:127!==(b=x.codePointAt(0))&&r.c1Controls(b)?h(r.diagnoses.errExpectingQPair):(b<31&&9!==b||127===b)&&h(r.diagnoses.deprecatedQP),d.prev=d.now,d.now=d.stack.pop();var M="\\"+x;switch(d.now){case r.components.contextComment:break;case r.components.contextQuotedString:p.local+=M,f.locals[g]+=M,m+=2;break;case r.components.literal:p.domain+=M,f.domains[g]+=M,m+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+d.now)}break;case r.components.contextComment:switch(x){case"(":d.stack.push(d.now),d.now=r.components.contextComment;break;case")":d.prev=d.now,d.now=d.stack.pop();break;case"\\":d.stack.push(d.now),d.now=r.components.contextQuotedPair;break;case"\r":if(_===++C||"\n"!==t[C]){h(r.diagnoses.errCRNoLF);break}case" ":case"\t":h(r.diagnoses.cfwsFWS),d.stack.push(d.now),d.now=r.components.contextFWS,u=x;break;default:if(0===(b=x.codePointAt(0))||10===b||127!==b&&r.c1Controls(b)){h(r.diagnoses.errExpectingCTEXT);break}(r.c0Controls(b)||127===b)&&h(r.diagnoses.deprecatedCTEXT)}break;case r.components.contextFWS:if("\r"===u){if("\r"===x){h(r.diagnoses.errFWSCRLFx2);break}++v>1?h(r.diagnoses.deprecatedFWS):v=1}switch(x){case"\r":_!==++C&&"\n"===t[C]||h(r.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===u&&h(r.diagnoses.errFWSCRLFEnd),v=0,d.prev=d.now,d.now=d.stack.pop(),--C}u=x;break;default:throw new Error("unknown context: "+d.now)}if(c>r.categories.rfc5322)break}if(c<r.categories.rfc5322){var I=a.encode(p.domain).length;if(d.now===r.components.contextQuotedString)h(r.diagnoses.errUnclosedQuotedString);else if(d.now===r.components.contextQuotedPair)h(r.diagnoses.errBackslashEnd);else if(d.now===r.components.contextComment)h(r.diagnoses.errUnclosedComment);else if(d.now===r.components.literal)h(r.diagnoses.errUnclosedDomainLiteral);else if("\r"===x)h(r.diagnoses.errFWSCRLFEnd);else if(0===p.domain.length)h(r.diagnoses.errNoDomain);else if(0===m)h(r.diagnoses.errDotEnd);else if(w)h(r.diagnoses.errDomainHyphenEnd);else if(I>255)h(r.diagnoses.rfc5322DomainTooLong);else if(e.byteLength(p.local,"utf8")+I+1>254)h(r.diagnoses.rfc5322TooLong);else if(m>63)h(r.diagnoses.rfc5322LabelTooLong);else if(i.minDomainAtoms&&f.domains.length<i.minDomainAtoms)h(r.diagnoses.errDomainTooShort);else if(i.tldWhitelist||i.tldBlacklist){var O=f.domains[g];r.validDomain(O,i)||h(r.diagnoses.errUnknownTLD)}}c<r.categories.dnsWarn&&f.domains[g].codePointAt(0)<=57&&h(r.diagnoses.rfc5321TLDNumeric),c<l&&(c=r.diagnoses.valid);var L=o?c:c<r.defaultThreshold;return s&&s(L),L},t.diagnoses=r.validate.diagnoses=function(){for(var e={},t=Object.keys(r.diagnoses),i=0;i<t.length;++i){var n=t[i];e[n]=r.diagnoses[n]}return e}(),t.normalize=r.normalize}).call(t,i(3).Buffer)},function(e,t,i){"use strict";t.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",format:"must be a string with one of the following formats {{format}}",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',less:'must be less than "{{limit}}"',greater:'must be greater than "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",or:"must contain at least one of {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}",port:"must be a valid port"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hexAlign:"hex decoded representation must be byte aligned",base64:"must be a valid base64 string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"}}},function(e,t,i){"use strict";var n=i(8);t.options=n.object({abortEarly:n.boolean(),convert:n.boolean(),allowUnknown:n.boolean(),skipFunctions:n.boolean(),stripUnknown:[n.boolean(),n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects")],language:n.object(),presence:n.string().only("required","optional","forbidden","ignore"),raw:n.boolean(),context:n.object(),strip:n.boolean(),noDefaults:n.boolean(),escapeHtml:n.boolean()}).strict()},function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(2),s=i(4),o=i(1),l=i(0),c={fastSplice:function(e,t){for(var i=t;i<e.length;)e[i++]=e[i];--e.length}};c.Array=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i._type="array",i._inner.items=[],i._inner.ordereds=[],i._inner.inclusions=[],i._inner.exclusions=[],i._inner.requireds=[],i._flags.sparse=!1,i}return n(t,e),t.prototype._base=function(e,t,i){var n={value:e};"string"==typeof e&&i.convert&&c.safeParse(e,n);var a=Array.isArray(n.value),r=a;if(i.convert&&this._flags.single&&!a&&(n.value=[n.value],a=!0),!a)return n.errors=this.createError("array.base",null,t,i),n;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(r&&(n.value=n.value.slice(0)),n.errors=this._checkItems.call(this,n.value,r,t,i),n.errors&&r&&i.convert&&this._flags.single)){var s=n.errors;n.value=[n.value],n.errors=this._checkItems.call(this,n.value,r,t,i),n.errors&&(n.errors=s,n.value=n.value[0])}return n},t.prototype._checkItems=function(e,t,i,n){for(var a=[],r=void 0,s=this._inner.requireds.slice(),o=this._inner.ordereds.slice(),l=this._inner.inclusions.concat(s),h=e.length,d=0;d<h;++d){r=!1;var u=e[d],p=!1,f=t?d:i.key,g=t?i.path.concat(d):i.path,m={key:f,path:g,parent:i.parent,reference:i.reference},v=void 0;if(this._flags.sparse||void 0!==u){for(var b=0;b<this._inner.exclusions.length;++b)if(!(v=this._inner.exclusions[b]._validate(u,m,{})).errors){if(a.push(this.createError(t?"array.excludes":"array.excludesSingle",{pos:d,value:u},{key:i.key,path:m.path},n)),r=!0,n.abortEarly)return a;o.shift();break}if(!r){if(this._inner.ordereds.length){if(o.length>0){var w=o.shift();if((v=w._validate(u,m,n)).errors){if(a.push(this.createError("array.ordered",{pos:d,reason:v.errors,value:u},{key:i.key,path:m.path},n)),n.abortEarly)return a}else if(w._flags.strip)c.fastSplice(e,d),--d,--h;else{if(!this._flags.sparse&&void 0===v.value){if(a.push(this.createError("array.sparse",null,{key:i.key,path:m.path,pos:d},n)),n.abortEarly)return a;continue}e[d]=v.value}continue}if(!this._inner.items.length){if(a.push(this.createError("array.orderedLength",{pos:d,limit:this._inner.ordereds.length},{key:i.key,path:m.path},n)),n.abortEarly)return a;continue}}for(var y=[],_=s.length,x=0;x<_;++x)if(!(v=y[x]=s[x]._validate(u,m,n)).errors){if(e[d]=v.value,p=!0,c.fastSplice(s,x),--x,--_,!this._flags.sparse&&void 0===v.value&&(a.push(this.createError("array.sparse",null,{key:i.key,path:m.path,pos:d},n)),n.abortEarly))return a;break}if(!p){var C=!!n.stripUnknown&&(!0===n.stripUnknown||!!n.stripUnknown.arrays);_=l.length;for(var S=0;S<_;++S){var T=l[S],k=s.indexOf(T);if(-1!==k)v=y[k];else if(!(v=T._validate(u,m,n)).errors){T._flags.strip?(c.fastSplice(e,d),--d,--h):this._flags.sparse||void 0!==v.value?e[d]=v.value:(a.push(this.createError("array.sparse",null,{key:i.key,path:m.path,pos:d},n)),r=!0),p=!0;break}if(1===_){if(C){c.fastSplice(e,d),--d,--h,p=!0;break}if(a.push(this.createError(t?"array.includesOne":"array.includesOneSingle",{pos:d,reason:v.errors,value:u},{key:i.key,path:m.path},n)),r=!0,n.abortEarly)return a;break}}if(!r&&this._inner.inclusions.length&&!p){if(C){c.fastSplice(e,d),--d,--h;continue}if(a.push(this.createError(t?"array.includes":"array.includesSingle",{pos:d,value:u},{key:i.key,path:m.path},n)),n.abortEarly)return a}}}}else{if(a.push(this.createError("array.sparse",null,{key:i.key,path:m.path,pos:d},n)),n.abortEarly)return a;o.shift()}}return s.length&&this._fillMissedErrors.call(this,a,s,i,n),o.length&&this._fillOrderedErrors.call(this,a,o,i,n),a.length?a:null},t.prototype.describe=function(){var e=r.prototype.describe.call(this);if(this._inner.ordereds.length){e.orderedItems=[];for(var t=0;t<this._inner.ordereds.length;++t)e.orderedItems.push(this._inner.ordereds[t].describe())}if(this._inner.items.length){e.items=[];for(var i=0;i<this._inner.items.length;++i)e.items.push(this._inner.items[i].describe())}return e},t.prototype.items=function(){for(var e=this,t=this.clone(),i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return l.flatten(n).forEach(function(i,n){try{i=s.schema(e._currentJoi,i)}catch(e){throw e.hasOwnProperty("path")?e.path=n+"."+e.path:e.path=n,e.message=e.message+"("+e.path+")",e}t._inner.items.push(i),"required"===i._flags.presence?t._inner.requireds.push(i):"forbidden"===i._flags.presence?t._inner.exclusions.push(i.optional()):t._inner.inclusions.push(i)}),t},t.prototype.ordered=function(){for(var e=this,t=this.clone(),i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return l.flatten(n).forEach(function(i,n){try{i=s.schema(e._currentJoi,i)}catch(e){throw e.hasOwnProperty("path")?e.path=n+"."+e.path:e.path=n,e.message=e.message+"("+e.path+")",e}t._inner.ordereds.push(i)}),t},t.prototype.min=function(e){var t=o.isRef(e);return l.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("min",e,function(i,n,a){var r=void 0;if(t){if(r=e(n.reference||n.parent,a),!(Number.isSafeInteger(r)&&r>=0))return this.createError("array.ref",{ref:e.key},n,a)}else r=e;return i.length>=r?i:this.createError("array.min",{limit:e,value:i},n,a)})},t.prototype.max=function(e){var t=o.isRef(e);return l.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("max",e,function(i,n,a){var r=void 0;if(t){if(r=e(n.reference||n.parent,a),!(Number.isSafeInteger(r)&&r>=0))return this.createError("array.ref",{ref:e.key},n,a)}else r=e;return i.length<=r?i:this.createError("array.max",{limit:e,value:i},n,a)})},t.prototype.length=function(e){var t=o.isRef(e);return l.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("length",e,function(i,n,a){var r=void 0;if(t){if(r=e(n.reference||n.parent,a),!(Number.isSafeInteger(r)&&r>=0))return this.createError("array.ref",{ref:e.key},n,a)}else r=e;return i.length===r?i:this.createError("array.length",{limit:e,value:i},n,a)})},t.prototype.unique=function(e){l.assert(void 0===e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string");var t={};return"string"==typeof e?t.path=e:"function"==typeof e&&(t.comparator=e),this._test("unique",t,function(e,i,n){for(var r={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},s=t.comparator||l.deepEqual,o=0;o<e.length;++o){var c=t.path?l.reach(e[o],t.path):e[o],h=t.comparator?r.custom:r[void 0===c?"undefined":a(c)];if(h)if(h instanceof Map){for(var d=h.entries(),u=void 0;!(u=d.next()).done;)if(s(u.value[0],c)){var p={key:i.key,path:i.path.concat(o),parent:i.parent,reference:i.reference},f={pos:o,value:e[o],dupePos:u.value[1],dupeValue:e[u.value[1]]};return t.path&&(f.path=t.path),this.createError("array.unique",f,p,n)}h.set(c,o)}else{if(void 0!==h[c]){var g={key:i.key,path:i.path.concat(o),parent:i.parent,reference:i.reference},m={pos:o,value:e[o],dupePos:h[c],dupeValue:e[h[c]]};return t.path&&(m.path=t.path),this.createError("array.unique",m,g,n)}h[c]=o}}return e})},t.prototype.sparse=function(e){var t=void 0===e||!!e;if(this._flags.sparse===t)return this;var i=this.clone();return i._flags.sparse=t,i},t.prototype.single=function(e){var t=void 0===e||!!e;if(this._flags.single===t)return this;var i=this.clone();return i._flags.single=t,i},t.prototype._fillMissedErrors=function(e,t,i,n){for(var a=[],r=0,s=0;s<t.length;++s){var o=t[s]._getLabel();o?a.push(o):++r}a.length?r?e.push(this.createError("array.includesRequiredBoth",{knownMisses:a,unknownMisses:r},{key:i.key,path:i.path},n)):e.push(this.createError("array.includesRequiredKnowns",{knownMisses:a},{key:i.key,path:i.path},n)):e.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:r},{key:i.key,path:i.path},n))},t.prototype._fillOrderedErrors=function(e,t,i,n){for(var a=[],r=0;r<t.length;++r)"required"===l.reach(t[r],"_flags.presence")&&a.push(t[r]);a.length&&this._fillMissedErrors.call(this,e,a,i,n)},t}(r),c.safeParse=function(e,t){try{var i=JSON.parse(e);Array.isArray(i)&&(t.value=i)}catch(e){}},e.exports=new c.Array},function(e,t,i){"use strict";(function(t){function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a=i(2),r=i(0),s={};s.Binary=function(e){function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return t._type="binary",t}return n(i,e),i.prototype._base=function(e,i,n){var a={value:e};if("string"==typeof e&&n.convert)try{a.value=t.from(e,this._flags.encoding)}catch(e){}return a.errors=t.isBuffer(a.value)?null:this.createError("binary.base",null,i,n),a},i.prototype.encoding=function(e){if(r.assert(t.isEncoding(e),"Invalid encoding:",e),this._flags.encoding===e)return this;var i=this.clone();return i._flags.encoding=e,i},i.prototype.min=function(e){return r.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,i,n){return t.length>=e?t:this.createError("binary.min",{limit:e,value:t},i,n)})},i.prototype.max=function(e){return r.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,i,n){return t.length<=e?t:this.createError("binary.max",{limit:e,value:t},i,n)})},i.prototype.length=function(e){return r.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,i,n){return t.length===e?t:this.createError("binary.length",{limit:e,value:t},i,n)})},i}(a),e.exports=new s.Binary}).call(t,i(3).Buffer)},function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a=i(2),r=i(0),s={Set:i(9)};s.Boolean=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i._type="boolean",i._flags.insensitive=!0,i._inner.truthySet=new s.Set,i._inner.falsySet=new s.Set,i}return n(t,e),t.prototype._base=function(e,t,i){var n={value:e};if("string"==typeof e&&i.convert){var a=this._flags.insensitive?e.toLowerCase():e;n.value="true"===a||"false"!==a&&e}return"boolean"!=typeof n.value&&(n.value=!!this._inner.truthySet.has(e,null,null,this._flags.insensitive)||!this._inner.falsySet.has(e,null,null,this._flags.insensitive)&&e),n.errors="boolean"==typeof n.value?null:this.createError("boolean.base",null,t,i),n},t.prototype.truthy=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=this.clone();t=r.flatten(t);for(var a=0;a<t.length;++a){var s=t[a];r.assert(void 0!==s,"Cannot call truthy with undefined"),n._inner.truthySet.add(s)}return n},t.prototype.falsy=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=this.clone();t=r.flatten(t);for(var a=0;a<t.length;++a){var s=t[a];r.assert(void 0!==s,"Cannot call falsy with undefined"),n._inner.falsySet.add(s)}return n},t.prototype.insensitive=function(e){var t=void 0===e||!!e;if(this._flags.insensitive===t)return this;var i=this.clone();return i._flags.insensitive=t,i},t.prototype.describe=function(){var e=a.prototype.describe.call(this);return e.truthy=[!0].concat(this._inner.truthySet.values()),e.falsy=[!1].concat(this._inner.falsySet.values()),e},t}(a),e.exports=new s.Boolean},function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a=i(0),r=i(13),s=i(1),o={};o.Func=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i._flags.func=!0,i}return n(t,e),t.prototype.arity=function(e){return a.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("arity",e,function(t,i,n){return t.length===e?t:this.createError("function.arity",{n:e},i,n)})},t.prototype.minArity=function(e){return a.assert(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this._test("minArity",e,function(t,i,n){return t.length>=e?t:this.createError("function.minArity",{n:e},i,n)})},t.prototype.maxArity=function(e){return a.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("maxArity",e,function(t,i,n){return t.length<=e?t:this.createError("function.maxArity",{n:e},i,n)})},t.prototype.ref=function(){return this._test("ref",null,function(e,t,i){return s.isRef(e)?e:this.createError("function.ref",null,t,i)})},t.prototype.class=function(){return this._test("class",null,function(e,t,i){return/^\s*class\s/.test(e.toString())?e:this.createError("function.class",null,t,i)})},t}(r.constructor),e.exports=new o.Func},function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a=i(2),r=i(0),s={};s.Lazy=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i._type="lazy",i}return n(t,e),t.prototype._base=function(e,t,i){var n={value:e},r=this._flags.lazy;if(!r)return n.errors=this.createError("lazy.base",null,t,i),n;var s=r();return s instanceof a?s._validate(e,t,i):(n.errors=this.createError("lazy.schema",null,t,i),n)},t.prototype.set=function(e){r.assert("function"==typeof e,"You must provide a function as first argument");var t=this.clone();return t._flags.lazy=e,t},t}(a),e.exports=new s.Lazy},function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a=i(2),r=i(1),s=i(0),o={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};o.Number=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i._type="number",i._invalids.add(1/0),i._invalids.add(-1/0),i}return n(t,e),t.prototype._base=function(e,t,i){var n={errors:null,value:e};if("string"==typeof e&&i.convert){var a=parseFloat(e);n.value=isNaN(a)||!isFinite(e)?NaN:a}var r="number"==typeof n.value&&!isNaN(n.value);if(i.convert&&"precision"in this._flags&&r){var s=Math.pow(10,this._flags.precision);n.value=Math.round(n.value*s)/s}return n.errors=r?null:this.createError("number.base",null,t,i),n},t.prototype.multiple=function(e){var t=r.isRef(e);return t||(s.assert("number"==typeof e&&isFinite(e),"multiple must be a number"),s.assert(e>0,"multiple must be greater than 0")),this._test("multiple",e,function(i,n,a){var r=t?e(n.reference||n.parent,a):e;return!t||"number"==typeof r&&isFinite(r)?i%r==0?i:this.createError("number.multiple",{multiple:e,value:i},n,a):this.createError("number.ref",{ref:e.key},n,a)})},t.prototype.integer=function(){return this._test("integer",void 0,function(e,t,i){return Number.isSafeInteger(e)?e:this.createError("number.integer",{value:e},t,i)})},t.prototype.negative=function(){return this._test("negative",void 0,function(e,t,i){return e<0?e:this.createError("number.negative",{value:e},t,i)})},t.prototype.positive=function(){return this._test("positive",void 0,function(e,t,i){return e>0?e:this.createError("number.positive",{value:e},t,i)})},t.prototype.precision=function(e){s.assert(Number.isSafeInteger(e),"limit must be an integer"),s.assert(!("precision"in this._flags),"precision already set");var t=this._test("precision",e,function(t,i,n){var a=t.toString().match(o.precisionRx);return Math.max((a[1]?a[1].length:0)-(a[2]?parseInt(a[2],10):0),0)<=e?t:this.createError("number.precision",{limit:e,value:t},i,n)});return t._flags.precision=e,t},t.prototype.port=function(){return this._test("port",void 0,function(e,t,i){return!Number.isSafeInteger(e)||e<0||e>65535?this.createError("number.port",{value:e},t,i):e})},t}(a),o.compare=function(e,t){return function(i){var n=r.isRef(i),a="number"==typeof i&&!isNaN(i);return s.assert(a||n,"limit must be a number or reference"),this._test(e,i,function(a,r,s){var o=void 0;if(n){if("number"!=typeof(o=i(r.reference||r.parent,s))||isNaN(o))return this.createError("number.ref",{ref:i.key},r,s)}else o=i;return t(a,o)?a:this.createError("number."+e,{limit:o,value:a},r,s)})}},o.Number.prototype.min=o.compare("min",function(e,t){return e>=t}),o.Number.prototype.max=o.compare("max",function(e,t){return e<=t}),o.Number.prototype.greater=o.compare("greater",function(e,t){return e>t}),o.Number.prototype.less=o.compare("less",function(e,t){return e<t}),e.exports=new o.Number},function(e,t,i){"use strict";(function(t){function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&void 0===e[a]&&Object.defineProperty(e,a,r)}}(e,t))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(15),s=i(0),o=void 0,l=i(2),c=i(1),h=i(12),d=i(30),u=i(29),p={uriRegex:d.createUriRegex(),ipRegex:u.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};p.String=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i._type="string",i._invalids.add(""),i}return n(t,e),t.prototype._base=function(e,t,i){if("string"==typeof e&&i.convert){if(this._flags.normalize&&(e=e.normalize(this._flags.normalize)),this._flags.case&&(e="upper"===this._flags.case?e.toLocaleUpperCase():e.toLocaleLowerCase()),this._flags.trim&&(e=e.trim()),this._inner.replacements)for(var n=0;n<this._inner.replacements.length;++n){var a=this._inner.replacements[n];e=e.replace(a.pattern,a.replacement)}if(this._flags.truncate)for(var r=0;r<this._tests.length;++r){var s=this._tests[r];if("max"===s.name){e=e.slice(0,s.arg);break}}this._flags.byteAligned&&e.length%2!=0&&(e="0"+e)}return{value:e,errors:"string"==typeof e?null:this.createError("string.base",{value:e},t,i)}},t.prototype.insensitive=function(){if(this._flags.insensitive)return this;var e=this.clone();return e._flags.insensitive=!0,e},t.prototype.creditCard=function(){return this._test("creditCard",void 0,function(e,t,i){for(var n=e.length,a=0,r=1;n--;){var s=e.charAt(n)*r;a+=s-9*(s>9),r^=3}return a%10==0&&a>0?e:this.createError("string.creditCard",{value:e},t,i)})},t.prototype.regex=function(e,t){s.assert(e instanceof RegExp,"pattern must be a RegExp");var i={pattern:new RegExp(e.source,e.ignoreCase?"i":void 0)};"string"==typeof t?i.name=t:"object"===(void 0===t?"undefined":a(t))&&(i.invert=!!t.invert,t.name&&(i.name=t.name));var n=["string.regex",i.invert?".invert":"",i.name?".name":".base"].join("");return this._test("regex",i,function(e,t,a){return i.pattern.test(e)^i.invert?e:this.createError(n,{name:i.name,pattern:i.pattern,value:e},t,a)})},t.prototype.alphanum=function(){return this._test("alphanum",void 0,function(e,t,i){return/^[a-zA-Z0-9]+$/.test(e)?e:this.createError("string.alphanum",{value:e},t,i)})},t.prototype.token=function(){return this._test("token",void 0,function(e,t,i){return/^\w+$/.test(e)?e:this.createError("string.token",{value:e},t,i)})},t.prototype.email=function(e){return e&&(s.assert("object"===(void 0===e?"undefined":a(e)),"email options must be an object"),s.assert(void 0===e.checkDNS,"checkDNS option is not supported"),s.assert(void 0===e.tldWhitelist||"object"===a(e.tldWhitelist),"tldWhitelist must be an array or object"),s.assert(void 0===e.minDomainAtoms||Number.isSafeInteger(e.minDomainAtoms)&&e.minDomainAtoms>0,"minDomainAtoms must be a positive integer"),s.assert(void 0===e.errorLevel||"boolean"==typeof e.errorLevel||Number.isSafeInteger(e.errorLevel)&&e.errorLevel>=0,"errorLevel must be a non-negative integer or boolean")),this._test("email",e,function(t,n,a){o=o||i(19);try{var r=o.validate(t,e);if(!0===r||0===r)return t}catch(e){}return this.createError("string.email",{value:t},n,a)})},t.prototype.ip=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p.ipRegex;s.assert("object"===(void 0===e?"undefined":a(e)),"options must be an object"),e.cidr?(s.assert("string"==typeof e.cidr,"cidr must be a string"),e.cidr=e.cidr.toLowerCase(),s.assert(s.contain(p.cidrPresences,e.cidr),"cidr must be one of "+p.cidrPresences.join(", ")),e.version||"optional"===e.cidr||(t=u.createIpRegex(["ipv4","ipv6","ipvfuture"],e.cidr))):e.cidr="optional";var i=void 0;if(e.version){Array.isArray(e.version)||(e.version=[e.version]),s.assert(e.version.length>=1,"version must have at least 1 version specified"),i=[];for(var n=0;n<e.version.length;++n){var r=e.version[n];s.assert("string"==typeof r,"version at position "+n+" must be a string"),r=r.toLowerCase(),s.assert(u.versions[r],"version at position "+n+" must be one of "+Object.keys(u.versions).join(", ")),i.push(r)}i=s.unique(i),t=u.createIpRegex(i,e.cidr)}return this._test("ip",e,function(n,a,r){return t.test(n)?n:i?this.createError("string.ipVersion",{value:n,cidr:e.cidr,version:i},a,r):this.createError("string.ip",{value:n,cidr:e.cidr},a,r)})},t.prototype.uri=function(e){var t="",i=!1,n=!1,r=p.uriRegex;if(e){if(s.assert("object"===(void 0===e?"undefined":a(e)),"options must be an object"),e.scheme){s.assert(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(e.scheme)||(e.scheme=[e.scheme]),s.assert(e.scheme.length>=1,"scheme must have at least 1 scheme specified");for(var o=0;o<e.scheme.length;++o){var l=e.scheme[o];s.assert(l instanceof RegExp||"string"==typeof l,"scheme at position "+o+" must be a RegExp or String"),t+=t?"|":"",l instanceof RegExp?t+=l.source:(s.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(l),"scheme at position "+o+" must be a valid scheme"),t+=s.escapeRegex(l))}}e.allowRelative&&(i=!0),e.relativeOnly&&(n=!0)}return(t||i||n)&&(r=d.createUriRegex(t,i,n)),this._test("uri",e,function(e,i,a){return r.test(e)?e:n?this.createError("string.uriRelativeOnly",{value:e},i,a):t?this.createError("string.uriCustomScheme",{scheme:t,value:e},i,a):this.createError("string.uri",{value:e},i,a)})},t.prototype.isoDate=function(){return this._test("isoDate",void 0,function(e,t,i){if(h._isIsoDate(e)){if(!i.convert)return e;var n=new Date(e);if(!isNaN(n.getTime()))return n.toISOString()}return this.createError("string.isoDate",{value:e},t,i)})},t.prototype.guid=function(e){var t="";if(e&&e.version){Array.isArray(e.version)||(e.version=[e.version]),s.assert(e.version.length>=1,"version must have at least 1 valid version specified");for(var i=new Set,n=0;n<e.version.length;++n){var a=e.version[n];s.assert("string"==typeof a,"version at position "+n+" must be a string"),a=a.toLowerCase();var r=p.guidVersions[a];s.assert(r,"version at position "+n+" must be one of "+Object.keys(p.guidVersions).join(", ")),s.assert(!i.has(r),"version at position "+n+" must not be a duplicate."),t+=r,i.add(r)}}var o=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?["+(t||"0-9A-F")+"][0-9A-F]{3}\\2?["+(t?"89AB":"0-9A-F")+"][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$","i");return this._test("guid",e,function(e,t,i){var n=o.exec(e);return n?p.guidBrackets[n[1]]!==n[n.length-1]?this.createError("string.guid",{value:e},t,i):e:this.createError("string.guid",{value:e},t,i)})},t.prototype.hex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.assert("object"===(void 0===e?"undefined":a(e)),"hex options must be an object"),s.assert(void 0===e.byteAligned||"boolean"==typeof e.byteAligned,"byteAligned must be boolean");var t=!0===e.byteAligned,i=/^[a-f0-9]+$/i,n=this._test("hex",i,function(e,n,a){return i.test(e)?t&&e.length%2!=0?this.createError("string.hexAlign",{value:e},n,a):e:this.createError("string.hex",{value:e},n,a)});return t&&(n._flags.byteAligned=!0),n},t.prototype.base64=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.assert("object"===(void 0===e?"undefined":a(e)),"base64 options must be an object"),s.assert(void 0===e.paddingRequired||"boolean"==typeof e.paddingRequired,"paddingRequired must be boolean");var t=!1===e.paddingRequired?e.paddingRequired:e.paddingRequired||!0,i=t?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",i,function(e,t,n){return i.test(e)?e:this.createError("string.base64",{value:e},t,n)})},t.prototype.hostname=function(){var e=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,function(t,i,n){return t.length<=255&&e.test(t)||r.isIPv6(t)?t:this.createError("string.hostname",{value:t},i,n)})},t.prototype.normalize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";s.assert(s.contain(p.normalizationForms,e),"normalization form must be one of "+p.normalizationForms.join(", "));var t=this._test("normalize",e,function(t,i,n){return n.convert||t===t.normalize(e)?t:this.createError("string.normalize",{value:t,form:e},i,n)});return t._flags.normalize=e,t},t.prototype.lowercase=function(){var e=this._test("lowercase",void 0,function(e,t,i){return i.convert||e===e.toLocaleLowerCase()?e:this.createError("string.lowercase",{value:e},t,i)});return e._flags.case="lower",e},t.prototype.uppercase=function(){var e=this._test("uppercase",void 0,function(e,t,i){return i.convert||e===e.toLocaleUpperCase()?e:this.createError("string.uppercase",{value:e},t,i)});return e._flags.case="upper",e},t.prototype.trim=function(){var e=this._test("trim",void 0,function(e,t,i){return i.convert||e===e.trim()?e:this.createError("string.trim",{value:e},t,i)});return e._flags.trim=!0,e},t.prototype.replace=function(e,t){"string"==typeof e&&(e=new RegExp(s.escapeRegex(e),"g")),s.assert(e instanceof RegExp,"pattern must be a RegExp"),s.assert("string"==typeof t,"replacement must be a String");var i=this.clone();return i._inner.replacements||(i._inner.replacements=[]),i._inner.replacements.push({pattern:e,replacement:t}),i},t.prototype.truncate=function(e){var t=void 0===e||!!e;if(this._flags.truncate===t)return this;var i=this.clone();return i._flags.truncate=t,i},t}(l),p.compare=function(e,i){return function(n,a){var r=c.isRef(n);return s.assert(Number.isSafeInteger(n)&&n>=0||r,"limit must be a positive integer or reference"),s.assert(!a||t.isEncoding(a),"Invalid encoding:",a),this._test(e,n,function(t,s,o){var l=void 0;if(r){if(l=n(s.reference||s.parent,o),!Number.isSafeInteger(l))return this.createError("string.ref",{ref:n.key},s,o)}else l=n;return i(t,l,a)?t:this.createError("string."+e,{limit:l,value:t,encoding:a},s,o)})}},p.String.prototype.min=p.compare("min",function(e,i,n){return(n?t.byteLength(e,n):e.length)>=i}),p.String.prototype.max=p.compare("max",function(e,i,n){return(n?t.byteLength(e,n):e.length)<=i}),p.String.prototype.length=p.compare("length",function(e,i,n){return(n?t.byteLength(e,n):e.length)===i}),p.String.prototype.uuid=p.String.prototype.guid,e.exports=new p.String}).call(t,i(3).Buffer)},function(e,t,i){"use strict";var n=i(14),a={Ip:{cidrs:{ipv4:{required:"\\/(?:"+n.ipv4Cidr+")",optional:"(?:\\/(?:"+n.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:n.IPv4address,ipv6:n.IPv6address,ipvfuture:n.IPvFuture}}};a.Ip.createIpRegex=function(e,t){for(var i=void 0,n=0;n<e.length;++n){var r=e[n];i?i+="|"+a.Ip.versions[r]+a.Ip.cidrs[r][t]:i="^(?:"+a.Ip.versions[r]+a.Ip.cidrs[r][t]}return new RegExp(i+")$")},e.exports=a.Ip},function(e,t,i){"use strict";var n=i(14),a={Uri:{createUriRegex:function(e,t,i){var a=n.scheme,r=void 0;if(i)r="(?:"+n.relativeRef+")";else{e&&(a="(?:"+e+")");var s="(?:"+a+":"+n.hierPart+")";r=t?"(?:"+s+"|"+n.relativeRef+")":s}return new RegExp("^"+r+"(?:\\?"+n.query+")?(?:#"+n.fragment+")?$")}}};e.exports=a.Uri},function(e,t,i){"use strict";var n=i(0),a={};e.exports=a.Topo=function(){this._items=[],this.nodes=[]},a.Topo.prototype.add=function(e,t){var i=this,a=[].concat((t=t||{}).before||[]),r=[].concat(t.after||[]),s=t.group||"?",o=t.sort||0;n.assert(-1===a.indexOf(s),"Item cannot come before itself:",s),n.assert(-1===a.indexOf("?"),"Item cannot come before unassociated items"),n.assert(-1===r.indexOf(s),"Item cannot come after itself:",s),n.assert(-1===r.indexOf("?"),"Item cannot come after unassociated items"),[].concat(e).forEach(function(e,t){var n={seq:i._items.length,sort:o,before:a,after:r,group:s,node:e};i._items.push(n)});var l=this._sort();return n.assert(!l,"item","?"!==s?"added into group "+s:"","created a dependencies error"),this.nodes},a.Topo.prototype.merge=function(e){e=[].concat(e);for(var t=0;t<e.length;++t){var i=e[t];if(i)for(var r=0;r<i._items.length;++r){var s=n.shallow(i._items[r]);this._items.push(s)}}this._items.sort(a.mergeSort);for(var o=0;o<this._items.length;++o)this._items[o].seq=o;var l=this._sort();return n.assert(!l,"merge created a dependencies error"),this.nodes},a.mergeSort=function(e,t){return e.sort===t.sort?0:e.sort<t.sort?-1:1},a.Topo.prototype._sort=function(){for(var e={},t=Object.create(null),i=Object.create(null),n=0;n<this._items.length;++n){var a=this._items[n],r=a.seq,s=a.group;i[s]=i[s]||[],i[s].push(r),e[r]=a.before;for(var o=a.after,l=0;l<o.length;++l)t[o[l]]=(t[o[l]]||[]).concat(r)}for(var c=Object.keys(e),h=0;h<c.length;++h){for(var d=c[h],u=[],p=Object.keys(e[d]),f=0;f<p.length;++f){var g=e[d][p[f]];i[g]=i[g]||[];for(var m=0;m<i[g].length;++m)u.push(i[g][m])}e[d]=u}for(var v=Object.keys(t),b=0;b<v.length;++b){var w=v[b];if(i[w])for(var y=0;y<i[w].length;++y){var _=i[w][y];e[_]=e[_].concat(t[w])}}var x=void 0,C={};c=Object.keys(e);for(var S=0;S<c.length;++S){var T=c[S];x=e[T];for(var k=0;k<x.length;++k)C[x[k]]=(C[x[k]]||[]).concat(T)}for(var A={},P=[],D=0;D<this._items.length;++D){var E=D;if(C[D]){E=null;for(var M=0;M<this._items.length;++M)if(!0!==A[M]){C[M]||(C[M]=[]);for(var I=C[M].length,O=0,L=0;L<I;++L)A[C[M][L]]&&++O;if(O===I){E=M;break}}}null!==E&&(A[E]=!0,P.push(E))}if(P.length!==this._items.length)return new Error("Invalid dependencies");for(var N={},R=0;R<this._items.length;++R){var $=this._items[R];N[$.seq]=$}var B=[];this._items=P.map(function(e){var t=N[e];return B.push(t.node),t}),this.nodes=B}},function(e,t,i){"use strict";var n=i(8);e.exports=n},function(e,t,i){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function a(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function r(e,t,i){for(var n,r=[],s=t;s<i;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],r.push(a(n));return r.join("")}t.byteLength=function(e){return 3*e.length/4-n(e)},t.toByteArray=function(e){var t,i,a,r,s,c=e.length;r=n(e),s=new l(3*c/4-r),i=r>0?c-4:c;var h=0;for(t=0;t<i;t+=4)a=o[e.charCodeAt(t)]<<18|o[e.charCodeAt(t+1)]<<12|o[e.charCodeAt(t+2)]<<6|o[e.charCodeAt(t+3)],s[h++]=a>>16&255,s[h++]=a>>8&255,s[h++]=255&a;return 2===r?(a=o[e.charCodeAt(t)]<<2|o[e.charCodeAt(t+1)]>>4,s[h++]=255&a):1===r&&(a=o[e.charCodeAt(t)]<<10|o[e.charCodeAt(t+1)]<<4|o[e.charCodeAt(t+2)]>>2,s[h++]=a>>8&255,s[h++]=255&a),s},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,a="",o=[],l=0,c=i-n;l<c;l+=16383)o.push(r(e,l,l+16383>c?c:l+16383));return 1===n?(t=e[i-1],a+=s[t>>2],a+=s[t<<4&63],a+="=="):2===n&&(t=(e[i-2]<<8)+e[i-1],a+=s[t>>10],a+=s[t>>4&63],a+=s[t<<2&63],a+="="),o.push(a),o.join("")};for(var s=[],o=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,d=c.length;h<d;++h)s[h]=c[h],o[c.charCodeAt(h)]=h;o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,n,a){var r,s,o=8*a-n-1,l=(1<<o)-1,c=l>>1,h=-7,d=i?a-1:0,u=i?-1:1,p=e[t+d];for(d+=u,r=p&(1<<-h)-1,p>>=-h,h+=o;h>0;r=256*r+e[t+d],d+=u,h-=8);for(s=r&(1<<-h)-1,r>>=-h,h+=n;h>0;s=256*s+e[t+d],d+=u,h-=8);if(0===r)r=1-c;else{if(r===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),r-=c}return(p?-1:1)*s*Math.pow(2,r-n)},t.write=function(e,t,i,n,a,r){var s,o,l,c=8*r-a-1,h=(1<<c)-1,d=h>>1,u=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:r-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?u/l:u*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=h?(o=0,s=h):s+d>=1?(o=(t*l-1)*Math.pow(2,a),s+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,a),s=0));a>=8;e[i+p]=255&o,p+=f,o/=256,a-=8);for(s=s<<a|o,c+=a;c>0;e[i+p]=255&s,p+=f,s/=256,c-=8);e[i+p-f]|=128*g}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t){e.exports={_args:[["joi@13.4.0","/Users/hkernbach/Git/joi-browser"]],_development:!0,_from:"joi@13.4.0",_id:"joi@13.4.0",_inBundle:!1,_integrity:"sha512-JuK4GjEu6j7zr9FuVe2MAseZ6si/8/HaY0qMAejfDFHp7jcH4OKE937mIHM5VT4xDS0q7lpQbszbxKV9rm0yUg==",_location:"/joi",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"joi@13.4.0",name:"joi",escapedName:"joi",rawSpec:"13.4.0",saveSpec:null,fetchSpec:"13.4.0"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/joi/-/joi-13.4.0.tgz",_spec:"13.4.0",_where:"/Users/hkernbach/Git/joi-browser",bugs:{url:"https://github.com/hapijs/joi/issues"},dependencies:{hoek:"5.x.x",isemail:"3.x.x",topo:"3.x.x"},description:"Object schema validation",devDependencies:{code:"5.x.x",hapitoc:"1.x.x",lab:"15.x.x"},engines:{node:">=8.9.0"},homepage:"https://github.com/hapijs/joi",keywords:["hapi","schema","validation"],license:"BSD-3-Clause",main:"lib/index.js",name:"joi",repository:{type:"git",url:"git://github.com/hapijs/joi.git"},scripts:{test:"lab -t 100 -a code -L","test-cov-html":"lab -r html -o coverage.html -a code","test-debug":"lab -a code",toc:"hapitoc",version:"npm run toc && git add API.md README.md"},version:"13.4.0"}},function(e,t,i){(function(e){function i(e,t){for(var i=0,n=e.length-1;n>=0;n--){var a=e[n];"."===a?e.splice(n,1):".."===a?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++)t(e[n],n,e)&&i.push(e[n]);return i}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(e){return a.exec(e).slice(1)};t.resolve=function(){for(var t="",a=!1,r=arguments.length-1;r>=-1&&!a;r--){var s=r>=0?arguments[r]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,a="/"===s.charAt(0))}return t=i(n(t.split("/"),function(e){return!!e}),!a).join("/"),(a?"/":"")+t||"."},t.normalize=function(e){var a=t.isAbsolute(e),r="/"===s(e,-1);return(e=i(n(e.split("/"),function(e){return!!e}),!a).join("/"))||a||(e="."),e&&r&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,i){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var a=n(e.split("/")),r=n(i.split("/")),s=Math.min(a.length,r.length),o=s,l=0;l<s;l++)if(a[l]!==r[l]){o=l;break}for(var c=[],l=o;l<a.length;l++)c.push("..");return(c=c.concat(r.slice(o))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=r(e),i=t[0],n=t[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},t.basename=function(e,t){var i=r(e)[2];return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){return r(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(t,i(7))},function(e,t,i){(function(e,n){var a;!function(n){function r(e){throw new RangeError(P[e])}function s(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function o(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),e=e.replace(A,"."),n+s(e.split("."),t).join(".")}function l(e){for(var t,i,n=[],a=0,r=e.length;a<r;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<r?56320==(64512&(i=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),a--):n.push(t);return n}function c(e){return s(e,function(e){var t="";return e>65535&&(t+=M((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=M(e)}).join("")}function h(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:v}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function u(e,t,i){var n=0;for(e=i?E(e/_):e>>1,e+=E(e/t);e>D*w>>1;n+=v)e=E(e/D);return E(n+(D+1)*e/(e+y))}function p(e){var t,i,n,a,s,o,l,d,p,f,g=[],y=e.length,_=0,T=C,k=x;for((i=e.lastIndexOf(S))<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&r("not-basic"),g.push(e.charCodeAt(n));for(a=i>0?i+1:0;a<y;){for(s=_,o=1,l=v;a>=y&&r("invalid-input"),((d=h(e.charCodeAt(a++)))>=v||d>E((m-_)/o))&&r("overflow"),_+=d*o,!(d<(p=l<=k?b:l>=k+w?w:l-k));l+=v)o>E(m/(f=v-p))&&r("overflow"),o*=f;t=g.length+1,k=u(_-s,t,0==s),E(_/t)>m-T&&r("overflow"),T+=E(_/t),_%=t,g.splice(_++,0,T)}return c(g)}function f(e){var t,i,n,a,s,o,c,h,p,f,g,y,_,T,k,A=[];for(e=l(e),y=e.length,t=C,i=0,s=x,o=0;o<y;++o)(g=e[o])<128&&A.push(M(g));for(n=a=A.length,a&&A.push(S);n<y;){for(c=m,o=0;o<y;++o)(g=e[o])>=t&&g<c&&(c=g);for(c-t>E((m-i)/(_=n+1))&&r("overflow"),i+=(c-t)*_,t=c,o=0;o<y;++o)if((g=e[o])<t&&++i>m&&r("overflow"),g==t){for(h=i,p=v;!(h<(f=p<=s?b:p>=s+w?w:p-s));p+=v)k=h-f,T=v-f,A.push(M(d(f+k%T,0))),h=E(k/T);A.push(M(d(h,0))),s=u(i,_,n==a),i=0,++n}++i,++t}return A.join("")}"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var g,m=2147483647,v=36,b=1,w=26,y=38,_=700,x=72,C=128,S="-",T=/^xn--/,k=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=v-b,E=Math.floor,M=String.fromCharCode;g={version:"1.4.1",ucs2:{decode:l,encode:c},decode:p,encode:f,toASCII:function(e){return o(e,function(e){return k.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return o(e,function(e){return T.test(e)?p(e.slice(4).toLowerCase()):e})}},void 0!==(a=function(){return g}.call(t,i,t,e))&&(e.exports=a)}()}).call(t,i(41)(e),i(5))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}])},function(e,t){var i;"undefined"==typeof(i=jQuery).fn.each2&&i.extend(i.fn,{each2:function(e){for(var t=i([0]),n=-1,a=this.length;++n<a&&(t.context=t[0]=this[n])&&!1!==e.call(t[0],n,t););return this}}),function(e,t){"use strict";function i(e){var t,i,n,a;if(!e||e.length<1)return e;for(t="",i=0,n=e.length;n>i;i++)a=e.charAt(i),t+=O[a]||a;return t}function n(e,t){for(var i=0,n=t.length;n>i;i+=1)if(a(e,t[i]))return i;return-1}function a(e,i){return e===i||e!==t&&i!==t&&(null!==e&&null!==i&&(e.constructor===String?e+""==i+"":i.constructor===String&&i+""==e+""))}function r(t,i){var n,a,r;if(null===t||t.length<1)return[];for(a=0,r=(n=t.split(i)).length;r>a;a+=1)n[a]=e.trim(n[a]);return n}function s(e){return e.outerWidth(!1)-e.width()}function o(i){var n="keyup-change-value";i.on("keydown",function(){e.data(i,n)===t&&e.data(i,n,i.val())}),i.on("keyup",function(){var a=e.data(i,n);a!==t&&i.val()!==a&&(e.removeData(i,n),i.trigger("keyup-change"))})}function l(i){i.on("mousemove",function(i){var n=E;(n===t||n.x!==i.pageX||n.y!==i.pageY)&&e(i.target).trigger("mousemove-filtered",i)})}function c(e,i,n){var a;return n=n||t,function(){var t=arguments;window.clearTimeout(a),a=window.setTimeout(function(){i.apply(n,t)},e)}}function h(t){var i=0,n=0;if("selectionStart"in(t=e(t)[0]))i=t.selectionStart,n=t.selectionEnd-i;else if("selection"in document){t.focus();var a=document.selection.createRange();n=document.selection.createRange().text.length,a.moveStart("character",-t.value.length),i=a.text.length-n}return{offset:i,length:n}}function d(e){e.preventDefault(),e.stopPropagation()}function u(t){if(!A){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);(A=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),e("body").append(A)}return A.text(t.val()),A.width()}function p(t,i,n){var a,r,s=[];(a=t.attr("class"))&&e((a=""+a).split(" ")).each2(function(){0===this.indexOf("select2-")&&s.push(this)}),(a=i.attr("class"))&&e((a=""+a).split(" ")).each2(function(){0!==this.indexOf("select2-")&&((r=n(this))&&s.push(r))}),t.attr("class",s.join(" "))}function f(e,t,n,a){var r=i(e.toUpperCase()).indexOf(i(t.toUpperCase())),s=t.length;return 0>r?void n.push(a(e)):(n.push(a(e.substring(0,r))),n.push("<span class='select2-match'>"),n.push(a(e.substring(r,r+s))),n.push("</span>"),void n.push(a(e.substring(r+s,e.length))))}function g(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function m(i){var n,a=null,r=i.quietMillis||100,s=i.url,o=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,r=s,c=i.transport||e.fn.select2.ajaxDefaults.transport,h={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,h);n=n?n.call(o,l.term,l.page,l.context):null,r="function"==typeof r?r.call(o,l.term,l.page,l.context):r,a&&a.abort(),i.params&&(e.isFunction(i.params)?e.extend(d,i.params.call(o)):e.extend(d,i.params)),e.extend(d,{url:r,dataType:i.dataType,data:n,success:function(e){var t=i.results(e,l.page);l.callback(t)}}),a=c.call(o,d)},r)}}function v(t){var i,n,a=t,r=function(e){return""+e.text};e.isArray(a)&&(a={results:n=a}),!1===e.isFunction(a)&&(n=a,a=function(){return n});var s=a();return s.text&&(r=s.text,e.isFunction(r)||(i=s.text,r=function(e){return e[i]})),function(t){var i,n=t.term,s={results:[]};return""===n?void t.callback(a()):(i=function(a,s){var o,l;if((a=a[0]).children){for(l in o={},a)a.hasOwnProperty(l)&&(o[l]=a[l]);o.children=[],e(a.children).each2(function(e,t){i(t,o.children)}),(o.children.length||t.matcher(n,r(o),a))&&s.push(o)}else t.matcher(n,r(a),a)&&s.push(a)},e(a().results).each2(function(e,t){i(t,s.results)}),void t.callback(s))}}function b(i){var n=e.isFunction(i);return function(a){var r=a.term,s={results:[]};e(n?i():i).each(function(){var e=this.text!==t,i=e?this.text:this;(""===r||a.matcher(r,i))&&s.results.push(e?this:{id:this,text:this})}),a.callback(s)}}function w(t,i){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(i+" must be a function or a falsy value")}function y(t){return e.isFunction(t)?t():t}function _(t){var i=0;return e.each(t,function(e,t){t.children?i+=_(t.children):i++}),i}function x(t,i){var n=function(){};return(n.prototype=new t).constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,i),n}if(window.Select2===t){var C,S,T,k,A,P,D,E={x:0,y:0},M={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case M.LEFT:case M.RIGHT:case M.UP:case M.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case M.SHIFT:case M.CTRL:case M.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&123>=e}},I="<div class='select2-measure-scrollbar'></div>",O={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};P=e(document),k=function(){var e=1;return function(){return e++}}(),P.on("mousemove",function(e){E.x=e.pageX,E.y=e.pageY}),C=x(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var a,r,s=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+k()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=function(e){var t,i=!1;return function(){return!1===i&&(t=e(),i=!0),t}}(function(){return i.element.closest("body")}),p(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(y(i.containerCss)),this.container.addClass(y(i.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",d),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),p(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(y(i.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",d),this.results=a=this.container.find(s),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",d),l(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",s,this.bind(this.highlightUnderEvent)),function(e,t){var i=c(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){n(e.target,t.get())>=0&&i(e)})}(80,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&a.mousewheel(function(e,t,i,n){var r=a.scrollTop();n>0&&0>=r-n?(a.scrollTop(0),d(e)):0>n&&a.get(0).scrollHeight-a.scrollTop()+n<=a.height()&&(a.scrollTop(a.get(0).scrollHeight-a.height()),d(e))}),o(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",s,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var h=i.element.prop("disabled");h===t&&(h=!1),this.enable(!h);var u=i.element.prop("readonly");u===t&&(u=!1),this.readonly(u),D=D||function(){var t=e(I);t.appendTo("body");var i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),i}(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,i=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),i!==t&&(i.container.remove(),i.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:a(e.attr("locked"),"locked")||a(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(i){var n,s,o,l,c=this;if("select"===(n=i.element).get(0).tagName.toLowerCase()&&(this.select=s=i.element),s&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),"function"!=typeof(i=e.extend({},{populateResults:function(n,a,r){var s,o=this.opts.id;(s=function(n,a,l){var h,d,u,p,f,g,m,v,b,w;for(h=0,d=(n=i.sortResults(n,a,r)).length;d>h;h+=1)p=!(f=!0===(u=n[h]).disabled)&&o(u)!==t,g=u.children&&u.children.length>0,(m=e("<li></li>")).addClass("select2-results-dept-"+l),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(c.opts.formatResultCssClass(u)),(v=e(document.createElement("div"))).addClass("select2-result-label"),(w=i.formatResult(u,v,r,c.opts.escapeMarkup))!==t&&v.html(w),m.append(v),g&&((b=e("<ul></ul>")).addClass("select2-result-sub"),s(u.children,b,l+1),m.append(b)),m.data("select2-data",u),a.append(m)})(a,n,0)}},e.fn.select2.defaults,i)).id&&(o=i.id,i.id=function(e){return e[o]}),e.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(s?(i.query=this.bind(function(e){var i,a,r,s={results:[],more:!1},o=e.term;r=function(t,i){var n;t.is("option")?e.matcher(o,t.text(),t)&&i.push(c.optionToData(t)):t.is("optgroup")&&(n=c.optionToData(t),t.children().each2(function(e,t){r(t,n.children)}),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==t&&i.length>0&&((a=this.getPlaceholderOption())&&(i=i.not(a))),i.each2(function(e,t){r(t,s.results)}),e.callback(s)}),i.id=function(e){return e.id},i.formatResultCssClass=function(e){return e.css}):"query"in i||("ajax"in i?((l=i.element.data("ajax-url"))&&l.length>0&&(i.ajax.url=l),i.query=m.call(i.element,i.ajax)):"data"in i?i.query=v(i.data):"tags"in i&&(i.query=b(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,n){var s=[];e(r(t.val(),i.separator)).each(function(){var t={id:this,text:this},n=i.tags;e.isFunction(n)&&(n=n()),e(n).each(function(){return a(this.id,t.id)?(t=this,!1):void 0}),s.push(t)}),n(s)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){var e,i,n=this.opts.element;n.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),e=this.bind(function(){var e=n.prop("disabled");e===t&&(e=!1),this.enable(!e);var i=n.prop("readonly");i===t&&(i=!1),this.readonly(i),p(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(y(this.opts.containerCssClass)),p(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(y(this.opts.dropdownCssClass))}),n.on("propertychange.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),(i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(this.mutationCallback),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){return e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,i,n,a,r,s=this.dropdown,o=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),h=s.outerHeight(!1),d=e(window),u=d.width(),p=d.height(),f=d.scrollLeft()+u,g=d.scrollTop()+p,m=o.top+l,v=o.left,b=g>=m+h,w=o.top-h>=this.body().scrollTop(),_=s.outerWidth(!1),x=f>=v+_;s.hasClass("select2-drop-above")?(i=!0,!w&&b&&(n=!0,i=!1)):(i=!1,!b&&w&&(n=!0,i=!0)),n&&(s.hide(),o=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),h=s.outerHeight(!1),f=d.scrollLeft()+u,g=d.scrollTop()+p,m=o.top+l,x=f>=(v=o.left)+(_=s.outerWidth(!1)),s.show()),this.opts.dropdownAutoWidth?(r=e(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),(_=s.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:D.width))>c?c=_:_=c,x=f>=v+_):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(m-=(t=this.body().offset()).top,v-=t.left),x||(v=o.left+c-_),a={left:v,width:c},i?(a.bottom=p-o.top,a.top="auto",this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(a.top=m,a.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),a=e.extend(a,y(this.opts.dropdownCss)),s.css(a)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){var t,i=this.containerId,n="scroll."+i,a="resize."+i,r="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),0==(t=e("#select2-drop-mask")).length&&((t=e(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(t){var i,n=e("#select2-drop");n.length>0&&((i=n.data("select2")).opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close({focus:!0}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){e(this).on(a+" "+n+" "+r,function(){s.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,i="scroll."+t,n="resize."+t,a="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(i).off(n).off(a)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return y(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,i,n,a,r,s,o,l=this.results;if(!(0>(i=this.highlight()))){if(0==i)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),a=(n=e(t[i])).offset().top+n.outerHeight(!0),i===t.length-1&&((o=l.find("li.select2-more-results")).length>0&&(a=o.offset().top+o.outerHeight(!0))),a>(r=l.offset().top+l.outerHeight(!0))&&l.scrollTop(l.scrollTop()+(a-r)),0>(s=n.offset().top-l.offset().top)&&"none"!=n.css("display")&&l.scrollTop(l.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(t){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){var a=e(i[n+=t]);if(a.hasClass("select2-result-selectable")&&!a.hasClass("select2-disabled")&&!a.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var i,a,r=this.findHighlightableChoices();return 0===arguments.length?n(r.filter(".select2-highlighted")[0],r.get()):(t>=r.length&&(t=r.length-1),0>t&&(t=0),this.removeHighlight(),(i=e(r[t])).addClass("select2-highlighted"),this.ensureHighlightVisible(),void((a=i.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(a),choice:a})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),i=this.resultsPage+1,n=this,a=this.search.val(),r=this.context;0!==t.length&&(t.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:a,page:i,context:r,matcher:this.opts.matcher,callback:this.bind(function(s){n.opened()&&(n.opts.populateResults.call(this,e,s.results,{term:a,page:i,context:r}),n.postprocessResults(s,!1,!1),!0===s.more?(t.detach().appendTo(e).text(n.opts.formatLoadMore(i+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):t.remove(),n.positionDropdown(),n.resultsPage=i,n.context=s.context,this.opts.element.trigger({type:"select2-loaded",items:s}))})})))},tokenize:function(){},updateResults:function(i){function n(){c.removeClass("select2-active"),u.positionDropdown()}function r(e){h.html(e),n()}var s,o,l,c=this.search,h=this.results,d=this.opts,u=this,p=c.val(),f=e.data(this.container,"select2-last-term");if((!0===i||!f||!a(p,f))&&(e.data(this.container,"select2-last-term",p),!0===i||!1!==this.showSearchInput&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(s=this.data(),e.isArray(s)&&s.length>=g&&w(d.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+d.formatSelectionTooBig(g)+"</li>");if(c.val().length<d.minimumInputLength)return w(d.formatInputTooShort,"formatInputTooShort")?r("<li class='select2-no-results'>"+d.formatInputTooShort(c.val(),d.minimumInputLength)+"</li>"):r(""),void(i&&this.showSearch&&this.showSearch(!0));if(d.maximumInputLength&&c.val().length>d.maximumInputLength)return void(w(d.formatInputTooLong,"formatInputTooLong")?r("<li class='select2-no-results'>"+d.formatInputTooLong(c.val(),d.maximumInputLength)+"</li>"):r(""));d.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+d.formatSearching()+"</li>"),c.addClass("select2-active"),this.removeHighlight(),(o=this.tokenize())!=t&&null!=o&&c.val(o),this.resultsPage=1,d.query({element:d.element,term:c.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(s){var o;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=s.context===t?null:s.context,this.opts.createSearchChoice&&""!==c.val()&&((o=this.opts.createSearchChoice.call(u,c.val(),s.results))!==t&&null!==o&&u.id(o)!==t&&null!==u.id(o)&&0===e(s.results).filter(function(){return a(u.id(this),u.id(o))}).length&&s.results.unshift(o)),0===s.results.length&&w(d.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+d.formatNoMatches(c.val())+"</li>");h.empty(),u.opts.populateResults.call(this,h,s.results,{term:c.val(),page:this.resultsPage,context:null}),!0===s.more&&w(d.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(d.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(s,i),n(),this.opts.element.trigger({type:"select2-loaded",items:s})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var e;(e=this.search)[0]!==document.activeElement&&window.setTimeout(function(){var t,i=e[0],n=e.val().length;e.focus(),e.is(":visible")&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&((t=i.createTextRange()).collapse(!1),t.select()))},0)},selectHighlighted:function(e){var t=this.highlight(),i=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){var i=function(){var i,n,a,r,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((i=this.opts.element.attr("style"))!==t)for(r=0,s=(n=i.split(";")).length;s>r;r+=1)if(null!==(a=n[r].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&a.length>=1)return a[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width")).indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==i&&this.container.css("width",i)}}),S=x(C,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,n,a;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.search.focus(),(i=this.search.get(0)).createTextRange?((n=i.createTextRange()).collapse(!1),n.select()):i.setSelectionRange&&(a=this.search.val().length,i.setSelectionRange(a,a)),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(e){this.opened()&&(this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,i=this.container,n=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+k()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===M.PAGE_UP||e.which===M.PAGE_DOWN)return void d(e);switch(e.which){case M.UP:case M.DOWN:return this.moveHighlight(e.which===M.UP?-1:1),void d(e);case M.ENTER:return this.selectHighlighted(),void d(e);case M.TAB:return void this.selectHighlighted({noFocus:!0});case M.ESC:return this.cancel(e),void d(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==M.TAB&&!M.isControl(e)&&!M.isFunctionKey(e)&&e.which!==M.ESC){if(!1===this.opts.openOnEnter&&e.which===M.ENTER)return void d(e);if(e.which==M.DOWN||e.which==M.UP||e.which==M.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void d(e)}return e.which==M.DELETE||e.which==M.BACKSPACE?(this.opts.allowClear&&this.clear(),void d(e)):void 0}})),o(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),function(e){e.preventDefault(),e.stopImmediatePropagation()}(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),d(t)})),n.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){d(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data");if(i){var n=e.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var a=this.getPlaceholderOption();this.opts.element.val(a?a.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return!!this.getPlaceholder()&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=e.find("option").filter(function(){return this.selected});t(i.optionToData(n))}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var r=i.val(),s=null;t.query({matcher:function(e,i,n){var o=a(r,t.id(n));return o&&(s=n),o},callback:e.isFunction(n)?function(){n(s)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var n=0,r=this;if(this.findHighlightableChoices().each2(function(e,t){return a(r.id(t.data("select2-data")),r.opts.element.val())?(n=e,!1):void 0}),!1!==i&&(!0===t&&n>=0?this.highlight(n):this.highlight(0)),!0===t){var s=this.opts.minimumResultsForSearch;s>=0&&this.showSearch(_(e.results)>=s)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||this.focusser.focus(),a(i,this.id(e))||this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var i,n,a=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),a.empty(),null!==e&&(i=this.opts.formatSelection(e,a,this.opts.escapeMarkup)),i!==t&&a.append(i),(n=this.opts.formatSelectionCssClass(e,a))!==t&&a.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,i=!1,n=null,a=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return n=a.optionToData(t),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:r});else{if(!e&&0!==e)return void this.clear(i);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){a.opts.element.val(e?a.id(e):""),a.updateSelection(e),a.setPlaceholder(),i&&a.triggerChange({added:e,removed:r})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var i,n=!1;return 0===arguments.length?((i=this.selection.data("select2-data"))==t&&(i=null),i):(arguments.length>1&&(n=arguments[1]),void(e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:i})):this.clear(n)))}}),T=x(C,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=[];e.find("option").filter(function(){return this.selected}).each2(function(e,t){n.push(i.optionToData(t))}),t(n)}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var s=r(i.val(),t.separator),o=[];t.query({matcher:function(i,n,r){var l=e.grep(s,function(e){return a(e,t.id(r))}).length;return l&&o.push(r),l},callback:e.isFunction(n)?function(){for(var e=[],i=0;i<s.length;i++)for(var r=s[i],l=0;l<o.length;l++){var c=o[l];if(a(r,t.id(c))){e.push(c),o.splice(l,1);break}}n(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(i);var n=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){n.search[0].focus(),n.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+k()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=t.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),a=i.next(".select2-search-choice:not(.select2-locked)"),r=h(this.search);if(i.length&&(e.which==M.LEFT||e.which==M.RIGHT||e.which==M.BACKSPACE||e.which==M.DELETE||e.which==M.ENTER)){var s=i;return e.which==M.LEFT&&n.length?s=n:e.which==M.RIGHT?s=a.length?a:null:e.which===M.BACKSPACE?(this.unselect(i.first()),this.search.width(10),s=n.length?n:a):e.which==M.DELETE?(this.unselect(i.first()),this.search.width(10),s=a.length?a:null):e.which==M.ENTER&&(s=null),this.selectChoice(s),d(e),void(s&&s.length||this.open())}if((e.which===M.BACKSPACE&&1==this.keydowns||e.which==M.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void d(e);if(this.selectChoice(null),this.opened())switch(e.which){case M.UP:case M.DOWN:return this.moveHighlight(e.which===M.UP?-1:1),void d(e);case M.ENTER:return this.selectHighlighted(),void d(e);case M.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case M.ESC:return this.cancel(e),void d(e)}if(e.which!==M.TAB&&!M.isControl(e)&&!M.isFunctionKey(e)&&e.which!==M.BACKSPACE&&e.which!==M.ESC){if(e.which===M.ENTER){if(!1===this.opts.openOnEnter)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===M.PAGE_UP||e.which===M.PAGE_DOWN)&&d(e),e.which===M.ENTER&&d(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),i=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],a=[],r=this;e(t).each(function(){n(r.id(this),i)<0&&(i.push(r.id(this)),a.push(this))}),t=a,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,a,r=!i.locked,s=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=r?s:o,c=this.id(i),h=this.getVal();(n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup))!=t&&l.find("div").replaceWith("<div>"+n+"</div>"),(a=this.opts.formatSelectionCssClass(i,l.find("div")))!=t&&l.addClass(a),r&&l.find(".select2-search-choice-close").on("mousedown",d).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),d(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),h.push(c),this.setVal(h)},unselect:function(t){var i,a,r=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(i=t.data("select2-data")){for(;(a=n(this.id(i),r))>=0;)r.splice(a,1),this.setVal(r),this.select&&this.postprocessResults();var s=e.Event("select2-removing");s.val=this.id(i),s.choice=i,this.opts.element.trigger(s),s.isDefaultPrevented()||(t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},postprocessResults:function(e,t,i){var a=this.getVal(),r=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),o=this;r.each2(function(e,t){n(o.id(t.data("select2-data")),a)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&!1!==i&&o.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&w(o.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+o.opts.formatNoMatches(o.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-s(this.search)},resizeSearch:function(){var e,t,i,n,a=s(this.search);e=u(this.search)+10,t=this.search.offset().left,e>(n=(i=this.selection.width())-(t-this.selection.offset().left)-a)&&(n=i-a),40>n&&(n=i-a),0>=n&&(n=e),this.search.width(Math.floor(n))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:r(e=this.opts.element.val(),this.opts.separator)},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){n(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var i=0;i<t.length;i++)for(var n=0;n<e.length;n++)a(this.opts.id(t[i]),this.opts.id(e[n]))&&(t.splice(i,1),i>0&&i--,e.splice(n,1),n--);return{added:t,removed:e}},val:function(i,n){var a,r=this;if(0===arguments.length)return this.getVal();if((a=this.data()).length||(a=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:a}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(a,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=e.map(t,r.id);r.setVal(i),r.updateSelection(t),r.clearSearch(),n&&r.triggerChange(r.buildChangeDetails(a,r.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,i){var n,a,r=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(a=this.data(),t||(t=[]),n=e.map(t,function(e){return r.opts.id(e)}),this.setVal(n),this.updateSelection(t),this.clearSearch(),void(i&&this.triggerChange(this.buildChangeDetails(a,this.data()))))}}),e.fn.select2=function(){var i,a,r,s,o,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],h=["opened","isFocused","container","dropdown"],d=["val","data"],u={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])(i=0===l.length?{}:e.extend({},l[0])).element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?o=i.element.prop("multiple"):(o=i.multiple||!1,"tags"in i&&(i.multiple=o=!0)),(a=o?new T:new S).init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(n(l[0],c)<0)throw"Unknown method: "+l[0];if(s=t,(a=e(this).data("select2"))===t)return;if("container"===(r=l[0])?s=a.container:"dropdown"===r?s=a.dropdown:(u[r]&&(r=u[r]),s=a[r].apply(a,l.slice(1))),n(l[0],h)>=0||n(l[0],d)&&1==l.length)return!1}}),s===t?this:s},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var a=[];return f(e.text,i.term,a,n),a.join("")},formatSelection:function(e,i,n){return e?n(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return i(""+t).toUpperCase().indexOf(i(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(e,i,n,r){var s,o,l,c,h,d=e,u=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return t;for(;;){for(o=-1,l=0,c=r.tokenSeparators.length;c>l&&(h=r.tokenSeparators[l],!((o=e.indexOf(h))>=0));l++);if(0>o)break;if(s=e.substring(0,o),e=e.substring(o+h.length),s.length>0&&(s=r.createSearchChoice.call(this,s,i))!==t&&null!==s&&r.id(s)!==t&&null!==r.id(s)){for(u=!1,l=0,c=i.length;c>l;l++)if(a(r.id(s),r.id(i[l]))){u=!0;break}u||n(s)}}return d!==e?e:void 0},escapeMarkup:g,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:m,local:v,tags:b},util:{debounce:c,markMatch:f,escapeMarkup:g,stripDiacritics:i},class:{abstract:C,single:S,multi:T}}}}(jQuery)},function(e,t){!function(){"use strict";if(!window.hasOwnProperty("TEST_BUILD")){window.templateEngine=new function(){var e={createTemplate:function(e){return $("#"+e.replace(".","\\.")).html(),{render:function(t){return e=e.replace(".ejs",""),window.JST["templates/"+e](t)}}}};return e}}}()},function(e,t){!function(){"use strict";var e=null;window.isCoordinator=function(t){if(null===e){var i="cluster/amICoordinator";frontendConfig.react&&(i=arangoHelper.databaseUrl("/_admin/aardvark/cluster/amICoordinator")),$.ajax(i,{async:!0,success:function(i){e=i,t(!1,i)},error:function(i){e=i,t(!0,i)}})}else t(!1,e)},window.versionHelper={fromString:function(e){var t=e.replace(/-[a-zA-Z0-9_-]*$/g,"").split(".");return{major:parseInt(t[0],10)||0,minor:parseInt(t[1],10)||0,patch:parseInt(t[2],10)||0,toString:function(){return this.major+"."+this.minor+"."+this.patch}}},toString:function(e){return e.major+"."+e.minor+"."+e.patch},toDocuVersion:function(e){return e.toLowerCase().indexOf("devel")>=0||e.toLowerCase().indexOf("rc")>=0?"devel":e.substring(0,3)}},window.arangoHelper={alphabetColors:{a:"rgb(0,0,180)",b:"rgb(175,13,102)",c:"rgb(146,248,70)",d:"rgb(255,200,47)",e:"rgb(255,118,0)",f:"rgb(185,185,185)",g:"rgb(235,235,222)",h:"rgb(100,100,100)",i:"rgb(255,255,0)",j:"rgb(55,19,112)",k:"rgb(255,255,150)",l:"rgb(202,62,94)",m:"rgb(205,145,63)",n:"rgb(12,75,100)",o:"rgb(255,0,0)",p:"rgb(175,155,50)",q:"rgb(0,0,0)",r:"rgb(37,70,25)",s:"rgb(121,33,135)",t:"rgb(83,140,208)",u:"rgb(0,154,37)",v:"rgb(178,220,205)",w:"rgb(255,152,213)",x:"rgb(0,0,74)",y:"rgb(175,200,74)",z:"rgb(63,25,12)"},statusColors:{fatal:"#ad5148",info:"rgb(88, 214, 141)",error:"rgb(236, 112, 99)",warning:"#ffb075",debug:"rgb(64, 74, 83)"},getCurrentJwt:function(){return sessionStorage.getItem("jwt")},getCurrentJwtUsername:function(){return sessionStorage.getItem("jwtUser")},setCurrentJwt:function(e,t){sessionStorage.setItem("jwt",e),sessionStorage.setItem("jwtUser",t)},checkJwt:function(){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_api/version"),contentType:"application/json",processData:!1,async:!0,error:function(e){401===e.status&&window.App.navigate("login",{trigger:!0})}})},getCoordinatorShortName:function(e){var t;return window.clusterHealth&&_.each(window.clusterHealth,function(i,n){e===n&&(t=i.ShortName)}),arangoHelper.escapeHtml(t)},getDatabaseShortName:function(e){return this.getCoordinatorShortName(e)},getDatabaseServerId:function(e){var t;return window.clusterHealth&&_.each(window.clusterHealth,function(i,n){e===i.ShortName&&(t=n)}),t},lastNotificationMessage:null,CollectionTypes:{},systemAttributes:function(){return{_id:!0,_rev:!0,_key:!0,_bidirectional:!0,_vertices:!0,_from:!0,_to:!0,$id:!0}},getCurrentSub:function(){return window.App.naviView.activeSubMenu},parseError:function(e,t){var i;try{i=JSON.parse(t.responseText).errorMessage}catch(n){i=n}this.arangoError(e,i)},setCheckboxStatus:function(e){_.each($(e).find("ul").find("li"),function(e){$(e).hasClass("nav-header")||($(e).find("input").attr("checked")?$(e).find("i").hasClass("css-round-label")?($(e).find("i").removeClass("fa-circle-o"),$(e).find("i").addClass("fa-dot-circle-o")):($(e).find("i").removeClass("fa-square-o"),$(e).find("i").addClass("fa-check-square-o")):$(e).find("i").hasClass("css-round-label")?($(e).find("i").removeClass("fa-dot-circle-o"),$(e).find("i").addClass("fa-circle-o")):($(e).find("i").removeClass("fa-check-square-o"),$(e).find("i").addClass("fa-square-o")))})},parseInput:function(e){var t,i=$(e).val();try{t=JSON.parse(i)}catch(n){t=i}return t},calculateCenterDivHeight:function(){var e=$(".navbar").height(),t=$(".footer").height();return $(window).height()-t-e-110},createTooltips:function(e,t){var i=this,n={arrow:!0,multiple:!1,content:function(e){var t=e.getAttribute("title");return e.removeAttribute("title"),t}};if(t&&(n.placement=t),e||(e=".tippy"),"object"===typeof e)_.each(e,function(e){i.lastTooltips=new tippy(e,n)});else{if(e.indexOf(",")>-1){var a=e.split(",");_.each(a,function(e){i.lastTooltips=new tippy(e,n)})}this.lastTooltips=new tippy(e,n)}},fixTooltips:function(e,t){arangoHelper.createTooltips(e,t)},currentDatabase:function(e){return frontendConfig.db?e(!1,frontendConfig.db):e(!0,void 0),frontendConfig.db},allHotkeys:{jsoneditor:{name:"AQL editor",content:[{label:"Execute Query",letter:"Ctrl/Cmd + Return"},{label:"Execute Selected Query",letter:"Ctrl/Cmd + Alt + Return"},{label:"Explain Query",letter:"Ctrl/Cmd + Shift + Return"},{label:"Save Query",letter:"Ctrl/Cmd + Shift + S"},{label:"Open search",letter:"Ctrl + Space"},{label:"Toggle comments",letter:"Ctrl/Cmd + Shift + C"},{label:"Undo",letter:"Ctrl/Cmd + Z"},{label:"Redo",letter:"Ctrl/Cmd + Shift + Z"},{label:"Increase Font Size",letter:"Shift + Alt + Up"},{label:"Decrease Font Size",letter:"Shift + Alt + Down"}]},doceditor:{name:"Document editor",content:[{label:"Insert",letter:"Ctrl + Insert"},{label:"Save",letter:"Ctrl + Return, Cmd + Return"},{label:"Append",letter:"Ctrl + Shift + Insert"},{label:"Duplicate",letter:"Ctrl + D"},{label:"Remove",letter:"Ctrl + Delete"}]},modals:{name:"Modal",content:[{label:"Submit",letter:"Return"},{label:"Close",letter:"Esc"},{label:"Navigate buttons",letter:"Arrow keys"},{label:"Navigate content",letter:"Tab"}]}},hotkeysFunctions:{scrollDown:function(){window.scrollBy(0,180)},scrollUp:function(){window.scrollBy(0,-180)},showHotkeysModal:function(){var e=window.arangoHelper.allHotkeys;window.modalView.show("modalHotkeys.ejs","Keyboard Shortcuts",[],e)}},buildSubNavBar:function(e){var t;$("#subNavigationBar .bottom").html(""),_.each(e,function(e,i){t="",e.active&&(t+=" active"),e.disabled&&(t+=" disabled"),$("#subNavigationBar .bottom").append('<li class="subMenuEntry '+t+'"><a>'+i+"</a></li>"),e.disabled||$("#subNavigationBar .bottom").children().last().bind("click",function(){window.App.navigate(e.route,{trigger:!0})})})},buildUserSubNav:function(e,t){var i={General:{route:"#user/"+encodeURIComponent(e)},Permissions:{route:"#user/"+encodeURIComponent(e)+"/permission"}};i[t].active=!0,this.buildSubNavBar(i)},buildGraphSubNav:function(e,t){var i={Content:{route:"#graph/"+encodeURIComponent(e)},Settings:{route:"#graph/"+encodeURIComponent(e)+"/settings"}};i[t].active=!0,this.buildSubNavBar(i)},buildNodeSubNav:function(e,t,i){var n={Dashboard:{route:"#node/"+encodeURIComponent(e)}};n[t].active=!0,n[i].disabled=!0,this.buildSubNavBar(n)},buildNodesSubNav:function(e,t){var i={Overview:{route:"#nodes"},Shards:{route:"#shards"}};i[e].active=!0,t&&(i[t].disabled=!0),this.buildSubNavBar(i)},buildServicesSubNav:function(e,t){var i={Store:{route:"#services/install"},Upload:{route:"#services/install/upload"},New:{route:"#services/install/new"},GitHub:{route:"#services/install/github"},Remote:{route:"#services/install/remote"}};frontendConfig.foxxStoreEnabled||delete i.Store,i[e].active=!0,t&&(i[t].disabled=!0),this.buildSubNavBar(i)},scaleability:void 0,buildCollectionSubNav:function(e,t){var i={Content:{route:"#collection/"+encodeURIComponent(e)+"/documents/1"},Indexes:{route:"#cIndices/"+encodeURIComponent(e)},Info:{route:"#cInfo/"+encodeURIComponent(e)},Settings:{route:"#cSettings/"+encodeURIComponent(e)}};i[t].active=!0,this.buildSubNavBar(i)},enableKeyboardHotkeys:function(e){var t=window.arangoHelper.hotkeysFunctions;!0===e&&($(document).on("keydown",null,"j",t.scrollDown),$(document).on("keydown",null,"k",t.scrollUp))},databaseAllowed:function(e){var t=function(t,i){t?arangoHelper.arangoError("",""):$.ajax({type:"GET",cache:!1,url:this.databaseUrl("/_api/database/",i),contentType:"application/json",processData:!1,success:function(){e(!1,!0)},error:function(){e(!0,!1)}})}.bind(this);this.currentDatabase(t)},arangoNotification:function(e,t,i){window.App.notificationList.add({title:e,content:t,info:i,type:"success"})},arangoError:function(e,t,i){$("#offlinePlaceholder").is(":visible")||window.App.notificationList.add({title:e,content:t,info:i,type:"error"})},arangoWarning:function(e,t,i){window.App.notificationList.add({title:e,content:t,info:i,type:"warning"})},arangoMessage:function(e,t,i){window.App.notificationList.add({title:e,content:t,info:i,type:"info"})},hideArangoNotifications:function(){Noty.closeAll()},openDocEditor:function(e,t,i){var n=e.split("/"),a=this,r=new window.DocumentView({collection:window.App.arangoDocumentStore});r.breadcrumb=function(){},r.colid=n[0],r.docid=n[1],r.el=".arangoFrame .innerDiv",r.render(),r.setType(t),$(".arangoFrame .headerBar").remove(),$(".arangoFrame .outerDiv").prepend('<i class="fa fa-times"></i>'),$(".arangoFrame .outerDiv").click(function(){a.closeDocEditor()}),$(".arangoFrame .innerDiv").click(function(e){e.stopPropagation()}),$(".fa-times").click(function(){a.closeDocEditor()}),$(".arangoFrame").show(),r.customView=!0,r.customDeleteFunction=function(){window.modalView.hide(),$(".arangoFrame").hide()},r.customSaveFunction=function(e){a.closeDocEditor(),i&&i(e)},$(".arangoFrame #deleteDocumentButton").click(function(){r.deleteDocumentModal()}),$(".arangoFrame #saveDocumentButton").click(function(){r.saveDocument()}),$(".arangoFrame #deleteDocumentButton").css("display","none")},closeDocEditor:function(){$(".arangoFrame .outerDiv .fa-times").remove(),$(".arangoFrame").hide()},addAardvarkJob:function(e,t){$.ajax({cache:!1,type:"POST",url:this.databaseUrl("/_admin/aardvark/job"),data:JSON.stringify(e),contentType:"application/json",processData:!1,success:function(e){t&&t(!1,e)},error:function(e){t&&t(!0,e)}})},deleteAardvarkJob:function(e,t){$.ajax({cache:!1,type:"DELETE",url:this.databaseUrl("/_admin/aardvark/job/"+encodeURIComponent(e)),contentType:"application/json",processData:!1,success:function(e){t&&t(!1,e)},error:function(e){t&&t(!0,e)}})},deleteAllAardvarkJobs:function(e){$.ajax({cache:!1,type:"DELETE",url:this.databaseUrl("/_admin/aardvark/job"),contentType:"application/json",processData:!1,success:function(t){e&&e(!1,t)},error:function(t){e&&e(!0,t)}})},getAardvarkJobs:function(e){$.ajax({cache:!1,type:"GET",url:this.databaseUrl("/_admin/aardvark/job"),contentType:"application/json",processData:!1,success:function(t){e&&e(!1,t)},error:function(t){e&&e(!0,t)}})},getPendingJobs:function(e){$.ajax({cache:!1,type:"GET",url:this.databaseUrl("/_api/job/pending"),contentType:"application/json",processData:!1,success:function(t){e(!1,t)},error:function(t){e(!0,t)}})},syncAndReturnUnfinishedAardvarkJobs:function(e,t){var i=function(i,n){if(i)t(!0);else{var a=function(i,a){if(i)arangoHelper.arangoError("","");else{var r=[];a.length>0?_.each(n,function(t){if(t.type===e||void 0===t.type){var i=!1;_.each(a,function(e){t.id===e&&(i=!0)}),i?r.push({collection:t.collection,id:t.id,type:t.type,desc:t.desc}):window.arangoHelper.deleteAardvarkJob(t.id)}}):n.length>0&&this.deleteAllAardvarkJobs(),t(!1,r)}}.bind(this);this.getPendingJobs(a)}}.bind(this);this.getAardvarkJobs(i)},getRandomToken:function(){return Math.round((new Date).getTime())},isSystemAttribute:function(e){return this.systemAttributes()[e]},isSystemCollection:function(e){return"_"===e.name.substr(0,1)},setDocumentStore:function(e){this.arangoDocumentStore=e},collectionApiType:function(e,t,i){if(t||void 0===this.CollectionTypes[e]){var n=function(t,i,n){t?(arangoHelper.arangoError("Error","Could not detect collection type"),n&&n(t)):(this.CollectionTypes[e]=i.type,3===this.CollectionTypes[e]?n(!1,"edge",i):n(!1,"document",i))}.bind(this);this.arangoDocumentStore.getCollectionInfo(e,n,i)}else 3===this.CollectionTypes[e]?i(!1,"edge"):i(!1,"document")},collectionType:function(e){return e&&""!==e.name?(t=2===e.type?"document":3===e.type?"edge":"unknown",this.isSystemCollection(e)&&(t+=" (system)"),t):"-";var t},formatDT:function(e){var t=function(e){return e<10?"0"+e:e};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+" "+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())},escapeHtml:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},backendUrl:function(e){return frontendConfig.basePath+e},databaseUrl:function(e,t){if("/_db/"===e.substr(0,5))throw new Error("Calling databaseUrl with a databased url ("+e+") doesn't make any sense");return t||(t="_system",frontendConfig&&frontendConfig.db&&(t=frontendConfig.db)),t||(t="_system"),this.backendUrl("/_db/"+encodeURIComponent(t)+e)},showAuthDialog:function(){var e=!0;return"false"===localStorage.getItem("authenticationNotification")&&(e=!1),e},doNotShowAgain:function(){localStorage.setItem("authenticationNotification",!1)},renderEmpty:function(e,t){t?$("#content").html('<div class="noContent"><p>'+e+'<i class="'+t+'"></i></p></div>'):$("#content").html('<div class="noContent"><p>'+e+"</p></div>")},initSigma:function(){try{sigma.classes.graph.addMethod("neighbors",function(e){var t,i={},n=this.allNeighborsIndex[e]||{};for(t in n)i[t]=this.nodesIndex[t];return i}),sigma.classes.graph.addMethod("getNodeEdges",function(e){var t=this.edges(),i=[];return _.each(t,function(t){t.source!==e&&t.target!==e||i.push(t.id)}),i}),sigma.classes.graph.addMethod("getNodeEdgesCount",function(e){return this.allNeighborsCount[e]}),sigma.classes.graph.addMethod("getNodesCount",function(){return this.nodesArray.length})}catch(e){}},downloadLocalBlob:function(e,t){var i;if("csv"===t&&(i="text/csv; charset=utf-8"),"json"===t&&(i="application/json; charset=utf-8"),i){var n=new Blob([e],{type:i}),a=window.URL.createObjectURL(n),r=document.createElement("a");document.body.appendChild(r),r.style="display: none",r.href=a,r.download="results-"+window.frontendConfig.db+"."+t,r.click(),window.setTimeout(function(){window.URL.revokeObjectURL(a),document.body.removeChild(r)},500)}},download:function(e,t){$.ajax(e).success(function(e,i,n){if(t)t(e);else{var a=new Blob([JSON.stringify(e)],{type:n.getResponseHeader("Content-Type")||"application/octet-stream"}),r=window.URL.createObjectURL(a),s=document.createElement("a");document.body.appendChild(s),s.style="display: none",s.href=r,s.download=n.getResponseHeader("Content-Disposition").replace(/.* filename="([^")]*)"/,"$1"),s.click(),window.setTimeout(function(){window.URL.revokeObjectURL(r),document.body.removeChild(s)},500)}})},downloadPost:function(e,t,i,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){i&&i();var e=document.createElement("a");e.download=this.getResponseHeader("Content-Disposition").replace(/.* filename="([^")]*)"/,"$1"),document.body.appendChild(e);var t=window.URL.createObjectURL(this.response);e.href=t,e.click(),window.setTimeout(function(){window.URL.revokeObjectURL(t),document.body.removeChild(e)},500)}else 4===this.readyState&&void 0!==n&&n(this.status,this.statusText)},a.open("POST",e),window.arangoHelper.getCurrentJwt()&&a.setRequestHeader("Authorization","bearer "+window.arangoHelper.getCurrentJwt()),a.responseType="blob",a.send(t)},checkCollectionPermissions:function(e,t){var i=arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(window.App.userCollection.activeUser)+"/database/"+encodeURIComponent(frontendConfig.db)+"/"+encodeURIComponent(e));$.ajax({type:"GET",url:i,contentType:"application/json",success:function(e){"ro"===e.result&&t()},error:function(e){arangoHelper.arangoError("User","Could not fetch collection permissions.")}})},checkDatabasePermissions:function(e,t){var i=arangoHelper.databaseUrl("/_api/user/"+encodeURIComponent(window.App.userCollection.activeUser)+"/database/"+encodeURIComponent(frontendConfig.db));$.ajax({type:"GET",url:i,contentType:"application/json",success:function(i){"ro"===i.result?e&&e(!0):"rw"===i.result?t&&t(!1):"none"===i.result&&(frontendConfig.authenticationEnabled||t&&t(!1))},error:function(e){arangoHelper.arangoError("User","Could not fetch collection permissions.")}})},getFoxxFlags:function(){var e={},t=$("#new-app-flag-replace")[0];t&&(e.replace=Boolean(t.checked));var i=$("#new-app-flag-teardown")[0];i&&(e.teardown=Boolean(i.checked));var n=$("#new-app-flag-setup")[0];return n&&(e.setup=Boolean(n.checked)),e},createMountPointModal:function(e,t,i){var n,a=[],r=[];window.App.replaceApp&&(n=(n=window.App.replaceAppData.mount).substr(1,n.length)),r.push(window.modalView.createTextEntry("new-app-mount","Mount point",n,"The path the app will be mounted. Is not allowed to start with _","mountpoint",!1,[{rule:Joi.string().required(),msg:""}])),window.App.replaceApp&&r.push(window.modalView.createCheckboxEntry("new-app-flag-teardown","Run teardown?",!1,"Should the existing service's teardown script be executed before replacing the service?",!1)),r.push(window.modalView.createCheckboxEntry("new-app-flag-setup","Run setup?",!0,"Should this service's setup script be executed after installing the service?",!0)),window.App.replaceApp?(r.push(window.modalView.createCheckboxEntry("new-app-flag-replace","Discard configuration and dependency files?",!1,"Should this service's existing configuration and settings be removed completely before replacing the service?",!1)),a.push(window.modalView.createSuccessButton("Replace",e))):a.push(window.modalView.createSuccessButton("Install",e));var s="Create Foxx Service";window.App.replaceApp&&(s="Replace Foxx Service ("+window.App.replaceAppData.mount+")"),window.modalView.show("modalTable.ejs",s,a,r),window.App.replaceApp?($("#new-app-mount").attr("disabled","true"),$("#new-app-replace").attr("checked",!1),$("#new-app-replace").on("click",function(){$("#new-app-replace").prop("checked")?$("#new-app-teardown").attr("disabled",!0):$("#new-app-teardown").attr("disabled",!1)})):window.modalView.modalBindValidation({id:"new-app-mount",validateInput:function(){return[{rule:Joi.string().regex(/(\/|^)APP(\/|$)/i,{invert:!0}),msg:"May not contain APP"},{rule:Joi.string().regex(/^([a-zA-Z0-9_\-\/]+)+$/),msg:"Can only contain [a-zA-Z0-9_-/]"},{rule:Joi.string().regex(/([^_]|_open\/)/),msg:"Mountpoints with _ are reserved for internal use"},{rule:Joi.string().regex(/[^\/]$/),msg:"May not end with /"},{rule:Joi.string().required().min(1),msg:"Has to be non-empty"}]}})}}}()},function(module,exports){var t;!function(e,t){function i(t,i){var a,r,s,o=t.nodeName.toLowerCase();return"area"===o?(r=(a=t.parentNode).name,!(!t.href||!r||"map"!==a.nodeName.toLowerCase())&&(!!(s=e("img[usemap=#"+r+"]")[0])&&n(s))):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o&&t.href||i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var a=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var n=this;setTimeout(function(){e(n).focus(),i&&i.call(n)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,a,r=e(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(a=parseInt(r.css("zIndex"),10),!isNaN(a)&&0!==a))return a;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),a=isNaN(n);return(a||n>=0)&&i(t,!a)}}),e(function(){var t=document.body,i=t.appendChild(i=document.createElement("div"));i.offsetHeight,e.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===i.offsetHeight,e.support.selectstart="onselectstart"in i,t.removeChild(i).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function a(t,i,n,a){return e.each(r,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var r="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?o["inner"+n].call(this):this.each(function(){e(this).css(s,a(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){e(this).css(s,a(this,t,!0,i)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=!!t.length,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var a,r=e.ui[t].prototype;for(a in n)r.plugins[a]=r.plugins[a]||[],r.plugins[a].push([i,n[a]])},call:function(e,t,i){var n,a=e.plugins[t];if(a&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<a.length;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}},contains:e.contains,hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",a=!1;return t[n]>0||(t[n]=1,a=t[n]>0,t[n]=0,a)},isOverAxis:function(e,t,i){return e>t&&t+i>e},isOver:function(t,i,n,a,r,s){return e.ui.isOverAxis(t,n,r)&&e.ui.isOverAxis(i,a,s)}}))}(jQuery),function(e,t){var i=0,n=Array.prototype.slice,a=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(r){}a(t)},e.widget=function(t,i,n){var a,r,s,o,l=t.split(".")[0];t=t.split(".")[1],a=l+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[l]=e[l]||{},r=e[l][t],s=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(o=new i).options=e.widget.extend({},o.options),e.each(n,function(t,a){e.isFunction(a)&&(n[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,r=this._superApply;return this._super=e,this._superApply=n,t=a.apply(this,arguments),this._super=i,this._superApply=r,t}}())}),s.prototype=e.widget.extend(o,{widgetEventPrefix:r?o.widgetEventPrefix:t},n,{constructor:s,namespace:l,widgetName:t,widgetBaseClass:a,widgetFullName:a}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete r._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(i){for(var a,r,s=n.call(arguments,1),o=0,l=s.length;l>o;o++)for(a in s[o])r=s[o][a],s[o].hasOwnProperty(a)&&r!==t&&(e.isPlainObject(r)?i[a]=e.isPlainObject(i[a])?e.widget.extend({},i[a],r):e.widget.extend({},r):i[a]=r);return i},e.widget.bridge=function(i,a){var r=a.prototype.widgetFullName||i;e.fn[i]=function(s){var o="string"==typeof s,l=n.call(arguments,1),c=this;return s=!o&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,o?this.each(function(){var n,a=e.data(this,r);return a?e.isFunction(a[s])&&"_"!==s.charAt(0)?(n=a[s].apply(a,l))!==a&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+s+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+s+"'")}):this.each(function(){var t=e.data(this,r);t?t.option(s||{})._init():e.data(this,r,new a(s,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetName,this),e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var a,r,s,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},a=i.split("."),i=a.shift(),a.length){for(r=o[i]=e.widget.extend({},this.options[i]),s=0;s<a.length-1;s++)r[a[s]]=r[a[s]]||{},r=r[a[s]];if(i=a.pop(),n===t)return r[i]===t?null:r[i];r[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];o[i]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var a,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=a=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,a=this.widget()),e.each(n,function(n,s){function o(){return t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?r[s]:s).apply(r,arguments):void 0}"string"!=typeof s&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+r.eventNamespace,h=l[2];h?a.delegate(h,c,o):i.bind(c,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var a,r,s=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(a in r)a in i||(i[a]=r[a]);return this.element.trigger(i,n),!(e.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,a,r){"string"==typeof a&&(a={effect:a});var s,o=a?!0===a||"number"==typeof a?i:a.effect||i:t;"number"==typeof(a=a||{})&&(a={duration:a}),s=!e.isEmptyObject(a),a.complete=r,a.delay&&n.delay(a.delay),s&&e.effects&&(e.effects.effect[o]||!1!==e.uiBackCompat&&e.effects[o])?n[t](a):o!==t&&n[o]?n[o](a.duration,a.easing,r):n.queue(function(i){e(this)[t](),r&&r.call(n[0]),i()})}}),!1!==e.uiBackCompat&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e,t){var i=!1;e(document).mouseup(function(e){i=!1}),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!i){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,a=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(a&&!r&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),i=!0,!0))}},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(e,t){function i(e,t,i){return[parseInt(e[0],10)*(u.test(e[0])?t/100:1),parseInt(e[1],10)*(u.test(e[1])?i/100:1)]}function n(t,i){return parseInt(e.css(t,i),10)||0}e.ui=e.ui||{};var a,r=Math.max,s=Math.abs,o=Math.round,l=/left|center|right/,c=/top|center|bottom/,h=/[\+\-]\d+%?/,d=/^\w+/,u=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(a!==t)return a;var i,n,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),i=s.offsetWidth,r.css("overflow","scroll"),i===(n=s.offsetWidth)&&(n=r[0].clientWidth),r.remove(),a=i-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),a="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,r="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var a,u,f,g,m,v=e(t.of),b=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(b),y=v[0],_=(t.collision||"flip").split(" "),x={};return 9===y.nodeType?(u=v.width(),f=v.height(),g={top:0,left:0}):e.isWindow(y)?(u=v.width(),f=v.height(),g={top:v.scrollTop(),left:v.scrollLeft()}):y.preventDefault?(t.at="left top",u=f=0,g={top:y.pageY,left:y.pageX}):(u=v.outerWidth(),f=v.outerHeight(),g=v.offset()),m=e.extend({},g),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=l.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=l.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",e=h.exec(n[0]),i=h.exec(n[1]),x[this]=[e?e[0]:0,i?i[0]:0],t[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===t.at[0]?m.left+=u:"center"===t.at[0]&&(m.left+=u/2),"bottom"===t.at[1]?m.top+=f:"center"===t.at[1]&&(m.top+=f/2),a=i(x.at,u,f),m.left+=a[0],m.top+=a[1],this.each(function(){var l,c,h=e(this),d=h.outerWidth(),p=h.outerHeight(),y=n(this,"marginLeft"),C=n(this,"marginTop"),S=d+y+n(this,"marginRight")+w.width,T=p+C+n(this,"marginBottom")+w.height,k=e.extend({},m),A=i(x.my,h.outerWidth(),h.outerHeight());"right"===t.my[0]?k.left-=d:"center"===t.my[0]&&(k.left-=d/2),"bottom"===t.my[1]?k.top-=p:"center"===t.my[1]&&(k.top-=p/2),k.left+=A[0],k.top+=A[1],e.support.offsetFractions||(k.left=o(k.left),k.top=o(k.top)),l={marginLeft:y,marginTop:C},e.each(["left","top"],function(i,n){e.ui.position[_[i]]&&e.ui.position[_[i]][n](k,{targetWidth:u,targetHeight:f,elemWidth:d,elemHeight:p,collisionPosition:l,collisionWidth:S,collisionHeight:T,offset:[a[0]+A[0],a[1]+A[1]],my:t.my,at:t.at,within:b,elem:h})}),e.fn.bgiframe&&h.bgiframe(),t.using&&(c=function(e){var i=g.left-k.left,n=i+u-d,a=g.top-k.top,o=a+f-p,l={target:{element:v,left:g.left,top:g.top,width:u,height:f},element:{element:h,left:k.left,top:k.top,width:d,height:p},horizontal:0>n?"left":i>0?"right":"center",vertical:0>o?"top":a>0?"bottom":"middle"};d>u&&s(i+n)<u&&(l.horizontal="center"),p>f&&s(a+o)<f&&(l.vertical="middle"),r(s(i),s(n))>r(s(a),s(o))?l.important="horizontal":l.important="vertical",t.using.call(this,e,l)}),h.offset(e.extend(k,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,a=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,l=a-o,c=o+t.collisionWidth-s-a;t.collisionWidth>s?l>0&&0>=c?(i=e.left+l+t.collisionWidth-s-a,e.left+=l-i):e.left=c>0&&0>=l?a:l>c?a+s-t.collisionWidth:a:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-o,e.left)},top:function(e,t){var i,n=t.within,a=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,l=a-o,c=o+t.collisionHeight-s-a;t.collisionHeight>s?l>0&&0>=c?(i=e.top+l+t.collisionHeight-s-a,e.top+=l-i):e.top=c>0&&0>=l?a:l>c?a+s-t.collisionHeight:a:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-o,e.top)}},flip:{left:function(e,t){var i,n,a=t.within,r=a.offset.left+a.scrollLeft,o=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,c=e.left-t.collisionPosition.marginLeft,h=c-l,d=c+t.collisionWidth-o-l,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>h?(0>(i=e.left+u+p+f+t.collisionWidth-o-r)||i<s(h))&&(e.left+=u+p+f):d>0&&(((n=e.left-t.collisionPosition.marginLeft+u+p+f-l)>0||s(n)<d)&&(e.left+=u+p+f))},top:function(e,t){var i,n,a=t.within,r=a.offset.top+a.scrollTop,o=a.height,l=a.isWindow?a.scrollTop:a.offset.top,c=e.top-t.collisionPosition.marginTop,h=c-l,d=c+t.collisionHeight-o-l,u="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];0>h?(n=e.top+u+p+f+t.collisionHeight-o-r,e.top+u+p+f>h&&(0>n||n<s(h))&&(e.top+=u+p+f)):d>0&&(i=e.top-t.collisionPosition.marginTop+u+p+f-l,e.top+u+p+f>d&&(i>0||s(i)<d)&&(e.top+=u+p+f))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,a,r,s=document.getElementsByTagName("body")[0],o=document.createElement("div");for(r in t=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)t.style[r]=n[r];t.appendChild(o),(i=s||document.documentElement).insertBefore(t,i.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",a=e(o).offset().left,e.support.offsetFractions=a>10&&11>a,t.innerHTML="",i.removeChild(t)}(),!1!==e.uiBackCompat&&function(e){var i=e.fn.position;e.fn.position=function(n){if(!n||!n.offset)return i.call(this,n);var a=n.offset.split(" "),r=n.at.split(" ");return 1===a.length&&(a[1]=a[0]),/^\d/.test(a[0])&&(a[0]="+"+a[0]),/^\d/.test(a[1])&&(a[1]="+"+a[1]),1===r.length&&(/left|center|right/.test(r[0])?r[1]="center":(r[1]=r[0],r[0]="center")),i.call(this,e.extend(n,{at:r[0]+a[0]+" "+r[1]+a[1],offset:t}))}}(jQuery)}(jQuery),t=jQuery,t.widget("ui.draggable",t.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===i.iframeFix?"iframe":i.iframeFix).each(function(){t('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=!1;t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1);for(var n=this.element[0],a=!1;n&&(n=n.parentNode);)n==document&&(a=!0);if(!a&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var r=this;t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==r._trigger("stop",e)&&r._clear()})}else!1!==this._trigger("stop",e)&&this._clear();return!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var i=!this.options.handle||!t(this.options.handle,this.element).length;return t(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(i=!0)}),i},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),n[0]==this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=["document"==e.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==e.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==e.containment?0:t(window).scrollLeft())+t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==e.containment?0:t(window).scrollTop())+(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array)e.containment.constructor==Array&&(this.containment=e.containment);else{var i=t(e.containment),n=i[0];if(!n)return;var a=(i.offset(),"hidden"!=t(n).css("overflow"));this.containment=[(parseInt(t(n).css("borderLeftWidth"),10)||0)+(parseInt(t(n).css("paddingLeft"),10)||0),(parseInt(t(n).css("borderTopWidth"),10)||0)+(parseInt(t(n).css("paddingTop"),10)||0),(a?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t(n).css("borderLeftWidth"),10)||0)-(parseInt(t(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t(n).css("borderTopWidth"),10)||0)-(parseInt(t(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"==e?1:-1,a=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(a[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:a.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:a.scrollLeft())*n}},_generatePosition:function(e){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName),r=e.pageX,s=e.pageY;if(this.originalPosition){var o;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();o=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else o=this.containment;e.pageX-this.offset.click.left<o[0]&&(r=o[0]+this.offset.click.left),e.pageY-this.offset.click.top<o[1]&&(s=o[1]+this.offset.click.top),e.pageX-this.offset.click.left>o[2]&&(r=o[2]+this.offset.click.left),e.pageY-this.offset.click.top>o[3]&&(s=o[3]+this.offset.click.top)}if(i.grid){var c=i.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;s=o&&(c-this.offset.click.top<o[1]||c-this.offset.click.top>o[3])?c-this.offset.click.top<o[1]?c+i.grid[1]:c-i.grid[1]:c;var h=i.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;r=o&&(h-this.offset.click.left<o[0]||h-this.offset.click.left>o[2])?h-this.offset.click.left<o[0]?h+i.grid[0]:h-i.grid[0]:h}}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("draggable"),a=n.options,r=t.extend({},i,{item:n.element});n.sortables=[],t(a.connectToSortable).each(function(){var i=t.data(this,"sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,r))})},stop:function(e,i){var n=t(this).data("draggable"),a=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,a))})},drag:function(e,i){var n=t(this).data("draggable"),a=this;t.each(n.sortables,function(r){var s=!1,o=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!=o&&this.instance._intersectsWith(this.instance.containerCache)&&t.ui.contains(o.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(a).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i){var n=t("body"),a=t(this).data("draggable").options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(e,i){var n=t(this).data("draggable").options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),a=t(this).data("draggable").options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(e,i){var n=t(this).data("draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(e,i){var n=t(this).data("draggable");n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset())},drag:function(e,i){var n=t(this).data("draggable"),a=n.options,r=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(a.axis&&"x"==a.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-n.overflowOffset.top<a.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-a.scrollSpeed)),a.axis&&"y"==a.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-n.overflowOffset.left<a.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-a.scrollSpeed))):(a.axis&&"x"==a.axis||(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed))),a.axis&&"y"==a.axis||(e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i){var n=t(this).data("draggable"),a=n.options;n.snapElements=[],t(a.snap.constructor!=String?a.snap.items||":data(draggable)":a.snap).each(function(){var e=t(this),i=e.offset();this!=n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i){for(var n=t(this).data("draggable"),a=n.options,r=a.snapTolerance,s=i.offset.left,o=s+n.helperProportions.width,l=i.offset.top,c=l+n.helperProportions.height,h=n.snapElements.length-1;h>=0;h--){var d=n.snapElements[h].left,u=d+n.snapElements[h].width,p=n.snapElements[h].top,f=p+n.snapElements[h].height;if(s>d-r&&u+r>s&&l>p-r&&f+r>l||s>d-r&&u+r>s&&c>p-r&&f+r>c||o>d-r&&u+r>o&&l>p-r&&f+r>l||o>d-r&&u+r>o&&c>p-r&&f+r>c){if("inner"!=a.snapMode){var g=Math.abs(p-c)<=r,m=Math.abs(f-l)<=r,v=Math.abs(d-o)<=r,b=Math.abs(u-s)<=r;g&&(i.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d-n.helperProportions.width}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left-n.margins.left)}var w=g||m||v||b;"outer"!=a.snapMode&&(g=Math.abs(p-l)<=r,m=Math.abs(f-c)<=r,v=Math.abs(d-s)<=r,b=Math.abs(u-o)<=r,g&&(i.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[h].snapping&&(g||m||v||b||w)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=g||m||v||b||w}else n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1}}}),t.ui.plugin.add("draggable","stack",{start:function(e,i){var n=t(this).data("draggable").options,a=t.makeArray(t(n.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(a.length){var r=parseInt(a[0].style.zIndex)||0;t(a).each(function(e){this.style.zIndex=r+e}),this[0].style.zIndex=r+a.length}}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),a=t(this).data("draggable").options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(e,i){var n=t(this).data("draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),function(e,t){e.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],i=0;i<t.length;i++)t[i]==this&&t.splice(i,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"==t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return!1;var a=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope==n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(a=!0,!1):void 0}),!a&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(t,i,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left,r=a+t.helperProportions.width,s=(t.positionAbs||t.position.absolute).top,o=s+t.helperProportions.height,l=i.offset.left,c=l+i.proportions.width,h=i.offset.top,d=h+i.proportions.height;switch(n){case"fit":return a>=l&&c>=r&&s>=h&&d>=o;case"intersect":return l<a+t.helperProportions.width/2&&r-t.helperProportions.width/2<c&&h<s+t.helperProportions.height/2&&o-t.helperProportions.height/2<d;case"pointer":var u=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,p=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top;return e.ui.isOver(p,u,h,l,i.proportions.height,i.proportions.width);case"touch":return(s>=h&&d>=s||o>=h&&d>=o||h>s&&o>d)&&(a>=l&&c>=a||r>=l&&c>=r||l>a&&r>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n=e.ui.ddmanager.droppables[t.options.scope]||[],a=i?i.type:null,r=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var s=0;s<n.length;s++)if(!(n[s].options.disabled||t&&!n[s].accept.call(n[s].element[0],t.currentItem||t.element))){for(var o=0;o<r.length;o++)if(r[o]==n[s].element[0]){n[s].proportions.height=0;continue e}n[s].visible="none"!=n[s].element.css("display"),n[s].visible&&("mousedown"==a&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions={width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight})}},drop:function(t,i){var n=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n=e.ui.intersect(t,this,this.options.tolerance),a=n||1!=this.isover?n&&0==this.isover?"isover":null:"isout";if(a){var r;if(this.options.greedy){var s=this.options.scope,o=this.element.parents(":data(droppable)").filter(function(){return e.data(this,"droppable").options.scope===s});o.length&&((r=e.data(o[0],"droppable")).greedyChild="isover"==a?1:0)}r&&"isover"==a&&(r.isover=0,r.isout=1,r._out.call(r,i)),this[a]=1,this["isout"==a?"isover":"isout"]=0,this["isover"==a?"_over":"_out"].call(this,i),r&&"isout"==a&&(r.isout=0,r.isover=1,r._over.call(r,i))}}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(e,t){e.widget("ui.resizable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,i=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=i.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var a=0;a<n.length;a++){var r=e.trim(n[a]),s=e('<div class="ui-resizable-handle '+("ui-resizable-"+r)+'"></div>');s.css({zIndex:i.zIndex}),"se"==r&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(s)}}this._renderAxis=function(t){for(var i in t=t||this.element,this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n,a=e(this.handles[i],this.element);n=/sw|ne|nw|se|n|s/.test(i)?a.outerHeight():a.outerWidth();var r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");t.css(r,n),this._proportionallyResize()}e(this.handles[i]).length}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),i.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){i.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())}).mouseleave(function(){i.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var i=this.element;this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")}).insertAfter(i),i.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var i=!1;for(var n in this.handles)e(this.handles[n])[0]==t.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n=this.options,a=this.element.position(),r=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(r.is(".ui-draggable")||/absolute/.test(r.css("position")))&&r.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy();var s=i(this.helper.css("left")),o=i(this.helper.css("top"));n.containment&&(s+=e(n.containment).scrollLeft()||0,o+=e(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:o},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:s,top:o},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor","auto"==l?this.axis+"-resize":l),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(e){var t=this.helper,i=(this.options,this.originalMousePosition),n=this.axis,a=e.pageX-i.left||0,r=e.pageY-i.top||0,s=this._change[n];if(!s)return!1;var o=s.apply(this,[e,a,r]);return this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(o=this._updateRatio(o,e)),o=this._respectSize(o,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(o),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var i=this.options,n=this;if(this._helper){var a=this._proportionallyResizeElements,r=a.length&&/textarea/i.test(a[0].nodeName),s=r&&e.ui.hasScroll(a[0],"left")?0:n.sizeDiff.height,o=r?0:n.sizeDiff.width,l={width:n.helper.width()-o,height:n.helper.height()-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,h=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;i.animate||this.element.css(e.extend(l,{top:h,left:c})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!i.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,a,r,s,o=this.options;s={minWidth:n(o.minWidth)?o.minWidth:0,maxWidth:n(o.maxWidth)?o.maxWidth:1/0,minHeight:n(o.minHeight)?o.minHeight:0,maxHeight:n(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,a=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),a>s.minHeight&&(s.minHeight=a),i<s.maxWidth&&(s.maxWidth=i),r<s.maxHeight&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(e){this.options,this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var i=(this.options,this.position),a=this.size,r=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==r&&(e.left=i.left+(a.width-e.width),e.top=null),"nw"==r&&(e.top=i.top+(a.height-e.height),e.left=i.left+(a.width-e.width)),e},_respectSize:function(e,t){var i=(this.helper,this._vBoundaries),a=(this._aspectRatio||t.shiftKey,this.axis),r=n(e.width)&&i.maxWidth&&i.maxWidth<e.width,s=n(e.height)&&i.maxHeight&&i.maxHeight<e.height,o=n(e.width)&&i.minWidth&&i.minWidth>e.width,l=n(e.height)&&i.minHeight&&i.minHeight>e.height;o&&(e.width=i.minWidth),l&&(e.height=i.minHeight),r&&(e.width=i.maxWidth),s&&(e.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,d=/sw|nw|w/.test(a),u=/nw|ne|n/.test(a);o&&d&&(e.left=c-i.minWidth),r&&d&&(e.left=c-i.maxWidth),l&&u&&(e.top=h-i.minHeight),s&&u&&(e.top=h-i.maxHeight);var p=!e.width&&!e.height;return p&&!e.left&&e.top?e.top=null:p&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var t=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var n=this._proportionallyResizeElements[i];if(!this.borderDif){var a=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],r=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];this.borderDif=e.map(a,function(e,t){return(parseInt(e,10)||0)+(parseInt(r[t],10)||0)})}n.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,i=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var n=e.ui.ie6?1:0,a=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+a,height:this.element.outerHeight()+a,position:"absolute",left:this.elementOffset.left-n+"px",top:this.elementOffset.top-n+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,i){return{width:this.originalSize.width+t}},w:function(e,t,i){var n=(this.options,this.originalSize);return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,i){var n=(this.options,this.originalSize),a=this.originalPosition;return{top:a.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!=t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","alsoResize",{start:function(t,i){var n=e(this).data("resizable").options,a=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?a(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],a(n.alsoResize)):e.each(n.alsoResize,function(e){a(e)})},resize:function(t,i){var n=e(this).data("resizable"),a=n.options,r=n.originalSize,s=n.originalPosition,o={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0},l=function(t,n){e(t).each(function(){var t=e(this),a=e(this).data("resizable-alsoresize"),r={},s=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var i=(a[t]||0)+(o[t]||0);i&&i>=0&&(r[t]=i||null)}),t.css(r)})};"object"!=typeof a.alsoResize||a.alsoResize.nodeType?l(a.alsoResize):e.each(a.alsoResize,function(e,t){l(e,t)})},stop:function(t,i){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t,i){var n=e(this).data("resizable"),a=n.options,r=n._proportionallyResizeElements,s=r.length&&/textarea/i.test(r[0].nodeName),o=s&&e.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,l=s?0:n.sizeDiff.width,c={width:n.size.width-l,height:n.size.height-o},h=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,d=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(c,d&&h?{top:d,left:h}:{}),{duration:a.animateDuration,easing:a.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(t,n){var a=e(this).data("resizable"),r=a.options,s=a.element,o=r.containment,l=o instanceof e?o.get(0):/parent/.test(o)?s.parent().get(0):o;if(l)if(a.containerElement=e(l),/document/.test(o)||o==document)a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var c=e(l),h=[];e(["Top","Right","Left","Bottom"]).each(function(e,t){h[e]=i(c.css("padding"+t))}),a.containerOffset=c.offset(),a.containerPosition=c.position(),a.containerSize={height:c.innerHeight()-h[3],width:c.innerWidth()-h[1]};var d=a.containerOffset,u=a.containerSize.height,p=a.containerSize.width,f=e.ui.hasScroll(l,"left")?l.scrollWidth:p,g=e.ui.hasScroll(l)?l.scrollHeight:u;a.parentData={element:l,left:d.left,top:d.top,width:f,height:g}}},resize:function(t,i){var n=e(this).data("resizable"),a=n.options,r=(n.containerSize,n.containerOffset),s=(n.size,n.position),o=n._aspectRatio||t.shiftKey,l={top:0,left:0},c=n.containerElement;c[0]!=document&&/static/.test(c.css("position"))&&(l=r),s.left<(n._helper?r.left:0)&&(n.size.width=n.size.width+(n._helper?n.position.left-r.left:n.position.left-l.left),o&&(n.size.height=n.size.width/n.aspectRatio),n.position.left=a.helper?r.left:0),s.top<(n._helper?r.top:0)&&(n.size.height=n.size.height+(n._helper?n.position.top-r.top:n.position.top),o&&(n.size.width=n.size.height*n.aspectRatio),n.position.top=n._helper?r.top:0),n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top;var h=Math.abs((n._helper,n.offset.left-l.left+n.sizeDiff.width)),d=Math.abs((n._helper?n.offset.top-l.top:n.offset.top-r.top)+n.sizeDiff.height),u=n.containerElement.get(0)==n.element.parent().get(0),p=/relative|absolute/.test(n.containerElement.css("position"));u&&p&&(h-=n.parentData.left),h+n.size.width>=n.parentData.width&&(n.size.width=n.parentData.width-h,o&&(n.size.height=n.size.width/n.aspectRatio)),d+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-d,o&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(t,i){var n=e(this).data("resizable"),a=n.options,r=(n.position,n.containerOffset),s=n.containerPosition,o=n.containerElement,l=e(n.helper),c=l.offset(),h=l.outerWidth()-n.sizeDiff.width,d=l.outerHeight()-n.sizeDiff.height;n._helper&&!a.animate&&/relative/.test(o.css("position"))&&e(this).css({left:c.left-s.left-r.left,width:h,height:d}),n._helper&&!a.animate&&/static/.test(o.css("position"))&&e(this).css({left:c.left-s.left-r.left,width:h,height:d})}}),e.ui.plugin.add("resizable","ghost",{start:function(t,i){var n=e(this).data("resizable"),a=n.options,r=n.size;n.ghost=n.originalElement.clone(),n.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof a.ghost?a.ghost:""),n.ghost.appendTo(n.helper)},resize:function(t,i){var n=e(this).data("resizable");n.options,n.ghost&&n.ghost.css({position:"relative",height:n.size.height,width:n.size.width})},stop:function(t,i){var n=e(this).data("resizable");n.options,n.ghost&&n.helper&&n.helper.get(0).removeChild(n.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t,i){var n=e(this).data("resizable"),a=n.options,r=n.size,s=n.originalSize,o=n.originalPosition,l=n.axis;a._aspectRatio||t.shiftKey,a.grid="number"==typeof a.grid?[a.grid,a.grid]:a.grid;var c=Math.round((r.width-s.width)/(a.grid[0]||1))*(a.grid[0]||1),h=Math.round((r.height-s.height)/(a.grid[1]||1))*(a.grid[1]||1);/^(se|s|e)$/.test(l)?(n.size.width=s.width+c,n.size.height=s.height+h):/^(ne)$/.test(l)?(n.size.width=s.width+c,n.size.height=s.height+h,n.position.top=o.top-h):/^(sw)$/.test(l)?(n.size.width=s.width+c,n.size.height=s.height+h,n.position.left=o.left-c):(n.size.width=s.width+c,n.size.height=s.height+h,n.position.top=o.top-h,n.position.left=o.left-c)}});var i=function(e){return parseInt(e,10)||0},n=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(i.options.filter,i.element[0])).addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var n=this.options;this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().andSelf().each(function(){var n=e.data(this,"selectable-item");if(n){var a=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected");return n.$element.removeClass(a?"ui-unselecting":"ui-selected").addClass(a?"ui-selecting":"ui-unselecting"),n.unselecting=!a,n.selecting=a,n.selected=a,a?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1}})}},_mouseDrag:function(t){var i=this;if(this.dragged=!0,!this.options.disabled){var n=this.options,a=this.opos[0],r=this.opos[1],s=t.pageX,o=t.pageY;if(a>s){var l=s;s=a,a=l}if(r>o){l=o;o=r,r=l}return this.helper.css({left:a,top:r,width:s-a,height:o-r}),this.selectees.each(function(){var l=e.data(this,"selectable-item");if(l&&l.element!=i.element[0]){var c=!1;"touch"==n.tolerance?c=!(l.left>s||l.right<a||l.top>o||l.bottom<r):"fit"==n.tolerance&&(c=l.left>a&&l.right<s&&l.top>r&&l.bottom<o),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,i._trigger("selecting",t,{selecting:l.element}))):(l.selecting&&((t.metaKey||t.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),i._trigger("unselecting",t,{unselecting:l.element}))),l.selected&&(t.metaKey||t.ctrlKey||l.startselected||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,i._trigger("unselecting",t,{unselecting:l.element}))))}}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,this.options,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e,t){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var a=null;if(e(t.target).parents().each(function(){return e.data(this,n.widgetName+"-item")==n?(a=e(this),!1):void 0}),e.data(t.target,n.widgetName+"-item")==n&&(a=e(t.target)),!a)return!1;if(this.options.handle&&!i){var r=!1;if(e(this.options.handle,a).find("*").andSelf().each(function(){this==t.target&&(r=!0)}),!r)return!1}return this.currentItem=a,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,i,n){var a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",a.cursor)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(var r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,n=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-e(document).scrollTop()<i.scrollSensitivity?n=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(n=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed)),t.pageX-e(document).scrollLeft()<i.scrollSensitivity?n=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(n=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))),!1!==n&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var a=this.items.length-1;a>=0;a--){var r=this.items[a],s=r.item[0],o=this._intersectsWithPointer(r);if(o&&r.instance===this.currentContainer&&s!=this.currentItem[0]&&this.placeholder[1==o?"next":"prev"]()[0]!=s&&!e.contains(this.placeholder[0],s)&&("semi-dynamic"!=this.options.type||!e.contains(this.element[0],s))){if(this.direction=1==o?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,a=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,a=n+this.helperProportions.height,r=e.left,s=r+e.width,o=e.top,l=o+e.height,c=this.offset.click.top,h=this.offset.click.left,d=n+c>o&&l>n+c&&t+h>r&&s>t+h;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:r<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&o<n+this.helperProportions.height/2&&a-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),a=i&&n,r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!a&&(this.floating?s&&"right"==s||"down"==r?2:1:r&&("down"==r?2:1))},_intersectsWithSides:function(t){var i=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),a=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"==r&&n||"left"==r&&!n:a&&("down"==a&&i||"up"==a&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i=[],n=[],a=this._connectWith();if(a&&t)for(var r=a.length-1;r>=0;r--)for(var s=e(a[r]),o=s.length-1;o>=0;o--){var l=e.data(s[o],this.widgetName);l&&l!=this&&!l.options.disabled&&n.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}n.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(r=n.length-1;r>=0;r--)n[r][0].each(function(){i.push(this)});return e(i)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]==e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i=this.items,n=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],a=this._connectWith();if(a&&this.ready)for(var r=a.length-1;r>=0;r--)for(var s=e(a[r]),o=s.length-1;o>=0;o--){var l=e.data(s[o],this.widgetName);l&&l!=this&&!l.options.disabled&&(n.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(r=n.length-1;r>=0;r--)for(var c=n[r][1],h=n[r][0],d=(o=0,h.length);d>o;o++){var u=e(h[o]);u.data(this.widgetName+"-item",c),i.push({item:u,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var n=this.items[i];if(n.instance==this.currentContainer||!this.currentContainer||n.item[0]==this.currentItem[0]){var a=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item;t||(n.width=a.outerWidth(),n.height=a.outerHeight());var r=a.offset();n.left=r.left,n.top=r.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--){r=this.containers[i].element.offset();this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(t){var i=(t=t||this).options;if(!i.placeholder||i.placeholder.constructor==String){var n=i.placeholder;i.placeholder={element:function(){var i=e(document.createElement(t.currentItem[0].nodeName)).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return n||(i.style.visibility="hidden"),i},update:function(e,a){(!n||i.forcePlaceholderSize)&&(a.height()||a.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),a.width()||a.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}}t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){for(var i=null,n=null,a=this.containers.length-1;a>=0;a--)if(!e.contains(this.currentItem[0],this.containers[a].element[0]))if(this._intersectsWith(this.containers[a].containerCache)){if(i&&e.contains(this.containers[a].element[0],i.element[0]))continue;i=this.containers[a],n=a}else this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",t,this._uiHash(this)),this.containers[a].containerCache.over=0);if(i)if(1===this.containers.length)this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1;else{for(var r=1e4,s=null,o=this.containers[n].floating?"left":"top",l=this.containers[n].floating?"width":"height",c=this.positionAbs[o]+this.offset.click[o],h=this.items.length-1;h>=0;h--)if(e.contains(this.containers[n].element[0],this.items[h].item[0])&&this.items[h].item[0]!=this.currentItem[0]){var d=this.items[h].item.offset()[o],u=!1;Math.abs(d-c)>Math.abs(d+this.items[h][l]-c)&&(u=!0,d+=this.items[h][l]),Math.abs(d-c)<r&&(r=Math.abs(d-c),s=this.items[h],this.direction=u?"up":"down")}if(!s&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[n],s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[n].element,!0),this._trigger("change",t,this._uiHash()),this.containers[n]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"==i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!=i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(""==n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var i=e(t.containment)[0],n=e(t.containment).offset(),a="hidden"!=e(i).css("overflow");this.containment=[n.left+(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0)-this.margins.top,n.left+(a?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(a?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"==t?1:-1,a=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(a[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:a.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:a.scrollLeft())*n}},_generatePosition:function(t){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var r=t.pageX,s=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),i.grid)){var o=this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1];s=this.containment&&(o-this.offset.click.top<this.containment[1]||o-this.offset.click.top>this.containment[3])?o-this.offset.click.top<this.containment[1]?o+i.grid[1]:o-i.grid[1]:o;var l=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0];r=this.containment&&(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l-this.offset.click.left<this.containment[0]?l+i.grid[0]:l-i.grid[0]:l}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){a==this.counter&&this.refreshPositions(!n)})},_clear:function(t,i){this.reverting=!1;var n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var a in this._storedCSS)("auto"==this._storedCSS[a]||"static"==this._storedCSS[a])&&(this._storedCSS[a]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!i&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||i||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(i||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(a=this.containers.length-1;a>=0;a--)i||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[a])),this.containers[a].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[a])),this.containers[a].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){this._trigger("beforeStop",t,this._uiHash());for(a=0;a<n.length;a++)n[a].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(a=0;a<n.length;a++)n[a].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var i=0,n={},a={};n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="hide",a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.accordionId="ui-accordion-"+(this.element.attr("id")||++i),n=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(n.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),n.collapsible||!1!==n.active&&null!=n.active||(n.active=0),n.active<0&&(n.active+=this.headers.length),this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(i){var n=e(this),a=n.attr("id"),r=n.next(),s=r.attr("id");a||(a=t+"-header-"+i,n.attr("id",a)),s||(s=t+"-panel-"+i,r.attr("id",s)),n.attr("aria-controls",s),r.attr("aria-labelledby",a)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(n.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,a=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(a+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(a-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[n-1]}r&&(e(t.target).attr("tabIndex",-1),e(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t,i,n=this.options.heightStyle,a=this.element.parent();"fill"===n?(e.support.minHeight||(i=a.css("overflow"),a.css("overflow","hidden")),t=a.height(),this.element.siblings(":visible").each(function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))}),i&&a.css("overflow",i),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===n&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={};t&&(e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._on(this.headers,i))},_eventHandler:function(t){var i=this.options,n=this.active,a=e(t.currentTarget),r=a[0]===n[0],s=r&&i.collapsible,o=s?e():a.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:s?e():a,newPanel:o};t.preventDefault(),r&&!i.collapsible||!1===this._trigger("beforeActivate",t,c)||(i.active=!s&&this.headers.index(a),this.active=r?e():a,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),r||(a.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&a.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),a.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,i){var r,s,o,l=this,c=0,h=e.length&&(!t.length||e.index()<t.index()),d=this.options.animate||{},u=h&&d.down||d,p=function(){l._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(s=u),s=s||u.easing||d.easing,o=o||u.duration||d.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(n,{duration:o,easing:s,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(a,{duration:o,easing:s,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(r-t.outerHeight()-c),c=0)}})):t.animate(n,o,s,p):e.animate(a,o,s,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),!1!==e.uiBackCompat&&(function(e,t){e.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var i=t._create;t._create=function(){if(this.options.navigation){var t=this,n=this.element.find(this.options.header),a=n.next(),r=n.add(a).find("a").filter(this.options.navigationFilter)[0];r&&n.add(a).each(function(i){return e.contains(this,r)?(t.options.active=Math.floor(i/2),!1):void 0})}i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var i=t._create,n=t._setOption;e.extend(t,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),i.call(this)},_setOption:function(e){("autoHeight"===e||"clearStyle"===e||"fillSpace"===e)&&(this.options.heightStyle=this._mergeHeightStyle()),n.apply(this,arguments)},_mergeHeightStyle:function(){var e=this.options;return e.fillSpace?"fill":e.clearStyle?"content":e.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var i=t._createIcons;t._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){t.activate=t._activate;var i=t._findActive;t._findActive=function(e){return-1===e&&(e=!1),e&&"number"!=typeof e&&(-1===(e=this.headers.index(this.headers.filter(e)))&&(e=!1)),i.call(this,e)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(e,t){e.extend(t.options,{change:null,changestart:null});var i=t._trigger;t._trigger=function(e,t,n){var a=i.apply(this,arguments);return!!a&&("beforeActivate"===e?a=i.call(this,"changestart",t,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel}):"activate"===e&&(a=i.call(this,"change",t,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel})),a)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{animate:null,animated:"slide"});var i=t._create;t._create=function(){var e=this.options;null===e.animate&&(e.animated?"slide"===e.animated?e.animate=300:"bounceslide"===e.animated?e.animate={duration:200,down:{easing:"easeOutBounce",duration:1e3}}:e.animate=e.animated:e.animate=!1),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(e,t){var i=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,n;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(a){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var r=e.ui.keyCode;switch(a.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",a);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",a);break;case r.UP:t=!0,this._keyEvent("previous",a);break;case r.DOWN:t=!0,this._keyEvent("next",a);break;case r.ENTER:case r.NUMPAD_ENTER:this.menu.active&&(t=!0,a.preventDefault(),this.menu.select(a));break;case r.TAB:this.menu.active&&this.menu.select(a);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(a),a.preventDefault());break;default:i=!0,this._searchTimeout(a)}},keypress:function(n){if(t)return t=!1,void n.preventDefault();if(!i){var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:this._move("previousPage",n);break;case a.PAGE_DOWN:this._move("nextPage",n);break;case a.UP:this._keyEvent("previous",n);break;case a.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var n=i.item.data("ui-autocomplete-item")||i.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,a){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){a(e)},error:function(){a([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,t=++i;return function(n){t===i&&e.__response(n),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e,t){var i,n,a,r,s="ui-button ui-widget ui-state-default ui-corner-all",o="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var i=t.name,n=t.form,a=e([]);return i&&(a=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),a};e.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,o=this.options,h="checkbox"===this.type||"radio"===this.type,d=h?"":"ui-state-active",u="ui-state-focus";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===i&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||e(this).removeClass(d)}).bind("click"+this.eventNamespace,function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(u)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(u)}),h&&(this.element.bind("change"+this.eventNamespace,function(){r||t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){o.disabled||(r=!1,n=e.pageX,a=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){o.disabled||(n!==e.pageX||a!==e.pageY)&&(r=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!o.disabled&&!r&&(e(this).toggleClass("ui-state-active"),void t.buttonElement.attr("aria-pressed",t.element[0].checked))}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled||r)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];c(i).not(i).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!o.disabled&&(e(this).addClass("ui-state-active"),i=this,void t.document.one("mouseup",function(){i=null}))}).bind("mouseup"+this.eventNamespace,function(){return!o.disabled&&void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return!o.disabled&&void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" ui-state-hover ui-state-active  "+o).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?void(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(o),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,a=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(a?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):r.push("ui-button-text-only"),t.addClass(r.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){for(var i in $.extend(e,t),t)(null==t[i]||t[i]==undefined)&&(e[i]=t[i]);return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function _attachDatepicker(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var i=$(e);t.append=$([]),t.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,i,n){t.settings[i]=n}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i=this._get(t,"appendText"),n=this._get(t,"isRTL");t.append&&t.append.remove(),i&&(t.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),e[n?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var a=this._get(t,"showOn");if(("focus"==a||"both"==a)&&e.focus(this._showDatepicker),"button"==a||"both"==a){var r=this._get(t,"buttonText"),s=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:s,alt:r,title:r}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==s?r:$("<img/>").attr({src:s,alt:r,title:r}))),e[n?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),i=this._get(e,"dateFormat");if(i.match(/[DM]/)){var n=function(e){for(var t=0,i=0,n=0;n<e.length;n++)e[n].length>t&&(t=e[n].length,i=n);return i};t.setMonth(n(this._get(e,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(n(this._get(e,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var i=$(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,i,n){t.settings[i]=n}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,n,a){var r=this._dialogInst;if(!r){this.uuid+=1;var s="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+s+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),(r=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],PROP_NAME,r)}if(extendRemove(r.settings,n||{}),t=t&&t.constructor==Date?this._formatDate(r,t):t,this._dialogInput.val(t),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,!this._pos){var o=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[o/2-100+c,l/2-150+h]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),r.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,r),this},_destroyDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==n?(i.append.remove(),i.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==n||"span"==n)&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();if("input"==n)e.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==n||"span"==n){var a=t.children("."+this._inlineClass);a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();if("input"==n)e.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==n||"span"==n){var a=t.children("."+this._inlineClass);a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var n=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):n?"all"==t?$.extend({},n.settings):this._get(n,t):null;var a=t||{};if("string"==typeof t&&((a={})[t]=i),n){this._curInst==n&&this._hideDatepicker();var r=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max");extendRemove(n.settings,a),null!==s&&a.dateFormat!==undefined&&a.minDate===undefined&&(n.settings.minDate=this._formatDate(n,s)),null!==o&&a.dateFormat!==undefined&&a.maxDate===undefined&&(n.settings.maxDate=this._formatDate(n,o)),this._attachments($(e),n),this._autoSize(n),this._setDate(n,r),this._updateAlternate(n),this._updateDatepicker(n)}},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),i=!0,n=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var a=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);a[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,a[0]);var r=$.datepicker._get(t,"onSelect");if(r){var s=$.datepicker._formatDate(t);r.apply(t.input?t.input[0]:null,[s,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),i=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),i=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,n?1:-1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),i=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,n?-1:1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),i=e.ctrlKey||e.metaKey;break;default:i=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),n=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t))&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(s){$.datepicker.log(s)}return!0},_showDatepicker:function(e){if("input"!=(e=e.target||e).nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(t,"beforeShow"),n=i?i.apply(e,[e,t]):{};if(!1!==n){extendRemove(t.settings,n),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var a=!1;$(e).parents().each(function(){return!(a|="fixed"==$(this).css("position"))});var r={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),r=$.datepicker._checkOffset(t,r,a),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":a?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),!t.inline){var s=$.datepicker._get(t,"showAnim"),o=$.datepicker._get(t,"duration"),l=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var i=$.datepicker._getBorders(t.dpDiv);e.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[s]||$.effects[s])?t.dpDiv.show(s,$.datepicker._get(t,"showOptions"),o,l):t.dpDiv[s||"show"](s?o:null,l),s&&o||l(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i=e.dpDiv.find("iframe.ui-datepicker-cover");i.length&&i.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n=this._getNumberOfMonths(e),a=n[1];if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&e.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",17*a+"em"),e.dpDiv[(1!=n[0]||1!=n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var r=e.yearshtml;setTimeout(function(){r===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),r=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,i){var n=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,o=document.documentElement.clientWidth+(i?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?n-r:0,t.left-=i&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=i&&t.top==e.input.offset().top+s?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+n>o&&o>n?Math.abs(t.left+n-o):0),t.top-=Math.min(t.top,t.top+a>l&&l>a?Math.abs(a+s):0),t},_findPos:function(e){for(var t=this._getInst(e),i=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];var n=$(e).offset();return[n.left,n.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var i=this._get(t,"showAnim"),n=this._get(t,"duration"),a=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[i]||$.effects[i])?t.dpDiv.hide(i,$.datepicker._get(t,"showOptions"),n,a):t.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?n:null,a),i||a(),this._datepickerShowing=!1;var r=this._get(t,"onClose");r&&r.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),i=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&0==t.parents("#"+$.datepicker._mainDivId).length&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=i)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var n=$(e),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,t+("M"==i?this._get(a,"showCurrentAtPos"):0),i),this._updateDatepicker(a))},_gotoToday:function(e){var t=$(e),i=this._getInst(t[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var n=new Date;i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i),this._adjustDate(t)},_selectMonthYear:function(e,t,i){var n=$(e),a=this._getInst(n[0]);a["selected"+("M"==i?"Month":"Year")]=a["draw"+("M"==i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(e,t,i,n){var a=$(e);if(!$(n).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(a[0])){var r=this._getInst(a[0]);r.selectedDay=r.currentDay=$("a",n).html(),r.selectedMonth=r.currentMonth=t,r.selectedYear=r.currentYear=i,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]),this._selectDate(t,"")},_selectDate:function(e,t){var i=$(e),n=this._getInst(i[0]);t=null!=t?t:this._formatDate(n),n.input&&n.input.val(t),this._updateAlternate(n);var a=this._get(n,"onSelect");a?a.apply(n.input?n.input[0]:null,[t,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),a=this.formatDate(i,n,this._getFormatConfig(e));$(t).each(function(){$(this).val(a)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var i=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(e,t,i){if(null==e||null==t)throw"Invalid arguments";if(""==(t="object"==typeof t?t.toString():t+""))return null;var n=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;n="string"!=typeof n?n:(new Date).getFullYear()%100+parseInt(n,10);for(var a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,h=-1,d=-1,u=!1,p=function(t){var i=b+1<e.length&&e.charAt(b+1)==t;return i&&b++,i},f=function(e){var i=p(e),n=new RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e&&i?4:"o"==e?3:2)+"}"),a=t.substring(v).match(n);if(!a)throw"Missing number at position "+v;return v+=a[0].length,parseInt(a[0],10)},g=function(e,i,n){var a=$.map(p(e)?n:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),r=-1;if($.each(a,function(e,i){var n=i[1];return t.substr(v,n.length).toLowerCase()==n.toLowerCase()?(r=i[0],v+=n.length,!1):void 0}),-1!=r)return r+1;throw"Unknown name at position "+v},m=function(){if(t.charAt(v)!=e.charAt(b))throw"Unexpected literal at position "+v;v++},v=0,b=0;b<e.length;b++)if(u)"'"!=e.charAt(b)||p("'")?m():u=!1;else switch(e.charAt(b)){case"d":h=f("d");break;case"D":g("D",a,r);break;case"o":d=f("o");break;case"m":c=f("m");break;case"M":c=g("M",s,o);break;case"y":l=f("y");break;case"@":l=(w=new Date(f("@"))).getFullYear(),c=w.getMonth()+1,h=w.getDate();break;case"!":var w;l=(w=new Date((f("!")-this._ticksTo1970)/1e4)).getFullYear(),c=w.getMonth()+1,h=w.getDate();break;case"'":p("'")?m():u=!0;break;default:m()}if(v<t.length){var y=t.substr(v);if(!/^\s+/.test(y))throw"Extra/unparsed characters found in date: "+y}if(-1==l?l=(new Date).getFullYear():100>l&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(n>=l?0:-100)),d>-1)for(c=1,h=d;;){var _=this._getDaysInMonth(l,c-1);if(_>=h)break;c++,h-=_}if((w=this._daylightSavingAdjust(new Date(l,c-1,h))).getFullYear()!=l||w.getMonth()+1!=c||w.getDate()!=h)throw"Invalid date";return w},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,s=(i?i.monthNames:null)||this._defaults.monthNames,o=function(t){var i=u+1<e.length&&e.charAt(u+1)==t;return i&&u++,i},l=function(e,t,i){var n=""+t;if(o(e))for(;n.length<i;)n="0"+n;return n},c=function(e,t,i,n){return o(e)?n[t]:i[t]},h="",d=!1;if(t)for(var u=0;u<e.length;u++)if(d)"'"!=e.charAt(u)||o("'")?h+=e.charAt(u):d=!1;else switch(e.charAt(u)){case"d":h+=l("d",t.getDate(),2);break;case"D":h+=c("D",t.getDay(),n,a);break;case"o":h+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=l("m",t.getMonth()+1,2);break;case"M":h+=c("M",t.getMonth(),r,s);break;case"y":h+=o("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":o("'")?h+="'":d=!0;break;default:h+=e.charAt(u)}return h},_possibleChars:function(e){for(var t="",i=!1,n=function(t){var i=a+1<e.length&&e.charAt(a+1)==t;return i&&a++,i},a=0;a<e.length;a++)if(i)"'"!=e.charAt(a)||n("'")?t+=e.charAt(a):i=!1;else switch(e.charAt(a)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":n("'")?t+="'":i=!0;break;default:t+=e.charAt(a)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var i,n,a=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null;i=n=this._getDefaultDate(e);var o=this._getFormatConfig(e);try{i=this.parseDate(a,s,o)||n}catch(r){this.log(r),s=t?"":s}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=s?i.getDate():0,e.currentMonth=s?i.getMonth():0,e.currentYear=s?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,i){var n=null==t||""===t?i:"string"==typeof t?function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(i){}for(var n=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,a=n.getFullYear(),r=n.getMonth(),s=n.getDate(),o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=o.exec(t);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),s=Math.min(s,$.datepicker._getDaysInMonth(a,r));break;case"y":case"Y":a+=parseInt(l[1],10),s=Math.min(s,$.datepicker._getDaysInMonth(a,r))}l=o.exec(t)}return new Date(a,r,s)}(t):"number"==typeof t?isNaN(t)?i:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(t):new Date(t.getTime());return(n=n&&"Invalid Date"==n.toString()?i:n)&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,a=e.selectedMonth,r=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),a==e.selectedMonth&&r==e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var i=this._get(e,"isRTL"),n=this._get(e,"showButtonPanel"),a=this._get(e,"hideIfNoPrevNext"),r=this._get(e,"navigationAsDateFormat"),s=this._getNumberOfMonths(e),o=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=s[0]||1!=s[1],h=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),d=this._getMinMaxDate(e,"min"),u=this._getMinMaxDate(e,"max"),p=e.drawMonth-o,f=e.drawYear;if(0>p&&(p+=12,f--),u){var g=this._daylightSavingAdjust(new Date(u.getFullYear(),u.getMonth()-s[0]*s[1]+1,u.getDate()));for(g=d&&d>g?d:g;this._daylightSavingAdjust(new Date(f,p,1))>g;)0>--p&&(p=11,f--)}e.drawMonth=p,e.drawYear=f;var m=this._get(e,"prevText");m=r?this.formatDate(m,this._daylightSavingAdjust(new Date(f,p-l,1)),this._getFormatConfig(e)):m;var v=this._canAdjustMonth(e,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>":a?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>",b=this._get(e,"nextText");b=r?this.formatDate(b,this._daylightSavingAdjust(new Date(f,p+l,1)),this._getFormatConfig(e)):b;var w=this._canAdjustMonth(e,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>":a?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>",y=this._get(e,"currentText"),_=this._get(e,"gotoCurrent")&&e.currentDay?h:t;y=r?this.formatDate(y,_,this._getFormatConfig(e)):y;var x=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",C=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?x:"")+(this._isInRange(e,_)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+y+"</button>":"")+(i?"":x)+"</div>":"",S=parseInt(this._get(e,"firstDay"),10);S=isNaN(S)?0:S;for(var T=this._get(e,"showWeek"),k=this._get(e,"dayNames"),A=(this._get(e,"dayNamesShort"),this._get(e,"dayNamesMin")),P=this._get(e,"monthNames"),D=this._get(e,"monthNamesShort"),E=this._get(e,"beforeShowDay"),M=this._get(e,"showOtherMonths"),I=this._get(e,"selectOtherMonths"),O=(this._get(e,"calculateWeek")||this.iso8601Week,this._getDefaultDate(e)),L="",N=0;N<s[0];N++){var R="";this.maxRows=4;for(var B=0;B<s[1];B++){var V=this._daylightSavingAdjust(new Date(f,p,e.selectedDay)),F=" ui-corner-all",H="";if(c){if(H+='<div class="ui-datepicker-group',s[1]>1)switch(B){case 0:H+=" ui-datepicker-group-first",F=" ui-corner-"+(i?"right":"left");break;case s[1]-1:H+=" ui-datepicker-group-last",F=" ui-corner-"+(i?"left":"right");break;default:H+=" ui-datepicker-group-middle",F=""}H+='">'}H+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+F+'">'+(/all|left/.test(F)&&0==N?i?w:v:"")+(/all|right/.test(F)&&0==N?i?v:w:"")+this._generateMonthYearHeader(e,p,f,d,u,N>0||B>0,P,D)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var j=T?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",z=0;7>z;z++){var U=(z+S)%7;j+="<th"+((z+S+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+k[U]+'">'+A[U]+"</span></th>"}H+=j+"</tr></thead><tbody>";var W=this._getDaysInMonth(f,p);f==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,W));var G=(this._getFirstDayOfMonth(f,p)-S+7)%7,Y=Math.ceil((G+W)/7),q=c&&this.maxRows>Y?this.maxRows:Y;this.maxRows=q;for(var Q=this._daylightSavingAdjust(new Date(f,p,1-G)),J=0;q>J;J++){H+="<tr>";var Z=T?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(Q)+"</td>":"";for(z=0;7>z;z++){var X=E?E.apply(e.input?e.input[0]:null,[Q]):[!0,""],K=Q.getMonth()!=p,ee=K&&!I||!X[0]||d&&d>Q||u&&Q>u;Z+='<td class="'+((z+S+6)%7>=5?" ui-datepicker-week-end":"")+(K?" ui-datepicker-other-month":"")+(Q.getTime()==V.getTime()&&p==e.selectedMonth&&e._keyEvent||O.getTime()==Q.getTime()&&O.getTime()==V.getTime()?" "+this._dayOverClass:"")+(ee?" "+this._unselectableClass+" ui-state-disabled":"")+(K&&!M?"":" "+X[1]+(Q.getTime()==h.getTime()?" "+this._currentClass:"")+(Q.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(K&&!M||!X[2]?"":' title="'+X[2]+'"')+(ee?"":' data-handler="selectDay" data-event="click" data-month="'+Q.getMonth()+'" data-year="'+Q.getFullYear()+'"')+">"+(K&&!M?"&#xa0;":ee?'<span class="ui-state-default">'+Q.getDate()+"</span>":'<a class="ui-state-default'+(Q.getTime()==t.getTime()?" ui-state-highlight":"")+(Q.getTime()==h.getTime()?" ui-state-active":"")+(K?" ui-priority-secondary":"")+'" href="#">'+Q.getDate()+"</a>")+"</td>",Q.setDate(Q.getDate()+1),Q=this._daylightSavingAdjust(Q)}H+=Z+"</tr>"}++p>11&&(p=0,f++),R+=H+="</tbody></table>"+(c?"</div>"+(s[0]>0&&B==s[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}L+=R}return L+=C+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,L},_generateMonthYearHeader:function(e,t,i,n,a,r,s,o){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),h=this._get(e,"showMonthAfterYear"),d='<div class="ui-datepicker-title">',u="";if(r||!l)u+='<span class="ui-datepicker-month">'+s[t]+"</span>";else{var p=n&&n.getFullYear()==i,f=a&&a.getFullYear()==i;u+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;12>g;g++)(!p||g>=n.getMonth())&&(!f||g<=a.getMonth())&&(u+='<option value="'+g+'"'+(g==t?' selected="selected"':"")+">"+o[g]+"</option>");u+="</select>"}if(h||(d+=u+(!r&&l&&c?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!c)d+='<span class="ui-datepicker-year">'+i+"</span>";else{var m=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),b=function(e){var t=e.match(/c[+-].*/)?i+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(t)?v:t},w=b(m[0]),y=Math.max(w,b(m[1]||""));for(w=n?Math.max(w,n.getFullYear()):w,y=a?Math.min(y,a.getFullYear()):y,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';y>=w;w++)e.yearshtml+='<option value="'+w+'"'+(w==i?' selected="selected"':"")+">"+w+"</option>";e.yearshtml+="</select>",d+=e.yearshtml,e.yearshtml=null}return d+=this._get(e,"yearSuffix"),h&&(d+=(!r&&l&&c?"":"&#xa0;")+u),d+"</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"==i?t:0),a=e.drawMonth+("M"==i?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(n,a))+("D"==i?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,a,r)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"==i||"Y"==i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),a=i&&i>t?i:t;return n&&a>n?n:a},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var a=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(i,n+(0>t?t:a[0]*a[1]),1));return 0>t&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max");return(!i||t.getTime()>=i.getTime())&&(!n||t.getTime()<=n.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var a=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),a,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(e,t){var i="ui-dialog ui-widget ui-widget-content ui-corner-all ",n={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var t,n,a,r,s,o=this,l=this.options,c=l.title||"&#160;";t=(this.uiDialog=e("<div>")).addClass(i+l.dialogClass).css({display:"none",outline:0,zIndex:l.zIndex}).attr("tabIndex",-1).keydown(function(t){l.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE&&(o.close(t),t.preventDefault())}).mousedown(function(e){o.moveToTop(!1,e)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(t),n=(this.uiDialogTitlebar=e("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){t.focus()}).prependTo(t),a=e("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(e){e.preventDefault(),o.close(e)}).appendTo(n),(this.uiDialogTitlebarCloseText=e("<span>")).addClass("ui-icon ui-icon-closethick").text(l.closeText).appendTo(a),r=e("<span>").uniqueId().addClass("ui-dialog-title").html(c).prependTo(n),s=(this.uiDialogButtonPane=e("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=e("<div>")).addClass("ui-dialog-buttonset").appendTo(s),t.attr({role:"dialog","aria-labelledby":r.attr("id")}),n.find("*").add(n).disableSelection(),this._hoverable(a),this._focusable(a),l.draggable&&e.fn.draggable&&this._makeDraggable(),l.resizable&&e.fn.resizable&&this._makeResizable(),this._createButtons(l.buttons),this._isOpen=!1,e.fn.bgiframe&&t.bgiframe(),this._on(t,{keydown:function(i){if(l.modal&&i.keyCode===e.ui.keyCode.TAB){var n=e(":tabbable",t),a=n.filter(":first"),r=n.filter(":last");return i.target!==r[0]||i.shiftKey?i.target===a[0]&&i.shiftKey?(r.focus(1),!1):void 0:(a.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var e,t=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var i,n,a=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){a._trigger("close",t)}):(this.uiDialog.hide(),this._trigger("close",t)),e.ui.dialog.overlay.resize(),this.options.modal&&(i=0,e(".ui-dialog").each(function(){this!==a.uiDialog[0]&&(n=e(this).css("z-index"),isNaN(n)||(i=Math.max(i,n)))}),e.ui.dialog.maxZ=i),this},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var n,a=this.options;return a.modal&&!t||!a.stack&&!a.modal?this._trigger("focus",i):(a.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=a.zIndex),this.overlay&&(e.ui.dialog.maxZ+=1,e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ,this.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ)),n={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},e.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",e.ui.dialog.maxZ),this.element.attr(n),this._trigger("focus",i),this)},open:function(){if(!this._isOpen){var t,i=this.options,n=this.uiDialog;return this._size(),this._position(i.position),n.show(i.show),this.overlay=i.modal?new e.ui.dialog.overlay(this):null,this.moveToTop(!0),(t=this.element.find(":tabbable")).length||((t=this.uiDialogButtonPane.find(":tabbable")).length||(t=n)),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(t){var i=this,n=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof t&&null!==t&&e.each(t,function(){return!(n=!0)}),n?(e.each(t,function(t,n){var a,r;n=e.isFunction(n)?{click:n,text:t}:n,n=e.extend({type:"button"},n),r=n.click,n.click=function(){r.apply(i.element[0],arguments)},a=e("<button></button>",n).appendTo(i.uiButtonSet),e.fn.button&&a.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,a){e(this).addClass("ui-dialog-dragging"),i._trigger("dragStart",n,t(a))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(a,r){n.position=[r.position.left-i.document.scrollLeft(),r.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._trigger("dragStop",a,t(r)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(t){function i(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}t=void 0===t?this.options.resizable:t;var n=this,a=this.options,r=this.uiDialog.css("position"),s="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:s,start:function(t,a){e(this).addClass("ui-dialog-resizing"),n._trigger("resizeStart",t,i(a))},resize:function(e,t){n._trigger("resize",e,i(t))},stop:function(t,r){e(this).removeClass("ui-dialog-resizing"),a.height=e(this).height(),a.width=e(this).width(),n._trigger("resizeStop",t,i(r)),e.ui.dialog.overlay.resize()}}).css("position",r).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var i,n=[],a=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(1===(n=t.split?t.split(" "):[t[0],t[1]]).length&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(a[e]=n[e],n[e]=t)}),t={my:n[0]+(a[0]<0?a[0]:"+"+a[0])+" "+n[1]+(a[1]<0?a[1]:"+"+a[1]),at:n.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,(i=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(t),i||this.uiDialog.hide()},_setOptions:function(t){var i=this,r={},s=!1;e.each(t,function(e,t){i._setOption(e,t),e in n&&(s=!0),e in a&&(r[e]=t)}),s&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,n){var a,r,s=this.uiDialog;switch(t){case"buttons":this._createButtons(n);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+n);break;case"dialogClass":s.removeClass(this.options.dialogClass).addClass(i+n);break;case"disabled":n?s.addClass("ui-dialog-disabled"):s.removeClass("ui-dialog-disabled");break;case"draggable":(a=s.is(":data(draggable)"))&&!n&&s.draggable("destroy"),!a&&n&&this._makeDraggable();break;case"position":this._position(n);break;case"resizable":(r=s.is(":data(resizable)"))&&!n&&s.resizable("destroy"),r&&"string"==typeof n&&s.resizable("option","handles",n),r||!1===n||this._makeResizable(n);break;case"title":e(".ui-dialog-title",this.uiDialogTitlebar).html(""+(n||"&#160;"))}this._super(t,n)},_size:function(){var t,i,n,a=this.options,r=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),a.minWidth>a.width&&(a.width=a.minWidth),t=this.uiDialog.css({height:"auto",width:a.width}).outerHeight(),i=Math.max(0,a.minHeight-t),"auto"===a.height?e.support.minHeight?this.element.css({minHeight:i,height:"auto"}):(this.uiDialog.show(),n=this.element.css("height","auto").height(),r||this.uiDialog.hide(),this.element.height(Math.max(n,i))):this.element.height(Math.max(a.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){return!(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ)&&void 0})},1),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var i=this.oldInstances.pop()||e("<div>").addClass("ui-widget-overlay");return e(document).bind("keydown.dialog-overlay",function(n){var a=e.ui.dialog.overlay.instances;0!==a.length&&a[a.length-1]===i&&t.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}),i.appendTo(document.body).css({width:this.width(),height:this.height()}),e.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var i=e.inArray(t,this.instances),n=0;-1!==i&&this.oldInstances.push(this.instances.splice(i,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),e.each(this.instances,function(){n=Math.max(n,this.css("z-index"))}),this.maxZ=n},height:function(){var t;return e.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),Math.max(document.documentElement.offsetHeight,document.body.offsetHeight)>t?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t;return e.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),Math.max(document.documentElement.offsetWidth,document.body.offsetWidth)>t?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e,t){var i=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var n=e(t.target).closest(".ui-menu-item");!i&&n.not(".ui-state-disabled").length&&(i=!0,this.select(t),n.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),i=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,a,r,s,o,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,a=this.previousFilter||"",r=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),r===a?s=!0:r=a+r,o=new RegExp("^"+i(r),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())}),(n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(t.keyCode),o=new RegExp("^"+i(r),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev("a"),a=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(a),t.attr("aria-labelledby",n.attr("id"))}),(t=n.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,a,r,s,o;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,a=t.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),s=this.activeMenu.height(),o=t.height(),0>a?this.activeMenu.scrollTop(r+a):a+o>s&&this.activeMenu.scrollTop(r+a-s+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,a;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,a=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(i=e(this)).offset().top-n-a<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,a;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,a=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(i=e(this)).offset().top-n+a>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this._value():(this._setOption("value",e),this)},_setOption:function(e,t){"value"===e&&(this.options.value=t,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(e,t)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}})}(jQuery),function(e,t){e.widget("ui.slider",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t,i,n=this.options,a=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),n.range&&(!0===n.range&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:""))),i=n.values&&n.values.length||1,t=a.length;i>t;t++)r.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=a.add(e(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).mouseenter(function(){n.disabled||e(this).addClass("ui-state-hover")}).mouseleave(function(){e(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(t){var i,n,a,r=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,r)))return}switch(a=this.options.step,i=n=this.options.values&&this.options.values.length?this.values(r):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-a)}this._slide(t,r,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,a,r,s,o,l,c=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),a=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-c.values(t));a>i&&(a=i,r=e(this),s=t)}),!0===h.range&&this.values(1)===h.min&&(s+=1,r=e(this.handles[s])),!1!==this._start(t,s)&&(this._mouseSliding=!0,this._handleIndex=s,r.addClass("ui-state-active").focus(),o=r.offset(),l=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-o.left-r.width()/2,top:t.pageY-o.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,a,r;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/t)>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),a=this._valueMax()-this._valueMin(),r=this._valueMin()+n*a,this._trimAlignValue(r)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,a,r;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&((a=this.values())[t]=i,r=this._trigger("slide",e,{handle:this.handles[t],value:i,values:a}),n=this.values(t?0:1),!1!==r&&this.values(t,i,!0))):i!==this.value()&&(!1!==(r=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,a,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,a=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(a[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var n,a=0;switch(e.isArray(this.options.values)&&(a=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;a>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,a,r,s=this.options.range,o=this.options,l=this,c=!this._animateOff&&o.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,h["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](h,o.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},o.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:o.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},o.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:o.animate}))),t=i}):(n=this.value(),a=this._valueMin(),r=this._valueMax(),i=r!==a?(n-a)/(r-a)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](h,o.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},o.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:o.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},o.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:o.animate}))}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var a=i.attr(n);void 0!==a&&a.length&&(t[n]=a)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return i=e-(t=null!==n.min?n.min:0),e=t+(i=Math.round(i/n.step)*n.step),e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&(null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._spin((e||1)*this.options.step)},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._spin((e||1)*-this.options.step)},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function i(){return++a}function n(e){return e.hash.length>1&&e.href.replace(r,"")===location.href.replace(r,"").replace(/\s/g,"%20")}var a=0,r=/#.*$/;e.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options,n=i.active,a=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===n&&(a&&this.tabs.each(function(t,i){return e(i).attr("aria-controls")===a?(n=t,!1):void 0}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===n||-1===n)&&(n=!!this.tabs.length&&0)),!1!==n&&(-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!i.collapsible&&0)),i.active=n,!i.collapsible&&!1===i.active&&this.anchors.length&&(i.active=0),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),a=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:a=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,a),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){for(var n=this.tabs.length-1;-1!==e.inArray((t>n&&(t=0),0>t&&(t=n),t),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,a){var r,s,o,l=e(a).uniqueId().attr("id"),c=e(a).closest("li"),h=c.attr("aria-controls");n(a)?(r=a.hash,s=t.element.find(t._sanitizeSelector(r))):(r="#"+(o=t._tabId(c)),(s=t.element.find(r)).length||(s=t._createPanel(o)).insertAfter(t.panels[i-1]||t.tablist),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),h&&c.data("ui-tabs-aria-controls",h),c.attr({"aria-controls":r.substring(1),"aria-labelledby":l}),s.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)!0===t||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n,a=this.element.parent();"fill"===t?(e.support.minHeight||(n=a.css("overflow"),a.css("overflow","hidden")),i=a.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),n&&a.css("overflow",n),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,a=e(t.currentTarget).closest("li"),r=a[0]===n[0],s=r&&i.collapsible,o=s?e():this._getPanelForTab(a),l=n.length?this._getPanelForTab(n):e(),c={oldTab:n,oldPanel:l,newTab:s?e():a,newPanel:o};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||!1===this._trigger("beforeActivate",t,c)||(i.active=!s&&this.tabs.index(a),this.active=r?e():a,this.xhr&&this.xhr.abort(),l.length||o.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(a),t),this._toggle(t,c))},_toggle:function(t,i){function n(){r.running=!1,r._trigger("activate",t,i)}function a(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&r.options.show?r._show(s,r.options.show,n):(s.show(),n())}var r=this,s=i.newPanel,o=i.oldPanel;this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),a()),o.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),s.length&&o.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;!1!==n&&(i===t?n=!1:(i=this._getIndex(i),n=e.isArray(n)?e.map(n,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(!0!==n){if(i===t)n=!0;else{if(i=this._getIndex(i),-1!==e.inArray(i,n))return;n=e.isArray(n)?e.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(t,i){t=this._getIndex(t);var a=this,r=this.tabs.eq(t),s=r.find(".ui-tabs-anchor"),o=this._getPanelForTab(r),l={tab:r,panel:o};n(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){o.html(e),a._trigger("load",i,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&a.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===a.xhr&&delete a.xhr},1)})))},_ajaxSettings:function(t,i,n){var a=this;return{url:t.attr("href"),beforeSend:function(t,r){return a._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:r},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==e.uiBackCompat&&(e.ui.tabs.prototype._ui=function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},e.widget("ui.tabs",e.ui.tabs,{url:function(e,t){this.anchors.eq(e).attr("href",t)}}),e.widget("ui.tabs",e.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var t=this;this._on({tabsbeforeload:function(i,n){return e.data(n.tab[0],"cache.tabs")?void i.preventDefault():void n.jqXHR.success(function(){t.options.cache&&e.data(n.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(t,i,n){var a=this.options.ajaxOptions;return e.extend({},a,{error:function(e,t){try{a.error(e,t,n.tab.closest("li").index(),n.tab[0])}catch(i){}}},this._superApply(arguments))},_setOption:function(e,t){"cache"===e&&!1===t&&this.anchors.removeData("cache.tabs"),this._super(e,t)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(e){this.anchors.eq(e).removeData("cache.tabs"),this._superApply(arguments)}}),e.widget("ui.tabs",e.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),e.widget("ui.tabs",e.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(e,t){if(e.target===this.element[0]&&this.options.spinner){var i=t.tab.find("span"),n=i.html();i.html(this.options.spinner),t.jqXHR.complete(function(){i.html(n)})}}})}}),e.widget("ui.tabs",e.ui.tabs,{options:{enable:null,disable:null},enable:function(t){var i,n=this.options;(t&&!0===n.disabled||e.isArray(n.disabled)&&-1!==e.inArray(t,n.disabled))&&(i=!0),this._superApply(arguments),i&&this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t]))},disable:function(t){var i,n=this.options;(t&&!1===n.disabled||e.isArray(n.disabled)&&-1===e.inArray(t,n.disabled))&&(i=!0),this._superApply(arguments),i&&this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))}}),e.widget("ui.tabs",e.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(i,n,a){a===t&&(a=this.anchors.length);var r,s,o=this.options,l=e(o.tabTemplate.replace(/#\{href\}/g,i).replace(/#\{label\}/g,n)),c=i.indexOf("#")?this._tabId(l):i.replace("#","");return l.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),l.attr("aria-controls",c),r=a>=this.tabs.length,(s=this.element.find("#"+c)).length||(s=this._createPanel(c),r?a>0?s.insertAfter(this.panels.eq(-1)):s.appendTo(this.element):s.insertBefore(this.panels[a])),s.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),r?l.appendTo(this.tablist):l.insertBefore(this.tabs[a]),o.disabled=e.map(o.disabled,function(e){return e>=a?++e:e}),this.refresh(),1===this.tabs.length&&!1===o.active&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[a],this.panels[a])),this},remove:function(t){t=this._getIndex(t);var i=this.options,n=this.tabs.eq(t).remove(),a=this._getPanelForTab(n).remove();return n.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(t+(t+1<this.anchors.length?1:-1)),i.disabled=e.map(e.grep(i.disabled,function(e){return e!==t}),function(e){return e>=t?--e:e}),this.refresh(),this._trigger("remove",null,this._ui(n.find("a")[0],a[0])),this}}),e.widget("ui.tabs",e.ui.tabs,{length:function(){return this.anchors.length}}),e.widget("ui.tabs",e.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(t){var n=t.is("li")?t.find("a[href]"):t;return n=n[0],e(n).closest("li").attr("aria-controls")||n.title&&n.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+i()}}),e.widget("ui.tabs",e.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(t){return e(this.options.panelTemplate).attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),e.widget("ui.tabs",e.ui.tabs,{_create:function(){var e=this.options;null===e.active&&e.selected!==t&&(e.active=-1!==e.selected&&e.selected),this._super(),e.selected=e.active,!1===e.selected&&(e.selected=-1)},_setOption:function(e,t){if("selected"!==e)return this._super(e,t);var i=this.options;this._super("active",-1!==t&&t),i.selected=i.active,!1===i.selected&&(i.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,!1===this.options.selected&&(this.options.selected=-1)}}),e.widget("ui.tabs",e.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),!1!==this.options.active&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(e,t,i){var n,a,r=this._superApply(arguments);return!!r&&("beforeActivate"===e?(n=i.newTab.length?i.newTab:i.oldTab,a=i.newPanel.length?i.newPanel:i.oldPanel,r=this._super("select",t,{tab:n.find(".ui-tabs-anchor")[0],panel:a[0],index:n.closest("li").index()})):"activate"===e&&i.newTab.length&&(r=this._super("show",t,{tab:i.newTab.find(".ui-tabs-anchor")[0],panel:i.newPanel[0],index:i.newTab.closest("li").index()})),r)}}),e.widget("ui.tabs",e.ui.tabs,{select:function(e){if(-1===(e=this._getIndex(e))){if(!this.options.collapsible||-1===this.options.selected)return;e=this.options.selected}this.anchors.eq(e).trigger(this.options.event+this.eventNamespace)}}),function(){var t=0;e.widget("ui.tabs",e.ui.tabs,{options:{cookie:null},_create:function(){var e,t=this.options;null==t.active&&t.cookie&&(-1===(e=parseInt(this._cookie(),10))&&(e=!1),t.active=e),this._super()},_cookie:function(i){var n=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++t)];return arguments.length&&(n.push(!1===i?-1:i),n.push(this.options.cookie)),e.cookie.apply(null,n)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),e.widget("ui.tabs",e.ui.tabs,{_trigger:function(t,i,n){var a=e.extend({},n);return"load"===t&&(a.panel=a.panel[0],a.tab=a.tab.find(".ui-tabs-anchor")[0]),this._super(t,i,a)}}),e.widget("ui.tabs",e.ui.tabs,{options:{fx:null},_getFx:function(){var t,i,n=this.options.fx;return n&&(e.isArray(n)?(t=n[0],i=n[1]):t=i=n),n?{show:i,hide:t}:null},_toggle:function(e,t){function i(){a.running=!1,a._trigger("activate",e,t)}function n(){t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&o.show?r.animate(o.show,o.show.duration,function(){i()}):(r.show(),i())}var a=this,r=t.newPanel,s=t.oldPanel,o=this._getFx();return o?(a.running=!0,void(s.length&&o.hide?s.animate(o.hide,o.hide.duration,function(){t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),n()))):this._super(e,t)}}))}(jQuery),function(e){var t=0;e.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return e(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var a=e.Event("blur");a.target=a.currentTarget=n[0],t.close(a,!0)}),this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,a=this,r=t?t.type:null;return"string"==typeof n?this._open(t,e,n):void((i=n.call(e[0],function(i){e.data("ui-tooltip-open")&&a._delay(function(){t&&(t.type=r),this._open(t,e,i)})}))&&this._open(t,e,i))},_open:function(t,i,n){function a(e){l.of=e,r.is(":hidden")||r.position(l)}var r,s,o,l=e.extend({},this.options.position);if(n){if((r=this._find(i)).length)return void r.find(".ui-tooltip-content").html(n);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),r=this._tooltip(i),function(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))}(i,r.attr("id")),r.find(".ui-tooltip-content").html(n),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:a}),a(t)):r.position(e.extend({of:i},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(o=setInterval(function(){r.is(":visible")&&(a(l.of),clearInterval(o))},e.fx.interval)),this._trigger("open",t,{tooltip:r}),s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}},remove:function(){this._removeTooltip(r)}},t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,i,s)}},close:function(t){var i=this,n=e(t?t.currentTarget:this.element),a=this._find(n);this.closing||(n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),function(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),a=e.inArray(i,n);-1!==a&&n.splice(a,1),t.removeData("ui-tooltip-id"),(n=e.trim(n.join(" ")))?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")}(n),a.stop(!0),this._hide(a,this.options.hide,function(){i._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:a}),this.closing=!1)},_tooltip:function(i){var n="ui-tooltip-"+t++,a=e("<div>").attr({id:n,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(a),a.appendTo(this.document[0].body),e.fn.bgiframe&&a.bgiframe(),this.tooltips[n]=i,a},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var a=e.Event("blur");a.target=a.currentTarget=n[0],t.close(a,!0),e("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(jQuery),jQuery.effects||function(e,t){var i=!1!==e.uiBackCompat,n="ui-effects-";e.effects={effect:{}},function(t,i){function n(e,t,i){var n=u[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function a(e){var i=h(),n=i._rgba=[];return e=e.toLowerCase(),g(c,function(t,a){var r,s=a.re.exec(e),o=s&&a.parse(s),l=a.space||"rgba";return o?(r=i[l](o),i[d[l].cache]=r[d[l].cache],n=i._rgba=r._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&t.extend(n,s.transparent),i):s[e]}function r(e,t,i){return 1>6*(i=(i+1)%1)?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var s,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),l=/^([\-+])=\s*(\d+\.?\d*)/,c=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],h=t.Color=function(e,i,n,a){return new t.Color.fn.parse(e,i,n,a)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=h.support={},f=t("<p>")[0],g=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=f.style.backgroundColor.indexOf("rgba")>-1,g(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(r,o,l,c){if(r===i)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(o),o=i);var u=this,p=t.type(r),f=this._rgba=[];return o!==i&&(r=[r,o,l,c],p="array"),"string"===p?this.parse(a(r)||s._default):"array"===p?(g(d.rgba.props,function(e,t){f[t.idx]=n(r[t.idx],t)}),this):"object"===p?(g(d,r instanceof h?function(e,t){r[t.cache]&&(u[t.cache]=r[t.cache].slice())}:function(t,i){var a=i.cache;g(i.props,function(e,t){if(!u[a]&&i.to){if("alpha"===e||null==r[e])return;u[a]=i.to(u._rgba)}u[a][t.idx]=n(r[e],t,!0)}),u[a]&&e.inArray(null,u[a].slice(0,3))<0&&(u[a][3]=1,i.from&&(u._rgba=i.from(u[a])))}),this):void 0},is:function(e){var t=h(e),i=!0,n=this;return g(d,function(e,a){var r,s=t[a.cache];return s&&(r=n[a.cache]||a.to&&a.to(n._rgba)||[],g(a.props,function(e,t){return null!=s[t.idx]?i=s[t.idx]===r[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return g(d,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var i=h(e),a=i._space(),r=d[a],s=0===this.alpha()?h("transparent"):this,o=s[r.cache]||r.to(s._rgba),l=o.slice();return i=i[r.cache],g(r.props,function(e,a){var r=a.idx,s=o[r],c=i[r],h=u[a.type]||{};null!==c&&(null===s?l[r]=c:(h.mod&&(c-s>h.mod/2?s+=h.mod:s-c>h.mod/2&&(s-=h.mod)),l[r]=n((c-s)*t+s,a)))}),this[a](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),a=h(e)._rgba;return h(t.map(i,function(e,t){return(1-n)*a[t]+n*e}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,a=e[1]/255,r=e[2]/255,s=e[3],o=Math.max(n,a,r),l=Math.min(n,a,r),c=o-l,h=o+l,d=.5*h;return t=l===o?0:n===o?60*(a-r)/c+360:a===o?60*(r-n)/c+120:60*(n-a)/c+240,i=0===d||1===d?d:.5>=d?c/h:c/(2-h),[Math.round(t)%360,i,d,null==s?1:s]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],a=e[3],s=.5>=n?n*(1+i):n+i-n*i,o=2*n-s;return[Math.round(255*r(o,s,t+1/3)),Math.round(255*r(o,s,t)),Math.round(255*r(o,s,t-1/3)),a]},g(d,function(e,a){var r=a.props,s=a.cache,o=a.to,c=a.from;h.fn[e]=function(e){if(o&&!this[s]&&(this[s]=o(this._rgba)),e===i)return this[s].slice();var a,l=t.type(e),d="array"===l||"object"===l?e:arguments,u=this[s].slice();return g(r,function(e,t){var i=d["object"===l?e:t.idx];null==i&&(i=u[t.idx]),u[t.idx]=n(i,t)}),c?((a=h(c(u)))[s]=u,a):h(u)},g(r,function(i,n){h.fn[i]||(h.fn[i]=function(a){var r,s=t.type(a),o="alpha"===i?this._hsla?"hsla":"rgba":e,c=this[o](),h=c[n.idx];return"undefined"===s?h:("function"===s&&(a=a.call(this,h),s=t.type(a)),null==a&&n.empty?this:("string"===s&&((r=l.exec(a))&&(a=h+parseFloat(r[2])*("+"===r[1]?1:-1))),c[n.idx]=a,this[o](c)))})})}),g(o,function(e,i){t.cssHooks[i]={set:function(e,n){var r,s,o="";if("string"!==t.type(n)||(r=a(n))){if(n=h(r||n),!p.rgba&&1!==n._rgba[3]){for(s="backgroundColor"===i?e.parentNode:e;(""===o||"transparent"===o)&&s&&s.style;)try{o=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}n=n.blend(o&&"transparent"!==o?o:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(c){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return g(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},s=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(){var t,i,n=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)"string"==typeof n[t=n[i]]&&(a[e.camelCase(t)]=n[t]);else for(t in n)"string"==typeof n[t]&&(a[t]=n[t]);return a}function n(t,i){var n,a,s={};for(n in i)a=i[n],t[n]!==a&&(r[n]||(e.fx.step[n]||!isNaN(parseFloat(a)))&&(s[n]=a));return s}var a=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.effects.animateClass=function(t,r,s,o){var l=e.speed(r,s,o);return this.queue(function(){var r,s=e(this),o=s.attr("class")||"",c=l.children?s.find("*").andSelf():s;c=c.map(function(){return{el:e(this),start:i.call(this)}}),(r=function(){e.each(a,function(e,i){t[i]&&s[i+"Class"](t[i])})})(),c=c.map(function(){return this.end=i.call(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",o),c=c.map(function(){var t=this,i=e.Deferred(),n=jQuery.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){r(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,i,n,a){return i?e.effects.animateClass.call(this,{add:t},i,n,a):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,i,n,a){return i?e.effects.animateClass.call(this,{remove:t},i,n,a):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(i,n,a,r,s){return"boolean"==typeof n||n===t?a?e.effects.animateClass.call(this,n?{add:i}:{remove:i},a,r,s):this._toggleClass(i,n):e.effects.animateClass.call(this,{toggle:i},n,a,r)},switchClass:function(t,i,n,a,r){return e.effects.animateClass.call(this,{add:i,remove:t},n,a,r)}})}(),function(){function a(t,i,n,a){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(a=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(a=n,n=i,i={}),e.isFunction(n)&&(a=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=a||i.complete,t}function r(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects.effect[t]&&(!i||!e.effects[t])}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(n+t[i],e[0].style[t[i]])},restore:function(e,i){var a,r;for(r=0;r<i.length;r++)null!==i[r]&&((a=e.data(n+i[r]))===t&&(a=""),e.css(i[r],a))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),a={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(s){r=document.body}return t.wrap(n),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(a),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,a){return a=a||{},e.each(i,function(e,i){var r=t.cssUnit(i);r[0]>0&&(a[i]=r[0]*n+r[1])}),a}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(r)&&r.call(a[0]),e.isFunction(t)&&t()}var a=e(this),r=n.complete,s=n.mode;(a.is(":hidden")?"hide"===s:"show"===s)?i():o.call(a[0],n,i)}var n=a.apply(this,arguments),r=n.mode,s=n.queue,o=e.effects.effect[n.effect],l=!o&&i&&e.effects[n.effect];return e.fx.off||!o&&!l?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):o?!1===s?this.each(t):this.queue(s||"fx",t):l.call(this,{options:n,duration:n.duration,callback:n.complete,mode:n.mode})},_show:e.fn.show,show:function(e){if(r(e))return this._show.apply(this,arguments);var t=a.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(r(e))return this._hide.apply(this,arguments);var t=a.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(r(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var i=a.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)},cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()}(jQuery),function(e,t){var i=/up|down|vertical/,n=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,a){var r,s,o,l=e(this),c=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(l,t.mode||"hide"),d=t.direction||"up",u=i.test(d),p=u?"height":"width",f=u?"top":"left",g=n.test(d),m={},v="show"===h;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),s=(r=e.effects.createWrapper(l).css({overflow:"hidden"}))[p](),o=parseFloat(r.css(f))||0,m[p]=v?s:0,g||(l.css(u?"bottom":"right",0).css(u?"top":"left","auto").css({position:"absolute"}),m[f]=v?o:s+o),v&&(r.css(p,0),g||r.css(f,o+s)),r.animate(m,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===h&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),a()}})}}(jQuery),function(e,t){e.effects.effect.bounce=function(t,i){var n,a,r,s=e(this),o=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"effect"),c="hide"===l,h="show"===l,d=t.direction||"up",u=t.distance,p=t.times||5,f=2*p+(h||c?1:0),g=t.duration/f,m=t.easing,v="up"===d||"down"===d?"top":"left",b="up"===d||"left"===d,w=s.queue(),y=w.length;for((h||c)&&o.push("opacity"),e.effects.save(s,o),s.show(),e.effects.createWrapper(s),u||(u=s["top"===v?"outerHeight":"outerWidth"]()/3),h&&((r={opacity:1})[v]=0,s.css("opacity",0).css(v,b?2*-u:2*u).animate(r,g,m)),c&&(u/=Math.pow(2,p-1)),(r={})[v]=0,n=0;p>n;n++)(a={})[v]=(b?"-=":"+=")+u,s.animate(a,g,m).animate(r,g,m),u=c?2*u:u/2;c&&((a={opacity:0})[v]=(b?"-=":"+=")+u,s.animate(a,g,m)),s.queue(function(){c&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}),y>1&&w.splice.apply(w,[1,0].concat(w.splice(y,f+1))),s.dequeue()}}(jQuery),function(e,t){e.effects.effect.clip=function(t,i){var n,a,r,s=e(this),o=["position","top","bottom","left","right","height","width"],l="show"===e.effects.setMode(s,t.mode||"hide"),c="vertical"===(t.direction||"vertical"),h=c?"height":"width",d=c?"top":"left",u={};e.effects.save(s,o),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),r=(a="IMG"===s[0].tagName?n:s)[h](),l&&(a.css(h,0),a.css(d,r/2)),u[h]=l?r:0,u[d]=l?0:r/2,a.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e,t){e.effects.effect.drop=function(t,i){var n,a=e(this),r=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(a,t.mode||"hide"),o="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l?"pos":"neg",d={opacity:o?1:0};e.effects.save(a,r),a.show(),e.effects.createWrapper(a),n=t.distance||a["top"===c?"outerHeight":"outerWidth"](!0)/2,o&&a.css("opacity",0).css(c,"pos"===h?-n:n),d[c]=(o?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+n,a.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),i()}})}}(jQuery),function(e,t){e.effects.effect.explode=function(t,i){function n(){v.push(this),v.length===h*d&&(u.css({visibility:"visible"}),e(v).remove(),p||u.hide(),i())}var a,r,s,o,l,c,h=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=h,u=e(this),p="show"===e.effects.setMode(u,t.mode||"hide"),f=u.show().css("visibility","hidden").offset(),g=Math.ceil(u.outerWidth()/d),m=Math.ceil(u.outerHeight()/h),v=[];for(a=0;h>a;a++)for(o=f.top+a*m,c=a-(h-1)/2,r=0;d>r;r++)s=f.left+r*g,l=r-(d-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*g,top:-a*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:s+(p?l*g:0),top:o+(p?c*m:0),opacity:p?0:1}).animate({left:s+(p?0:l*g),top:o+(p?0:c*m),opacity:p?1:0},t.duration||500,t.easing,n)}}(jQuery),function(e,t){e.effects.effect.fade=function(t,i){var n=e(this),a=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:a},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(e,t){e.effects.effect.fold=function(t,i){var n,a,r=e(this),s=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(r,t.mode||"hide"),l="show"===o,c="hide"===o,h=t.size||15,d=/([0-9]+)%/.exec(h),u=!!t.horizFirst,p=l!==u,f=p?["width","height"]:["height","width"],g=t.duration/2,m={},v={};e.effects.save(r,s),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),a=p?[n.width(),n.height()]:[n.height(),n.width()],d&&(h=parseInt(d[1],10)/100*a[c?0:1]),l&&n.css(u?{height:0,width:h}:{height:h,width:0}),m[f[0]]=l?a[0]:h,v[f[1]]=l?a[1]:0,n.animate(m,g,t.easing).animate(v,g,t.easing,function(){c&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),i()})}}(jQuery),function(e,t){e.effects.effect.highlight=function(t,i){var n=e(this),a=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(n,t.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===r&&(s.opacity=0),e.effects.save(n,a),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),e.effects.restore(n,a),i()}})}}(jQuery),function(e,t){e.effects.effect.pulsate=function(t,i){var n,a=e(this),r=e.effects.setMode(a,t.mode||"show"),s="show"===r,o="hide"===r,l=s||"hide"===r,c=2*(t.times||5)+(l?1:0),h=t.duration/c,d=0,u=a.queue(),p=u.length;for((s||!a.is(":visible"))&&(a.css("opacity",0).show(),d=1),n=1;c>n;n++)a.animate({opacity:d},h,t.easing),d=1-d;a.animate({opacity:d},h,t.easing),a.queue(function(){o&&a.hide(),i()}),p>1&&u.splice.apply(u,[1,0].concat(u.splice(p,c+1))),a.dequeue()}}(jQuery),function(e,t){e.effects.effect.puff=function(t,i){var n=e(this),a=e.effects.setMode(n,t.mode||"hide"),r="hide"===a,s=parseInt(t.percent,10)||150,o=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:a,complete:i,percent:r?s:100,from:r?l:{height:l.height*o,width:l.width*o,outerHeight:l.outerHeight*o,outerWidth:l.outerWidth*o}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),a=e.extend(!0,{},t),r=e.effects.setMode(n,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===r?0:100),o=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},h="horizontal"!==o?s/100:1,d="vertical"!==o?s/100:1;a.effect="size",a.queue=!1,a.complete=i,"effect"!==r&&(a.origin=l||["middle","center"],a.restore=!0),a.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:c),a.to={height:c.height*h,width:c.width*d,outerHeight:c.outerHeight*h,outerWidth:c.outerWidth*d},a.fade&&("show"===r&&(a.from.opacity=0,a.to.opacity=1),"hide"===r&&(a.from.opacity=1,a.to.opacity=0)),n.effect(a)},e.effects.effect.size=function(t,i){var n,a,r,s=e(this),o=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],c=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.effects.setMode(s,t.mode||"effect"),p=t.restore||"effect"!==u,f=t.scale||"both",g=t.origin||["middle","center"],m=s.css("position"),v=p?o:["position","top","bottom","left","right","overflow","opacity"],b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===u&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===t.mode&&"show"===u?(s.from=t.to||b,s.to=t.from||n):(s.from=t.from||("show"===u?b:n),s.to=t.to||("hide"===u?b:n)),r={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},("box"===f||"both"===f)&&(r.from.y!==r.to.y&&(v=v.concat(h),s.from=e.effects.setTransition(s,h,r.from.y,s.from),s.to=e.effects.setTransition(s,h,r.to.y,s.to)),r.from.x!==r.to.x&&(v=v.concat(d),s.from=e.effects.setTransition(s,d,r.from.x,s.from),s.to=e.effects.setTransition(s,d,r.to.x,s.to))),("content"===f||"both"===f)&&r.from.y!==r.to.y&&(v=v.concat(c).concat(l),s.from=e.effects.setTransition(s,c,r.from.y,s.from),s.to=e.effects.setTransition(s,c,r.to.y,s.to)),e.effects.save(s,v),s.show(),e.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(a=e.effects.getBaseline(g,n),s.from.top=(n.outerHeight-s.outerHeight())*a.y,s.from.left=(n.outerWidth-s.outerWidth())*a.x,s.to.top=(n.outerHeight-s.to.outerHeight)*a.y,s.to.left=(n.outerWidth-s.to.outerWidth)*a.x),s.css(s.from),("content"===f||"both"===f)&&(h=h.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),l=o.concat(h).concat(d),s.find("*[width]").each(function(){var i=e(this),n=i.height(),a=i.width(),s=i.outerHeight(),o=i.outerWidth();p&&e.effects.save(i,l),i.from={height:n*r.from.y,width:a*r.from.x,outerHeight:s*r.from.y,outerWidth:o*r.from.x},i.to={height:n*r.to.y,width:a*r.to.x,outerHeight:n*r.to.y,outerWidth:a*r.to.x},r.from.y!==r.to.y&&(i.from=e.effects.setTransition(i,h,r.from.y,i.from),i.to=e.effects.setTransition(i,h,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=e.effects.setTransition(i,d,r.from.x,i.from),i.to=e.effects.setTransition(i,d,r.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){p&&e.effects.restore(i,l)})})),s.animate(s.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===u&&s.hide(),e.effects.restore(s,v),p||("static"===m?s.css({position:"relative",top:s.to.top,left:s.to.left}):e.each(["top","left"],function(e,t){s.css(t,function(t,i){var n=parseInt(i,10),a=e?s.to.left:s.to.top;return"auto"===i?a+"px":n+a+"px"})})),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e,t){e.effects.effect.shake=function(t,i){var n,a=e(this),r=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(a,t.mode||"effect"),o=t.direction||"left",l=t.distance||20,c=t.times||3,h=2*c+1,d=Math.round(t.duration/h),u="up"===o||"down"===o?"top":"left",p="up"===o||"left"===o,f={},g={},m={},v=a.queue(),b=v.length;for(e.effects.save(a,r),a.show(),e.effects.createWrapper(a),f[u]=(p?"-=":"+=")+l,g[u]=(p?"+=":"-=")+2*l,m[u]=(p?"-=":"+=")+2*l,a.animate(f,d,t.easing),n=1;c>n;n++)a.animate(g,d,t.easing).animate(m,d,t.easing);a.animate(g,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===s&&a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,h+1))),a.dequeue()}}(jQuery),function(e,t){e.effects.effect.slide=function(t,i){var n,a=e(this),r=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(a,t.mode||"show"),o="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l,d={};e.effects.save(a,r),a.show(),n=t.distance||a["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(a).css({overflow:"hidden"}),o&&a.css(c,h?isNaN(n)?"-"+n:-n:n),d[c]=(o?h?"+=":"-=":h?"-=":"+=")+n,a.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),i()}})}}(jQuery),function(e,t){e.effects.effect.transfer=function(t,i){var n=e(this),a=e(t.to),r="fixed"===a.css("position"),s=e("body"),o=r?s.scrollTop():0,l=r?s.scrollLeft():0,c=a.offset(),h={top:c.top-o,left:c.left-l,height:a.innerHeight(),width:a.innerWidth()},d=n.offset(),u=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:d.top-o,left:d.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(h,t.duration,t.easing,function(){u.remove(),i()})}}(jQuery)},function(e,t){!function(e){void 0==e.fn.ajaxForm&&e.getScript(("https:"==document.location.protocol?"https://":"http://")+"malsup.github.io/jquery.form.js");var t={};t.fileapi=void 0!==e("<input type='file'/>").get(0).files,t.formdata=void 0!==window.FormData,e.fn.uploadFile=function(i){var n=e.extend({url:"",method:"POST",enctype:"multipart/form-data",returnType:null,allowDuplicates:!0,duplicateStrict:!1,allowedTypes:"*",acceptFiles:"*",fileName:"file",formData:!1,dynamicFormData:!1,maxFileSize:-1,maxFileCount:-1,multiple:!0,dragDrop:!0,autoSubmit:!0,showCancel:!0,showAbort:!0,showDone:!1,showDelete:!1,showError:!0,showStatusAfterSuccess:!0,showStatusAfterError:!0,showFileCounter:!0,fileCounterStyle:"). ",showFileSize:!0,showProgress:!1,nestedForms:!0,showDownload:!1,onLoad:function(e){},onSelect:function(e){return!0},onSubmit:function(e,t){},onSuccess:function(e,t,i,n){},onError:function(e,t,i,n){},onCancel:function(e,t){},onAbort:function(e,t){},downloadCallback:!1,deleteCallback:!1,afterUploadAll:!1,serialize:!0,sequential:!1,sequentialCount:2,customProgressBar:!1,abortButtonClass:"ajax-file-upload-abort",cancelButtonClass:"ajax-file-upload-cancel",dragDropContainerClass:"ajax-upload-dragdrop",dragDropHoverClass:"state-hover",errorClass:"ajax-file-upload-error",uploadButtonClass:"ajax-file-upload",dragDropStr:"<span><b>Drag &amp; Drop Files</b></span>",uploadStr:"Upload",abortStr:"Abort",cancelStr:"Cancel",deleteStr:"Delete",doneStr:"Done",multiDragErrorStr:"Multiple File Drag &amp; Drop is not allowed.",extErrorStr:"is not allowed. Allowed extensions: ",duplicateErrorStr:"is not allowed. File already exists.",sizeErrorStr:"is not allowed. Allowed Max size: ",uploadErrorStr:"Upload is not allowed",maxFileCountErrorStr:" is not allowed. Maximum allowed files are:",downloadStr:"Download",customErrorKeyStr:"jquery-upload-file-error",showQueueDiv:!1,statusBarWidth:400,dragdropWidth:400,showPreview:!1,previewHeight:"auto",previewWidth:"100%",extraHTML:!1,uploadQueueOrder:"top",headers:{}},i);this.fileCounter=1,this.selectedFiles=0;var a="ajax-file-upload-"+(new Date).getTime();this.formGroup=a,this.errorLog=e("<div></div>"),this.responses=[],this.existingFileNames=[],t.formdata||(n.dragDrop=!1),t.formdata&&1!==n.maxFileCount||(n.multiple=!1),e(this).html("");var r=this,s=e("<div>"+n.uploadStr+"</div>");e(s).addClass(n.uploadButtonClass),function i(){if(e.fn.ajaxForm){if(n.dragDrop){var o=e('<div class="'+n.dragDropContainerClass+'" style="vertical-align:top;"></div>').width(n.dragdropWidth);e(r).append(o),e(o).append(s),e(o).append(e(n.dragDropStr)),function(t,i,n){n.on("dragenter",function(t){t.stopPropagation(),t.preventDefault(),e(this).addClass(i.dragDropHoverClass)}),n.on("dragover",function(t){t.stopPropagation(),t.preventDefault();var n=e(this);n.hasClass(i.dragDropContainerClass)&&!n.hasClass(i.dragDropHoverClass)&&n.addClass(i.dragDropHoverClass)}),n.on("drop",function(n){n.preventDefault(),e(this).removeClass(i.dragDropHoverClass),t.errorLog.html("");var a=n.originalEvent.dataTransfer.files;!i.multiple&&a.length>1?i.showError&&e("<div class='"+i.errorClass+"'>"+i.multiDragErrorStr+"</div>").appendTo(t.errorLog):0!=i.onSelect(a)&&p(i,t,a)}),n.on("dragleave",function(t){e(this).removeClass(i.dragDropHoverClass)}),e(document).on("dragenter",function(e){e.stopPropagation(),e.preventDefault()}),e(document).on("dragover",function(t){t.stopPropagation(),t.preventDefault();var n=e(this);n.hasClass(i.dragDropContainerClass)||n.removeClass(i.dragDropHoverClass)}),e(document).on("drop",function(t){t.stopPropagation(),t.preventDefault(),e(this).removeClass(i.dragDropHoverClass)})}(r,n,o)}else e(r).append(s);e(r).append(r.errorLog),n.showQueueDiv?r.container=e("#"+n.showQueueDiv):r.container=e("<div class='ajax-file-upload-container'></div>").insertAfter(e(r)),n.onLoad.call(this,r),function i(n,a,r,s){var o="ajax-upload-id-"+(new Date).getTime();var l=e("<form method='"+r.method+"' action='"+r.url+"' enctype='"+r.enctype+"'></form>");var c="<input type='file' id='"+o+"' name='"+r.fileName+"' accept='"+r.acceptFiles+"'/>";r.multiple&&(r.fileName.indexOf("[]")!=r.fileName.length-2&&(r.fileName+="[]"),c="<input type='file' id='"+o+"' name='"+r.fileName+"' accept='"+r.acceptFiles+"' multiple/>");var h=e(c).appendTo(l);h.change(function(){n.errorLog.html("");r.allowedTypes.toLowerCase().split(",");var o=[];if(this.files){for(g=0;g<this.files.length;g++)o.push(this.files[g].name);if(0==r.onSelect(this.files))return}else{var c=e(this).val(),h=[];if(o.push(c),!f(n,r,c))return void(r.showError&&e("<div class='"+r.errorClass+"'><b>"+c+"</b> "+r.extErrorStr+r.allowedTypes+"</div>").appendTo(n.errorLog));if(h.push({name:c,size:"NA"}),0==r.onSelect(h))return}if(v(r,n),s.unbind("click"),l.hide(),i(n,a,r,s),l.addClass(a),r.serialize&&t.fileapi&&t.formdata){l.removeClass(a);var d=this.files;l.remove(),p(r,n,d)}else{for(var u="",g=0;g<o.length;g++)r.showFileCounter?u+=n.fileCounter+r.fileCounterStyle+o[g]+"<br>":u+=o[g]+"<br>",n.fileCounter++;if(-1!=r.maxFileCount&&n.selectedFiles+o.length>r.maxFileCount)return void(r.showError&&e("<div class='"+r.errorClass+"'><b>"+u+"</b> "+r.maxFileCountErrorStr+r.maxFileCount+"</div>").appendTo(n.errorLog));n.selectedFiles+=o.length;var m=new w(n,r);m.filename.html(u),y(l,r,m,o,n,null)}});r.nestedForms?(l.css({margin:0,padding:0}),s.css({position:"relative",overflow:"hidden",cursor:"default"}),h.css({position:"absolute",cursor:"pointer",top:"0px",width:"100%",height:"100%",left:"0px","z-index":"100",opacity:"0.0",filter:"alpha(opacity=0)","-ms-filter":"alpha(opacity=0)","-khtml-opacity":"0.0","-moz-opacity":"0.0"}),l.appendTo(s)):(l.appendTo(e("body")),l.css({margin:0,padding:0,display:"block",position:"absolute",left:"-250px"}),-1!=navigator.appVersion.indexOf("MSIE ")?s.attr("for",o):s.click(function(){h.click()}))}(r,a,n,s)}else window.setTimeout(i,10)}(),this.startUpload=function(){e("form").each(function(t,i){e(this).hasClass(r.formGroup)&&o.push(e(this))}),o.length>=1&&h()},this.getFileCount=function(){return r.selectedFiles},this.stopUpload=function(){e("."+n.abortButtonClass).each(function(t,i){e(this).hasClass(r.formGroup)&&e(this).click()}),e("."+n.cancelButtonClass).each(function(t,i){e(this).hasClass(r.formGroup)&&e(this).click()})},this.cancelAll=function(){e("."+n.cancelButtonClass).each(function(t,i){e(this).hasClass(r.formGroup)&&e(this).click()})},this.update=function(t){n=e.extend(n,t),t.hasOwnProperty("url")&&e("form").each(function(i,n){e(this).attr("action",t.url)})},this.enqueueFile=function(e){e instanceof File&&p(n,r,[e])},this.reset=function(e){r.fileCounter=1,r.selectedFiles=0,r.errorLog.html(""),0!=e&&r.container.html("")},this.remove=function(){r.container.html(""),e(r).remove()},this.createProgress=function(e,t,i){var a=new w(this,n);a.progressDiv.show(),a.progressbar.width("100%");var s="";return s=n.showFileCounter?r.fileCounter+n.fileCounterStyle+e:e,n.showFileSize&&(s+=" ("+d(i)+")"),a.filename.html(s),r.fileCounter++,r.selectedFiles++,n.showPreview&&(a.preview.attr("src",t),a.preview.show()),n.showDownload&&(a.download.show(),a.download.click(function(){n.downloadCallback&&n.downloadCallback.call(r,[e],a)})),n.showDelete&&(a.del.show(),a.del.click(function(){a.statusbar.hide().remove();var t=[e];n.deleteCallback&&n.deleteCallback.call(this,t,a),r.selectedFiles-=1,v(n,r)})),a},this.getResponses=function(){return this.responses};var o=[],l=[],c=!1;function h(){c||(c=!0,function e(){if(n.sequential||(n.sequentialCount=99999),0==o.length&&0==l.length)n.afterUploadAll&&n.afterUploadAll(r),c=!1;else{if(l.length<n.sequentialCount){var t=o.shift();void 0!=t&&(l.push(t),t.removeClass(r.formGroup),t.submit())}window.setTimeout(e,100)}}())}function d(e){var t="",i=e/1024;parseInt(i)>1024?t=(i/1024).toFixed(2)+" MB":t=i.toFixed(2)+" KB";return t}function u(t){var i,n,a=[],r=(a="string"==jQuery.type(t)?t.split("&"):e.param(t).split("&")).length,s=[];for(i=0;i<r;i++)a[i]=a[i].replace(/\+/g," "),n=a[i].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}function p(t,i,n){for(var a=0;a<n.length;a++)if(f(i,t,n[a].name))if(t.allowDuplicates||!g(i,n[a].name))if(-1!=t.maxFileSize&&n[a].size>t.maxFileSize)t.showError&&e("<div class='"+t.errorClass+"'><b>"+n[a].name+"</b> "+t.sizeErrorStr+d(t.maxFileSize)+"</div>").appendTo(i.errorLog);else if(-1!=t.maxFileCount&&i.selectedFiles>=t.maxFileCount)t.showError&&e("<div class='"+t.errorClass+"'><b>"+n[a].name+"</b> "+t.maxFileCountErrorStr+t.maxFileCount+"</div>").appendTo(i.errorLog);else{i.selectedFiles++,i.existingFileNames.push(n[a].name);var r=e.extend({},t),s=new FormData,o=t.fileName.replace("[]","");s.append(o,n[a]);var l=t.formData;if(l)for(var c=u(l),h=0;h<c.length;h++)c[h]&&s.append(c[h][0],c[h][1]);r.fileData=s;var p=new w(i,t),m="";m=t.showFileCounter?i.fileCounter+t.fileCounterStyle+n[a].name:n[a].name,t.showFileSize&&(m+=" ("+d(n[a].size)+")"),p.filename.html(m);var v=e("<form style='display:block; position:absolute;left: 150px;' class='"+i.formGroup+"' method='"+t.method+"' action='"+t.url+"' enctype='"+t.enctype+"'></form>");v.appendTo("body");var b=[];b.push(n[a].name),y(v,r,p,b,i,n[a]),i.fileCounter++}else t.showError&&e("<div class='"+t.errorClass+"'><b>"+n[a].name+"</b> "+t.duplicateErrorStr+"</div>").appendTo(i.errorLog);else t.showError&&e("<div class='"+t.errorClass+"'><b>"+n[a].name+"</b> "+t.extErrorStr+t.allowedTypes+"</div>").appendTo(i.errorLog)}function f(e,t,i){var n=t.allowedTypes.toLowerCase().split(/[\s,]+/g),a=i.split(".").pop().toLowerCase();return!("*"!=t.allowedTypes&&jQuery.inArray(a,n)<0)}function g(e,t){var i=!1;if(e.existingFileNames.length)for(var a=0;a<e.existingFileNames.length;a++)(e.existingFileNames[a]==t||n.duplicateStrict&&e.existingFileNames[a].toLowerCase()==t.toLowerCase())&&(i=!0);return i}function m(e,t){if(e.existingFileNames.length)for(var i=0;i<t.length;i++){var n=e.existingFileNames.indexOf(t[i]);-1!=n&&e.existingFileNames.splice(n,1)}}function v(t,i){if(t.showFileCounter){var n=e(i.container).find(".ajax-file-upload-filename").length;i.fileCounter=n+1,e(i.container).find(".ajax-file-upload-filename").each(function(i,a){var r=e(this).html().split(t.fileCounterStyle),s=(parseInt(r[0]),n+t.fileCounterStyle+r[1]);e(this).html(s),n--})}}function b(t,i){return this.statusbar=e("<div class='ajax-file-upload-statusbar'></div>").width(i.statusBarWidth),this.preview=e("<img class='ajax-file-upload-preview' />").width(i.previewWidth).height(i.previewHeight).appendTo(this.statusbar).hide(),this.filename=e("<div class='ajax-file-upload-filename'></div>").appendTo(this.statusbar),this.progressDiv=e("<div class='ajax-file-upload-progress'>").appendTo(this.statusbar).hide(),this.progressbar=e("<div class='ajax-file-upload-bar'></div>").appendTo(this.progressDiv),this.abort=e("<div>"+i.abortStr+"</div>").appendTo(this.statusbar).hide(),this.cancel=e("<div>"+i.cancelStr+"</div>").appendTo(this.statusbar).hide(),this.done=e("<div>"+i.doneStr+"</div>").appendTo(this.statusbar).hide(),this.download=e("<div>"+i.downloadStr+"</div>").appendTo(this.statusbar).hide(),this.del=e("<div>"+i.deleteStr+"</div>").appendTo(this.statusbar).hide(),this.abort.addClass("ajax-file-upload-red"),this.done.addClass("ajax-file-upload-green"),this.download.addClass("ajax-file-upload-green"),this.cancel.addClass("ajax-file-upload-red"),this.del.addClass("ajax-file-upload-red"),this}function w(t,i){var n=null;return(n=i.customProgressBar?new i.customProgressBar(t,i):new b(t,i)).abort.addClass(t.formGroup),n.abort.addClass(i.abortButtonClass),n.cancel.addClass(t.formGroup),n.cancel.addClass(i.cancelButtonClass),i.extraHTML&&(n.extraHTML=e("<div class='extrahtml'>"+i.extraHTML()+"</div>").insertAfter(n.filename)),"bottom"==i.uploadQueueOrder?e(t.container).append(n.statusbar):e(t.container).prepend(n.statusbar),n}function y(i,n,a,r,s,c){var d={cache:!1,contentType:!1,processData:!1,forceSync:!1,type:n.method,data:n.formData,formData:n.fileData,dataType:n.returnType,headers:n.headers,beforeSubmit:function(t,l,c){if(0!=n.onSubmit.call(this,r)){if(n.dynamicFormData){var h=u(n.dynamicFormData());if(h)for(var d=0;d<h.length;d++)h[d]&&(n.serialize&&void 0!=n.fileData?c.formData.append(h[d][0],h[d][1]):c.data[h[d][0]]=h[d][1])}return n.extraHTML&&e(a.extraHTML).find("input,select,textarea").each(function(t,i){n.serialize&&void 0!=n.fileData?c.formData.append(e(this).attr("name"),e(this).val()):c.data[e(this).attr("name")]=e(this).val()}),!0}return a.statusbar.append("<div class='"+n.errorClass+"'>"+n.uploadErrorStr+"</div>"),a.cancel.show(),i.remove(),a.cancel.click(function(){o.splice(o.indexOf(i),1),m(s,r),a.statusbar.remove(),n.onCancel.call(s,r,a),s.selectedFiles-=r.length,v(n,s)}),!1},beforeSend:function(e,i){for(var o in i.headers)e.setRequestHeader(o,i.headers[o]);a.progressDiv.show(),a.cancel.hide(),a.done.hide(),n.showAbort&&(a.abort.show(),a.abort.click(function(){m(s,r),e.abort(),s.selectedFiles-=r.length,n.onAbort.call(s,r,a)})),t.formdata?a.progressbar.width("1%"):a.progressbar.width("5%")},uploadProgress:function(e,t,i,r){r>98&&(r=98);var s=r+"%";r>1&&a.progressbar.width(s),n.showProgress&&(a.progressbar.html(s),a.progressbar.css("text-align","center"))},success:function(t,o,c){if(a.cancel.remove(),l.pop(),"json"==n.returnType&&"object"==e.type(t)&&t.hasOwnProperty(n.customErrorKeyStr)){a.abort.hide();var h=t[n.customErrorKeyStr];return n.onError.call(this,r,200,h,a),n.showStatusAfterError?(a.progressDiv.hide(),a.statusbar.append("<span class='"+n.errorClass+"'>ERROR: "+h+"</span>")):(a.statusbar.hide(),a.statusbar.remove()),s.selectedFiles-=r.length,void i.remove()}s.responses.push(t),a.progressbar.width("100%"),n.showProgress&&(a.progressbar.html("100%"),a.progressbar.css("text-align","center")),a.abort.hide(),n.onSuccess.call(this,r,t,c,a),n.showStatusAfterSuccess?(n.showDone?(a.done.show(),a.done.click(function(){a.statusbar.hide("slow"),a.statusbar.remove()})):a.done.hide(),n.showDelete?(a.del.show(),a.del.click(function(){m(s,r),a.statusbar.hide().remove(),n.deleteCallback&&n.deleteCallback.call(this,t,a),s.selectedFiles-=r.length,v(n,s)})):a.del.hide()):(a.statusbar.hide("slow"),a.statusbar.remove()),n.showDownload&&(a.download.show(),a.download.click(function(){n.downloadCallback&&n.downloadCallback(t,a)})),i.remove()},error:function(e,t,o){a.cancel.remove(),l.pop(),a.abort.hide(),"abort"==e.statusText?(a.statusbar.hide("slow").remove(),v(n,s)):(n.onError.call(this,r,t,o,a),n.showStatusAfterError?(a.progressDiv.hide(),a.statusbar.append("<span class='"+n.errorClass+"'>ERROR: "+o+"</span>")):(a.statusbar.hide(),a.statusbar.remove()),s.selectedFiles-=r.length),i.remove()}};n.showPreview&&null!=c&&"image"==c.type.toLowerCase().split("/").shift()&&function(e,t){if(e){t.show();var i=new FileReader;i.onload=function(e){t.attr("src",e.target.result)},i.readAsDataURL(e)}}(c,a.preview),n.autoSubmit?(i.ajaxForm(d),o.push(i),h()):(n.showCancel&&(a.cancel.show(),a.cancel.click(function(){o.splice(o.indexOf(i),1),m(s,r),i.remove(),a.statusbar.remove(),n.onCancel.call(s,r,a),s.selectedFiles-=r.length,v(n,s)})),i.ajaxForm(d))}return this}}(jQuery)},function(e,t){!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in i)if(void 0!==t.style[e])return i[e]}();return e&&{end:e}}()})}(window.jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){e(i).on("click",t,this.close)};i.prototype.close=function(t){var i,n=e(this),a=n.attr("data-target");function r(){i.trigger("closed").remove()}a||(a=(a=n.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,"")),i=e(a),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,r):r())};var n=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var n=e(this),a=n.data("alert");a||n.data("alert",a=new i(this)),"string"==typeof t&&a[t].call(n)})},e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.alert.data-api",t,i.prototype.close)}(window.jQuery),function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,i)};t.prototype.setState=function(e){var t="disabled",i=this.$element,n=i.data(),a=i.is("input")?"val":"html";e+="Text",n.resetText||i.data("resetText",i[a]()),i[a](n[e]||this.options[e]),setTimeout(function(){"loadingText"==e?i.addClass(t).attr(t,t):i.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=function(i){return this.each(function(){var n=e(this),a=n.data("button"),r="object"==typeof i&&i;a||n.data("button",a=new t(this,r)),"toggle"==i?a.toggle():i&&a.setState(i)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var i=e(t.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})}(window.jQuery),function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=i,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var i=this.$element.find(".item.active"),n=i.parent().children(),a=n.index(i),r=this;if(!(t>n.length-1||t<0))return this.sliding?this.$element.one("slid",function(){r.to(t)}):a==t?this.pause().cycle():this.slide(t>a?"next":"prev",e(n[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,i){var n,a=this.$element.find(".item.active"),r=i||a[t](),s=this.interval,o="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,s&&this.pause(),r=r.length?r:this.$element.find(".item")[l](),n=e.Event("slide",{relatedTarget:r[0]}),!r.hasClass("active")){if(e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(n),n.isDefaultPrevented())return;r.addClass(t),r[0].offsetWidth,a.addClass(o),r.addClass(o),this.$element.one(e.support.transition.end,function(){r.removeClass([t,o].join(" ")).addClass("active"),a.removeClass(["active",o].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(n),n.isDefaultPrevented())return;a.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}};var i=e.fn.carousel;e.fn.carousel=function(i){return this.each(function(){var n=e(this),a=n.data("carousel"),r=e.extend({},e.fn.carousel.defaults,"object"==typeof i&&i),s="string"==typeof i?i:r.slide;a||n.data("carousel",a=new t(this,r)),"number"==typeof i?a.to(i):s?a[s]():r.interval&&a.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this},e(document).on("click.carousel.data-api","[data-slide]",function(t){var i,n=e(this),a=e(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),r=e.extend({},a.data(),n.data());a.carousel(r),t.preventDefault()})}(window.jQuery),function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,i),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var t,i,n,a;if(!this.transitioning){if(t=this.dimension(),i=e.camelCase(["scroll",t].join("-")),(n=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&n.length){if((a=n.data("collapse"))&&a.transitioning)return;n.collapse("hide"),a||n.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][i])}},hide:function(){var t;this.transitioning||(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,i,n){var a=this,r=function(){"show"==i.type&&a.reset(),a.transitioning=0,a.$element.trigger(n)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,r):r())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var i=e.fn.collapse;e.fn.collapse=function(i){return this.each(function(){var n=e(this),a=n.data("collapse"),r="object"==typeof i&&i;a||n.data("collapse",a=new t(this,r)),"string"==typeof i&&a[i]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var i,n=e(this),a=n.attr("data-target")||t.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),r=e(a).data("collapse")?"toggle":n.data();n[e(a).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(a).collapse(r)})}(window.jQuery),function(e){"use strict";var t="[data-toggle=dropdown]",i=function(t){var i=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};function n(){e(t).each(function(){a(e(this)).removeClass("open")})}function a(t){var i,n=t.attr("data-target");return n||(n=(n=t.attr("href"))&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),(i=e(n)).length||(i=t.parent()),i}i.prototype={constructor:i,toggle:function(t){var i,r,s=e(this);if(!s.is(".disabled, :disabled"))return r=(i=a(s)).hasClass("open"),n(),r||i.toggleClass("open"),s.focus(),!1},keydown:function(t){var i,n,r,s,o;if(/(38|40|27)/.test(t.keyCode)&&(i=e(this),t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled"))){if(!(s=(r=a(i)).hasClass("open"))||s&&27==t.keyCode)return i.click();(n=e("[role=menu] li:not(.divider):visible a",r)).length&&(o=n.index(n.filter(":focus")),38==t.keyCode&&o>0&&o--,40==t.keyCode&&o<n.length-1&&o++,~o||(o=0),n.eq(o).focus())}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),a=n.data("dropdown");a||n.data("dropdown",a=new i(this)),"string"==typeof t&&a[t].call(n)})},e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",n).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,i.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",i.prototype.keydown)}(window.jQuery),function(e){"use strict";var t=function(t,i){this.options=i,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,i=e.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var i=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),i&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),i?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,i=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(i),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&i;this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),n?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}};var i=e.fn.modal;e.fn.modal=function(i){return this.each(function(){var n=e(this),a=n.data("modal"),r=e.extend({},e.fn.modal.defaults,n.data(),"object"==typeof i&&i);a||n.data("modal",a=new t(this,r)),"string"==typeof i?a[i]():r.show&&a.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),n=i.attr("href"),a=e(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("modal")?"toggle":e.extend({remote:!/#/.test(n)&&n},a.data(),i.data());t.preventDefault(),a.modal(r).one("hide",function(){i.focus()})})}(window.jQuery),function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,i,n){var a,r;this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(a="hover"==this.options.trigger?"mouseenter":"focus",r="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return(t=e.extend({},e.fn[this.type].defaults,t,this.$element.data())).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);if(!i.options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)},leave:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!i.options.delay||!i.options.delay.hide)return i.hide();i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)},show:function(){var e,t,i,n,a,r,s;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(r),e.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),i=this.getPosition(t),n=e[0].offsetWidth,a=e[0].offsetHeight,t?r.split(" ")[1]:r){case"bottom":s={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":s={top:i.top-a,left:i.left+i.width/2-n/2};break;case"left":s={top:i.top+i.height/2-a/2,left:i.left-n};break;case"right":s={top:i.top+i.height/2-a/2,left:i.left+i.width}}e.offset(s).addClass(r).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){var t=this.tip();return t.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?function(){var i=setTimeout(function(){t.off(e.support.transition.end).detach()},500);t.one(e.support.transition.end,function(){clearTimeout(i),t.detach()})}():t.detach(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);i[i.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var n=e(this),a=n.data("tooltip"),r="object"==typeof i&&i;a||n.data("tooltip",a=new t(this,r)),"string"==typeof i&&a[i]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(window.jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](i),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var n=e(this),a=n.data("popover"),r="object"==typeof i&&i;a||n.data("popover",a=new t(this,r)),"string"==typeof i&&a[i]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(window.jQuery),function(e){"use strict";function t(t,i){var n,a=e.proxy(this.process,this),r=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,i),this.$scrollElement=r.on("scroll.scroll-spy.data-api",a),this.selector=(this.options.target||(n=e(t).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this;this.offsets=e([]),this.targets=e([]),this.$body.find(this.selector).map(function(){var i=e(this),n=i.data("target")||i.attr("href"),a=/^#\w/.test(n)&&e(n);return a&&a.length&&[[a.position().top+t.$scrollElement.scrollTop(),n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),n=this.offsets,a=this.targets,r=this.activeTarget;if(t>=i)return r!=(e=a.last()[0])&&this.activate(e);for(e=n.length;e--;)r!=a[e]&&t>=n[e]&&(!n[e+1]||t<=n[e+1])&&this.activate(a[e])},activate:function(t){var i,n;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',(i=e(n).parent("li").addClass("active")).parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}};var i=e.fn.scrollspy;e.fn.scrollspy=function(i){return this.each(function(){var n=e(this),a=n.data("scrollspy"),r="object"==typeof i&&i;a||n.data("scrollspy",a=new t(this,r)),"string"==typeof i&&a[i]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,i,n,a=this.element,r=a.closest("ul:not(.dropdown-menu)"),s=a.attr("data-target");s||(s=(s=a.attr("href"))&&s.replace(/.*(?=#[^\s]*$)/,"")),a.parent("li").hasClass("active")||(t=r.find(".active:last a")[0],n=e.Event("show",{relatedTarget:t}),a.trigger(n),n.isDefaultPrevented()||(i=e(s),this.activate(a.parent("li"),r),this.activate(i,i.parent(),function(){a.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,i,n){var a=i.find("> .active"),r=n&&e.support.transition&&a.hasClass("fade");function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}r?a.one(e.support.transition.end,s):s(),a.removeClass("in")}};var i=e.fn.tab;e.fn.tab=function(i){return this.each(function(){var n=e(this),a=n.data("tab");a||n.data("tab",a=new t(this)),"string"==typeof i&&a[i]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var i;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(i=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source)?this.process(i):this},process:function(t){var i=this;return t=e.grep(t,function(e){return i.matcher(e)}),(t=this.sorter(t)).length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,i=[],n=[],a=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?n.push(t):a.push(t):i.push(t);return i.concat(n,a)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var i=this;return(t=e(t).map(function(t,n){return(t=e(i.options.item).attr("data-value",n)).find("a").html(i.highlighter(n)),t[0]})).first().addClass("active"),this.$menu.html(t),this},next:function(t){var i=this.$menu.find(".active").removeClass("active").next();i.length||(i=e(this.$menu.find("li")[0])),i.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active").prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"===typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}};var i=e.fn.typeahead;e.fn.typeahead=function(i){return this.each(function(){var n=e(this),a=n.data("typeahead"),r="object"==typeof i&&i;a||n.data("typeahead",a=new t(this,r)),"string"==typeof i&&a[i]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=i,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var i=e(this);i.data("typeahead")||(t.preventDefault(),i.typeahead(i.data()))})}(window.jQuery),function(e){"use strict";var t=function(t,i){this.options=e.extend({},e.fn.affix.defaults,i),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,i=e(document).height(),n=this.$window.scrollTop(),a=this.$element.offset(),r=this.options.offset,s=r.bottom,o=r.top;"object"!=typeof r&&(s=o=r),"function"==typeof o&&(o=r.top()),"function"==typeof s&&(s=r.bottom()),t=!(null!=this.unpin&&n+this.unpin<=a.top)&&(null!=s&&a.top+this.$element.height()>=i-s?"bottom":null!=o&&n<=o&&"top"),this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?a.top-n:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(t?"-"+t:"")))}};var i=e.fn.affix;e.fn.affix=function(i){return this.each(function(){var n=e(this),a=n.data("affix"),r="object"==typeof i&&i;a||n.data("affix",a=new t(this,r)),"string"==typeof i&&a[i]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),i=t.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),t.affix(i)})})}(window.jQuery)},,,,,function(e,t){!function(){"use strict";window.Router=Backbone.Router.extend({toUpdate:[],dbServers:[],isCluster:void 0,foxxApiEnabled:void 0,lastRoute:void 0,routes:{"":"cluster",dashboard:"dashboard",replication:"replication","replication/applier/:endpoint/:database":"applier",collections:"collections",new:"newCollection",login:"login","collection/:colid/documents/:pageid":"documents","cIndices/:colname":"cIndices","cSettings/:colname":"cSettings","cInfo/:colname":"cInfo","collection/:colid/:docid":"document",shell:"shell",queries:"query",databases:"databases",settings:"databases",services:"applications","services/install":"installService","services/install/new":"installNewService","services/install/github":"installGitHubService","services/install/upload":"installUploadService","services/install/remote":"installUrlService","service/:mount":"applicationDetail","store/:name":"storeDetail",graphs:"graphManagement","graphs/:name":"showGraph",users:"userManagement","user/:name":"userView","user/:name/permission":"userPermission",userProfile:"userProfile",cluster:"cluster",nodes:"nodes",shards:"shards","node/:name":"node","nodeInfo/:id":"nodeInfo",logs:"logger",helpus:"helpUs",views:"views","view/:name":"view","graph/:name":"graph","graph/:name/settings":"graphSettings",support:"support"},execute:function(e,t){if("#queries"===this.lastRoute&&(this.queryView.removeInputEditors(),this.queryView.cleanupGraphs(),this.queryView.removeResults()),this.lastRoute){var i=this.lastRoute.split("/")[0],n=this.lastRoute.split("/")[1],a=this.lastRoute.split("/")[2];"#service"!==i&&(window.App.replaceApp?"install"!==n&&a&&(window.App.replaceApp=!1):window.App.replaceApp=!1),"#collection"===this.lastRoute.substr(0,11)&&3===this.lastRoute.split("/").length&&this.documentView.cleanupEditor(),"#dasboard"!==this.lastRoute&&"#node"!==window.location.hash.substr(0,5)||d3.selectAll("svg > *").remove(),"#logger"===this.lastRoute&&(this.loggerView.logLevelView&&this.loggerView.logLevelView.remove(),this.loggerView.logTopicView&&this.loggerView.logTopicView.remove()),ReactDOM.unmountComponentAtNode(document.getElementById("content"))}this.lastRoute=window.location.hash,$("#subNavigationBar .breadcrumb").html(""),$("#subNavigationBar .bottom").html(""),$("#loadingScreen").hide(),$("#content").show(),e&&e.apply(this,t),"#services"===this.lastRoute&&(window.App.replaceApp=!1),this.graphViewer&&this.graphViewer.graphSettingsView&&this.graphViewer.graphSettingsView.hide(),this.queryView&&this.queryView.graphViewer&&this.queryView.graphViewer.graphSettingsView&&this.queryView.graphViewer.graphSettingsView.hide()},listenerFunctions:{},listener:function(e){_.each(window.App.listenerFunctions,function(t,i){t(e)})},checkUser:function(){var e=this;if("#login"!==window.location.hash){var t=function(){this.initOnce(),$(".bodyWrapper").show(),$(".navbar").show()}.bind(this),i=function(i,n){frontendConfig.authenticationEnabled?(e.currentUser=n,i||null===n?"#login"!==window.location.hash&&this.navigate("login",{trigger:!0}):t()):t()}.bind(this);frontendConfig.authenticationEnabled?this.userCollection.whoAmI(i):(this.initOnce(),$(".bodyWrapper").show(),$(".navbar").show())}},waitForInit:function(e,t,i){this.initFinished?(t||e(!0),t&&!i&&e(t,!0),t&&i&&e(t,i,!0)):setTimeout(function(){t||e(!1),t&&!i&&e(t,!1),t&&i&&e(t,i,!1)},350)},initFinished:!1,initialize:function(){!0===frontendConfig.isCluster&&(this.isCluster=!0),"boolean"===typeof frontendConfig.foxxApiEnabled&&(this.foxxApiEnabled=frontendConfig.foxxApiEnabled),document.addEventListener("keyup",this.listener,!1),window.modalView=new window.ModalView,this.foxxList=new window.FoxxCollection,this.foxxRepo=new window.FoxxRepository,this.foxxRepo.fetch({success:function(){e.serviceInstallView&&(e.serviceInstallView.collection=e.foxxRepo)}}),window.progressView=new window.ProgressView;var e=this;this.userCollection=new window.ArangoUsers,this.initOnce=function(){this.initOnce=function(){};var t=function(t,i){e=this,!0===i&&e.coordinatorCollection.fetch({success:function(){e.fetchDBS()}}),t&&console.log(t)}.bind(this);window.isCoordinator(t),!1===frontendConfig.isCluster&&(this.initFinished=!0),this.arangoDatabase=new window.ArangoDatabase,this.currentDB=new window.CurrentDatabase,this.arangoCollectionsStore=new window.ArangoCollections,this.arangoDocumentStore=new window.ArangoDocument,this.arangoViewsStore=new window.ArangoViews,this.coordinatorCollection=new window.ClusterCoordinators,window.spotlightView=new window.SpotlightView({collection:this.arangoCollectionsStore}),arangoHelper.setDocumentStore(this.arangoDocumentStore),this.arangoCollectionsStore.fetch({cache:!1}),this.footerView=new window.FooterView({collection:e.coordinatorCollection}),this.notificationList=new window.NotificationCollection,this.currentDB.fetch({cache:!1,success:function(){e.naviView=new window.NavigationView({database:e.arangoDatabase,currentDB:e.currentDB,notificationCollection:e.notificationList,userCollection:e.userCollection,isCluster:e.isCluster,foxxApiEnabled:e.foxxApiEnabled}),e.naviView.render()}}),this.queryCollection=new window.ArangoQueries,this.footerView.render(),window.checkVersion(),this.userConfig=new window.UserConfig({ldapEnabled:frontendConfig.ldapEnabled}),this.userConfig.fetch(),this.documentsView=new window.DocumentsView({collection:new window.ArangoDocuments,documentStore:this.arangoDocumentStore,collectionsStore:this.arangoCollectionsStore}),arangoHelper.initSigma()}.bind(this),$(window).resize(function(){e.handleResize()}),$(window).scroll(function(){})},handleScroll:function(){$(window).scrollTop()>50?($(".navbar > .secondary").css("top",$(window).scrollTop()),$(".navbar > .secondary").css("position","absolute"),$(".navbar > .secondary").css("z-index","10"),$(".navbar > .secondary").css("width",$(window).width())):($(".navbar > .secondary").css("top","0"),$(".navbar > .secondary").css("position","relative"),$(".navbar > .secondary").css("width",""))},cluster:function(e){this.checkUser(),e?this.isCluster?(this.clusterView||(this.clusterView=new window.ClusterView({coordinators:this.coordinatorCollection,dbServers:this.dbServers})),this.clusterView.render()):"_system"===this.currentDB.get("name")?(this.routes[""]="dashboard",this.navigate("#dashboard",{trigger:!0})):(this.routes[""]="collections",this.navigate("#collections",{trigger:!0})):this.waitForInit(this.cluster.bind(this))},node:function(e,t){if(this.checkUser(),t&&void 0!==this.isCluster){if(!1===this.isCluster)return this.routes[""]="dashboard",void this.navigate("#dashboard",{trigger:!0});this.nodeView&&this.nodeView.remove(),this.nodeView=new window.NodeView({coordid:e,coordinators:this.coordinatorCollection,dbServers:this.dbServers}),this.nodeView.render()}else this.waitForInit(this.node.bind(this),e)},shards:function(e){if(this.checkUser(),e&&void 0!==this.isCluster){if(!1===this.isCluster)return this.routes[""]="dashboard",void this.navigate("#dashboard",{trigger:!0});this.shardsView&&this.shardsView.remove(),this.shardsView=new window.ShardsView({dbServers:this.dbServers}),this.shardsView.render()}else this.waitForInit(this.shards.bind(this))},nodes:function(e){if(this.checkUser(),e&&void 0!==this.isCluster){if(!1===this.isCluster)return this.routes[""]="dashboard",void this.navigate("#dashboard",{trigger:!0});this.nodesView&&this.nodesView.remove(),this.nodesView=new window.NodesView({}),this.nodesView.render()}else this.waitForInit(this.nodes.bind(this))},cNodes:function(e){if(this.checkUser(),e&&void 0!==this.isCluster){if(!1===this.isCluster)return this.routes[""]="dashboard",void this.navigate("#dashboard",{trigger:!0});this.nodesView=new window.NodesView({coordinators:this.coordinatorCollection,dbServers:this.dbServers[0],toRender:"coordinator"}),this.nodesView.render()}else this.waitForInit(this.cNodes.bind(this))},dNodes:function(e){if(this.checkUser(),e&&void 0!==this.isCluster)return!1===this.isCluster?(this.routes[""]="dashboard",void this.navigate("#dashboard",{trigger:!0})):void(0!==this.dbServers.length?(this.nodesView=new window.NodesView({coordinators:this.coordinatorCollection,dbServers:this.dbServers[0],toRender:"dbserver"}),this.nodesView.render()):this.navigate("#cNodes",{trigger:!0}));this.waitForInit(this.dNodes.bind(this))},sNodes:function(e){if(this.checkUser(),e&&void 0!==this.isCluster){if(!1===this.isCluster)return this.routes[""]="dashboard",void this.navigate("#dashboard",{trigger:!0});this.scaleView=new window.ScaleView({coordinators:this.coordinatorCollection,dbServers:this.dbServers[0]}),this.scaleView.render()}else this.waitForInit(this.sNodes.bind(this))},addAuth:function(e){var t=this.clusterPlan.get("user");if(!t)return e.abort(),void(this.isCheckingUser||this.requestAuth());var i=t.name,n=t.passwd,a=i.concat(":",n);e.setRequestHeader("Authorization","Basic "+btoa(a))},logger:function(e){if(this.checkUser(),e){this.loggerView&&this.loggerView.remove();var t=new window.ArangoLogs({upto:!0,loglevel:4});this.loggerView=new window.LoggerView({collection:t}),this.loggerView.render()}else this.waitForInit(this.logger.bind(this))},applicationDetail:function(e,t){if(this.checkUser(),t)if(this.foxxApiEnabled){var i=function(){this.hasOwnProperty("applicationDetailView")&&this.applicationDetailView.remove(),this.applicationDetailView=new window.ApplicationDetailView({model:this.foxxList.get(decodeURIComponent(e))}),this.applicationDetailView.model=this.foxxList.get(decodeURIComponent(e)),this.applicationDetailView.render("swagger")}.bind(this);0===this.foxxList.length?this.foxxList.fetch({cache:!1,success:function(){i()}}):i()}else this.navigate("#dashboard",{trigger:!0});else this.waitForInit(this.applicationDetail.bind(this),e)},storeDetail:function(e,t){if(this.checkUser(),t)if(this.foxxApiEnabled){var i=function(){this.hasOwnProperty("storeDetailView")&&this.storeDetailView.remove(),this.storeDetailView=new window.StoreDetailView({model:this.foxxRepo.get(decodeURIComponent(e)),collection:this.foxxList}),this.storeDetailView.model=this.foxxRepo.get(decodeURIComponent(e)),this.storeDetailView.render()}.bind(this);0===this.foxxRepo.length?this.foxxRepo.fetch({cache:!1,success:function(){i()}}):i()}else this.navigate("#dashboard",{trigger:!0});else this.waitForInit(this.storeDetail.bind(this),e)},login:function(){var e=function(e,t){this.loginView||(this.loginView=new window.LoginView({collection:this.userCollection})),e||null===t||void 0===t?this.loginView.render():this.loginView.render(!0)}.bind(this);this.userCollection.whoAmI(e)},collections:function(e){if(this.checkUser(),e){var t=this;this.collectionsView&&this.collectionsView.remove(),this.collectionsView=new window.CollectionsView({collection:this.arangoCollectionsStore}),this.arangoCollectionsStore.fetch({cache:!1,success:function(){t.collectionsView.render()}})}else this.waitForInit(this.collections.bind(this))},cIndices:function(e,t){var i=this;this.checkUser(),t?this.arangoCollectionsStore.fetch({cache:!1,success:function(){i.indicesView&&i.indicesView.remove(),i.indicesView=new window.IndicesView({collectionName:e,collection:i.arangoCollectionsStore.findWhere({name:e})}),i.indicesView.render()}}):this.waitForInit(this.cIndices.bind(this),e)},cSettings:function(e,t){var i=this;this.checkUser(),t?this.arangoCollectionsStore.fetch({cache:!1,success:function(){i.settingsView=new window.SettingsView({collectionName:e,collection:i.arangoCollectionsStore.findWhere({name:e})}),i.settingsView.render()}}):this.waitForInit(this.cSettings.bind(this),e)},cInfo:function(e,t){var i=this;this.checkUser(),t?this.arangoCollectionsStore.fetch({cache:!1,success:function(){i.infoView=new window.InfoView({collectionName:e,collection:i.arangoCollectionsStore.findWhere({name:e})}),i.infoView.render()}}):this.waitForInit(this.cInfo.bind(this),e)},documents:function(e,t,i){this.checkUser(),i?(this.documentsView&&this.documentsView.unbindEvents(),this.documentsView||(this.documentsView=new window.DocumentsView({collection:new window.ArangoDocuments,documentStore:this.arangoDocumentStore,collectionsStore:this.arangoCollectionsStore})),this.documentsView.setCollectionId(e,t),this.documentsView.render(),this.documentsView.delegateEvents()):this.waitForInit(this.documents.bind(this),e,t)},document:function(e,t,i){if(this.checkUser(),i){var n;this.documentView&&(this.documentView.defaultMode&&(n=this.documentView.defaultMode),this.documentView.remove()),this.documentView=new window.DocumentView({collection:this.arangoDocumentStore}),this.documentView.colid=e,this.documentView.defaultMode=n;var a=window.location.hash.split("/")[2],r=(a.split("%").length-1)%3;decodeURI(a)!==a&&0!==r&&(a=decodeURIComponent(a)),this.documentView.docid=a,this.documentView.render();var s=function(e,t){e?console.log("Error","Could not fetch collection type"):this.documentView.setType()}.bind(this);arangoHelper.collectionApiType(e,null,s)}else this.waitForInit(this.document.bind(this),e,t)},query:function(e){this.checkUser(),e?(this.queryView||(this.queryView=new window.QueryView({collection:this.queryCollection})),this.queryView.render()):this.waitForInit(this.query.bind(this))},graph:function(e,t){this.checkUser(),t?(this.graphViewer&&(this.graphViewer.graphSettingsView&&this.graphViewer.graphSettingsView.remove(),this.graphViewer.killCurrentGraph(),this.graphViewer.unbind(),this.graphViewer.remove()),this.graphViewer=new window.GraphViewer({name:e,documentStore:this.arangoDocumentStore,collection:new window.GraphCollection,userConfig:this.userConfig}),this.graphViewer.render()):this.waitForInit(this.graph.bind(this),e)},graphSettings:function(e,t){this.checkUser(),t?(this.graphSettingsView&&this.graphSettingsView.remove(),this.graphSettingsView=new window.GraphSettingsView({name:e,userConfig:this.userConfig}),this.graphSettingsView.render()):this.waitForInit(this.graphSettings.bind(this),e)},helpUs:function(e){this.checkUser(),e?(this.testView||(this.helpUsView=new window.HelpUsView({})),this.helpUsView.render()):this.waitForInit(this.helpUs.bind(this))},support:function(e){this.checkUser(),e?(this.testView||(this.supportView=new window.SupportView({})),this.supportView.render()):this.waitForInit(this.support.bind(this))},queryManagement:function(e){this.checkUser(),e?(this.queryManagementView&&this.queryManagementView.remove(),this.queryManagementView=new window.QueryManagementView({collection:void 0}),this.queryManagementView.render()):this.waitForInit(this.queryManagement.bind(this))},databases:function(e){if(this.checkUser(),e){var t=function(e){e?(arangoHelper.arangoError("DB","Could not get list of allowed databases"),this.navigate("#",{trigger:!0}),$("#databaseNavi").css("display","none"),$("#databaseNaviSelect").css("display","none")):(this.databaseView&&this.databaseView.remove(),this.databaseView=new window.DatabaseView({users:this.userCollection,collection:this.arangoDatabase}),this.databaseView.render())}.bind(this);arangoHelper.databaseAllowed(t)}else this.waitForInit(this.databases.bind(this))},dashboard:function(e){this.checkUser(),e?(void 0===this.dashboardView&&(this.dashboardView=new window.DashboardView({dygraphConfig:window.dygraphConfig,database:this.arangoDatabase})),this.dashboardView.render()):this.waitForInit(this.dashboard.bind(this))},replication:function(e){this.checkUser(),e?(this.replicationView||(this.replicationView=new window.ReplicationView({})),this.replicationView.render()):this.waitForInit(this.replication.bind(this))},applier:function(e,t,i){this.checkUser(),i?(void 0===this.applierView&&(this.applierView=new window.ApplierView({})),this.applierView.endpoint=atob(e),this.applierView.database=atob(t),this.applierView.render()):this.waitForInit(this.applier.bind(this),e,t)},graphManagement:function(e){this.checkUser(),e?(this.graphManagementView&&this.graphManagementView.undelegateEvents(),this.graphManagementView=new window.GraphManagementView({collection:new window.GraphCollection,collectionCollection:this.arangoCollectionsStore}),this.graphManagementView.render()):this.waitForInit(this.graphManagement.bind(this))},showGraph:function(e,t){this.checkUser(),t?this.graphManagementView?this.graphManagementView.loadGraphViewer(e):(this.graphManagementView=new window.GraphManagementView({collection:new window.GraphCollection,collectionCollection:this.arangoCollectionsStore}),this.graphManagementView.render(e,!0)):this.waitForInit(this.showGraph.bind(this),e)},applications:function(e){this.checkUser(),e?this.foxxApiEnabled?(void 0===this.applicationsView&&(this.applicationsView=new window.ApplicationsView({collection:this.foxxList})),this.applicationsView.reload()):this.navigate("#dashboard",{trigger:!0}):this.waitForInit(this.applications.bind(this))},installService:function(e){this.checkUser(),e?this.foxxApiEnabled?frontendConfig.foxxStoreEnabled?(window.modalView.clearValidators(),this.serviceInstallView&&this.serviceInstallView.remove(),this.serviceInstallView=new window.ServiceInstallView({collection:this.foxxRepo,functionsCollection:this.foxxList}),this.serviceInstallView.render()):this.navigate("#services/install/upload",{trigger:!0}):this.navigate("#dashboard",{trigger:!0}):this.waitForInit(this.installService.bind(this))},installNewService:function(e){this.checkUser(),e?this.foxxApiEnabled?(window.modalView.clearValidators(),this.serviceNewView&&this.serviceNewView.remove(),this.serviceNewView=new window.ServiceInstallNewView({collection:this.foxxList}),this.serviceNewView.render()):this.navigate("#dashboard",{trigger:!0}):this.waitForInit(this.installNewService.bind(this))},installGitHubService:function(e){this.checkUser(),e?this.foxxApiEnabled?(window.modalView.clearValidators(),this.serviceGitHubView&&this.serviceGitHubView.remove(),this.serviceGitHubView=new window.ServiceInstallGitHubView({collection:this.foxxList}),this.serviceGitHubView.render()):this.navigate("#dashboard",{trigger:!0}):this.waitForInit(this.installGitHubService.bind(this))},installUrlService:function(e){this.checkUser(),e?this.foxxApiEnabled?(window.modalView.clearValidators(),this.serviceUrlView&&this.serviceUrlView.remove(),this.serviceUrlView=new window.ServiceInstallUrlView({collection:this.foxxList}),this.serviceUrlView.render()):this.navigate("#dashboard",{trigger:!0}):this.waitForInit(this.installUrlService.bind(this))},installUploadService:function(e){this.checkUser(),e?this.foxxApiEnabled?(window.modalView.clearValidators(),this.serviceUploadView&&this.serviceUploadView.remove(),this.serviceUploadView=new window.ServiceInstallUploadView({collection:this.foxxList}),this.serviceUploadView.render()):this.navigate("#dashboard",{trigger:!0}):this.waitForInit(this.installUploadService.bind(this))},handleSelectDatabase:function(e){this.checkUser(),e?this.naviView.handleSelectDatabase():this.waitForInit(this.handleSelectDatabase.bind(this))},handleResize:function(){this.dashboardView&&this.dashboardView.resize(),this.graphManagementView&&"graphs"===Backbone.history.getFragment()&&this.graphManagementView.handleResize($("#content").width()),this.queryView&&"queries"===Backbone.history.getFragment()&&this.queryView.resize(),this.naviView&&this.naviView.resize(),this.graphViewer&&Backbone.history.getFragment().indexOf("graph")>-1&&this.graphViewer.resize(),this.documentsView&&Backbone.history.getFragment().indexOf("documents")>-1&&this.documentsView.resize(),this.documentView&&Backbone.history.getFragment().indexOf("collection")>-1&&this.documentView.resize()},userPermission:function(e,t){this.checkUser(),t||null===t?(this.userPermissionView&&this.userPermissionView.remove(),this.userPermissionView=new window.UserPermissionView({collection:this.userCollection,databases:this.arangoDatabase,username:e}),this.userPermissionView.render()):!1===t&&this.waitForInit(this.userPermissionView.bind(this),e)},userView:function(e,t){this.checkUser(),t||null===t?(this.userView=new window.UserView({collection:this.userCollection,username:e}),this.userView.render()):!1===t&&this.waitForInit(this.userView.bind(this),e)},userManagement:function(e){this.checkUser(),e?(this.userManagementView&&this.userManagementView.remove(),this.userManagementView=new window.UserManagementView({collection:this.userCollection}),this.userManagementView.render()):this.waitForInit(this.userManagement.bind(this))},userProfile:function(e){this.checkUser(),e?(this.userManagementView||(this.userManagementView=new window.UserManagementView({collection:this.userCollection})),this.userManagementView.render(!0)):this.waitForInit(this.userProfile.bind(this))},view:function(e,t){var i=this;this.checkUser(),t?(this.viewView&&this.viewView.remove(),this.arangoViewsStore.fetch({success:function(){i.viewView=new window.ViewView({model:i.arangoViewsStore.get(e),name:e}),i.viewView.render()}})):this.waitForInit(this.view.bind(this),e)},views:function(e){this.checkUser(),e?(this.viewsView&&this.viewsView.remove(),this.viewsView=new window.ViewsView({collection:this.arangoViewsStore}),this.viewsView.render()):this.waitForInit(this.views.bind(this))},fetchDBS:function(e){var t=this,i=!1;this.coordinatorCollection.each(function(e){t.dbServers.push(new window.ClusterServers([],{host:e.get("address")}))}),this.initFinished=!0,_.each(this.dbServers,function(t){t.fetch({success:function(){!1===i&&e&&(e(),i=!0)}})})},getNewRoute:function(e){return"http://"+e},registerForUpdate:function(e){this.toUpdate.push(e),e.updateUrl()}})}()},function(e,t){!function(){"use strict";window.checkVersion=function(){$.ajax({type:"GET",cache:!1,url:arangoHelper.databaseUrl("/_admin/status?overview=true"),contentType:"application/json",processData:!1,async:!0,success:function(e){var t=window.versionHelper.fromString(e.version);$(".navbar #currentVersion").html(e.version+'<i class="fa fa-check-circle"></i>'),window.parseVersions=function(e){_.isEmpty(e)?$("#currentVersion").addClass("up-to-date"):($("#currentVersion").addClass("out-of-date"),$("#currentVersion .fa").removeClass("fa-check-circle").addClass("fa-exclamation-circle"),$("#currentVersion").click(function(){!function(e,t){var i=[];i.push(window.modalView.createSuccessButton("Download Page",function(){window.open("https://www.arangodb.com/download","_blank"),window.modalView.hide()}));var n=[],a=window.modalView.createReadOnlyEntry.bind(window.modalView);n.push(a("current","Current",e.toString())),t.major&&n.push(a("major","Major",t.major.version)),t.minor&&n.push(a("minor","Minor",t.minor.version)),t.bugfix&&n.push(a("bugfix","Bugfix",t.bugfix.version)),window.modalView.show("modalTable.ejs","New Version Available",i,n)}(t,e)}))},$.ajax({type:"GET",async:!0,crossDomain:!0,timeout:3e3,dataType:"jsonp",url:"https://www.arangodb.com/versions.php?jsonp=parseVersions&version="+encodeURIComponent(e.version)+"&platform="+encodeURIComponent(e.platform)+"&engine="+encodeURIComponent(e.engine)+"&license="+encodeURIComponent(e.license)+"&source=ui&hash="+encodeURIComponent(e.hash),error:function(e){200===e.status?window.activeInternetConnection=!0:window.activeInternetConnection=!1},success:function(e){window.activeInternetConnection=!0}})}})}}()},function(e,t){!function(){"use strict";window.hasOwnProperty("TEST_BUILD")||($(document).ajaxSend(function(e,t,i){t.setRequestHeader("X-Arango-Frontend","true");var n=window.arangoHelper.getCurrentJwt();n&&t.setRequestHeader("Authorization","bearer "+n)}),$.ajaxSetup({error:function(e,t,i){401===e.status&&arangoHelper.checkJwt()}}),$(document).ready(function(){window.App=new window.Router,Backbone.history.start(),window.App.handleResize()}),$(document).click(function(e){e.stopPropagation(),$(e.target).hasClass("subBarDropdown")||$(e.target).hasClass("dropdown-header")||$(e.target).hasClass("dropdown-footer")||$(e.target).hasClass("toggle")||$("#userInfo").is(":visible")&&$(".subBarDropdown").hide()}),$("body").on("keyup",function(e){27===e.keyCode&&window.modalView&&window.modalView.hide()}))}()},function(e,t,i){var n={"./_paginationView":95,"./_paginationView.js":95,"./applicationDetailView":96,"./applicationDetailView.js":96,"./applicationsView":97,"./applicationsView.js":97,"./applierView":98,"./applierView.js":98,"./clusterView":99,"./clusterView.js":99,"./collectionsItemView":100,"./collectionsItemView.js":100,"./collectionsView":101,"./collectionsView.js":101,"./dashboardView":102,"./dashboardView.js":102,"./databaseView":103,"./databaseView.js":103,"./dbSelectionView":104,"./dbSelectionView.js":104,"./documentView":105,"./documentView.js":105,"./documentsView":106,"./documentsView.js":106,"./filterSelect":107,"./filterSelect.js":107,"./footerView":108,"./footerView.js":108,"./foxxActiveListView":109,"./foxxActiveListView.js":109,"./foxxActiveView":110,"./foxxActiveView.js":110,"./foxxRepoView":111,"./foxxRepoView.js":111,"./graphManagementView":112,"./graphManagementView.js":112,"./graphSettingsView":113,"./graphSettingsView.js":113,"./graphViewer":114,"./graphViewer.js":114,"./helpUsView":115,"./helpUsView.js":115,"./indicesView":116,"./indicesView.js":116,"./infoView":117,"./infoView.js":117,"./installGitHubServiceView":118,"./installGitHubServiceView.js":118,"./installNewServiceView":119,"./installNewServiceView.js":119,"./installServiceView":120,"./installServiceView.js":120,"./installUploadServiceView":121,"./installUploadServiceView.js":121,"./installUrlServiceView":122,"./installUrlServiceView.js":122,"./loggerView":123,"./loggerView.js":123,"./loginView":124,"./loginView.js":124,"./modalView":125,"./modalView.js":125,"./navigationView":126,"./navigationView.js":126,"./nodeView":127,"./nodeView.js":127,"./nodesView":128,"./nodesView.js":128,"./notificationView":129,"./notificationView.js":129,"./progressView":130,"./progressView.js":130,"./queryManagementView":131,"./queryManagementView.js":131,"./queryView":132,"./queryView.js":132,"./replicationView":133,"./replicationView.js":133,"./scaleView":134,"./scaleView.js":134,"./settingsView":135,"./settingsView.js":135,"./shardsView":136,"./shardsView.js":136,"./showClusterView":137,"./showClusterView.js":137,"./spotlightView":138,"./spotlightView.js":138,"./statisticBarView":139,"./statisticBarView.js":139,"./storeDetailView":140,"./storeDetailView.js":140,"./supportView":141,"./supportView.js":141,"./tableView":142,"./tableView.js":142,"./userBarView":143,"./userBarView.js":143,"./userManagementView":144,"./userManagementView.js":144,"./userPermissions":145,"./userPermissions.js":145,"./userView":146,"./userView.js":146,"./viewView":147,"./viewView.js":147,"./viewsView":148,"./viewsView.js":148};function a(e){var t=r(e);return i(t)}function r(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=476},function(e,t,i){var n={"./arangoCollectionModel":149,"./arangoCollectionModel.js":149,"./arangoDatabase":150,"./arangoDatabase.js":150,"./arangoDocument":151,"./arangoDocument.js":151,"./arangoQuery":152,"./arangoQuery.js":152,"./arangoReplication":153,"./arangoReplication.js":153,"./arangoSession":154,"./arangoSession.js":154,"./arangoStatistics":155,"./arangoStatistics.js":155,"./arangoStatisticsDescription":156,"./arangoStatisticsDescription.js":156,"./arangoUsers":157,"./arangoUsers.js":157,"./arangoViewModel":158,"./arangoViewModel.js":158,"./clusterCoordinator":159,"./clusterCoordinator.js":159,"./clusterServer":160,"./clusterServer.js":160,"./coordinator":161,"./coordinator.js":161,"./currentDatabase":162,"./currentDatabase.js":162,"./foxx":163,"./foxx.js":163,"./foxxRepoModel":164,"./foxxRepoModel.js":164,"./graph":165,"./graph.js":165,"./newArangoLog":166,"./newArangoLog.js":166,"./notification":167,"./notification.js":167,"./queryManagement":168,"./queryManagement.js":168,"./userConfig":169,"./userConfig.js":169};function a(e){var t=r(e);return i(t)}function r(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=477},function(e,t,i){var n={"./_automaticRetryCollection":170,"./_automaticRetryCollection.js":170,"./_paginatedCollection":171,"./_paginatedCollection.js":171,"./arangoClusterStatisticsCollection":172,"./arangoClusterStatisticsCollection.js":172,"./arangoCollections":173,"./arangoCollections.js":173,"./arangoDatabase":174,"./arangoDatabase.js":174,"./arangoDocument":175,"./arangoDocument.js":175,"./arangoDocuments":176,"./arangoDocuments.js":176,"./arangoLogs":177,"./arangoLogs.js":177,"./arangoQueries":178,"./arangoQueries.js":178,"./arangoReplication":179,"./arangoReplication.js":179,"./arangoStatisticsCollection":180,"./arangoStatisticsCollection.js":180,"./arangoStatisticsDescriptionCollection":181,"./arangoStatisticsDescriptionCollection.js":181,"./arangoUsers":182,"./arangoUsers.js":182,"./arangoViews":183,"./arangoViews.js":183,"./clusterCoordinators":184,"./clusterCoordinators.js":184,"./clusterServers":185,"./clusterServers.js":185,"./coordinatorCollection":186,"./coordinatorCollection.js":186,"./foxxCollection":187,"./foxxCollection.js":187,"./foxxRepository":188,"./foxxRepository.js":188,"./graphCollection":189,"./graphCollection.js":189,"./notificationCollection":190,"./notificationCollection.js":190,"./queryManagementCollectionActive":191,"./queryManagementCollectionActive.js":191,"./queryManagementCollectionSlow":192,"./queryManagementCollectionSlow.js":192};function a(e){var t=r(e);return i(t)}function r(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=478},,function(e,t){!function(e){"use strict";function t(e){}function i(e){e.stopPropagation()}e.fn.pagination=function(n){function a(t,n){var a=n>=1&&n<=s.lastPage,r=e("<a/>").append(t),o=e("<li/>").append(r);return a?(r.click(function(){s.click(n)}),e(".arango-pagination").next().children().first().removeClass("disabledPag"),e(".arango-pagination").prev().children().first().removeClass("disabledPag")):(o.addClass("disabledPag"),setTimeout(function(){e(o).find("i").hasClass("fa-angle-right")?e(".arango-pagination").next().children().first().addClass("disabledPag"):e(o).find("i").hasClass("fa-angle-left")&&e(".arango-pagination").prev().children().first().addClass("disabledPag")},50)),r.click(i),n===s.page&&o.addClass("active active-arango-pagination-button"),o}function r(){var t,i=e('<ul class="arango-pagination"/>');for(i.append(a(s.prev,s.page-1)),t=l;c>=t;t+=1)i.append(a(t,t));return i.append(a(s.next,s.page+1))}var s=e.extend({prev:'<span><i class="fa fa-angle-left"/></span>',next:'<span><i class="fa fa-angle-right"/></span>',left:3,right:3,page:1,lastPage:1,click:t},n||{}),o=s.left+s.right,l=Math.max(1,s.page-s.left),c=l+o;return s.lastPage<c&&(l=Math.max(1,s.lastPage-o),c=s.lastPage),this.each(function(t){var i=e(this),n=i.children("ul");n.length?n.replaceWith(r()):i.append(r())})}}(jQuery)},function(e,t,i){var n;(function(){function a(e){this._value=e}function r(e,t,i,n){var a,r,s=Math.pow(10,t);return r=(i(e*s)/s).toFixed(t),n&&(a=new RegExp("0{1,"+n+"}$"),r=r.replace(a,"")),r}function s(e,t,i){return t.indexOf("$")>-1?function(e,t,i){var n,a,r=t.indexOf("$"),s=t.indexOf("("),o=t.indexOf("-"),c="";return t.indexOf(" $")>-1?(c=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(c=" ",t=t.replace("$ ","")):t=t.replace("$",""),a=l(e._value,t,i),1>=r?a.indexOf("(")>-1||a.indexOf("-")>-1?(a=a.split(""),n=1,(s>r||o>r)&&(n=0),a.splice(n,0,u[p].currency.symbol+c),a=a.join("")):a=u[p].currency.symbol+c+a:a.indexOf(")")>-1?((a=a.split("")).splice(-1,0,c+u[p].currency.symbol),a=a.join("")):a=a+c+u[p].currency.symbol,a}(e,t,i):t.indexOf("%")>-1?function(e,t,i){var n,a="",r=100*e._value;return t.indexOf(" %")>-1?(a=" ",t=t.replace(" %","")):t=t.replace("%",""),(n=l(r,t,i)).indexOf(")")>-1?((n=n.split("")).splice(-1,0,a+"%"),n=n.join("")):n=n+a+"%",n}(e,t,i):t.indexOf(":")>-1?function(e){var t=Math.floor(e._value/60/60),i=Math.floor((e._value-60*t*60)/60),n=Math.round(e._value-60*t*60-60*i);return t+":"+(10>i?"0"+i:i)+":"+(10>n?"0"+n:n)}(e):l(e._value,t,i)}function o(e,t){var i,n,a,r,s,o=t,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(t.indexOf(":")>-1)e._value=function(e){var t=e.split(":"),i=0;return 3===t.length?(i+=60*Number(t[0])*60,i+=60*Number(t[1]),i+=Number(t[2])):2===t.length&&(i+=60*Number(t[0]),i+=Number(t[1])),Number(i)}(t);else if(t===f)e._value=0;else{for("."!==u[p].delimiters.decimal&&(t=t.replace(/\./g,"").replace(u[p].delimiters.decimal,".")),i=new RegExp("[^a-zA-Z]"+u[p].abbreviations.thousand+"(?:\\)|(\\"+u[p].currency.symbol+")?(?:\\))?)?$"),n=new RegExp("[^a-zA-Z]"+u[p].abbreviations.million+"(?:\\)|(\\"+u[p].currency.symbol+")?(?:\\))?)?$"),a=new RegExp("[^a-zA-Z]"+u[p].abbreviations.billion+"(?:\\)|(\\"+u[p].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+u[p].abbreviations.trillion+"(?:\\)|(\\"+u[p].currency.symbol+")?(?:\\))?)?$"),s=0;s<=l.length&&!(c=t.indexOf(l[s])>-1&&Math.pow(1024,s+1));s++);e._value=(c||1)*(o.match(i)?Math.pow(10,3):1)*(o.match(n)?Math.pow(10,6):1)*(o.match(a)?Math.pow(10,9):1)*(o.match(r)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=c?Math.ceil(e._value):e._value}return e._value}function l(e,t,i){var n,a,s,o,l,c,h=!1,d=!1,g=!1,m="",v=!1,b=!1,w=!1,y=!1,_=!1,x="",C="",S=Math.abs(e),T=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],k="",A=!1;if(0===e&&null!==f)return f;if(t.indexOf("(")>-1?(h=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(d=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(v=t.indexOf("aK")>=0,b=t.indexOf("aM")>=0,w=t.indexOf("aB")>=0,y=t.indexOf("aT")>=0,_=v||b||w||y,t.indexOf(" a")>-1?(m=" ",t=t.replace(" a","")):t=t.replace("a",""),S>=Math.pow(10,12)&&!_||y?(m+=u[p].abbreviations.trillion,e/=Math.pow(10,12)):S<Math.pow(10,12)&&S>=Math.pow(10,9)&&!_||w?(m+=u[p].abbreviations.billion,e/=Math.pow(10,9)):S<Math.pow(10,9)&&S>=Math.pow(10,6)&&!_||b?(m+=u[p].abbreviations.million,e/=Math.pow(10,6)):(S<Math.pow(10,6)&&S>=Math.pow(10,3)&&!_||v)&&(m+=u[p].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("b")>-1)for(t.indexOf(" b")>-1?(x=" ",t=t.replace(" b","")):t=t.replace("b",""),s=0;s<=T.length;s++)if(n=Math.pow(1024,s),a=Math.pow(1024,s+1),e>=n&&a>e){x+=T[s],n>0&&(e/=n);break}return t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(C=" ",t=t.replace(" o","")):t=t.replace("o",""),C+=u[p].ordinal(e)),t.indexOf("[.]")>-1&&(g=!0,t=t.replace("[.]",".")),o=e.toString().split(".")[0],l=t.split(".")[1],c=t.indexOf(","),l?(l.indexOf("[")>-1?k=r(e,(l=(l=l.replace("]","")).split("["))[0].length+l[1].length,i,l[1].length):k=r(e,l.length,i),o=k.split(".")[0],k=k.split(".")[1].length?u[p].delimiters.decimal+k.split(".")[1]:"",g&&0===Number(k.slice(1))&&(k="")):o=r(e,null,i),o.indexOf("-")>-1&&(o=o.slice(1),A=!0),c>-1&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+u[p].delimiters.thousands)),0===t.indexOf(".")&&(o=""),(h&&A?"(":"")+(!h&&A?"-":"")+(!A&&d?"+":"")+o+k+(C||"")+(m||"")+(x||"")+(h&&A?")":"")}function c(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function h(){return Array.prototype.slice.call(arguments).reduce(function(e,t){var i=c(e),n=c(t);return i>n?i:n},-1/0)}var d,u={},p="en",f=null,g="0,0",m="undefined"!=typeof e&&e.exports;(d=function(e){return d.isNumeral(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=d.fn.unformat(e)),new a(Number(e))}).version="1.5.3",d.isNumeral=function(e){return e instanceof a},d.language=function(e,t){if(!e)return p;if(e&&!t){if(!u[e])throw new Error("Unknown language : "+e);p=e}return(t||!u[e])&&function(e,t){u[e]=t}(e,t),d},d.languageData=function(e){if(!e)return u[p];if(!u[e])throw new Error("Unknown language : "+e);return u[e]},d.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),d.zeroFormat=function(e){f="string"==typeof e?e:null},d.defaultFormat=function(e){g="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var i,n,a=this.length>>>0,r=!1;for(1<arguments.length&&(n=t,r=!0),i=0;a>i;++i)this.hasOwnProperty(i)&&(r?n=e(n,this[i],i,this):(n=this[i],r=!0));if(!r)throw new TypeError("Reduce of empty array with no initial value");return n}),d.fn=a.prototype={clone:function(){return d(this)},format:function(e,t){return s(this,e||g,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:o(this,e||g)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){var t=h.call(null,this._value,e);return this._value=[this._value,e].reduce(function(e,i){return e+t*i},0)/t,this},subtract:function(e){var t=h.call(null,this._value,e);return this._value=[e].reduce(function(e,i){return e-t*i},this._value*t)/t,this},multiply:function(e){return this._value=[this._value,e].reduce(function(e,t){var i=h(e,t);return e*i*t*i/(i*i)},1),this},divide:function(e){return this._value=[this._value,e].reduce(function(e,t){var i=h(e,t);return e*i/(t*i)}),this},difference:function(e){return Math.abs(d(this._value).subtract(e).value())}},m&&(e.exports=d),"undefined"==typeof ender&&(this.numeral=d),i(482)&&(void 0===(n=function(){return d}.apply(t,[]))||(e.exports=n))}).call(this)},,function(e){e.exports=[{name:"FOR .. FILTER .. RETURN template",value:"/* Please insert some values for the @@collection and @value bind parameters */\nFOR doc IN @@collection\n  FILTER doc.`attribute` == @value\n  RETURN doc",parameter:{"@collection":"my_collection",value:"my_value"}},{name:"Limit",value:"/* Please insert some values for the @@collection, @offset and @count bind parameters */\nFOR doc IN @@collection\n  LIMIT @offset, @count\n  RETURN doc",parameter:{"@collection":"my_collection",offset:0,count:10}},{name:"Inner join",value:"/* Please insert some values for the @@collection1 and @@collection2 bind parameters */\nFOR doc1 IN @@collection1\n  FOR doc2 IN @@collection2\n    FILTER doc1.`attribute` == doc2.`attribute`\n    RETURN { doc1, doc2 }",parameter:{"@collection1":"collection1","@collection2":"collection2"}},{name:"Random document",value:"/* Please insert some value for the @@collection bind parameter */\nFOR doc IN @@collection\n  SORT RAND()\n  LIMIT 1\n  RETURN doc",parameter:{"@collection":"my_collection"}},{name:"Subquery example",value:"/* Please insert some values for the @@collection, @value and @count bind parameters */\nFOR doc IN @@collection\n  LET values = (\n    FOR s IN doc.`attribute`\n      FILTER s.`attribute` == @value\n      RETURN s\n  )\n  FILTER LENGTH(values) > @count\n  RETURN {\n    doc,\n    values\n  }",parameter:{"@collection":"my_collection",value:"my_value",count:10}},{name:"Sequences",value:"/* Returns the sequence of integers between 2010 and 2015 (including) */\nFOR year IN 2010..2015\n  RETURN year"},{name:"Bind parameters",value:"/* There are two types of bind parameters:\n   - bind parameter names starting with a single @ character, e.g. @count, @value, @test:\n     These can be used to ship any JSON-encodable data to the server.\n   - bind parameter names starting with two @ characters always refer to collections, e.g. @@collections, @@c:\n     These can be used as placeholders for collection names.\n */\nFOR doc IN @@collection\n  FILTER doc.value == @value\n  RETURN doc",parameter:{"@collection":"my_collection",value:"my_value"}}]},function(e,t,i){!function(e){"use strict";function t(e){var t,i,n,a;for(i=1,n=arguments.length;i<n;i++)for(t in a=arguments[i])e[t]=a[t];return e}function i(e,t){var i=Array.prototype.slice;if(e.bind)return e.bind.apply(e,i.call(arguments,1));var n=i.call(arguments,2);return function(){return e.apply(t,n.length?n.concat(i.call(arguments)):arguments)}}function n(e){return e._leaflet_id=e._leaflet_id||++Ye,e._leaflet_id}function a(e,t,i){var n,a,r,s;return s=function(){n=!1,a&&(r.apply(i,a),a=!1)},r=function(){n?a=arguments:(e.apply(i,arguments),setTimeout(s,t),n=!0)}}function r(e,t,i){var n=t[1],a=t[0],r=n-a;return e===n&&i?e:((e-a)%r+r)%r+a}function s(){return!1}function o(e,t){var i=Math.pow(10,void 0===t?6:t);return Math.round(e*i)/i}function l(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function c(e){return l(e).split(/\s+/)}function h(e,t){for(var i in e.hasOwnProperty("options")||(e.options=e.options?Ge(e.options):{}),t)e.options[i]=t[i];return e.options}function d(e,t,i){var n=[];for(var a in e)n.push(encodeURIComponent(i?a.toUpperCase():a)+"="+encodeURIComponent(e[a]));return(t&&-1!==t.indexOf("?")?"&":"?")+n.join("&")}function u(e,t){return e.replace(qe,function(e,i){var n=t[i];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"==typeof n&&(n=n(t)),n})}function p(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}function f(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}function g(e){var t=+new Date,i=Math.max(0,16-(t-Ze));return Ze=t+i,window.setTimeout(e,i)}function m(e,t,n){if(!n||Xe!==g)return Xe.call(window,i(e,t));e.call(t)}function v(e){e&&Ke.call(window,e)}function b(){}function w(e,t,i){this.x=i?Math.round(e):e,this.y=i?Math.round(t):t}function y(e,t,i){return e instanceof w?e:Qe(e)?new w(e[0],e[1]):void 0===e||null===e?e:"object"==typeof e&&"x"in e&&"y"in e?new w(e.x,e.y):new w(e,t,i)}function _(e,t){if(e)for(var i=t?[e,t]:e,n=0,a=i.length;n<a;n++)this.extend(i[n])}function x(e,t){return!e||e instanceof _?e:new _(e,t)}function C(e,t){if(e)for(var i=t?[e,t]:e,n=0,a=i.length;n<a;n++)this.extend(i[n])}function S(e,t){return e instanceof C?e:new C(e,t)}function T(e,t,i){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==i&&(this.alt=+i)}function k(e,t,i){return e instanceof T?e:Qe(e)&&"object"!=typeof e[0]?3===e.length?new T(e[0],e[1],e[2]):2===e.length?new T(e[0],e[1]):null:void 0===e||null===e?e:"object"==typeof e&&"lat"in e?new T(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new T(e,t,i)}function A(e,t,i,n){if(Qe(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=i,this._d=n}function P(e,t,i,n){return new A(e,t,i,n)}function D(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function E(e,t){var i,n,a,r,s,o,l="";for(i=0,a=e.length;i<a;i++){for(n=0,r=(s=e[i]).length;n<r;n++)o=s[n],l+=(n?"L":"M")+o.x+" "+o.y;l+=t?jt?"z":"x":""}return l||"M0 0"}function M(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}function I(e,t,i,n){return"touchstart"===t?O(e,i,n):"touchmove"===t?function(e,t,i){var n=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&B(e,t)};e["_leaflet_touchmove"+i]=n,e.addEventListener(Gt,n,!1)}(e,i,n):"touchend"===t&&function(e,t,i){var n=function(e){B(e,t)};e["_leaflet_touchend"+i]=n,e.addEventListener(Yt,n,!1),e.addEventListener(qt,n,!1)}(e,i,n),this}function O(e,t,n){var a=i(function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(Qt.indexOf(e.target.tagName)<0))return;ve(e)}B(e,t)});e["_leaflet_touchstart"+n]=a,e.addEventListener(Wt,a,!1),Zt||(document.documentElement.addEventListener(Wt,N,!0),document.documentElement.addEventListener(Gt,R,!0),document.documentElement.addEventListener(Yt,$,!0),document.documentElement.addEventListener(qt,$,!0),Zt=!0)}function N(e){Jt[e.pointerId]=e,Xt++}function R(e){Jt[e.pointerId]&&(Jt[e.pointerId]=e)}function $(e){delete Jt[e.pointerId],Xt--}function B(e,t){for(var i in e.touches=[],Jt)e.touches.push(Jt[i]);e.changedTouches=[e],t(e)}function V(e,t,i){function n(e){var t;if(Rt){if(!gt||"mouse"===e.pointerType)return;t=Xt}else t=e.touches.length;if(!(t>1)){var i=Date.now(),n=i-(r||i);s=e.touches?e.touches[0]:e,o=n>0&&n<=l,r=i}}function a(e){if(o&&!s.cancelBubble){if(Rt){if(!gt||"mouse"===e.pointerType)return;var i,n,a={};for(n in s)i=s[n],a[n]=i&&i.bind?i.bind(s):i;s=a}s.type="dblclick",t(s),r=null}}var r,s,o=!1,l=250;return e[ti+Kt+i]=n,e[ti+ei+i]=a,e[ti+"dblclick"+i]=t,e.addEventListener(Kt,n,!1),e.addEventListener(ei,a,!1),e.addEventListener("dblclick",t,!1),this}function F(e,t){var i=e[ti+Kt+t],n=e[ti+ei+t],a=e[ti+"dblclick"+t];return e.removeEventListener(Kt,i,!1),e.removeEventListener(ei,n,!1),gt||e.removeEventListener("dblclick",a,!1),this}function H(e){return"string"==typeof e?document.getElementById(e):e}function j(e,t){var i=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(e,null);i=n?n[t]:null}return"auto"===i?null:i}function z(e,t,i){var n=document.createElement(e);return n.className=t||"",i&&i.appendChild(n),n}function U(e){var t=e.parentNode;t&&t.removeChild(e)}function W(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function G(e){var t=e.parentNode;t.lastChild!==e&&t.appendChild(e)}function Y(e){var t=e.parentNode;t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function q(e,t){if(void 0!==e.classList)return e.classList.contains(t);var i=X(e);return i.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(i)}function Q(e,t){if(void 0!==e.classList)for(var i=c(t),n=0,a=i.length;n<a;n++)e.classList.add(i[n]);else if(!q(e,t)){var r=X(e);Z(e,(r?r+" ":"")+t)}}function J(e,t){void 0!==e.classList?e.classList.remove(t):Z(e,l((" "+X(e)+" ").replace(" "+t+" "," ")))}function Z(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function X(e){return void 0===e.className.baseVal?e.className:e.className.baseVal}function K(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=e.filters.item(n)}catch(e){if(1===t)return}t=Math.round(100*t),i?(i.Enabled=100!==t,i.Opacity=t):e.style.filter+=" progid:"+n+"(opacity="+t+")"}(e,t)}function ee(e){for(var t=document.documentElement.style,i=0;i<e.length;i++)if(e[i]in t)return e[i];return!1}function te(e,t,i){var n=t||new w(0,0);e.style[ii]=(Pt?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function ie(e,t){e._leaflet_pos=t,Mt?te(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function ne(e){return e._leaflet_pos||new w(0,0)}function ae(){he(window,"dragstart",ve)}function re(){de(window,"dragstart",ve)}function se(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(oe(),si=e,oi=e.style.outline,e.style.outline="none",he(window,"keydown",oe))}function oe(){si&&(si.style.outline=oi,si=void 0,oi=void 0,de(window,"keydown",oe))}function le(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function ce(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}function he(e,t,i,n){if("object"==typeof t)for(var a in t)ue(e,a,t[a],i);else for(var r=0,s=(t=c(t)).length;r<s;r++)ue(e,t[r],i,n);return this}function de(e,t,i,n){if("object"==typeof t)for(var a in t)pe(e,a,t[a],i);else if(t)for(var r=0,s=(t=c(t)).length;r<s;r++)pe(e,t[r],i,n);else{for(var o in e[hi])pe(e,o,e[hi][o]);delete e[hi]}return this}function ue(e,t,i,a){var r=t+n(i)+(a?"_"+n(a):"");if(e[hi]&&e[hi][r])return this;var s=function(t){return i.call(a||e,t||window.event)},o=s;Rt&&0===t.indexOf("touch")?I(e,t,s,r):!$t||"dblclick"!==t||!V||Rt&&xt?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",s,!1):"mouseenter"===t||"mouseleave"===t?(s=function(t){t=t||window.event,Ce(e,t)&&o(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",s,!1)):("click"===t&&vt&&(s=function(e){!function(e,t){var i=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,n=li&&i-li;n&&n>100&&n<500||e.target._simulatedClick&&!e._simulated?be(e):(li=i,t(e))}(e,o)}),e.addEventListener(t,s,!1)):"attachEvent"in e&&e.attachEvent("on"+t,s):V(e,s,r),e[hi]=e[hi]||{},e[hi][r]=s}function pe(e,t,i,a){var r=t+n(i)+(a?"_"+n(a):""),s=e[hi]&&e[hi][r];if(!s)return this;Rt&&0===t.indexOf("touch")?function(e,t,i){var n=e["_leaflet_"+t+i];"touchstart"===t?e.removeEventListener(Wt,n,!1):"touchmove"===t?e.removeEventListener(Gt,n,!1):"touchend"===t&&(e.removeEventListener(Yt,n,!1),e.removeEventListener(qt,n,!1))}(e,t,r):!$t||"dblclick"!==t||!F||Rt&&xt?"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",s,!1):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,s,!1):"detachEvent"in e&&e.detachEvent("on"+t,s):F(e,r),e[hi][r]=null}function fe(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,xe(e),this}function ge(e){return ue(e,"mousewheel",fe),this}function me(e){return he(e,"mousedown touchstart dblclick",fe),ue(e,"click",_e),this}function ve(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function be(e){return ve(e),fe(e),this}function we(e,t){if(!t)return new w(e.clientX,e.clientY);var i=ce(t),n=i.boundingClientRect;return new w((e.clientX-n.left)/i.x-t.clientLeft,(e.clientY-n.top)/i.y-t.clientTop)}function ye(e){return gt?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/di:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function _e(e){ui[e.type]=!0}function xe(e){var t=ui[e.type];return ui[e.type]=!1,t}function Ce(e,t){var i=t.relatedTarget;if(!i)return!0;try{for(;i&&i!==e;)i=i.parentNode}catch(e){return!1}return i!==e}function Se(e,t){if(!t||!e.length)return e.slice();var i=t*t;return e=function(e,t){var i=e.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,function e(t,i,n,a,r){var s,o,l,c=0;for(o=a+1;o<=r-1;o++)(l=Ee(t[o],t[a],t[r],!0))>c&&(s=o,c=l);c>n&&(i[s]=1,e(t,i,n,a,s),e(t,i,n,s,r))}(e,n,t,0,i-1);var a,r=[];for(a=0;a<i;a++)n[a]&&r.push(e[a]);return r}(e=function(e,t){for(var i=[e[0]],n=1,a=0,r=e.length;n<r;n++)De(e[n],e[a])>t&&(i.push(e[n]),a=n);return a<r-1&&i.push(e[r-1]),i}(e,i),i)}function Te(e,t,i){return Math.sqrt(Ee(e,t,i,!0))}function ke(e,t,i,n,a){var r,s,o,l=n?Ci:Pe(e,i),c=Pe(t,i);for(Ci=c;;){if(!(l|c))return[e,t];if(l&c)return!1;o=Pe(s=Ae(e,t,r=l||c,i,a),i),r===l?(e=s,l=o):(t=s,c=o)}}function Ae(e,t,i,n,a){var r,s,o=t.x-e.x,l=t.y-e.y,c=n.min,h=n.max;return 8&i?(r=e.x+o*(h.y-e.y)/l,s=h.y):4&i?(r=e.x+o*(c.y-e.y)/l,s=c.y):2&i?(r=h.x,s=e.y+l*(h.x-e.x)/o):1&i&&(r=c.x,s=e.y+l*(c.x-e.x)/o),new w(r,s,a)}function Pe(e,t){var i=0;return e.x<t.min.x?i|=1:e.x>t.max.x&&(i|=2),e.y<t.min.y?i|=4:e.y>t.max.y&&(i|=8),i}function De(e,t){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n}function Ee(e,t,i,n){var a,r=t.x,s=t.y,o=i.x-r,l=i.y-s,c=o*o+l*l;return c>0&&((a=((e.x-r)*o+(e.y-s)*l)/c)>1?(r=i.x,s=i.y):a>0&&(r+=o*a,s+=l*a)),o=e.x-r,l=e.y-s,n?o*o+l*l:new w(r,s)}function Me(e){return!Qe(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function Ie(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Me(e)}function Oe(e,t,i){var n,a,r,s,o,l,c,h,d,u=[1,4,2,8];for(a=0,c=e.length;a<c;a++)e[a]._code=Pe(e[a],t);for(s=0;s<4;s++){for(h=u[s],n=[],a=0,r=(c=e.length)-1;a<c;r=a++)o=e[a],l=e[r],o._code&h?l._code&h||((d=Ae(l,o,h,t,i))._code=Pe(d,t),n.push(d)):(l._code&h&&((d=Ae(l,o,h,t,i))._code=Pe(d,t),n.push(d)),n.push(o));e=n}return e}function Le(e,t){var i,n,a,r,s="Feature"===e.type?e.geometry:e,o=s?s.coordinates:null,l=[],c=t&&t.pointToLayer,h=t&&t.coordsToLatLng||Ne;if(!o&&!s)return null;switch(s.type){case"Point":return i=h(o),c?c(e,i):new zi(i);case"MultiPoint":for(a=0,r=o.length;a<r;a++)i=h(o[a]),l.push(c?c(e,i):new zi(i));return new Vi(l);case"LineString":case"MultiLineString":return n=Re(o,"LineString"===s.type?0:1,h),new Yi(n,t);case"Polygon":case"MultiPolygon":return n=Re(o,"Polygon"===s.type?1:2,h),new qi(n,t);case"GeometryCollection":for(a=0,r=s.geometries.length;a<r;a++){var d=Le({geometry:s.geometries[a],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new Vi(l);default:throw new Error("Invalid GeoJSON object.")}}function Ne(e){return new T(e[1],e[0],e[2])}function Re(e,t,i){for(var n,a=[],r=0,s=e.length;r<s;r++)n=t?Re(e[r],t-1,i):(i||Ne)(e[r]),a.push(n);return a}function $e(e,t){return t="number"==typeof t?t:6,void 0!==e.alt?[o(e.lng,t),o(e.lat,t),o(e.alt,t)]:[o(e.lng,t),o(e.lat,t)]}function Be(e,t,i,n){for(var a=[],r=0,s=e.length;r<s;r++)a.push(t?Be(e[r],t-1,i,n):$e(e[r],n));return!t&&i&&a.push(a[0]),a}function Ve(e,i){return e.feature?t({},e.feature,{geometry:i}):Fe(i)}function Fe(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}function He(e,t){return new Qi(e,t)}function je(e,t){return new sn(e,t)}function ze(e){return Ht?new cn(e):null}function Ue(e){return jt||zt?new pn(e):null}var We=Object.freeze;Object.freeze=function(e){return e};var Ge=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),Ye=0,qe=/\{ *([\w_-]+) *\}/g,Qe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Je="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Ze=0,Xe=window.requestAnimationFrame||f("RequestAnimationFrame")||g,Ke=window.cancelAnimationFrame||f("CancelAnimationFrame")||f("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)},et=(Object.freeze||Object)({freeze:We,extend:t,create:Ge,bind:i,lastId:Ye,stamp:n,throttle:a,wrapNum:r,falseFn:s,formatNum:o,trim:l,splitWords:c,setOptions:h,getParamString:d,template:u,isArray:Qe,indexOf:p,emptyImageUrl:Je,requestFn:Xe,cancelFn:Ke,requestAnimFrame:m,cancelAnimFrame:v});b.extend=function(e){var i=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=i.__super__=this.prototype,a=Ge(n);for(var r in a.constructor=i,i.prototype=a,this)this.hasOwnProperty(r)&&"prototype"!==r&&"__super__"!==r&&(i[r]=this[r]);return e.statics&&(t(i,e.statics),delete e.statics),e.includes&&(function(e){if("undefined"!=typeof L&&L&&L.Mixin){e=Qe(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),t.apply(null,[a].concat(e.includes)),delete e.includes),a.options&&(e.options=t(Ge(a.options),e.options)),t(a,e),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},i},b.include=function(e){return t(this.prototype,e),this},b.mergeOptions=function(e){return t(this.prototype.options,e),this},b.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),i="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var tt={on:function(e,t,i){if("object"==typeof e)for(var n in e)this._on(n,e[n],t);else for(var a=0,r=(e=c(e)).length;a<r;a++)this._on(e[a],t,i);return this},off:function(e,t,i){if(e)if("object"==typeof e)for(var n in e)this._off(n,e[n],t);else for(var a=0,r=(e=c(e)).length;a<r;a++)this._off(e[a],t,i);else delete this._events;return this},_on:function(e,t,i){this._events=this._events||{};var n=this._events[e];n||(n=[],this._events[e]=n),i===this&&(i=void 0);for(var a={fn:t,ctx:i},r=n,s=0,o=r.length;s<o;s++)if(r[s].fn===t&&r[s].ctx===i)return;r.push(a)},_off:function(e,t,i){var n,a,r;if(this._events&&(n=this._events[e]))if(t){if(i===this&&(i=void 0),n)for(a=0,r=n.length;a<r;a++){var o=n[a];if(o.ctx===i&&o.fn===t)return o.fn=s,this._firingCount&&(this._events[e]=n=n.slice()),void n.splice(a,1)}}else{for(a=0,r=n.length;a<r;a++)n[a].fn=s;delete this._events[e]}},fire:function(e,i,n){if(!this.listens(e,n))return this;var a=t({},i,{type:e,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var r=this._events[e];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,o=r.length;s<o;s++){var l=r[s];l.fn.call(l.ctx||this,a)}this._firingCount--}}return n&&this._propagateEvent(a),this},listens:function(e,t){var i=this._events&&this._events[e];if(i&&i.length)return!0;if(t)for(var n in this._eventParents)if(this._eventParents[n].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"==typeof e){for(var a in e)this.once(a,e[a],t);return this}var r=i(function(){this.off(e,t,n).off(e,r,n)},this);return this.on(e,t,n).on(e,r,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[n(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[n(e)],this},_propagateEvent:function(e){for(var i in this._eventParents)this._eventParents[i].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};tt.addEventListener=tt.on,tt.removeEventListener=tt.clearAllEventListeners=tt.off,tt.addOneTimeEventListener=tt.once,tt.fireEvent=tt.fire,tt.hasEventListeners=tt.listens;var it=b.extend(tt),nt=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};w.prototype={clone:function(){return new w(this.x,this.y)},add:function(e){return this.clone()._add(y(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(y(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new w(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new w(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=nt(this.x),this.y=nt(this.y),this},distanceTo:function(e){var t=(e=y(e)).x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},equals:function(e){return(e=y(e)).x===this.x&&e.y===this.y},contains:function(e){return e=y(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+o(this.x)+", "+o(this.y)+")"}},_.prototype={extend:function(e){return e=y(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new w((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new w(this.min.x,this.max.y)},getTopRight:function(){return new w(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,i;return(e="number"==typeof e[0]||e instanceof w?y(e):x(e))instanceof _?(t=e.min,i=e.max):t=i=e,t.x>=this.min.x&&i.x<=this.max.x&&t.y>=this.min.y&&i.y<=this.max.y},intersects:function(e){e=x(e);var t=this.min,i=this.max,n=e.min,a=e.max,r=a.x>=t.x&&n.x<=i.x,s=a.y>=t.y&&n.y<=i.y;return r&&s},overlaps:function(e){e=x(e);var t=this.min,i=this.max,n=e.min,a=e.max,r=a.x>t.x&&n.x<i.x,s=a.y>t.y&&n.y<i.y;return r&&s},isValid:function(){return!(!this.min||!this.max)}},C.prototype={extend:function(e){var t,i,n=this._southWest,a=this._northEast;if(e instanceof T)t=e,i=e;else{if(!(e instanceof C))return e?this.extend(k(e)||S(e)):this;if(t=e._southWest,i=e._northEast,!t||!i)return this}return n||a?(n.lat=Math.min(t.lat,n.lat),n.lng=Math.min(t.lng,n.lng),a.lat=Math.max(i.lat,a.lat),a.lng=Math.max(i.lng,a.lng)):(this._southWest=new T(t.lat,t.lng),this._northEast=new T(i.lat,i.lng)),this},pad:function(e){var t=this._southWest,i=this._northEast,n=Math.abs(t.lat-i.lat)*e,a=Math.abs(t.lng-i.lng)*e;return new C(new T(t.lat-n,t.lng-a),new T(i.lat+n,i.lng+a))},getCenter:function(){return new T((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new T(this.getNorth(),this.getWest())},getSouthEast:function(){return new T(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof T||"lat"in e?k(e):S(e);var t,i,n=this._southWest,a=this._northEast;return e instanceof C?(t=e.getSouthWest(),i=e.getNorthEast()):t=i=e,t.lat>=n.lat&&i.lat<=a.lat&&t.lng>=n.lng&&i.lng<=a.lng},intersects:function(e){e=S(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),a=e.getNorthEast(),r=a.lat>=t.lat&&n.lat<=i.lat,s=a.lng>=t.lng&&n.lng<=i.lng;return r&&s},overlaps:function(e){e=S(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),a=e.getNorthEast(),r=a.lat>t.lat&&n.lat<i.lat,s=a.lng>t.lng&&n.lng<i.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=S(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},T.prototype={equals:function(e,t){return!!e&&(e=k(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+o(this.lat,e)+", "+o(this.lng,e)+")"},distanceTo:function(e){return rt.distance(this,k(e))},wrap:function(){return rt.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,i=t/Math.cos(Math.PI/180*this.lat);return S([this.lat-t,this.lng-i],[this.lat+t,this.lng+i])},clone:function(){return new T(this.lat,this.lng,this.alt)}};var at={latLngToPoint:function(e,t){var i=this.projection.project(e),n=this.scale(t);return this.transformation._transform(i,n)},pointToLatLng:function(e,t){var i=this.scale(t),n=this.transformation.untransform(e,i);return this.projection.unproject(n)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,i=this.scale(e);return new _(this.transformation.transform(t.min,i),this.transformation.transform(t.max,i))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?r(e.lng,this.wrapLng,!0):e.lng;return new T(this.wrapLat?r(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),i=this.wrapLatLng(t),n=t.lat-i.lat,a=t.lng-i.lng;if(0===n&&0===a)return e;var r=e.getSouthWest(),s=e.getNorthEast();return new C(new T(r.lat-n,r.lng-a),new T(s.lat-n,s.lng-a))}},rt=t({},at,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var i=Math.PI/180,n=e.lat*i,a=t.lat*i,r=Math.sin((t.lat-e.lat)*i/2),s=Math.sin((t.lng-e.lng)*i/2),o=r*r+Math.cos(n)*Math.cos(a)*s*s,l=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return this.R*l}}),st={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,e.lat),-i),a=Math.sin(n*t);return new w(this.R*e.lng*t,this.R*Math.log((1+a)/(1-a))/2)},unproject:function(e){var t=180/Math.PI;return new T((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=6378137*Math.PI;return new _([-e,-e],[e,e])}()};A.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new w((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var ot,lt,ct,ht=t({},rt,{code:"EPSG:3857",projection:st,transformation:function(){var e=.5/(Math.PI*st.R);return P(e,.5,-e,.5)}()}),dt=t({},ht,{code:"EPSG:900913"}),ut=document.documentElement.style,pt="ActiveXObject"in window,ft=pt&&!document.addEventListener,gt="msLaunchUri"in navigator&&!("documentMode"in document),mt=M("webkit"),vt=M("android"),bt=M("android 2")||M("android 3"),wt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),yt=vt&&M("Google")&&wt<537&&!("AudioNode"in window),_t=!!window.opera,xt=M("chrome"),Ct=M("gecko")&&!mt&&!_t&&!pt,St=!xt&&M("safari"),Tt=M("phantom"),kt="OTransition"in ut,At=0===navigator.platform.indexOf("Win"),Pt=pt&&"transition"in ut,Dt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!bt,Et="MozPerspective"in ut,Mt=!window.L_DISABLE_3D&&(Pt||Dt||Et)&&!kt&&!Tt,It="undefined"!=typeof orientation||M("mobile"),Ot=It&&mt,Lt=It&&Dt,Nt=!window.PointerEvent&&window.MSPointerEvent,Rt=!(!window.PointerEvent&&!Nt),$t=!window.L_NO_TOUCH&&(Rt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Bt=It&&_t,Vt=It&&Ct,Ft=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ht=!!document.createElement("canvas").getContext,jt=!(!document.createElementNS||!D("svg").createSVGRect),zt=!jt&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}(),Ut=(Object.freeze||Object)({ie:pt,ielt9:ft,edge:gt,webkit:mt,android:vt,android23:bt,androidStock:yt,opera:_t,chrome:xt,gecko:Ct,safari:St,phantom:Tt,opera12:kt,win:At,ie3d:Pt,webkit3d:Dt,gecko3d:Et,any3d:Mt,mobile:It,mobileWebkit:Ot,mobileWebkit3d:Lt,msPointer:Nt,pointer:Rt,touch:$t,mobileOpera:Bt,mobileGecko:Vt,retina:Ft,canvas:Ht,svg:jt,vml:zt}),Wt=Nt?"MSPointerDown":"pointerdown",Gt=Nt?"MSPointerMove":"pointermove",Yt=Nt?"MSPointerUp":"pointerup",qt=Nt?"MSPointerCancel":"pointercancel",Qt=["INPUT","SELECT","OPTION"],Jt={},Zt=!1,Xt=0,Kt=Nt?"MSPointerDown":Rt?"pointerdown":"touchstart",ei=Nt?"MSPointerUp":Rt?"pointerup":"touchend",ti="_leaflet_",ii=ee(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),ni=ee(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ai="webkitTransition"===ni||"OTransition"===ni?ni+"End":"transitionend";if("onselectstart"in document)ot=function(){he(window,"selectstart",ve)},lt=function(){de(window,"selectstart",ve)};else{var ri=ee(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ot=function(){if(ri){var e=document.documentElement.style;ct=e[ri],e[ri]="none"}},lt=function(){ri&&(document.documentElement.style[ri]=ct,ct=void 0)}}var si,oi,li,ci=(Object.freeze||Object)({TRANSFORM:ii,TRANSITION:ni,TRANSITION_END:ai,get:H,getStyle:j,create:z,remove:U,empty:W,toFront:G,toBack:Y,hasClass:q,addClass:Q,removeClass:J,setClass:Z,getClass:X,setOpacity:K,testProp:ee,setTransform:te,setPosition:ie,getPosition:ne,disableTextSelection:ot,enableTextSelection:lt,disableImageDrag:ae,enableImageDrag:re,preventOutline:se,restoreOutline:oe,getSizedParentNode:le,getScale:ce}),hi="_leaflet_events",di=At&&xt?2*window.devicePixelRatio:Ct?window.devicePixelRatio:1,ui={},pi=(Object.freeze||Object)({on:he,off:de,stopPropagation:fe,disableScrollPropagation:ge,disableClickPropagation:me,preventDefault:ve,stop:be,getMousePosition:we,getWheelDelta:ye,fakeStop:_e,skipped:xe,isExternalTarget:Ce,addListener:he,removeListener:de}),fi=it.extend({run:function(e,t,i,n){this.stop(),this._el=e,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=ne(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=m(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,i=1e3*this._duration;t<i?this._runFrame(this._easeOut(t/i),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var i=this._startPos.add(this._offset.multiplyBy(e));t&&i._round(),ie(this._el,i),this.fire("step")},_complete:function(){v(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),gi=it.extend({options:{crs:ht,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=h(this,t),this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(k(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=ni&&Mt&&!Bt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),he(this._proxy,ai,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,i,n){return i=void 0===i?this._zoom:this._limitZoom(i),e=this._limitCenter(k(e),i,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=t({animate:n.animate},n.zoom),n.pan=t({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,i,n.zoom):this._tryAnimatedPan(e,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,i),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Mt?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Mt?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,i){var n=this.getZoomScale(t),a=this.getSize().divideBy(2),r=(e instanceof w?e:this.latLngToContainerPoint(e)).subtract(a).multiplyBy(1-1/n),s=this.containerPointToLatLng(a.add(r));return this.setView(s,t,{zoom:i})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():S(e);var i=y(t.paddingTopLeft||t.padding||[0,0]),n=y(t.paddingBottomRight||t.padding||[0,0]),a=this.getBoundsZoom(e,!1,i.add(n));if((a="number"==typeof t.maxZoom?Math.min(t.maxZoom,a):a)===1/0)return{center:e.getCenter(),zoom:a};var r=n.subtract(i).divideBy(2),s=this.project(e.getSouthWest(),a),o=this.project(e.getNorthEast(),a);return{center:this.unproject(s.add(o).divideBy(2).add(r),a),zoom:a}},fitBounds:function(e,t){if(!(e=S(e)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(e,t);return this.setView(i.center,i.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=y(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){Q(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,i,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,i){function n(e){var t=(u*u-d*d+(e?-1:1)*g*g*p*p)/(2*(e?u:d)*g*p),i=Math.sqrt(t*t+1)-t;return i<1e-9?-18:Math.log(i)}function a(e){return(Math.exp(e)-Math.exp(-e))/2}function r(e){return(Math.exp(e)+Math.exp(-e))/2}function s(e){return d*(r(v)*function(e){return a(e)/r(e)}(v+f*e)-a(v))/g}if(!1===(i=i||{}).animate||!Mt)return this.setView(e,t,i);this._stop();var o=this.project(this.getCenter()),l=this.project(e),c=this.getSize(),h=this._zoom;e=k(e),t=void 0===t?h:t;var d=Math.max(c.x,c.y),u=d*this.getZoomScale(h,t),p=l.distanceTo(o)||1,f=1.42,g=f*f,v=n(0),b=Date.now(),w=(n(1)-v)/f,y=i.duration?1e3*i.duration:1e3*w*.8;return this._moveStart(!0,i.noMoveStart),function i(){var n=(Date.now()-b)/y,a=function(e){return 1-Math.pow(1-e,1.5)}(n)*w;n<=1?(this._flyToFrame=m(i,this),this._move(this.unproject(o.add(l.subtract(o).multiplyBy(s(a)/p)),h),this.getScaleZoom(d/function(e){return d*(r(v)/r(v+f*e))}(a),h),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var i=this._getBoundsCenterZoom(e,t);return this.flyTo(i.center,i.zoom,t)},setMaxBounds:function(e){return(e=S(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,S(e));return i.equals(n)||this.panTo(n,t),this._enforcingBounds=!1,this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),r=n.divideBy(2).round(),s=a.divideBy(2).round(),o=r.subtract(s);return o.x||o.y?(e.animate&&e.pan?this.panBy(o):(e.pan&&this._rawPanBy(o),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:a})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=i(this._handleGeolocationResponse,this),a=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,a,e):navigator.geolocation.getCurrentPosition(n,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,i=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(e){var t=new T(e.coords.latitude,e.coords.longitude),i=t.toBounds(2*e.coords.accuracy),n=this._locateOptions;if(n.setView){var a=this.getBoundsZoom(i);this.setView(t,n.maxZoom?Math.min(a,n.maxZoom):a)}var r={latlng:t,bounds:i,timestamp:e.timestamp};for(var s in e.coords)"number"==typeof e.coords[s]&&(r[s]=e.coords[s]);this.fire("locationfound",r)},addHandler:function(e,t){if(!t)return this;var i=this[e]=new t(this);return this._handlers.push(i),this.options[e]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),U(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(v(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)U(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var i=z("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new C(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,i){e=S(e),i=y(i||[0,0]);var n=this.getZoom()||0,a=this.getMinZoom(),r=this.getMaxZoom(),s=e.getNorthWest(),o=e.getSouthEast(),l=this.getSize().subtract(i),c=x(this.project(o,n),this.project(s,n)).getSize(),h=Mt?this.options.zoomSnap:1,d=l.x/c.x,u=l.y/c.y,p=t?Math.max(d,u):Math.min(d,u);return n=this.getScaleZoom(p,n),h&&(n=Math.round(n/(h/100))*(h/100),n=t?Math.ceil(n/h)*h:Math.floor(n/h)*h),Math.max(a,Math.min(r,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new w(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var i=this._getTopLeftPoint(e,t);return new _(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var i=this.options.crs;return t=void 0===t?this._zoom:t,i.scale(e)/i.scale(t)},getScaleZoom:function(e,t){var i=this.options.crs;t=void 0===t?this._zoom:t;var n=i.zoom(e*i.scale(t));return isNaN(n)?1/0:n},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(k(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(y(e),t)},layerPointToLatLng:function(e){var t=y(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(k(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(k(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(S(e))},distance:function(e,t){return this.options.crs.distance(k(e),k(t))},containerPointToLayerPoint:function(e){return y(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return y(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(y(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(k(e)))},mouseEventToContainerPoint:function(e){return we(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=H(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");he(t,"scroll",this._onScroll,this),this._containerId=n(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Mt,Q(e,"leaflet-container"+($t?" leaflet-touch":"")+(Ft?" leaflet-retina":"")+(ft?" leaflet-oldie":"")+(St?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=j(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ie(this._mapPane,new w(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Q(e.markerPane,"leaflet-zoom-hide"),Q(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){ie(this._mapPane,new w(0,0));var i=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var n=this._zoom!==t;this._moveStart(n,!1)._move(e,t)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,i){void 0===t&&(t=this._zoom);var n=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return v(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){ie(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[n(this._container)]=this;var t=e?de:he;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Mt&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){v(this._resizeRequest),this._resizeRequest=m(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var i,a=[],r="mouseout"===t||"mouseover"===t,s=e.target||e.srcElement,o=!1;s;){if((i=this._targets[n(s)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(i)){o=!0;break}if(i&&i.listens(t,!0)){if(r&&!Ce(s,e))break;if(a.push(i),r)break}if(s===this._container)break;s=s.parentNode}return a.length||o||r||!Ce(s,e)||(a=[this]),a},_handleDOMEvent:function(e){if(this._loaded&&!xe(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t||se(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,i,n){if("click"===e.type){var a=t({},e);a.type="preclick",this._fireDOMEvent(a,a.type,n)}if(!e._stopped&&(n=(n||[]).concat(this._findEventTargets(e,i))).length){var r=n[0];"contextmenu"===i&&r.listens(i,!0)&&ve(e);var s={originalEvent:e};if("keypress"!==e.type){var o=r.getLatLng&&(!r._radius||r._radius<=10);s.containerPoint=o?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(e),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=o?r.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var l=0;l<n.length;l++)if(n[l].fire(i,s,!0),s.originalEvent._stopped||!1===n[l].options.bubblingMouseEvents&&-1!==p(this._mouseEvents,i))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return ne(this._mapPane)||new w(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var i=this.getSize()._divideBy(2);return this.project(e,t)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,i){var n=this._getNewPixelOrigin(i,t);return this.project(e,t)._subtract(n)},_latLngBoundsToNewLayerBounds:function(e,t,i){var n=this._getNewPixelOrigin(i,t);return x([this.project(e.getSouthWest(),t)._subtract(n),this.project(e.getNorthWest(),t)._subtract(n),this.project(e.getSouthEast(),t)._subtract(n),this.project(e.getNorthEast(),t)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,i){if(!i)return e;var n=this.project(e,t),a=this.getSize().divideBy(2),r=new _(n.subtract(a),n.add(a)),s=this._getBoundsOffset(r,i,t);return s.round().equals([0,0])?e:this.unproject(n.add(s),t)},_limitOffset:function(e,t){if(!t)return e;var i=this.getPixelBounds(),n=new _(i.min.add(e),i.max.add(e));return e.add(this._getBoundsOffset(n,t))},_getBoundsOffset:function(e,t,i){var n=x(this.project(t.getNorthEast(),i),this.project(t.getSouthWest(),i)),a=n.min.subtract(e.min),r=n.max.subtract(e.max);return new w(this._rebound(a.x,-r.x),this._rebound(a.y,-r.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),i=this.getMaxZoom(),n=Mt?this.options.zoomSnap:1;return n&&(e=Math.round(e/n)*n),Math.max(t,Math.min(i,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){J(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var i=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(i))&&(this.panBy(i,t),!0)},_createAnimProxy:function(){var e=this._proxy=z("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=ii,i=this._proxy.style[t];te(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),i===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),t=this.getZoom();te(this._proxy,this.project(e,t),this.getZoomScale(t,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){U(this._proxy),delete this._proxy},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(t),a=this._getCenterOffset(e)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(a))&&(m(function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,a){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,Q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:a}),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&J(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),m(function(){this._moveEnd(!0)},this))}}),mi=b.extend({options:{position:"topright"},initialize:function(e){h(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),i=this.getPosition(),n=e._controlCorners[i];return Q(t,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(t,n.firstChild):n.appendChild(t),this},remove:function(){return this._map?(U(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),vi=function(e){return new mi(e)};gi.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){function e(e,a){var r=i+e+" "+i+a;t[e+a]=z("div",r,n)}var t=this._controlCorners={},i="leaflet-",n=this._controlContainer=z("div",i+"control-container",this._container);e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)U(this._controlCorners[e]);U(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bi=mi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,i,n){return i<n?-1:n<i?1:0}},initialize:function(e,t,i){for(var n in h(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[n],n);for(n in t)this._addLayer(t[n],n,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return mi.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(n(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){Q(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._form.clientHeight?(Q(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=e+"px"):J(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return J(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=z("div",e),i=this.options.collapsed;t.setAttribute("aria-haspopup",!0),me(t),ge(t);var n=this._form=z("form",e+"-list");i&&(this._map.on("click",this.collapse,this),vt||he(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var a=this._layersLink=z("a",e+"-toggle",t);a.href="#",a.title="Layers",$t?(he(a,"click",be),he(a,"click",this.expand,this)):he(a,"focus",this.expand,this),i||this.expand(),this._baseLayersList=z("div",e+"-base",n),this._separator=z("div",e+"-separator",n),this._overlaysList=z("div",e+"-overlays",n),t.appendChild(n)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&n(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;W(this._baseLayersList),W(this._overlaysList),this._layerControlInputs=[];var e,t,i,n,a=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),t=t||n.overlay,e=e||!n.overlay,a+=n.overlay?0:1;return this.options.hideSingleBase&&(e=e&&a>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(n(e.target)),i=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;i&&this._map.fire(i,t)},_createRadioElement:function(e,t){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(e){var t,i=document.createElement("label"),a=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=a):t=this._createRadioElement("leaflet-base-layers",a),this._layerControlInputs.push(t),t.layerId=n(e.layer),he(t,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;var s=document.createElement("div");return i.appendChild(s),s.appendChild(t),s.appendChild(r),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var e,t,i=this._layerControlInputs,n=[],a=[];this._handlingClick=!0;for(var r=i.length-1;r>=0;r--)e=i[r],t=this._getLayer(e.layerId).layer,e.checked?n.push(t):e.checked||a.push(t);for(r=0;r<a.length;r++)this._map.hasLayer(a[r])&&this._map.removeLayer(a[r]);for(r=0;r<n.length;r++)this._map.hasLayer(n[r])||this._map.addLayer(n[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,i=this._layerControlInputs,n=this._map.getZoom(),a=i.length-1;a>=0;a--)e=i[a],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&n<t.options.minZoom||void 0!==t.options.maxZoom&&n>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),wi=mi.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",i=z("div",t+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,t+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,t+"-out",i,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,i,n,a){var r=z("a",i,n);return r.innerHTML=e,r.href="#",r.title=t,r.setAttribute("role","button"),r.setAttribute("aria-label",t),me(r),he(r,"click",be),he(r,"click",a,this),he(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";J(this._zoomInButton,t),J(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&Q(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&Q(this._zoomInButton,t)}});gi.mergeOptions({zoomControl:!0}),gi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new wi,this.addControl(this.zoomControl))});var yi=mi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=z("div","leaflet-control-scale"),i=this.options;return this._addScales(i,"leaflet-control-scale-line",t),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,i){e.metric&&(this._mScale=z("div",t,i)),e.imperial&&(this._iScale=z("div",t,i))},_update:function(){var e=this._map,t=e.getSize().y/2,i=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(i)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),i=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,i,t/e)},_updateImperial:function(e){var t,i,n,a=3.2808399*e;a>5280?(t=a/5280,i=this._getRoundNum(t),this._updateScale(this._iScale,i+" mi",i/t)):(n=this._getRoundNum(a),this._updateScale(this._iScale,n+" ft",n/a))},_updateScale:function(e,t,i){e.style.width=Math.round(this.options.maxWidth*i)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),i=e/t;return t*(i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),_i=mi.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){h(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=z("div","leaflet-control-attribution"),me(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var i=[];this.options.prefix&&i.push(this.options.prefix),e.length&&i.push(e.join(", ")),this._container.innerHTML=i.join(" | ")}}});gi.mergeOptions({attributionControl:!0}),gi.addInitHook(function(){this.options.attributionControl&&(new _i).addTo(this)}),mi.Layers=bi,mi.Zoom=wi,mi.Scale=yi,mi.Attribution=_i,vi.layers=function(e,t,i){return new bi(e,t,i)},vi.zoom=function(e){return new wi(e)},vi.scale=function(e){return new yi(e)},vi.attribution=function(e){return new _i(e)};var xi=b.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xi.addTo=function(e,t){return e.addHandler(t,this),this};var Ci,Si={Events:tt},Ti=$t?"touchstart mousedown":"mousedown",ki={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Ai={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Pi=it.extend({options:{clickTolerance:3},initialize:function(e,t,i,n){h(this,n),this._element=e,this._dragStartTarget=t||e,this._preventOutline=i},enable:function(){this._enabled||(he(this._dragStartTarget,Ti,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pi._dragging===this&&this.finishDrag(),de(this._dragStartTarget,Ti,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!q(this._element,"leaflet-zoom-anim")&&!(Pi._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(Pi._dragging=this,this._preventOutline&&se(this._element),ae(),ot(),this._moving)))){this.fire("down");var t=e.touches?e.touches[0]:e,i=le(this._element);this._startPoint=new w(t.clientX,t.clientY),this._parentScale=ce(i),he(document,Ai[e.type],this._onMove,this),he(document,ki[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,i=new w(t.clientX,t.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,ve(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ne(this._element).subtract(i),Q(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,v(this._animRequest),this._lastEvent=e,this._animRequest=m(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),ie(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in J(document.body,"leaflet-dragging"),this._lastTarget&&(J(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ai)de(document,Ai[e],this._onMove,this),de(document,ki[e],this._onUp,this);re(),lt(),this._moved&&this._moving&&(v(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Pi._dragging=!1}}),Di=(Object.freeze||Object)({simplify:Se,pointToSegmentDistance:Te,closestPointOnSegment:function(e,t,i){return Ee(e,t,i)},clipSegment:ke,_getEdgeIntersection:Ae,_getBitCode:Pe,_sqClosestPointOnSegment:Ee,isFlat:Me,_flat:Ie}),Ei=(Object.freeze||Object)({clipPolygon:Oe}),Mi={project:function(e){return new w(e.lng,e.lat)},unproject:function(e){return new T(e.y,e.x)},bounds:new _([-180,-90],[180,90])},Ii={R:6378137,R_MINOR:6356752.314245179,bounds:new _([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,i=this.R,n=e.lat*t,a=this.R_MINOR/i,r=Math.sqrt(1-a*a),s=r*Math.sin(n),o=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),r/2);return n=-i*Math.log(Math.max(o,1e-10)),new w(e.lng*t*i,n)},unproject:function(e){for(var t,i=180/Math.PI,n=this.R,a=this.R_MINOR/n,r=Math.sqrt(1-a*a),s=Math.exp(-e.y/n),o=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=r*Math.sin(o),t=Math.pow((1-t)/(1+t),r/2),o+=c=Math.PI/2-2*Math.atan(s*t)-o;return new T(o*i,e.x*i/n)}},Oi=(Object.freeze||Object)({LonLat:Mi,Mercator:Ii,SphericalMercator:st}),Li=t({},rt,{code:"EPSG:3395",projection:Ii,transformation:function(){var e=.5/(Math.PI*Ii.R);return P(e,.5,-e,.5)}()}),Ni=t({},rt,{code:"EPSG:4326",projection:Mi,transformation:P(1/180,1,-1/180,.5)}),Ri=t({},at,{projection:Mi,transformation:P(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var i=t.lng-e.lng,n=t.lat-e.lat;return Math.sqrt(i*i+n*n)},infinite:!0});at.Earth=rt,at.EPSG3395=Li,at.EPSG3857=ht,at.EPSG900913=dt,at.EPSG4326=Ni,at.Simple=Ri;var $i=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[n(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[n(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var i=this.getEvents();t.on(i,this),this.once("remove",function(){t.off(i,this)},this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});gi.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=n(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=n(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&n(e)in this._layers},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},_addLayers:function(e){for(var t=0,i=(e=e?Qe(e)?e:[e]:[]).length;t<i;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[n(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=n(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var a=this._zoomBoundLayers[n].options;e=void 0===a.minZoom?e:Math.min(e,a.minZoom),t=void 0===a.maxZoom?t:Math.max(t,a.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Bi=$i.extend({initialize:function(e,t){var i,n;if(h(this,t),this._layers={},e)for(i=0,n=e.length;i<n;i++)this.addLayer(e[i])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,i,n=Array.prototype.slice.call(arguments,1);for(t in this._layers)(i=this._layers[t])[e]&&i[e].apply(i,n);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return n(e)}}),Vi=Bi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Bi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Bi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new C;for(var t in this._layers){var i=this._layers[t];e.extend(i.getBounds?i.getBounds():i.getLatLng())}return e}}),Fi=b.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){h(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var i=this._getIconUrl(e);if(!i){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(n,e),n},_setIconStyles:function(e,t){var i=this.options,n=i[t+"Size"];"number"==typeof n&&(n=[n,n]);var a=y(n),r=y("shadow"===t&&i.shadowAnchor||i.iconAnchor||a&&a.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(i.className||""),r&&(e.style.marginLeft=-r.x+"px",e.style.marginTop=-r.y+"px"),a&&(e.style.width=a.x+"px",e.style.height=a.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Ft&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),Hi=Fi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return Hi.imagePath||(Hi.imagePath=this._detectIconPath()),(this.options.imagePath||Hi.imagePath)+Fi.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=z("div","leaflet-default-icon-path",document.body),t=j(e,"background-image")||j(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),ji=xi.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Pi(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Q(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&J(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,i=t._map,n=this._marker.options.autoPanSpeed,a=this._marker.options.autoPanPadding,r=ne(t._icon),s=i.getPixelBounds(),o=i.getPixelOrigin(),l=x(s.min._subtract(o).add(a),s.max._subtract(o).subtract(a));if(!l.contains(r)){var c=y((Math.max(l.max.x,r.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(n);i.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),ie(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=m(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(v(this._panRequest),this._panRequest=m(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,i=t._shadow,n=ne(t._icon),a=t._map.layerPointToLatLng(n);i&&ie(i,n),t._latlng=a,e.latlng=a,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){v(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),zi=$i.extend({options:{icon:new Hi,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(e,t){h(this,t),this._latlng=k(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=k(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=e.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,e.title&&(i.title=e.title),"IMG"===i.tagName&&(i.alt=e.alt||"")),Q(i,t),e.keyboard&&(i.tabIndex="0"),this._icon=i,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var a=e.icon.createShadow(this._shadow),r=!1;a!==this._shadow&&(this._removeShadow(),r=!0),a&&(Q(a,t),a.alt=""),this._shadow=a,e.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),a&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),U(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&U(this._shadow),this._shadow=null},_setPos:function(e){ie(this._icon,e),this._shadow&&ie(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(Q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ji)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ji(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;K(this._icon,e),this._shadow&&K(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Ui=$i.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return h(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Wi=Ui.extend({options:{fill:!0,radius:10},initialize:function(e,t){h(this,t),this._latlng=k(e),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=k(e),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Ui.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,i=this._clickTolerance(),n=[e+i,t+i];this._pxBounds=new _(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Gi=Wi.extend({initialize:function(e,i,n){if("number"==typeof i&&(i=t({},n,{radius:i})),h(this,i),this._latlng=k(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new C(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Ui.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===rt.distance){var a=Math.PI/180,r=this._mRadius/rt.R/a,s=i.project([t+r,e]),o=i.project([t-r,e]),l=s.add(o).divideBy(2),c=i.unproject(l).lat,h=Math.acos((Math.cos(r*a)-Math.sin(t*a)*Math.sin(c*a))/(Math.cos(t*a)*Math.cos(c*a)))/a;(isNaN(h)||0===h)&&(h=r/Math.cos(Math.PI/180*t)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(h)?0:l.x-i.project([c,e-h]).x,this._radiusY=l.y-s.y}else{var d=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(d).x}this._updateBounds()}}),Yi=Ui.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){h(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,i,n=1/0,a=null,r=Ee,s=0,o=this._parts.length;s<o;s++)for(var l=this._parts[s],c=1,h=l.length;c<h;c++){var d=r(e,t=l[c-1],i=l[c],!0);d<n&&(n=d,a=r(e,t,i))}return a&&(a.distance=Math.sqrt(n)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,i,n,a,r,s,o=this._rings[0],l=o.length;if(!l)return null;for(e=0,t=0;e<l-1;e++)t+=o[e].distanceTo(o[e+1])/2;if(0===t)return this._map.layerPointToLatLng(o[0]);for(e=0,n=0;e<l-1;e++)if(a=o[e],r=o[e+1],i=a.distanceTo(r),(n+=i)>t)return s=(n-t)/i,this._map.layerPointToLatLng([r.x-s*(r.x-a.x),r.y-s*(r.y-a.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=k(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new C,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Me(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],i=Me(e),n=0,a=e.length;n<a;n++)i?(t[n]=k(e[n]),this._bounds.extend(t[n])):t[n]=this._convertLatLngs(e[n]);return t},_project:function(){var e=new _;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e);var t=this._clickTolerance(),i=new w(t,t);this._bounds.isValid()&&e.isValid()&&(e.min._subtract(i),e.max._add(i),this._pxBounds=e)},_projectLatlngs:function(e,t,i){var n,a,r=e[0]instanceof T,s=e.length;if(r){for(a=[],n=0;n<s;n++)a[n]=this._map.latLngToLayerPoint(e[n]),i.extend(a[n]);t.push(a)}else for(n=0;n<s;n++)this._projectLatlngs(e[n],t,i)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,i,n,a,r,s,o,l=this._parts;for(t=0,n=0,a=this._rings.length;t<a;t++)for(i=0,r=(o=this._rings[t]).length;i<r-1;i++)(s=ke(o[i],o[i+1],e,i,!0))&&(l[n]=l[n]||[],l[n].push(s[0]),s[1]===o[i+1]&&i!==r-2||(l[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,i=0,n=e.length;i<n;i++)e[i]=Se(e[i],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var i,n,a,r,s,o,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,r=this._parts.length;i<r;i++)for(n=0,a=(s=(o=this._parts[i]).length)-1;n<s;a=n++)if((t||0!==n)&&Te(e,o[a],o[n])<=l)return!0;return!1}});Yi._flat=Ie;var qi=Yi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,i,n,a,r,s,o,l,c=this._rings[0],h=c.length;if(!h)return null;for(r=s=o=0,e=0,t=h-1;e<h;t=e++)i=c[e],n=c[t],a=i.y*n.x-n.y*i.x,s+=(i.x+n.x)*a,o+=(i.y+n.y)*a,r+=3*a;return l=0===r?c[0]:[s/r,o/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(e){var t=Yi.prototype._convertLatLngs.call(this,e),i=t.length;return i>=2&&t[0]instanceof T&&t[0].equals(t[i-1])&&t.pop(),t},_setLatLngs:function(e){Yi.prototype._setLatLngs.call(this,e),Me(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Me(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,i=new w(t,t);if(e=new _(e.min.subtract(i),e.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var n,a=0,r=this._rings.length;a<r;a++)(n=Oe(this._rings[a],e,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,i,n,a,r,s,o,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,o=this._parts.length;a<o;a++)for(r=0,s=(l=(t=this._parts[a]).length)-1;r<l;s=r++)i=t[r],n=t[s],i.y>e.y!=n.y>e.y&&e.x<(n.x-i.x)*(e.y-i.y)/(n.y-i.y)+i.x&&(c=!c);return c||Yi.prototype._containsPoint.call(this,e,!0)}}),Qi=Vi.extend({initialize:function(e,t){h(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,i,n,a=Qe(e)?e:e.features;if(a){for(t=0,i=a.length;t<i;t++)((n=a[t]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var r=this.options;if(r.filter&&!r.filter(e))return this;var s=Le(e,r);return s?(s.feature=Fe(e),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(e,s),this.addLayer(s)):this},resetStyle:function(e){return e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}}),Ji={toGeoJSON:function(e){return Ve(this,{type:"Point",coordinates:$e(this.getLatLng(),e)})}};zi.include(Ji),Gi.include(Ji),Wi.include(Ji),Yi.include({toGeoJSON:function(e){var t=!Me(this._latlngs),i=Be(this._latlngs,t?1:0,!1,e);return Ve(this,{type:(t?"Multi":"")+"LineString",coordinates:i})}}),qi.include({toGeoJSON:function(e){var t=!Me(this._latlngs),i=t&&!Me(this._latlngs[0]),n=Be(this._latlngs,i?2:t?1:0,!0,e);return t||(n=[n]),Ve(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),Bi.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(i){t.push(i.toGeoJSON(e).geometry.coordinates)}),Ve(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var i="GeometryCollection"===t,n=[];return this.eachLayer(function(t){if(t.toGeoJSON){var a=t.toGeoJSON(e);if(i)n.push(a.geometry);else{var r=Fe(a);"FeatureCollection"===r.type?n.push.apply(n,r.features):n.push(r)}}}),i?Ve(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Zi=He,Xi=$i.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,i){this._url=e,this._bounds=S(t),h(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){U(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&G(this._image),this},bringToBack:function(){return this._map&&Y(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=S(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:z("img");Q(t,"leaflet-image-layer"),this._zoomAnimated&&Q(t,"leaflet-zoom-animated"),this.options.className&&Q(t,this.options.className),t.onselectstart=s,t.onmousemove=s,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;te(this._image,i,t)},_reset:function(){var e=this._image,t=new _(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=t.getSize();ie(e,t.min),e.style.width=i.x+"px",e.style.height=i.y+"px"},_updateOpacity:function(){K(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Ki=Xi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:z("video");if(Q(t,"leaflet-image-layer"),this._zoomAnimated&&Q(t,"leaflet-zoom-animated"),t.onselectstart=s,t.onmousemove=s,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),a=[],r=0;r<n.length;r++)a.push(n[r].src);this._url=n.length>0?a:[t.src]}else{Qe(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var o=0;o<this._url.length;o++){var l=z("source");l.src=this._url[o],t.appendChild(l)}}}}),en=$i.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){h(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&K(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&K(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(K(this._container,0),this._removeTimeout=setTimeout(i(U,void 0,this._container),200)):U(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=k(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&G(this._container),this},bringToBack:function(){return this._map&&Y(this._container),this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=y(this.options.offset),i=this._getAnchor();this._zoomAnimated?ie(this._container,e.add(i)):t=t.add(e).add(i);var n=this._containerBottom=-t.y,a=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=n+"px",this._container.style.left=a+"px"}},_getAnchor:function(){return[0,0]}}),tn=en.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){en.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ui||this._source.on("preclick",fe))},onRemove:function(e){en.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ui||this._source.off("preclick",fe))},getEvents:function(){var e=en.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=z("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=z("div",e+"-content-wrapper",t);if(this._contentNode=z("div",e+"-content",i),me(i),ge(this._contentNode),he(i,"contextmenu",fe),this._tipContainer=z("div",e+"-tip-container",t),this._tip=z("div",e+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=z("a",e+"-close-button",t);n.href="#close",n.innerHTML="&#215;",he(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var i=e.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),t.width=i+1+"px",t.whiteSpace="",t.height="";var n=e.offsetHeight,a=this.options.maxHeight;a&&n>a?(t.height=a+"px",Q(e,"leaflet-popup-scrolled")):J(e,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),i=this._getAnchor();ie(this._container,t.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var e=this._map,t=parseInt(j(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+t,n=this._containerWidth,a=new w(this._containerLeft,-i-this._containerBottom);a._add(ne(this._container));var r=e.layerPointToContainerPoint(a),s=y(this.options.autoPanPadding),o=y(this.options.autoPanPaddingTopLeft||s),l=y(this.options.autoPanPaddingBottomRight||s),c=e.getSize(),h=0,d=0;r.x+n+l.x>c.x&&(h=r.x+n-c.x+l.x),r.x-h-o.x<0&&(h=r.x-o.x),r.y+i+l.y>c.y&&(d=r.y+i-c.y+l.y),r.y-d-o.y<0&&(d=r.y-o.y),(h||d)&&e.fire("autopanstart").panBy([h,d])}},_onCloseButtonClick:function(e){this._close(),be(e)},_getAnchor:function(){return y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});gi.mergeOptions({closePopupOnClick:!0}),gi.include({openPopup:function(e,t,i){return e instanceof tn||(e=new tn(i).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),$i.include({bindPopup:function(e,t){return e instanceof tn?(h(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new tn(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){if(e instanceof $i||(t=e,e=this),e instanceof Vi)for(var i in this._layers){e=this._layers[i];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._popup&&this._map&&(this._popup._source=e,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(be(e),t instanceof Ui?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var nn=en.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){en.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){en.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=en.prototype.getEvents.call(this);return $t&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=z("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,i=this._container,n=t.latLngToContainerPoint(t.getCenter()),a=t.layerPointToContainerPoint(e),r=this.options.direction,s=i.offsetWidth,o=i.offsetHeight,l=y(this.options.offset),c=this._getAnchor();"top"===r?e=e.add(y(-s/2+l.x,-o+l.y+c.y,!0)):"bottom"===r?e=e.subtract(y(s/2-l.x,-l.y,!0)):"center"===r?e=e.subtract(y(s/2+l.x,o/2-c.y+l.y,!0)):"right"===r||"auto"===r&&a.x<n.x?(r="right",e=e.add(y(l.x+c.x,c.y-o/2+l.y,!0))):(r="left",e=e.subtract(y(s+c.x-l.x,o/2-c.y-l.y,!0))),J(i,"leaflet-tooltip-right"),J(i,"leaflet-tooltip-left"),J(i,"leaflet-tooltip-top"),J(i,"leaflet-tooltip-bottom"),Q(i,"leaflet-tooltip-"+r),ie(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&K(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});gi.include({openTooltip:function(e,t,i){return e instanceof nn||(e=new nn(i).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),$i.include({bindTooltip:function(e,t){return e instanceof nn?(h(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new nn(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),$t&&(i.click=this._openTooltip)),this[t](i),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){if(e instanceof $i||(t=e,e=this),e instanceof Vi)for(var i in this._layers){e=this._layers[i];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=e,this._tooltip.update(),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(Q(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(J(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,i,n=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),i=this._map.containerPointToLayerPoint(t),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var an=Fi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),i=this.options;if(t.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=y(i.bgPos);t.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Fi.Default=Hi;var rn=$i.extend({options:{tileSize:256,opacity:1,updateWhenIdle:It,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){h(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),U(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(G(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Y(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof w?e:new w(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,i=this.getPane().children,n=-e(-1/0,1/0),a=0,r=i.length;a<r;a++)t=i[a].style.zIndex,i[a]!==this._container&&t&&(n=e(n,+t));isFinite(n)&&(this.options.zIndex=n+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ft){K(this._container,this.options.opacity);var e=+new Date,t=!1,i=!1;for(var n in this._tiles){var a=this._tiles[n];if(a.current&&a.loaded){var r=Math.min(1,(e-a.loaded)/200);K(a.el,r),r<1?t=!0:(a.active?i=!0:this._onOpaqueTile(a),a.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),t&&(v(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this))}},_onOpaqueTile:s,_initContainer:function(){this._container||(this._container=z("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var i in this._levels)this._levels[i].el.children.length||i===e?(this._levels[i].el.style.zIndex=t-Math.abs(e-i),this._onUpdateLevel(i)):(U(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[e],a=this._map;return n||((n=this._levels[e]={}).el=z("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=t,n.origin=a.project(a.unproject(a.getPixelOrigin()),e).round(),n.zoom=e,this._setZoomTransform(n,a.getCenter(),a.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:s,_onRemoveLevel:s,_onCreateLevel:s,_pruneTiles:function(){if(this._map){var e,t,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var n=t.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)U(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,i,n){var a=Math.floor(e/2),r=Math.floor(t/2),s=i-1,o=new w(+a,+r);o.z=+s;var l=this._tileCoordsToKey(o),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>n&&this._retainParent(a,r,s,n))},_retainChildren:function(e,t,i,n){for(var a=2*e;a<2*e+2;a++)for(var r=2*t;r<2*t+2;r++){var s=new w(a,r);s.z=i+1;var o=this._tileCoordsToKey(s),l=this._tiles[o];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(a,r,i+1,n))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,i,n){var a=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&a>this.options.maxZoom||void 0!==this.options.minZoom&&a<this.options.minZoom)&&(a=void 0);var r=this.options.updateWhenZooming&&a!==this._tileZoom;n&&!r||(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==a&&this._update(e),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var i in this._levels)this._setZoomTransform(this._levels[i],e,t)},_setZoomTransform:function(e,t,i){var n=this._map.getZoomScale(i,e.zoom),a=e.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(t,i)).round();Mt?te(e.el,a,n):ie(e.el,a)},_resetGrid:function(){var e=this._map,t=e.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,a=this._map.getPixelWorldBounds(this._tileZoom);a&&(this._globalTileRange=this._pxBoundsToTileRange(a)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],n).x/i.x),Math.ceil(e.project([0,t.wrapLng[1]],n).x/i.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],n).y/i.x),Math.ceil(e.project([t.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,i=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),n=t.getZoomScale(i,this._tileZoom),a=t.project(e,this._tileZoom).floor(),r=t.getSize().divideBy(2*n);return new _(a.subtract(r),a.add(r))},_update:function(e){var t=this._map;if(t){var i=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(e),a=this._pxBoundsToTileRange(n),r=a.getCenter(),s=[],o=this.options.keepBuffer,l=new _(a.getBottomLeft().subtract([o,-o]),a.getTopRight().add([o,-o]));if(!(isFinite(a.min.x)&&isFinite(a.min.y)&&isFinite(a.max.x)&&isFinite(a.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var h=this._tiles[c].coords;h.z===this._tileZoom&&l.contains(new w(h.x,h.y))||(this._tiles[c].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(e,i);else{for(var d=a.min.y;d<=a.max.y;d++)for(var u=a.min.x;u<=a.max.x;u++){var p=new w(u,d);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:s.push(p)}}if(s.sort(function(e,t){return e.distanceTo(r)-t.distanceTo(r)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(u=0;u<s.length;u++)this._addTile(s[u],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var i=this._globalTileRange;if(!t.wrapLng&&(e.x<i.min.x||e.x>i.max.x)||!t.wrapLat&&(e.y<i.min.y||e.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(e);return S(this.options.bounds).overlaps(n)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,i=this.getTileSize(),n=e.scaleBy(i),a=n.add(i);return[t.unproject(n,e.z),t.unproject(a,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),i=new C(t[0],t[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),i=new w(+t[0],+t[1]);return i.z=+t[2],i},_removeTile:function(e){var t=this._tiles[e];t&&(yt||t.el.setAttribute("src",Je),U(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Q(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=s,e.onmousemove=s,ft&&this.options.opacity<1&&K(e,this.options.opacity),vt&&!bt&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var n=this._getTilePos(e),a=this._tileCoordsToKey(e),r=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(r),this.createTile.length<2&&m(i(this._tileReady,this,e,null,r)),ie(r,n),this._tiles[a]={el:r,coords:e,current:!0},t.appendChild(r),this.fire("tileloadstart",{tile:r,coords:e})},_tileReady:function(e,t,n){if(this._map&&n.getAttribute("src")!==Je){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var a=this._tileCoordsToKey(e);(n=this._tiles[a])&&(n.loaded=+new Date,this._map._fadeAnimated?(K(n.el,0),v(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(Q(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ft||!this._map._fadeAnimated?m(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))}},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new w(this._wrapX?r(e.x,this._wrapX):e.x,this._wrapY?r(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new _(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),sn=rn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=h(this,t)).detectRetina&&Ft&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),vt||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return he(n,"load",i(this._tileOnLoad,this,t,n)),he(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(e),n},getTileUrl:function(e){var i={r:Ft?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(i.y=n),i["-y"]=n}return u(this._url,t(i,this.options))},_tileOnLoad:function(e,t){ft?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,i){var n=this.options.errorTileUrl;n&&t.getAttribute("src")!==n&&(t.src=n),e(i,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,i=this.options.zoomReverse,n=this.options.zoomOffset;return i&&(e=t-e),e+n},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=s,t.onerror=s,t.complete||(t.src=Je,U(t),delete this._tiles[e]))}}),on=sn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,i){this._url=e;var n=t({},this.defaultWmsParams);for(var a in i)a in this.options||(n[a]=i[a]);var r=(i=h(this,i)).detectRetina&&Ft?2:1,s=this.getTileSize();n.width=s.x*r,n.height=s.y*r,this.wmsParams=n},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,sn.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),i=this._crs,n=x(i.project(t[0]),i.project(t[1])),a=n.min,r=n.max,s=(this._wmsVersion>=1.3&&this._crs===Ni?[a.y,a.x,r.y,r.x]:[a.x,a.y,r.x,r.y]).join(","),o=sn.prototype.getTileUrl.call(this,e);return o+d(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(e,i){return t(this.wmsParams,e),i||this.redraw(),this}});sn.WMS=on,je.wms=function(e,t){return new on(e,t)};var ln=$i.extend({options:{padding:.1,tolerance:0},initialize:function(e){h(this,e),n(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var i=this._map.getZoomScale(t,this._zoom),n=ne(this._container),a=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,t),s=this._map.project(e,t).subtract(r),o=a.multiplyBy(-i).add(n).add(a).subtract(s);Mt?te(this._container,o,i):ie(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),i=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new _(i,i.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cn=ln.extend({getEvents:function(){var e=ln.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");he(e,"mousemove",a(this._onMouseMove,32,this),this),he(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),he(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){v(this._redrawRequest),delete this._ctx,U(this._container),de(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},ln.prototype._update.call(this);var e=this._bounds,t=this._container,i=e.getSize(),n=Ft?2:1;ie(t,e.min),t.width=n*i.x,t.height=n*i.y,t.style.width=i.x+"px",t.style.height=i.y+"px",Ft&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[n(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,i=t.next,a=t.prev;i?i.prev=a:this._drawLast=a,a?a.next=i:this._drawFirst=i,delete this._drawnLayers[e._leaflet_id],delete e._order,delete this._layers[n(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,i=e.options.dashArray.split(","),n=[];for(t=0;t<i.length;t++)n.push(Number(i[t]));e.options._dashArray=n}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||m(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new _,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var i=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)e=n.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var i,n,a,r,s=e._parts,o=s.length,l=this._ctx;if(o){for(this._drawnLayers[e._leaflet_id]=e,l.beginPath(),i=0;i<o;i++){for(n=0,a=s[i].length;n<a;n++)r=s[i][n],l[n?"lineTo":"moveTo"](r.x,r.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,i=this._ctx,n=Math.max(Math.round(e._radius),1),a=(Math.max(Math.round(e._radiusY),1)||n)/n;this._drawnLayers[e._leaflet_id]=e,1!==a&&(i.save(),i.scale(1,a)),i.beginPath(),i.arc(t.x,t.y/a,n,0,2*Math.PI,!1),1!==a&&i.restore(),this._fillStroke(i,e)}},_fillStroke:function(e,t){var i=t.options;i.fill&&(e.globalAlpha=i.fillOpacity,e.fillStyle=i.fillColor||i.color,e.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=i.opacity,e.lineWidth=i.weight,e.strokeStyle=i.color,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.stroke())},_onClick:function(e){for(var t,i,n=this._map.mouseEventToLayerPoint(e),a=this._drawFirst;a;a=a.next)(t=a.layer).options.interactive&&t._containsPoint(n)&&!this._map._draggableMoved(t)&&(i=t);i&&(_e(e),this._fireEvent([i],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(J(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(e,t){for(var i,n,a=this._drawFirst;a;a=a.next)(i=a.layer).options.interactive&&i._containsPoint(t)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(e),n&&(Q(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(e,t,i){this._map._fireDOMEvent(t,i||t.type,e)},_bringToFront:function(e){var t=e._order,i=t.next,n=t.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))},_bringToBack:function(e){var t=e._order,i=t.next,n=t.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}),hn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),dn={_initContainer:function(){this._container=z("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ln.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=hn("shape");Q(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=hn("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[n(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;U(t),e.removeInteractiveTarget(t),delete this._layers[n(e)]},_updateStyle:function(e){var t=e._stroke,i=e._fill,n=e.options,a=e._container;a.stroked=!!n.stroke,a.filled=!!n.fill,n.stroke?(t||(t=e._stroke=hn("stroke")),a.appendChild(t),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=Qe(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=n.lineCap.replace("butt","flat"),t.joinstyle=n.lineJoin):t&&(a.removeChild(t),e._stroke=null),n.fill?(i||(i=e._fill=hn("fill")),a.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(a.removeChild(i),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),i=Math.round(e._radius),n=Math.round(e._radiusY||i);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+i+","+n+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){G(e._container)},_bringToBack:function(e){Y(e._container)}},un=zt?hn:D,pn=ln.extend({getEvents:function(){var e=ln.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=un("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=un("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){U(this._container),de(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ln.prototype._update.call(this);var e=this._bounds,t=e.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,i.setAttribute("width",t.x),i.setAttribute("height",t.y)),ie(i,e.min),i.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=un("path");e.options.className&&Q(t,e.options.className),e.options.interactive&&Q(t,"leaflet-interactive"),this._updateStyle(e),this._layers[n(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){U(e._path),e.removeInteractiveTarget(e._path),delete this._layers[n(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,i=e.options;t&&(i.stroke?(t.setAttribute("stroke",i.color),t.setAttribute("stroke-opacity",i.opacity),t.setAttribute("stroke-width",i.weight),t.setAttribute("stroke-linecap",i.lineCap),t.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?t.setAttribute("stroke-dasharray",i.dashArray):t.removeAttribute("stroke-dasharray"),i.dashOffset?t.setAttribute("stroke-dashoffset",i.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),i.fill?(t.setAttribute("fill",i.fillColor||i.color),t.setAttribute("fill-opacity",i.fillOpacity),t.setAttribute("fill-rule",i.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,E(e._parts,t))},_updateCircle:function(e){var t=e._point,i=Math.max(Math.round(e._radius),1),n="a"+i+","+(Math.max(Math.round(e._radiusY),1)||i)+" 0 1,0 ",a=e._empty()?"M0 0":"M"+(t.x-i)+","+t.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(e,a)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){G(e._path)},_bringToBack:function(e){Y(e._path)}});zt&&pn.include(dn),gi.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&ze(e)||Ue(e)}});var fn=qi.extend({initialize:function(e,t){qi.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=S(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});pn.create=un,pn.pointsToPath=E,Qi.geometryToLayer=Le,Qi.coordsToLatLng=Ne,Qi.coordsToLatLngs=Re,Qi.latLngToCoords=$e,Qi.latLngsToCoords=Be,Qi.getFeature=Ve,Qi.asFeature=Fe,gi.mergeOptions({boxZoom:!0});var gn=xi.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){de(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){U(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),ot(),ae(),this._startPoint=this._map.mouseEventToContainerPoint(e),he(document,{contextmenu:be,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=z("div","leaflet-zoom-box",this._container),Q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new _(this._point,this._startPoint),i=t.getSize();ie(this._box,t.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(U(this._box),J(this._container,"leaflet-crosshair")),lt(),re(),de(document,{contextmenu:be,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new C(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});gi.addInitHook("addHandler","boxZoom",gn),gi.mergeOptions({doubleClickZoom:!0});var mn=xi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,i=t.getZoom(),n=t.options.zoomDelta,a=e.originalEvent.shiftKey?i-n:i+n;"center"===t.options.doubleClickZoom?t.setZoom(a):t.setZoomAround(e.containerPoint,a)}});gi.addInitHook("addHandler","doubleClickZoom",mn),gi.mergeOptions({dragging:!0,inertia:!bt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vn=xi.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Pi(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}Q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){J(this._map._container,"leaflet-grab"),J(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=S(this._map.options.maxBounds);this._offsetLimit=x(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,a=(n-t+i)%e+t-i,r=(n+t+i)%e-t-i,s=Math.abs(a+i)<Math.abs(r+i)?a:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(e){var t=this._map,i=t.options,n=!i.inertia||this._times.length<2;if(t.fire("dragend",e),n)t.fire("moveend");else{this._prunePositions(+new Date);var a=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,o=a.multiplyBy(s/r),l=o.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,l),h=o.multiplyBy(c/l),d=c/(i.inertiaDeceleration*s),u=h.multiplyBy(-d/2).round();u.x||u.y?(u=t._limitOffset(u,t.options.maxBounds),m(function(){t.panBy(u,{duration:d,easeLinearity:s,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});gi.addInitHook("addHandler","dragging",vn),gi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bn=xi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),he(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),de(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,i=e.scrollTop||t.scrollTop,n=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,i,n=this._panKeys={},a=this.keyCodes;for(t=0,i=a.left.length;t<i;t++)n[a.left[t]]=[-1*e,0];for(t=0,i=a.right.length;t<i;t++)n[a.right[t]]=[e,0];for(t=0,i=a.down.length;t<i;t++)n[a.down[t]]=[0,e];for(t=0,i=a.up.length;t<i;t++)n[a.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,i,n=this._zoomKeys={},a=this.keyCodes;for(t=0,i=a.zoomIn.length;t<i;t++)n[a.zoomIn[t]]=e;for(t=0,i=a.zoomOut.length;t<i;t++)n[a.zoomOut[t]]=-e},_addHooks:function(){he(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){de(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,i=e.keyCode,n=this._map;if(i in this._panKeys)n._panAnim&&n._panAnim._inProgress||(t=this._panKeys[i],e.shiftKey&&(t=y(t).multiplyBy(3)),n.panBy(t),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds));else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}be(e)}}});gi.addInitHook("addHandler","keyboard",bn),gi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wn=xi.extend({addHooks:function(){he(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){de(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=ye(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var a=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),a),be(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),i=this._map.options.zoomSnap||0;e._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),a=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,r=i?Math.ceil(a/i)*i:a,s=e._limitZoom(t+(this._delta>0?r:-r))-t;this._delta=0,this._startTime=null,s&&("center"===e.options.scrollWheelZoom?e.setZoom(t+s):e.setZoomAround(this._lastMousePos,t+s))}});gi.addInitHook("addHandler","scrollWheelZoom",wn),gi.mergeOptions({tap:!0,tapTolerance:15});var yn=xi.extend({addHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){de(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(ve(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],n=t.target;this._startPos=this._newPos=new w(t.clientX,t.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&Q(n,"leaflet-active"),this._holdTimeout=setTimeout(i(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))},this),1e3),this._simulateEvent("mousedown",t),he(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),de(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],i=t.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&J(i,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new w(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var i=document.createEvent("MouseEvents");i._simulated=!0,t.target._simulatedClick=!0,i.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}});$t&&!Rt&&gi.addInitHook("addHandler","tap",yn),gi.mergeOptions({touchZoom:$t&&!bt,bounceAtZoomLimits:!0});var _n=xi.extend({addHooks:function(){Q(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){J(this._map._container,"leaflet-touch-zoom"),de(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var i=t.mouseEventToContainerPoint(e.touches[0]),n=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend",this._onTouchEnd,this),ve(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),a=t.mouseEventToContainerPoint(e.touches[1]),r=n.distanceTo(a)/this._startDist;if(this._zoom=t.getScaleZoom(r,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&r<1||this._zoom>t.getMaxZoom()&&r>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=n._add(a)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),v(this._animRequest);var o=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=m(o,this,!0),ve(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,v(this._animRequest),de(document,"touchmove",this._onTouchMove),de(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});gi.addInitHook("addHandler","touchZoom",_n),gi.BoxZoom=gn,gi.DoubleClickZoom=mn,gi.Drag=vn,gi.Keyboard=bn,gi.ScrollWheelZoom=wn,gi.Tap=yn,gi.TouchZoom=_n,Object.freeze=We,e.version="1.3.3+HEAD.b22aef4",e.Control=mi,e.control=vi,e.Browser=Ut,e.Evented=it,e.Mixin=Si,e.Util=et,e.Class=b,e.Handler=xi,e.extend=t,e.bind=i,e.stamp=n,e.setOptions=h,e.DomEvent=pi,e.DomUtil=ci,e.PosAnimation=fi,e.Draggable=Pi,e.LineUtil=Di,e.PolyUtil=Ei,e.Point=w,e.point=y,e.Bounds=_,e.bounds=x,e.Transformation=A,e.transformation=P,e.Projection=Oi,e.LatLng=T,e.latLng=k,e.LatLngBounds=C,e.latLngBounds=S,e.CRS=at,e.GeoJSON=Qi,e.geoJSON=He,e.geoJson=Zi,e.Layer=$i,e.LayerGroup=Bi,e.layerGroup=function(e,t){return new Bi(e,t)},e.FeatureGroup=Vi,e.featureGroup=function(e){return new Vi(e)},e.ImageOverlay=Xi,e.imageOverlay=function(e,t,i){return new Xi(e,t,i)},e.VideoOverlay=Ki,e.videoOverlay=function(e,t,i){return new Ki(e,t,i)},e.DivOverlay=en,e.Popup=tn,e.popup=function(e,t){return new tn(e,t)},e.Tooltip=nn,e.tooltip=function(e,t){return new nn(e,t)},e.Icon=Fi,e.icon=function(e){return new Fi(e)},e.DivIcon=an,e.divIcon=function(e){return new an(e)},e.Marker=zi,e.marker=function(e,t){return new zi(e,t)},e.TileLayer=sn,e.tileLayer=je,e.GridLayer=rn,e.gridLayer=function(e){return new rn(e)},e.SVG=pn,e.svg=Ue,e.Renderer=ln,e.Canvas=cn,e.canvas=ze,e.Path=Ui,e.CircleMarker=Wi,e.circleMarker=function(e,t){return new Wi(e,t)},e.Circle=Gi,e.circle=function(e,t,i){return new Gi(e,t,i)},e.Polyline=Yi,e.polyline=function(e,t){return new Yi(e,t)},e.Polygon=qi,e.polygon=function(e,t){return new qi(e,t)},e.Rectangle=fn,e.rectangle=function(e,t){return new fn(e,t)},e.Map=gi,e.map=function(e,t){return new gi(e,t)};var xn=window.L;e.noConflict=function(){return window.L=xn,this},window.L=e}(t)},function(e,t,i){!function(e){var t="a. b. c. d.".split(" "),i=function(e,i,n,a){return{url:["http://{S}tile.stamen.com/",e,"/{Z}/{X}/{Y}.",i].join(""),type:i,subdomains:t.slice(),minZoom:n,maxZoom:a,attribution:['Map tiles by <a href="http://stamen.com/">Stamen Design</a>, ','under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. ','Data by <a href="http://openstreetmap.org/">OpenStreetMap</a>, ','under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.'].join("")}},n={toner:i("toner","png",0,20),terrain:i("terrain","png",0,18),"terrain-classic":i("terrain-classic","png",0,18),watercolor:i("watercolor","jpg",1,18),"trees-cabs-crime":{url:"http://{S}.tiles.mapbox.com/v3/stamen.trees-cabs-crime/{Z}/{X}/{Y}.png",type:"png",subdomains:"a b c d".split(" "),minZoom:11,maxZoom:18,extent:[{lat:37.853,lon:-122.577},{lat:37.684,lon:-122.313}],attribution:['Design by Shawn Allen at <a href="http://stamen.com/">Stamen</a>.','Data courtesy of <a href="http://fuf.net/">FuF</a>,','<a href="http://www.yellowcabsf.com/">Yellow Cab</a>','&amp; <a href="http://sf-police.org/">SFPD</a>.'].join(" ")}};n["terrain-classic"].url="http://{S}tile.stamen.com/terrain/{Z}/{X}/{Y}.png",l("toner",["hybrid","labels","lines","background","lite"]),l("terrain",["background","labels","lines"]),o("toner",["2010"]),o("toner",["2011","2011-lines","2011-labels","2011-lite"]);for(var a=["toner","toner-hybrid","toner-labels","toner-lines","toner-background","toner-lite","terrain","terrain-background","terrain-lines","terrain-labels","terrain-classic"],r=0;r<a.length;r++){var s=a[r];n[s].retina=!0,n[s].attribution=['Map tiles by <a href="http://stamen.com/">Stamen Design</a>, ','under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. ','Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, ','under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.'].join("")}function o(e,t){for(var a=c(e),r=0;r<t.length;r++){var s=[e,t[r]].join("-");n[s]=i(s,a.type,a.minZoom,a.maxZoom),n[s].deprecated=!0}}function l(e,t,a){for(var r=c(e),s=0;s<t.length;s++){var o=[e,t[s]].join("-");n[o]=i(o,a||r.type,r.minZoom,r.maxZoom)}}function c(e){if(e in n){var t=n[e];return t.deprecated&&console&&console.warn&&console.warn(e+" is a deprecated style; it will be redirected to its replacement. For performance improvements, please change your reference."),t}throw"No such provider ("+e+")"}if(e.stamen=e.stamen||{},e.stamen.tile=e.stamen.tile||{},e.stamen.tile.providers=n,e.stamen.tile.getProvider=c,"object"===typeof MM){var h="function"===typeof MM.Template?MM.Template:MM.TemplatedMapProvider;MM.StamenTileLayer=function(e){var t=c(e);this._provider=t,MM.Layer.call(this,new h(t.url,t.subdomains)),this.provider.setZoomRange(t.minZoom,t.maxZoom),this.attribution=t.attribution},MM.StamenTileLayer.prototype={setCoordLimits:function(e){var t=this._provider;return!!t.extent&&(e.coordLimits=[e.locationCoordinate(t.extent[0]).zoomTo(t.minZoom),e.locationCoordinate(t.extent[1]).zoomTo(t.maxZoom)],!0)}},MM.extend(MM.StamenTileLayer,MM.Layer)}if("object"===typeof L&&(L.StamenTileLayer=L.TileLayer.extend({initialize:function(e,t){var i=c(e),n=i.url.replace(/({[A-Z]})/g,function(e){return e.toLowerCase()}),a=L.Util.extend({},t,{minZoom:i.minZoom,maxZoom:i.maxZoom,subdomains:i.subdomains,scheme:"xyz",attribution:i.attribution,sa_id:e});L.TileLayer.prototype.initialize.call(this,n,a)}}),L.stamenTileLayer=function(e,t){return new L.StamenTileLayer(e,t)}),"object"===typeof OpenLayers){var d=function(e){return e.replace(/({.})/g,function(e){return"$"+e.toLowerCase()})};OpenLayers.Layer.Stamen=OpenLayers.Class(OpenLayers.Layer.OSM,{initialize:function(e,t){var i=c(e),n=i.url,a=i.subdomains,r=[];if(n.indexOf("{S}")>-1)for(var s=0;s<a.length;s++)r.push(d(n.replace("{S}",a[s])));else r.push(d(n));return t=OpenLayers.Util.extend({numZoomLevels:i.maxZoom,buffer:0,transitionEffect:"resize",tileOptions:{crossOriginKeyword:null},attribution:i.attribution},t),OpenLayers.Layer.OSM.prototype.initialize.call(this,e,r,t)}})}"object"===typeof google&&"object"===typeof google.maps&&(google.maps.ImageMapType=function(e){var t=function(){arguments.length&&e.apply(this,arguments)};return t.prototype=e.prototype,t}(google.maps.ImageMapType),google.maps.StamenMapType=function(e){var t=c(e),i=t.subdomains;return google.maps.ImageMapType.call(this,{getTileUrl:function(e,n){var a=1<<n,r=e.x%a,s=r<0?r+a:r,o=e.y,l=(n+s+o)%i.length;return t.url.replace("{S}",i[l]).replace("{Z}",n).replace("{X}",s).replace("{Y}",o)},tileSize:new google.maps.Size(256,256),name:e,minZoom:t.minZoom,maxZoom:t.maxZoom})},google.maps.StamenMapType.prototype=new google.maps.ImageMapType)}(t)},function(e,t){!function(){"use strict";var t=function(e){if("number"!==typeof e||(t=e)!==t)throw new TypeError("Expected a number");var t,i,n=e<0,a=["B","kB","MB","GB","TB","PB","EB","ZB","YB"];return n&&(e=-e),e<1?(n?"-":"")+e+" B":(i=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),a.length-1),(n?"-":"")+(e=1*(e/Math.pow(1e3,i)).toFixed(2))+" "+a[i])};"undefined"!==typeof e&&e.exports?e.exports=t:self.prettyBytes=t}()},function(e,t,i){var n;e.exports=function e(t,i,a){function r(o,l){if(!i[o]){if(!t[o]){var c="function"==typeof n&&n;if(!l&&c)return n(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return r(i||e)},d,d.exports,e,t,i,a)}return i[o].exports}for(var s="function"==typeof n&&n,o=0;o<a.length;o++)r(a[o]);return r}({1:[function(e,t,i){function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(e){if(h===setTimeout)return setTimeout(e,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function s(){g&&p&&(g=!1,p.length?f=p.concat(f):m=-1,f.length&&o())}function o(){if(!g){var e=r(s);g=!0;for(var t=f.length;t;){for(p=f,f=[];++m<t;)p&&p[m].run();m=-1,t=f.length}p=null,g=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===a||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var h,d,u=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(e){h=n}try{d="function"==typeof clearTimeout?clearTimeout:a}catch(e){d=a}}();var p,f=[],g=!1,m=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new l(e,t)),1!==f.length||g||r(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=c,u.addListener=c,u.once=c,u.off=c,u.removeListener=c,u.removeAllListeners=c,u.emit=c,u.prependListener=c,u.prependOnceListener=c,u.listeners=function(e){return[]},u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./bars"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=function(){};(r.prototype=new a.default).extractSeries=function(e,t,i){for(var n,a,r,s=[],o=i.get("logscale"),l=0;l<e.length;l++)n=e[l][0],r=e[l][t],o&&null!==r&&(r[0]<=0||r[1]<=0||r[2]<=0)&&(r=null),null!==r?null===(a=r[1])||isNaN(a)?s.push([n,a,[a,a]]):s.push([n,a,[r[0],r[2]]]):s.push([n,null,[null,null]]);return s},r.prototype.rollingAverage=function(e,t,i){t=Math.min(t,e.length);var n,a,r,s,o,l,c,h=[];for(a=0,s=0,r=0,o=0,l=0;l<e.length;l++){if(n=e[l][1],c=e[l][2],h[l]=e[l],null===n||isNaN(n)||(a+=c[0],s+=n,r+=c[1],o+=1),l-t>=0){var d=e[l-t];null===d[1]||isNaN(d[1])||(a-=d[2][0],s-=d[1],r-=d[2][1],o-=1)}h[l]=o?[e[l][0],1*s/o,[1*a/o,1*r/o]]:[e[l][0],null,[null,null]]}return h},i.default=r,t.exports=i.default},{"./bars":5}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./bars"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=function(){};(r.prototype=new a.default).extractSeries=function(e,t,i){for(var n,a,r,s,o=[],l=i.get("sigma"),c=i.get("logscale"),h=0;h<e.length;h++)n=e[h][0],s=e[h][t],c&&null!==s&&(s[0]<=0||s[0]-l*s[1]<=0)&&(s=null),null!==s?null===(a=s[0])||isNaN(a)?o.push([n,a,[a,a,a]]):(r=l*s[1],o.push([n,a,[a-r,a+r,s[1]]])):o.push([n,null,[null,null,null]]);return o},r.prototype.rollingAverage=function(e,t,i){t=Math.min(t,e.length);var n,a,r,s,o,l,c,h,d,u=[],p=i.get("sigma");for(n=0;n<e.length;n++){for(o=0,h=0,l=0,a=Math.max(0,n-t+1);a<n+1;a++)null===(r=e[a][1])||isNaN(r)||(l++,o+=r,h+=Math.pow(e[a][2][2],2));l?(c=Math.sqrt(h)/l,d=o/l,u[n]=[e[n][0],d,[d-p*c,d+p*c]]):(s=1==t?e[n][1]:null,u[n]=[e[n][0],s,[s,s]])}return u},i.default=r,t.exports=i.default},{"./bars":5}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./bars"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=function(){};(r.prototype=new a.default).extractSeries=function(e,t,i){for(var n,a,r,s,o,l,c,h,d=[],u=i.get("sigma"),p=i.get("logscale"),f=0;f<e.length;f++)n=e[f][0],r=e[f][t],p&&null!==r&&(r[0]<=0||r[1]<=0)&&(r=null),null!==r?(s=r[0],o=r[1],null===s||isNaN(s)?d.push([n,s,[s,s,s,o]]):(l=o?s/o:0,c=o?u*Math.sqrt(l*(1-l)/o):1,h=100*c,a=100*l,d.push([n,a,[a-h,a+h,s,o]]))):d.push([n,null,[null,null,null,null]]);return d},r.prototype.rollingAverage=function(e,t,i){t=Math.min(t,e.length);var n,a,r,s,o=[],l=i.get("sigma"),c=i.get("wilsonInterval"),h=0,d=0;for(r=0;r<e.length;r++){h+=e[r][2][2],d+=e[r][2][3],r-t>=0&&(h-=e[r-t][2][2],d-=e[r-t][2][3]);var u=e[r][0],p=d?h/d:0;if(c)if(d){var f=p<0?0:p,g=d,m=l*Math.sqrt(f*(1-f)/g+l*l/(4*g*g)),v=1+l*l/d;n=(f+l*l/(2*d)-m)/v,a=(f+l*l/(2*d)+m)/v,o[r]=[u,100*f,[100*n,100*a]]}else o[r]=[u,0,[0,0]];else s=d?l*Math.sqrt(p*(1-p)/d):1,o[r]=[u,100*p,[100*(p-s),100*(p+s)]]}return o},i.default=r,t.exports=i.default},{"./bars":5}],5:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("./datahandler"),r=n(a),s=e("../dygraph-layout"),o=n(s),l=function(){r.default.call(this)};(l.prototype=new r.default).extractSeries=function(e,t,i){},l.prototype.rollingAverage=function(e,t,i){},l.prototype.onPointsCreated_=function(e,t){for(var i=0;i<e.length;++i){var n=e[i],a=t[i];a.y_top=NaN,a.y_bottom=NaN,a.yval_minus=r.default.parseFloat(n[2][0]),a.yval_plus=r.default.parseFloat(n[2][1])}},l.prototype.getExtremeYValues=function(e,t,i){for(var n,a=null,r=null,s=e.length-1,o=0;o<=s;o++)if(null!==(n=e[o][1])&&!isNaN(n)){var l=e[o][2][0],c=e[o][2][1];l>n&&(l=n),c<n&&(c=n),(null===r||c>r)&&(r=c),(null===a||l<a)&&(a=l)}return[a,r]},l.prototype.onLineEvaluated=function(e,t,i){for(var n,a=0;a<e.length;a++)(n=e[a]).y_top=o.default.calcYNormal_(t,n.yval_minus,i),n.y_bottom=o.default.calcYNormal_(t,n.yval_plus,i)},i.default=l,t.exports=i.default},{"../dygraph-layout":13,"./datahandler":6}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){},a=n;a.X=0,a.Y=1,a.EXTRAS=2,a.prototype.extractSeries=function(e,t,i){},a.prototype.seriesToPoints=function(e,t,i){for(var n=[],r=0;r<e.length;++r){var s=e[r],o=s[1],l=null===o?null:a.parseFloat(o),c={x:NaN,y:NaN,xval:a.parseFloat(s[0]),yval:l,name:t,idx:r+i};n.push(c)}return this.onPointsCreated_(e,n),n},a.prototype.onPointsCreated_=function(e,t){},a.prototype.rollingAverage=function(e,t,i){},a.prototype.getExtremeYValues=function(e,t,i){},a.prototype.onLineEvaluated=function(e,t,i){},a.parseFloat=function(e){return null===e?NaN:e},i.default=n,t.exports=i.default},{}],7:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("./datahandler"),r=(n(a),e("./default")),s=n(r),o=function(){};(o.prototype=new s.default).extractSeries=function(e,t,i){for(var n,a,r,s,o,l=[],c=i.get("logscale"),h=0;h<e.length;h++)n=e[h][0],r=e[h][t],c&&null!==r&&(r[0]<=0||r[1]<=0)&&(r=null),null!==r?(s=r[0],o=r[1],null===s||isNaN(s)?l.push([n,s,[s,o]]):(a=100*(o?s/o:0),l.push([n,a,[s,o]]))):l.push([n,null,[null,null]]);return l},o.prototype.rollingAverage=function(e,t,i){t=Math.min(t,e.length);var n,a=[],r=0,s=0;for(n=0;n<e.length;n++){r+=e[n][2][0],s+=e[n][2][1],n-t>=0&&(r-=e[n-t][2][0],s-=e[n-t][2][1]);var o=e[n][0],l=s?r/s:0;a[n]=[o,100*l]}return a},i.default=o,t.exports=i.default},{"./datahandler":6,"./default":8}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./datahandler"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=function(){};(r.prototype=new a.default).extractSeries=function(e,t,i){for(var n=[],a=i.get("logscale"),r=0;r<e.length;r++){var s=e[r][0],o=e[r][t];a&&o<=0&&(o=null),n.push([s,o])}return n},r.prototype.rollingAverage=function(e,t,i){t=Math.min(t,e.length);var n,a,r,s,o,l=[];if(1==t)return e;for(n=0;n<e.length;n++){for(s=0,o=0,a=Math.max(0,n-t+1);a<n+1;a++)null===(r=e[a][1])||isNaN(r)||(o++,s+=e[a][1]);l[n]=o?[e[n][0],s/o]:[e[n][0],null]}return l},r.prototype.getExtremeYValues=function(e,t,i){for(var n,a=null,r=null,s=e.length-1,o=0;o<=s;o++)null===(n=e[o][1])||isNaN(n)||((null===r||n>r)&&(r=n),(null===a||n<a)&&(a=n));return[a,r]},i.default=r,t.exports=i.default},{"./datahandler":6}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./dygraph-utils"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(n),r=e("./dygraph"),s=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e,t,i,n){if(this.dygraph_=e,this.layout=n,this.element=t,this.elementContext=i,this.height=e.height_,this.width=e.width_,!a.isCanvasSupported(this.element))throw"Canvas is not supported.";this.area=n.getPlotArea();var r=this.dygraph_.canvas_ctx_;r.beginPath(),r.rect(this.area.x,this.area.y,this.area.w,this.area.h),r.clip(),(r=this.dygraph_.hidden_ctx_).beginPath(),r.rect(this.area.x,this.area.y,this.area.w,this.area.h),r.clip()};o.prototype.clear=function(){this.elementContext.clearRect(0,0,this.width,this.height)},o.prototype.render=function(){this._updatePoints(),this._renderLineChart()},o._getIteratorPredicate=function(e){return e?o._predicateThatSkipsEmptyPoints:null},o._predicateThatSkipsEmptyPoints=function(e,t){return null!==e[t].yval},o._drawStyledLine=function(e,t,i,n,r,s,l){var c=e.dygraph,h=c.getBooleanOption("stepPlot",e.setName);a.isArrayLike(n)||(n=null);var d=c.getBooleanOption("drawGapEdgePoints",e.setName),u=e.points,p=e.setName,f=a.createIterator(u,0,u.length,o._getIteratorPredicate(c.getBooleanOption("connectSeparatedPoints",p))),g=n&&n.length>=2,m=e.drawingContext;m.save(),g&&m.setLineDash&&m.setLineDash(n);var v=o._drawSeries(e,f,i,l,r,d,h,t);o._drawPointsOnLine(e,v,s,t,l),g&&m.setLineDash&&m.setLineDash([]),m.restore()},o._drawSeries=function(e,t,i,n,a,r,s,o){var l,c,h=null,d=null,u=null,p=[],f=!0,g=e.drawingContext;g.beginPath(),g.strokeStyle=o,g.lineWidth=i;for(var m=t.array_,v=t.end_,b=t.predicate_,w=t.start_;w<v;w++){if(c=m[w],b){for(;w<v&&!b(m,w);)w++;if(w==v)break;c=m[w]}if(null===c.canvasy||c.canvasy!=c.canvasy)s&&null!==h&&(g.moveTo(h,d),g.lineTo(c.canvasx,d)),h=d=null;else{if(l=!1,r||null===h){t.nextIdx_=w,t.next();var y=null===(u=t.hasNext?t.peek.canvasy:null)||u!=u;l=null===h&&y,r&&(!f&&null===h||t.hasNext&&y)&&(l=!0)}null!==h?i&&(s&&(g.moveTo(h,d),g.lineTo(c.canvasx,d)),g.lineTo(c.canvasx,c.canvasy)):g.moveTo(c.canvasx,c.canvasy),(a||l)&&p.push([c.canvasx,c.canvasy,c.idx]),h=c.canvasx,d=c.canvasy}f=!1}return g.stroke(),p},o._drawPointsOnLine=function(e,t,i,n,a){for(var r=e.drawingContext,s=0;s<t.length;s++){var o=t[s];r.save(),i.call(e.dygraph,e.dygraph,e.setName,r,o[0],o[1],n,a,o[2]),r.restore()}},o.prototype._updatePoints=function(){for(var e=this.layout.points,t=e.length;t--;)for(var i=e[t],n=i.length;n--;){var a=i[n];a.canvasx=this.area.w*a.x+this.area.x,a.canvasy=this.area.h*a.y+this.area.y}},o.prototype._renderLineChart=function(e,t){var i,n,r=t||this.elementContext,s=this.layout.points,o=this.layout.setNames;this.colors=this.dygraph_.colorsMap_;var l=this.dygraph_.getOption("plotter"),c=l;a.isArrayLike(c)||(c=[c]);var h={};for(i=0;i<o.length;i++){n=o[i];var d=this.dygraph_.getOption("plotter",n);d!=l&&(h[n]=d)}for(i=0;i<c.length;i++)for(var u=c[i],p=i==c.length-1,f=0;f<s.length;f++)if(n=o[f],!e||n==e){var g=s[f],m=u;if(n in h){if(!p)continue;m=h[n]}var v=this.colors[n],b=this.dygraph_.getOption("strokeWidth",n);r.save(),r.strokeStyle=v,r.lineWidth=b,m({points:g,setName:n,drawingContext:r,color:v,strokeWidth:b,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(n),plotArea:this.area,seriesIndex:f,seriesCount:s.length,singleSeriesName:e,allSeriesPoints:s}),r.restore()}},o._Plotters={linePlotter:function(e){o._linePlotter(e)},fillPlotter:function(e){o._fillPlotter(e)},errorPlotter:function(e){o._errorPlotter(e)}},o._linePlotter=function(e){var t=e.dygraph,i=e.setName,n=e.strokeWidth,r=t.getNumericOption("strokeBorderWidth",i),s=t.getOption("drawPointCallback",i)||a.Circles.DEFAULT,l=t.getOption("strokePattern",i),c=t.getBooleanOption("drawPoints",i),h=t.getNumericOption("pointSize",i);r&&n&&o._drawStyledLine(e,t.getOption("strokeBorderColor",i),n+2*r,l,c,s,h),o._drawStyledLine(e,e.color,n,l,c,s,h)},o._errorPlotter=function(e){var t=e.dygraph,i=e.setName;if(t.getBooleanOption("errorBars")||t.getBooleanOption("customBars")){t.getBooleanOption("fillGraph",i)&&console.warn("Can't use fillGraph option with error bars");var n,r=e.drawingContext,s=e.color,l=t.getNumericOption("fillAlpha",i),c=t.getBooleanOption("stepPlot",i),h=e.points,d=a.createIterator(h,0,h.length,o._getIteratorPredicate(t.getBooleanOption("connectSeparatedPoints",i))),u=NaN,p=NaN,f=[-1,-1],g=a.toRGB_(s),m="rgba("+g.r+","+g.g+","+g.b+","+l+")";r.fillStyle=m,r.beginPath();for(var v=function(e){return null===e||void 0===e||isNaN(e)};d.hasNext;){var b=d.next();!c&&v(b.y)||c&&!isNaN(p)&&v(p)?u=NaN:(n=[b.y_bottom,b.y_top],c&&(p=b.y),isNaN(n[0])&&(n[0]=b.y),isNaN(n[1])&&(n[1]=b.y),n[0]=e.plotArea.h*n[0]+e.plotArea.y,n[1]=e.plotArea.h*n[1]+e.plotArea.y,isNaN(u)||(c?(r.moveTo(u,f[0]),r.lineTo(b.canvasx,f[0]),r.lineTo(b.canvasx,f[1])):(r.moveTo(u,f[0]),r.lineTo(b.canvasx,n[0]),r.lineTo(b.canvasx,n[1])),r.lineTo(u,f[1]),r.closePath()),f=n,u=b.canvasx)}r.fill()}},o._fastCanvasProxy=function(e){var t=[],i=null,n=null,a=0,r=function(i){!function(e){if(!(t.length<=1)){for(var i=t.length-1;i>0;i--){var n=t[i];if(2==n[0]){var a=t[i-1];a[1]==n[1]&&a[2]==n[2]&&t.splice(i,1)}}for(var i=0;i<t.length-1;){var n=t[i];2==n[0]&&2==t[i+1][0]?t.splice(i,1):i++}if(t.length>2&&!e){var r=0;2==t[0][0]&&r++;for(var s=null,o=null,i=r;i<t.length;i++){var n=t[i];if(1==n[0])if(null===s&&null===o)s=i,o=i;else{var l=n[2];l<t[s][2]?s=i:l>t[o][2]&&(o=i)}}var c=t[s],h=t[o];t.splice(r,t.length-r),s<o?(t.push(c),t.push(h)):s>o?(t.push(h),t.push(c)):t.push(c)}}}(i);for(var r=0,s=t.length;r<s;r++){var o=t[r];1==o[0]?e.lineTo(o[1],o[2]):2==o[0]&&e.moveTo(o[1],o[2])}t.length&&(n=t[t.length-1][1]),a+=t.length,t=[]},s=function(e,a,s){var o=Math.round(a);if(null===i||o!=i){var l=i-n>1,c=o-i>1;r(l||c),i=o}t.push([e,a,s])};return{moveTo:function(e,t){s(2,e,t)},lineTo:function(e,t){s(1,e,t)},stroke:function(){r(!0),e.stroke()},fill:function(){r(!0),e.fill()},beginPath:function(){r(!0),e.beginPath()},closePath:function(){r(!0),e.closePath()},_count:function(){return a}}},o._fillPlotter=function(e){if(!e.singleSeriesName&&0===e.seriesIndex){for(var t=e.dygraph,i=t.getLabels().slice(1),n=i.length;n>=0;n--)t.visibility()[n]||i.splice(n,1);if(function(){for(var e=0;e<i.length;e++)if(t.getBooleanOption("fillGraph",i[e]))return!0;return!1}())for(var r,l,c=e.plotArea,h=e.allSeriesPoints,d=h.length,u=t.getBooleanOption("stackedGraph"),p=t.getColors(),f={},g=function(e,t,i,n){if(e.lineTo(t,i),u)for(var a=n.length-1;a>=0;a--){var r=n[a];e.lineTo(r[0],r[1])}},m=d-1;m>=0;m--){var v=e.drawingContext,b=i[m];if(t.getBooleanOption("fillGraph",b)){var w=t.getNumericOption("fillAlpha",b),y=t.getBooleanOption("stepPlot",b),_=p[m],x=t.axisPropertiesForSeries(b),C=1+x.minyval*x.yscale;C<0?C=0:C>1&&(C=1),C=c.h*C+c.y;var S,T=h[m],k=a.createIterator(T,0,T.length,o._getIteratorPredicate(t.getBooleanOption("connectSeparatedPoints",b))),A=NaN,P=[-1,-1],D=a.toRGB_(_),E="rgba("+D.r+","+D.g+","+D.b+","+w+")";v.fillStyle=E,v.beginPath();var M,I=!0;(T.length>2*t.width_||s.default.FORCE_FAST_PROXY)&&(v=o._fastCanvasProxy(v));for(var O,L=[];k.hasNext;)if(O=k.next(),a.isOK(O.y)||y){if(u){if(!I&&M==O.xval)continue;var N;I=!1,M=O.xval,r=f[O.canvasx],N=void 0===r?C:l?r[0]:r,S=[O.canvasy,N],y?-1===P[0]?f[O.canvasx]=[O.canvasy,C]:f[O.canvasx]=[O.canvasy,P[0]]:f[O.canvasx]=O.canvasy}else S=isNaN(O.canvasy)&&y?[c.y+c.h,C]:[O.canvasy,C];isNaN(A)?(v.moveTo(O.canvasx,S[1]),v.lineTo(O.canvasx,S[0])):(y?(v.lineTo(O.canvasx,P[0]),v.lineTo(O.canvasx,S[0])):v.lineTo(O.canvasx,S[0]),u&&(L.push([A,P[1]]),l&&r?L.push([O.canvasx,r[1]]):L.push([O.canvasx,S[1]]))),P=S,A=O.canvasx}else g(v,A,P[1],L),L=[],A=NaN,null===O.y_stacked||isNaN(O.y_stacked)||(f[O.canvasx]=c.h*O.y_stacked+c.y);l=y,S&&O&&(g(v,O.canvasx,S[1],L),L=[]),v.fill()}}}},i.default=o,t.exports=i.default},{"./dygraph":18,"./dygraph-utils":17}],10:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./dygraph-tickers"),s=a(r),o=e("./dygraph-interaction-model"),l=n(o),c=e("./dygraph-canvas"),h=n(c),d=e("./dygraph-utils"),u=a(d),p={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,highlightSeriesBackgroundColor:"rgb(255, 255, 255)",labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:void 0,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelWidth:50,gridLineColor:"rgb(128,128,128)",interactionModel:l.default.defaultModel,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillGradientColor:"white",rangeSelectorPlotFillColor:"#A7B1C4",rangeSelectorBackgroundStrokeColor:"gray",rangeSelectorBackgroundLineWidth:1,rangeSelectorPlotLineWidth:1.5,rangeSelectorForegroundStrokeColor:"black",rangeSelectorForegroundLineWidth:1,rangeSelectorAlpha:.6,showInRangeSelector:null,plotter:[h.default._fillPlotter,h.default._errorPlotter,h.default._linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:u.dateAxisLabelFormatter,valueFormatter:u.dateValueFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:s.dateTicker},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:u.numberValueFormatter,axisLabelFormatter:u.numberAxisLabelFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:s.numericTicks},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:u.numberValueFormatter,axisLabelFormatter:u.numberAxisLabelFormatter,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:s.numericTicks}}};i.default=p,t.exports=i.default},{"./dygraph-canvas":9,"./dygraph-interaction-model":12,"./dygraph-tickers":16,"./dygraph-utils":17}],11:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./dygraph"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=function(e){this.container=e};r.prototype.draw=function(e,t){this.container.innerHTML="",void 0!==this.date_graph&&this.date_graph.destroy(),this.date_graph=new a.default(this.container,e,t)},r.prototype.setSelection=function(e){var t=!1;e.length&&(t=e[0].row),this.date_graph.setSelection(t)},r.prototype.getSelection=function(){var e=[],t=this.date_graph.getSelection();if(t<0)return e;for(var i=this.date_graph.layout_.points,n=0;n<i.length;++n)e.push({row:t,column:n+1});return e},i.default=r,t.exports=i.default},{"./dygraph":18}],12:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./dygraph-utils"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(n),r={maybeTreatMouseOpAsClick:function(e,t,i){i.dragEndX=a.dragGetX_(e,i),i.dragEndY=a.dragGetY_(e,i);var n=Math.abs(i.dragEndX-i.dragStartX),s=Math.abs(i.dragEndY-i.dragStartY);n<2&&s<2&&void 0!==t.lastx_&&-1!=t.lastx_&&r.treatMouseOpAsClick(t,e,i),i.regionWidth=n,i.regionHeight=s},startPan:function(e,t,i){var n,r;i.isPanning=!0;var s=t.xAxisRange();if(t.getOptionForAxis("logscale","x")?(i.initialLeftmostDate=a.log10(s[0]),i.dateRange=a.log10(s[1])-a.log10(s[0])):(i.initialLeftmostDate=s[0],i.dateRange=s[1]-s[0]),i.xUnitsPerPixel=i.dateRange/(t.plotter_.area.w-1),t.getNumericOption("panEdgeFraction")){var o=t.width_*t.getNumericOption("panEdgeFraction"),l=t.xAxisExtremes(),c=t.toDomXCoord(l[0])-o,h=t.toDomXCoord(l[1])+o,d=t.toDataXCoord(c),u=t.toDataXCoord(h);i.boundedDates=[d,u];var p=[],f=t.height_*t.getNumericOption("panEdgeFraction");for(n=0;n<t.axes_.length;n++){var g=(r=t.axes_[n]).extremeRange,m=t.toDomYCoord(g[0],n)+f,v=t.toDomYCoord(g[1],n)-f,b=t.toDataYCoord(m,n),w=t.toDataYCoord(v,n);p[n]=[b,w]}i.boundedValues=p}for(i.is2DPan=!1,i.axes=[],n=0;n<t.axes_.length;n++){r=t.axes_[n];var y={},_=t.yAxisRange(n);t.attributes_.getForAxis("logscale",n)?(y.initialTopValue=a.log10(_[1]),y.dragValueRange=a.log10(_[1])-a.log10(_[0])):(y.initialTopValue=_[1],y.dragValueRange=_[1]-_[0]),y.unitsPerPixel=y.dragValueRange/(t.plotter_.area.h-1),i.axes.push(y),r.valueRange&&(i.is2DPan=!0)}},movePan:function(e,t,i){i.dragEndX=a.dragGetX_(e,i),i.dragEndY=a.dragGetY_(e,i);var n=i.initialLeftmostDate-(i.dragEndX-i.dragStartX)*i.xUnitsPerPixel;i.boundedDates&&(n=Math.max(n,i.boundedDates[0]));var r=n+i.dateRange;if(i.boundedDates&&r>i.boundedDates[1]&&(n-=r-i.boundedDates[1],r=n+i.dateRange),t.getOptionForAxis("logscale","x")?t.dateWindow_=[Math.pow(a.LOG_SCALE,n),Math.pow(a.LOG_SCALE,r)]:t.dateWindow_=[n,r],i.is2DPan)for(var s=i.dragEndY-i.dragStartY,o=0;o<t.axes_.length;o++){var l=t.axes_[o],c=i.axes[o],h=s*c.unitsPerPixel,d=i.boundedValues?i.boundedValues[o]:null,u=c.initialTopValue+h;d&&(u=Math.min(u,d[1]));var p=u-c.dragValueRange;d&&p<d[0]&&(u-=p-d[0],p=u-c.dragValueRange),t.attributes_.getForAxis("logscale",o)?l.valueRange=[Math.pow(a.LOG_SCALE,p),Math.pow(a.LOG_SCALE,u)]:l.valueRange=[p,u]}t.drawGraph_(!1)}};r.endPan=r.maybeTreatMouseOpAsClick,r.startZoom=function(e,t,i){i.isZooming=!0,i.zoomMoved=!1},r.moveZoom=function(e,t,i){i.zoomMoved=!0,i.dragEndX=a.dragGetX_(e,i),i.dragEndY=a.dragGetY_(e,i);var n=Math.abs(i.dragStartX-i.dragEndX),r=Math.abs(i.dragStartY-i.dragEndY);i.dragDirection=n<r/2?a.VERTICAL:a.HORIZONTAL,t.drawZoomRect_(i.dragDirection,i.dragStartX,i.dragEndX,i.dragStartY,i.dragEndY,i.prevDragDirection,i.prevEndX,i.prevEndY),i.prevEndX=i.dragEndX,i.prevEndY=i.dragEndY,i.prevDragDirection=i.dragDirection},r.treatMouseOpAsClick=function(e,t,i){for(var n=e.getFunctionOption("clickCallback"),a=e.getFunctionOption("pointClickCallback"),r=null,s=-1,o=Number.MAX_VALUE,l=0;l<e.selPoints_.length;l++){var c=e.selPoints_[l],h=Math.pow(c.canvasx-i.dragEndX,2)+Math.pow(c.canvasy-i.dragEndY,2);!isNaN(h)&&(-1==s||h<o)&&(o=h,s=l)}var d=e.getNumericOption("highlightCircleSize")+2;if(o<=d*d&&(r=e.selPoints_[s]),r){var u={cancelable:!0,point:r,canvasx:i.dragEndX,canvasy:i.dragEndY};if(e.cascadeEvents_("pointClick",u))return;a&&a.call(e,t,r)}var u={cancelable:!0,xval:e.lastx_,pts:e.selPoints_,canvasx:i.dragEndX,canvasy:i.dragEndY};e.cascadeEvents_("click",u)||n&&n.call(e,t,e.lastx_,e.selPoints_)},r.endZoom=function(e,t,i){t.clearZoomRect_(),i.isZooming=!1,r.maybeTreatMouseOpAsClick(e,t,i);var n=t.getArea();if(i.regionWidth>=10&&i.dragDirection==a.HORIZONTAL){var s=Math.min(i.dragStartX,i.dragEndX),o=Math.max(i.dragStartX,i.dragEndX);s=Math.max(s,n.x),o=Math.min(o,n.x+n.w),s<o&&t.doZoomX_(s,o),i.cancelNextDblclick=!0}else if(i.regionHeight>=10&&i.dragDirection==a.VERTICAL){var l=Math.min(i.dragStartY,i.dragEndY),c=Math.max(i.dragStartY,i.dragEndY);l=Math.max(l,n.y),c=Math.min(c,n.y+n.h),l<c&&t.doZoomY_(l,c),i.cancelNextDblclick=!0}i.dragStartX=null,i.dragStartY=null},r.startTouch=function(e,t,i){e.preventDefault(),e.touches.length>1&&(i.startTimeForDoubleTapMs=null);for(var n=[],a=0;a<e.touches.length;a++){var r=e.touches[a];n.push({pageX:r.pageX,pageY:r.pageY,dataX:t.toDataXCoord(r.pageX),dataY:t.toDataYCoord(r.pageY)})}if(i.initialTouches=n,1==n.length)i.initialPinchCenter=n[0],i.touchDirections={x:!0,y:!0};else if(n.length>=2){i.initialPinchCenter={pageX:.5*(n[0].pageX+n[1].pageX),pageY:.5*(n[0].pageY+n[1].pageY),dataX:.5*(n[0].dataX+n[1].dataX),dataY:.5*(n[0].dataY+n[1].dataY)};var s=180/Math.PI*Math.atan2(i.initialPinchCenter.pageY-n[0].pageY,n[0].pageX-i.initialPinchCenter.pageX);(s=Math.abs(s))>90&&(s=90-s),i.touchDirections={x:s<67.5,y:s>22.5}}i.initialRange={x:t.xAxisRange(),y:t.yAxisRange()}},r.moveTouch=function(e,t,i){i.startTimeForDoubleTapMs=null;var n,a=[];for(n=0;n<e.touches.length;n++){var r=e.touches[n];a.push({pageX:r.pageX,pageY:r.pageY})}var s,o,l,c=i.initialTouches,h=i.initialPinchCenter,d={pageX:(s=1==a.length?a[0]:{pageX:.5*(a[0].pageX+a[1].pageX),pageY:.5*(a[0].pageY+a[1].pageY)}).pageX-h.pageX,pageY:s.pageY-h.pageY},u=i.initialRange.x[1]-i.initialRange.x[0],p=i.initialRange.y[0]-i.initialRange.y[1];if(d.dataX=d.pageX/t.plotter_.area.w*u,d.dataY=d.pageY/t.plotter_.area.h*p,1==a.length)o=1,l=1;else if(a.length>=2){var f=c[1].pageX-h.pageX;o=(a[1].pageX-s.pageX)/f;var g=c[1].pageY-h.pageY;l=(a[1].pageY-s.pageY)/g}o=Math.min(8,Math.max(.125,o)),l=Math.min(8,Math.max(.125,l));var m=!1;if(i.touchDirections.x&&(t.dateWindow_=[h.dataX-d.dataX+(i.initialRange.x[0]-h.dataX)/o,h.dataX-d.dataX+(i.initialRange.x[1]-h.dataX)/o],m=!0),i.touchDirections.y)for(n=0;n<1;n++){var v=t.axes_[n],b=t.attributes_.getForAxis("logscale",n);b||(v.valueRange=[h.dataY-d.dataY+(i.initialRange.y[0]-h.dataY)/l,h.dataY-d.dataY+(i.initialRange.y[1]-h.dataY)/l],m=!0)}if(t.drawGraph_(!1),m&&a.length>1&&t.getFunctionOption("zoomCallback")){var w=t.xAxisRange();t.getFunctionOption("zoomCallback").call(t,w[0],w[1],t.yAxisRanges())}},r.endTouch=function(e,t,i){if(0!==e.touches.length)r.startTouch(e,t,i);else if(1==e.changedTouches.length){var n=(new Date).getTime(),a=e.changedTouches[0];i.startTimeForDoubleTapMs&&n-i.startTimeForDoubleTapMs<500&&i.doubleTapX&&Math.abs(i.doubleTapX-a.screenX)<50&&i.doubleTapY&&Math.abs(i.doubleTapY-a.screenY)<50?t.resetZoom():(i.startTimeForDoubleTapMs=n,i.doubleTapX=a.screenX,i.doubleTapY=a.screenY)}};var s=function(e,t,i){return e<t?t-e:e>i?e-i:0},o=function(e,t){var i=a.findPos(t.canvas_),n={left:i.x,right:i.x+t.canvas_.offsetWidth,top:i.y,bottom:i.y+t.canvas_.offsetHeight},r={x:a.pageX(e),y:a.pageY(e)},o=s(r.x,n.left,n.right),l=s(r.y,n.top,n.bottom);return Math.max(o,l)};r.defaultModel={mousedown:function(e,t,i){if(!e.button||2!=e.button){i.initializeMouseDown(e,t,i),e.altKey||e.shiftKey?r.startPan(e,t,i):r.startZoom(e,t,i);var n=function(e){i.isZooming?o(e,t)<100?r.moveZoom(e,t,i):null!==i.dragEndX&&(i.dragEndX=null,i.dragEndY=null,t.clearZoomRect_()):i.isPanning&&r.movePan(e,t,i)};t.addAndTrackEvent(document,"mousemove",n),t.addAndTrackEvent(document,"mouseup",function e(s){i.isZooming?null!==i.dragEndX?r.endZoom(s,t,i):r.maybeTreatMouseOpAsClick(s,t,i):i.isPanning&&r.endPan(s,t,i),a.removeEvent(document,"mousemove",n),a.removeEvent(document,"mouseup",e),i.destroy()})}},willDestroyContextMyself:!0,touchstart:function(e,t,i){r.startTouch(e,t,i)},touchmove:function(e,t,i){r.moveTouch(e,t,i)},touchend:function(e,t,i){r.endTouch(e,t,i)},dblclick:function(e,t,i){if(i.cancelNextDblclick)i.cancelNextDblclick=!1;else{var n={canvasx:i.dragEndX,canvasy:i.dragEndY,cancelable:!0};t.cascadeEvents_("dblclick",n)||e.altKey||e.shiftKey||t.resetZoom()}}},r.nonInteractiveModel_={mousedown:function(e,t,i){i.initializeMouseDown(e,t,i)},mouseup:r.maybeTreatMouseOpAsClick},r.dragIsPanInteractionModel={mousedown:function(e,t,i){i.initializeMouseDown(e,t,i),r.startPan(e,t,i)},mousemove:function(e,t,i){i.isPanning&&r.movePan(e,t,i)},mouseup:function(e,t,i){i.isPanning&&r.endPan(e,t,i)}},i.default=r,t.exports=i.default},{"./dygraph-utils":17}],13:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./dygraph-utils"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(n),r=function(e){this.dygraph_=e,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};r.prototype.addDataset=function(e,t){this.points.push(t),this.setNames.push(e)},r.prototype.getPlotArea=function(){return this.area_},r.prototype.computePlotArea=function(){var e={x:0,y:0};e.w=this.dygraph_.width_-e.x-this.dygraph_.getOption("rightGap"),e.h=this.dygraph_.height_;var t={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(t){var i={x:e.x,y:e.y,w:t,h:e.h};return e.x+=t,e.w-=t,i},reserveSpaceRight:function(t){var i={x:e.x+e.w-t,y:e.y,w:t,h:e.h};return e.w-=t,i},reserveSpaceTop:function(t){var i={x:e.x,y:e.y,w:e.w,h:t};return e.y+=t,e.h-=t,i},reserveSpaceBottom:function(t){var i={x:e.x,y:e.y+e.h-t,w:e.w,h:t};return e.h-=t,i},chartRect:function(){return{x:e.x,y:e.y,w:e.w,h:e.h}}};this.dygraph_.cascadeEvents_("layout",t),this.area_=e},r.prototype.setAnnotations=function(e){this.annotations=[];for(var t=this.dygraph_.getOption("xValueParser")||function(e){return e},i=0;i<e.length;i++){var n={};if(!e[i].xval&&void 0===e[i].x)return void console.error("Annotations must have an 'x' property");if(e[i].icon&&(!e[i].hasOwnProperty("width")||!e[i].hasOwnProperty("height")))return void console.error("Must set width and height when setting annotation.icon property");a.update(n,e[i]),n.xval||(n.xval=t(n.x)),this.annotations.push(n)}},r.prototype.setXTicks=function(e){this.xTicks_=e},r.prototype.setYAxes=function(e){this.yAxes_=e},r.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()},r.prototype._evaluateLimits=function(){var e=this.dygraph_.xAxisRange();this._xAxis.minval=e[0],this._xAxis.maxval=e[1];var t=e[1]-e[0];this._xAxis.scale=0!==t?1/t:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=a.log10(this._xAxis.maxval)-a.log10(this._xAxis.minval),this._xAxis.xlogscale=0!==this._xAxis.xlogrange?1/this._xAxis.xlogrange:1);for(var i=0;i<this.yAxes_.length;i++){var n=this.yAxes_[i];n.minyval=n.computedValueRange[0],n.maxyval=n.computedValueRange[1],n.yrange=n.maxyval-n.minyval,n.yscale=0!==n.yrange?1/n.yrange:1,this.dygraph_.getOption("logscale")&&(n.ylogrange=a.log10(n.maxyval)-a.log10(n.minyval),n.ylogscale=0!==n.ylogrange?1/n.ylogrange:1,isFinite(n.ylogrange)&&!isNaN(n.ylogrange)||console.error("axis "+i+" of graph at "+n.g+" can't be displayed in log scale for range ["+n.minyval+" - "+n.maxyval+"]"))}},r.calcXNormal_=function(e,t,i){return i?(a.log10(e)-a.log10(t.minval))*t.xlogscale:(e-t.minval)*t.scale},r.calcYNormal_=function(e,t,i){if(i){var n=1-(a.log10(t)-a.log10(e.minyval))*e.ylogscale;return isFinite(n)?n:NaN}return 1-(t-e.minyval)*e.yscale},r.prototype._evaluateLineCharts=function(){for(var e=this.dygraph_.getOption("stackedGraph"),t=this.dygraph_.getOptionForAxis("logscale","x"),i=0;i<this.points.length;i++){for(var n=this.points[i],a=this.setNames[i],s=this.dygraph_.getOption("connectSeparatedPoints",a),o=this.dygraph_.axisPropertiesForSeries(a),l=this.dygraph_.attributes_.getForSeries("logscale",a),c=0;c<n.length;c++){var h=n[c];h.x=r.calcXNormal_(h.xval,this._xAxis,t);var d=h.yval;e&&(h.y_stacked=r.calcYNormal_(o,h.yval_stacked,l),null===d||isNaN(d)||(d=h.yval_stacked)),null===d&&(d=NaN,s||(h.yval=NaN)),h.y=r.calcYNormal_(o,d,l)}this.dygraph_.dataHandler_.onLineEvaluated(n,o,l)}},r.prototype._evaluateLineTicks=function(){var e,t,i,n,a,r;for(this.xticks=[],e=0;e<this.xTicks_.length;e++)t=this.xTicks_[e],i=t.label,a=(r=!("label_v"in t))?t.v:t.label_v,(n=this.dygraph_.toPercentXCoord(a))>=0&&n<1&&this.xticks.push({pos:n,label:i,has_tick:r});for(this.yticks=[],e=0;e<this.yAxes_.length;e++)for(var s=this.yAxes_[e],o=0;o<s.ticks.length;o++)t=s.ticks[o],i=t.label,a=(r=!("label_v"in t))?t.v:t.label_v,(n=this.dygraph_.toPercentYCoord(a,e))>0&&n<=1&&this.yticks.push({axis:e,pos:n,label:i,has_tick:r})},r.prototype._evaluateAnnotations=function(){var e,t={};for(e=0;e<this.annotations.length;e++){var i=this.annotations[e];t[i.xval+","+i.series]=i}if(this.annotated_points=[],this.annotations&&this.annotations.length)for(var n=0;n<this.points.length;n++){var a=this.points[n];for(e=0;e<a.length;e++){var r=a[e],s=r.xval+","+r.name;s in t&&(r.annotation=t[s],this.annotated_points.push(r))}}},r.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]},i.default=r,t.exports=i.default},{"./dygraph-utils":17}],14:[function(e,t,i){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=null,t.exports=i.default}).call(this,e("_process"))},{_process:1}],15:[function(e,t,i){(function(n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./dygraph-utils"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(r),o=e("./dygraph-default-attrs"),l=a(o),c=e("./dygraph-options-reference"),h=(a(c),function(e){this.dygraph_=e,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()});h.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1},h.axisToIndex_=function(e){if("string"==typeof e){if(h.AXIS_STRING_MAPPINGS_.hasOwnProperty(e))return h.AXIS_STRING_MAPPINGS_[e];throw"Unknown axis : "+e}if("number"==typeof e){if(0===e||1===e)return e;throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(e)throw"Unknown axis : "+e;return 0},h.prototype.reparseSeries=function(){var e=this.get("labels");if(e){this.labels_=e.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};for(var t=this.user_.series||{},i=0;i<this.labels_.length;i++){var n=this.labels_[i],a=t[n]||{},r=h.axisToIndex_(a.axis);this.series_[n]={idx:i,yAxis:r,options:a},this.yAxes_[r]?this.yAxes_[r].series.push(n):this.yAxes_[r]={series:[n],options:{}}}var o=this.user_.axes||{};s.update(this.yAxes_[0].options,o.y||{}),this.yAxes_.length>1&&s.update(this.yAxes_[1].options,o.y2||{}),s.update(this.xAxis_.options,o.x||{})}},h.prototype.get=function(e){var t=this.getGlobalUser_(e);return null!==t?t:this.getGlobalDefault_(e)},h.prototype.getGlobalUser_=function(e){return this.user_.hasOwnProperty(e)?this.user_[e]:null},h.prototype.getGlobalDefault_=function(e){return this.global_.hasOwnProperty(e)?this.global_[e]:l.default.hasOwnProperty(e)?l.default[e]:null},h.prototype.getForAxis=function(e,t){var i,n;if("number"==typeof t)n=0===(i=t)?"y":"y2";else{if("y1"==t&&(t="y"),"y"==t)i=0;else if("y2"==t)i=1;else{if("x"!=t)throw"Unknown axis "+t;i=-1}n=t}var a=-1==i?this.xAxis_:this.yAxes_[i];if(a){var r=a.options;if(r.hasOwnProperty(e))return r[e]}if("x"!==t||"logscale"!==e){var s=this.getGlobalUser_(e);if(null!==s)return s}var o=l.default.axes[n];return o.hasOwnProperty(e)?o[e]:this.getGlobalDefault_(e)},h.prototype.getForSeries=function(e,t){if(t===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(e))return this.highlightSeries_[e];if(!this.series_.hasOwnProperty(t))throw"Unknown series: "+t;var i=this.series_[t],n=i.options;return n.hasOwnProperty(e)?n[e]:this.getForAxis(e,i.yAxis)},h.prototype.numAxes=function(){return this.yAxes_.length},h.prototype.axisForSeries=function(e){return this.series_[e].yAxis},h.prototype.axisOptions=function(e){return this.yAxes_[e].options},h.prototype.seriesForAxis=function(e){return this.yAxes_[e].series},h.prototype.seriesNames=function(){return this.labels_},i.default=h,t.exports=i.default}).call(this,e("_process"))},{"./dygraph-default-attrs":10,"./dygraph-options-reference":14,"./dygraph-utils":17,_process:1}],16:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./dygraph-utils"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(n);i.numericLinearTicks=function(e,t,i,n,a,s){return r(e,t,i,function(e){return"logscale"!==e&&n(e)},a,s)};var r=function(e,t,i,n,r,s){var o,l,h,d,u=n("pixelsPerLabel"),p=[];if(s)for(o=0;o<s.length;o++)p.push({v:s[o]});else{if(n("logscale")){d=Math.floor(i/u);var f=a.binarySearch(e,c,1),g=a.binarySearch(t,c,-1);-1==f&&(f=0),-1==g&&(g=c.length-1);var m=null;if(g-f>=d/4){for(var v=g;v>=f;v--){var b=c[v],w=Math.log(b/e)/Math.log(t/e)*i,y={v:b};null===m?m={tickValue:b,pixel_coord:w}:Math.abs(w-m.pixel_coord)>=u?m={tickValue:b,pixel_coord:w}:y.label="",p.push(y)}p.reverse()}}if(0===p.length){var _,x,C=n("labelsKMG2");C?(_=[1,2,4,8,16,32,64,128,256],x=16):(_=[1,2,5,10,20,50,100],x=10);var S,T,k,A=Math.ceil(i/u),P=Math.abs(t-e)/A,D=Math.floor(Math.log(P)/Math.log(x)),E=Math.pow(x,D);for(l=0;l<_.length&&(S=E*_[l],T=Math.floor(e/S)*S,k=Math.ceil(t/S)*S,d=Math.abs(k-T)/S,!(i/d>u));l++);for(T>k&&(S*=-1),o=0;o<=d;o++)h=T+o*S,p.push({v:h})}}var M=n("axisLabelFormatter");for(o=0;o<p.length;o++)void 0===p[o].label&&(p[o].label=M.call(r,p[o].v,0,n,r));return p};i.numericTicks=r,i.dateTicker=function(e,t,i,n,a,r){var s=h(e,t,i,n);return s>=0?u(e,t,s,n,a):[]};var s={MILLISECONDLY:0,TWO_MILLISECONDLY:1,FIVE_MILLISECONDLY:2,TEN_MILLISECONDLY:3,FIFTY_MILLISECONDLY:4,HUNDRED_MILLISECONDLY:5,FIVE_HUNDRED_MILLISECONDLY:6,SECONDLY:7,TWO_SECONDLY:8,FIVE_SECONDLY:9,TEN_SECONDLY:10,THIRTY_SECONDLY:11,MINUTELY:12,TWO_MINUTELY:13,FIVE_MINUTELY:14,TEN_MINUTELY:15,THIRTY_MINUTELY:16,HOURLY:17,TWO_HOURLY:18,SIX_HOURLY:19,DAILY:20,TWO_DAILY:21,WEEKLY:22,MONTHLY:23,QUARTERLY:24,BIANNUAL:25,ANNUAL:26,DECADAL:27,CENTENNIAL:28,NUM_GRANULARITIES:29};i.Granularity=s;var o={DATEFIELD_Y:0,DATEFIELD_M:1,DATEFIELD_D:2,DATEFIELD_HH:3,DATEFIELD_MM:4,DATEFIELD_SS:5,DATEFIELD_MS:6,NUM_DATEFIELDS:7},l=[];l[s.MILLISECONDLY]={datefield:o.DATEFIELD_MS,step:1,spacing:1},l[s.TWO_MILLISECONDLY]={datefield:o.DATEFIELD_MS,step:2,spacing:2},l[s.FIVE_MILLISECONDLY]={datefield:o.DATEFIELD_MS,step:5,spacing:5},l[s.TEN_MILLISECONDLY]={datefield:o.DATEFIELD_MS,step:10,spacing:10},l[s.FIFTY_MILLISECONDLY]={datefield:o.DATEFIELD_MS,step:50,spacing:50},l[s.HUNDRED_MILLISECONDLY]={datefield:o.DATEFIELD_MS,step:100,spacing:100},l[s.FIVE_HUNDRED_MILLISECONDLY]={datefield:o.DATEFIELD_MS,step:500,spacing:500},l[s.SECONDLY]={datefield:o.DATEFIELD_SS,step:1,spacing:1e3},l[s.TWO_SECONDLY]={datefield:o.DATEFIELD_SS,step:2,spacing:2e3},l[s.FIVE_SECONDLY]={datefield:o.DATEFIELD_SS,step:5,spacing:5e3},l[s.TEN_SECONDLY]={datefield:o.DATEFIELD_SS,step:10,spacing:1e4},l[s.THIRTY_SECONDLY]={datefield:o.DATEFIELD_SS,step:30,spacing:3e4},l[s.MINUTELY]={datefield:o.DATEFIELD_MM,step:1,spacing:6e4},l[s.TWO_MINUTELY]={datefield:o.DATEFIELD_MM,step:2,spacing:12e4},l[s.FIVE_MINUTELY]={datefield:o.DATEFIELD_MM,step:5,spacing:3e5},l[s.TEN_MINUTELY]={datefield:o.DATEFIELD_MM,step:10,spacing:6e5},l[s.THIRTY_MINUTELY]={datefield:o.DATEFIELD_MM,step:30,spacing:18e5},l[s.HOURLY]={datefield:o.DATEFIELD_HH,step:1,spacing:36e5},l[s.TWO_HOURLY]={datefield:o.DATEFIELD_HH,step:2,spacing:72e5},l[s.SIX_HOURLY]={datefield:o.DATEFIELD_HH,step:6,spacing:216e5},l[s.DAILY]={datefield:o.DATEFIELD_D,step:1,spacing:864e5},l[s.TWO_DAILY]={datefield:o.DATEFIELD_D,step:2,spacing:1728e5},l[s.WEEKLY]={datefield:o.DATEFIELD_D,step:7,spacing:6048e5},l[s.MONTHLY]={datefield:o.DATEFIELD_M,step:1,spacing:2629817280},l[s.QUARTERLY]={datefield:o.DATEFIELD_M,step:3,spacing:216e5*365.2524},l[s.BIANNUAL]={datefield:o.DATEFIELD_M,step:6,spacing:432e5*365.2524},l[s.ANNUAL]={datefield:o.DATEFIELD_Y,step:1,spacing:864e5*365.2524},l[s.DECADAL]={datefield:o.DATEFIELD_Y,step:10,spacing:315578073600},l[s.CENTENNIAL]={datefield:o.DATEFIELD_Y,step:100,spacing:3155780736e3};var c=function(){for(var e=[],t=-39;t<=39;t++)for(var i=Math.pow(10,t),n=1;n<=9;n++){var a=i*n;e.push(a)}return e}(),h=function(e,t,i,n){for(var a=n("pixelsPerLabel"),r=0;r<s.NUM_GRANULARITIES;r++)if(i/d(e,t,r)>=a)return r;return-1},d=function(e,t,i){var n=l[i].spacing;return Math.round(1*(t-e)/n)},u=function(e,t,i,n,r){var c=n("axisLabelFormatter"),h=n("labelsUTC"),d=h?a.DateAccessorsUTC:a.DateAccessorsLocal,u=l[i].datefield,p=l[i].step,f=l[i].spacing,g=new Date(e),m=[];m[o.DATEFIELD_Y]=d.getFullYear(g),m[o.DATEFIELD_M]=d.getMonth(g),m[o.DATEFIELD_D]=d.getDate(g),m[o.DATEFIELD_HH]=d.getHours(g),m[o.DATEFIELD_MM]=d.getMinutes(g),m[o.DATEFIELD_SS]=d.getSeconds(g),m[o.DATEFIELD_MS]=d.getMilliseconds(g);var v=m[u]%p;i==s.WEEKLY&&(v=d.getDay(g)),m[u]-=v;for(var b=u+1;b<o.NUM_DATEFIELDS;b++)m[b]=b===o.DATEFIELD_D?1:0;var w=[],y=d.makeDate.apply(null,m),_=y.getTime();if(i<=s.HOURLY)for(_<e&&(_+=f,y=new Date(_));_<=t;)w.push({v:_,label:c.call(r,y,i,n,r)}),_+=f,y=new Date(_);else for(_<e&&(m[u]+=p,y=d.makeDate.apply(null,m),_=y.getTime());_<=t;)(i>=s.DAILY||d.getHours(y)%p==0)&&w.push({v:_,label:c.call(r,y,i,n,r)}),m[u]+=p,y=d.makeDate.apply(null,m),_=y.getTime();return w};i.getDateAxis=u},{"./dygraph-utils":17}],17:[function(e,t,i){"use strict";function n(e){return!e.pageX||e.pageX<0?0:e.pageX}function a(e){return!e.pageY||e.pageY<0?0:e.pageY}function r(e,t){var i=Math.min(Math.max(1,t||2),21);return Math.abs(e)<.001&&0!==e?e.toExponential(i-1):e.toPrecision(i)}function s(e){return e<10?"0"+e:""+e}function o(e,t,i,n){var a=s(e)+":"+s(t);if(i&&(a+=":"+s(i),n)){var r=""+n;a+="."+("000"+r).substring(r.length)}return a}function l(e,t){var i=t?_:y,n=new Date(e),a=i.getFullYear(n),r=i.getMonth(n),l=i.getDate(n),c=i.getHours(n),h=i.getMinutes(n),d=i.getSeconds(n),u=i.getMilliseconds(n),p=""+a,f=s(r+1),g=s(l),m=3600*c+60*h+d+.001*u,v=p+"/"+f+"/"+g;return m&&(v+=" "+o(c,h,d,u)),v}function c(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}function h(e){return new Date(e).getTime()}function d(e){var t=typeof e;return("object"==t||"function"==t&&"function"==typeof e.item)&&null!==e&&"number"==typeof e.length&&3!==e.nodeType}function u(e,t,i,n){t=t||0,i=i||e.length,this.hasNext=!0,this.peek=null,this.start_=t,this.array_=e,this.predicate_=n,this.end_=Math.min(e.length,t+i),this.nextIdx_=t-1,this.next()}function p(e,t){return t<0?1/Math.pow(e,-t):Math.pow(e,t)}function f(e){var t=T.exec(e);if(!t)return null;var i=parseInt(t[1],10),n=parseInt(t[2],10),a=parseInt(t[3],10);return t[4]?{r:i,g:n,b:a,a:parseFloat(t[4])}:{r:i,g:n,b:a}}function g(e,t){var i=t("sigFigs");if(null!==i)return r(e,i);var n,a=t("digitsAfterDecimal"),s=t("maxNumberWidth"),o=t("labelsKMB"),l=t("labelsKMG2");if(n=0!==e&&(Math.abs(e)>=Math.pow(10,s)||Math.abs(e)<Math.pow(10,-a))?e.toExponential(a):""+c(e,a),o||l){var h,d=[],u=[];o&&(h=1e3,d=k),l&&(o&&console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),h=1024,d=A,u=P);for(var f=Math.abs(e),g=p(h,d.length),m=d.length-1;m>=0;m--,g/=h)if(f>=g){n=c(e/g,a)+d[m];break}if(l){var v=String(e.toExponential()).split("e-");2===v.length&&v[1]>=3&&v[1]<=24&&(n=v[1]%3>0?c(v[0]/p(10,v[1]%3),a):Number(v[0]).toFixed(2),n+=u[Math.floor(v[1]/3)-1])}}return n}Object.defineProperty(i,"__esModule",{value:!0}),i.removeEvent=function(e,t,i){e.removeEventListener(t,i,!1)},i.cancelEvent=function(e){return(e=e||window.event).stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1},i.hsvToRGB=function(e,t,i){var n,a,r;if(0===t)n=i,a=i,r=i;else{var s=Math.floor(6*e),o=6*e-s,l=i*(1-t),c=i*(1-t*o),h=i*(1-t*(1-o));switch(s){case 1:n=c,a=i,r=l;break;case 2:n=l,a=i,r=h;break;case 3:n=l,a=c,r=i;break;case 4:n=h,a=l,r=i;break;case 5:n=i,a=l,r=c;break;case 6:case 0:n=i,a=h,r=l}}return n=Math.floor(255*n+.5),a=Math.floor(255*a+.5),r=Math.floor(255*r+.5),"rgb("+n+","+a+","+r+")"},i.findPos=function(e){var t=e.getBoundingClientRect(),i=window,n=document.documentElement;return{x:t.left+(i.pageXOffset||n.scrollLeft),y:t.top+(i.pageYOffset||n.scrollTop)}},i.pageX=n,i.pageY=a,i.dragGetX_=function(e,t){return n(e)-t.px},i.dragGetY_=function(e,t){return a(e)-t.py},i.isOK=function(e){return!!e&&!isNaN(e)},i.isValidPoint=function(e,t){return!!e&&null!==e.yval&&null!==e.x&&void 0!==e.x&&null!==e.y&&void 0!==e.y&&!(isNaN(e.x)||!t&&isNaN(e.y))},i.floatFormat=r,i.zeropad=s,i.hmsString_=o,i.dateString_=l,i.round_=c,i.binarySearch=function(e,t,i,n,a){for(var r=!0;r;){var s=e,o=t,l=i,c=n,h=a;if(r=!1,null!==c&&void 0!==c&&null!==h&&void 0!==h||(c=0,h=o.length-1),c>h)return-1;null!==l&&void 0!==l||(l=0);var d,u=function(e){return e>=0&&e<o.length},p=parseInt((c+h)/2,10),f=o[p];if(f==s)return p;if(f>s){if(l>0&&u(d=p-1)&&o[d]<s)return p;e=s,t=o,i=l,n=c,a=p-1,r=!0,u=p=f=d=void 0}else{if(!(f<s))return-1;if(l<0&&u(d=p+1)&&o[d]>s)return p;e=s,t=o,i=l,n=p+1,a=h,r=!0,u=p=f=d=void 0}}},i.dateParser=function(e){var t,i;if((-1==e.search("-")||-1!=e.search("T")||-1!=e.search("Z"))&&(i=h(e))&&!isNaN(i))return i;if(-1!=e.search("-")){for(t=e.replace("-","/","g");-1!=t.search("-");)t=t.replace("-","/");i=h(t)}else 8==e.length?(t=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2),i=h(t)):i=h(e);return i&&!isNaN(i)||console.error("Couldn't parse "+e+" as a date"),i},i.dateStrToMillis=h,i.update=function(e,t){if(void 0!==t&&null!==t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},i.updateDeep=function e(t,i){if(void 0!==i&&null!==i)for(var n in i)i.hasOwnProperty(n)&&(null===i[n]?t[n]=null:d(i[n])?t[n]=i[n].slice():function(e){return"object"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}(i[n])||"object"!=typeof i[n]?t[n]=i[n]:("object"==typeof t[n]&&null!==t[n]||(t[n]={}),e(t[n],i[n])));return t},i.isArrayLike=d,i.isDateLike=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.getTime},i.clone=function e(t){for(var i=[],n=0;n<t.length;n++)d(t[n])?i.push(e(t[n])):i.push(t[n]);return i},i.createCanvas=function(){return document.createElement("canvas")},i.getContextPixelRatio=function(e){try{var t=window.devicePixelRatio,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return void 0!==t?t/i:1}catch(e){return 1}},i.Iterator=u,i.createIterator=function(e,t,i,n){return new u(e,t,i,n)},i.repeatAndCleanup=function(e,t,i,n){var a,r=0,s=(new Date).getTime();if(e(r),1!=t){var o=t-1;!function l(){r>=t||x.call(window,function(){var t=(new Date).getTime(),c=t-s;a=r;var h=(r=Math.floor(c/i))-a;r+h>o||r>=o?(e(o),n()):(0!==h&&e(r),l())})}()}else n()},i.isPixelChangingOptionList=function(e,t){var i={};if(e)for(var n=1;n<e.length;n++)i[e[n]]=!0;var a=function(e){for(var t in e)if(e.hasOwnProperty(t)&&!C[t])return!0;return!1};for(var r in t)if(t.hasOwnProperty(r))if("highlightSeriesOpts"==r||i[r]&&!t.series){if(a(t[r]))return!0}else if("series"==r||"axes"==r){var s=t[r];for(var o in s)if(s.hasOwnProperty(o)&&a(s[o]))return!0}else if(!C[r])return!0;return!1},i.detectLineDelimiter=function(e){for(var t=0;t<e.length;t++){var i=e.charAt(t);if("\r"===i)return t+1<e.length&&"\n"===e.charAt(t+1)?"\r\n":i;if("\n"===i)return t+1<e.length&&"\r"===e.charAt(t+1)?"\n\r":i}return null},i.isNodeContainedBy=function(e,t){if(null===t||null===e)return!1;for(var i=e;i&&i!==t;)i=i.parentNode;return i===t},i.pow=p,i.toRGB_=function(e){var t=f(e);if(t)return t;var i=document.createElement("div");i.style.backgroundColor=e,i.style.visibility="hidden",document.body.appendChild(i);var n=window.getComputedStyle(i,null).backgroundColor;return document.body.removeChild(i),f(n)},i.isCanvasSupported=function(e){try{(e||document.createElement("canvas")).getContext("2d")}catch(e){return!1}return!0},i.parseFloat_=function(e,t,i){var n=parseFloat(e);if(!isNaN(n))return n;if(/^ *$/.test(e))return null;if(/^ *nan *$/i.test(e))return NaN;var a="Unable to parse '"+e+"' as a number";return void 0!==i&&void 0!==t&&(a+=" on line "+(1+(t||0))+" ('"+i+"') of CSV."),console.error(a),null},i.numberValueFormatter=g,i.numberAxisLabelFormatter=function(e,t,i){return g.call(this,e,i)},i.dateAxisLabelFormatter=function(e,t,i){var n=i("labelsUTC")?_:y,a=n.getFullYear(e),r=n.getMonth(e),l=n.getDate(e),c=n.getHours(e),h=n.getMinutes(e),d=n.getSeconds(e),u=n.getMilliseconds(e);if(t>=v.Granularity.DECADAL)return""+a;if(t>=v.Granularity.MONTHLY)return D[r]+"&#160;"+a;if(0===3600*c+60*h+d+.001*u||t>=v.Granularity.DAILY)return s(l)+"&#160;"+D[r];if(t<v.Granularity.SECONDLY){var p=""+u;return s(d)+"."+("000"+p).substring(p.length)}return t>v.Granularity.MINUTELY?o(c,h,d,0):o(c,h,d,u)},i.dateValueFormatter=function(e,t){return l(e,t("labelsUTC"))};var m=e("./dygraph-tickers"),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(m);i.LOG_SCALE=10;var b=Math.log(10);i.LN_TEN=b;var w=function(e){return Math.log(e)/b};i.log10=w,i.logRangeFraction=function(e,t,i){var n=w(e),a=w(t),r=n+i*(a-n);return Math.pow(10,r)},i.DOTTED_LINE=[2,2],i.DASHED_LINE=[7,3],i.DOT_DASH_LINE=[7,2,2,2],i.HORIZONTAL=1,i.VERTICAL=2,i.getContext=function(e){return e.getContext("2d")},i.addEvent=function(e,t,i){e.addEventListener(t,i,!1)};var y={getFullYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDate:function(e){return e.getDate()},getHours:function(e){return e.getHours()},getMinutes:function(e){return e.getMinutes()},getSeconds:function(e){return e.getSeconds()},getMilliseconds:function(e){return e.getMilliseconds()},getDay:function(e){return e.getDay()},makeDate:function(e,t,i,n,a,r,s){return new Date(e,t,i,n,a,r,s)}};i.DateAccessorsLocal=y;var _={getFullYear:function(e){return e.getUTCFullYear()},getMonth:function(e){return e.getUTCMonth()},getDate:function(e){return e.getUTCDate()},getHours:function(e){return e.getUTCHours()},getMinutes:function(e){return e.getUTCMinutes()},getSeconds:function(e){return e.getUTCSeconds()},getMilliseconds:function(e){return e.getUTCMilliseconds()},getDay:function(e){return e.getUTCDay()},makeDate:function(e,t,i,n,a,r,s){return new Date(Date.UTC(e,t,i,n,a,r,s))}};i.DateAccessorsUTC=_,u.prototype.next=function(){if(!this.hasNext)return null;for(var e=this.peek,t=this.nextIdx_+1,i=!1;t<this.end_;){if(!this.predicate_||this.predicate_(this.array_,t)){this.peek=this.array_[t],i=!0;break}t++}return this.nextIdx_=t,i||(this.hasNext=!1,this.peek=null),e};var x=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};i.requestAnimFrame=x;var C={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,labelsDiv:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotFillGradientColor:!0,rangeSelectorPlotStrokeColor:!0,rangeSelectorBackgroundStrokeColor:!0,rangeSelectorBackgroundLineWidth:!0,rangeSelectorPlotLineWidth:!0,rangeSelectorForegroundStrokeColor:!0,rangeSelectorForegroundLineWidth:!0,rangeSelectorAlpha:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0},S={DEFAULT:function(e,t,i,n,a,r,s){i.beginPath(),i.fillStyle=r,i.arc(n,a,s,0,2*Math.PI,!1),i.fill()}};i.Circles=S;var T=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/,k=["K","M","B","T","Q"],A=["k","M","G","T","P","E","Z","Y"],P=["m","u","n","p","f","a","z","y"],D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},{"./dygraph-tickers":16}],18:[function(e,t,i){(function(n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=e("./dygraph-layout"),l=r(o),c=e("./dygraph-canvas"),h=r(c),d=e("./dygraph-options"),u=r(d),p=e("./dygraph-interaction-model"),f=r(p),g=e("./dygraph-tickers"),m=a(g),v=e("./dygraph-utils"),b=a(v),w=e("./dygraph-default-attrs"),y=r(w),_=e("./dygraph-options-reference"),x=(r(_),e("./iframe-tarp")),C=r(x),S=e("./datahandler/default"),T=r(S),k=e("./datahandler/bars-error"),A=r(k),P=e("./datahandler/bars-custom"),D=r(P),E=e("./datahandler/default-fractions"),M=r(E),I=e("./datahandler/bars-fractions"),O=r(I),L=e("./datahandler/bars"),N=r(L),R=e("./plugins/annotations"),$=r(R),B=e("./plugins/axes"),V=r(B),F=e("./plugins/chart-labels"),H=r(F),j=e("./plugins/grid"),z=r(j),U=e("./plugins/legend"),W=r(U),G=e("./plugins/range-selector"),Y=r(G),q=e("./dygraph-gviz"),Q=r(q),J=function(e,t,i){this.__init__(e,t,i)};J.NAME="Dygraph",J.VERSION="2.1.0",J.DEFAULT_ROLL_PERIOD=1,J.DEFAULT_WIDTH=480,J.DEFAULT_HEIGHT=320,J.ANIMATION_STEPS=12,J.ANIMATION_DURATION=200,J.Plotters=h.default._Plotters,J.addedAnnotationCSS=!1,J.prototype.__init__=function(e,t,i){if(this.is_initial_draw_=!0,this.readyFns_=[],null!==i&&void 0!==i||(i={}),i=J.copyUserAttrs_(i),"string"==typeof e&&(e=document.getElementById(e)),!e)throw new Error("Constructing dygraph with a non-existent div!");this.maindiv_=e,this.file_=t,this.rollPeriod_=i.rollPeriod||J.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=i.fractions||!1,this.dateWindow_=i.dateWindow||null,this.annotations_=[],e.innerHTML="",""===e.style.width&&i.width&&(e.style.width=i.width+"px"),""===e.style.height&&i.height&&(e.style.height=i.height+"px"),""===e.style.height&&0===e.clientHeight&&(e.style.height=J.DEFAULT_HEIGHT+"px",""===e.style.width&&(e.style.width=J.DEFAULT_WIDTH+"px")),this.width_=e.clientWidth||i.width||0,this.height_=e.clientHeight||i.height||0,i.stackedGraph&&(i.fillGraph=!0),this.user_attrs_={},b.update(this.user_attrs_,i),this.attrs_={},b.updateDeep(this.attrs_,y.default),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new u.default(this),this.createInterface_(),this.plugins_=[];for(var n=J.PLUGINS.concat(this.getOption("plugins")),a=0;a<n.length;a++){var r,s=n[a],o={plugin:r=void 0!==s.activate?s:new s,events:{},options:{},pluginOptions:{}},l=r.activate(this);for(var c in l)l.hasOwnProperty(c)&&(o.events[c]=l[c]);this.plugins_.push(o)}for(var a=0;a<this.plugins_.length;a++){var h=this.plugins_[a];for(var c in h.events)if(h.events.hasOwnProperty(c)){var d=h.events[c],p=[h.plugin,d];c in this.eventListeners_?this.eventListeners_[c].push(p):this.eventListeners_[c]=[p]}}this.createDragInterface_(),this.start_()},J.prototype.cascadeEvents_=function(e,t){if(!(e in this.eventListeners_))return!1;var i={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!i.cancelable)throw"Cannot call preventDefault on non-cancelable event.";i.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){i.propagationStopped=!0}};b.update(i,t);var n=this.eventListeners_[e];if(n)for(var a=n.length-1;a>=0;a--){var r=n[a][0],s=n[a][1];if(s.call(r,i),i.propagationStopped)break}return i.defaultPrevented},J.prototype.getPluginInstance_=function(e){for(var t=0;t<this.plugins_.length;t++){var i=this.plugins_[t];if(i.plugin instanceof e)return i.plugin}return null},J.prototype.isZoomed=function(e){var t=!!this.dateWindow_;if("x"===e)return t;var i=this.axes_.map(function(e){return!!e.valueRange}).indexOf(!0)>=0;if(null===e||void 0===e)return t||i;if("y"===e)return i;throw new Error("axis parameter is ["+e+"] must be null, 'x' or 'y'.")},J.prototype.toString=function(){var e=this.maindiv_;return"[Dygraph "+(e&&e.id?e.id:e)+"]"},J.prototype.attr_=function(e,t){return t?this.attributes_.getForSeries(e,t):this.attributes_.get(e)},J.prototype.getOption=function(e,t){return this.attr_(e,t)},J.prototype.getNumericOption=function(e,t){return this.getOption(e,t)},J.prototype.getStringOption=function(e,t){return this.getOption(e,t)},J.prototype.getBooleanOption=function(e,t){return this.getOption(e,t)},J.prototype.getFunctionOption=function(e,t){return this.getOption(e,t)},J.prototype.getOptionForAxis=function(e,t){return this.attributes_.getForAxis(e,t)},J.prototype.optionsViewForAxis_=function(e){var t=this;return function(i){var n=t.user_attrs_.axes;return n&&n[e]&&n[e].hasOwnProperty(i)?n[e][i]:("x"!==e||"logscale"!==i)&&(void 0!==t.user_attrs_[i]?t.user_attrs_[i]:(n=t.attrs_.axes)&&n[e]&&n[e].hasOwnProperty(i)?n[e][i]:"y"==e&&t.axes_[0].hasOwnProperty(i)?t.axes_[0][i]:"y2"==e&&t.axes_[1].hasOwnProperty(i)?t.axes_[1][i]:t.attr_(i))}},J.prototype.rollPeriod=function(){return this.rollPeriod_},J.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()},J.prototype.xAxisExtremes=function(){var e=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(0===this.numRows())return[0-e,1+e];var t=this.rawData_[0][0],i=this.rawData_[this.rawData_.length-1][0];if(e){var n=i-t;t-=n*e,i+=n*e}return[t,i]},J.prototype.yAxisExtremes=function(){var e=this.gatherDatasets_(this.rolledSeries_,null),t=e.extremes,i=this.axes_;this.computeYAxisRanges_(t);var n=this.axes_;return this.axes_=i,n.map(function(e){return e.extremeRange})},J.prototype.yAxisRange=function(e){if(void 0===e&&(e=0),e<0||e>=this.axes_.length)return null;var t=this.axes_[e];return[t.computedValueRange[0],t.computedValueRange[1]]},J.prototype.yAxisRanges=function(){for(var e=[],t=0;t<this.axes_.length;t++)e.push(this.yAxisRange(t));return e},J.prototype.toDomCoords=function(e,t,i){return[this.toDomXCoord(e),this.toDomYCoord(t,i)]},J.prototype.toDomXCoord=function(e){if(null===e)return null;var t=this.plotter_.area,i=this.xAxisRange();return t.x+(e-i[0])/(i[1]-i[0])*t.w},J.prototype.toDomYCoord=function(e,t){var i=this.toPercentYCoord(e,t);if(null===i)return null;var n=this.plotter_.area;return n.y+i*n.h},J.prototype.toDataCoords=function(e,t,i){return[this.toDataXCoord(e),this.toDataYCoord(t,i)]},J.prototype.toDataXCoord=function(e){if(null===e)return null;var t=this.plotter_.area,i=this.xAxisRange();if(this.attributes_.getForAxis("logscale","x")){var n=(e-t.x)/t.w;return b.logRangeFraction(i[0],i[1],n)}return i[0]+(e-t.x)/t.w*(i[1]-i[0])},J.prototype.toDataYCoord=function(e,t){if(null===e)return null;var i=this.plotter_.area,n=this.yAxisRange(t);if(void 0===t&&(t=0),this.attributes_.getForAxis("logscale",t)){var a=(e-i.y)/i.h;return b.logRangeFraction(n[1],n[0],a)}return n[0]+(i.y+i.h-e)/i.h*(n[1]-n[0])},J.prototype.toPercentYCoord=function(e,t){if(null===e)return null;void 0===t&&(t=0);var i,n=this.yAxisRange(t);if(this.attributes_.getForAxis("logscale",t)){var a=b.log10(n[0]),r=b.log10(n[1]);i=(r-b.log10(e))/(r-a)}else i=(n[1]-e)/(n[1]-n[0]);return i},J.prototype.toPercentXCoord=function(e){if(null===e)return null;var t,i=this.xAxisRange();if(!0===this.attributes_.getForAxis("logscale","x")){var n=b.log10(i[0]),a=b.log10(i[1]);t=(b.log10(e)-n)/(a-n)}else t=(e-i[0])/(i[1]-i[0]);return t},J.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0},J.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0},J.prototype.getValue=function(e,t){return e<0||e>this.rawData_.length?null:t<0||t>this.rawData_[e].length?null:this.rawData_[e][t]},J.prototype.createInterface_=function(){var e=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",e.appendChild(this.graphDiv),this.canvas_=b.createCanvas(),this.canvas_.style.position="absolute",this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=b.getContext(this.canvas_),this.hidden_ctx_=b.getContext(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new l.default(this);var t=this;this.mouseMoveHandler_=function(e){t.mouseMove_(e)},this.mouseOutHandler_=function(e){var i=e.target||e.fromElement,n=e.relatedTarget||e.toElement;b.isNodeContainedBy(i,t.graphDiv)&&!b.isNodeContainedBy(n,t.graphDiv)&&t.mouseOut_(e)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeHandler_||(this.resizeHandler_=function(e){t.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_))},J.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var e=this.getNumericOption("pixelRatio"),t=e||b.getContextPixelRatio(this.canvas_ctx_);this.canvas_.width=this.width_*t,this.canvas_.height=this.height_*t,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",1!==t&&this.canvas_ctx_.scale(t,t);var i=e||b.getContextPixelRatio(this.hidden_ctx_);this.hidden_.width=this.width_*i,this.hidden_.height=this.height_*i,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",1!==i&&this.hidden_ctx_.scale(i,i)},J.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var e=this.plugins_.length-1;e>=0;e--){var t=this.plugins_.pop();t.plugin.destroy&&t.plugin.destroy()}this.removeTrackedEvents_(),b.removeEvent(window,"mouseout",this.mouseOutHandler_),b.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),b.removeEvent(window,"resize",this.resizeHandler_),this.resizeHandler_=null,function e(t){for(;t.hasChildNodes();)e(t.firstChild),t.removeChild(t.firstChild)}(this.maindiv_);var i=function(e){for(var t in e)"object"==typeof e[t]&&(e[t]=null)};i(this.layout_),i(this.plotter_),i(this)},J.prototype.createPlotKitCanvas_=function(e){var t=b.createCanvas();return t.style.position="absolute",t.style.top=e.style.top,t.style.left=e.style.left,t.width=this.width_,t.height=this.height_,t.style.width=this.width_+"px",t.style.height=this.height_+"px",t},J.prototype.createMouseEventElement_=function(){return this.canvas_},J.prototype.setColors_=function(){var e=this.getLabels(),t=e.length-1;this.colors_=[],this.colorsMap_={};for(var i=this.getNumericOption("colorSaturation")||1,n=this.getNumericOption("colorValue")||.5,a=Math.ceil(t/2),r=this.getOption("colors"),s=this.visibility(),o=0;o<t;o++)if(s[o]){var l=e[o+1],c=this.attributes_.getForSeries("color",l);if(!c)if(r)c=r[o%r.length];else{var h=o%2?a+(o+1)/2:Math.ceil((o+1)/2),d=1*h/(1+t);c=b.hsvToRGB(d,i,n)}this.colors_.push(c),this.colorsMap_[l]=c}},J.prototype.getColors=function(){return this.colors_},J.prototype.getPropertiesForSeries=function(e){for(var t=-1,i=this.getLabels(),n=1;n<i.length;n++)if(i[n]==e){t=n;break}return-1==t?null:{name:e,column:t,visible:this.visibility()[t-1],color:this.colorsMap_[e],axis:1+this.attributes_.axisForSeries(e)}},J.prototype.createRollInterface_=function(){var e=this,t=this.roller_;t||(this.roller_=t=document.createElement("input"),t.type="text",t.style.display="none",t.className="dygraph-roller",this.graphDiv.appendChild(t));var i=this.getBooleanOption("showRoller")?"block":"none",n=this.getArea(),a={top:n.y+n.h-25+"px",left:n.x+1+"px",display:i};t.size="2",t.value=this.rollPeriod_,b.update(t.style,a),t.onchange=function(){return e.adjustRoll(t.value)}},J.prototype.createDragInterface_=function(){var e={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new C.default,initializeMouseDown:function(e,t,i){e.preventDefault?e.preventDefault():(e.returnValue=!1,e.cancelBubble=!0);var n=b.findPos(t.canvas_);i.px=n.x,i.py=n.y,i.dragStartX=b.dragGetX_(e,i),i.dragStartY=b.dragGetY_(e,i),i.cancelNextDblclick=!1,i.tarp.cover()},destroy:function(){var e=this;if((e.isZooming||e.isPanning)&&(e.isZooming=!1,e.dragStartX=null,e.dragStartY=null),e.isPanning){e.isPanning=!1,e.draggingDate=null,e.dateRange=null;for(var t=0;t<i.axes_.length;t++)delete i.axes_[t].draggingValue,delete i.axes_[t].dragValueRange}e.tarp.uncover()}},t=this.getOption("interactionModel"),i=this;for(var n in t)t.hasOwnProperty(n)&&this.addAndTrackEvent(this.mouseEventElement_,n,function(t){return function(n){t(n,i,e)}}(t[n]));t.willDestroyContextMyself||this.addAndTrackEvent(document,"mouseup",function(t){e.destroy()})},J.prototype.drawZoomRect_=function(e,t,i,n,a,r,s,o){var l=this.canvas_ctx_;r==b.HORIZONTAL?l.clearRect(Math.min(t,s),this.layout_.getPlotArea().y,Math.abs(t-s),this.layout_.getPlotArea().h):r==b.VERTICAL&&l.clearRect(this.layout_.getPlotArea().x,Math.min(n,o),this.layout_.getPlotArea().w,Math.abs(n-o)),e==b.HORIZONTAL?i&&t&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(Math.min(t,i),this.layout_.getPlotArea().y,Math.abs(i-t),this.layout_.getPlotArea().h)):e==b.VERTICAL&&a&&n&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(this.layout_.getPlotArea().x,Math.min(n,a),this.layout_.getPlotArea().w,Math.abs(a-n)))},J.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)},J.prototype.doZoomX_=function(e,t){this.currentZoomRectArgs_=null;var i=this.toDataXCoord(e),n=this.toDataXCoord(t);this.doZoomXDates_(i,n)},J.prototype.doZoomXDates_=function(e,t){var i=this,n=this.xAxisRange(),a=[e,t],r=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(n,a,null,null,function(){r&&r.call(i,e,t,i.yAxisRanges())})},J.prototype.doZoomY_=function(e,t){var i=this;this.currentZoomRectArgs_=null;for(var n=this.yAxisRanges(),a=[],r=0;r<this.axes_.length;r++){var o=this.toDataYCoord(e,r),l=this.toDataYCoord(t,r);a.push([l,o])}var c=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(null,null,n,a,function(){if(c){var e=i.xAxisRange(),t=s(e,2),n=t[0],a=t[1];c.call(i,n,a,i.yAxisRanges())}})},J.zoomAnimationFunction=function(e,t){return(1-Math.pow(1.5,-e))/(1-Math.pow(1.5,-t))},J.prototype.resetZoom=function(){var e=this,t=this.isZoomed("x"),i=this.isZoomed("y"),n=t||i;if(this.clearSelection(),n){var a=this.xAxisExtremes(),r=s(a,2),o=r[0],l=r[1],c=this.getBooleanOption("animatedZooms"),h=this.getFunctionOption("zoomCallback");if(!c)return this.dateWindow_=null,this.axes_.forEach(function(e){e.valueRange&&delete e.valueRange}),this.drawGraph_(),void(h&&h.call(this,o,l,this.yAxisRanges()));var d=null,u=null,p=null,f=null;t&&(d=this.xAxisRange(),u=[o,l]),i&&(p=this.yAxisRanges(),f=this.yAxisExtremes()),this.doAnimatedZoom(d,u,p,f,function(){e.dateWindow_=null,e.axes_.forEach(function(e){e.valueRange&&delete e.valueRange}),h&&h.call(e,o,l,e.yAxisRanges())})}},J.prototype.doAnimatedZoom=function(e,t,i,n,a){var r,s,o=this,l=this.getBooleanOption("animatedZooms")?J.ANIMATION_STEPS:1,c=[],h=[];if(null!==e&&null!==t)for(r=1;r<=l;r++)s=J.zoomAnimationFunction(r,l),c[r-1]=[e[0]*(1-s)+s*t[0],e[1]*(1-s)+s*t[1]];if(null!==i&&null!==n)for(r=1;r<=l;r++){s=J.zoomAnimationFunction(r,l);for(var d=[],u=0;u<this.axes_.length;u++)d.push([i[u][0]*(1-s)+s*n[u][0],i[u][1]*(1-s)+s*n[u][1]]);h[r-1]=d}b.repeatAndCleanup(function(e){if(h.length)for(var t=0;t<o.axes_.length;t++){var i=h[e][t];o.axes_[t].valueRange=[i[0],i[1]]}c.length&&(o.dateWindow_=c[e]),o.drawGraph_()},l,J.ANIMATION_DURATION/l,a)},J.prototype.getArea=function(){return this.plotter_.area},J.prototype.eventToDomCoords=function(e){if(e.offsetX&&e.offsetY)return[e.offsetX,e.offsetY];var t=b.findPos(this.mouseEventElement_);return[b.pageX(e)-t.x,b.pageY(e)-t.y]},J.prototype.findClosestRow=function(e){for(var t=1/0,i=-1,n=this.layout_.points,a=0;a<n.length;a++)for(var r=n[a],s=r.length,o=0;o<s;o++){var l=r[o];if(b.isValidPoint(l,!0)){var c=Math.abs(l.canvasx-e);c<t&&(t=c,i=l.idx)}}return i},J.prototype.findClosestPoint=function(e,t){for(var i,n,a,r,s,o,l,c=1/0,h=this.layout_.points.length-1;h>=0;--h)for(var d=this.layout_.points[h],u=0;u<d.length;++u)r=d[u],b.isValidPoint(r)&&(n=r.canvasx-e,a=r.canvasy-t,(i=n*n+a*a)<c&&(c=i,s=r,o=h,l=r.idx));return{row:l,seriesName:this.layout_.setNames[o],point:s}},J.prototype.findStackedPoint=function(e,t){for(var i,n,a=this.findClosestRow(e),r=0;r<this.layout_.points.length;++r){var s=this.getLeftBoundary_(r),o=a-s,l=this.layout_.points[r];if(!(o>=l.length)){var c=l[o];if(b.isValidPoint(c)){var h=c.canvasy;if(e>c.canvasx&&o+1<l.length){var d=l[o+1];if(b.isValidPoint(d)){var u=d.canvasx-c.canvasx;if(u>0){var p=(e-c.canvasx)/u;h+=p*(d.canvasy-c.canvasy)}}}else if(e<c.canvasx&&o>0){var f=l[o-1];if(b.isValidPoint(f)){var u=c.canvasx-f.canvasx;if(u>0){var p=(c.canvasx-e)/u;h+=p*(f.canvasy-c.canvasy)}}}(0===r||h<t)&&(i=c,n=r)}}}return{row:a,seriesName:this.layout_.setNames[n],point:i}},J.prototype.mouseMove_=function(e){var t=this.layout_.points;if(void 0!==t&&null!==t){var i=this.eventToDomCoords(e),n=i[0],a=i[1],r=this.getOption("highlightSeriesOpts"),s=!1;if(r&&!this.isSeriesLocked()){var o;o=this.getBooleanOption("stackedGraph")?this.findStackedPoint(n,a):this.findClosestPoint(n,a),s=this.setSelection(o.row,o.seriesName)}else{var l=this.findClosestRow(n);s=this.setSelection(l)}var c=this.getFunctionOption("highlightCallback");c&&s&&c.call(this,e,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}},J.prototype.getLeftBoundary_=function(e){if(this.boundaryIds_[e])return this.boundaryIds_[e][0];for(var t=0;t<this.boundaryIds_.length;t++)if(void 0!==this.boundaryIds_[t])return this.boundaryIds_[t][0];return 0},J.prototype.animateSelection_=function(e){void 0===this.fadeLevel&&(this.fadeLevel=0),void 0===this.animateId&&(this.animateId=0);var t=this.fadeLevel,i=e<0?t:10-t;if(i<=0)this.fadeLevel&&this.updateSelection_(1);else{var n=++this.animateId,a=this;b.repeatAndCleanup(function(t){a.animateId==n&&(a.fadeLevel+=e,0===a.fadeLevel?a.clearSelection():a.updateSelection_(a.fadeLevel/10))},i,30,function(){0!==a.fadeLevel&&e<0&&(a.fadeLevel=0,a.clearSelection())})}},J.prototype.updateSelection_=function(e){this.cascadeEvents_("select",{selectedRow:-1===this.lastRow_?void 0:this.lastRow_,selectedX:-1===this.lastx_?void 0:this.lastx_,selectedPoints:this.selPoints_});var t,i=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){i.clearRect(0,0,this.width_,this.height_);var n=1-this.getNumericOption("highlightSeriesBackgroundAlpha"),a=b.toRGB_(this.getOption("highlightSeriesBackgroundColor"));if(n){if(void 0===e)return void this.animateSelection_(1);n*=e,i.fillStyle="rgba("+a.r+","+a.g+","+a.b+","+n+")",i.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,i)}else if(this.previousVerticalX_>=0){var r=0,s=this.attr_("labels");for(t=1;t<s.length;t++){var o=this.getNumericOption("highlightCircleSize",s[t]);o>r&&(r=o)}var l=this.previousVerticalX_;i.clearRect(l-r-1,0,2*r+2,this.height_)}if(this.selPoints_.length>0){var c=this.selPoints_[0].canvasx;for(i.save(),t=0;t<this.selPoints_.length;t++){var h=this.selPoints_[t];if(!isNaN(h.canvasy)){var d=this.getNumericOption("highlightCircleSize",h.name),u=this.getFunctionOption("drawHighlightPointCallback",h.name),p=this.plotter_.colors[h.name];u||(u=b.Circles.DEFAULT),i.lineWidth=this.getNumericOption("strokeWidth",h.name),i.strokeStyle=p,i.fillStyle=p,u.call(this,this,h.name,i,c,h.canvasy,p,d,h.idx)}}i.restore(),this.previousVerticalX_=c}},J.prototype.setSelection=function(e,t,i){this.selPoints_=[];var n=!1;if(!1!==e&&e>=0){e!=this.lastRow_&&(n=!0),this.lastRow_=e;for(var a=0;a<this.layout_.points.length;++a){var r=this.layout_.points[a],s=e-this.getLeftBoundary_(a);if(s>=0&&s<r.length&&r[s].idx==e){var o=r[s];null!==o.yval&&this.selPoints_.push(o)}else for(var l=0;l<r.length;++l){var o=r[l];if(o.idx==e){null!==o.yval&&this.selPoints_.push(o);break}}}}else this.lastRow_>=0&&(n=!0),this.lastRow_=-1;return this.selPoints_.length?this.lastx_=this.selPoints_[0].xval:this.lastx_=-1,void 0!==t&&(this.highlightSet_!==t&&(n=!0),this.highlightSet_=t),void 0!==i&&(this.lockedSet_=i),n&&this.updateSelection_(void 0),n},J.prototype.mouseOut_=function(e){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,e),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()},J.prototype.clearSelection=function(){this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel?this.animateSelection_(-1):(this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=-1,this.lastRow_=-1,this.highlightSet_=null)},J.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1)return-1;for(var e=0;e<this.layout_.points.length;e++)for(var t=this.layout_.points[e],i=0;i<t.length;i++)if(t[i].x==this.selPoints_[0].x)return t[i].idx;return-1},J.prototype.getHighlightSeries=function(){return this.highlightSet_},J.prototype.isSeriesLocked=function(){return this.lockedSet_},J.prototype.loadedEvent_=function(e){this.rawData_=this.parseCSV_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_()},J.prototype.addXTicks_=function(){var e;e=this.dateWindow_?[this.dateWindow_[0],this.dateWindow_[1]]:this.xAxisExtremes();var t=this.optionsViewForAxis_("x"),i=t("ticker")(e[0],e[1],this.plotter_.area.w,t,this);this.layout_.setXTicks(i)},J.prototype.getHandlerClass_=function(){return this.attr_("dataHandler")?this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?O.default:M.default:this.getBooleanOption("customBars")?D.default:this.getBooleanOption("errorBars")?A.default:T.default},J.prototype.predraw_=function(){var e=new Date;this.dataHandler_=new(this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new h.default(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var t=1;t<this.numColumns();t++){var i=this.dataHandler_.extractSeries(this.rawData_,t,this.attributes_);this.rollPeriod_>1&&(i=this.dataHandler_.rollingAverage(i,this.rollPeriod_,this.attributes_)),this.rolledSeries_.push(i)}this.drawGraph_();var n=new Date;this.drawingTimeMs_=n-e},J.PointType=void 0,J.stackPoints_=function(e,t,i,n){for(var a=null,r=null,s=null,o=-1,l=0;l<e.length;++l){var c=e[l],h=c.xval;void 0===t[h]&&(t[h]=0);var d=c.yval;isNaN(d)||null===d?"none"==n?d=0:(function(t){if(!(o>=t))for(var i=t;i<e.length;++i)if(s=null,!isNaN(e[i].yval)&&null!==e[i].yval){o=i,s=e[i];break}}(l),d=r&&s&&"none"!=n?r.yval+(s.yval-r.yval)*((h-r.xval)/(s.xval-r.xval)):r&&"all"==n?r.yval:s&&"all"==n?s.yval:0):r=c;var u=t[h];a!=h&&(u+=d,t[h]=u),a=h,c.yval_stacked=u,u>i[1]&&(i[1]=u),u<i[0]&&(i[0]=u)}},J.prototype.gatherDatasets_=function(e,t){var i,n,a,r,s,o,l=[],c=[],h=[],d={},u=e.length-1;for(i=u;i>=1;i--)if(this.visibility()[i-1]){if(t){o=e[i];var p=t[0],f=t[1];for(a=null,r=null,n=0;n<o.length;n++)o[n][0]>=p&&null===a&&(a=n),o[n][0]<=f&&(r=n);null===a&&(a=0);for(var g=a,m=!0;m&&g>0;)m=null===o[--g][1];null===r&&(r=o.length-1);var v=r;for(m=!0;m&&v<o.length-1;)m=null===o[++v][1];g!==a&&(a=g),v!==r&&(r=v),l[i-1]=[a,r],o=o.slice(a,r+1)}else o=e[i],l[i-1]=[0,o.length-1];var b=this.attr_("labels")[i],w=this.dataHandler_.getExtremeYValues(o,t,this.getBooleanOption("stepPlot",b)),y=this.dataHandler_.seriesToPoints(o,b,l[i-1][0]);this.getBooleanOption("stackedGraph")&&(s=this.attributes_.axisForSeries(b),void 0===h[s]&&(h[s]=[]),J.stackPoints_(y,h[s],w,this.getBooleanOption("stackedGraphNaNFill"))),d[b]=w,c[i]=y}return{points:c,extremes:d,boundaryIds:l}},J.prototype.drawGraph_=function(){var e=new Date,t=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=.5*this.getNumericOption("highlightCircleSize");var i=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),n=i.points,a=i.extremes;this.boundaryIds_=i.boundaryIds,this.setIndexByName_={};for(var r=this.attr_("labels"),s=0,o=1;o<n.length;o++)this.visibility()[o-1]&&(this.layout_.addDataset(r[o],n[o]),this.datasetIndex_[o]=s++);for(var o=0;o<r.length;o++)this.setIndexByName_[r[o]]=o;if(this.computeYAxisRanges_(a),this.layout_.setYAxes(this.axes_),this.addXTicks_(),this.layout_.evaluate(),this.renderGraph_(t),this.getStringOption("timingName")){var l=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(l-e)+"ms")}},J.prototype.renderGraph_=function(e){this.cascadeEvents_("clearChart"),this.plotter_.clear();var t=this.getFunctionOption("underlayCallback");t&&t.call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var i={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",i),this.plotter_.render(),this.cascadeEvents_("didDrawChart",i),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_);var n=this.getFunctionOption("drawCallback");if(null!==n&&n.call(this,this,e),e)for(this.readyFired_=!0;this.readyFns_.length>0;){var a=this.readyFns_.pop();a(this)}},J.prototype.computeYAxes_=function(){var e,t,i;for(this.axes_=[],e=0;e<this.attributes_.numAxes();e++)t={g:this},b.update(t,this.attributes_.axisOptions(e)),this.axes_[e]=t;for(e=0;e<this.axes_.length;e++)if(0===e)t=this.optionsViewForAxis_("y"+(e?"2":"")),(i=t("valueRange"))&&(this.axes_[e].valueRange=i);else{var n=this.user_attrs_.axes;n&&n.y2&&(i=n.y2.valueRange)&&(this.axes_[e].valueRange=i)}},J.prototype.numAxes=function(){return this.attributes_.numAxes()},J.prototype.axisPropertiesForSeries=function(e){return this.axes_[this.attributes_.axisForSeries(e)]},J.prototype.computeYAxisRanges_=function(e){for(var t,i,n,a,r,s=function(e){return isNaN(parseFloat(e))},o=this.attributes_.numAxes(),l=0;l<o;l++){var c=this.axes_[l],h=this.attributes_.getForAxis("logscale",l),d=this.attributes_.getForAxis("includeZero",l),u=this.attributes_.getForAxis("independentTicks",l);n=this.attributes_.seriesForAxis(l),t=!0,a=.1;var p=this.getNumericOption("yRangePad");if(null!==p&&(t=!1,a=p/this.plotter_.area.h),0===n.length)c.extremeRange=[0,1];else{for(var f,g,m=1/0,v=-1/0,w=0;w<n.length;w++)e.hasOwnProperty(n[w])&&(null!==(f=e[n[w]][0])&&(m=Math.min(f,m)),null!==(g=e[n[w]][1])&&(v=Math.max(g,v)));d&&!h&&(m>0&&(m=0),v<0&&(v=0)),m==1/0&&(m=0),v==-1/0&&(v=1),0===(i=v-m)&&(0!==v?i=Math.abs(v):(v=1,i=1));var y=v,_=m;t&&(h?(y=v+a*i,_=m):((_=m-a*i)<0&&m>=0&&(_=0),(y=v+a*i)>0&&v<=0&&(y=0))),c.extremeRange=[_,y]}if(c.valueRange){var x=s(c.valueRange[0])?c.extremeRange[0]:c.valueRange[0],C=s(c.valueRange[1])?c.extremeRange[1]:c.valueRange[1];c.computedValueRange=[x,C]}else c.computedValueRange=c.extremeRange;if(!t)if(h){x=c.computedValueRange[0],C=c.computedValueRange[1];var S=a/(2*a-1),T=(a-1)/(2*a-1);c.computedValueRange[0]=b.logRangeFraction(x,C,S),c.computedValueRange[1]=b.logRangeFraction(x,C,T)}else x=c.computedValueRange[0],C=c.computedValueRange[1],i=C-x,c.computedValueRange[0]=x-i*a,c.computedValueRange[1]=C+i*a;if(u){c.independentTicks=u;var k=this.optionsViewForAxis_("y"+(l?"2":"")),A=k("ticker");c.ticks=A(c.computedValueRange[0],c.computedValueRange[1],this.plotter_.area.h,k,this),r||(r=c)}}if(void 0===r)throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.';for(var l=0;l<o;l++){var c=this.axes_[l];if(!c.independentTicks){for(var k=this.optionsViewForAxis_("y"+(l?"2":"")),A=k("ticker"),P=r.ticks,D=r.computedValueRange[1]-r.computedValueRange[0],E=c.computedValueRange[1]-c.computedValueRange[0],M=[],I=0;I<P.length;I++){var O=(P[I].v-r.computedValueRange[0])/D,L=c.computedValueRange[0]+O*E;M.push(L)}c.ticks=A(c.computedValueRange[0],c.computedValueRange[1],this.plotter_.area.h,k,this,M)}}},J.prototype.detectTypeFromString_=function(e){var t=!1,i=e.indexOf("-");i>0&&"e"!=e[i-1]&&"E"!=e[i-1]||e.indexOf("/")>=0||isNaN(parseFloat(e))?t=!0:8==e.length&&e>"19700101"&&e<"20371231"&&(t=!0),this.setXAxisOptions_(t)},J.prototype.setXAxisOptions_=function(e){e?(this.attrs_.xValueParser=b.dateParser,this.attrs_.axes.x.valueFormatter=b.dateValueFormatter,this.attrs_.axes.x.ticker=m.dateTicker,this.attrs_.axes.x.axisLabelFormatter=b.dateAxisLabelFormatter):(this.attrs_.xValueParser=function(e){return parseFloat(e)},this.attrs_.axes.x.valueFormatter=function(e){return e},this.attrs_.axes.x.ticker=m.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)},J.prototype.parseCSV_=function(e){var t,i,n=[],a=b.detectLineDelimiter(e),r=e.split(a||"\n"),s=this.getStringOption("delimiter");-1==r[0].indexOf(s)&&r[0].indexOf("\t")>=0&&(s="\t");var o=0;"labels"in this.user_attrs_||(o=1,this.attrs_.labels=r[0].split(s),this.attributes_.reparseSeries());for(var l,c=!1,h=this.attr_("labels").length,d=!1,u=o;u<r.length;u++){var p=r[u];if(0!==p.length&&"#"!=p[0]){var f=p.split(s);if(!(f.length<2)){var g=[];if(c||(this.detectTypeFromString_(f[0]),l=this.getFunctionOption("xValueParser"),c=!0),g[0]=l(f[0],this),this.fractions_)for(i=1;i<f.length;i++)2!=(t=f[i].split("/")).length?(console.error('Expected fractional "num/den" values in CSV data but found a value \''+f[i]+"' on line "+(1+u)+" ('"+p+"') which is not of this form."),g[i]=[0,0]):g[i]=[b.parseFloat_(t[0],u,p),b.parseFloat_(t[1],u,p)];else if(this.getBooleanOption("errorBars"))for(f.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+u)+" has an odd number of values ("+(f.length-1)+"): '"+p+"'"),i=1;i<f.length;i+=2)g[(i+1)/2]=[b.parseFloat_(f[i],u,p),b.parseFloat_(f[i+1],u,p)];else if(this.getBooleanOption("customBars"))for(i=1;i<f.length;i++){var m=f[i];/^ *$/.test(m)?g[i]=[null,null,null]:3==(t=m.split(";")).length?g[i]=[b.parseFloat_(t[0],u,p),b.parseFloat_(t[1],u,p),b.parseFloat_(t[2],u,p)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+m+'" on line '+(1+u))}else for(i=1;i<f.length;i++)g[i]=b.parseFloat_(f[i],u,p);if(n.length>0&&g[0]<n[n.length-1][0]&&(d=!0),g.length!=h&&console.error("Number of columns in line "+u+" ("+g.length+") does not agree with number of labels ("+h+") "+p),0===u&&this.attr_("labels")){var v=!0;for(i=0;v&&i<g.length;i++)g[i]&&(v=!1);if(v){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+p+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}n.push(g)}}}return d&&(console.warn("CSV is out of order; order it correctly to speed loading."),n.sort(function(e,t){return e[0]-t[0]})),n},J.prototype.parseArray_=function(e){if(0===e.length)return console.error("Can't plot empty data set"),null;if(0===e[0].length)return console.error("Data set cannot contain an empty row"),null;var t;if(function(e){var t=e[0],i=t[0];if("number"!=typeof i&&!b.isDateLike(i))throw new Error("Expected number or date but got "+typeof i+": "+i+".");for(var n=1;n<t.length;n++){var a=t[n];if(null!==a&&void 0!==a&&"number"!=typeof a&&!b.isArrayLike(a))throw new Error("Expected number or array but got "+typeof a+": "+a+".")}}(e),null===this.attr_("labels")){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],t=1;t<e[0].length;t++)this.attrs_.labels.push("Y"+t);this.attributes_.reparseSeries()}else{var i=this.attr_("labels");if(i.length!=e[0].length)return console.error("Mismatch between number of labels ("+i+") and number of columns in array ("+e[0].length+")"),null}if(b.isDateLike(e[0][0])){this.attrs_.axes.x.valueFormatter=b.dateValueFormatter,this.attrs_.axes.x.ticker=m.dateTicker,this.attrs_.axes.x.axisLabelFormatter=b.dateAxisLabelFormatter;var n=b.clone(e);for(t=0;t<e.length;t++){if(0===n[t].length)return console.error("Row "+(1+t)+" of data is empty"),null;if(null===n[t][0]||"function"!=typeof n[t][0].getTime||isNaN(n[t][0].getTime()))return console.error("x value in row "+(1+t)+" is not a Date"),null;n[t][0]=n[t][0].getTime()}return n}return this.attrs_.axes.x.valueFormatter=function(e){return e},this.attrs_.axes.x.ticker=m.numericTicks,this.attrs_.axes.x.axisLabelFormatter=b.numberAxisLabelFormatter,e},J.prototype.parseDataTable_=function(e){var t=e.getNumberOfColumns(),i=e.getNumberOfRows(),n=e.getColumnType(0);if("date"==n||"datetime"==n)this.attrs_.xValueParser=b.dateParser,this.attrs_.axes.x.valueFormatter=b.dateValueFormatter,this.attrs_.axes.x.ticker=m.dateTicker,this.attrs_.axes.x.axisLabelFormatter=b.dateAxisLabelFormatter;else{if("number"!=n)throw new Error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+n+"')");this.attrs_.xValueParser=function(e){return parseFloat(e)},this.attrs_.axes.x.valueFormatter=function(e){return e},this.attrs_.axes.x.ticker=m.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}var a,r,s=[],o={},l=!1;for(a=1;a<t;a++){var c=e.getColumnType(a);if("number"==c)s.push(a);else{if("string"!=c||!this.getBooleanOption("displayAnnotations"))throw new Error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true");var h=s[s.length-1];o.hasOwnProperty(h)?o[h].push(a):o[h]=[a],l=!0}}var d=[e.getColumnLabel(0)];for(a=0;a<s.length;a++)d.push(e.getColumnLabel(s[a])),this.getBooleanOption("errorBars")&&(a+=1);this.attrs_.labels=d,t=d.length;var u=[],p=!1,f=[];for(a=0;a<i;a++){var g=[];if(void 0!==e.getValue(a,0)&&null!==e.getValue(a,0)){if("date"==n||"datetime"==n?g.push(e.getValue(a,0).getTime()):g.push(e.getValue(a,0)),this.getBooleanOption("errorBars"))for(r=0;r<t-1;r++)g.push([e.getValue(a,1+2*r),e.getValue(a,2+2*r)]);else{for(r=0;r<s.length;r++){var v=s[r];if(g.push(e.getValue(a,v)),l&&o.hasOwnProperty(v)&&null!==e.getValue(a,o[v][0])){var w={};w.series=e.getColumnLabel(v),w.xval=g[0],w.shortText=function(e){var t=String.fromCharCode(65+e%26);for(e=Math.floor(e/26);e>0;)t=String.fromCharCode(65+(e-1)%26)+t.toLowerCase(),e=Math.floor((e-1)/26);return t}(f.length),w.text="";for(var y=0;y<o[v].length;y++)y&&(w.text+="\n"),w.text+=e.getValue(a,o[v][y]);f.push(w)}}for(r=0;r<g.length;r++)isFinite(g[r])||(g[r]=null)}u.length>0&&g[0]<u[u.length-1][0]&&(p=!0),u.push(g)}else console.warn("Ignoring row "+a+" of DataTable because of undefined or null first column.")}p&&(console.warn("DataTable is out of order; order it correctly to speed loading."),u.sort(function(e,t){return e[0]-t[0]})),this.rawData_=u,f.length>0&&this.setAnnotations(f,!0),this.attributes_.reparseSeries()},J.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})},J.prototype.start_=function(){var e=this.file_;if("function"==typeof e&&(e=e()),b.isArrayLike(e))this.rawData_=this.parseArray_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("object"==typeof e&&"function"==typeof e.getColumnRange)this.parseDataTable_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("string"==typeof e){var t=b.detectLineDelimiter(e);if(t)this.loadedEvent_(e);else{var i;i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var n=this;i.onreadystatechange=function(){4==i.readyState&&(200!==i.status&&0!==i.status||n.loadedEvent_(i.responseText))},i.open("GET",e,!0),i.send(null)}}else console.error("Unknown data format: "+typeof e)},J.prototype.updateOptions=function(e,t){void 0===t&&(t=!1);var i=e.file,n=J.copyUserAttrs_(e);"rollPeriod"in n&&(this.rollPeriod_=n.rollPeriod),"dateWindow"in n&&(this.dateWindow_=n.dateWindow);var a=b.isPixelChangingOptionList(this.attr_("labels"),n);b.updateDeep(this.user_attrs_,n),this.attributes_.reparseSeries(),i?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=i,t||this.start_()):t||(a?this.predraw_():this.renderGraph_(!1))},J.copyUserAttrs_=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&"file"!=i&&e.hasOwnProperty(i)&&(t[i]=e[i]);return t},J.prototype.resize=function(e,t){if(!this.resize_lock){this.resize_lock=!0,null===e!=(null===t)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),e=t=null);var i=this.width_,n=this.height_;e?(this.maindiv_.style.width=e+"px",this.maindiv_.style.height=t+"px",this.width_=e,this.height_=t):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight),i==this.width_&&n==this.height_||(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}},J.prototype.adjustRoll=function(e){this.rollPeriod_=e,this.predraw_()},J.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.getOption("visibility")},J.prototype.setVisibility=function(e,t){var i=this.visibility(),n=!1;if(Array.isArray(e)||(null!==e&&"object"==typeof e?n=!0:e=[e]),n)for(var a in e)e.hasOwnProperty(a)&&(a<0||a>=i.length?console.warn("Invalid series number in setVisibility: "+a):i[a]=e[a]);else for(var a=0;a<e.length;a++)"boolean"==typeof e[a]?a>=i.length?console.warn("Invalid series number in setVisibility: "+a):i[a]=e[a]:e[a]<0||e[a]>=i.length?console.warn("Invalid series number in setVisibility: "+e[a]):i[e[a]]=t;this.predraw_()},J.prototype.size=function(){return{width:this.width_,height:this.height_}},J.prototype.setAnnotations=function(e,t){this.annotations_=e,this.layout_?(this.layout_.setAnnotations(this.annotations_),t||this.predraw_()):console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html")},J.prototype.annotations=function(){return this.annotations_},J.prototype.getLabels=function(){var e=this.attr_("labels");return e?e.slice():null},J.prototype.indexFromSetName=function(e){return this.setIndexByName_[e]},J.prototype.getRowForX=function(e){for(var t=0,i=this.numRows()-1;t<=i;){var n=i+t>>1,a=this.getValue(n,0);if(a<e)t=n+1;else if(a>e)i=n-1;else{if(t==n)return n;i=n}}return null},J.prototype.ready=function(e){this.is_initial_draw_?this.readyFns_.push(e):e.call(this,this)},J.prototype.addAndTrackEvent=function(e,t,i){b.addEvent(e,t,i),this.registeredEvents_.push({elem:e,type:t,fn:i})},J.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_)for(var e=0;e<this.registeredEvents_.length;e++){var t=this.registeredEvents_[e];b.removeEvent(t.elem,t.type,t.fn)}this.registeredEvents_=[]},J.PLUGINS=[W.default,V.default,Y.default,H.default,$.default,z.default],J.GVizChart=Q.default,J.DASHED_LINE=b.DASHED_LINE,J.DOT_DASH_LINE=b.DOT_DASH_LINE,J.dateAxisLabelFormatter=b.dateAxisLabelFormatter,J.toRGB_=b.toRGB_,J.findPos=b.findPos,J.pageX=b.pageX,J.pageY=b.pageY,J.dateString_=b.dateString_,J.defaultInteractionModel=f.default.defaultModel,J.nonInteractiveModel=J.nonInteractiveModel_=f.default.nonInteractiveModel_,J.Circles=b.Circles,J.Plugins={Legend:W.default,Axes:V.default,Annotations:$.default,ChartLabels:H.default,Grid:z.default,RangeSelector:Y.default},J.DataHandlers={DefaultHandler:T.default,BarsHandler:N.default,CustomBarsHandler:D.default,DefaultFractionHandler:M.default,ErrorBarsHandler:A.default,FractionsBarsHandler:O.default},J.startPan=f.default.startPan,J.startZoom=f.default.startZoom,J.movePan=f.default.movePan,J.moveZoom=f.default.moveZoom,J.endPan=f.default.endPan,J.endZoom=f.default.endZoom,J.numericLinearTicks=m.numericLinearTicks,J.numericTicks=m.numericTicks,J.dateTicker=m.dateTicker,J.Granularity=m.Granularity,J.getDateAxis=m.getDateAxis,J.floatFormat=b.floatFormat,i.default=J,t.exports=i.default}).call(this,e("_process"))},{"./datahandler/bars":5,"./datahandler/bars-custom":2,"./datahandler/bars-error":3,"./datahandler/bars-fractions":4,"./datahandler/default":8,"./datahandler/default-fractions":7,"./dygraph-canvas":9,"./dygraph-default-attrs":10,"./dygraph-gviz":11,"./dygraph-interaction-model":12,"./dygraph-layout":13,"./dygraph-options":15,"./dygraph-options-reference":14,"./dygraph-tickers":16,"./dygraph-utils":17,"./iframe-tarp":19,"./plugins/annotations":20,"./plugins/axes":21,"./plugins/chart-labels":22,"./plugins/grid":23,"./plugins/legend":24,"./plugins/range-selector":25,_process:1}],19:[function(e,t,i){"use strict";function n(){this.tarps=[]}Object.defineProperty(i,"__esModule",{value:!0});var a=e("./dygraph-utils"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a);n.prototype.cover=function(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var i=e[t],n=r.findPos(i),a=n.x,s=n.y,o=i.offsetWidth,l=i.offsetHeight,c=document.createElement("div");c.style.position="absolute",c.style.left=a+"px",c.style.top=s+"px",c.style.width=o+"px",c.style.height=l+"px",c.style.zIndex=999,document.body.appendChild(c),this.tarps.push(c)}},n.prototype.uncover=function(){for(var e=0;e<this.tarps.length;e++)this.tarps[e].parentNode.removeChild(this.tarps[e]);this.tarps=[]},i.default=n,t.exports=i.default},{"./dygraph-utils":17}],20:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){this.annotations_=[]};n.prototype.toString=function(){return"Annotations Plugin"},n.prototype.activate=function(e){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}},n.prototype.detachLabels=function(){for(var e=0;e<this.annotations_.length;e++){var t=this.annotations_[e];t.parentNode&&t.parentNode.removeChild(t),this.annotations_[e]=null}this.annotations_=[]},n.prototype.clearChart=function(e){this.detachLabels()},n.prototype.didDrawChart=function(e){var t=e.dygraph,i=t.layout_.annotated_points;if(i&&0!==i.length)for(var n=e.canvas.parentNode,a=function(e,i,n){return function(a){var r=n.annotation;r.hasOwnProperty(e)?r[e](r,n,t,a):t.getOption(i)&&t.getOption(i)(r,n,t,a)}},r=e.dygraph.getArea(),s={},o=0;o<i.length;o++){var l=i[o];if(!(l.canvasx<r.x||l.canvasx>r.x+r.w||l.canvasy<r.y||l.canvasy>r.y+r.h)){var c=l.annotation,h=6;c.hasOwnProperty("tickHeight")&&(h=c.tickHeight);var d=document.createElement("div");d.style.fontSize=t.getOption("axisLabelFontSize")+"px";var u="dygraph-annotation";c.hasOwnProperty("icon")||(u+=" dygraphDefaultAnnotation dygraph-default-annotation"),c.hasOwnProperty("cssClass")&&(u+=" "+c.cssClass),d.className=u;var p=c.hasOwnProperty("width")?c.width:16,f=c.hasOwnProperty("height")?c.height:16;if(c.hasOwnProperty("icon")){var g=document.createElement("img");g.src=c.icon,g.width=p,g.height=f,d.appendChild(g)}else l.annotation.hasOwnProperty("shortText")&&d.appendChild(document.createTextNode(l.annotation.shortText));var m=l.canvasx-p/2;d.style.left=m+"px";var v=0;if(c.attachAtBottom){var b=r.y+r.h-f-h;s[m]?b-=s[m]:s[m]=0,s[m]+=h+f,v=b}else v=l.canvasy-f-h;d.style.top=v+"px",d.style.width=p+"px",d.style.height=f+"px",d.title=l.annotation.text,d.style.color=t.colorsMap_[l.name],d.style.borderColor=t.colorsMap_[l.name],c.div=d,t.addAndTrackEvent(d,"click",a("clickHandler","annotationClickHandler",l)),t.addAndTrackEvent(d,"mouseover",a("mouseOverHandler","annotationMouseOverHandler",l)),t.addAndTrackEvent(d,"mouseout",a("mouseOutHandler","annotationMouseOutHandler",l)),t.addAndTrackEvent(d,"dblclick",a("dblClickHandler","annotationDblClickHandler",l)),n.appendChild(d),this.annotations_.push(d);var w=e.drawingContext;if(w.save(),w.strokeStyle=c.hasOwnProperty("tickColor")?c.tickColor:t.colorsMap_[l.name],w.lineWidth=c.hasOwnProperty("tickWidth")?c.tickWidth:t.getOption("strokeWidth"),w.beginPath(),c.attachAtBottom){var b=v+f;w.moveTo(l.canvasx,b),w.lineTo(l.canvasx,b+h)}else w.moveTo(l.canvasx,l.canvasy),w.lineTo(l.canvasx,l.canvasy-2-h);w.closePath(),w.stroke(),w.restore()}}},n.prototype.destroy=function(){this.detachLabels()},i.default=n,t.exports=i.default},{}],21:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("../dygraph-utils"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(n),r=function(){this.xlabels_=[],this.ylabels_=[]};r.prototype.toString=function(){return"Axes Plugin"},r.prototype.activate=function(e){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}},r.prototype.layout=function(e){var t,i=e.dygraph;if(i.getOptionForAxis("drawAxis","y")){var n=i.getOptionForAxis("axisLabelWidth","y")+2*i.getOptionForAxis("axisTickSize","y");e.reserveSpaceLeft(n)}if(i.getOptionForAxis("drawAxis","x")&&(t=i.getOption("xAxisHeight")?i.getOption("xAxisHeight"):i.getOptionForAxis("axisLabelFontSize","x")+2*i.getOptionForAxis("axisTickSize","x"),e.reserveSpaceBottom(t)),2==i.numAxes()){if(i.getOptionForAxis("drawAxis","y2")){var n=i.getOptionForAxis("axisLabelWidth","y2")+2*i.getOptionForAxis("axisTickSize","y2");e.reserveSpaceRight(n)}}else i.numAxes()>2&&i.error("Only two y-axes are supported at this time. (Trying to use "+i.numAxes()+")")},r.prototype.detachLabels=function(){function e(e){for(var t=0;t<e.length;t++){var i=e[t];i.parentNode&&i.parentNode.removeChild(i)}}e(this.xlabels_),e(this.ylabels_),this.xlabels_=[],this.ylabels_=[]},r.prototype.clearChart=function(e){this.detachLabels()},r.prototype.willDrawChart=function(e){function t(e){return Math.round(e)+.5}function i(e){return Math.round(e)-.5}var n=this,r=e.dygraph;if(r.getOptionForAxis("drawAxis","x")||r.getOptionForAxis("drawAxis","y")||r.getOptionForAxis("drawAxis","y2")){var s,o,l,c=e.drawingContext,h=e.canvas.parentNode,d=r.width_,u=r.height_,p=function(e){return{position:"absolute",fontSize:r.getOptionForAxis("axisLabelFontSize",e)+"px",width:r.getOptionForAxis("axisLabelWidth",e)+"px"}},f={x:p("x"),y:p("y"),y2:p("y2")},g=function(e,t,i){var n=document.createElement("div"),r=f["y2"==i?"y2":t];a.update(n.style,r);var s=document.createElement("div");return s.className="dygraph-axis-label dygraph-axis-label-"+t+(i?" dygraph-axis-label-"+i:""),s.innerHTML=e,n.appendChild(s),n};c.save();var m=r.layout_,v=e.dygraph.plotter_.area,b=function(e){return function(t){return r.getOptionForAxis(t,e)}};if(r.getOptionForAxis("drawAxis","y")){if(m.yticks&&m.yticks.length>0){var w=r.numAxes(),y=[b("y"),b("y2")];m.yticks.forEach(function(e){if(void 0!==e.label){o=v.x;var t="y1",i=y[0];1==e.axis&&(o=v.x+v.w,t="y2",i=y[1]);var a=i("axisLabelFontSize");l=v.y+e.pos*v.h,s=g(e.label,"y",2==w?t:null);var r=l-a/2;r<0&&(r=0),r+a+3>u?s.style.bottom="0":s.style.top=r+"px",0===e.axis?(s.style.left=v.x-i("axisLabelWidth")-i("axisTickSize")+"px",s.style.textAlign="right"):1==e.axis&&(s.style.left=v.x+v.w+i("axisTickSize")+"px",s.style.textAlign="left"),s.style.width=i("axisLabelWidth")+"px",h.appendChild(s),n.ylabels_.push(s)}});var _=this.ylabels_[0],x=r.getOptionForAxis("axisLabelFontSize","y");parseInt(_.style.top,10)+x>u-x&&(_.style.top=parseInt(_.style.top,10)-x/2+"px")}var C;if(r.getOption("drawAxesAtZero")){var S=r.toPercentXCoord(0);(S>1||S<0||isNaN(S))&&(S=0),C=t(v.x+S*v.w)}else C=t(v.x);c.strokeStyle=r.getOptionForAxis("axisLineColor","y"),c.lineWidth=r.getOptionForAxis("axisLineWidth","y"),c.beginPath(),c.moveTo(C,i(v.y)),c.lineTo(C,i(v.y+v.h)),c.closePath(),c.stroke(),2==r.numAxes()&&(c.strokeStyle=r.getOptionForAxis("axisLineColor","y2"),c.lineWidth=r.getOptionForAxis("axisLineWidth","y2"),c.beginPath(),c.moveTo(i(v.x+v.w),i(v.y)),c.lineTo(i(v.x+v.w),i(v.y+v.h)),c.closePath(),c.stroke())}if(r.getOptionForAxis("drawAxis","x")){if(m.xticks){var T=b("x");m.xticks.forEach(function(e){if(void 0!==e.label){o=v.x+e.pos*v.w,l=v.y+v.h,(s=g(e.label,"x")).style.textAlign="center",s.style.top=l+T("axisTickSize")+"px";var t=o-T("axisLabelWidth")/2;t+T("axisLabelWidth")>d&&(t=d-T("axisLabelWidth"),s.style.textAlign="right"),t<0&&(t=0,s.style.textAlign="left"),s.style.left=t+"px",s.style.width=T("axisLabelWidth")+"px",h.appendChild(s),n.xlabels_.push(s)}})}var k;if(c.strokeStyle=r.getOptionForAxis("axisLineColor","x"),c.lineWidth=r.getOptionForAxis("axisLineWidth","x"),c.beginPath(),r.getOption("drawAxesAtZero")){var S=r.toPercentYCoord(0,0);(S>1||S<0)&&(S=1),k=i(v.y+S*v.h)}else k=i(v.y+v.h);c.moveTo(t(v.x),k),c.lineTo(t(v.x+v.w),k),c.closePath(),c.stroke()}c.restore()}},i.default=r,t.exports=i.default},{"../dygraph-utils":17}],22:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};n.prototype.toString=function(){return"ChartLabels Plugin"},n.prototype.activate=function(e){return{layout:this.layout,didDrawChart:this.didDrawChart}};var a=function(e){var t=document.createElement("div");return t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.width=e.w+"px",t.style.height=e.h+"px",t};n.prototype.detachLabels_=function(){for(var e=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],t=0;t<e.length;t++){var i=e[t];i&&i.parentNode&&i.parentNode.removeChild(i)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var r=function(e,t,i,n,a){var r=document.createElement("div");r.style.position="absolute",r.style.left=1==i?"0px":t.x+"px",r.style.top=t.y+"px",r.style.width=t.w+"px",r.style.height=t.h+"px",r.style.fontSize=e.getOption("yLabelWidth")-2+"px";var s=document.createElement("div");s.style.position="absolute",s.style.width=t.h+"px",s.style.height=t.w+"px",s.style.top=t.h/2-t.w/2+"px",s.style.left=t.w/2-t.h/2+"px",s.className="dygraph-label-rotate-"+(1==i?"right":"left");var o=document.createElement("div");return o.className=n,o.innerHTML=a,s.appendChild(o),r.appendChild(s),r};n.prototype.layout=function(e){this.detachLabels_();var t=e.dygraph,i=e.chart_div;if(t.getOption("title")){var n=e.reserveSpaceTop(t.getOption("titleHeight"));this.title_div_=a(n),this.title_div_.style.fontSize=t.getOption("titleHeight")-8+"px";var s=document.createElement("div");s.className="dygraph-label dygraph-title",s.innerHTML=t.getOption("title"),this.title_div_.appendChild(s),i.appendChild(this.title_div_)}if(t.getOption("xlabel")){var o=e.reserveSpaceBottom(t.getOption("xLabelHeight"));this.xlabel_div_=a(o),this.xlabel_div_.style.fontSize=t.getOption("xLabelHeight")-2+"px";var s=document.createElement("div");s.className="dygraph-label dygraph-xlabel",s.innerHTML=t.getOption("xlabel"),this.xlabel_div_.appendChild(s),i.appendChild(this.xlabel_div_)}if(t.getOption("ylabel")){var l=e.reserveSpaceLeft(0);this.ylabel_div_=r(t,l,1,"dygraph-label dygraph-ylabel",t.getOption("ylabel")),i.appendChild(this.ylabel_div_)}if(t.getOption("y2label")&&2==t.numAxes()){var c=e.reserveSpaceRight(0);this.y2label_div_=r(t,c,2,"dygraph-label dygraph-y2label",t.getOption("y2label")),i.appendChild(this.y2label_div_)}},n.prototype.didDrawChart=function(e){var t=e.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=t.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=t.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=t.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=t.getOption("y2label"))},n.prototype.clearChart=function(){},n.prototype.destroy=function(){this.detachLabels_()},i.default=n,t.exports=i.default},{}],23:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){};n.prototype.toString=function(){return"Gridline Plugin"},n.prototype.activate=function(e){return{willDrawChart:this.willDrawChart}},n.prototype.willDrawChart=function(e){function t(e){return Math.round(e)+.5}function i(e){return Math.round(e)-.5}var n,a,r,s=e.dygraph,o=e.drawingContext,l=s.layout_,c=e.dygraph.plotter_.area;if(s.getOptionForAxis("drawGrid","y")){for(var h=["y","y2"],d=[],u=[],p=[],f=[],g=[],m=0;m<h.length;m++)p[m]=s.getOptionForAxis("drawGrid",h[m]),p[m]&&(d[m]=s.getOptionForAxis("gridLineColor",h[m]),u[m]=s.getOptionForAxis("gridLineWidth",h[m]),g[m]=s.getOptionForAxis("gridLinePattern",h[m]),f[m]=g[m]&&g[m].length>=2);r=l.yticks,o.save(),r.forEach(function(e){if(e.has_tick){var r=e.axis;p[r]&&(o.save(),f[r]&&o.setLineDash&&o.setLineDash(g[r]),o.strokeStyle=d[r],o.lineWidth=u[r],n=t(c.x),a=i(c.y+e.pos*c.h),o.beginPath(),o.moveTo(n,a),o.lineTo(n+c.w,a),o.stroke(),o.restore())}}),o.restore()}if(s.getOptionForAxis("drawGrid","x")){r=l.xticks,o.save();var g=s.getOptionForAxis("gridLinePattern","x"),f=g&&g.length>=2;f&&o.setLineDash&&o.setLineDash(g),o.strokeStyle=s.getOptionForAxis("gridLineColor","x"),o.lineWidth=s.getOptionForAxis("gridLineWidth","x"),r.forEach(function(e){e.has_tick&&(n=t(c.x+e.pos*c.w),a=i(c.y+c.h),o.beginPath(),o.moveTo(n,a),o.lineTo(n,c.y),o.closePath(),o.stroke())}),f&&o.setLineDash&&o.setLineDash([]),o.restore()}},n.prototype.destroy=function(){},i.default=n,t.exports=i.default},{}],24:[function(e,t,i){"use strict";function n(e,t,i){if(!e||e.length<=1)return'<div class="dygraph-legend-line" style="border-bottom-color: '+t+';"></div>';var n,a,r,s,o,l=0,c=0,h=[];for(n=0;n<=e.length;n++)l+=e[n%e.length];if((o=Math.floor(i/(l-e[0])))>1){for(n=0;n<e.length;n++)h[n]=e[n]/i;c=h.length}else{for(o=1,n=0;n<e.length;n++)h[n]=e[n]/l;c=h.length+1}var d="";for(a=0;a<o;a++)for(n=0;n<c;n+=2)r=h[n%h.length],s=n<e.length?h[(n+1)%h.length]:0,d+='<div class="dygraph-legend-dash" style="margin-right: '+s+"em; padding-left: "+r+'em;"></div>';return d}Object.defineProperty(i,"__esModule",{value:!0});var a=e("../dygraph-utils"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a),s=function(){this.legend_div_=null,this.is_generated_div_=!1};s.prototype.toString=function(){return"Legend Plugin"},s.prototype.activate=function(e){var t,i=e.getOption("labelsDiv");return i&&null!==i?t="string"==typeof i||i instanceof String?document.getElementById(i):i:((t=document.createElement("div")).className="dygraph-legend",e.graphDiv.appendChild(t),this.is_generated_div_=!0),this.legend_div_=t,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};var o=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};s.prototype.select=function(e){var t=e.selectedX,i=e.selectedPoints,n=e.selectedRow,a=e.dygraph.getOption("legend");if("never"!==a){if("follow"===a){var r=e.dygraph.plotter_.area,o=this.legend_div_.offsetWidth,l=e.dygraph.getOptionForAxis("axisLabelWidth","y"),c=i[0].x*r.w+50,h=i[0].y*r.h-50;c+o+1>r.w&&(c=c-100-o-(l-r.x)),e.dygraph.graphDiv.appendChild(this.legend_div_),this.legend_div_.style.left=l+c+"px",this.legend_div_.style.top=h+"px"}var d=s.generateLegendHTML(e.dygraph,t,i,this.one_em_width_,n);this.legend_div_.innerHTML=d,this.legend_div_.style.display=""}else this.legend_div_.style.display="none"},s.prototype.deselect=function(e){"always"!==e.dygraph.getOption("legend")&&(this.legend_div_.style.display="none");var t=function(e){var t=document.createElement("span");t.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),e.appendChild(t);var i=t.offsetWidth;return e.removeChild(t),i}(this.legend_div_);this.one_em_width_=t;var i=s.generateLegendHTML(e.dygraph,void 0,void 0,t,null);this.legend_div_.innerHTML=i},s.prototype.didDrawChart=function(e){this.deselect(e)},s.prototype.predraw=function(e){if(this.is_generated_div_){e.dygraph.graphDiv.appendChild(this.legend_div_);var t=e.dygraph.getArea(),i=this.legend_div_.offsetWidth;this.legend_div_.style.left=t.x+t.w-i-1+"px",this.legend_div_.style.top=t.y+"px"}},s.prototype.destroy=function(){this.legend_div_=null},s.generateLegendHTML=function(e,t,i,a,l){var c={dygraph:e,x:t,series:[]},h={},d=e.getLabels();if(d)for(var u=1;u<d.length;u++){var p=e.getPropertiesForSeries(d[u]),f=e.getOption("strokePattern",d[u]),g={dashHTML:n(f,p.color,a),label:d[u],labelHTML:o(d[u]),isVisible:p.visible,color:p.color};c.series.push(g),h[d[u]]=g}if(void 0!==t){var m=e.optionsViewForAxis_("x"),v=m("valueFormatter");c.xHTML=v.call(e,t,m,d[0],e,l,0);for(var b=[],w=e.numAxes(),u=0;u<w;u++)b[u]=e.optionsViewForAxis_("y"+(u?1+u:""));var y=e.getOption("labelsShowZeroValues"),_=e.getHighlightSeries();for(u=0;u<i.length;u++){var x=i[u],g=h[x.name];if(g.y=x.yval,0===x.yval&&!y||isNaN(x.canvasy))g.isVisible=!1;else{var p=e.getPropertiesForSeries(x.name),C=b[p.axis-1],S=C("valueFormatter"),T=S.call(e,x.yval,C,x.name,e,l,d.indexOf(x.name));r.update(g,{yHTML:T}),x.name==_&&(g.isHighlighted=!0)}}}return(e.getOption("legendFormatter")||s.defaultFormatter).call(e,c)},s.defaultFormatter=function(e){var t=e.dygraph;if(!0!==t.getOption("showLabelsOnHighlight"))return"";var i,n=t.getOption("labelsSeparateLines");if(void 0===e.x){if("always"!=t.getOption("legend"))return"";i="";for(var a=0;a<e.series.length;a++){var r=e.series[a];r.isVisible&&(""!==i&&(i+=n?"<br/>":" "),i+="<span style='font-weight: bold; color: "+r.color+";'>"+r.dashHTML+" "+r.labelHTML+"</span>")}return i}i=e.xHTML+":";for(var a=0;a<e.series.length;a++){var r=e.series[a];r.isVisible&&(n&&(i+="<br>"),i+="<span"+(r.isHighlighted?' class="highlight"':"")+"> <b><span style='color: "+r.color+";'>"+r.labelHTML+"</span></b>:&#160;"+r.yHTML+"</span>")}return i},i.default=s,t.exports=i.default},{"../dygraph-utils":17}],25:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("../dygraph-utils"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a),s=e("../dygraph-interaction-model"),o=n(s),l=e("../iframe-tarp"),c=n(l),h=function(){this.hasTouchInterface_="undefined"!=typeof TouchEvent,this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};h.prototype.toString=function(){return"RangeSelector Plugin"},h.prototype.activate=function(e){return this.dygraph_=e,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}},h.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null},h.prototype.getOption_=function(e,t){return this.dygraph_.getOption(e,t)},h.prototype.setDefaultOption_=function(e,t){this.dygraph_.attrs_[e]=t},h.prototype.createInterface_=function(){this.createCanvases_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()},h.prototype.addToGraph_=function(){var e=this.graphDiv_=this.dygraph_.graphDiv;e.appendChild(this.bgcanvas_),e.appendChild(this.fgcanvas_),e.appendChild(this.leftZoomHandle_),e.appendChild(this.rightZoomHandle_)},h.prototype.removeFromGraph_=function(){var e=this.graphDiv_;e.removeChild(this.bgcanvas_),e.removeChild(this.fgcanvas_),e.removeChild(this.leftZoomHandle_),e.removeChild(this.rightZoomHandle_),this.graphDiv_=null},h.prototype.reserveSpace_=function(e){this.getOption_("showRangeSelector")&&e.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)},h.prototype.renderStaticLayer_=function(){this.updateVisibility_()&&(this.resize_(),this.drawStaticLayer_())},h.prototype.renderInteractiveLayer_=function(){this.updateVisibility_()&&!this.isChangingRange_&&(this.placeZoomHandles_(),this.drawInteractiveLayer_())},h.prototype.updateVisibility_=function(){var e=this.getOption_("showRangeSelector");if(e)this.interfaceCreated_?this.graphDiv_&&this.graphDiv_.parentNode||this.addToGraph_():this.createInterface_();else if(this.graphDiv_){this.removeFromGraph_();var t=this.dygraph_;setTimeout(function(){t.width_=0,t.resize()},1)}return e},h.prototype.resize_=function(){function e(e,t,i,n){var a=n||r.getContextPixelRatio(t);e.style.top=i.y+"px",e.style.left=i.x+"px",e.width=i.w*a,e.height=i.h*a,e.style.width=i.w+"px",e.style.height=i.h+"px",1!=a&&t.scale(a,a)}var t=this.dygraph_.layout_.getPlotArea(),i=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(i=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:t.x,y:t.y+t.h+i+4,w:t.w,h:this.getOption_("rangeSelectorHeight")};var n=this.dygraph_.getNumericOption("pixelRatio");e(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_,n),e(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_,n)},h.prototype.createCanvases_=function(){this.bgcanvas_=r.createCanvas(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=r.getContext(this.bgcanvas_),this.fgcanvas_=r.createCanvas(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=r.getContext(this.fgcanvas_)},h.prototype.createZoomHandles_=function(){var e=new Image;e.className="dygraph-rangesel-zoomhandle",e.style.position="absolute",e.style.zIndex=10,e.style.visibility="hidden",e.style.cursor="col-resize",e.width=9,e.height=16,e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII=",this.isMobileDevice_&&(e.width*=2,e.height*=2),this.leftZoomHandle_=e,this.rightZoomHandle_=e.cloneNode(!1)},h.prototype.initInteraction_=function(){var e,t,i,n,a,s,l,h,d,u,p,f,g,m,v=this,b=document,w=0,y=null,_=!1,x=!1,C=!this.isMobileDevice_,S=new c.default;e=function(e){var t=v.dygraph_.xAxisExtremes(),i=(t[1]-t[0])/v.canvasRect_.w;return[t[0]+(e.leftHandlePos-v.canvasRect_.x)*i,t[0]+(e.rightHandlePos-v.canvasRect_.x)*i]},t=function(e){return r.cancelEvent(e),_=!0,w=e.clientX,y=e.target?e.target:e.srcElement,"mousedown"!==e.type&&"dragstart"!==e.type||(r.addEvent(b,"mousemove",i),r.addEvent(b,"mouseup",n)),v.fgcanvas_.style.cursor="col-resize",S.cover(),!0},i=function(e){if(!_)return!1;r.cancelEvent(e);var t=e.clientX-w;if(Math.abs(t)<4)return!0;w=e.clientX;var i,n=v.getZoomHandleStatus_();y==v.leftZoomHandle_?(i=n.leftHandlePos+t,i=Math.min(i,n.rightHandlePos-y.width-3),i=Math.max(i,v.canvasRect_.x)):(i=n.rightHandlePos+t,i=Math.min(i,v.canvasRect_.x+v.canvasRect_.w),i=Math.max(i,n.leftHandlePos+y.width+3));var s=y.width/2;return y.style.left=i-s+"px",v.drawInteractiveLayer_(),C&&a(),!0},n=function(e){return!!_&&(_=!1,S.uncover(),r.removeEvent(b,"mousemove",i),r.removeEvent(b,"mouseup",n),v.fgcanvas_.style.cursor="default",C||a(),!0)},a=function(){try{var t=v.getZoomHandleStatus_();if(v.isChangingRange_=!0,t.isZoomed){var i=e(t);v.dygraph_.doZoomXDates_(i[0],i[1])}else v.dygraph_.resetZoom()}finally{v.isChangingRange_=!1}},s=function(e){var t=v.leftZoomHandle_.getBoundingClientRect(),i=t.left+t.width/2,n=(t=v.rightZoomHandle_.getBoundingClientRect()).left+t.width/2;return e.clientX>i&&e.clientX<n},l=function(e){return!(x||!s(e)||!v.getZoomHandleStatus_().isZoomed)&&(r.cancelEvent(e),x=!0,w=e.clientX,"mousedown"===e.type&&(r.addEvent(b,"mousemove",h),r.addEvent(b,"mouseup",d)),!0)},h=function(e){if(!x)return!1;r.cancelEvent(e);var t=e.clientX-w;if(Math.abs(t)<4)return!0;w=e.clientX;var i=v.getZoomHandleStatus_(),n=i.leftHandlePos,a=i.rightHandlePos,s=a-n;n+t<=v.canvasRect_.x?(n=v.canvasRect_.x,a=n+s):a+t>=v.canvasRect_.x+v.canvasRect_.w?(a=v.canvasRect_.x+v.canvasRect_.w,n=a-s):(n+=t,a+=t);var o=v.leftZoomHandle_.width/2;return v.leftZoomHandle_.style.left=n-o+"px",v.rightZoomHandle_.style.left=a-o+"px",v.drawInteractiveLayer_(),C&&u(),!0},d=function(e){return!!x&&(x=!1,r.removeEvent(b,"mousemove",h),r.removeEvent(b,"mouseup",d),C||u(),!0)},u=function(){try{v.isChangingRange_=!0,v.dygraph_.dateWindow_=e(v.getZoomHandleStatus_()),v.dygraph_.drawGraph_(!1)}finally{v.isChangingRange_=!1}},p=function(e){if(!_&&!x){var t=s(e)?"move":"default";t!=v.fgcanvas_.style.cursor&&(v.fgcanvas_.style.cursor=t)}},f=function(e){"touchstart"==e.type&&1==e.targetTouches.length?t(e.targetTouches[0])&&r.cancelEvent(e):"touchmove"==e.type&&1==e.targetTouches.length?i(e.targetTouches[0])&&r.cancelEvent(e):n(e)},g=function(e){"touchstart"==e.type&&1==e.targetTouches.length?l(e.targetTouches[0])&&r.cancelEvent(e):"touchmove"==e.type&&1==e.targetTouches.length?h(e.targetTouches[0])&&r.cancelEvent(e):d(e)},m=function(e,t){for(var i=["touchstart","touchend","touchmove","touchcancel"],n=0;n<i.length;n++)v.dygraph_.addAndTrackEvent(e,i[n],t)},this.setDefaultOption_("interactionModel",o.default.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",1e-4);var T=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,T,t),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,T,t),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",l),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",p),this.hasTouchInterface_&&(m(this.leftZoomHandle_,f),m(this.rightZoomHandle_,f),m(this.fgcanvas_,g))},h.prototype.drawStaticLayer_=function(){var e=this.bgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(e){console.warn(e)}this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorBackgroundLineWidth"),e.strokeStyle=this.getOption_("rangeSelectorBackgroundStrokeColor"),e.beginPath(),e.moveTo(.5,.5),e.lineTo(.5,this.canvasRect_.h-.5),e.lineTo(this.canvasRect_.w-.5,this.canvasRect_.h-.5),e.lineTo(this.canvasRect_.w-.5,.5),e.stroke()},h.prototype.drawMiniPlot_=function(){var e=this.getOption_("rangeSelectorPlotFillColor"),t=this.getOption_("rangeSelectorPlotFillGradientColor"),i=this.getOption_("rangeSelectorPlotStrokeColor");if(e||i){var n=this.getOption_("stepPlot"),a=this.computeCombinedSeriesAndLimits_(),r=a.yMax-a.yMin,s=this.bgcanvas_ctx_,o=this.dygraph_.xAxisExtremes(),l=Math.max(o[1]-o[0],1e-30),c=(this.canvasRect_.w-.5)/l,h=(this.canvasRect_.h-.5)/r,d=this.canvasRect_.w-.5,u=this.canvasRect_.h-.5,p=null,f=null;s.beginPath(),s.moveTo(.5,u);for(var g=0;g<a.data.length;g++){var m=a.data[g],v=null!==m[0]?(m[0]-o[0])*c:NaN,b=null!==m[1]?u-(m[1]-a.yMin)*h:NaN;(n||null===p||Math.round(v)!=Math.round(p))&&(isFinite(v)&&isFinite(b)?(null===p?s.lineTo(v,u):n&&s.lineTo(v,f),s.lineTo(v,b),p=v,f=b):(null!==p&&(n?(s.lineTo(v,f),s.lineTo(v,u)):s.lineTo(p,u)),p=f=null))}if(s.lineTo(d,u),s.closePath(),e){var w=this.bgcanvas_ctx_.createLinearGradient(0,0,0,u);t&&w.addColorStop(0,t),w.addColorStop(1,e),this.bgcanvas_ctx_.fillStyle=w,s.fill()}i&&(this.bgcanvas_ctx_.strokeStyle=i,this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorPlotLineWidth"),s.stroke())}},h.prototype.computeCombinedSeriesAndLimits_=function(){var e,t=this.dygraph_,i=this.getOption_("logscale"),n=t.numColumns(),a=t.getLabels(),s=new Array(n),o=!1,l=t.visibility(),c=[];for(e=1;e<n;e++){var h=this.getOption_("showInRangeSelector",a[e]);c.push(h),null!==h&&(o=!0)}if(o)for(e=1;e<n;e++)s[e]=c[e-1];else for(e=1;e<n;e++)s[e]=l[e-1];var d=[],u=t.dataHandler_,p=t.attributes_;for(e=1;e<t.numColumns();e++)if(s[e]){var f=u.extractSeries(t.rawData_,e,p);t.rollPeriod()>1&&(f=u.rollingAverage(f,t.rollPeriod(),p)),d.push(f)}var g=[];for(e=0;e<d[0].length;e++){for(var m=0,v=0,b=0;b<d.length;b++){var w=d[b][e][1];null===w||isNaN(w)||(v++,m+=w)}g.push([d[0][e][0],m/v])}var y=Number.MAX_VALUE,_=-Number.MAX_VALUE;for(e=0;e<g.length;e++){var x=g[e][1];null!==x&&isFinite(x)&&(!i||x>0)&&(y=Math.min(y,x),_=Math.max(_,x))}if(i)for(_=r.log10(_),_+=.25*_,y=r.log10(y),e=0;e<g.length;e++)g[e][1]=r.log10(g[e][1]);else{var C,S=_-y;C=S<=Number.MIN_VALUE?.25*_:.25*S,_+=C,y-=C}return{data:g,yMin:y,yMax:_}},h.prototype.placeZoomHandles_=function(){var e=this.dygraph_.xAxisExtremes(),t=this.dygraph_.xAxisRange(),i=e[1]-e[0],n=Math.max(0,(t[0]-e[0])/i),a=Math.max(0,(e[1]-t[1])/i),r=this.canvasRect_.x+this.canvasRect_.w*n,s=this.canvasRect_.x+this.canvasRect_.w*(1-a),o=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),l=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=r-l+"px",this.leftZoomHandle_.style.top=o+"px",this.rightZoomHandle_.style.left=s-l+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"},h.prototype.drawInteractiveLayer_=function(){var e=this.fgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var t=this.canvasRect_.w-1,i=this.canvasRect_.h-1,n=this.getZoomHandleStatus_();if(e.strokeStyle=this.getOption_("rangeSelectorForegroundStrokeColor"),e.lineWidth=this.getOption_("rangeSelectorForegroundLineWidth"),n.isZoomed){var a=Math.max(1,n.leftHandlePos-this.canvasRect_.x),r=Math.min(t,n.rightHandlePos-this.canvasRect_.x);e.fillStyle="rgba(240, 240, 240, "+this.getOption_("rangeSelectorAlpha").toString()+")",e.fillRect(0,0,a,this.canvasRect_.h),e.fillRect(r,0,this.canvasRect_.w-r,this.canvasRect_.h),e.beginPath(),e.moveTo(1,1),e.lineTo(a,1),e.lineTo(a,i),e.lineTo(r,i),e.lineTo(r,1),e.lineTo(t,1),e.stroke()}else e.beginPath(),e.moveTo(1,1),e.lineTo(1,i),e.lineTo(t,i),e.lineTo(t,1),e.stroke()},h.prototype.getZoomHandleStatus_=function(){var e=this.leftZoomHandle_.width/2,t=parseFloat(this.leftZoomHandle_.style.left)+e,i=parseFloat(this.rightZoomHandle_.style.left)+e;return{leftHandlePos:t,rightHandlePos:i,isZoomed:t-1>this.canvasRect_.x||i+1<this.canvasRect_.x+this.canvasRect_.w}},i.default=h,t.exports=i.default},{"../dygraph-interaction-model":12,"../dygraph-utils":17,"../iframe-tarp":19}]},{},[18])(18)},function(e,t){!function(){"use strict";window.dygraphConfig={defaultFrame:12e5,zeropad:function(e){return e<10?"0"+e:e},xAxisFormat:function(e){if(-1===e)return"";var t=new Date(e);return this.zeropad(t.getHours())+":"+this.zeropad(t.getMinutes())+":"+this.zeropad(t.getSeconds())},mergeObjects:function(e,t,i){i||(i=[]);var n,a={};return i.forEach(function(i){var n=e[i],r=t[i];void 0===n&&(n={}),void 0===r&&(r={}),a[i]=_.extend(n,r)}),n=_.extend(e,t),Object.keys(a).forEach(function(e){n[e]=a[e]}),n},mapStatToFigure:{pageFaults:["times","majorPageFaultsPerSecond","minorPageFaultsPerSecond"],systemUserTime:["times","systemTimePerSecond","userTimePerSecond"],totalTime:["times","avgQueueTime","avgRequestTime","avgIoTime"],dataTransfer:["times","bytesSentPerSecond","bytesReceivedPerSecond"],requests:["times","getsPerSecond","putsPerSecond","postsPerSecond","deletesPerSecond","patchesPerSecond","headsPerSecond","optionsPerSecond","othersPerSecond"]},colors:["rgb(95, 194, 135)","rgb(238, 190, 77)","#81ccd8","#7ca530","#3c3c3c","#aa90bd","#e1811d","#c7d4b2","#d0b2d4"],figureDependedOptions:{clusterRequestsPerSecond:{showLabelsOnHighlight:!0,title:"",header:"Cluster Requests per Second",stackedGraph:!0,div:"lineGraphLegend",labelsKMG2:!1,axes:{y:{valueFormatter:function(e){return parseFloat(e.toPrecision(3))},axisLabelFormatter:function(e){return 0===e?0:parseFloat(e.toPrecision(3))}}}},pageFaults:{header:"Page Faults",visibility:[!0,!1],labels:["datetime","Major Page","Minor Page"],div:"pageFaultsChart",labelsKMG2:!1,axes:{y:{valueFormatter:function(e){return parseFloat(e.toPrecision(3))},axisLabelFormatter:function(e){return 0===e?0:parseFloat(e.toPrecision(3))}}}},systemUserTime:{div:"systemUserTimeChart",header:"System and User Time",labels:["datetime","System Time","User Time"],stackedGraph:!0,labelsKMG2:!1,axes:{y:{valueFormatter:function(e){return parseFloat(e.toPrecision(3))},axisLabelFormatter:function(e){return 0===e?0:parseFloat(e.toPrecision(3))}}}},totalTime:{div:"totalTimeChart",header:"Total Time",labels:["datetime","Queue","Computation","I/O"],labelsKMG2:!1,axes:{y:{valueFormatter:function(e){return parseFloat(e.toPrecision(3))},axisLabelFormatter:function(e){return 0===e?0:parseFloat(e.toPrecision(3))}}},stackedGraph:!0},dataTransfer:{header:"Data Transfer",labels:["datetime","Bytes sent","Bytes received"],stackedGraph:!0,div:"dataTransferChart"},requests:{header:"Requests",labels:["datetime","Reads","Writes"],stackedGraph:!0,div:"requestsChart",axes:{y:{valueFormatter:function(e){return parseFloat(e.toPrecision(3))},axisLabelFormatter:function(e){return 0===e?0:parseFloat(e.toPrecision(3))}}}}},getDashBoardFigures:function(e){var t=[],i=this;return Object.keys(this.figureDependedOptions).forEach(function(n){"clusterRequestsPerSecond"!==n&&(i.figureDependedOptions[n].div||e)&&t.push(n)}),t},getDefaultConfig:function(e){var t=this,i={digitsAfterDecimal:1,drawGapPoints:!0,fillGraph:!0,fillAlpha:.85,showLabelsOnHighlight:!1,strokeWidth:0,lineWidth:0,strokeBorderWidth:0,includeZero:!0,highlightCircleSize:2.5,labelsSeparateLines:!0,strokeBorderColor:"rgba(0,0,0,0)",interactionModel:{},maxNumberWidth:10,colors:[this.colors[0]],xAxisLabelWidth:"50",rightGap:15,showRangeSelector:!1,rangeSelectorHeight:50,rangeSelectorPlotStrokeColor:"#365300",rangeSelectorPlotFillColor:"",pixelsPerLabel:50,labelsKMG2:!0,dateWindow:[(new Date).getTime()-this.defaultFrame,(new Date).getTime()],axes:{x:{valueFormatter:function(e){return t.xAxisFormat(e)}},y:{ticker:Dygraph.numericLinearTicks}}};return this.figureDependedOptions[e]&&(i=this.mergeObjects(i,this.figureDependedOptions[e],["axes"])).div&&i.labels&&(i.colors=this.getColors(i.labels),i.labelsDiv=document.getElementById(i.div+"Legend"),i.legend="always",i.showLabelsOnHighlight=!0),i},getDetailChartConfig:function(e){var t=_.extend(this.getDefaultConfig(e),{showRangeSelector:!0,interactionModel:null,showLabelsOnHighlight:!0,highlightCircleSize:2.5,legend:"always",labelsDiv:"div#detailLegend.dashboard-legend-inner"});return"pageFaults"===e&&(t.visibility=[!0,!0]),t.labels||(t.labels=["datetime",t.header],t.colors=this.getColors(t.labels)),t},getColors:function(e){return this.colors.concat([]).slice(0,e.length-1)}}}()},function(e,t,i){(function(e){e.exports=function(){"use strict";function t(){return Ze.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var i in t)l(t,i)&&(e[i]=t[i]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,i,n){return we(e,t,i,n,!0).utc()}function d(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function u(e){if(null==e._isValid){var t=d(e),i=Xe.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function p(e){var t=h(NaN);return null!=e?c(d(t),e):d(t).userInvalidated=!0,t}function f(e,t){var i,n,r;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=d(t)),a(t._locale)||(e._locale=t._locale),Ke.length>0)for(i=0;i<Ke.length;i++)n=Ke[i],a(r=t[n])||(e[n]=r);return e}function g(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===et&&(et=!0,t.updateOffset(this),et=!1)}function m(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function v(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=v(t)),i}function w(e,t,i){var n,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(n=0;n<a;n++)(i&&e[n]!==t[n]||!i&&b(e[n])!==b(t[n]))&&s++;return s+r}function y(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function _(e,i){var n=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),n){for(var a,r=[],s=0;s<arguments.length;s++){if(a="","object"==typeof arguments[s]){for(var o in a+="\n["+s+"] ",arguments[0])a+=o+": "+arguments[0][o]+", ";a=a.slice(0,-2)}else a=arguments[s];r.push(a)}y(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function x(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),tt[e]||(y(i),tt[e]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e,t){var i,a=c({},e);for(i in t)l(t,i)&&(n(e[i])&&n(t[i])?(a[i]={},c(a[i],e[i]),c(a[i],t[i])):null!=t[i]?a[i]=t[i]:delete a[i]);for(i in e)l(e,i)&&!l(t,i)&&n(e[i])&&(a[i]=c({},a[i]));return a}function T(e){null!=e&&this.set(e)}function k(e,t){var i=e.toLowerCase();nt[i]=nt[i+"s"]=nt[t]=e}function A(e){return"string"==typeof e?nt[e]||nt[e.toLowerCase()]:void 0}function P(e){var t,i,n={};for(i in e)l(e,i)&&(t=A(i))&&(n[t]=e[i]);return n}function D(e,t){at[e]=t}function E(e,i){return function(n){return null!=n?(I(this,e,n),t.updateOffset(this,i),this):M(this,e)}}function M(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function I(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function O(e,t,i){var n=""+Math.abs(e),a=t-n.length,r=e>=0;return(r?i?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}function L(e,t,i,n){var a=n;"string"==typeof n&&(a=function(){return this[n]()}),e&&(lt[e]=a),t&&(lt[t[0]]=function(){return O(a.apply(this,arguments),t[1],t[2])}),i&&(lt[i]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function N(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e,t){return e.isValid()?(t=$(t,e.localeData()),ot[t]=ot[t]||function(e){var t,i,n=e.match(rt);for(t=0,i=n.length;t<i;t++)lt[n[t]]?n[t]=lt[n[t]]:n[t]=N(n[t]);return function(t){var a,r="";for(a=0;a<i;a++)r+=C(n[a])?n[a].call(t,e):n[a];return r}}(t),ot[t](e)):e.localeData().invalidDate()}function $(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(st.lastIndex=0;n>=0&&st.test(e);)e=e.replace(st,i),st.lastIndex=0,n-=1;return e}function B(e,t,i){Tt[e]=C(t)?t:function(e,n){return e&&i?i:t}}function V(e,t){return l(Tt,e)?Tt[e](t._strict,t._locale):new RegExp(function(e){return F(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,a){return t||i||n||a}))}(e))}function F(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),r(t)&&(n=function(e,i){i[t]=b(e)}),i=0;i<e.length;i++)kt[e[i]]=n}function j(e,t){H(e,function(e,i,n,a){n._w=n._w||{},t(e,n._w,n,a)})}function z(e,t,i){null!=t&&l(kt,e)&&kt[e](t,i._a,i,e)}function U(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function W(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(!r(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),U(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function G(e){return null!=e?(W(this,e),t.updateOffset(this,!0),this):M(this,"Month")}function Y(){function e(e,t){return t.length-e.length}var t,i,n=[],a=[],r=[];for(t=0;t<12;t++)i=h([2e3,t]),n.push(this.monthsShort(i,"")),a.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(e),a.sort(e),r.sort(e),t=0;t<12;t++)n[t]=F(n[t]),a[t]=F(a[t]);for(t=0;t<24;t++)r[t]=F(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function q(e){return Q(e)?366:365}function Q(e){return e%4===0&&e%100!==0||e%400===0}function J(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Z(e,t,i){var n=7+t-i,a=(7+J(e,0,n).getUTCDay()-t)%7;return-a+n-1}function X(e,t,i,n,a){var r,s,o=(7+i-n)%7,l=Z(e,n,a),c=1+7*(t-1)+o+l;return c<=0?s=q(r=e-1)+c:c>q(e)?(r=e+1,s=c-q(e)):(r=e,s=c),{year:r,dayOfYear:s}}function K(e,t,i){var n,a,r=Z(e.year(),t,i),s=Math.floor((e.dayOfYear()-r-1)/7)+1;return s<1?(a=e.year()-1,n=s+ee(a,t,i)):s>ee(e.year(),t,i)?(n=s-ee(e.year(),t,i),a=e.year()+1):(a=e.year(),n=s),{week:n,year:a}}function ee(e,t,i){var n=Z(e,t,i),a=Z(e+1,t,i);return(q(e)-n+a)/7}function te(){function e(e,t){return t.length-e.length}var t,i,n,a,r,s=[],o=[],l=[],c=[];for(t=0;t<7;t++)i=h([2e3,1]).day(t),n=this.weekdaysMin(i,""),a=this.weekdaysShort(i,""),r=this.weekdays(i,""),s.push(n),o.push(a),l.push(r),c.push(n),c.push(a),c.push(r);for(s.sort(e),o.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)o[t]=F(o[t]),l[t]=F(l[t]),c[t]=F(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ie(){return this.hours()%12||12}function ne(e,t){L(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ae(e,t){return t._meridiemParse}function re(e){return e?e.toLowerCase().replace("_","-"):e}function se(t){var i=null;if(!Xt[t]&&"undefined"!=typeof e&&e&&e.exports)try{i=Qt._abbr,function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),oe(i)}catch(t){}return Xt[t]}function oe(e,t){var i;return e&&(i=a(t)?ce(e):le(e,t))&&(Qt=i),Qt._abbr}function le(e,t){if(null!==t){var i=Zt;if(t.abbr=e,null!=Xt[e])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Xt[e]._config;else if(null!=t.parentLocale){if(null==Xt[t.parentLocale])return Kt[t.parentLocale]||(Kt[t.parentLocale]=[]),Kt[t.parentLocale].push({name:e,config:t}),null;i=Xt[t.parentLocale]._config}return Xt[e]=new T(S(i,t)),Kt[e]&&Kt[e].forEach(function(e){le(e.name,e.config)}),oe(e),Xt[e]}return delete Xt[e],null}function ce(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Qt;if(!i(e)){if(t=se(e))return t;e=[e]}return function(e){for(var t,i,n,a,r=0;r<e.length;){for(a=re(e[r]).split("-"),t=a.length,i=(i=re(e[r+1]))?i.split("-"):null;t>0;){if(n=se(a.slice(0,t).join("-")))return n;if(i&&i.length>=t&&w(a,i,!0)>=t-1)break;t--}r++}return null}(e)}function he(e){var t,i=e._a;return i&&-2===d(e).overflow&&(t=i[Pt]<0||i[Pt]>11?Pt:i[Dt]<1||i[Dt]>U(i[At],i[Pt])?Dt:i[Et]<0||i[Et]>24||24===i[Et]&&(0!==i[Mt]||0!==i[It]||0!==i[Ot])?Et:i[Mt]<0||i[Mt]>59?Mt:i[It]<0||i[It]>59?It:i[Ot]<0||i[Ot]>999?Ot:-1,d(e)._overflowDayOfYear&&(t<At||t>Dt)&&(t=Dt),d(e)._overflowWeeks&&-1===t&&(t=Lt),d(e)._overflowWeekday&&-1===t&&(t=Nt),d(e).overflow=t),e}function de(e){var t,i,n,a,r,s,o=e._i,l=ei.exec(o)||ti.exec(o);if(l){for(d(e).iso=!0,t=0,i=ni.length;t<i;t++)if(ni[t][1].exec(l[1])){a=ni[t][0],n=!1!==ni[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,i=ai.length;t<i;t++)if(ai[t][1].exec(l[3])){r=(l[2]||" ")+ai[t][0];break}if(null==r)return void(e._isValid=!1)}if(!n&&null!=r)return void(e._isValid=!1);if(l[4]){if(!ii.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=a+(r||"")+(s||""),me(e)}else e._isValid=!1}function ue(e){var t,i,n,a,r,s,o,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),i=si.exec(t)){if(n=i[1]?"ddd"+(5===i[1].length?", ":" "):"",a="D MMM "+(i[2].length>10?"YYYY ":"YY "),r="HH:mm"+(i[4]?":ss":""),i[1]){var c=new Date(i[2]),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][c.getDay()];if(i[1].substr(0,3)!==h)return d(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(i[5].length){case 2:0===o?s=" +0000":(o="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(i[5][1].toUpperCase())-12,s=(o<0?" -":" +")+(""+o).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=l[i[5]];break;default:s=l[" GMT"]}i[5]=s,e._i=i.splice(1).join(""),e._f=n+a+r+" ZZ",me(e),d(e).rfc2822=!0}else e._isValid=!1}function pe(e,t,i){return null!=e?e:null!=t?t:i}function fe(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function ge(e){var t,i,n,a,r=[];if(!e._d){for(n=fe(e),e._w&&null==e._a[Dt]&&null==e._a[Pt]&&function(e){var t,i,n,a,r,s,o,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,s=4,i=pe(t.GG,e._a[At],K(ye(),1,4).year),n=pe(t.W,1),((a=pe(t.E,1))<1||a>7)&&(l=!0);else{r=e._locale._week.dow,s=e._locale._week.doy;var c=K(ye(),r,s);i=pe(t.gg,e._a[At],c.year),n=pe(t.w,c.week),null!=t.d?((a=t.d)<0||a>6)&&(l=!0):null!=t.e?(a=t.e+r,(t.e<0||t.e>6)&&(l=!0)):a=r}n<1||n>ee(i,r,s)?d(e)._overflowWeeks=!0:null!=l?d(e)._overflowWeekday=!0:(o=X(i,n,a,r,s),e._a[At]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(a=pe(e._a[At],n[At]),(e._dayOfYear>q(a)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),i=J(a,0,e._dayOfYear),e._a[Pt]=i.getUTCMonth(),e._a[Dt]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=n[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Et]&&0===e._a[Mt]&&0===e._a[It]&&0===e._a[Ot]&&(e._nextDay=!0,e._a[Et]=0),e._d=(e._useUTC?J:function(e,t,i,n,a,r,s){var o=new Date(e,t,i,n,a,r,s);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Et]=24)}}function me(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],d(e).empty=!0;var i,n,a,r,s,o=""+e._i,l=o.length,c=0;for(a=$(e._f,e._locale).match(rt)||[],i=0;i<a.length;i++)r=a[i],(n=(o.match(V(r,e))||[])[0])&&((s=o.substr(0,o.indexOf(n))).length>0&&d(e).unusedInput.push(s),o=o.slice(o.indexOf(n)+n.length),c+=n.length),lt[r]?(n?d(e).empty=!1:d(e).unusedTokens.push(r),z(r,n,e)):e._strict&&!n&&d(e).unusedTokens.push(r);d(e).charsLeftOver=l-c,o.length>0&&d(e).unusedInput.push(o),e._a[Et]<=12&&!0===d(e).bigHour&&e._a[Et]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[Et]=function(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[Et],e._meridiem),ge(e),he(e)}else ue(e);else de(e)}function ve(e){var t=e._i,n=e._f;return e._locale=e._locale||ce(e._l),null===t||void 0===n&&""===t?p({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),m(t)?new g(he(t)):(s(t)?e._d=t:i(n)?function(e){var t,i,n,a,r;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)r=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],me(t),u(t)&&(r+=d(t).charsLeftOver,r+=10*d(t).unusedTokens.length,d(t).score=r,(null==n||r<n)&&(n=r,i=t));c(e,i||t)}(e):n?me(e):be(e),u(e)||(e._d=null),e))}function be(e){var l=e._i;a(l)?e._d=new Date(t.now()):s(l)?e._d=new Date(l.valueOf()):"string"==typeof l?function(e){var i=ri.exec(e._i);null!==i?e._d=new Date(+i[1]):(de(e),!1===e._isValid&&(delete e._isValid,ue(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e))))}(e):i(l)?(e._a=o(l.slice(0),function(e){return parseInt(e,10)}),ge(e)):n(l)?function(e){if(!e._d){var t=P(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ge(e)}}(e):r(l)?e._d=new Date(l):t.createFromInputFallback(e)}function we(e,t,a,r,s){var o={};return!0!==a&&!1!==a||(r=a,a=void 0),(n(e)&&function(e){var t;for(t in e)return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=s,o._l=a,o._i=e,o._f=t,o._strict=r,function(e){var t=new g(he(ve(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(o)}function ye(e,t,i,n){return we(e,t,i,n,!1)}function _e(e,t){var n,a;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return ye();for(n=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](n)||(n=t[a]);return n}function xe(e){var t=P(e),i=t.year||0,n=t.quarter||0,a=t.month||0,r=t.week||0,s=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,h=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ci.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,n=0;n<ci.length;++n)if(e[ci[n]]){if(i)return!1;parseFloat(e[ci[n]])!==b(e[ci[n]])&&(i=!0)}return!0}(t),this._milliseconds=+h+1e3*c+6e4*l+1e3*o*60*60,this._days=+s+7*r,this._months=+a+3*n+12*i,this._data={},this._locale=ce(),this._bubble()}function Ce(e){return e instanceof xe}function Se(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Te(e,t){L(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+O(~~(e/60),2)+t+O(~~e%60,2)})}function ke(e,t){var i=(t||"").match(e);if(null===i)return null;var n=i[i.length-1]||[],a=(n+"").match(hi)||["-",0,0],r=60*a[1]+b(a[2]);return 0===r?0:"+"===a[0]?r:-r}function Ae(e,i){var n,a;return i._isUTC?(n=i.clone(),a=(m(e)||s(e)?e.valueOf():ye(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),t.updateOffset(n,!1),n):ye(e).local()}function Pe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function De(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Ee(e,t){var i,n,a,s=e,o=null;return Ce(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(s={},t?s[t]=e:s.milliseconds=e):(o=di.exec(e))?(i="-"===o[1]?-1:1,s={y:0,d:b(o[Dt])*i,h:b(o[Et])*i,m:b(o[Mt])*i,s:b(o[It])*i,ms:b(Se(1e3*o[Ot]))*i}):(o=ui.exec(e))?(i="-"===o[1]?-1:1,s={y:Me(o[2],i),M:Me(o[3],i),w:Me(o[4],i),d:Me(o[5],i),h:Me(o[6],i),m:Me(o[7],i),s:Me(o[8],i)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=function(e,t){var i;return e.isValid()&&t.isValid()?(t=Ae(t,e),e.isBefore(t)?i=Ie(e,t):((i=Ie(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(ye(s.from),ye(s.to)),(s={}).ms=a.milliseconds,s.M=a.months),n=new xe(s),Ce(e)&&l(e,"_locale")&&(n._locale=e._locale),n}function Me(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Ie(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Oe(e,t){return function(i,n){var a;return null===n||isNaN(+n)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=i,i=n,n=a),Le(this,Ee(i="string"==typeof i?+i:i,n),e),this}}function Le(e,i,n,a){var r=i._milliseconds,s=Se(i._days),o=Se(i._months);e.isValid()&&(a=null==a||a,r&&e._d.setTime(e._d.valueOf()+r*n),s&&I(e,"Date",M(e,"Date")+s*n),o&&W(e,M(e,"Month")+o*n),a&&t.updateOffset(e,s||o))}function Ne(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ce(e))&&(this._locale=t),this)}function Re(){return this._locale}function $e(e,t){L(0,[e,e.length],0,t)}function Be(e,t,i,n,a){var r;return null==e?K(this,n,a).year:(r=ee(e,n,a),t>r&&(t=r),function(e,t,i,n,a){var r=X(e,t,i,n,a),s=J(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,e,t,i,n,a))}function Ve(e,t){t[Ot]=b(1e3*("0."+e))}function Fe(e){return e}function He(e,t,i,n){var a=ce(),r=h().set(n,t);return a[i](r,e)}function je(e,t,i){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return He(e,t,i,"month");var n,a=[];for(n=0;n<12;n++)a[n]=He(e,n,i,"month");return a}function ze(e,t,i,n){"boolean"==typeof e?(r(t)&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,r(t)&&(i=t,t=void 0),t=t||"");var a=ce(),s=e?a._week.dow:0;if(null!=i)return He(t,(i+s)%7,n,"day");var o,l=[];for(o=0;o<7;o++)l[o]=He(t,(o+s)%7,n,"day");return l}function Ue(e,t,i,n){var a=Ee(t,i);return e._milliseconds+=n*a._milliseconds,e._days+=n*a._days,e._months+=n*a._months,e._bubble()}function We(e){return e<0?Math.floor(e):Math.ceil(e)}function Ge(e){return 4800*e/146097}function Ye(e){return 146097*e/4800}function qe(e){return function(){return this.as(e)}}function Qe(e){return function(){return this.isValid()?this._data[e]:NaN}}function Je(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i=Hi(this._milliseconds)/1e3,n=Hi(this._days),a=Hi(this._months);e=v(i/60),t=v(e/60),i%=60,e%=60;var r=v(a/12),s=a%=12,o=n,l=t,c=e,h=i,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(r?r+"Y":"")+(s?s+"M":"")+(o?o+"D":"")+(l||c||h?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var Ze,Xe=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1},Ke=t.momentProperties=[],et=!1,tt={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var it=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)l(e,t)&&i.push(t);return i},nt={},at={},rt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,st=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ot={},lt={},ct=/\d/,ht=/\d\d/,dt=/\d{3}/,ut=/\d{4}/,pt=/[+-]?\d{6}/,ft=/\d\d?/,gt=/\d\d\d\d?/,mt=/\d\d\d\d\d\d?/,vt=/\d{1,3}/,bt=/\d{1,4}/,wt=/[+-]?\d{1,6}/,yt=/\d+/,_t=/[+-]?\d+/,xt=/Z|[+-]\d\d:?\d\d/gi,Ct=/Z|[+-]\d\d(?::?\d\d)?/gi,St=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Tt={},kt={},At=0,Pt=1,Dt=2,Et=3,Mt=4,It=5,Ot=6,Lt=7,Nt=8,Rt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),L("MMMM",0,0,function(e){return this.localeData().months(this,e)}),k("month","M"),D("month",8),B("M",ft),B("MM",ft,ht),B("MMM",function(e,t){return t.monthsShortRegex(e)}),B("MMMM",function(e,t){return t.monthsRegex(e)}),H(["M","MM"],function(e,t){t[Pt]=b(e)-1}),H(["MMM","MMMM"],function(e,t,i,n){var a=i._locale.monthsParse(e,n,i._strict);null!=a?t[Pt]=a:d(i).invalidMonth=e});var $t=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Bt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Vt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ft=St,Ht=St;L("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),k("year","y"),D("year",1),B("Y",_t),B("YY",ft,ht),B("YYYY",bt,ut),B("YYYYY",wt,pt),B("YYYYYY",wt,pt),H(["YYYYY","YYYYYY"],At),H("YYYY",function(e,i){i[At]=2===e.length?t.parseTwoDigitYear(e):b(e)}),H("YY",function(e,i){i[At]=t.parseTwoDigitYear(e)}),H("Y",function(e,t){t[At]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var jt=E("FullYear",!0);L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),D("week",5),D("isoWeek",5),B("w",ft),B("ww",ft,ht),B("W",ft),B("WW",ft,ht),j(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=b(e)}),L("d",0,"do","day"),L("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),L("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),L("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),D("day",11),D("weekday",11),D("isoWeekday",11),B("d",ft),B("e",ft),B("E",ft),B("dd",function(e,t){return t.weekdaysMinRegex(e)}),B("ddd",function(e,t){return t.weekdaysShortRegex(e)}),B("dddd",function(e,t){return t.weekdaysRegex(e)}),j(["dd","ddd","dddd"],function(e,t,i,n){var a=i._locale.weekdaysParse(e,n,i._strict);null!=a?t.d=a:d(i).invalidWeekday=e}),j(["d","e","E"],function(e,t,i,n){t[n]=b(e)});var zt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ut="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Wt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Gt=St,Yt=St,qt=St;L("H",["HH",2],0,"hour"),L("h",["hh",2],0,ie),L("k",["kk",2],0,function(){return this.hours()||24}),L("hmm",0,0,function(){return""+ie.apply(this)+O(this.minutes(),2)}),L("hmmss",0,0,function(){return""+ie.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+O(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)}),ne("a",!0),ne("A",!1),k("hour","h"),D("hour",13),B("a",ae),B("A",ae),B("H",ft),B("h",ft),B("k",ft),B("HH",ft,ht),B("hh",ft,ht),B("kk",ft,ht),B("hmm",gt),B("hmmss",mt),B("Hmm",gt),B("Hmmss",mt),H(["H","HH"],Et),H(["k","kk"],function(e,t,i){var n=b(e);t[Et]=24===n?0:n}),H(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),H(["h","hh"],function(e,t,i){t[Et]=b(e),d(i).bigHour=!0}),H("hmm",function(e,t,i){var n=e.length-2;t[Et]=b(e.substr(0,n)),t[Mt]=b(e.substr(n)),d(i).bigHour=!0}),H("hmmss",function(e,t,i){var n=e.length-4,a=e.length-2;t[Et]=b(e.substr(0,n)),t[Mt]=b(e.substr(n,2)),t[It]=b(e.substr(a)),d(i).bigHour=!0}),H("Hmm",function(e,t,i){var n=e.length-2;t[Et]=b(e.substr(0,n)),t[Mt]=b(e.substr(n))}),H("Hmmss",function(e,t,i){var n=e.length-4,a=e.length-2;t[Et]=b(e.substr(0,n)),t[Mt]=b(e.substr(n,2)),t[It]=b(e.substr(a))});var Qt,Jt=E("Hours",!0),Zt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Bt,monthsShort:Vt,week:{dow:0,doy:6},weekdays:zt,weekdaysMin:Wt,weekdaysShort:Ut,meridiemParse:/[ap]\.?m?\.?/i},Xt={},Kt={},ei=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ti=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ii=/Z|[+-]\d\d(?::?\d\d)?/,ni=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ai=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ri=/^\/?Date\((\-?\d+)/i,si=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var oi=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ye.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),li=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ye.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}),ci=["year","quarter","month","week","day","hour","minute","second","millisecond"];Te("Z",":"),Te("ZZ",""),B("Z",Ct),B("ZZ",Ct),H(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=ke(Ct,e)});var hi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var di=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ui=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ee.fn=xe.prototype,Ee.invalid=function(){return Ee(NaN)};var pi=Oe(1,"add"),fi=Oe(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var gi=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),$e("gggg","weekYear"),$e("ggggg","weekYear"),$e("GGGG","isoWeekYear"),$e("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),D("weekYear",1),D("isoWeekYear",1),B("G",_t),B("g",_t),B("GG",ft,ht),B("gg",ft,ht),B("GGGG",bt,ut),B("gggg",bt,ut),B("GGGGG",wt,pt),B("ggggg",wt,pt),j(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=b(e)}),j(["gg","GG"],function(e,i,n,a){i[a]=t.parseTwoDigitYear(e)}),L("Q",0,"Qo","quarter"),k("quarter","Q"),D("quarter",7),B("Q",ct),H("Q",function(e,t){t[Pt]=3*(b(e)-1)}),L("D",["DD",2],"Do","date"),k("date","D"),D("date",9),B("D",ft),B("DD",ft,ht),B("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),H(["D","DD"],Dt),H("Do",function(e,t){t[Dt]=b(e.match(ft)[0])});var mi=E("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),D("dayOfYear",4),B("DDD",vt),B("DDDD",dt),H(["DDD","DDDD"],function(e,t,i){i._dayOfYear=b(e)}),L("m",["mm",2],0,"minute"),k("minute","m"),D("minute",14),B("m",ft),B("mm",ft,ht),H(["m","mm"],Mt);var vi=E("Minutes",!1);L("s",["ss",2],0,"second"),k("second","s"),D("second",15),B("s",ft),B("ss",ft,ht),H(["s","ss"],It);var bi,wi=E("Seconds",!1);for(L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),D("millisecond",16),B("S",vt,ct),B("SS",vt,ht),B("SSS",vt,dt),bi="SSSS";bi.length<=9;bi+="S")B(bi,yt);for(bi="S";bi.length<=9;bi+="S")H(bi,Ve);var yi=E("Milliseconds",!1);L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var _i=g.prototype;_i.add=pi,_i.calendar=function(e,i){var n=e||ye(),a=Ae(n,this).startOf("day"),r=t.calendarFormat(this,a)||"sameElse",s=i&&(C(i[r])?i[r].call(this,n):i[r]);return this.format(s||this.localeData().calendar(r,this,ye(n)))},_i.clone=function(){return new g(this)},_i.diff=function(e,t,i){var n,a,r,s;return this.isValid()&&(n=Ae(e,this)).isValid()?(a=6e4*(n.utcOffset()-this.utcOffset()),"year"===(t=A(t))||"month"===t||"quarter"===t?(s=function(e,t){var i,n,a=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(a,"months");return t-r<0?(i=e.clone().add(a-1,"months"),n=(t-r)/(r-i)):(i=e.clone().add(a+1,"months"),n=(t-r)/(i-r)),-(a+n)||0}(this,n),"quarter"===t?s/=3:"year"===t&&(s/=12)):(r=this-n,s="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),i?s:v(s)):NaN},_i.endOf=function(e){return void 0===(e=A(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},_i.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=R(this,e);return this.localeData().postformat(i)},_i.from=function(e,t){return this.isValid()&&(m(e)&&e.isValid()||ye(e).isValid())?Ee({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},_i.fromNow=function(e){return this.from(ye(),e)},_i.to=function(e,t){return this.isValid()&&(m(e)&&e.isValid()||ye(e).isValid())?Ee({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},_i.toNow=function(e){return this.to(ye(),e)},_i.get=function(e){return C(this[e=A(e)])?this[e]():this},_i.invalidAt=function(){return d(this).overflow},_i.isAfter=function(e,t){var i=m(e)?e:ye(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=A(a(t)?"millisecond":t))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},_i.isBefore=function(e,t){var i=m(e)?e:ye(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=A(a(t)?"millisecond":t))?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},_i.isBetween=function(e,t,i,n){return("("===(n=n||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))},_i.isSame=function(e,t){var i,n=m(e)?e:ye(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(t||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},_i.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},_i.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},_i.isValid=function(){return u(this)},_i.lang=gi,_i.locale=Ne,_i.localeData=Re,_i.max=li,_i.min=oi,_i.parsingFlags=function(){return c({},d(this))},_i.set=function(e,t){if("object"==typeof e)for(var i=function(e){var t=[];for(var i in e)t.push({unit:i,priority:at[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=P(e)),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit]);else if(C(this[e=A(e)]))return this[e](t);return this},_i.startOf=function(e){switch(e=A(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},_i.subtract=fi,_i.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},_i.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},_i.toDate=function(){return new Date(this.valueOf())},_i.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?R(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):C(Date.prototype.toISOString)?this.toDate().toISOString():R(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},_i.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=t+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+a)},_i.toJSON=function(){return this.isValid()?this.toISOString():null},_i.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},_i.unix=function(){return Math.floor(this.valueOf()/1e3)},_i.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},_i.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},_i.year=jt,_i.isLeapYear=function(){return Q(this.year())},_i.weekYear=function(e){return Be.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},_i.isoWeekYear=function(e){return Be.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},_i.quarter=_i.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},_i.month=G,_i.daysInMonth=function(){return U(this.year(),this.month())},_i.week=_i.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},_i.isoWeek=_i.isoWeeks=function(e){var t=K(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},_i.weeksInYear=function(){var e=this.localeData()._week;return ee(this.year(),e.dow,e.doy)},_i.isoWeeksInYear=function(){return ee(this.year(),1,4)},_i.date=mi,_i.day=_i.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},_i.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},_i.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},_i.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},_i.hour=_i.hours=Jt,_i.minute=_i.minutes=vi,_i.second=_i.seconds=wi,_i.millisecond=_i.milliseconds=yi,_i.utcOffset=function(e,i,n){var a,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=ke(Ct,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&i&&(a=Pe(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),r!==e&&(!i||this._changeInProgress?Le(this,Ee(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Pe(this)},_i.utc=function(e){return this.utcOffset(0,e)},_i.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Pe(this),"m")),this},_i.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=ke(xt,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},_i.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?ye(e).utcOffset():0,(this.utcOffset()-e)%60===0)},_i.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},_i.isLocal=function(){return!!this.isValid()&&!this._isUTC},_i.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},_i.isUtc=De,_i.isUTC=De,_i.zoneAbbr=function(){return this._isUTC?"UTC":""},_i.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},_i.dates=_("dates accessor is deprecated. Use date instead.",mi),_i.months=_("months accessor is deprecated. Use month instead",G),_i.years=_("years accessor is deprecated. Use year instead",jt),_i.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),_i.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(f(e,this),(e=ve(e))._a){var t=e._isUTC?h(e._a):ye(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var xi=T.prototype;xi.calendar=function(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return C(n)?n.call(t,i):n},xi.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},xi.invalidDate=function(){return this._invalidDate},xi.ordinal=function(e){return this._ordinal.replace("%d",e)},xi.preparse=Fe,xi.postformat=Fe,xi.relativeTime=function(e,t,i,n){var a=this._relativeTime[i];return C(a)?a(e,t,i,n):a.replace(/%d/i,e)},xi.pastFuture=function(e,t){var i=this._relativeTime[e>0?"future":"past"];return C(i)?i(t):i.replace(/%s/i,t)},xi.set=function(e){var t,i;for(i in e)C(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},xi.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||$t).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},xi.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[$t.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},xi.monthsParse=function(e,t,i){var n,a,r;if(this._monthsParseExact)return function(e,t,i){var n,a,r,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=h([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(a=Rt.call(this._shortMonthsParse,s))?a:null:-1!==(a=Rt.call(this._longMonthsParse,s))?a:null:"MMM"===t?-1!==(a=Rt.call(this._shortMonthsParse,s))?a:-1!==(a=Rt.call(this._longMonthsParse,s))?a:null:-1!==(a=Rt.call(this._longMonthsParse,s))?a:-1!==(a=Rt.call(this._shortMonthsParse,s))?a:null}.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=h([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},xi.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Y.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Ht),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},xi.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Y.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Ft),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},xi.week=function(e){return K(e,this._week.dow,this._week.doy).week},xi.firstDayOfYear=function(){return this._week.doy},xi.firstDayOfWeek=function(){return this._week.dow},xi.weekdays=function(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone},xi.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},xi.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},xi.weekdaysParse=function(e,t,i){var n,a,r;if(this._weekdaysParseExact)return function(e,t,i){var n,a,r,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=h([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(a=Rt.call(this._weekdaysParse,s))?a:null:"ddd"===t?-1!==(a=Rt.call(this._shortWeekdaysParse,s))?a:null:-1!==(a=Rt.call(this._minWeekdaysParse,s))?a:null:"dddd"===t?-1!==(a=Rt.call(this._weekdaysParse,s))?a:-1!==(a=Rt.call(this._shortWeekdaysParse,s))?a:-1!==(a=Rt.call(this._minWeekdaysParse,s))?a:null:"ddd"===t?-1!==(a=Rt.call(this._shortWeekdaysParse,s))?a:-1!==(a=Rt.call(this._weekdaysParse,s))?a:-1!==(a=Rt.call(this._minWeekdaysParse,s))?a:null:-1!==(a=Rt.call(this._minWeekdaysParse,s))?a:-1!==(a=Rt.call(this._weekdaysParse,s))?a:-1!==(a=Rt.call(this._shortWeekdaysParse,s))?a:null}.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=h([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}},xi.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||te.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Gt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},xi.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||te.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Yt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},xi.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||te.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},xi.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},xi.meridiem=function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},oe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),t.lang=_("moment.lang is deprecated. Use moment.locale instead.",oe),t.langData=_("moment.langData is deprecated. Use moment.localeData instead.",ce);var Ci=Math.abs,Si=qe("ms"),Ti=qe("s"),ki=qe("m"),Ai=qe("h"),Pi=qe("d"),Di=qe("w"),Ei=qe("M"),Mi=qe("y"),Ii=Qe("milliseconds"),Oi=Qe("seconds"),Li=Qe("minutes"),Ni=Qe("hours"),Ri=Qe("days"),$i=Qe("months"),Bi=Qe("years"),Vi=Math.round,Fi={ss:44,s:45,m:45,h:22,d:26,M:11},Hi=Math.abs,ji=xe.prototype;return ji.isValid=function(){return this._isValid},ji.abs=function(){var e=this._data;return this._milliseconds=Ci(this._milliseconds),this._days=Ci(this._days),this._months=Ci(this._months),e.milliseconds=Ci(e.milliseconds),e.seconds=Ci(e.seconds),e.minutes=Ci(e.minutes),e.hours=Ci(e.hours),e.months=Ci(e.months),e.years=Ci(e.years),this},ji.add=function(e,t){return Ue(this,e,t,1)},ji.subtract=function(e,t){return Ue(this,e,t,-1)},ji.as=function(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=A(e))||"year"===e)return t=this._days+n/864e5,i=this._months+Ge(t),"month"===e?i:i/12;switch(t=this._days+Math.round(Ye(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},ji.asMilliseconds=Si,ji.asSeconds=Ti,ji.asMinutes=ki,ji.asHours=Ai,ji.asDays=Pi,ji.asWeeks=Di,ji.asMonths=Ei,ji.asYears=Mi,ji.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN},ji._bubble=function(){var e,t,i,n,a,r=this._milliseconds,s=this._days,o=this._months,l=this._data;return r>=0&&s>=0&&o>=0||r<=0&&s<=0&&o<=0||(r+=864e5*We(Ye(o)+s),s=0,o=0),l.milliseconds=r%1e3,e=v(r/1e3),l.seconds=e%60,t=v(e/60),l.minutes=t%60,i=v(t/60),l.hours=i%24,s+=v(i/24),a=v(Ge(s)),o+=a,s-=We(Ye(a)),n=v(o/12),o%=12,l.days=s,l.months=o,l.years=n,this},ji.get=function(e){return e=A(e),this.isValid()?this[e+"s"]():NaN},ji.milliseconds=Ii,ji.seconds=Oi,ji.minutes=Li,ji.hours=Ni,ji.days=Ri,ji.weeks=function(){return v(this.days()/7)},ji.months=$i,ji.years=Bi,ji.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=function(e,t,i){var n=Ee(e).abs(),a=Vi(n.as("s")),r=Vi(n.as("m")),s=Vi(n.as("h")),o=Vi(n.as("d")),l=Vi(n.as("M")),c=Vi(n.as("y")),h=a<=Fi.ss&&["s",a]||a<Fi.s&&["ss",a]||r<=1&&["m"]||r<Fi.m&&["mm",r]||s<=1&&["h"]||s<Fi.h&&["hh",s]||o<=1&&["d"]||o<Fi.d&&["dd",o]||l<=1&&["M"]||l<Fi.M&&["MM",l]||c<=1&&["y"]||["yy",c];return h[2]=t,h[3]=+e>0,h[4]=i,function(e,t,i,n,a){return a.relativeTime(t||1,!!i,e,n)}.apply(null,h)}(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)},ji.toISOString=Je,ji.toString=Je,ji.toJSON=Je,ji.locale=Ne,ji.localeData=Re,ji.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Je),ji.lang=gi,L("X",0,0,"unix"),L("x",0,0,"valueOf"),B("x",_t),B("X",/[+-]?\d+(\.\d{1,3})?/),H("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),H("x",function(e,t,i){i._d=new Date(b(e))}),t.version="2.18.1",function(e){Ze=e}(ye),t.fn=_i,t.min=function(){return _e("isBefore",[].slice.call(arguments,0))},t.max=function(){return _e("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=h,t.unix=function(e){return ye(1e3*e)},t.months=function(e,t){return je(e,t,"months")},t.isDate=s,t.locale=oe,t.invalid=p,t.duration=Ee,t.isMoment=m,t.weekdays=function(e,t,i){return ze(e,t,i,"weekdays")},t.parseZone=function(){return ye.apply(null,arguments).parseZone()},t.localeData=ce,t.isDuration=Ce,t.monthsShort=function(e,t){return je(e,t,"monthsShort")},t.weekdaysMin=function(e,t,i){return ze(e,t,i,"weekdaysMin")},t.defineLocale=le,t.updateLocale=function(e,t){if(null!=t){var i,n=Zt;null!=Xt[e]&&(n=Xt[e]._config),t=S(n,t),(i=new T(t)).parentLocale=Xt[e],Xt[e]=i,oe(e)}else null!=Xt[e]&&(null!=Xt[e].parentLocale?Xt[e]=Xt[e].parentLocale:null!=Xt[e]&&delete Xt[e]);return Xt[e]},t.locales=function(){return it(Xt)},t.weekdaysShort=function(e,t,i){return ze(e,t,i,"weekdaysShort")},t.normalizeUnits=A,t.relativeTimeRounding=function(e){return void 0===e?Vi:"function"==typeof e&&(Vi=e,!0)},t.relativeTimeThreshold=function(e,t){return void 0!==Fi[e]&&(void 0===t?Fi[e]:(Fi[e]=t,"s"===e&&(Fi.ss=t-1),!0))},t.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},t.prototype=_i,t}()}).call(this,i(40)(e))},,function(e,t){(function(){!function(){"use strict";sigma.utils.pkg("sigma.canvas.edges");sigma.canvas.edges.autoCurve=function(e){var t,i=e.settings("autoCurveRatio"),n=e.settings("autoCurveSortByDirection"),a=e.settings("defaultEdgeType"),r=e.graph.edges(),s={key:function(e){var t=e.source+","+e.target;return this[t]?t:!n&&(t=e.target+","+e.source,this[t])?t:(n&&this[e.target+","+e.source]?this[t]={i:1,n:1}:this[t]={i:0,n:0},t)},inc:function(e){this[this.key(e)].n++}};r.forEach(function(e){s.inc(e)}),r.forEach(function(e){t=s.key(e),s[t].n>1||s[t].i>0?(e.cc||("arrow"===e.type||"tapered"===e.type||"arrow"===a||"tapered"===a?(e.cc_prev_type||(e.cc_prev_type=e.type),e.type="curvedArrow"):(e.cc_prev_type||(e.cc_prev_type=e.type),e.type="curve")),e.cc=function(e,t,i,n){var a;return n?{y:(a=e*t/i)||Number.POSITIVE_INFINITY}:{y:(a=e-e/(t/2)*i)?1/a:t}}(i,s[t].n,s[t].i++,n)):e.cc&&(e.type=e.cc_prev_type,e.cc_prev_type=void 0,e.cc=void 0)})}}()}).call(window)},function(e,t){(function(){!function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curve=function(e,t,i,n,a){var r,s=e.color,o=a("prefix")||"",l=e[o+"size"]||1,c=a("edgeColor"),h=a("defaultNodeColor"),d=a("defaultEdgeColor"),u=t[o+"size"],p=t[o+"x"],f=t[o+"y"],g=i[o+"x"],m=i[o+"y"];if(r=t.id===i.id?sigma.utils.getSelfLoopControlPoints(p,f,u):sigma.utils.getQuadraticControlPoint(p,f,g,m,e.cc),!s)switch(c){case"source":s=t.color||h;break;case"target":s=i.color||h;break;default:s=d}n.strokeStyle=s,n.lineWidth=l,n.beginPath(),n.moveTo(p,f),t.id===i.id?n.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,g,m):n.quadraticCurveTo(r.x,r.y,g,m),n.stroke()}}()}).call(window)},function(e,t){(function(){!function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.dashed=function(e,t,i,n,a){var r=e.active?e.active_color||a("defaultEdgeActiveColor"):e.color,s=a("prefix")||"",o=e[s+"size"]||1,l=a("edgeColor"),c=a("defaultNodeColor"),h=a("defaultEdgeColor");if(!r)switch(l){case"source":r=t.color||c;break;case"target":r=i.color||c;break;default:r=h}n.save(),e.active?n.strokeStyle="edge"===a("edgeActiveColor")?r||h:a("defaultEdgeActiveColor"):n.strokeStyle=r,n.setLineDash([8,3]),n.lineWidth=o,n.beginPath(),n.moveTo(t[s+"x"],t[s+"y"]),n.lineTo(i[s+"x"],i[s+"y"]),n.stroke(),n.restore()}}()}).call(window)},function(e,t){(function(){!function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.dotted=function(e,t,i,n,a){var r=e.active?e.active_color||a("defaultEdgeActiveColor"):e.color,s=a("prefix")||"",o=e[s+"size"]||1,l=a("edgeColor"),c=a("defaultNodeColor"),h=a("defaultEdgeColor");if(!r)switch(l){case"source":r=t.color||c;break;case"target":r=i.color||c;break;default:r=h}n.save(),e.active?n.strokeStyle="edge"===a("edgeActiveColor")?r||h:a("defaultEdgeActiveColor"):n.strokeStyle=r,n.setLineDash([2]),n.lineWidth=o,n.beginPath(),n.moveTo(t[s+"x"],t[s+"y"]),n.lineTo(i[s+"x"],i[s+"y"]),n.stroke(),n.restore()}}()}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.curve=function(e,t,i,n,a){if("string"===typeof e.label){var r=a("prefix")||"",s=e[r+"size"]||1;if(!(s<a("edgeLabelThreshold"))){var o,l,c,h=t[r+"size"],d=t[r+"x"],u=t[r+"y"],p=i[r+"x"],f=i[r+"y"],g=p-d,m=f-u,v=d<p?1:-1,b={};t.id===i.id?(b=sigma.utils.getSelfLoopControlPoints(d,u,h),l=sigma.utils.getPointOnBezierCurve(.5,d,u,p,f,b.x1,b.y1,b.x2,b.y2),c=Math.atan2(1,1)):(b=sigma.utils.getQuadraticControlPoint(d,u,p,f),l=sigma.utils.getPointOnQuadraticCurve(.5,d,u,p,f,b.x,b.y),c=Math.atan2(m*v,g*v)),o="fixed"===a("edgeLabelSize")?a("defaultEdgeLabelSize"):a("defaultEdgeLabelSize")*s*Math.pow(s,-1/a("edgeLabelSizePowRatio")),n.save(),e.active?(n.font=[a("activeFontStyle"),o+"px",a("activeFont")||a("font")].join(" "),n.fillStyle="edge"===a("edgeActiveColor")?e.active_color||a("defaultEdgeActiveColor"):a("defaultEdgeLabelActiveColor")):(n.font=[a("fontStyle"),o+"px",a("font")].join(" "),n.fillStyle="edge"===a("edgeLabelColor")?e.color||a("defaultEdgeColor"):a("defaultEdgeLabelColor")),n.textAlign="center",n.textBaseline="alphabetic",n.translate(l.x,l.y),n.rotate(c),n.fillText(e.label,0,-s/2-3),n.restore()}}}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.curvedArrow=function(e,t,i,n,a){sigma.canvas.edges.labels.curve(e,t,i,n,a)}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.def=function(e,t,i,n,a){if("string"===typeof e.label&&t!=i){var r=a("prefix")||"",s=e[r+"size"]||1;if(!(s<a("edgeLabelThreshold"))){if(0===a("edgeLabelSizePowRatio"))throw'"edgeLabelSizePowRatio" must not be 0.';var o,l=(t[r+"x"]+i[r+"x"])/2,c=(t[r+"y"]+i[r+"y"])/2,h=i[r+"x"]-t[r+"x"],d=i[r+"y"]-t[r+"y"],u=t[r+"x"]<i[r+"x"]?1:-1,p=Math.atan2(d*u,h*u);o="fixed"===a("edgeLabelSize")?a("defaultEdgeLabelSize"):a("defaultEdgeLabelSize")*s*Math.pow(s,-1/a("edgeLabelSizePowRatio")),n.save(),e.active?(n.font=[a("activeFontStyle"),o+"px",a("activeFont")||a("font")].join(" "),n.fillStyle="edge"===a("edgeActiveColor")?e.active_color||a("defaultEdgeActiveColor"):a("defaultEdgeLabelActiveColor")):(n.font=[a("fontStyle"),o+"px",a("font")].join(" "),n.fillStyle="edge"===a("edgeLabelColor")?e.color||a("defaultEdgeColor"):a("defaultEdgeLabelColor")),n.textAlign="center",n.textBaseline="alphabetic",n.translate(l,c),n.rotate(p),n.fillText(e.label,0,-s/2-3),n.restore()}}}}).call(this)}).call(window)},function(e,t){(function(){!function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.tapered=function(e,t,i,n,a){var r=e.active?e.active_color||a("defaultEdgeActiveColor"):e.color,s=e[(l=a("prefix")||"")+"size"]||1,o=a("edgeColor"),l=a("prefix")||"",c=a("defaultNodeColor"),h=a("defaultEdgeColor"),d=t[l+"x"],u=t[l+"y"],p=i[l+"x"],f=i[l+"y"],g=sigma.utils.getDistance(d,u,p,f);if(!r)switch(o){case"source":r=t.color||c;break;case"target":r=i.color||c;break;default:r=h}var m=sigma.utils.getCircleIntersection(d,u,s,p,f,g);n.save(),e.active?n.fillStyle="edge"===a("edgeActiveColor")?r||h:a("defaultEdgeActiveColor"):n.fillStyle=r,n.globalAlpha=.65,n.beginPath(),n.moveTo(p,f),n.lineTo(m.xi,m.yi),n.lineTo(m.xi_prime,m.yi_prime),n.closePath(),n.fill(),n.restore()}}()}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";var t,i,n,a;function r(e){if(-1==e.indexOf(";base64,")){var t=(n=e.split(","))[0].split(":")[1],i=decodeURIComponent(n[1]);return new Blob([i],{type:t})}t=(n=e.split(";base64,"))[0].split(":")[1];for(var n,a=(i=window.atob(n[1])).length,r=new Uint8Array(a),s=0;s<a;++s)r[s]=i.charCodeAt(s);return new Blob([r],{type:t})}function o(e,t,i){var n=Math.min(i/e,i/t);return{width:e*n,height:t*n}}function l(e,t,i){var n,a=i.margin||0,r={width:t.width,height:t.height};return i.clips||i.size?i.size&&i.size>=1&&(r=o(t.width,t.height,i.size)):r={width:(n=function(e,t,i){var n;return(n=sigma.utils.getBoundaries(e.graph,t.camera.readPrefix)).minX/=i.zoomRatio,n.minY/=i.zoomRatio,n.maxX/=i.zoomRatio,n.maxY/=i.zoomRatio,n}(e,t,i)).maxX-n.minX+2*n.sizeMax,height:n.maxY-n.minY+2*n.sizeMax},r.width+=a,r.height+=a,r}function c(e,t,n){if((n=n||{}).format&&!(n.format in i))throw Error('sigma.renderers.image: unsupported format "'+n.format+'".');var a=l(e,t,n),s=e.settings("batchEdgesDrawing");s&&e.settings("batchEdgesDrawing",!1),n.clip||this.clone(e,n,a);var o=this.draw(t,n,a);e.settings("batchEdgesDrawing",s);var c=o.toDataURL(i[n.format||"png"]);return n.download&&function(e,t,i){if(i=i||"graph."+t,navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r(e),i);else if(navigator.msSaveBlob)navigator.msSaveBlob(r(e),i);else{var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",i),document.body.appendChild(n),n.click(),document.body.removeChild(n)}}(c,n.format||"png",n.filename),c}sigma.utils.pkg("sigma.plugins"),t=["scene","edges","nodes","labels"],i={png:"image/png",jpg:"image/jpeg",gif:"image/gif",tiff:"image/tiff"},c.prototype.clone=function(e,i,r){i.tmpContainer=i.tmpContainer||"image-container";var s=sigma.utils.getPixelRatio(),o=e.settings("webglOversamplingRatio"),l=document.getElementById(i.tmpContainer);l||((l=document.createElement("div")).id=i.tmpContainer,document.body.appendChild(l)),l.setAttribute("style","width:"+Math.round(r.width/s)+"px;height:"+Math.round(r.height/s)+"px;");var c=e.addRenderer({container:document.getElementById(i.tmpContainer),type:"canvas",settings:{batchEdgesDrawing:!0,drawLabels:!!i.labels}});c.camera.ratio=i.zoomRatio>0?i.zoomRatio:1,i.size||(c.camera.ratio*=s);var h=c instanceof sigma.renderers.webgl,d=!1,u=[];n=document.createElement("canvas"),a=n.getContext("2d"),e.refresh(),t.forEach(function(e){if(c.contexts[e]&&(!1!==i.labels||"labels"!==e)){var t=c.domElements[e]||c.domElements.scene,s=c.contexts[e];d||(n.width=r.width,n.height=r.height,h&&s instanceof WebGLRenderingContext&&(n.width/=o,n.height/=o),d=!0),s instanceof WebGLRenderingContext?a.drawImage(t,0,0,t.width/o,t.height/o):a.drawImage(t,0,0),~u.indexOf(s)||u.push(s)}}),u=[],e.killRenderer(c),l.parentNode.removeChild(l)},c.prototype.draw=function(e,i,a){var r=e instanceof sigma.renderers.webgl,l=!1,c=[],h=document.createElement("canvas"),d=h.getContext("2d");return t.forEach(function(t){if(e.contexts[t]&&(!1!==i.labels||"labels"!==t)){var u=e.domElements[t]||e.domElements.scene,p=e.contexts[t];if(!~c.indexOf(p)){if(!l){var f,g;if(i.clip){var m=!i.size||i.size<1?window.innerWidth:i.size;f=u.width,g=u.height,a=o(f,g,m)}else f=n.width,g=n.height;if(h.width=a.width,h.height=a.height,!r&&!p instanceof WebGLRenderingContext){var v=s.settings("webglOversamplingRatio");h.width*=v,h.height*=v}l=!0,i.background&&(d.rect(0,0,h.width,h.height),d.fillStyle=i.background,d.fill())}d.drawImage(i.clip?u:n,0,0,h.width,h.height),c.push(p)}}}),c=[],h};var h=null;sigma.plugins.image=function(e,t,i){return sigma.plugins.killImage(),h||(h=new c(e,t,i)),h},sigma.plugins.killImage=function(){h instanceof c&&(h=null,n=null,a=null)}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw new Error("sigma is not declared");sigma.utils.pkg("sigma.layouts.fruchtermanReingold");var t={autoArea:!0,area:1,gravity:10,speed:.1,iterations:1e3},i={},n={};function a(){var e=this;this.init=function(e,i){if(i=i||{},this.sigInst=e,this.config=sigma.utils.extend(i,t),this.easing=i.easing,this.duration=i.duration,!sigma.plugins||"undefined"===typeof sigma.plugins.animate)throw new Error("sigma.plugins.animate is not declared");this.running=!1},this.atomicGo=function(){if(!this.running||this.iterCount<1)return!1;var t,i,n,a,r,s,o,l,c,h=this.sigInst.graph.nodes(),d=this.sigInst.graph.edges(),u=h.length,p=d.length;this.config.area=this.config.autoArea?u*u:this.config.area,this.iterCount--,this.running=this.iterCount>0;var f,g,m,v,b,w,y=Math.sqrt(this.config.area)/10,_=Math.sqrt(this.config.area/(1+u));for(t=0;t<u;t++)for((n=h[t]).fr||(n.fr_x=n.x,n.fr_y=n.y,n.fr={dx:0,dy:0}),i=0;i<u;i++)a=h[i],n.id!=a.id&&(s=n.fr_x-a.fr_x,o=n.fr_y-a.fr_y,(l=Math.sqrt(s*s+o*o)+.01)>0&&(c=_*_/l,n.fr.dx+=s/l*c,n.fr.dy+=o/l*c));for(t=0;t<p;t++)r=d[t],f=e.sigInst.graph.nodes(r.source),g=e.sigInst.graph.nodes(r.target),s=f.fr_x-g.fr_x,o=f.fr_y-g.fr_y,m=(l=Math.sqrt(s*s+o*o)+.01)*l/_,l>0&&(f.fr.dx-=s/l*m,f.fr.dy-=o/l*m,g.fr.dx+=s/l*m,g.fr.dy+=o/l*m);for(t=0;t<u;t++)n=h[t],v=Math.sqrt(n.fr_x*n.fr_x+n.fr_y*n.fr_y),b=.01*_*e.config.gravity*v,n.fr.dx-=b*n.fr_x/v,n.fr.dy-=b*n.fr_y/v,n.fr.dx*=e.config.speed,n.fr.dy*=e.config.speed,n.fixed||(s=n.fr.dx,o=n.fr.dy,(l=Math.sqrt(s*s+o*o))>0&&(w=Math.min(y*e.config.speed,l),n.fr_x+=s/l*w,n.fr_y+=o/l*w));return this.running},this.go=function(){for(this.iterCount=this.config.iterations;this.running;)this.atomicGo();this.stop()},this.start=function(){if(!this.running){var t=this.sigInst.graph.nodes();this.running=!0;for(var i=0;i<t.length;i++)t[i].fr_x=t[i].x,t[i].fr_y=t[i].y,t[i].fr={dx:0,dy:0};n[e.sigInst.id].dispatchEvent("start"),this.go()}},this.stop=function(){var t=this.sigInst.graph.nodes();if(this.running=!1,this.easing)n[e.sigInst.id].dispatchEvent("interpolate"),sigma.plugins.animate(e.sigInst,{x:"fr_x",y:"fr_y"},{easing:e.easing,onComplete:function(){e.sigInst.refresh();for(var i=0;i<t.length;i++)t[i].fr=null,t[i].fr_x=null,t[i].fr_y=null;n[e.sigInst.id].dispatchEvent("stop")},duration:e.duration});else{for(var i=0;i<t.length;i++)t[i].x=t[i].fr_x,t[i].y=t[i].fr_y;this.sigInst.refresh();for(i=0;i<t.length;i++)t[i].fr=null,t[i].fr_x=null,t[i].fr_y=null;n[e.sigInst.id].dispatchEvent("stop")}},this.kill=function(){this.sigInst=null,this.config=null,this.easing=null}}sigma.layouts.fruchtermanReingold.configure=function(e,t){if(!e)throw new Error('Missing argument: "sigInst"');if(!t)throw new Error('Missing argument: "config"');return i[e.id]||(i[e.id]=new a,n[e.id]={},sigma.classes.dispatcher.extend(n[e.id]),e.bind("kill",function(){i[e.id].kill(),i[e.id]=null,n[e.id]=null})),i[e.id].init(e,t),n[e.id]},sigma.layouts.fruchtermanReingold.start=function(e,t){if(!e)throw new Error('Missing argument: "sigInst"');return t&&this.configure(e,t),i[e.id].start(),n[e.id]},sigma.layouts.fruchtermanReingold.isRunning=function(e){if(!e)throw new Error('Missing argument: "sigInst"');return!!i[e.id]&&i[e.id].running},sigma.layouts.fruchtermanReingold.progress=function(e){if(!e)throw new Error('Missing argument: "sigInst"');return(i[e.id].config.iterations-i[e.id].iterCount)/i[e.id].config.iterations}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw new Error("sigma is not declared");sigma.utils.pkg("sigma.layout.noverlap");var t={speed:3,scaleNodes:1.2,nodeMargin:5,gridSize:20,permittedExpansion:1.1,rendererIndex:0,maxIterations:500},i={},n={};function a(){var e=this;this.init=function(e,i){if(i=i||{},this.sigInst=e,this.config=sigma.utils.extend(i,t),this.easing=i.easing,this.duration=i.duration,i.nodes&&(this.nodes=i.nodes,delete i.nodes),!sigma.plugins||"undefined"===typeof sigma.plugins.animate)throw new Error("sigma.plugins.animate is not declared");this.running=!1},this.atomicGo=function(){if(!this.running||this.iterCount<1)return!1;var t,i,n,a,r,s,o,l,c,h,d,u,p,f,g,m,v,b,w,y,_,x=this.nodes||this.sigInst.graph.nodes(),C=x.length,S=1/0,T=-1/0,k=1/0,A=-1/0;for(this.iterCount--,this.running=!1,t=0;t<C;t++)(i=x[t]).dn.dx=0,i.dn.dy=0,S=Math.min(S,i.dn_x-(i.dn_size*e.config.scaleNodes+e.config.nodeMargin)),T=Math.max(T,i.dn_x+(i.dn_size*e.config.scaleNodes+e.config.nodeMargin)),k=Math.min(k,i.dn_y-(i.dn_size*e.config.scaleNodes+e.config.nodeMargin)),A=Math.max(A,i.dn_y+(i.dn_size*e.config.scaleNodes+e.config.nodeMargin));for(a=T-S,r=A-k,o=(k+A)/2,S=(s=(S+T)/2)-e.config.permittedExpansion*a/2,T=s+e.config.permittedExpansion*a/2,k=o-e.config.permittedExpansion*r/2,A=o+e.config.permittedExpansion*r/2,l={},c=0;c<e.config.gridSize;c++)for(l[c]={},h=0;h<e.config.gridSize;h++)l[c][h]=[];for(t=0;t<C;t++)for(b=(i=x[t]).dn_x-(i.dn_size*e.config.scaleNodes+e.config.nodeMargin),w=i.dn_x+(i.dn_size*e.config.scaleNodes+e.config.nodeMargin),y=i.dn_y-(i.dn_size*e.config.scaleNodes+e.config.nodeMargin),_=i.dn_y+(i.dn_size*e.config.scaleNodes+e.config.nodeMargin),d=Math.floor(e.config.gridSize*(b-S)/(T-S)),u=Math.floor(e.config.gridSize*(w-S)/(T-S)),p=Math.floor(e.config.gridSize*(y-k)/(A-k)),f=Math.floor(e.config.gridSize*(_-k)/(A-k)),h=d;h<=u;h++)for(c=p;c<=f;c++)l[c][h].push(i.id);for(g={},c=0;c<e.config.gridSize;c++)for(h=0;h<e.config.gridSize;h++)l[c][h].forEach(function(t){for(g[t]||(g[t]=[]),m=Math.max(0,c-1);m<=Math.min(c+1,e.config.gridSize-1);m++)for(v=Math.max(0,h-1);v<=Math.min(h+1,e.config.gridSize-1);v++)l[m][v].forEach(function(e){e!==t&&-1===g[t].indexOf(e)&&g[t].push(e)})});for(t=0;t<C;t++)n=x[t],g[n.id].forEach(function(t){var i=e.sigInst.graph.nodes(t),s=i.dn_x-n.dn_x,o=i.dn_y-n.dn_y,l=Math.sqrt(s*s+o*o);l<n.dn_size*e.config.scaleNodes+e.config.nodeMargin+(i.dn_size*e.config.scaleNodes+e.config.nodeMargin)&&(e.running=!0,l>0?(i.dn.dx+=s/l*(1+n.dn_size),i.dn.dy+=o/l*(1+n.dn_size)):(i.dn.dx+=.01*a*(.5-Math.random()),i.dn.dy+=.01*r*(.5-Math.random())))});for(t=0;t<C;t++)(i=x[t]).fixed||(i.dn_x=i.dn_x+.1*i.dn.dx*e.config.speed,i.dn_y=i.dn_y+.1*i.dn.dy*e.config.speed);return this.running&&this.iterCount<1&&(this.running=!1),this.running},this.go=function(){for(this.iterCount=this.config.maxIterations;this.running;)this.atomicGo();this.stop()},this.start=function(){if(!this.running){var t=this.sigInst.graph.nodes(),i=this.sigInst.renderers[e.config.rendererIndex].options.prefix;this.running=!0;for(var a=0;a<t.length;a++)t[a].dn_x=t[a][i+"x"],t[a].dn_y=t[a][i+"y"],t[a].dn_size=t[a][i+"size"],t[a].dn={dx:0,dy:0};n[e.sigInst.id].dispatchEvent("start"),this.go()}},this.stop=function(){var t=this.sigInst.graph.nodes();if(this.running=!1,this.easing)n[e.sigInst.id].dispatchEvent("interpolate"),sigma.plugins.animate(e.sigInst,{x:"dn_x",y:"dn_y"},{easing:e.easing,onComplete:function(){e.sigInst.refresh();for(var i=0;i<t.length;i++)t[i].dn=null,t[i].dn_x=null,t[i].dn_y=null;n[e.sigInst.id].dispatchEvent("stop")},duration:e.duration});else{for(var i=0;i<t.length;i++)t[i].x=t[i].dn_x,t[i].y=t[i].dn_y;this.sigInst.refresh();for(i=0;i<t.length;i++)t[i].dn=null,t[i].dn_x=null,t[i].dn_y=null;n[e.sigInst.id].dispatchEvent("stop")}},this.kill=function(){this.sigInst=null,this.config=null,this.easing=null}}sigma.prototype.configNoverlap=function(e){var t=this;if(!e)throw new Error('Missing argument: "config"');return i[t.id]||(i[t.id]=new a,n[t.id]={},sigma.classes.dispatcher.extend(n[t.id]),t.bind("kill",function(){i[t.id].kill(),i[t.id]=null,n[t.id]=null})),i[t.id].init(t,e),n[t.id]},sigma.prototype.startNoverlap=function(e){return e&&this.configNoverlap(this,e),i[this.id].start(),n[this.id]},sigma.prototype.isNoverlapRunning=function(){return!!i[this.id]&&i[this.id].running}}).call(this)}).call(window)},function(e,t){(function(){(function(){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins");var e=0,t={};function i(e){if(t[e])return t[e];var i=[0,0,0];return e.match(/^#/)?i=3===(e=(e||"").replace(/^#/,"")).length?[parseInt(e.charAt(0)+e.charAt(0),16),parseInt(e.charAt(1)+e.charAt(1),16),parseInt(e.charAt(2)+e.charAt(2),16)]:[parseInt(e.charAt(0)+e.charAt(1),16),parseInt(e.charAt(2)+e.charAt(3),16),parseInt(e.charAt(4)+e.charAt(5),16)]:e.match(/^ *rgba? *\(/)&&(i=[+(e=e.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/))[1],+e[2],+e[3]]),t[e]={r:i[0],g:i[1],b:i[2]},t[e]}function n(e,t,n){return e=i(e),t=i(t),"rgb("+[0|e.r*(1-n)+t.r*n,0|e.g*(1-n)+t.g*n,0|e.b*(1-n)+t.b*n].join(",")+")"}sigma.plugins.animate=function(t,i,a){var r,s,o,l=a||{},c=++e,h=l.duration||t.settings("animationsTime"),d="string"===typeof l.easing?sigma.utils.easings[l.easing]:"function"===typeof l.easing?l.easing:sigma.utils.easings.quadraticInOut,u=sigma.utils.dateNow();for(o in r=l.nodes&&l.nodes.length?"object"===typeof l.nodes[0]?l.nodes:t.graph.nodes(l.nodes):t.graph.nodes(),s=r.reduce(function(e,t){var n;for(n in e[t.id]={},i)n in t&&(e[t.id][n]=t[n]);return e},{}),t.animations=t.animations||Object.create({}),sigma.plugins.kill(t),t.cameras)t.cameras[o].edgequadtree._enabled=!1;!function e(){var a=(sigma.utils.dateNow()-u)/h;if(a>=1){var o;for(o in r.forEach(function(e){for(var t in i)t in i&&(e[t]=e[i[t]])}),t.cameras)t.cameras[o].edgequadtree._enabled=!0;t.refresh(),"function"===typeof l.onComplete&&l.onComplete()}else a=d(a),r.forEach(function(e){for(var t in i)t in i&&(t.match(/color$/)?e[t]=n(s[e.id][t],e[i[t]],a):e[t]=e[i[t]]*a+s[e.id][t]*(1-a))}),t.refresh(),t.animations[c]=requestAnimationFrame(e)}()},sigma.plugins.kill=function(e){for(var t in e.animations||{})cancelAnimationFrame(e.animations[t]);for(t in e.cameras)e.cameras[t].edgequadtree._enabled=!0}}).call(window)}).call(window)},function(e,t){(function(){(function(){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";function e(e,t){sigma.classes.dispatcher.extend(this);var i=this,n=e,a=document.body,r=t,s=t.container.lastChild,o=t.camera,l=null,c="",h=[],d={},u=!1,p=!1;function f(e){d[e.data.node.id]||(h.push(e.data.node),d[e.data.node.id]=!0,h.length&&!u&&(l=h[h.length-1],s.addEventListener("mousedown",m)))}function g(e){var t=h.map(function(e){return e}).indexOf(e.data.node);h.splice(t,1),delete d[e.data.node.id],h.length&&!u?l=h[h.length-1]:s.removeEventListener("mousedown",m)}function m(e){u=!0;var t=n.graph.nodes().length;if(l&&t>1){var o,c;for(o in s.removeEventListener("mousedown",m),a.addEventListener("mousemove",b),a.addEventListener("mouseup",v),n.cameras)void 0!==(c=n.cameras[o]).edgequadtree&&(c.edgequadtree._enabled=!1);r.settings({mouseEnabled:!1,enableHovering:!1}),n.refresh(),i.dispatchEvent("startdrag",{node:l,captor:e,renderer:r})}}function v(e){var t,o;for(t in u=!1,s.addEventListener("mousedown",m),a.removeEventListener("mousemove",b),a.removeEventListener("mouseup",v),n.cameras)void 0!==(o=n.cameras[t]).edgequadtree&&(o.edgequadtree._enabled=!0);r.settings({mouseEnabled:!0,enableHovering:!0}),n.refresh(),p&&i.dispatchEvent("drop",{node:l,captor:e,renderer:r}),i.dispatchEvent("dragend",{node:l,captor:e,renderer:r}),p=!1,l=null}function b(e){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){clearTimeout(t);var t=setTimeout(a,0)}else a();function a(){for(var t=function(e){var t=window.getComputedStyle(e),i=function(e){return parseInt(t.getPropertyValue(e).replace("px",""))||0};return{left:e.getBoundingClientRect().left+i("padding-left"),top:e.getBoundingClientRect().top+i("padding-top")}}(r.container),a=e.clientX-t.left,s=e.clientY-t.top,h=Math.cos(o.angle),d=Math.sin(o.angle),u=n.graph.nodes(),f=[],g=0;g<2;g++){var m=u[g],v={x:m.x*h+m.y*d,y:m.y*h-m.x*d,renX:m[c+"x"],renY:m[c+"y"]};f.push(v)}if(f[0].x===f[1].x&&f[0].y===f[1].y){var b=0===f[0].renX?1:f[0].renX,w=0===f[0].renY?1:f[0].renY;a=f[0].x/b*(a-f[0].renX)+f[0].x,s=f[0].y/w*(s-f[0].renY)+f[0].y}else{b=(f[1].renX-f[0].renX)/(f[1].x-f[0].x),w=(f[1].renY-f[0].renY)/(f[1].y-f[0].y);f[1].x===f[0].x&&(b=w),f[1].y===f[0].y&&(w=b),a=(a-f[0].renX)/b+f[0].x,s=(s-f[0].renY)/w+f[0].y}l.x=a*h-s*d,l.y=s*h+a*d,n.refresh(),p=!0,i.dispatchEvent("drag",{node:l,captor:e,renderer:r})}}t instanceof sigma.renderers.svg&&(s=t.container.firstChild),c=t instanceof sigma.renderers.webgl?t.options.prefix.substr(5):t.options.prefix,t.bind("overNode",f),t.bind("outNode",g),t.bind("click",function(e){u=!1,a.removeEventListener("mousemove",b),a.removeEventListener("mouseup",v),h.length||(l=null)}),n.bind("kill",function(){i.unbindAll()}),this.unbindAll=function(){s.removeEventListener("mousedown",m),a.removeEventListener("mousemove",b),a.removeEventListener("mouseup",v),r.unbind("overNode",f),r.unbind("outNode",g)}}sigma.utils.pkg("sigma.plugins");var t={};sigma.plugins.dragNodes=function(i,n){return t[i.id]||(t[i.id]=new e(i,n)),i.bind("kill",function(){sigma.plugins.killDragNodes(i)}),t[i.id]},sigma.plugins.killDragNodes=function(i){t[i.id]instanceof e&&(t[i.id].unbindAll(),delete t[i.id])}}).call(window)}).call(window)},function(module,exports){(function(){(function(undefined){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins"),sigma.classes.graph.hasMethod("adjacentNodes")||sigma.classes.graph.addMethod("adjacentNodes",function(e){if("string"!==typeof e)throw"adjacentNodes: the node id must be a string.";var t,i=[];for(t in this.allNeighborsIndex[e])i.push(this.nodesIndex[t]);return i}),sigma.classes.graph.hasMethod("adjacentEdges")||sigma.classes.graph.addMethod("adjacentEdges",function(e){if("string"!==typeof e)throw"adjacentEdges: the node id must be a string.";var t,i,n=this.allNeighborsIndex[e],a=[];for(i in n)for(t in n[i])a.push(n[i][t]);return a});var _g=undefined,_s=undefined,_chain=[],_keysIndex=Object.create(null),Processors={};function register(e,t,i){if(i!=undefined&&"string"!==typeof i)throw'The filter key "'+i.toString()+'" must be a string.';if(i!=undefined&&!i.length)throw"The filter key must be a non-empty string.";if("function"!==typeof e)throw'The predicate of key "'+i+'" must be a function.';if("undo"===i)throw'"undo" is a reserved key.';if(_keysIndex[i])throw'The filter "'+i+'" already exists.';i&&(_keysIndex[i]=!0),_chain.push({key:i,processor:e,predicate:t})}function unregister(e){for(var t in _chain=_chain.filter(function(t){return!(t.key in e)}),e)delete _keysIndex[t]}function Filter(e){_s=e,_g=e.graph}function deepCopy(o){var copy=Object.create(null);for(var i in o)"object"===typeof o[i]&&null!==o[i]?copy[i]=deepCopy(o[i]):"function"===typeof o[i]&&null!==o[i]?eval(" copy[i] = "+o[i].toString()):copy[i]=o[i];return copy}function cloneChain(e){for(var t=e.slice(0),i=0,n=t.length;i<n;i++)t[i]=deepCopy(t[i]),"function"===typeof t[i].processor&&(t[i].processor="filter.processors."+t[i].processor.name);return t}Processors.nodes=function(e){for(var t=_g.nodes(),i=t.length,n=_g.edges(),a=n.length;i--;)t[i].hidden=!e.call(_g,t[i])||t[i].hidden;for(;a--;)(_g.nodes(n[a].source).hidden||_g.nodes(n[a].target).hidden)&&(n[a].hidden=!0)},Processors.edges=function(e){for(var t=_g.edges(),i=t.length;i--;)t[i].hidden=!e.call(_g,t[i])||t[i].hidden},Processors.neighbors=function(e){for(var t=_g.nodes(),i=t.length,n=_g.edges(),a=n.length,r=_g.adjacentNodes(e),s=r.length,o={};s--;)o[r[s].id]=!0;for(;i--;)t[i].id===e||t[i].id in o||(t[i].hidden=!0);for(;a--;)(_g.nodes(n[a].source).hidden||_g.nodes(n[a].target).hidden)&&(n[a].hidden=!0)},Filter.prototype.nodesBy=function(e,t){return register(Processors.nodes,e,t),this},Filter.prototype.edgesBy=function(e,t){return register(Processors.edges,e,t),this},Filter.prototype.neighborsOf=function(e,t){if("string"!==typeof e)throw'The node id "'+e.toString()+'" must be a string.';if(!e.length)throw"The node id must be a non-empty string.";return register(Processors.neighbors,e,t),this},Filter.prototype.apply=function(){for(var e=0,t=_chain.length;e<t;++e)_chain[e].processor(_chain[e].predicate);return _chain[0]&&"undo"===_chain[0].key&&_chain.shift(),_s.refresh(),this},Filter.prototype.undo=function(e){var t=Object.create(null),i=arguments.length;if(1===i)if("[object Array]"===Object.prototype.toString.call(e))for(var n=0,a=e.length;n<a;n++)t[e[n]]=!0;else t[e]=!0;else if(i>1)for(n=0;n<i;n++)t[arguments[n]]=!0;else this.clear();return unregister(t),_chain.unshift({key:"undo",processor:function(){for(var e=_g.nodes(),t=e.length,i=_g.edges(),n=i.length;t--;)e[t].hidden=!1;for(;n--;)i[n].hidden=!1}}),this},Filter.prototype.clear=function(){return _chain.length=0,_keysIndex=Object.create(null),this},Filter.prototype.export=function(){return cloneChain(_chain)},Filter.prototype.import=function(e){if(e===undefined)throw"Wrong arguments.";if("[object Array]"!==Object.prototype.toString.call(e))throw'The chain" must be an array.';for(var t=cloneChain(e),i=0,n=t.length;i<n;i++){if(t[i].predicate===undefined||t[i].processor===undefined)throw"Wrong arguments.";if(t[i].key!=undefined&&"string"!==typeof t[i].key)throw'The filter key "'+t[i].key.toString()+'" must be a string.';if("function"!==typeof t[i].predicate)throw'The predicate of key "'+t[i].key+'" must be a function.';if("string"!==typeof t[i].processor)throw'The processor of key "'+t[i].key+'" must be a string.';switch(t[i].processor){case"filter.processors.nodes":t[i].processor=Processors.nodes;break;case"filter.processors.edges":t[i].processor=Processors.edges;break;case"filter.processors.neighbors":t[i].processor=Processors.neighbors;break;default:throw"Unknown processor "+t[i].processor}}return _chain=t,this};var filter=null;sigma.plugins.filter=function(e){return filter||(filter=new Filter(e)),filter}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins.fullScreen");var t=null,i=null;function n(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}sigma.plugins.fullScreen=function(e){var a=e||{};t=a.container?"object"===typeof a.container?a.container:document.getElementById(a.container):this.container,i=null,a.btnId?((i=document.getElementById(a.btnId)).removeEventListener("click",n),i.addEventListener("click",n)):n()}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins");var t=e,i={};function n(i,n,a){if(sigma.classes.dispatcher.extend(this),sigma.renderers.webgl&&n instanceof sigma.renderers.webgl)throw new Error("The sigma.plugins.lasso is not compatible with the WebGL renderer");this.sigmaInstance=i,this.renderer=n,this.drawingCanvas=e,this.drawingContext=e,this.drewPoints=[],this.selectedNodes=[],this.isActive=!1,this.isDrawing=!1,t=document.body,this.settings=new sigma.classes.configurable({strokeStyle:"black",lineWidth:2,fillWhileDrawing:!1,fillStyle:"rgba(200, 200, 200, 0.25)",cursor:"crosshair"},a||{})}n.prototype.clear=function(){return this.deactivate(),this.sigmaInstance=e,this.renderer=e,this},n.prototype.activate=function(){return this.sigmaInstance&&!this.isActive&&(this.isActive=!0,this.renderer.domElements.lasso||(this.renderer.initDOM("canvas","lasso"),this.drawingCanvas=this.renderer.domElements.lasso,this.drawingCanvas.width=this.renderer.container.offsetWidth,this.drawingCanvas.height=this.renderer.container.offsetHeight,this.renderer.container.appendChild(this.drawingCanvas),this.drawingContext=this.drawingCanvas.getContext("2d"),this.drawingCanvas.style.cursor=this.settings("cursor")),a.apply(this)),this},n.prototype.deactivate=function(){return this.sigmaInstance&&this.isActive&&(this.isActive=!1,this.isDrawing=!1,r.apply(this),this.renderer.domElements.lasso&&(this.renderer.container.removeChild(this.renderer.domElements.lasso),delete this.renderer.domElements.lasso,this.drawingCanvas.style.cursor="",this.drawingCanvas=e,this.drawingContext=e,this.drewPoints=[])),this};var a=function(){this.drawingCanvas.addEventListener("mousedown",s.bind(this)),t.addEventListener("mousemove",o.bind(this)),t.addEventListener("mouseup",l.bind(this)),this.drawingCanvas.addEventListener("touchstart",s.bind(this)),t.addEventListener("touchmove",o.bind(this)),t.addEventListener("touchcancel",l.bind(this)),t.addEventListener("touchleave",l.bind(this)),t.addEventListener("touchend",l.bind(this))},r=function(){this.drawingCanvas.removeEventListener("mousedown",s.bind(this)),t.removeEventListener("mousemove",o.bind(this)),t.removeEventListener("mouseup",l.bind(this)),this.drawingCanvas.removeEventListener("touchstart",s.bind(this)),this.drawingCanvas.removeEventListener("touchmove",o.bind(this)),t.removeEventListener("touchcancel",l.bind(this)),t.removeEventListener("touchleave",l.bind(this)),t.removeEventListener("touchend",l.bind(this))};function s(e){var t=this.drawingCanvas.getBoundingClientRect();this.isActive&&(this.isDrawing=!0,this.drewPoints=[],this.selectedNodes=[],this.sigmaInstance.refresh(),this.drewPoints.push({x:e.clientX-t.left,y:e.clientY-t.top}),this.drawingCanvas.style.cursor=this.settings("cursor"),e.stopPropagation())}function o(e){if(this.isActive&&this.isDrawing){var t=0,i=0,n=this.drawingCanvas.getBoundingClientRect();switch(e.type){case"touchmove":t=e.touches[0].clientX,i=e.touches[0].clientY;break;default:t=e.clientX,i=e.clientY}this.drewPoints.push({x:t-n.left,y:i-n.top}),this.drawingContext.lineWidth=this.settings("lineWidth"),this.drawingContext.strokeStyle=this.settings("strokeStyle"),this.drawingContext.fillStyle=this.settings("fillStyle"),this.drawingContext.lineJoin="round",this.drawingContext.lineCap="round",this.drawingContext.clearRect(0,0,this.drawingContext.canvas.width,this.drawingContext.canvas.height);var a=this.drewPoints[0],r=this.drewPoints[1],s=this.drewPoints.length;this.drawingContext.beginPath(),this.drawingContext.moveTo(a.x,a.y);for(var o=1;o<s;o++){var l=(h=r,{x:(c=a).x+(h.x-c.x)/2,y:c.y+(h.y-c.y)/2});this.drawingContext.quadraticCurveTo(a.x,a.y,l.x,l.y),a=this.drewPoints[o],r=this.drewPoints[o+1]}this.drawingContext.lineTo(a.x,a.y),this.drawingContext.stroke(),this.settings("fillWhileDrawing")&&this.drawingContext.fill(),e.stopPropagation()}var c,h}function l(e){if(this.isActive&&this.isDrawing){this.isDrawing=!1;for(var t=this.renderer.nodesOnScreen,i=t.length,n=this.renderer.options.prefix||"";i--;){var a=t[i],r=a[n+"x"],s=a[n+"y"];this.drawingContext.isPointInPath(r,s)&&!a.hidden&&this.selectedNodes.push(a)}this.dispatchEvent("selectedNodes",this.selectedNodes),this.drawingContext.clearRect(0,0,this.drawingCanvas.width,this.drawingCanvas.height),this.drawingCanvas.style.cursor=this.settings("cursor"),e.stopPropagation()}}n.prototype.getSelectedNodes=function(){return this.selectedNodes},sigma.plugins.lasso=function(e,t,a){return i[e.id]||(i[e.id]=new n(e,t,a)),e.bind("kill",function(){i[e.id]instanceof n&&(i[e.id].clear(),delete i[e.id])}),i[e.id]}}).call(this)}).call(window)},function(e,t){(function(){(function(e){"use strict";if("undefined"===typeof sigma)throw new Error("sigma not in scope.");function t(){for(var e=[],t=-1,i=arguments.length;++t<i;){var n=arguments[t];e.push(n)}var a=e[0],r=-1,s=a?a.length:0,o=[];e:for(;++r<s;)if(n=a[r],o.indexOf(n)<0){for(t=i;--t;)if(e[t].indexOf(n)<0)continue e;o.push(n)}return o}function i(e,t,i){for(var n=0;n<e.length;n++)null!=e[n]&&(t.beginPath(),t.arc(e[n].x,e[n].y,e[n].radius,0,2*Math.PI,!0),t.closePath(),i?t.stroke():t.fill())}function n(e){e=e||{},this.domElements.background||(this.initDOM("canvas","background"),this.domElements.background.width=this.container.offsetWidth,this.domElements.background.height=this.container.offsetHeight,this.container.insertBefore(this.domElements.background,this.container.firstChild));var n,a,r,s,o,l,c,h,d,u,p=this,f=p.contexts.background,g=this instanceof sigma.renderers.webgl,m=p.options.prefix,v=g?m.substr(5):m,b=e.nodeHaloClustering||p.settings("nodeHaloClustering"),w=e.nodeHaloClusteringMaxRadius||p.settings("nodeHaloClusteringMaxRadius"),y=e.nodeHaloColor||p.settings("nodeHaloColor"),_=e.nodeHaloSize||p.settings("nodeHaloSize"),x=e.nodeHaloStroke||p.settings("nodeHaloStroke"),C=e.nodeHaloStrokeColor||p.settings("nodeHaloStrokeColor"),S=e.nodeHaloStrokeWidth||p.settings("nodeHaloStrokeWidth"),T=p.settings("nodeBorderSize")||0,k=p.settings("nodeOuterBorderSize")||0,A=e.edgeHaloColor||p.settings("edgeHaloColor"),P=e.edgeHaloSize||p.settings("edgeHaloSize"),D=e.drawHalo||p.settings("drawHalo"),E=e.nodes||[],M=e.edges||[];D&&(E=g?E:t(e.nodes,p.nodesOnScreen),M=g?M:t(e.edges,p.edgesOnScreen),f.clearRect(0,0,f.canvas.width,f.canvas.height),f.save(),f.strokeStyle=A,M.forEach(function(e){n=p.graph.nodes(e.source),a=p.graph.nodes(e.target),f.lineWidth=(e[m+"size"]||1)+P,f.beginPath(),r={},s=n[v+"size"],o=n[v+"x"],l=n[v+"y"],c=a[v+"x"],h=a[v+"y"],f.moveTo(o,l),"curve"===e.type||"curvedArrow"===e.type?e.source===e.target?(r=sigma.utils.getSelfLoopControlPoints(o,l,s),f.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,c,h)):(r=sigma.utils.getQuadraticControlPoint(o,l,c,h,e.cc),f.quadraticCurveTo(r.x,r.y,c,h)):(f.moveTo(o,l),f.lineTo(c,h)),f.stroke(),f.closePath()}),f.fillStyle=y,x&&(f.lineWidth=S,f.strokeStyle=C),d=T+k+_,u=E.filter(function(e){return!e.hidden}).map(function(e){return{x:e[v+"x"],y:e[v+"y"],radius:e[v+"size"]+d}}),b&&(u=function(e,t,i){if(i=i||Number.POSITIVE_INFINITY,e.length>1)for(var n,a,r,s=!0;s;){s=!1;for(var o=0;o<e.length;o++)if(null!==e[o])for(var l=o+1;l<e.length;l++)if(null!==e[l]&&(a=sigma.utils.getDistance(e[o].x,e[o].y,e[l].x,e[l].y))<i&&a<e[o].radius+e[l].radius){s=!0,r=[{x:e[o].x,y:e[o].y,radius:e[o].radius},{x:e[l].x,y:e[l].y,radius:e[l].radius}],e[o].points&&(r=r.concat(e[o].points)),e[l].points&&(r=r.concat(e[l].points)),n={x:0,y:0};for(var c=0;c<r.length;c++)n.x+=r[c].x,n.y+=r[c].y;n.x/=r.length,n.y/=r.length,n.radius=Math.max.apply(null,r.map(function(e){return t+sigma.utils.getDistance(n.x,n.y,e.x,e.y)})),e.push({x:n.x,y:n.y,radius:n.radius,points:r}),e[o]=e[l]=null;break}}return e}(u,d,w)),x&&i(u,f,!0),i(u,f),f.restore())}sigma.renderers.canvas.prototype.halo=n,sigma.renderers.webgl.prototype.halo=n}).call(this)}).call(window)},function(e,t){RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},function(t){"use strict";var i;(i="undefined"!==typeof jQuery&&jQuery?jQuery:{}).csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(e,t){if(isNaN(e))return e;if(/\./.test(e))return parseFloat(e);var i=parseInt(e);return isNaN(i)?null:i}},parsers:{parse:function(e,i){var n=i.separator,a=i.delimiter;i.state.rowNum||(i.state.rowNum=1),i.state.colNum||(i.state.colNum=1);var r=[],s=[],o=0,l="",c=!1;function h(){if(o=0,l="",i.start&&i.state.rowNum<i.start)return s=[],i.state.rowNum++,void(i.state.colNum=1);if(i.onParseEntry===t)r.push(s);else{var e=i.onParseEntry(s,i.state);!1!==e&&r.push(e)}s=[],i.end&&i.state.rowNum>=i.end&&(c=!0),i.state.rowNum++,i.state.colNum=1}function d(){if(i.onParseValue===t)s.push(l);else{var e=i.onParseValue(l,i.state);!1!==e&&s.push(e)}l="",o=0,i.state.colNum++}var u=RegExp.escape(n),p=RegExp.escape(a),f=/(D|S|\r\n|\n|\r|[^DS\r\n]+)/,g=f.source;return g=(g=g.replace(/S/g,u)).replace(/D/g,p),f=new RegExp(g,"gm"),e.replace(f,function(e){if(!c)switch(o){case 0:if(e===n){l+="",d();break}if(e===a){o=1;break}if(/^(\r\n|\n|\r)$/.test(e)){d(),h();break}l+=e,o=3;break;case 1:if(e===a){o=2;break}l+=e,o=1;break;case 2:if(e===a){l+=e,o=1;break}if(e===n){d();break}if(/^(\r\n|\n|\r)$/.test(e)){d(),h();break}throw new Error("CSVDataError: Illegal State [Row:"+i.state.rowNum+"][Col:"+i.state.colNum+"]");case 3:if(e===n){d();break}if(/^(\r\n|\n|\r)$/.test(e)){d(),h();break}if(e===a)throw new Error("CSVDataError: Illegal Quote [Row:"+i.state.rowNum+"][Col:"+i.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+i.state.rowNum+"][Col:"+i.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+i.state.rowNum+"][Col:"+i.state.colNum+"]")}}),0!==s.length&&(d(),h()),r},splitLines:function(e,i){var n=i.separator,a=i.delimiter;i.state.rowNum||(i.state.rowNum=1);var r=[],s=0,o="",l=!1;function c(){if(s=0,i.start&&i.state.rowNum<i.start)return o="",void i.state.rowNum++;if(i.onParseEntry===t)r.push(o);else{var e=i.onParseEntry(o,i.state);!1!==e&&r.push(e)}o="",i.end&&i.state.rowNum>=i.end&&(l=!0),i.state.rowNum++}var h=RegExp.escape(n),d=RegExp.escape(a),u=/(D|S|\n|\r|[^DS\r\n]+)/,p=u.source;return p=(p=p.replace(/S/g,h)).replace(/D/g,d),u=new RegExp(p,"gm"),e.replace(u,function(e){if(!l)switch(s){case 0:if(e===n){o+=e,s=0;break}if(e===a){o+=e,s=1;break}if("\n"===e){c();break}if(/^\r$/.test(e))break;o+=e,s=3;break;case 1:if(e===a){o+=e,s=2;break}o+=e,s=1;break;case 2:var t=o.substr(o.length-1);if(e===a&&t===a){o+=e,s=1;break}if(e===n){o+=e,s=0;break}if("\n"===e){c();break}if("\r"===e)break;throw new Error("CSVDataError: Illegal state [Row:"+i.state.rowNum+"]");case 3:if(e===n){o+=e,s=0;break}if("\n"===e){c();break}if("\r"===e)break;if(e===a)throw new Error("CSVDataError: Illegal quote [Row:"+i.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+i.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+i.state.rowNum+"]")}}),""!==o&&c(),r},parseEntry:function(e,i){var n=i.separator,a=i.delimiter;i.state.rowNum||(i.state.rowNum=1),i.state.colNum||(i.state.colNum=1);var r=[],s=0,o="";function l(){if(i.onParseValue===t)r.push(o);else{var e=i.onParseValue(o,i.state);!1!==e&&r.push(e)}o="",s=0,i.state.colNum++}if(!i.match){var c=RegExp.escape(n),h=RegExp.escape(a),d=/(D|S|\n|\r|[^DS\r\n]+)/.source;d=(d=d.replace(/S/g,c)).replace(/D/g,h),i.match=new RegExp(d,"gm")}return e.replace(i.match,function(e){switch(s){case 0:if(e===n){o+="",l();break}if(e===a){s=1;break}if("\n"===e||"\r"===e)break;o+=e,s=3;break;case 1:if(e===a){s=2;break}o+=e,s=1;break;case 2:if(e===a){o+=e,s=1;break}if(e===n){l();break}if("\n"===e||"\r"===e)break;throw new Error("CSVDataError: Illegal State [Row:"+i.state.rowNum+"][Col:"+i.state.colNum+"]");case 3:if(e===n){l();break}if("\n"===e||"\r"===e)break;if(e===a)throw new Error("CSVDataError: Illegal Quote [Row:"+i.state.rowNum+"][Col:"+i.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+i.state.rowNum+"][Col:"+i.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+i.state.rowNum+"][Col:"+i.state.colNum+"]")}}),l(),r}},helpers:{collectPropertyNames:function(e){var t,i,n=[];for(t in e)for(i in e[t])e[t].hasOwnProperty(i)&&n.indexOf(i)<0&&"function"!==typeof e[t][i]&&n.push(i);return n}},toArray:function(e,n,a){n=n!==t?n:{};var r={};r.callback=a!==t&&"function"===typeof a&&a,r.separator="separator"in n?n.separator:i.csv.defaults.separator,r.delimiter="delimiter"in n?n.delimiter:i.csv.defaults.delimiter;var s=n.state!==t?n.state:{};n={delimiter:r.delimiter,separator:r.separator,onParseEntry:n.onParseEntry,onParseValue:n.onParseValue,state:s};var o=i.csv.parsers.parseEntry(e,n);if(!r.callback)return o;r.callback("",o)},toArrays:function(e,n,a){n=n!==t?n:{};var r={};r.callback=a!==t&&"function"===typeof a&&a,r.separator="separator"in n?n.separator:i.csv.defaults.separator,r.delimiter="delimiter"in n?n.delimiter:i.csv.defaults.delimiter;var s;if((n={delimiter:r.delimiter,separator:r.separator,onPreParse:n.onPreParse,onParseEntry:n.onParseEntry,onParseValue:n.onParseValue,onPostParse:n.onPostParse,start:n.start,end:n.end,state:{rowNum:1,colNum:1}}).onPreParse!==t&&n.onPreParse(e,n.state),s=i.csv.parsers.parse(e,n),n.onPostParse!==t&&n.onPostParse(s,n.state),!r.callback)return s;r.callback("",s)},toObjects:function(e,n,a){n=n!==t?n:{};var r={};r.callback=a!==t&&"function"===typeof a&&a,r.separator="separator"in n?n.separator:i.csv.defaults.separator,r.delimiter="delimiter"in n?n.delimiter:i.csv.defaults.delimiter,r.headers="headers"in n?n.headers:i.csv.defaults.headers,n.start="start"in n?n.start:1,r.headers&&n.start++,n.end&&r.headers&&n.end++;var s,o=[];n={delimiter:r.delimiter,separator:r.separator,onPreParse:n.onPreParse,onParseEntry:n.onParseEntry,onParseValue:n.onParseValue,onPostParse:n.onPostParse,start:n.start,end:n.end,state:{rowNum:1,colNum:1},match:!1,transform:n.transform};var l={delimiter:r.delimiter,separator:r.separator,start:1,end:1,state:{rowNum:1,colNum:1}};n.onPreParse!==t&&n.onPreParse(e,n.state);var c=i.csv.parsers.splitLines(e,l),h=i.csv.toArray(c[0],n);s=i.csv.parsers.splitLines(e,n),n.state.colNum=1,n.state.rowNum=h?2:1;for(var d=0,u=s.length;d<u;d++){for(var p=i.csv.toArray(s[d],n),f={},g=0;g<h.length;g++)f[h[g]]=p[g];n.transform!==t?o.push(n.transform.call(t,f)):o.push(f),n.state.rowNum++}if(n.onPostParse!==t&&n.onPostParse(o,n.state),!r.callback)return o;r.callback("",o)},fromArrays:function(e,n,a){n=n!==t?n:{};var r={};r.callback=a!==t&&"function"===typeof a&&a,r.separator="separator"in n?n.separator:i.csv.defaults.separator,r.delimiter="delimiter"in n?n.delimiter:i.csv.defaults.delimiter;var s,o,l,c,h="";for(l=0;l<e.length;l++){for(s=e[l],o=[],c=0;c<s.length;c++){var d=s[c]===t||null===s[c]?"":s[c].toString();d.indexOf(r.delimiter)>-1&&(d=d.replace(new RegExp(r.delimiter,"g"),r.delimiter+r.delimiter));var u="\n|\r|S|D";u=(u=u.replace("S",r.separator)).replace("D",r.delimiter),d.search(u)>-1&&(d=r.delimiter+d+r.delimiter),o.push(d)}h+=o.join(r.separator)+"\r\n"}if(!r.callback)return h;r.callback("",h)},fromObjects:function(e,n,a){n=n!==t?n:{};var r={};if(r.callback=a!==t&&"function"===typeof a&&a,r.separator="separator"in n?n.separator:i.csv.defaults.separator,r.delimiter="delimiter"in n?n.delimiter:i.csv.defaults.delimiter,r.headers="headers"in n?n.headers:i.csv.defaults.headers,r.sortOrder="sortOrder"in n?n.sortOrder:"declare",r.manualOrder="manualOrder"in n?n.manualOrder:[],r.transform=n.transform,"string"===typeof r.manualOrder&&(r.manualOrder=i.csv.toArray(r.manualOrder,r)),r.transform!==t){var s,o=e;for(e=[],s=0;s<o.length;s++)e.push(r.transform.call(t,o[s]))}var l=i.csv.helpers.collectPropertyNames(e);if("alpha"===r.sortOrder&&l.sort(),r.manualOrder.length>0){var c=[].concat(r.manualOrder);for(d=0;d<l.length;d++)c.indexOf(l[d])<0&&c.push(l[d]);l=c}var h,d,u,p,f=[];for(r.headers&&f.push(l),h=0;h<e.length;h++){for(u=[],d=0;d<l.length;d++)(p=l[d])in e[h]&&"function"!==typeof e[h][p]?u.push(e[h][p]):u.push("");f.push(u)}return i.csv.fromArrays(f,n,r.callback)}},i.csvEntry2Array=i.csv.toArray,i.csv2Array=i.csv.toArrays,i.csv2Dictionary=i.csv.toObjects,"undefined"!==typeof e&&e.exports&&(e.exports=i.csv)}.call(this)},function(e,t){slicePath=function(){return this.NullSlice=function(e,t,i){return e.setBaseValue(t,i),{slicePathString:"",linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.NullInitSlice=function(e,t,i){return e.setBaseValue(t,i),slicePathString=[e.MoveToCenter(),e.Close()],{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:e.centerX,titlePosY:e.centerY}},this.PieSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.6,e.arcBaseRadiusPercent=1,e.arcRadiusPercent=1,e.startRadiusPercent=0,e},this.PieSlice=function(e,t,i){null===i&&(i=PieSliceCustomization()),e.setBaseValue(t,i);var n=e.sliceRadius*i.arcBaseRadiusPercent,a=e.sliceRadius*i.arcRadiusPercent;return slicePathString=[e.MoveTo(e.middleAngle,i.startRadiusPercent*e.sliceRadius),e.LineTo(e.startAngle,n),e.ArcTo(a,e.endAngle,n),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.FlowerSlice=function(e,t,i){null===i&&((i=PieSliceCustomization()).titleRadiusPercent=.5,i.arcBaseRadiusPercent=.65,i.arcRadiusPercent=.14);var n=PieSlice(e,t,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.PieArrowSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.6,e.arrowRadiusPercent=1.1,e},this.PieArrowSlice=function(e,t,i){null===i&&(i=PieArrowSliceCustomization()),e.setBaseValue(t,i),r=e.sliceRadius,arrowAngleStart=e.startAngle+.45*e.sliceAngle,arrowAngleEnd=e.startAngle+.55*e.sliceAngle;var n=r*i.arrowRadiusPercent;return slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,arrowAngleStart,r),e.LineTo(e.middleAngle,n),e.LineTo(arrowAngleEnd,r),e.ArcTo(r,e.endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.PieArrowBasePieSlice=function(e,t,i){null===i&&(i=PieArrowSliceCustomization()),i.arrowRadiusPercent=1;var n=PieArrowSlice(e,t,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.DonutSliceCustomization=function(){var e=new slicePathCustomization;return e.minRadiusPercent=.37,e.maxRadiusPercent=.9,e},this.DonutSlice=function(e,t,i){return null===i&&(i=DonutSliceCustomization()),maxRadius=e.wheelRadius*t*i.maxRadiusPercent,minRadius=e.wheelRadius*t*i.minRadiusPercent,e.setBaseValue(t,i),e.titleRadius=(maxRadius+minRadius)/2,e.setTitlePos(),slicePathString=[e.MoveTo(e.startAngle,minRadius),e.LineTo(e.startAngle,maxRadius),e.ArcTo(maxRadius,e.endAngle,maxRadius),e.LineTo(e.endAngle,minRadius),e.ArcBackTo(minRadius,e.startAngle,minRadius),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.CogSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.55,e.isBasePieSlice=!1,e},this.CogSlice=function(e,t,i){return null===i&&(i=CogSliceCustomization()),e.setBaseValue(t,i),r=e.sliceRadius,rbase=e.wheelRadius*t*.83,percentAngle0625=e.startAngle+.0625*e.sliceAngle,percentAngle1250=e.startAngle+.125*e.sliceAngle,percentAngle1875=e.startAngle+.1875*e.sliceAngle,percentAngle2500=e.startAngle+.25*e.sliceAngle,percentAngle3125=e.startAngle+.3125*e.sliceAngle,percentAngle3750=e.startAngle+.375*e.sliceAngle,percentAngle4375=e.startAngle+.4375*e.sliceAngle,percentAngle5000=e.startAngle+.5*e.sliceAngle,percentAngle5625=e.startAngle+.5625*e.sliceAngle,percentAngle6250=e.startAngle+.625*e.sliceAngle,percentAngle6875=e.startAngle+.6875*e.sliceAngle,percentAngle7500=e.startAngle+.75*e.sliceAngle,percentAngle8125=e.startAngle+.8125*e.sliceAngle,percentAngle8750=e.startAngle+.875*e.sliceAngle,percentAngle9375=e.startAngle+.9375*e.sliceAngle,percentAngle9687=e.startAngle+.96875*e.sliceAngle,i.isBasePieSlice?(r=rbase,slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,percentAngle0625,r),e.ArcTo(r,percentAngle1250,r),e.ArcTo(r,percentAngle1875,r),e.ArcTo(r,percentAngle2500,r),e.ArcTo(r,percentAngle3125,r),e.ArcTo(r,percentAngle3750,r),e.ArcTo(r,percentAngle4375,r),e.ArcTo(r,percentAngle5000,r),e.ArcTo(r,percentAngle5625,r),e.ArcTo(r,percentAngle6250,r),e.ArcTo(r,percentAngle6875,r),e.ArcTo(r,percentAngle7500,r),e.ArcTo(r,percentAngle8125,r),e.ArcTo(r,percentAngle8750,r),e.ArcTo(r,percentAngle9375,r),e.ArcTo(r,percentAngle9687,r),e.ArcTo(r,e.endAngle,r),e.Close()]):slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,percentAngle0625,r),e.LineTo(percentAngle0625,rbase),e.ArcTo(rbase,percentAngle1875,rbase),e.LineTo(percentAngle1875,r),e.ArcTo(r,percentAngle3125,r),e.LineTo(percentAngle3125,rbase),e.ArcTo(rbase,percentAngle4375,rbase),e.LineTo(percentAngle4375,r),e.ArcTo(r,percentAngle5625,r),e.LineTo(percentAngle5625,rbase),e.ArcTo(rbase,percentAngle6875,rbase),e.LineTo(percentAngle6875,r),e.ArcTo(r,percentAngle8125,r),e.LineTo(percentAngle8125,rbase),e.ArcTo(rbase,percentAngle9375,rbase),e.LineTo(percentAngle9375,r),e.ArcTo(r,e.endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.CogBasePieSlice=function(e,t,i){null===i&&(i=CogSliceCustomization()),i.isBasePieSlice=!0;var n=CogSlice(e,t,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.StarSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.44,e.minRadiusPercent=.5,e.isBasePieSlice=!1,e},this.StarSlice=function(e,t,i){return null===i&&(i=StarSliceCustomization()),e.setBaseValue(t,i),r=e.wheelRadius*t,rbase=r*i.minRadiusPercent,i.isBasePieSlice?(r=e.sliceRadius,slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,e.middleAngle,r),e.ArcTo(r,e.endAngle,r),e.Close()]):slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,rbase),e.LineTo(e.middleAngle,r),e.LineTo(e.endAngle,rbase),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.StarBasePieSlice=function(e,t,i){null===i&&(i=StarSliceCustomization()),i.titleRadiusPercent=.6,i.isBasePieSlice=!0;var n=StarSlice(e,t,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.MenuSliceCustomization=function(){var e=new slicePathCustomization;return e.menuRadius=35,e.titleRadiusPercent=.63,e.isSelectedLine=!1,e.lineBaseRadiusPercent=0,e},this.MenuSlice=function(e,t,i){null===i&&(i=MenuSliceCustomization()),e.setBaseValue(t,i),x=e.centerX,y=e.centerY;var n=e.wheelRadius*t;e.titleRadius=n*i.titleRadiusPercent,e.setTitlePos();var a=t*i.menuRadius;return t<=.05&&(a=10),middleTheta=e.middleTheta,slicePathString=[["M",e.titlePosX-a*Math.cos(middleTheta),e.titlePosY-a*Math.sin(middleTheta)],["A",a,a,0,0,1,e.titlePosX+a*Math.cos(middleTheta),e.titlePosY+a*Math.sin(middleTheta)],["A",a,a,0,0,1,e.titlePosX-a*Math.cos(middleTheta),e.titlePosY-a*Math.sin(middleTheta)],["z"]],t<=.05?linePathString=[["M",x,y],["A",1,1,0,0,1,x+1,y+1]]:i.isSelectedLine?linePathString=[e.MoveTo(e.middleAngle,i.lineBaseRadiusPercent*n),e.ArcTo(n/3,e.middleAngle,e.titleRadius-a)]:linePathString=[e.MoveTo(e.middleAngle,i.lineBaseRadiusPercent*n),e.ArcTo(n/2,e.middleAngle,e.titleRadius-a)],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.MenuSliceSelectedLine=function(e,t,i){null===i&&(i=MenuSliceCustomization()),i.isSelectedLine=!0;var n=MenuSlice(e,t,i);return{slicePathString:n.slicePathString,linePathString:n.linePathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.MenuSliceWithoutLine=function(e,t,i){var n=MenuSlice(e,t,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.LineSlice=function(e,t,i){return e.setBaseValue(t,i),r=e.sliceRadius,e.sliceAngle>60&&e.sliceAngle<180?(e.titleRadius=r*(180/e.sliceAngle/5),e.setTitlePos()):(e.titleRadius=.55*r,e.setTitlePos()),e.sliceAngle<180?slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.LineTo(e.endAngle,r),e.Close()]:180===e.startAngle||0===e.startAngle||-180===e.startAngle||360===e.startAngle?slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.LineTo(e.startAngle,r,e.middleAngle,r),e.LineTo(e.endAngle,r,e.middleAngle,r),e.LineTo(e.endAngle,r),e.Close()]:slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.LineTo(e.middleAngle,r,e.startAngle,r),e.LineTo(e.middleAngle,r,e.endAngle,r),e.LineTo(e.endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.EyeSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.68,e},this.EyeSlice=function(e,t,i){return null===i&&(i=EyeSliceCustomization()),e.setBaseValue(t,i),r=e.wheelRadius*t*.7,0===t&&(r=.01),startAngle=e.startAngle,endAngle=e.endAngle,180===e.sliceAngle&&(startAngle=e.startAngle+e.sliceAngle/4,endAngle=e.startAngle+e.sliceAngle-e.sliceAngle/4),slicePathString=[e.MoveTo(endAngle,r),e.ArcTo(r,startAngle,r),e.ArcTo(r,endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.WheelSlice=function(e,t,i){var n;return e.setBaseValue(t,i),x=e.centerX,y=e.centerY,r=e.sliceRadius,startTheta=e.startTheta,middleTheta=e.middleTheta,endTheta=e.endTheta,e.sliceAngle<120?(e.titleRadius=.57*r,n=.9):e.sliceAngle<180?(e.titleRadius=.52*r,n=.91):(e.titleRadius=.45*r,n=.873),slicePathString=[e.MoveTo(e.middleAngle,.07*r),["L",.07*r*Math.cos(middleTheta)+.87*r*Math.cos(startTheta)+x,.07*r*Math.sin(middleTheta)+.87*r*Math.sin(startTheta)+y],["A",r*n,r*n,0,0,1,.07*r*Math.cos(middleTheta)+.87*r*Math.cos(endTheta)+x,.07*r*Math.sin(middleTheta)+.87*r*Math.sin(endTheta)+y],e.Close()],linePathString=[e.MoveTo(e.startAngle,r),e.ArcTo(r,e.endAngle,r),e.ArcBackTo(r,e.startAngle,r)],e.setTitlePos(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.OuterStrokeSlice=function(e,t,i){return e.setBaseValue(t,i),x=e.centerX,y=e.centerY,r=e.sliceRadius,innerRadius=r/4,e.sliceAngle<120?e.titleRadius=.57*r:e.sliceAngle<180?e.titleRadius=.52*r:e.titleRadius=.45*r,linePathString=[e.MoveTo(e.startAngle,innerRadius),e.LineTo(e.startAngle,r),e.MoveTo(e.endAngle,innerRadius),e.LineTo(e.endAngle,r)],slicePathString=[e.MoveTo(e.startAngle,r),e.ArcTo(r,e.endAngle,r),e.ArcBackTo(r,e.startAngle,r),e.MoveTo(e.startAngle,innerRadius),e.ArcTo(innerRadius,e.endAngle,innerRadius),e.ArcBackTo(innerRadius,e.startAngle,innerRadius)],e.setTitlePos(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.TabSlice=function(e,t,i){var n=.9*e.wheelRadius,a=2*n/(360/e.sliceAngle);return x=e.centerX,y=e.centerY,itemIndex=e.itemIndex,titlePosX=x,titlePosY=itemIndex*a+y+a/2-n,slicePathString=[["M",x-a/2,itemIndex*a+y-n],["L",a/2+x,itemIndex*a+y-n],["L",a/2+x,(itemIndex+1)*a+y-n],["L",x-a/2,(itemIndex+1)*a+y-n],["z"]],{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY}},this.YinYangSlice=function(e,t,i){return e.setBaseValue(t,i),r=e.sliceRadius,slicePathString=[e.MoveToCenter(),e.ArcTo(r/2,e.startAngle,r),e.ArcTo(r,e.endAngle,r),e.ArcBackTo(r/2,0,0),e.Close()],titlePosX=e.getX(e.startAngle,r/2),titlePosY=e.getY(e.startAngle,r/2),{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY}},this.WebSlice=function(e,t,i){return e.setBaseValue(t,i),r=e.sliceRadius,e.titleRadius=.55*r,e.setTitlePos(),linePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,1.1*r),e.MoveToCenter(),e.LineTo(e.endAngle,1.1*r),e.MoveTo(e.startAngle,.15*r),e.LineTo(e.endAngle,.15*r),e.MoveTo(e.startAngle,.35*r),e.LineTo(e.endAngle,.35*r),e.MoveTo(e.startAngle,.55*r),e.LineTo(e.endAngle,.55*r),e.MoveTo(e.startAngle,.75*r),e.LineTo(e.endAngle,.75*r),e.MoveTo(e.startAngle,.95*r),e.LineTo(e.endAngle,.95*r),e.Close()],{slicePathString:"",linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.WinterSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.85,e.arcRadiusPercent=1,e},this.WinterSlice=function(e,t,i){null===i&&(i=WinterSliceCustomization()),e.setBaseValue(t,i),sliceAngle=e.sliceAngle,parallelAngle=e.startAngle+sliceAngle/4,parallelAngle2=e.startAngle+sliceAngle/4*3,borderAngle1=e.startAngle+sliceAngle/200,borderAngle2=e.startAngle+sliceAngle/2-sliceAngle/200,borderAngle3=e.startAngle+sliceAngle/2+sliceAngle/200,borderAngle4=e.startAngle+sliceAngle-sliceAngle/200;var n=e.sliceRadius*i.arcRadiusPercent;return slicePathString=[e.MoveToCenter(),e.MoveTo(parallelAngle,n/100),e.LineTo(borderAngle1,n/2),e.LineTo(parallelAngle,n-n/100),e.LineTo(borderAngle2,n/2),e.LineTo(parallelAngle,n/100),e.MoveTo(parallelAngle2,n/100),e.LineTo(borderAngle4,n/2),e.LineTo(parallelAngle2,n-n/100),e.LineTo(borderAngle3,n/2),e.LineTo(parallelAngle2,n/100),e.Close()],linePathString=[e.MoveTo(parallelAngle,n),e.LineTo(borderAngle2,n/2),e.MoveTo(borderAngle3,n/2),e.LineTo(parallelAngle2,n)],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.TutorialSliceCustomization=function(){var e=new slicePathCustomization;return e.titleRadiusPercent=.6,e.isMoveTo=!1,e.isLineTo=!1,e.isArcTo=!1,e.isArcBackTo=!1,e},this.TutorialSlice=function(e,t,i){return null===i&&(i=TutorialSliceCustomization()),e.setBaseValue(t,i),slicePathString=[],slicePathString.push(e.MoveToCenter()),!0===i.isMoveTo&&slicePathString.push(e.MoveTo(e.middleAngle,e.sliceRadius/4)),i.isLineTo&&slicePathString.push(e.LineTo(e.startAngle,e.sliceRadius)),i.isArcTo&&slicePathString.push(e.ArcTo(e.sliceRadius,e.middleAngle,e.sliceRadius)),i.isArcBackTo&&slicePathString.push(e.ArcBackTo(e.sliceRadius,e.endAngle,e.sliceRadius)),slicePathString.push(e.Close()),linePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,e.sliceRadius),e.ArcTo(e.sliceRadius,e.endAngle,e.sliceRadius),e.Close()],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this}},function(e,t){var n,a;wheelnav=function(e,t,i,n){var r,s,o,l;if(this.holderId="wheel",void 0!==e&&null!==e&&(this.holderId=e),(null===(r=document.getElementById(e))||void 0===r)&&(void 0===t||null===t))return this;if(!0,void 0===t||null===t){for(o=[],l=0;l<r.children.length;l++)"svg"===r.children[l].localName&&o.push(r.children[l]);for(l=0;l<o.length;l++)r.removeChild(o[l]);void 0!==i&&null!==i?((void 0===n||null===n)&&(n=i),this.raphael=new Raphael(e,i,n),s=i):(this.raphael=new Raphael(e),s=r.clientWidth),this.raphael.setViewBox(0,0,this.raphael.width,this.raphael.height,!0)}else this.raphael=t,s=this.raphael.width,!1;return this.centerX=s/2,this.centerY=s/2,this.wheelRadius=s/2,this.navAngle=0,this.sliceAngle=null,this.titleRotateAngle=null,this.initTitleRotate=!1,this.clickModeRotate=!0,this.rotateRound=!1,this.rotateRoundCount=0,this.clickModeSpreadOff=!1,this.animatetimeCalculated=!1,this.animateRepeatCount=0,this.clockwise=!0,this.multiSelect=!1,this.hoverPercent=1,this.selectedPercent=1,this.clickablePercentMin=0,this.clickablePercentMax=1,this.currentPercent=null,this.cssMode=!1,this.selectedToFront=!0,this.selectedNavItemIndex=0,this.navItemCount=0,this.navItemCountLabeled=!1,this.navItemCountLabelOffset=0,this.navItems=[],this.navItemsEnabled=!0,this.animateFinishFunction=null,this.navItemsContinuous=!1,this.navItemsCentered=!0,this.colors=a.defaultpalette,this.titleSpreadScale=null,this.spreaderEnable=!1,this.spreaderRadius=20,this.spreaderStartAngle=0,this.spreaderSliceAngle=360,this.spreaderPathFunction=spreaderPath().PieSpreader,this.spreaderPathCustom=null,this.spreaderInPercent=1,this.spreaderOutPercent=1,this.spreaderInTitle="+",this.spreaderOutTitle="-",this.spreaderTitleFont=null,this.spreaderPathInAttr=null,this.spreaderPathOutAttr=null,this.spreaderTitleInAttr=null,this.spreaderTitleOutAttr=null,this.spreaderInTitleWidth=null,this.spreaderInTitleHeight=null,this.spreaderOutTitleWidth=null,this.spreaderOutTitleHeight=null,this.minPercent=.01,this.maxPercent=1,this.initPercent=1,this.markerEnable=!1,this.markerPathFunction=markerPath().TriangleMarker,this.markerPathCustom=null,this.currentClick=0,this.animateLocked=!1,this.slicePathAttr=null,this.sliceHoverAttr=null,this.sliceSelectedAttr=null,this.titleFont="100 24px Impact, Charcoal, sans-serif",this.titleAttr=null,this.titleHoverAttr=null,this.titleSelectedAttr=null,this.titleWidth=null,this.titleHeight=null,this.titleHoverWidth=null,this.titleHoverHeight=null,this.titleSelectedWidth=null,this.titleSelectedHeight=null,this.linePathAttr=null,this.lineHoverAttr=null,this.lineSelectedAttr=null,this.slicePathCustom=null,this.sliceClickablePathCustom=null,this.sliceSelectedPathCustom=null,this.sliceHoverPathCustom=null,this.sliceInitPathCustom=null,this.sliceTransformCustom=null,this.sliceSelectedTransformCustom=null,this.sliceHoverTransformCustom=null,this.sliceInitTransformCustom=null,this.animateeffect=null,this.animatetime=null,this.slicePathFunction=void 0!==slicePath().PieSlice?slicePath().PieSlice:slicePath().NullSlice,this.sliceClickablePathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedPathFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverPathFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitPathFunction=null,this.sliceInitTransformFunction=null,this.parseWheel(r),this},wheelnav.prototype.initWheel=function(e){var t,n,a;for(this.styleWheel(),0===this.navItemCount?(void 0!==e&&null!==e&&Array.isArray(e)||(e=["title-0","title-1","title-2","title-3"]),this.navItemCount=e.length):e=null,i=0;i<this.navItemCount;i++)"",n=this.navItemCountLabeled?(i+this.navItemCountLabelOffset).toString():null!==e?e[i]:"",t=new wheelnavItem(this,n,i),this.navItems.push(t);for(a=0,i=0;i<this.navItems.length;i++)this.navItems[i].fillAttr=this.colors[a],++a===this.colors.length&&(a=0)},wheelnav.prototype.createWheel=function(e,t){for(null===this.currentPercent&&(this.currentPercent=t?this.minPercent:this.maxPercent),0===this.navItems.length&&this.initWheel(e),null!==this.selectedNavItemIndex&&(this.navItems[this.selectedNavItemIndex].selected=!0),i=0;i<this.navItemCount;i++)this.navItems[i].createNavItem();return this.spreader=new spreader(this),this.marker=new marker(this),this.refreshWheel(),void 0!==t&&this.spreadWheel(),this},wheelnav.prototype.refreshWheel=function(e){for(i=0;i<this.navItemCount;i++){var t=this.navItems[i];t.setWheelSettings(e),t.refreshNavItem(e)}this.marker.setCurrentTransform(),this.spreader.setCurrentTransform()},wheelnav.prototype.navigateWheel=function(e){var t,n,a;for(this.animateUnlock(!0),this.clickModeRotate&&(this.animateLocked=!0),i=0;i<this.navItemCount;i++)(t=this.navItems[i]).hovered=!1,i===e?this.multiSelect?t.selected=!t.selected:(t.selected=!0,this.selectedNavItemIndex=i):this.multiSelect||(t.selected=!1),this.clickModeRotate&&(n=this.navItems[e].navAngle-this.navItems[this.currentClick].navAngle,this.rotateRound&&(this.clockwise&&n<0&&(n=360+n),!this.clockwise&&n>0&&(n-=360)),t.currentRotateAngle-=n,a=null!=this.animatetime?this.animatetime:1500,this.animatetimeCalculated&&e!==this.currentClick&&(t.animatetime=a*(Math.abs(n)/360)),this.rotateRoundCount>0&&(this.clockwise?t.currentRotateAngle-=360*this.rotateRoundCount:t.currentRotateAngle+=360*this.rotateRoundCount,t.animatetime=a*(this.rotateRoundCount+1)));for(i=0;i<this.navItemCount;i++)(t=this.navItems[i]).setCurrentTransform(!0,!0),t.refreshNavItem();this.currentClick=e,this.clickModeSpreadOff?(this.currentPercent=this.maxPercent,this.spreadWheel()):(null===e||this.clickModeRotate?this.marker.setCurrentTransform():this.marker.setCurrentTransform(this.navItems[this.currentClick].navAngle),this.spreader.setCurrentTransform(!0))},wheelnav.prototype.spreadWheel=function(){for(this.animateUnlock(!0),this.animateLocked=!0,this.currentPercent=this.currentPercent===this.maxPercent||null===this.currentPercent?this.minPercent:this.maxPercent,i=0;i<this.navItemCount;i++){var e=this.navItems[i];e.hovered=!1,e.setCurrentTransform(!0,!1)}return this.marker.setCurrentTransform(),this.spreader.setCurrentTransform(),this},wheelnav.prototype.animateUnlock=function(e,t){var i,n;if(void 0!==e&&!0===e)for(i=0;i<this.navItemCount;i++)this.navItems[i].navSliceUnderAnimation=!1,this.navItems[i].navTitleUnderAnimation=!1,this.navItems[i].navLineUnderAnimation=!1,this.navItems[i].navSlice.stop(),this.navItems[i].navLine.stop(),this.navItems[i].navTitle.stop();else{for(n=0;n<this.navItemCount;n++)if(!0===this.navItems[n].navSliceUnderAnimation||!0===this.navItems[n].navTitleUnderAnimation||!0===this.navItems[n].navLineUnderAnimation)return;this.animateLocked=!1,null!==this.animateFinishFunction&&void 0!==t&&!0===t&&this.animateFinishFunction()}},wheelnav.prototype.setTooltips=function(e){if(void 0!==e&&null!==e&&Array.isArray(e)&&e.length<=this.navItems.length)for(var t=0;t<e.length;t++)this.navItems[t].setTooltip(e[t])},wheelnav.prototype.getItemId=function(e){return"wheelnav-"+this.holderId+"-item-"+e},wheelnav.prototype.getSliceId=function(e){return"wheelnav-"+this.holderId+"-slice-"+e},wheelnav.prototype.getClickableSliceId=function(e){return"wheelnav-"+this.holderId+"-clickableslice-"+e},wheelnav.prototype.getTitleId=function(e){return"wheelnav-"+this.holderId+"-title-"+e},wheelnav.prototype.getLineId=function(e){return"wheelnav-"+this.holderId+"-line-"+e},wheelnav.prototype.getSpreaderId=function(){return"wheelnav-"+this.holderId+"-spreader"},wheelnav.prototype.getSpreaderTitleId=function(){return"wheelnav-"+this.holderId+"-spreadertitle"},wheelnav.prototype.getMarkerId=function(){return"wheelnav-"+this.holderId+"-marker"},wheelnav.prototype.parseWheel=function(e){var t,i,n,a,r,s,o,l,c,h,d;if(void 0!==e&&null!==e){if(e.hasAttribute("data-wheelnav")){var u=[],p=[],f=[],g=!1,m=e.getAttribute("data-wheelnav-slicepath");for(null!==m&&void 0!==slicePath()[m]&&(this.slicePathFunction=slicePath()[m]),null!==(t=e.getAttribute("data-wheelnav-colors"))&&(this.colors=t.split(",")),null!==(i=e.getAttribute("data-wheelnav-wheelradius"))&&(this.wheelRadius=Number(i)),null!==(n=e.getAttribute("data-wheelnav-navangle"))&&(this.navAngle=Number(n)),null!==e.getAttribute("data-wheelnav-rotateoff")&&(this.clickModeRotate=!1),null!==e.getAttribute("data-wheelnav-cssmode")&&(this.cssMode=!0),null!==e.getAttribute("data-wheelnav-spreader")&&(this.spreaderEnable=!0),null!==(a=e.getAttribute("data-wheelnav-spreaderradius"))&&(this.spreaderRadius=Number(a)),null!==(r=e.getAttribute("data-wheelnav-spreaderpath"))&&void 0!==markerPath()[r]&&(this.spreaderPathFunction=spreaderPath()[r]),null!==e.getAttribute("data-wheelnav-marker")&&(this.markerEnable=!0),null!==(s=e.getAttribute("data-wheelnav-markerpath"))&&void 0!==markerPath()[s]&&(this.markerPathFunction=markerPath()[s]),null!==(o=e.getAttribute("data-wheelnav-titlewidth"))&&(this.titleWidth=Number(o)),null!==(l=e.getAttribute("data-wheelnav-titleheight"))&&(this.titleHeight=Number(l)),null!==e.getAttribute("data-wheelnav-init")&&(g=!0),d=0;d<e.children.length;d++){var v=e.children[d].getAttribute("data-wheelnav-navitemtext"),b=e.children[d].getAttribute("data-wheelnav-navitemicon"),w=e.children[d].getAttribute("data-wheelnav-navitemimg");if(null!==v||null!==b||null!==w){if(null!==v)u.push(v);else if(null!==b)void 0!==icon[b]?u.push(icon[b]):u.push(b);else{if(null===w)continue;u.push("imgsrc:"+w)}for(void 0!==e.children[d].onmouseup?f.push(e.children[d].onmouseup):f.push(null),!1,c=0;c<e.children[d].children.length;c++)void 0!==e.children[d].children[c].getAttribute("href")&&p.push(e.children[d].children[c].getAttribute("href"));p.push(null)}}if(u.length>0){for(this.initWheel(u),d=0;d<f.length;d++)this.navItems[d].navigateFunction=f[d],this.navItems[d].navigateHref=p[d];g||this.createWheel()}}for(h=[],d=0;d<e.children.length;d++)"svg"!==e.children[d].localName&&h.push(e.children[d]);for(d=0;d<h.length;d++)e.removeChild(h[d])}},wheelnavItem=function(e,t,i){return this.wheelnav=e,this.wheelItemIndex=i,this.itemIndex=e.clockwise?i:-i,this.enabled=e.navItemsEnabled,this.selected=!1,this.hovered=!1,this.navItem=null,this.navSlice=null,this.navTitle=null,this.navLine=null,this.navClickableSlice=null,this.navSliceCurrentTransformString=null,this.navTitleCurrentTransformString=null,this.navLineCurrentTransformString=null,this.navSliceUnderAnimation=!1,this.navTitleUnderAnimation=!1,this.navLineUnderAnimation=!1,this.currentRotateAngle=0,this.title=void 0===t?null:t,this.titleHover=this.title,this.titleSelected=this.title,this.tooltip=null,this.fillAttr="#CCC",this.titleFont=this.wheelnav.titleFont,this.navigateHref=null,this.navigateFunction=null,this.titleWidth=null,this.titleHeight=null,this.titleHoverWidth=null,this.titleHoverHeight=null,this.titleSelectedWidth=null,this.titleSelectedHeight=null,this.animateeffect=null,this.animatetime=null,this.sliceInitPathFunction=null,this.sliceClickablePathFunction=null,this.slicePathFunction=null,this.sliceSelectedPathFunction=null,this.sliceHoverPathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitTransformFunction=null,this.slicePathCustom=null,this.sliceClickablePathCustom=null,this.sliceSelectedPathCustom=null,this.sliceHoverPathCustom=null,this.sliceInitPathCustom=null,this.sliceTransformCustom=null,this.sliceSelectedTransformCustom=null,this.sliceHoverTransformCustom=null,this.sliceInitTransformCustom=null,this.initPercent=null,this.minPercent=null,this.maxPercent=null,this.hoverPercent=null,this.selectedPercent=null,this.clickablePercentMin=null,this.clickablePercentMax=null,this.titleSpreadScale=null,this.sliceAngle=null,this.styleNavItem(),this},wheelnavItem.prototype.createNavItem=function(){var e,t,i,n,a;this.setWheelSettings(!1),null!==this.navigateHref&&(this.navigateFunction=function(){window.location.href=this.navigateHref}),this.wheelnav.cssMode||(this.slicePathAttr.fill=this.fillAttr,this.sliceHoverAttr.fill=this.fillAttr,this.sliceSelectedAttr.fill=this.fillAttr),this.enabled||(this.wheelnav.cssMode||(this.slicePathAttr.cursor="default",this.sliceHoverAttr.cursor="default",this.titleAttr.cursor="default",this.titleHoverAttr.cursor="default",this.linePathAttr.cursor="default",this.lineHoverAttr.cursor="default"),this.sliceClickablePathAttr.cursor="default",this.sliceClickableHoverAttr.cursor="default"),e=this.wheelItemIndex-1,t=360/this.wheelnav.navItemCount,null===this.sliceAngle&&(this.sliceAngle=360/this.wheelnav.navItemCount),this.wheelnav.clockwise?this.wheelnav.navItemsContinuous?this.baseAngle=0===this.itemIndex?this.itemIndex*this.sliceAngle+(-this.sliceAngle/2+this.wheelnav.navAngle):this.wheelnav.navItems[e].baseAngle+this.wheelnav.navItems[e].sliceAngle:this.wheelnav.navItemsCentered?this.baseAngle=this.itemIndex*t+(-this.sliceAngle/2+this.wheelnav.navAngle):(this.baseAngle=this.itemIndex*t+(-t/2+this.wheelnav.navAngle),this.currentRotateAngle+=t/2-this.wheelnav.navItems[0].sliceAngle/2):this.wheelnav.navItemsContinuous?this.baseAngle=0===this.itemIndex?this.itemIndex*this.sliceAngle+(-this.sliceAngle/2+this.wheelnav.navAngle):this.wheelnav.navItems[e].baseAngle-this.wheelnav.navItems[this.wheelItemIndex].sliceAngle:this.wheelnav.navItemsCentered?this.baseAngle=this.itemIndex*t+(-this.sliceAngle/2+this.wheelnav.navAngle):(this.baseAngle=this.itemIndex*t+(-t/2+this.wheelnav.navAngle)+(t-this.sliceAngle),this.currentRotateAngle-=t/2-this.wheelnav.navItems[0].sliceAngle/2),this.navAngle=this.baseAngle+this.sliceAngle/2,this.wheelnav.animatetimeCalculated&&(this.animatetime=this.wheelnav.animatetime/this.wheelnav.navItemCount),this.initPathsAndTransforms(),i=this.sliceInitPath,this.navSlice=this.wheelnav.raphael.path(i.slicePathString),this.navSlice.attr(this.slicePathAttr),this.navSlice.id=this.wheelnav.getSliceId(this.wheelItemIndex),this.navSlice.node.id=this.navSlice.id,this.navLine=this.wheelnav.raphael.path(i.linePathString),this.navLine.attr(this.linePathAttr),this.navLine.id=this.wheelnav.getLineId(this.wheelItemIndex),this.navLine.node.id=this.navLine.id,n=this.initNavTitle,this.navTitle=wheelnavTitle().isPathTitle(this.title)?this.wheelnav.raphael.path(n.path):wheelnavTitle().isImageTitle(this.title)?this.wheelnav.raphael.image(n.src,i.titlePosX-this.titleWidth/2,i.titlePosY-this.titleHeight/2,this.titleWidth,this.titleHeight):this.wheelnav.raphael.text(i.titlePosX,i.titlePosY,n.title),this.navTitle.attr(this.titleAttr),this.navTitle.id=this.wheelnav.getTitleId(this.wheelItemIndex),this.navTitle.node.id=this.navTitle.id,this.navSliceCurrentTransformString="",""!==this.initTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.initTransform.sliceTransformString),this.navLineCurrentTransformString="",""!==this.initTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.initTransform.lineTransformString),this.navTitleCurrentTransformString="",this.navTitleCurrentTransformString+=this.getTitleRotateString(this.wheelnav.initTitleRotate),""!==this.initTransform.titleTransformString&&(this.navTitleCurrentTransformString+=this.initTransform.titleTransformString),this.wheelnav.currentPercent<.05&&(this.navTitleCurrentTransformString+=",s0.05"),void 0!==this.navTitleSizeTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeTransform),this.navSlice.attr({transform:this.navSliceCurrentTransformString}),this.navLine.attr({transform:this.navLineCurrentTransformString}),this.navTitle.attr({transform:this.navTitleCurrentTransformString}),this.navItem=this.wheelnav.raphael.set(),null!==this.sliceClickablePathFunction?(a=this.getCurrentClickablePath(),this.navClickableSlice=this.wheelnav.raphael.path(a.slicePathString).attr(this.sliceClickablePathAttr).toBack(),this.navClickableSlice.id=this.wheelnav.getClickableSliceId(this.wheelItemIndex),this.navClickableSlice.node.id=this.navClickableSlice.id,this.navItem.push(this.navSlice,this.navLine,this.navTitle,this.navClickableSlice)):this.navItem.push(this.navSlice,this.navLine,this.navTitle),this.setTooltip(this.tooltip),this.navItem.id=this.wheelnav.getItemId(this.wheelItemIndex);var r=this.wheelnav,s=this,o=this.wheelItemIndex;this.enabled&&(this.navItem.mouseup(function(){null!==s.navigateFunction&&s.navigateFunction(),r.navigateWheel(o)}),this.navItem.mouseover(function(){!0!==s.hovered&&s.hoverEffect(o,!0)}),this.navItem.mouseout(function(){s.hovered=!1,s.hoverEffect(o,!1)})),this.setCurrentTransform(!0,!1)},wheelnavItem.prototype.hoverEffect=function(e,t){!1===this.wheelnav.animateLocked&&(t&&(this.selected||(this.hovered=!0)),this.refreshNavItem(),(1!==this.hoverPercent||null!==this.sliceHoverPathFunction||null!==this.sliceHoverTransformFunction||this.titleHover!==this.title||this.titleHoverWidth!==this.titleWidth||this.titleHoverHeight!==this.titleHeight)&&this.setCurrentTransform(!1,!1),this.wheelnav.marker.setCurrentTransform(),this.wheelnav.spreader.setCurrentTransform(!0))},wheelnavItem.prototype.setCurrentTransform=function(e,t){var n,a,r,s,o,l,c,h,d,u,p,f,g;if(!this.wheelnav.clickModeRotate||!this.navSliceUnderAnimation&&!this.navTitleUnderAnimation&&!this.navLineUnderAnimation)if(void 0!==e&&!0===e&&(this.navSliceUnderAnimation=!0,this.navTitleUnderAnimation=!0,this.navLineUnderAnimation=!0),this.navSliceCurrentTransformString="",this.wheelnav.clickModeRotate&&(this.navSliceCurrentTransformString+=this.getItemRotateString()),this.selected?void 0!==this.selectTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.selectTransform.sliceTransformString):this.hovered&&void 0!==this.hoverTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.hoverTransform.sliceTransformString),void 0!==this.sliceTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.sliceTransform.sliceTransformString),this.navLineCurrentTransformString="",this.wheelnav.clickModeRotate&&(this.navLineCurrentTransformString+=this.getItemRotateString()),this.selected?void 0!==this.selectTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.selectTransform.lineTransformString):this.hovered&&void 0!==this.hoverTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.hoverTransform.lineTransformString),void 0!==this.sliceTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.sliceTransform.lineTransformString),this.navTitleCurrentTransformString="",this.navTitleCurrentTransformString+=this.getTitleRotateString(!0),this.selected?(void 0!==this.navTitleSizeSelectedTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeSelectedTransform),this.navTitleCurrentTransformString+=""===this.selectTransform.titleTransformString||void 0===this.selectTransform.titleTransformString?",s1":","+this.selectTransform.titleTransformString,this.wheelnav.currentPercent<.05&&(this.navTitleCurrentTransformString+=",s0.05")):this.hovered?(void 0!==this.navTitleSizeHoverTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeHoverTransform),this.navTitleCurrentTransformString+=""===this.hoverTransform.titleTransformString||void 0===this.hoverTransform.titleTransformString?",s1":","+this.hoverTransform.titleTransformString):this.wheelnav.currentPercent<.05?this.navTitleCurrentTransformString+=",s0.05":this.titleSpreadScale?this.navTitleCurrentTransformString+=",s"+this.wheelnav.currentPercent:(void 0!==this.navTitleSizeTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeTransform),this.navTitleCurrentTransformString+=""===this.sliceTransform.titleTransformString||void 0===this.sliceTransform.titleTransformString?",s1":","+this.sliceTransform.titleTransformString),{},a={path:(n=this.getCurrentPath()).slicePathString,transform:this.navSliceCurrentTransformString},r={},null!==this.sliceClickablePathFunction&&(r={path:this.getCurrentClickablePath().slicePathString,transform:this.navSliceCurrentTransformString}),{},s={path:n.linePathString,transform:this.navLineCurrentTransformString},o=this.getCurrentTitle(),l={},wheelnavTitle().isPathTitle(o.title)?l={path:o.path,transform:this.navTitleCurrentTransformString}:wheelnavTitle().isImageTitle(o.title)?(l={x:o.x,y:o.y,width:o.width,height:o.height,transform:this.navTitleCurrentTransformString},this.navTitle.attr({src:o.src})):(l={x:o.x,y:o.y,transform:this.navTitleCurrentTransformString},null!==o.title&&this.navTitle.attr({text:o.title})),c=this,h=this.wheelnav,this.animSlice=Raphael.animation(a,this.animatetime,this.animateeffect,function(){c.navSliceUnderAnimation=!1,h.animateUnlock(!1,t)}),this.animLine=Raphael.animation(s,this.animatetime,this.animateeffect,function(){c.navLineUnderAnimation=!1,h.animateUnlock(!1,t)}),this.animTitle=Raphael.animation(l,this.animatetime,this.animateeffect,function(){c.navTitleUnderAnimation=!1,h.animateUnlock(!1,t)}),null!==this.navClickableSlice&&(this.animClickableSlice=Raphael.animation(r,this.animatetime,this.animateeffect)),d=this.wheelnav.animateRepeatCount,void 0!==e&&!0===e){if(this.wheelItemIndex===this.wheelnav.navItemCount-1){for(i=0;i<this.wheelnav.navItemCount;i++)(u=this.wheelnav.navItems[i]).navSlice.animate(u.animSlice.repeat(d));for(i=0;i<this.wheelnav.navItemCount;i++)(p=this.wheelnav.navItems[i]).navLine.animate(p.animLine.repeat(d));for(i=0;i<this.wheelnav.navItemCount;i++)(f=this.wheelnav.navItems[i]).navTitle.animate(f.animTitle.repeat(d));if(null!==this.wheelnav.sliceClickablePathFunction)for(i=0;i<this.wheelnav.navItemCount;i++)null!==(g=this.wheelnav.navItems[i]).navClickableSlice&&g.navClickableSlice.animate(g.animClickableSlice.repeat(d))}}else this.navSlice.animate(this.animSlice.repeat(d)),this.navLine.animate(this.animLine.repeat(d)),this.navTitle.animate(this.animTitle.repeat(d)),null!==this.navClickableSlice&&this.navClickableSlice.animate(this.animClickableSlice.repeat(d))},wheelnavItem.prototype.setTooltip=function(e){null!==e&&this.navItem.attr({title:e})},wheelnavItem.prototype.refreshNavItem=function(e){this.selected?(this.navSlice.attr(this.sliceSelectedAttr),this.navLine.attr(this.lineSelectedAttr),this.navTitle.attr(this.titleSelectedAttr),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickableSelectedAttr),this.wheelnav.selectedToFront?(this.navSlice.toFront(),this.navLine.toFront(),this.navTitle.toFront(),null!==this.navClickableSlice&&this.navClickableSlice.toFront()):(null!==this.navClickableSlice&&this.navClickableSlice.toBack(),this.navTitle.toBack(),this.navLine.toBack(),this.navSlice.toBack())):this.hovered?(this.navSlice.attr(this.sliceHoverAttr).toFront(),this.navLine.attr(this.lineHoverAttr).toFront(),this.navTitle.attr(this.titleHoverAttr).toFront(),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickableHoverAttr).toFront()):(this.navSlice.attr(this.slicePathAttr),this.navLine.attr(this.linePathAttr),this.navTitle.attr(this.titleAttr),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickablePathAttr),null!==this.navClickableSlice&&this.navClickableSlice.toBack(),this.navTitle.toBack(),this.navLine.toBack(),this.navSlice.toBack()),void 0!==e&&!0===e&&(this.initPathsAndTransforms(),this.setCurrentTransform(!1,!1))},wheelnavItem.prototype.setWheelSettings=function(e){null!==this.wheelnav.slicePathAttr&&(this.slicePathAttr=JSON.parse(JSON.stringify(this.wheelnav.slicePathAttr))),null!==this.wheelnav.sliceHoverAttr&&(this.sliceHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceHoverAttr))),null!==this.wheelnav.sliceSelectedAttr&&(this.sliceSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceSelectedAttr))),null!==this.wheelnav.titleAttr&&(this.titleAttr=JSON.parse(JSON.stringify(this.wheelnav.titleAttr))),null!==this.wheelnav.titleHoverAttr&&(this.titleHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.titleHoverAttr))),null!==this.wheelnav.titleSelectedAttr&&(this.titleSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.titleSelectedAttr))),null!==this.wheelnav.titleWidth&&null===this.titleWidth&&(this.titleWidth=this.wheelnav.titleWidth),null!==this.wheelnav.titleHeight&&null===this.titleHeight&&(this.titleHeight=this.wheelnav.titleHeight),null!==this.titleWidth&&null===this.titleHeight&&(this.titleHeight=this.titleWidth),null===this.titleWidth&&null!==this.titleHeight&&(this.titleWidth=this.titleHeight),wheelnavTitle().isImageTitle(this.title)&&(null===this.titleWidth&&(this.titleWidth=32),null===this.titleHeight&&(this.titleHeight=32)),null!==this.wheelnav.titleHoverWidth&&null===this.titleHoverWidth&&(this.titleHoverWidth=this.wheelnav.titleHoverWidth),null!==this.wheelnav.titleHoverHeight&&null===this.titleHoverHeight&&(this.titleHoverHeight=this.wheelnav.titleHoverHeight),null!==this.titleHoverWidth&&null===this.titleHoverHeight&&(this.titleHoverHeight=this.titleHoverWidth),null===this.titleHoverWidth&&null!==this.titleHoverHeight&&(this.titleHoverWidth=this.titleHoverHeight),null!==this.wheelnav.titleSelectedWidth&&null===this.titleSelectedWidth&&(this.titleSelectedWidth=this.wheelnav.titleSelectedWidth),null!==this.wheelnav.titleSelectedHeight&&null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.wheelnav.titleSelectedHeight),null!==this.titleSelectedWidth&&null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.titleSelectedWidth),null===this.titleSelectedWidth&&null!==this.titleSelectedHeight&&(this.titleSelectedWidth=this.titleSelectedHeight),null===this.titleHoverHeight&&(this.titleHoverHeight=this.titleHeight),null===this.titleHoverWidth&&(this.titleHoverWidth=this.titleWidth),null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.titleHeight),null===this.titleSelectedWidth&&(this.titleSelectedWidth=this.titleWidth),null!==this.wheelnav.linePathAttr&&(this.linePathAttr=JSON.parse(JSON.stringify(this.wheelnav.linePathAttr))),null!==this.wheelnav.lineHoverAttr&&(this.lineHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.lineHoverAttr))),null!==this.wheelnav.lineSelectedAttr&&(this.lineSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.lineSelectedAttr))),(null===this.animateeffect||e)&&(this.animateeffect=null!==this.wheelnav.animateeffect?this.wheelnav.animateeffect:"bounce"),(null===this.animatetime||e)&&(this.animatetime=null!==this.wheelnav.animatetime?this.wheelnav.animatetime:1500),null!==this.title?((null===this.sliceInitPathFunction||e)&&(this.sliceInitPathFunction=this.wheelnav.sliceInitPathFunction),(null===this.sliceClickablePathFunction||e)&&(this.sliceClickablePathFunction=this.wheelnav.sliceClickablePathFunction),(null===this.slicePathFunction||e)&&(this.slicePathFunction=this.wheelnav.slicePathFunction),(null===this.sliceSelectedPathFunction||e)&&(this.sliceSelectedPathFunction=this.wheelnav.sliceSelectedPathFunction),(null===this.sliceHoverPathFunction||e)&&(this.sliceHoverPathFunction=this.wheelnav.sliceHoverPathFunction),(null===this.sliceTransformFunction||e)&&(this.sliceTransformFunction=this.wheelnav.sliceTransformFunction),(null===this.sliceSelectedTransformFunction||e)&&(this.sliceSelectedTransformFunction=this.wheelnav.sliceSelectedTransformFunction),(null===this.sliceHoverTransformFunction||e)&&(this.sliceHoverTransformFunction=this.wheelnav.sliceHoverTransformFunction),(null===this.sliceInitTransformFunction||e)&&(this.sliceInitTransformFunction=this.wheelnav.sliceInitTransformFunction)):(this.sliceInitPathFunction=slicePath().NullInitSlice,this.sliceClickablePathFunction=slicePath().NullSlice,this.slicePathFunction=slicePath().NullSlice,this.sliceSelectedPathFunction=null,this.sliceHoverPathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitTransformFunction=null),(null===this.slicePathCustom||e)&&(this.slicePathCustom=this.wheelnav.slicePathCustom),(null===this.sliceClickablePathCustom||e)&&(this.sliceClickablePathCustom=this.wheelnav.sliceClickablePathCustom),(null===this.sliceSelectedPathCustom||e)&&(this.sliceSelectedPathCustom=this.wheelnav.sliceSelectedPathCustom),(null===this.sliceHoverPathCustom||e)&&(this.sliceHoverPathCustom=this.wheelnav.sliceHoverPathCustom),(null===this.sliceInitPathCustom||e)&&(this.sliceInitPathCustom=this.wheelnav.sliceInitPathCustom),(null===this.sliceTransformCustom||e)&&(this.sliceTransformCustom=this.wheelnav.sliceTransformCustom),(null===this.sliceSelectedTransformCustom||e)&&(this.sliceSelectedTransformCustom=this.wheelnav.sliceSelectedTransformCustom),(null===this.sliceHoverTransformCustom||e)&&(this.sliceHoverTransformCustom=this.wheelnav.sliceHoverTransformCustom),(null===this.sliceInitTransformCustom||e)&&(this.sliceInitTransformCustom=this.wheelnav.sliceInitTransformCustom),(null===this.initPercent||e)&&(this.initPercent=this.wheelnav.initPercent),(null===this.minPercent||e)&&(this.minPercent=this.wheelnav.minPercent),(null===this.maxPercent||e)&&(this.maxPercent=this.wheelnav.maxPercent),(null===this.hoverPercent||e)&&(this.hoverPercent=this.wheelnav.hoverPercent),(null===this.selectedPercent||e)&&(this.selectedPercent=this.wheelnav.selectedPercent),(null===this.clickablePercentMin||e)&&(this.clickablePercentMin=this.wheelnav.clickablePercentMin),(null===this.clickablePercentMax||e)&&(this.clickablePercentMax=this.wheelnav.clickablePercentMax),(null===this.titleSpreadScale||e)&&(this.titleSpreadScale=null!==this.wheelnav.titleSpreadScale&&this.wheelnav.titleSpreadScale),(null===this.sliceAngle||e)&&null!==this.wheelnav.sliceAngle&&(this.sliceAngle=this.wheelnav.sliceAngle)},wheelnavItem.prototype.initPathsAndTransforms=function(){this.sliceHelper=new s,this.sliceHelper.centerX=this.wheelnav.centerX,this.sliceHelper.centerY=this.wheelnav.centerY,this.sliceHelper.wheelRadius=this.wheelnav.wheelRadius,this.sliceHelper.startAngle=this.baseAngle,this.sliceHelper.sliceAngle=this.sliceAngle,this.sliceHelper.itemIndex=this.itemIndex,this.slicePathMin=this.slicePathFunction(this.sliceHelper,this.minPercent,this.slicePathCustom),this.slicePathMax=this.slicePathFunction(this.sliceHelper,this.maxPercent,this.slicePathCustom),this.selectedSlicePathMin=null!==this.sliceSelectedPathFunction?this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom):this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom),this.selectedSlicePathMax=null!==this.sliceSelectedPathFunction?this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom):this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom),this.hoverSlicePathMin=null!==this.sliceHoverPathFunction?this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom):this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom),this.hoverSlicePathMax=null!==this.sliceHoverPathFunction?this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom):this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom),null!==this.sliceClickablePathFunction&&(this.clickableSlicePathMin=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMin,this.sliceClickablePathCustom),this.clickableSlicePathMax=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMax,this.sliceClickablePathCustom)),this.sliceInitPath=null!==this.sliceInitPathFunction?this.sliceInitPathFunction(this.sliceHelper,this.initPercent,this.sliceInitPathCustom):this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.slicePathFunction(this.sliceHelper,this.maxPercent,this.sliceInitPathCustom):this.slicePathFunction(this.sliceHelper,this.minPercent,this.sliceInitPathCustom),this.sliceTransform=null!==this.sliceTransformFunction?this.sliceTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceTransformCustom):n().NullTransform,this.selectTransform=null!==this.sliceSelectedTransformFunction?this.sliceSelectedTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceSelectedTransformCustom):n().NullTransform,this.hoverTransform=null!==this.sliceHoverTransformFunction?this.sliceHoverTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceHoverTransformCustom):n().NullTransform,this.initTransform=null!==this.sliceInitTransformFunction?this.sliceInitTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceInitTransformCustom):n().NullTransform,wheelnavTitle().isPathTitle(this.title)?(initNavTitle=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),basicNavTitleMin=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),basicNavTitleMax=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),hoverNavTitleMin=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael),hoverNavTitleMax=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael),selectedNavTitleMin=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael),selectedNavTitleMax=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael),this.navTitleSizeTransform=basicNavTitleMax.getTitleSizeTransform(this.titleWidth,this.titleHeight),this.navTitleSizeHoverTransform=hoverNavTitleMax.getTitleSizeTransform(this.titleHoverWidth,this.titleHoverHeight),this.navTitleSizeSelectedTransform=selectedNavTitleMax.getTitleSizeTransform(this.titleSelectedWidth,this.titleSelectedHeight)):(initNavTitle=new wheelnavTitle(this.title),basicNavTitleMin=new wheelnavTitle(this.title),basicNavTitleMax=new wheelnavTitle(this.title),hoverNavTitleMin=new wheelnavTitle(this.titleHover),hoverNavTitleMax=new wheelnavTitle(this.titleHover),selectedNavTitleMin=new wheelnavTitle(this.titleSelected),selectedNavTitleMax=new wheelnavTitle(this.titleSelected)),this.initNavTitle=initNavTitle.getTitlePercentAttr(this.sliceInitPath.titlePosX,this.sliceInitPath.titlePosY,this.titleWidth,this.titleHeight),this.basicNavTitleMin=basicNavTitleMin.getTitlePercentAttr(this.slicePathMin.titlePosX,this.slicePathMin.titlePosY,this.titleWidth,this.titleHeight),this.basicNavTitleMax=basicNavTitleMax.getTitlePercentAttr(this.slicePathMax.titlePosX,this.slicePathMax.titlePosY,this.titleWidth,this.titleHeight),this.hoverNavTitleMin=hoverNavTitleMin.getTitlePercentAttr(this.hoverSlicePathMin.titlePosX,this.hoverSlicePathMin.titlePosY,this.titleHoverWidth,this.titleHoverHeight),this.hoverNavTitleMax=hoverNavTitleMax.getTitlePercentAttr(this.hoverSlicePathMax.titlePosX,this.hoverSlicePathMax.titlePosY,this.titleHoverWidth,this.titleHoverHeight),this.selectedNavTitleMin=selectedNavTitleMin.getTitlePercentAttr(this.selectedSlicePathMin.titlePosX,this.selectedSlicePathMin.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight),this.selectedNavTitleMax=selectedNavTitleMax.getTitlePercentAttr(this.selectedSlicePathMax.titlePosX,this.selectedSlicePathMax.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight)},wheelnavItem.prototype.getCurrentPath=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.selected?this.selectedSlicePathMax:this.hovered?this.hoverSlicePathMax:this.slicePathMax:this.selected?this.selectedSlicePathMin:this.hovered?this.hoverSlicePathMin:this.slicePathMin},wheelnavItem.prototype.getCurrentClickablePath=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.clickableSlicePathMax:this.clickableSlicePathMin},wheelnavItem.prototype.getCurrentTitle=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.selected?this.selectedNavTitleMax:this.hovered?this.hoverNavTitleMax:this.basicNavTitleMax:this.selected?this.selectedNavTitleMin:this.hovered?this.hoverNavTitleMin:this.basicNavTitleMin},wheelnavItem.prototype.getItemRotateString=function(){return"r,"+this.currentRotateAngle.toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY},wheelnavItem.prototype.getTitleRotateString=function(e){var t="";return(t+=this.getItemRotateString())+(null!==this.wheelnav.titleRotateAngle&&e?",r,"+(this.navAngle+this.wheelnav.titleRotateAngle).toString():",r,"+(-this.currentRotateAngle).toString())},wheelnavTitle=function(e,t){if(this.title=e,null!==e){if(void 0!==t){this.relativePath=t.pathToRelative(e);var i=t.pathBBox(this.relativePath);this.centerX=i.cx,this.centerY=i.cy,this.width=i.width,this.height=i.height,this.startX=this.relativePath[0][1],this.startY=this.relativePath[0][2]}this.title=e}else this.title="";return this.isPathTitle=function(e){return!(null===e||"m"!==e.substr(0,1)&&"M"!==e.substr(0,1)||"z"!==e.substr(e.length-1,1)&&"Z"!==e.substr(e.length-1,1))&&(e.indexOf(",")>-1||e.indexOf(" ")>-1)},this.isImageTitle=function(e){return void 0===e&&(e=this.title),null!==e&&"imgsrc:"===e.substr(0,7)},this},wheelnavTitle.prototype.getTitlePercentAttr=function(e,t,i,n){var a,r,s={};return void 0!==this.relativePath?(a=e+(this.startX-this.centerX),r=t+(this.startY-this.centerY),this.relativePath[0][1]=a,this.relativePath[0][2]=r,s={path:this.relativePath,title:this.title}):s=this.isImageTitle()?{x:e-i/2,y:t-n/2,width:i,height:n,title:this.title,src:this.title.substr(7,this.title.length)}:{x:e,y:t,title:this.title},s},wheelnavTitle.prototype.getTitleSizeTransform=function(e,t){var i="";return null!==e&&null!==t&&(i="s",this.height>this.width?(i+=(e/this.height).toString()+",",i+=(t/this.height).toString()):(i+=(e/this.width).toString()+",",i+=(t/this.width).toString())),i},wheelnav.prototype.styleWheel=function(){this.cssMode?(this.spreaderPathInAttr={class:this.getSpreaderCssClass("in")},this.spreaderPathOutAttr={class:this.getSpreaderCssClass("out")},this.spreaderTitleInAttr={class:this.getSpreaderTitleCssClass("in")},this.spreaderTitleOutAttr={class:this.getSpreaderTitleCssClass("out")},this.markerAttr={class:this.getMarkerCssClass()}):((void 0===this.spreaderPathInAttr||null===this.spreaderPathInAttr)&&(this.spreaderPathInAttr={fill:"#444",stroke:"#444","stroke-width":2,cursor:"pointer"}),(void 0===this.spreaderPathOutAttr||null===this.spreaderPathOutAttr)&&(this.spreaderPathOutAttr={fill:"#444",stroke:"#444","stroke-width":2,cursor:"pointer"}),(void 0===this.spreaderTitleInAttr||null===this.spreaderTitleInAttr)&&(this.spreaderTitleInAttr={fill:"#eee",stroke:"#444",cursor:"pointer"}),(void 0===this.spreaderTitleOutAttr||null===this.spreaderTitleOutAttr)&&(this.spreaderTitleOutAttr={fill:"#eee",stroke:"#444",cursor:"pointer"}),(void 0===this.markerAttr||null===this.markerAttr)&&(this.markerAttr={stroke:"#444","stroke-width":2}))},wheelnavItem.prototype.styleNavItem=function(){this.wheelnav.cssMode?(this.slicePathAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"basic")},this.sliceHoverAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"hover")},this.sliceSelectedAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"selected")},this.titleAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"basic")},this.titleHoverAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"hover")},this.titleSelectedAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"selected")},this.linePathAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"basic")},this.lineHoverAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"hover")},this.lineSelectedAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"selected")}):(this.slicePathAttr={stroke:"#333","stroke-width":0,cursor:"pointer","fill-opacity":1},this.sliceHoverAttr={stroke:"#222","stroke-width":0,cursor:"pointer","fill-opacity":.77},this.sliceSelectedAttr={stroke:"#111","stroke-width":0,cursor:"default","fill-opacity":1},this.titleAttr={font:this.titleFont,fill:"#333",stroke:"none",cursor:"pointer"},this.titleHoverAttr={font:this.titleFont,fill:"#222",cursor:"pointer",stroke:"none"},this.titleSelectedAttr={font:this.titleFont,fill:"#fff",cursor:"default"},this.linePathAttr={stroke:"#444","stroke-width":1,cursor:"pointer"},this.lineHoverAttr={stroke:"#222","stroke-width":2,cursor:"pointer"},this.lineSelectedAttr={stroke:"#444","stroke-width":1,cursor:"default"}),this.sliceClickablePathAttr={fill:"#FFF",stroke:"#FFF","stroke-width":0,cursor:"pointer","fill-opacity":.01},this.sliceClickableHoverAttr={stroke:"#FFF","stroke-width":0,cursor:"pointer"},this.sliceClickableSelectedAttr={stroke:"#FFF","stroke-width":0,cursor:"default"}},wheelnav.prototype.getSliceCssClass=function(e,t){return"wheelnav-"+this.holderId+"-slice-"+t+"-"+e},wheelnav.prototype.getTitleCssClass=function(e,t){return"wheelnav-"+this.holderId+"-title-"+t+"-"+e},wheelnav.prototype.getLineCssClass=function(e,t){return"wheelnav-"+this.holderId+"-line-"+t+"-"+e},wheelnav.prototype.getSpreaderCssClass=function(e){return"wheelnav-"+this.holderId+"-spreader-"+e},wheelnav.prototype.getSpreaderTitleCssClass=function(e){return"wheelnav-"+this.holderId+"-spreadertitle-"+e},wheelnav.prototype.getMarkerCssClass=function(){return"wheelnav-"+this.holderId+"-marker"};var s=function(){return this.sliceRadius=0,this.startAngle=0,this.middleAngle=0,this.endAngle=0,this.sliceAngle=0,this.startTheta=0,this.middleTheta=0,this.endTheta=0,this.titlePosX=0,this.titlePosY=0,this.titleRadius=0,this.titleTheta=0,this.custom=null,this.centerX=0,this.centerY=0,this.wheelRadius=0,this.itemIndex=0,this.navItemCount=0,this.navAngle=0,this.setBaseValue=function(e,t){null===t?t=new o:this.custom=t,this.sliceRadius=this.wheelRadius*e*.9,this.middleAngle=this.startAngle+this.sliceAngle/2,this.endAngle=this.startAngle+this.sliceAngle,this.startTheta=this.getTheta(this.startAngle),this.middleTheta=this.getTheta(this.middleAngle),this.endTheta=this.getTheta(this.endAngle),null!==t?(null!==t.titleRadiusPercent&&(this.titleRadius=this.sliceRadius*t.titleRadiusPercent),null!==t.titleSliceAnglePercent&&(this.titleTheta=this.getTheta(this.startAngle+this.sliceAngle*t.titleSliceAnglePercent))):(this.titleRadius=.5*this.sliceRadius,this.titleTheta=this.middleTheta),this.setTitlePos()},this.setTitlePos=function(){this.titlePosX=this.titleRadius*Math.cos(this.titleTheta)+this.centerX,this.titlePosY=this.titleRadius*Math.sin(this.titleTheta)+this.centerY},this.getX=function(e,t){return t*Math.cos(this.getTheta(e))+this.centerX},this.getY=function(e,t){return t*Math.sin(this.getTheta(e))+this.centerY},this.MoveTo=function(e,t){return["M",this.getX(e,t),this.getY(e,t)]},this.MoveToCenter=function(){return["M",this.centerX,this.centerY]},this.LineTo=function(e,t,i,n){return void 0===i&&(i=e),void 0===n&&(n=t),["L",this.getX(e,t),this.getY(i,n)]},this.ArcTo=function(e,t,i){return["A",e,e,0,0,1,this.getX(t,i),this.getY(t,i)]},this.ArcBackTo=function(e,t,i){return["A",e,e,0,0,0,this.getX(t,i),this.getY(t,i)]},this.StartSpreader=function(e,t,i){this.endAngle-this.startAngle==360?e.push(this.MoveTo(t,i)):(e.push(this.MoveToCenter()),e.push(this.LineTo(t,i)))},this.Close=function(){return["z"]},this.getTheta=function(e){return e%360*Math.PI/180},this},o=function(){return this.titleRadiusPercent=.5,this.titleSliceAnglePercent=.5,this},l=function(){return this.titleRadiusPercent=0,this.titleSliceAnglePercent=.5,this.spreaderPercent=1,this},c=function(){return this.titleRadiusPercent=1,this.titleSliceAnglePercent=.5,this.markerPercent=1.05,this};slicePath=function(){return this.NullSlice=function(e,t,i){return e.setBaseValue(t,i),{slicePathString:"",linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.NullInitSlice=function(e,t,i){return e.setBaseValue(t,i),slicePathString=[e.MoveToCenter(),e.Close()],{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:e.centerX,titlePosY:e.centerY}},this.PieSliceCustomization=function(){var e=new o;return e.titleRadiusPercent=.6,e.arcBaseRadiusPercent=1,e.arcRadiusPercent=1,e.startRadiusPercent=0,e},this.PieSlice=function(e,t,i){null===i&&(i=PieSliceCustomization()),e.setBaseValue(t,i);var n=e.sliceRadius*i.arcBaseRadiusPercent,a=e.sliceRadius*i.arcRadiusPercent;return slicePathString=[e.MoveTo(e.middleAngle,i.startRadiusPercent*e.sliceRadius),e.LineTo(e.startAngle,n),e.ArcTo(a,e.endAngle,n),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.FlowerSlice=function(e,t,i){null===i&&((i=PieSliceCustomization()).titleRadiusPercent=.5,i.arcBaseRadiusPercent=.65,i.arcRadiusPercent=.14);var n=PieSlice(e,t,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.PieArrowSliceCustomization=function(){var e=new o;return e.titleRadiusPercent=.6,e.arrowRadiusPercent=1.1,e},this.PieArrowSlice=function(e,t,i){null===i&&(i=PieArrowSliceCustomization()),e.setBaseValue(t,i),r=e.sliceRadius,arrowAngleStart=e.startAngle+.45*e.sliceAngle,arrowAngleEnd=e.startAngle+.55*e.sliceAngle;var n=r*i.arrowRadiusPercent;return slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,arrowAngleStart,r),e.LineTo(e.middleAngle,n),e.LineTo(arrowAngleEnd,r),e.ArcTo(r,e.endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.PieArrowBasePieSlice=function(e,t,i){null===i&&(i=PieArrowSliceCustomization()),i.arrowRadiusPercent=1;var n=PieArrowSlice(e,t,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.DonutSliceCustomization=function(){var e=new o;return e.minRadiusPercent=.37,e.maxRadiusPercent=.9,e},this.DonutSlice=function(e,t,i){return null===i&&(i=DonutSliceCustomization()),maxRadius=e.wheelRadius*t*i.maxRadiusPercent,minRadius=e.wheelRadius*t*i.minRadiusPercent,e.setBaseValue(t,i),e.titleRadius=(maxRadius+minRadius)/2,e.setTitlePos(),slicePathString=[e.MoveTo(e.startAngle,minRadius),e.LineTo(e.startAngle,maxRadius),e.ArcTo(maxRadius,e.endAngle,maxRadius),e.LineTo(e.endAngle,minRadius),e.ArcBackTo(minRadius,e.startAngle,minRadius),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.CogSliceCustomization=function(){var e=new o;return e.titleRadiusPercent=.55,e.isBasePieSlice=!1,e},this.CogSlice=function(e,t,i){return null===i&&(i=CogSliceCustomization()),e.setBaseValue(t,i),r=e.sliceRadius,rbase=e.wheelRadius*t*.83,percentAngle0625=e.startAngle+.0625*e.sliceAngle,percentAngle1250=e.startAngle+.125*e.sliceAngle,percentAngle1875=e.startAngle+.1875*e.sliceAngle,percentAngle2500=e.startAngle+.25*e.sliceAngle,percentAngle3125=e.startAngle+.3125*e.sliceAngle,percentAngle3750=e.startAngle+.375*e.sliceAngle,percentAngle4375=e.startAngle+.4375*e.sliceAngle,percentAngle5000=e.startAngle+.5*e.sliceAngle,percentAngle5625=e.startAngle+.5625*e.sliceAngle,percentAngle6250=e.startAngle+.625*e.sliceAngle,percentAngle6875=e.startAngle+.6875*e.sliceAngle,percentAngle7500=e.startAngle+.75*e.sliceAngle,percentAngle8125=e.startAngle+.8125*e.sliceAngle,percentAngle8750=e.startAngle+.875*e.sliceAngle,percentAngle9375=e.startAngle+.9375*e.sliceAngle,percentAngle9687=e.startAngle+.96875*e.sliceAngle,i.isBasePieSlice?(r=rbase,slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,percentAngle0625,r),e.ArcTo(r,percentAngle1250,r),e.ArcTo(r,percentAngle1875,r),e.ArcTo(r,percentAngle2500,r),e.ArcTo(r,percentAngle3125,r),e.ArcTo(r,percentAngle3750,r),e.ArcTo(r,percentAngle4375,r),e.ArcTo(r,percentAngle5000,r),e.ArcTo(r,percentAngle5625,r),e.ArcTo(r,percentAngle6250,r),e.ArcTo(r,percentAngle6875,r),e.ArcTo(r,percentAngle7500,r),e.ArcTo(r,percentAngle8125,r),e.ArcTo(r,percentAngle8750,r),e.ArcTo(r,percentAngle9375,r),e.ArcTo(r,percentAngle9687,r),e.ArcTo(r,e.endAngle,r),e.Close()]):slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,percentAngle0625,r),e.LineTo(percentAngle0625,rbase),e.ArcTo(rbase,percentAngle1875,rbase),e.LineTo(percentAngle1875,r),e.ArcTo(r,percentAngle3125,r),e.LineTo(percentAngle3125,rbase),e.ArcTo(rbase,percentAngle4375,rbase),e.LineTo(percentAngle4375,r),e.ArcTo(r,percentAngle5625,r),e.LineTo(percentAngle5625,rbase),e.ArcTo(rbase,percentAngle6875,rbase),e.LineTo(percentAngle6875,r),e.ArcTo(r,percentAngle8125,r),e.LineTo(percentAngle8125,rbase),e.ArcTo(rbase,percentAngle9375,rbase),e.LineTo(percentAngle9375,r),e.ArcTo(r,e.endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.CogBasePieSlice=function(e,t,i){null===i&&(i=CogSliceCustomization()),i.isBasePieSlice=!0;var n=CogSlice(e,t,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.StarSliceCustomization=function(){var e=new o;return e.titleRadiusPercent=.44,e.minRadiusPercent=.5,e.isBasePieSlice=!1,e},this.StarSlice=function(e,t,i){return null===i&&(i=StarSliceCustomization()),e.setBaseValue(t,i),r=e.wheelRadius*t,rbase=r*i.minRadiusPercent,i.isBasePieSlice?(r=e.sliceRadius,slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.ArcTo(r,e.middleAngle,r),e.ArcTo(r,e.endAngle,r),e.Close()]):slicePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,rbase),e.LineTo(e.middleAngle,r),e.LineTo(e.endAngle,rbase),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.StarBasePieSlice=function(e,t,i){null===i&&(i=StarSliceCustomization()),i.titleRadiusPercent=.6,i.isBasePieSlice=!0;var n=StarSlice(e,t,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.MenuSliceCustomization=function(){var e=new o;return e.menuRadius=35,e.titleRadiusPercent=.63,e.isSelectedLine=!1,e.lineBaseRadiusPercent=0,e},this.MenuSlice=function(e,t,i){var n,a;return null===i&&(i=MenuSliceCustomization()),e.setBaseValue(t,i),x=e.centerX,y=e.centerY,n=e.wheelRadius*t,e.titleRadius=n*i.titleRadiusPercent,e.setTitlePos(),a=t*i.menuRadius,t<=.05&&(a=10),middleTheta=e.middleTheta,slicePathString=[["M",e.titlePosX-a*Math.cos(middleTheta),e.titlePosY-a*Math.sin(middleTheta)],["A",a,a,0,0,1,e.titlePosX+a*Math.cos(middleTheta),e.titlePosY+a*Math.sin(middleTheta)],["A",a,a,0,0,1,e.titlePosX-a*Math.cos(middleTheta),e.titlePosY-a*Math.sin(middleTheta)],["z"]],linePathString=t<=.05?[["M",x,y],["A",1,1,0,0,1,x+1,y+1]]:i.isSelectedLine?[e.MoveTo(e.middleAngle,i.lineBaseRadiusPercent*n),e.ArcTo(n/3,e.middleAngle,e.titleRadius-a)]:[e.MoveTo(e.middleAngle,i.lineBaseRadiusPercent*n),e.ArcTo(n/2,e.middleAngle,e.titleRadius-a)],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.MenuSliceSelectedLine=function(e,t,i){null===i&&(i=MenuSliceCustomization()),i.isSelectedLine=!0;var n=MenuSlice(e,t,i);return{slicePathString:n.slicePathString,linePathString:n.linePathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.MenuSliceWithoutLine=function(e,t,i){var n=MenuSlice(e,t,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.LineSlice=function(e,t,i){return e.setBaseValue(t,i),r=e.sliceRadius,e.sliceAngle>60&&e.sliceAngle<180?(e.titleRadius=r*(36/e.sliceAngle),e.setTitlePos()):(e.titleRadius=.55*r,e.setTitlePos()),slicePathString=e.sliceAngle<180?[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.LineTo(e.endAngle,r),e.Close()]:180===e.startAngle||0===e.startAngle||-180===e.startAngle||360===e.startAngle?[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.LineTo(e.startAngle,r,e.middleAngle,r),e.LineTo(e.endAngle,r,e.middleAngle,r),e.LineTo(e.endAngle,r),e.Close()]:[e.MoveToCenter(),e.LineTo(e.startAngle,r),e.LineTo(e.middleAngle,r,e.startAngle,r),e.LineTo(e.middleAngle,r,e.endAngle,r),e.LineTo(e.endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.EyeSliceCustomization=function(){var e=new o;return e.titleRadiusPercent=.68,e},this.EyeSlice=function(e,t,i){return null===i&&(i=EyeSliceCustomization()),e.setBaseValue(t,i),r=e.wheelRadius*t*.7,0===t&&(r=.01),startAngle=e.startAngle,endAngle=e.endAngle,180===e.sliceAngle&&(startAngle=e.startAngle+e.sliceAngle/4,endAngle=e.startAngle+e.sliceAngle-e.sliceAngle/4),slicePathString=[e.MoveTo(endAngle,r),e.ArcTo(r,startAngle,r),e.ArcTo(r,endAngle,r),e.Close()],{slicePathString:slicePathString,linePathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.WheelSlice=function(e,t,i){var n;return e.setBaseValue(t,i),x=e.centerX,y=e.centerY,r=e.sliceRadius,startTheta=e.startTheta,middleTheta=e.middleTheta,endTheta=e.endTheta,e.sliceAngle<120?(e.titleRadius=.57*r,n=.9):e.sliceAngle<180?(e.titleRadius=.52*r,n=.91):(e.titleRadius=.45*r,n=.873),slicePathString=[e.MoveTo(e.middleAngle,.07*r),["L",.07*r*Math.cos(middleTheta)+.87*r*Math.cos(startTheta)+x,.07*r*Math.sin(middleTheta)+.87*r*Math.sin(startTheta)+y],["A",r*n,r*n,0,0,1,.07*r*Math.cos(middleTheta)+.87*r*Math.cos(endTheta)+x,.07*r*Math.sin(middleTheta)+.87*r*Math.sin(endTheta)+y],e.Close()],linePathString=[e.MoveTo(e.startAngle,r),e.ArcTo(r,e.endAngle,r),e.ArcBackTo(r,e.startAngle,r)],e.setTitlePos(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.TabSlice=function(e){var t=.9*e.wheelRadius,i=2*t/(360/e.sliceAngle);return x=e.centerX,y=e.centerY,itemIndex=e.itemIndex,titlePosX=x,titlePosY=itemIndex*i+y+i/2-t,slicePathString=[["M",x-i/2,itemIndex*i+y-t],["L",i/2+x,itemIndex*i+y-t],["L",i/2+x,(itemIndex+1)*i+y-t],["L",x-i/2,(itemIndex+1)*i+y-t],["z"]],{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY}},this.YinYangSlice=function(e,t,i){return e.setBaseValue(t,i),r=e.sliceRadius,slicePathString=[e.MoveToCenter(),e.ArcTo(r/2,e.startAngle,r),e.ArcTo(r,e.endAngle,r),e.ArcBackTo(r/2,0,0),e.Close()],titlePosX=e.getX(e.startAngle,r/2),titlePosY=e.getY(e.startAngle,r/2),{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY}},this.WebSlice=function(e,t,i){return e.setBaseValue(t,i),r=e.sliceRadius,e.titleRadius=.55*r,e.setTitlePos(),linePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,1.1*r),e.MoveToCenter(),e.LineTo(e.endAngle,1.1*r),e.MoveTo(e.startAngle,.15*r),e.LineTo(e.endAngle,.15*r),e.MoveTo(e.startAngle,.35*r),e.LineTo(e.endAngle,.35*r),e.MoveTo(e.startAngle,.55*r),e.LineTo(e.endAngle,.55*r),e.MoveTo(e.startAngle,.75*r),e.LineTo(e.endAngle,.75*r),e.MoveTo(e.startAngle,.95*r),e.LineTo(e.endAngle,.95*r),e.Close()],{slicePathString:"",linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.WinterSliceCustomization=function(){var e=new o;return e.titleRadiusPercent=.85,e.arcRadiusPercent=1,e},this.WinterSlice=function(e,t,i){null===i&&(i=WinterSliceCustomization()),e.setBaseValue(t,i),sliceAngle=e.sliceAngle,parallelAngle=e.startAngle+sliceAngle/4,parallelAngle2=e.startAngle+sliceAngle/4*3,borderAngle1=e.startAngle+sliceAngle/200,borderAngle2=e.startAngle+sliceAngle/2-sliceAngle/200,borderAngle3=e.startAngle+sliceAngle/2+sliceAngle/200,borderAngle4=e.startAngle+sliceAngle-sliceAngle/200;var n=e.sliceRadius*i.arcRadiusPercent;return slicePathString=[e.MoveToCenter(),e.MoveTo(parallelAngle,n/100),e.LineTo(borderAngle1,n/2),e.LineTo(parallelAngle,n-n/100),e.LineTo(borderAngle2,n/2),e.LineTo(parallelAngle,n/100),e.MoveTo(parallelAngle2,n/100),e.LineTo(borderAngle4,n/2),e.LineTo(parallelAngle2,n-n/100),e.LineTo(borderAngle3,n/2),e.LineTo(parallelAngle2,n/100),e.Close()],linePathString=[e.MoveTo(parallelAngle,n),e.LineTo(borderAngle2,n/2),e.MoveTo(borderAngle3,n/2),e.LineTo(parallelAngle2,n)],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.TutorialSliceCustomization=function(){var e=new o;return e.titleRadiusPercent=.6,e.isMoveTo=!1,e.isLineTo=!1,e.isArcTo=!1,e.isArcBackTo=!1,e},this.TutorialSlice=function(e,t,i){return null===i&&(i=TutorialSliceCustomization()),e.setBaseValue(t,i),slicePathString=[],slicePathString.push(e.MoveToCenter()),!0===i.isMoveTo&&slicePathString.push(e.MoveTo(e.middleAngle,e.sliceRadius/4)),i.isLineTo&&slicePathString.push(e.LineTo(e.startAngle,e.sliceRadius)),i.isArcTo&&slicePathString.push(e.ArcTo(e.sliceRadius,e.middleAngle,e.sliceRadius)),i.isArcBackTo&&slicePathString.push(e.ArcBackTo(e.sliceRadius,e.endAngle,e.sliceRadius)),slicePathString.push(e.Close()),linePathString=[e.MoveToCenter(),e.LineTo(e.startAngle,e.sliceRadius),e.ArcTo(e.sliceRadius,e.endAngle,e.sliceRadius),e.Close()],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this},n=function(){this.startAngle=0,this.startTheta=0,this.middleTheta=0,this.endTheta=0;var e=function(e){return e%360*Math.PI/180};return this.NullTransform=function(){return{sliceTransformString:"",lineTransformString:"",titleTransformString:""}},this.MoveMiddleTransform=function(t,i,n,a,r,s,o){var l,c;return function(t,i,n,a,r){this.startAngle=a,this.startTheta=e(startAngle),this.middleTheta=e(startAngle+r/2),this.endTheta=e(startAngle+r)}(0,0,0,a,r),l="t"+(n/10*Math.cos(middleTheta)).toString()+","+(n/10*Math.sin(middleTheta)).toString(),null!==s?c=e(-s):c=e(a-o*r+r/2),{sliceTransformString:l,lineTransformString:l,titleTransformString:"s1,r0,t"+(n/10*Math.cos(c)).toString()+","+(n/10*Math.sin(c)).toString()}},this.RotateTransform=function(){var e="s1,r360";return{sliceTransformString:e,lineTransformString:e,titleTransformString:e}},this.RotateHalfTransform=function(){var e="s1,r90";return{sliceTransformString:e,lineTransformString:e,titleTransformString:e}},this.RotateTitleTransform=function(){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1,r360"}},this.ScaleTransform=function(){var e="s1.2";return{sliceTransformString:e,lineTransformString:"",titleTransformString:e}},this.ScaleTitleTransform=function(){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1.3"}},this.RotateScaleTransform=function(){var e="r360,s1.3";return{sliceTransformString:e,lineTransformString:"",titleTransformString:e}},this.CustomTransform=function(e,t,i,n,a,r,s,o){var l=o.scaleString+","+o.rotateString;return{sliceTransformString:l,lineTransformString:l,titleTransformString:l}},this.CustomTitleTransform=function(e,t,i,n,a,r,s,o){return{sliceTransformString:"",lineTransformString:"",titleTransformString:o.scaleString+","+o.rotateString}},this},spreader=function(e){var t,i;if(this.wheelnav=e,this.wheelnav.spreaderEnable){this.spreaderHelper=new s,this.spreaderHelper.centerX=this.wheelnav.centerX,this.spreaderHelper.centerY=this.wheelnav.centerY,this.spreaderHelper.navItemCount=this.wheelnav.navItemCount,this.spreaderHelper.navAngle=this.wheelnav.navAngle,this.spreaderHelper.wheelRadius=this.wheelnav.spreaderRadius,this.spreaderHelper.startAngle=this.wheelnav.spreaderStartAngle,this.spreaderHelper.sliceAngle=this.wheelnav.spreaderSliceAngle,t=this.wheelnav,this.animateeffect="bounce",this.animatetime=1500,null!==this.wheelnav.animateeffect&&(this.animateeffect=this.wheelnav.animateeffect),null!==this.wheelnav.animatetime&&(this.animatetime=this.wheelnav.animatetime),this.fontAttr=null!==this.wheelnav.spreaderTitleFont?{font:this.wheelnav.spreaderTitleFont}:{font:"100 32px Impact, Charcoal, sans-serif"},this.spreaderPathIn=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderInPercent,this.wheelnav.spreaderPathCustom),this.spreaderPathOut=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderOutPercent,this.wheelnav.spreaderPathCustom),i=this.spreaderPathOut,t.initPercent<t.maxPercent&&(i=this.spreaderPathIn),this.spreaderPath=this.wheelnav.raphael.path(i.spreaderPathString),this.spreaderPath.attr(t.spreaderPathAttr),this.spreaderPath.id=t.getSpreaderId(),this.spreaderPath.node.id=this.spreaderPath.id,this.spreaderPath.click(function(){t.spreadWheel()}),this.inTitleWidth=this.wheelnav.spreaderInTitleWidth,this.inTitleHeight=this.wheelnav.spreaderInTitleHeight,this.outTitleWidth=this.wheelnav.spreaderOutTitleWidth,this.outTitleHeight=this.wheelnav.spreaderOutTitleHeight,null!==this.inTitleWidth&&null===this.inTitleHeight&&(this.inTitleHeight=this.inTitleWidth),null===this.inTitleWidth&&null!==this.inTitleHeight&&(this.inTitleWidth=this.inTitleHeight),null!==this.outTitleWidth&&null===this.outTitleHeight&&(this.outTitleHeight=this.outTitleWidth),null===this.outTitleWidth&&null!==this.outTitleHeight&&(this.outTitleWidth=this.outTitleHeight),wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)&&(null===this.inTitleWidth&&(this.inTitleWidth=32),null===this.inTitleHeight&&(this.inTitleHeight=32),null===this.outTitleWidth&&(this.outTitleWidth=32),null===this.outTitleHeight&&(this.outTitleHeight=32)),inTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderInTitle)?new wheelnavTitle(this.wheelnav.spreaderInTitle,this.wheelnav.raphael.raphael):new wheelnavTitle(this.wheelnav.spreaderInTitle),this.inTitleSizeTransform=inTitle.getTitleSizeTransform(this.inTitleWidth,this.inTitleHeight),this.inTitle=inTitle.getTitlePercentAttr(this.spreaderPathIn.titlePosX,this.spreaderPathIn.titlePosY,this.inTitleWidth,this.inTitleHeight),outTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)?new wheelnavTitle(this.wheelnav.spreaderOutTitle,this.wheelnav.raphael.raphael):new wheelnavTitle(this.wheelnav.spreaderOutTitle),this.outTitleSizeTransform=outTitle.getTitleSizeTransform(this.outTitleWidth,this.outTitleHeight),this.outTitle=outTitle.getTitlePercentAttr(this.spreaderPathOut.titlePosX,this.spreaderPathOut.titlePosY,this.outTitleWidth,this.outTitleHeight);var n=this.outTitle,a=this.wheelnav.spreaderTitleOutAttr,r=this.outTitleWidth,o=this.outTitleHeight,l=this.outTitleSizeTransform;t.initPercent<t.maxPercent&&(n=this.inTitle,a=this.wheelnav.spreaderTitleInAttr,r=this.inTitleWidth,o=this.inTitleHeight,l=this.inTitleSizeTransform),this.spreaderTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)?t.raphael.path(n.path):wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)?this.wheelnav.raphael.image(n.src,i.titlePosX-r/2,i.titlePosY-o/2,r,o):t.raphael.text(i.titlePosX,i.titlePosY,n.title),this.spreaderTitle.attr(this.fontAttr),this.spreaderTitle.attr(a),this.spreaderTitle.attr({transform:l}),this.spreaderTitle.id=t.getSpreaderTitleId(),this.spreaderTitle.node.id=this.spreaderTitle.id,this.spreaderTitle.click(function(){t.spreadWheel()}),this.setCurrentTransform()}return this},spreader.prototype.setCurrentTransform=function(e){if(this.wheelnav.spreaderEnable){var t,i,n;if(void 0===e||!1===e)currentPath=this.wheelnav.currentPercent>this.wheelnav.minPercent?this.spreaderPathOut.spreaderPathString:this.spreaderPathIn.spreaderPathString,spreaderTransformAttr={path:currentPath},this.spreaderPath.animate(spreaderTransformAttr,this.animatetime,this.animateeffect),this.wheelnav.currentPercent===this.wheelnav.maxPercent?(t=this.outTitle,i=this.wheelnav.spreaderTitleOutAttr,this.spreaderPath.attr(this.wheelnav.spreaderPathOutAttr),n=this.outTitleSizeTransform):(t=this.inTitle,i=this.wheelnav.spreaderTitleInAttr,this.spreaderPath.attr(this.wheelnav.spreaderPathInAttr),n=this.inTitleSizeTransform),wheelnavTitle().isPathTitle(t.title)?(i.path=t.path,i.transform=n):wheelnavTitle().isImageTitle(t.title)?(i.x=t.x,i.y=t.y,i.width=t.width,i.height=t.height,this.spreaderTitle.attr({src:t.src})):(offYOffset=0,"-"===t.title&&(offYOffset=3),i.x=t.x,i.y=t.y-offYOffset,null!==t.title&&this.spreaderTitle.attr({text:t.title})),this.spreaderTitle.animate(i,this.animatetime,this.animateeffect);this.spreaderPath.toFront(),this.spreaderTitle.toFront()}},spreaderPath=function(){return this.NullSpreader=function(e,t){return null===t&&(t=new l),e.setBaseValue(t.spreaderPercent,t),{spreaderPathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.PieSpreaderCustomization=function(){var e=new l;return e.spreaderRadius=25,e.arcBaseRadiusPercent=1,e.arcRadiusPercent=1,e.startRadiusPercent=0,e},this.PieSpreader=function(e,t,i){null===i&&(i=PieSpreaderCustomization()),e.setBaseValue(i.spreaderPercent*t,i);var n=e.sliceRadius*i.arcBaseRadiusPercent,a=e.sliceRadius*i.arcRadiusPercent;return spreaderPathString=[],e.StartSpreader(spreaderPathString,e.startAngle,n),spreaderPathString.push(e.ArcTo(a,e.middleAngle,n)),spreaderPathString.push(e.ArcTo(a,e.endAngle,n)),spreaderPathString.push(e.Close()),{spreaderPathString:spreaderPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.StarSpreaderCustomization=function(){var e=new l;return e.minRadiusPercent=.5,e},this.StarSpreader=function(e,t,i){null===i&&(i=StarSpreaderCustomization()),e.setBaseValue(i.spreaderPercent*t,i),rbase=e.wheelRadius*i.spreaderPercent*i.minRadiusPercent*t,r=e.sliceRadius,spreaderPathString=[],sliceAngle=e.sliceAngle/e.navItemCount,baseAngle=e.navAngle,e.endAngle-e.startAngle<360&&(baseAngle=e.startAngle),e.StartSpreader(spreaderPathString,baseAngle,r);for(var n=0;n<e.navItemCount;n++)startAngle=n*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,e.endAngle-e.startAngle<360&&n===e.navItemCount-1&&(endAngle=middleAngle),spreaderPathString.push(e.LineTo(startAngle,rbase)),spreaderPathString.push(e.LineTo(middleAngle,r)),spreaderPathString.push(e.LineTo(endAngle,rbase));return spreaderPathString.push(e.Close()),{spreaderPathString:spreaderPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.AntiStarSpreaderCustomization=function(){var e=new l;return e.minRadiusPercent=.21,e},this.AntiStarSpreader=function(e,t,i){null===i&&(i=AntiStarSpreaderCustomization()),e.setBaseValue(i.spreaderPercent*t,i),rbase=e.wheelRadius*i.spreaderPercent*i.minRadiusPercent*t,r=e.sliceRadius,spreaderPathString=[],sliceAngle=e.sliceAngle/e.navItemCount,baseAngle=e.navAngle,e.endAngle-e.startAngle<360?(baseAngle=e.startAngle,e.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(e.MoveTo(e.startAngle+(e.navAngle+sliceAngle/2),rbase));for(var n=0;n<e.navItemCount;n++)startAngle=n*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,e.endAngle-e.startAngle<360&&n===e.navItemCount-1&&(endAngle=middleAngle),spreaderPathString.push(e.LineTo(startAngle,r)),spreaderPathString.push(e.LineTo(middleAngle,rbase)),spreaderPathString.push(e.LineTo(endAngle,r));return spreaderPathString.push(e.Close()),{spreaderPathString:spreaderPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.FlowerSpreaderCustomization=function(){var e=new l;return e.minRadiusPercent=.63,e.menuRadius=7,e},this.FlowerSpreader=function(e,t,i){null===i&&(i=FlowerSpreaderCustomization()),e.setBaseValue(i.spreaderPercent*t,i),rbase=e.wheelRadius*i.spreaderPercent*i.minRadiusPercent*t,r=e.sliceRadius,spreaderPathString=[],sliceAngle=e.sliceAngle/e.navItemCount,baseAngle=e.navAngle,e.endAngle-e.startAngle<360?(baseAngle=e.startAngle,e.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(e.MoveTo(e.startAngle+(e.navAngle+sliceAngle/2),rbase));for(var n=0;n<e.navItemCount;n++)startAngle=n*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,e.endAngle-e.startAngle<360?(0===n&&spreaderPathString.push(e.ArcTo(i.menuRadius,startAngle,rbase)),n===e.navItemCount-1&&(endAngle=middleAngle)):spreaderPathString.push(e.LineTo(startAngle,rbase)),spreaderPathString.push(e.ArcTo(i.menuRadius,endAngle,rbase));return spreaderPathString.push(e.Close()),{spreaderPathString:spreaderPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.HolderSpreaderCustomization=function(){var e=new l;return e.minRadiusPercent=.5,e.menuRadius=37,e},this.HolderSpreader=function(e,t,i){null===i&&(i=HolderSpreaderCustomization()),e.setBaseValue(i.spreaderPercent*t,i),rbase=e.wheelRadius*i.spreaderPercent*i.minRadiusPercent*t,r=e.sliceRadius,spreaderPathString=[],sliceAngle=e.sliceAngle/e.navItemCount,baseAngle=e.navAngle,e.endAngle-e.startAngle<360?(baseAngle=e.startAngle,e.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(e.MoveTo(e.startAngle+(e.navAngle+sliceAngle/2),rbase));for(var n=0;n<e.navItemCount;n++)startAngle=n*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/4,endAngle=startAngle+sliceAngle,e.endAngle-e.startAngle<360?n===e.navItemCount-1&&(endAngle=middleAngle):spreaderPathString.push(e.LineTo(startAngle,rbase)),spreaderPathString.push(e.LineTo(startAngle,r)),spreaderPathString.push(e.ArcBackTo(i.menuRadius,middleAngle,rbase)),spreaderPathString.push(e.ArcTo(i.menuRadius,endAngle,r));return spreaderPathString.push(e.Close()),{spreaderPathString:spreaderPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.LineSpreaderCustomization=function(){var e=new l;return e.minRadiusPercent=.5,e},this.LineSpreader=function(e,t,i){null===i&&(i=LineSpreaderCustomization()),e.setBaseValue(i.spreaderPercent*t,i),rbase=e.wheelRadius*i.spreaderPercent*i.minRadiusPercent*t,r=e.sliceRadius,spreaderPathString=[],sliceAngle=e.sliceAngle/e.navItemCount,baseAngle=e.navAngle,e.endAngle-e.startAngle<360&&(baseAngle=e.startAngle),spreaderPathString.push(e.MoveTo(baseAngle+sliceAngle/2,r));for(var n=0;n<e.navItemCount;n++)startAngle=n*sliceAngle+(baseAngle+sliceAngle/2),endAngle=startAngle+sliceAngle,2===e.navItemCount&&(endAngle-=90),spreaderPathString.push(e.LineTo(startAngle,r)),spreaderPathString.push(e.LineTo(endAngle,r));return spreaderPathString.push(e.Close()),{spreaderPathString:spreaderPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this},marker=function(e){return this.wheelnav=e,this.wheelnav.markerEnable&&(this.markerHelper=new s,this.markerHelper.centerX=this.wheelnav.centerX,this.markerHelper.centerY=this.wheelnav.centerY,this.markerHelper.navItemCount=this.wheelnav.navItemCount,this.markerHelper.navAngle=this.wheelnav.navAngle,this.markerHelper.wheelRadius=this.wheelnav.wheelRadius*this.wheelnav.maxPercent,this.markerHelper.sliceAngle=this.wheelnav.navItems[0].sliceAngle,this.markerHelper.startAngle=this.markerHelper.navAngle-this.markerHelper.sliceAngle/2,this.animateeffect="bounce",this.animatetime=1500,null!==this.wheelnav.animateeffect&&(this.animateeffect=this.wheelnav.animateeffect),null!==this.wheelnav.animatetime&&(this.animatetime=this.wheelnav.animatetime),this.markerPathMin=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.minPercent,this.wheelnav.markerPathCustom),this.markerPathMax=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.maxPercent,this.wheelnav.markerPathCustom),this.marker=this.wheelnav.raphael.path(this.markerPathMax.markerPathString),this.marker.attr(this.wheelnav.markerAttr),this.marker.id=this.wheelnav.getMarkerId(),this.marker.node.id=this.marker.id),this},marker.prototype.setCurrentTransform=function(e){var t,i;this.wheelnav.markerEnable&&("",t=this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.markerPathMax.markerPathString:this.markerPathMin.markerPathString,void 0!==e?(i=e-this.markerHelper.navAngle,markerTransformAttr={transform:"r,"+i.toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY,path:t}):markerTransformAttr={path:t},this.marker.animate(markerTransformAttr,this.animatetime,this.animateeffect),this.marker.toFront())},markerPath=function(){return this.NullMarker=function(e,t){return null===t&&(t=new c),e.setBaseValue(t),{markerPathString:"",titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.TriangleMarkerCustomization=function(){var e=new c;return e.arcBaseRadiusPercent=1.09,e.arcRadiusPercent=1.2,e.startRadiusPercent=0,e},this.TriangleMarker=function(e,t,i){null===i&&(i=TriangleMarkerCustomization()),e.setBaseValue(i.markerPercent*t,i);var n=e.sliceRadius*i.arcBaseRadiusPercent,a=e.sliceRadius*i.arcRadiusPercent,r=e.startAngle+.46*e.sliceAngle,s=e.startAngle+.54*e.sliceAngle;return markerPathString=[e.MoveTo(e.navAngle,n),e.LineTo(r,a),e.LineTo(s,a),e.Close()],{markerPathString:markerPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.PieLineMarkerCustomization=function(){var e=new c;return e.arcBaseRadiusPercent=1,e.arcRadiusPercent=1,e.startRadiusPercent=0,e.sliceAngle=null,e},this.PieLineMarker=function(e,t,i){null===i&&(i=PieLineMarkerCustomization()),e.setBaseValue(i.markerPercent*t,i);var n=e.sliceRadius*i.arcBaseRadiusPercent,a=e.sliceRadius*i.arcRadiusPercent;return null!==i.sliceAngle&&(e.startAngle=e.navAngle-i.sliceAngle/2,e.endAngle=e.navAngle+i.sliceAngle/2),markerPathString=[e.MoveTo(e.startAngle,n),e.ArcTo(a,e.endAngle,n),e.ArcBackTo(a,e.startAngle,n),e.Close()],{markerPathString:markerPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.MenuMarkerCustomization=function(){var e=new c;return e.menuRadius=40,e.titleRadiusPercent=.63,e.lineBaseRadiusPercent=0,e},this.MenuMarker=function(e,t,i){null===i&&(i=MenuMarkerCustomization()),e.setBaseValue(i.markerPercent*t,i),x=e.centerX,y=e.centerY,e.titleRadius=e.wheelRadius*i.titleRadiusPercent*t,e.setTitlePos();var n=i.menuRadius*t;return t<=.05&&(n=11),middleTheta=e.middleTheta,markerPathString=[["M",e.titlePosX-n*Math.cos(middleTheta),e.titlePosY-n*Math.sin(middleTheta)],["A",n,n,0,0,1,e.titlePosX+n*Math.cos(middleTheta),e.titlePosY+n*Math.sin(middleTheta)],["A",n,n,0,0,1,e.titlePosX-n*Math.cos(middleTheta),e.titlePosY-n*Math.sin(middleTheta)],["z"]],{markerPathString:markerPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.LineMarkerCustomization=function(){var e=new c;return e.arcBaseRadiusPercent=1.05,e.arcRadiusPercent=1.2,e.startRadiusPercent=0,e},this.LineMarker=function(e,t,i){null===i&&(i=LineMarkerCustomization()),e.setBaseValue(i.markerPercent*t,i);var n=e.sliceRadius*i.arcBaseRadiusPercent,a=e.sliceRadius*i.arcRadiusPercent;return markerPathString=[e.MoveTo(e.navAngle,n),e.LineTo(e.navAngle,a),e.Close()],{markerPathString:markerPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this.DropMarkerCustomization=function(){var e=new c;return e.dropBaseRadiusPercent=0,e.dropRadiusPercent=.15,e},this.DropMarker=function(e,t,i){null===i&&(i=DropMarkerCustomization()),e.setBaseValue(i.markerPercent*t,i);var n=e.sliceRadius*i.dropBaseRadiusPercent,a=e.startAngle+.2*e.sliceAngle,r=e.startAngle,s=e.startAngle+.8*e.sliceAngle,o=e.startAngle+e.sliceAngle,l=e.sliceRadius*i.dropRadiusPercent;return markerPathString=[e.MoveTo(0,l),e.ArcTo(l,180,l),e.ArcTo(l,360,l),e.MoveTo(e.navAngle,n),e.LineTo(a,l),e.LineTo(r,l),e.LineTo(e.navAngle,1.6*l),e.LineTo(o,l),e.LineTo(s,l),e.Close()],{markerPathString:markerPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}},this},a={defaultpalette:["#2D9E46","#F5BE41","#F77604","#D63C22","#006BA6","#92ADAF"],purple:["#4F346B","#623491","#9657D6","#AD74E7","#CBA3F3"],greenred:["#17B92A","#FF3D00","#17B92A","#FF3D00"],greensilver:["#1F700A","#79CC3C","#D4E178","#E6D5C3","#AC875D"],oceanfive:["#00A0B0","#6A4A3C","#CC333F","#EB6841","#EDC951"],garden:["#648A4F","#2B2B29","#DF6126","#FFA337","#F57C85"],gamebookers:["#FF9900","#DCDCDC","#BCBCBC","#3299BB","#727272"],parrot:["#D80351","#F5D908","#00A3EE","#929292","#3F3F3F"],pisycholand:["#FF1919","#FF5E19","#FF9F19","#E4FF19","#29FF19"],makeLOVEnotWAR:["#2C0EF0","#B300FF","#6751F0","#FF006F","#8119FF"],theworldismine:["#F21D1D","#FF2167","#B521FF","#7E2AA8","#000000"],fractalloveone:["#002EFF","#00FFF7","#00FF62","#FFAA00","#FFF700"],fractallovetwo:["#FF9500","#FF0000","#FF00F3","#AA00FF","#002EFF"],fractallove:["#002EFF","#00FFF7","#00FF62","#FFAA00","#F5D908","#FF0000","#FF00F3","#AA00FF"],sprinkles:["#272523","#FFACAC","#FFD700","#00590C","#08006D"],goldenyellow:["#D8B597","#8C4006","#B6690F","#E3C57F","#FFEDBE"],hotaru:["#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5"]}},function(e,t,i){window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=4)}([function(e,t,i){var n,a;n=[i(3)],void 0===(a=function(e){function t(n){if(t.is(n,"function"))return i?n():e.on("raphael.DOMload",n);if(t.is(n,E))return t._engine.create[p](t,n.splice(0,3+t.is(n[0],D))).add(n);var a=Array.prototype.slice.call(arguments,0);if(t.is(a[a.length-1],"function")){var r=a.pop();return i?r.call(t._engine.create[p](t,a)):e.on("raphael.DOMload",function(){r.call(t._engine.create[p](t,a))})}return t._engine.create[p](t,arguments)}t.version="2.2.0",t.eve=e;var i,n,a,r,s=/[, ]+/,o={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},l=/\{(\d+)\}/g,c="hasOwnProperty",h={doc:document,win:window},d={was:Object.prototype[c].call(h.win,"Raphael"),is:h.win.Raphael},u=function(){this.ca=this.customAttributes={}},p="apply",f="concat",g="ontouchstart"in h.win||h.win.DocumentTouch&&h.doc instanceof DocumentTouch,m="",v=" ",b=String,w="split",y="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[w](v),_={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},x=b.prototype.toLowerCase,C=Math,S=C.max,T=C.min,k=C.abs,A=C.pow,P=C.PI,D="number",E="array",M=Object.prototype.toString,I=(t._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),O={NaN:1,Infinity:1,"-Infinity":1},L=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,N=C.round,R=parseFloat,$=parseInt,B=b.prototype.toUpperCase,V=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},F=t._availableAnimAttrs={blur:D,"clip-rect":"csv",cx:D,cy:D,fill:"colour","fill-opacity":D,"font-size":D,height:D,opacity:D,path:"path",r:D,rx:D,ry:D,stroke:"colour","stroke-opacity":D,"stroke-width":D,transform:"transform",width:D,x:D,y:D},H=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,j={hs:1,rg:1},z=/,?([achlmqrstvxz]),?/gi,U=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,W=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,G=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,Y=(t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),q=function(e,t){return R(e)-R(t)},Q=function(e){return e},J=t._rectPath=function(e,t,i,n,a){return a?[["M",e+a,t],["l",i-2*a,0],["a",a,a,0,0,1,a,a],["l",0,n-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-i,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-n],["a",a,a,0,0,1,a,-a],["z"]]:[["M",e,t],["l",i,0],["l",0,n],["l",-i,0],["z"]]},Z=function(e,t,i,n){return null==n&&(n=i),[["M",e,t],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},X=t._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return Z(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return Z(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return J(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return J(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return J(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return J(t.x,t.y,t.width,t.height)}},K=t.mapPath=function(e,t){if(!t)return e;var i,n,a,r,s,o,l;for(a=0,s=(e=Ae(e)).length;a<s;a++)for(r=1,o=(l=e[a]).length;r<o;r+=2)i=t.x(l[r],l[r+1]),n=t.y(l[r],l[r+1]),l[r]=i,l[r+1]=n;return e};if(t._g=h,t.type=h.win.SVGAngle||h.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var ee,te=h.doc.createElement("div");if(te.innerHTML='<v:shape adj="1"/>',(ee=te.firstChild).style.behavior="url(#default#VML)",!ee||"object"!=typeof ee.adj)return t.type=m;te=null}function ie(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var i in e)e[c](i)&&(t[i]=ie(e[i]));return t}t.svg=!(t.vml="VML"==t.type),t._Paper=u,t.fn=n=u.prototype=t.prototype,t._id=0,t.is=function(e,t){return"finite"==(t=x.call(t))?!O[c](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||M.call(e).slice(8,-1).toLowerCase()==t},t.angle=function(e,i,n,a,r,s){if(null==r){var o=e-n,l=i-a;return o||l?(180+180*C.atan2(-l,-o)/P+360)%360:0}return t.angle(e,i,r,s)-t.angle(n,a,r,s)},t.rad=function(e){return e%360*P/180},t.deg=function(e){return Math.round(180*e/P%360*1e3)/1e3},t.snapTo=function(e,i,n){if(n=t.is(n,"finite")?n:10,t.is(e,E)){for(var a=e.length;a--;)if(k(e[a]-i)<=n)return e[a]}else{var r=i%(e=+e);if(r<n)return i-r;if(r>e-n)return i-r+e}return i},t.createUUID=(a=/[xy]/g,r=function(e){var t=16*C.random()|0;return("x"==e?t:3&t|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,r).toUpperCase()}),t.setWindow=function(i){e("raphael.setWindow",t,h.win,i),h.win=i,h.doc=h.win.document,t._engine.initWin&&t._engine.initWin(h.win)};var ne=function(e){if(t.vml){var i,n=/^\s+|\s+$/g;try{var a=new ActiveXObject("htmlfile");a.write("<body>"),a.close(),i=a.body}catch(e){i=createPopup().document.body}var r=i.createTextRange();ne=ce(function(e){try{i.style.color=b(e).replace(n,m);var t=r.queryCommandValue("ForeColor");return"#"+("000000"+(t=(255&t)<<16|65280&t|(16711680&t)>>>16).toString(16)).slice(-6)}catch(e){return"none"}})}else{var s=h.doc.createElement("i");s.title="Rapha\xebl Colour Picker",s.style.display="none",h.doc.body.appendChild(s),ne=ce(function(e){return s.style.color=e,h.doc.defaultView.getComputedStyle(s,m).getPropertyValue("color")})}return ne(e)},ae=function(){return"hsb("+[this.h,this.s,this.b]+")"},re=function(){return"hsl("+[this.h,this.s,this.l]+")"},se=function(){return this.hex},oe=function(e,i,n){if(null==i&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,i=e.g,e=e.r),null==i&&t.is(e,"string")){var a=t.getRGB(e);e=a.r,i=a.g,n=a.b}return(e>1||i>1||n>1)&&(e/=255,i/=255,n/=255),[e,i,n]},le=function(e,i,n,a){var r={r:e*=255,g:i*=255,b:n*=255,hex:t.rgb(e,i,n),toString:se};return t.is(a,"finite")&&(r.opacity=a),r};function ce(e,t,i){return function n(){var a=Array.prototype.slice.call(arguments,0),r=a.join("\u2400"),s=n.cache=n.cache||{},o=n.count=n.count||[];return s[c](r)?(function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return e.push(e.splice(i,1)[0])}(o,r),i?i(s[r]):s[r]):(o.length>=1e3&&delete s[o.shift()],o.push(r),s[r]=e[p](t,a),i?i(s[r]):s[r])}}function he(){return this.hex}function de(e,t){for(var i=[],n=0,a=e.length;a-2*!t>n;n+=2){var r=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];t?n?a-4==n?r[3]={x:+e[0],y:+e[1]}:a-2==n&&(r[2]={x:+e[0],y:+e[1]},r[3]={x:+e[2],y:+e[3]}):r[0]={x:+e[a-2],y:+e[a-1]}:a-4==n?r[3]=r[2]:n||(r[0]={x:+e[n],y:+e[n+1]}),i.push(["C",(-r[0].x+6*r[1].x+r[2].x)/6,(-r[0].y+6*r[1].y+r[2].y)/6,(r[1].x+6*r[2].x-r[3].x)/6,(r[1].y+6*r[2].y-r[3].y)/6,r[2].x,r[2].y])}return i}t.color=function(e){var i;return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(i=t.hsb2rgb(e),e.r=i.r,e.g=i.g,e.b=i.b,e.hex=i.hex):t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(i=t.hsl2rgb(e),e.r=i.r,e.g=i.g,e.b=i.b,e.hex=i.hex):(t.is(e,"string")&&(e=t.getRGB(e)),t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(i=t.rgb2hsl(e),e.h=i.h,e.s=i.s,e.l=i.l,i=t.rgb2hsb(e),e.v=i.b):(e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1),e.toString=se,e},t.hsb2rgb=function(e,t,i,n){var a,r,s,o,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(i=e.b,t=e.s,n=e.o,e=e.h),o=(l=i*t)*(1-k((e=(e*=360)%360/60)%2-1)),a=r=s=i-l,le(a+=[l,o,0,0,o,l][e=~~e],r+=[o,l,l,o,0,0][e],s+=[0,0,o,l,l,o][e],n)},t.hsl2rgb=function(e,t,i,n){var a,r,s,o,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(i=e.l,t=e.s,e=e.h),(e>1||t>1||i>1)&&(e/=360,t/=100,i/=100),e=(e*=360)%360/60,o=(l=2*t*(i<.5?i:1-i))*(1-k(e%2-1)),a=r=s=i-l/2,le(a+=[l,o,0,0,o,l][e=~~e],r+=[o,l,l,o,0,0][e],s+=[0,0,o,l,l,o][e],n)},t.rgb2hsb=function(e,t,i){var n,a;return e=(i=oe(e,t,i))[0],t=i[1],i=i[2],{h:((0==(a=(n=S(e,t,i))-T(e,t,i))?null:n==e?(t-i)/a:n==t?(i-e)/a+2:(e-t)/a+4)+360)%6*60/360,s:0==a?0:a/n,b:n,toString:ae}},t.rgb2hsl=function(e,t,i){var n,a,r,s;return e=(i=oe(e,t,i))[0],t=i[1],i=i[2],n=((a=S(e,t,i))+(r=T(e,t,i)))/2,{h:((0==(s=a-r)?null:a==e?(t-i)/s:a==t?(i-e)/s+2:(e-t)/s+4)+360)%6*60/360,s:0==s?0:n<.5?s/(2*n):s/(2-2*n),l:n,toString:re}},t._path2string=function(){return this.join(",").replace(z,"$1")},t._preload=function(e,t){var i=h.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){t.call(this),this.onload=null,h.doc.body.removeChild(this)},i.onerror=function(){h.doc.body.removeChild(this)},h.doc.body.appendChild(i),i.src=e},t.getRGB=ce(function(e){if(!e||(e=b(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:he};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:he};!j[c](e.toLowerCase().substring(0,2))&&"#"!=e.charAt()&&(e=ne(e));var i,n,a,r,s,o,l=e.match(I);return l?(l[2]&&(a=$(l[2].substring(5),16),n=$(l[2].substring(3,5),16),i=$(l[2].substring(1,3),16)),l[3]&&(a=$((s=l[3].charAt(3))+s,16),n=$((s=l[3].charAt(2))+s,16),i=$((s=l[3].charAt(1))+s,16)),l[4]&&(o=l[4][w](H),i=R(o[0]),"%"==o[0].slice(-1)&&(i*=2.55),n=R(o[1]),"%"==o[1].slice(-1)&&(n*=2.55),a=R(o[2]),"%"==o[2].slice(-1)&&(a*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(r=R(o[3])),o[3]&&"%"==o[3].slice(-1)&&(r/=100)),l[5]?(o=l[5][w](H),i=R(o[0]),"%"==o[0].slice(-1)&&(i*=2.55),n=R(o[1]),"%"==o[1].slice(-1)&&(n*=2.55),a=R(o[2]),"%"==o[2].slice(-1)&&(a*=2.55),("deg"==o[0].slice(-3)||"\xb0"==o[0].slice(-1))&&(i/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(r=R(o[3])),o[3]&&"%"==o[3].slice(-1)&&(r/=100),t.hsb2rgb(i,n,a,r)):l[6]?(o=l[6][w](H),i=R(o[0]),"%"==o[0].slice(-1)&&(i*=2.55),n=R(o[1]),"%"==o[1].slice(-1)&&(n*=2.55),a=R(o[2]),"%"==o[2].slice(-1)&&(a*=2.55),("deg"==o[0].slice(-3)||"\xb0"==o[0].slice(-1))&&(i/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(r=R(o[3])),o[3]&&"%"==o[3].slice(-1)&&(r/=100),t.hsl2rgb(i,n,a,r)):((l={r:i,g:n,b:a,toString:he}).hex="#"+(16777216|a|n<<8|i<<16).toString(16).slice(1),t.is(r,"finite")&&(l.opacity=r),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:he}},t),t.hsb=ce(function(e,i,n){return t.hsb2rgb(e,i,n).hex}),t.hsl=ce(function(e,i,n){return t.hsl2rgb(e,i,n).hex}),t.rgb=ce(function(e,t,i){function n(e){return e+.5|0}return"#"+(16777216|n(i)|n(t)<<8|n(e)<<16).toString(16).slice(1)}),t.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},i=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),i.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=function(e){if(!e)return null;var i=ue(e);if(i.arr)return we(i.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},a=[];return t.is(e,E)&&t.is(e[0],E)&&(a=we(e)),a.length||b(e).replace(U,function(e,t,i){var r=[],s=t.toLowerCase();if(i.replace(G,function(e,t){t&&r.push(+t)}),"m"==s&&r.length>2&&(a.push([t][f](r.splice(0,2))),s="l",t="m"==t?"l":"L"),"r"==s)a.push([t][f](r));else for(;r.length>=n[s]&&(a.push([t][f](r.splice(0,n[s]))),n[s]););}),a.toString=t._path2string,i.arr=we(a),a},t.parseTransformString=ce(function(e){if(!e)return null;var i=[];return t.is(e,E)&&t.is(e[0],E)&&(i=we(e)),i.length||b(e).replace(W,function(e,t,n){var a=[];x.call(t),n.replace(G,function(e,t){t&&a.push(+t)}),i.push([t][f](a))}),i.toString=t._path2string,i});var ue=function e(t){var i=e.ps=e.ps||{};return i[t]?i[t].sleep=100:i[t]={sleep:100},setTimeout(function(){for(var e in i)i[c](e)&&e!=t&&(i[e].sleep--,!i[e].sleep&&delete i[e])}),i[t]};function pe(e,t,i,n,a){return e*(e*(-3*t+9*i-9*n+3*a)+6*t-12*i+6*n)-3*t+3*i}function fe(e,t,i,n,a,r,s,o,l){null==l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],u=0,p=0;p<12;p++){var f=c*h[p]+c,g=pe(f,e,i,a,s),m=pe(f,t,n,r,o),v=g*g+m*m;u+=d[p]*C.sqrt(v)}return c*u}function ge(e,t,i,n,a,r,s,o){if(!(S(e,i)<T(a,s)||T(e,i)>S(a,s)||S(t,n)<T(r,o)||T(t,n)>S(r,o))){var l=(e-i)*(r-o)-(t-n)*(a-s);if(l){var c=((e*n-t*i)*(a-s)-(e-i)*(a*o-r*s))/l,h=((e*n-t*i)*(r-o)-(t-n)*(a*o-r*s))/l,d=+c.toFixed(2),u=+h.toFixed(2);if(!(d<+T(e,i).toFixed(2)||d>+S(e,i).toFixed(2)||d<+T(a,s).toFixed(2)||d>+S(a,s).toFixed(2)||u<+T(t,n).toFixed(2)||u>+S(t,n).toFixed(2)||u<+T(r,o).toFixed(2)||u>+S(r,o).toFixed(2)))return{x:c,y:h}}}}function me(e,i,n){var a=t.bezierBBox(e),r=t.bezierBBox(i);if(!t.isBBoxIntersect(a,r))return n?0:[];for(var s=fe.apply(0,e),o=fe.apply(0,i),l=S(~~(s/5),1),c=S(~~(o/5),1),h=[],d=[],u={},p=n?0:[],f=0;f<l+1;f++){var g=t.findDotsAtSegment.apply(t,e.concat(f/l));h.push({x:g.x,y:g.y,t:f/l})}for(f=0;f<c+1;f++)g=t.findDotsAtSegment.apply(t,i.concat(f/c)),d.push({x:g.x,y:g.y,t:f/c});for(f=0;f<l;f++)for(var m=0;m<c;m++){var v=h[f],b=h[f+1],w=d[m],y=d[m+1],_=k(b.x-v.x)<.001?"y":"x",x=k(y.x-w.x)<.001?"y":"x",C=ge(v.x,v.y,b.x,b.y,w.x,w.y,y.x,y.y);if(C){if(u[C.x.toFixed(4)]==C.y.toFixed(4))continue;u[C.x.toFixed(4)]=C.y.toFixed(4);var A=v.t+k((C[_]-v[_])/(b[_]-v[_]))*(b.t-v.t),P=w.t+k((C[x]-w[x])/(y[x]-w[x]))*(y.t-w.t);A>=0&&A<=1.001&&P>=0&&P<=1.001&&(n?p++:p.push({x:C.x,y:C.y,t1:T(A,1),t2:T(P,1)}))}}return p}function ve(e,i,n){e=t._path2curve(e),i=t._path2curve(i);for(var a,r,s,o,l,c,h,d,u,p,f=n?0:[],g=0,m=e.length;g<m;g++){var v=e[g];if("M"==v[0])a=l=v[1],r=c=v[2];else{"C"==v[0]?(a=(u=[a,r].concat(v.slice(1)))[6],r=u[7]):(u=[a,r,a,r,l,c,l,c],a=l,r=c);for(var b=0,w=i.length;b<w;b++){var y=i[b];if("M"==y[0])s=h=y[1],o=d=y[2];else{"C"==y[0]?(s=(p=[s,o].concat(y.slice(1)))[6],o=p[7]):(p=[s,o,s,o,h,d,h,d],s=h,o=d);var _=me(u,p,n);if(n)f+=_;else{for(var x=0,C=_.length;x<C;x++)_[x].segment1=g,_[x].segment2=b,_[x].bez1=u,_[x].bez2=p;f=f.concat(_)}}}}}return f}t.findDotsAtSegment=function(e,t,i,n,a,r,s,o,l){var c=1-l,h=A(c,3),d=A(c,2),u=l*l,p=u*l,f=h*e+3*d*l*i+3*c*l*l*a+p*s,g=h*t+3*d*l*n+3*c*l*l*r+p*o,m=e+2*l*(i-e)+u*(a-2*i+e),v=t+2*l*(n-t)+u*(r-2*n+t),b=i+2*l*(a-i)+u*(s-2*a+i),w=n+2*l*(r-n)+u*(o-2*r+n),y=c*e+l*i,_=c*t+l*n,x=c*a+l*s,S=c*r+l*o,T=90-180*C.atan2(m-b,v-w)/P;return(m>b||v<w)&&(T+=180),{x:f,y:g,m:{x:m,y:v},n:{x:b,y:w},start:{x:y,y:_},end:{x:x,y:S},alpha:T}},t.bezierBBox=function(e,i,n,a,r,s,o,l){t.is(e,"array")||(e=[e,i,n,a,r,s,o,l]);var c=ke.apply(null,e);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},t.isPointInsideBBox=function(e,t,i){return t>=e.x&&t<=e.x2&&i>=e.y&&i<=e.y2},t.isBBoxIntersect=function(e,i){var n=t.isPointInsideBBox;return n(i,e.x,e.y)||n(i,e.x2,e.y)||n(i,e.x,e.y2)||n(i,e.x2,e.y2)||n(e,i.x,i.y)||n(e,i.x2,i.y)||n(e,i.x,i.y2)||n(e,i.x2,i.y2)||(e.x<i.x2&&e.x>i.x||i.x<e.x2&&i.x>e.x)&&(e.y<i.y2&&e.y>i.y||i.y<e.y2&&i.y>e.y)},t.pathIntersection=function(e,t){return ve(e,t)},t.pathIntersectionNumber=function(e,t){return ve(e,t,1)},t.isPointInsidePath=function(e,i,n){var a=t.pathBBox(e);return t.isPointInsideBBox(a,i,n)&&ve(e,[["M",i,n],["H",a.x2+10]],1)%2==1},t._removedFactory=function(t){return function(){e("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+t+"\u201d of removed object",t)}};var be=t.pathBBox=function(e){var t=ue(e);if(t.bbox)return ie(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var i,n=0,a=0,r=[],s=[],o=0,l=(e=Ae(e)).length;o<l;o++)if("M"==(i=e[o])[0])n=i[1],a=i[2],r.push(n),s.push(a);else{var c=ke(n,a,i[1],i[2],i[3],i[4],i[5],i[6]);r=r[f](c.min.x,c.max.x),s=s[f](c.min.y,c.max.y),n=i[5],a=i[6]}var h=T[p](0,r),d=T[p](0,s),u=S[p](0,r),g=S[p](0,s),m=u-h,v=g-d,b={x:h,y:d,x2:u,y2:g,width:m,height:v,cx:h+m/2,cy:d+v/2};return t.bbox=ie(b),b},we=function(e){var i=ie(e);return i.toString=t._path2string,i},ye=t._pathToRelative=function(e){var i=ue(e);if(i.rel)return we(i.rel);t.is(e,E)&&t.is(e&&e[0],E)||(e=t.parsePathString(e));var n=[],a=0,r=0,s=0,o=0,l=0;"M"==e[0][0]&&(s=a=e[0][1],o=r=e[0][2],l++,n.push(["M",a,r]));for(var c=l,h=e.length;c<h;c++){var d=n[c]=[],u=e[c];if(u[0]!=x.call(u[0]))switch(d[0]=x.call(u[0]),d[0]){case"a":d[1]=u[1],d[2]=u[2],d[3]=u[3],d[4]=u[4],d[5]=u[5],d[6]=+(u[6]-a).toFixed(3),d[7]=+(u[7]-r).toFixed(3);break;case"v":d[1]=+(u[1]-r).toFixed(3);break;case"m":s=u[1],o=u[2];default:for(var p=1,f=u.length;p<f;p++)d[p]=+(u[p]-(p%2?a:r)).toFixed(3)}else{d=n[c]=[],"m"==u[0]&&(s=u[1]+a,o=u[2]+r);for(var g=0,m=u.length;g<m;g++)n[c][g]=u[g]}var v=n[c].length;switch(n[c][0]){case"z":a=s,r=o;break;case"h":a+=+n[c][v-1];break;case"v":r+=+n[c][v-1];break;default:a+=+n[c][v-2],r+=+n[c][v-1]}}return n.toString=t._path2string,i.rel=we(n),n},_e=t._pathToAbsolute=function(e){var i=ue(e);if(i.abs)return we(i.abs);if(t.is(e,E)&&t.is(e&&e[0],E)||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var n=[],a=0,r=0,s=0,o=0,l=0;"M"==e[0][0]&&(s=a=+e[0][1],o=r=+e[0][2],l++,n[0]=["M",a,r]);for(var c,h,d=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),u=l,p=e.length;u<p;u++){if(n.push(c=[]),(h=e[u])[0]!=B.call(h[0]))switch(c[0]=B.call(h[0]),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]+a),c[7]=+(h[7]+r);break;case"V":c[1]=+h[1]+r;break;case"H":c[1]=+h[1]+a;break;case"R":for(var g=[a,r][f](h.slice(1)),m=2,v=g.length;m<v;m++)g[m]=+g[m]+a,g[++m]=+g[m]+r;n.pop(),n=n[f](de(g,d));break;case"M":s=+h[1]+a,o=+h[2]+r;default:for(m=1,v=h.length;m<v;m++)c[m]=+h[m]+(m%2?a:r)}else if("R"==h[0])g=[a,r][f](h.slice(1)),n.pop(),n=n[f](de(g,d)),c=["R"][f](h.slice(-2));else for(var b=0,w=h.length;b<w;b++)c[b]=h[b];switch(c[0]){case"Z":a=s,r=o;break;case"H":a=c[1];break;case"V":r=c[1];break;case"M":s=c[c.length-2],o=c[c.length-1];default:a=c[c.length-2],r=c[c.length-1]}}return n.toString=t._path2string,i.abs=we(n),n},xe=function(e,t,i,n){return[e,t,i,n,i,n]},Ce=function(e,t,i,n,a,r){return[1/3*e+2/3*i,1/3*t+2/3*n,1/3*a+2/3*i,1/3*r+2/3*n,a,r]},Se=function e(t,i,n,a,r,s,o,l,c,h){var d,u=120*P/180,p=P/180*(+r||0),g=[],m=ce(function(e,t,i){return{x:e*C.cos(i)-t*C.sin(i),y:e*C.sin(i)+t*C.cos(i)}});if(h)D=h[0],E=h[1],T=h[2],A=h[3];else{t=(d=m(t,i,-p)).x,i=d.y,l=(d=m(l,c,-p)).x,c=d.y,C.cos(P/180*r),C.sin(P/180*r);var v=(t-l)/2,b=(i-c)/2,y=v*v/(n*n)+b*b/(a*a);y>1&&(n*=y=C.sqrt(y),a*=y);var _=n*n,x=a*a,S=(s==o?-1:1)*C.sqrt(k((_*x-_*b*b-x*v*v)/(_*b*b+x*v*v))),T=S*n*b/a+(t+l)/2,A=S*-a*v/n+(i+c)/2,D=C.asin(((i-A)/a).toFixed(9)),E=C.asin(((c-A)/a).toFixed(9));(D=t<T?P-D:D)<0&&(D=2*P+D),(E=l<T?P-E:E)<0&&(E=2*P+E),o&&D>E&&(D-=2*P),!o&&E>D&&(E-=2*P)}var M=E-D;if(k(M)>u){var I=E,O=l,L=c;E=D+u*(o&&E>D?1:-1),l=T+n*C.cos(E),c=A+a*C.sin(E),g=e(l,c,n,a,r,0,o,O,L,[E,I,T,A])}M=E-D;var N=C.cos(D),R=C.sin(D),$=C.cos(E),B=C.sin(E),V=C.tan(M/4),F=4/3*n*V,H=4/3*a*V,j=[t,i],z=[t+F*R,i-H*N],U=[l+F*B,c-H*$],W=[l,c];if(z[0]=2*j[0]-z[0],z[1]=2*j[1]-z[1],h)return[z,U,W][f](g);for(var G=[],Y=0,q=(g=[z,U,W][f](g).join()[w](",")).length;Y<q;Y++)G[Y]=Y%2?m(g[Y-1],g[Y],p).y:m(g[Y],g[Y+1],p).x;return G},Te=function(e,t,i,n,a,r,s,o,l){var c=1-l;return{x:A(c,3)*e+3*A(c,2)*l*i+3*c*l*l*a+A(l,3)*s,y:A(c,3)*t+3*A(c,2)*l*n+3*c*l*l*r+A(l,3)*o}},ke=ce(function(e,t,i,n,a,r,s,o){var l,c=a-2*i+e-(s-2*a+i),h=2*(i-e)-2*(a-i),d=e-i,u=(-h+C.sqrt(h*h-4*c*d))/2/c,f=(-h-C.sqrt(h*h-4*c*d))/2/c,g=[t,o],m=[e,s];return k(u)>"1e12"&&(u=.5),k(f)>"1e12"&&(f=.5),u>0&&u<1&&(l=Te(e,t,i,n,a,r,s,o,u),m.push(l.x),g.push(l.y)),f>0&&f<1&&(l=Te(e,t,i,n,a,r,s,o,f),m.push(l.x),g.push(l.y)),c=r-2*n+t-(o-2*r+n),d=t-n,u=(-(h=2*(n-t)-2*(r-n))+C.sqrt(h*h-4*c*d))/2/c,f=(-h-C.sqrt(h*h-4*c*d))/2/c,k(u)>"1e12"&&(u=.5),k(f)>"1e12"&&(f=.5),u>0&&u<1&&(l=Te(e,t,i,n,a,r,s,o,u),m.push(l.x),g.push(l.y)),f>0&&f<1&&(l=Te(e,t,i,n,a,r,s,o,f),m.push(l.x),g.push(l.y)),{min:{x:T[p](0,m),y:T[p](0,g)},max:{x:S[p](0,m),y:S[p](0,g)}}}),Ae=t._path2curve=ce(function(e,t){var i=!t&&ue(e);if(!t&&i.curve)return we(i.curve);for(var n=_e(e),a=t&&_e(t),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(e,t,i){var n,a;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][f](Se[p](0,[t.x,t.y][f](e.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*t.x-t.bx,a=2*t.y-t.by):(n=t.x,a=t.y),e=["C",n,a][f](e.slice(1));break;case"T":"Q"==i||"T"==i?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"][f](Ce(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][f](Ce(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][f](xe(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][f](xe(t.x,t.y,e[1],t.y));break;case"V":e=["C"][f](xe(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][f](xe(t.x,t.y,t.X,t.Y))}return e},l=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)h[t]="A",a&&(d[t]="A"),e.splice(t++,0,["C"][f](i.splice(0,6)));e.splice(t,1),v=S(n.length,a&&a.length||0)}},c=function(e,t,i,r,s){e&&t&&"M"==e[s][0]&&"M"!=t[s][0]&&(t.splice(s,0,["M",r.x,r.y]),i.bx=0,i.by=0,i.x=e[s][1],i.y=e[s][2],v=S(n.length,a&&a.length||0))},h=[],d=[],u="",g="",m=0,v=S(n.length,a&&a.length||0);m<v;m++){n[m]&&(u=n[m][0]),"C"!=u&&(h[m]=u,m&&(g=h[m-1])),n[m]=o(n[m],r,g),"A"!=h[m]&&"C"==u&&(h[m]="C"),l(n,m),a&&(a[m]&&(u=a[m][0]),"C"!=u&&(d[m]=u,m&&(g=d[m-1])),a[m]=o(a[m],s,g),"A"!=d[m]&&"C"==u&&(d[m]="C"),l(a,m)),c(n,a,r,s,m),c(a,n,s,r,m);var b=n[m],w=a&&a[m],y=b.length,_=a&&w.length;r.x=b[y-2],r.y=b[y-1],r.bx=R(b[y-4])||r.x,r.by=R(b[y-3])||r.y,s.bx=a&&(R(w[_-4])||s.x),s.by=a&&(R(w[_-3])||s.y),s.x=a&&w[_-2],s.y=a&&w[_-1]}return a||(i.curve=we(n)),a?[n,a]:n},null,we),Pe=(t._parseDots=ce(function(e){for(var i=[],n=0,a=e.length;n<a;n++){var r={},s=e[n].match(/^([^:]*):?([\d\.]*)/);if(r.color=t.getRGB(s[1]),r.color.error)return null;r.opacity=r.color.opacity,r.color=r.color.hex,s[2]&&(r.offset=s[2]+"%"),i.push(r)}for(n=1,a=i.length-1;n<a;n++)if(!i[n].offset){for(var o=R(i[n-1].offset||0),l=0,c=n+1;c<a;c++)if(i[c].offset){l=i[c].offset;break}l||(l=100,c=a);for(var h=((l=R(l))-o)/(c-n+1);n<c;n++)o+=h,i[n].offset=o+"%"}return i}),t._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),De=(t._tofront=function(e,t){t.top!==e&&(Pe(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},t._toback=function(e,t){t.bottom!==e&&(Pe(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},t._insertafter=function(e,t,i){Pe(e,i),t==i.top&&(i.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},t._insertbefore=function(e,t,i){Pe(e,i),t==i.bottom&&(i.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},t.toMatrix=function(e,t){var i=be(e),n={_:{transform:m},getBBox:function(){return i}};return Ee(n,t),n.matrix}),Ee=(t.transformPath=function(e,t){return K(e,De(e,t))},t._extractTransform=function(e,i){if(null==i)return e._.transform;i=b(i).replace(/\.{3}|\u2026/g,e._.transform||m);var n,a,r=t.parseTransformString(i),s=0,o=1,l=1,c=e._,h=new Oe;if(c.transform=r||[],r)for(var d=0,u=r.length;d<u;d++){var p,f,g,v,w,y=r[d],_=y.length,x=b(y[0]).toLowerCase(),C=y[0]!=x,S=C?h.invert():0;"t"==x&&3==_?C?(p=S.x(0,0),f=S.y(0,0),g=S.x(y[1],y[2]),v=S.y(y[1],y[2]),h.translate(g-p,v-f)):h.translate(y[1],y[2]):"r"==x?2==_?(w=w||e.getBBox(1),h.rotate(y[1],w.x+w.width/2,w.y+w.height/2),s+=y[1]):4==_&&(C?(g=S.x(y[2],y[3]),v=S.y(y[2],y[3]),h.rotate(y[1],g,v)):h.rotate(y[1],y[2],y[3]),s+=y[1]):"s"==x?2==_||3==_?(w=w||e.getBBox(1),h.scale(y[1],y[_-1],w.x+w.width/2,w.y+w.height/2),o*=y[1],l*=y[_-1]):5==_&&(C?(g=S.x(y[3],y[4]),v=S.y(y[3],y[4]),h.scale(y[1],y[2],g,v)):h.scale(y[1],y[2],y[3],y[4]),o*=y[1],l*=y[2]):"m"==x&&7==_&&h.add(y[1],y[2],y[3],y[4],y[5],y[6]),c.dirtyT=1,e.matrix=h}e.matrix=h,c.sx=o,c.sy=l,c.deg=s,c.dx=n=h.e,c.dy=a=h.f,1==o&&1==l&&!s&&c.bbox?(c.bbox.x+=+n,c.bbox.y+=+a):c.dirtyT=1}),Me=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},Ie=t._equaliseTransform=function(e,i){i=b(i).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],i=t.parseTransformString(i)||[];for(var n,a,r,s,o=S(e.length,i.length),l=[],c=[],h=0;h<o;h++){if(r=e[h]||Me(i[h]),s=i[h]||Me(r),r[0]!=s[0]||"r"==r[0].toLowerCase()&&(r[2]!=s[2]||r[3]!=s[3])||"s"==r[0].toLowerCase()&&(r[3]!=s[3]||r[4]!=s[4]))return;for(l[h]=[],c[h]=[],n=0,a=S(r.length,s.length);n<a;n++)n in r&&(l[h][n]=r[n]),n in s&&(c[h][n]=s[n])}return{from:l,to:c}};function Oe(e,t,i,n,a,r){null!=e?(this.a=+e,this.b=+t,this.c=+i,this.d=+n,this.e=+a,this.f=+r):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}t._getContainer=function(e,i,n,a){var r;if(null!=(r=null!=a||t.is(e,"object")?e:h.doc.getElementById(e)))return r.tagName?null==i?{container:r,width:r.style.pixelWidth||r.offsetWidth,height:r.style.pixelHeight||r.offsetHeight}:{container:r,width:i,height:n}:{container:1,x:e,y:i,width:n,height:a}},t.pathToRelative=ye,t._engine={},t.path2curve=Ae,t.matrix=function(e,t,i,n,a,r){return new Oe(e,t,i,n,a,r)},function(e){function i(e){return e[0]*e[0]+e[1]*e[1]}function n(e){var t=C.sqrt(i(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}e.add=function(e,t,i,n,a,r){var s,o,l,c,h=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],u=[[e,i,a],[t,n,r],[0,0,1]];for(e&&e instanceof Oe&&(u=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),s=0;s<3;s++)for(o=0;o<3;o++){for(c=0,l=0;l<3;l++)c+=d[s][l]*u[l][o];h[s][o]=c}this.a=h[0][0],this.b=h[1][0],this.c=h[0][1],this.d=h[1][1],this.e=h[0][2],this.f=h[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new Oe(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new Oe(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,i,n){null==t&&(t=e),(i||n)&&this.add(1,0,0,1,i,n),this.add(e,0,0,t,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},e.rotate=function(e,i,n){e=t.rad(e),i=i||0,n=n||0;var a=+C.cos(e).toFixed(9),r=+C.sin(e).toFixed(9);this.add(a,r,-r,a,i,n),this.add(1,0,0,1,-i,-n)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[b.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var a=[[this.a,this.c],[this.b,this.d]];e.scalex=C.sqrt(i(a[0])),n(a[0]),e.shear=a[0][0]*a[1][0]+a[0][1]*a[1][1],a[1]=[a[1][0]-a[0][0]*e.shear,a[1][1]-a[0][1]*e.shear],e.scaley=C.sqrt(i(a[1])),n(a[1]),e.shear/=e.scaley;var r=-a[0][1],s=a[1][1];return s<0?(e.rotate=t.deg(C.acos(s)),r<0&&(e.rotate=360-e.rotate)):e.rotate=t.deg(C.asin(r)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[w]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:m)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:m)+(t.rotate?"r"+[t.rotate,0,0]:m)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Oe.prototype);for(var Le=function(){this.returnValue=!1},Ne=function(){return this.originalEvent.preventDefault()},Re=function(){this.cancelBubble=!0},$e=function(){return this.originalEvent.stopPropagation()},Be=function(e){var t=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,i=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft;return{x:e.clientX+i,y:e.clientY+t}},Ve=h.doc.addEventListener?function(e,t,i,n){var a=function(e){var t=Be(e);return i.call(n,e,t.x,t.y)};if(e.addEventListener(t,a,!1),g&&_[t]){var r=function(t){for(var a=Be(t),r=t,s=0,o=t.targetTouches&&t.targetTouches.length;s<o;s++)if(t.targetTouches[s].target==e){(t=t.targetTouches[s]).originalEvent=r,t.preventDefault=Ne,t.stopPropagation=$e;break}return i.call(n,t,a.x,a.y)};e.addEventListener(_[t],r,!1)}return function(){return e.removeEventListener(t,a,!1),g&&_[t]&&e.removeEventListener(_[t],r,!1),!0}}:h.doc.attachEvent?function(e,t,i,n){var a=function(e){e=e||h.win.event;var t=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,a=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,r=e.clientX+a,s=e.clientY+t;return e.preventDefault=e.preventDefault||Le,e.stopPropagation=e.stopPropagation||Re,i.call(n,e,r,s)};return e.attachEvent("on"+t,a),function(){return e.detachEvent("on"+t,a),!0}}:void 0,Fe=[],He=function(t){for(var i,n=t.clientX,a=t.clientY,r=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,s=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,o=Fe.length;o--;){if(i=Fe[o],g&&t.touches){for(var l,c=t.touches.length;c--;)if((l=t.touches[c]).identifier==i.el._drag.id){n=l.clientX,a=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var d,u=i.el.node,p=u.nextSibling,f=u.parentNode,m=u.style.display;h.win.opera&&f.removeChild(u),u.style.display="none",d=i.el.paper.getElementByPoint(n,a),u.style.display=m,h.win.opera&&(p?f.insertBefore(u,p):f.appendChild(u)),d&&e("raphael.drag.over."+i.el.id,i.el,d),n+=s,a+=r,e("raphael.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,a-i.el._drag.y,n,a,t)}},je=function i(n){t.unmousemove(He).unmouseup(i);for(var a,r=Fe.length;r--;)(a=Fe[r]).el._drag={},e("raphael.drag.end."+a.el.id,a.end_scope||a.start_scope||a.move_scope||a.el,n);Fe=[]},ze=t.el={},Ue=y.length;Ue--;)!function(e){t[e]=ze[e]=function(i,n){return t.is(i,"function")&&(this.events=this.events||[],this.events.push({name:e,f:i,unbind:Ve(this.shape||this.node||h.doc,e,i,n||this)})),this},t["un"+e]=ze["un"+e]=function(i){for(var n=this.events||[],a=n.length;a--;)n[a].name!=e||!t.is(i,"undefined")&&n[a].f!=i||(n[a].unbind(),n.splice(a,1),!n.length&&delete this.events);return this}}(y[Ue]);ze.data=function(i,n){var a=Y[this.id]=Y[this.id]||{};if(0==arguments.length)return a;if(1==arguments.length){if(t.is(i,"object")){for(var r in i)i[c](r)&&this.data(r,i[r]);return this}return e("raphael.data.get."+this.id,this,a[i],i),a[i]}return a[i]=n,e("raphael.data.set."+this.id,this,n,i),this},ze.removeData=function(e){return null==e?Y[this.id]={}:Y[this.id]&&delete Y[this.id][e],this},ze.getData=function(){return ie(Y[this.id]||{})},ze.hover=function(e,t,i,n){return this.mouseover(e,i).mouseout(t,n||i)},ze.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var We=[];function Ge(){return this.x+v+this.y+v+this.width+" \xd7 "+this.height}ze.drag=function(i,n,a,r,s,o){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,d=l.clientY,u=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,p=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft;if(this._drag.id=l.identifier,g&&l.touches)for(var f,m=l.touches.length;m--;)if(f=l.touches[m],this._drag.id=f.identifier,f.identifier==this._drag.id){c=f.clientX,d=f.clientY;break}this._drag.x=c+p,this._drag.y=d+u,!Fe.length&&t.mousemove(He).mouseup(je),Fe.push({el:this,move_scope:r,start_scope:s,end_scope:o}),n&&e.on("raphael.drag.start."+this.id,n),i&&e.on("raphael.drag.move."+this.id,i),a&&e.on("raphael.drag.end."+this.id,a),e("raphael.drag.start."+this.id,s||r||this,l.clientX+p,l.clientY+u,l)}return this._drag={},We.push({el:this,start:l}),this.mousedown(l),this},ze.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},ze.undrag=function(){for(var i=We.length;i--;)We[i].el==this&&(this.unmousedown(We[i].start),We.splice(i,1),e.unbind("raphael.drag.*."+this.id));!We.length&&t.unmousemove(He).unmouseup(je),Fe=[]},n.circle=function(e,i,n){var a=t._engine.circle(this,e||0,i||0,n||0);return this.__set__&&this.__set__.push(a),a},n.rect=function(e,i,n,a,r){var s=t._engine.rect(this,e||0,i||0,n||0,a||0,r||0);return this.__set__&&this.__set__.push(s),s},n.ellipse=function(e,i,n,a){var r=t._engine.ellipse(this,e||0,i||0,n||0,a||0);return this.__set__&&this.__set__.push(r),r},n.path=function(e){e&&!t.is(e,"string")&&!t.is(e[0],E)&&(e+=m);var i=t._engine.path(t.format[p](t,arguments),this);return this.__set__&&this.__set__.push(i),i},n.image=function(e,i,n,a,r){var s=t._engine.image(this,e||"about:blank",i||0,n||0,a||0,r||0);return this.__set__&&this.__set__.push(s),s},n.text=function(e,i,n){var a=t._engine.text(this,e||0,i||0,b(n));return this.__set__&&this.__set__.push(a),a},n.set=function(e){!t.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var i=new ct(e);return this.__set__&&this.__set__.push(i),i.paper=this,i.type="set",i},n.setStart=function(e){this.__set__=e||this.set()},n.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},n.getSize=function(){var e=this.canvas.parentNode;return{width:e.offsetWidth,height:e.offsetHeight}},n.setSize=function(e,i){return t._engine.setSize.call(this,e,i)},n.setViewBox=function(e,i,n,a,r){return t._engine.setViewBox.call(this,e,i,n,a,r)},n.top=n.bottom=null,n.raphael=t,n.getElementByPoint=function(e,t){var i,n,a,r,s,o,l,c=this.canvas,d=h.doc.elementFromPoint(e,t);if(h.win.opera&&"svg"==d.tagName){var u=(n=(i=c).getBoundingClientRect(),a=i.ownerDocument,r=a.body,s=a.documentElement,o=s.clientTop||r.clientTop||0,l=s.clientLeft||r.clientLeft||0,{y:n.top+(h.win.pageYOffset||s.scrollTop||r.scrollTop)-o,x:n.left+(h.win.pageXOffset||s.scrollLeft||r.scrollLeft)-l}),p=c.createSVGRect();p.x=e-u.x,p.y=t-u.y,p.width=p.height=1;var f=c.getIntersectionList(p,null);f.length&&(d=f[f.length-1])}if(!d)return null;for(;d.parentNode&&d!=c.parentNode&&!d.raphael;)d=d.parentNode;return d==this.canvas.parentNode&&(d=c),d=d&&d.raphael?this.getById(d.raphaelid):null},n.getElementsByBBox=function(e){var i=this.set();return this.forEach(function(n){t.isBBoxIntersect(n.getBBox(),e)&&i.push(n)}),i},n.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},n.forEach=function(e,t){for(var i=this.bottom;i;){if(!1===e.call(t,i))return this;i=i.next}return this},n.getElementsByPoint=function(e,t){var i=this.set();return this.forEach(function(n){n.isPointInside(e,t)&&i.push(n)}),i},ze.isPointInside=function(e,i){var n=this.realPath=X[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=t.transformPath(n,this.attr("transform"))),t.isPointInsidePath(n,e,i)},ze.getBBox=function(e){if(this.removed)return{};var t=this._;return e?(!t.dirty&&t.bboxwt||(this.realPath=X[this.type](this),t.bboxwt=be(this.realPath),t.bboxwt.toString=Ge,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&(!t.dirty&&this.realPath||(t.bboxwt=0,this.realPath=X[this.type](this)),t.bbox=be(K(this.realPath,this.matrix)),t.bbox.toString=Ge,t.dirty=t.dirtyT=0),t.bbox)},ze.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},ze.glow=function(e){if("text"==this.type)return null;var t={width:((e=e||{}).width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:null==e.opacity?.5:e.opacity,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},i=t.width/2,n=this.paper,a=n.set(),r=this.realPath||X[this.type](this);r=this.matrix?K(r,this.matrix):r;for(var s=1;s<i+1;s++)a.push(n.path(r).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/i*s).toFixed(3),opacity:+(t.opacity/i).toFixed(3)}));return a.insertBefore(this).translate(t.offsetx,t.offsety)};var Ye=function(e,i,n,a,r,s,o,l,c){return null==c?fe(e,i,n,a,r,s,o,l):t.findDotsAtSegment(e,i,n,a,r,s,o,l,function(e,t,i,n,a,r,s,o,l){if(!(l<0||fe(e,t,i,n,a,r,s,o)<l)){var c,h=.5,d=1-h;for(c=fe(e,t,i,n,a,r,s,o,d);k(c-l)>.01;)c=fe(e,t,i,n,a,r,s,o,d+=(c<l?1:-1)*(h/=2));return d}}(e,i,n,a,r,s,o,l,c))},qe=function(e,i){return function(n,a,r){for(var s,o,l,c,h,d="",u={},p=0,f=0,g=(n=Ae(n)).length;f<g;f++){if("M"==(l=n[f])[0])s=+l[1],o=+l[2];else{if(p+(c=Ye(s,o,l[1],l[2],l[3],l[4],l[5],l[6]))>a){if(i&&!u.start){if(d+=["C"+(h=Ye(s,o,l[1],l[2],l[3],l[4],l[5],l[6],a-p)).start.x,h.start.y,h.m.x,h.m.y,h.x,h.y],r)return d;u.start=d,d=["M"+h.x,h.y+"C"+h.n.x,h.n.y,h.end.x,h.end.y,l[5],l[6]].join(),p+=c,s=+l[5],o=+l[6];continue}if(!e&&!i)return{x:(h=Ye(s,o,l[1],l[2],l[3],l[4],l[5],l[6],a-p)).x,y:h.y,alpha:h.alpha}}p+=c,s=+l[5],o=+l[6]}d+=l.shift()+l}return u.end=d,(h=e?p:i?u:t.findDotsAtSegment(s,o,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(h={x:h.x,y:h.y,alpha:h.alpha}),h}},Qe=qe(1),Je=qe(),Ze=qe(0,1);t.getTotalLength=Qe,t.getPointAtLength=Je,t.getSubpath=function(e,t,i){if(this.getTotalLength(e)-i<1e-6)return Ze(e,t).end;var n=Ze(e,i,1);return t?Ze(n,t).end:n},ze.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():Qe(e)},ze.getPointAtLength=function(e){var t=this.getPath();if(t)return Je(t,e)},ze.getPath=function(){var e,i=t._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return i&&(e=i(this)),e},ze.getSubpath=function(e,i){var n=this.getPath();if(n)return t.getSubpath(n,e,i)};var Xe=t.easing_formulas={linear:function(e){return e},"<":function(e){return A(e,1.7)},">":function(e){return A(e,.48)},"<>":function(e){var t=.48-e/1.04,i=C.sqrt(.1734+t*t),n=i-t,a=-i-t,r=A(k(n),1/3)*(n<0?-1:1)+A(k(a),1/3)*(a<0?-1:1)+.5;return 3*(1-r)*r*r+r*r*r},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:A(2,-10*e)*C.sin(2*P*(e-.075)/.3)+1},bounce:function(e){var t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}};Xe.easeIn=Xe["ease-in"]=Xe["<"],Xe.easeOut=Xe["ease-out"]=Xe[">"],Xe.easeInOut=Xe["ease-in-out"]=Xe["<>"],Xe["back-in"]=Xe.backIn,Xe["back-out"]=Xe.backOut;var Ke=[],et=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},tt=function i(){for(var n=+new Date,a=0;a<Ke.length;a++){var r=Ke[a];if(!r.el.removed&&!r.paused){var s,o,l=n-r.start,h=r.ms,d=r.easing,u=r.from,p=r.diff,g=r.to,m=(r.t,r.el),b={},w={};if(r.initstatus?(l=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*h,r.status=r.initstatus,delete r.initstatus,r.stop&&Ke.splice(a--,1)):r.status=(r.prev+(r.percent-r.prev)*(l/h))/r.anim.top,!(l<0))if(l<h){var y=d(l/h);for(var _ in u)if(u[c](_)){switch(F[_]){case D:s=+u[_]+y*h*p[_];break;case"colour":s="rgb("+[it(N(u[_].r+y*h*p[_].r)),it(N(u[_].g+y*h*p[_].g)),it(N(u[_].b+y*h*p[_].b))].join(",")+")";break;case"path":s=[];for(var x=0,C=u[_].length;x<C;x++){s[x]=[u[_][x][0]];for(var S=1,T=u[_][x].length;S<T;S++)s[x][S]=+u[_][x][S]+y*h*p[_][x][S];s[x]=s[x].join(v)}s=s.join(v);break;case"transform":if(p[_].real)for(s=[],x=0,C=u[_].length;x<C;x++)for(s[x]=[u[_][x][0]],S=1,T=u[_][x].length;S<T;S++)s[x][S]=u[_][x][S]+y*h*p[_][x][S];else{var k=function(e){return+u[_][e]+y*h*p[_][e]};s=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==_)for(s=[],x=4;x--;)s[x]=+u[_][x]+y*h*p[_][x];break;default:var A=[][f](u[_]);for(s=[],x=m.paper.customAttributes[_].length;x--;)s[x]=+A[x]+y*h*p[_][x]}b[_]=s}m.attr(b),function(t,i,n){setTimeout(function(){e("raphael.anim.frame."+t,i,n)})}(m.id,m,r.anim)}else{if(function(i,n,a){setTimeout(function(){e("raphael.anim.frame."+n.id,n,a),e("raphael.anim.finish."+n.id,n,a),t.is(i,"function")&&i.call(n)})}(r.callback,m,r.anim),m.attr(g),Ke.splice(a--,1),r.repeat>1&&!r.next){for(o in g)g[c](o)&&(w[o]=r.totalOrigin[o]);r.el.attr(w),rt(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&rt(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}Ke.length&&et(i)},it=function(e){return e>255?255:e<0?0:e};function nt(e,t,i,n,a,r){var s=3*t,o=3*(n-t)-s,l=1-s-o,c=3*i,h=3*(a-i)-c,d=1-c-h;function u(e){return((l*e+o)*e+s)*e}return function(e,t){var i=function(e,t){var i,n,a,r,c,h;for(a=e,h=0;h<8;h++){if(r=u(a)-e,k(r)<t)return a;if(k(c=(3*l*a+2*o)*a+s)<1e-6)break;a-=r/c}if(n=1,(a=e)<(i=0))return i;if(a>n)return n;for(;i<n;){if(r=u(a),k(r-e)<t)return a;e>r?i=a:n=a,a=(n-i)/2+i}return a}(e,t);return((d*i+h)*i+c)*i}(e,1/(200*r))}function at(e,t){var i=[],n={};if(this.ms=t,this.times=1,e){for(var a in e)e[c](a)&&(n[R(a)]=e[a],i.push(R(a)));i.sort(q)}this.anim=n,this.top=i[i.length-1],this.percents=i}function rt(i,n,a,r,o,l){a=R(a);var h,d,u,p,g,m,v=i.ms,y={},_={},x={};if(r)for(S=0,T=Ke.length;S<T;S++){var C=Ke[S];if(C.el.id==n.id&&C.anim==i){C.percent!=a?(Ke.splice(S,1),u=1):d=C,n.attr(C.totalOrigin);break}}else r=+_;for(var S=0,T=i.percents.length;S<T;S++){if(i.percents[S]==a||i.percents[S]>r*i.top){a=i.percents[S],g=i.percents[S-1]||0,v=v/i.top*(a-g),p=i.percents[S+1],h=i.anim[a];break}r&&n.attr(i.anim[i.percents[S]])}if(h){if(d)d.initstatus=r,d.start=new Date-d.ms*r;else{for(var k in h)if(h[c](k)&&(F[c](k)||n.paper.customAttributes[c](k)))switch(y[k]=n.attr(k),null==y[k]&&(y[k]=V[k]),_[k]=h[k],F[k]){case D:x[k]=(_[k]-y[k])/v;break;case"colour":y[k]=t.getRGB(y[k]);var A=t.getRGB(_[k]);x[k]={r:(A.r-y[k].r)/v,g:(A.g-y[k].g)/v,b:(A.b-y[k].b)/v};break;case"path":var P=Ae(y[k],_[k]),E=P[1];for(y[k]=P[0],x[k]=[],S=0,T=y[k].length;S<T;S++){x[k][S]=[0];for(var M=1,I=y[k][S].length;M<I;M++)x[k][S][M]=(E[S][M]-y[k][S][M])/v}break;case"transform":var O=n._,N=Ie(O[k],_[k]);if(N)for(y[k]=N.from,_[k]=N.to,x[k]=[],x[k].real=!0,S=0,T=y[k].length;S<T;S++)for(x[k][S]=[y[k][S][0]],M=1,I=y[k][S].length;M<I;M++)x[k][S][M]=(_[k][S][M]-y[k][S][M])/v;else{var $=n.matrix||new Oe,B={_:{transform:O.transform},getBBox:function(){return n.getBBox(1)}};y[k]=[$.a,$.b,$.c,$.d,$.e,$.f],Ee(B,_[k]),_[k]=B._.transform,x[k]=[(B.matrix.a-$.a)/v,(B.matrix.b-$.b)/v,(B.matrix.c-$.c)/v,(B.matrix.d-$.d)/v,(B.matrix.e-$.e)/v,(B.matrix.f-$.f)/v]}break;case"csv":var H=b(h[k])[w](s),j=b(y[k])[w](s);if("clip-rect"==k)for(y[k]=j,x[k]=[],S=j.length;S--;)x[k][S]=(H[S]-y[k][S])/v;_[k]=H;break;default:for(H=[][f](h[k]),j=[][f](y[k]),x[k]=[],S=n.paper.customAttributes[k].length;S--;)x[k][S]=((H[S]||0)-(j[S]||0))/v}var z=h.easing,U=t.easing_formulas[z];if(!U)if((U=b(z).match(L))&&5==U.length){var W=U;U=function(e){return nt(e,+W[1],+W[2],+W[3],+W[4],v)}}else U=Q;if(C={anim:i,percent:a,timestamp:m=h.start||i.start||+new Date,start:m+(i.del||0),status:0,initstatus:r||0,stop:!1,ms:v,easing:U,from:y,diff:x,to:_,el:n,callback:h.callback,prev:g,next:p,repeat:l||i.times,origin:n.attr(),totalOrigin:o},Ke.push(C),r&&!d&&!u&&(C.stop=!0,C.start=new Date-v*r,1==Ke.length))return tt();u&&(C.start=new Date-C.ms*r),1==Ke.length&&et(tt)}e("raphael.anim.start."+n.id,n,i)}}function st(e){for(var t=0;t<Ke.length;t++)Ke[t].el.paper==e&&Ke.splice(t--,1)}ze.animateWith=function(e,i,n,a,r,s){if(this.removed)return s&&s.call(this),this;var o=n instanceof at?n:t.animation(n,a,r,s);rt(o,this,o.percents[0],null,this.attr());for(var l=0,c=Ke.length;l<c;l++)if(Ke[l].anim==i&&Ke[l].el==e){Ke[c-1].start=Ke[l].start;break}return this},ze.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},at.prototype.delay=function(e){var t=new at(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},at.prototype.repeat=function(e){var t=new at(this.anim,this.ms);return t.del=this.del,t.times=C.floor(S(e,0))||1,t},t.animation=function(e,i,n,a){if(e instanceof at)return e;!t.is(n,"function")&&n||(a=a||n||null,n=null),e=Object(e),i=+i||0;var r,s,o={};for(s in e)e[c](s)&&R(s)!=s&&R(s)+"%"!=s&&(r=!0,o[s]=e[s]);if(r)return n&&(o.easing=n),a&&(o.callback=a),new at({100:o},i);if(a){var l=0;for(var h in e){var d=$(h);e[c](h)&&d>l&&(l=d)}!e[l+="%"].callback&&(e[l].callback=a)}return new at(e,i)},ze.animate=function(e,i,n,a){if(this.removed)return a&&a.call(this),this;var r=e instanceof at?e:t.animation(e,i,n,a);return rt(r,this,r.percents[0],null,this.attr()),this},ze.setTime=function(e,t){return e&&null!=t&&this.status(e,T(t,e.ms)/e.ms),this},ze.status=function(e,t){var i,n,a=[],r=0;if(null!=t)return rt(e,this,-1,T(t,1)),this;for(i=Ke.length;r<i;r++)if((n=Ke[r]).el.id==this.id&&(!e||n.anim==e)){if(e)return n.status;a.push({anim:n.anim,status:n.status})}return e?0:a},ze.pause=function(t){for(var i=0;i<Ke.length;i++)Ke[i].el.id!=this.id||t&&Ke[i].anim!=t||!1!==e("raphael.anim.pause."+this.id,this,Ke[i].anim)&&(Ke[i].paused=!0);return this},ze.resume=function(t){for(var i=0;i<Ke.length;i++)if(Ke[i].el.id==this.id&&(!t||Ke[i].anim==t)){var n=Ke[i];!1!==e("raphael.anim.resume."+this.id,this,n.anim)&&(delete n.paused,this.status(n.anim,n.status))}return this},ze.stop=function(t){for(var i=0;i<Ke.length;i++)Ke[i].el.id!=this.id||t&&Ke[i].anim!=t||!1!==e("raphael.anim.stop."+this.id,this,Ke[i].anim)&&Ke.splice(i--,1);return this},e.on("raphael.remove",st),e.on("raphael.clear",st),ze.toString=function(){return"Rapha\xebl\u2019s object"};var ot,lt,ct=function e(t){if(this.items=[],this.length=0,this.type="set",t)for(var i=0,n=t.length;i<n;i++)!t[i]||t[i].constructor!=ze.constructor&&t[i].constructor!=e||(this[this.items.length]=this.items[this.items.length]=t[i],this.length++)},ht=ct.prototype;for(var dt in ht.push=function(){for(var e,t,i=0,n=arguments.length;i<n;i++)!(e=arguments[i])||e.constructor!=ze.constructor&&e.constructor!=ct||(this[t=this.items.length]=this.items[t]=e,this.length++);return this},ht.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ht.forEach=function(e,t){for(var i=0,n=this.items.length;i<n;i++)if(!1===e.call(t,this.items[i],i))return this;return this},ze)ze[c](dt)&&(ht[dt]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e][p](i,t)})}}(dt));return ht.attr=function(e,i){if(e&&t.is(e,E)&&t.is(e[0],"object"))for(var n=0,a=e.length;n<a;n++)this.items[n].attr(e[n]);else for(var r=0,s=this.items.length;r<s;r++)this.items[r].attr(e,i);return this},ht.clear=function(){for(;this.length;)this.pop()},ht.splice=function(e,t,i){e=e<0?S(this.length+e,0):e,t=S(0,T(this.length-e,t));var n,a=[],r=[],s=[];for(n=2;n<arguments.length;n++)s.push(arguments[n]);for(n=0;n<t;n++)r.push(this[e+n]);for(;n<this.length-e;n++)a.push(this[e+n]);var o=s.length;for(n=0;n<o+a.length;n++)this.items[e+n]=this[e+n]=n<o?s[n]:a[n-o];for(n=this.items.length=this.length-=t-o;this[n];)delete this[n++];return new ct(r)},ht.exclude=function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]==e)return this.splice(t,1),!0},ht.animate=function(e,i,n,a){(t.is(n,"function")||!n)&&(a=n||null);var r,s,o=this.items.length,l=o,c=this;if(!o)return this;a&&(s=function(){!--o&&a.call(c)}),n=t.is(n,"string")?n:s;var h=t.animation(e,i,n,s);for(r=this.items[--l].animate(h);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(r,h,h),this.items[l]&&!this.items[l].removed||o--;return this},ht.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},ht.getBBox=function(){for(var e=[],t=[],i=[],n=[],a=this.items.length;a--;)if(!this.items[a].removed){var r=this.items[a].getBBox();e.push(r.x),t.push(r.y),i.push(r.x+r.width),n.push(r.y+r.height)}return{x:e=T[p](0,e),y:t=T[p](0,t),x2:i=S[p](0,i),y2:n=S[p](0,n),width:i-e,height:n-t}},ht.clone=function(e){e=this.paper.set();for(var t=0,i=this.items.length;t<i;t++)e.push(this.items[t].clone());return e},ht.toString=function(){return"Rapha\xebl\u2018s set"},ht.glow=function(e){var t=this.paper.set();return this.forEach(function(i,n){var a=i.glow(e);null!=a&&a.forEach(function(e,i){t.push(e)})}),t},ht.isPointInside=function(e,t){var i=!1;return this.forEach(function(n){if(n.isPointInside(e,t))return i=!0,!1}),i},t.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},i=e.face["font-family"];for(var n in e.face)e.face[c](n)&&(t.face[n]=e.face[n]);if(this.fonts[i]?this.fonts[i].push(t):this.fonts[i]=[t],!e.svg)for(var a in t.face["units-per-em"]=$(e.face["units-per-em"],10),e.glyphs)if(e.glyphs[c](a)){var r=e.glyphs[a];if(t.glyphs[a]={w:r.w,k:{},d:r.d&&"M"+r.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},r.k)for(var s in r.k)r[c](s)&&(t.glyphs[a].k[s]=r.k[s])}return e},n.getFont=function(e,i,n,a){if(a=a||"normal",n=n||"normal",i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400,t.fonts){var r,s=t.fonts[e];if(!s){var o=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,m)+"(\\s|$)","i");for(var l in t.fonts)if(t.fonts[c](l)&&o.test(l)){s=t.fonts[l];break}}if(s)for(var h=0,d=s.length;h<d&&((r=s[h]).face["font-weight"]!=i||r.face["font-style"]!=n&&r.face["font-style"]||r.face["font-stretch"]!=a);h++);return r}},n.print=function(e,i,n,a,r,o,l,c){o=o||"middle",l=S(T(l||0,1),-1),c=S(T(c||1,3),1);var h,d=b(n)[w](m),u=0,p=0,f=m;if(t.is(a,"string")&&(a=this.getFont(a)),a){h=(r||16)/a.face["units-per-em"];for(var g=a.face.bbox[w](s),v=+g[0],y=g[3]-g[1],_=0,x=+g[1]+("baseline"==o?y+ +a.face.descent:y/2),C=0,k=d.length;C<k;C++){if("\n"==d[C])u=0,P=0,p=0,_+=y*c;else{var A=p&&a.glyphs[d[C-1]]||{},P=a.glyphs[d[C]];u+=p?(A.w||a.w)+(A.k&&A.k[d[C]]||0)+a.w*l:0,p=1}P&&P.d&&(f+=t.transformPath(P.d,["t",u*h,_*h,"s",h,h,v,x,"t",(e-v)/h,(i-x)/h]))}}return this.path(f).attr({fill:"#000",stroke:"none"})},n.add=function(e){if(t.is(e,"array"))for(var i,n=this.set(),a=0,r=e.length;a<r;a++)i=e[a]||{},o[c](i.type)&&n.push(this[i.type]().attr(i));return n},t.format=function(e,i){var n=t.is(i,E)?[0][f](i):arguments;return e&&t.is(e,"string")&&n.length-1&&(e=e.replace(l,function(e,t){return null==n[++t]?m:n[t]})),e||m},t.fullfill=(ot=/\{([^\}]+)\}/g,lt=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(e,t){return String(e).replace(ot,function(e,i){return function(e,t,i){var n=i;return t.replace(lt,function(e,t,i,a,r){t=t||a,n&&(t in n&&(n=n[t]),"function"==typeof n&&r&&(n=n()))}),n=(null==n||n==i?e:n)+""}(e,i,t)})}),t.ninja=function(){if(d.was)h.win.Raphael=d.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(e){}}return t},t.st=ht,e.on("raphael.DOMload",function(){i=!0}),function(e,i,n){null==e.readyState&&e.addEventListener&&(e.addEventListener("DOMContentLoaded",n=function(){e.removeEventListener("DOMContentLoaded",n,!1),e.readyState="complete"},!1),e.readyState="loading"),function i(){/in/.test(e.readyState)?setTimeout(i,9):t.eve("raphael.DOMload")}()}(document),t}.apply(t,n))||(e.exports=a)},function(e,t,i){var n,a;n=[i(0)],void 0===(a=function(e){if(!e||e.vml){var t="hasOwnProperty",i=String,n=parseFloat,a=Math,r=a.round,s=a.max,o=a.min,l=a.abs,c=/[, ]+/,h=e.eve,d=" ",u="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},f=/([clmz]),?([^clmz]*)/gi,g=/ progid:\S+Blur\([^\)]+\)/g,m=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",b=21600,w={path:1,rect:1,image:1},y={circle:1,ellipse:1},_=function(t,i,n){var a=e.matrix();return a.rotate(-t,.5,.5),{dx:a.x(i,n),dy:a.y(i,n)}},x=function(e,t,i,n,a,r){var s=e._,o=e.matrix,c=s.fillpos,h=e.node,u=h.style,p=1,f="",g=b/t,m=b/i;if(u.visibility="hidden",t&&i){if(h.coordsize=l(g)+d+l(m),u.rotation=r*(t*i<0?-1:1),r){var v=_(r,n,a);n=v.dx,a=v.dy}if(t<0&&(f+="x"),i<0&&(f+=" y")&&(p=-1),u.flip=f,h.coordorigin=n*-g+d+a*-m,c||s.fillsize){var w=h.getElementsByTagName("fill");w=w&&w[0],h.removeChild(w),c&&(v=_(r,o.x(c[0],c[1]),o.y(c[0],c[1])),w.position=v.dx*p+d+v.dy*p),s.fillsize&&(w.size=s.fillsize[0]*l(t)+d+s.fillsize[1]*l(i)),h.appendChild(w)}u.visibility="visible"}};e.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var C,S=function(e,t,n){for(var a=i(t).toLowerCase().split("-"),r=n?"end":"start",s=a.length,o="classic",l="medium",c="medium";s--;)switch(a[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=a[s];break;case"wide":case"narrow":c=a[s];break;case"long":case"short":l=a[s]}var h=e.node.getElementsByTagName("stroke")[0];h[r+"arrow"]=o,h[r+"arrowlength"]=l,h[r+"arrowwidth"]=c},T=function(a,l){a.attrs=a.attrs||{};var h=a.node,g=a.attrs,v=h.style,_=w[a.type]&&(l.x!=g.x||l.y!=g.y||l.width!=g.width||l.height!=g.height||l.cx!=g.cx||l.cy!=g.cy||l.rx!=g.rx||l.ry!=g.ry||l.r!=g.r),T=y[a.type]&&(g.cx!=l.cx||g.cy!=l.cy||g.r!=l.r||g.rx!=l.rx||g.ry!=l.ry),A=a;for(var P in l)l[t](P)&&(g[P]=l[P]);if(_&&(g.path=e._getPath[a.type](a),a._.dirty=1),l.href&&(h.href=l.href),l.title&&(h.title=l.title),l.target&&(h.target=l.target),l.cursor&&(v.cursor=l.cursor),"blur"in l&&a.blur(l.blur),(l.path&&"path"==a.type||_)&&(h.path=function(t){var n=/[ahqstv]/gi,a=e._pathToAbsolute;if(i(t).match(n)&&(a=e._path2curve),n=/[clmz]/g,a==e._pathToAbsolute&&!i(t).match(n)){var s=i(t).replace(f,function(e,t,i){var n=[],a="m"==t.toLowerCase(),s=p[t];return i.replace(m,function(e){a&&2==n.length&&(s+=n+p["m"==t?"l":"L"],n=[]),n.push(r(e*b))}),s+n});return s}var o,l,c=a(t);s=[];for(var h=0,g=c.length;h<g;h++){o=c[h],"z"==(l=c[h][0].toLowerCase())&&(l="x");for(var v=1,w=o.length;v<w;v++)l+=r(o[v]*b)+(v!=w-1?",":u);s.push(l)}return s.join(d)}(~i(g.path).toLowerCase().indexOf("r")?e._pathToAbsolute(g.path):g.path),a._.dirty=1,"image"==a.type&&(a._.fillpos=[g.x,g.y],a._.fillsize=[g.width,g.height],x(a,1,1,0,0,0))),"transform"in l&&a.transform(l.transform),T){var D=+g.cx,E=+g.cy,M=+g.rx||+g.r||0,I=+g.ry||+g.r||0;h.path=e.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",r((D-M)*b),r((E-I)*b),r((D+M)*b),r((E+I)*b),r(D*b)),a._.dirty=1}if("clip-rect"in l){var O=i(l["clip-rect"]).split(c);if(4==O.length){O[2]=+O[2]+ +O[0],O[3]=+O[3]+ +O[1];var L=h.clipRect||e._g.doc.createElement("div"),N=L.style;N.clip=e.format("rect({1}px {2}px {3}px {0}px)",O),h.clipRect||(N.position="absolute",N.top=0,N.left=0,N.width=a.paper.width+"px",N.height=a.paper.height+"px",h.parentNode.insertBefore(L,h),L.appendChild(h),h.clipRect=L)}l["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(a.textpath){var R=a.textpath.style;l.font&&(R.font=l.font),l["font-family"]&&(R.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,u)+'"'),l["font-size"]&&(R.fontSize=l["font-size"]),l["font-weight"]&&(R.fontWeight=l["font-weight"]),l["font-style"]&&(R.fontStyle=l["font-style"])}if("arrow-start"in l&&S(A,l["arrow-start"]),"arrow-end"in l&&S(A,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var $=h.getElementsByTagName("fill");if(!($=$&&$[0])&&($=C("fill")),"image"==a.type&&l.src&&($.src=l.src),l.fill&&($.on=!0),null!=$.on&&"none"!=l.fill&&null!==l.fill||($.on=!1),$.on&&l.fill){var B=i(l.fill).match(e._ISURL);if(B){$.parentNode==h&&h.removeChild($),$.rotate=!0,$.src=B[1],$.type="tile";var V=a.getBBox(1);$.position=V.x+d+V.y,a._.fillpos=[V.x,V.y],e._preload(B[1],function(){a._.fillsize=[this.offsetWidth,this.offsetHeight]})}else $.color=e.getRGB(l.fill).hex,$.src=u,$.type="solid",e.getRGB(l.fill).error&&(A.type in{circle:1,ellipse:1}||"r"!=i(l.fill).charAt())&&k(A,l.fill,$)&&(g.fill="none",g.gradient=l.fill,$.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var F=((+g["fill-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+e.getRGB(l.fill).o+1||2)-1);F=o(s(F,0),1),$.opacity=F,$.src&&($.color="none")}h.appendChild($);var H=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0],j=!1;!H&&(j=H=C("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(H.on=!0),("none"==l.stroke||null===l.stroke||null==H.on||0==l.stroke||0==l["stroke-width"])&&(H.on=!1);var z=e.getRGB(l.stroke);H.on&&l.stroke&&(H.color=z.hex),F=((+g["stroke-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+z.o+1||2)-1);var U=.75*(n(l["stroke-width"])||1);if(F=o(s(F,0),1),null==l["stroke-width"]&&(U=g["stroke-width"]),l["stroke-width"]&&(H.weight=U),U&&U<1&&(F*=U)&&(H.weight=1),H.opacity=F,l["stroke-linejoin"]&&(H.joinstyle=l["stroke-linejoin"]||"miter"),H.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(H.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};H.dashstyle=W[t](l["stroke-dasharray"])?W[l["stroke-dasharray"]]:u}j&&h.appendChild(H)}if("text"==A.type){A.paper.canvas.style.display=u;var G=A.paper.span,Y=g.font&&g.font.match(/\d+(?:\.\d*)?(?=px)/);v=G.style,g.font&&(v.font=g.font),g["font-family"]&&(v.fontFamily=g["font-family"]),g["font-weight"]&&(v.fontWeight=g["font-weight"]),g["font-style"]&&(v.fontStyle=g["font-style"]),Y=n(g["font-size"]||Y&&Y[0])||10,v.fontSize=100*Y+"px",A.textpath.string&&(G.innerHTML=i(A.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var q=G.getBoundingClientRect();A.W=g.w=(q.right-q.left)/100,A.H=g.h=(q.bottom-q.top)/100,A.X=g.x,A.Y=g.y+A.H/2,("x"in l||"y"in l)&&(A.path.v=e.format("m{0},{1}l{2},{1}",r(g.x*b),r(g.y*b),r(g.x*b)+1));for(var Q=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,Z=Q.length;J<Z;J++)if(Q[J]in l){A._.dirty=1;break}switch(g["text-anchor"]){case"start":A.textpath.style["v-text-align"]="left",A.bbx=A.W/2;break;case"end":A.textpath.style["v-text-align"]="right",A.bbx=-A.W/2;break;default:A.textpath.style["v-text-align"]="center",A.bbx=0}A.textpath.style["v-text-kern"]=!0}},k=function(t,r,s){t.attrs=t.attrs||{},t.attrs;var o=Math.pow,l="linear",c=".5 .5";if(t.attrs.gradient=r,r=(r=i(r).replace(e._radial_gradient,function(e,t,i){return l="radial",t&&i&&(t=n(t),i=n(i),o(t-.5,2)+o(i-.5,2)>.25&&(i=a.sqrt(.25-o(t-.5,2))*(2*(i>.5)-1)+.5),c=t+d+i),u})).split(/\s*\-\s*/),"linear"==l){var h=r.shift();if(h=-n(h),isNaN(h))return null}var p=e._parseDots(r);if(!p)return null;if(t=t.shape||t.node,p.length){t.removeChild(s),s.on=!0,s.method="none",s.color=p[0].color,s.color2=p[p.length-1].color;for(var f=[],g=0,m=p.length;g<m;g++)p[g].offset&&f.push(p[g].offset+d+p[g].color);s.colors=f.length?f.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=c,s.angle=0):(s.type="gradient",s.angle=(270-h)%360),t.appendChild(s)}return 1},A=function(t,i){this[0]=this.node=t,t.raphael=!0,this.id=e._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=e.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},P=e.el;A.prototype=P,P.constructor=A,P.transform=function(t){if(null==t)return this._.transform;var n,a=this.paper._viewBoxShift,r=a?"s"+[a.scale,a.scale]+"-1-1t"+[a.dx,a.dy]:u;a&&(n=t=i(t).replace(/\.{3}|\u2026/g,this._.transform||u)),e._extractTransform(this,r+t);var s,o=this.matrix.clone(),l=this.skew,c=this.node,h=~i(this.attrs.fill).indexOf("-"),p=!i(this.attrs.fill).indexOf("url(");if(o.translate(1,1),p||h||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=o.split(),h&&s.noRotation||!s.isSimple){c.style.filter=o.toFilter();var f=this.getBBox(),g=this.getBBox(1),m=f.x-g.x,v=f.y-g.y;c.coordorigin=m*-b+d+v*-b,x(this,1,1,m,v,0)}else c.style.filter=u,x(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else c.style.filter=u,l.matrix=i(o),l.offset=o.offset();return null!==n&&(this._.transform=n,e._extractTransform(this,n)),this},P.rotate=function(e,t,a){if(this.removed)return this;if(null!=e){if((e=i(e).split(c)).length-1&&(t=n(e[1]),a=n(e[2])),e=n(e[0]),null==a&&(t=a),null==t||null==a){var r=this.getBBox(1);t=r.x+r.width/2,a=r.y+r.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,t,a]])),this}},P.translate=function(e,t){return this.removed?this:((e=i(e).split(c)).length-1&&(t=n(e[1])),e=n(e[0])||0,t=+t||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=t),this.transform(this._.transform.concat([["t",e,t]])),this)},P.scale=function(e,t,a,r){if(this.removed)return this;if((e=i(e).split(c)).length-1&&(t=n(e[1]),a=n(e[2]),r=n(e[3]),isNaN(a)&&(a=null),isNaN(r)&&(r=null)),e=n(e[0]),null==t&&(t=e),null==r&&(a=r),null==a||null==r)var s=this.getBBox(1);return a=null==a?s.x+s.width/2:a,r=null==r?s.y+s.height/2:r,this.transform(this._.transform.concat([["s",e,t,a,r]])),this._.dirtyT=1,this},P.hide=function(){return!this.removed&&(this.node.style.display="none"),this},P.show=function(){return!this.removed&&(this.node.style.display=u),this},P.auxGetBBox=e.el.getBBox,P.getBBox=function(){var e=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var t={},i=1/this.paper._viewBoxShift.scale;return t.x=e.x-this.paper._viewBoxShift.dx,t.x*=i,t.y=e.y-this.paper._viewBoxShift.dy,t.y*=i,t.width=e.width*i,t.height=e.height*i,t.x2=t.x+t.width,t.y2=t.y+t.height,t}return e},P._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},P.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),e.eve.unbind("raphael.*.*."+this.id),e._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;this.removed=!0}},P.attr=function(i,n){if(this.removed)return this;if(null==i){var a={};for(var r in this.attrs)this.attrs[t](r)&&(a[r]=this.attrs[r]);return a.gradient&&"none"==a.fill&&(a.fill=a.gradient)&&delete a.gradient,a.transform=this._.transform,a}if(null==n&&e.is(i,"string")){if("fill"==i&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=i.split(c),o={},l=0,d=s.length;l<d;l++)(i=s[l])in this.attrs?o[i]=this.attrs[i]:e.is(this.paper.customAttributes[i],"function")?o[i]=this.paper.customAttributes[i].def:o[i]=e._availableAttrs[i];return d-1?o:o[s[0]]}if(this.attrs&&null==n&&e.is(i,"array")){for(o={},l=0,d=i.length;l<d;l++)o[i[l]]=this.attr(i[l]);return o}var u;for(var p in null!=n&&((u={})[i]=n),null==n&&e.is(i,"object")&&(u=i),u)h("raphael.attr."+p+"."+this.id,this,u[p]);if(u){for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&u[t](p)&&e.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(u[p]));for(var g in this.attrs[p]=u[p],f)f[t](g)&&(u[g]=f[g])}u.text&&"text"==this.type&&(this.textpath.string=u.text),T(this,u)}return this},P.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&e._tofront(this,this.paper),this},P.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper)),this)},P.insertAfter=function(t){return this.removed?this:(t.constructor==e.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),e._insertafter(this,t,this.paper),this)},P.insertBefore=function(t){return this.removed?this:(t.constructor==e.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),e._insertbefore(this,t,this.paper),this)},P.blur=function(t){var i=this.node.runtimeStyle,n=i.filter;return n=n.replace(g,u),0!=+t?(this.attrs.blur=t,i.filter=n+d+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",i.margin=e.format("-{0}px 0 0 -{0}px",r(+t||1.5))):(i.filter=n,i.margin=0,delete this.attrs.blur),this},e._engine.path=function(e,t){var i=C("shape");i.style.cssText=v,i.coordsize=b+d+b,i.coordorigin=t.coordorigin;var n=new A(i,t),a={fill:"none",stroke:"#000"};e&&(a.path=e),n.type="path",n.path=[],n.Path=u,T(n,a),t.canvas&&t.canvas.appendChild(i);var r=C("skew");return r.on=!0,i.appendChild(r),n.skew=r,n.transform(u),n},e._engine.rect=function(t,i,n,a,r,s){var o=e._rectPath(i,n,a,r,s),l=t.path(o),c=l.attrs;return l.X=c.x=i,l.Y=c.y=n,l.W=c.width=a,l.H=c.height=r,c.r=s,c.path=o,l.type="rect",l},e._engine.ellipse=function(e,t,i,n,a){var r=e.path();return r.attrs,r.X=t-n,r.Y=i-a,r.W=2*n,r.H=2*a,r.type="ellipse",T(r,{cx:t,cy:i,rx:n,ry:a}),r},e._engine.circle=function(e,t,i,n){var a=e.path();return a.attrs,a.X=t-n,a.Y=i-n,a.W=a.H=2*n,a.type="circle",T(a,{cx:t,cy:i,r:n}),a},e._engine.image=function(t,i,n,a,r,s){var o=e._rectPath(n,a,r,s),l=t.path(o).attr({stroke:"none"}),c=l.attrs,h=l.node,d=h.getElementsByTagName("fill")[0];return c.src=i,l.X=c.x=n,l.Y=c.y=a,l.W=c.width=r,l.H=c.height=s,c.path=o,l.type="image",d.parentNode==h&&h.removeChild(d),d.rotate=!0,d.src=i,d.type="tile",l._.fillpos=[n,a],l._.fillsize=[r,s],h.appendChild(d),x(l,1,1,0,0,0),l},e._engine.text=function(t,n,a,s){var o=C("shape"),l=C("path"),c=C("textpath");n=n||0,a=a||0,s=s||"",l.v=e.format("m{0},{1}l{2},{1}",r(n*b),r(a*b),r(n*b)+1),l.textpathok=!0,c.string=i(s),c.on=!0,o.style.cssText=v,o.coordsize=b+d+b,o.coordorigin="0 0";var h=new A(o,t),p={fill:"#000",stroke:"none",font:e._availableAttrs.font,text:s};h.shape=o,h.path=l,h.textpath=c,h.type="text",h.attrs.text=i(s),h.attrs.x=n,h.attrs.y=a,h.attrs.w=1,h.attrs.h=1,T(h,p),o.appendChild(c),o.appendChild(l),t.canvas.appendChild(o);var f=C("skew");return f.on=!0,o.appendChild(f),h.skew=f,h.transform(u),h},e._engine.setSize=function(t,i){var n=this.canvas.style;return this.width=t,this.height=i,t==+t&&(t+="px"),i==+i&&(i+="px"),n.width=t,n.height=i,n.clip="rect(0 "+t+" "+i+" 0)",this._viewBox&&e._engine.setViewBox.apply(this,this._viewBox),this},e._engine.setViewBox=function(t,i,n,a,r){e.eve("raphael.setViewBox",this,this._viewBox,[t,i,n,a,r]);var s,o,l=this.getSize(),c=l.width,h=l.height;return r&&(n*(s=h/a)<c&&(t-=(c-n*s)/2/s),a*(o=c/n)<h&&(i-=(h-a*o)/2/o)),this._viewBox=[t,i,n,a,!!r],this._viewBoxShift={dx:-t,dy:-i,scale:l},this.forEach(function(e){e.transform("...")}),this},e._engine.initWin=function(e){var t=e.document;t.styleSheets.length<31?t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):t.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),C=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(e){C=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},e._engine.initWin(e._g.win),e._engine.create=function(){var t=e._getContainer.apply(0,arguments),i=t.container,n=t.height,a=t.width,r=t.x,s=t.y;if(!i)throw new Error("VML container not found.");var o=new e._Paper,l=o.canvas=e._g.doc.createElement("div"),c=l.style;return r=r||0,s=s||0,a=a||512,n=n||342,o.width=a,o.height=n,a==+a&&(a+="px"),n==+n&&(n+="px"),o.coordsize=216e5+d+216e5,o.coordorigin="0 0",o.span=e._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(o.span),c.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",a,n),1==i?(e._g.doc.body.appendChild(l),c.left=r+"px",c.top=s+"px",c.position="absolute"):i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l),o.renderfix=function(){},o},e.prototype.clear=function(){e.eve("raphael.clear",this),this.canvas.innerHTML=u,this.span=e._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},e.prototype.remove=function(){for(var t in e.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;return!0};var D=e.st;for(var E in P)P[t](E)&&!D[t](E)&&(D[E]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e].apply(i,t)})}}(E))}}.apply(t,n))||(e.exports=a)},function(e,t,i){var n,a;n=[i(0)],void 0===(a=function(e){if(!e||e.svg){var t="hasOwnProperty",i=String,n=parseFloat,a=parseInt,r=Math,s=r.max,o=r.abs,l=r.pow,c=/[, ]+/,h=e.eve,d="",u=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};e.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var m=function n(a,r){if(r)for(var s in"string"==typeof a&&(a=n(a)),r)r[t](s)&&("xlink:"==s.substring(0,6)?a.setAttributeNS(p,s.substring(6),i(r[s])):a.setAttribute(s,i(r[s])));else(a=e._g.doc.createElementNS("http://www.w3.org/2000/svg",a)).style&&(a.style.webkitTapHighlightColor="rgba(0,0,0,0)");return a},v=function(t,a){var c="linear",h=t.id+a,u=.5,p=.5,f=t.node,g=t.paper,v=f.style,w=e._g.doc.getElementById(h);if(!w){if(a=(a=i(a).replace(e._radial_gradient,function(e,t,i){if(c="radial",t&&i){u=n(t);var a=2*((p=n(i))>.5)-1;l(u-.5,2)+l(p-.5,2)>.25&&(p=r.sqrt(.25-l(u-.5,2))*a+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*a)}return d})).split(/\s*\-\s*/),"linear"==c){var y=a.shift();if(y=-n(y),isNaN(y))return null;var _=[0,0,r.cos(e.rad(y)),r.sin(e.rad(y))],x=1/(s(o(_[2]),o(_[3]))||1);_[2]*=x,_[3]*=x,_[2]<0&&(_[0]=-_[2],_[2]=0),_[3]<0&&(_[1]=-_[3],_[3]=0)}var C=e._parseDots(a);if(!C)return null;if(h=h.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&h!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){w=m(c+"Gradient",{id:h}),t.gradient=w,m(w,"radial"==c?{fx:u,fy:p}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:t.matrix.invert()}),g.defs.appendChild(w);for(var S=0,T=C.length;S<T;S++)w.appendChild(m("stop",{offset:C[S].offset?C[S].offset:S?"100%":"0%","stop-color":C[S].color||"#fff","stop-opacity":isFinite(C[S].opacity)?C[S].opacity:1}))}}return m(f,{fill:b(h),opacity:1,"fill-opacity":1}),v.fill=d,v.opacity=1,v.fillOpacity=1,1},b=function(e){if((t=document.documentMode)&&(9===t||10===t))return"url('#"+e+"')";var t,i=document.location;return"url('"+i.protocol+"//"+i.host+i.pathname+i.search+"#"+e+"')"},w=function(e){var t=e.getBBox(1);m(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},y=function(n,a,r){if("path"==n.type){for(var s,o,l,c,h,u=i(a).toLowerCase().split("-"),p=n.paper,v=r?"end":"start",b=n.node,w=n.attrs,y=w["stroke-width"],_=u.length,x="classic",C=3,S=3,T=5;_--;)switch(u[_]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":x=u[_];break;case"wide":S=5;break;case"narrow":S=2;break;case"long":C=5;break;case"short":C=2}if("open"==x?(C+=2,S+=2,T+=2,l=1,c=r?4:1,h={fill:"none",stroke:w.stroke}):(c=l=C/2,h={fill:w.stroke,stroke:"none"}),n._.arrows?r?(n._.arrows.endPath&&g[n._.arrows.endPath]--,n._.arrows.endMarker&&g[n._.arrows.endMarker]--):(n._.arrows.startPath&&g[n._.arrows.startPath]--,n._.arrows.startMarker&&g[n._.arrows.startMarker]--):n._.arrows={},"none"!=x){var k="raphael-marker-"+x,A="raphael-marker-"+v+x+C+S+"-obj"+n.id;e._g.doc.getElementById(k)?g[k]++:(p.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:f[x],id:k})),g[k]=1);var P,D=e._g.doc.getElementById(A);D?(g[A]++,P=D.getElementsByTagName("use")[0]):(D=m(m("marker"),{id:A,markerHeight:S,markerWidth:C,orient:"auto",refX:c,refY:S/2}),P=m(m("use"),{"xlink:href":"#"+k,transform:(r?"rotate(180 "+C/2+" "+S/2+") ":d)+"scale("+C/T+","+S/T+")","stroke-width":(1/((C/T+S/T)/2)).toFixed(4)}),D.appendChild(P),p.defs.appendChild(D),g[A]=1),m(P,h);var E=l*("diamond"!=x&&"oval"!=x);r?(s=n._.arrows.startdx*y||0,o=e.getTotalLength(w.path)-E*y):(s=E*y,o=e.getTotalLength(w.path)-(n._.arrows.enddx*y||0)),(h={})["marker-"+v]="url(#"+A+")",(o||s)&&(h.d=e.getSubpath(w.path,s,o)),m(b,h),n._.arrows[v+"Path"]=k,n._.arrows[v+"Marker"]=A,n._.arrows[v+"dx"]=E,n._.arrows[v+"Type"]=x,n._.arrows[v+"String"]=a}else r?(s=n._.arrows.startdx*y||0,o=e.getTotalLength(w.path)-s):(s=0,o=e.getTotalLength(w.path)-(n._.arrows.enddx*y||0)),n._.arrows[v+"Path"]&&m(b,{d:e.getSubpath(w.path,s,o)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(h in g)if(g[t](h)&&!g[h]){var M=e._g.doc.getElementById(h);M&&M.parentNode.removeChild(M)}}},_={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(e,t,n){if(t=_[i(t).toLowerCase()]){for(var a=e.attrs["stroke-width"]||"1",r={round:a,square:a,butt:0}[e.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,s=[],o=t.length;o--;)s[o]=t[o]*a+(o%2?1:-1)*r;m(e.node,{"stroke-dasharray":s.join(",")})}else m(e.node,{"stroke-dasharray":"none"})},C=function(n,r){var l=n.node,h=n.attrs,u=l.style.visibility;for(var f in l.style.visibility="hidden",r)if(r[t](f)){if(!e._availableAttrs[t](f))continue;var g=r[f];switch(h[f]=g,f){case"blur":n.blur(g);break;case"title":var b=l.getElementsByTagName("title");if(b.length&&(b=b[0]))b.firstChild.nodeValue=g;else{b=m("title");var _=e._g.doc.createTextNode(g);b.appendChild(_),l.appendChild(b)}break;case"href":case"target":var C=l.parentNode;if("a"!=C.tagName.toLowerCase()){var T=m("a");C.insertBefore(T,l),T.appendChild(l),C=T}"target"==f?C.setAttributeNS(p,"show","blank"==g?"new":g):C.setAttributeNS(p,f,g);break;case"cursor":l.style.cursor=g;break;case"transform":n.transform(g);break;case"arrow-start":y(n,g);break;case"arrow-end":y(n,g,1);break;case"clip-rect":var k=i(g).split(c);if(4==k.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var A=m("clipPath"),P=m("rect");A.id=e.createUUID(),m(P,{x:k[0],y:k[1],width:k[2],height:k[3]}),A.appendChild(P),n.paper.defs.appendChild(A),m(l,{"clip-path":"url(#"+A.id+")"}),n.clip=P}if(!g){var D=l.getAttribute("clip-path");if(D){var E=e._g.doc.getElementById(D.replace(/(^url\(#|\)$)/g,d));E&&E.parentNode.removeChild(E),m(l,{"clip-path":d}),delete n.clip}}break;case"path":"path"==n.type&&(m(l,{d:g?h.path=e._pathToAbsolute(g):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,g),n._.dirty=1,!h.fx)break;f="x",g=h.x;case"x":h.fx&&(g=-h.x-(h.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;case"cx":l.setAttribute(f,g),n.pattern&&w(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,g),n._.dirty=1,!h.fy)break;f="y",g=h.y;case"y":h.fy&&(g=-h.y-(h.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,g),n.pattern&&w(n),n._.dirty=1;break;case"r":"rect"==n.type?m(l,{rx:g,ry:g}):l.setAttribute(f,g),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":1==n._.sx&&1==n._.sy||(g/=s(o(n._.sx),o(n._.sy))||1),l.setAttribute(f,g),h["stroke-dasharray"]&&x(n,h["stroke-dasharray"],r),n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1));break;case"stroke-dasharray":x(n,g,r);break;case"fill":var M=i(g).match(e._ISURL);if(M){A=m("pattern");var I=m("image");A.id=e.createUUID(),m(A,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(I,{x:0,y:0,"xlink:href":M[1]}),A.appendChild(I),function(t){e._preload(M[1],function(){var e=this.offsetWidth,i=this.offsetHeight;m(t,{width:e,height:i}),m(I,{width:e,height:i})})}(A),n.paper.defs.appendChild(A),m(l,{fill:"url(#"+A.id+")"}),n.pattern=A,n.pattern&&w(n);break}var O=e.getRGB(g);if(O.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=i(g).charAt())&&v(n,g)){if("opacity"in h||"fill-opacity"in h){var L=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,d));if(L){var N=L.getElementsByTagName("stop");m(N[N.length-1],{"stop-opacity":("opacity"in h?h.opacity:1)*("fill-opacity"in h?h["fill-opacity"]:1)})}}h.gradient=g,h.fill="none";break}}else delete r.gradient,delete h.gradient,!e.is(h.opacity,"undefined")&&e.is(r.opacity,"undefined")&&m(l,{opacity:h.opacity}),!e.is(h["fill-opacity"],"undefined")&&e.is(r["fill-opacity"],"undefined")&&m(l,{"fill-opacity":h["fill-opacity"]});O[t]("opacity")&&m(l,{"fill-opacity":O.opacity>1?O.opacity/100:O.opacity});case"stroke":O=e.getRGB(g),l.setAttribute(f,O.hex),"stroke"==f&&O[t]("opacity")&&m(l,{"stroke-opacity":O.opacity>1?O.opacity/100:O.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=i(g).charAt())&&v(n,g);break;case"opacity":h.gradient&&!h[t]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(h.gradient){(L=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,d)))&&(N=L.getElementsByTagName("stop"),m(N[N.length-1],{"stop-opacity":g}));break}default:"font-size"==f&&(g=a(g,10)+"px");var R=f.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});l.style[R]=g,n._.dirty=1,l.setAttribute(f,g)}}S(n,r),l.style.visibility=u},S=function(n,r){if("text"==n.type&&(r[t]("text")||r[t]("font")||r[t]("font-size")||r[t]("x")||r[t]("y"))){var s=n.attrs,o=n.node,l=o.firstChild?a(e._g.doc.defaultView.getComputedStyle(o.firstChild,d).getPropertyValue("font-size"),10):10;if(r[t]("text")){for(s.text=r.text;o.firstChild;)o.removeChild(o.firstChild);for(var c,h=i(r.text).split("\n"),u=[],p=0,f=h.length;p<f;p++)c=m("tspan"),p&&m(c,{dy:1.2*l,x:s.x}),c.appendChild(e._g.doc.createTextNode(h[p])),o.appendChild(c),u[p]=c}else for(p=0,f=(u=o.getElementsByTagName("tspan")).length;p<f;p++)p?m(u[p],{dy:1.2*l,x:s.x}):m(u[0],{dy:0});m(o,{x:s.x,y:s.y}),n._.dirty=1;var g=n._getBBox(),v=s.y-(g.y+g.height/2);v&&e.is(v,"finite")&&m(u[0],{dy:v})}},T=function(e){return e.parentNode&&"a"===e.parentNode.tagName.toLowerCase()?e.parentNode:e},k=function(t,i){this[0]=this.node=t,t.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),t.raphaelid=this.id,this.matrix=e.matrix(),this.realPath=null,this.paper=i,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},A=e.el;k.prototype=A,A.constructor=k,e._engine.path=function(e,t){var i=m("path");t.canvas&&t.canvas.appendChild(i);var n=new k(i,t);return n.type="path",C(n,{fill:"none",stroke:"#000",path:e}),n},A.rotate=function(e,t,a){if(this.removed)return this;if((e=i(e).split(c)).length-1&&(t=n(e[1]),a=n(e[2])),e=n(e[0]),null==a&&(t=a),null==t||null==a){var r=this.getBBox(1);t=r.x+r.width/2,a=r.y+r.height/2}return this.transform(this._.transform.concat([["r",e,t,a]])),this},A.scale=function(e,t,a,r){if(this.removed)return this;if((e=i(e).split(c)).length-1&&(t=n(e[1]),a=n(e[2]),r=n(e[3])),e=n(e[0]),null==t&&(t=e),null==r&&(a=r),null==a||null==r)var s=this.getBBox(1);return a=null==a?s.x+s.width/2:a,r=null==r?s.y+s.height/2:r,this.transform(this._.transform.concat([["s",e,t,a,r]])),this},A.translate=function(e,t){return this.removed?this:((e=i(e).split(c)).length-1&&(t=n(e[1])),e=n(e[0])||0,t=+t||0,this.transform(this._.transform.concat([["t",e,t]])),this)},A.transform=function(i){var n=this._;if(null==i)return n.transform;if(e._extractTransform(this,i),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&w(this),this.node&&m(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var a=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":a})}return this},A.hide=function(){return this.removed||(this.node.style.display="none"),this},A.show=function(){return this.removed||(this.node.style.display=""),this},A.remove=function(){var t=T(this.node);if(!this.removed&&t.parentNode){var i=this.paper;for(var n in i.__set__&&i.__set__.exclude(this),h.unbind("raphael.*.*."+this.id),this.gradient&&i.defs.removeChild(this.gradient),e._tear(this,i),t.parentNode.removeChild(t),this.removeData(),this)this[n]="function"==typeof this[n]?e._removedFactory(n):null;this.removed=!0}},A._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t,i=!1;this.paper.canvas.parentElement?t=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(t=this.paper.canvas.parentNode.style),t&&"none"==t.display&&(i=!0,t.display="");var n={};try{n=this.node.getBBox()}catch(e){n={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{n=n||{},i&&(t.display="none")}return e&&this.hide(),n},A.attr=function(i,n){if(this.removed)return this;if(null==i){var a={};for(var r in this.attrs)this.attrs[t](r)&&(a[r]=this.attrs[r]);return a.gradient&&"none"==a.fill&&(a.fill=a.gradient)&&delete a.gradient,a.transform=this._.transform,a}if(null==n&&e.is(i,"string")){if("fill"==i&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==i)return this._.transform;for(var s=i.split(c),o={},l=0,d=s.length;l<d;l++)(i=s[l])in this.attrs?o[i]=this.attrs[i]:e.is(this.paper.customAttributes[i],"function")?o[i]=this.paper.customAttributes[i].def:o[i]=e._availableAttrs[i];return d-1?o:o[s[0]]}if(null==n&&e.is(i,"array")){for(o={},l=0,d=i.length;l<d;l++)o[i[l]]=this.attr(i[l]);return o}if(null!=n){var u={};u[i]=n}else null!=i&&e.is(i,"object")&&(u=i);for(var p in u)h("raphael.attr."+p+"."+this.id,this,u[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&u[t](p)&&e.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(u[p]));for(var g in this.attrs[p]=u[p],f)f[t](g)&&(u[g]=f[g])}return C(this,u),this},A.toFront=function(){if(this.removed)return this;var t=T(this.node);t.parentNode.appendChild(t);var i=this.paper;return i.top!=this&&e._tofront(this,i),this},A.toBack=function(){if(this.removed)return this;var t=T(this.node),i=t.parentNode;return i.insertBefore(t,i.firstChild),e._toback(this,this.paper),this.paper,this},A.insertAfter=function(t){if(this.removed||!t)return this;var i=T(this.node),n=T(t.node||t[t.length-1].node);return n.nextSibling?n.parentNode.insertBefore(i,n.nextSibling):n.parentNode.appendChild(i),e._insertafter(this,t,this.paper),this},A.insertBefore=function(t){if(this.removed||!t)return this;var i=T(this.node),n=T(t.node||t[0].node);return n.parentNode.insertBefore(i,n),e._insertbefore(this,t,this.paper),this},A.blur=function(t){var i=this;if(0!=+t){var n=m("filter"),a=m("feGaussianBlur");i.attrs.blur=t,n.id=e.createUUID(),m(a,{stdDeviation:+t||1.5}),n.appendChild(a),i.paper.defs.appendChild(n),i._blur=n,m(i.node,{filter:"url(#"+n.id+")"})}else i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter");return i},e._engine.circle=function(e,t,i,n){var a=m("circle");e.canvas&&e.canvas.appendChild(a);var r=new k(a,e);return r.attrs={cx:t,cy:i,r:n,fill:"none",stroke:"#000"},r.type="circle",m(a,r.attrs),r},e._engine.rect=function(e,t,i,n,a,r){var s=m("rect");e.canvas&&e.canvas.appendChild(s);var o=new k(s,e);return o.attrs={x:t,y:i,width:n,height:a,rx:r||0,ry:r||0,fill:"none",stroke:"#000"},o.type="rect",m(s,o.attrs),o},e._engine.ellipse=function(e,t,i,n,a){var r=m("ellipse");e.canvas&&e.canvas.appendChild(r);var s=new k(r,e);return s.attrs={cx:t,cy:i,rx:n,ry:a,fill:"none",stroke:"#000"},s.type="ellipse",m(r,s.attrs),s},e._engine.image=function(e,t,i,n,a,r){var s=m("image");m(s,{x:i,y:n,width:a,height:r,preserveAspectRatio:"none"}),s.setAttributeNS(p,"href",t),e.canvas&&e.canvas.appendChild(s);var o=new k(s,e);return o.attrs={x:i,y:n,width:a,height:r,src:t},o.type="image",o},e._engine.text=function(t,i,n,a){var r=m("text");t.canvas&&t.canvas.appendChild(r);var s=new k(r,t);return s.attrs={x:i,y:n,"text-anchor":"middle",text:a,"font-family":e._availableAttrs["font-family"],"font-size":e._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",C(s,s.attrs),s},e._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},e._engine.create=function(){var t=e._getContainer.apply(0,arguments),i=t&&t.container,n=t.x,a=t.y,r=t.width,s=t.height;if(!i)throw new Error("SVG container not found.");var o,l=m("svg"),c="overflow:hidden;";return n=n||0,a=a||0,m(l,{height:s=s||342,version:1.1,width:r=r||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==i?(l.style.cssText=c+"position:absolute;left:"+n+"px;top:"+a+"px",e._g.doc.body.appendChild(l),o=1):(l.style.cssText=c+"position:relative",i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l)),(i=new e._Paper).width=r,i.height=s,i.canvas=l,i.clear(),i._left=i._top=0,o&&(i.renderfix=function(){}),i.renderfix(),i},e._engine.setViewBox=function(e,t,i,n,a){h("raphael.setViewBox",this,this._viewBox,[e,t,i,n,a]);var r,o,l=this.getSize(),c=s(i/l.width,n/l.height),d=this.top,p=a?"xMidYMid meet":"xMinYMin";for(null==e?(this._vbSize&&(c=1),delete this._vbSize,r="0 0 "+this.width+u+this.height):(this._vbSize=c,r=e+u+t+u+i+u+n),m(this.canvas,{viewBox:r,preserveAspectRatio:p});c&&d;)o="stroke-width"in d.attrs?d.attrs["stroke-width"]:1,d.attr({"stroke-width":o}),d._.dirty=1,d._.dirtyT=1,d=d.prev;return this._viewBox=[e,t,i,n,!!a],this},e.prototype.renderfix=function(){var e,t=this.canvas,i=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(i){e=t.createSVGMatrix()}var n=-e.e%1,a=-e.f%1;(n||a)&&(n&&(this._left=(this._left+n)%1,i.left=this._left+"px"),a&&(this._top=(this._top+a)%1,i.top=this._top+"px"))},e.prototype.clear=function(){e.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(e._g.doc.createTextNode("Created with Rapha\xebl "+e.version)),t.appendChild(this.desc),t.appendChild(this.defs=m("defs"))},e.prototype.remove=function(){for(var t in h("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null};var P=e.st;for(var D in A)A[t](D)&&!P[t](D)&&(P[D]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e].apply(i,t)})}}(D))}}.apply(t,n))||(e.exports=a)},function(e,t,i){var n,a,r,s,o,l,c,h,d,u,p,f,g,m;s="hasOwnProperty",o=/[\.\/]/,l=/\s*,\s*/,c=function(e,t){return e-t},h={n:{}},d=function(){for(var e=0,t=this.length;e<t;e++)if(void 0!==this[e])return this[e]},u=function(){for(var e=this.length;--e;)if(void 0!==this[e])return this[e]},p=Object.prototype.toString,f=String,g=Array.isArray||function(e){return e instanceof Array||"[object Array]"==p.call(e)},(m=function(e,t){var i,n=r,s=Array.prototype.slice.call(arguments,2),o=m.listeners(e),l=0,h=[],p={},f=[],g=a;f.firstDefined=d,f.lastDefined=u,a=e,r=0;for(var v=0,b=o.length;v<b;v++)"zIndex"in o[v]&&(h.push(o[v].zIndex),o[v].zIndex<0&&(p[o[v].zIndex]=o[v]));for(h.sort(c);h[l]<0;)if(i=p[h[l++]],f.push(i.apply(t,s)),r)return r=n,f;for(v=0;v<b;v++)if("zIndex"in(i=o[v]))if(i.zIndex==h[l]){if(f.push(i.apply(t,s)),r)break;do{if((i=p[h[++l]])&&f.push(i.apply(t,s)),r)break}while(i)}else p[i.zIndex]=i;else if(f.push(i.apply(t,s)),r)break;return r=n,a=g,f})._events=h,m.listeners=function(e){var t,i,n,a,r,s,l,c,d=g(e)?e:e.split(o),u=h,p=[u],f=[];for(a=0,r=d.length;a<r;a++){for(c=[],s=0,l=p.length;s<l;s++)for(i=[(u=p[s].n)[d[a]],u["*"]],n=2;n--;)(t=i[n])&&(c.push(t),f=f.concat(t.f||[]));p=c}return f},m.separator=function(e){e?(e="["+(e=f(e).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",o=new RegExp(e)):o=/[\.\/]/},m.on=function(e,t){if("function"!=typeof t)return function(){};for(var i=g(e)?g(e[0])?e:[e]:f(e).split(l),n=0,a=i.length;n<a;n++)!function(e){for(var i,n=g(e)?e:f(e).split(o),a=h,r=0,s=n.length;r<s;r++)a=(a=a.n).hasOwnProperty(n[r])&&a[n[r]]||(a[n[r]]={n:{}});for(a.f=a.f||[],r=0,s=a.f.length;r<s;r++)if(a.f[r]==t){i=!0;break}!i&&a.f.push(t)}(i[n]);return function(e){+e==+e&&(t.zIndex=+e)}},m.f=function(e){var t=[].slice.call(arguments,1);return function(){m.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},m.stop=function(){r=1},m.nt=function(e){var t=g(a)?a.join("."):a;return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},m.nts=function(){return g(a)?a:a.split(o)},m.off=m.unbind=function(e,t){if(e){var i=g(e)?g(e[0])?e:[e]:f(e).split(l);if(i.length>1)for(var n=0,a=i.length;n<a;n++)m.off(i[n],t);else{i=g(e)?e:f(e).split(o);var r,c,d,u,p,v=[h];for(n=0,a=i.length;n<a;n++)for(u=0;u<v.length;u+=d.length-2){if(d=[u,1],r=v[u].n,"*"!=i[n])r[i[n]]&&d.push(r[i[n]]);else for(c in r)r[s](c)&&d.push(r[c]);v.splice.apply(v,d)}for(n=0,a=v.length;n<a;n++)for(r=v[n];r.n;){if(t){if(r.f){for(u=0,p=r.f.length;u<p;u++)if(r.f[u]==t){r.f.splice(u,1);break}!r.f.length&&delete r.f}for(c in r.n)if(r.n[s](c)&&r.n[c].f){var b=r.n[c].f;for(u=0,p=b.length;u<p;u++)if(b[u]==t){b.splice(u,1);break}!b.length&&delete r.n[c].f}}else for(c in delete r.f,r.n)r.n[s](c)&&r.n[c].f&&delete r.n[c].f;r=r.n}}}else m._events=h={n:{}}},m.once=function(e,t){return m.on(e,function i(){return m.off(e,i),t.apply(this,arguments)})},m.version="0.5.0",m.toString=function(){return"You are running Eve 0.5.0"},void 0!==e&&e.exports?e.exports=m:void 0===(n=function(){return m}.apply(t,[]))||(e.exports=n)},function(e,t,i){var n,a;n=[i(0),i(2),i(1)],void 0===(a=function(e){return e}.apply(t,n))||(e.exports=a)}])},function(e,t){},function(e,t,i){(function(e){!function(i,n){var a=function(){var e=null,t={};function i(e){for(var i in e>=334&&e<=360&&(e-=360),t){var n=t[i];if(n.hueRange&&e>=n.hueRange[0]&&e<=n.hueRange[1])return t[i]}return"Color not found"}function n(t){if(null===e)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var i=t[1]||1,n=t[0]||0,a=(e=(9301*e+49297)%233280)/233280;return Math.floor(n+a*(i-n))}function a(e,i,n){var a=n[0][0],r=n[n.length-1][0],s=n[n.length-1][1],o=n[0][1];t[e]={hueRange:i,lowerBounds:n,saturationRange:[a,r],brightnessRange:[s,o]}}function r(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var i=e[1]/100,n=e[2]/100,a=Math.floor(6*t),r=6*t-a,s=n*(1-i),o=n*(1-r*i),l=n*(1-(1-r)*i),c=256,h=256,d=256;switch(a){case 0:c=n,h=l,d=s;break;case 1:c=o,h=n,d=s;break;case 2:c=s,h=n,d=l;break;case 3:c=s,h=o,d=n;break;case 4:c=l,h=s,d=n;break;case 5:c=n,h=s,d=o}var u=[Math.floor(255*c),Math.floor(255*h),Math.floor(255*d)];return u}function s(e){var t=e[0],i=e[1]/100,n=e[2]/100,a=(2-i)*n;return[t,Math.round(i*n/(a<1?a:2-a)*1e4)/100,a/2*100]}return a("monochrome",null,[[0,0],[100,0]]),a("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),a("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),a("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),a("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),a("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),a("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),a("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]),function a(o){if(void 0!==(o=o||{}).seed&&null!==o.seed&&o.seed===parseInt(o.seed,10))e=o.seed;else if("string"===typeof o.seed)e=function(e){for(var t=0,i=0;i!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);i++)t+=e.charCodeAt(i);return t}(o.seed);else{if(void 0!==o.seed&&null!==o.seed)throw new TypeError("The seed value must be an integer or string");e=null}var l,c;if(null!==o.count&&void 0!==o.count){var h=o.count,d=[];for(o.count=null;h>d.length;)e&&o.seed&&(o.seed+=1),d.push(a(o));return o.count=h,d}return function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return s(e);case"hsl":var i=s(e);return"hsl("+i[0]+", "+i[1]+"%, "+i[2]+"%)";case"hsla":var n=s(e),a=t.alpha||Math.random();return"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+a+")";case"rgbArray":return r(e);case"rgb":var o=r(e);return"rgb("+o.join(", ")+")";case"rgba":var l=r(e),a=t.alpha||Math.random();return"rgba("+l.join(", ")+", "+a+")";default:return function(e){var t=r(e);function i(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+i(t[0])+i(t[1])+i(t[2])}(e)}}([l=function(e){var i=n(function(e){if("number"===typeof parseInt(e)){var i=parseInt(e);if(i<360&&i>0)return[i,i]}if("string"===typeof e)if(t[e]){var n=t[e];if(n.hueRange)return n.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var a=function(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,i=parseInt(e.substr(2,2),16)/255,n=parseInt(e.substr(4,2),16)/255,a=Math.max(t,i,n),r=a-Math.min(t,i,n),s=a?r/a:0;switch(a){case t:return[(i-n)/r%6*60||0,s,a];case i:return[60*((n-t)/r+2)||0,s,a];case n:return[60*((t-i)/r+4)||0,s,a]}}(e)[0];return[a,a]}return[0,360]}(e.hue));return i<0&&(i=360+i),i}(o),c=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return n([0,100]);var a=function(e){return i(e).saturationRange}(e),r=a[0],s=a[1];switch(t.luminosity){case"bright":r=55;break;case"dark":r=s-10;break;case"light":s=55}return n([r,s])}(l,o),function(e,t,a){var r=function(e,t){for(var n=i(e).lowerBounds,a=0;a<n.length-1;a++){var r=n[a][0],s=n[a][1],o=n[a+1][0],l=n[a+1][1];if(t>=r&&t<=o){var c=(l-s)/(o-r),h=s-c*r;return c*t+h}}return 0}(e,t),s=100;switch(a.luminosity){case"dark":s=r+20;break;case"light":r=(s+r)/2;break;case"random":r=0,s=100}return n([r,s])}(l,c,o)],o)}}();"object"===typeof e&&e&&e.exports&&(t=e.exports=a),t.randomColor=a}()}).call(this,i(40)(e))},function(e,t,i){"use strict";i.r(t);var n=i(5),a=i(6),r=i(0),s=i.n(r),o=i(28),l=i.n(o),c=i(15),h=i(14),d=i(16),u=i(3),p=i(10),f=i(12),g=i(32),m=i(1),v=i(269),b=i(517),w=i(518),y=i(11);function _(){var e=Object(u.a)([""]);return _=function(){return e},e}function x(){var e=Object(u.a)(["\ntext-align: right;\n"]);return x=function(){return e},e}function C(){var e=Object(u.a)(["\ntext-align: left;\n"]);return C=function(){return e},e}function S(){var e=Object(u.a)(["\ncolor: rgb(138, 150, 159);\nfont-weight: normal;\n"]);return S=function(){return e},e}function T(){var e=Object(u.a)(["\n  line-height: 40px;\n  margin-left: 20px;\n  margin-right: 20px;\n  padding-left: 20px;\n  padding-right: 20px;\n  margin-bottom: 1px;\n"]);return T=function(){return e},e}var k=Object(m.a)(y.b)(T()),A=Object(m.a)(k)(S()),P=Object(m.a)(y.a)(C()),D=Object(m.a)(y.a)(x()),E=m.a.button(_()),M=function(e){function t(){var e,i;Object(n.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(i=Object(c.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={selected:""},i}return Object(d.a)(t,e),Object(a.a)(t,[{key:"selectTarget",value:function(e){e.preventDefault(),this.setState({selected:e.target.value})}},{key:"componentDidMount",value:function(){var e=this.props.candidates;this.state.selected||this.setState({selected:e[0]})}},{key:"render",value:function(){var e=this,t=this.props,i=t.candidates,n=t.name,a=t.source,r=t.doMove,o=t.doCancel;return 0===i.length?s.a.createElement(A,{key:n,columns:2},s.a.createElement(P,null,"Shard cannot be moved, it is on all servers"),s.a.createElement(D,null,s.a.createElement(E,{onClick:function(e){e.preventDefault(),o()}},"Cancel"))):s.a.createElement(A,{key:n,columns:4},s.a.createElement(P,null,"Move Shard: ",n),s.a.createElement(P,null,"From: ",a),s.a.createElement(P,null,"To:",s.a.createElement("select",{onChange:function(t){return e.selectTarget(t)}},i.map(function(e){return s.a.createElement("option",{key:e,value:e},e)}))),s.a.createElement(D,null,s.a.createElement(E,{onClick:function(e){e.preventDefault(),o()}},"Cancel"),s.a.createElement(E,{onClick:function(t){t.preventDefault(),r(e.state.selected)}},"Save")))}}]),t}(r.Component),I=Object(p.b)(function(e,t){var i=e.cluster.shortToServer,n=t.leader,a=t.followers,r=t.name,s=t.source,o=t.doMove,l=t.doCancel;return{candidates:Array.from(i.keys()).filter(function(e){return e.startsWith("DB")}).filter(function(e){return e!==n}).filter(function(e){return-1===a.indexOf(e)}).sort(),name:r,source:s,doMove:o,doCancel:l}})(M),O=i(8);function L(){var e=Object(u.a)(["\ncolor: rgb(138, 150, 159);\nfont-weight: normal;\n"]);return L=function(){return e},e}function N(){var e=Object(u.a)(["\n  line-height: 40px;\n  margin-left: 20px;\n  margin-right: 20px;\n  padding-left: 20px;\n  padding-right: 20px;\n  margin-bottom: 1px;\n"]);return N=function(){return e},e}function R(){var e=Object(u.a)(["\n  color: #2ecc71;\n  width: 12pt;\n"]);return R=function(){return e},e}function $(){var e=Object(u.a)(["\ntext-align: right;\n"]);return $=function(){return e},e}function B(){var e=Object(u.a)(["\ntext-align: left;\n"]);return B=function(){return e},e}function V(){var e=Object(u.a)(["\n  color: ","\n"]);return V=function(){return e},e}function F(){var e=Object(u.a)(["\n  color: #2ecc71;\n"]);return F=function(){return e},e}var H=m.a.span(F()),j=m.a.span(V(),function(e){return e.inSync?"#2ecc71":"#FF0000"}),z=Object(m.a)(y.a)(B()),U=Object(m.a)(y.a)($()),W=Object(m.a)(v.a)(R()),G=Object(m.a)(y.b)(N()),Y=Object(m.a)(G)(L()),q=function(e){function t(){var e,i;Object(n.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(i=Object(c.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={moving:""},i.serverToShortName=function(e){var t=i.props.serverToShort.get(e);return t||e},i.shortNameToServer=function(e){var t=i.props.shortToServer.get(e);return t||e},i}return Object(d.a)(t,e),Object(a.a)(t,[{key:"setMoving",value:function(e){this.setState({moving:e})}},{key:"cancelMove",value:function(){this.setState({moving:""})}},{key:"doMove",value:function(e){var t=this.state.moving;this.props.moveShard(this.shortNameToServer(t),this.shortNameToServer(e)),this.setState({moving:""})}},{key:"render",value:function(){var e=this,t=this.props,i=t.name,n=t.leader,a=t.followers,r=(t.sync,t.CurrentFollowers),o=this.state.moving;return o?s.a.createElement(I,{name:i,leader:n,followers:a,source:o,doMove:this.doMove.bind(this),doCancel:this.cancelMove.bind(this)}):s.a.createElement(Y,{key:i,columns:4},s.a.createElement(z,null,i),s.a.createElement(z,null,s.a.createElement(H,{onClick:function(t){t.preventDefault(),e.setMoving(n)},key:n},n)),s.a.createElement(z,null,a.map(function(e,t){return s.a.createElement(j,{key:e,inSync:r.indexOf(e)>-1},t>0?", ":"",e)})),s.a.createElement(U,null,s.a.createElement(W,null)))}}]),t}(r.Component),Q=Object(p.b)(function(e,t){var i=e.cluster,n=i.shardDistribution,a=i.serverToShort,r=i.shortToServer,s=n[t.collection].Current[t.name].followers;return Object(f.a)({},t,{CurrentFollowers:s,serverToShort:a,shortToServer:r})},function(e,t){var i=t.name,n=t.collection;return{moveShard:function(t,a){e(Object(O.f)({collection:n,shard:i,fromServer:t,toServer:a}))}}})(q);function J(){var e=Object(u.a)(["\n  width: 12pt;\n  padding: 0px 5px;\n"]);return J=function(){return e},e}function Z(){var e=Object(u.a)(["\n  width: 12pt;\n  padding: 0px 5px;\n"]);return Z=function(){return e},e}function X(){var e=Object(u.a)(["\n  color: #2ecc71;\n  width: 12pt;\n  padding: 0px 5px;\n"]);return X=function(){return e},e}function K(){var e=Object(u.a)(["\ntext-align: right;\n"]);return K=function(){return e},e}function ee(){var e=Object(u.a)(["\ntext-align: left;\n"]);return ee=function(){return e},e}function te(){var e=Object(u.a)(["\n  color: rgb(255, 255, 255);\n  background-color: rgb(51, 51, 51);\n  cursor: pointer;\n"]);return te=function(){return e},e}function ie(){var e=Object(u.a)(["\nborder-bottom-color: rgba(140, 138, 137, 0.247059);\nborder-bottom-width: 1px;\nborder-bottom-style: solid;\nfont-weight: 600;\ncolor: rgb(113, 125, 144);\n"]);return ie=function(){return e},e}function ne(){var e=Object(u.a)(["\n  line-height: 40px;\n  margin-left: 20px;\n  margin-right: 20px;\n  padding-left: 20px;\n  padding-right: 20px;\n  margin-bottom: 1px;\n"]);return ne=function(){return e},e}function ae(){var e=Object(u.a)(["\n  font-family: sans-serif;\n  font-size: 16px;\n"]);return ae=function(){return e},e}var re=m.a.div(ae()),se=Object(m.a)(y.b)(ne()),oe=Object(m.a)(se)(ie()),le=Object(m.a)(se)(te()),ce=Object(m.a)(y.a)(ee()),he=Object(m.a)(y.a)(K()),de=Object(m.a)(v.a)(X()),ue=Object(m.a)(b.a)(Z()),pe=Object(m.a)(w.a)(J()),fe=function(e,t){var i=e.name,n=t.name;return i<n?-1:i>n?1:0},ge=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selected,i=e.name,n=e.shards,a=e.select,r=e.deselect;return t?s.a.createElement(re,null,s.a.createElement(le,{onClick:function(e){e.preventDefault(),r()},columns:2},s.a.createElement(ce,null,i),s.a.createElement(he,null,s.a.createElement(de,null),s.a.createElement(pe,null))),s.a.createElement(oe,{columns:4},s.a.createElement(ce,null,"Shard"),s.a.createElement(ce,null,"Leader"),s.a.createElement(ce,null,"Followers"),s.a.createElement(he,null,"Sync")),n.sort(fe).map(function(e){return s.a.createElement(Q,Object.assign({key:e.name,collection:i},e))})):s.a.createElement(re,null,s.a.createElement(le,{onClick:function(e){e.preventDefault(),a()},columns:2},s.a.createElement(ce,null,i),s.a.createElement(he,null,s.a.createElement(de,null),s.a.createElement(ue,null))))}}]),t}(r.Component),me=Object(p.b)(function(e,t){var i=function(e){for(var t=e.Plan,i=[],n=0,a=Object.entries(t);n<a.length;n++){var r=a[n],s=Object(g.a)(r,2),o=s[0],l=s[1];i.push(Object(f.a)({name:o,sync:!0},l)),console.log("fix me propertly")}return i}(e.cluster.shardDistribution[t.name]);return Object(f.a)({},t,{shards:i})},function(e,t){var i=t.name;return{select:function(){e(Object(O.c)(i))},deselect:function(){e(Object(O.h)())}}})(ge),ve=i(38);function be(){var e=Object(u.a)(["\n  float: right;\n  background-color: green;\n  color: white;\n"]);return be=function(){return e},e}var we=m.a.button(be()),ye=function(){function e(t){Object(n.a)(this,e),this.call=t}return Object(a.a)(e,[{key:"execute",value:function(){return this.call()}}]),e}(),_e=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(a.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.fetchShardOverview;ve.a.registerTask("updateShardList",new ye(e))}},{key:"componentWillUnmount",value:function(){ve.a.stopTask("updateShardList")}},{key:"render",value:function(){var e=this,t=this.props,i=t.shards,n=t.selected;return s.a.createElement("div",null,i.map(function(e){return s.a.createElement(me,{key:e,name:e,selected:n===e})}),s.a.createElement(we,{onClick:function(t){t.preventDefault(),e.props.rebalanceShards()}},"RebalanceShards"))}}]),t}(r.Component),xe=Object(p.b)(function(e){var t=e.cluster,i=t.shardDistribution,n=t.selected;return{shards:Object.keys(i).sort(),selected:n}},function(e){return{rebalanceShards:function(){e(Object(O.g)())},fetchShardOverview:function(){e(Object(O.e)())}}})(_e),Ce=(i(36),i(39)),Se=function(){function e(){Object(n.a)(this,e)}return Object(a.a)(e,[{key:"render",value:function(){l.a.render(s.a.createElement(p.a,{store:Ce.a},s.a.createElement(xe,null)),document.getElementById("content"))}}]),e}();window.ShardsReactView=new Se},function(e,t,i){"use strict";i.r(t);var n=i(5),a=i(6),r=(i(201),i(0)),s=i.n(r),o=i(28),l=i.n(o),c=i(10),h=i(15),d=i(14),u=i(16),p=i(210),f=i(81);i(268);i(514);var g=i(36),m=(i(318),i(91)),v=i(319),b=i(320),w=i(321),y=i(322),_=i(346),x=i(347);function C(e){e.keys().forEach(e),m.each(e.keys(),function(e){if(".html"===e.substring(e.length-5,e.length)){var t=e.substring(2,e.length),n=e.substring(2,e.length-5);window.JST["templates/"+n]=m.template(i(94)("./"+t))}})}i(348),i(350),i(352),i(354),i(356),i(358),i(360),i(362),i(364),i(366),i(368),i(370),i(372),i(374),i(376),i(378),window.JST={},C(i(94)),_.registerLanguage("json",x),window.hljs=_,window.Noty=b,window.ReactDOM=l.a,window.Joi=i(462),window.jQuery=window.$=g,i(463),window._=m,i(464),i(465);window.frontendConfig,i(466),i(467),i(468),i(469),i(472),i(473),i(474),i(475),C(i(476)),C(i(477)),C(i(478)),window.tippy=i(479),i(480),window.numeral=i(481),window.JSONEditor=p,window.define=window.ace.define,window.aqltemplates=i(483),window.d3=f,i(484),i(485),window.prettyBytes=i(486),window.Dygraph=i(487),i(488),window.moment=i(489),window.sigma=v,window.marked=w,window.CryptoJS=y,i(490),i(491),i(492),i(493),i(494),i(495),i(496),i(497),i(498),i(499),i(500),i(501),i(502),i(503),i(504),i(505),i(506),i(507),i(508),i(509),i(510),window.Raphael=i(511),window.icon=i(512),window.randomColor=i(513);var S=function(e){function t(){return Object(n.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"})}}]),t}(r.Component),T=i(39),k=i(8),A=i(38);l.a.render(s.a.createElement(c.a,{store:T.a},s.a.createElement(S,null)),document.getElementById("root"));var P=function(){function e(){Object(n.a)(this,e)}return Object(a.a)(e,[{key:"execute",value:function(){T.a.dispatch(Object(k.a)())}}]),e}();window.frontendConfig.isCluster&&A.a.registerTask("healthCheck",new P)}],[[200,2,1]]]);
//# sourceMappingURL=main.f3b997e8.chunk.js.map